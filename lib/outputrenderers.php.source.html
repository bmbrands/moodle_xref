<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/outputrenderers.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='outputrenderers.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/</a> -> <a href="outputrenderers.php.html">outputrenderers.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="outputrenderers.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="outputrenderers.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Classes for rendering HTML output for Moodle.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * Please see {@link http://docs.moodle.org/en/Developement:How_Moodle_outputs_HTML}</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * for an overview.</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> *</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * Included in this file are the primary renderer classes:</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> *     - renderer_base:         The renderer outline class that all renderers</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> *                              should inherit from.</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> *     - core_renderer:         The standard HTML renderer.</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> *     - core_renderer_cli:     An adaption of the standard renderer for CLI scripts.</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> *     - core_renderer_ajax:    An adaption of the standard renderer for AJAX scripts.</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> *     - plugin_renderer_base:  A renderer class that should be extended by all</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> *                              plugin renderers.</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> *</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @package core</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @category output</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @copyright  2009 Tim Hunt</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> */</span>
<a name="l37"><span class="linenum">  37</span></a>  
<a name="l38"><span class="linenum">  38</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">/**</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * Simple base class for Moodle renderers.</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> *</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> * Tracks the xhtml_container_stack to use, which is passed in in the constructor.</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> *</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * Also has methods to facilitate generating HTML output.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> *</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * @copyright 2009 Tim Hunt</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment"> * @since Moodle 2.0</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment"> * @package core</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment"> * @category output</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment"> */</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('renderer_base')" href="../_classes/renderer_base.html" onMouseOver="classPopup(event,'renderer_base')">renderer_base</a> {
<a name="l54"><span class="linenum">  54</span></a>      <span class="comment">/**</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     * @var xhtml_container_stack The xhtml_container_stack to use.</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">     */</span>
<a name="l57"><span class="linenum">  57</span></a>      protected <a class="var it1192" onMouseOver="hilite(1192)" onMouseOut="lolite()" onClick="logVariable('opencontainers')" href="../_variables/opencontainers.html">$opencontainers</a>;
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>      <span class="comment">/**</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     * @var moodle_page The Moodle page the renderer has been created to assist with.</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     */</span>
<a name="l62"><span class="linenum">  62</span></a>      protected <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>;
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>      <span class="comment">/**</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * @var string The requested rendering target.</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     */</span>
<a name="l67"><span class="linenum">  67</span></a>      protected <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>;
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>      <span class="comment">/**</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     * @var Mustache_Engine $mustache The mustache template compiler</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">     */</span>
<a name="l72"><span class="linenum">  72</span></a>      private <a class="var it10577" onMouseOver="hilite(10577)" onMouseOut="lolite()" onClick="logVariable('mustache')" href="../_variables/mustache.html">$mustache</a>;
<a name="l73"><span class="linenum">  73</span></a>  
<a name="l74"><span class="linenum">  74</span></a>      <span class="comment">/**</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">     * Return an instance of the mustache class.</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">     *</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">     * @since 2.9</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">     * @return Mustache_Engine</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">     */</span>
<a name="l80"><span class="linenum">  80</span></a>      protected function <a class="function" onClick="logFunction('get_mustache')" href="../_functions/get_mustache.html" onMouseOver="funcPopup(event,'get_mustache')">get_mustache</a>() {
<a name="l81"><span class="linenum">  81</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mustache')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/mustache.html">mustache</a> === null) {
<a name="l84"><span class="linenum">  84</span></a>              require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../lib/mustache/src/Mustache/Autoloader.php.html">/lib/mustache/src/Mustache/Autoloader.php</a>');
<a name="l85"><span class="linenum">  85</span></a>              <a class="class" onClick="logClass('Mustache_Autoloader')" href="../_classes/mustache_autoloader.html" onMouseOver="classPopup(event,'mustache_autoloader')">Mustache_Autoloader</a>::<a class="function" onClick="logFunction('register')" href="../_functions/register.html" onMouseOver="funcPopup(event,'register')">register</a>();
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>              <a class="var it1112" onMouseOver="hilite(1112)" onMouseOut="lolite()" onClick="logVariable('themename')" href="../_variables/themename.html">$themename</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;name;
<a name="l88"><span class="linenum">  88</span></a>              <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('themerev')" href="../_variables/themerev.html">$themerev</a> = <a class="function" onClick="logFunction('theme_get_revision')" href="../_functions/theme_get_revision.html" onMouseOver="funcPopup(event,'theme_get_revision')">theme_get_revision</a>();
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>              <a class="var it2678" onMouseOver="hilite(2678)" onMouseOut="lolite()" onClick="logVariable('cachedir')" href="../_variables/cachedir.html">$cachedir</a> = <a class="function" onClick="logFunction('make_localcache_directory')" href="../_functions/make_localcache_directory.html" onMouseOver="funcPopup(event,'make_localcache_directory')">make_localcache_directory</a>(&quot;mustache/<a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('themerev')" href="../_variables/themerev.html">$themerev</a>/<a class="var it1112" onMouseOver="hilite(1112)" onMouseOut="lolite()" onClick="logVariable('themename')" href="../_variables/themename.html">$themename</a>&quot;);
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>              <a class="var it4798" onMouseOver="hilite(4798)" onMouseOut="lolite()" onClick="logVariable('loader')" href="../_variables/loader.html">$loader</a> = new \core\output\mustache_filesystem_loader();
<a name="l93"><span class="linenum">  93</span></a>              <a class="var it32244" onMouseOver="hilite(32244)" onMouseOut="lolite()" onClick="logVariable('stringhelper')" href="../_variables/stringhelper.html">$stringhelper</a> = new \core\output\mustache_string_helper();
<a name="l94"><span class="linenum">  94</span></a>              <a class="var it32245" onMouseOver="hilite(32245)" onMouseOut="lolite()" onClick="logVariable('jshelper')" href="../_variables/jshelper.html">$jshelper</a> = new \core\output\mustache_javascript_helper(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires);
<a name="l95"><span class="linenum">  95</span></a>              <a class="var it32246" onMouseOver="hilite(32246)" onMouseOut="lolite()" onClick="logVariable('pixhelper')" href="../_variables/pixhelper.html">$pixhelper</a> = new \core\output\mustache_pix_helper(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>);
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">            // We only expose the variables that are exposed to JS templates.</span>
<a name="l98"><span class="linenum">  98</span></a>              <a class="var it32247" onMouseOver="hilite(32247)" onMouseOut="lolite()" onClick="logVariable('safeconfig')" href="../_variables/safeconfig.html">$safeconfig</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('get_config_for_javascript')" href="../_functions/get_config_for_javascript.html" onMouseOver="funcPopup(event,'get_config_for_javascript')">get_config_for_javascript</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>);
<a name="l99"><span class="linenum">  99</span></a>  
<a name="l100"><span class="linenum"> 100</span></a>              <a class="var it14800" onMouseOver="hilite(14800)" onMouseOut="lolite()" onClick="logVariable('helpers')" href="../_variables/helpers.html">$helpers</a> = array('config' =&gt; <a class="var it32247" onMouseOver="hilite(32247)" onMouseOut="lolite()" onClick="logVariable('safeconfig')" href="../_variables/safeconfig.html">$safeconfig</a>,
<a name="l101"><span class="linenum"> 101</span></a>                               'str' =&gt; array(<a class="var it32244" onMouseOver="hilite(32244)" onMouseOut="lolite()" onClick="logVariable('stringhelper')" href="../_variables/stringhelper.html">$stringhelper</a>, 'str'),
<a name="l102"><span class="linenum"> 102</span></a>                               'js' =&gt; array(<a class="var it32245" onMouseOver="hilite(32245)" onMouseOut="lolite()" onClick="logVariable('jshelper')" href="../_variables/jshelper.html">$jshelper</a>, 'help'),
<a name="l103"><span class="linenum"> 103</span></a>                               'pix' =&gt; array(<a class="var it32246" onMouseOver="hilite(32246)" onMouseOut="lolite()" onClick="logVariable('pixhelper')" href="../_variables/pixhelper.html">$pixhelper</a>, 'pix'));
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mustache')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/mustache.html">mustache</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Mustache_Engine')" href="../_classes/mustache_engine.html" onMouseOver="classPopup(event,'mustache_engine')">Mustache_Engine</a>(array(
<a name="l106"><span class="linenum"> 106</span></a>                  'cache' =&gt; <a class="var it2678" onMouseOver="hilite(2678)" onMouseOut="lolite()" onClick="logVariable('cachedir')" href="../_variables/cachedir.html">$cachedir</a>,
<a name="l107"><span class="linenum"> 107</span></a>                  'escape' =&gt; 's',
<a name="l108"><span class="linenum"> 108</span></a>                  'loader' =&gt; <a class="var it4798" onMouseOver="hilite(4798)" onMouseOut="lolite()" onClick="logVariable('loader')" href="../_variables/loader.html">$loader</a>,
<a name="l109"><span class="linenum"> 109</span></a>                  'helpers' =&gt; <a class="var it14800" onMouseOver="hilite(14800)" onMouseOut="lolite()" onClick="logVariable('helpers')" href="../_variables/helpers.html">$helpers</a>));
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>          }
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mustache')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/mustache.html">mustache</a>;
<a name="l114"><span class="linenum"> 114</span></a>      }
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>      <span class="comment">/**</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">     * Constructor</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">     *</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     * The constructor takes two arguments. The first is the page that the renderer</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     * has been created to assist with, and the second is the target.</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * The target is an additional identifier that can be used to load different</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * renderers for different options.</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     *</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     * @param moodle_page $page the page we are doing output for.</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">     * @param string $target one of rendering target constants</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">     */</span>
<a name="l128"><span class="linenum"> 128</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(moodle_page <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>) {
<a name="l129"><span class="linenum"> 129</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a> = <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39576" onMouseOver="hilite(39576)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>;
<a name="l130"><span class="linenum"> 130</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a> = <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>;
<a name="l131"><span class="linenum"> 131</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('target')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/target.html">target</a> = <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>;
<a name="l132"><span class="linenum"> 132</span></a>      }
<a name="l133"><span class="linenum"> 133</span></a>  
<a name="l134"><span class="linenum"> 134</span></a>      <span class="comment">/**</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     * Renders a template by name with the given context.</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     *</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * The provided data needs to be array/stdClass made up of only simple types.</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     * Simple types are array,stdClass,bool,int,float,string</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     *</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     * @since 2.9</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">     * @param array|stdClass $context Context containing data for the template.</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">     * @return string|boolean</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">     */</span>
<a name="l144"><span class="linenum"> 144</span></a>      public function <a class="function" onClick="logFunction('render_from_template')" href="../_functions/render_from_template.html" onMouseOver="funcPopup(event,'render_from_template')">render_from_template</a>(<a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l145"><span class="linenum"> 145</span></a>          static <a class="var it32248" onMouseOver="hilite(32248)" onMouseOut="lolite()" onClick="logVariable('templatecache')" href="../_variables/templatecache.html">$templatecache</a> = array();
<a name="l146"><span class="linenum"> 146</span></a>          <a class="var it10577" onMouseOver="hilite(10577)" onMouseOut="lolite()" onClick="logVariable('mustache')" href="../_variables/mustache.html">$mustache</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_mustache')" href="../_functions/get_mustache.html" onMouseOver="funcPopup(event,'get_mustache')">get_mustache</a>();
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">        // Provide 1 random value that will not change within a template</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">        // but will be different from template to template. This is useful for</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">        // e.g. aria attributes that only work with id attributes and must be</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">        // unique in a page.</span>
<a name="l152"><span class="linenum"> 152</span></a>          <a class="var it10577" onMouseOver="hilite(10577)" onMouseOut="lolite()" onClick="logVariable('mustache')" href="../_variables/mustache.html">$mustache</a>-&gt;<a class="function" onClick="logFunction('addHelper')" href="../_functions/addhelper.html" onMouseOver="funcPopup(event,'addhelper')">addHelper</a>('uniqid', new \core\output\mustache_uniqid_helper());
<a name="l153"><span class="linenum"> 153</span></a>          if (isset(<a class="var it32248" onMouseOver="hilite(32248)" onMouseOut="lolite()" onClick="logVariable('templatecache')" href="../_variables/templatecache.html">$templatecache</a>[<a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a>])) {
<a name="l154"><span class="linenum"> 154</span></a>              <a class="var it1055" onMouseOver="hilite(1055)" onMouseOut="lolite()" onClick="logVariable('template')" href="../_variables/template.html">$template</a> = <a class="var it32248" onMouseOver="hilite(32248)" onMouseOut="lolite()" onClick="logVariable('templatecache')" href="../_variables/templatecache.html">$templatecache</a>[<a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a>];
<a name="l155"><span class="linenum"> 155</span></a>          } else {
<a name="l156"><span class="linenum"> 156</span></a>              try {
<a name="l157"><span class="linenum"> 157</span></a>                  <a class="var it1055" onMouseOver="hilite(1055)" onMouseOut="lolite()" onClick="logVariable('template')" href="../_variables/template.html">$template</a> = <a class="var it10577" onMouseOver="hilite(10577)" onMouseOut="lolite()" onClick="logVariable('mustache')" href="../_variables/mustache.html">$mustache</a>-&gt;<a class="function" onClick="logFunction('loadTemplate')" href="../_functions/loadtemplate.html" onMouseOver="funcPopup(event,'loadtemplate')">loadTemplate</a>(<a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a>);
<a name="l158"><span class="linenum"> 158</span></a>                  <a class="var it32248" onMouseOver="hilite(32248)" onMouseOut="lolite()" onClick="logVariable('templatecache')" href="../_variables/templatecache.html">$templatecache</a>[<a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a>] = <a class="var it1055" onMouseOver="hilite(1055)" onMouseOut="lolite()" onClick="logVariable('template')" href="../_variables/template.html">$template</a>;
<a name="l159"><span class="linenum"> 159</span></a>              } catch (Mustache_Exception_UnknownTemplateException <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>) {
<a name="l160"><span class="linenum"> 160</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('Unknown template: ' . <a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a>);
<a name="l161"><span class="linenum"> 161</span></a>              }
<a name="l162"><span class="linenum"> 162</span></a>          }
<a name="l163"><span class="linenum"> 163</span></a>          return <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it1055" onMouseOver="hilite(1055)" onMouseOut="lolite()" onClick="logVariable('template')" href="../_variables/template.html">$template</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>));
<a name="l164"><span class="linenum"> 164</span></a>      }
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>  
<a name="l167"><span class="linenum"> 167</span></a>      <span class="comment">/**</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * Returns rendered widget.</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     *</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * The provided widget needs to be an object that extends the renderable</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * interface.</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     * If will then be rendered by a method based upon the classname for the widget.</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     * For instance a widget of class `crazywidget` will be rendered by a protected</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     * render_crazywidget method of this renderer.</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     *</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     * @param renderable $widget instance with renderable interface</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">     * @return string</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     */</span>
<a name="l179"><span class="linenum"> 179</span></a>      public function <a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(renderable <a class="var it11209" onMouseOver="hilite(11209)" onMouseOut="lolite()" onClick="logVariable('widget')" href="../_variables/widget.html">$widget</a>) {
<a name="l180"><span class="linenum"> 180</span></a>          <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a> = <a class="phpfunction" onClick="logFunction('get_class')" href="../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it11209" onMouseOver="hilite(11209)" onMouseOut="lolite()" onClick="logVariable('widget')" href="../_variables/widget.html">$widget</a>);
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">        // Strip namespaces.</span>
<a name="l182"><span class="linenum"> 182</span></a>          <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/^.*\\\/', '', <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a>);
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">        // Remove _renderable suffixes</span>
<a name="l184"><span class="linenum"> 184</span></a>          <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/_renderable$/', '', <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a>);
<a name="l185"><span class="linenum"> 185</span></a>  
<a name="l186"><span class="linenum"> 186</span></a>          <a class="var it32249" onMouseOver="hilite(32249)" onMouseOut="lolite()" onClick="logVariable('rendermethod')" href="../_variables/rendermethod.html">$rendermethod</a> = 'render_'.<a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a>;
<a name="l187"><span class="linenum"> 187</span></a>          if (<a class="phpfunction" onClick="logFunction('method_exists')" href="../_functions/method_exists.html" onMouseOver="phpfuncPopup(event,'method_exists')">method_exists</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>, <a class="var it32249" onMouseOver="hilite(32249)" onMouseOut="lolite()" onClick="logVariable('rendermethod')" href="../_variables/rendermethod.html">$rendermethod</a>)) {
<a name="l188"><span class="linenum"> 188</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="var it32249" onMouseOver="hilite(32249)" onMouseOut="lolite()" onClick="logVariable('rendermethod')" href="../_variables/rendermethod.html">$rendermethod</a>(<a class="var it11209" onMouseOver="hilite(11209)" onMouseOut="lolite()" onClick="logVariable('widget')" href="../_variables/widget.html">$widget</a>);
<a name="l189"><span class="linenum"> 189</span></a>          }
<a name="l190"><span class="linenum"> 190</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Can not render widget, renderer <a class="function" onClick="logFunction('method')" href="../_functions/method.html" onMouseOver="funcPopup(event,'method')">method</a> ('.<a class="var it32249" onMouseOver="hilite(32249)" onMouseOut="lolite()" onClick="logVariable('rendermethod')" href="../_variables/rendermethod.html">$rendermethod</a>.') not found.');
<a name="l191"><span class="linenum"> 191</span></a>      }
<a name="l192"><span class="linenum"> 192</span></a>  
<a name="l193"><span class="linenum"> 193</span></a>      <span class="comment">/**</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">     * Adds a JS action for the element with the provided id.</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     *</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * This method adds a JS event for the provided component action to the page</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * and then returns the id that the event has been attached to.</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     * If no id has been provided then a new ID is generated by {@link html_writer::random_id()}</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     *</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">     * @param component_action $action</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">     * @param string $id</span>
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">     * @return string id of element, either original submitted or random new if not supplied</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">     */</span>
<a name="l204"><span class="linenum"> 204</span></a>      public function <a class="function" onClick="logFunction('add_action_handler')" href="../_functions/add_action_handler.html" onMouseOver="funcPopup(event,'add_action_handler')">add_action_handler</a>(component_action <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = null) {
<a name="l205"><span class="linenum"> 205</span></a>          if (!<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>) {
<a name="l206"><span class="linenum"> 206</span></a>              <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('random_id')" href="../_functions/random_id.html" onMouseOver="funcPopup(event,'random_id')">random_id</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('event')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/event.html">event</a>);
<a name="l207"><span class="linenum"> 207</span></a>          }
<a name="l208"><span class="linenum"> 208</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('event_handler')" href="../_functions/event_handler.html" onMouseOver="funcPopup(event,'event_handler')">event_handler</a>(&quot;#<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>&quot;, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('event')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/event.html">event</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('jsfunction')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/jsfunction.html">jsfunction</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('jsfunctionargs')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/jsfunctionargs.html">jsfunctionargs</a>);
<a name="l209"><span class="linenum"> 209</span></a>          return <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>;
<a name="l210"><span class="linenum"> 210</span></a>      }
<a name="l211"><span class="linenum"> 211</span></a>  
<a name="l212"><span class="linenum"> 212</span></a>      <span class="comment">/**</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">     * Returns true is output has already started, and false if not.</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">     *</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">     * @return boolean true if the header has been printed.</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment">     */</span>
<a name="l217"><span class="linenum"> 217</span></a>      public function <a class="function" onClick="logFunction('has_started')" href="../_functions/has_started.html" onMouseOver="funcPopup(event,'has_started')">has_started</a>() {
<a name="l218"><span class="linenum"> 218</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;state &gt;= <a class="class" onClick="logClass('moodle_page')" href="../_classes/moodle_page.html" onMouseOver="classPopup(event,'moodle_page')">moodle_page</a>::STATE_IN_BODY;
<a name="l219"><span class="linenum"> 219</span></a>      }
<a name="l220"><span class="linenum"> 220</span></a>  
<a name="l221"><span class="linenum"> 221</span></a>      <span class="comment">/**</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     * Given an array or space-separated list of classes, prepares and returns the HTML class attribute value</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     *</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     * @param mixed $classes Space-separated string or array of classes</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * @return string HTML class attribute value</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     */</span>
<a name="l227"><span class="linenum"> 227</span></a>      public static function <a class="function" onClick="logFunction('prepare_classes')" href="../_functions/prepare_classes.html" onMouseOver="funcPopup(event,'prepare_classes')">prepare_classes</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>) {
<a name="l228"><span class="linenum"> 228</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>)) {
<a name="l229"><span class="linenum"> 229</span></a>              return <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(' ', <a class="phpfunction" onClick="logFunction('array_unique')" href="../_functions/array_unique.html" onMouseOver="phpfuncPopup(event,'array_unique')">array_unique</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>));
<a name="l230"><span class="linenum"> 230</span></a>          }
<a name="l231"><span class="linenum"> 231</span></a>          return <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>;
<a name="l232"><span class="linenum"> 232</span></a>      }
<a name="l233"><span class="linenum"> 233</span></a>  
<a name="l234"><span class="linenum"> 234</span></a>      <span class="comment">/**</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     * Return the moodle_url for an image.</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">     *</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">     * The exact image location and extension is determined</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     * automatically by searching for gif|png|jpg|jpeg, please</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * note there can not be diferent images with the different</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * extension. The imagename is for historical reasons</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * a relative path name, it may be changed later for core</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     * images. It is recommended to not use subdirectories</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     * in plugin and theme pix directories.</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     *</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     * There are three types of images:</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     * 1/ theme images  - stored in theme/mytheme/pix/,</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     *                    use component 'theme'</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * 2/ core images   - stored in /pix/,</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     *                    overridden via theme/mytheme/pix_core/</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * 3/ plugin images - stored in mod/mymodule/pix,</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     *                    overridden via theme/mytheme/pix_plugins/mod/mymodule/,</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     *                    example: pix_url('comment', 'mod_glossary')</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     *</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">     * @param string $imagename the pathname of the image</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">     * @param string $component full plugin name (aka component) or 'theme'</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">     * @return moodle_url</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     */</span>
<a name="l258"><span class="linenum"> 258</span></a>      public function <a class="function" onClick="logFunction('pix_url')" href="../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>(<a class="var it1167" onMouseOver="hilite(1167)" onMouseOut="lolite()" onClick="logVariable('imagename')" href="../_variables/imagename.html">$imagename</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a> = 'moodle') {
<a name="l259"><span class="linenum"> 259</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;<a class="function" onClick="logFunction('pix_url')" href="../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>(<a class="var it1167" onMouseOver="hilite(1167)" onMouseOut="lolite()" onClick="logVariable('imagename')" href="../_variables/imagename.html">$imagename</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>);
<a name="l260"><span class="linenum"> 260</span></a>      }
<a name="l261"><span class="linenum"> 261</span></a>  }
<a name="l262"><span class="linenum"> 262</span></a>  
<a name="l263"><span class="linenum"> 263</span></a>  
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">/**</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment"> * Basis for all plugin renderers.</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment"> *</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment"> * @copyright Petr Skoda (skodak)</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment"> * @since Moodle 2.0</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment"> * @package core</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment"> * @category output</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment"> */</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('plugin_renderer_base')" href="../_classes/plugin_renderer_base.html" onMouseOver="classPopup(event,'plugin_renderer_base')">plugin_renderer_base</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('renderer_base')" href="../_classes/renderer_base.html" onMouseOver="classPopup(event,'renderer_base')">renderer_base</a> {
<a name="l274"><span class="linenum"> 274</span></a>  
<a name="l275"><span class="linenum"> 275</span></a>      <span class="comment">/**</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     * @var renderer_base|core_renderer A reference to the current renderer.</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     * The renderer provided here will be determined by the page but will in 90%</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     * of cases by the {@link core_renderer}</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">     */</span>
<a name="l280"><span class="linenum"> 280</span></a>      protected <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>      <span class="comment">/**</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">     * Constructor method, calls the parent constructor</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     *</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">     * @param moodle_page $page</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     * @param string $target one of rendering target constants</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     */</span>
<a name="l288"><span class="linenum"> 288</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(moodle_page <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>) {
<a name="l289"><span class="linenum"> 289</span></a>          if (empty(<a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>) &amp;&amp; <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('pagelayout')" class="var it39576" onMouseOver="hilite(39576)" onMouseOut="lolite()" href="../_variables/pagelayout.html">pagelayout</a> === 'maintenance') {
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">            // If the page is using the maintenance layout then we're going to force the target to maintenance.</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">            // This way we'll get a special maintenance renderer that is designed to block access to API's that are likely</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">            // unavailable for this page layout.</span>
<a name="l293"><span class="linenum"> 293</span></a>              <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a> = <a class="constant" onClick="logConstant('RENDERER_TARGET_MAINTENANCE')" href="../_constants/RENDERER_TARGET_MAINTENANCE.html" onMouseOver="constPopup(event,'RENDERER_TARGET_MAINTENANCE')">RENDERER_TARGET_MAINTENANCE</a>;
<a name="l294"><span class="linenum"> 294</span></a>          }
<a name="l295"><span class="linenum"> 295</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('output')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/output.html">output</a> = <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', null, <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>);
<a name="l296"><span class="linenum"> 296</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>);
<a name="l297"><span class="linenum"> 297</span></a>      }
<a name="l298"><span class="linenum"> 298</span></a>  
<a name="l299"><span class="linenum"> 299</span></a>      <span class="comment">/**</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">     * Renders the provided widget and returns the HTML to display it.</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     *</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     * @param renderable $widget instance with renderable interface</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">     * @return string</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">     */</span>
<a name="l305"><span class="linenum"> 305</span></a>      public function <a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(renderable <a class="var it11209" onMouseOver="hilite(11209)" onMouseOut="lolite()" onClick="logVariable('widget')" href="../_variables/widget.html">$widget</a>) {
<a name="l306"><span class="linenum"> 306</span></a>          <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a> = <a class="phpfunction" onClick="logFunction('get_class')" href="../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it11209" onMouseOver="hilite(11209)" onMouseOut="lolite()" onClick="logVariable('widget')" href="../_variables/widget.html">$widget</a>);
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">        // Strip namespaces.</span>
<a name="l308"><span class="linenum"> 308</span></a>          <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/^.*\\\/', '', <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a>);
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">        // Keep a copy at this point, we may need to look for a deprecated method.</span>
<a name="l310"><span class="linenum"> 310</span></a>          <a class="var it32250" onMouseOver="hilite(32250)" onMouseOut="lolite()" onClick="logVariable('deprecatedmethod')" href="../_variables/deprecatedmethod.html">$deprecatedmethod</a> = 'render_'.<a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a>;
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">        // Remove _renderable suffixes</span>
<a name="l312"><span class="linenum"> 312</span></a>          <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/_renderable$/', '', <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a>);
<a name="l313"><span class="linenum"> 313</span></a>  
<a name="l314"><span class="linenum"> 314</span></a>          <a class="var it32249" onMouseOver="hilite(32249)" onMouseOut="lolite()" onClick="logVariable('rendermethod')" href="../_variables/rendermethod.html">$rendermethod</a> = 'render_'.<a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a>;
<a name="l315"><span class="linenum"> 315</span></a>          if (<a class="phpfunction" onClick="logFunction('method_exists')" href="../_functions/method_exists.html" onMouseOver="phpfuncPopup(event,'method_exists')">method_exists</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>, <a class="var it32249" onMouseOver="hilite(32249)" onMouseOut="lolite()" onClick="logVariable('rendermethod')" href="../_variables/rendermethod.html">$rendermethod</a>)) {
<a name="l316"><span class="linenum"> 316</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="var it32249" onMouseOver="hilite(32249)" onMouseOut="lolite()" onClick="logVariable('rendermethod')" href="../_variables/rendermethod.html">$rendermethod</a>(<a class="var it11209" onMouseOver="hilite(11209)" onMouseOut="lolite()" onClick="logVariable('widget')" href="../_variables/widget.html">$widget</a>);
<a name="l317"><span class="linenum"> 317</span></a>          }
<a name="l318"><span class="linenum"> 318</span></a>          if (<a class="var it32249" onMouseOver="hilite(32249)" onMouseOut="lolite()" onClick="logVariable('rendermethod')" href="../_variables/rendermethod.html">$rendermethod</a> !== <a class="var it32250" onMouseOver="hilite(32250)" onMouseOut="lolite()" onClick="logVariable('deprecatedmethod')" href="../_variables/deprecatedmethod.html">$deprecatedmethod</a> &amp;&amp; <a class="phpfunction" onClick="logFunction('method_exists')" href="../_functions/method_exists.html" onMouseOver="phpfuncPopup(event,'method_exists')">method_exists</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>, <a class="var it32250" onMouseOver="hilite(32250)" onMouseOut="lolite()" onClick="logVariable('deprecatedmethod')" href="../_variables/deprecatedmethod.html">$deprecatedmethod</a>)) {
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">            // This is exactly where we don't want to be.</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">            // If you have arrived here you have a renderable component within your plugin that has the name</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment">            // blah_renderable, and you have a render method render_blah_renderable on your plugin.</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">            // In 2.8 we revamped output, as part of this change we changed slightly how renderables got rendered</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">            // and the _renderable suffix now gets removed when looking for a render method.</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">            // You need to change your renderers render_blah_renderable to render_blah.</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">            // Until you do this it will not be possible for a theme to override the renderer to override your method.</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment">            // Please do it ASAP.</span>
<a name="l327"><span class="linenum"> 327</span></a>              static <a class="var it32251" onMouseOver="hilite(32251)" onMouseOut="lolite()" onClick="logVariable('debugged')" href="../_variables/debugged.html">$debugged</a> = array();
<a name="l328"><span class="linenum"> 328</span></a>              if (!isset(<a class="var it32251" onMouseOver="hilite(32251)" onMouseOut="lolite()" onClick="logVariable('debugged')" href="../_variables/debugged.html">$debugged</a>[<a class="var it32250" onMouseOver="hilite(32250)" onMouseOut="lolite()" onClick="logVariable('deprecatedmethod')" href="../_variables/deprecatedmethod.html">$deprecatedmethod</a>])) {
<a name="l329"><span class="linenum"> 329</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(sprintf('Deprecated call. Please rename your renderables render method from %s to %s.',
<a name="l330"><span class="linenum"> 330</span></a>                      <a class="var it32250" onMouseOver="hilite(32250)" onMouseOut="lolite()" onClick="logVariable('deprecatedmethod')" href="../_variables/deprecatedmethod.html">$deprecatedmethod</a>, <a class="var it32249" onMouseOver="hilite(32249)" onMouseOut="lolite()" onClick="logVariable('rendermethod')" href="../_variables/rendermethod.html">$rendermethod</a>), <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l331"><span class="linenum"> 331</span></a>                  <a class="var it32251" onMouseOver="hilite(32251)" onMouseOut="lolite()" onClick="logVariable('debugged')" href="../_variables/debugged.html">$debugged</a>[<a class="var it32250" onMouseOver="hilite(32250)" onMouseOut="lolite()" onClick="logVariable('deprecatedmethod')" href="../_variables/deprecatedmethod.html">$deprecatedmethod</a>] = true;
<a name="l332"><span class="linenum"> 332</span></a>              }
<a name="l333"><span class="linenum"> 333</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="var it32250" onMouseOver="hilite(32250)" onMouseOut="lolite()" onClick="logVariable('deprecatedmethod')" href="../_variables/deprecatedmethod.html">$deprecatedmethod</a>(<a class="var it11209" onMouseOver="hilite(11209)" onMouseOut="lolite()" onClick="logVariable('widget')" href="../_variables/widget.html">$widget</a>);
<a name="l334"><span class="linenum"> 334</span></a>          }
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">        // pass to core renderer if method not found here</span>
<a name="l336"><span class="linenum"> 336</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('output')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/output.html">output</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it11209" onMouseOver="hilite(11209)" onMouseOut="lolite()" onClick="logVariable('widget')" href="../_variables/widget.html">$widget</a>);
<a name="l337"><span class="linenum"> 337</span></a>      }
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>      <span class="comment">/**</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">     * Magic method used to pass calls otherwise meant for the standard renderer</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">     * to it to ensure we don't go causing unnecessary grief.</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     *</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">     * @param string $method</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">     * @param array $arguments</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment">     * @return mixed</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment">     */</span>
<a name="l347"><span class="linenum"> 347</span></a>      public function <a class="function" onClick="logFunction('__call')" href="../_functions/__call.html" onMouseOver="funcPopup(event,'__call')">__call</a>(<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>, <a class="var it2696" onMouseOver="hilite(2696)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../_variables/arguments.html">$arguments</a>) {
<a name="l348"><span class="linenum"> 348</span></a>          if (<a class="phpfunction" onClick="logFunction('method_exists')" href="../_functions/method_exists.html" onMouseOver="phpfuncPopup(event,'method_exists')">method_exists</a>('renderer_base', <a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>)) {
<a name="l349"><span class="linenum"> 349</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Protected method called against '.<a class="phpfunction" onClick="logFunction('get_class')" href="../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>).' :: '.<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>);
<a name="l350"><span class="linenum"> 350</span></a>          }
<a name="l351"><span class="linenum"> 351</span></a>          if (<a class="phpfunction" onClick="logFunction('method_exists')" href="../_functions/method_exists.html" onMouseOver="phpfuncPopup(event,'method_exists')">method_exists</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('output')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/output.html">output</a>, <a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>)) {
<a name="l352"><span class="linenum"> 352</span></a>              return <a class="phpfunction" onClick="logFunction('call_user_func_array')" href="../_functions/call_user_func_array.html" onMouseOver="phpfuncPopup(event,'call_user_func_array')">call_user_func_array</a>(array(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('output')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/output.html">output</a>, <a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>), <a class="var it2696" onMouseOver="hilite(2696)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../_variables/arguments.html">$arguments</a>);
<a name="l353"><span class="linenum"> 353</span></a>          } else {
<a name="l354"><span class="linenum"> 354</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Unknown method called against '.<a class="phpfunction" onClick="logFunction('get_class')" href="../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>).' :: '.<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>);
<a name="l355"><span class="linenum"> 355</span></a>          }
<a name="l356"><span class="linenum"> 356</span></a>      }
<a name="l357"><span class="linenum"> 357</span></a>  }
<a name="l358"><span class="linenum"> 358</span></a>  
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>  <span class="comment">/**</span>
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment"> * The standard implementation of the core_renderer interface.</span>
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment"> *</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment"> * @copyright 2009 Tim Hunt</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment"> * @since Moodle 2.0</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment"> * @package core</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment"> * @category output</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment"> */</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_renderer')" href="../_classes/core_renderer.html" onMouseOver="classPopup(event,'core_renderer')">core_renderer</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('renderer_base')" href="../_classes/renderer_base.html" onMouseOver="classPopup(event,'renderer_base')">renderer_base</a> {
<a name="l370"><span class="linenum"> 370</span></a>      <span class="comment">/**</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">     * Do NOT use, please use &lt;?php echo $OUTPUT-&gt;main_content() ?&gt;</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">     * in layout files instead.</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">     * @deprecated</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">     * @var string used in {@link core_renderer::header()}.</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">     */</span>
<a name="l376"><span class="linenum"> 376</span></a>      const MAIN_CONTENT_TOKEN = '[MAIN CONTENT GOES HERE]';
<a name="l377"><span class="linenum"> 377</span></a>  
<a name="l378"><span class="linenum"> 378</span></a>      <span class="comment">/**</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">     * @var string Used to pass information from {@link core_renderer::doctype()} to</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">     * {@link core_renderer::standard_head_html()}.</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">     */</span>
<a name="l382"><span class="linenum"> 382</span></a>      protected <a class="var it3201" onMouseOver="hilite(3201)" onMouseOut="lolite()" onClick="logVariable('contenttype')" href="../_variables/contenttype.html">$contenttype</a>;
<a name="l383"><span class="linenum"> 383</span></a>  
<a name="l384"><span class="linenum"> 384</span></a>      <span class="comment">/**</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">     * @var string Used by {@link core_renderer::redirect_message()} method to communicate</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     * with {@link core_renderer::header()}.</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     */</span>
<a name="l388"><span class="linenum"> 388</span></a>      protected <a class="var it32252" onMouseOver="hilite(32252)" onMouseOut="lolite()" onClick="logVariable('metarefreshtag')" href="../_variables/metarefreshtag.html">$metarefreshtag</a> = '';
<a name="l389"><span class="linenum"> 389</span></a>  
<a name="l390"><span class="linenum"> 390</span></a>      <span class="comment">/**</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">     * @var string Unique token for the closing HTML</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">     */</span>
<a name="l393"><span class="linenum"> 393</span></a>      protected <a class="var it32253" onMouseOver="hilite(32253)" onMouseOut="lolite()" onClick="logVariable('unique_end_html_token')" href="../_variables/unique_end_html_token.html">$unique_end_html_token</a>;
<a name="l394"><span class="linenum"> 394</span></a>  
<a name="l395"><span class="linenum"> 395</span></a>      <span class="comment">/**</span>
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">     * @var string Unique token for performance information</span>
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment">     */</span>
<a name="l398"><span class="linenum"> 398</span></a>      protected <a class="var it32254" onMouseOver="hilite(32254)" onMouseOut="lolite()" onClick="logVariable('unique_performance_info_token')" href="../_variables/unique_performance_info_token.html">$unique_performance_info_token</a>;
<a name="l399"><span class="linenum"> 399</span></a>  
<a name="l400"><span class="linenum"> 400</span></a>      <span class="comment">/**</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * @var string Unique token for the main content.</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     */</span>
<a name="l403"><span class="linenum"> 403</span></a>      protected <a class="var it32255" onMouseOver="hilite(32255)" onMouseOut="lolite()" onClick="logVariable('unique_main_content_token')" href="../_variables/unique_main_content_token.html">$unique_main_content_token</a>;
<a name="l404"><span class="linenum"> 404</span></a>  
<a name="l405"><span class="linenum"> 405</span></a>      <span class="comment">/**</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">     * Constructor</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">     *</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">     * @param moodle_page $page the page we are doing output for.</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">     * @param string $target one of rendering target constants</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">     */</span>
<a name="l411"><span class="linenum"> 411</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(moodle_page <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>) {
<a name="l412"><span class="linenum"> 412</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a> = <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39576" onMouseOver="hilite(39576)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>;
<a name="l413"><span class="linenum"> 413</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a> = <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>;
<a name="l414"><span class="linenum"> 414</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('target')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/target.html">target</a> = <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>;
<a name="l415"><span class="linenum"> 415</span></a>  
<a name="l416"><span class="linenum"> 416</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_end_html_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_end_html_token.html">unique_end_html_token</a> = '%%ENDHTML-'.<a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>().'%%';
<a name="l417"><span class="linenum"> 417</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_performance_info_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_performance_info_token.html">unique_performance_info_token</a> = '%%PERFORMANCEINFO-'.<a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>().'%%';
<a name="l418"><span class="linenum"> 418</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_main_content_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_main_content_token.html">unique_main_content_token</a> = '[MAIN CONTENT GOES HERE - '.<a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>().']';
<a name="l419"><span class="linenum"> 419</span></a>      }
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>      <span class="comment">/**</span>
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">     * Get the DOCTYPE declaration that should be used with this page. Designed to</span>
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">     * be called in theme layout.php files.</span>
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment">     *</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">     * @return string the DOCTYPE declaration that should be used.</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment">     */</span>
<a name="l427"><span class="linenum"> 427</span></a>      public function <a class="function" onClick="logFunction('doctype')" href="../_functions/doctype.html" onMouseOver="funcPopup(event,'doctype')">doctype</a>() {
<a name="l428"><span class="linenum"> 428</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;doctype === 'html5') {
<a name="l429"><span class="linenum"> 429</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('contenttype')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/contenttype.html">contenttype</a> = 'text/html; charset=utf-8';
<a name="l430"><span class="linenum"> 430</span></a>              return &quot;&lt;!DOCTYPE html&gt;\n&quot;;
<a name="l431"><span class="linenum"> 431</span></a>  
<a name="l432"><span class="linenum"> 432</span></a>          } else if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;doctype === 'xhtml5') {
<a name="l433"><span class="linenum"> 433</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('contenttype')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/contenttype.html">contenttype</a> = 'application/xhtml+xml; charset=utf-8';
<a name="l434"><span class="linenum"> 434</span></a>              return &quot;&lt;!DOCTYPE html&gt;\n&quot;;
<a name="l435"><span class="linenum"> 435</span></a>  
<a name="l436"><span class="linenum"> 436</span></a>          } else {
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment">            // legacy xhtml 1.0</span>
<a name="l438"><span class="linenum"> 438</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('contenttype')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/contenttype.html">contenttype</a> = 'text/html; charset=utf-8';
<a name="l439"><span class="linenum"> 439</span></a>              return ('&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;' . &quot;\n&quot;);
<a name="l440"><span class="linenum"> 440</span></a>          }
<a name="l441"><span class="linenum"> 441</span></a>      }
<a name="l442"><span class="linenum"> 442</span></a>  
<a name="l443"><span class="linenum"> 443</span></a>      <span class="comment">/**</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">     * The attributes that should be added to the &lt;html&gt; tag. Designed to</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">     * be called in theme layout.php files.</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">     *</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">     */</span>
<a name="l449"><span class="linenum"> 449</span></a>      public function <a class="function" onClick="logFunction('htmlattributes')" href="../_functions/htmlattributes.html" onMouseOver="funcPopup(event,'htmlattributes')">htmlattributes</a>() {
<a name="l450"><span class="linenum"> 450</span></a>          <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = <a class="function" onClick="logFunction('get_html_lang')" href="../_functions/get_html_lang.html" onMouseOver="funcPopup(event,'get_html_lang')">get_html_lang</a>(true);
<a name="l451"><span class="linenum"> 451</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;doctype !== 'html5') {
<a name="l452"><span class="linenum"> 452</span></a>              <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> .= ' xmlns=&quot;http://www.w3.org/1999/xhtml&quot;';
<a name="l453"><span class="linenum"> 453</span></a>          }
<a name="l454"><span class="linenum"> 454</span></a>          return <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>;
<a name="l455"><span class="linenum"> 455</span></a>      }
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>      <span class="comment">/**</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">     * The standard tags (meta tags, links to stylesheets and JavaScript, etc.)</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">     * that should be included in the &lt;head&gt; tag. Designed to be called in theme</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">     * layout.php files.</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">     *</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">     */</span>
<a name="l464"><span class="linenum"> 464</span></a>      public function <a class="function" onClick="logFunction('standard_head_html')" href="../_functions/standard_head_html.html" onMouseOver="funcPopup(event,'standard_head_html')">standard_head_html</a>() {
<a name="l465"><span class="linenum"> 465</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>;
<a name="l466"><span class="linenum"> 466</span></a>  
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">        // Before we output any content, we need to ensure that certain</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">        // page components are set up.</span>
<a name="l469"><span class="linenum"> 469</span></a>  
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">        // Blocks must be set up early as they may require javascript which</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment">        // has to be included in the page header before output is created.</span>
<a name="l472"><span class="linenum"> 472</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;blocks-&gt;<a class="function" onClick="logFunction('get_regions')" href="../_functions/get_regions.html" onMouseOver="funcPopup(event,'get_regions')">get_regions</a>() as <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>) {
<a name="l473"><span class="linenum"> 473</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;blocks-&gt;<a class="function" onClick="logFunction('ensure_content_created')" href="../_functions/ensure_content_created.html" onMouseOver="funcPopup(event,'ensure_content_created')">ensure_content_created</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>);
<a name="l474"><span class="linenum"> 474</span></a>          }
<a name="l475"><span class="linenum"> 475</span></a>  
<a name="l476"><span class="linenum"> 476</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l477"><span class="linenum"> 477</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;' . &quot;\n&quot;;
<a name="l478"><span class="linenum"> 478</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;meta name=&quot;keywords&quot; content=&quot;moodle, ' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;title . '&quot; /&gt;' . &quot;\n&quot;;
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">        // This is only set by the {@link redirect()} method</span>
<a name="l480"><span class="linenum"> 480</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('metarefreshtag')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/metarefreshtag.html">metarefreshtag</a>;
<a name="l481"><span class="linenum"> 481</span></a>  
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">        // Check if a periodic refresh delay has been set and make sure we arn't</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">        // already meta refreshing</span>
<a name="l484"><span class="linenum"> 484</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('metarefreshtag')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/metarefreshtag.html">metarefreshtag</a>=='' &amp;&amp; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;periodicrefreshdelay!==null) {
<a name="l485"><span class="linenum"> 485</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;meta http-equiv=&quot;refresh&quot; content=&quot;'.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;periodicrefreshdelay.';url='.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;url-&gt;<a class="function" onClick="logFunction('out')" href="../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>().'&quot; /&gt;';
<a name="l486"><span class="linenum"> 486</span></a>          }
<a name="l487"><span class="linenum"> 487</span></a>  
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">        // flow player embedding support</span>
<a name="l489"><span class="linenum"> 489</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js_function_call')" href="../_functions/js_function_call.html" onMouseOver="funcPopup(event,'js_function_call')">js_function_call</a>('M.util.load_flowplayer');
<a name="l490"><span class="linenum"> 490</span></a>  
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment">        // Set up help link popups for all links with the helptooltip class</span>
<a name="l492"><span class="linenum"> 492</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js_init_call')" href="../_functions/js_init_call.html" onMouseOver="funcPopup(event,'js_init_call')">js_init_call</a>('M.util.help_popups.setup');
<a name="l493"><span class="linenum"> 493</span></a>  
<a name="l494"><span class="linenum"> 494</span></a>  <span class="comment">        // Setup help icon overlays.</span>
<a name="l495"><span class="linenum"> 495</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-core-popuphelp', 'M.core.init_popuphelp');
<a name="l496"><span class="linenum"> 496</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('strings_for_js')" href="../_functions/strings_for_js.html" onMouseOver="funcPopup(event,'strings_for_js')">strings_for_js</a>(array(
<a name="l497"><span class="linenum"> 497</span></a>              'morehelp',
<a name="l498"><span class="linenum"> 498</span></a>              'loadinghelp',
<a name="l499"><span class="linenum"> 499</span></a>          ), 'moodle');
<a name="l500"><span class="linenum"> 500</span></a>  
<a name="l501"><span class="linenum"> 501</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js_function_call')" href="../_functions/js_function_call.html" onMouseOver="funcPopup(event,'js_function_call')">js_function_call</a>('setTimeout', array('<a class="function" onClick="logFunction('fix_column_widths')" href="../_functions/fix_column_widths.html" onMouseOver="funcPopup(event,'fix_column_widths')">fix_column_widths</a>()', 20));
<a name="l502"><span class="linenum"> 502</span></a>  
<a name="l503"><span class="linenum"> 503</span></a>          <a class="var it4822" onMouseOver="hilite(4822)" onMouseOut="lolite()" onClick="logVariable('focus')" href="../_variables/focus.html">$focus</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;focuscontrol;
<a name="l504"><span class="linenum"> 504</span></a>          if (!empty(<a class="var it4822" onMouseOver="hilite(4822)" onMouseOut="lolite()" onClick="logVariable('focus')" href="../_variables/focus.html">$focus</a>)) {
<a name="l505"><span class="linenum"> 505</span></a>              if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(&quot;#forms\['([a-zA-Z0-9]+)'\].elements\['([a-zA-Z0-9]+)'\]#&quot;, <a class="var it4822" onMouseOver="hilite(4822)" onMouseOut="lolite()" onClick="logVariable('focus')" href="../_variables/focus.html">$focus</a>, <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>)) {
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">                // This is a horrifically bad way to handle focus but it is passed in</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment">                // through messy formslib::moodleform</span>
<a name="l508"><span class="linenum"> 508</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js_function_call')" href="../_functions/js_function_call.html" onMouseOver="funcPopup(event,'js_function_call')">js_function_call</a>('old_onload_focus', array(<a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[1], <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[2]));
<a name="l509"><span class="linenum"> 509</span></a>              } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it4822" onMouseOver="hilite(4822)" onMouseOut="lolite()" onClick="logVariable('focus')" href="../_variables/focus.html">$focus</a>, '.')!==false) {
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment">                // Old style of focus, bad way to do it</span>
<a name="l511"><span class="linenum"> 511</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('This code is using the old style focus event, Please update this code to focus on an element id or the moodleform focus method.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l512"><span class="linenum"> 512</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js_function_call')" href="../_functions/js_function_call.html" onMouseOver="funcPopup(event,'js_function_call')">js_function_call</a>('old_onload_focus', <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it4822" onMouseOver="hilite(4822)" onMouseOut="lolite()" onClick="logVariable('focus')" href="../_variables/focus.html">$focus</a>, 2));
<a name="l513"><span class="linenum"> 513</span></a>              } else {
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">                // Focus element with given id</span>
<a name="l515"><span class="linenum"> 515</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js_function_call')" href="../_functions/js_function_call.html" onMouseOver="funcPopup(event,'js_function_call')">js_function_call</a>('focuscontrol', array(<a class="var it4822" onMouseOver="hilite(4822)" onMouseOut="lolite()" onClick="logVariable('focus')" href="../_variables/focus.html">$focus</a>));
<a name="l516"><span class="linenum"> 516</span></a>              }
<a name="l517"><span class="linenum"> 517</span></a>          }
<a name="l518"><span class="linenum"> 518</span></a>  
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">        // Get the theme stylesheet - this has to be always first CSS, this loads also styles.css from all plugins;</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">        // any other custom CSS can not be overridden via themes and is highly discouraged</span>
<a name="l521"><span class="linenum"> 521</span></a>          <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('urls')" href="../_variables/urls.html">$urls</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;<a class="function" onClick="logFunction('css_urls')" href="../_functions/css_urls.html" onMouseOver="funcPopup(event,'css_urls')">css_urls</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>);
<a name="l522"><span class="linenum"> 522</span></a>          foreach (<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('urls')" href="../_variables/urls.html">$urls</a> as <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>) {
<a name="l523"><span class="linenum"> 523</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('css_theme')" href="../_functions/css_theme.html" onMouseOver="funcPopup(event,'css_theme')">css_theme</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l524"><span class="linenum"> 524</span></a>          }
<a name="l525"><span class="linenum"> 525</span></a>  
<a name="l526"><span class="linenum"> 526</span></a>  <span class="comment">        // Get the theme javascript head and footer</span>
<a name="l527"><span class="linenum"> 527</span></a>          if (<a class="var it23484" onMouseOver="hilite(23484)" onMouseOut="lolite()" onClick="logVariable('jsurl')" href="../_variables/jsurl.html">$jsurl</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;<a class="function" onClick="logFunction('javascript_url')" href="../_functions/javascript_url.html" onMouseOver="funcPopup(event,'javascript_url')">javascript_url</a>(true)) {
<a name="l528"><span class="linenum"> 528</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js')" href="../_functions/js.html" onMouseOver="funcPopup(event,'js')">js</a>(<a class="var it23484" onMouseOver="hilite(23484)" onMouseOut="lolite()" onClick="logVariable('jsurl')" href="../_variables/jsurl.html">$jsurl</a>, true);
<a name="l529"><span class="linenum"> 529</span></a>          }
<a name="l530"><span class="linenum"> 530</span></a>          if (<a class="var it23484" onMouseOver="hilite(23484)" onMouseOut="lolite()" onClick="logVariable('jsurl')" href="../_variables/jsurl.html">$jsurl</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;<a class="function" onClick="logFunction('javascript_url')" href="../_functions/javascript_url.html" onMouseOver="funcPopup(event,'javascript_url')">javascript_url</a>(false)) {
<a name="l531"><span class="linenum"> 531</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js')" href="../_functions/js.html" onMouseOver="funcPopup(event,'js')">js</a>(<a class="var it23484" onMouseOver="hilite(23484)" onMouseOut="lolite()" onClick="logVariable('jsurl')" href="../_variables/jsurl.html">$jsurl</a>);
<a name="l532"><span class="linenum"> 532</span></a>          }
<a name="l533"><span class="linenum"> 533</span></a>  
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">        // Get any HTML from the page_requirements_manager.</span>
<a name="l535"><span class="linenum"> 535</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('get_head_code')" href="../_functions/get_head_code.html" onMouseOver="funcPopup(event,'get_head_code')">get_head_code</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>);
<a name="l536"><span class="linenum"> 536</span></a>  
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">        // List alternate versions.</span>
<a name="l538"><span class="linenum"> 538</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;alternateversions as <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> =&gt; <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a>) {
<a name="l539"><span class="linenum"> 539</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('link', array('rel' =&gt; 'alternate',
<a name="l540"><span class="linenum"> 540</span></a>                      'type' =&gt; <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>, 'title' =&gt; <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a>-&gt;<a onClick="logVariable('title')" class="var it41104" onMouseOver="hilite(41104)" onMouseOut="lolite()" href="../_variables/title.html">title</a>, 'href' =&gt; <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a>-&gt;<a onClick="logVariable('url')" class="var it41104" onMouseOver="hilite(41104)" onMouseOut="lolite()" href="../_variables/url.html">url</a>));
<a name="l541"><span class="linenum"> 541</span></a>          }
<a name="l542"><span class="linenum"> 542</span></a>  
<a name="l543"><span class="linenum"> 543</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('additionalhtmlhead')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/additionalhtmlhead.html">additionalhtmlhead</a>)) {
<a name="l544"><span class="linenum"> 544</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= &quot;\n&quot;.<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('additionalhtmlhead')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/additionalhtmlhead.html">additionalhtmlhead</a>;
<a name="l545"><span class="linenum"> 545</span></a>          }
<a name="l546"><span class="linenum"> 546</span></a>  
<a name="l547"><span class="linenum"> 547</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l548"><span class="linenum"> 548</span></a>      }
<a name="l549"><span class="linenum"> 549</span></a>  
<a name="l550"><span class="linenum"> 550</span></a>      <span class="comment">/**</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">     * The standard tags (typically skip links) that should be output just inside</span>
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">     * the start of the &lt;body&gt; tag. Designed to be called in theme layout.php files.</span>
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">     *</span>
<a name="l554"><span class="linenum"> 554</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">     */</span>
<a name="l556"><span class="linenum"> 556</span></a>      public function <a class="function" onClick="logFunction('standard_top_of_body_html')" href="../_functions/standard_top_of_body_html.html" onMouseOver="funcPopup(event,'standard_top_of_body_html')">standard_top_of_body_html</a>() {
<a name="l557"><span class="linenum"> 557</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l558"><span class="linenum"> 558</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('get_top_of_body_code')" href="../_functions/get_top_of_body_code.html" onMouseOver="funcPopup(event,'get_top_of_body_code')">get_top_of_body_code</a>();
<a name="l559"><span class="linenum"> 559</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('additionalhtmltopofbody')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/additionalhtmltopofbody.html">additionalhtmltopofbody</a>)) {
<a name="l560"><span class="linenum"> 560</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= &quot;\n&quot;.<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('additionalhtmltopofbody')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/additionalhtmltopofbody.html">additionalhtmltopofbody</a>;
<a name="l561"><span class="linenum"> 561</span></a>          }
<a name="l562"><span class="linenum"> 562</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('maintenance_warning')" href="../_functions/maintenance_warning.html" onMouseOver="funcPopup(event,'maintenance_warning')">maintenance_warning</a>();
<a name="l563"><span class="linenum"> 563</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l564"><span class="linenum"> 564</span></a>      }
<a name="l565"><span class="linenum"> 565</span></a>  
<a name="l566"><span class="linenum"> 566</span></a>      <span class="comment">/**</span>
<a name="l567"><span class="linenum"> 567</span></a>  <span class="comment">     * Scheduled maintenance warning message.</span>
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">     *</span>
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">     * Note: This is a nasty hack to display maintenance notice, this should be moved</span>
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">     *       to some general notification area once we have it.</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">     *</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">     * @return string</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment">     */</span>
<a name="l574"><span class="linenum"> 574</span></a>      public function <a class="function" onClick="logFunction('maintenance_warning')" href="../_functions/maintenance_warning.html" onMouseOver="funcPopup(event,'maintenance_warning')">maintenance_warning</a>() {
<a name="l575"><span class="linenum"> 575</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l576"><span class="linenum"> 576</span></a>  
<a name="l577"><span class="linenum"> 577</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l578"><span class="linenum"> 578</span></a>          if (isset(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('maintenance_later')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/maintenance_later.html">maintenance_later</a>) and <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('maintenance_later')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/maintenance_later.html">maintenance_later</a> &gt; <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>()) {
<a name="l579"><span class="linenum"> 579</span></a>              <a class="var it5433" onMouseOver="hilite(5433)" onMouseOut="lolite()" onClick="logVariable('timeleft')" href="../_variables/timeleft.html">$timeleft</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('maintenance_later')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/maintenance_later.html">maintenance_later</a> - <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">            // If timeleft less than 30 sec, set the class on block to error to highlight.</span>
<a name="l581"><span class="linenum"> 581</span></a>              <a class="var it32257" onMouseOver="hilite(32257)" onMouseOut="lolite()" onClick="logVariable('errorclass')" href="../_variables/errorclass.html">$errorclass</a> = (<a class="var it5433" onMouseOver="hilite(5433)" onMouseOut="lolite()" onClick="logVariable('timeleft')" href="../_variables/timeleft.html">$timeleft</a> &lt; 30) ? 'error' : 'warning';
<a name="l582"><span class="linenum"> 582</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>(<a class="var it32257" onMouseOver="hilite(32257)" onMouseOut="lolite()" onClick="logVariable('errorclass')" href="../_variables/errorclass.html">$errorclass</a> . ' moodle-has-zindex maintenancewarning');
<a name="l583"><span class="linenum"> 583</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l584"><span class="linenum"> 584</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('min')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../_variables/min.html">min</a> = (int)(<a class="var it5433" onMouseOver="hilite(5433)" onMouseOut="lolite()" onClick="logVariable('timeleft')" href="../_variables/timeleft.html">$timeleft</a>/60);
<a name="l585"><span class="linenum"> 585</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('sec')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../_variables/sec.html">sec</a> = (int)(<a class="var it5433" onMouseOver="hilite(5433)" onMouseOut="lolite()" onClick="logVariable('timeleft')" href="../_variables/timeleft.html">$timeleft</a> % 60);
<a name="l586"><span class="linenum"> 586</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('maintenancemodeisscheduled', 'admin', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>) ;
<a name="l587"><span class="linenum"> 587</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l588"><span class="linenum"> 588</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-core-maintenancemodetimer', 'M.core.maintenancemodetimer',
<a name="l589"><span class="linenum"> 589</span></a>                      array(array('timeleftinsec' =&gt; <a class="var it5433" onMouseOver="hilite(5433)" onMouseOut="lolite()" onClick="logVariable('timeleft')" href="../_variables/timeleft.html">$timeleft</a>)));
<a name="l590"><span class="linenum"> 590</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('strings_for_js')" href="../_functions/strings_for_js.html" onMouseOver="funcPopup(event,'strings_for_js')">strings_for_js</a>(
<a name="l591"><span class="linenum"> 591</span></a>                      array('maintenancemodeisscheduled', 'sitemaintenance'),
<a name="l592"><span class="linenum"> 592</span></a>                      'admin');
<a name="l593"><span class="linenum"> 593</span></a>          }
<a name="l594"><span class="linenum"> 594</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l595"><span class="linenum"> 595</span></a>      }
<a name="l596"><span class="linenum"> 596</span></a>  
<a name="l597"><span class="linenum"> 597</span></a>      <span class="comment">/**</span>
<a name="l598"><span class="linenum"> 598</span></a>  <span class="comment">     * The standard tags (typically performance information and validation links,</span>
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment">     * if we are in developer debug mode) that should be output in the footer area</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">     * of the page. Designed to be called in theme layout.php files.</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">     *</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment">     */</span>
<a name="l604"><span class="linenum"> 604</span></a>      public function <a class="function" onClick="logFunction('standard_footer_html')" href="../_functions/standard_footer_html.html" onMouseOver="funcPopup(event,'standard_footer_html')">standard_footer_html</a>() {
<a name="l605"><span class="linenum"> 605</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it13253" onMouseOver="hilite(13253)" onMouseOut="lolite()" onClick="logVariable('SCRIPT')" href="../_variables/SCRIPT.html">$SCRIPT</a>;
<a name="l606"><span class="linenum"> 606</span></a>  
<a name="l607"><span class="linenum"> 607</span></a>          if (<a class="function" onClick="logFunction('during_initial_install')" href="../_functions/during_initial_install.html" onMouseOver="funcPopup(event,'during_initial_install')">during_initial_install</a>()) {
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment">            // Debugging info can not work before install is finished,</span>
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment">            // in any case we do not want any links during installation!</span>
<a name="l610"><span class="linenum"> 610</span></a>              return '';
<a name="l611"><span class="linenum"> 611</span></a>          }
<a name="l612"><span class="linenum"> 612</span></a>  
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">        // This function is normally called from a layout.php file in {@link core_renderer::header()}</span>
<a name="l614"><span class="linenum"> 614</span></a>  <span class="comment">        // but some of the content won't be known until later, so we return a placeholder</span>
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">        // for now. This will be replaced with the real content in {@link core_renderer::footer()}.</span>
<a name="l616"><span class="linenum"> 616</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_performance_info_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_performance_info_token.html">unique_performance_info_token</a>;
<a name="l617"><span class="linenum"> 617</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;devicetypeinuse == 'legacy') {
<a name="l618"><span class="linenum"> 618</span></a>  <span class="comment">            // The legacy theme is in use print the notification</span>
<a name="l619"><span class="linenum"> 619</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('legacythemeinuse'), array('class'=&gt;'legacythemeinuse'));
<a name="l620"><span class="linenum"> 620</span></a>          }
<a name="l621"><span class="linenum"> 621</span></a>  
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">        // Get links to switch device types (only shown for users not on a default device)</span>
<a name="l623"><span class="linenum"> 623</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('theme_switch_links')" href="../_functions/theme_switch_links.html" onMouseOver="funcPopup(event,'theme_switch_links')">theme_switch_links</a>();
<a name="l624"><span class="linenum"> 624</span></a>  
<a name="l625"><span class="linenum"> 625</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debugpageinfo')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debugpageinfo.html">debugpageinfo</a>)) {
<a name="l626"><span class="linenum"> 626</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;div class=&quot;performanceinfo pageinfo&quot;&gt;This page is: ' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('debug_summary')" href="../_functions/debug_summary.html" onMouseOver="funcPopup(event,'debug_summary')">debug_summary</a>() . '&lt;/div&gt;';
<a name="l627"><span class="linenum"> 627</span></a>          }
<a name="l628"><span class="linenum"> 628</span></a>          if (<a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(null, <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>) and <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:config', <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>())) {  // Only in developer mode
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment">            // Add link to profiling report if necessary</span>
<a name="l630"><span class="linenum"> 630</span></a>              if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('profiling_is_running') &amp;&amp; <a class="function" onClick="logFunction('profiling_is_running')" href="../_functions/profiling_is_running.html" onMouseOver="funcPopup(event,'profiling_is_running')">profiling_is_running</a>()) {
<a name="l631"><span class="linenum"> 631</span></a>                  <a class="var it3717" onMouseOver="hilite(3717)" onMouseOut="lolite()" onClick="logVariable('txt')" href="../_variables/txt.html">$txt</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('profiledscript', 'admin');
<a name="l632"><span class="linenum"> 632</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('profiledscriptview', 'admin');
<a name="l633"><span class="linenum"> 633</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/admin/tool/profiling/index.php?script=' . <a class="phpfunction" onClick="logFunction('urlencode')" href="../_functions/urlencode.html" onMouseOver="phpfuncPopup(event,'urlencode')">urlencode</a>(<a class="var it13253" onMouseOver="hilite(13253)" onMouseOut="lolite()" onClick="logVariable('SCRIPT')" href="../_variables/SCRIPT.html">$SCRIPT</a>);
<a name="l634"><span class="linenum"> 634</span></a>                  <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>= '&lt;a title=&quot;' . <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> . '&quot; href=&quot;' . <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> . '&quot;&gt;' . <a class="var it3717" onMouseOver="hilite(3717)" onMouseOut="lolite()" onClick="logVariable('txt')" href="../_variables/txt.html">$txt</a> . '&lt;/a&gt;';
<a name="l635"><span class="linenum"> 635</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;div class=&quot;profilingfooter&quot;&gt;' . <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> . '&lt;/div&gt;';
<a name="l636"><span class="linenum"> 636</span></a>              }
<a name="l637"><span class="linenum"> 637</span></a>              <a class="var it32259" onMouseOver="hilite(32259)" onMouseOut="lolite()" onClick="logVariable('purgeurl')" href="../_variables/purgeurl.html">$purgeurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../admin/purgecaches.php.html">/admin/purgecaches.php</a>', array('confirm' =&gt; 1,
<a name="l638"><span class="linenum"> 638</span></a>                  'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(), 'returnurl' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;url-&gt;<a class="function" onClick="logFunction('out_as_local_url')" href="../_functions/out_as_local_url.html" onMouseOver="funcPopup(event,'out_as_local_url')">out_as_local_url</a>(false)));
<a name="l639"><span class="linenum"> 639</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;div class=&quot;purgecaches&quot;&gt;' .
<a name="l640"><span class="linenum"> 640</span></a>                      <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it32259" onMouseOver="hilite(32259)" onMouseOut="lolite()" onClick="logVariable('purgeurl')" href="../_variables/purgeurl.html">$purgeurl</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('purgecaches', 'admin')) . '&lt;/div&gt;';
<a name="l641"><span class="linenum"> 641</span></a>          }
<a name="l642"><span class="linenum"> 642</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debugvalidators')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debugvalidators.html">debugvalidators</a>)) {
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment">            // NOTE: this is not a nice hack, $PAGE-&gt;url is not always accurate and $FULLME neither, it is not a bug if it fails. --skodak</span>
<a name="l644"><span class="linenum"> 644</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;div class=&quot;validators&quot;&gt;&lt;ul&gt;
<a name="l645"><span class="linenum"> 645</span></a>                &lt;li&gt;&lt;a href=&quot;http://validator.w3.org/check?verbose=1&amp;amp;ss=1&amp;amp;uri=' . <a class="phpfunction" onClick="logFunction('urlencode')" href="../_functions/urlencode.html" onMouseOver="phpfuncPopup(event,'urlencode')">urlencode</a>(<a class="function" onClick="logFunction('qualified_me')" href="../_functions/qualified_me.html" onMouseOver="funcPopup(event,'qualified_me')">qualified_me</a>()) . '&quot;&gt;Validate HTML&lt;/a&gt;&lt;/li&gt;
<a name="l646"><span class="linenum"> 646</span></a>                &lt;li&gt;&lt;a href=&quot;http://www.contentquality.com/mynewtester/cynthia.exe?rptmode=-1&amp;amp;url1=' . <a class="phpfunction" onClick="logFunction('urlencode')" href="../_functions/urlencode.html" onMouseOver="phpfuncPopup(event,'urlencode')">urlencode</a>(<a class="function" onClick="logFunction('qualified_me')" href="../_functions/qualified_me.html" onMouseOver="funcPopup(event,'qualified_me')">qualified_me</a>()) . '&quot;&gt;Section 508 Check&lt;/a&gt;&lt;/li&gt;
<a name="l647"><span class="linenum"> 647</span></a>                &lt;li&gt;&lt;a href=&quot;http://www.contentquality.com/mynewtester/cynthia.exe?rptmode=0&amp;amp;warnp2n3e=1&amp;amp;url1=' . <a class="phpfunction" onClick="logFunction('urlencode')" href="../_functions/urlencode.html" onMouseOver="phpfuncPopup(event,'urlencode')">urlencode</a>(<a class="function" onClick="logFunction('qualified_me')" href="../_functions/qualified_me.html" onMouseOver="funcPopup(event,'qualified_me')">qualified_me</a>()) . '&quot;&gt;WCAG 1 (2,3) Check&lt;/a&gt;&lt;/li&gt;
<a name="l648"><span class="linenum"> 648</span></a>              &lt;/ul&gt;&lt;/div&gt;';
<a name="l649"><span class="linenum"> 649</span></a>          }
<a name="l650"><span class="linenum"> 650</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l651"><span class="linenum"> 651</span></a>      }
<a name="l652"><span class="linenum"> 652</span></a>  
<a name="l653"><span class="linenum"> 653</span></a>      <span class="comment">/**</span>
<a name="l654"><span class="linenum"> 654</span></a>  <span class="comment">     * Returns standard main content placeholder.</span>
<a name="l655"><span class="linenum"> 655</span></a>  <span class="comment">     * Designed to be called in theme layout.php files.</span>
<a name="l656"><span class="linenum"> 656</span></a>  <span class="comment">     *</span>
<a name="l657"><span class="linenum"> 657</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l658"><span class="linenum"> 658</span></a>  <span class="comment">     */</span>
<a name="l659"><span class="linenum"> 659</span></a>      public function <a class="function" onClick="logFunction('main_content')" href="../_functions/main_content.html" onMouseOver="funcPopup(event,'main_content')">main_content</a>() {
<a name="l660"><span class="linenum"> 660</span></a>  <span class="comment">        // This is here because it is the only place we can inject the &quot;main&quot; role over the entire main content area</span>
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment">        // without requiring all theme's to manually do it, and without creating yet another thing people need to</span>
<a name="l662"><span class="linenum"> 662</span></a>  <span class="comment">        // remember in the theme.</span>
<a name="l663"><span class="linenum"> 663</span></a>  <span class="comment">        // This is an unfortunate hack. DO NO EVER add anything more here.</span>
<a name="l664"><span class="linenum"> 664</span></a>  <span class="comment">        // DO NOT add classes.</span>
<a name="l665"><span class="linenum"> 665</span></a>  <span class="comment">        // DO NOT add an id.</span>
<a name="l666"><span class="linenum"> 666</span></a>          return '&lt;div role=&quot;main&quot;&gt;'.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_main_content_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_main_content_token.html">unique_main_content_token</a>.'&lt;/div&gt;';
<a name="l667"><span class="linenum"> 667</span></a>      }
<a name="l668"><span class="linenum"> 668</span></a>  
<a name="l669"><span class="linenum"> 669</span></a>      <span class="comment">/**</span>
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">     * The standard tags (typically script tags that are not needed earlier) that</span>
<a name="l671"><span class="linenum"> 671</span></a>  <span class="comment">     * should be output after everything else. Designed to be called in theme layout.php files.</span>
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment">     *</span>
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">     */</span>
<a name="l675"><span class="linenum"> 675</span></a>      public function <a class="function" onClick="logFunction('standard_end_of_body_html')" href="../_functions/standard_end_of_body_html.html" onMouseOver="funcPopup(event,'standard_end_of_body_html')">standard_end_of_body_html</a>() {
<a name="l676"><span class="linenum"> 676</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l677"><span class="linenum"> 677</span></a>  
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">        // This function is normally called from a layout.php file in {@link core_renderer::header()}</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">        // but some of the content won't be known until later, so we return a placeholder</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">        // for now. This will be replaced with the real content in {@link core_renderer::footer()}.</span>
<a name="l681"><span class="linenum"> 681</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l682"><span class="linenum"> 682</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('additionalhtmlfooter')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/additionalhtmlfooter.html">additionalhtmlfooter</a>)) {
<a name="l683"><span class="linenum"> 683</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= &quot;\n&quot;.<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('additionalhtmlfooter')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/additionalhtmlfooter.html">additionalhtmlfooter</a>;
<a name="l684"><span class="linenum"> 684</span></a>          }
<a name="l685"><span class="linenum"> 685</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_end_html_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_end_html_token.html">unique_end_html_token</a>;
<a name="l686"><span class="linenum"> 686</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l687"><span class="linenum"> 687</span></a>      }
<a name="l688"><span class="linenum"> 688</span></a>  
<a name="l689"><span class="linenum"> 689</span></a>      <span class="comment">/**</span>
<a name="l690"><span class="linenum"> 690</span></a>  <span class="comment">     * Return the standard string that says whether you are logged in (and switched</span>
<a name="l691"><span class="linenum"> 691</span></a>  <span class="comment">     * roles/logged in as another user).</span>
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">     * @param bool $withlinks if false, then don't include any links in the HTML produced.</span>
<a name="l693"><span class="linenum"> 693</span></a>  <span class="comment">     * If not set, the default is the nologinlinks option from the theme config.php file,</span>
<a name="l694"><span class="linenum"> 694</span></a>  <span class="comment">     * and if that is not set, then links are included.</span>
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment">     */</span>
<a name="l697"><span class="linenum"> 697</span></a>      public function <a class="function" onClick="logFunction('login_info')" href="../_functions/login_info.html" onMouseOver="funcPopup(event,'login_info')">login_info</a>(<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a> = null) {
<a name="l698"><span class="linenum"> 698</span></a>          global <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>;
<a name="l699"><span class="linenum"> 699</span></a>  
<a name="l700"><span class="linenum"> 700</span></a>          if (<a class="function" onClick="logFunction('during_initial_install')" href="../_functions/during_initial_install.html" onMouseOver="funcPopup(event,'during_initial_install')">during_initial_install</a>()) {
<a name="l701"><span class="linenum"> 701</span></a>              return '';
<a name="l702"><span class="linenum"> 702</span></a>          }
<a name="l703"><span class="linenum"> 703</span></a>  
<a name="l704"><span class="linenum"> 704</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>)) {
<a name="l705"><span class="linenum"> 705</span></a>              <a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a> = empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;layout_options['nologinlinks']);
<a name="l706"><span class="linenum"> 706</span></a>          }
<a name="l707"><span class="linenum"> 707</span></a>  
<a name="l708"><span class="linenum"> 708</span></a>          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course;
<a name="l709"><span class="linenum"> 709</span></a>          if (\core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('is_loggedinas')" href="../_functions/is_loggedinas.html" onMouseOver="funcPopup(event,'is_loggedinas')">is_loggedinas</a>()) {
<a name="l710"><span class="linenum"> 710</span></a>              <a class="var it11663" onMouseOver="hilite(11663)" onMouseOut="lolite()" onClick="logVariable('realuser')" href="../_variables/realuser.html">$realuser</a> = \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('get_realuser')" href="../_functions/get_realuser.html" onMouseOver="funcPopup(event,'get_realuser')">get_realuser</a>();
<a name="l711"><span class="linenum"> 711</span></a>              <a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a> = <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it11663" onMouseOver="hilite(11663)" onMouseOut="lolite()" onClick="logVariable('realuser')" href="../_variables/realuser.html">$realuser</a>, true);
<a name="l712"><span class="linenum"> 712</span></a>              if (<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>) {
<a name="l713"><span class="linenum"> 713</span></a>                  <a class="var it32262" onMouseOver="hilite(32262)" onMouseOut="lolite()" onClick="logVariable('loginastitle')" href="../_variables/loginastitle.html">$loginastitle</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('loginas');
<a name="l714"><span class="linenum"> 714</span></a>                  <a class="var it32263" onMouseOver="hilite(32263)" onMouseOut="lolite()" onClick="logVariable('realuserinfo')" href="../_variables/realuserinfo.html">$realuserinfo</a> = &quot; [&lt;a href=\&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>/course/loginas.php?id=<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>&amp;amp;sesskey=&quot;.<a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>().&quot;\&quot;&quot;;
<a name="l715"><span class="linenum"> 715</span></a>                  <a class="var it32263" onMouseOver="hilite(32263)" onMouseOut="lolite()" onClick="logVariable('realuserinfo')" href="../_variables/realuserinfo.html">$realuserinfo</a> .= &quot;title =\&quot;&quot;.<a class="var it32262" onMouseOver="hilite(32262)" onMouseOut="lolite()" onClick="logVariable('loginastitle')" href="../_variables/loginastitle.html">$loginastitle</a>.&quot;\&quot;&gt;<a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>&lt;/a&gt;] &quot;;
<a name="l716"><span class="linenum"> 716</span></a>              } else {
<a name="l717"><span class="linenum"> 717</span></a>                  <a class="var it32263" onMouseOver="hilite(32263)" onMouseOut="lolite()" onClick="logVariable('realuserinfo')" href="../_variables/realuserinfo.html">$realuserinfo</a> = &quot; [<a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>] &quot;;
<a name="l718"><span class="linenum"> 718</span></a>              }
<a name="l719"><span class="linenum"> 719</span></a>          } else {
<a name="l720"><span class="linenum"> 720</span></a>              <a class="var it32263" onMouseOver="hilite(32263)" onMouseOut="lolite()" onClick="logVariable('realuserinfo')" href="../_variables/realuserinfo.html">$realuserinfo</a> = '';
<a name="l721"><span class="linenum"> 721</span></a>          }
<a name="l722"><span class="linenum"> 722</span></a>  
<a name="l723"><span class="linenum"> 723</span></a>          <a class="var it32264" onMouseOver="hilite(32264)" onMouseOut="lolite()" onClick="logVariable('loginpage')" href="../_variables/loginpage.html">$loginpage</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_login_page')" href="../_functions/is_login_page.html" onMouseOver="funcPopup(event,'is_login_page')">is_login_page</a>();
<a name="l724"><span class="linenum"> 724</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('loginurl')" href="../_variables/loginurl.html">$loginurl</a> = <a class="function" onClick="logFunction('get_login_url')" href="../_functions/get_login_url.html" onMouseOver="funcPopup(event,'get_login_url')">get_login_url</a>();
<a name="l725"><span class="linenum"> 725</span></a>  
<a name="l726"><span class="linenum"> 726</span></a>          if (empty(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">            // $course-&gt;id is not defined during installation</span>
<a name="l728"><span class="linenum"> 728</span></a>              return '';
<a name="l729"><span class="linenum"> 729</span></a>          } else if (<a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>()) {
<a name="l730"><span class="linenum"> 730</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l731"><span class="linenum"> 731</span></a>  
<a name="l732"><span class="linenum"> 732</span></a>              <a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a> = <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, true);
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment">            // Since Moodle 2.0 this link always goes to the public profile page (not the course profile page)</span>
<a name="l734"><span class="linenum"> 734</span></a>              if (<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>) {
<a name="l735"><span class="linenum"> 735</span></a>                  <a class="var it11921" onMouseOver="hilite(11921)" onMouseOut="lolite()" onClick="logVariable('linktitle')" href="../_variables/linktitle.html">$linktitle</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewprofile');
<a name="l736"><span class="linenum"> 736</span></a>                  <a class="var it463" onMouseOver="hilite(463)" onMouseOut="lolite()" onClick="logVariable('username')" href="../_variables/username.html">$username</a> = &quot;&lt;a href=\&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>/user/profile.php?id=<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a>\&quot; title=\&quot;<a class="var it11921" onMouseOver="hilite(11921)" onMouseOut="lolite()" onClick="logVariable('linktitle')" href="../_variables/linktitle.html">$linktitle</a>\&quot;&gt;<a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>&lt;/a&gt;&quot;;
<a name="l737"><span class="linenum"> 737</span></a>              } else {
<a name="l738"><span class="linenum"> 738</span></a>                  <a class="var it463" onMouseOver="hilite(463)" onMouseOut="lolite()" onClick="logVariable('username')" href="../_variables/username.html">$username</a> = <a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>;
<a name="l739"><span class="linenum"> 739</span></a>              }
<a name="l740"><span class="linenum"> 740</span></a>              if (<a class="function" onClick="logFunction('is_mnet_remote_user')" href="../_functions/is_mnet_remote_user.html" onMouseOver="funcPopup(event,'is_mnet_remote_user')">is_mnet_remote_user</a>(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>) and <a class="var it32265" onMouseOver="hilite(32265)" onMouseOut="lolite()" onClick="logVariable('idprovider')" href="../_variables/idprovider.html">$idprovider</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('mnet_host', array('id'=&gt;<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('mnethostid')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/mnethostid.html">mnethostid</a>))) {
<a name="l741"><span class="linenum"> 741</span></a>                  if (<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>) {
<a name="l742"><span class="linenum"> 742</span></a>                      <a class="var it463" onMouseOver="hilite(463)" onMouseOut="lolite()" onClick="logVariable('username')" href="../_variables/username.html">$username</a> .= &quot; from &lt;a href=\&quot;{<a class="var it32265" onMouseOver="hilite(32265)" onMouseOut="lolite()" onClick="logVariable('idprovider')" href="../_variables/idprovider.html">$idprovider</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it41105" onMouseOver="hilite(41105)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>}\&quot;&gt;{<a class="var it32265" onMouseOver="hilite(32265)" onMouseOut="lolite()" onClick="logVariable('idprovider')" href="../_variables/idprovider.html">$idprovider</a>-&gt;<a onClick="logVariable('name')" class="var it41105" onMouseOver="hilite(41105)" onMouseOut="lolite()" href="../_variables/name.html">name</a>}&lt;/a&gt;&quot;;
<a name="l743"><span class="linenum"> 743</span></a>                  } else {
<a name="l744"><span class="linenum"> 744</span></a>                      <a class="var it463" onMouseOver="hilite(463)" onMouseOut="lolite()" onClick="logVariable('username')" href="../_variables/username.html">$username</a> .= &quot; from {<a class="var it32265" onMouseOver="hilite(32265)" onMouseOut="lolite()" onClick="logVariable('idprovider')" href="../_variables/idprovider.html">$idprovider</a>-&gt;<a onClick="logVariable('name')" class="var it41105" onMouseOver="hilite(41105)" onMouseOut="lolite()" href="../_variables/name.html">name</a>}&quot;;
<a name="l745"><span class="linenum"> 745</span></a>                  }
<a name="l746"><span class="linenum"> 746</span></a>              }
<a name="l747"><span class="linenum"> 747</span></a>              if (<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l748"><span class="linenum"> 748</span></a>                  <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> = <a class="var it32263" onMouseOver="hilite(32263)" onMouseOut="lolite()" onClick="logVariable('realuserinfo')" href="../_variables/realuserinfo.html">$realuserinfo</a>.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('loggedinasguest');
<a name="l749"><span class="linenum"> 749</span></a>                  if (!<a class="var it32264" onMouseOver="hilite(32264)" onMouseOut="lolite()" onClick="logVariable('loginpage')" href="../_variables/loginpage.html">$loginpage</a> &amp;&amp; <a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>) {
<a name="l750"><span class="linenum"> 750</span></a>                      <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> .= &quot; (&lt;a href=\&quot;<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('loginurl')" href="../_variables/loginurl.html">$loginurl</a>\&quot;&gt;&quot;.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('login').'&lt;/a&gt;)';
<a name="l751"><span class="linenum"> 751</span></a>                  }
<a name="l752"><span class="linenum"> 752</span></a>              } else if (<a class="function" onClick="logFunction('is_role_switched')" href="../_functions/is_role_switched.html" onMouseOver="funcPopup(event,'is_role_switched')">is_role_switched</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) { // Has switched roles
<a name="l753"><span class="linenum"> 753</span></a>                  <a class="var it123" onMouseOver="hilite(123)" onMouseOut="lolite()" onClick="logVariable('rolename')" href="../_variables/rolename.html">$rolename</a> = '';
<a name="l754"><span class="linenum"> 754</span></a>                  if (<a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../_variables/role.html">$role</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('role', array('id'=&gt;<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('access')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/access.html">access</a>['rsw'][<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('path')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/path.html">path</a>]))) {
<a name="l755"><span class="linenum"> 755</span></a>                      <a class="var it123" onMouseOver="hilite(123)" onMouseOut="lolite()" onClick="logVariable('rolename')" href="../_variables/rolename.html">$rolename</a> = ': '.<a class="function" onClick="logFunction('role_get_name')" href="../_functions/role_get_name.html" onMouseOver="funcPopup(event,'role_get_name')">role_get_name</a>(<a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../_variables/role.html">$role</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l756"><span class="linenum"> 756</span></a>                  }
<a name="l757"><span class="linenum"> 757</span></a>                  <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('loggedinas', 'moodle', <a class="var it463" onMouseOver="hilite(463)" onMouseOut="lolite()" onClick="logVariable('username')" href="../_variables/username.html">$username</a>).<a class="var it123" onMouseOver="hilite(123)" onMouseOut="lolite()" onClick="logVariable('rolename')" href="../_variables/rolename.html">$rolename</a>;
<a name="l758"><span class="linenum"> 758</span></a>                  if (<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>) {
<a name="l759"><span class="linenum"> 759</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../course/switchrole.php.html">/course/switchrole.php</a>', array('id'=&gt;<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>,'sesskey'=&gt;<a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(), 'switchrole'=&gt;0, 'returnurl'=&gt;<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;url-&gt;<a class="function" onClick="logFunction('out_as_local_url')" href="../_functions/out_as_local_url.html" onMouseOver="funcPopup(event,'out_as_local_url')">out_as_local_url</a>(false)));
<a name="l760"><span class="linenum"> 760</span></a>                      <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> .= ' ('.<a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('switchrolereturn'), array('href' =&gt; <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>)).')';
<a name="l761"><span class="linenum"> 761</span></a>                  }
<a name="l762"><span class="linenum"> 762</span></a>              } else {
<a name="l763"><span class="linenum"> 763</span></a>                  <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> = <a class="var it32263" onMouseOver="hilite(32263)" onMouseOut="lolite()" onClick="logVariable('realuserinfo')" href="../_variables/realuserinfo.html">$realuserinfo</a>.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('loggedinas', 'moodle', <a class="var it463" onMouseOver="hilite(463)" onMouseOut="lolite()" onClick="logVariable('username')" href="../_variables/username.html">$username</a>);
<a name="l764"><span class="linenum"> 764</span></a>                  if (<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>) {
<a name="l765"><span class="linenum"> 765</span></a>                      <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> .= &quot; (&lt;a href=\&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>/login/logout.php?sesskey=&quot;.<a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>().&quot;\&quot;&gt;&quot;.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('logout').'&lt;/a&gt;)';
<a name="l766"><span class="linenum"> 766</span></a>                  }
<a name="l767"><span class="linenum"> 767</span></a>              }
<a name="l768"><span class="linenum"> 768</span></a>          } else {
<a name="l769"><span class="linenum"> 769</span></a>              <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('loggedinnot', 'moodle');
<a name="l770"><span class="linenum"> 770</span></a>              if (!<a class="var it32264" onMouseOver="hilite(32264)" onMouseOut="lolite()" onClick="logVariable('loginpage')" href="../_variables/loginpage.html">$loginpage</a> &amp;&amp; <a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>) {
<a name="l771"><span class="linenum"> 771</span></a>                  <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> .= &quot; (&lt;a href=\&quot;<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('loginurl')" href="../_variables/loginurl.html">$loginurl</a>\&quot;&gt;&quot;.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('login').'&lt;/a&gt;)';
<a name="l772"><span class="linenum"> 772</span></a>              }
<a name="l773"><span class="linenum"> 773</span></a>          }
<a name="l774"><span class="linenum"> 774</span></a>  
<a name="l775"><span class="linenum"> 775</span></a>          <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> = '&lt;div class=&quot;logininfo&quot;&gt;'.<a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a>.'&lt;/div&gt;';
<a name="l776"><span class="linenum"> 776</span></a>  
<a name="l777"><span class="linenum"> 777</span></a>          if (isset(<a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('justloggedin')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../_variables/justloggedin.html">justloggedin</a>)) {
<a name="l778"><span class="linenum"> 778</span></a>              unset(<a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('justloggedin')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../_variables/justloggedin.html">justloggedin</a>);
<a name="l779"><span class="linenum"> 779</span></a>              if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('displayloginfailures')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/displayloginfailures.html">displayloginfailures</a>)) {
<a name="l780"><span class="linenum"> 780</span></a>                  if (!<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">                    // Include this file only when required.</span>
<a name="l782"><span class="linenum"> 782</span></a>                      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../user/lib.php.html">/user/lib.php</a>');
<a name="l783"><span class="linenum"> 783</span></a>                      if (<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> = <a class="function" onClick="logFunction('user_count_login_failures')" href="../_functions/user_count_login_failures.html" onMouseOver="funcPopup(event,'user_count_login_failures')">user_count_login_failures</a>(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>)) {
<a name="l784"><span class="linenum"> 784</span></a>                          <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> .= '&lt;div class=&quot;loginfailures&quot;&gt;';
<a name="l785"><span class="linenum"> 785</span></a>                          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l786"><span class="linenum"> 786</span></a>                          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('attempts')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../_variables/attempts.html">attempts</a> = <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>;
<a name="l787"><span class="linenum"> 787</span></a>                          <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> .= <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('failedloginattempts', '', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l788"><span class="linenum"> 788</span></a>                          if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>/report/log/index.php&quot;) and <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('report/log:view', <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>())) {
<a name="l789"><span class="linenum"> 789</span></a>                              <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> .= ' ('.<a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../report/log/index.php.html">/report/log/index.php</a>', array('chooselog' =&gt; 1,
<a name="l790"><span class="linenum"> 790</span></a>                                      'id' =&gt; 0 , 'modid' =&gt; 'site_errors')), <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('logs')).')';
<a name="l791"><span class="linenum"> 791</span></a>                          }
<a name="l792"><span class="linenum"> 792</span></a>                          <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a> .= '&lt;/div&gt;';
<a name="l793"><span class="linenum"> 793</span></a>                      }
<a name="l794"><span class="linenum"> 794</span></a>                  }
<a name="l795"><span class="linenum"> 795</span></a>              }
<a name="l796"><span class="linenum"> 796</span></a>          }
<a name="l797"><span class="linenum"> 797</span></a>  
<a name="l798"><span class="linenum"> 798</span></a>          return <a class="var it32266" onMouseOver="hilite(32266)" onMouseOut="lolite()" onClick="logVariable('loggedinas')" href="../_variables/loggedinas.html">$loggedinas</a>;
<a name="l799"><span class="linenum"> 799</span></a>      }
<a name="l800"><span class="linenum"> 800</span></a>  
<a name="l801"><span class="linenum"> 801</span></a>      <span class="comment">/**</span>
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment">     * Check whether the current page is a login page.</span>
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment">     *</span>
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l805"><span class="linenum"> 805</span></a>  <span class="comment">     * @return bool</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">     */</span>
<a name="l807"><span class="linenum"> 807</span></a>      protected function <a class="function" onClick="logFunction('is_login_page')" href="../_functions/is_login_page.html" onMouseOver="funcPopup(event,'is_login_page')">is_login_page</a>() {
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">        // This is a real bit of a hack, but its a rarety that we need to do something like this.</span>
<a name="l809"><span class="linenum"> 809</span></a>  <span class="comment">        // In fact the login pages should be only these two pages and as exposing this as an option for all pages</span>
<a name="l810"><span class="linenum"> 810</span></a>  <span class="comment">        // could lead to abuse (or at least unneedingly complex code) the hack is the way to go.</span>
<a name="l811"><span class="linenum"> 811</span></a>          return <a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(
<a name="l812"><span class="linenum"> 812</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;url-&gt;<a class="function" onClick="logFunction('out_as_local_url')" href="../_functions/out_as_local_url.html" onMouseOver="funcPopup(event,'out_as_local_url')">out_as_local_url</a>(false, array()),
<a name="l813"><span class="linenum"> 813</span></a>              array(
<a name="l814"><span class="linenum"> 814</span></a>                  '<a class="filename" href="../login/index.php.html">/login/index.php</a>',
<a name="l815"><span class="linenum"> 815</span></a>                  '<a class="filename" href="../login/forgot_password.php.html">/login/forgot_password.php</a>',
<a name="l816"><span class="linenum"> 816</span></a>              )
<a name="l817"><span class="linenum"> 817</span></a>          );
<a name="l818"><span class="linenum"> 818</span></a>      }
<a name="l819"><span class="linenum"> 819</span></a>  
<a name="l820"><span class="linenum"> 820</span></a>      <span class="comment">/**</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">     * Return the 'back' link that normally appears in the footer.</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment">     *</span>
<a name="l823"><span class="linenum"> 823</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l824"><span class="linenum"> 824</span></a>  <span class="comment">     */</span>
<a name="l825"><span class="linenum"> 825</span></a>      public function <a class="function" onClick="logFunction('home_link')" href="../_functions/home_link.html" onMouseOver="funcPopup(event,'home_link')">home_link</a>() {
<a name="l826"><span class="linenum"> 826</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>;
<a name="l827"><span class="linenum"> 827</span></a>  
<a name="l828"><span class="linenum"> 828</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;pagetype == 'site-index') {
<a name="l829"><span class="linenum"> 829</span></a>  <span class="comment">            // Special case for site home page - please do not remove</span>
<a name="l830"><span class="linenum"> 830</span></a>              return '&lt;div class=&quot;sitelink&quot;&gt;' .
<a name="l831"><span class="linenum"> 831</span></a>                     '&lt;a title=&quot;Moodle&quot; href=&quot;http://moodle.org/&quot;&gt;' .
<a name="l832"><span class="linenum"> 832</span></a>                     '&lt;img src=&quot;' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('moodlelogo') . '&quot; alt=&quot;moodlelogo&quot; /&gt;&lt;/a&gt;&lt;/div&gt;';
<a name="l833"><span class="linenum"> 833</span></a>  
<a name="l834"><span class="linenum"> 834</span></a>          } else if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('target_release')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/target_release.html">target_release</a>) &amp;&amp; <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('target_release')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/target_release.html">target_release</a> != <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('release')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/release.html">release</a>) {
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">            // Special case for during install/upgrade.</span>
<a name="l836"><span class="linenum"> 836</span></a>              return '&lt;div class=&quot;sitelink&quot;&gt;'.
<a name="l837"><span class="linenum"> 837</span></a>                     '&lt;a title=&quot;Moodle&quot; href=&quot;http://docs.moodle.org/en/Administrator_documentation&quot; onclick=&quot;this.target=\'_blank\'&quot;&gt;' .
<a name="l838"><span class="linenum"> 838</span></a>                     '&lt;img src=&quot;' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('moodlelogo') . '&quot; alt=&quot;moodlelogo&quot; /&gt;&lt;/a&gt;&lt;/div&gt;';
<a name="l839"><span class="linenum"> 839</span></a>  
<a name="l840"><span class="linenum"> 840</span></a>          } else if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;id == <a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>-&gt;<a onClick="logVariable('id')" class="var it39635" onMouseOver="hilite(39635)" onMouseOut="lolite()" href="../_variables/id.html">id</a> || <a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;pagetype, 'course-view') === 0) {
<a name="l841"><span class="linenum"> 841</span></a>              return '&lt;div class=&quot;homelink&quot;&gt;&lt;a href=&quot;' . <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/&quot;&gt;' .
<a name="l842"><span class="linenum"> 842</span></a>                      <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('home') . '&lt;/a&gt;&lt;/div&gt;';
<a name="l843"><span class="linenum"> 843</span></a>  
<a name="l844"><span class="linenum"> 844</span></a>          } else {
<a name="l845"><span class="linenum"> 845</span></a>              return '&lt;div class=&quot;homelink&quot;&gt;&lt;a href=&quot;' . <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/course/view.php?id=' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;id . '&quot;&gt;' .
<a name="l846"><span class="linenum"> 846</span></a>                      <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;shortname, true, array('context' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;context)) . '&lt;/a&gt;&lt;/div&gt;';
<a name="l847"><span class="linenum"> 847</span></a>          }
<a name="l848"><span class="linenum"> 848</span></a>      }
<a name="l849"><span class="linenum"> 849</span></a>  
<a name="l850"><span class="linenum"> 850</span></a>      <span class="comment">/**</span>
<a name="l851"><span class="linenum"> 851</span></a>  <span class="comment">     * Redirects the user by any means possible given the current state</span>
<a name="l852"><span class="linenum"> 852</span></a>  <span class="comment">     *</span>
<a name="l853"><span class="linenum"> 853</span></a>  <span class="comment">     * This function should not be called directly, it should always be called using</span>
<a name="l854"><span class="linenum"> 854</span></a>  <span class="comment">     * the redirect function in lib/weblib.php</span>
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment">     *</span>
<a name="l856"><span class="linenum"> 856</span></a>  <span class="comment">     * The redirect function should really only be called before page output has started</span>
<a name="l857"><span class="linenum"> 857</span></a>  <span class="comment">     * however it will allow itself to be called during the state STATE_IN_BODY</span>
<a name="l858"><span class="linenum"> 858</span></a>  <span class="comment">     *</span>
<a name="l859"><span class="linenum"> 859</span></a>  <span class="comment">     * @param string $encodedurl The URL to send to encoded if required</span>
<a name="l860"><span class="linenum"> 860</span></a>  <span class="comment">     * @param string $message The message to display to the user if any</span>
<a name="l861"><span class="linenum"> 861</span></a>  <span class="comment">     * @param int $delay The delay before redirecting a user, if $message has been</span>
<a name="l862"><span class="linenum"> 862</span></a>  <span class="comment">     *         set this is a requirement and defaults to 3, set to 0 no delay</span>
<a name="l863"><span class="linenum"> 863</span></a>  <span class="comment">     * @param boolean $debugdisableredirect this redirect has been disabled for</span>
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">     *         debugging purposes. Display a message that explains, and don't</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">     *         trigger the redirect.</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment">     * @return string The HTML to display to the user before dying, may contain</span>
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment">     *         meta refresh, javascript refresh, and may have set header redirects</span>
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment">     */</span>
<a name="l869"><span class="linenum"> 869</span></a>      public function <a class="function" onClick="logFunction('redirect_message')" href="../_functions/redirect_message.html" onMouseOver="funcPopup(event,'redirect_message')">redirect_message</a>(<a class="var it23855" onMouseOver="hilite(23855)" onMouseOut="lolite()" onClick="logVariable('encodedurl')" href="../_variables/encodedurl.html">$encodedurl</a>, <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it16024" onMouseOver="hilite(16024)" onMouseOut="lolite()" onClick="logVariable('delay')" href="../_variables/delay.html">$delay</a>, <a class="var it23853" onMouseOver="hilite(23853)" onMouseOut="lolite()" onClick="logVariable('debugdisableredirect')" href="../_variables/debugdisableredirect.html">$debugdisableredirect</a>) {
<a name="l870"><span class="linenum"> 870</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l871"><span class="linenum"> 871</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&amp;amp;', '&amp;', <a class="var it23855" onMouseOver="hilite(23855)" onMouseOut="lolite()" onClick="logVariable('encodedurl')" href="../_variables/encodedurl.html">$encodedurl</a>);
<a name="l872"><span class="linenum"> 872</span></a>  
<a name="l873"><span class="linenum"> 873</span></a>          switch (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;state) {
<a name="l874"><span class="linenum"> 874</span></a>              case <a class="class" onClick="logClass('moodle_page')" href="../_classes/moodle_page.html" onMouseOver="classPopup(event,'moodle_page')">moodle_page</a>::STATE_BEFORE_HEADER :
<a name="l875"><span class="linenum"> 875</span></a>  <span class="comment">                // No output yet it is safe to delivery the full arsenal of redirect methods</span>
<a name="l876"><span class="linenum"> 876</span></a>                  if (!<a class="var it23853" onMouseOver="hilite(23853)" onMouseOut="lolite()" onClick="logVariable('debugdisableredirect')" href="../_variables/debugdisableredirect.html">$debugdisableredirect</a>) {
<a name="l877"><span class="linenum"> 877</span></a>  <span class="comment">                    // Don't use exactly the same time here, it can cause problems when both redirects fire at the same time.</span>
<a name="l878"><span class="linenum"> 878</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('metarefreshtag')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/metarefreshtag.html">metarefreshtag</a> = '&lt;meta http-equiv=&quot;refresh&quot; content=&quot;'. <a class="var it16024" onMouseOver="hilite(16024)" onMouseOut="lolite()" onClick="logVariable('delay')" href="../_variables/delay.html">$delay</a> .'; url='. <a class="var it23855" onMouseOver="hilite(23855)" onMouseOut="lolite()" onClick="logVariable('encodedurl')" href="../_variables/encodedurl.html">$encodedurl</a> .'&quot; /&gt;'.&quot;\n&quot;;
<a name="l879"><span class="linenum"> 879</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js_function_call')" href="../_functions/js_function_call.html" onMouseOver="funcPopup(event,'js_function_call')">js_function_call</a>('document.location.replace', array(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>), false, (<a class="var it16024" onMouseOver="hilite(16024)" onMouseOut="lolite()" onClick="logVariable('delay')" href="../_variables/delay.html">$delay</a> + 3));
<a name="l880"><span class="linenum"> 880</span></a>                  }
<a name="l881"><span class="linenum"> 881</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>();
<a name="l882"><span class="linenum"> 882</span></a>                  break;
<a name="l883"><span class="linenum"> 883</span></a>              case <a class="class" onClick="logClass('moodle_page')" href="../_classes/moodle_page.html" onMouseOver="classPopup(event,'moodle_page')">moodle_page</a>::STATE_PRINTING_HEADER :
<a name="l884"><span class="linenum"> 884</span></a>  <span class="comment">                // We should hopefully never get here</span>
<a name="l885"><span class="linenum"> 885</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You cannot redirect while printing the page header');
<a name="l886"><span class="linenum"> 886</span></a>                  break;
<a name="l887"><span class="linenum"> 887</span></a>              case <a class="class" onClick="logClass('moodle_page')" href="../_classes/moodle_page.html" onMouseOver="classPopup(event,'moodle_page')">moodle_page</a>::STATE_IN_BODY :
<a name="l888"><span class="linenum"> 888</span></a>  <span class="comment">                // We really shouldn't be here but we can deal with this</span>
<a name="l889"><span class="linenum"> 889</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;You should really redirect before you start page output&quot;);
<a name="l890"><span class="linenum"> 890</span></a>                  if (!<a class="var it23853" onMouseOver="hilite(23853)" onMouseOut="lolite()" onClick="logVariable('debugdisableredirect')" href="../_variables/debugdisableredirect.html">$debugdisableredirect</a>) {
<a name="l891"><span class="linenum"> 891</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js_function_call')" href="../_functions/js_function_call.html" onMouseOver="funcPopup(event,'js_function_call')">js_function_call</a>('document.location.replace', array(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>), false, <a class="var it16024" onMouseOver="hilite(16024)" onMouseOut="lolite()" onClick="logVariable('delay')" href="../_variables/delay.html">$delay</a>);
<a name="l892"><span class="linenum"> 892</span></a>                  }
<a name="l893"><span class="linenum"> 893</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>-&gt;<a class="function" onClick="logFunction('pop_all_but_last')" href="../_functions/pop_all_but_last.html" onMouseOver="funcPopup(event,'pop_all_but_last')">pop_all_but_last</a>();
<a name="l894"><span class="linenum"> 894</span></a>                  break;
<a name="l895"><span class="linenum"> 895</span></a>              case <a class="class" onClick="logClass('moodle_page')" href="../_classes/moodle_page.html" onMouseOver="classPopup(event,'moodle_page')">moodle_page</a>::STATE_DONE :
<a name="l896"><span class="linenum"> 896</span></a>  <span class="comment">                // Too late to be calling redirect now</span>
<a name="l897"><span class="linenum"> 897</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You cannot redirect after the entire page has been generated');
<a name="l898"><span class="linenum"> 898</span></a>                  break;
<a name="l899"><span class="linenum"> 899</span></a>          }
<a name="l900"><span class="linenum"> 900</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, 'redirectmessage');
<a name="l901"><span class="linenum"> 901</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;div class=&quot;continuebutton&quot;&gt;(&lt;a href=&quot;'. <a class="var it23855" onMouseOver="hilite(23855)" onMouseOut="lolite()" onClick="logVariable('encodedurl')" href="../_variables/encodedurl.html">$encodedurl</a> .'&quot;&gt;'. <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('continue') .'&lt;/a&gt;)&lt;/div&gt;';
<a name="l902"><span class="linenum"> 902</span></a>          if (<a class="var it23853" onMouseOver="hilite(23853)" onMouseOut="lolite()" onClick="logVariable('debugdisableredirect')" href="../_variables/debugdisableredirect.html">$debugdisableredirect</a>) {
<a name="l903"><span class="linenum"> 903</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;p&gt;&lt;strong&gt;'.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('erroroutput', 'error').'&lt;/strong&gt;&lt;/p&gt;';
<a name="l904"><span class="linenum"> 904</span></a>          }
<a name="l905"><span class="linenum"> 905</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
<a name="l906"><span class="linenum"> 906</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l907"><span class="linenum"> 907</span></a>      }
<a name="l908"><span class="linenum"> 908</span></a>  
<a name="l909"><span class="linenum"> 909</span></a>      <span class="comment">/**</span>
<a name="l910"><span class="linenum"> 910</span></a>  <span class="comment">     * Start output by sending the HTTP headers, and printing the HTML &lt;head&gt;</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment">     * and the start of the &lt;body&gt;.</span>
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment">     *</span>
<a name="l913"><span class="linenum"> 913</span></a>  <span class="comment">     * To control what is printed, you should set properties on $PAGE. If you</span>
<a name="l914"><span class="linenum"> 914</span></a>  <span class="comment">     * are familiar with the old {@link print_header()} function from Moodle 1.9</span>
<a name="l915"><span class="linenum"> 915</span></a>  <span class="comment">     * you will find that there are properties on $PAGE that correspond to most</span>
<a name="l916"><span class="linenum"> 916</span></a>  <span class="comment">     * of the old parameters to could be passed to print_header.</span>
<a name="l917"><span class="linenum"> 917</span></a>  <span class="comment">     *</span>
<a name="l918"><span class="linenum"> 918</span></a>  <span class="comment">     * Not that, in due course, the remaining $navigation, $menu parameters here</span>
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment">     * will be replaced by more properties of $PAGE, but that is still to do.</span>
<a name="l920"><span class="linenum"> 920</span></a>  <span class="comment">     *</span>
<a name="l921"><span class="linenum"> 921</span></a>  <span class="comment">     * @return string HTML that you must output this, preferably immediately.</span>
<a name="l922"><span class="linenum"> 922</span></a>  <span class="comment">     */</span>
<a name="l923"><span class="linenum"> 923</span></a>      public function <a class="function" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="funcPopup(event,'header')">header</a>() {
<a name="l924"><span class="linenum"> 924</span></a>          global <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l925"><span class="linenum"> 925</span></a>  
<a name="l926"><span class="linenum"> 926</span></a>          if (\core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('is_loggedinas')" href="../_functions/is_loggedinas.html" onMouseOver="funcPopup(event,'is_loggedinas')">is_loggedinas</a>()) {
<a name="l927"><span class="linenum"> 927</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('add_body_class')" href="../_functions/add_body_class.html" onMouseOver="funcPopup(event,'add_body_class')">add_body_class</a>('userloggedinas');
<a name="l928"><span class="linenum"> 928</span></a>          }
<a name="l929"><span class="linenum"> 929</span></a>  
<a name="l930"><span class="linenum"> 930</span></a>  <span class="comment">        // If the user is logged in, and we're not in initial install,</span>
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment">        // check to see if the user is role-switched and add the appropriate</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment">        // CSS class to the body element.</span>
<a name="l933"><span class="linenum"> 933</span></a>          if (!<a class="function" onClick="logFunction('during_initial_install')" href="../_functions/during_initial_install.html" onMouseOver="funcPopup(event,'during_initial_install')">during_initial_install</a>() &amp;&amp; <a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>() &amp;&amp; <a class="function" onClick="logFunction('is_role_switched')" href="../_functions/is_role_switched.html" onMouseOver="funcPopup(event,'is_role_switched')">is_role_switched</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;id)) {
<a name="l934"><span class="linenum"> 934</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('add_body_class')" href="../_functions/add_body_class.html" onMouseOver="funcPopup(event,'add_body_class')">add_body_class</a>('userswitchedrole');
<a name="l935"><span class="linenum"> 935</span></a>          }
<a name="l936"><span class="linenum"> 936</span></a>  
<a name="l937"><span class="linenum"> 937</span></a>  <span class="comment">        // Give themes a chance to init/alter the page object.</span>
<a name="l938"><span class="linenum"> 938</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;<a class="function" onClick="logFunction('init_page')" href="../_functions/init_page.html" onMouseOver="funcPopup(event,'init_page')">init_page</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>);
<a name="l939"><span class="linenum"> 939</span></a>  
<a name="l940"><span class="linenum"> 940</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('set_state')" href="../_functions/set_state.html" onMouseOver="funcPopup(event,'set_state')">set_state</a>(<a class="class" onClick="logClass('moodle_page')" href="../_classes/moodle_page.html" onMouseOver="classPopup(event,'moodle_page')">moodle_page</a>::STATE_PRINTING_HEADER);
<a name="l941"><span class="linenum"> 941</span></a>  
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment">        // Find the appropriate page layout file, based on $this-&gt;page-&gt;pagelayout.</span>
<a name="l943"><span class="linenum"> 943</span></a>          <a class="var it1186" onMouseOver="hilite(1186)" onMouseOut="lolite()" onClick="logVariable('layoutfile')" href="../_variables/layoutfile.html">$layoutfile</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;<a class="function" onClick="logFunction('layout_file')" href="../_functions/layout_file.html" onMouseOver="funcPopup(event,'layout_file')">layout_file</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;pagelayout);
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment">        // Render the layout using the layout file.</span>
<a name="l945"><span class="linenum"> 945</span></a>          <a class="var it32267" onMouseOver="hilite(32267)" onMouseOut="lolite()" onClick="logVariable('rendered')" href="../_variables/rendered.html">$rendered</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render_page_layout')" href="../_functions/render_page_layout.html" onMouseOver="funcPopup(event,'render_page_layout')">render_page_layout</a>(<a class="var it1186" onMouseOver="hilite(1186)" onMouseOut="lolite()" onClick="logVariable('layoutfile')" href="../_variables/layoutfile.html">$layoutfile</a>);
<a name="l946"><span class="linenum"> 946</span></a>  
<a name="l947"><span class="linenum"> 947</span></a>  <span class="comment">        // Slice the rendered output into header and footer.</span>
<a name="l948"><span class="linenum"> 948</span></a>          <a class="var it32268" onMouseOver="hilite(32268)" onMouseOut="lolite()" onClick="logVariable('cutpos')" href="../_variables/cutpos.html">$cutpos</a> = <a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it32267" onMouseOver="hilite(32267)" onMouseOut="lolite()" onClick="logVariable('rendered')" href="../_variables/rendered.html">$rendered</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_main_content_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_main_content_token.html">unique_main_content_token</a>);
<a name="l949"><span class="linenum"> 949</span></a>          if (<a class="var it32268" onMouseOver="hilite(32268)" onMouseOut="lolite()" onClick="logVariable('cutpos')" href="../_variables/cutpos.html">$cutpos</a> === false) {
<a name="l950"><span class="linenum"> 950</span></a>              <a class="var it32268" onMouseOver="hilite(32268)" onMouseOut="lolite()" onClick="logVariable('cutpos')" href="../_variables/cutpos.html">$cutpos</a> = <a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it32267" onMouseOver="hilite(32267)" onMouseOut="lolite()" onClick="logVariable('rendered')" href="../_variables/rendered.html">$rendered</a>, self::MAIN_CONTENT_TOKEN);
<a name="l951"><span class="linenum"> 951</span></a>              <a class="var it464" onMouseOver="hilite(464)" onMouseOut="lolite()" onClick="logVariable('token')" href="../_variables/token.html">$token</a> = self::MAIN_CONTENT_TOKEN;
<a name="l952"><span class="linenum"> 952</span></a>          } else {
<a name="l953"><span class="linenum"> 953</span></a>              <a class="var it464" onMouseOver="hilite(464)" onMouseOut="lolite()" onClick="logVariable('token')" href="../_variables/token.html">$token</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_main_content_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_main_content_token.html">unique_main_content_token</a>;
<a name="l954"><span class="linenum"> 954</span></a>          }
<a name="l955"><span class="linenum"> 955</span></a>  
<a name="l956"><span class="linenum"> 956</span></a>          if (<a class="var it32268" onMouseOver="hilite(32268)" onMouseOut="lolite()" onClick="logVariable('cutpos')" href="../_variables/cutpos.html">$cutpos</a> === false) {
<a name="l957"><span class="linenum"> 957</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('page layout file ' . <a class="var it1186" onMouseOver="hilite(1186)" onMouseOut="lolite()" onClick="logVariable('layoutfile')" href="../_variables/layoutfile.html">$layoutfile</a> . ' does not contain the main content placeholder, please include &quot;&lt;?php echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('main_content')" href="../_functions/main_content.html" onMouseOver="funcPopup(event,'main_content')">main_content</a>() ?&gt;&quot; in theme layout file.');
<a name="l958"><span class="linenum"> 958</span></a>          }
<a name="l959"><span class="linenum"> 959</span></a>          <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it32267" onMouseOver="hilite(32267)" onMouseOut="lolite()" onClick="logVariable('rendered')" href="../_variables/rendered.html">$rendered</a>, 0, <a class="var it32268" onMouseOver="hilite(32268)" onMouseOut="lolite()" onClick="logVariable('cutpos')" href="../_variables/cutpos.html">$cutpos</a>);
<a name="l960"><span class="linenum"> 960</span></a>          <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it32267" onMouseOver="hilite(32267)" onMouseOut="lolite()" onClick="logVariable('rendered')" href="../_variables/rendered.html">$rendered</a>, <a class="var it32268" onMouseOver="hilite(32268)" onMouseOut="lolite()" onClick="logVariable('cutpos')" href="../_variables/cutpos.html">$cutpos</a> + <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it464" onMouseOver="hilite(464)" onMouseOut="lolite()" onClick="logVariable('token')" href="../_variables/token.html">$token</a>));
<a name="l961"><span class="linenum"> 961</span></a>  
<a name="l962"><span class="linenum"> 962</span></a>          if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('contenttype')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/contenttype.html">contenttype</a>)) {
<a name="l963"><span class="linenum"> 963</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('The page layout file did not call <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('doctype')" href="../_functions/doctype.html" onMouseOver="funcPopup(event,'doctype')">doctype</a>()');
<a name="l964"><span class="linenum"> 964</span></a>              <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('doctype')" href="../_functions/doctype.html" onMouseOver="funcPopup(event,'doctype')">doctype</a>() . <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a>;
<a name="l965"><span class="linenum"> 965</span></a>          }
<a name="l966"><span class="linenum"> 966</span></a>  
<a name="l967"><span class="linenum"> 967</span></a>  <span class="comment">        // If this theme version is below 2.4 release and this is a course view page</span>
<a name="l968"><span class="linenum"> 968</span></a>          if ((!isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;settings-&gt;version) || <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;settings-&gt;version &lt; 2012101500) &amp;&amp;
<a name="l969"><span class="linenum"> 969</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;pagelayout === 'course' &amp;&amp; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;url-&gt;<a class="function" onClick="logFunction('compare')" href="../_functions/compare.html" onMouseOver="funcPopup(event,'compare')">compare</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../course/view.php.html">/course/view.php</a>'), <a class="constant" onClick="logConstant('URL_MATCH_BASE')" href="../_constants/URL_MATCH_BASE.html" onMouseOver="constPopup(event,'URL_MATCH_BASE')">URL_MATCH_BASE</a>)) {
<a name="l970"><span class="linenum"> 970</span></a>  <span class="comment">            // check if course content header/footer have not been output during render of theme layout</span>
<a name="l971"><span class="linenum"> 971</span></a>              <a class="var it3941" onMouseOver="hilite(3941)" onMouseOut="lolite()" onClick="logVariable('coursecontentheader')" href="../_variables/coursecontentheader.html">$coursecontentheader</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('course_content_header')" href="../_functions/course_content_header.html" onMouseOver="funcPopup(event,'course_content_header')">course_content_header</a>(true);
<a name="l972"><span class="linenum"> 972</span></a>              <a class="var it3942" onMouseOver="hilite(3942)" onMouseOut="lolite()" onClick="logVariable('coursecontentfooter')" href="../_variables/coursecontentfooter.html">$coursecontentfooter</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('course_content_footer')" href="../_functions/course_content_footer.html" onMouseOver="funcPopup(event,'course_content_footer')">course_content_footer</a>(true);
<a name="l973"><span class="linenum"> 973</span></a>              if (!empty(<a class="var it3941" onMouseOver="hilite(3941)" onMouseOut="lolite()" onClick="logVariable('coursecontentheader')" href="../_variables/coursecontentheader.html">$coursecontentheader</a>)) {
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment">                // display debug message and add header and footer right above and below main content</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment">                // Please note that course header and footer (to be displayed above and below the whole page)</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">                // are not displayed in this case at all.</span>
<a name="l977"><span class="linenum"> 977</span></a>  <span class="comment">                // Besides the content header and footer are not displayed on any other course page</span>
<a name="l978"><span class="linenum"> 978</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('The current theme is not optimised for 2.4, the course-specific header and footer defined in course format will not be output', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l979"><span class="linenum"> 979</span></a>                  <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> .= <a class="var it3941" onMouseOver="hilite(3941)" onMouseOut="lolite()" onClick="logVariable('coursecontentheader')" href="../_variables/coursecontentheader.html">$coursecontentheader</a>;
<a name="l980"><span class="linenum"> 980</span></a>                  <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a> = <a class="var it3942" onMouseOver="hilite(3942)" onMouseOut="lolite()" onClick="logVariable('coursecontentfooter')" href="../_variables/coursecontentfooter.html">$coursecontentfooter</a>. <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a>;
<a name="l981"><span class="linenum"> 981</span></a>              }
<a name="l982"><span class="linenum"> 982</span></a>          }
<a name="l983"><span class="linenum"> 983</span></a>  
<a name="l984"><span class="linenum"> 984</span></a>          <a class="function" onClick="logFunction('send_headers')" href="../_functions/send_headers.html" onMouseOver="funcPopup(event,'send_headers')">send_headers</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('contenttype')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/contenttype.html">contenttype</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;cacheable);
<a name="l985"><span class="linenum"> 985</span></a>  
<a name="l986"><span class="linenum"> 986</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>-&gt;<a class="function" onClick="logFunction('push')" href="../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('header/footer', <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a>);
<a name="l987"><span class="linenum"> 987</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('set_state')" href="../_functions/set_state.html" onMouseOver="funcPopup(event,'set_state')">set_state</a>(<a class="class" onClick="logClass('moodle_page')" href="../_classes/moodle_page.html" onMouseOver="classPopup(event,'moodle_page')">moodle_page</a>::STATE_IN_BODY);
<a name="l988"><span class="linenum"> 988</span></a>  
<a name="l989"><span class="linenum"> 989</span></a>          return <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('skip_link_target')" href="../_functions/skip_link_target.html" onMouseOver="funcPopup(event,'skip_link_target')">skip_link_target</a>('maincontent');
<a name="l990"><span class="linenum"> 990</span></a>      }
<a name="l991"><span class="linenum"> 991</span></a>  
<a name="l992"><span class="linenum"> 992</span></a>      <span class="comment">/**</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">     * Renders and outputs the page layout file.</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">     *</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">     * This is done by preparing the normal globals available to a script, and</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment">     * then including the layout file provided by the current theme for the</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment">     * requested layout.</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment">     *</span>
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment">     * @param string $layoutfile The name of the layout file</span>
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment">     * @return string HTML code</span>
<a name="l1001"><span class="linenum">1001</span></a>  <span class="comment">     */</span>
<a name="l1002"><span class="linenum">1002</span></a>      protected function <a class="function" onClick="logFunction('render_page_layout')" href="../_functions/render_page_layout.html" onMouseOver="funcPopup(event,'render_page_layout')">render_page_layout</a>(<a class="var it1186" onMouseOver="hilite(1186)" onMouseOut="lolite()" onClick="logVariable('layoutfile')" href="../_variables/layoutfile.html">$layoutfile</a>) {
<a name="l1003"><span class="linenum">1003</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l1004"><span class="linenum">1004</span></a>  <span class="comment">        // The next lines are a bit tricky. The point is, here we are in a method</span>
<a name="l1005"><span class="linenum">1005</span></a>  <span class="comment">        // of a renderer class, and this object may, or may not, be the same as</span>
<a name="l1006"><span class="linenum">1006</span></a>  <span class="comment">        // the global $OUTPUT object. When rendering the page layout file, we want to use</span>
<a name="l1007"><span class="linenum">1007</span></a>  <span class="comment">        // this object. However, people writing Moodle code expect the current</span>
<a name="l1008"><span class="linenum">1008</span></a>  <span class="comment">        // renderer to be called $OUTPUT, not $this, so define a variable called</span>
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">        // $OUTPUT pointing at $this. The same comment applies to $PAGE and $COURSE.</span>
<a name="l1010"><span class="linenum">1010</span></a>          <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>;
<a name="l1011"><span class="linenum">1011</span></a>          <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>;
<a name="l1012"><span class="linenum">1012</span></a>          <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course;
<a name="l1013"><span class="linenum">1013</span></a>  
<a name="l1014"><span class="linenum">1014</span></a>          <a class="phpfunction" onClick="logFunction('ob_start')" href="../_functions/ob_start.html" onMouseOver="phpfuncPopup(event,'ob_start')">ob_start</a>();
<a name="l1015"><span class="linenum">1015</span></a>          include(<a class="var it1186" onMouseOver="hilite(1186)" onMouseOut="lolite()" onClick="logVariable('layoutfile')" href="../_variables/layoutfile.html">$layoutfile</a>);
<a name="l1016"><span class="linenum">1016</span></a>          <a class="var it32267" onMouseOver="hilite(32267)" onMouseOut="lolite()" onClick="logVariable('rendered')" href="../_variables/rendered.html">$rendered</a> = <a class="phpfunction" onClick="logFunction('ob_get_contents')" href="../_functions/ob_get_contents.html" onMouseOver="phpfuncPopup(event,'ob_get_contents')">ob_get_contents</a>();
<a name="l1017"><span class="linenum">1017</span></a>          <a class="phpfunction" onClick="logFunction('ob_end_clean')" href="../_functions/ob_end_clean.html" onMouseOver="phpfuncPopup(event,'ob_end_clean')">ob_end_clean</a>();
<a name="l1018"><span class="linenum">1018</span></a>          return <a class="var it32267" onMouseOver="hilite(32267)" onMouseOut="lolite()" onClick="logVariable('rendered')" href="../_variables/rendered.html">$rendered</a>;
<a name="l1019"><span class="linenum">1019</span></a>      }
<a name="l1020"><span class="linenum">1020</span></a>  
<a name="l1021"><span class="linenum">1021</span></a>      <span class="comment">/**</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment">     * Outputs the page's footer</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">     *</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1025"><span class="linenum">1025</span></a>  <span class="comment">     */</span>
<a name="l1026"><span class="linenum">1026</span></a>      public function <a class="function" onClick="logFunction('footer')" href="../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>() {
<a name="l1027"><span class="linenum">1027</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1028"><span class="linenum">1028</span></a>  
<a name="l1029"><span class="linenum">1029</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('container_end_all')" href="../_functions/container_end_all.html" onMouseOver="funcPopup(event,'container_end_all')">container_end_all</a>(true);
<a name="l1030"><span class="linenum">1030</span></a>  
<a name="l1031"><span class="linenum">1031</span></a>          <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>-&gt;<a class="function" onClick="logFunction('pop')" href="../_functions/pop.html" onMouseOver="funcPopup(event,'pop')">pop</a>('header/footer');
<a name="l1032"><span class="linenum">1032</span></a>  
<a name="l1033"><span class="linenum">1033</span></a>          if (<a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>() and <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a> and <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('is_transaction_started')" href="../_functions/is_transaction_started.html" onMouseOver="funcPopup(event,'is_transaction_started')">is_transaction_started</a>()) {
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment">            // TODO: MDL-20625 print warning - transaction will be rolled back</span>
<a name="l1035"><span class="linenum">1035</span></a>          }
<a name="l1036"><span class="linenum">1036</span></a>  
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">        // Provide some performance info if required</span>
<a name="l1038"><span class="linenum">1038</span></a>          <a class="var it32269" onMouseOver="hilite(32269)" onMouseOut="lolite()" onClick="logVariable('performanceinfo')" href="../_variables/performanceinfo.html">$performanceinfo</a> = '';
<a name="l1039"><span class="linenum">1039</span></a>          if (<a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MDL_PERF')" href="../_constants/MDL_PERF.html" onMouseOver="constPopup(event,'MDL_PERF')">MDL_PERF</a>') || (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('perfdebug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/perfdebug.html">perfdebug</a>) and <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('perfdebug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/perfdebug.html">perfdebug</a> &gt; 7)) {
<a name="l1040"><span class="linenum">1040</span></a>              <a class="var it6957" onMouseOver="hilite(6957)" onMouseOut="lolite()" onClick="logVariable('perf')" href="../_variables/perf.html">$perf</a> = <a class="function" onClick="logFunction('get_performance_info')" href="../_functions/get_performance_info.html" onMouseOver="funcPopup(event,'get_performance_info')">get_performance_info</a>();
<a name="l1041"><span class="linenum">1041</span></a>              if (<a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MDL_PERFTOFOOT')" href="../_constants/MDL_PERFTOFOOT.html" onMouseOver="constPopup(event,'MDL_PERFTOFOOT')">MDL_PERFTOFOOT</a>') || <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>() || <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('perfdebug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/perfdebug.html">perfdebug</a> &gt; 7) {
<a name="l1042"><span class="linenum">1042</span></a>                  <a class="var it32269" onMouseOver="hilite(32269)" onMouseOut="lolite()" onClick="logVariable('performanceinfo')" href="../_variables/performanceinfo.html">$performanceinfo</a> = <a class="var it6957" onMouseOver="hilite(6957)" onMouseOut="lolite()" onClick="logVariable('perf')" href="../_variables/perf.html">$perf</a>['html'];
<a name="l1043"><span class="linenum">1043</span></a>              }
<a name="l1044"><span class="linenum">1044</span></a>          }
<a name="l1045"><span class="linenum">1045</span></a>  
<a name="l1046"><span class="linenum">1046</span></a>  <span class="comment">        // We always want performance data when running a performance test, even if the user is redirected to another page.</span>
<a name="l1047"><span class="linenum">1047</span></a>          if (<a class="constant" onClick="logConstant('MDL_PERF_TEST')" href="../_constants/MDL_PERF_TEST.html" onMouseOver="constPopup(event,'MDL_PERF_TEST')">MDL_PERF_TEST</a> &amp;&amp; <a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_performance_info_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_performance_info_token.html">unique_performance_info_token</a>) === false) {
<a name="l1048"><span class="linenum">1048</span></a>              <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_performance_info_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_performance_info_token.html">unique_performance_info_token</a> . <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a>;
<a name="l1049"><span class="linenum">1049</span></a>          }
<a name="l1050"><span class="linenum">1050</span></a>          <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_performance_info_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_performance_info_token.html">unique_performance_info_token</a>, <a class="var it32269" onMouseOver="hilite(32269)" onMouseOut="lolite()" onClick="logVariable('performanceinfo')" href="../_variables/performanceinfo.html">$performanceinfo</a>, <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a>);
<a name="l1051"><span class="linenum">1051</span></a>  
<a name="l1052"><span class="linenum">1052</span></a>          <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_end_html_token')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/unique_end_html_token.html">unique_end_html_token</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('get_end_code')" href="../_functions/get_end_code.html" onMouseOver="funcPopup(event,'get_end_code')">get_end_code</a>(), <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a>);
<a name="l1053"><span class="linenum">1053</span></a>  
<a name="l1054"><span class="linenum">1054</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('set_state')" href="../_functions/set_state.html" onMouseOver="funcPopup(event,'set_state')">set_state</a>(<a class="class" onClick="logClass('moodle_page')" href="../_classes/moodle_page.html" onMouseOver="classPopup(event,'moodle_page')">moodle_page</a>::STATE_DONE);
<a name="l1055"><span class="linenum">1055</span></a>  
<a name="l1056"><span class="linenum">1056</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> . <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a>;
<a name="l1057"><span class="linenum">1057</span></a>      }
<a name="l1058"><span class="linenum">1058</span></a>  
<a name="l1059"><span class="linenum">1059</span></a>      <span class="comment">/**</span>
<a name="l1060"><span class="linenum">1060</span></a>  <span class="comment">     * Close all but the last open container. This is useful in places like error</span>
<a name="l1061"><span class="linenum">1061</span></a>  <span class="comment">     * handling, where you want to close all the open containers (apart from &lt;body&gt;)</span>
<a name="l1062"><span class="linenum">1062</span></a>  <span class="comment">     * before outputting the error message.</span>
<a name="l1063"><span class="linenum">1063</span></a>  <span class="comment">     *</span>
<a name="l1064"><span class="linenum">1064</span></a>  <span class="comment">     * @param bool $shouldbenone assert that the stack should be empty now - causes a</span>
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment">     *      developer debug warning if it isn't.</span>
<a name="l1066"><span class="linenum">1066</span></a>  <span class="comment">     * @return string the HTML required to close any open containers inside &lt;body&gt;.</span>
<a name="l1067"><span class="linenum">1067</span></a>  <span class="comment">     */</span>
<a name="l1068"><span class="linenum">1068</span></a>      public function <a class="function" onClick="logFunction('container_end_all')" href="../_functions/container_end_all.html" onMouseOver="funcPopup(event,'container_end_all')">container_end_all</a>(<a class="var it1198" onMouseOver="hilite(1198)" onMouseOut="lolite()" onClick="logVariable('shouldbenone')" href="../_variables/shouldbenone.html">$shouldbenone</a> = false) {
<a name="l1069"><span class="linenum">1069</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>-&gt;<a class="function" onClick="logFunction('pop_all_but_last')" href="../_functions/pop_all_but_last.html" onMouseOver="funcPopup(event,'pop_all_but_last')">pop_all_but_last</a>(<a class="var it1198" onMouseOver="hilite(1198)" onMouseOut="lolite()" onClick="logVariable('shouldbenone')" href="../_variables/shouldbenone.html">$shouldbenone</a>);
<a name="l1070"><span class="linenum">1070</span></a>      }
<a name="l1071"><span class="linenum">1071</span></a>  
<a name="l1072"><span class="linenum">1072</span></a>      <span class="comment">/**</span>
<a name="l1073"><span class="linenum">1073</span></a>  <span class="comment">     * Returns course-specific information to be output immediately above content on any course page</span>
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment">     * (for the current course)</span>
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment">     *</span>
<a name="l1076"><span class="linenum">1076</span></a>  <span class="comment">     * @param bool $onlyifnotcalledbefore output content only if it has not been output before</span>
<a name="l1077"><span class="linenum">1077</span></a>  <span class="comment">     * @return string</span>
<a name="l1078"><span class="linenum">1078</span></a>  <span class="comment">     */</span>
<a name="l1079"><span class="linenum">1079</span></a>      public function <a class="function" onClick="logFunction('course_content_header')" href="../_functions/course_content_header.html" onMouseOver="funcPopup(event,'course_content_header')">course_content_header</a>(<a class="var it32271" onMouseOver="hilite(32271)" onMouseOut="lolite()" onClick="logVariable('onlyifnotcalledbefore')" href="../_variables/onlyifnotcalledbefore.html">$onlyifnotcalledbefore</a> = false) {
<a name="l1080"><span class="linenum">1080</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1081"><span class="linenum">1081</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;id == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1082"><span class="linenum">1082</span></a>  <span class="comment">            // return immediately and do not include /course/lib.php if not necessary</span>
<a name="l1083"><span class="linenum">1083</span></a>              return '';
<a name="l1084"><span class="linenum">1084</span></a>          }
<a name="l1085"><span class="linenum">1085</span></a>          static <a class="var it32272" onMouseOver="hilite(32272)" onMouseOut="lolite()" onClick="logVariable('functioncalled')" href="../_variables/functioncalled.html">$functioncalled</a> = false;
<a name="l1086"><span class="linenum">1086</span></a>          if (<a class="var it32272" onMouseOver="hilite(32272)" onMouseOut="lolite()" onClick="logVariable('functioncalled')" href="../_variables/functioncalled.html">$functioncalled</a> &amp;&amp; <a class="var it32271" onMouseOver="hilite(32271)" onMouseOut="lolite()" onClick="logVariable('onlyifnotcalledbefore')" href="../_variables/onlyifnotcalledbefore.html">$onlyifnotcalledbefore</a>) {
<a name="l1087"><span class="linenum">1087</span></a>  <span class="comment">            // we have already output the content header</span>
<a name="l1088"><span class="linenum">1088</span></a>              return '';
<a name="l1089"><span class="linenum">1089</span></a>          }
<a name="l1090"><span class="linenum">1090</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../course/lib.php.html">/course/lib.php</a>');
<a name="l1091"><span class="linenum">1091</span></a>          <a class="var it32272" onMouseOver="hilite(32272)" onMouseOut="lolite()" onClick="logVariable('functioncalled')" href="../_variables/functioncalled.html">$functioncalled</a> = true;
<a name="l1092"><span class="linenum">1092</span></a>          <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a> = <a class="function" onClick="logFunction('course_get_format')" href="../_functions/course_get_format.html" onMouseOver="funcPopup(event,'course_get_format')">course_get_format</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course);
<a name="l1093"><span class="linenum">1093</span></a>          if ((<a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a> = <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a>-&gt;<a class="function" onClick="logFunction('course_content_header')" href="../_functions/course_content_header.html" onMouseOver="funcPopup(event,'course_content_header')">course_content_header</a>()) !== null) {
<a name="l1094"><span class="linenum">1094</span></a>              return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>)-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>), 'course-content-header');
<a name="l1095"><span class="linenum">1095</span></a>          }
<a name="l1096"><span class="linenum">1096</span></a>          return '';
<a name="l1097"><span class="linenum">1097</span></a>      }
<a name="l1098"><span class="linenum">1098</span></a>  
<a name="l1099"><span class="linenum">1099</span></a>      <span class="comment">/**</span>
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment">     * Returns course-specific information to be output immediately below content on any course page</span>
<a name="l1101"><span class="linenum">1101</span></a>  <span class="comment">     * (for the current course)</span>
<a name="l1102"><span class="linenum">1102</span></a>  <span class="comment">     *</span>
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment">     * @param bool $onlyifnotcalledbefore output content only if it has not been output before</span>
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment">     * @return string</span>
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment">     */</span>
<a name="l1106"><span class="linenum">1106</span></a>      public function <a class="function" onClick="logFunction('course_content_footer')" href="../_functions/course_content_footer.html" onMouseOver="funcPopup(event,'course_content_footer')">course_content_footer</a>(<a class="var it32271" onMouseOver="hilite(32271)" onMouseOut="lolite()" onClick="logVariable('onlyifnotcalledbefore')" href="../_variables/onlyifnotcalledbefore.html">$onlyifnotcalledbefore</a> = false) {
<a name="l1107"><span class="linenum">1107</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1108"><span class="linenum">1108</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;id == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1109"><span class="linenum">1109</span></a>  <span class="comment">            // return immediately and do not include /course/lib.php if not necessary</span>
<a name="l1110"><span class="linenum">1110</span></a>              return '';
<a name="l1111"><span class="linenum">1111</span></a>          }
<a name="l1112"><span class="linenum">1112</span></a>          static <a class="var it32272" onMouseOver="hilite(32272)" onMouseOut="lolite()" onClick="logVariable('functioncalled')" href="../_variables/functioncalled.html">$functioncalled</a> = false;
<a name="l1113"><span class="linenum">1113</span></a>          if (<a class="var it32272" onMouseOver="hilite(32272)" onMouseOut="lolite()" onClick="logVariable('functioncalled')" href="../_variables/functioncalled.html">$functioncalled</a> &amp;&amp; <a class="var it32271" onMouseOver="hilite(32271)" onMouseOut="lolite()" onClick="logVariable('onlyifnotcalledbefore')" href="../_variables/onlyifnotcalledbefore.html">$onlyifnotcalledbefore</a>) {
<a name="l1114"><span class="linenum">1114</span></a>  <span class="comment">            // we have already output the content footer</span>
<a name="l1115"><span class="linenum">1115</span></a>              return '';
<a name="l1116"><span class="linenum">1116</span></a>          }
<a name="l1117"><span class="linenum">1117</span></a>          <a class="var it32272" onMouseOver="hilite(32272)" onMouseOut="lolite()" onClick="logVariable('functioncalled')" href="../_variables/functioncalled.html">$functioncalled</a> = true;
<a name="l1118"><span class="linenum">1118</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../course/lib.php.html">/course/lib.php</a>');
<a name="l1119"><span class="linenum">1119</span></a>          <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a> = <a class="function" onClick="logFunction('course_get_format')" href="../_functions/course_get_format.html" onMouseOver="funcPopup(event,'course_get_format')">course_get_format</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course);
<a name="l1120"><span class="linenum">1120</span></a>          if ((<a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a> = <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a>-&gt;<a class="function" onClick="logFunction('course_content_footer')" href="../_functions/course_content_footer.html" onMouseOver="funcPopup(event,'course_content_footer')">course_content_footer</a>()) !== null) {
<a name="l1121"><span class="linenum">1121</span></a>              return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>)-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>), 'course-content-footer');
<a name="l1122"><span class="linenum">1122</span></a>          }
<a name="l1123"><span class="linenum">1123</span></a>          return '';
<a name="l1124"><span class="linenum">1124</span></a>      }
<a name="l1125"><span class="linenum">1125</span></a>  
<a name="l1126"><span class="linenum">1126</span></a>      <span class="comment">/**</span>
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment">     * Returns course-specific information to be output on any course page in the header area</span>
<a name="l1128"><span class="linenum">1128</span></a>  <span class="comment">     * (for the current course)</span>
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">     *</span>
<a name="l1130"><span class="linenum">1130</span></a>  <span class="comment">     * @return string</span>
<a name="l1131"><span class="linenum">1131</span></a>  <span class="comment">     */</span>
<a name="l1132"><span class="linenum">1132</span></a>      public function <a class="function" onClick="logFunction('course_header')" href="../_functions/course_header.html" onMouseOver="funcPopup(event,'course_header')">course_header</a>() {
<a name="l1133"><span class="linenum">1133</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1134"><span class="linenum">1134</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;id == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1135"><span class="linenum">1135</span></a>  <span class="comment">            // return immediately and do not include /course/lib.php if not necessary</span>
<a name="l1136"><span class="linenum">1136</span></a>              return '';
<a name="l1137"><span class="linenum">1137</span></a>          }
<a name="l1138"><span class="linenum">1138</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../course/lib.php.html">/course/lib.php</a>');
<a name="l1139"><span class="linenum">1139</span></a>          <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a> = <a class="function" onClick="logFunction('course_get_format')" href="../_functions/course_get_format.html" onMouseOver="funcPopup(event,'course_get_format')">course_get_format</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course);
<a name="l1140"><span class="linenum">1140</span></a>          if ((<a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a> = <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a>-&gt;<a class="function" onClick="logFunction('course_header')" href="../_functions/course_header.html" onMouseOver="funcPopup(event,'course_header')">course_header</a>()) !== null) {
<a name="l1141"><span class="linenum">1141</span></a>              return <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>)-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>);
<a name="l1142"><span class="linenum">1142</span></a>          }
<a name="l1143"><span class="linenum">1143</span></a>          return '';
<a name="l1144"><span class="linenum">1144</span></a>      }
<a name="l1145"><span class="linenum">1145</span></a>  
<a name="l1146"><span class="linenum">1146</span></a>      <span class="comment">/**</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment">     * Returns course-specific information to be output on any course page in the footer area</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment">     * (for the current course)</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment">     *</span>
<a name="l1150"><span class="linenum">1150</span></a>  <span class="comment">     * @return string</span>
<a name="l1151"><span class="linenum">1151</span></a>  <span class="comment">     */</span>
<a name="l1152"><span class="linenum">1152</span></a>      public function <a class="function" onClick="logFunction('course_footer')" href="../_functions/course_footer.html" onMouseOver="funcPopup(event,'course_footer')">course_footer</a>() {
<a name="l1153"><span class="linenum">1153</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1154"><span class="linenum">1154</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;id == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1155"><span class="linenum">1155</span></a>  <span class="comment">            // return immediately and do not include /course/lib.php if not necessary</span>
<a name="l1156"><span class="linenum">1156</span></a>              return '';
<a name="l1157"><span class="linenum">1157</span></a>          }
<a name="l1158"><span class="linenum">1158</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../course/lib.php.html">/course/lib.php</a>');
<a name="l1159"><span class="linenum">1159</span></a>          <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a> = <a class="function" onClick="logFunction('course_get_format')" href="../_functions/course_get_format.html" onMouseOver="funcPopup(event,'course_get_format')">course_get_format</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course);
<a name="l1160"><span class="linenum">1160</span></a>          if ((<a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a> = <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a>-&gt;<a class="function" onClick="logFunction('course_footer')" href="../_functions/course_footer.html" onMouseOver="funcPopup(event,'course_footer')">course_footer</a>()) !== null) {
<a name="l1161"><span class="linenum">1161</span></a>              return <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('courseformat')" href="../_variables/courseformat.html">$courseformat</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>)-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>);
<a name="l1162"><span class="linenum">1162</span></a>          }
<a name="l1163"><span class="linenum">1163</span></a>          return '';
<a name="l1164"><span class="linenum">1164</span></a>      }
<a name="l1165"><span class="linenum">1165</span></a>  
<a name="l1166"><span class="linenum">1166</span></a>      <span class="comment">/**</span>
<a name="l1167"><span class="linenum">1167</span></a>  <span class="comment">     * Returns lang menu or '', this method also checks forcing of languages in courses.</span>
<a name="l1168"><span class="linenum">1168</span></a>  <span class="comment">     *</span>
<a name="l1169"><span class="linenum">1169</span></a>  <span class="comment">     * This function calls {@link core_renderer::render_single_select()} to actually display the language menu.</span>
<a name="l1170"><span class="linenum">1170</span></a>  <span class="comment">     *</span>
<a name="l1171"><span class="linenum">1171</span></a>  <span class="comment">     * @return string The lang menu HTML or empty string</span>
<a name="l1172"><span class="linenum">1172</span></a>  <span class="comment">     */</span>
<a name="l1173"><span class="linenum">1173</span></a>      public function <a class="function" onClick="logFunction('lang_menu')" href="../_functions/lang_menu.html" onMouseOver="funcPopup(event,'lang_menu')">lang_menu</a>() {
<a name="l1174"><span class="linenum">1174</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1175"><span class="linenum">1175</span></a>  
<a name="l1176"><span class="linenum">1176</span></a>          if (empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('langmenu')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/langmenu.html">langmenu</a>)) {
<a name="l1177"><span class="linenum">1177</span></a>              return '';
<a name="l1178"><span class="linenum">1178</span></a>          }
<a name="l1179"><span class="linenum">1179</span></a>  
<a name="l1180"><span class="linenum">1180</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course != <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a> and !empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;lang)) {
<a name="l1181"><span class="linenum">1181</span></a>  <span class="comment">            // do not show lang menu if language forced</span>
<a name="l1182"><span class="linenum">1182</span></a>              return '';
<a name="l1183"><span class="linenum">1183</span></a>          }
<a name="l1184"><span class="linenum">1184</span></a>  
<a name="l1185"><span class="linenum">1185</span></a>          <a class="var it32273" onMouseOver="hilite(32273)" onMouseOut="lolite()" onClick="logVariable('currlang')" href="../_variables/currlang.html">$currlang</a> = <a class="function" onClick="logFunction('current_language')" href="../_functions/current_language.html" onMouseOver="funcPopup(event,'current_language')">current_language</a>();
<a name="l1186"><span class="linenum">1186</span></a>          <a class="var it4417" onMouseOver="hilite(4417)" onMouseOut="lolite()" onClick="logVariable('langs')" href="../_variables/langs.html">$langs</a> = <a class="function" onClick="logFunction('get_string_manager')" href="../_functions/get_string_manager.html" onMouseOver="funcPopup(event,'get_string_manager')">get_string_manager</a>()-&gt;<a class="function" onClick="logFunction('get_list_of_translations')" href="../_functions/get_list_of_translations.html" onMouseOver="funcPopup(event,'get_list_of_translations')">get_list_of_translations</a>();
<a name="l1187"><span class="linenum">1187</span></a>  
<a name="l1188"><span class="linenum">1188</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4417" onMouseOver="hilite(4417)" onMouseOut="lolite()" onClick="logVariable('langs')" href="../_variables/langs.html">$langs</a>) &lt; 2) {
<a name="l1189"><span class="linenum">1189</span></a>              return '';
<a name="l1190"><span class="linenum">1190</span></a>          }
<a name="l1191"><span class="linenum">1191</span></a>  
<a name="l1192"><span class="linenum">1192</span></a>          <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('s')" href="../_variables/s.html">$s</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_select')" href="../_classes/single_select.html" onMouseOver="classPopup(event,'single_select')">single_select</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;url, 'lang', <a class="var it4417" onMouseOver="hilite(4417)" onMouseOut="lolite()" onClick="logVariable('langs')" href="../_variables/langs.html">$langs</a>, <a class="var it32273" onMouseOver="hilite(32273)" onMouseOut="lolite()" onClick="logVariable('currlang')" href="../_variables/currlang.html">$currlang</a>, null);
<a name="l1193"><span class="linenum">1193</span></a>          <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('s')" href="../_variables/s.html">$s</a>-&gt;<a onClick="logVariable('label')" class="var it40212" onMouseOver="hilite(40212)" onMouseOut="lolite()" href="../_variables/label.html">label</a> = <a class="function" onClick="logFunction('get_accesshide')" href="../_functions/get_accesshide.html" onMouseOver="funcPopup(event,'get_accesshide')">get_accesshide</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('language'));
<a name="l1194"><span class="linenum">1194</span></a>          <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('s')" href="../_variables/s.html">$s</a>-&gt;<a onClick="logVariable('class')" class="var it40212" onMouseOver="hilite(40212)" onMouseOut="lolite()" href="../_variables/class.html">class</a> = 'langmenu';
<a name="l1195"><span class="linenum">1195</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('s')" href="../_variables/s.html">$s</a>);
<a name="l1196"><span class="linenum">1196</span></a>      }
<a name="l1197"><span class="linenum">1197</span></a>  
<a name="l1198"><span class="linenum">1198</span></a>      <span class="comment">/**</span>
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment">     * Output the row of editing icons for a block, as defined by the controls array.</span>
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment">     *</span>
<a name="l1201"><span class="linenum">1201</span></a>  <span class="comment">     * @param array $controls an array like {@link block_contents::$controls}.</span>
<a name="l1202"><span class="linenum">1202</span></a>  <span class="comment">     * @param string $blockid The ID given to the block.</span>
<a name="l1203"><span class="linenum">1203</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l1204"><span class="linenum">1204</span></a>  <span class="comment">     */</span>
<a name="l1205"><span class="linenum">1205</span></a>      public function <a class="function" onClick="logFunction('block_controls')" href="../_functions/block_controls.html" onMouseOver="funcPopup(event,'block_controls')">block_controls</a>(<a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../_variables/actions.html">$actions</a>, <a class="var it8574" onMouseOver="hilite(8574)" onMouseOut="lolite()" onClick="logVariable('blockid')" href="../_variables/blockid.html">$blockid</a> = null) {
<a name="l1206"><span class="linenum">1206</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1207"><span class="linenum">1207</span></a>          if (empty(<a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../_variables/actions.html">$actions</a>)) {
<a name="l1208"><span class="linenum">1208</span></a>              return '';
<a name="l1209"><span class="linenum">1209</span></a>          }
<a name="l1210"><span class="linenum">1210</span></a>          <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a> = <span class="keyword">new </span><a class="class" onClick="logClass('action_menu')" href="../_classes/action_menu.html" onMouseOver="classPopup(event,'action_menu')">action_menu</a>(<a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../_variables/actions.html">$actions</a>);
<a name="l1211"><span class="linenum">1211</span></a>          if (<a class="var it8574" onMouseOver="hilite(8574)" onMouseOut="lolite()" onClick="logVariable('blockid')" href="../_variables/blockid.html">$blockid</a> !== null) {
<a name="l1212"><span class="linenum">1212</span></a>              <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('set_owner_selector')" href="../_functions/set_owner_selector.html" onMouseOver="funcPopup(event,'set_owner_selector')">set_owner_selector</a>('#'.<a class="var it8574" onMouseOver="hilite(8574)" onMouseOut="lolite()" onClick="logVariable('blockid')" href="../_variables/blockid.html">$blockid</a>);
<a name="l1213"><span class="linenum">1213</span></a>          }
<a name="l1214"><span class="linenum">1214</span></a>          <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('set_constraint')" href="../_functions/set_constraint.html" onMouseOver="funcPopup(event,'set_constraint')">set_constraint</a>('.block-region');
<a name="l1215"><span class="linenum">1215</span></a>          <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a onClick="logVariable('attributes')" class="var it39878" onMouseOver="hilite(39878)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['class'] .= ' block-control-actions commands';
<a name="l1216"><span class="linenum">1216</span></a>          if (isset(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('blockeditingmenu')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/blockeditingmenu.html">blockeditingmenu</a>) &amp;&amp; !<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('blockeditingmenu')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/blockeditingmenu.html">blockeditingmenu</a>) {
<a name="l1217"><span class="linenum">1217</span></a>              <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('do_not_enhance')" href="../_functions/do_not_enhance.html" onMouseOver="funcPopup(event,'do_not_enhance')">do_not_enhance</a>();
<a name="l1218"><span class="linenum">1218</span></a>          }
<a name="l1219"><span class="linenum">1219</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>);
<a name="l1220"><span class="linenum">1220</span></a>      }
<a name="l1221"><span class="linenum">1221</span></a>  
<a name="l1222"><span class="linenum">1222</span></a>      <span class="comment">/**</span>
<a name="l1223"><span class="linenum">1223</span></a>  <span class="comment">     * Renders an action menu component.</span>
<a name="l1224"><span class="linenum">1224</span></a>  <span class="comment">     *</span>
<a name="l1225"><span class="linenum">1225</span></a>  <span class="comment">     * ARIA references:</span>
<a name="l1226"><span class="linenum">1226</span></a>  <span class="comment">     *   - http://www.w3.org/WAI/GL/wiki/Using_ARIA_menus</span>
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment">     *   - http://stackoverflow.com/questions/12279113/recommended-wai-aria-implementation-for-navigation-bar-menu</span>
<a name="l1228"><span class="linenum">1228</span></a>  <span class="comment">     *</span>
<a name="l1229"><span class="linenum">1229</span></a>  <span class="comment">     * @param action_menu $menu</span>
<a name="l1230"><span class="linenum">1230</span></a>  <span class="comment">     * @return string HTML</span>
<a name="l1231"><span class="linenum">1231</span></a>  <span class="comment">     */</span>
<a name="l1232"><span class="linenum">1232</span></a>      public function <a class="function" onClick="logFunction('render_action_menu')" href="../_functions/render_action_menu.html" onMouseOver="funcPopup(event,'render_action_menu')">render_action_menu</a>(action_menu <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>) {
<a name="l1233"><span class="linenum">1233</span></a>          <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('initialise_js')" href="../_functions/initialise_js.html" onMouseOver="funcPopup(event,'initialise_js')">initialise_js</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>);
<a name="l1234"><span class="linenum">1234</span></a>  
<a name="l1235"><span class="linenum">1235</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a onClick="logVariable('attributes')" class="var it39878" onMouseOver="hilite(39878)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>);
<a name="l1236"><span class="linenum">1236</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('ul', <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a onClick="logVariable('attributesprimary')" class="var it39878" onMouseOver="hilite(39878)" onMouseOut="lolite()" href="../_variables/attributesprimary.html">attributesprimary</a>);
<a name="l1237"><span class="linenum">1237</span></a>          foreach (<a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('get_primary_actions')" href="../_functions/get_primary_actions.html" onMouseOver="funcPopup(event,'get_primary_actions')">get_primary_actions</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>) as <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) {
<a name="l1238"><span class="linenum">1238</span></a>              if (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> instanceof renderable) {
<a name="l1239"><span class="linenum">1239</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>);
<a name="l1240"><span class="linenum">1240</span></a>              } else {
<a name="l1241"><span class="linenum">1241</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>;
<a name="l1242"><span class="linenum">1242</span></a>              }
<a name="l1243"><span class="linenum">1243</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('li', <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, array('role' =&gt; 'presentation'));
<a name="l1244"><span class="linenum">1244</span></a>          }
<a name="l1245"><span class="linenum">1245</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('ul');
<a name="l1246"><span class="linenum">1246</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('ul', <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a onClick="logVariable('attributessecondary')" class="var it39878" onMouseOver="hilite(39878)" onMouseOut="lolite()" href="../_variables/attributessecondary.html">attributessecondary</a>);
<a name="l1247"><span class="linenum">1247</span></a>          foreach (<a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('get_secondary_actions')" href="../_functions/get_secondary_actions.html" onMouseOver="funcPopup(event,'get_secondary_actions')">get_secondary_actions</a>() as <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) {
<a name="l1248"><span class="linenum">1248</span></a>              if (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> instanceof renderable) {
<a name="l1249"><span class="linenum">1249</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>);
<a name="l1250"><span class="linenum">1250</span></a>              } else {
<a name="l1251"><span class="linenum">1251</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>;
<a name="l1252"><span class="linenum">1252</span></a>              }
<a name="l1253"><span class="linenum">1253</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('li', <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, array('role' =&gt; 'presentation'));
<a name="l1254"><span class="linenum">1254</span></a>          }
<a name="l1255"><span class="linenum">1255</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('ul');
<a name="l1256"><span class="linenum">1256</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l1257"><span class="linenum">1257</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1258"><span class="linenum">1258</span></a>      }
<a name="l1259"><span class="linenum">1259</span></a>  
<a name="l1260"><span class="linenum">1260</span></a>      <span class="comment">/**</span>
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment">     * Renders an action_menu_link item.</span>
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">     *</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment">     * @param action_menu_link $action</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1265"><span class="linenum">1265</span></a>  <span class="comment">     */</span>
<a name="l1266"><span class="linenum">1266</span></a>      protected function <a class="function" onClick="logFunction('render_action_menu_link')" href="../_functions/render_action_menu_link.html" onMouseOver="funcPopup(event,'render_action_menu_link')">render_action_menu_link</a>(action_menu_link <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) {
<a name="l1267"><span class="linenum">1267</span></a>          static <a class="var it32275" onMouseOver="hilite(32275)" onMouseOut="lolite()" onClick="logVariable('actioncount')" href="../_variables/actioncount.html">$actioncount</a> = 0;
<a name="l1268"><span class="linenum">1268</span></a>          <a class="var it32275" onMouseOver="hilite(32275)" onMouseOut="lolite()" onClick="logVariable('actioncount')" href="../_variables/actioncount.html">$actioncount</a>++;
<a name="l1269"><span class="linenum">1269</span></a>  
<a name="l1270"><span class="linenum">1270</span></a>          <a class="var it32276" onMouseOver="hilite(32276)" onMouseOut="lolite()" onClick="logVariable('comparetoalt')" href="../_variables/comparetoalt.html">$comparetoalt</a> = '';
<a name="l1271"><span class="linenum">1271</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = '';
<a name="l1272"><span class="linenum">1272</span></a>          if (!<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('icon')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/icon.html">icon</a> || <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('primary')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/primary.html">primary</a> === false) {
<a name="l1273"><span class="linenum">1273</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('span', array('class'=&gt;'menu-action-text', 'id' =&gt; 'actionmenuaction-'.<a class="var it32275" onMouseOver="hilite(32275)" onMouseOut="lolite()" onClick="logVariable('actioncount')" href="../_variables/actioncount.html">$actioncount</a>));
<a name="l1274"><span class="linenum">1274</span></a>              if (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('text')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/text.html">text</a> instanceof renderable) {
<a name="l1275"><span class="linenum">1275</span></a>                  <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('text')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/text.html">text</a>);
<a name="l1276"><span class="linenum">1276</span></a>              } else {
<a name="l1277"><span class="linenum">1277</span></a>                  <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> .= <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('text')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/text.html">text</a>;
<a name="l1278"><span class="linenum">1278</span></a>                  <a class="var it32276" onMouseOver="hilite(32276)" onMouseOut="lolite()" onClick="logVariable('comparetoalt')" href="../_variables/comparetoalt.html">$comparetoalt</a> = (string)<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('text')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/text.html">text</a>;
<a name="l1279"><span class="linenum">1279</span></a>              }
<a name="l1280"><span class="linenum">1280</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('span');
<a name="l1281"><span class="linenum">1281</span></a>          }
<a name="l1282"><span class="linenum">1282</span></a>  
<a name="l1283"><span class="linenum">1283</span></a>          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = '';
<a name="l1284"><span class="linenum">1284</span></a>          if (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('icon')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/icon.html">icon</a>) {
<a name="l1285"><span class="linenum">1285</span></a>              <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('icon')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/icon.html">icon</a>;
<a name="l1286"><span class="linenum">1286</span></a>              if (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('primary')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/primary.html">primary</a> || !<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('actionmenu')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/actionmenu.html">actionmenu</a>-&gt;<a class="function" onClick="logFunction('will_be_enhanced')" href="../_functions/will_be_enhanced.html" onMouseOver="funcPopup(event,'will_be_enhanced')">will_be_enhanced</a>()) {
<a name="l1287"><span class="linenum">1287</span></a>                  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('attributes')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['title'] = <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('text')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/text.html">text</a>;
<a name="l1288"><span class="linenum">1288</span></a>              }
<a name="l1289"><span class="linenum">1289</span></a>              if (!<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('primary')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/primary.html">primary</a> &amp;&amp; <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('actionmenu')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/actionmenu.html">actionmenu</a>-&gt;<a class="function" onClick="logFunction('will_be_enhanced')" href="../_functions/will_be_enhanced.html" onMouseOver="funcPopup(event,'will_be_enhanced')">will_be_enhanced</a>()) {
<a name="l1290"><span class="linenum">1290</span></a>                  if ((string)<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('attributes')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['alt'] === <a class="var it32276" onMouseOver="hilite(32276)" onMouseOut="lolite()" onClick="logVariable('comparetoalt')" href="../_variables/comparetoalt.html">$comparetoalt</a>) {
<a name="l1291"><span class="linenum">1291</span></a>                      <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('attributes')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['alt'] = '';
<a name="l1292"><span class="linenum">1292</span></a>                  }
<a name="l1293"><span class="linenum">1293</span></a>                  if (isset(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('attributes')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['title']) &amp;&amp; (string)<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('attributes')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['title'] === <a class="var it32276" onMouseOver="hilite(32276)" onMouseOut="lolite()" onClick="logVariable('comparetoalt')" href="../_variables/comparetoalt.html">$comparetoalt</a>) {
<a name="l1294"><span class="linenum">1294</span></a>                      unset(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('attributes')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['title']);
<a name="l1295"><span class="linenum">1295</span></a>                  }
<a name="l1296"><span class="linenum">1296</span></a>              }
<a name="l1297"><span class="linenum">1297</span></a>              <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>);
<a name="l1298"><span class="linenum">1298</span></a>          }
<a name="l1299"><span class="linenum">1299</span></a>  
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment">        // A disabled link is rendered as formatted text.</span>
<a name="l1301"><span class="linenum">1301</span></a>          if (!empty(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('attributes')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['disabled'])) {
<a name="l1302"><span class="linenum">1302</span></a>  <span class="comment">            // Do not use div here due to nesting restriction in xhtml strict.</span>
<a name="l1303"><span class="linenum">1303</span></a>              return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>.<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, array('class'=&gt;'currentlink', 'role' =&gt; 'menuitem'));
<a name="l1304"><span class="linenum">1304</span></a>          }
<a name="l1305"><span class="linenum">1305</span></a>  
<a name="l1306"><span class="linenum">1306</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('attributes')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>;
<a name="l1307"><span class="linenum">1307</span></a>          unset(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('attributes')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['disabled']);
<a name="l1308"><span class="linenum">1308</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['href'] = <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>-&gt;<a onClick="logVariable('url')" class="var it40225" onMouseOver="hilite(40225)" onMouseOut="lolite()" href="../_variables/url.html">url</a>;
<a name="l1309"><span class="linenum">1309</span></a>          if (<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> !== '') {
<a name="l1310"><span class="linenum">1310</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['aria-labelledby'] = 'actionmenuaction-'.<a class="var it32275" onMouseOver="hilite(32275)" onMouseOut="lolite()" onClick="logVariable('actioncount')" href="../_variables/actioncount.html">$actioncount</a>;
<a name="l1311"><span class="linenum">1311</span></a>          }
<a name="l1312"><span class="linenum">1312</span></a>  
<a name="l1313"><span class="linenum">1313</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>.<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l1314"><span class="linenum">1314</span></a>      }
<a name="l1315"><span class="linenum">1315</span></a>  
<a name="l1316"><span class="linenum">1316</span></a>      <span class="comment">/**</span>
<a name="l1317"><span class="linenum">1317</span></a>  <span class="comment">     * Renders a primary action_menu_filler item.</span>
<a name="l1318"><span class="linenum">1318</span></a>  <span class="comment">     *</span>
<a name="l1319"><span class="linenum">1319</span></a>  <span class="comment">     * @param action_menu_link_filler $action</span>
<a name="l1320"><span class="linenum">1320</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1321"><span class="linenum">1321</span></a>  <span class="comment">     */</span>
<a name="l1322"><span class="linenum">1322</span></a>      protected function <a class="function" onClick="logFunction('render_action_menu_filler')" href="../_functions/render_action_menu_filler.html" onMouseOver="funcPopup(event,'render_action_menu_filler')">render_action_menu_filler</a>(action_menu_filler <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) {
<a name="l1323"><span class="linenum">1323</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>('&amp;nbsp;', 'filler');
<a name="l1324"><span class="linenum">1324</span></a>      }
<a name="l1325"><span class="linenum">1325</span></a>  
<a name="l1326"><span class="linenum">1326</span></a>      <span class="comment">/**</span>
<a name="l1327"><span class="linenum">1327</span></a>  <span class="comment">     * Renders a primary action_menu_link item.</span>
<a name="l1328"><span class="linenum">1328</span></a>  <span class="comment">     *</span>
<a name="l1329"><span class="linenum">1329</span></a>  <span class="comment">     * @param action_menu_link_primary $action</span>
<a name="l1330"><span class="linenum">1330</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1331"><span class="linenum">1331</span></a>  <span class="comment">     */</span>
<a name="l1332"><span class="linenum">1332</span></a>      protected function <a class="function" onClick="logFunction('render_action_menu_link_primary')" href="../_functions/render_action_menu_link_primary.html" onMouseOver="funcPopup(event,'render_action_menu_link_primary')">render_action_menu_link_primary</a>(action_menu_link_primary <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) {
<a name="l1333"><span class="linenum">1333</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render_action_menu_link')" href="../_functions/render_action_menu_link.html" onMouseOver="funcPopup(event,'render_action_menu_link')">render_action_menu_link</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>);
<a name="l1334"><span class="linenum">1334</span></a>      }
<a name="l1335"><span class="linenum">1335</span></a>  
<a name="l1336"><span class="linenum">1336</span></a>      <span class="comment">/**</span>
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">     * Renders a secondary action_menu_link item.</span>
<a name="l1338"><span class="linenum">1338</span></a>  <span class="comment">     *</span>
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">     * @param action_menu_link_secondary $action</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment">     */</span>
<a name="l1342"><span class="linenum">1342</span></a>      protected function <a class="function" onClick="logFunction('render_action_menu_link_secondary')" href="../_functions/render_action_menu_link_secondary.html" onMouseOver="funcPopup(event,'render_action_menu_link_secondary')">render_action_menu_link_secondary</a>(action_menu_link_secondary <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) {
<a name="l1343"><span class="linenum">1343</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render_action_menu_link')" href="../_functions/render_action_menu_link.html" onMouseOver="funcPopup(event,'render_action_menu_link')">render_action_menu_link</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>);
<a name="l1344"><span class="linenum">1344</span></a>      }
<a name="l1345"><span class="linenum">1345</span></a>  
<a name="l1346"><span class="linenum">1346</span></a>      <span class="comment">/**</span>
<a name="l1347"><span class="linenum">1347</span></a>  <span class="comment">     * Prints a nice side block with an optional header.</span>
<a name="l1348"><span class="linenum">1348</span></a>  <span class="comment">     *</span>
<a name="l1349"><span class="linenum">1349</span></a>  <span class="comment">     * The content is described</span>
<a name="l1350"><span class="linenum">1350</span></a>  <span class="comment">     * by a {@link core_renderer::block_contents} object.</span>
<a name="l1351"><span class="linenum">1351</span></a>  <span class="comment">     *</span>
<a name="l1352"><span class="linenum">1352</span></a>  <span class="comment">     * &lt;div id=&quot;inst{$instanceid}&quot; class=&quot;block_{$blockname} block&quot;&gt;</span>
<a name="l1353"><span class="linenum">1353</span></a>  <span class="comment">     *      &lt;div class=&quot;header&quot;&gt;&lt;/div&gt;</span>
<a name="l1354"><span class="linenum">1354</span></a>  <span class="comment">     *      &lt;div class=&quot;content&quot;&gt;</span>
<a name="l1355"><span class="linenum">1355</span></a>  <span class="comment">     *          ...CONTENT...</span>
<a name="l1356"><span class="linenum">1356</span></a>  <span class="comment">     *          &lt;div class=&quot;footer&quot;&gt;</span>
<a name="l1357"><span class="linenum">1357</span></a>  <span class="comment">     *          &lt;/div&gt;</span>
<a name="l1358"><span class="linenum">1358</span></a>  <span class="comment">     *      &lt;/div&gt;</span>
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">     *      &lt;div class=&quot;annotation&quot;&gt;</span>
<a name="l1360"><span class="linenum">1360</span></a>  <span class="comment">     *      &lt;/div&gt;</span>
<a name="l1361"><span class="linenum">1361</span></a>  <span class="comment">     * &lt;/div&gt;</span>
<a name="l1362"><span class="linenum">1362</span></a>  <span class="comment">     *</span>
<a name="l1363"><span class="linenum">1363</span></a>  <span class="comment">     * @param block_contents $bc HTML for the content</span>
<a name="l1364"><span class="linenum">1364</span></a>  <span class="comment">     * @param string $region the region the block is appearing in.</span>
<a name="l1365"><span class="linenum">1365</span></a>  <span class="comment">     * @return string the HTML to be output.</span>
<a name="l1366"><span class="linenum">1366</span></a>  <span class="comment">     */</span>
<a name="l1367"><span class="linenum">1367</span></a>      public function <a class="function" onClick="logFunction('block')" href="../_functions/block.html" onMouseOver="funcPopup(event,'block')">block</a>(block_contents <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>, <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>) {
<a name="l1368"><span class="linenum">1368</span></a>          <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a> = <a class="function" onClick="logFunction('clone')" href="../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>); <span class="comment">// Avoid messing up the object passed in.</span>
<a name="l1369"><span class="linenum">1369</span></a>          if (empty(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('blockinstanceid')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/blockinstanceid.html">blockinstanceid</a>) || !<a class="phpfunction" onClick="logFunction('strip_tags')" href="../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('title')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/title.html">title</a>)) {
<a name="l1370"><span class="linenum">1370</span></a>              <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('collapsible')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/collapsible.html">collapsible</a> = <a class="class" onClick="logClass('block_contents')" href="../_classes/block_contents.html" onMouseOver="classPopup(event,'block_contents')">block_contents</a>::NOT_HIDEABLE;
<a name="l1371"><span class="linenum">1371</span></a>          }
<a name="l1372"><span class="linenum">1372</span></a>          if (!empty(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('blockinstanceid')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/blockinstanceid.html">blockinstanceid</a>)) {
<a name="l1373"><span class="linenum">1373</span></a>              <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('attributes')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['data-instanceid'] = <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('blockinstanceid')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/blockinstanceid.html">blockinstanceid</a>;
<a name="l1374"><span class="linenum">1374</span></a>          }
<a name="l1375"><span class="linenum">1375</span></a>          <a class="var it32277" onMouseOver="hilite(32277)" onMouseOut="lolite()" onClick="logVariable('skiptitle')" href="../_variables/skiptitle.html">$skiptitle</a> = <a class="phpfunction" onClick="logFunction('strip_tags')" href="../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('title')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/title.html">title</a>);
<a name="l1376"><span class="linenum">1376</span></a>          if (<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('blockinstanceid')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/blockinstanceid.html">blockinstanceid</a> &amp;&amp; !empty(<a class="var it32277" onMouseOver="hilite(32277)" onMouseOut="lolite()" onClick="logVariable('skiptitle')" href="../_variables/skiptitle.html">$skiptitle</a>)) {
<a name="l1377"><span class="linenum">1377</span></a>              <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('attributes')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['aria-labelledby'] = 'instance-'.<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('blockinstanceid')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/blockinstanceid.html">blockinstanceid</a>.'-header';
<a name="l1378"><span class="linenum">1378</span></a>          } else if (!empty(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('arialabel')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/arialabel.html">arialabel</a>)) {
<a name="l1379"><span class="linenum">1379</span></a>              <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('attributes')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['aria-label'] = <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('arialabel')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/arialabel.html">arialabel</a>;
<a name="l1380"><span class="linenum">1380</span></a>          }
<a name="l1381"><span class="linenum">1381</span></a>          if (<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('dockable')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/dockable.html">dockable</a>) {
<a name="l1382"><span class="linenum">1382</span></a>              <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('attributes')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['data-dockable'] = 1;
<a name="l1383"><span class="linenum">1383</span></a>          }
<a name="l1384"><span class="linenum">1384</span></a>          if (<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('collapsible')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/collapsible.html">collapsible</a> == <a class="class" onClick="logClass('block_contents')" href="../_classes/block_contents.html" onMouseOver="classPopup(event,'block_contents')">block_contents</a>::HIDDEN) {
<a name="l1385"><span class="linenum">1385</span></a>              <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a class="function" onClick="logFunction('add_class')" href="../_functions/add_class.html" onMouseOver="funcPopup(event,'add_class')">add_class</a>('hidden');
<a name="l1386"><span class="linenum">1386</span></a>          }
<a name="l1387"><span class="linenum">1387</span></a>          if (!empty(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('controls')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/controls.html">controls</a>)) {
<a name="l1388"><span class="linenum">1388</span></a>              <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a class="function" onClick="logFunction('add_class')" href="../_functions/add_class.html" onMouseOver="funcPopup(event,'add_class')">add_class</a>('block_with_controls');
<a name="l1389"><span class="linenum">1389</span></a>          }
<a name="l1390"><span class="linenum">1390</span></a>  
<a name="l1391"><span class="linenum">1391</span></a>  
<a name="l1392"><span class="linenum">1392</span></a>          if (empty(<a class="var it32277" onMouseOver="hilite(32277)" onMouseOut="lolite()" onClick="logVariable('skiptitle')" href="../_variables/skiptitle.html">$skiptitle</a>)) {
<a name="l1393"><span class="linenum">1393</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l1394"><span class="linenum">1394</span></a>              <a class="var it32278" onMouseOver="hilite(32278)" onMouseOut="lolite()" onClick="logVariable('skipdest')" href="../_variables/skipdest.html">$skipdest</a> = '';
<a name="l1395"><span class="linenum">1395</span></a>          } else {
<a name="l1396"><span class="linenum">1396</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('skipa', 'access', <a class="var it32277" onMouseOver="hilite(32277)" onMouseOut="lolite()" onClick="logVariable('skiptitle')" href="../_variables/skiptitle.html">$skiptitle</a>), array('href' =&gt; '#sb-' . <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('skipid')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/skipid.html">skipid</a>, 'class' =&gt; 'skip-block'));
<a name="l1397"><span class="linenum">1397</span></a>              <a class="var it32278" onMouseOver="hilite(32278)" onMouseOut="lolite()" onClick="logVariable('skipdest')" href="../_variables/skipdest.html">$skipdest</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', '', array('id' =&gt; 'sb-' . <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('skipid')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/skipid.html">skipid</a>, 'class' =&gt; 'skip-block-to'));
<a name="l1398"><span class="linenum">1398</span></a>          }
<a name="l1399"><span class="linenum">1399</span></a>  
<a name="l1400"><span class="linenum">1400</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('attributes')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>);
<a name="l1401"><span class="linenum">1401</span></a>  
<a name="l1402"><span class="linenum">1402</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('block_header')" href="../_functions/block_header.html" onMouseOver="funcPopup(event,'block_header')">block_header</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>);
<a name="l1403"><span class="linenum">1403</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('block_content')" href="../_functions/block_content.html" onMouseOver="funcPopup(event,'block_content')">block_content</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>);
<a name="l1404"><span class="linenum">1404</span></a>  
<a name="l1405"><span class="linenum">1405</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l1406"><span class="linenum">1406</span></a>  
<a name="l1407"><span class="linenum">1407</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('block_annotation')" href="../_functions/block_annotation.html" onMouseOver="funcPopup(event,'block_annotation')">block_annotation</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>);
<a name="l1408"><span class="linenum">1408</span></a>  
<a name="l1409"><span class="linenum">1409</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it32278" onMouseOver="hilite(32278)" onMouseOut="lolite()" onClick="logVariable('skipdest')" href="../_variables/skipdest.html">$skipdest</a>;
<a name="l1410"><span class="linenum">1410</span></a>  
<a name="l1411"><span class="linenum">1411</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('init_block_hider_js')" href="../_functions/init_block_hider_js.html" onMouseOver="funcPopup(event,'init_block_hider_js')">init_block_hider_js</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>);
<a name="l1412"><span class="linenum">1412</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1413"><span class="linenum">1413</span></a>      }
<a name="l1414"><span class="linenum">1414</span></a>  
<a name="l1415"><span class="linenum">1415</span></a>      <span class="comment">/**</span>
<a name="l1416"><span class="linenum">1416</span></a>  <span class="comment">     * Produces a header for a block</span>
<a name="l1417"><span class="linenum">1417</span></a>  <span class="comment">     *</span>
<a name="l1418"><span class="linenum">1418</span></a>  <span class="comment">     * @param block_contents $bc</span>
<a name="l1419"><span class="linenum">1419</span></a>  <span class="comment">     * @return string</span>
<a name="l1420"><span class="linenum">1420</span></a>  <span class="comment">     */</span>
<a name="l1421"><span class="linenum">1421</span></a>      protected function <a class="function" onClick="logFunction('block_header')" href="../_functions/block_header.html" onMouseOver="funcPopup(event,'block_header')">block_header</a>(block_contents <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>) {
<a name="l1422"><span class="linenum">1422</span></a>  
<a name="l1423"><span class="linenum">1423</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = '';
<a name="l1424"><span class="linenum">1424</span></a>          if (<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('title')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/title.html">title</a>) {
<a name="l1425"><span class="linenum">1425</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array();
<a name="l1426"><span class="linenum">1426</span></a>              if (<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('blockinstanceid')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/blockinstanceid.html">blockinstanceid</a>) {
<a name="l1427"><span class="linenum">1427</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['id'] = 'instance-'.<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('blockinstanceid')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/blockinstanceid.html">blockinstanceid</a>.'-header';
<a name="l1428"><span class="linenum">1428</span></a>              }
<a name="l1429"><span class="linenum">1429</span></a>              <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('h2', <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('title')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/title.html">title</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l1430"><span class="linenum">1430</span></a>          }
<a name="l1431"><span class="linenum">1431</span></a>  
<a name="l1432"><span class="linenum">1432</span></a>          <a class="var it8574" onMouseOver="hilite(8574)" onMouseOut="lolite()" onClick="logVariable('blockid')" href="../_variables/blockid.html">$blockid</a> = null;
<a name="l1433"><span class="linenum">1433</span></a>          if (isset(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('attributes')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'])) {
<a name="l1434"><span class="linenum">1434</span></a>              <a class="var it8574" onMouseOver="hilite(8574)" onMouseOut="lolite()" onClick="logVariable('blockid')" href="../_variables/blockid.html">$blockid</a> = <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('attributes')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'];
<a name="l1435"><span class="linenum">1435</span></a>          }
<a name="l1436"><span class="linenum">1436</span></a>          <a class="var it32279" onMouseOver="hilite(32279)" onMouseOut="lolite()" onClick="logVariable('controlshtml')" href="../_variables/controlshtml.html">$controlshtml</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('block_controls')" href="../_functions/block_controls.html" onMouseOver="funcPopup(event,'block_controls')">block_controls</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('controls')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/controls.html">controls</a>, <a class="var it8574" onMouseOver="hilite(8574)" onMouseOut="lolite()" onClick="logVariable('blockid')" href="../_variables/blockid.html">$blockid</a>);
<a name="l1437"><span class="linenum">1437</span></a>  
<a name="l1438"><span class="linenum">1438</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l1439"><span class="linenum">1439</span></a>          if (<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> || <a class="var it32279" onMouseOver="hilite(32279)" onMouseOut="lolite()" onClick="logVariable('controlshtml')" href="../_variables/controlshtml.html">$controlshtml</a>) {
<a name="l1440"><span class="linenum">1440</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', '', array('class'=&gt;'block_action')). <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> . <a class="var it32279" onMouseOver="hilite(32279)" onMouseOut="lolite()" onClick="logVariable('controlshtml')" href="../_variables/controlshtml.html">$controlshtml</a>, array('class' =&gt; 'title')), array('class' =&gt; 'header'));
<a name="l1441"><span class="linenum">1441</span></a>          }
<a name="l1442"><span class="linenum">1442</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1443"><span class="linenum">1443</span></a>      }
<a name="l1444"><span class="linenum">1444</span></a>  
<a name="l1445"><span class="linenum">1445</span></a>      <span class="comment">/**</span>
<a name="l1446"><span class="linenum">1446</span></a>  <span class="comment">     * Produces the content area for a block</span>
<a name="l1447"><span class="linenum">1447</span></a>  <span class="comment">     *</span>
<a name="l1448"><span class="linenum">1448</span></a>  <span class="comment">     * @param block_contents $bc</span>
<a name="l1449"><span class="linenum">1449</span></a>  <span class="comment">     * @return string</span>
<a name="l1450"><span class="linenum">1450</span></a>  <span class="comment">     */</span>
<a name="l1451"><span class="linenum">1451</span></a>      protected function <a class="function" onClick="logFunction('block_content')" href="../_functions/block_content.html" onMouseOver="funcPopup(event,'block_content')">block_content</a>(block_contents <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>) {
<a name="l1452"><span class="linenum">1452</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'content'));
<a name="l1453"><span class="linenum">1453</span></a>          if (!<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('title')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/title.html">title</a> &amp;&amp; !<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('block_controls')" href="../_functions/block_controls.html" onMouseOver="funcPopup(event,'block_controls')">block_controls</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('controls')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/controls.html">controls</a>)) {
<a name="l1454"><span class="linenum">1454</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', '', array('class'=&gt;'block_action notitle'));
<a name="l1455"><span class="linenum">1455</span></a>          }
<a name="l1456"><span class="linenum">1456</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('content')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/content.html">content</a>;
<a name="l1457"><span class="linenum">1457</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('block_footer')" href="../_functions/block_footer.html" onMouseOver="funcPopup(event,'block_footer')">block_footer</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>);
<a name="l1458"><span class="linenum">1458</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l1459"><span class="linenum">1459</span></a>  
<a name="l1460"><span class="linenum">1460</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1461"><span class="linenum">1461</span></a>      }
<a name="l1462"><span class="linenum">1462</span></a>  
<a name="l1463"><span class="linenum">1463</span></a>      <span class="comment">/**</span>
<a name="l1464"><span class="linenum">1464</span></a>  <span class="comment">     * Produces the footer for a block</span>
<a name="l1465"><span class="linenum">1465</span></a>  <span class="comment">     *</span>
<a name="l1466"><span class="linenum">1466</span></a>  <span class="comment">     * @param block_contents $bc</span>
<a name="l1467"><span class="linenum">1467</span></a>  <span class="comment">     * @return string</span>
<a name="l1468"><span class="linenum">1468</span></a>  <span class="comment">     */</span>
<a name="l1469"><span class="linenum">1469</span></a>      protected function <a class="function" onClick="logFunction('block_footer')" href="../_functions/block_footer.html" onMouseOver="funcPopup(event,'block_footer')">block_footer</a>(block_contents <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>) {
<a name="l1470"><span class="linenum">1470</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l1471"><span class="linenum">1471</span></a>          if (<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('footer')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/footer.html">footer</a>) {
<a name="l1472"><span class="linenum">1472</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('footer')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/footer.html">footer</a>, array('class' =&gt; 'footer'));
<a name="l1473"><span class="linenum">1473</span></a>          }
<a name="l1474"><span class="linenum">1474</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1475"><span class="linenum">1475</span></a>      }
<a name="l1476"><span class="linenum">1476</span></a>  
<a name="l1477"><span class="linenum">1477</span></a>      <span class="comment">/**</span>
<a name="l1478"><span class="linenum">1478</span></a>  <span class="comment">     * Produces the annotation for a block</span>
<a name="l1479"><span class="linenum">1479</span></a>  <span class="comment">     *</span>
<a name="l1480"><span class="linenum">1480</span></a>  <span class="comment">     * @param block_contents $bc</span>
<a name="l1481"><span class="linenum">1481</span></a>  <span class="comment">     * @return string</span>
<a name="l1482"><span class="linenum">1482</span></a>  <span class="comment">     */</span>
<a name="l1483"><span class="linenum">1483</span></a>      protected function <a class="function" onClick="logFunction('block_annotation')" href="../_functions/block_annotation.html" onMouseOver="funcPopup(event,'block_annotation')">block_annotation</a>(block_contents <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>) {
<a name="l1484"><span class="linenum">1484</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l1485"><span class="linenum">1485</span></a>          if (<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('annotation')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/annotation.html">annotation</a>) {
<a name="l1486"><span class="linenum">1486</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('annotation')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/annotation.html">annotation</a>, array('class' =&gt; 'blockannotation'));
<a name="l1487"><span class="linenum">1487</span></a>          }
<a name="l1488"><span class="linenum">1488</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1489"><span class="linenum">1489</span></a>      }
<a name="l1490"><span class="linenum">1490</span></a>  
<a name="l1491"><span class="linenum">1491</span></a>      <span class="comment">/**</span>
<a name="l1492"><span class="linenum">1492</span></a>  <span class="comment">     * Calls the JS require function to hide a block.</span>
<a name="l1493"><span class="linenum">1493</span></a>  <span class="comment">     *</span>
<a name="l1494"><span class="linenum">1494</span></a>  <span class="comment">     * @param block_contents $bc A block_contents object</span>
<a name="l1495"><span class="linenum">1495</span></a>  <span class="comment">     */</span>
<a name="l1496"><span class="linenum">1496</span></a>      protected function <a class="function" onClick="logFunction('init_block_hider_js')" href="../_functions/init_block_hider_js.html" onMouseOver="funcPopup(event,'init_block_hider_js')">init_block_hider_js</a>(block_contents <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>) {
<a name="l1497"><span class="linenum">1497</span></a>          if (!empty(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('attributes')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id']) and <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('collapsible')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/collapsible.html">collapsible</a> != <a class="class" onClick="logClass('block_contents')" href="../_classes/block_contents.html" onMouseOver="classPopup(event,'block_contents')">block_contents</a>::NOT_HIDEABLE) {
<a name="l1498"><span class="linenum">1498</span></a>              <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../_variables/config.html">$config</a> = new stdClass;
<a name="l1499"><span class="linenum">1499</span></a>              <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('id')" class="var it39457" onMouseOver="hilite(39457)" onMouseOut="lolite()" href="../_variables/id.html">id</a> = <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('attributes')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'];
<a name="l1500"><span class="linenum">1500</span></a>              <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('title')" class="var it39457" onMouseOver="hilite(39457)" onMouseOut="lolite()" href="../_variables/title.html">title</a> = <a class="phpfunction" onClick="logFunction('strip_tags')" href="../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('title')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/title.html">title</a>);
<a name="l1501"><span class="linenum">1501</span></a>              <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('preference')" class="var it39457" onMouseOver="hilite(39457)" onMouseOut="lolite()" href="../_variables/preference.html">preference</a> = 'block' . <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('blockinstanceid')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/blockinstanceid.html">blockinstanceid</a> . 'hidden';
<a name="l1502"><span class="linenum">1502</span></a>              <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('tooltipVisible')" class="var it39457" onMouseOver="hilite(39457)" onMouseOut="lolite()" href="../_variables/tooltipVisible.html">tooltipVisible</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hideblocka', 'access', <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('title')" class="var it39457" onMouseOver="hilite(39457)" onMouseOut="lolite()" href="../_variables/title.html">title</a>);
<a name="l1503"><span class="linenum">1503</span></a>              <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('tooltipHidden')" class="var it39457" onMouseOver="hilite(39457)" onMouseOut="lolite()" href="../_variables/tooltipHidden.html">tooltipHidden</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('showblocka', 'access', <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('title')" class="var it39457" onMouseOver="hilite(39457)" onMouseOut="lolite()" href="../_variables/title.html">title</a>);
<a name="l1504"><span class="linenum">1504</span></a>  
<a name="l1505"><span class="linenum">1505</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js_init_call')" href="../_functions/js_init_call.html" onMouseOver="funcPopup(event,'js_init_call')">js_init_call</a>('M.util.init_block_hider', array(<a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../_variables/config.html">$config</a>));
<a name="l1506"><span class="linenum">1506</span></a>              <a class="function" onClick="logFunction('user_preference_allow_ajax_update')" href="../_functions/user_preference_allow_ajax_update.html" onMouseOver="funcPopup(event,'user_preference_allow_ajax_update')">user_preference_allow_ajax_update</a>(<a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('preference')" class="var it39457" onMouseOver="hilite(39457)" onMouseOut="lolite()" href="../_variables/preference.html">preference</a>, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>);
<a name="l1507"><span class="linenum">1507</span></a>          }
<a name="l1508"><span class="linenum">1508</span></a>      }
<a name="l1509"><span class="linenum">1509</span></a>  
<a name="l1510"><span class="linenum">1510</span></a>      <span class="comment">/**</span>
<a name="l1511"><span class="linenum">1511</span></a>  <span class="comment">     * Render the contents of a block_list.</span>
<a name="l1512"><span class="linenum">1512</span></a>  <span class="comment">     *</span>
<a name="l1513"><span class="linenum">1513</span></a>  <span class="comment">     * @param array $icons the icon for each item.</span>
<a name="l1514"><span class="linenum">1514</span></a>  <span class="comment">     * @param array $items the content of each item.</span>
<a name="l1515"><span class="linenum">1515</span></a>  <span class="comment">     * @return string HTML</span>
<a name="l1516"><span class="linenum">1516</span></a>  <span class="comment">     */</span>
<a name="l1517"><span class="linenum">1517</span></a>      public function <a class="function" onClick="logFunction('list_block_contents')" href="../_functions/list_block_contents.html" onMouseOver="funcPopup(event,'list_block_contents')">list_block_contents</a>(<a class="var it2607" onMouseOver="hilite(2607)" onMouseOut="lolite()" onClick="logVariable('icons')" href="../_variables/icons.html">$icons</a>, <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a>) {
<a name="l1518"><span class="linenum">1518</span></a>          <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a> = 0;
<a name="l1519"><span class="linenum">1519</span></a>          <a class="var it16960" onMouseOver="hilite(16960)" onMouseOut="lolite()" onClick="logVariable('lis')" href="../_variables/lis.html">$lis</a> = array();
<a name="l1520"><span class="linenum">1520</span></a>          foreach (<a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> =&gt; <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>) {
<a name="l1521"><span class="linenum">1521</span></a>              <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('li', array('class' =&gt; 'r' . <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>));
<a name="l1522"><span class="linenum">1522</span></a>              if (!empty(<a class="var it2607" onMouseOver="hilite(2607)" onMouseOut="lolite()" onClick="logVariable('icons')" href="../_variables/icons.html">$icons</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>])) { //test if the content has an assigned icon
<a name="l1523"><span class="linenum">1523</span></a>                  <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it2607" onMouseOver="hilite(2607)" onMouseOut="lolite()" onClick="logVariable('icons')" href="../_variables/icons.html">$icons</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>], array('class' =&gt; 'icon column c0'));
<a name="l1524"><span class="linenum">1524</span></a>              }
<a name="l1525"><span class="linenum">1525</span></a>              <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, array('class' =&gt; 'column c1'));
<a name="l1526"><span class="linenum">1526</span></a>              <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('li');
<a name="l1527"><span class="linenum">1527</span></a>              <a class="var it16960" onMouseOver="hilite(16960)" onMouseOut="lolite()" onClick="logVariable('lis')" href="../_variables/lis.html">$lis</a>[] = <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>;
<a name="l1528"><span class="linenum">1528</span></a>              <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a> = 1 - <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>; <span class="comment">// Flip even/odd.</span>
<a name="l1529"><span class="linenum">1529</span></a>          }
<a name="l1530"><span class="linenum">1530</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('ul', <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(&quot;\n&quot;, <a class="var it16960" onMouseOver="hilite(16960)" onMouseOut="lolite()" onClick="logVariable('lis')" href="../_variables/lis.html">$lis</a>), array('class' =&gt; 'unlist'));
<a name="l1531"><span class="linenum">1531</span></a>      }
<a name="l1532"><span class="linenum">1532</span></a>  
<a name="l1533"><span class="linenum">1533</span></a>      <span class="comment">/**</span>
<a name="l1534"><span class="linenum">1534</span></a>  <span class="comment">     * Output all the blocks in a particular region.</span>
<a name="l1535"><span class="linenum">1535</span></a>  <span class="comment">     *</span>
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment">     * @param string $region the name of a region on this page.</span>
<a name="l1537"><span class="linenum">1537</span></a>  <span class="comment">     * @return string the HTML to be output.</span>
<a name="l1538"><span class="linenum">1538</span></a>  <span class="comment">     */</span>
<a name="l1539"><span class="linenum">1539</span></a>      public function <a class="function" onClick="logFunction('blocks_for_region')" href="../_functions/blocks_for_region.html" onMouseOver="funcPopup(event,'blocks_for_region')">blocks_for_region</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>) {
<a name="l1540"><span class="linenum">1540</span></a>          <a class="var it32282" onMouseOver="hilite(32282)" onMouseOut="lolite()" onClick="logVariable('blockcontents')" href="../_variables/blockcontents.html">$blockcontents</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;blocks-&gt;<a class="function" onClick="logFunction('get_content_for_region')" href="../_functions/get_content_for_region.html" onMouseOver="funcPopup(event,'get_content_for_region')">get_content_for_region</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>);
<a name="l1541"><span class="linenum">1541</span></a>          <a class="var it1264" onMouseOver="hilite(1264)" onMouseOut="lolite()" onClick="logVariable('blocks')" href="../_variables/blocks.html">$blocks</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;blocks-&gt;<a class="function" onClick="logFunction('get_blocks_for_region')" href="../_functions/get_blocks_for_region.html" onMouseOver="funcPopup(event,'get_blocks_for_region')">get_blocks_for_region</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>);
<a name="l1542"><span class="linenum">1542</span></a>          <a class="var it26694" onMouseOver="hilite(26694)" onMouseOut="lolite()" onClick="logVariable('lastblock')" href="../_variables/lastblock.html">$lastblock</a> = null;
<a name="l1543"><span class="linenum">1543</span></a>          <a class="var it11328" onMouseOver="hilite(11328)" onMouseOut="lolite()" onClick="logVariable('zones')" href="../_variables/zones.html">$zones</a> = array();
<a name="l1544"><span class="linenum">1544</span></a>          foreach (<a class="var it1264" onMouseOver="hilite(1264)" onMouseOut="lolite()" onClick="logVariable('blocks')" href="../_variables/blocks.html">$blocks</a> as <a class="var it286" onMouseOver="hilite(286)" onMouseOut="lolite()" onClick="logVariable('block')" href="../_variables/block.html">$block</a>) {
<a name="l1545"><span class="linenum">1545</span></a>              <a class="var it11328" onMouseOver="hilite(11328)" onMouseOut="lolite()" onClick="logVariable('zones')" href="../_variables/zones.html">$zones</a>[] = <a class="var it286" onMouseOver="hilite(286)" onMouseOut="lolite()" onClick="logVariable('block')" href="../_variables/block.html">$block</a>-&gt;<a onClick="logVariable('title')" class="var it39742" onMouseOver="hilite(39742)" onMouseOut="lolite()" href="../_variables/title.html">title</a>;
<a name="l1546"><span class="linenum">1546</span></a>          }
<a name="l1547"><span class="linenum">1547</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l1548"><span class="linenum">1548</span></a>  
<a name="l1549"><span class="linenum">1549</span></a>          foreach (<a class="var it32282" onMouseOver="hilite(32282)" onMouseOut="lolite()" onClick="logVariable('blockcontents')" href="../_variables/blockcontents.html">$blockcontents</a> as <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>) {
<a name="l1550"><span class="linenum">1550</span></a>              if (<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a> instanceof block_contents) {
<a name="l1551"><span class="linenum">1551</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('block')" href="../_functions/block.html" onMouseOver="funcPopup(event,'block')">block</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>, <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>);
<a name="l1552"><span class="linenum">1552</span></a>                  <a class="var it26694" onMouseOver="hilite(26694)" onMouseOut="lolite()" onClick="logVariable('lastblock')" href="../_variables/lastblock.html">$lastblock</a> = <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>-&gt;<a onClick="logVariable('title')" class="var it39922" onMouseOver="hilite(39922)" onMouseOut="lolite()" href="../_variables/title.html">title</a>;
<a name="l1553"><span class="linenum">1553</span></a>              } else if (<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a> instanceof block_move_target) {
<a name="l1554"><span class="linenum">1554</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('block_move_target')" href="../_functions/block_move_target.html" onMouseOver="funcPopup(event,'block_move_target')">block_move_target</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>, <a class="var it11328" onMouseOver="hilite(11328)" onMouseOut="lolite()" onClick="logVariable('zones')" href="../_variables/zones.html">$zones</a>, <a class="var it26694" onMouseOver="hilite(26694)" onMouseOut="lolite()" onClick="logVariable('lastblock')" href="../_variables/lastblock.html">$lastblock</a>, <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>);
<a name="l1555"><span class="linenum">1555</span></a>              } else {
<a name="l1556"><span class="linenum">1556</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Unexpected type of thing (' . <a class="phpfunction" onClick="logFunction('get_class')" href="../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>) . ') found in list of block contents.');
<a name="l1557"><span class="linenum">1557</span></a>              }
<a name="l1558"><span class="linenum">1558</span></a>          }
<a name="l1559"><span class="linenum">1559</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1560"><span class="linenum">1560</span></a>      }
<a name="l1561"><span class="linenum">1561</span></a>  
<a name="l1562"><span class="linenum">1562</span></a>      <span class="comment">/**</span>
<a name="l1563"><span class="linenum">1563</span></a>  <span class="comment">     * Output a place where the block that is currently being moved can be dropped.</span>
<a name="l1564"><span class="linenum">1564</span></a>  <span class="comment">     *</span>
<a name="l1565"><span class="linenum">1565</span></a>  <span class="comment">     * @param block_move_target $target with the necessary details.</span>
<a name="l1566"><span class="linenum">1566</span></a>  <span class="comment">     * @param array $zones array of areas where the block can be moved to</span>
<a name="l1567"><span class="linenum">1567</span></a>  <span class="comment">     * @param string $previous the block located before the area currently being rendered.</span>
<a name="l1568"><span class="linenum">1568</span></a>  <span class="comment">     * @param string $region the name of the region</span>
<a name="l1569"><span class="linenum">1569</span></a>  <span class="comment">     * @return string the HTML to be output.</span>
<a name="l1570"><span class="linenum">1570</span></a>  <span class="comment">     */</span>
<a name="l1571"><span class="linenum">1571</span></a>      public function <a class="function" onClick="logFunction('block_move_target')" href="../_functions/block_move_target.html" onMouseOver="funcPopup(event,'block_move_target')">block_move_target</a>(<a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>, <a class="var it11328" onMouseOver="hilite(11328)" onMouseOut="lolite()" onClick="logVariable('zones')" href="../_variables/zones.html">$zones</a>, <a class="var it1835" onMouseOver="hilite(1835)" onMouseOut="lolite()" onClick="logVariable('previous')" href="../_variables/previous.html">$previous</a>, <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>) {
<a name="l1572"><span class="linenum">1572</span></a>          if (<a class="var it1835" onMouseOver="hilite(1835)" onMouseOut="lolite()" onClick="logVariable('previous')" href="../_variables/previous.html">$previous</a> == null) {
<a name="l1573"><span class="linenum">1573</span></a>              if (empty(<a class="var it11328" onMouseOver="hilite(11328)" onMouseOut="lolite()" onClick="logVariable('zones')" href="../_variables/zones.html">$zones</a>)) {
<a name="l1574"><span class="linenum">1574</span></a>  <span class="comment">                // There are no zones, probably because there are no blocks.</span>
<a name="l1575"><span class="linenum">1575</span></a>                  <a class="var it1191" onMouseOver="hilite(1191)" onMouseOut="lolite()" onClick="logVariable('regions')" href="../_variables/regions.html">$regions</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;<a class="function" onClick="logFunction('get_all_block_regions')" href="../_functions/get_all_block_regions.html" onMouseOver="funcPopup(event,'get_all_block_regions')">get_all_block_regions</a>();
<a name="l1576"><span class="linenum">1576</span></a>                  <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('position')" href="../_variables/position.html">$position</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('moveblockinregion', 'block', <a class="var it1191" onMouseOver="hilite(1191)" onMouseOut="lolite()" onClick="logVariable('regions')" href="../_variables/regions.html">$regions</a>[<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>]);
<a name="l1577"><span class="linenum">1577</span></a>              } else {
<a name="l1578"><span class="linenum">1578</span></a>                  <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('position')" href="../_variables/position.html">$position</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('moveblockbefore', 'block', <a class="var it11328" onMouseOver="hilite(11328)" onMouseOut="lolite()" onClick="logVariable('zones')" href="../_variables/zones.html">$zones</a>[0]);
<a name="l1579"><span class="linenum">1579</span></a>              }
<a name="l1580"><span class="linenum">1580</span></a>          } else {
<a name="l1581"><span class="linenum">1581</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('position')" href="../_variables/position.html">$position</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('moveblockafter', 'block', <a class="var it1835" onMouseOver="hilite(1835)" onMouseOut="lolite()" onClick="logVariable('previous')" href="../_variables/previous.html">$previous</a>);
<a name="l1582"><span class="linenum">1582</span></a>          }
<a name="l1583"><span class="linenum">1583</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('position')" href="../_variables/position.html">$position</a>, array('class' =&gt; 'accesshide')), array('href' =&gt; <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>-&gt;<a onClick="logVariable('url')" class="var it40047" onMouseOver="hilite(40047)" onMouseOut="lolite()" href="../_variables/url.html">url</a>, 'class' =&gt; 'blockmovetarget'));
<a name="l1584"><span class="linenum">1584</span></a>      }
<a name="l1585"><span class="linenum">1585</span></a>  
<a name="l1586"><span class="linenum">1586</span></a>      <span class="comment">/**</span>
<a name="l1587"><span class="linenum">1587</span></a>  <span class="comment">     * Renders a special html link with attached action</span>
<a name="l1588"><span class="linenum">1588</span></a>  <span class="comment">     *</span>
<a name="l1589"><span class="linenum">1589</span></a>  <span class="comment">     * Theme developers: DO NOT OVERRIDE! Please override function</span>
<a name="l1590"><span class="linenum">1590</span></a>  <span class="comment">     * {@link core_renderer::render_action_link()} instead.</span>
<a name="l1591"><span class="linenum">1591</span></a>  <span class="comment">     *</span>
<a name="l1592"><span class="linenum">1592</span></a>  <span class="comment">     * @param string|moodle_url $url</span>
<a name="l1593"><span class="linenum">1593</span></a>  <span class="comment">     * @param string $text HTML fragment</span>
<a name="l1594"><span class="linenum">1594</span></a>  <span class="comment">     * @param component_action $action</span>
<a name="l1595"><span class="linenum">1595</span></a>  <span class="comment">     * @param array $attributes associative array of html link attributes + disabled</span>
<a name="l1596"><span class="linenum">1596</span></a>  <span class="comment">     * @param pix_icon optional pix icon to render with the link</span>
<a name="l1597"><span class="linenum">1597</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1598"><span class="linenum">1598</span></a>  <span class="comment">     */</span>
<a name="l1599"><span class="linenum">1599</span></a>      public function <a class="function" onClick="logFunction('action_link')" href="../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, component_action <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> = null, array <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = null, <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = null) {
<a name="l1600"><span class="linenum">1600</span></a>          if (!(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> instanceof moodle_url)) {
<a name="l1601"><span class="linenum">1601</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l1602"><span class="linenum">1602</span></a>          }
<a name="l1603"><span class="linenum">1603</span></a>          <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <span class="keyword">new </span><a class="class" onClick="logClass('action_link')" href="../_classes/action_link.html" onMouseOver="classPopup(event,'action_link')">action_link</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>, <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>);
<a name="l1604"><span class="linenum">1604</span></a>  
<a name="l1605"><span class="linenum">1605</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>);
<a name="l1606"><span class="linenum">1606</span></a>      }
<a name="l1607"><span class="linenum">1607</span></a>  
<a name="l1608"><span class="linenum">1608</span></a>      <span class="comment">/**</span>
<a name="l1609"><span class="linenum">1609</span></a>  <span class="comment">     * Renders an action_link object.</span>
<a name="l1610"><span class="linenum">1610</span></a>  <span class="comment">     *</span>
<a name="l1611"><span class="linenum">1611</span></a>  <span class="comment">     * The provided link is renderer and the HTML returned. At the same time the</span>
<a name="l1612"><span class="linenum">1612</span></a>  <span class="comment">     * associated actions are setup in JS by {@link core_renderer::add_action_handler()}</span>
<a name="l1613"><span class="linenum">1613</span></a>  <span class="comment">     *</span>
<a name="l1614"><span class="linenum">1614</span></a>  <span class="comment">     * @param action_link $link</span>
<a name="l1615"><span class="linenum">1615</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1616"><span class="linenum">1616</span></a>  <span class="comment">     */</span>
<a name="l1617"><span class="linenum">1617</span></a>      protected function <a class="function" onClick="logFunction('render_action_link')" href="../_functions/render_action_link.html" onMouseOver="funcPopup(event,'render_action_link')">render_action_link</a>(action_link <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>) {
<a name="l1618"><span class="linenum">1618</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1619"><span class="linenum">1619</span></a>  
<a name="l1620"><span class="linenum">1620</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = '';
<a name="l1621"><span class="linenum">1621</span></a>          if (<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('icon')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/icon.html">icon</a>) {
<a name="l1622"><span class="linenum">1622</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('icon')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/icon.html">icon</a>);
<a name="l1623"><span class="linenum">1623</span></a>          }
<a name="l1624"><span class="linenum">1624</span></a>  
<a name="l1625"><span class="linenum">1625</span></a>          if (<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('text')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/text.html">text</a> instanceof renderable) {
<a name="l1626"><span class="linenum">1626</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('text')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/text.html">text</a>);
<a name="l1627"><span class="linenum">1627</span></a>          } else {
<a name="l1628"><span class="linenum">1628</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> .= <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('text')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/text.html">text</a>;
<a name="l1629"><span class="linenum">1629</span></a>          }
<a name="l1630"><span class="linenum">1630</span></a>  
<a name="l1631"><span class="linenum">1631</span></a>  <span class="comment">        // A disabled link is rendered as formatted text</span>
<a name="l1632"><span class="linenum">1632</span></a>          if (!empty(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('attributes')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['disabled'])) {
<a name="l1633"><span class="linenum">1633</span></a>  <span class="comment">            // do not use div here due to nesting restriction in xhtml strict</span>
<a name="l1634"><span class="linenum">1634</span></a>              return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, array('class'=&gt;'currentlink'));
<a name="l1635"><span class="linenum">1635</span></a>          }
<a name="l1636"><span class="linenum">1636</span></a>  
<a name="l1637"><span class="linenum">1637</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('attributes')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>;
<a name="l1638"><span class="linenum">1638</span></a>          unset(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('attributes')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['disabled']);
<a name="l1639"><span class="linenum">1639</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['href'] = <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('url')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/url.html">url</a>;
<a name="l1640"><span class="linenum">1640</span></a>  
<a name="l1641"><span class="linenum">1641</span></a>          if (<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('actions')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/actions.html">actions</a>) {
<a name="l1642"><span class="linenum">1642</span></a>              if (empty(<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['id'])) {
<a name="l1643"><span class="linenum">1643</span></a>                  <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('random_id')" href="../_functions/random_id.html" onMouseOver="funcPopup(event,'random_id')">random_id</a>('action_link');
<a name="l1644"><span class="linenum">1644</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['id'] = <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>;
<a name="l1645"><span class="linenum">1645</span></a>              } else {
<a name="l1646"><span class="linenum">1646</span></a>                  <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['id'];
<a name="l1647"><span class="linenum">1647</span></a>              }
<a name="l1648"><span class="linenum">1648</span></a>              foreach (<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('actions')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/actions.html">actions</a> as <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) {
<a name="l1649"><span class="linenum">1649</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_action_handler')" href="../_functions/add_action_handler.html" onMouseOver="funcPopup(event,'add_action_handler')">add_action_handler</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>);
<a name="l1650"><span class="linenum">1650</span></a>              }
<a name="l1651"><span class="linenum">1651</span></a>          }
<a name="l1652"><span class="linenum">1652</span></a>  
<a name="l1653"><span class="linenum">1653</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l1654"><span class="linenum">1654</span></a>      }
<a name="l1655"><span class="linenum">1655</span></a>  
<a name="l1656"><span class="linenum">1656</span></a>  
<a name="l1657"><span class="linenum">1657</span></a>      <span class="comment">/**</span>
<a name="l1658"><span class="linenum">1658</span></a>  <span class="comment">     * Renders an action_icon.</span>
<a name="l1659"><span class="linenum">1659</span></a>  <span class="comment">     *</span>
<a name="l1660"><span class="linenum">1660</span></a>  <span class="comment">     * This function uses the {@link core_renderer::action_link()} method for the</span>
<a name="l1661"><span class="linenum">1661</span></a>  <span class="comment">     * most part. What it does different is prepare the icon as HTML and use it</span>
<a name="l1662"><span class="linenum">1662</span></a>  <span class="comment">     * as the link text.</span>
<a name="l1663"><span class="linenum">1663</span></a>  <span class="comment">     *</span>
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment">     * Theme developers: If you want to change how action links and/or icons are rendered,</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment">     * consider overriding function {@link core_renderer::render_action_link()} and</span>
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment">     * {@link core_renderer::render_pix_icon()}.</span>
<a name="l1667"><span class="linenum">1667</span></a>  <span class="comment">     *</span>
<a name="l1668"><span class="linenum">1668</span></a>  <span class="comment">     * @param string|moodle_url $url A string URL or moodel_url</span>
<a name="l1669"><span class="linenum">1669</span></a>  <span class="comment">     * @param pix_icon $pixicon</span>
<a name="l1670"><span class="linenum">1670</span></a>  <span class="comment">     * @param component_action $action</span>
<a name="l1671"><span class="linenum">1671</span></a>  <span class="comment">     * @param array $attributes associative array of html link attributes + disabled</span>
<a name="l1672"><span class="linenum">1672</span></a>  <span class="comment">     * @param bool $linktext show title next to image in link</span>
<a name="l1673"><span class="linenum">1673</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1674"><span class="linenum">1674</span></a>  <span class="comment">     */</span>
<a name="l1675"><span class="linenum">1675</span></a>      public function <a class="function" onClick="logFunction('action_icon')" href="../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, pix_icon <a class="var it10839" onMouseOver="hilite(10839)" onMouseOut="lolite()" onClick="logVariable('pixicon')" href="../_variables/pixicon.html">$pixicon</a>, component_action <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> = null, array <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = null, <a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../_variables/linktext.html">$linktext</a>=false) {
<a name="l1676"><span class="linenum">1676</span></a>          if (!(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> instanceof moodle_url)) {
<a name="l1677"><span class="linenum">1677</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l1678"><span class="linenum">1678</span></a>          }
<a name="l1679"><span class="linenum">1679</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = (array)<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>;
<a name="l1680"><span class="linenum">1680</span></a>  
<a name="l1681"><span class="linenum">1681</span></a>          if (empty(<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['class'])) {
<a name="l1682"><span class="linenum">1682</span></a>  <span class="comment">            // let ppl override the class via $options</span>
<a name="l1683"><span class="linenum">1683</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['class'] = 'action-icon';
<a name="l1684"><span class="linenum">1684</span></a>          }
<a name="l1685"><span class="linenum">1685</span></a>  
<a name="l1686"><span class="linenum">1686</span></a>          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it10839" onMouseOver="hilite(10839)" onMouseOut="lolite()" onClick="logVariable('pixicon')" href="../_variables/pixicon.html">$pixicon</a>);
<a name="l1687"><span class="linenum">1687</span></a>  
<a name="l1688"><span class="linenum">1688</span></a>          if (<a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../_variables/linktext.html">$linktext</a>) {
<a name="l1689"><span class="linenum">1689</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="var it10839" onMouseOver="hilite(10839)" onMouseOut="lolite()" onClick="logVariable('pixicon')" href="../_variables/pixicon.html">$pixicon</a>-&gt;<a onClick="logVariable('attributes')" class="var it39879" onMouseOver="hilite(39879)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['alt'];
<a name="l1690"><span class="linenum">1690</span></a>          } else {
<a name="l1691"><span class="linenum">1691</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = '';
<a name="l1692"><span class="linenum">1692</span></a>          }
<a name="l1693"><span class="linenum">1693</span></a>  
<a name="l1694"><span class="linenum">1694</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>.<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l1695"><span class="linenum">1695</span></a>      }
<a name="l1696"><span class="linenum">1696</span></a>  
<a name="l1697"><span class="linenum">1697</span></a>     <span class="comment">/**</span>
<a name="l1698"><span class="linenum">1698</span></a>  <span class="comment">    * Print a message along with button choices for Continue/Cancel</span>
<a name="l1699"><span class="linenum">1699</span></a>  <span class="comment">    *</span>
<a name="l1700"><span class="linenum">1700</span></a>  <span class="comment">    * If a string or moodle_url is given instead of a single_button, method defaults to post.</span>
<a name="l1701"><span class="linenum">1701</span></a>  <span class="comment">    *</span>
<a name="l1702"><span class="linenum">1702</span></a>  <span class="comment">    * @param string $message The question to ask the user</span>
<a name="l1703"><span class="linenum">1703</span></a>  <span class="comment">    * @param single_button|moodle_url|string $continue The single_button component representing the Continue answer. Can also be a moodle_url or string URL</span>
<a name="l1704"><span class="linenum">1704</span></a>  <span class="comment">    * @param single_button|moodle_url|string $cancel The single_button component representing the Cancel answer. Can also be a moodle_url or string URL</span>
<a name="l1705"><span class="linenum">1705</span></a>  <span class="comment">    * @return string HTML fragment</span>
<a name="l1706"><span class="linenum">1706</span></a>  <span class="comment">    */</span>
<a name="l1707"><span class="linenum">1707</span></a>      public function <a class="function" onClick="logFunction('confirm')" href="../_functions/confirm.html" onMouseOver="funcPopup(event,'confirm')">confirm</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it4215" onMouseOver="hilite(4215)" onMouseOut="lolite()" onClick="logVariable('continue')" href="../_variables/continue.html">$continue</a>, <a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('cancel')" href="../_variables/cancel.html">$cancel</a>) {
<a name="l1708"><span class="linenum">1708</span></a>          if (<a class="var it4215" onMouseOver="hilite(4215)" onMouseOut="lolite()" onClick="logVariable('continue')" href="../_variables/continue.html">$continue</a> instanceof single_button) {
<a name="l1709"><span class="linenum">1709</span></a>  <span class="comment">            // ok</span>
<a name="l1710"><span class="linenum">1710</span></a>          } else if (<a class="phpfunction" onClick="logFunction('is_string')" href="../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it4215" onMouseOver="hilite(4215)" onMouseOut="lolite()" onClick="logVariable('continue')" href="../_variables/continue.html">$continue</a>)) {
<a name="l1711"><span class="linenum">1711</span></a>              <a class="var it4215" onMouseOver="hilite(4215)" onMouseOut="lolite()" onClick="logVariable('continue')" href="../_variables/continue.html">$continue</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_button')" href="../_classes/single_button.html" onMouseOver="classPopup(event,'single_button')">single_button</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it4215" onMouseOver="hilite(4215)" onMouseOut="lolite()" onClick="logVariable('continue')" href="../_variables/continue.html">$continue</a>), <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('continue'), 'post');
<a name="l1712"><span class="linenum">1712</span></a>          } else if (<a class="var it4215" onMouseOver="hilite(4215)" onMouseOut="lolite()" onClick="logVariable('continue')" href="../_variables/continue.html">$continue</a> instanceof moodle_url) {
<a name="l1713"><span class="linenum">1713</span></a>              <a class="var it4215" onMouseOver="hilite(4215)" onMouseOut="lolite()" onClick="logVariable('continue')" href="../_variables/continue.html">$continue</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_button')" href="../_classes/single_button.html" onMouseOver="classPopup(event,'single_button')">single_button</a>(<a class="var it4215" onMouseOver="hilite(4215)" onMouseOut="lolite()" onClick="logVariable('continue')" href="../_variables/continue.html">$continue</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('continue'), 'post');
<a name="l1714"><span class="linenum">1714</span></a>          } else {
<a name="l1715"><span class="linenum">1715</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('The continue param to <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('confirm')" href="../_functions/confirm.html" onMouseOver="funcPopup(event,'confirm')">confirm</a>() must be either a URL (string/moodle_url) or a single_button instance.');
<a name="l1716"><span class="linenum">1716</span></a>          }
<a name="l1717"><span class="linenum">1717</span></a>  
<a name="l1718"><span class="linenum">1718</span></a>          if (<a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('cancel')" href="../_variables/cancel.html">$cancel</a> instanceof single_button) {
<a name="l1719"><span class="linenum">1719</span></a>  <span class="comment">            // ok</span>
<a name="l1720"><span class="linenum">1720</span></a>          } else if (<a class="phpfunction" onClick="logFunction('is_string')" href="../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('cancel')" href="../_variables/cancel.html">$cancel</a>)) {
<a name="l1721"><span class="linenum">1721</span></a>              <a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('cancel')" href="../_variables/cancel.html">$cancel</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_button')" href="../_classes/single_button.html" onMouseOver="classPopup(event,'single_button')">single_button</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('cancel')" href="../_variables/cancel.html">$cancel</a>), <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('cancel'), 'get');
<a name="l1722"><span class="linenum">1722</span></a>          } else if (<a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('cancel')" href="../_variables/cancel.html">$cancel</a> instanceof moodle_url) {
<a name="l1723"><span class="linenum">1723</span></a>              <a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('cancel')" href="../_variables/cancel.html">$cancel</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_button')" href="../_classes/single_button.html" onMouseOver="classPopup(event,'single_button')">single_button</a>(<a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('cancel')" href="../_variables/cancel.html">$cancel</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('cancel'), 'get');
<a name="l1724"><span class="linenum">1724</span></a>          } else {
<a name="l1725"><span class="linenum">1725</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('The cancel param to <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('confirm')" href="../_functions/confirm.html" onMouseOver="funcPopup(event,'confirm')">confirm</a>() must be either a URL (string/moodle_url) or a single_button instance.');
<a name="l1726"><span class="linenum">1726</span></a>          }
<a name="l1727"><span class="linenum">1727</span></a>  
<a name="l1728"><span class="linenum">1728</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('generalbox', 'notice');
<a name="l1729"><span class="linenum">1729</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('p', <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>);
<a name="l1730"><span class="linenum">1730</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it4215" onMouseOver="hilite(4215)" onMouseOut="lolite()" onClick="logVariable('continue')" href="../_variables/continue.html">$continue</a>) . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('cancel')" href="../_variables/cancel.html">$cancel</a>), array('class' =&gt; 'buttons'));
<a name="l1731"><span class="linenum">1731</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l1732"><span class="linenum">1732</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1733"><span class="linenum">1733</span></a>      }
<a name="l1734"><span class="linenum">1734</span></a>  
<a name="l1735"><span class="linenum">1735</span></a>      <span class="comment">/**</span>
<a name="l1736"><span class="linenum">1736</span></a>  <span class="comment">     * Returns a form with a single button.</span>
<a name="l1737"><span class="linenum">1737</span></a>  <span class="comment">     *</span>
<a name="l1738"><span class="linenum">1738</span></a>  <span class="comment">     * Theme developers: DO NOT OVERRIDE! Please override function</span>
<a name="l1739"><span class="linenum">1739</span></a>  <span class="comment">     * {@link core_renderer::render_single_button()} instead.</span>
<a name="l1740"><span class="linenum">1740</span></a>  <span class="comment">     *</span>
<a name="l1741"><span class="linenum">1741</span></a>  <span class="comment">     * @param string|moodle_url $url</span>
<a name="l1742"><span class="linenum">1742</span></a>  <span class="comment">     * @param string $label button text</span>
<a name="l1743"><span class="linenum">1743</span></a>  <span class="comment">     * @param string $method get or post submit method</span>
<a name="l1744"><span class="linenum">1744</span></a>  <span class="comment">     * @param array $options associative array {disabled, title, etc.}</span>
<a name="l1745"><span class="linenum">1745</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1746"><span class="linenum">1746</span></a>  <span class="comment">     */</span>
<a name="l1747"><span class="linenum">1747</span></a>      public function <a class="function" onClick="logFunction('single_button')" href="../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a>, <a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>='post', array <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>=null) {
<a name="l1748"><span class="linenum">1748</span></a>          if (!(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> instanceof moodle_url)) {
<a name="l1749"><span class="linenum">1749</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l1750"><span class="linenum">1750</span></a>          }
<a name="l1751"><span class="linenum">1751</span></a>          <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_button')" href="../_classes/single_button.html" onMouseOver="classPopup(event,'single_button')">single_button</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a>, <a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>);
<a name="l1752"><span class="linenum">1752</span></a>  
<a name="l1753"><span class="linenum">1753</span></a>          foreach ((array)<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>=&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l1754"><span class="linenum">1754</span></a>              if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>, <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>)) {
<a name="l1755"><span class="linenum">1755</span></a>                  <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l1756"><span class="linenum">1756</span></a>              }
<a name="l1757"><span class="linenum">1757</span></a>          }
<a name="l1758"><span class="linenum">1758</span></a>  
<a name="l1759"><span class="linenum">1759</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>);
<a name="l1760"><span class="linenum">1760</span></a>      }
<a name="l1761"><span class="linenum">1761</span></a>  
<a name="l1762"><span class="linenum">1762</span></a>      <span class="comment">/**</span>
<a name="l1763"><span class="linenum">1763</span></a>  <span class="comment">     * Renders a single button widget.</span>
<a name="l1764"><span class="linenum">1764</span></a>  <span class="comment">     *</span>
<a name="l1765"><span class="linenum">1765</span></a>  <span class="comment">     * This will return HTML to display a form containing a single button.</span>
<a name="l1766"><span class="linenum">1766</span></a>  <span class="comment">     *</span>
<a name="l1767"><span class="linenum">1767</span></a>  <span class="comment">     * @param single_button $button</span>
<a name="l1768"><span class="linenum">1768</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment">     */</span>
<a name="l1770"><span class="linenum">1770</span></a>      protected function <a class="function" onClick="logFunction('render_single_button')" href="../_functions/render_single_button.html" onMouseOver="funcPopup(event,'render_single_button')">render_single_button</a>(single_button <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>) {
<a name="l1771"><span class="linenum">1771</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('type'     =&gt; 'submit',
<a name="l1772"><span class="linenum">1772</span></a>                              'value'    =&gt; <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('label')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/label.html">label</a>,
<a name="l1773"><span class="linenum">1773</span></a>                              'disabled' =&gt; <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('disabled')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/disabled.html">disabled</a> ? 'disabled' : null,
<a name="l1774"><span class="linenum">1774</span></a>                              'title'    =&gt; <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('tooltip')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/tooltip.html">tooltip</a>);
<a name="l1775"><span class="linenum">1775</span></a>  
<a name="l1776"><span class="linenum">1776</span></a>          if (<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('actions')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/actions.html">actions</a>) {
<a name="l1777"><span class="linenum">1777</span></a>              <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('random_id')" href="../_functions/random_id.html" onMouseOver="funcPopup(event,'random_id')">random_id</a>('single_button');
<a name="l1778"><span class="linenum">1778</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['id'] = <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>;
<a name="l1779"><span class="linenum">1779</span></a>              foreach (<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('actions')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/actions.html">actions</a> as <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) {
<a name="l1780"><span class="linenum">1780</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_action_handler')" href="../_functions/add_action_handler.html" onMouseOver="funcPopup(event,'add_action_handler')">add_action_handler</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>);
<a name="l1781"><span class="linenum">1781</span></a>              }
<a name="l1782"><span class="linenum">1782</span></a>          }
<a name="l1783"><span class="linenum">1783</span></a>  
<a name="l1784"><span class="linenum">1784</span></a>  <span class="comment">        // first the input element</span>
<a name="l1785"><span class="linenum">1785</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l1786"><span class="linenum">1786</span></a>  
<a name="l1787"><span class="linenum">1787</span></a>  <span class="comment">        // then hidden fields</span>
<a name="l1788"><span class="linenum">1788</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('url')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/url.html">url</a>-&gt;<a class="function" onClick="logFunction('params')" href="../_functions/params.html" onMouseOver="funcPopup(event,'params')">params</a>();
<a name="l1789"><span class="linenum">1789</span></a>          if (<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('method')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/method.html">method</a> === 'post') {
<a name="l1790"><span class="linenum">1790</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['sesskey'] = <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>();
<a name="l1791"><span class="linenum">1791</span></a>          }
<a name="l1792"><span class="linenum">1792</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> as <a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../_variables/var.html">$var</a> =&gt; <a class="var it1140" onMouseOver="hilite(1140)" onMouseOut="lolite()" onClick="logVariable('val')" href="../_variables/val.html">$val</a>) {
<a name="l1793"><span class="linenum">1793</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'hidden', 'name' =&gt; <a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../_variables/var.html">$var</a>, 'value' =&gt; <a class="var it1140" onMouseOver="hilite(1140)" onMouseOut="lolite()" onClick="logVariable('val')" href="../_variables/val.html">$val</a>));
<a name="l1794"><span class="linenum">1794</span></a>          }
<a name="l1795"><span class="linenum">1795</span></a>  
<a name="l1796"><span class="linenum">1796</span></a>  <span class="comment">        // then div wrapper for xhtml strictness</span>
<a name="l1797"><span class="linenum">1797</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>);
<a name="l1798"><span class="linenum">1798</span></a>  
<a name="l1799"><span class="linenum">1799</span></a>  <span class="comment">        // now the form itself around it</span>
<a name="l1800"><span class="linenum">1800</span></a>          if (<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('method')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/method.html">method</a> === 'get') {
<a name="l1801"><span class="linenum">1801</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('url')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/url.html">url</a>-&gt;<a class="function" onClick="logFunction('out_omit_querystring')" href="../_functions/out_omit_querystring.html" onMouseOver="funcPopup(event,'out_omit_querystring')">out_omit_querystring</a>(true); <span class="comment">// url without params, the anchor part allowed</span>
<a name="l1802"><span class="linenum">1802</span></a>          } else {
<a name="l1803"><span class="linenum">1803</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('url')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/url.html">url</a>-&gt;<a class="function" onClick="logFunction('out_omit_querystring')" href="../_functions/out_omit_querystring.html" onMouseOver="funcPopup(event,'out_omit_querystring')">out_omit_querystring</a>();     <span class="comment">// url without params, the anchor part not allowed</span>
<a name="l1804"><span class="linenum">1804</span></a>          }
<a name="l1805"><span class="linenum">1805</span></a>          if (<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> === '') {
<a name="l1806"><span class="linenum">1806</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = '#'; <span class="comment">// there has to be always some action</span>
<a name="l1807"><span class="linenum">1807</span></a>          }
<a name="l1808"><span class="linenum">1808</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('method' =&gt; <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('method')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/method.html">method</a>,
<a name="l1809"><span class="linenum">1809</span></a>                              'action' =&gt; <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>,
<a name="l1810"><span class="linenum">1810</span></a>                              'id'     =&gt; <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('formid')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/formid.html">formid</a>);
<a name="l1811"><span class="linenum">1811</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('form', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l1812"><span class="linenum">1812</span></a>  
<a name="l1813"><span class="linenum">1813</span></a>  <span class="comment">        // and finally one more wrapper with class</span>
<a name="l1814"><span class="linenum">1814</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>, array('class' =&gt; <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('class')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/class.html">class</a>));
<a name="l1815"><span class="linenum">1815</span></a>      }
<a name="l1816"><span class="linenum">1816</span></a>  
<a name="l1817"><span class="linenum">1817</span></a>      <span class="comment">/**</span>
<a name="l1818"><span class="linenum">1818</span></a>  <span class="comment">     * Returns a form with a single select widget.</span>
<a name="l1819"><span class="linenum">1819</span></a>  <span class="comment">     *</span>
<a name="l1820"><span class="linenum">1820</span></a>  <span class="comment">     * Theme developers: DO NOT OVERRIDE! Please override function</span>
<a name="l1821"><span class="linenum">1821</span></a>  <span class="comment">     * {@link core_renderer::render_single_select()} instead.</span>
<a name="l1822"><span class="linenum">1822</span></a>  <span class="comment">     *</span>
<a name="l1823"><span class="linenum">1823</span></a>  <span class="comment">     * @param moodle_url $url form action target, includes hidden fields</span>
<a name="l1824"><span class="linenum">1824</span></a>  <span class="comment">     * @param string $name name of selection field - the changing parameter in url</span>
<a name="l1825"><span class="linenum">1825</span></a>  <span class="comment">     * @param array $options list of options</span>
<a name="l1826"><span class="linenum">1826</span></a>  <span class="comment">     * @param string $selected selected element</span>
<a name="l1827"><span class="linenum">1827</span></a>  <span class="comment">     * @param array $nothing</span>
<a name="l1828"><span class="linenum">1828</span></a>  <span class="comment">     * @param string $formid</span>
<a name="l1829"><span class="linenum">1829</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1830"><span class="linenum">1830</span></a>  <span class="comment">     */</span>
<a name="l1831"><span class="linenum">1831</span></a>      public function <a class="function" onClick="logFunction('single_select')" href="../_functions/single_select.html" onMouseOver="funcPopup(event,'single_select')">single_select</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, array <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>, <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a> = '', <a class="var it7148" onMouseOver="hilite(7148)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a> = array('' =&gt; 'choosedots'), <a class="var it7299" onMouseOver="hilite(7299)" onMouseOut="lolite()" onClick="logVariable('formid')" href="../_variables/formid.html">$formid</a> = null) {
<a name="l1832"><span class="linenum">1832</span></a>          if (!(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> instanceof moodle_url)) {
<a name="l1833"><span class="linenum">1833</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l1834"><span class="linenum">1834</span></a>          }
<a name="l1835"><span class="linenum">1835</span></a>          <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_select')" href="../_classes/single_select.html" onMouseOver="classPopup(event,'single_select')">single_select</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>, <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>, <a class="var it7148" onMouseOver="hilite(7148)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a>, <a class="var it7299" onMouseOver="hilite(7299)" onMouseOut="lolite()" onClick="logVariable('formid')" href="../_variables/formid.html">$formid</a>);
<a name="l1836"><span class="linenum">1836</span></a>  
<a name="l1837"><span class="linenum">1837</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>);
<a name="l1838"><span class="linenum">1838</span></a>      }
<a name="l1839"><span class="linenum">1839</span></a>  
<a name="l1840"><span class="linenum">1840</span></a>      <span class="comment">/**</span>
<a name="l1841"><span class="linenum">1841</span></a>  <span class="comment">     * Internal implementation of single_select rendering</span>
<a name="l1842"><span class="linenum">1842</span></a>  <span class="comment">     *</span>
<a name="l1843"><span class="linenum">1843</span></a>  <span class="comment">     * @param single_select $select</span>
<a name="l1844"><span class="linenum">1844</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1845"><span class="linenum">1845</span></a>  <span class="comment">     */</span>
<a name="l1846"><span class="linenum">1846</span></a>      protected function <a class="function" onClick="logFunction('render_single_select')" href="../_functions/render_single_select.html" onMouseOver="funcPopup(event,'render_single_select')">render_single_select</a>(single_select <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>) {
<a name="l1847"><span class="linenum">1847</span></a>          <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a> = <a class="function" onClick="logFunction('clone')" href="../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>);
<a name="l1848"><span class="linenum">1848</span></a>          if (empty(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('formid')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/formid.html">formid</a>)) {
<a name="l1849"><span class="linenum">1849</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('formid')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/formid.html">formid</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('random_id')" href="../_functions/random_id.html" onMouseOver="funcPopup(event,'random_id')">random_id</a>('single_select_f');
<a name="l1850"><span class="linenum">1850</span></a>          }
<a name="l1851"><span class="linenum">1851</span></a>  
<a name="l1852"><span class="linenum">1852</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l1853"><span class="linenum">1853</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('url')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/url.html">url</a>-&gt;<a class="function" onClick="logFunction('params')" href="../_functions/params.html" onMouseOver="funcPopup(event,'params')">params</a>();
<a name="l1854"><span class="linenum">1854</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('method')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/method.html">method</a> === 'post') {
<a name="l1855"><span class="linenum">1855</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['sesskey'] = <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>();
<a name="l1856"><span class="linenum">1856</span></a>          }
<a name="l1857"><span class="linenum">1857</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>=&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l1858"><span class="linenum">1858</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type'=&gt;'hidden', 'name'=&gt;<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, 'value'=&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>));
<a name="l1859"><span class="linenum">1859</span></a>          }
<a name="l1860"><span class="linenum">1860</span></a>  
<a name="l1861"><span class="linenum">1861</span></a>          if (empty(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'])) {
<a name="l1862"><span class="linenum">1862</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'] = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('random_id')" href="../_functions/random_id.html" onMouseOver="funcPopup(event,'random_id')">random_id</a>('single_select');
<a name="l1863"><span class="linenum">1863</span></a>          }
<a name="l1864"><span class="linenum">1864</span></a>  
<a name="l1865"><span class="linenum">1865</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('disabled')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/disabled.html">disabled</a>) {
<a name="l1866"><span class="linenum">1866</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['disabled'] = 'disabled';
<a name="l1867"><span class="linenum">1867</span></a>          }
<a name="l1868"><span class="linenum">1868</span></a>  
<a name="l1869"><span class="linenum">1869</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('tooltip')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/tooltip.html">tooltip</a>) {
<a name="l1870"><span class="linenum">1870</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['title'] = <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('tooltip')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/tooltip.html">tooltip</a>;
<a name="l1871"><span class="linenum">1871</span></a>          }
<a name="l1872"><span class="linenum">1872</span></a>  
<a name="l1873"><span class="linenum">1873</span></a>          <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['class'] = 'autosubmit';
<a name="l1874"><span class="linenum">1874</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('class')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/class.html">class</a>) {
<a name="l1875"><span class="linenum">1875</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['class'] .= ' ' . <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('class')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/class.html">class</a>;
<a name="l1876"><span class="linenum">1876</span></a>          }
<a name="l1877"><span class="linenum">1877</span></a>  
<a name="l1878"><span class="linenum">1878</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('label')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/label.html">label</a>) {
<a name="l1879"><span class="linenum">1879</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('label')" href="../_functions/label.html" onMouseOver="funcPopup(event,'label')">label</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('label')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/label.html">label</a>, <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'], false, <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('labelattributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/labelattributes.html">labelattributes</a>);
<a name="l1880"><span class="linenum">1880</span></a>          }
<a name="l1881"><span class="linenum">1881</span></a>  
<a name="l1882"><span class="linenum">1882</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('helpicon')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/helpicon.html">helpicon</a> instanceof help_icon) {
<a name="l1883"><span class="linenum">1883</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('helpicon')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/helpicon.html">helpicon</a>);
<a name="l1884"><span class="linenum">1884</span></a>          }
<a name="l1885"><span class="linenum">1885</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('select')" href="../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('options')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/options.html">options</a>, <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('name')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/name.html">name</a>, <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('selected')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>, <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('nothing')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/nothing.html">nothing</a>, <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>);
<a name="l1886"><span class="linenum">1886</span></a>  
<a name="l1887"><span class="linenum">1887</span></a>          <a class="var it6694" onMouseOver="hilite(6694)" onMouseOut="lolite()" onClick="logVariable('go')" href="../_variables/go.html">$go</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type'=&gt;'submit', 'value'=&gt;<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('go')));
<a name="l1888"><span class="linenum">1888</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('noscript', <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it6694" onMouseOver="hilite(6694)" onMouseOut="lolite()" onClick="logVariable('go')" href="../_variables/go.html">$go</a>), array('class' =&gt; 'inline'));
<a name="l1889"><span class="linenum">1889</span></a>  
<a name="l1890"><span class="linenum">1890</span></a>          <a class="var it7148" onMouseOver="hilite(7148)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a> = empty(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('nothing')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/nothing.html">nothing</a>) ? false : <a class="phpfunction" onClick="logFunction('key')" href="../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('nothing')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/nothing.html">nothing</a>);
<a name="l1891"><span class="linenum">1891</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-core-formautosubmit',
<a name="l1892"><span class="linenum">1892</span></a>              'M.core.init_formautosubmit',
<a name="l1893"><span class="linenum">1893</span></a>              array(array('selectid' =&gt; <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'], 'nothing' =&gt; <a class="var it7148" onMouseOver="hilite(7148)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a>))
<a name="l1894"><span class="linenum">1894</span></a>          );
<a name="l1895"><span class="linenum">1895</span></a>  
<a name="l1896"><span class="linenum">1896</span></a>  <span class="comment">        // then div wrapper for xhtml strictness</span>
<a name="l1897"><span class="linenum">1897</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>);
<a name="l1898"><span class="linenum">1898</span></a>  
<a name="l1899"><span class="linenum">1899</span></a>  <span class="comment">        // now the form itself around it</span>
<a name="l1900"><span class="linenum">1900</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('method')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/method.html">method</a> === 'get') {
<a name="l1901"><span class="linenum">1901</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('url')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/url.html">url</a>-&gt;<a class="function" onClick="logFunction('out_omit_querystring')" href="../_functions/out_omit_querystring.html" onMouseOver="funcPopup(event,'out_omit_querystring')">out_omit_querystring</a>(true); <span class="comment">// url without params, the anchor part allowed</span>
<a name="l1902"><span class="linenum">1902</span></a>          } else {
<a name="l1903"><span class="linenum">1903</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('url')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/url.html">url</a>-&gt;<a class="function" onClick="logFunction('out_omit_querystring')" href="../_functions/out_omit_querystring.html" onMouseOver="funcPopup(event,'out_omit_querystring')">out_omit_querystring</a>();     <span class="comment">// url without params, the anchor part not allowed</span>
<a name="l1904"><span class="linenum">1904</span></a>          }
<a name="l1905"><span class="linenum">1905</span></a>          <a class="var it17174" onMouseOver="hilite(17174)" onMouseOut="lolite()" onClick="logVariable('formattributes')" href="../_variables/formattributes.html">$formattributes</a> = array('method' =&gt; <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('method')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/method.html">method</a>,
<a name="l1906"><span class="linenum">1906</span></a>                                  'action' =&gt; <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>,
<a name="l1907"><span class="linenum">1907</span></a>                                  'id'     =&gt; <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('formid')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/formid.html">formid</a>);
<a name="l1908"><span class="linenum">1908</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('form', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>, <a class="var it17174" onMouseOver="hilite(17174)" onMouseOut="lolite()" onClick="logVariable('formattributes')" href="../_variables/formattributes.html">$formattributes</a>);
<a name="l1909"><span class="linenum">1909</span></a>  
<a name="l1910"><span class="linenum">1910</span></a>  <span class="comment">        // and finally one more wrapper with class</span>
<a name="l1911"><span class="linenum">1911</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>, array('class' =&gt; <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('class')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/class.html">class</a>));
<a name="l1912"><span class="linenum">1912</span></a>      }
<a name="l1913"><span class="linenum">1913</span></a>  
<a name="l1914"><span class="linenum">1914</span></a>      <span class="comment">/**</span>
<a name="l1915"><span class="linenum">1915</span></a>  <span class="comment">     * Returns a form with a url select widget.</span>
<a name="l1916"><span class="linenum">1916</span></a>  <span class="comment">     *</span>
<a name="l1917"><span class="linenum">1917</span></a>  <span class="comment">     * Theme developers: DO NOT OVERRIDE! Please override function</span>
<a name="l1918"><span class="linenum">1918</span></a>  <span class="comment">     * {@link core_renderer::render_url_select()} instead.</span>
<a name="l1919"><span class="linenum">1919</span></a>  <span class="comment">     *</span>
<a name="l1920"><span class="linenum">1920</span></a>  <span class="comment">     * @param array $urls list of urls - array('/course/view.php?id=1'=&gt;'Frontpage', ....)</span>
<a name="l1921"><span class="linenum">1921</span></a>  <span class="comment">     * @param string $selected selected element</span>
<a name="l1922"><span class="linenum">1922</span></a>  <span class="comment">     * @param array $nothing</span>
<a name="l1923"><span class="linenum">1923</span></a>  <span class="comment">     * @param string $formid</span>
<a name="l1924"><span class="linenum">1924</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1925"><span class="linenum">1925</span></a>  <span class="comment">     */</span>
<a name="l1926"><span class="linenum">1926</span></a>      public function <a class="function" onClick="logFunction('url_select')" href="../_functions/url_select.html" onMouseOver="funcPopup(event,'url_select')">url_select</a>(array <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('urls')" href="../_variables/urls.html">$urls</a>, <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>, <a class="var it7148" onMouseOver="hilite(7148)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a> = array('' =&gt; 'choosedots'), <a class="var it7299" onMouseOver="hilite(7299)" onMouseOut="lolite()" onClick="logVariable('formid')" href="../_variables/formid.html">$formid</a> = null) {
<a name="l1927"><span class="linenum">1927</span></a>          <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a> = <span class="keyword">new </span><a class="class" onClick="logClass('url_select')" href="../_classes/url_select.html" onMouseOver="classPopup(event,'url_select')">url_select</a>(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('urls')" href="../_variables/urls.html">$urls</a>, <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>, <a class="var it7148" onMouseOver="hilite(7148)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a>, <a class="var it7299" onMouseOver="hilite(7299)" onMouseOut="lolite()" onClick="logVariable('formid')" href="../_variables/formid.html">$formid</a>);
<a name="l1928"><span class="linenum">1928</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>);
<a name="l1929"><span class="linenum">1929</span></a>      }
<a name="l1930"><span class="linenum">1930</span></a>  
<a name="l1931"><span class="linenum">1931</span></a>      <span class="comment">/**</span>
<a name="l1932"><span class="linenum">1932</span></a>  <span class="comment">     * Internal implementation of url_select rendering</span>
<a name="l1933"><span class="linenum">1933</span></a>  <span class="comment">     *</span>
<a name="l1934"><span class="linenum">1934</span></a>  <span class="comment">     * @param url_select $select</span>
<a name="l1935"><span class="linenum">1935</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l1936"><span class="linenum">1936</span></a>  <span class="comment">     */</span>
<a name="l1937"><span class="linenum">1937</span></a>      protected function <a class="function" onClick="logFunction('render_url_select')" href="../_functions/render_url_select.html" onMouseOver="funcPopup(event,'render_url_select')">render_url_select</a>(url_select <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>) {
<a name="l1938"><span class="linenum">1938</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1939"><span class="linenum">1939</span></a>  
<a name="l1940"><span class="linenum">1940</span></a>          <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a> = <a class="function" onClick="logFunction('clone')" href="../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>);
<a name="l1941"><span class="linenum">1941</span></a>          if (empty(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('formid')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/formid.html">formid</a>)) {
<a name="l1942"><span class="linenum">1942</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('formid')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/formid.html">formid</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('random_id')" href="../_functions/random_id.html" onMouseOver="funcPopup(event,'random_id')">random_id</a>('url_select_f');
<a name="l1943"><span class="linenum">1943</span></a>          }
<a name="l1944"><span class="linenum">1944</span></a>  
<a name="l1945"><span class="linenum">1945</span></a>          if (empty(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'])) {
<a name="l1946"><span class="linenum">1946</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'] = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('random_id')" href="../_functions/random_id.html" onMouseOver="funcPopup(event,'random_id')">random_id</a>('url_select');
<a name="l1947"><span class="linenum">1947</span></a>          }
<a name="l1948"><span class="linenum">1948</span></a>  
<a name="l1949"><span class="linenum">1949</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('disabled')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/disabled.html">disabled</a>) {
<a name="l1950"><span class="linenum">1950</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['disabled'] = 'disabled';
<a name="l1951"><span class="linenum">1951</span></a>          }
<a name="l1952"><span class="linenum">1952</span></a>  
<a name="l1953"><span class="linenum">1953</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('tooltip')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/tooltip.html">tooltip</a>) {
<a name="l1954"><span class="linenum">1954</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['title'] = <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('tooltip')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/tooltip.html">tooltip</a>;
<a name="l1955"><span class="linenum">1955</span></a>          }
<a name="l1956"><span class="linenum">1956</span></a>  
<a name="l1957"><span class="linenum">1957</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l1958"><span class="linenum">1958</span></a>  
<a name="l1959"><span class="linenum">1959</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('label')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/label.html">label</a>) {
<a name="l1960"><span class="linenum">1960</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('label')" href="../_functions/label.html" onMouseOver="funcPopup(event,'label')">label</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('label')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/label.html">label</a>, <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'], false, <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('labelattributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/labelattributes.html">labelattributes</a>);
<a name="l1961"><span class="linenum">1961</span></a>          }
<a name="l1962"><span class="linenum">1962</span></a>  
<a name="l1963"><span class="linenum">1963</span></a>          <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = array();
<a name="l1964"><span class="linenum">1964</span></a>          if (!<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('showbutton')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/showbutton.html">showbutton</a>) {
<a name="l1965"><span class="linenum">1965</span></a>              <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>[] = 'autosubmit';
<a name="l1966"><span class="linenum">1966</span></a>          }
<a name="l1967"><span class="linenum">1967</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('class')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/class.html">class</a>) {
<a name="l1968"><span class="linenum">1968</span></a>              <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>[] = <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('class')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/class.html">class</a>;
<a name="l1969"><span class="linenum">1969</span></a>          }
<a name="l1970"><span class="linenum">1970</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>)) {
<a name="l1971"><span class="linenum">1971</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['class'] = <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(' ', <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>);
<a name="l1972"><span class="linenum">1972</span></a>          }
<a name="l1973"><span class="linenum">1973</span></a>  
<a name="l1974"><span class="linenum">1974</span></a>          if (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('helpicon')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/helpicon.html">helpicon</a> instanceof help_icon) {
<a name="l1975"><span class="linenum">1975</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('helpicon')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/helpicon.html">helpicon</a>);
<a name="l1976"><span class="linenum">1976</span></a>          }
<a name="l1977"><span class="linenum">1977</span></a>  
<a name="l1978"><span class="linenum">1978</span></a>  <span class="comment">        // For security reasons, the script course/jumpto.php requires URL starting with '/'. To keep</span>
<a name="l1979"><span class="linenum">1979</span></a>  <span class="comment">        // backward compatibility, we are removing heading $CFG-&gt;wwwroot from URLs here.</span>
<a name="l1980"><span class="linenum">1980</span></a>          <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('urls')" href="../_variables/urls.html">$urls</a> = array();
<a name="l1981"><span class="linenum">1981</span></a>          foreach (<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('urls')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/urls.html">urls</a> as <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>=&gt;<a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>) {
<a name="l1982"><span class="linenum">1982</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>)) {
<a name="l1983"><span class="linenum">1983</span></a>  <span class="comment">                // optgroup structure</span>
<a name="l1984"><span class="linenum">1984</span></a>                  foreach (<a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a> as <a class="var it32283" onMouseOver="hilite(32283)" onMouseOut="lolite()" onClick="logVariable('optgrouptitle')" href="../_variables/optgrouptitle.html">$optgrouptitle</a> =&gt; <a class="var it32284" onMouseOver="hilite(32284)" onMouseOut="lolite()" onClick="logVariable('optgroupoptions')" href="../_variables/optgroupoptions.html">$optgroupoptions</a>) {
<a name="l1985"><span class="linenum">1985</span></a>                      foreach (<a class="var it32284" onMouseOver="hilite(32284)" onMouseOut="lolite()" onClick="logVariable('optgroupoptions')" href="../_variables/optgroupoptions.html">$optgroupoptions</a> as <a class="var it32285" onMouseOver="hilite(32285)" onMouseOut="lolite()" onClick="logVariable('optionurl')" href="../_variables/optionurl.html">$optionurl</a> =&gt; <a class="var it32286" onMouseOver="hilite(32286)" onMouseOut="lolite()" onClick="logVariable('optiontitle')" href="../_variables/optiontitle.html">$optiontitle</a>) {
<a name="l1986"><span class="linenum">1986</span></a>                          if (empty(<a class="var it32285" onMouseOver="hilite(32285)" onMouseOut="lolite()" onClick="logVariable('optionurl')" href="../_variables/optionurl.html">$optionurl</a>)) {
<a name="l1987"><span class="linenum">1987</span></a>                              <a class="var it32287" onMouseOver="hilite(32287)" onMouseOut="lolite()" onClick="logVariable('safeoptionurl')" href="../_variables/safeoptionurl.html">$safeoptionurl</a> = '';
<a name="l1988"><span class="linenum">1988</span></a>                          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it32285" onMouseOver="hilite(32285)" onMouseOut="lolite()" onClick="logVariable('optionurl')" href="../_variables/optionurl.html">$optionurl</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.'/') === 0) {
<a name="l1989"><span class="linenum">1989</span></a>  <span class="comment">                            // debugging('URLs passed to url_select should be in local relative form - please fix the code.', DEBUG_DEVELOPER);</span>
<a name="l1990"><span class="linenum">1990</span></a>                              <a class="var it32287" onMouseOver="hilite(32287)" onMouseOut="lolite()" onClick="logVariable('safeoptionurl')" href="../_variables/safeoptionurl.html">$safeoptionurl</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>, '', <a class="var it32285" onMouseOver="hilite(32285)" onMouseOut="lolite()" onClick="logVariable('optionurl')" href="../_variables/optionurl.html">$optionurl</a>);
<a name="l1991"><span class="linenum">1991</span></a>                          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it32285" onMouseOver="hilite(32285)" onMouseOut="lolite()" onClick="logVariable('optionurl')" href="../_variables/optionurl.html">$optionurl</a>, '/') !== 0) {
<a name="l1992"><span class="linenum">1992</span></a>                              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Invalid url_select urls parameter inside optgroup: url '<a class="var it32285" onMouseOver="hilite(32285)" onMouseOut="lolite()" onClick="logVariable('optionurl')" href="../_variables/optionurl.html">$optionurl</a>' is not local relative url!&quot;);
<a name="l1993"><span class="linenum">1993</span></a>                              continue;
<a name="l1994"><span class="linenum">1994</span></a>                          } else {
<a name="l1995"><span class="linenum">1995</span></a>                              <a class="var it32287" onMouseOver="hilite(32287)" onMouseOut="lolite()" onClick="logVariable('safeoptionurl')" href="../_variables/safeoptionurl.html">$safeoptionurl</a> = <a class="var it32285" onMouseOver="hilite(32285)" onMouseOut="lolite()" onClick="logVariable('optionurl')" href="../_variables/optionurl.html">$optionurl</a>;
<a name="l1996"><span class="linenum">1996</span></a>                          }
<a name="l1997"><span class="linenum">1997</span></a>                          <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('urls')" href="../_variables/urls.html">$urls</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>][<a class="var it32283" onMouseOver="hilite(32283)" onMouseOut="lolite()" onClick="logVariable('optgrouptitle')" href="../_variables/optgrouptitle.html">$optgrouptitle</a>][<a class="var it32287" onMouseOver="hilite(32287)" onMouseOut="lolite()" onClick="logVariable('safeoptionurl')" href="../_variables/safeoptionurl.html">$safeoptionurl</a>] = <a class="var it32286" onMouseOver="hilite(32286)" onMouseOut="lolite()" onClick="logVariable('optiontitle')" href="../_variables/optiontitle.html">$optiontitle</a>;
<a name="l1998"><span class="linenum">1998</span></a>                      }
<a name="l1999"><span class="linenum">1999</span></a>                  }
<a name="l2000"><span class="linenum">2000</span></a>              } else {
<a name="l2001"><span class="linenum">2001</span></a>  <span class="comment">                // plain list structure</span>
<a name="l2002"><span class="linenum">2002</span></a>                  if (empty(<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>)) {
<a name="l2003"><span class="linenum">2003</span></a>  <span class="comment">                    // nothing selected option</span>
<a name="l2004"><span class="linenum">2004</span></a>                  } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.'/') === 0) {
<a name="l2005"><span class="linenum">2005</span></a>                      <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>, '', <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>);
<a name="l2006"><span class="linenum">2006</span></a>                  } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>, '/') !== 0) {
<a name="l2007"><span class="linenum">2007</span></a>                      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Invalid url_select urls parameter: url '<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>' is not local relative url!&quot;);
<a name="l2008"><span class="linenum">2008</span></a>                      continue;
<a name="l2009"><span class="linenum">2009</span></a>                  }
<a name="l2010"><span class="linenum">2010</span></a>                  <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('urls')" href="../_variables/urls.html">$urls</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>] = <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>;
<a name="l2011"><span class="linenum">2011</span></a>              }
<a name="l2012"><span class="linenum">2012</span></a>          }
<a name="l2013"><span class="linenum">2013</span></a>          <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a> = <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('selected')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>;
<a name="l2014"><span class="linenum">2014</span></a>          if (!empty(<a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>)) {
<a name="l2015"><span class="linenum">2015</span></a>              if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('selected')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.'/') === 0) {
<a name="l2016"><span class="linenum">2016</span></a>                  <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>, '', <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>);
<a name="l2017"><span class="linenum">2017</span></a>              } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>, '/') !== 0) {
<a name="l2018"><span class="linenum">2018</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Invalid value of parameter 'selected': url '<a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>' is not local relative url!&quot;);
<a name="l2019"><span class="linenum">2019</span></a>              }
<a name="l2020"><span class="linenum">2020</span></a>          }
<a name="l2021"><span class="linenum">2021</span></a>  
<a name="l2022"><span class="linenum">2022</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type'=&gt;'hidden', 'name'=&gt;'sesskey', 'value'=&gt;<a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l2023"><span class="linenum">2023</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('select')" href="../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('urls')" href="../_variables/urls.html">$urls</a>, 'jump', <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>, <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('nothing')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/nothing.html">nothing</a>, <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>);
<a name="l2024"><span class="linenum">2024</span></a>  
<a name="l2025"><span class="linenum">2025</span></a>          if (!<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('showbutton')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/showbutton.html">showbutton</a>) {
<a name="l2026"><span class="linenum">2026</span></a>              <a class="var it6694" onMouseOver="hilite(6694)" onMouseOut="lolite()" onClick="logVariable('go')" href="../_variables/go.html">$go</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type'=&gt;'submit', 'value'=&gt;<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('go')));
<a name="l2027"><span class="linenum">2027</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('noscript', <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it6694" onMouseOver="hilite(6694)" onMouseOut="lolite()" onClick="logVariable('go')" href="../_variables/go.html">$go</a>), array('class' =&gt; 'inline'));
<a name="l2028"><span class="linenum">2028</span></a>              <a class="var it7148" onMouseOver="hilite(7148)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a> = empty(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('nothing')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/nothing.html">nothing</a>) ? false : <a class="phpfunction" onClick="logFunction('key')" href="../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('nothing')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/nothing.html">nothing</a>);
<a name="l2029"><span class="linenum">2029</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-core-formautosubmit',
<a name="l2030"><span class="linenum">2030</span></a>                  'M.core.init_formautosubmit',
<a name="l2031"><span class="linenum">2031</span></a>                  array(array('selectid' =&gt; <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('attributes')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>['id'], 'nothing' =&gt; <a class="var it7148" onMouseOver="hilite(7148)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a>))
<a name="l2032"><span class="linenum">2032</span></a>              );
<a name="l2033"><span class="linenum">2033</span></a>          } else {
<a name="l2034"><span class="linenum">2034</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type'=&gt;'submit', 'value'=&gt;<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('showbutton')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/showbutton.html">showbutton</a>));
<a name="l2035"><span class="linenum">2035</span></a>          }
<a name="l2036"><span class="linenum">2036</span></a>  
<a name="l2037"><span class="linenum">2037</span></a>  <span class="comment">        // then div wrapper for xhtml strictness</span>
<a name="l2038"><span class="linenum">2038</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>);
<a name="l2039"><span class="linenum">2039</span></a>  
<a name="l2040"><span class="linenum">2040</span></a>  <span class="comment">        // now the form itself around it</span>
<a name="l2041"><span class="linenum">2041</span></a>          <a class="var it17174" onMouseOver="hilite(17174)" onMouseOut="lolite()" onClick="logVariable('formattributes')" href="../_variables/formattributes.html">$formattributes</a> = array('method' =&gt; 'post',
<a name="l2042"><span class="linenum">2042</span></a>                                  'action' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../course/jumpto.php.html">/course/jumpto.php</a>'),
<a name="l2043"><span class="linenum">2043</span></a>                                  'id'     =&gt; <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('formid')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/formid.html">formid</a>);
<a name="l2044"><span class="linenum">2044</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('form', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>, <a class="var it17174" onMouseOver="hilite(17174)" onMouseOut="lolite()" onClick="logVariable('formattributes')" href="../_variables/formattributes.html">$formattributes</a>);
<a name="l2045"><span class="linenum">2045</span></a>  
<a name="l2046"><span class="linenum">2046</span></a>  <span class="comment">        // and finally one more wrapper with class</span>
<a name="l2047"><span class="linenum">2047</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>, array('class' =&gt; <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('class')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/class.html">class</a>));
<a name="l2048"><span class="linenum">2048</span></a>      }
<a name="l2049"><span class="linenum">2049</span></a>  
<a name="l2050"><span class="linenum">2050</span></a>      <span class="comment">/**</span>
<a name="l2051"><span class="linenum">2051</span></a>  <span class="comment">     * Returns a string containing a link to the user documentation.</span>
<a name="l2052"><span class="linenum">2052</span></a>  <span class="comment">     * Also contains an icon by default. Shown to teachers and admin only.</span>
<a name="l2053"><span class="linenum">2053</span></a>  <span class="comment">     *</span>
<a name="l2054"><span class="linenum">2054</span></a>  <span class="comment">     * @param string $path The page link after doc root and language, no leading slash.</span>
<a name="l2055"><span class="linenum">2055</span></a>  <span class="comment">     * @param string $text The text to be displayed for the link</span>
<a name="l2056"><span class="linenum">2056</span></a>  <span class="comment">     * @param boolean $forcepopup Whether to force a popup regardless of the value of $CFG-&gt;doctonewwindow</span>
<a name="l2057"><span class="linenum">2057</span></a>  <span class="comment">     * @return string</span>
<a name="l2058"><span class="linenum">2058</span></a>  <span class="comment">     */</span>
<a name="l2059"><span class="linenum">2059</span></a>      public function <a class="function" onClick="logFunction('doc_link')" href="../_functions/doc_link.html" onMouseOver="funcPopup(event,'doc_link')">doc_link</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = '', <a class="var it32288" onMouseOver="hilite(32288)" onMouseOut="lolite()" onClick="logVariable('forcepopup')" href="../_variables/forcepopup.html">$forcepopup</a> = false) {
<a name="l2060"><span class="linenum">2060</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2061"><span class="linenum">2061</span></a>  
<a name="l2062"><span class="linenum">2062</span></a>          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('docs', '', 'moodle', array('class'=&gt;'iconhelp icon-pre', 'role'=&gt;'presentation'));
<a name="l2063"><span class="linenum">2063</span></a>  
<a name="l2064"><span class="linenum">2064</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="function" onClick="logFunction('get_docs_url')" href="../_functions/get_docs_url.html" onMouseOver="funcPopup(event,'get_docs_url')">get_docs_url</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>));
<a name="l2065"><span class="linenum">2065</span></a>  
<a name="l2066"><span class="linenum">2066</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('href'=&gt;<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l2067"><span class="linenum">2067</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('doctonewwindow')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/doctonewwindow.html">doctonewwindow</a>) || <a class="var it32288" onMouseOver="hilite(32288)" onMouseOut="lolite()" onClick="logVariable('forcepopup')" href="../_variables/forcepopup.html">$forcepopup</a>) {
<a name="l2068"><span class="linenum">2068</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['class'] = 'helplinkpopup';
<a name="l2069"><span class="linenum">2069</span></a>          }
<a name="l2070"><span class="linenum">2070</span></a>  
<a name="l2071"><span class="linenum">2071</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>.<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l2072"><span class="linenum">2072</span></a>      }
<a name="l2073"><span class="linenum">2073</span></a>  
<a name="l2074"><span class="linenum">2074</span></a>      <span class="comment">/**</span>
<a name="l2075"><span class="linenum">2075</span></a>  <span class="comment">     * Return HTML for a pix_icon.</span>
<a name="l2076"><span class="linenum">2076</span></a>  <span class="comment">     *</span>
<a name="l2077"><span class="linenum">2077</span></a>  <span class="comment">     * Theme developers: DO NOT OVERRIDE! Please override function</span>
<a name="l2078"><span class="linenum">2078</span></a>  <span class="comment">     * {@link core_renderer::render_pix_icon()} instead.</span>
<a name="l2079"><span class="linenum">2079</span></a>  <span class="comment">     *</span>
<a name="l2080"><span class="linenum">2080</span></a>  <span class="comment">     * @param string $pix short pix name</span>
<a name="l2081"><span class="linenum">2081</span></a>  <span class="comment">     * @param string $alt mandatory alt attribute</span>
<a name="l2082"><span class="linenum">2082</span></a>  <span class="comment">     * @param string $component standard compoennt name like 'moodle', 'mod_forum', etc.</span>
<a name="l2083"><span class="linenum">2083</span></a>  <span class="comment">     * @param array $attributes htm lattributes</span>
<a name="l2084"><span class="linenum">2084</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l2085"><span class="linenum">2085</span></a>  <span class="comment">     */</span>
<a name="l2086"><span class="linenum">2086</span></a>      public function <a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>(<a class="var it11650" onMouseOver="hilite(11650)" onMouseOut="lolite()" onClick="logVariable('pix')" href="../_variables/pix.html">$pix</a>, <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>='moodle', array <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = null) {
<a name="l2087"><span class="linenum">2087</span></a>          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>(<a class="var it11650" onMouseOver="hilite(11650)" onMouseOut="lolite()" onClick="logVariable('pix')" href="../_variables/pix.html">$pix</a>, <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l2088"><span class="linenum">2088</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>);
<a name="l2089"><span class="linenum">2089</span></a>      }
<a name="l2090"><span class="linenum">2090</span></a>  
<a name="l2091"><span class="linenum">2091</span></a>      <span class="comment">/**</span>
<a name="l2092"><span class="linenum">2092</span></a>  <span class="comment">     * Renders a pix_icon widget and returns the HTML to display it.</span>
<a name="l2093"><span class="linenum">2093</span></a>  <span class="comment">     *</span>
<a name="l2094"><span class="linenum">2094</span></a>  <span class="comment">     * @param pix_icon $icon</span>
<a name="l2095"><span class="linenum">2095</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l2096"><span class="linenum">2096</span></a>  <span class="comment">     */</span>
<a name="l2097"><span class="linenum">2097</span></a>      protected function <a class="function" onClick="logFunction('render_pix_icon')" href="../_functions/render_pix_icon.html" onMouseOver="funcPopup(event,'render_pix_icon')">render_pix_icon</a>(pix_icon <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>) {
<a name="l2098"><span class="linenum">2098</span></a>          <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a class="function" onClick="logFunction('export_for_template')" href="../_functions/export_for_template.html" onMouseOver="funcPopup(event,'export_for_template')">export_for_template</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>);
<a name="l2099"><span class="linenum">2099</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render_from_template')" href="../_functions/render_from_template.html" onMouseOver="funcPopup(event,'render_from_template')">render_from_template</a>('core/pix_icon', <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>);
<a name="l2100"><span class="linenum">2100</span></a>      }
<a name="l2101"><span class="linenum">2101</span></a>  
<a name="l2102"><span class="linenum">2102</span></a>      <span class="comment">/**</span>
<a name="l2103"><span class="linenum">2103</span></a>  <span class="comment">     * Return HTML to display an emoticon icon.</span>
<a name="l2104"><span class="linenum">2104</span></a>  <span class="comment">     *</span>
<a name="l2105"><span class="linenum">2105</span></a>  <span class="comment">     * @param pix_emoticon $emoticon</span>
<a name="l2106"><span class="linenum">2106</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l2107"><span class="linenum">2107</span></a>  <span class="comment">     */</span>
<a name="l2108"><span class="linenum">2108</span></a>      protected function <a class="function" onClick="logFunction('render_pix_emoticon')" href="../_functions/render_pix_emoticon.html" onMouseOver="funcPopup(event,'render_pix_emoticon')">render_pix_emoticon</a>(pix_emoticon <a class="var it13138" onMouseOver="hilite(13138)" onMouseOut="lolite()" onClick="logVariable('emoticon')" href="../_variables/emoticon.html">$emoticon</a>) {
<a name="l2109"><span class="linenum">2109</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = <a class="var it13138" onMouseOver="hilite(13138)" onMouseOut="lolite()" onClick="logVariable('emoticon')" href="../_variables/emoticon.html">$emoticon</a>-&gt;<a onClick="logVariable('attributes')" class="var it40994" onMouseOver="hilite(40994)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>;
<a name="l2110"><span class="linenum">2110</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['src'] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>(<a class="var it13138" onMouseOver="hilite(13138)" onMouseOut="lolite()" onClick="logVariable('emoticon')" href="../_variables/emoticon.html">$emoticon</a>-&gt;<a onClick="logVariable('pix')" class="var it40994" onMouseOver="hilite(40994)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a>, <a class="var it13138" onMouseOver="hilite(13138)" onMouseOut="lolite()" onClick="logVariable('emoticon')" href="../_variables/emoticon.html">$emoticon</a>-&gt;<a onClick="logVariable('component')" class="var it40994" onMouseOver="hilite(40994)" onMouseOut="lolite()" href="../_variables/component.html">component</a>);
<a name="l2111"><span class="linenum">2111</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('img', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l2112"><span class="linenum">2112</span></a>      }
<a name="l2113"><span class="linenum">2113</span></a>  
<a name="l2114"><span class="linenum">2114</span></a>      <span class="comment">/**</span>
<a name="l2115"><span class="linenum">2115</span></a>  <span class="comment">     * Produces the html that represents this rating in the UI</span>
<a name="l2116"><span class="linenum">2116</span></a>  <span class="comment">     *</span>
<a name="l2117"><span class="linenum">2117</span></a>  <span class="comment">     * @param rating $rating the page object on which this rating will appear</span>
<a name="l2118"><span class="linenum">2118</span></a>  <span class="comment">     * @return string</span>
<a name="l2119"><span class="linenum">2119</span></a>  <span class="comment">     */</span>
<a name="l2120"><span class="linenum">2120</span></a>      function <a class="function" onClick="logFunction('render_rating')" href="../_functions/render_rating.html" onMouseOver="funcPopup(event,'render_rating')">render_rating</a>(rating <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>) {
<a name="l2121"><span class="linenum">2121</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l2122"><span class="linenum">2122</span></a>  
<a name="l2123"><span class="linenum">2123</span></a>          if (<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('settings')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/settings.html">settings</a>-&gt;aggregationmethod == <a class="constant" onClick="logConstant('RATING_AGGREGATE_NONE')" href="../_constants/RATING_AGGREGATE_NONE.html" onMouseOver="constPopup(event,'RATING_AGGREGATE_NONE')">RATING_AGGREGATE_NONE</a>) {
<a name="l2124"><span class="linenum">2124</span></a>              return null;<span class="comment">//ratings are turned off</span>
<a name="l2125"><span class="linenum">2125</span></a>          }
<a name="l2126"><span class="linenum">2126</span></a>  
<a name="l2127"><span class="linenum">2127</span></a>          <a class="var it32289" onMouseOver="hilite(32289)" onMouseOut="lolite()" onClick="logVariable('ratingmanager')" href="../_variables/ratingmanager.html">$ratingmanager</a> = <span class="keyword">new </span><a class="class" onClick="logClass('rating_manager')" href="../_classes/rating_manager.html" onMouseOver="classPopup(event,'rating_manager')">rating_manager</a>();
<a name="l2128"><span class="linenum">2128</span></a>  <span class="comment">        // Initialise the JavaScript so ratings can be done by AJAX.</span>
<a name="l2129"><span class="linenum">2129</span></a>          <a class="var it32289" onMouseOver="hilite(32289)" onMouseOut="lolite()" onClick="logVariable('ratingmanager')" href="../_variables/ratingmanager.html">$ratingmanager</a>-&gt;<a class="function" onClick="logFunction('initialise_rating_javascript')" href="../_functions/initialise_rating_javascript.html" onMouseOver="funcPopup(event,'initialise_rating_javascript')">initialise_rating_javascript</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>);
<a name="l2130"><span class="linenum">2130</span></a>  
<a name="l2131"><span class="linenum">2131</span></a>          <a class="var it32290" onMouseOver="hilite(32290)" onMouseOut="lolite()" onClick="logVariable('strrate')" href="../_variables/strrate.html">$strrate</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;rate&quot;, &quot;rating&quot;);
<a name="l2132"><span class="linenum">2132</span></a>          <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> = ''; <span class="comment">//the string we'll return</span>
<a name="l2133"><span class="linenum">2133</span></a>  
<a name="l2134"><span class="linenum">2134</span></a>  <span class="comment">        // permissions check - can they view the aggregate?</span>
<a name="l2135"><span class="linenum">2135</span></a>          if (<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a class="function" onClick="logFunction('user_can_view_aggregate')" href="../_functions/user_can_view_aggregate.html" onMouseOver="funcPopup(event,'user_can_view_aggregate')">user_can_view_aggregate</a>()) {
<a name="l2136"><span class="linenum">2136</span></a>  
<a name="l2137"><span class="linenum">2137</span></a>              <a class="var it32292" onMouseOver="hilite(32292)" onMouseOut="lolite()" onClick="logVariable('aggregatelabel')" href="../_variables/aggregatelabel.html">$aggregatelabel</a> = <a class="var it32289" onMouseOver="hilite(32289)" onMouseOut="lolite()" onClick="logVariable('ratingmanager')" href="../_variables/ratingmanager.html">$ratingmanager</a>-&gt;<a class="function" onClick="logFunction('get_aggregate_label')" href="../_functions/get_aggregate_label.html" onMouseOver="funcPopup(event,'get_aggregate_label')">get_aggregate_label</a>(<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('settings')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/settings.html">settings</a>-&gt;aggregationmethod);
<a name="l2138"><span class="linenum">2138</span></a>              <a class="var it32293" onMouseOver="hilite(32293)" onMouseOut="lolite()" onClick="logVariable('aggregatestr')" href="../_variables/aggregatestr.html">$aggregatestr</a>   = <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a class="function" onClick="logFunction('get_aggregate_string')" href="../_functions/get_aggregate_string.html" onMouseOver="funcPopup(event,'get_aggregate_string')">get_aggregate_string</a>();
<a name="l2139"><span class="linenum">2139</span></a>  
<a name="l2140"><span class="linenum">2140</span></a>              <a class="var it32294" onMouseOver="hilite(32294)" onMouseOut="lolite()" onClick="logVariable('aggregatehtml')" href="../_variables/aggregatehtml.html">$aggregatehtml</a>  = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it32293" onMouseOver="hilite(32293)" onMouseOut="lolite()" onClick="logVariable('aggregatestr')" href="../_variables/aggregatestr.html">$aggregatestr</a>, array('id' =&gt; 'ratingaggregate'.<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('itemid')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>, 'class' =&gt; 'ratingaggregate')).' ';
<a name="l2141"><span class="linenum">2141</span></a>              if (<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('count')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/count.html">count</a> &gt; 0) {
<a name="l2142"><span class="linenum">2142</span></a>                  <a class="var it26201" onMouseOver="hilite(26201)" onMouseOut="lolite()" onClick="logVariable('countstr')" href="../_variables/countstr.html">$countstr</a> = &quot;({<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('count')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/count.html">count</a>})&quot;;
<a name="l2143"><span class="linenum">2143</span></a>              } else {
<a name="l2144"><span class="linenum">2144</span></a>                  <a class="var it26201" onMouseOver="hilite(26201)" onMouseOut="lolite()" onClick="logVariable('countstr')" href="../_variables/countstr.html">$countstr</a> = '-';
<a name="l2145"><span class="linenum">2145</span></a>              }
<a name="l2146"><span class="linenum">2146</span></a>              <a class="var it32294" onMouseOver="hilite(32294)" onMouseOut="lolite()" onClick="logVariable('aggregatehtml')" href="../_variables/aggregatehtml.html">$aggregatehtml</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it26201" onMouseOver="hilite(26201)" onMouseOut="lolite()" onClick="logVariable('countstr')" href="../_variables/countstr.html">$countstr</a>, array('id'=&gt;&quot;ratingcount{<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('itemid')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>}&quot;, 'class' =&gt; 'ratingcount')).' ';
<a name="l2147"><span class="linenum">2147</span></a>  
<a name="l2148"><span class="linenum">2148</span></a>              <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it32292" onMouseOver="hilite(32292)" onMouseOut="lolite()" onClick="logVariable('aggregatelabel')" href="../_variables/aggregatelabel.html">$aggregatelabel</a>, array('class'=&gt;'rating-aggregate-label'));
<a name="l2149"><span class="linenum">2149</span></a>              if (<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('settings')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/settings.html">settings</a>-&gt;permissions-&gt;viewall &amp;&amp; <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('settings')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/settings.html">settings</a>-&gt;pluginpermissions-&gt;viewall) {
<a name="l2150"><span class="linenum">2150</span></a>  
<a name="l2151"><span class="linenum">2151</span></a>                  <a class="var it32295" onMouseOver="hilite(32295)" onMouseOut="lolite()" onClick="logVariable('nonpopuplink')" href="../_variables/nonpopuplink.html">$nonpopuplink</a> = <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a class="function" onClick="logFunction('get_view_ratings_url')" href="../_functions/get_view_ratings_url.html" onMouseOver="funcPopup(event,'get_view_ratings_url')">get_view_ratings_url</a>();
<a name="l2152"><span class="linenum">2152</span></a>                  <a class="var it32296" onMouseOver="hilite(32296)" onMouseOut="lolite()" onClick="logVariable('popuplink')" href="../_variables/popuplink.html">$popuplink</a> = <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a class="function" onClick="logFunction('get_view_ratings_url')" href="../_functions/get_view_ratings_url.html" onMouseOver="funcPopup(event,'get_view_ratings_url')">get_view_ratings_url</a>(true);
<a name="l2153"><span class="linenum">2153</span></a>  
<a name="l2154"><span class="linenum">2154</span></a>                  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> = <span class="keyword">new </span><a class="class" onClick="logClass('popup_action')" href="../_classes/popup_action.html" onMouseOver="classPopup(event,'popup_action')">popup_action</a>('click', <a class="var it32296" onMouseOver="hilite(32296)" onMouseOut="lolite()" onClick="logVariable('popuplink')" href="../_variables/popuplink.html">$popuplink</a>, 'ratings', array('height' =&gt; 400, 'width' =&gt; 600));
<a name="l2155"><span class="linenum">2155</span></a>                  <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it32295" onMouseOver="hilite(32295)" onMouseOut="lolite()" onClick="logVariable('nonpopuplink')" href="../_variables/nonpopuplink.html">$nonpopuplink</a>, <a class="var it32294" onMouseOver="hilite(32294)" onMouseOut="lolite()" onClick="logVariable('aggregatehtml')" href="../_variables/aggregatehtml.html">$aggregatehtml</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>);
<a name="l2156"><span class="linenum">2156</span></a>              } else {
<a name="l2157"><span class="linenum">2157</span></a>                  <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="var it32294" onMouseOver="hilite(32294)" onMouseOut="lolite()" onClick="logVariable('aggregatehtml')" href="../_variables/aggregatehtml.html">$aggregatehtml</a>;
<a name="l2158"><span class="linenum">2158</span></a>              }
<a name="l2159"><span class="linenum">2159</span></a>          }
<a name="l2160"><span class="linenum">2160</span></a>  
<a name="l2161"><span class="linenum">2161</span></a>          <a class="var it32297" onMouseOver="hilite(32297)" onMouseOut="lolite()" onClick="logVariable('formstart')" href="../_variables/formstart.html">$formstart</a> = null;
<a name="l2162"><span class="linenum">2162</span></a>  <span class="comment">        // if the item doesn't belong to the current user, the user has permission to rate</span>
<a name="l2163"><span class="linenum">2163</span></a>  <span class="comment">        // and we're within the assessable period</span>
<a name="l2164"><span class="linenum">2164</span></a>          if (<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a class="function" onClick="logFunction('user_can_rate')" href="../_functions/user_can_rate.html" onMouseOver="funcPopup(event,'user_can_rate')">user_can_rate</a>()) {
<a name="l2165"><span class="linenum">2165</span></a>  
<a name="l2166"><span class="linenum">2166</span></a>              <a class="var it32298" onMouseOver="hilite(32298)" onMouseOut="lolite()" onClick="logVariable('rateurl')" href="../_variables/rateurl.html">$rateurl</a> = <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a class="function" onClick="logFunction('get_rate_url')" href="../_functions/get_rate_url.html" onMouseOver="funcPopup(event,'get_rate_url')">get_rate_url</a>();
<a name="l2167"><span class="linenum">2167</span></a>              <a class="var it32299" onMouseOver="hilite(32299)" onMouseOut="lolite()" onClick="logVariable('inputs')" href="../_variables/inputs.html">$inputs</a> = <a class="var it32298" onMouseOver="hilite(32298)" onMouseOut="lolite()" onClick="logVariable('rateurl')" href="../_variables/rateurl.html">$rateurl</a>-&gt;<a class="function" onClick="logFunction('params')" href="../_functions/params.html" onMouseOver="funcPopup(event,'params')">params</a>();
<a name="l2168"><span class="linenum">2168</span></a>  
<a name="l2169"><span class="linenum">2169</span></a>  <span class="comment">            //start the rating form</span>
<a name="l2170"><span class="linenum">2170</span></a>              <a class="var it32300" onMouseOver="hilite(32300)" onMouseOut="lolite()" onClick="logVariable('formattrs')" href="../_variables/formattrs.html">$formattrs</a> = array(
<a name="l2171"><span class="linenum">2171</span></a>                  'id'     =&gt; &quot;postrating{<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('itemid')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>}&quot;,
<a name="l2172"><span class="linenum">2172</span></a>                  'class'  =&gt; 'postratingform',
<a name="l2173"><span class="linenum">2173</span></a>                  'method' =&gt; 'post',
<a name="l2174"><span class="linenum">2174</span></a>                  'action' =&gt; <a class="var it32298" onMouseOver="hilite(32298)" onMouseOut="lolite()" onClick="logVariable('rateurl')" href="../_variables/rateurl.html">$rateurl</a>-&gt;<a class="function" onClick="logFunction('out_omit_querystring')" href="../_functions/out_omit_querystring.html" onMouseOver="funcPopup(event,'out_omit_querystring')">out_omit_querystring</a>()
<a name="l2175"><span class="linenum">2175</span></a>              );
<a name="l2176"><span class="linenum">2176</span></a>              <a class="var it32297" onMouseOver="hilite(32297)" onMouseOut="lolite()" onClick="logVariable('formstart')" href="../_variables/formstart.html">$formstart</a>  = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('form', <a class="var it32300" onMouseOver="hilite(32300)" onMouseOut="lolite()" onClick="logVariable('formattrs')" href="../_variables/formattrs.html">$formattrs</a>);
<a name="l2177"><span class="linenum">2177</span></a>              <a class="var it32297" onMouseOver="hilite(32297)" onMouseOut="lolite()" onClick="logVariable('formstart')" href="../_variables/formstart.html">$formstart</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'ratingform'));
<a name="l2178"><span class="linenum">2178</span></a>  
<a name="l2179"><span class="linenum">2179</span></a>  <span class="comment">            // add the hidden inputs</span>
<a name="l2180"><span class="linenum">2180</span></a>              foreach (<a class="var it32299" onMouseOver="hilite(32299)" onMouseOut="lolite()" onClick="logVariable('inputs')" href="../_variables/inputs.html">$inputs</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l2181"><span class="linenum">2181</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('type' =&gt; 'hidden', 'class' =&gt; 'ratinginput', 'name' =&gt; <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, 'value' =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>);
<a name="l2182"><span class="linenum">2182</span></a>                  <a class="var it32297" onMouseOver="hilite(32297)" onMouseOut="lolite()" onClick="logVariable('formstart')" href="../_variables/formstart.html">$formstart</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l2183"><span class="linenum">2183</span></a>              }
<a name="l2184"><span class="linenum">2184</span></a>  
<a name="l2185"><span class="linenum">2185</span></a>              if (empty(<a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a>)) {
<a name="l2186"><span class="linenum">2186</span></a>                  <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="var it32290" onMouseOver="hilite(32290)" onMouseOut="lolite()" onClick="logVariable('strrate')" href="../_variables/strrate.html">$strrate</a>.': ';
<a name="l2187"><span class="linenum">2187</span></a>              }
<a name="l2188"><span class="linenum">2188</span></a>              <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> = <a class="var it32297" onMouseOver="hilite(32297)" onMouseOut="lolite()" onClick="logVariable('formstart')" href="../_variables/formstart.html">$formstart</a>.<a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a>;
<a name="l2189"><span class="linenum">2189</span></a>  
<a name="l2190"><span class="linenum">2190</span></a>              <a class="var it10751" onMouseOver="hilite(10751)" onMouseOut="lolite()" onClick="logVariable('scalearray')" href="../_variables/scalearray.html">$scalearray</a> = array(<a class="constant" onClick="logConstant('RATING_UNSET_RATING')" href="../_constants/RATING_UNSET_RATING.html" onMouseOver="constPopup(event,'RATING_UNSET_RATING')">RATING_UNSET_RATING</a> =&gt; <a class="var it32290" onMouseOver="hilite(32290)" onMouseOut="lolite()" onClick="logVariable('strrate')" href="../_variables/strrate.html">$strrate</a>.'...') + <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('settings')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/settings.html">settings</a>-&gt;scale-&gt;scaleitems;
<a name="l2191"><span class="linenum">2191</span></a>              <a class="var it32301" onMouseOver="hilite(32301)" onMouseOut="lolite()" onClick="logVariable('scaleattrs')" href="../_variables/scaleattrs.html">$scaleattrs</a> = array('class'=&gt;'postratingmenu ratinginput','id'=&gt;'menurating'.<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('itemid')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>);
<a name="l2192"><span class="linenum">2192</span></a>              <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('label')" href="../_functions/label.html" onMouseOver="funcPopup(event,'label')">label</a>(<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('rating')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/rating.html">rating</a>, 'menurating'.<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('itemid')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>, false, array('class' =&gt; 'accesshide'));
<a name="l2193"><span class="linenum">2193</span></a>              <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('select')" href="../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>(<a class="var it10751" onMouseOver="hilite(10751)" onMouseOut="lolite()" onClick="logVariable('scalearray')" href="../_variables/scalearray.html">$scalearray</a>, 'rating', <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('rating')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/rating.html">rating</a>, false, <a class="var it32301" onMouseOver="hilite(32301)" onMouseOut="lolite()" onClick="logVariable('scaleattrs')" href="../_variables/scaleattrs.html">$scaleattrs</a>);
<a name="l2194"><span class="linenum">2194</span></a>  
<a name="l2195"><span class="linenum">2195</span></a>  <span class="comment">            //output submit button</span>
<a name="l2196"><span class="linenum">2196</span></a>              <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('span', array('class'=&gt;&quot;ratingsubmit&quot;));
<a name="l2197"><span class="linenum">2197</span></a>  
<a name="l2198"><span class="linenum">2198</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('type' =&gt; 'submit', 'class' =&gt; 'postratingmenusubmit', 'id' =&gt; 'postratingsubmit'.<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('itemid')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>, 'value' =&gt; <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('rate', 'rating')));
<a name="l2199"><span class="linenum">2199</span></a>              <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l2200"><span class="linenum">2200</span></a>  
<a name="l2201"><span class="linenum">2201</span></a>              if (!<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('settings')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/settings.html">settings</a>-&gt;scale-&gt;isnumeric) {
<a name="l2202"><span class="linenum">2202</span></a>  <span class="comment">                // If a global scale, try to find current course ID from the context</span>
<a name="l2203"><span class="linenum">2203</span></a>                  if (empty(<a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('settings')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/settings.html">settings</a>-&gt;scale-&gt;courseid) and <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('context')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/context.html">context</a>-&gt;<a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>(false)) {
<a name="l2204"><span class="linenum">2204</span></a>                      <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>-&gt;<a onClick="logVariable('instanceid')" class="var it39493" onMouseOver="hilite(39493)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a>;
<a name="l2205"><span class="linenum">2205</span></a>                  } else {
<a name="l2206"><span class="linenum">2206</span></a>                      <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('settings')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/settings.html">settings</a>-&gt;scale-&gt;courseid;
<a name="l2207"><span class="linenum">2207</span></a>                  }
<a name="l2208"><span class="linenum">2208</span></a>                  <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('help_icon_scale')" href="../_functions/help_icon_scale.html" onMouseOver="funcPopup(event,'help_icon_scale')">help_icon_scale</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it5829" onMouseOver="hilite(5829)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../_variables/rating.html">$rating</a>-&gt;<a onClick="logVariable('settings')" class="var it39501" onMouseOver="hilite(39501)" onMouseOut="lolite()" href="../_variables/settings.html">settings</a>-&gt;scale);
<a name="l2209"><span class="linenum">2209</span></a>              }
<a name="l2210"><span class="linenum">2210</span></a>              <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('span');
<a name="l2211"><span class="linenum">2211</span></a>              <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l2212"><span class="linenum">2212</span></a>              <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('form');
<a name="l2213"><span class="linenum">2213</span></a>          }
<a name="l2214"><span class="linenum">2214</span></a>  
<a name="l2215"><span class="linenum">2215</span></a>          return <a class="var it32291" onMouseOver="hilite(32291)" onMouseOut="lolite()" onClick="logVariable('ratinghtml')" href="../_variables/ratinghtml.html">$ratinghtml</a>;
<a name="l2216"><span class="linenum">2216</span></a>      }
<a name="l2217"><span class="linenum">2217</span></a>  
<a name="l2218"><span class="linenum">2218</span></a>      <span class="comment">/**</span>
<a name="l2219"><span class="linenum">2219</span></a>  <span class="comment">     * Centered heading with attached help button (same title text)</span>
<a name="l2220"><span class="linenum">2220</span></a>  <span class="comment">     * and optional icon attached.</span>
<a name="l2221"><span class="linenum">2221</span></a>  <span class="comment">     *</span>
<a name="l2222"><span class="linenum">2222</span></a>  <span class="comment">     * @param string $text A heading text</span>
<a name="l2223"><span class="linenum">2223</span></a>  <span class="comment">     * @param string $helpidentifier The keyword that defines a help page</span>
<a name="l2224"><span class="linenum">2224</span></a>  <span class="comment">     * @param string $component component name</span>
<a name="l2225"><span class="linenum">2225</span></a>  <span class="comment">     * @param string|moodle_url $icon</span>
<a name="l2226"><span class="linenum">2226</span></a>  <span class="comment">     * @param string $iconalt icon alt text</span>
<a name="l2227"><span class="linenum">2227</span></a>  <span class="comment">     * @param int $level The level of importance of the heading. Defaulting to 2</span>
<a name="l2228"><span class="linenum">2228</span></a>  <span class="comment">     * @param string $classnames A space-separated list of CSS classes. Defaulting to null</span>
<a name="l2229"><span class="linenum">2229</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l2230"><span class="linenum">2230</span></a>  <span class="comment">     */</span>
<a name="l2231"><span class="linenum">2231</span></a>      public function <a class="function" onClick="logFunction('heading_with_help')" href="../_functions/heading_with_help.html" onMouseOver="funcPopup(event,'heading_with_help')">heading_with_help</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it32302" onMouseOver="hilite(32302)" onMouseOut="lolite()" onClick="logVariable('helpidentifier')" href="../_variables/helpidentifier.html">$helpidentifier</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a> = 'moodle', <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = '', <a class="var it15110" onMouseOver="hilite(15110)" onMouseOut="lolite()" onClick="logVariable('iconalt')" href="../_variables/iconalt.html">$iconalt</a> = '', <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = 2, <a class="var it23030" onMouseOver="hilite(23030)" onMouseOut="lolite()" onClick="logVariable('classnames')" href="../_variables/classnames.html">$classnames</a> = null) {
<a name="l2232"><span class="linenum">2232</span></a>          <a class="var it1177" onMouseOver="hilite(1177)" onMouseOut="lolite()" onClick="logVariable('image')" href="../_variables/image.html">$image</a> = '';
<a name="l2233"><span class="linenum">2233</span></a>          if (<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>) {
<a name="l2234"><span class="linenum">2234</span></a>              <a class="var it1177" onMouseOver="hilite(1177)" onMouseOut="lolite()" onClick="logVariable('image')" href="../_variables/image.html">$image</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>, <a class="var it15110" onMouseOver="hilite(15110)" onMouseOut="lolite()" onClick="logVariable('iconalt')" href="../_variables/iconalt.html">$iconalt</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>, array('class'=&gt;'icon iconlarge'));
<a name="l2235"><span class="linenum">2235</span></a>          }
<a name="l2236"><span class="linenum">2236</span></a>  
<a name="l2237"><span class="linenum">2237</span></a>          <a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('help')" href="../_variables/help.html">$help</a> = '';
<a name="l2238"><span class="linenum">2238</span></a>          if (<a class="var it32302" onMouseOver="hilite(32302)" onMouseOut="lolite()" onClick="logVariable('helpidentifier')" href="../_variables/helpidentifier.html">$helpidentifier</a>) {
<a name="l2239"><span class="linenum">2239</span></a>              <a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('help')" href="../_variables/help.html">$help</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('help_icon')" href="../_functions/help_icon.html" onMouseOver="funcPopup(event,'help_icon')">help_icon</a>(<a class="var it32302" onMouseOver="hilite(32302)" onMouseOut="lolite()" onClick="logVariable('helpidentifier')" href="../_variables/helpidentifier.html">$helpidentifier</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>);
<a name="l2240"><span class="linenum">2240</span></a>          }
<a name="l2241"><span class="linenum">2241</span></a>  
<a name="l2242"><span class="linenum">2242</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="var it1177" onMouseOver="hilite(1177)" onMouseOut="lolite()" onClick="logVariable('image')" href="../_variables/image.html">$image</a>.<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>.<a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('help')" href="../_variables/help.html">$help</a>, <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>, <a class="var it23030" onMouseOver="hilite(23030)" onMouseOut="lolite()" onClick="logVariable('classnames')" href="../_variables/classnames.html">$classnames</a>);
<a name="l2243"><span class="linenum">2243</span></a>      }
<a name="l2244"><span class="linenum">2244</span></a>  
<a name="l2245"><span class="linenum">2245</span></a>      <span class="comment">/**</span>
<a name="l2246"><span class="linenum">2246</span></a>  <span class="comment">     * Returns HTML to display a help icon.</span>
<a name="l2247"><span class="linenum">2247</span></a>  <span class="comment">     *</span>
<a name="l2248"><span class="linenum">2248</span></a>  <span class="comment">     * @deprecated since Moodle 2.0</span>
<a name="l2249"><span class="linenum">2249</span></a>  <span class="comment">     */</span>
<a name="l2250"><span class="linenum">2250</span></a>      public function <a class="function" onClick="logFunction('old_help_icon')" href="../_functions/old_help_icon.html" onMouseOver="funcPopup(event,'old_help_icon')">old_help_icon</a>(<a class="var it32302" onMouseOver="hilite(32302)" onMouseOut="lolite()" onClick="logVariable('helpidentifier')" href="../_variables/helpidentifier.html">$helpidentifier</a>, <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a> = 'moodle', <a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../_variables/linktext.html">$linktext</a> = '') {
<a name="l2251"><span class="linenum">2251</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('old_help_icon')" href="../_functions/old_help_icon.html" onMouseOver="funcPopup(event,'old_help_icon')">old_help_icon</a>() can not be used any more, please see <a class="function" onClick="logFunction('help_icon')" href="../_functions/help_icon.html" onMouseOver="funcPopup(event,'help_icon')">help_icon</a>().');
<a name="l2252"><span class="linenum">2252</span></a>      }
<a name="l2253"><span class="linenum">2253</span></a>  
<a name="l2254"><span class="linenum">2254</span></a>      <span class="comment">/**</span>
<a name="l2255"><span class="linenum">2255</span></a>  <span class="comment">     * Returns HTML to display a help icon.</span>
<a name="l2256"><span class="linenum">2256</span></a>  <span class="comment">     *</span>
<a name="l2257"><span class="linenum">2257</span></a>  <span class="comment">     * Theme developers: DO NOT OVERRIDE! Please override function</span>
<a name="l2258"><span class="linenum">2258</span></a>  <span class="comment">     * {@link core_renderer::render_help_icon()} instead.</span>
<a name="l2259"><span class="linenum">2259</span></a>  <span class="comment">     *</span>
<a name="l2260"><span class="linenum">2260</span></a>  <span class="comment">     * @param string $identifier The keyword that defines a help page</span>
<a name="l2261"><span class="linenum">2261</span></a>  <span class="comment">     * @param string $component component name</span>
<a name="l2262"><span class="linenum">2262</span></a>  <span class="comment">     * @param string|bool $linktext true means use $title as link text, string means link text value</span>
<a name="l2263"><span class="linenum">2263</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l2264"><span class="linenum">2264</span></a>  <span class="comment">     */</span>
<a name="l2265"><span class="linenum">2265</span></a>      public function <a class="function" onClick="logFunction('help_icon')" href="../_functions/help_icon.html" onMouseOver="funcPopup(event,'help_icon')">help_icon</a>(<a class="var it1139" onMouseOver="hilite(1139)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../_variables/identifier.html">$identifier</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a> = 'moodle', <a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../_variables/linktext.html">$linktext</a> = '') {
<a name="l2266"><span class="linenum">2266</span></a>          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = <span class="keyword">new </span><a class="class" onClick="logClass('help_icon')" href="../_classes/help_icon.html" onMouseOver="classPopup(event,'help_icon')">help_icon</a>(<a class="var it1139" onMouseOver="hilite(1139)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../_variables/identifier.html">$identifier</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>);
<a name="l2267"><span class="linenum">2267</span></a>          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a class="function" onClick="logFunction('diag_strings')" href="../_functions/diag_strings.html" onMouseOver="funcPopup(event,'diag_strings')">diag_strings</a>();
<a name="l2268"><span class="linenum">2268</span></a>          if (<a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../_variables/linktext.html">$linktext</a> === true) {
<a name="l2269"><span class="linenum">2269</span></a>              <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('linktext')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/linktext.html">linktext</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('identifier')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/identifier.html">identifier</a>, <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('component')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/component.html">component</a>);
<a name="l2270"><span class="linenum">2270</span></a>          } else if (!empty(<a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../_variables/linktext.html">$linktext</a>)) {
<a name="l2271"><span class="linenum">2271</span></a>              <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('linktext')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/linktext.html">linktext</a> = <a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../_variables/linktext.html">$linktext</a>;
<a name="l2272"><span class="linenum">2272</span></a>          }
<a name="l2273"><span class="linenum">2273</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>);
<a name="l2274"><span class="linenum">2274</span></a>      }
<a name="l2275"><span class="linenum">2275</span></a>  
<a name="l2276"><span class="linenum">2276</span></a>      <span class="comment">/**</span>
<a name="l2277"><span class="linenum">2277</span></a>  <span class="comment">     * Implementation of user image rendering.</span>
<a name="l2278"><span class="linenum">2278</span></a>  <span class="comment">     *</span>
<a name="l2279"><span class="linenum">2279</span></a>  <span class="comment">     * @param help_icon $helpicon A help icon instance</span>
<a name="l2280"><span class="linenum">2280</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l2281"><span class="linenum">2281</span></a>  <span class="comment">     */</span>
<a name="l2282"><span class="linenum">2282</span></a>      protected function <a class="function" onClick="logFunction('render_help_icon')" href="../_functions/render_help_icon.html" onMouseOver="funcPopup(event,'render_help_icon')">render_help_icon</a>(help_icon <a class="var it26077" onMouseOver="hilite(26077)" onMouseOut="lolite()" onClick="logVariable('helpicon')" href="../_variables/helpicon.html">$helpicon</a>) {
<a name="l2283"><span class="linenum">2283</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2284"><span class="linenum">2284</span></a>  
<a name="l2285"><span class="linenum">2285</span></a>  <span class="comment">        // first get the help image icon</span>
<a name="l2286"><span class="linenum">2286</span></a>          <a class="var it6779" onMouseOver="hilite(6779)" onMouseOut="lolite()" onClick="logVariable('src')" href="../_variables/src.html">$src</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('help');
<a name="l2287"><span class="linenum">2287</span></a>  
<a name="l2288"><span class="linenum">2288</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it26077" onMouseOver="hilite(26077)" onMouseOut="lolite()" onClick="logVariable('helpicon')" href="../_variables/helpicon.html">$helpicon</a>-&gt;<a onClick="logVariable('identifier')" class="var it41107" onMouseOver="hilite(41107)" onMouseOut="lolite()" href="../_variables/identifier.html">identifier</a>, <a class="var it26077" onMouseOver="hilite(26077)" onMouseOut="lolite()" onClick="logVariable('helpicon')" href="../_variables/helpicon.html">$helpicon</a>-&gt;<a onClick="logVariable('component')" class="var it41107" onMouseOver="hilite(41107)" onMouseOut="lolite()" href="../_variables/component.html">component</a>);
<a name="l2289"><span class="linenum">2289</span></a>  
<a name="l2290"><span class="linenum">2290</span></a>          if (empty(<a class="var it26077" onMouseOver="hilite(26077)" onMouseOut="lolite()" onClick="logVariable('helpicon')" href="../_variables/helpicon.html">$helpicon</a>-&gt;<a onClick="logVariable('linktext')" class="var it41107" onMouseOver="hilite(41107)" onMouseOut="lolite()" href="../_variables/linktext.html">linktext</a>)) {
<a name="l2291"><span class="linenum">2291</span></a>              <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('helpprefix2', '', <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>, &quot;. \t&quot;));
<a name="l2292"><span class="linenum">2292</span></a>          } else {
<a name="l2293"><span class="linenum">2293</span></a>              <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('helpwiththis');
<a name="l2294"><span class="linenum">2294</span></a>          }
<a name="l2295"><span class="linenum">2295</span></a>  
<a name="l2296"><span class="linenum">2296</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('src'=&gt;<a class="var it6779" onMouseOver="hilite(6779)" onMouseOut="lolite()" onClick="logVariable('src')" href="../_variables/src.html">$src</a>, 'alt'=&gt;<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a>, 'class'=&gt;'iconhelp');
<a name="l2297"><span class="linenum">2297</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('img', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l2298"><span class="linenum">2298</span></a>  
<a name="l2299"><span class="linenum">2299</span></a>  <span class="comment">        // add the link text if given</span>
<a name="l2300"><span class="linenum">2300</span></a>          if (!empty(<a class="var it26077" onMouseOver="hilite(26077)" onMouseOut="lolite()" onClick="logVariable('helpicon')" href="../_variables/helpicon.html">$helpicon</a>-&gt;<a onClick="logVariable('linktext')" class="var it41107" onMouseOver="hilite(41107)" onMouseOut="lolite()" href="../_variables/linktext.html">linktext</a>)) {
<a name="l2301"><span class="linenum">2301</span></a>  <span class="comment">            // the spacing has to be done through CSS</span>
<a name="l2302"><span class="linenum">2302</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it26077" onMouseOver="hilite(26077)" onMouseOut="lolite()" onClick="logVariable('helpicon')" href="../_variables/helpicon.html">$helpicon</a>-&gt;<a onClick="logVariable('linktext')" class="var it41107" onMouseOver="hilite(41107)" onMouseOut="lolite()" href="../_variables/linktext.html">linktext</a>;
<a name="l2303"><span class="linenum">2303</span></a>          }
<a name="l2304"><span class="linenum">2304</span></a>  
<a name="l2305"><span class="linenum">2305</span></a>  <span class="comment">        // now create the link around it - we need https on loginhttps pages</span>
<a name="l2306"><span class="linenum">2306</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('httpswwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/httpswwwroot.html">httpswwwroot</a>.'<a class="filename" href="../help.php.html">/help.php</a>', array('component' =&gt; <a class="var it26077" onMouseOver="hilite(26077)" onMouseOut="lolite()" onClick="logVariable('helpicon')" href="../_variables/helpicon.html">$helpicon</a>-&gt;<a onClick="logVariable('component')" class="var it41107" onMouseOver="hilite(41107)" onMouseOut="lolite()" href="../_variables/component.html">component</a>, 'identifier' =&gt; <a class="var it26077" onMouseOver="hilite(26077)" onMouseOut="lolite()" onClick="logVariable('helpicon')" href="../_variables/helpicon.html">$helpicon</a>-&gt;<a onClick="logVariable('identifier')" class="var it41107" onMouseOver="hilite(41107)" onMouseOut="lolite()" href="../_variables/identifier.html">identifier</a>, 'lang'=&gt;<a class="function" onClick="logFunction('current_language')" href="../_functions/current_language.html" onMouseOver="funcPopup(event,'current_language')">current_language</a>()));
<a name="l2307"><span class="linenum">2307</span></a>  
<a name="l2308"><span class="linenum">2308</span></a>  <span class="comment">        // note: this title is displayed only if JS is disabled, otherwise the link will have the new ajax tooltip</span>
<a name="l2309"><span class="linenum">2309</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('helpprefix2', '', <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>, &quot;. \t&quot;));
<a name="l2310"><span class="linenum">2310</span></a>  
<a name="l2311"><span class="linenum">2311</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('href' =&gt; <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, 'title' =&gt; <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>, 'aria-haspopup' =&gt; 'true', 'target'=&gt;'_blank');
<a name="l2312"><span class="linenum">2312</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l2313"><span class="linenum">2313</span></a>  
<a name="l2314"><span class="linenum">2314</span></a>  <span class="comment">        // and finally span</span>
<a name="l2315"><span class="linenum">2315</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>, array('class' =&gt; 'helptooltip'));
<a name="l2316"><span class="linenum">2316</span></a>      }
<a name="l2317"><span class="linenum">2317</span></a>  
<a name="l2318"><span class="linenum">2318</span></a>      <span class="comment">/**</span>
<a name="l2319"><span class="linenum">2319</span></a>  <span class="comment">     * Returns HTML to display a scale help icon.</span>
<a name="l2320"><span class="linenum">2320</span></a>  <span class="comment">     *</span>
<a name="l2321"><span class="linenum">2321</span></a>  <span class="comment">     * @param int $courseid</span>
<a name="l2322"><span class="linenum">2322</span></a>  <span class="comment">     * @param stdClass $scale instance</span>
<a name="l2323"><span class="linenum">2323</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l2324"><span class="linenum">2324</span></a>  <span class="comment">     */</span>
<a name="l2325"><span class="linenum">2325</span></a>      public function <a class="function" onClick="logFunction('help_icon_scale')" href="../_functions/help_icon_scale.html" onMouseOver="funcPopup(event,'help_icon_scale')">help_icon_scale</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, stdClass <a class="var it1939" onMouseOver="hilite(1939)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../_variables/scale.html">$scale</a>) {
<a name="l2326"><span class="linenum">2326</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2327"><span class="linenum">2327</span></a>  
<a name="l2328"><span class="linenum">2328</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('helpprefix2', '', <a class="var it1939" onMouseOver="hilite(1939)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../_variables/scale.html">$scale</a>-&gt;<a onClick="logVariable('name')" class="var it39533" onMouseOver="hilite(39533)" onMouseOut="lolite()" href="../_variables/name.html">name</a>) .' ('.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('newwindow').')';
<a name="l2329"><span class="linenum">2329</span></a>  
<a name="l2330"><span class="linenum">2330</span></a>          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('help', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('scales'), 'moodle', array('class'=&gt;'iconhelp'));
<a name="l2331"><span class="linenum">2331</span></a>  
<a name="l2332"><span class="linenum">2332</span></a>          <a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../_variables/scaleid.html">$scaleid</a> = <a class="phpfunction" onClick="logFunction('abs')" href="../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it1939" onMouseOver="hilite(1939)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../_variables/scale.html">$scale</a>-&gt;<a onClick="logVariable('id')" class="var it39533" onMouseOver="hilite(39533)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l2333"><span class="linenum">2333</span></a>  
<a name="l2334"><span class="linenum">2334</span></a>          <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../course/scales.php.html">/course/scales.php</a>', array('id' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, 'list' =&gt; true, 'scaleid' =&gt; <a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../_variables/scaleid.html">$scaleid</a>));
<a name="l2335"><span class="linenum">2335</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> = <span class="keyword">new </span><a class="class" onClick="logClass('popup_action')" href="../_classes/popup_action.html" onMouseOver="classPopup(event,'popup_action')">popup_action</a>('click', <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, 'ratingscale');
<a name="l2336"><span class="linenum">2336</span></a>  
<a name="l2337"><span class="linenum">2337</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>), array('class' =&gt; 'helplink'));
<a name="l2338"><span class="linenum">2338</span></a>      }
<a name="l2339"><span class="linenum">2339</span></a>  
<a name="l2340"><span class="linenum">2340</span></a>      <span class="comment">/**</span>
<a name="l2341"><span class="linenum">2341</span></a>  <span class="comment">     * Creates and returns a spacer image with optional line break.</span>
<a name="l2342"><span class="linenum">2342</span></a>  <span class="comment">     *</span>
<a name="l2343"><span class="linenum">2343</span></a>  <span class="comment">     * @param array $attributes Any HTML attributes to add to the spaced.</span>
<a name="l2344"><span class="linenum">2344</span></a>  <span class="comment">     * @param bool $br Include a BR after the spacer.... DON'T USE THIS. Don't be</span>
<a name="l2345"><span class="linenum">2345</span></a>  <span class="comment">     *     laxy do it with CSS which is a much better solution.</span>
<a name="l2346"><span class="linenum">2346</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l2347"><span class="linenum">2347</span></a>  <span class="comment">     */</span>
<a name="l2348"><span class="linenum">2348</span></a>      public function <a class="function" onClick="logFunction('spacer')" href="../_functions/spacer.html" onMouseOver="funcPopup(event,'spacer')">spacer</a>(array <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = null, <a class="var it9490" onMouseOver="hilite(9490)" onMouseOut="lolite()" onClick="logVariable('br')" href="../_variables/br.html">$br</a> = false) {
<a name="l2349"><span class="linenum">2349</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = (array)<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>;
<a name="l2350"><span class="linenum">2350</span></a>          if (empty(<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['width'])) {
<a name="l2351"><span class="linenum">2351</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['width'] = 1;
<a name="l2352"><span class="linenum">2352</span></a>          }
<a name="l2353"><span class="linenum">2353</span></a>          if (empty(<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['height'])) {
<a name="l2354"><span class="linenum">2354</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['height'] = 1;
<a name="l2355"><span class="linenum">2355</span></a>          }
<a name="l2356"><span class="linenum">2356</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['class'] = 'spacer';
<a name="l2357"><span class="linenum">2357</span></a>  
<a name="l2358"><span class="linenum">2358</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('spacer', '', 'moodle', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l2359"><span class="linenum">2359</span></a>  
<a name="l2360"><span class="linenum">2360</span></a>          if (!empty(<a class="var it9490" onMouseOver="hilite(9490)" onMouseOut="lolite()" onClick="logVariable('br')" href="../_variables/br.html">$br</a>)) {
<a name="l2361"><span class="linenum">2361</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;br /&gt;';
<a name="l2362"><span class="linenum">2362</span></a>          }
<a name="l2363"><span class="linenum">2363</span></a>  
<a name="l2364"><span class="linenum">2364</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l2365"><span class="linenum">2365</span></a>      }
<a name="l2366"><span class="linenum">2366</span></a>  
<a name="l2367"><span class="linenum">2367</span></a>      <span class="comment">/**</span>
<a name="l2368"><span class="linenum">2368</span></a>  <span class="comment">     * Returns HTML to display the specified user's avatar.</span>
<a name="l2369"><span class="linenum">2369</span></a>  <span class="comment">     *</span>
<a name="l2370"><span class="linenum">2370</span></a>  <span class="comment">     * User avatar may be obtained in two ways:</span>
<a name="l2371"><span class="linenum">2371</span></a>  <span class="comment">     * &lt;pre&gt;</span>
<a name="l2372"><span class="linenum">2372</span></a>  <span class="comment">     * // Option 1: (shortcut for simple cases, preferred way)</span>
<a name="l2373"><span class="linenum">2373</span></a>  <span class="comment">     * // $user has come from the DB and has fields id, picture, imagealt, firstname and lastname</span>
<a name="l2374"><span class="linenum">2374</span></a>  <span class="comment">     * $OUTPUT-&gt;user_picture($user, array('popup'=&gt;true));</span>
<a name="l2375"><span class="linenum">2375</span></a>  <span class="comment">     *</span>
<a name="l2376"><span class="linenum">2376</span></a>  <span class="comment">     * // Option 2:</span>
<a name="l2377"><span class="linenum">2377</span></a>  <span class="comment">     * $userpic = new user_picture($user);</span>
<a name="l2378"><span class="linenum">2378</span></a>  <span class="comment">     * // Set properties of $userpic</span>
<a name="l2379"><span class="linenum">2379</span></a>  <span class="comment">     * $userpic-&gt;popup = true;</span>
<a name="l2380"><span class="linenum">2380</span></a>  <span class="comment">     * $OUTPUT-&gt;render($userpic);</span>
<a name="l2381"><span class="linenum">2381</span></a>  <span class="comment">     * &lt;/pre&gt;</span>
<a name="l2382"><span class="linenum">2382</span></a>  <span class="comment">     *</span>
<a name="l2383"><span class="linenum">2383</span></a>  <span class="comment">     * Theme developers: DO NOT OVERRIDE! Please override function</span>
<a name="l2384"><span class="linenum">2384</span></a>  <span class="comment">     * {@link core_renderer::render_user_picture()} instead.</span>
<a name="l2385"><span class="linenum">2385</span></a>  <span class="comment">     *</span>
<a name="l2386"><span class="linenum">2386</span></a>  <span class="comment">     * @param stdClass $user Object with at least fields id, picture, imagealt, firstname, lastname</span>
<a name="l2387"><span class="linenum">2387</span></a>  <span class="comment">     *     If any of these are missing, the database is queried. Avoid this</span>
<a name="l2388"><span class="linenum">2388</span></a>  <span class="comment">     *     if at all possible, particularly for reports. It is very bad for performance.</span>
<a name="l2389"><span class="linenum">2389</span></a>  <span class="comment">     * @param array $options associative array with user picture options, used only if not a user_picture object,</span>
<a name="l2390"><span class="linenum">2390</span></a>  <span class="comment">     *     options are:</span>
<a name="l2391"><span class="linenum">2391</span></a>  <span class="comment">     *     - courseid=$this-&gt;page-&gt;course-&gt;id (course id of user profile in link)</span>
<a name="l2392"><span class="linenum">2392</span></a>  <span class="comment">     *     - size=35 (size of image)</span>
<a name="l2393"><span class="linenum">2393</span></a>  <span class="comment">     *     - link=true (make image clickable - the link leads to user profile)</span>
<a name="l2394"><span class="linenum">2394</span></a>  <span class="comment">     *     - popup=false (open in popup)</span>
<a name="l2395"><span class="linenum">2395</span></a>  <span class="comment">     *     - alttext=true (add image alt attribute)</span>
<a name="l2396"><span class="linenum">2396</span></a>  <span class="comment">     *     - class = image class attribute (default 'userpicture')</span>
<a name="l2397"><span class="linenum">2397</span></a>  <span class="comment">     *     - visibletoscreenreaders=true (whether to be visible to screen readers)</span>
<a name="l2398"><span class="linenum">2398</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l2399"><span class="linenum">2399</span></a>  <span class="comment">     */</span>
<a name="l2400"><span class="linenum">2400</span></a>      public function <a class="function" onClick="logFunction('user_picture')" href="../_functions/user_picture.html" onMouseOver="funcPopup(event,'user_picture')">user_picture</a>(stdClass <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, array <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = null) {
<a name="l2401"><span class="linenum">2401</span></a>          <a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a> = <span class="keyword">new </span><a class="class" onClick="logClass('user_picture')" href="../_classes/user_picture.html" onMouseOver="classPopup(event,'user_picture')">user_picture</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l2402"><span class="linenum">2402</span></a>          foreach ((array)<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>=&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l2403"><span class="linenum">2403</span></a>              if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>, <a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>)) {
<a name="l2404"><span class="linenum">2404</span></a>                  <a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l2405"><span class="linenum">2405</span></a>              }
<a name="l2406"><span class="linenum">2406</span></a>          }
<a name="l2407"><span class="linenum">2407</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>);
<a name="l2408"><span class="linenum">2408</span></a>      }
<a name="l2409"><span class="linenum">2409</span></a>  
<a name="l2410"><span class="linenum">2410</span></a>      <span class="comment">/**</span>
<a name="l2411"><span class="linenum">2411</span></a>  <span class="comment">     * Internal implementation of user image rendering.</span>
<a name="l2412"><span class="linenum">2412</span></a>  <span class="comment">     *</span>
<a name="l2413"><span class="linenum">2413</span></a>  <span class="comment">     * @param user_picture $userpicture</span>
<a name="l2414"><span class="linenum">2414</span></a>  <span class="comment">     * @return string</span>
<a name="l2415"><span class="linenum">2415</span></a>  <span class="comment">     */</span>
<a name="l2416"><span class="linenum">2416</span></a>      protected function <a class="function" onClick="logFunction('render_user_picture')" href="../_functions/render_user_picture.html" onMouseOver="funcPopup(event,'render_user_picture')">render_user_picture</a>(user_picture <a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>) {
<a name="l2417"><span class="linenum">2417</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2418"><span class="linenum">2418</span></a>  
<a name="l2419"><span class="linenum">2419</span></a>          <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('user')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/user.html">user</a>;
<a name="l2420"><span class="linenum">2420</span></a>  
<a name="l2421"><span class="linenum">2421</span></a>          if (<a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('alttext')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/alttext.html">alttext</a>) {
<a name="l2422"><span class="linenum">2422</span></a>              if (!empty(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('imagealt')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/imagealt.html">imagealt</a>)) {
<a name="l2423"><span class="linenum">2423</span></a>                  <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a> = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('imagealt')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/imagealt.html">imagealt</a>;
<a name="l2424"><span class="linenum">2424</span></a>              } else {
<a name="l2425"><span class="linenum">2425</span></a>                  <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pictureof', '', <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>));
<a name="l2426"><span class="linenum">2426</span></a>              }
<a name="l2427"><span class="linenum">2427</span></a>          } else {
<a name="l2428"><span class="linenum">2428</span></a>              <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a> = '';
<a name="l2429"><span class="linenum">2429</span></a>          }
<a name="l2430"><span class="linenum">2430</span></a>  
<a name="l2431"><span class="linenum">2431</span></a>          if (empty(<a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('size')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/size.html">size</a>)) {
<a name="l2432"><span class="linenum">2432</span></a>              <a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a> = 35;
<a name="l2433"><span class="linenum">2433</span></a>          } else if (<a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('size')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/size.html">size</a> === true or <a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('size')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/size.html">size</a> == 1) {
<a name="l2434"><span class="linenum">2434</span></a>              <a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a> = 100;
<a name="l2435"><span class="linenum">2435</span></a>          } else {
<a name="l2436"><span class="linenum">2436</span></a>              <a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a> = <a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('size')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/size.html">size</a>;
<a name="l2437"><span class="linenum">2437</span></a>          }
<a name="l2438"><span class="linenum">2438</span></a>  
<a name="l2439"><span class="linenum">2439</span></a>          <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a> = <a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('class')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/class.html">class</a>;
<a name="l2440"><span class="linenum">2440</span></a>  
<a name="l2441"><span class="linenum">2441</span></a>          if (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('picture')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/picture.html">picture</a> == 0) {
<a name="l2442"><span class="linenum">2442</span></a>              <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a> .= ' defaultuserpic';
<a name="l2443"><span class="linenum">2443</span></a>          }
<a name="l2444"><span class="linenum">2444</span></a>  
<a name="l2445"><span class="linenum">2445</span></a>          <a class="var it6779" onMouseOver="hilite(6779)" onMouseOut="lolite()" onClick="logVariable('src')" href="../_variables/src.html">$src</a> = <a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>);
<a name="l2446"><span class="linenum">2446</span></a>  
<a name="l2447"><span class="linenum">2447</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('src'=&gt;<a class="var it6779" onMouseOver="hilite(6779)" onMouseOut="lolite()" onClick="logVariable('src')" href="../_variables/src.html">$src</a>, 'alt'=&gt;<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a>, 'title'=&gt;<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a>, 'class'=&gt;<a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>, 'width'=&gt;<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>, 'height'=&gt;<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>);
<a name="l2448"><span class="linenum">2448</span></a>          if (!<a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('visibletoscreenreaders')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/visibletoscreenreaders.html">visibletoscreenreaders</a>) {
<a name="l2449"><span class="linenum">2449</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['role'] = 'presentation';
<a name="l2450"><span class="linenum">2450</span></a>          }
<a name="l2451"><span class="linenum">2451</span></a>  
<a name="l2452"><span class="linenum">2452</span></a>  <span class="comment">        // get the image html output fisrt</span>
<a name="l2453"><span class="linenum">2453</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('img', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l2454"><span class="linenum">2454</span></a>  
<a name="l2455"><span class="linenum">2455</span></a>  <span class="comment">        // then wrap it in link if needed</span>
<a name="l2456"><span class="linenum">2456</span></a>          if (!<a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('link')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/link.html">link</a>) {
<a name="l2457"><span class="linenum">2457</span></a>              return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l2458"><span class="linenum">2458</span></a>          }
<a name="l2459"><span class="linenum">2459</span></a>  
<a name="l2460"><span class="linenum">2460</span></a>          if (empty(<a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('courseid')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>)) {
<a name="l2461"><span class="linenum">2461</span></a>              <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;id;
<a name="l2462"><span class="linenum">2462</span></a>          } else {
<a name="l2463"><span class="linenum">2463</span></a>              <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = <a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('courseid')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>;
<a name="l2464"><span class="linenum">2464</span></a>          }
<a name="l2465"><span class="linenum">2465</span></a>  
<a name="l2466"><span class="linenum">2466</span></a>          if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l2467"><span class="linenum">2467</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../user/profile.php.html">/user/profile.php</a>', array('id' =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l2468"><span class="linenum">2468</span></a>          } else {
<a name="l2469"><span class="linenum">2469</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../user/view.php.html">/user/view.php</a>', array('id' =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'course' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2470"><span class="linenum">2470</span></a>          }
<a name="l2471"><span class="linenum">2471</span></a>  
<a name="l2472"><span class="linenum">2472</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('href'=&gt;<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l2473"><span class="linenum">2473</span></a>          if (!<a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('visibletoscreenreaders')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/visibletoscreenreaders.html">visibletoscreenreaders</a>) {
<a name="l2474"><span class="linenum">2474</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['tabindex'] = '-1';
<a name="l2475"><span class="linenum">2475</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['aria-hidden'] = 'true';
<a name="l2476"><span class="linenum">2476</span></a>          }
<a name="l2477"><span class="linenum">2477</span></a>  
<a name="l2478"><span class="linenum">2478</span></a>          if (<a class="var it16014" onMouseOver="hilite(16014)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('popup')" class="var it40844" onMouseOver="hilite(40844)" onMouseOut="lolite()" href="../_variables/popup.html">popup</a>) {
<a name="l2479"><span class="linenum">2479</span></a>              <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('random_id')" href="../_functions/random_id.html" onMouseOver="funcPopup(event,'random_id')">random_id</a>('userpicture');
<a name="l2480"><span class="linenum">2480</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['id'] = <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>;
<a name="l2481"><span class="linenum">2481</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_action_handler')" href="../_functions/add_action_handler.html" onMouseOver="funcPopup(event,'add_action_handler')">add_action_handler</a>(<span class="keyword">new </span><a class="class" onClick="logClass('popup_action')" href="../_classes/popup_action.html" onMouseOver="classPopup(event,'popup_action')">popup_action</a>('click', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>), <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>);
<a name="l2482"><span class="linenum">2482</span></a>          }
<a name="l2483"><span class="linenum">2483</span></a>  
<a name="l2484"><span class="linenum">2484</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l2485"><span class="linenum">2485</span></a>      }
<a name="l2486"><span class="linenum">2486</span></a>  
<a name="l2487"><span class="linenum">2487</span></a>      <span class="comment">/**</span>
<a name="l2488"><span class="linenum">2488</span></a>  <span class="comment">     * Internal implementation of file tree viewer items rendering.</span>
<a name="l2489"><span class="linenum">2489</span></a>  <span class="comment">     *</span>
<a name="l2490"><span class="linenum">2490</span></a>  <span class="comment">     * @param array $dir</span>
<a name="l2491"><span class="linenum">2491</span></a>  <span class="comment">     * @return string</span>
<a name="l2492"><span class="linenum">2492</span></a>  <span class="comment">     */</span>
<a name="l2493"><span class="linenum">2493</span></a>      public function <a class="function" onClick="logFunction('htmllize_file_tree')" href="../_functions/htmllize_file_tree.html" onMouseOver="funcPopup(event,'htmllize_file_tree')">htmllize_file_tree</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>) {
<a name="l2494"><span class="linenum">2494</span></a>          if (empty(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>['subdirs']) and empty(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>['files'])) {
<a name="l2495"><span class="linenum">2495</span></a>              return '';
<a name="l2496"><span class="linenum">2496</span></a>          }
<a name="l2497"><span class="linenum">2497</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = '&lt;ul&gt;';
<a name="l2498"><span class="linenum">2498</span></a>          foreach (<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>['subdirs'] as <a class="var it1199" onMouseOver="hilite(1199)" onMouseOut="lolite()" onClick="logVariable('subdir')" href="../_variables/subdir.html">$subdir</a>) {
<a name="l2499"><span class="linenum">2499</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> .= '&lt;li&gt;'.<a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it1199" onMouseOver="hilite(1199)" onMouseOut="lolite()" onClick="logVariable('subdir')" href="../_variables/subdir.html">$subdir</a>['dirname']).' '.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('htmllize_file_tree')" href="../_functions/htmllize_file_tree.html" onMouseOver="funcPopup(event,'htmllize_file_tree')">htmllize_file_tree</a>(<a class="var it1199" onMouseOver="hilite(1199)" onMouseOut="lolite()" onClick="logVariable('subdir')" href="../_variables/subdir.html">$subdir</a>).'&lt;/li&gt;';
<a name="l2500"><span class="linenum">2500</span></a>          }
<a name="l2501"><span class="linenum">2501</span></a>          foreach (<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>['files'] as <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) {
<a name="l2502"><span class="linenum">2502</span></a>              <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../_variables/filename.html">$filename</a> = <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>();
<a name="l2503"><span class="linenum">2503</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> .= '&lt;li&gt;&lt;span&gt;'.<a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>-&gt;<a onClick="logVariable('fileurl')" class="var it39701" onMouseOver="hilite(39701)" onMouseOut="lolite()" href="../_variables/fileurl.html">fileurl</a>, <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../_variables/filename.html">$filename</a>).'&lt;/span&gt;&lt;/li&gt;';
<a name="l2504"><span class="linenum">2504</span></a>          }
<a name="l2505"><span class="linenum">2505</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> .= '&lt;/ul&gt;';
<a name="l2506"><span class="linenum">2506</span></a>  
<a name="l2507"><span class="linenum">2507</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l2508"><span class="linenum">2508</span></a>      }
<a name="l2509"><span class="linenum">2509</span></a>  
<a name="l2510"><span class="linenum">2510</span></a>      <span class="comment">/**</span>
<a name="l2511"><span class="linenum">2511</span></a>  <span class="comment">     * Returns HTML to display the file picker</span>
<a name="l2512"><span class="linenum">2512</span></a>  <span class="comment">     *</span>
<a name="l2513"><span class="linenum">2513</span></a>  <span class="comment">     * &lt;pre&gt;</span>
<a name="l2514"><span class="linenum">2514</span></a>  <span class="comment">     * $OUTPUT-&gt;file_picker($options);</span>
<a name="l2515"><span class="linenum">2515</span></a>  <span class="comment">     * &lt;/pre&gt;</span>
<a name="l2516"><span class="linenum">2516</span></a>  <span class="comment">     *</span>
<a name="l2517"><span class="linenum">2517</span></a>  <span class="comment">     * Theme developers: DO NOT OVERRIDE! Please override function</span>
<a name="l2518"><span class="linenum">2518</span></a>  <span class="comment">     * {@link core_renderer::render_file_picker()} instead.</span>
<a name="l2519"><span class="linenum">2519</span></a>  <span class="comment">     *</span>
<a name="l2520"><span class="linenum">2520</span></a>  <span class="comment">     * @param array $options associative array with file manager options</span>
<a name="l2521"><span class="linenum">2521</span></a>  <span class="comment">     *   options are:</span>
<a name="l2522"><span class="linenum">2522</span></a>  <span class="comment">     *       maxbytes=&gt;-1,</span>
<a name="l2523"><span class="linenum">2523</span></a>  <span class="comment">     *       itemid=&gt;0,</span>
<a name="l2524"><span class="linenum">2524</span></a>  <span class="comment">     *       client_id=&gt;uniqid(),</span>
<a name="l2525"><span class="linenum">2525</span></a>  <span class="comment">     *       acepted_types=&gt;'*',</span>
<a name="l2526"><span class="linenum">2526</span></a>  <span class="comment">     *       return_types=&gt;FILE_INTERNAL,</span>
<a name="l2527"><span class="linenum">2527</span></a>  <span class="comment">     *       context=&gt;$PAGE-&gt;context</span>
<a name="l2528"><span class="linenum">2528</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l2529"><span class="linenum">2529</span></a>  <span class="comment">     */</span>
<a name="l2530"><span class="linenum">2530</span></a>      public function <a class="function" onClick="logFunction('file_picker')" href="../_functions/file_picker.html" onMouseOver="funcPopup(event,'file_picker')">file_picker</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>) {
<a name="l2531"><span class="linenum">2531</span></a>          <a class="var it773" onMouseOver="hilite(773)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../_variables/fp.html">$fp</a> = <span class="keyword">new </span><a class="class" onClick="logClass('file_picker')" href="../_classes/file_picker.html" onMouseOver="classPopup(event,'file_picker')">file_picker</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l2532"><span class="linenum">2532</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it773" onMouseOver="hilite(773)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../_variables/fp.html">$fp</a>);
<a name="l2533"><span class="linenum">2533</span></a>      }
<a name="l2534"><span class="linenum">2534</span></a>  
<a name="l2535"><span class="linenum">2535</span></a>      <span class="comment">/**</span>
<a name="l2536"><span class="linenum">2536</span></a>  <span class="comment">     * Internal implementation of file picker rendering.</span>
<a name="l2537"><span class="linenum">2537</span></a>  <span class="comment">     *</span>
<a name="l2538"><span class="linenum">2538</span></a>  <span class="comment">     * @param file_picker $fp</span>
<a name="l2539"><span class="linenum">2539</span></a>  <span class="comment">     * @return string</span>
<a name="l2540"><span class="linenum">2540</span></a>  <span class="comment">     */</span>
<a name="l2541"><span class="linenum">2541</span></a>      public function <a class="function" onClick="logFunction('render_file_picker')" href="../_functions/render_file_picker.html" onMouseOver="funcPopup(event,'render_file_picker')">render_file_picker</a>(file_picker <a class="var it773" onMouseOver="hilite(773)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../_variables/fp.html">$fp</a>) {
<a name="l2542"><span class="linenum">2542</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l2543"><span class="linenum">2543</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = <a class="var it773" onMouseOver="hilite(773)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../_variables/fp.html">$fp</a>-&gt;<a onClick="logVariable('options')" class="var it40925" onMouseOver="hilite(40925)" onMouseOut="lolite()" href="../_variables/options.html">options</a>;
<a name="l2544"><span class="linenum">2544</span></a>          <a class="var it6424" onMouseOver="hilite(6424)" onMouseOut="lolite()" onClick="logVariable('client_id')" href="../_variables/client_id.html">$client_id</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('client_id')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../_variables/client_id.html">client_id</a>;
<a name="l2545"><span class="linenum">2545</span></a>          <a class="var it32303" onMouseOver="hilite(32303)" onMouseOut="lolite()" onClick="logVariable('strsaved')" href="../_variables/strsaved.html">$strsaved</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('filesaved', 'repository');
<a name="l2546"><span class="linenum">2546</span></a>          <a class="var it10700" onMouseOver="hilite(10700)" onMouseOut="lolite()" onClick="logVariable('straddfile')" href="../_variables/straddfile.html">$straddfile</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('openpicker', 'repository');
<a name="l2547"><span class="linenum">2547</span></a>          <a class="var it10702" onMouseOver="hilite(10702)" onMouseOut="lolite()" onClick="logVariable('strloading')" href="../_variables/strloading.html">$strloading</a>  = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('loading', 'repository');
<a name="l2548"><span class="linenum">2548</span></a>          <a class="var it32304" onMouseOver="hilite(32304)" onMouseOut="lolite()" onClick="logVariable('strdndenabled')" href="../_variables/strdndenabled.html">$strdndenabled</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('dndenabled_inbox', 'moodle');
<a name="l2549"><span class="linenum">2549</span></a>          <a class="var it10703" onMouseOver="hilite(10703)" onMouseOut="lolite()" onClick="logVariable('strdroptoupload')" href="../_variables/strdroptoupload.html">$strdroptoupload</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('droptoupload', 'moodle');
<a name="l2550"><span class="linenum">2550</span></a>          <a class="var it10704" onMouseOver="hilite(10704)" onMouseOut="lolite()" onClick="logVariable('icon_progress')" href="../_variables/icon_progress.html">$icon_progress</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('i/loading_small', <a class="var it10702" onMouseOver="hilite(10702)" onMouseOut="lolite()" onClick="logVariable('strloading')" href="../_variables/strloading.html">$strloading</a>).'';
<a name="l2551"><span class="linenum">2551</span></a>  
<a name="l2552"><span class="linenum">2552</span></a>          <a class="var it26065" onMouseOver="hilite(26065)" onMouseOut="lolite()" onClick="logVariable('currentfile')" href="../_variables/currentfile.html">$currentfile</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('currentfile')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../_variables/currentfile.html">currentfile</a>;
<a name="l2553"><span class="linenum">2553</span></a>          if (empty(<a class="var it26065" onMouseOver="hilite(26065)" onMouseOut="lolite()" onClick="logVariable('currentfile')" href="../_variables/currentfile.html">$currentfile</a>)) {
<a name="l2554"><span class="linenum">2554</span></a>              <a class="var it26065" onMouseOver="hilite(26065)" onMouseOut="lolite()" onClick="logVariable('currentfile')" href="../_variables/currentfile.html">$currentfile</a> = '';
<a name="l2555"><span class="linenum">2555</span></a>          } else {
<a name="l2556"><span class="linenum">2556</span></a>              <a class="var it26065" onMouseOver="hilite(26065)" onMouseOut="lolite()" onClick="logVariable('currentfile')" href="../_variables/currentfile.html">$currentfile</a> .= ' - ';
<a name="l2557"><span class="linenum">2557</span></a>          }
<a name="l2558"><span class="linenum">2558</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('maxbytes')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../_variables/maxbytes.html">maxbytes</a>) {
<a name="l2559"><span class="linenum">2559</span></a>              <a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('maxbytes')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../_variables/maxbytes.html">maxbytes</a>;
<a name="l2560"><span class="linenum">2560</span></a>          } else {
<a name="l2561"><span class="linenum">2561</span></a>              <a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a> = <a class="function" onClick="logFunction('get_max_upload_file_size')" href="../_functions/get_max_upload_file_size.html" onMouseOver="funcPopup(event,'get_max_upload_file_size')">get_max_upload_file_size</a>();
<a name="l2562"><span class="linenum">2562</span></a>          }
<a name="l2563"><span class="linenum">2563</span></a>          if (<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a> == -1) {
<a name="l2564"><span class="linenum">2564</span></a>              <a class="var it6298" onMouseOver="hilite(6298)" onMouseOut="lolite()" onClick="logVariable('maxsize')" href="../_variables/maxsize.html">$maxsize</a> = '';
<a name="l2565"><span class="linenum">2565</span></a>          } else {
<a name="l2566"><span class="linenum">2566</span></a>              <a class="var it6298" onMouseOver="hilite(6298)" onMouseOut="lolite()" onClick="logVariable('maxsize')" href="../_variables/maxsize.html">$maxsize</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('maxfilesize', 'moodle', <a class="function" onClick="logFunction('display_size')" href="../_functions/display_size.html" onMouseOver="funcPopup(event,'display_size')">display_size</a>(<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>));
<a name="l2567"><span class="linenum">2567</span></a>          }
<a name="l2568"><span class="linenum">2568</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('buttonname')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../_variables/buttonname.html">buttonname</a>) {
<a name="l2569"><span class="linenum">2569</span></a>              <a class="var it17949" onMouseOver="hilite(17949)" onMouseOut="lolite()" onClick="logVariable('buttonname')" href="../_variables/buttonname.html">$buttonname</a> = ' name=&quot;' . <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('buttonname')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../_variables/buttonname.html">buttonname</a> . '&quot;';
<a name="l2570"><span class="linenum">2570</span></a>          } else {
<a name="l2571"><span class="linenum">2571</span></a>              <a class="var it17949" onMouseOver="hilite(17949)" onMouseOut="lolite()" onClick="logVariable('buttonname')" href="../_variables/buttonname.html">$buttonname</a> = '';
<a name="l2572"><span class="linenum">2572</span></a>          }
<a name="l2573"><span class="linenum">2573</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> = &lt;&lt;&lt;EOD
<a name="l2574"><span class="linenum">2574</span></a>  &lt;div class=&quot;filemanager-loading mdl-align&quot; id='filepicker-loading-{<a class="var it6424" onMouseOver="hilite(6424)" onMouseOut="lolite()" onClick="logVariable('client_id')" href="../_variables/client_id.html">$client_id</a>}'&gt;
<a name="l2575"><span class="linenum">2575</span></a>  <a class="var it10704" onMouseOver="hilite(10704)" onMouseOut="lolite()" onClick="logVariable('icon_progress')" href="../_variables/icon_progress.html">$icon_progress</a>
<a name="l2576"><span class="linenum">2576</span></a>  &lt;/div&gt;
<a name="l2577"><span class="linenum">2577</span></a>  &lt;div id=&quot;filepicker-wrapper-{<a class="var it6424" onMouseOver="hilite(6424)" onMouseOut="lolite()" onClick="logVariable('client_id')" href="../_variables/client_id.html">$client_id</a>}&quot; class=&quot;mdl-left&quot; style=&quot;display:none&quot;&gt;
<a name="l2578"><span class="linenum">2578</span></a>      &lt;div&gt;
<a name="l2579"><span class="linenum">2579</span></a>          &lt;input type=&quot;button&quot; class=&quot;fp-btn-choose&quot; id=&quot;filepicker-button-{<a class="var it6424" onMouseOver="hilite(6424)" onMouseOut="lolite()" onClick="logVariable('client_id')" href="../_variables/client_id.html">$client_id</a>}&quot; value=&quot;{<a class="var it10700" onMouseOver="hilite(10700)" onMouseOut="lolite()" onClick="logVariable('straddfile')" href="../_variables/straddfile.html">$straddfile</a>}&quot;{<a class="var it17949" onMouseOver="hilite(17949)" onMouseOut="lolite()" onClick="logVariable('buttonname')" href="../_variables/buttonname.html">$buttonname</a>}/&gt;
<a name="l2580"><span class="linenum">2580</span></a>          &lt;span&gt; <a class="var it6298" onMouseOver="hilite(6298)" onMouseOut="lolite()" onClick="logVariable('maxsize')" href="../_variables/maxsize.html">$maxsize</a> &lt;/span&gt;
<a name="l2581"><span class="linenum">2581</span></a>      &lt;/div&gt;
<a name="l2582"><span class="linenum">2582</span></a>  EOD;
<a name="l2583"><span class="linenum">2583</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('env')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../_variables/env.html">env</a> != 'url') {
<a name="l2584"><span class="linenum">2584</span></a>              <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= &lt;&lt;&lt;EOD
<a name="l2585"><span class="linenum">2585</span></a>      &lt;div id=&quot;file_info_{<a class="var it6424" onMouseOver="hilite(6424)" onMouseOut="lolite()" onClick="logVariable('client_id')" href="../_variables/client_id.html">$client_id</a>}&quot; class=&quot;mdl-left filepicker-filelist&quot; style=&quot;position: relative&quot;&gt;
<a name="l2586"><span class="linenum">2586</span></a>      &lt;div class=&quot;filepicker-filename&quot;&gt;
<a name="l2587"><span class="linenum">2587</span></a>          &lt;div class=&quot;filepicker-container&quot;&gt;<a class="var it26065" onMouseOver="hilite(26065)" onMouseOut="lolite()" onClick="logVariable('currentfile')" href="../_variables/currentfile.html">$currentfile</a>&lt;div class=&quot;dndupload-message&quot;&gt;<a class="var it32304" onMouseOver="hilite(32304)" onMouseOut="lolite()" onClick="logVariable('strdndenabled')" href="../_variables/strdndenabled.html">$strdndenabled</a> &lt;br/&gt;&lt;div class=&quot;dndupload-arrow&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
<a name="l2588"><span class="linenum">2588</span></a>          &lt;div class=&quot;dndupload-progressbars&quot;&gt;&lt;/div&gt;
<a name="l2589"><span class="linenum">2589</span></a>      &lt;/div&gt;
<a name="l2590"><span class="linenum">2590</span></a>      &lt;div&gt;&lt;div class=&quot;dndupload-target&quot;&gt;{<a class="var it10703" onMouseOver="hilite(10703)" onMouseOut="lolite()" onClick="logVariable('strdroptoupload')" href="../_variables/strdroptoupload.html">$strdroptoupload</a>}&lt;br/&gt;&lt;div class=&quot;dndupload-arrow&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
<a name="l2591"><span class="linenum">2591</span></a>      &lt;/div&gt;
<a name="l2592"><span class="linenum">2592</span></a>  EOD;
<a name="l2593"><span class="linenum">2593</span></a>          }
<a name="l2594"><span class="linenum">2594</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= '&lt;/div&gt;';
<a name="l2595"><span class="linenum">2595</span></a>          return <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>;
<a name="l2596"><span class="linenum">2596</span></a>      }
<a name="l2597"><span class="linenum">2597</span></a>  
<a name="l2598"><span class="linenum">2598</span></a>      <span class="comment">/**</span>
<a name="l2599"><span class="linenum">2599</span></a>  <span class="comment">     * Returns HTML to display the 'Update this Modulename' button that appears on module pages.</span>
<a name="l2600"><span class="linenum">2600</span></a>  <span class="comment">     *</span>
<a name="l2601"><span class="linenum">2601</span></a>  <span class="comment">     * @param string $cmid the course_module id.</span>
<a name="l2602"><span class="linenum">2602</span></a>  <span class="comment">     * @param string $modulename the module name, eg. &quot;forum&quot;, &quot;quiz&quot; or &quot;workshop&quot;</span>
<a name="l2603"><span class="linenum">2603</span></a>  <span class="comment">     * @return string the HTML for the button, if this user has permission to edit it, else an empty string.</span>
<a name="l2604"><span class="linenum">2604</span></a>  <span class="comment">     */</span>
<a name="l2605"><span class="linenum">2605</span></a>      public function <a class="function" onClick="logFunction('update_module_button')" href="../_functions/update_module_button.html" onMouseOver="funcPopup(event,'update_module_button')">update_module_button</a>(<a class="var it171" onMouseOver="hilite(171)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>, <a class="var it557" onMouseOver="hilite(557)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a>) {
<a name="l2606"><span class="linenum">2606</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2607"><span class="linenum">2607</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:manageactivities', <a class="class" onClick="logClass('context_module')" href="../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it171" onMouseOver="hilite(171)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>))) {
<a name="l2608"><span class="linenum">2608</span></a>              <a class="var it557" onMouseOver="hilite(557)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it557" onMouseOver="hilite(557)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a>);
<a name="l2609"><span class="linenum">2609</span></a>              <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('updatethis', '', <a class="var it557" onMouseOver="hilite(557)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a>);
<a name="l2610"><span class="linenum">2610</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>/course/mod.php&quot;, array('update' =&gt; <a class="var it171" onMouseOver="hilite(171)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>, 'return' =&gt; true, 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l2611"><span class="linenum">2611</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>);
<a name="l2612"><span class="linenum">2612</span></a>          } else {
<a name="l2613"><span class="linenum">2613</span></a>              return '';
<a name="l2614"><span class="linenum">2614</span></a>          }
<a name="l2615"><span class="linenum">2615</span></a>      }
<a name="l2616"><span class="linenum">2616</span></a>  
<a name="l2617"><span class="linenum">2617</span></a>      <span class="comment">/**</span>
<a name="l2618"><span class="linenum">2618</span></a>  <span class="comment">     * Returns HTML to display a &quot;Turn editing on/off&quot; button in a form.</span>
<a name="l2619"><span class="linenum">2619</span></a>  <span class="comment">     *</span>
<a name="l2620"><span class="linenum">2620</span></a>  <span class="comment">     * @param moodle_url $url The URL + params to send through when clicking the button</span>
<a name="l2621"><span class="linenum">2621</span></a>  <span class="comment">     * @return string HTML the button</span>
<a name="l2622"><span class="linenum">2622</span></a>  <span class="comment">     */</span>
<a name="l2623"><span class="linenum">2623</span></a>      public function <a class="function" onClick="logFunction('edit_button')" href="../_functions/edit_button.html" onMouseOver="funcPopup(event,'edit_button')">edit_button</a>(moodle_url <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>) {
<a name="l2624"><span class="linenum">2624</span></a>  
<a name="l2625"><span class="linenum">2625</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('sesskey', <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>());
<a name="l2626"><span class="linenum">2626</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('user_is_editing')" href="../_functions/user_is_editing.html" onMouseOver="funcPopup(event,'user_is_editing')">user_is_editing</a>()) {
<a name="l2627"><span class="linenum">2627</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('edit', 'off');
<a name="l2628"><span class="linenum">2628</span></a>              <a class="var it21086" onMouseOver="hilite(21086)" onMouseOut="lolite()" onClick="logVariable('editstring')" href="../_variables/editstring.html">$editstring</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('turneditingoff');
<a name="l2629"><span class="linenum">2629</span></a>          } else {
<a name="l2630"><span class="linenum">2630</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('edit', 'on');
<a name="l2631"><span class="linenum">2631</span></a>              <a class="var it21086" onMouseOver="hilite(21086)" onMouseOut="lolite()" onClick="logVariable('editstring')" href="../_variables/editstring.html">$editstring</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('turneditingon');
<a name="l2632"><span class="linenum">2632</span></a>          }
<a name="l2633"><span class="linenum">2633</span></a>  
<a name="l2634"><span class="linenum">2634</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it21086" onMouseOver="hilite(21086)" onMouseOut="lolite()" onClick="logVariable('editstring')" href="../_variables/editstring.html">$editstring</a>);
<a name="l2635"><span class="linenum">2635</span></a>      }
<a name="l2636"><span class="linenum">2636</span></a>  
<a name="l2637"><span class="linenum">2637</span></a>      <span class="comment">/**</span>
<a name="l2638"><span class="linenum">2638</span></a>  <span class="comment">     * Returns HTML to display a simple button to close a window</span>
<a name="l2639"><span class="linenum">2639</span></a>  <span class="comment">     *</span>
<a name="l2640"><span class="linenum">2640</span></a>  <span class="comment">     * @param string $text The lang string for the button's label (already output from get_string())</span>
<a name="l2641"><span class="linenum">2641</span></a>  <span class="comment">     * @return string html fragment</span>
<a name="l2642"><span class="linenum">2642</span></a>  <span class="comment">     */</span>
<a name="l2643"><span class="linenum">2643</span></a>      public function <a class="function" onClick="logFunction('close_window_button')" href="../_functions/close_window_button.html" onMouseOver="funcPopup(event,'close_window_button')">close_window_button</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>='') {
<a name="l2644"><span class="linenum">2644</span></a>          if (empty(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>)) {
<a name="l2645"><span class="linenum">2645</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('closewindow');
<a name="l2646"><span class="linenum">2646</span></a>          }
<a name="l2647"><span class="linenum">2647</span></a>          <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_button')" href="../_classes/single_button.html" onMouseOver="classPopup(event,'single_button')">single_button</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('#'), <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, 'get');
<a name="l2648"><span class="linenum">2648</span></a>          <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a class="function" onClick="logFunction('add_action')" href="../_functions/add_action.html" onMouseOver="funcPopup(event,'add_action')">add_action</a>(<span class="keyword">new </span><a class="class" onClick="logClass('component_action')" href="../_classes/component_action.html" onMouseOver="classPopup(event,'component_action')">component_action</a>('click', 'close_window'));
<a name="l2649"><span class="linenum">2649</span></a>  
<a name="l2650"><span class="linenum">2650</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('container')" href="../_functions/container.html" onMouseOver="funcPopup(event,'container')">container</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>), 'closewindow');
<a name="l2651"><span class="linenum">2651</span></a>      }
<a name="l2652"><span class="linenum">2652</span></a>  
<a name="l2653"><span class="linenum">2653</span></a>      <span class="comment">/**</span>
<a name="l2654"><span class="linenum">2654</span></a>  <span class="comment">     * Output an error message. By default wraps the error message in &lt;span class=&quot;error&quot;&gt;.</span>
<a name="l2655"><span class="linenum">2655</span></a>  <span class="comment">     * If the error message is blank, nothing is output.</span>
<a name="l2656"><span class="linenum">2656</span></a>  <span class="comment">     *</span>
<a name="l2657"><span class="linenum">2657</span></a>  <span class="comment">     * @param string $message the error message.</span>
<a name="l2658"><span class="linenum">2658</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l2659"><span class="linenum">2659</span></a>  <span class="comment">     */</span>
<a name="l2660"><span class="linenum">2660</span></a>      public function <a class="function" onClick="logFunction('error_text')" href="../_functions/error_text.html" onMouseOver="funcPopup(event,'error_text')">error_text</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>) {
<a name="l2661"><span class="linenum">2661</span></a>          if (empty(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>)) {
<a name="l2662"><span class="linenum">2662</span></a>              return '';
<a name="l2663"><span class="linenum">2663</span></a>          }
<a name="l2664"><span class="linenum">2664</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('i/warning', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('error'), '', array('class' =&gt; 'icon icon-pre', 'title'=&gt;'')) . <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>;
<a name="l2665"><span class="linenum">2665</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, array('class' =&gt; 'error'));
<a name="l2666"><span class="linenum">2666</span></a>      }
<a name="l2667"><span class="linenum">2667</span></a>  
<a name="l2668"><span class="linenum">2668</span></a>      <span class="comment">/**</span>
<a name="l2669"><span class="linenum">2669</span></a>  <span class="comment">     * Do not call this function directly.</span>
<a name="l2670"><span class="linenum">2670</span></a>  <span class="comment">     *</span>
<a name="l2671"><span class="linenum">2671</span></a>  <span class="comment">     * To terminate the current script with a fatal error, call the {@link print_error}</span>
<a name="l2672"><span class="linenum">2672</span></a>  <span class="comment">     * function, or throw an exception. Doing either of those things will then call this</span>
<a name="l2673"><span class="linenum">2673</span></a>  <span class="comment">     * function to display the error, before terminating the execution.</span>
<a name="l2674"><span class="linenum">2674</span></a>  <span class="comment">     *</span>
<a name="l2675"><span class="linenum">2675</span></a>  <span class="comment">     * @param string $message The message to output</span>
<a name="l2676"><span class="linenum">2676</span></a>  <span class="comment">     * @param string $moreinfourl URL where more info can be found about the error</span>
<a name="l2677"><span class="linenum">2677</span></a>  <span class="comment">     * @param string $link Link for the Continue button</span>
<a name="l2678"><span class="linenum">2678</span></a>  <span class="comment">     * @param array $backtrace The execution backtrace</span>
<a name="l2679"><span class="linenum">2679</span></a>  <span class="comment">     * @param string $debuginfo Debugging information</span>
<a name="l2680"><span class="linenum">2680</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l2681"><span class="linenum">2681</span></a>  <span class="comment">     */</span>
<a name="l2682"><span class="linenum">2682</span></a>      public function <a class="function" onClick="logFunction('fatal_error')" href="../_functions/fatal_error.html" onMouseOver="funcPopup(event,'fatal_error')">fatal_error</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it32305" onMouseOver="hilite(32305)" onMouseOut="lolite()" onClick="logVariable('moreinfourl')" href="../_variables/moreinfourl.html">$moreinfourl</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = null) {
<a name="l2683"><span class="linenum">2683</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2684"><span class="linenum">2684</span></a>  
<a name="l2685"><span class="linenum">2685</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l2686"><span class="linenum">2686</span></a>          <a class="var it32306" onMouseOver="hilite(32306)" onMouseOut="lolite()" onClick="logVariable('obbuffer')" href="../_variables/obbuffer.html">$obbuffer</a> = '';
<a name="l2687"><span class="linenum">2687</span></a>  
<a name="l2688"><span class="linenum">2688</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('has_started')" href="../_functions/has_started.html" onMouseOver="funcPopup(event,'has_started')">has_started</a>()) {
<a name="l2689"><span class="linenum">2689</span></a>  <span class="comment">            // we can not always recover properly here, we have problems with output buffering,</span>
<a name="l2690"><span class="linenum">2690</span></a>  <span class="comment">            // html tables, etc.</span>
<a name="l2691"><span class="linenum">2691</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>-&gt;<a class="function" onClick="logFunction('pop_all_but_last')" href="../_functions/pop_all_but_last.html" onMouseOver="funcPopup(event,'pop_all_but_last')">pop_all_but_last</a>();
<a name="l2692"><span class="linenum">2692</span></a>  
<a name="l2693"><span class="linenum">2693</span></a>          } else {
<a name="l2694"><span class="linenum">2694</span></a>  <span class="comment">            // It is really bad if library code throws exception when output buffering is on,</span>
<a name="l2695"><span class="linenum">2695</span></a>  <span class="comment">            // because the buffered text would be printed before our start of page.</span>
<a name="l2696"><span class="linenum">2696</span></a>  <span class="comment">            // NOTE: this hack might be behave unexpectedly in case output buffering is enabled in PHP.ini</span>
<a name="l2697"><span class="linenum">2697</span></a>              <a class="phpfunction" onClick="logFunction('error_reporting')" href="../_functions/error_reporting.html" onMouseOver="phpfuncPopup(event,'error_reporting')">error_reporting</a>(0); <span class="comment">// disable notices from gzip compression, etc.</span>
<a name="l2698"><span class="linenum">2698</span></a>              while (<a class="phpfunction" onClick="logFunction('ob_get_level')" href="../_functions/ob_get_level.html" onMouseOver="phpfuncPopup(event,'ob_get_level')">ob_get_level</a>() &gt; 0) {
<a name="l2699"><span class="linenum">2699</span></a>                  <a class="var it3045" onMouseOver="hilite(3045)" onMouseOut="lolite()" onClick="logVariable('buff')" href="../_variables/buff.html">$buff</a> = <a class="phpfunction" onClick="logFunction('ob_get_clean')" href="../_functions/ob_get_clean.html" onMouseOver="phpfuncPopup(event,'ob_get_clean')">ob_get_clean</a>();
<a name="l2700"><span class="linenum">2700</span></a>                  if (<a class="var it3045" onMouseOver="hilite(3045)" onMouseOut="lolite()" onClick="logVariable('buff')" href="../_variables/buff.html">$buff</a> === false) {
<a name="l2701"><span class="linenum">2701</span></a>                      break;
<a name="l2702"><span class="linenum">2702</span></a>                  }
<a name="l2703"><span class="linenum">2703</span></a>                  <a class="var it32306" onMouseOver="hilite(32306)" onMouseOut="lolite()" onClick="logVariable('obbuffer')" href="../_variables/obbuffer.html">$obbuffer</a> .= <a class="var it3045" onMouseOver="hilite(3045)" onMouseOut="lolite()" onClick="logVariable('buff')" href="../_variables/buff.html">$buff</a>;
<a name="l2704"><span class="linenum">2704</span></a>              }
<a name="l2705"><span class="linenum">2705</span></a>              <a class="phpfunction" onClick="logFunction('error_reporting')" href="../_functions/error_reporting.html" onMouseOver="phpfuncPopup(event,'error_reporting')">error_reporting</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debug.html">debug</a>);
<a name="l2706"><span class="linenum">2706</span></a>  
<a name="l2707"><span class="linenum">2707</span></a>  <span class="comment">            // Output not yet started.</span>
<a name="l2708"><span class="linenum">2708</span></a>              <a class="var it4665" onMouseOver="hilite(4665)" onMouseOut="lolite()" onClick="logVariable('protocol')" href="../_variables/protocol.html">$protocol</a> = (isset(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_PROTOCOL']) ? <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_PROTOCOL'] : 'HTTP/1.0');
<a name="l2709"><span class="linenum">2709</span></a>              if (empty(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_RANGE'])) {
<a name="l2710"><span class="linenum">2710</span></a>                  @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>(<a class="var it4665" onMouseOver="hilite(4665)" onMouseOut="lolite()" onClick="logVariable('protocol')" href="../_variables/protocol.html">$protocol</a> . ' 404 Not Found');
<a name="l2711"><span class="linenum">2711</span></a>              } else {
<a name="l2712"><span class="linenum">2712</span></a>  <span class="comment">                // Must stop byteserving attempts somehow,</span>
<a name="l2713"><span class="linenum">2713</span></a>  <span class="comment">                // this is weird but Chrome PDF viewer can be stopped only with 407!</span>
<a name="l2714"><span class="linenum">2714</span></a>                  @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>(<a class="var it4665" onMouseOver="hilite(4665)" onMouseOut="lolite()" onClick="logVariable('protocol')" href="../_variables/protocol.html">$protocol</a> . ' 407 Proxy Authentication Required');
<a name="l2715"><span class="linenum">2715</span></a>              }
<a name="l2716"><span class="linenum">2716</span></a>  
<a name="l2717"><span class="linenum">2717</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('set_context')" href="../_functions/set_context.html" onMouseOver="funcPopup(event,'set_context')">set_context</a>(null); <span class="comment">// ugly hack - make sure page context is set to something, we do not want bogus warnings here</span>
<a name="l2718"><span class="linenum">2718</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('set_url')" href="../_functions/set_url.html" onMouseOver="funcPopup(event,'set_url')">set_url</a>('/'); <span class="comment">// no url</span>
<a name="l2719"><span class="linenum">2719</span></a>  <span class="comment">            //$this-&gt;page-&gt;set_pagelayout('base'); //TODO: MDL-20676 blocks on error pages are weird, unfortunately it somehow detect the pagelayout from URL :-(</span>
<a name="l2720"><span class="linenum">2720</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('error'));
<a name="l2721"><span class="linenum">2721</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course-&gt;fullname);
<a name="l2722"><span class="linenum">2722</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>();
<a name="l2723"><span class="linenum">2723</span></a>          }
<a name="l2724"><span class="linenum">2724</span></a>  
<a name="l2725"><span class="linenum">2725</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = '&lt;p class=&quot;errormessage&quot;&gt;' . <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> . '&lt;/p&gt;'.
<a name="l2726"><span class="linenum">2726</span></a>                  '&lt;p class=&quot;errorcode&quot;&gt;&lt;a href=&quot;' . <a class="var it32305" onMouseOver="hilite(32305)" onMouseOut="lolite()" onClick="logVariable('moreinfourl')" href="../_variables/moreinfourl.html">$moreinfourl</a> . '&quot;&gt;' .
<a name="l2727"><span class="linenum">2727</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('moreinformation') . '&lt;/a&gt;&lt;/p&gt;';
<a name="l2728"><span class="linenum">2728</span></a>          if (empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('rolesactive')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/rolesactive.html">rolesactive</a>)) {
<a name="l2729"><span class="linenum">2729</span></a>              <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> .= '&lt;p class=&quot;errormessage&quot;&gt;' . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('installproblem', 'error') . '&lt;/p&gt;';
<a name="l2730"><span class="linenum">2730</span></a>  <span class="comment">            //It is usually not possible to recover from errors triggered during installation, you may need to create a new database or use a different database prefix for new installation.</span>
<a name="l2731"><span class="linenum">2731</span></a>          }
<a name="l2732"><span class="linenum">2732</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('box')" href="../_functions/box.html" onMouseOver="funcPopup(event,'box')">box</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, 'errorbox', null, array('data-rel' =&gt; 'fatalerror'));
<a name="l2733"><span class="linenum">2733</span></a>  
<a name="l2734"><span class="linenum">2734</span></a>          if (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debugdeveloper')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debugdeveloper.html">debugdeveloper</a>) {
<a name="l2735"><span class="linenum">2735</span></a>              if (!empty(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>)) {
<a name="l2736"><span class="linenum">2736</span></a>                  <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>); <span class="comment">// removes all nasty JS</span>
<a name="l2737"><span class="linenum">2737</span></a>                  <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;\n&quot;, '&lt;br /&gt;', <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>); <span class="comment">// keep newlines</span>
<a name="l2738"><span class="linenum">2738</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>('&lt;strong&gt;Debug info:&lt;/strong&gt; '.<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>, 'notifytiny');
<a name="l2739"><span class="linenum">2739</span></a>              }
<a name="l2740"><span class="linenum">2740</span></a>              if (!empty(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>)) {
<a name="l2741"><span class="linenum">2741</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>('&lt;strong&gt;Stack trace:&lt;/strong&gt; '.<a class="function" onClick="logFunction('format_backtrace')" href="../_functions/format_backtrace.html" onMouseOver="funcPopup(event,'format_backtrace')">format_backtrace</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>), 'notifytiny');
<a name="l2742"><span class="linenum">2742</span></a>              }
<a name="l2743"><span class="linenum">2743</span></a>              if (<a class="var it32306" onMouseOver="hilite(32306)" onMouseOut="lolite()" onClick="logVariable('obbuffer')" href="../_variables/obbuffer.html">$obbuffer</a> !== '' ) {
<a name="l2744"><span class="linenum">2744</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>('&lt;strong&gt;Output buffer:&lt;/strong&gt; '.<a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it32306" onMouseOver="hilite(32306)" onMouseOut="lolite()" onClick="logVariable('obbuffer')" href="../_variables/obbuffer.html">$obbuffer</a>), 'notifytiny');
<a name="l2745"><span class="linenum">2745</span></a>              }
<a name="l2746"><span class="linenum">2746</span></a>          }
<a name="l2747"><span class="linenum">2747</span></a>  
<a name="l2748"><span class="linenum">2748</span></a>          if (empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('rolesactive')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/rolesactive.html">rolesactive</a>)) {
<a name="l2749"><span class="linenum">2749</span></a>  <span class="comment">            // continue does not make much sense if moodle is not installed yet because error is most probably not recoverable</span>
<a name="l2750"><span class="linenum">2750</span></a>          } else if (!empty(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>)) {
<a name="l2751"><span class="linenum">2751</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('continue_button')" href="../_functions/continue_button.html" onMouseOver="funcPopup(event,'continue_button')">continue_button</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>);
<a name="l2752"><span class="linenum">2752</span></a>          }
<a name="l2753"><span class="linenum">2753</span></a>  
<a name="l2754"><span class="linenum">2754</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
<a name="l2755"><span class="linenum">2755</span></a>  
<a name="l2756"><span class="linenum">2756</span></a>  <span class="comment">        // Padding to encourage IE to display our error page, rather than its own.</span>
<a name="l2757"><span class="linenum">2757</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="phpfunction" onClick="logFunction('str_repeat')" href="../_functions/str_repeat.html" onMouseOver="phpfuncPopup(event,'str_repeat')">str_repeat</a>(' ', 512);
<a name="l2758"><span class="linenum">2758</span></a>  
<a name="l2759"><span class="linenum">2759</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l2760"><span class="linenum">2760</span></a>      }
<a name="l2761"><span class="linenum">2761</span></a>  
<a name="l2762"><span class="linenum">2762</span></a>      <span class="comment">/**</span>
<a name="l2763"><span class="linenum">2763</span></a>  <span class="comment">     * Output a notification (that is, a status message about something that has</span>
<a name="l2764"><span class="linenum">2764</span></a>  <span class="comment">     * just happened).</span>
<a name="l2765"><span class="linenum">2765</span></a>  <span class="comment">     *</span>
<a name="l2766"><span class="linenum">2766</span></a>  <span class="comment">     * @param string $message the message to print out</span>
<a name="l2767"><span class="linenum">2767</span></a>  <span class="comment">     * @param string $classes normally 'notifyproblem' or 'notifysuccess'.</span>
<a name="l2768"><span class="linenum">2768</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l2769"><span class="linenum">2769</span></a>  <span class="comment">     */</span>
<a name="l2770"><span class="linenum">2770</span></a>      public function <a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'notifyproblem') {
<a name="l2771"><span class="linenum">2771</span></a>  
<a name="l2772"><span class="linenum">2772</span></a>          <a class="var it32307" onMouseOver="hilite(32307)" onMouseOut="lolite()" onClick="logVariable('classmappings')" href="../_variables/classmappings.html">$classmappings</a> = array(
<a name="l2773"><span class="linenum">2773</span></a>              'notifyproblem' =&gt; \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_PROBLEM,
<a name="l2774"><span class="linenum">2774</span></a>              'notifytiny' =&gt; \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_PROBLEM,
<a name="l2775"><span class="linenum">2775</span></a>              'notifysuccess' =&gt; \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_SUCCESS,
<a name="l2776"><span class="linenum">2776</span></a>              'notifymessage' =&gt; \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_MESSAGE,
<a name="l2777"><span class="linenum">2777</span></a>              'redirectmessage' =&gt; \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_REDIRECT
<a name="l2778"><span class="linenum">2778</span></a>          );
<a name="l2779"><span class="linenum">2779</span></a>  
<a name="l2780"><span class="linenum">2780</span></a>  <span class="comment">        // Identify what type of notification this is.</span>
<a name="l2781"><span class="linenum">2781</span></a>          <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_PROBLEM;
<a name="l2782"><span class="linenum">2782</span></a>          <a class="var it32308" onMouseOver="hilite(32308)" onMouseOut="lolite()" onClick="logVariable('classarray')" href="../_variables/classarray.html">$classarray</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', self::<a class="function" onClick="logFunction('prepare_classes')" href="../_functions/prepare_classes.html" onMouseOver="funcPopup(event,'prepare_classes')">prepare_classes</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>));
<a name="l2783"><span class="linenum">2783</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it32308" onMouseOver="hilite(32308)" onMouseOut="lolite()" onClick="logVariable('classarray')" href="../_variables/classarray.html">$classarray</a>) &gt; 0) {
<a name="l2784"><span class="linenum">2784</span></a>              foreach (<a class="var it32308" onMouseOver="hilite(32308)" onMouseOut="lolite()" onClick="logVariable('classarray')" href="../_variables/classarray.html">$classarray</a> as <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>) {
<a name="l2785"><span class="linenum">2785</span></a>                  if (isset(<a class="var it32307" onMouseOver="hilite(32307)" onMouseOut="lolite()" onClick="logVariable('classmappings')" href="../_variables/classmappings.html">$classmappings</a>[<a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>])) {
<a name="l2786"><span class="linenum">2786</span></a>                      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = <a class="var it32307" onMouseOver="hilite(32307)" onMouseOut="lolite()" onClick="logVariable('classmappings')" href="../_variables/classmappings.html">$classmappings</a>[<a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>];
<a name="l2787"><span class="linenum">2787</span></a>                      break;
<a name="l2788"><span class="linenum">2788</span></a>                  }
<a name="l2789"><span class="linenum">2789</span></a>              }
<a name="l2790"><span class="linenum">2790</span></a>          }
<a name="l2791"><span class="linenum">2791</span></a>  
<a name="l2792"><span class="linenum">2792</span></a>          <a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a> = new \core\output\<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>);
<a name="l2793"><span class="linenum">2793</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a>);
<a name="l2794"><span class="linenum">2794</span></a>  
<a name="l2795"><span class="linenum">2795</span></a>      }
<a name="l2796"><span class="linenum">2796</span></a>  
<a name="l2797"><span class="linenum">2797</span></a>      <span class="comment">/**</span>
<a name="l2798"><span class="linenum">2798</span></a>  <span class="comment">     * Output a notification at a particular level - in this case, NOTIFY_PROBLEM.</span>
<a name="l2799"><span class="linenum">2799</span></a>  <span class="comment">     *</span>
<a name="l2800"><span class="linenum">2800</span></a>  <span class="comment">     * @param string $message the message to print out</span>
<a name="l2801"><span class="linenum">2801</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l2802"><span class="linenum">2802</span></a>  <span class="comment">     */</span>
<a name="l2803"><span class="linenum">2803</span></a>      public function <a class="function" onClick="logFunction('notify_problem')" href="../_functions/notify_problem.html" onMouseOver="funcPopup(event,'notify_problem')">notify_problem</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>) {
<a name="l2804"><span class="linenum">2804</span></a>          <a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a> = new \core\output\<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_PROBLEM);
<a name="l2805"><span class="linenum">2805</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a>);
<a name="l2806"><span class="linenum">2806</span></a>      }
<a name="l2807"><span class="linenum">2807</span></a>  
<a name="l2808"><span class="linenum">2808</span></a>      <span class="comment">/**</span>
<a name="l2809"><span class="linenum">2809</span></a>  <span class="comment">     * Output a notification at a particular level - in this case, NOTIFY_SUCCESS.</span>
<a name="l2810"><span class="linenum">2810</span></a>  <span class="comment">     *</span>
<a name="l2811"><span class="linenum">2811</span></a>  <span class="comment">     * @param string $message the message to print out</span>
<a name="l2812"><span class="linenum">2812</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l2813"><span class="linenum">2813</span></a>  <span class="comment">     */</span>
<a name="l2814"><span class="linenum">2814</span></a>      public function <a class="function" onClick="logFunction('notify_success')" href="../_functions/notify_success.html" onMouseOver="funcPopup(event,'notify_success')">notify_success</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>) {
<a name="l2815"><span class="linenum">2815</span></a>          <a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a> = new \core\output\<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_SUCCESS);
<a name="l2816"><span class="linenum">2816</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a>);
<a name="l2817"><span class="linenum">2817</span></a>      }
<a name="l2818"><span class="linenum">2818</span></a>  
<a name="l2819"><span class="linenum">2819</span></a>      <span class="comment">/**</span>
<a name="l2820"><span class="linenum">2820</span></a>  <span class="comment">     * Output a notification at a particular level - in this case, NOTIFY_MESSAGE.</span>
<a name="l2821"><span class="linenum">2821</span></a>  <span class="comment">     *</span>
<a name="l2822"><span class="linenum">2822</span></a>  <span class="comment">     * @param string $message the message to print out</span>
<a name="l2823"><span class="linenum">2823</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l2824"><span class="linenum">2824</span></a>  <span class="comment">     */</span>
<a name="l2825"><span class="linenum">2825</span></a>      public function <a class="function" onClick="logFunction('notify_message')" href="../_functions/notify_message.html" onMouseOver="funcPopup(event,'notify_message')">notify_message</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>) {
<a name="l2826"><span class="linenum">2826</span></a>          <a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a> = <span class="keyword">new </span><a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_MESSAGE);
<a name="l2827"><span class="linenum">2827</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a>);
<a name="l2828"><span class="linenum">2828</span></a>      }
<a name="l2829"><span class="linenum">2829</span></a>  
<a name="l2830"><span class="linenum">2830</span></a>      <span class="comment">/**</span>
<a name="l2831"><span class="linenum">2831</span></a>  <span class="comment">     * Output a notification at a particular level - in this case, NOTIFY_REDIRECT.</span>
<a name="l2832"><span class="linenum">2832</span></a>  <span class="comment">     *</span>
<a name="l2833"><span class="linenum">2833</span></a>  <span class="comment">     * @param string $message the message to print out</span>
<a name="l2834"><span class="linenum">2834</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l2835"><span class="linenum">2835</span></a>  <span class="comment">     */</span>
<a name="l2836"><span class="linenum">2836</span></a>      public function <a class="function" onClick="logFunction('notify_redirect')" href="../_functions/notify_redirect.html" onMouseOver="funcPopup(event,'notify_redirect')">notify_redirect</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>) {
<a name="l2837"><span class="linenum">2837</span></a>          <a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a> = new \core\output\<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_REDIRECT);
<a name="l2838"><span class="linenum">2838</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a>);
<a name="l2839"><span class="linenum">2839</span></a>      }
<a name="l2840"><span class="linenum">2840</span></a>  
<a name="l2841"><span class="linenum">2841</span></a>      <span class="comment">/**</span>
<a name="l2842"><span class="linenum">2842</span></a>  <span class="comment">     * Render a notification (that is, a status message about something that has</span>
<a name="l2843"><span class="linenum">2843</span></a>  <span class="comment">     * just happened).</span>
<a name="l2844"><span class="linenum">2844</span></a>  <span class="comment">     *</span>
<a name="l2845"><span class="linenum">2845</span></a>  <span class="comment">     * @param \core\output\notification $notification the notification to print out</span>
<a name="l2846"><span class="linenum">2846</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l2847"><span class="linenum">2847</span></a>  <span class="comment">     */</span>
<a name="l2848"><span class="linenum">2848</span></a>      protected function <a class="function" onClick="logFunction('render_notification')" href="../_functions/render_notification.html" onMouseOver="funcPopup(event,'render_notification')">render_notification</a>(\core\output\notification <a class="var it1850" onMouseOver="hilite(1850)" onMouseOut="lolite()" onClick="logVariable('notification')" href="../_variables/notification.html">$notification</a>) {
<a name="l2849"><span class="linenum">2849</span></a>  
<a name="l2850"><span class="linenum">2850</span></a>          <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="var it1850" onMouseOver="hilite(1850)" onMouseOut="lolite()" onClick="logVariable('notification')" href="../_variables/notification.html">$notification</a>-&gt;<a class="function" onClick="logFunction('export_for_template')" href="../_functions/export_for_template.html" onMouseOver="funcPopup(event,'export_for_template')">export_for_template</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>);
<a name="l2851"><span class="linenum">2851</span></a>  
<a name="l2852"><span class="linenum">2852</span></a>          <a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a> = '';
<a name="l2853"><span class="linenum">2853</span></a>          switch(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('type')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../_variables/type.html">type</a>) {
<a name="l2854"><span class="linenum">2854</span></a>              case \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_MESSAGE:
<a name="l2855"><span class="linenum">2855</span></a>                  <a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a> = 'core/notification_message';
<a name="l2856"><span class="linenum">2856</span></a>                  break;
<a name="l2857"><span class="linenum">2857</span></a>              case \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_SUCCESS:
<a name="l2858"><span class="linenum">2858</span></a>                  <a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a> = 'core/notification_success';
<a name="l2859"><span class="linenum">2859</span></a>                  break;
<a name="l2860"><span class="linenum">2860</span></a>              case \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_PROBLEM:
<a name="l2861"><span class="linenum">2861</span></a>                  <a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a> = 'core/notification_problem';
<a name="l2862"><span class="linenum">2862</span></a>                  break;
<a name="l2863"><span class="linenum">2863</span></a>              case \core\output\<a class="class" onClick="logClass('notification')" href="../_classes/notification.html" onMouseOver="classPopup(event,'notification')">notification</a>::NOTIFY_REDIRECT:
<a name="l2864"><span class="linenum">2864</span></a>                  <a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a> = 'core/notification_redirect';
<a name="l2865"><span class="linenum">2865</span></a>                  break;
<a name="l2866"><span class="linenum">2866</span></a>              default:
<a name="l2867"><span class="linenum">2867</span></a>                  <a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a> = 'core/notification_message';
<a name="l2868"><span class="linenum">2868</span></a>                  break;
<a name="l2869"><span class="linenum">2869</span></a>          }
<a name="l2870"><span class="linenum">2870</span></a>  
<a name="l2871"><span class="linenum">2871</span></a>          return self::<a class="function" onClick="logFunction('render_from_template')" href="../_functions/render_from_template.html" onMouseOver="funcPopup(event,'render_from_template')">render_from_template</a>(<a class="var it25387" onMouseOver="hilite(25387)" onMouseOut="lolite()" onClick="logVariable('templatename')" href="../_variables/templatename.html">$templatename</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>);
<a name="l2872"><span class="linenum">2872</span></a>  
<a name="l2873"><span class="linenum">2873</span></a>      }
<a name="l2874"><span class="linenum">2874</span></a>  
<a name="l2875"><span class="linenum">2875</span></a>      <span class="comment">/**</span>
<a name="l2876"><span class="linenum">2876</span></a>  <span class="comment">     * Returns HTML to display a continue button that goes to a particular URL.</span>
<a name="l2877"><span class="linenum">2877</span></a>  <span class="comment">     *</span>
<a name="l2878"><span class="linenum">2878</span></a>  <span class="comment">     * @param string|moodle_url $url The url the button goes to.</span>
<a name="l2879"><span class="linenum">2879</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l2880"><span class="linenum">2880</span></a>  <span class="comment">     */</span>
<a name="l2881"><span class="linenum">2881</span></a>      public function <a class="function" onClick="logFunction('continue_button')" href="../_functions/continue_button.html" onMouseOver="funcPopup(event,'continue_button')">continue_button</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>) {
<a name="l2882"><span class="linenum">2882</span></a>          if (!(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> instanceof moodle_url)) {
<a name="l2883"><span class="linenum">2883</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l2884"><span class="linenum">2884</span></a>          }
<a name="l2885"><span class="linenum">2885</span></a>          <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_button')" href="../_classes/single_button.html" onMouseOver="classPopup(event,'single_button')">single_button</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('continue'), 'get');
<a name="l2886"><span class="linenum">2886</span></a>          <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('class')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/class.html">class</a> = 'continuebutton';
<a name="l2887"><span class="linenum">2887</span></a>  
<a name="l2888"><span class="linenum">2888</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>);
<a name="l2889"><span class="linenum">2889</span></a>      }
<a name="l2890"><span class="linenum">2890</span></a>  
<a name="l2891"><span class="linenum">2891</span></a>      <span class="comment">/**</span>
<a name="l2892"><span class="linenum">2892</span></a>  <span class="comment">     * Returns HTML to display a single paging bar to provide access to other pages  (usually in a search)</span>
<a name="l2893"><span class="linenum">2893</span></a>  <span class="comment">     *</span>
<a name="l2894"><span class="linenum">2894</span></a>  <span class="comment">     * Theme developers: DO NOT OVERRIDE! Please override function</span>
<a name="l2895"><span class="linenum">2895</span></a>  <span class="comment">     * {@link core_renderer::render_paging_bar()} instead.</span>
<a name="l2896"><span class="linenum">2896</span></a>  <span class="comment">     *</span>
<a name="l2897"><span class="linenum">2897</span></a>  <span class="comment">     * @param int $totalcount The total number of entries available to be paged through</span>
<a name="l2898"><span class="linenum">2898</span></a>  <span class="comment">     * @param int $page The page you are currently viewing</span>
<a name="l2899"><span class="linenum">2899</span></a>  <span class="comment">     * @param int $perpage The number of entries that should be shown per page</span>
<a name="l2900"><span class="linenum">2900</span></a>  <span class="comment">     * @param string|moodle_url $baseurl url of the current page, the $pagevar parameter is added</span>
<a name="l2901"><span class="linenum">2901</span></a>  <span class="comment">     * @param string $pagevar name of page parameter that holds the page number</span>
<a name="l2902"><span class="linenum">2902</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l2903"><span class="linenum">2903</span></a>  <span class="comment">     */</span>
<a name="l2904"><span class="linenum">2904</span></a>      public function <a class="function" onClick="logFunction('paging_bar')" href="../_functions/paging_bar.html" onMouseOver="funcPopup(event,'paging_bar')">paging_bar</a>(<a class="var it3080" onMouseOver="hilite(3080)" onMouseOut="lolite()" onClick="logVariable('totalcount')" href="../_variables/totalcount.html">$totalcount</a>, <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it3060" onMouseOver="hilite(3060)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../_variables/perpage.html">$perpage</a>, <a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../_variables/baseurl.html">$baseurl</a>, <a class="var it3799" onMouseOver="hilite(3799)" onMouseOut="lolite()" onClick="logVariable('pagevar')" href="../_variables/pagevar.html">$pagevar</a> = 'page') {
<a name="l2905"><span class="linenum">2905</span></a>          <a class="var it3794" onMouseOver="hilite(3794)" onMouseOut="lolite()" onClick="logVariable('pb')" href="../_variables/pb.html">$pb</a> = <span class="keyword">new </span><a class="class" onClick="logClass('paging_bar')" href="../_classes/paging_bar.html" onMouseOver="classPopup(event,'paging_bar')">paging_bar</a>(<a class="var it3080" onMouseOver="hilite(3080)" onMouseOut="lolite()" onClick="logVariable('totalcount')" href="../_variables/totalcount.html">$totalcount</a>, <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it3060" onMouseOver="hilite(3060)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../_variables/perpage.html">$perpage</a>, <a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../_variables/baseurl.html">$baseurl</a>, <a class="var it3799" onMouseOver="hilite(3799)" onMouseOut="lolite()" onClick="logVariable('pagevar')" href="../_variables/pagevar.html">$pagevar</a>);
<a name="l2906"><span class="linenum">2906</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it3794" onMouseOver="hilite(3794)" onMouseOut="lolite()" onClick="logVariable('pb')" href="../_variables/pb.html">$pb</a>);
<a name="l2907"><span class="linenum">2907</span></a>      }
<a name="l2908"><span class="linenum">2908</span></a>  
<a name="l2909"><span class="linenum">2909</span></a>      <span class="comment">/**</span>
<a name="l2910"><span class="linenum">2910</span></a>  <span class="comment">     * Internal implementation of paging bar rendering.</span>
<a name="l2911"><span class="linenum">2911</span></a>  <span class="comment">     *</span>
<a name="l2912"><span class="linenum">2912</span></a>  <span class="comment">     * @param paging_bar $pagingbar</span>
<a name="l2913"><span class="linenum">2913</span></a>  <span class="comment">     * @return string</span>
<a name="l2914"><span class="linenum">2914</span></a>  <span class="comment">     */</span>
<a name="l2915"><span class="linenum">2915</span></a>      protected function <a class="function" onClick="logFunction('render_paging_bar')" href="../_functions/render_paging_bar.html" onMouseOver="funcPopup(event,'render_paging_bar')">render_paging_bar</a>(paging_bar <a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>) {
<a name="l2916"><span class="linenum">2916</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l2917"><span class="linenum">2917</span></a>          <a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a> = <a class="function" onClick="logFunction('clone')" href="../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(<a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>);
<a name="l2918"><span class="linenum">2918</span></a>          <a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a class="function" onClick="logFunction('prepare')" href="../_functions/prepare.html" onMouseOver="funcPopup(event,'prepare')">prepare</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('target')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/target.html">target</a>);
<a name="l2919"><span class="linenum">2919</span></a>  
<a name="l2920"><span class="linenum">2920</span></a>          if (<a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('totalcount')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/totalcount.html">totalcount</a> &gt; <a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('perpage')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/perpage.html">perpage</a>) {
<a name="l2921"><span class="linenum">2921</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page') . ':';
<a name="l2922"><span class="linenum">2922</span></a>  
<a name="l2923"><span class="linenum">2923</span></a>              if (!empty(<a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('previouslink')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/previouslink.html">previouslink</a>)) {
<a name="l2924"><span class="linenum">2924</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= ' (' . <a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('previouslink')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/previouslink.html">previouslink</a> . ') ';
<a name="l2925"><span class="linenum">2925</span></a>              }
<a name="l2926"><span class="linenum">2926</span></a>  
<a name="l2927"><span class="linenum">2927</span></a>              if (!empty(<a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('firstlink')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/firstlink.html">firstlink</a>)) {
<a name="l2928"><span class="linenum">2928</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= ' ' . <a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('firstlink')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/firstlink.html">firstlink</a> . ' ...';
<a name="l2929"><span class="linenum">2929</span></a>              }
<a name="l2930"><span class="linenum">2930</span></a>  
<a name="l2931"><span class="linenum">2931</span></a>              foreach (<a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('pagelinks')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/pagelinks.html">pagelinks</a> as <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>) {
<a name="l2932"><span class="linenum">2932</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= &quot;  <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>&quot;;
<a name="l2933"><span class="linenum">2933</span></a>              }
<a name="l2934"><span class="linenum">2934</span></a>  
<a name="l2935"><span class="linenum">2935</span></a>              if (!empty(<a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('lastlink')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/lastlink.html">lastlink</a>)) {
<a name="l2936"><span class="linenum">2936</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= ' ...' . <a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('lastlink')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/lastlink.html">lastlink</a> . ' ';
<a name="l2937"><span class="linenum">2937</span></a>              }
<a name="l2938"><span class="linenum">2938</span></a>  
<a name="l2939"><span class="linenum">2939</span></a>              if (!empty(<a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('nextlink')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/nextlink.html">nextlink</a>)) {
<a name="l2940"><span class="linenum">2940</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '  (' . <a class="var it4276" onMouseOver="hilite(4276)" onMouseOut="lolite()" onClick="logVariable('pagingbar')" href="../_variables/pagingbar.html">$pagingbar</a>-&gt;<a onClick="logVariable('nextlink')" class="var it39667" onMouseOver="hilite(39667)" onMouseOut="lolite()" href="../_variables/nextlink.html">nextlink</a> . ')';
<a name="l2941"><span class="linenum">2941</span></a>              }
<a name="l2942"><span class="linenum">2942</span></a>          }
<a name="l2943"><span class="linenum">2943</span></a>  
<a name="l2944"><span class="linenum">2944</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>, array('class' =&gt; 'paging'));
<a name="l2945"><span class="linenum">2945</span></a>      }
<a name="l2946"><span class="linenum">2946</span></a>  
<a name="l2947"><span class="linenum">2947</span></a>      <span class="comment">/**</span>
<a name="l2948"><span class="linenum">2948</span></a>  <span class="comment">     * Output the place a skip link goes to.</span>
<a name="l2949"><span class="linenum">2949</span></a>  <span class="comment">     *</span>
<a name="l2950"><span class="linenum">2950</span></a>  <span class="comment">     * @param string $id The target name from the corresponding $PAGE-&gt;requires-&gt;skip_link_to($target) call.</span>
<a name="l2951"><span class="linenum">2951</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l2952"><span class="linenum">2952</span></a>  <span class="comment">     */</span>
<a name="l2953"><span class="linenum">2953</span></a>      public function <a class="function" onClick="logFunction('skip_link_target')" href="../_functions/skip_link_target.html" onMouseOver="funcPopup(event,'skip_link_target')">skip_link_target</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = null) {
<a name="l2954"><span class="linenum">2954</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', '', array('id' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>));
<a name="l2955"><span class="linenum">2955</span></a>      }
<a name="l2956"><span class="linenum">2956</span></a>  
<a name="l2957"><span class="linenum">2957</span></a>      <span class="comment">/**</span>
<a name="l2958"><span class="linenum">2958</span></a>  <span class="comment">     * Outputs a heading</span>
<a name="l2959"><span class="linenum">2959</span></a>  <span class="comment">     *</span>
<a name="l2960"><span class="linenum">2960</span></a>  <span class="comment">     * @param string $text The text of the heading</span>
<a name="l2961"><span class="linenum">2961</span></a>  <span class="comment">     * @param int $level The level of importance of the heading. Defaulting to 2</span>
<a name="l2962"><span class="linenum">2962</span></a>  <span class="comment">     * @param string $classes A space-separated list of CSS classes. Defaulting to null</span>
<a name="l2963"><span class="linenum">2963</span></a>  <span class="comment">     * @param string $id An optional ID</span>
<a name="l2964"><span class="linenum">2964</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l2965"><span class="linenum">2965</span></a>  <span class="comment">     */</span>
<a name="l2966"><span class="linenum">2966</span></a>      public function <a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = 2, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = null, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = null) {
<a name="l2967"><span class="linenum">2967</span></a>          <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = (integer) <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>;
<a name="l2968"><span class="linenum">2968</span></a>          if (<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> &lt; 1 or <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> &gt; 6) {
<a name="l2969"><span class="linenum">2969</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Heading level must be an integer between 1 and 6.');
<a name="l2970"><span class="linenum">2970</span></a>          }
<a name="l2971"><span class="linenum">2971</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('h' . <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, array('id' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>, 'class' =&gt; <a class="class" onClick="logClass('renderer_base')" href="../_classes/renderer_base.html" onMouseOver="classPopup(event,'renderer_base')">renderer_base</a>::<a class="function" onClick="logFunction('prepare_classes')" href="../_functions/prepare_classes.html" onMouseOver="funcPopup(event,'prepare_classes')">prepare_classes</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>)));
<a name="l2972"><span class="linenum">2972</span></a>      }
<a name="l2973"><span class="linenum">2973</span></a>  
<a name="l2974"><span class="linenum">2974</span></a>      <span class="comment">/**</span>
<a name="l2975"><span class="linenum">2975</span></a>  <span class="comment">     * Outputs a box.</span>
<a name="l2976"><span class="linenum">2976</span></a>  <span class="comment">     *</span>
<a name="l2977"><span class="linenum">2977</span></a>  <span class="comment">     * @param string $contents The contents of the box</span>
<a name="l2978"><span class="linenum">2978</span></a>  <span class="comment">     * @param string $classes A space-separated list of CSS classes</span>
<a name="l2979"><span class="linenum">2979</span></a>  <span class="comment">     * @param string $id An optional ID</span>
<a name="l2980"><span class="linenum">2980</span></a>  <span class="comment">     * @param array $attributes An array of other attributes to give the box.</span>
<a name="l2981"><span class="linenum">2981</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l2982"><span class="linenum">2982</span></a>  <span class="comment">     */</span>
<a name="l2983"><span class="linenum">2983</span></a>      public function <a class="function" onClick="logFunction('box')" href="../_functions/box.html" onMouseOver="funcPopup(event,'box')">box</a>(<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'generalbox', <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = null, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array()) {
<a name="l2984"><span class="linenum">2984</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>) . <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l2985"><span class="linenum">2985</span></a>      }
<a name="l2986"><span class="linenum">2986</span></a>  
<a name="l2987"><span class="linenum">2987</span></a>      <span class="comment">/**</span>
<a name="l2988"><span class="linenum">2988</span></a>  <span class="comment">     * Outputs the opening section of a box.</span>
<a name="l2989"><span class="linenum">2989</span></a>  <span class="comment">     *</span>
<a name="l2990"><span class="linenum">2990</span></a>  <span class="comment">     * @param string $classes A space-separated list of CSS classes</span>
<a name="l2991"><span class="linenum">2991</span></a>  <span class="comment">     * @param string $id An optional ID</span>
<a name="l2992"><span class="linenum">2992</span></a>  <span class="comment">     * @param array $attributes An array of other attributes to give the box.</span>
<a name="l2993"><span class="linenum">2993</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l2994"><span class="linenum">2994</span></a>  <span class="comment">     */</span>
<a name="l2995"><span class="linenum">2995</span></a>      public function <a class="function" onClick="logFunction('box_start')" href="../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'generalbox', <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = null, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array()) {
<a name="l2996"><span class="linenum">2996</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>-&gt;<a class="function" onClick="logFunction('push')" href="../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('box', <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div'));
<a name="l2997"><span class="linenum">2997</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['id'] = <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>;
<a name="l2998"><span class="linenum">2998</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['class'] = 'box ' . <a class="class" onClick="logClass('renderer_base')" href="../_classes/renderer_base.html" onMouseOver="classPopup(event,'renderer_base')">renderer_base</a>::<a class="function" onClick="logFunction('prepare_classes')" href="../_functions/prepare_classes.html" onMouseOver="funcPopup(event,'prepare_classes')">prepare_classes</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>);
<a name="l2999"><span class="linenum">2999</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l3000"><span class="linenum">3000</span></a>      }
<a name="l3001"><span class="linenum">3001</span></a>  
<a name="l3002"><span class="linenum">3002</span></a>      <span class="comment">/**</span>
<a name="l3003"><span class="linenum">3003</span></a>  <span class="comment">     * Outputs the closing section of a box.</span>
<a name="l3004"><span class="linenum">3004</span></a>  <span class="comment">     *</span>
<a name="l3005"><span class="linenum">3005</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l3006"><span class="linenum">3006</span></a>  <span class="comment">     */</span>
<a name="l3007"><span class="linenum">3007</span></a>      public function <a class="function" onClick="logFunction('box_end')" href="../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>() {
<a name="l3008"><span class="linenum">3008</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>-&gt;<a class="function" onClick="logFunction('pop')" href="../_functions/pop.html" onMouseOver="funcPopup(event,'pop')">pop</a>('box');
<a name="l3009"><span class="linenum">3009</span></a>      }
<a name="l3010"><span class="linenum">3010</span></a>  
<a name="l3011"><span class="linenum">3011</span></a>      <span class="comment">/**</span>
<a name="l3012"><span class="linenum">3012</span></a>  <span class="comment">     * Outputs a container.</span>
<a name="l3013"><span class="linenum">3013</span></a>  <span class="comment">     *</span>
<a name="l3014"><span class="linenum">3014</span></a>  <span class="comment">     * @param string $contents The contents of the box</span>
<a name="l3015"><span class="linenum">3015</span></a>  <span class="comment">     * @param string $classes A space-separated list of CSS classes</span>
<a name="l3016"><span class="linenum">3016</span></a>  <span class="comment">     * @param string $id An optional ID</span>
<a name="l3017"><span class="linenum">3017</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l3018"><span class="linenum">3018</span></a>  <span class="comment">     */</span>
<a name="l3019"><span class="linenum">3019</span></a>      public function <a class="function" onClick="logFunction('container')" href="../_functions/container.html" onMouseOver="funcPopup(event,'container')">container</a>(<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = null, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = null) {
<a name="l3020"><span class="linenum">3020</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('container_start')" href="../_functions/container_start.html" onMouseOver="funcPopup(event,'container_start')">container_start</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>) . <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('container_end')" href="../_functions/container_end.html" onMouseOver="funcPopup(event,'container_end')">container_end</a>();
<a name="l3021"><span class="linenum">3021</span></a>      }
<a name="l3022"><span class="linenum">3022</span></a>  
<a name="l3023"><span class="linenum">3023</span></a>      <span class="comment">/**</span>
<a name="l3024"><span class="linenum">3024</span></a>  <span class="comment">     * Outputs the opening section of a container.</span>
<a name="l3025"><span class="linenum">3025</span></a>  <span class="comment">     *</span>
<a name="l3026"><span class="linenum">3026</span></a>  <span class="comment">     * @param string $classes A space-separated list of CSS classes</span>
<a name="l3027"><span class="linenum">3027</span></a>  <span class="comment">     * @param string $id An optional ID</span>
<a name="l3028"><span class="linenum">3028</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l3029"><span class="linenum">3029</span></a>  <span class="comment">     */</span>
<a name="l3030"><span class="linenum">3030</span></a>      public function <a class="function" onClick="logFunction('container_start')" href="../_functions/container_start.html" onMouseOver="funcPopup(event,'container_start')">container_start</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = null, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = null) {
<a name="l3031"><span class="linenum">3031</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>-&gt;<a class="function" onClick="logFunction('push')" href="../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('container', <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div'));
<a name="l3032"><span class="linenum">3032</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('id' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>,
<a name="l3033"><span class="linenum">3033</span></a>                  'class' =&gt; <a class="class" onClick="logClass('renderer_base')" href="../_classes/renderer_base.html" onMouseOver="classPopup(event,'renderer_base')">renderer_base</a>::<a class="function" onClick="logFunction('prepare_classes')" href="../_functions/prepare_classes.html" onMouseOver="funcPopup(event,'prepare_classes')">prepare_classes</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>)));
<a name="l3034"><span class="linenum">3034</span></a>      }
<a name="l3035"><span class="linenum">3035</span></a>  
<a name="l3036"><span class="linenum">3036</span></a>      <span class="comment">/**</span>
<a name="l3037"><span class="linenum">3037</span></a>  <span class="comment">     * Outputs the closing section of a container.</span>
<a name="l3038"><span class="linenum">3038</span></a>  <span class="comment">     *</span>
<a name="l3039"><span class="linenum">3039</span></a>  <span class="comment">     * @return string the HTML to output.</span>
<a name="l3040"><span class="linenum">3040</span></a>  <span class="comment">     */</span>
<a name="l3041"><span class="linenum">3041</span></a>      public function <a class="function" onClick="logFunction('container_end')" href="../_functions/container_end.html" onMouseOver="funcPopup(event,'container_end')">container_end</a>() {
<a name="l3042"><span class="linenum">3042</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('opencontainers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/opencontainers.html">opencontainers</a>-&gt;<a class="function" onClick="logFunction('pop')" href="../_functions/pop.html" onMouseOver="funcPopup(event,'pop')">pop</a>('container');
<a name="l3043"><span class="linenum">3043</span></a>      }
<a name="l3044"><span class="linenum">3044</span></a>  
<a name="l3045"><span class="linenum">3045</span></a>      <span class="comment">/**</span>
<a name="l3046"><span class="linenum">3046</span></a>  <span class="comment">     * Make nested HTML lists out of the items</span>
<a name="l3047"><span class="linenum">3047</span></a>  <span class="comment">     *</span>
<a name="l3048"><span class="linenum">3048</span></a>  <span class="comment">     * The resulting list will look something like this:</span>
<a name="l3049"><span class="linenum">3049</span></a>  <span class="comment">     *</span>
<a name="l3050"><span class="linenum">3050</span></a>  <span class="comment">     * &lt;pre&gt;</span>
<a name="l3051"><span class="linenum">3051</span></a>  <span class="comment">     * &lt;&lt;ul&gt;&gt;</span>
<a name="l3052"><span class="linenum">3052</span></a>  <span class="comment">     * &lt;&lt;li&gt;&gt;&lt;div class='tree_item parent'&gt;(item contents)&lt;/div&gt;</span>
<a name="l3053"><span class="linenum">3053</span></a>  <span class="comment">     *      &lt;&lt;ul&gt;</span>
<a name="l3054"><span class="linenum">3054</span></a>  <span class="comment">     *      &lt;&lt;li&gt;&gt;&lt;div class='tree_item'&gt;(item contents)&lt;/div&gt;&lt;&lt;/li&gt;&gt;</span>
<a name="l3055"><span class="linenum">3055</span></a>  <span class="comment">     *      &lt;&lt;/ul&gt;&gt;</span>
<a name="l3056"><span class="linenum">3056</span></a>  <span class="comment">     * &lt;&lt;/li&gt;&gt;</span>
<a name="l3057"><span class="linenum">3057</span></a>  <span class="comment">     * &lt;&lt;/ul&gt;&gt;</span>
<a name="l3058"><span class="linenum">3058</span></a>  <span class="comment">     * &lt;/pre&gt;</span>
<a name="l3059"><span class="linenum">3059</span></a>  <span class="comment">     *</span>
<a name="l3060"><span class="linenum">3060</span></a>  <span class="comment">     * @param array $items</span>
<a name="l3061"><span class="linenum">3061</span></a>  <span class="comment">     * @param array $attrs html attributes passed to the top ofs the list</span>
<a name="l3062"><span class="linenum">3062</span></a>  <span class="comment">     * @return string HTML</span>
<a name="l3063"><span class="linenum">3063</span></a>  <span class="comment">     */</span>
<a name="l3064"><span class="linenum">3064</span></a>      public function <a class="function" onClick="logFunction('tree_block_contents')" href="../_functions/tree_block_contents.html" onMouseOver="funcPopup(event,'tree_block_contents')">tree_block_contents</a>(<a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a>, <a class="var it308" onMouseOver="hilite(308)" onMouseOut="lolite()" onClick="logVariable('attrs')" href="../_variables/attrs.html">$attrs</a> = array()) {
<a name="l3065"><span class="linenum">3065</span></a>  <span class="comment">        // exit if empty, we don't want an empty ul element</span>
<a name="l3066"><span class="linenum">3066</span></a>          if (empty(<a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a>)) {
<a name="l3067"><span class="linenum">3067</span></a>              return '';
<a name="l3068"><span class="linenum">3068</span></a>          }
<a name="l3069"><span class="linenum">3069</span></a>  <span class="comment">        // array of nested li elements</span>
<a name="l3070"><span class="linenum">3070</span></a>          <a class="var it16960" onMouseOver="hilite(16960)" onMouseOut="lolite()" onClick="logVariable('lis')" href="../_variables/lis.html">$lis</a> = array();
<a name="l3071"><span class="linenum">3071</span></a>          foreach (<a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a> as <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>) {
<a name="l3072"><span class="linenum">3072</span></a>  <span class="comment">            // this applies to the li item which contains all child lists too</span>
<a name="l3073"><span class="linenum">3073</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;content(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>);
<a name="l3074"><span class="linenum">3074</span></a>              <a class="var it16965" onMouseOver="hilite(16965)" onMouseOut="lolite()" onClick="logVariable('liclasses')" href="../_variables/liclasses.html">$liclasses</a> = array(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a class="function" onClick="logFunction('get_css_type')" href="../_functions/get_css_type.html" onMouseOver="funcPopup(event,'get_css_type')">get_css_type</a>());
<a name="l3075"><span class="linenum">3075</span></a>              if (!<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('forceopen')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/forceopen.html">forceopen</a> || (!<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('forceopen')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/forceopen.html">forceopen</a> &amp;&amp; <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('collapse')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/collapse.html">collapse</a>) || (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('children')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/children.html">children</a>-&gt;<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>()==0  &amp;&amp; <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('nodetype')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/nodetype.html">nodetype</a>==<a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::NODETYPE_BRANCH)) {
<a name="l3076"><span class="linenum">3076</span></a>                  <a class="var it16965" onMouseOver="hilite(16965)" onMouseOut="lolite()" onClick="logVariable('liclasses')" href="../_variables/liclasses.html">$liclasses</a>[] = 'collapsed';
<a name="l3077"><span class="linenum">3077</span></a>              }
<a name="l3078"><span class="linenum">3078</span></a>              if (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('isactive')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/isactive.html">isactive</a> === true) {
<a name="l3079"><span class="linenum">3079</span></a>                  <a class="var it16965" onMouseOver="hilite(16965)" onMouseOut="lolite()" onClick="logVariable('liclasses')" href="../_variables/liclasses.html">$liclasses</a>[] = 'current_branch';
<a name="l3080"><span class="linenum">3080</span></a>              }
<a name="l3081"><span class="linenum">3081</span></a>              <a class="var it16970" onMouseOver="hilite(16970)" onMouseOut="lolite()" onClick="logVariable('liattr')" href="../_variables/liattr.html">$liattr</a> = array('class'=&gt;<a class="function" onClick="logFunction('join')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(' ',<a class="var it16965" onMouseOver="hilite(16965)" onMouseOut="lolite()" onClick="logVariable('liclasses')" href="../_variables/liclasses.html">$liclasses</a>));
<a name="l3082"><span class="linenum">3082</span></a>  <span class="comment">            // class attribute on the div item which only contains the item content</span>
<a name="l3083"><span class="linenum">3083</span></a>              <a class="var it16966" onMouseOver="hilite(16966)" onMouseOut="lolite()" onClick="logVariable('divclasses')" href="../_variables/divclasses.html">$divclasses</a> = array('tree_item');
<a name="l3084"><span class="linenum">3084</span></a>              if (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('children')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/children.html">children</a>-&gt;<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>()&gt;0  || <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('nodetype')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/nodetype.html">nodetype</a>==<a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::NODETYPE_BRANCH) {
<a name="l3085"><span class="linenum">3085</span></a>                  <a class="var it16966" onMouseOver="hilite(16966)" onMouseOut="lolite()" onClick="logVariable('divclasses')" href="../_variables/divclasses.html">$divclasses</a>[] = 'branch';
<a name="l3086"><span class="linenum">3086</span></a>              } else {
<a name="l3087"><span class="linenum">3087</span></a>                  <a class="var it16966" onMouseOver="hilite(16966)" onMouseOut="lolite()" onClick="logVariable('divclasses')" href="../_variables/divclasses.html">$divclasses</a>[] = 'leaf';
<a name="l3088"><span class="linenum">3088</span></a>              }
<a name="l3089"><span class="linenum">3089</span></a>              if (!empty(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('classes')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/classes.html">classes</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('classes')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/classes.html">classes</a>)&gt;0) {
<a name="l3090"><span class="linenum">3090</span></a>                  <a class="var it16966" onMouseOver="hilite(16966)" onMouseOut="lolite()" onClick="logVariable('divclasses')" href="../_variables/divclasses.html">$divclasses</a>[] = <a class="function" onClick="logFunction('join')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(' ', <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('classes')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/classes.html">classes</a>);
<a name="l3091"><span class="linenum">3091</span></a>              }
<a name="l3092"><span class="linenum">3092</span></a>              <a class="var it16971" onMouseOver="hilite(16971)" onMouseOut="lolite()" onClick="logVariable('divattr')" href="../_variables/divattr.html">$divattr</a> = array('class'=&gt;<a class="function" onClick="logFunction('join')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(' ', <a class="var it16966" onMouseOver="hilite(16966)" onMouseOut="lolite()" onClick="logVariable('divclasses')" href="../_variables/divclasses.html">$divclasses</a>));
<a name="l3093"><span class="linenum">3093</span></a>              if (!empty(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('id')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l3094"><span class="linenum">3094</span></a>                  <a class="var it16971" onMouseOver="hilite(16971)" onMouseOut="lolite()" onClick="logVariable('divattr')" href="../_variables/divattr.html">$divattr</a>['id'] = <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('id')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l3095"><span class="linenum">3095</span></a>              }
<a name="l3096"><span class="linenum">3096</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('p', <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, <a class="var it16971" onMouseOver="hilite(16971)" onMouseOut="lolite()" onClick="logVariable('divattr')" href="../_variables/divattr.html">$divattr</a>) . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('tree_block_contents')" href="../_functions/tree_block_contents.html" onMouseOver="funcPopup(event,'tree_block_contents')">tree_block_contents</a>(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('children')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/children.html">children</a>);
<a name="l3097"><span class="linenum">3097</span></a>              if (!empty(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('preceedwithhr')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/preceedwithhr.html">preceedwithhr</a>) &amp;&amp; <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('preceedwithhr')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/preceedwithhr.html">preceedwithhr</a>===true) {
<a name="l3098"><span class="linenum">3098</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('hr') . <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>;
<a name="l3099"><span class="linenum">3099</span></a>              }
<a name="l3100"><span class="linenum">3100</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('li', <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, <a class="var it16970" onMouseOver="hilite(16970)" onMouseOut="lolite()" onClick="logVariable('liattr')" href="../_variables/liattr.html">$liattr</a>);
<a name="l3101"><span class="linenum">3101</span></a>              <a class="var it16960" onMouseOver="hilite(16960)" onMouseOut="lolite()" onClick="logVariable('lis')" href="../_variables/lis.html">$lis</a>[] = <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>;
<a name="l3102"><span class="linenum">3102</span></a>          }
<a name="l3103"><span class="linenum">3103</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('ul', <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(&quot;\n&quot;, <a class="var it16960" onMouseOver="hilite(16960)" onMouseOut="lolite()" onClick="logVariable('lis')" href="../_variables/lis.html">$lis</a>), <a class="var it308" onMouseOver="hilite(308)" onMouseOut="lolite()" onClick="logVariable('attrs')" href="../_variables/attrs.html">$attrs</a>);
<a name="l3104"><span class="linenum">3104</span></a>      }
<a name="l3105"><span class="linenum">3105</span></a>  
<a name="l3106"><span class="linenum">3106</span></a>      <span class="comment">/**</span>
<a name="l3107"><span class="linenum">3107</span></a>  <span class="comment">     * Construct a user menu, returning HTML that can be echoed out by a</span>
<a name="l3108"><span class="linenum">3108</span></a>  <span class="comment">     * layout file.</span>
<a name="l3109"><span class="linenum">3109</span></a>  <span class="comment">     *</span>
<a name="l3110"><span class="linenum">3110</span></a>  <span class="comment">     * @param stdClass $user A user object, usually $USER.</span>
<a name="l3111"><span class="linenum">3111</span></a>  <span class="comment">     * @param bool $withlinks true if a dropdown should be built.</span>
<a name="l3112"><span class="linenum">3112</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l3113"><span class="linenum">3113</span></a>  <span class="comment">     */</span>
<a name="l3114"><span class="linenum">3114</span></a>      public function <a class="function" onClick="logFunction('user_menu')" href="../_functions/user_menu.html" onMouseOver="funcPopup(event,'user_menu')">user_menu</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = null, <a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a> = null) {
<a name="l3115"><span class="linenum">3115</span></a>          global <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l3116"><span class="linenum">3116</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../user/lib.php.html">/user/lib.php</a>');
<a name="l3117"><span class="linenum">3117</span></a>  
<a name="l3118"><span class="linenum">3118</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l3119"><span class="linenum">3119</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l3120"><span class="linenum">3120</span></a>          }
<a name="l3121"><span class="linenum">3121</span></a>  
<a name="l3122"><span class="linenum">3122</span></a>  <span class="comment">        // Note: this behaviour is intended to match that of core_renderer::login_info,</span>
<a name="l3123"><span class="linenum">3123</span></a>  <span class="comment">        // but should not be considered to be good practice; layout options are</span>
<a name="l3124"><span class="linenum">3124</span></a>  <span class="comment">        // intended to be theme-specific. Please don't copy this snippet anywhere else.</span>
<a name="l3125"><span class="linenum">3125</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>)) {
<a name="l3126"><span class="linenum">3126</span></a>              <a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a> = empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;layout_options['nologinlinks']);
<a name="l3127"><span class="linenum">3127</span></a>          }
<a name="l3128"><span class="linenum">3128</span></a>  
<a name="l3129"><span class="linenum">3129</span></a>  <span class="comment">        // Add a class for when $withlinks is false.</span>
<a name="l3130"><span class="linenum">3130</span></a>          <a class="var it32309" onMouseOver="hilite(32309)" onMouseOut="lolite()" onClick="logVariable('usermenuclasses')" href="../_variables/usermenuclasses.html">$usermenuclasses</a> = 'usermenu';
<a name="l3131"><span class="linenum">3131</span></a>          if (!<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>) {
<a name="l3132"><span class="linenum">3132</span></a>              <a class="var it32309" onMouseOver="hilite(32309)" onMouseOut="lolite()" onClick="logVariable('usermenuclasses')" href="../_variables/usermenuclasses.html">$usermenuclasses</a> .= ' withoutlinks';
<a name="l3133"><span class="linenum">3133</span></a>          }
<a name="l3134"><span class="linenum">3134</span></a>  
<a name="l3135"><span class="linenum">3135</span></a>          <a class="var it32310" onMouseOver="hilite(32310)" onMouseOut="lolite()" onClick="logVariable('returnstr')" href="../_variables/returnstr.html">$returnstr</a> = &quot;&quot;;
<a name="l3136"><span class="linenum">3136</span></a>  
<a name="l3137"><span class="linenum">3137</span></a>  <span class="comment">        // If during initial install, return the empty return string.</span>
<a name="l3138"><span class="linenum">3138</span></a>          if (<a class="function" onClick="logFunction('during_initial_install')" href="../_functions/during_initial_install.html" onMouseOver="funcPopup(event,'during_initial_install')">during_initial_install</a>()) {
<a name="l3139"><span class="linenum">3139</span></a>              return <a class="var it32310" onMouseOver="hilite(32310)" onMouseOut="lolite()" onClick="logVariable('returnstr')" href="../_variables/returnstr.html">$returnstr</a>;
<a name="l3140"><span class="linenum">3140</span></a>          }
<a name="l3141"><span class="linenum">3141</span></a>  
<a name="l3142"><span class="linenum">3142</span></a>          <a class="var it32264" onMouseOver="hilite(32264)" onMouseOut="lolite()" onClick="logVariable('loginpage')" href="../_variables/loginpage.html">$loginpage</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_login_page')" href="../_functions/is_login_page.html" onMouseOver="funcPopup(event,'is_login_page')">is_login_page</a>();
<a name="l3143"><span class="linenum">3143</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('loginurl')" href="../_variables/loginurl.html">$loginurl</a> = <a class="function" onClick="logFunction('get_login_url')" href="../_functions/get_login_url.html" onMouseOver="funcPopup(event,'get_login_url')">get_login_url</a>();
<a name="l3144"><span class="linenum">3144</span></a>  <span class="comment">        // If not logged in, show the typical not-logged-in string.</span>
<a name="l3145"><span class="linenum">3145</span></a>          if (!<a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>()) {
<a name="l3146"><span class="linenum">3146</span></a>              <a class="var it32310" onMouseOver="hilite(32310)" onMouseOut="lolite()" onClick="logVariable('returnstr')" href="../_variables/returnstr.html">$returnstr</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('loggedinnot', 'moodle');
<a name="l3147"><span class="linenum">3147</span></a>              if (!<a class="var it32264" onMouseOver="hilite(32264)" onMouseOut="lolite()" onClick="logVariable('loginpage')" href="../_variables/loginpage.html">$loginpage</a>) {
<a name="l3148"><span class="linenum">3148</span></a>                  <a class="var it32310" onMouseOver="hilite(32310)" onMouseOut="lolite()" onClick="logVariable('returnstr')" href="../_variables/returnstr.html">$returnstr</a> .= &quot; (&lt;a href=\&quot;<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('loginurl')" href="../_variables/loginurl.html">$loginurl</a>\&quot;&gt;&quot; . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('login') . '&lt;/a&gt;)';
<a name="l3149"><span class="linenum">3149</span></a>              }
<a name="l3150"><span class="linenum">3150</span></a>              return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(
<a name="l3151"><span class="linenum">3151</span></a>                  <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l3152"><span class="linenum">3152</span></a>                      <a class="var it32310" onMouseOver="hilite(32310)" onMouseOut="lolite()" onClick="logVariable('returnstr')" href="../_variables/returnstr.html">$returnstr</a>,
<a name="l3153"><span class="linenum">3153</span></a>                      'login'
<a name="l3154"><span class="linenum">3154</span></a>                  ),
<a name="l3155"><span class="linenum">3155</span></a>                  <a class="var it32309" onMouseOver="hilite(32309)" onMouseOut="lolite()" onClick="logVariable('usermenuclasses')" href="../_variables/usermenuclasses.html">$usermenuclasses</a>
<a name="l3156"><span class="linenum">3156</span></a>              );
<a name="l3157"><span class="linenum">3157</span></a>  
<a name="l3158"><span class="linenum">3158</span></a>          }
<a name="l3159"><span class="linenum">3159</span></a>  
<a name="l3160"><span class="linenum">3160</span></a>  <span class="comment">        // If logged in as a guest user, show a string to that effect.</span>
<a name="l3161"><span class="linenum">3161</span></a>          if (<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l3162"><span class="linenum">3162</span></a>              <a class="var it32310" onMouseOver="hilite(32310)" onMouseOut="lolite()" onClick="logVariable('returnstr')" href="../_variables/returnstr.html">$returnstr</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('loggedinasguest');
<a name="l3163"><span class="linenum">3163</span></a>              if (!<a class="var it32264" onMouseOver="hilite(32264)" onMouseOut="lolite()" onClick="logVariable('loginpage')" href="../_variables/loginpage.html">$loginpage</a> &amp;&amp; <a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>) {
<a name="l3164"><span class="linenum">3164</span></a>                  <a class="var it32310" onMouseOver="hilite(32310)" onMouseOut="lolite()" onClick="logVariable('returnstr')" href="../_variables/returnstr.html">$returnstr</a> .= &quot; (&lt;a href=\&quot;<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('loginurl')" href="../_variables/loginurl.html">$loginurl</a>\&quot;&gt;&quot;.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('login').'&lt;/a&gt;)';
<a name="l3165"><span class="linenum">3165</span></a>              }
<a name="l3166"><span class="linenum">3166</span></a>  
<a name="l3167"><span class="linenum">3167</span></a>              return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(
<a name="l3168"><span class="linenum">3168</span></a>                  <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l3169"><span class="linenum">3169</span></a>                      <a class="var it32310" onMouseOver="hilite(32310)" onMouseOut="lolite()" onClick="logVariable('returnstr')" href="../_variables/returnstr.html">$returnstr</a>,
<a name="l3170"><span class="linenum">3170</span></a>                      'login'
<a name="l3171"><span class="linenum">3171</span></a>                  ),
<a name="l3172"><span class="linenum">3172</span></a>                  <a class="var it32309" onMouseOver="hilite(32309)" onMouseOut="lolite()" onClick="logVariable('usermenuclasses')" href="../_variables/usermenuclasses.html">$usermenuclasses</a>
<a name="l3173"><span class="linenum">3173</span></a>              );
<a name="l3174"><span class="linenum">3174</span></a>          }
<a name="l3175"><span class="linenum">3175</span></a>  
<a name="l3176"><span class="linenum">3176</span></a>  <span class="comment">        // Get some navigation opts.</span>
<a name="l3177"><span class="linenum">3177</span></a>          <a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a> = <a class="function" onClick="logFunction('user_get_user_navigation_info')" href="../_functions/user_get_user_navigation_info.html" onMouseOver="funcPopup(event,'user_get_user_navigation_info')">user_get_user_navigation_info</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;course);
<a name="l3178"><span class="linenum">3178</span></a>  
<a name="l3179"><span class="linenum">3179</span></a>          <a class="var it32311" onMouseOver="hilite(32311)" onMouseOut="lolite()" onClick="logVariable('avatarclasses')" href="../_variables/avatarclasses.html">$avatarclasses</a> = &quot;avatars&quot;;
<a name="l3180"><span class="linenum">3180</span></a>          <a class="var it32312" onMouseOver="hilite(32312)" onMouseOut="lolite()" onClick="logVariable('avatarcontents')" href="../_variables/avatarcontents.html">$avatarcontents</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['useravatar'], 'avatar current');
<a name="l3181"><span class="linenum">3181</span></a>          <a class="var it32313" onMouseOver="hilite(32313)" onMouseOut="lolite()" onClick="logVariable('usertextcontents')" href="../_variables/usertextcontents.html">$usertextcontents</a> = <a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['userfullname'];
<a name="l3182"><span class="linenum">3182</span></a>  
<a name="l3183"><span class="linenum">3183</span></a>  <span class="comment">        // Other user.</span>
<a name="l3184"><span class="linenum">3184</span></a>          if (!empty(<a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['asotheruser'])) {
<a name="l3185"><span class="linenum">3185</span></a>              <a class="var it32312" onMouseOver="hilite(32312)" onMouseOut="lolite()" onClick="logVariable('avatarcontents')" href="../_variables/avatarcontents.html">$avatarcontents</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l3186"><span class="linenum">3186</span></a>                  <a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['realuseravatar'],
<a name="l3187"><span class="linenum">3187</span></a>                  'avatar realuser'
<a name="l3188"><span class="linenum">3188</span></a>              );
<a name="l3189"><span class="linenum">3189</span></a>              <a class="var it32313" onMouseOver="hilite(32313)" onMouseOut="lolite()" onClick="logVariable('usertextcontents')" href="../_variables/usertextcontents.html">$usertextcontents</a> = <a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['realuserfullname'];
<a name="l3190"><span class="linenum">3190</span></a>              <a class="var it32313" onMouseOver="hilite(32313)" onMouseOut="lolite()" onClick="logVariable('usertextcontents')" href="../_variables/usertextcontents.html">$usertextcontents</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>(
<a name="l3191"><span class="linenum">3191</span></a>                  'span',
<a name="l3192"><span class="linenum">3192</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(
<a name="l3193"><span class="linenum">3193</span></a>                      'loggedinas',
<a name="l3194"><span class="linenum">3194</span></a>                      'moodle',
<a name="l3195"><span class="linenum">3195</span></a>                      <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l3196"><span class="linenum">3196</span></a>                          <a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['userfullname'],
<a name="l3197"><span class="linenum">3197</span></a>                          'value'
<a name="l3198"><span class="linenum">3198</span></a>                      )
<a name="l3199"><span class="linenum">3199</span></a>                  ),
<a name="l3200"><span class="linenum">3200</span></a>                  array('class' =&gt; 'meta viewingas')
<a name="l3201"><span class="linenum">3201</span></a>              );
<a name="l3202"><span class="linenum">3202</span></a>          }
<a name="l3203"><span class="linenum">3203</span></a>  
<a name="l3204"><span class="linenum">3204</span></a>  <span class="comment">        // Role.</span>
<a name="l3205"><span class="linenum">3205</span></a>          if (!empty(<a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['asotherrole'])) {
<a name="l3206"><span class="linenum">3206</span></a>              <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../_variables/role.html">$role</a> = <a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="phpfunction" onClick="logFunction('strtolower')" href="../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('#[ ]+#', '-', <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['rolename'])));
<a name="l3207"><span class="linenum">3207</span></a>              <a class="var it32313" onMouseOver="hilite(32313)" onMouseOut="lolite()" onClick="logVariable('usertextcontents')" href="../_variables/usertextcontents.html">$usertextcontents</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l3208"><span class="linenum">3208</span></a>                  <a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['rolename'],
<a name="l3209"><span class="linenum">3209</span></a>                  'meta role role-' . <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../_variables/role.html">$role</a>
<a name="l3210"><span class="linenum">3210</span></a>              );
<a name="l3211"><span class="linenum">3211</span></a>          }
<a name="l3212"><span class="linenum">3212</span></a>  
<a name="l3213"><span class="linenum">3213</span></a>  <span class="comment">        // User login failures.</span>
<a name="l3214"><span class="linenum">3214</span></a>          if (!empty(<a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['userloginfail'])) {
<a name="l3215"><span class="linenum">3215</span></a>              <a class="var it32313" onMouseOver="hilite(32313)" onMouseOut="lolite()" onClick="logVariable('usertextcontents')" href="../_variables/usertextcontents.html">$usertextcontents</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l3216"><span class="linenum">3216</span></a>                  <a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['userloginfail'],
<a name="l3217"><span class="linenum">3217</span></a>                  'meta loginfailures'
<a name="l3218"><span class="linenum">3218</span></a>              );
<a name="l3219"><span class="linenum">3219</span></a>          }
<a name="l3220"><span class="linenum">3220</span></a>  
<a name="l3221"><span class="linenum">3221</span></a>  <span class="comment">        // MNet.</span>
<a name="l3222"><span class="linenum">3222</span></a>          if (!empty(<a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['asmnetuser'])) {
<a name="l3223"><span class="linenum">3223</span></a>              <a class="var it17700" onMouseOver="hilite(17700)" onMouseOut="lolite()" onClick="logVariable('mnet')" href="../_variables/mnet.html">$mnet</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('#[ ]+#', '-', <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['mnetidprovidername'])));
<a name="l3224"><span class="linenum">3224</span></a>              <a class="var it32313" onMouseOver="hilite(32313)" onMouseOut="lolite()" onClick="logVariable('usertextcontents')" href="../_variables/usertextcontents.html">$usertextcontents</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l3225"><span class="linenum">3225</span></a>                  <a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('metadata')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/metadata.html">metadata</a>['mnetidprovidername'],
<a name="l3226"><span class="linenum">3226</span></a>                  'meta mnet mnet-' . <a class="var it17700" onMouseOver="hilite(17700)" onMouseOut="lolite()" onClick="logVariable('mnet')" href="../_variables/mnet.html">$mnet</a>
<a name="l3227"><span class="linenum">3227</span></a>              );
<a name="l3228"><span class="linenum">3228</span></a>          }
<a name="l3229"><span class="linenum">3229</span></a>  
<a name="l3230"><span class="linenum">3230</span></a>          <a class="var it32310" onMouseOver="hilite(32310)" onMouseOut="lolite()" onClick="logVariable('returnstr')" href="../_variables/returnstr.html">$returnstr</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l3231"><span class="linenum">3231</span></a>              <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it32313" onMouseOver="hilite(32313)" onMouseOut="lolite()" onClick="logVariable('usertextcontents')" href="../_variables/usertextcontents.html">$usertextcontents</a>, 'usertext') .
<a name="l3232"><span class="linenum">3232</span></a>              <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it32312" onMouseOver="hilite(32312)" onMouseOut="lolite()" onClick="logVariable('avatarcontents')" href="../_variables/avatarcontents.html">$avatarcontents</a>, <a class="var it32311" onMouseOver="hilite(32311)" onMouseOut="lolite()" onClick="logVariable('avatarclasses')" href="../_variables/avatarclasses.html">$avatarclasses</a>),
<a name="l3233"><span class="linenum">3233</span></a>              'userbutton'
<a name="l3234"><span class="linenum">3234</span></a>          );
<a name="l3235"><span class="linenum">3235</span></a>  
<a name="l3236"><span class="linenum">3236</span></a>  <span class="comment">        // Create a divider (well, a filler).</span>
<a name="l3237"><span class="linenum">3237</span></a>          <a class="var it4412" onMouseOver="hilite(4412)" onMouseOut="lolite()" onClick="logVariable('divider')" href="../_variables/divider.html">$divider</a> = <span class="keyword">new </span><a class="class" onClick="logClass('action_menu_filler')" href="../_classes/action_menu_filler.html" onMouseOver="classPopup(event,'action_menu_filler')">action_menu_filler</a>();
<a name="l3238"><span class="linenum">3238</span></a>          <a class="var it4412" onMouseOver="hilite(4412)" onMouseOut="lolite()" onClick="logVariable('divider')" href="../_variables/divider.html">$divider</a>-&gt;<a onClick="logVariable('primary')" class="var it41109" onMouseOver="hilite(41109)" onMouseOut="lolite()" href="../_variables/primary.html">primary</a> = false;
<a name="l3239"><span class="linenum">3239</span></a>  
<a name="l3240"><span class="linenum">3240</span></a>          <a class="var it28757" onMouseOver="hilite(28757)" onMouseOut="lolite()" onClick="logVariable('am')" href="../_variables/am.html">$am</a> = <span class="keyword">new </span><a class="class" onClick="logClass('action_menu')" href="../_classes/action_menu.html" onMouseOver="classPopup(event,'action_menu')">action_menu</a>();
<a name="l3241"><span class="linenum">3241</span></a>          <a class="var it28757" onMouseOver="hilite(28757)" onMouseOut="lolite()" onClick="logVariable('am')" href="../_variables/am.html">$am</a>-&gt;<a class="function" onClick="logFunction('initialise_js')" href="../_functions/initialise_js.html" onMouseOver="funcPopup(event,'initialise_js')">initialise_js</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>);
<a name="l3242"><span class="linenum">3242</span></a>          <a class="var it28757" onMouseOver="hilite(28757)" onMouseOut="lolite()" onClick="logVariable('am')" href="../_variables/am.html">$am</a>-&gt;<a class="function" onClick="logFunction('set_menu_trigger')" href="../_functions/set_menu_trigger.html" onMouseOver="funcPopup(event,'set_menu_trigger')">set_menu_trigger</a>(
<a name="l3243"><span class="linenum">3243</span></a>              <a class="var it32310" onMouseOver="hilite(32310)" onMouseOut="lolite()" onClick="logVariable('returnstr')" href="../_variables/returnstr.html">$returnstr</a>
<a name="l3244"><span class="linenum">3244</span></a>          );
<a name="l3245"><span class="linenum">3245</span></a>          <a class="var it28757" onMouseOver="hilite(28757)" onMouseOut="lolite()" onClick="logVariable('am')" href="../_variables/am.html">$am</a>-&gt;<a class="function" onClick="logFunction('set_alignment')" href="../_functions/set_alignment.html" onMouseOver="funcPopup(event,'set_alignment')">set_alignment</a>(<a class="class" onClick="logClass('action_menu')" href="../_classes/action_menu.html" onMouseOver="classPopup(event,'action_menu')">action_menu</a>::TR, <a class="class" onClick="logClass('action_menu')" href="../_classes/action_menu.html" onMouseOver="classPopup(event,'action_menu')">action_menu</a>::BR);
<a name="l3246"><span class="linenum">3246</span></a>          <a class="var it28757" onMouseOver="hilite(28757)" onMouseOut="lolite()" onClick="logVariable('am')" href="../_variables/am.html">$am</a>-&gt;<a class="function" onClick="logFunction('set_nowrap_on_items')" href="../_functions/set_nowrap_on_items.html" onMouseOver="funcPopup(event,'set_nowrap_on_items')">set_nowrap_on_items</a>();
<a name="l3247"><span class="linenum">3247</span></a>          if (<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a>) {
<a name="l3248"><span class="linenum">3248</span></a>              <a class="var it32314" onMouseOver="hilite(32314)" onMouseOut="lolite()" onClick="logVariable('navitemcount')" href="../_variables/navitemcount.html">$navitemcount</a> = <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('navitems')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/navitems.html">navitems</a>);
<a name="l3249"><span class="linenum">3249</span></a>              <a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../_variables/idx.html">$idx</a> = 0;
<a name="l3250"><span class="linenum">3250</span></a>              foreach (<a class="var it4119" onMouseOver="hilite(4119)" onMouseOut="lolite()" onClick="logVariable('opts')" href="../_variables/opts.html">$opts</a>-&gt;<a onClick="logVariable('navitems')" class="var it41108" onMouseOver="hilite(41108)" onMouseOut="lolite()" href="../_variables/navitems.html">navitems</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l3251"><span class="linenum">3251</span></a>  
<a name="l3252"><span class="linenum">3252</span></a>                  switch (<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('itemtype')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/itemtype.html">itemtype</a>) {
<a name="l3253"><span class="linenum">3253</span></a>                      case 'divider':
<a name="l3254"><span class="linenum">3254</span></a>  <span class="comment">                        // If the nav item is a divider, add one and skip link processing.</span>
<a name="l3255"><span class="linenum">3255</span></a>                          <a class="var it28757" onMouseOver="hilite(28757)" onMouseOut="lolite()" onClick="logVariable('am')" href="../_variables/am.html">$am</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it4412" onMouseOver="hilite(4412)" onMouseOut="lolite()" onClick="logVariable('divider')" href="../_variables/divider.html">$divider</a>);
<a name="l3256"><span class="linenum">3256</span></a>                          break;
<a name="l3257"><span class="linenum">3257</span></a>  
<a name="l3258"><span class="linenum">3258</span></a>                      case 'invalid':
<a name="l3259"><span class="linenum">3259</span></a>  <span class="comment">                        // Silently skip invalid entries (should we post a notification?).</span>
<a name="l3260"><span class="linenum">3260</span></a>                          break;
<a name="l3261"><span class="linenum">3261</span></a>  
<a name="l3262"><span class="linenum">3262</span></a>                      case 'link':
<a name="l3263"><span class="linenum">3263</span></a>  <span class="comment">                        // Process this as a link item.</span>
<a name="l3264"><span class="linenum">3264</span></a>                          <a class="var it11650" onMouseOver="hilite(11650)" onMouseOut="lolite()" onClick="logVariable('pix')" href="../_variables/pix.html">$pix</a> = null;
<a name="l3265"><span class="linenum">3265</span></a>                          if (isset(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('pix')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a>) &amp;&amp; !empty(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('pix')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a>)) {
<a name="l3266"><span class="linenum">3266</span></a>                              <a class="var it11650" onMouseOver="hilite(11650)" onMouseOut="lolite()" onClick="logVariable('pix')" href="../_variables/pix.html">$pix</a> = <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('pix')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('title')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/title.html">title</a>, null, array('class' =&gt; 'iconsmall'));
<a name="l3267"><span class="linenum">3267</span></a>                          } else if (isset(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('imgsrc')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/imgsrc.html">imgsrc</a>) &amp;&amp; !empty(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('imgsrc')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/imgsrc.html">imgsrc</a>)) {
<a name="l3268"><span class="linenum">3268</span></a>                              <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('title')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/title.html">title</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('img')" href="../_functions/img.html" onMouseOver="funcPopup(event,'img')">img</a>(
<a name="l3269"><span class="linenum">3269</span></a>                                  <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('imgsrc')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/imgsrc.html">imgsrc</a>,
<a name="l3270"><span class="linenum">3270</span></a>                                  <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('title')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/title.html">title</a>,
<a name="l3271"><span class="linenum">3271</span></a>                                  array('class' =&gt; 'iconsmall')
<a name="l3272"><span class="linenum">3272</span></a>                              ) . <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('title')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/title.html">title</a>;
<a name="l3273"><span class="linenum">3273</span></a>                          }
<a name="l3274"><span class="linenum">3274</span></a>                          <a class="var it32315" onMouseOver="hilite(32315)" onMouseOut="lolite()" onClick="logVariable('al')" href="../_variables/al.html">$al</a> = <span class="keyword">new </span><a class="class" onClick="logClass('action_menu_link_secondary')" href="../_classes/action_menu_link_secondary.html" onMouseOver="classPopup(event,'action_menu_link_secondary')">action_menu_link_secondary</a>(
<a name="l3275"><span class="linenum">3275</span></a>                              <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('url')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/url.html">url</a>,
<a name="l3276"><span class="linenum">3276</span></a>                              <a class="var it11650" onMouseOver="hilite(11650)" onMouseOut="lolite()" onClick="logVariable('pix')" href="../_variables/pix.html">$pix</a>,
<a name="l3277"><span class="linenum">3277</span></a>                              <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('title')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../_variables/title.html">title</a>,
<a name="l3278"><span class="linenum">3278</span></a>                              array('class' =&gt; 'icon')
<a name="l3279"><span class="linenum">3279</span></a>                          );
<a name="l3280"><span class="linenum">3280</span></a>                          <a class="var it28757" onMouseOver="hilite(28757)" onMouseOut="lolite()" onClick="logVariable('am')" href="../_variables/am.html">$am</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it32315" onMouseOver="hilite(32315)" onMouseOut="lolite()" onClick="logVariable('al')" href="../_variables/al.html">$al</a>);
<a name="l3281"><span class="linenum">3281</span></a>                          break;
<a name="l3282"><span class="linenum">3282</span></a>                  }
<a name="l3283"><span class="linenum">3283</span></a>  
<a name="l3284"><span class="linenum">3284</span></a>                  <a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../_variables/idx.html">$idx</a>++;
<a name="l3285"><span class="linenum">3285</span></a>  
<a name="l3286"><span class="linenum">3286</span></a>  <span class="comment">                // Add dividers after the first item and before the last item.</span>
<a name="l3287"><span class="linenum">3287</span></a>                  if (<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../_variables/idx.html">$idx</a> == 1 || <a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../_variables/idx.html">$idx</a> == <a class="var it32314" onMouseOver="hilite(32314)" onMouseOut="lolite()" onClick="logVariable('navitemcount')" href="../_variables/navitemcount.html">$navitemcount</a> - 1) {
<a name="l3288"><span class="linenum">3288</span></a>                      <a class="var it28757" onMouseOver="hilite(28757)" onMouseOut="lolite()" onClick="logVariable('am')" href="../_variables/am.html">$am</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it4412" onMouseOver="hilite(4412)" onMouseOut="lolite()" onClick="logVariable('divider')" href="../_variables/divider.html">$divider</a>);
<a name="l3289"><span class="linenum">3289</span></a>                  }
<a name="l3290"><span class="linenum">3290</span></a>              }
<a name="l3291"><span class="linenum">3291</span></a>          }
<a name="l3292"><span class="linenum">3292</span></a>  
<a name="l3293"><span class="linenum">3293</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(
<a name="l3294"><span class="linenum">3294</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it28757" onMouseOver="hilite(28757)" onMouseOut="lolite()" onClick="logVariable('am')" href="../_variables/am.html">$am</a>),
<a name="l3295"><span class="linenum">3295</span></a>              <a class="var it32309" onMouseOver="hilite(32309)" onMouseOut="lolite()" onClick="logVariable('usermenuclasses')" href="../_variables/usermenuclasses.html">$usermenuclasses</a>
<a name="l3296"><span class="linenum">3296</span></a>          );
<a name="l3297"><span class="linenum">3297</span></a>      }
<a name="l3298"><span class="linenum">3298</span></a>  
<a name="l3299"><span class="linenum">3299</span></a>      <span class="comment">/**</span>
<a name="l3300"><span class="linenum">3300</span></a>  <span class="comment">     * Return the navbar content so that it can be echoed out by the layout</span>
<a name="l3301"><span class="linenum">3301</span></a>  <span class="comment">     *</span>
<a name="l3302"><span class="linenum">3302</span></a>  <span class="comment">     * @return string XHTML navbar</span>
<a name="l3303"><span class="linenum">3303</span></a>  <span class="comment">     */</span>
<a name="l3304"><span class="linenum">3304</span></a>      public function <a class="function" onClick="logFunction('navbar')" href="../_functions/navbar.html" onMouseOver="funcPopup(event,'navbar')">navbar</a>() {
<a name="l3305"><span class="linenum">3305</span></a>          <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;navbar-&gt;<a class="function" onClick="logFunction('get_items')" href="../_functions/get_items.html" onMouseOver="funcPopup(event,'get_items')">get_items</a>();
<a name="l3306"><span class="linenum">3306</span></a>          <a class="var it5327" onMouseOver="hilite(5327)" onMouseOut="lolite()" onClick="logVariable('itemcount')" href="../_variables/itemcount.html">$itemcount</a> = <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a>);
<a name="l3307"><span class="linenum">3307</span></a>          if (<a class="var it5327" onMouseOver="hilite(5327)" onMouseOut="lolite()" onClick="logVariable('itemcount')" href="../_variables/itemcount.html">$itemcount</a> === 0) {
<a name="l3308"><span class="linenum">3308</span></a>              return '';
<a name="l3309"><span class="linenum">3309</span></a>          }
<a name="l3310"><span class="linenum">3310</span></a>  
<a name="l3311"><span class="linenum">3311</span></a>          <a class="var it32316" onMouseOver="hilite(32316)" onMouseOut="lolite()" onClick="logVariable('htmlblocks')" href="../_variables/htmlblocks.html">$htmlblocks</a> = array();
<a name="l3312"><span class="linenum">3312</span></a>  <span class="comment">        // Iterate the navarray and display each node</span>
<a name="l3313"><span class="linenum">3313</span></a>          <a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a> = <a class="function" onClick="logFunction('get_separator')" href="../_functions/get_separator.html" onMouseOver="funcPopup(event,'get_separator')">get_separator</a>();
<a name="l3314"><span class="linenum">3314</span></a>          for (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>=0;<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> &lt; <a class="var it5327" onMouseOver="hilite(5327)" onMouseOut="lolite()" onClick="logVariable('itemcount')" href="../_variables/itemcount.html">$itemcount</a>;<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>++) {
<a name="l3315"><span class="linenum">3315</span></a>              <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a> = <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>];
<a name="l3316"><span class="linenum">3316</span></a>              <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('hideicon')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/hideicon.html">hideicon</a> = true;
<a name="l3317"><span class="linenum">3317</span></a>              if (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>===0) {
<a name="l3318"><span class="linenum">3318</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('li', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>));
<a name="l3319"><span class="linenum">3319</span></a>              } else {
<a name="l3320"><span class="linenum">3320</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('li', <a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a>.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>));
<a name="l3321"><span class="linenum">3321</span></a>              }
<a name="l3322"><span class="linenum">3322</span></a>              <a class="var it32316" onMouseOver="hilite(32316)" onMouseOut="lolite()" onClick="logVariable('htmlblocks')" href="../_variables/htmlblocks.html">$htmlblocks</a>[] = <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>;
<a name="l3323"><span class="linenum">3323</span></a>          }
<a name="l3324"><span class="linenum">3324</span></a>  
<a name="l3325"><span class="linenum">3325</span></a>  <span class="comment">        //accessibility: heading for navbar list  (MDL-20446)</span>
<a name="l3326"><span class="linenum">3326</span></a>          <a class="var it32317" onMouseOver="hilite(32317)" onMouseOut="lolite()" onClick="logVariable('navbarcontent')" href="../_variables/navbarcontent.html">$navbarcontent</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pagepath'), array('class'=&gt;'accesshide'));
<a name="l3327"><span class="linenum">3327</span></a>          <a class="var it32317" onMouseOver="hilite(32317)" onMouseOut="lolite()" onClick="logVariable('navbarcontent')" href="../_variables/navbarcontent.html">$navbarcontent</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('nav', <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('ul', <a class="function" onClick="logFunction('join')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('', <a class="var it32316" onMouseOver="hilite(32316)" onMouseOut="lolite()" onClick="logVariable('htmlblocks')" href="../_variables/htmlblocks.html">$htmlblocks</a>)));
<a name="l3328"><span class="linenum">3328</span></a>  <span class="comment">        // XHTML</span>
<a name="l3329"><span class="linenum">3329</span></a>          return <a class="var it32317" onMouseOver="hilite(32317)" onMouseOut="lolite()" onClick="logVariable('navbarcontent')" href="../_variables/navbarcontent.html">$navbarcontent</a>;
<a name="l3330"><span class="linenum">3330</span></a>      }
<a name="l3331"><span class="linenum">3331</span></a>  
<a name="l3332"><span class="linenum">3332</span></a>      <span class="comment">/**</span>
<a name="l3333"><span class="linenum">3333</span></a>  <span class="comment">     * Renders a navigation node object.</span>
<a name="l3334"><span class="linenum">3334</span></a>  <span class="comment">     *</span>
<a name="l3335"><span class="linenum">3335</span></a>  <span class="comment">     * @param navigation_node $item The navigation node to render.</span>
<a name="l3336"><span class="linenum">3336</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l3337"><span class="linenum">3337</span></a>  <span class="comment">     */</span>
<a name="l3338"><span class="linenum">3338</span></a>      protected function <a class="function" onClick="logFunction('render_navigation_node')" href="../_functions/render_navigation_node.html" onMouseOver="funcPopup(event,'render_navigation_node')">render_navigation_node</a>(navigation_node <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>) {
<a name="l3339"><span class="linenum">3339</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a class="function" onClick="logFunction('get_content')" href="../_functions/get_content.html" onMouseOver="funcPopup(event,'get_content')">get_content</a>();
<a name="l3340"><span class="linenum">3340</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a class="function" onClick="logFunction('get_title')" href="../_functions/get_title.html" onMouseOver="funcPopup(event,'get_title')">get_title</a>();
<a name="l3341"><span class="linenum">3341</span></a>          if (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('icon')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/icon.html">icon</a> instanceof renderable &amp;&amp; !<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('hideicon')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/hideicon.html">hideicon</a>) {
<a name="l3342"><span class="linenum">3342</span></a>              <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('icon')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/icon.html">icon</a>);
<a name="l3343"><span class="linenum">3343</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>.<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>; <span class="comment">// use CSS for spacing of icons</span>
<a name="l3344"><span class="linenum">3344</span></a>          }
<a name="l3345"><span class="linenum">3345</span></a>          if (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('helpbutton')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/helpbutton.html">helpbutton</a> !== null) {
<a name="l3346"><span class="linenum">3346</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('helpbutton')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/helpbutton.html">helpbutton</a>).<a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, array('class'=&gt;'clearhelpbutton', 'tabindex'=&gt;'0'));
<a name="l3347"><span class="linenum">3347</span></a>          }
<a name="l3348"><span class="linenum">3348</span></a>          if (<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> === '') {
<a name="l3349"><span class="linenum">3349</span></a>              return '';
<a name="l3350"><span class="linenum">3350</span></a>          }
<a name="l3351"><span class="linenum">3351</span></a>          if (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('action')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/action.html">action</a> instanceof action_link) {
<a name="l3352"><span class="linenum">3352</span></a>              <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('action')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/action.html">action</a>;
<a name="l3353"><span class="linenum">3353</span></a>              if (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('hidden')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/hidden.html">hidden</a>) {
<a name="l3354"><span class="linenum">3354</span></a>                  <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a class="function" onClick="logFunction('add_class')" href="../_functions/add_class.html" onMouseOver="funcPopup(event,'add_class')">add_class</a>('dimmed');
<a name="l3355"><span class="linenum">3355</span></a>              }
<a name="l3356"><span class="linenum">3356</span></a>              if (!empty(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>)) {
<a name="l3357"><span class="linenum">3357</span></a>  <span class="comment">                // Providing there is content we will use that for the link content.</span>
<a name="l3358"><span class="linenum">3358</span></a>                  <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>-&gt;<a onClick="logVariable('text')" class="var it40092" onMouseOver="hilite(40092)" onMouseOut="lolite()" href="../_variables/text.html">text</a> = <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>;
<a name="l3359"><span class="linenum">3359</span></a>              }
<a name="l3360"><span class="linenum">3360</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>);
<a name="l3361"><span class="linenum">3361</span></a>          } else if (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('action')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/action.html">action</a> instanceof moodle_url) {
<a name="l3362"><span class="linenum">3362</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array();
<a name="l3363"><span class="linenum">3363</span></a>              if (<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> !== '') {
<a name="l3364"><span class="linenum">3364</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['title'] = <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>;
<a name="l3365"><span class="linenum">3365</span></a>              }
<a name="l3366"><span class="linenum">3366</span></a>              if (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('hidden')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/hidden.html">hidden</a>) {
<a name="l3367"><span class="linenum">3367</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['class'] = 'dimmed_text';
<a name="l3368"><span class="linenum">3368</span></a>              }
<a name="l3369"><span class="linenum">3369</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('action')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/action.html">action</a>, <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l3370"><span class="linenum">3370</span></a>  
<a name="l3371"><span class="linenum">3371</span></a>          } else if (<a class="phpfunction" onClick="logFunction('is_string')" href="../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('action')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/action.html">action</a>) || empty(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('action')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/action.html">action</a>)) {
<a name="l3372"><span class="linenum">3372</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('tabindex'=&gt;'0'); <span class="comment">//add tab support to span but still maintain character stream sequence.</span>
<a name="l3373"><span class="linenum">3373</span></a>              if (<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> !== '') {
<a name="l3374"><span class="linenum">3374</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['title'] = <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>;
<a name="l3375"><span class="linenum">3375</span></a>              }
<a name="l3376"><span class="linenum">3376</span></a>              if (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('hidden')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/hidden.html">hidden</a>) {
<a name="l3377"><span class="linenum">3377</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['class'] = 'dimmed_text';
<a name="l3378"><span class="linenum">3378</span></a>              }
<a name="l3379"><span class="linenum">3379</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l3380"><span class="linenum">3380</span></a>          }
<a name="l3381"><span class="linenum">3381</span></a>          return <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>;
<a name="l3382"><span class="linenum">3382</span></a>      }
<a name="l3383"><span class="linenum">3383</span></a>  
<a name="l3384"><span class="linenum">3384</span></a>      <span class="comment">/**</span>
<a name="l3385"><span class="linenum">3385</span></a>  <span class="comment">     * Accessibility: Right arrow-like character is</span>
<a name="l3386"><span class="linenum">3386</span></a>  <span class="comment">     * used in the breadcrumb trail, course navigation menu</span>
<a name="l3387"><span class="linenum">3387</span></a>  <span class="comment">     * (previous/next activity), calendar, and search forum block.</span>
<a name="l3388"><span class="linenum">3388</span></a>  <span class="comment">     * If the theme does not set characters, appropriate defaults</span>
<a name="l3389"><span class="linenum">3389</span></a>  <span class="comment">     * are set automatically. Please DO NOT</span>
<a name="l3390"><span class="linenum">3390</span></a>  <span class="comment">     * use &amp;lt; &amp;gt; &amp;raquo; - these are confusing for blind users.</span>
<a name="l3391"><span class="linenum">3391</span></a>  <span class="comment">     *</span>
<a name="l3392"><span class="linenum">3392</span></a>  <span class="comment">     * @return string</span>
<a name="l3393"><span class="linenum">3393</span></a>  <span class="comment">     */</span>
<a name="l3394"><span class="linenum">3394</span></a>      public function <a class="function" onClick="logFunction('rarrow')" href="../_functions/rarrow.html" onMouseOver="funcPopup(event,'rarrow')">rarrow</a>() {
<a name="l3395"><span class="linenum">3395</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;rarrow;
<a name="l3396"><span class="linenum">3396</span></a>      }
<a name="l3397"><span class="linenum">3397</span></a>  
<a name="l3398"><span class="linenum">3398</span></a>      <span class="comment">/**</span>
<a name="l3399"><span class="linenum">3399</span></a>  <span class="comment">     * Accessibility: Left arrow-like character is</span>
<a name="l3400"><span class="linenum">3400</span></a>  <span class="comment">     * used in the breadcrumb trail, course navigation menu</span>
<a name="l3401"><span class="linenum">3401</span></a>  <span class="comment">     * (previous/next activity), calendar, and search forum block.</span>
<a name="l3402"><span class="linenum">3402</span></a>  <span class="comment">     * If the theme does not set characters, appropriate defaults</span>
<a name="l3403"><span class="linenum">3403</span></a>  <span class="comment">     * are set automatically. Please DO NOT</span>
<a name="l3404"><span class="linenum">3404</span></a>  <span class="comment">     * use &amp;lt; &amp;gt; &amp;raquo; - these are confusing for blind users.</span>
<a name="l3405"><span class="linenum">3405</span></a>  <span class="comment">     *</span>
<a name="l3406"><span class="linenum">3406</span></a>  <span class="comment">     * @return string</span>
<a name="l3407"><span class="linenum">3407</span></a>  <span class="comment">     */</span>
<a name="l3408"><span class="linenum">3408</span></a>      public function <a class="function" onClick="logFunction('larrow')" href="../_functions/larrow.html" onMouseOver="funcPopup(event,'larrow')">larrow</a>() {
<a name="l3409"><span class="linenum">3409</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;larrow;
<a name="l3410"><span class="linenum">3410</span></a>      }
<a name="l3411"><span class="linenum">3411</span></a>  
<a name="l3412"><span class="linenum">3412</span></a>      <span class="comment">/**</span>
<a name="l3413"><span class="linenum">3413</span></a>  <span class="comment">     * Accessibility: Up arrow-like character is used in</span>
<a name="l3414"><span class="linenum">3414</span></a>  <span class="comment">     * the book heirarchical navigation.</span>
<a name="l3415"><span class="linenum">3415</span></a>  <span class="comment">     * If the theme does not set characters, appropriate defaults</span>
<a name="l3416"><span class="linenum">3416</span></a>  <span class="comment">     * are set automatically. Please DO NOT</span>
<a name="l3417"><span class="linenum">3417</span></a>  <span class="comment">     * use ^ - this is confusing for blind users.</span>
<a name="l3418"><span class="linenum">3418</span></a>  <span class="comment">     *</span>
<a name="l3419"><span class="linenum">3419</span></a>  <span class="comment">     * @return string</span>
<a name="l3420"><span class="linenum">3420</span></a>  <span class="comment">     */</span>
<a name="l3421"><span class="linenum">3421</span></a>      public function <a class="function" onClick="logFunction('uarrow')" href="../_functions/uarrow.html" onMouseOver="funcPopup(event,'uarrow')">uarrow</a>() {
<a name="l3422"><span class="linenum">3422</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;uarrow;
<a name="l3423"><span class="linenum">3423</span></a>      }
<a name="l3424"><span class="linenum">3424</span></a>  
<a name="l3425"><span class="linenum">3425</span></a>      <span class="comment">/**</span>
<a name="l3426"><span class="linenum">3426</span></a>  <span class="comment">     * Returns the custom menu if one has been set</span>
<a name="l3427"><span class="linenum">3427</span></a>  <span class="comment">     *</span>
<a name="l3428"><span class="linenum">3428</span></a>  <span class="comment">     * A custom menu can be configured by browsing to</span>
<a name="l3429"><span class="linenum">3429</span></a>  <span class="comment">     *    Settings: Administration &gt; Appearance &gt; Themes &gt; Theme settings</span>
<a name="l3430"><span class="linenum">3430</span></a>  <span class="comment">     * and then configuring the custommenu config setting as described.</span>
<a name="l3431"><span class="linenum">3431</span></a>  <span class="comment">     *</span>
<a name="l3432"><span class="linenum">3432</span></a>  <span class="comment">     * Theme developers: DO NOT OVERRIDE! Please override function</span>
<a name="l3433"><span class="linenum">3433</span></a>  <span class="comment">     * {@link core_renderer::render_custom_menu()} instead.</span>
<a name="l3434"><span class="linenum">3434</span></a>  <span class="comment">     *</span>
<a name="l3435"><span class="linenum">3435</span></a>  <span class="comment">     * @param string $custommenuitems - custom menuitems set by theme instead of global theme settings</span>
<a name="l3436"><span class="linenum">3436</span></a>  <span class="comment">     * @return string</span>
<a name="l3437"><span class="linenum">3437</span></a>  <span class="comment">     */</span>
<a name="l3438"><span class="linenum">3438</span></a>      public function <a class="function" onClick="logFunction('custom_menu')" href="../_functions/custom_menu.html" onMouseOver="funcPopup(event,'custom_menu')">custom_menu</a>(<a class="var it4414" onMouseOver="hilite(4414)" onMouseOut="lolite()" onClick="logVariable('custommenuitems')" href="../_variables/custommenuitems.html">$custommenuitems</a> = '') {
<a name="l3439"><span class="linenum">3439</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l3440"><span class="linenum">3440</span></a>          if (empty(<a class="var it4414" onMouseOver="hilite(4414)" onMouseOut="lolite()" onClick="logVariable('custommenuitems')" href="../_variables/custommenuitems.html">$custommenuitems</a>) &amp;&amp; !empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('custommenuitems')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/custommenuitems.html">custommenuitems</a>)) {
<a name="l3441"><span class="linenum">3441</span></a>              <a class="var it4414" onMouseOver="hilite(4414)" onMouseOut="lolite()" onClick="logVariable('custommenuitems')" href="../_variables/custommenuitems.html">$custommenuitems</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('custommenuitems')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/custommenuitems.html">custommenuitems</a>;
<a name="l3442"><span class="linenum">3442</span></a>          }
<a name="l3443"><span class="linenum">3443</span></a>          if (empty(<a class="var it4414" onMouseOver="hilite(4414)" onMouseOut="lolite()" onClick="logVariable('custommenuitems')" href="../_variables/custommenuitems.html">$custommenuitems</a>)) {
<a name="l3444"><span class="linenum">3444</span></a>              return '';
<a name="l3445"><span class="linenum">3445</span></a>          }
<a name="l3446"><span class="linenum">3446</span></a>          <a class="var it3938" onMouseOver="hilite(3938)" onMouseOut="lolite()" onClick="logVariable('custommenu')" href="../_variables/custommenu.html">$custommenu</a> = <span class="keyword">new </span><a class="class" onClick="logClass('custom_menu')" href="../_classes/custom_menu.html" onMouseOver="classPopup(event,'custom_menu')">custom_menu</a>(<a class="var it4414" onMouseOver="hilite(4414)" onMouseOut="lolite()" onClick="logVariable('custommenuitems')" href="../_variables/custommenuitems.html">$custommenuitems</a>, <a class="function" onClick="logFunction('current_language')" href="../_functions/current_language.html" onMouseOver="funcPopup(event,'current_language')">current_language</a>());
<a name="l3447"><span class="linenum">3447</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it3938" onMouseOver="hilite(3938)" onMouseOut="lolite()" onClick="logVariable('custommenu')" href="../_variables/custommenu.html">$custommenu</a>);
<a name="l3448"><span class="linenum">3448</span></a>      }
<a name="l3449"><span class="linenum">3449</span></a>  
<a name="l3450"><span class="linenum">3450</span></a>      <span class="comment">/**</span>
<a name="l3451"><span class="linenum">3451</span></a>  <span class="comment">     * Renders a custom menu object (located in outputcomponents.php)</span>
<a name="l3452"><span class="linenum">3452</span></a>  <span class="comment">     *</span>
<a name="l3453"><span class="linenum">3453</span></a>  <span class="comment">     * The custom menu this method produces makes use of the YUI3 menunav widget</span>
<a name="l3454"><span class="linenum">3454</span></a>  <span class="comment">     * and requires very specific html elements and classes.</span>
<a name="l3455"><span class="linenum">3455</span></a>  <span class="comment">     *</span>
<a name="l3456"><span class="linenum">3456</span></a>  <span class="comment">     * @staticvar int $menucount</span>
<a name="l3457"><span class="linenum">3457</span></a>  <span class="comment">     * @param custom_menu $menu</span>
<a name="l3458"><span class="linenum">3458</span></a>  <span class="comment">     * @return string</span>
<a name="l3459"><span class="linenum">3459</span></a>  <span class="comment">     */</span>
<a name="l3460"><span class="linenum">3460</span></a>      protected function <a class="function" onClick="logFunction('render_custom_menu')" href="../_functions/render_custom_menu.html" onMouseOver="funcPopup(event,'render_custom_menu')">render_custom_menu</a>(custom_menu <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>) {
<a name="l3461"><span class="linenum">3461</span></a>          static <a class="var it32318" onMouseOver="hilite(32318)" onMouseOut="lolite()" onClick="logVariable('menucount')" href="../_variables/menucount.html">$menucount</a> = 0;
<a name="l3462"><span class="linenum">3462</span></a>  <span class="comment">        // If the menu has no children return an empty string</span>
<a name="l3463"><span class="linenum">3463</span></a>          if (!<a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('has_children')" href="../_functions/has_children.html" onMouseOver="funcPopup(event,'has_children')">has_children</a>()) {
<a name="l3464"><span class="linenum">3464</span></a>              return '';
<a name="l3465"><span class="linenum">3465</span></a>          }
<a name="l3466"><span class="linenum">3466</span></a>  <span class="comment">        // Increment the menu count. This is used for ID's that get worked with</span>
<a name="l3467"><span class="linenum">3467</span></a>  <span class="comment">        // in JavaScript as is essential</span>
<a name="l3468"><span class="linenum">3468</span></a>          <a class="var it32318" onMouseOver="hilite(32318)" onMouseOut="lolite()" onClick="logVariable('menucount')" href="../_variables/menucount.html">$menucount</a>++;
<a name="l3469"><span class="linenum">3469</span></a>  <span class="comment">        // Initialise this custom menu (the custom menu object is contained in javascript-static</span>
<a name="l3470"><span class="linenum">3470</span></a>          <a class="var it23654" onMouseOver="hilite(23654)" onMouseOut="lolite()" onClick="logVariable('jscode')" href="../_variables/jscode.html">$jscode</a> = <a class="class" onClick="logClass('js_writer')" href="../_classes/js_writer.html" onMouseOver="classPopup(event,'js_writer')">js_writer</a>::<a class="function" onClick="logFunction('function_call_with_Y')" href="../_functions/function_call_with_y.html" onMouseOver="funcPopup(event,'function_call_with_y')">function_call_with_Y</a>('M.core_custom_menu.init', array('custom_menu_'.<a class="var it32318" onMouseOver="hilite(32318)" onMouseOut="lolite()" onClick="logVariable('menucount')" href="../_variables/menucount.html">$menucount</a>));
<a name="l3471"><span class="linenum">3471</span></a>          <a class="var it23654" onMouseOver="hilite(23654)" onMouseOut="lolite()" onClick="logVariable('jscode')" href="../_variables/jscode.html">$jscode</a> = &quot;(function(){{<a class="var it23654" onMouseOver="hilite(23654)" onMouseOut="lolite()" onClick="logVariable('jscode')" href="../_variables/jscode.html">$jscode</a>}})&quot;;
<a name="l3472"><span class="linenum">3472</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('node-menunav', <a class="var it23654" onMouseOver="hilite(23654)" onMouseOut="lolite()" onClick="logVariable('jscode')" href="../_variables/jscode.html">$jscode</a>);
<a name="l3473"><span class="linenum">3473</span></a>  <span class="comment">        // Build the root nodes as required by YUI</span>
<a name="l3474"><span class="linenum">3474</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('id'=&gt;'custom_menu_'.<a class="var it32318" onMouseOver="hilite(32318)" onMouseOut="lolite()" onClick="logVariable('menucount')" href="../_variables/menucount.html">$menucount</a>, 'class'=&gt;'yui3-menu yui3-menu-horizontal javascript-disabled custom-menu'));
<a name="l3475"><span class="linenum">3475</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class'=&gt;'yui3-menu-content'));
<a name="l3476"><span class="linenum">3476</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('ul');
<a name="l3477"><span class="linenum">3477</span></a>  <span class="comment">        // Render each child</span>
<a name="l3478"><span class="linenum">3478</span></a>          foreach (<a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('get_children')" href="../_functions/get_children.html" onMouseOver="funcPopup(event,'get_children')">get_children</a>() as <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>) {
<a name="l3479"><span class="linenum">3479</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render_custom_menu_item')" href="../_functions/render_custom_menu_item.html" onMouseOver="funcPopup(event,'render_custom_menu_item')">render_custom_menu_item</a>(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>);
<a name="l3480"><span class="linenum">3480</span></a>          }
<a name="l3481"><span class="linenum">3481</span></a>  <span class="comment">        // Close the open tags</span>
<a name="l3482"><span class="linenum">3482</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('ul');
<a name="l3483"><span class="linenum">3483</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l3484"><span class="linenum">3484</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l3485"><span class="linenum">3485</span></a>  <span class="comment">        // Return the custom menu</span>
<a name="l3486"><span class="linenum">3486</span></a>          return <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>;
<a name="l3487"><span class="linenum">3487</span></a>      }
<a name="l3488"><span class="linenum">3488</span></a>  
<a name="l3489"><span class="linenum">3489</span></a>      <span class="comment">/**</span>
<a name="l3490"><span class="linenum">3490</span></a>  <span class="comment">     * Renders a custom menu node as part of a submenu</span>
<a name="l3491"><span class="linenum">3491</span></a>  <span class="comment">     *</span>
<a name="l3492"><span class="linenum">3492</span></a>  <span class="comment">     * The custom menu this method produces makes use of the YUI3 menunav widget</span>
<a name="l3493"><span class="linenum">3493</span></a>  <span class="comment">     * and requires very specific html elements and classes.</span>
<a name="l3494"><span class="linenum">3494</span></a>  <span class="comment">     *</span>
<a name="l3495"><span class="linenum">3495</span></a>  <span class="comment">     * @see core:renderer::render_custom_menu()</span>
<a name="l3496"><span class="linenum">3496</span></a>  <span class="comment">     *</span>
<a name="l3497"><span class="linenum">3497</span></a>  <span class="comment">     * @staticvar int $submenucount</span>
<a name="l3498"><span class="linenum">3498</span></a>  <span class="comment">     * @param custom_menu_item $menunode</span>
<a name="l3499"><span class="linenum">3499</span></a>  <span class="comment">     * @return string</span>
<a name="l3500"><span class="linenum">3500</span></a>  <span class="comment">     */</span>
<a name="l3501"><span class="linenum">3501</span></a>      protected function <a class="function" onClick="logFunction('render_custom_menu_item')" href="../_functions/render_custom_menu_item.html" onMouseOver="funcPopup(event,'render_custom_menu_item')">render_custom_menu_item</a>(custom_menu_item <a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>) {
<a name="l3502"><span class="linenum">3502</span></a>  <span class="comment">        // Required to ensure we get unique trackable id's</span>
<a name="l3503"><span class="linenum">3503</span></a>          static <a class="var it4423" onMouseOver="hilite(4423)" onMouseOut="lolite()" onClick="logVariable('submenucount')" href="../_variables/submenucount.html">$submenucount</a> = 0;
<a name="l3504"><span class="linenum">3504</span></a>          if (<a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('has_children')" href="../_functions/has_children.html" onMouseOver="funcPopup(event,'has_children')">has_children</a>()) {
<a name="l3505"><span class="linenum">3505</span></a>  <span class="comment">            // If the child has menus render it as a sub menu</span>
<a name="l3506"><span class="linenum">3506</span></a>              <a class="var it4423" onMouseOver="hilite(4423)" onMouseOut="lolite()" onClick="logVariable('submenucount')" href="../_variables/submenucount.html">$submenucount</a>++;
<a name="l3507"><span class="linenum">3507</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('li');
<a name="l3508"><span class="linenum">3508</span></a>              if (<a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>() !== null) {
<a name="l3509"><span class="linenum">3509</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>();
<a name="l3510"><span class="linenum">3510</span></a>              } else {
<a name="l3511"><span class="linenum">3511</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = '#cm_submenu_'.<a class="var it4423" onMouseOver="hilite(4423)" onMouseOut="lolite()" onClick="logVariable('submenucount')" href="../_variables/submenucount.html">$submenucount</a>;
<a name="l3512"><span class="linenum">3512</span></a>              }
<a name="l3513"><span class="linenum">3513</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('get_text')" href="../_functions/get_text.html" onMouseOver="funcPopup(event,'get_text')">get_text</a>(), array('class'=&gt;'yui3-menu-label', 'title'=&gt;<a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('get_title')" href="../_functions/get_title.html" onMouseOver="funcPopup(event,'get_title')">get_title</a>()));
<a name="l3514"><span class="linenum">3514</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('id'=&gt;'cm_submenu_'.<a class="var it4423" onMouseOver="hilite(4423)" onMouseOut="lolite()" onClick="logVariable('submenucount')" href="../_variables/submenucount.html">$submenucount</a>, 'class'=&gt;'yui3-menu custom_menu_submenu'));
<a name="l3515"><span class="linenum">3515</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class'=&gt;'yui3-menu-content'));
<a name="l3516"><span class="linenum">3516</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('ul');
<a name="l3517"><span class="linenum">3517</span></a>              foreach (<a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('get_children')" href="../_functions/get_children.html" onMouseOver="funcPopup(event,'get_children')">get_children</a>() as <a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>) {
<a name="l3518"><span class="linenum">3518</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render_custom_menu_item')" href="../_functions/render_custom_menu_item.html" onMouseOver="funcPopup(event,'render_custom_menu_item')">render_custom_menu_item</a>(<a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>);
<a name="l3519"><span class="linenum">3519</span></a>              }
<a name="l3520"><span class="linenum">3520</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('ul');
<a name="l3521"><span class="linenum">3521</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l3522"><span class="linenum">3522</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l3523"><span class="linenum">3523</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('li');
<a name="l3524"><span class="linenum">3524</span></a>          } else {
<a name="l3525"><span class="linenum">3525</span></a>  <span class="comment">            // The node doesn't have children so produce a final menuitem.</span>
<a name="l3526"><span class="linenum">3526</span></a>  <span class="comment">            // Also, if the node's text matches '####', add a class so we can treat it as a divider.</span>
<a name="l3527"><span class="linenum">3527</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = '';
<a name="l3528"><span class="linenum">3528</span></a>              if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(&quot;/^#+$/&quot;, <a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('get_text')" href="../_functions/get_text.html" onMouseOver="funcPopup(event,'get_text')">get_text</a>())) {
<a name="l3529"><span class="linenum">3529</span></a>  
<a name="l3530"><span class="linenum">3530</span></a>  <span class="comment">                // This is a divider.</span>
<a name="l3531"><span class="linenum">3531</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('li', array('class' =&gt; 'yui3-menuitem divider'));
<a name="l3532"><span class="linenum">3532</span></a>              } else {
<a name="l3533"><span class="linenum">3533</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>(
<a name="l3534"><span class="linenum">3534</span></a>                      'li',
<a name="l3535"><span class="linenum">3535</span></a>                      array(
<a name="l3536"><span class="linenum">3536</span></a>                          'class' =&gt; 'yui3-menuitem'
<a name="l3537"><span class="linenum">3537</span></a>                      )
<a name="l3538"><span class="linenum">3538</span></a>                  );
<a name="l3539"><span class="linenum">3539</span></a>                  if (<a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>() !== null) {
<a name="l3540"><span class="linenum">3540</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>();
<a name="l3541"><span class="linenum">3541</span></a>                  } else {
<a name="l3542"><span class="linenum">3542</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = '#';
<a name="l3543"><span class="linenum">3543</span></a>                  }
<a name="l3544"><span class="linenum">3544</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(
<a name="l3545"><span class="linenum">3545</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>,
<a name="l3546"><span class="linenum">3546</span></a>                      <a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('get_text')" href="../_functions/get_text.html" onMouseOver="funcPopup(event,'get_text')">get_text</a>(),
<a name="l3547"><span class="linenum">3547</span></a>                      array('class' =&gt; 'yui3-menuitem-content', 'title' =&gt; <a class="var it4422" onMouseOver="hilite(4422)" onMouseOut="lolite()" onClick="logVariable('menunode')" href="../_variables/menunode.html">$menunode</a>-&gt;<a class="function" onClick="logFunction('get_title')" href="../_functions/get_title.html" onMouseOver="funcPopup(event,'get_title')">get_title</a>())
<a name="l3548"><span class="linenum">3548</span></a>                  );
<a name="l3549"><span class="linenum">3549</span></a>              }
<a name="l3550"><span class="linenum">3550</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('li');
<a name="l3551"><span class="linenum">3551</span></a>          }
<a name="l3552"><span class="linenum">3552</span></a>  <span class="comment">        // Return the sub menu</span>
<a name="l3553"><span class="linenum">3553</span></a>          return <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>;
<a name="l3554"><span class="linenum">3554</span></a>      }
<a name="l3555"><span class="linenum">3555</span></a>  
<a name="l3556"><span class="linenum">3556</span></a>      <span class="comment">/**</span>
<a name="l3557"><span class="linenum">3557</span></a>  <span class="comment">     * Renders theme links for switching between default and other themes.</span>
<a name="l3558"><span class="linenum">3558</span></a>  <span class="comment">     *</span>
<a name="l3559"><span class="linenum">3559</span></a>  <span class="comment">     * @return string</span>
<a name="l3560"><span class="linenum">3560</span></a>  <span class="comment">     */</span>
<a name="l3561"><span class="linenum">3561</span></a>      protected function <a class="function" onClick="logFunction('theme_switch_links')" href="../_functions/theme_switch_links.html" onMouseOver="funcPopup(event,'theme_switch_links')">theme_switch_links</a>() {
<a name="l3562"><span class="linenum">3562</span></a>  
<a name="l3563"><span class="linenum">3563</span></a>          <a class="var it32319" onMouseOver="hilite(32319)" onMouseOut="lolite()" onClick="logVariable('actualdevice')" href="../_variables/actualdevice.html">$actualdevice</a> = <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('get_device_type')" href="../_functions/get_device_type.html" onMouseOver="funcPopup(event,'get_device_type')">get_device_type</a>();
<a name="l3564"><span class="linenum">3564</span></a>          <a class="var it32320" onMouseOver="hilite(32320)" onMouseOut="lolite()" onClick="logVariable('currentdevice')" href="../_variables/currentdevice.html">$currentdevice</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;devicetypeinuse;
<a name="l3565"><span class="linenum">3565</span></a>          <a class="var it7022" onMouseOver="hilite(7022)" onMouseOut="lolite()" onClick="logVariable('switched')" href="../_variables/switched.html">$switched</a> = (<a class="var it32319" onMouseOver="hilite(32319)" onMouseOut="lolite()" onClick="logVariable('actualdevice')" href="../_variables/actualdevice.html">$actualdevice</a> != <a class="var it32320" onMouseOver="hilite(32320)" onMouseOut="lolite()" onClick="logVariable('currentdevice')" href="../_variables/currentdevice.html">$currentdevice</a>);
<a name="l3566"><span class="linenum">3566</span></a>  
<a name="l3567"><span class="linenum">3567</span></a>          if (!<a class="var it7022" onMouseOver="hilite(7022)" onMouseOut="lolite()" onClick="logVariable('switched')" href="../_variables/switched.html">$switched</a> &amp;&amp; <a class="var it32320" onMouseOver="hilite(32320)" onMouseOut="lolite()" onClick="logVariable('currentdevice')" href="../_variables/currentdevice.html">$currentdevice</a> == 'default' &amp;&amp; <a class="var it32319" onMouseOver="hilite(32319)" onMouseOut="lolite()" onClick="logVariable('actualdevice')" href="../_variables/actualdevice.html">$actualdevice</a> == 'default') {
<a name="l3568"><span class="linenum">3568</span></a>  <span class="comment">            // The user is using the a default device and hasn't switched so don't shown the switch</span>
<a name="l3569"><span class="linenum">3569</span></a>  <span class="comment">            // device links.</span>
<a name="l3570"><span class="linenum">3570</span></a>              return '';
<a name="l3571"><span class="linenum">3571</span></a>          }
<a name="l3572"><span class="linenum">3572</span></a>  
<a name="l3573"><span class="linenum">3573</span></a>          if (<a class="var it7022" onMouseOver="hilite(7022)" onMouseOut="lolite()" onClick="logVariable('switched')" href="../_variables/switched.html">$switched</a>) {
<a name="l3574"><span class="linenum">3574</span></a>              <a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../_variables/linktext.html">$linktext</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('switchdevicerecommended');
<a name="l3575"><span class="linenum">3575</span></a>              <a class="var it4455" onMouseOver="hilite(4455)" onMouseOut="lolite()" onClick="logVariable('devicetype')" href="../_variables/devicetype.html">$devicetype</a> = <a class="var it32319" onMouseOver="hilite(32319)" onMouseOut="lolite()" onClick="logVariable('actualdevice')" href="../_variables/actualdevice.html">$actualdevice</a>;
<a name="l3576"><span class="linenum">3576</span></a>          } else {
<a name="l3577"><span class="linenum">3577</span></a>              <a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../_variables/linktext.html">$linktext</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('switchdevicedefault');
<a name="l3578"><span class="linenum">3578</span></a>              <a class="var it4455" onMouseOver="hilite(4455)" onMouseOut="lolite()" onClick="logVariable('devicetype')" href="../_variables/devicetype.html">$devicetype</a> = 'default';
<a name="l3579"><span class="linenum">3579</span></a>          }
<a name="l3580"><span class="linenum">3580</span></a>          <a class="var it32321" onMouseOver="hilite(32321)" onMouseOut="lolite()" onClick="logVariable('linkurl')" href="../_variables/linkurl.html">$linkurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../theme/switchdevice.php.html">/theme/switchdevice.php</a>', array('url' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;url, 'device' =&gt; <a class="var it4455" onMouseOver="hilite(4455)" onMouseOut="lolite()" onClick="logVariable('devicetype')" href="../_variables/devicetype.html">$devicetype</a>, 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l3581"><span class="linenum">3581</span></a>  
<a name="l3582"><span class="linenum">3582</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>  = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('id' =&gt; 'theme_switch_link'));
<a name="l3583"><span class="linenum">3583</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it32321" onMouseOver="hilite(32321)" onMouseOut="lolite()" onClick="logVariable('linkurl')" href="../_variables/linkurl.html">$linkurl</a>, <a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../_variables/linktext.html">$linktext</a>, array('rel' =&gt; 'nofollow'));
<a name="l3584"><span class="linenum">3584</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l3585"><span class="linenum">3585</span></a>  
<a name="l3586"><span class="linenum">3586</span></a>          return <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>;
<a name="l3587"><span class="linenum">3587</span></a>      }
<a name="l3588"><span class="linenum">3588</span></a>  
<a name="l3589"><span class="linenum">3589</span></a>      <span class="comment">/**</span>
<a name="l3590"><span class="linenum">3590</span></a>  <span class="comment">     * Renders tabs</span>
<a name="l3591"><span class="linenum">3591</span></a>  <span class="comment">     *</span>
<a name="l3592"><span class="linenum">3592</span></a>  <span class="comment">     * This function replaces print_tabs() used before Moodle 2.5 but with slightly different arguments</span>
<a name="l3593"><span class="linenum">3593</span></a>  <span class="comment">     *</span>
<a name="l3594"><span class="linenum">3594</span></a>  <span class="comment">     * Theme developers: In order to change how tabs are displayed please override functions</span>
<a name="l3595"><span class="linenum">3595</span></a>  <span class="comment">     * {@link core_renderer::render_tabtree()} and/or {@link core_renderer::render_tabobject()}</span>
<a name="l3596"><span class="linenum">3596</span></a>  <span class="comment">     *</span>
<a name="l3597"><span class="linenum">3597</span></a>  <span class="comment">     * @param array $tabs array of tabs, each of them may have it's own -&gt;subtree</span>
<a name="l3598"><span class="linenum">3598</span></a>  <span class="comment">     * @param string|null $selected which tab to mark as selected, all parent tabs will</span>
<a name="l3599"><span class="linenum">3599</span></a>  <span class="comment">     *     automatically be marked as activated</span>
<a name="l3600"><span class="linenum">3600</span></a>  <span class="comment">     * @param array|string|null $inactive list of ids of inactive tabs, regardless of</span>
<a name="l3601"><span class="linenum">3601</span></a>  <span class="comment">     *     their level. Note that you can as weel specify tabobject::$inactive for separate instances</span>
<a name="l3602"><span class="linenum">3602</span></a>  <span class="comment">     * @return string</span>
<a name="l3603"><span class="linenum">3603</span></a>  <span class="comment">     */</span>
<a name="l3604"><span class="linenum">3604</span></a>      public final function <a class="function" onClick="logFunction('tabtree')" href="../_functions/tabtree.html" onMouseOver="funcPopup(event,'tabtree')">tabtree</a>(<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>, <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a> = null, <a class="var it4431" onMouseOver="hilite(4431)" onMouseOut="lolite()" onClick="logVariable('inactive')" href="../_variables/inactive.html">$inactive</a> = null) {
<a name="l3605"><span class="linenum">3605</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<span class="keyword">new </span><a class="class" onClick="logClass('tabtree')" href="../_classes/tabtree.html" onMouseOver="classPopup(event,'tabtree')">tabtree</a>(<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>, <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>, <a class="var it4431" onMouseOver="hilite(4431)" onMouseOut="lolite()" onClick="logVariable('inactive')" href="../_variables/inactive.html">$inactive</a>));
<a name="l3606"><span class="linenum">3606</span></a>      }
<a name="l3607"><span class="linenum">3607</span></a>  
<a name="l3608"><span class="linenum">3608</span></a>      <span class="comment">/**</span>
<a name="l3609"><span class="linenum">3609</span></a>  <span class="comment">     * Renders tabtree</span>
<a name="l3610"><span class="linenum">3610</span></a>  <span class="comment">     *</span>
<a name="l3611"><span class="linenum">3611</span></a>  <span class="comment">     * @param tabtree $tabtree</span>
<a name="l3612"><span class="linenum">3612</span></a>  <span class="comment">     * @return string</span>
<a name="l3613"><span class="linenum">3613</span></a>  <span class="comment">     */</span>
<a name="l3614"><span class="linenum">3614</span></a>      protected function <a class="function" onClick="logFunction('render_tabtree')" href="../_functions/render_tabtree.html" onMouseOver="funcPopup(event,'render_tabtree')">render_tabtree</a>(tabtree <a class="var it4424" onMouseOver="hilite(4424)" onMouseOut="lolite()" onClick="logVariable('tabtree')" href="../_variables/tabtree.html">$tabtree</a>) {
<a name="l3615"><span class="linenum">3615</span></a>          if (empty(<a class="var it4424" onMouseOver="hilite(4424)" onMouseOut="lolite()" onClick="logVariable('tabtree')" href="../_variables/tabtree.html">$tabtree</a>-&gt;<a onClick="logVariable('subtree')" class="var it39600" onMouseOver="hilite(39600)" onMouseOut="lolite()" href="../_variables/subtree.html">subtree</a>)) {
<a name="l3616"><span class="linenum">3616</span></a>              return '';
<a name="l3617"><span class="linenum">3617</span></a>          }
<a name="l3618"><span class="linenum">3618</span></a>          <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> = '';
<a name="l3619"><span class="linenum">3619</span></a>          <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'tabtree'));
<a name="l3620"><span class="linenum">3620</span></a>          <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render_tabobject')" href="../_functions/render_tabobject.html" onMouseOver="funcPopup(event,'render_tabobject')">render_tabobject</a>(<a class="var it4424" onMouseOver="hilite(4424)" onMouseOut="lolite()" onClick="logVariable('tabtree')" href="../_variables/tabtree.html">$tabtree</a>);
<a name="l3621"><span class="linenum">3621</span></a>          <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div').
<a name="l3622"><span class="linenum">3622</span></a>                  <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', ' ', array('class' =&gt; 'clearer'));
<a name="l3623"><span class="linenum">3623</span></a>          return <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l3624"><span class="linenum">3624</span></a>      }
<a name="l3625"><span class="linenum">3625</span></a>  
<a name="l3626"><span class="linenum">3626</span></a>      <span class="comment">/**</span>
<a name="l3627"><span class="linenum">3627</span></a>  <span class="comment">     * Renders tabobject (part of tabtree)</span>
<a name="l3628"><span class="linenum">3628</span></a>  <span class="comment">     *</span>
<a name="l3629"><span class="linenum">3629</span></a>  <span class="comment">     * This function is called from {@link core_renderer::render_tabtree()}</span>
<a name="l3630"><span class="linenum">3630</span></a>  <span class="comment">     * and also it calls itself when printing the $tabobject subtree recursively.</span>
<a name="l3631"><span class="linenum">3631</span></a>  <span class="comment">     *</span>
<a name="l3632"><span class="linenum">3632</span></a>  <span class="comment">     * Property $tabobject-&gt;level indicates the number of row of tabs.</span>
<a name="l3633"><span class="linenum">3633</span></a>  <span class="comment">     *</span>
<a name="l3634"><span class="linenum">3634</span></a>  <span class="comment">     * @param tabobject $tabobject</span>
<a name="l3635"><span class="linenum">3635</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l3636"><span class="linenum">3636</span></a>  <span class="comment">     */</span>
<a name="l3637"><span class="linenum">3637</span></a>      protected function <a class="function" onClick="logFunction('render_tabobject')" href="../_functions/render_tabobject.html" onMouseOver="funcPopup(event,'render_tabobject')">render_tabobject</a>(tabobject <a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>) {
<a name="l3638"><span class="linenum">3638</span></a>          <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> = '';
<a name="l3639"><span class="linenum">3639</span></a>  
<a name="l3640"><span class="linenum">3640</span></a>  <span class="comment">        // Print name of the current tab.</span>
<a name="l3641"><span class="linenum">3641</span></a>          if (<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a> instanceof tabtree) {
<a name="l3642"><span class="linenum">3642</span></a>  <span class="comment">            // No name for tabtree root.</span>
<a name="l3643"><span class="linenum">3643</span></a>          } else if (<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('inactive')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/inactive.html">inactive</a> || <a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('activated')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/activated.html">activated</a> || (<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('selected')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a> &amp;&amp; !<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('linkedwhenselected')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/linkedwhenselected.html">linkedwhenselected</a>)) {
<a name="l3644"><span class="linenum">3644</span></a>  <span class="comment">            // Tab name without a link. The &lt;a&gt; tag is used for styling.</span>
<a name="l3645"><span class="linenum">3645</span></a>              <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('text')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/text.html">text</a>), array('class' =&gt; 'nolink moodle-has-zindex'));
<a name="l3646"><span class="linenum">3646</span></a>          } else {
<a name="l3647"><span class="linenum">3647</span></a>  <span class="comment">            // Tab name with a link.</span>
<a name="l3648"><span class="linenum">3648</span></a>              if (!(<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('link')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/link.html">link</a> instanceof moodle_url)) {
<a name="l3649"><span class="linenum">3649</span></a>  <span class="comment">                // backward compartibility when link was passed as quoted string</span>
<a name="l3650"><span class="linenum">3650</span></a>                  <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= &quot;&lt;a href=\&quot;<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('link')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/link.html">link</a>\&quot; title=\&quot;<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('title')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/title.html">title</a>\&quot;&gt;&lt;span&gt;<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('text')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/text.html">text</a>&lt;/span&gt;&lt;/a&gt;&quot;;
<a name="l3651"><span class="linenum">3651</span></a>              } else {
<a name="l3652"><span class="linenum">3652</span></a>                  <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('link')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('text')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/text.html">text</a>), array('title' =&gt; <a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('title')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/title.html">title</a>));
<a name="l3653"><span class="linenum">3653</span></a>              }
<a name="l3654"><span class="linenum">3654</span></a>          }
<a name="l3655"><span class="linenum">3655</span></a>  
<a name="l3656"><span class="linenum">3656</span></a>          if (empty(<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('subtree')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/subtree.html">subtree</a>)) {
<a name="l3657"><span class="linenum">3657</span></a>              if (<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('selected')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>) {
<a name="l3658"><span class="linenum">3658</span></a>                  <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', '&amp;nbsp;', array('class' =&gt; 'tabrow'. (<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('level')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/level.html">level</a> + 1). ' empty'));
<a name="l3659"><span class="linenum">3659</span></a>              }
<a name="l3660"><span class="linenum">3660</span></a>              return <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l3661"><span class="linenum">3661</span></a>          }
<a name="l3662"><span class="linenum">3662</span></a>  
<a name="l3663"><span class="linenum">3663</span></a>  <span class="comment">        // Print subtree</span>
<a name="l3664"><span class="linenum">3664</span></a>          <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('ul', array('class' =&gt; 'tabrow'. <a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('level')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/level.html">level</a>));
<a name="l3665"><span class="linenum">3665</span></a>          <a class="var it1716" onMouseOver="hilite(1716)" onMouseOut="lolite()" onClick="logVariable('cnt')" href="../_variables/cnt.html">$cnt</a> = 0;
<a name="l3666"><span class="linenum">3666</span></a>          foreach (<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('subtree')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/subtree.html">subtree</a> as <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>) {
<a name="l3667"><span class="linenum">3667</span></a>              <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> = '';
<a name="l3668"><span class="linenum">3668</span></a>              if (!<a class="var it1716" onMouseOver="hilite(1716)" onMouseOut="lolite()" onClick="logVariable('cnt')" href="../_variables/cnt.html">$cnt</a>) {
<a name="l3669"><span class="linenum">3669</span></a>                  <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> .= ' first';
<a name="l3670"><span class="linenum">3670</span></a>              }
<a name="l3671"><span class="linenum">3671</span></a>              if (<a class="var it1716" onMouseOver="hilite(1716)" onMouseOut="lolite()" onClick="logVariable('cnt')" href="../_variables/cnt.html">$cnt</a> == <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it32322" onMouseOver="hilite(32322)" onMouseOut="lolite()" onClick="logVariable('tabobject')" href="../_variables/tabobject.html">$tabobject</a>-&gt;<a onClick="logVariable('subtree')" class="var it41110" onMouseOver="hilite(41110)" onMouseOut="lolite()" href="../_variables/subtree.html">subtree</a>) - 1) {
<a name="l3672"><span class="linenum">3672</span></a>                  <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> .= ' last';
<a name="l3673"><span class="linenum">3673</span></a>              }
<a name="l3674"><span class="linenum">3674</span></a>              if ((empty(<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('subtree')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/subtree.html">subtree</a>)) &amp;&amp; (!empty(<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('selected')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>))) {
<a name="l3675"><span class="linenum">3675</span></a>                  <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> .= ' onerow';
<a name="l3676"><span class="linenum">3676</span></a>              }
<a name="l3677"><span class="linenum">3677</span></a>  
<a name="l3678"><span class="linenum">3678</span></a>              if (<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('selected')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>) {
<a name="l3679"><span class="linenum">3679</span></a>                  <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> .= ' here selected';
<a name="l3680"><span class="linenum">3680</span></a>              } else if (<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('activated')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/activated.html">activated</a>) {
<a name="l3681"><span class="linenum">3681</span></a>                  <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> .= ' here active';
<a name="l3682"><span class="linenum">3682</span></a>              }
<a name="l3683"><span class="linenum">3683</span></a>  
<a name="l3684"><span class="linenum">3684</span></a>  <span class="comment">            // This will recursively call function render_tabobject() for each item in subtree</span>
<a name="l3685"><span class="linenum">3685</span></a>              <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('li', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>), array('class' =&gt; <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a>)));
<a name="l3686"><span class="linenum">3686</span></a>              <a class="var it1716" onMouseOver="hilite(1716)" onMouseOut="lolite()" onClick="logVariable('cnt')" href="../_variables/cnt.html">$cnt</a>++;
<a name="l3687"><span class="linenum">3687</span></a>          }
<a name="l3688"><span class="linenum">3688</span></a>          <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('ul');
<a name="l3689"><span class="linenum">3689</span></a>  
<a name="l3690"><span class="linenum">3690</span></a>          return <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l3691"><span class="linenum">3691</span></a>      }
<a name="l3692"><span class="linenum">3692</span></a>  
<a name="l3693"><span class="linenum">3693</span></a>      <span class="comment">/**</span>
<a name="l3694"><span class="linenum">3694</span></a>  <span class="comment">     * Get the HTML for blocks in the given region.</span>
<a name="l3695"><span class="linenum">3695</span></a>  <span class="comment">     *</span>
<a name="l3696"><span class="linenum">3696</span></a>  <span class="comment">     * @since Moodle 2.5.1 2.6</span>
<a name="l3697"><span class="linenum">3697</span></a>  <span class="comment">     * @param string $region The region to get HTML for.</span>
<a name="l3698"><span class="linenum">3698</span></a>  <span class="comment">     * @return string HTML.</span>
<a name="l3699"><span class="linenum">3699</span></a>  <span class="comment">     */</span>
<a name="l3700"><span class="linenum">3700</span></a>      public function <a class="function" onClick="logFunction('blocks')" href="../_functions/blocks.html" onMouseOver="funcPopup(event,'blocks')">blocks</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = array(), <a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = 'aside') {
<a name="l3701"><span class="linenum">3701</span></a>          <a class="var it32323" onMouseOver="hilite(32323)" onMouseOut="lolite()" onClick="logVariable('displayregion')" href="../_variables/displayregion.html">$displayregion</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('apply_theme_region_manipulations')" href="../_functions/apply_theme_region_manipulations.html" onMouseOver="funcPopup(event,'apply_theme_region_manipulations')">apply_theme_region_manipulations</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>);
<a name="l3702"><span class="linenum">3702</span></a>          <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = (array)<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>;
<a name="l3703"><span class="linenum">3703</span></a>          <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>[] = 'block-region';
<a name="l3704"><span class="linenum">3704</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array(
<a name="l3705"><span class="linenum">3705</span></a>              'id' =&gt; 'block-region-'.<a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('#[^a-zA-Z0-9_\-]+#', '-', <a class="var it32323" onMouseOver="hilite(32323)" onMouseOut="lolite()" onClick="logVariable('displayregion')" href="../_variables/displayregion.html">$displayregion</a>),
<a name="l3706"><span class="linenum">3706</span></a>              'class' =&gt; <a class="function" onClick="logFunction('join')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(' ', <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>),
<a name="l3707"><span class="linenum">3707</span></a>              'data-blockregion' =&gt; <a class="var it32323" onMouseOver="hilite(32323)" onMouseOut="lolite()" onClick="logVariable('displayregion')" href="../_variables/displayregion.html">$displayregion</a>,
<a name="l3708"><span class="linenum">3708</span></a>              'data-droptarget' =&gt; '1'
<a name="l3709"><span class="linenum">3709</span></a>          );
<a name="l3710"><span class="linenum">3710</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;blocks-&gt;<a class="function" onClick="logFunction('region_has_content')" href="../_functions/region_has_content.html" onMouseOver="funcPopup(event,'region_has_content')">region_has_content</a>(<a class="var it32323" onMouseOver="hilite(32323)" onMouseOut="lolite()" onClick="logVariable('displayregion')" href="../_variables/displayregion.html">$displayregion</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>)) {
<a name="l3711"><span class="linenum">3711</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('blocks_for_region')" href="../_functions/blocks_for_region.html" onMouseOver="funcPopup(event,'blocks_for_region')">blocks_for_region</a>(<a class="var it32323" onMouseOver="hilite(32323)" onMouseOut="lolite()" onClick="logVariable('displayregion')" href="../_variables/displayregion.html">$displayregion</a>);
<a name="l3712"><span class="linenum">3712</span></a>          } else {
<a name="l3713"><span class="linenum">3713</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = '';
<a name="l3714"><span class="linenum">3714</span></a>          }
<a name="l3715"><span class="linenum">3715</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>(<a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>, <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l3716"><span class="linenum">3716</span></a>      }
<a name="l3717"><span class="linenum">3717</span></a>  
<a name="l3718"><span class="linenum">3718</span></a>      <span class="comment">/**</span>
<a name="l3719"><span class="linenum">3719</span></a>  <span class="comment">     * Renders a custom block region.</span>
<a name="l3720"><span class="linenum">3720</span></a>  <span class="comment">     *</span>
<a name="l3721"><span class="linenum">3721</span></a>  <span class="comment">     * Use this method if you want to add an additional block region to the content of the page.</span>
<a name="l3722"><span class="linenum">3722</span></a>  <span class="comment">     * Please note this should only be used in special situations.</span>
<a name="l3723"><span class="linenum">3723</span></a>  <span class="comment">     * We want to leave the theme is control where ever possible!</span>
<a name="l3724"><span class="linenum">3724</span></a>  <span class="comment">     *</span>
<a name="l3725"><span class="linenum">3725</span></a>  <span class="comment">     * This method must use the same method that the theme uses within its layout file.</span>
<a name="l3726"><span class="linenum">3726</span></a>  <span class="comment">     * As such it asks the theme what method it is using.</span>
<a name="l3727"><span class="linenum">3727</span></a>  <span class="comment">     * It can be one of two values, blocks or blocks_for_region (deprecated).</span>
<a name="l3728"><span class="linenum">3728</span></a>  <span class="comment">     *</span>
<a name="l3729"><span class="linenum">3729</span></a>  <span class="comment">     * @param string $regionname The name of the custom region to add.</span>
<a name="l3730"><span class="linenum">3730</span></a>  <span class="comment">     * @return string HTML for the block region.</span>
<a name="l3731"><span class="linenum">3731</span></a>  <span class="comment">     */</span>
<a name="l3732"><span class="linenum">3732</span></a>      public function <a class="function" onClick="logFunction('custom_block_region')" href="../_functions/custom_block_region.html" onMouseOver="funcPopup(event,'custom_block_region')">custom_block_region</a>(<a class="var it14998" onMouseOver="hilite(14998)" onMouseOut="lolite()" onClick="logVariable('regionname')" href="../_variables/regionname.html">$regionname</a>) {
<a name="l3733"><span class="linenum">3733</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;theme-&gt;<a class="function" onClick="logFunction('get_block_render_method')" href="../_functions/get_block_render_method.html" onMouseOver="funcPopup(event,'get_block_render_method')">get_block_render_method</a>() === 'blocks') {
<a name="l3734"><span class="linenum">3734</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('blocks')" href="../_functions/blocks.html" onMouseOver="funcPopup(event,'blocks')">blocks</a>(<a class="var it14998" onMouseOver="hilite(14998)" onMouseOut="lolite()" onClick="logVariable('regionname')" href="../_variables/regionname.html">$regionname</a>);
<a name="l3735"><span class="linenum">3735</span></a>          } else {
<a name="l3736"><span class="linenum">3736</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('blocks_for_region')" href="../_functions/blocks_for_region.html" onMouseOver="funcPopup(event,'blocks_for_region')">blocks_for_region</a>(<a class="var it14998" onMouseOver="hilite(14998)" onMouseOut="lolite()" onClick="logVariable('regionname')" href="../_variables/regionname.html">$regionname</a>);
<a name="l3737"><span class="linenum">3737</span></a>          }
<a name="l3738"><span class="linenum">3738</span></a>      }
<a name="l3739"><span class="linenum">3739</span></a>  
<a name="l3740"><span class="linenum">3740</span></a>      <span class="comment">/**</span>
<a name="l3741"><span class="linenum">3741</span></a>  <span class="comment">     * Returns the CSS classes to apply to the body tag.</span>
<a name="l3742"><span class="linenum">3742</span></a>  <span class="comment">     *</span>
<a name="l3743"><span class="linenum">3743</span></a>  <span class="comment">     * @since Moodle 2.5.1 2.6</span>
<a name="l3744"><span class="linenum">3744</span></a>  <span class="comment">     * @param array $additionalclasses Any additional classes to apply.</span>
<a name="l3745"><span class="linenum">3745</span></a>  <span class="comment">     * @return string</span>
<a name="l3746"><span class="linenum">3746</span></a>  <span class="comment">     */</span>
<a name="l3747"><span class="linenum">3747</span></a>      public function <a class="function" onClick="logFunction('body_css_classes')" href="../_functions/body_css_classes.html" onMouseOver="funcPopup(event,'body_css_classes')">body_css_classes</a>(array <a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a> = array()) {
<a name="l3748"><span class="linenum">3748</span></a>  <span class="comment">        // Add a class for each block region on the page.</span>
<a name="l3749"><span class="linenum">3749</span></a>  <span class="comment">        // We use the block manager here because the theme object makes get_string calls.</span>
<a name="l3750"><span class="linenum">3750</span></a>          <a class="var it32324" onMouseOver="hilite(32324)" onMouseOut="lolite()" onClick="logVariable('usedregions')" href="../_variables/usedregions.html">$usedregions</a> = array();
<a name="l3751"><span class="linenum">3751</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;blocks-&gt;<a class="function" onClick="logFunction('get_regions')" href="../_functions/get_regions.html" onMouseOver="funcPopup(event,'get_regions')">get_regions</a>() as <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>) {
<a name="l3752"><span class="linenum">3752</span></a>              <a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a>[] = 'has-region-'.<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>;
<a name="l3753"><span class="linenum">3753</span></a>              if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;blocks-&gt;<a class="function" onClick="logFunction('region_has_content')" href="../_functions/region_has_content.html" onMouseOver="funcPopup(event,'region_has_content')">region_has_content</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>)) {
<a name="l3754"><span class="linenum">3754</span></a>                  <a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a>[] = 'used-region-'.<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>;
<a name="l3755"><span class="linenum">3755</span></a>                  <a class="var it32324" onMouseOver="hilite(32324)" onMouseOut="lolite()" onClick="logVariable('usedregions')" href="../_variables/usedregions.html">$usedregions</a>[] = <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>;
<a name="l3756"><span class="linenum">3756</span></a>              } else {
<a name="l3757"><span class="linenum">3757</span></a>                  <a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a>[] = 'empty-region-'.<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>;
<a name="l3758"><span class="linenum">3758</span></a>              }
<a name="l3759"><span class="linenum">3759</span></a>              if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;blocks-&gt;<a class="function" onClick="logFunction('region_completely_docked')" href="../_functions/region_completely_docked.html" onMouseOver="funcPopup(event,'region_completely_docked')">region_completely_docked</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>)) {
<a name="l3760"><span class="linenum">3760</span></a>                  <a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a>[] = 'docked-region-'.<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>;
<a name="l3761"><span class="linenum">3761</span></a>              }
<a name="l3762"><span class="linenum">3762</span></a>          }
<a name="l3763"><span class="linenum">3763</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it32324" onMouseOver="hilite(32324)" onMouseOut="lolite()" onClick="logVariable('usedregions')" href="../_variables/usedregions.html">$usedregions</a>) === 1) {
<a name="l3764"><span class="linenum">3764</span></a>  <span class="comment">            // Add the -only class for the only used region.</span>
<a name="l3765"><span class="linenum">3765</span></a>              <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it32324" onMouseOver="hilite(32324)" onMouseOut="lolite()" onClick="logVariable('usedregions')" href="../_variables/usedregions.html">$usedregions</a>);
<a name="l3766"><span class="linenum">3766</span></a>              <a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a>[] = <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a> . '-only';
<a name="l3767"><span class="linenum">3767</span></a>          }
<a name="l3768"><span class="linenum">3768</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;layout_options as <a class="var it38" onMouseOver="hilite(38)" onMouseOut="lolite()" onClick="logVariable('option')" href="../_variables/option.html">$option</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l3769"><span class="linenum">3769</span></a>              if (<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l3770"><span class="linenum">3770</span></a>                  <a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a>[] = 'layout-option-'.<a class="var it38" onMouseOver="hilite(38)" onMouseOut="lolite()" onClick="logVariable('option')" href="../_variables/option.html">$option</a>;
<a name="l3771"><span class="linenum">3771</span></a>              }
<a name="l3772"><span class="linenum">3772</span></a>          }
<a name="l3773"><span class="linenum">3773</span></a>          <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('css')" href="../_variables/css.html">$css</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;bodyclasses .' '. <a class="function" onClick="logFunction('join')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(' ', <a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a>);
<a name="l3774"><span class="linenum">3774</span></a>          return <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('css')" href="../_variables/css.html">$css</a>;
<a name="l3775"><span class="linenum">3775</span></a>      }
<a name="l3776"><span class="linenum">3776</span></a>  
<a name="l3777"><span class="linenum">3777</span></a>      <span class="comment">/**</span>
<a name="l3778"><span class="linenum">3778</span></a>  <span class="comment">     * The ID attribute to apply to the body tag.</span>
<a name="l3779"><span class="linenum">3779</span></a>  <span class="comment">     *</span>
<a name="l3780"><span class="linenum">3780</span></a>  <span class="comment">     * @since Moodle 2.5.1 2.6</span>
<a name="l3781"><span class="linenum">3781</span></a>  <span class="comment">     * @return string</span>
<a name="l3782"><span class="linenum">3782</span></a>  <span class="comment">     */</span>
<a name="l3783"><span class="linenum">3783</span></a>      public function <a class="function" onClick="logFunction('body_id')" href="../_functions/body_id.html" onMouseOver="funcPopup(event,'body_id')">body_id</a>() {
<a name="l3784"><span class="linenum">3784</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;bodyid;
<a name="l3785"><span class="linenum">3785</span></a>      }
<a name="l3786"><span class="linenum">3786</span></a>  
<a name="l3787"><span class="linenum">3787</span></a>      <span class="comment">/**</span>
<a name="l3788"><span class="linenum">3788</span></a>  <span class="comment">     * Returns HTML attributes to use within the body tag. This includes an ID and classes.</span>
<a name="l3789"><span class="linenum">3789</span></a>  <span class="comment">     *</span>
<a name="l3790"><span class="linenum">3790</span></a>  <span class="comment">     * @since Moodle 2.5.1 2.6</span>
<a name="l3791"><span class="linenum">3791</span></a>  <span class="comment">     * @param string|array $additionalclasses Any additional classes to give the body tag,</span>
<a name="l3792"><span class="linenum">3792</span></a>  <span class="comment">     * @return string</span>
<a name="l3793"><span class="linenum">3793</span></a>  <span class="comment">     */</span>
<a name="l3794"><span class="linenum">3794</span></a>      public function <a class="function" onClick="logFunction('body_attributes')" href="../_functions/body_attributes.html" onMouseOver="funcPopup(event,'body_attributes')">body_attributes</a>(<a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a> = array()) {
<a name="l3795"><span class="linenum">3795</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a>)) {
<a name="l3796"><span class="linenum">3796</span></a>              <a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', <a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a>);
<a name="l3797"><span class="linenum">3797</span></a>          }
<a name="l3798"><span class="linenum">3798</span></a>          return ' id=&quot;'. <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('body_id')" href="../_functions/body_id.html" onMouseOver="funcPopup(event,'body_id')">body_id</a>().'&quot; class=&quot;'.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('body_css_classes')" href="../_functions/body_css_classes.html" onMouseOver="funcPopup(event,'body_css_classes')">body_css_classes</a>(<a class="var it7340" onMouseOver="hilite(7340)" onMouseOut="lolite()" onClick="logVariable('additionalclasses')" href="../_variables/additionalclasses.html">$additionalclasses</a>).'&quot;';
<a name="l3799"><span class="linenum">3799</span></a>      }
<a name="l3800"><span class="linenum">3800</span></a>  
<a name="l3801"><span class="linenum">3801</span></a>      <span class="comment">/**</span>
<a name="l3802"><span class="linenum">3802</span></a>  <span class="comment">     * Gets HTML for the page heading.</span>
<a name="l3803"><span class="linenum">3803</span></a>  <span class="comment">     *</span>
<a name="l3804"><span class="linenum">3804</span></a>  <span class="comment">     * @since Moodle 2.5.1 2.6</span>
<a name="l3805"><span class="linenum">3805</span></a>  <span class="comment">     * @param string $tag The tag to encase the heading in. h1 by default.</span>
<a name="l3806"><span class="linenum">3806</span></a>  <span class="comment">     * @return string HTML.</span>
<a name="l3807"><span class="linenum">3807</span></a>  <span class="comment">     */</span>
<a name="l3808"><span class="linenum">3808</span></a>      public function <a class="function" onClick="logFunction('page_heading')" href="../_functions/page_heading.html" onMouseOver="funcPopup(event,'page_heading')">page_heading</a>(<a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = 'h1') {
<a name="l3809"><span class="linenum">3809</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>(<a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;heading);
<a name="l3810"><span class="linenum">3810</span></a>      }
<a name="l3811"><span class="linenum">3811</span></a>  
<a name="l3812"><span class="linenum">3812</span></a>      <span class="comment">/**</span>
<a name="l3813"><span class="linenum">3813</span></a>  <span class="comment">     * Gets the HTML for the page heading button.</span>
<a name="l3814"><span class="linenum">3814</span></a>  <span class="comment">     *</span>
<a name="l3815"><span class="linenum">3815</span></a>  <span class="comment">     * @since Moodle 2.5.1 2.6</span>
<a name="l3816"><span class="linenum">3816</span></a>  <span class="comment">     * @return string HTML.</span>
<a name="l3817"><span class="linenum">3817</span></a>  <span class="comment">     */</span>
<a name="l3818"><span class="linenum">3818</span></a>      public function <a class="function" onClick="logFunction('page_heading_button')" href="../_functions/page_heading_button.html" onMouseOver="funcPopup(event,'page_heading_button')">page_heading_button</a>() {
<a name="l3819"><span class="linenum">3819</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;button;
<a name="l3820"><span class="linenum">3820</span></a>      }
<a name="l3821"><span class="linenum">3821</span></a>  
<a name="l3822"><span class="linenum">3822</span></a>      <span class="comment">/**</span>
<a name="l3823"><span class="linenum">3823</span></a>  <span class="comment">     * Returns the Moodle docs link to use for this page.</span>
<a name="l3824"><span class="linenum">3824</span></a>  <span class="comment">     *</span>
<a name="l3825"><span class="linenum">3825</span></a>  <span class="comment">     * @since Moodle 2.5.1 2.6</span>
<a name="l3826"><span class="linenum">3826</span></a>  <span class="comment">     * @param string $text</span>
<a name="l3827"><span class="linenum">3827</span></a>  <span class="comment">     * @return string</span>
<a name="l3828"><span class="linenum">3828</span></a>  <span class="comment">     */</span>
<a name="l3829"><span class="linenum">3829</span></a>      public function <a class="function" onClick="logFunction('page_doc_link')" href="../_functions/page_doc_link.html" onMouseOver="funcPopup(event,'page_doc_link')">page_doc_link</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = null) {
<a name="l3830"><span class="linenum">3830</span></a>          if (<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> === null) {
<a name="l3831"><span class="linenum">3831</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('moodledocslink');
<a name="l3832"><span class="linenum">3832</span></a>          }
<a name="l3833"><span class="linenum">3833</span></a>          <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = <a class="function" onClick="logFunction('page_get_doc_link_path')" href="../_functions/page_get_doc_link_path.html" onMouseOver="funcPopup(event,'page_get_doc_link_path')">page_get_doc_link_path</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>);
<a name="l3834"><span class="linenum">3834</span></a>          if (!<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>) {
<a name="l3835"><span class="linenum">3835</span></a>              return '';
<a name="l3836"><span class="linenum">3836</span></a>          }
<a name="l3837"><span class="linenum">3837</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('doc_link')" href="../_functions/doc_link.html" onMouseOver="funcPopup(event,'doc_link')">doc_link</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l3838"><span class="linenum">3838</span></a>      }
<a name="l3839"><span class="linenum">3839</span></a>  
<a name="l3840"><span class="linenum">3840</span></a>      <span class="comment">/**</span>
<a name="l3841"><span class="linenum">3841</span></a>  <span class="comment">     * Returns the page heading menu.</span>
<a name="l3842"><span class="linenum">3842</span></a>  <span class="comment">     *</span>
<a name="l3843"><span class="linenum">3843</span></a>  <span class="comment">     * @since Moodle 2.5.1 2.6</span>
<a name="l3844"><span class="linenum">3844</span></a>  <span class="comment">     * @return string HTML.</span>
<a name="l3845"><span class="linenum">3845</span></a>  <span class="comment">     */</span>
<a name="l3846"><span class="linenum">3846</span></a>      public function <a class="function" onClick="logFunction('page_heading_menu')" href="../_functions/page_heading_menu.html" onMouseOver="funcPopup(event,'page_heading_menu')">page_heading_menu</a>() {
<a name="l3847"><span class="linenum">3847</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;headingmenu;
<a name="l3848"><span class="linenum">3848</span></a>      }
<a name="l3849"><span class="linenum">3849</span></a>  
<a name="l3850"><span class="linenum">3850</span></a>      <span class="comment">/**</span>
<a name="l3851"><span class="linenum">3851</span></a>  <span class="comment">     * Returns the title to use on the page.</span>
<a name="l3852"><span class="linenum">3852</span></a>  <span class="comment">     *</span>
<a name="l3853"><span class="linenum">3853</span></a>  <span class="comment">     * @since Moodle 2.5.1 2.6</span>
<a name="l3854"><span class="linenum">3854</span></a>  <span class="comment">     * @return string</span>
<a name="l3855"><span class="linenum">3855</span></a>  <span class="comment">     */</span>
<a name="l3856"><span class="linenum">3856</span></a>      public function <a class="function" onClick="logFunction('page_title')" href="../_functions/page_title.html" onMouseOver="funcPopup(event,'page_title')">page_title</a>() {
<a name="l3857"><span class="linenum">3857</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;title;
<a name="l3858"><span class="linenum">3858</span></a>      }
<a name="l3859"><span class="linenum">3859</span></a>  
<a name="l3860"><span class="linenum">3860</span></a>      <span class="comment">/**</span>
<a name="l3861"><span class="linenum">3861</span></a>  <span class="comment">     * Returns the URL for the favicon.</span>
<a name="l3862"><span class="linenum">3862</span></a>  <span class="comment">     *</span>
<a name="l3863"><span class="linenum">3863</span></a>  <span class="comment">     * @since Moodle 2.5.1 2.6</span>
<a name="l3864"><span class="linenum">3864</span></a>  <span class="comment">     * @return string The favicon URL</span>
<a name="l3865"><span class="linenum">3865</span></a>  <span class="comment">     */</span>
<a name="l3866"><span class="linenum">3866</span></a>      public function <a class="function" onClick="logFunction('favicon')" href="../_functions/favicon.html" onMouseOver="funcPopup(event,'favicon')">favicon</a>() {
<a name="l3867"><span class="linenum">3867</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('favicon', 'theme');
<a name="l3868"><span class="linenum">3868</span></a>      }
<a name="l3869"><span class="linenum">3869</span></a>  
<a name="l3870"><span class="linenum">3870</span></a>      <span class="comment">/**</span>
<a name="l3871"><span class="linenum">3871</span></a>  <span class="comment">     * Renders preferences groups.</span>
<a name="l3872"><span class="linenum">3872</span></a>  <span class="comment">     *</span>
<a name="l3873"><span class="linenum">3873</span></a>  <span class="comment">     * @param  preferences_groups $renderable The renderable</span>
<a name="l3874"><span class="linenum">3874</span></a>  <span class="comment">     * @return string The output.</span>
<a name="l3875"><span class="linenum">3875</span></a>  <span class="comment">     */</span>
<a name="l3876"><span class="linenum">3876</span></a>      public function <a class="function" onClick="logFunction('render_preferences_groups')" href="../_functions/render_preferences_groups.html" onMouseOver="funcPopup(event,'render_preferences_groups')">render_preferences_groups</a>(preferences_groups <a class="var it5832" onMouseOver="hilite(5832)" onMouseOut="lolite()" onClick="logVariable('renderable')" href="../_variables/renderable.html">$renderable</a>) {
<a name="l3877"><span class="linenum">3877</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> = '';
<a name="l3878"><span class="linenum">3878</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('row-fluid');
<a name="l3879"><span class="linenum">3879</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'span12 preferences-groups'));
<a name="l3880"><span class="linenum">3880</span></a>          <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> = 0;
<a name="l3881"><span class="linenum">3881</span></a>          <a class="var it12898" onMouseOver="hilite(12898)" onMouseOut="lolite()" onClick="logVariable('open')" href="../_variables/open.html">$open</a> = false;
<a name="l3882"><span class="linenum">3882</span></a>          foreach (<a class="var it5832" onMouseOver="hilite(5832)" onMouseOut="lolite()" onClick="logVariable('renderable')" href="../_variables/renderable.html">$renderable</a>-&gt;<a onClick="logVariable('groups')" class="var it41111" onMouseOver="hilite(41111)" onMouseOut="lolite()" href="../_variables/groups.html">groups</a> as <a class="var it4136" onMouseOver="hilite(4136)" onMouseOut="lolite()" onClick="logVariable('group')" href="../_variables/group.html">$group</a>) {
<a name="l3883"><span class="linenum">3883</span></a>              if (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> == 0 || <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> % 3 == 0) {
<a name="l3884"><span class="linenum">3884</span></a>                  if (<a class="var it12898" onMouseOver="hilite(12898)" onMouseOut="lolite()" onClick="logVariable('open')" href="../_variables/open.html">$open</a>) {
<a name="l3885"><span class="linenum">3885</span></a>                      <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l3886"><span class="linenum">3886</span></a>                  }
<a name="l3887"><span class="linenum">3887</span></a>                  <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'row-fluid'));
<a name="l3888"><span class="linenum">3888</span></a>                  <a class="var it12898" onMouseOver="hilite(12898)" onMouseOut="lolite()" onClick="logVariable('open')" href="../_variables/open.html">$open</a> = true;
<a name="l3889"><span class="linenum">3889</span></a>              }
<a name="l3890"><span class="linenum">3890</span></a>              <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it4136" onMouseOver="hilite(4136)" onMouseOut="lolite()" onClick="logVariable('group')" href="../_variables/group.html">$group</a>);
<a name="l3891"><span class="linenum">3891</span></a>              <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>++;
<a name="l3892"><span class="linenum">3892</span></a>          }
<a name="l3893"><span class="linenum">3893</span></a>  
<a name="l3894"><span class="linenum">3894</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l3895"><span class="linenum">3895</span></a>  
<a name="l3896"><span class="linenum">3896</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('ul');
<a name="l3897"><span class="linenum">3897</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l3898"><span class="linenum">3898</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>();
<a name="l3899"><span class="linenum">3899</span></a>          return <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>;
<a name="l3900"><span class="linenum">3900</span></a>      }
<a name="l3901"><span class="linenum">3901</span></a>  
<a name="l3902"><span class="linenum">3902</span></a>      <span class="comment">/**</span>
<a name="l3903"><span class="linenum">3903</span></a>  <span class="comment">     * Renders preferences group.</span>
<a name="l3904"><span class="linenum">3904</span></a>  <span class="comment">     *</span>
<a name="l3905"><span class="linenum">3905</span></a>  <span class="comment">     * @param  preferences_group $renderable The renderable</span>
<a name="l3906"><span class="linenum">3906</span></a>  <span class="comment">     * @return string The output.</span>
<a name="l3907"><span class="linenum">3907</span></a>  <span class="comment">     */</span>
<a name="l3908"><span class="linenum">3908</span></a>      public function <a class="function" onClick="logFunction('render_preferences_group')" href="../_functions/render_preferences_group.html" onMouseOver="funcPopup(event,'render_preferences_group')">render_preferences_group</a>(preferences_group <a class="var it5832" onMouseOver="hilite(5832)" onMouseOut="lolite()" onClick="logVariable('renderable')" href="../_variables/renderable.html">$renderable</a>) {
<a name="l3909"><span class="linenum">3909</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> = '';
<a name="l3910"><span class="linenum">3910</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'span4 preferences-group'));
<a name="l3911"><span class="linenum">3911</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="var it5832" onMouseOver="hilite(5832)" onMouseOut="lolite()" onClick="logVariable('renderable')" href="../_variables/renderable.html">$renderable</a>-&gt;<a onClick="logVariable('title')" class="var it41111" onMouseOver="hilite(41111)" onMouseOut="lolite()" href="../_variables/title.html">title</a>, 3);
<a name="l3912"><span class="linenum">3912</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('ul');
<a name="l3913"><span class="linenum">3913</span></a>          foreach (<a class="var it5832" onMouseOver="hilite(5832)" onMouseOut="lolite()" onClick="logVariable('renderable')" href="../_variables/renderable.html">$renderable</a>-&gt;<a onClick="logVariable('nodes')" class="var it41111" onMouseOver="hilite(41111)" onMouseOut="lolite()" href="../_variables/nodes.html">nodes</a> as <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('node')" href="../_variables/node.html">$node</a>) {
<a name="l3914"><span class="linenum">3914</span></a>              if (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('node')" href="../_variables/node.html">$node</a>-&gt;<a class="function" onClick="logFunction('has_children')" href="../_functions/has_children.html" onMouseOver="funcPopup(event,'has_children')">has_children</a>()) {
<a name="l3915"><span class="linenum">3915</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Preferences nodes do not support children', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3916"><span class="linenum">3916</span></a>              }
<a name="l3917"><span class="linenum">3917</span></a>              <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('li', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('node')" href="../_variables/node.html">$node</a>));
<a name="l3918"><span class="linenum">3918</span></a>          }
<a name="l3919"><span class="linenum">3919</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('ul');
<a name="l3920"><span class="linenum">3920</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l3921"><span class="linenum">3921</span></a>          return <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>;
<a name="l3922"><span class="linenum">3922</span></a>      }
<a name="l3923"><span class="linenum">3923</span></a>  
<a name="l3924"><span class="linenum">3924</span></a>      <span class="comment">/**</span>
<a name="l3925"><span class="linenum">3925</span></a>  <span class="comment">     * Returns the header bar.</span>
<a name="l3926"><span class="linenum">3926</span></a>  <span class="comment">     *</span>
<a name="l3927"><span class="linenum">3927</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l3928"><span class="linenum">3928</span></a>  <span class="comment">     * @param array $headerinfo An array of header information, dependant on what type of header is being displayed. The following</span>
<a name="l3929"><span class="linenum">3929</span></a>  <span class="comment">     *                          array example is user specific.</span>
<a name="l3930"><span class="linenum">3930</span></a>  <span class="comment">     *                          heading =&gt; Override the page heading.</span>
<a name="l3931"><span class="linenum">3931</span></a>  <span class="comment">     *                          user =&gt; User object.</span>
<a name="l3932"><span class="linenum">3932</span></a>  <span class="comment">     *                          usercontext =&gt; user context.</span>
<a name="l3933"><span class="linenum">3933</span></a>  <span class="comment">     * @param int $headinglevel What level the 'h' tag will be.</span>
<a name="l3934"><span class="linenum">3934</span></a>  <span class="comment">     * @return string HTML for the header bar.</span>
<a name="l3935"><span class="linenum">3935</span></a>  <span class="comment">     */</span>
<a name="l3936"><span class="linenum">3936</span></a>      public function <a class="function" onClick="logFunction('context_header')" href="../_functions/context_header.html" onMouseOver="funcPopup(event,'context_header')">context_header</a>(<a class="var it11159" onMouseOver="hilite(11159)" onMouseOut="lolite()" onClick="logVariable('headerinfo')" href="../_variables/headerinfo.html">$headerinfo</a> = null, <a class="var it16784" onMouseOver="hilite(16784)" onMouseOut="lolite()" onClick="logVariable('headinglevel')" href="../_variables/headinglevel.html">$headinglevel</a> = 1) {
<a name="l3937"><span class="linenum">3937</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l3938"><span class="linenum">3938</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;context;
<a name="l3939"><span class="linenum">3939</span></a>  <span class="comment">        // Make sure to use the heading if it has been set.</span>
<a name="l3940"><span class="linenum">3940</span></a>          if (isset(<a class="var it11159" onMouseOver="hilite(11159)" onMouseOut="lolite()" onClick="logVariable('headerinfo')" href="../_variables/headerinfo.html">$headerinfo</a>['heading'])) {
<a name="l3941"><span class="linenum">3941</span></a>              <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a> = <a class="var it11159" onMouseOver="hilite(11159)" onMouseOut="lolite()" onClick="logVariable('headerinfo')" href="../_variables/headerinfo.html">$headerinfo</a>['heading'];
<a name="l3942"><span class="linenum">3942</span></a>          } else {
<a name="l3943"><span class="linenum">3943</span></a>              <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a> = null;
<a name="l3944"><span class="linenum">3944</span></a>          }
<a name="l3945"><span class="linenum">3945</span></a>          <a class="var it17303" onMouseOver="hilite(17303)" onMouseOut="lolite()" onClick="logVariable('imagedata')" href="../_variables/imagedata.html">$imagedata</a> = null;
<a name="l3946"><span class="linenum">3946</span></a>          <a class="var it32325" onMouseOver="hilite(32325)" onMouseOut="lolite()" onClick="logVariable('subheader')" href="../_variables/subheader.html">$subheader</a> = null;
<a name="l3947"><span class="linenum">3947</span></a>          <a class="var it32326" onMouseOver="hilite(32326)" onMouseOut="lolite()" onClick="logVariable('userbuttons')" href="../_variables/userbuttons.html">$userbuttons</a> = null;
<a name="l3948"><span class="linenum">3948</span></a>  <span class="comment">        // The user context currently has images and buttons. Other contexts may follow.</span>
<a name="l3949"><span class="linenum">3949</span></a>          if (isset(<a class="var it11159" onMouseOver="hilite(11159)" onMouseOut="lolite()" onClick="logVariable('headerinfo')" href="../_variables/headerinfo.html">$headerinfo</a>['user']) || <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> == <a class="constant" onClick="logConstant('CONTEXT_USER')" href="../_constants/CONTEXT_USER.html" onMouseOver="constPopup(event,'CONTEXT_USER')">CONTEXT_USER</a>) {
<a name="l3950"><span class="linenum">3950</span></a>              if (isset(<a class="var it11159" onMouseOver="hilite(11159)" onMouseOut="lolite()" onClick="logVariable('headerinfo')" href="../_variables/headerinfo.html">$headerinfo</a>['user'])) {
<a name="l3951"><span class="linenum">3951</span></a>                  <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it11159" onMouseOver="hilite(11159)" onMouseOut="lolite()" onClick="logVariable('headerinfo')" href="../_variables/headerinfo.html">$headerinfo</a>['user'];
<a name="l3952"><span class="linenum">3952</span></a>              } else {
<a name="l3953"><span class="linenum">3953</span></a>  <span class="comment">                // Look up the user information if it is not supplied.</span>
<a name="l3954"><span class="linenum">3954</span></a>                  <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('id' =&gt; <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('instanceid')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a>));
<a name="l3955"><span class="linenum">3955</span></a>              }
<a name="l3956"><span class="linenum">3956</span></a>  <span class="comment">            // If the user context is set, then use that for capability checks.</span>
<a name="l3957"><span class="linenum">3957</span></a>              if (isset(<a class="var it11159" onMouseOver="hilite(11159)" onMouseOut="lolite()" onClick="logVariable('headerinfo')" href="../_variables/headerinfo.html">$headerinfo</a>['usercontext'])) {
<a name="l3958"><span class="linenum">3958</span></a>                  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="var it11159" onMouseOver="hilite(11159)" onMouseOut="lolite()" onClick="logVariable('headerinfo')" href="../_variables/headerinfo.html">$headerinfo</a>['usercontext'];
<a name="l3959"><span class="linenum">3959</span></a>              }
<a name="l3960"><span class="linenum">3960</span></a>  <span class="comment">            // Use the user's full name if the heading isn't set.</span>
<a name="l3961"><span class="linenum">3961</span></a>              if (!isset(<a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>)) {
<a name="l3962"><span class="linenum">3962</span></a>                  <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a> = <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l3963"><span class="linenum">3963</span></a>              }
<a name="l3964"><span class="linenum">3964</span></a>  
<a name="l3965"><span class="linenum">3965</span></a>              <a class="var it17303" onMouseOver="hilite(17303)" onMouseOut="lolite()" onClick="logVariable('imagedata')" href="../_variables/imagedata.html">$imagedata</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('user_picture')" href="../_functions/user_picture.html" onMouseOver="funcPopup(event,'user_picture')">user_picture</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, array('size' =&gt; 100));
<a name="l3966"><span class="linenum">3966</span></a>  <span class="comment">            // Check to see if we should be displaying a message button.</span>
<a name="l3967"><span class="linenum">3967</span></a>              if (<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a> != <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a> &amp;&amp; <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:sendmessage', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l3968"><span class="linenum">3968</span></a>                  <a class="var it32326" onMouseOver="hilite(32326)" onMouseOut="lolite()" onClick="logVariable('userbuttons')" href="../_variables/userbuttons.html">$userbuttons</a> = array(
<a name="l3969"><span class="linenum">3969</span></a>                      'messages' =&gt; array(
<a name="l3970"><span class="linenum">3970</span></a>                          'buttontype' =&gt; 'message',
<a name="l3971"><span class="linenum">3971</span></a>                          'title' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('message', 'message'),
<a name="l3972"><span class="linenum">3972</span></a>                          'url' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../message/index.php.html">/message/index.php</a>', array('id' =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)),
<a name="l3973"><span class="linenum">3973</span></a>                          'image' =&gt; 'message',
<a name="l3974"><span class="linenum">3974</span></a>                          'linkattributes' =&gt; <a class="function" onClick="logFunction('message_messenger_sendmessage_link_params')" href="../_functions/message_messenger_sendmessage_link_params.html" onMouseOver="funcPopup(event,'message_messenger_sendmessage_link_params')">message_messenger_sendmessage_link_params</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>),
<a name="l3975"><span class="linenum">3975</span></a>                          'page' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;page
<a name="l3976"><span class="linenum">3976</span></a>                      )
<a name="l3977"><span class="linenum">3977</span></a>                  );
<a name="l3978"><span class="linenum">3978</span></a>              }
<a name="l3979"><span class="linenum">3979</span></a>          }
<a name="l3980"><span class="linenum">3980</span></a>  
<a name="l3981"><span class="linenum">3981</span></a>          <a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a> = <span class="keyword">new </span><a class="class" onClick="logClass('context_header')" href="../_classes/context_header.html" onMouseOver="classPopup(event,'context_header')">context_header</a>(<a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>, <a class="var it16784" onMouseOver="hilite(16784)" onMouseOut="lolite()" onClick="logVariable('headinglevel')" href="../_variables/headinglevel.html">$headinglevel</a>, <a class="var it17303" onMouseOver="hilite(17303)" onMouseOut="lolite()" onClick="logVariable('imagedata')" href="../_variables/imagedata.html">$imagedata</a>, <a class="var it32326" onMouseOver="hilite(32326)" onMouseOut="lolite()" onClick="logVariable('userbuttons')" href="../_variables/userbuttons.html">$userbuttons</a>);
<a name="l3982"><span class="linenum">3982</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render_context_header')" href="../_functions/render_context_header.html" onMouseOver="funcPopup(event,'render_context_header')">render_context_header</a>(<a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a>);
<a name="l3983"><span class="linenum">3983</span></a>      }
<a name="l3984"><span class="linenum">3984</span></a>  
<a name="l3985"><span class="linenum">3985</span></a>       <span class="comment">/**</span>
<a name="l3986"><span class="linenum">3986</span></a>  <span class="comment">      * Renders the header bar.</span>
<a name="l3987"><span class="linenum">3987</span></a>  <span class="comment">      *</span>
<a name="l3988"><span class="linenum">3988</span></a>  <span class="comment">      * @param context_header $contextheader Header bar object.</span>
<a name="l3989"><span class="linenum">3989</span></a>  <span class="comment">      * @return string HTML for the header bar.</span>
<a name="l3990"><span class="linenum">3990</span></a>  <span class="comment">      */</span>
<a name="l3991"><span class="linenum">3991</span></a>      protected function <a class="function" onClick="logFunction('render_context_header')" href="../_functions/render_context_header.html" onMouseOver="funcPopup(event,'render_context_header')">render_context_header</a>(context_header <a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a>) {
<a name="l3992"><span class="linenum">3992</span></a>  
<a name="l3993"><span class="linenum">3993</span></a>  <span class="comment">        // All the html stuff goes here.</span>
<a name="l3994"><span class="linenum">3994</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('page-context-header');
<a name="l3995"><span class="linenum">3995</span></a>  
<a name="l3996"><span class="linenum">3996</span></a>  <span class="comment">        // Image data.</span>
<a name="l3997"><span class="linenum">3997</span></a>          if (isset(<a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a>-&gt;<a onClick="logVariable('imagedata')" class="var it41112" onMouseOver="hilite(41112)" onMouseOut="lolite()" href="../_variables/imagedata.html">imagedata</a>)) {
<a name="l3998"><span class="linenum">3998</span></a>  <span class="comment">            // Header specific image.</span>
<a name="l3999"><span class="linenum">3999</span></a>              <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a>-&gt;<a onClick="logVariable('imagedata')" class="var it41112" onMouseOver="hilite(41112)" onMouseOut="lolite()" href="../_variables/imagedata.html">imagedata</a>, 'page-header-image');
<a name="l4000"><span class="linenum">4000</span></a>          }
<a name="l4001"><span class="linenum">4001</span></a>  
<a name="l4002"><span class="linenum">4002</span></a>  <span class="comment">        // Headings.</span>
<a name="l4003"><span class="linenum">4003</span></a>          if (!isset(<a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a>-&gt;<a onClick="logVariable('heading')" class="var it41112" onMouseOver="hilite(41112)" onMouseOut="lolite()" href="../_variables/heading.html">heading</a>)) {
<a name="l4004"><span class="linenum">4004</span></a>              <a class="var it5184" onMouseOver="hilite(5184)" onMouseOut="lolite()" onClick="logVariable('headings')" href="../_variables/headings.html">$headings</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;heading, <a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a>-&gt;<a onClick="logVariable('headinglevel')" class="var it41112" onMouseOver="hilite(41112)" onMouseOut="lolite()" href="../_variables/headinglevel.html">headinglevel</a>);
<a name="l4005"><span class="linenum">4005</span></a>          } else {
<a name="l4006"><span class="linenum">4006</span></a>              <a class="var it5184" onMouseOver="hilite(5184)" onMouseOut="lolite()" onClick="logVariable('headings')" href="../_variables/headings.html">$headings</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a>-&gt;<a onClick="logVariable('heading')" class="var it41112" onMouseOver="hilite(41112)" onMouseOut="lolite()" href="../_variables/heading.html">heading</a>, <a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a>-&gt;<a onClick="logVariable('headinglevel')" class="var it41112" onMouseOver="hilite(41112)" onMouseOut="lolite()" href="../_variables/headinglevel.html">headinglevel</a>);
<a name="l4007"><span class="linenum">4007</span></a>          }
<a name="l4008"><span class="linenum">4008</span></a>  
<a name="l4009"><span class="linenum">4009</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it5184" onMouseOver="hilite(5184)" onMouseOut="lolite()" onClick="logVariable('headings')" href="../_variables/headings.html">$headings</a>, array('class' =&gt; 'page-header-headings'));
<a name="l4010"><span class="linenum">4010</span></a>  
<a name="l4011"><span class="linenum">4011</span></a>  <span class="comment">        // Buttons.</span>
<a name="l4012"><span class="linenum">4012</span></a>          if (isset(<a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a>-&gt;<a onClick="logVariable('additionalbuttons')" class="var it41112" onMouseOver="hilite(41112)" onMouseOut="lolite()" href="../_variables/additionalbuttons.html">additionalbuttons</a>)) {
<a name="l4013"><span class="linenum">4013</span></a>              <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('btn-group header-button-group');
<a name="l4014"><span class="linenum">4014</span></a>              foreach (<a class="var it32327" onMouseOver="hilite(32327)" onMouseOut="lolite()" onClick="logVariable('contextheader')" href="../_variables/contextheader.html">$contextheader</a>-&gt;<a onClick="logVariable('additionalbuttons')" class="var it41112" onMouseOver="hilite(41112)" onMouseOut="lolite()" href="../_variables/additionalbuttons.html">additionalbuttons</a> as <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>) {
<a name="l4015"><span class="linenum">4015</span></a>                  if (!isset(<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>-&gt;<a onClick="logVariable('page')" class="var it39734" onMouseOver="hilite(39734)" onMouseOut="lolite()" href="../_variables/page.html">page</a>)) {
<a name="l4016"><span class="linenum">4016</span></a>  <span class="comment">                    // Include js for messaging.</span>
<a name="l4017"><span class="linenum">4017</span></a>                      if (<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>['buttontype'] === 'message') {
<a name="l4018"><span class="linenum">4018</span></a>                          <a class="function" onClick="logFunction('message_messenger_requirejs')" href="../_functions/message_messenger_requirejs.html" onMouseOver="funcPopup(event,'message_messenger_requirejs')">message_messenger_requirejs</a>();
<a name="l4019"><span class="linenum">4019</span></a>                      }
<a name="l4020"><span class="linenum">4020</span></a>                      <a class="var it1177" onMouseOver="hilite(1177)" onMouseOut="lolite()" onClick="logVariable('image')" href="../_variables/image.html">$image</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>(<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>['formattedimage'], <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>['title'], 'moodle', array(
<a name="l4021"><span class="linenum">4021</span></a>                          'class' =&gt; 'iconsmall',
<a name="l4022"><span class="linenum">4022</span></a>                          'role' =&gt; 'presentation'
<a name="l4023"><span class="linenum">4023</span></a>                      ));
<a name="l4024"><span class="linenum">4024</span></a>                      <a class="var it1177" onMouseOver="hilite(1177)" onMouseOut="lolite()" onClick="logVariable('image')" href="../_variables/image.html">$image</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>['title'], 'header-button-title');
<a name="l4025"><span class="linenum">4025</span></a>                  } else {
<a name="l4026"><span class="linenum">4026</span></a>                      <a class="var it1177" onMouseOver="hilite(1177)" onMouseOut="lolite()" onClick="logVariable('image')" href="../_variables/image.html">$image</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('img', array(
<a name="l4027"><span class="linenum">4027</span></a>                          'src' =&gt; <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>['formattedimage'],
<a name="l4028"><span class="linenum">4028</span></a>                          'role' =&gt; 'presentation'
<a name="l4029"><span class="linenum">4029</span></a>                      ));
<a name="l4030"><span class="linenum">4030</span></a>                  }
<a name="l4031"><span class="linenum">4031</span></a>                  <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>['url'], <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it1177" onMouseOver="hilite(1177)" onMouseOut="lolite()" onClick="logVariable('image')" href="../_variables/image.html">$image</a>), <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>['linkattributes']);
<a name="l4032"><span class="linenum">4032</span></a>              }
<a name="l4033"><span class="linenum">4033</span></a>              <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>();
<a name="l4034"><span class="linenum">4034</span></a>          }
<a name="l4035"><span class="linenum">4035</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>();
<a name="l4036"><span class="linenum">4036</span></a>  
<a name="l4037"><span class="linenum">4037</span></a>          return <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>;
<a name="l4038"><span class="linenum">4038</span></a>      }
<a name="l4039"><span class="linenum">4039</span></a>  
<a name="l4040"><span class="linenum">4040</span></a>      <span class="comment">/**</span>
<a name="l4041"><span class="linenum">4041</span></a>  <span class="comment">     * Wrapper for header elements.</span>
<a name="l4042"><span class="linenum">4042</span></a>  <span class="comment">     *</span>
<a name="l4043"><span class="linenum">4043</span></a>  <span class="comment">     * @return string HTML to display the main header.</span>
<a name="l4044"><span class="linenum">4044</span></a>  <span class="comment">     */</span>
<a name="l4045"><span class="linenum">4045</span></a>      public function <a class="function" onClick="logFunction('full_header')" href="../_functions/full_header.html" onMouseOver="funcPopup(event,'full_header')">full_header</a>() {
<a name="l4046"><span class="linenum">4046</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('header', array('id' =&gt; 'page-header', 'class' =&gt; 'clearfix'));
<a name="l4047"><span class="linenum">4047</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('context_header')" href="../_functions/context_header.html" onMouseOver="funcPopup(event,'context_header')">context_header</a>();
<a name="l4048"><span class="linenum">4048</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('clearfix', array('id' =&gt; 'page-navbar'));
<a name="l4049"><span class="linenum">4049</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('nav', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('navbar')" href="../_functions/navbar.html" onMouseOver="funcPopup(event,'navbar')">navbar</a>(), array('class' =&gt; 'breadcrumb-nav'));
<a name="l4050"><span class="linenum">4050</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('page_heading_button')" href="../_functions/page_heading_button.html" onMouseOver="funcPopup(event,'page_heading_button')">page_heading_button</a>(), 'breadcrumb-button');
<a name="l4051"><span class="linenum">4051</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>();
<a name="l4052"><span class="linenum">4052</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('course_header')" href="../_functions/course_header.html" onMouseOver="funcPopup(event,'course_header')">course_header</a>(), array('id' =&gt; 'course-header'));
<a name="l4053"><span class="linenum">4053</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('header');
<a name="l4054"><span class="linenum">4054</span></a>          return <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>;
<a name="l4055"><span class="linenum">4055</span></a>      }
<a name="l4056"><span class="linenum">4056</span></a>  }
<a name="l4057"><span class="linenum">4057</span></a>  
<a name="l4058"><span class="linenum">4058</span></a>  <span class="comment">/**</span>
<a name="l4059"><span class="linenum">4059</span></a>  <span class="comment"> * A renderer that generates output for command-line scripts.</span>
<a name="l4060"><span class="linenum">4060</span></a>  <span class="comment"> *</span>
<a name="l4061"><span class="linenum">4061</span></a>  <span class="comment"> * The implementation of this renderer is probably incomplete.</span>
<a name="l4062"><span class="linenum">4062</span></a>  <span class="comment"> *</span>
<a name="l4063"><span class="linenum">4063</span></a>  <span class="comment"> * @copyright 2009 Tim Hunt</span>
<a name="l4064"><span class="linenum">4064</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l4065"><span class="linenum">4065</span></a>  <span class="comment"> * @since Moodle 2.0</span>
<a name="l4066"><span class="linenum">4066</span></a>  <span class="comment"> * @package core</span>
<a name="l4067"><span class="linenum">4067</span></a>  <span class="comment"> * @category output</span>
<a name="l4068"><span class="linenum">4068</span></a>  <span class="comment"> */</span>
<a name="l4069"><span class="linenum">4069</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_renderer_cli')" href="../_classes/core_renderer_cli.html" onMouseOver="classPopup(event,'core_renderer_cli')">core_renderer_cli</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('core_renderer')" href="../_classes/core_renderer.html" onMouseOver="classPopup(event,'core_renderer')">core_renderer</a> {
<a name="l4070"><span class="linenum">4070</span></a>  
<a name="l4071"><span class="linenum">4071</span></a>      <span class="comment">/**</span>
<a name="l4072"><span class="linenum">4072</span></a>  <span class="comment">     * Returns the page header.</span>
<a name="l4073"><span class="linenum">4073</span></a>  <span class="comment">     *</span>
<a name="l4074"><span class="linenum">4074</span></a>  <span class="comment">     * @return string HTML fragment</span>
<a name="l4075"><span class="linenum">4075</span></a>  <span class="comment">     */</span>
<a name="l4076"><span class="linenum">4076</span></a>      public function <a class="function" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="funcPopup(event,'header')">header</a>() {
<a name="l4077"><span class="linenum">4077</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;heading . &quot;\n&quot;;
<a name="l4078"><span class="linenum">4078</span></a>      }
<a name="l4079"><span class="linenum">4079</span></a>  
<a name="l4080"><span class="linenum">4080</span></a>      <span class="comment">/**</span>
<a name="l4081"><span class="linenum">4081</span></a>  <span class="comment">     * Returns a template fragment representing a Heading.</span>
<a name="l4082"><span class="linenum">4082</span></a>  <span class="comment">     *</span>
<a name="l4083"><span class="linenum">4083</span></a>  <span class="comment">     * @param string $text The text of the heading</span>
<a name="l4084"><span class="linenum">4084</span></a>  <span class="comment">     * @param int $level The level of importance of the heading</span>
<a name="l4085"><span class="linenum">4085</span></a>  <span class="comment">     * @param string $classes A space-separated list of CSS classes</span>
<a name="l4086"><span class="linenum">4086</span></a>  <span class="comment">     * @param string $id An optional ID</span>
<a name="l4087"><span class="linenum">4087</span></a>  <span class="comment">     * @return string A template fragment for a heading</span>
<a name="l4088"><span class="linenum">4088</span></a>  <span class="comment">     */</span>
<a name="l4089"><span class="linenum">4089</span></a>      public function <a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = 2, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'main', <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = null) {
<a name="l4090"><span class="linenum">4090</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> .= &quot;\n&quot;;
<a name="l4091"><span class="linenum">4091</span></a>          switch (<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>) {
<a name="l4092"><span class="linenum">4092</span></a>              case 1:
<a name="l4093"><span class="linenum">4093</span></a>                  return '=&gt;' . <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>;
<a name="l4094"><span class="linenum">4094</span></a>              case 2:
<a name="l4095"><span class="linenum">4095</span></a>                  return '--&gt;' . <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>;
<a name="l4096"><span class="linenum">4096</span></a>              default:
<a name="l4097"><span class="linenum">4097</span></a>                  return <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>;
<a name="l4098"><span class="linenum">4098</span></a>          }
<a name="l4099"><span class="linenum">4099</span></a>      }
<a name="l4100"><span class="linenum">4100</span></a>  
<a name="l4101"><span class="linenum">4101</span></a>      <span class="comment">/**</span>
<a name="l4102"><span class="linenum">4102</span></a>  <span class="comment">     * Returns a template fragment representing a fatal error.</span>
<a name="l4103"><span class="linenum">4103</span></a>  <span class="comment">     *</span>
<a name="l4104"><span class="linenum">4104</span></a>  <span class="comment">     * @param string $message The message to output</span>
<a name="l4105"><span class="linenum">4105</span></a>  <span class="comment">     * @param string $moreinfourl URL where more info can be found about the error</span>
<a name="l4106"><span class="linenum">4106</span></a>  <span class="comment">     * @param string $link Link for the Continue button</span>
<a name="l4107"><span class="linenum">4107</span></a>  <span class="comment">     * @param array $backtrace The execution backtrace</span>
<a name="l4108"><span class="linenum">4108</span></a>  <span class="comment">     * @param string $debuginfo Debugging information</span>
<a name="l4109"><span class="linenum">4109</span></a>  <span class="comment">     * @return string A template fragment for a fatal error</span>
<a name="l4110"><span class="linenum">4110</span></a>  <span class="comment">     */</span>
<a name="l4111"><span class="linenum">4111</span></a>      public function <a class="function" onClick="logFunction('fatal_error')" href="../_functions/fatal_error.html" onMouseOver="funcPopup(event,'fatal_error')">fatal_error</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it32305" onMouseOver="hilite(32305)" onMouseOut="lolite()" onClick="logVariable('moreinfourl')" href="../_variables/moreinfourl.html">$moreinfourl</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = null) {
<a name="l4112"><span class="linenum">4112</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l4113"><span class="linenum">4113</span></a>  
<a name="l4114"><span class="linenum">4114</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = &quot;!!! <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> !!!\n&quot;;
<a name="l4115"><span class="linenum">4115</span></a>  
<a name="l4116"><span class="linenum">4116</span></a>          if (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debugdeveloper')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debugdeveloper.html">debugdeveloper</a>) {
<a name="l4117"><span class="linenum">4117</span></a>              if (!empty(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>)) {
<a name="l4118"><span class="linenum">4118</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>, 'notifytiny');
<a name="l4119"><span class="linenum">4119</span></a>              }
<a name="l4120"><span class="linenum">4120</span></a>              if (!empty(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>)) {
<a name="l4121"><span class="linenum">4121</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>('Stack trace: ' . <a class="function" onClick="logFunction('format_backtrace')" href="../_functions/format_backtrace.html" onMouseOver="funcPopup(event,'format_backtrace')">format_backtrace</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, true), 'notifytiny');
<a name="l4122"><span class="linenum">4122</span></a>              }
<a name="l4123"><span class="linenum">4123</span></a>          }
<a name="l4124"><span class="linenum">4124</span></a>  
<a name="l4125"><span class="linenum">4125</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l4126"><span class="linenum">4126</span></a>      }
<a name="l4127"><span class="linenum">4127</span></a>  
<a name="l4128"><span class="linenum">4128</span></a>      <span class="comment">/**</span>
<a name="l4129"><span class="linenum">4129</span></a>  <span class="comment">     * Returns a template fragment representing a notification.</span>
<a name="l4130"><span class="linenum">4130</span></a>  <span class="comment">     *</span>
<a name="l4131"><span class="linenum">4131</span></a>  <span class="comment">     * @param string $message The message to include</span>
<a name="l4132"><span class="linenum">4132</span></a>  <span class="comment">     * @param string $classes A space-separated list of CSS classes</span>
<a name="l4133"><span class="linenum">4133</span></a>  <span class="comment">     * @return string A template fragment for a notification</span>
<a name="l4134"><span class="linenum">4134</span></a>  <span class="comment">     */</span>
<a name="l4135"><span class="linenum">4135</span></a>      public function <a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'notifyproblem') {
<a name="l4136"><span class="linenum">4136</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="function" onClick="logFunction('clean_text')" href="../_functions/clean_text.html" onMouseOver="funcPopup(event,'clean_text')">clean_text</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>);
<a name="l4137"><span class="linenum">4137</span></a>          if (<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> === 'notifysuccess') {
<a name="l4138"><span class="linenum">4138</span></a>              return &quot;++ <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> ++\n&quot;;
<a name="l4139"><span class="linenum">4139</span></a>          }
<a name="l4140"><span class="linenum">4140</span></a>          return &quot;!! <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> !!\n&quot;;
<a name="l4141"><span class="linenum">4141</span></a>      }
<a name="l4142"><span class="linenum">4142</span></a>  
<a name="l4143"><span class="linenum">4143</span></a>      <span class="comment">/**</span>
<a name="l4144"><span class="linenum">4144</span></a>  <span class="comment">     * There is no footer for a cli request, however we must override the</span>
<a name="l4145"><span class="linenum">4145</span></a>  <span class="comment">     * footer method to prevent the default footer.</span>
<a name="l4146"><span class="linenum">4146</span></a>  <span class="comment">     */</span>
<a name="l4147"><span class="linenum">4147</span></a>      public function <a class="function" onClick="logFunction('footer')" href="../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>() {}
<a name="l4148"><span class="linenum">4148</span></a>  }
<a name="l4149"><span class="linenum">4149</span></a>  
<a name="l4150"><span class="linenum">4150</span></a>  
<a name="l4151"><span class="linenum">4151</span></a>  <span class="comment">/**</span>
<a name="l4152"><span class="linenum">4152</span></a>  <span class="comment"> * A renderer that generates output for ajax scripts.</span>
<a name="l4153"><span class="linenum">4153</span></a>  <span class="comment"> *</span>
<a name="l4154"><span class="linenum">4154</span></a>  <span class="comment"> * This renderer prevents accidental sends back only json</span>
<a name="l4155"><span class="linenum">4155</span></a>  <span class="comment"> * encoded error messages, all other output is ignored.</span>
<a name="l4156"><span class="linenum">4156</span></a>  <span class="comment"> *</span>
<a name="l4157"><span class="linenum">4157</span></a>  <span class="comment"> * @copyright 2010 Petr Skoda</span>
<a name="l4158"><span class="linenum">4158</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l4159"><span class="linenum">4159</span></a>  <span class="comment"> * @since Moodle 2.0</span>
<a name="l4160"><span class="linenum">4160</span></a>  <span class="comment"> * @package core</span>
<a name="l4161"><span class="linenum">4161</span></a>  <span class="comment"> * @category output</span>
<a name="l4162"><span class="linenum">4162</span></a>  <span class="comment"> */</span>
<a name="l4163"><span class="linenum">4163</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_renderer_ajax')" href="../_classes/core_renderer_ajax.html" onMouseOver="classPopup(event,'core_renderer_ajax')">core_renderer_ajax</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('core_renderer')" href="../_classes/core_renderer.html" onMouseOver="classPopup(event,'core_renderer')">core_renderer</a> {
<a name="l4164"><span class="linenum">4164</span></a>  
<a name="l4165"><span class="linenum">4165</span></a>      <span class="comment">/**</span>
<a name="l4166"><span class="linenum">4166</span></a>  <span class="comment">     * Returns a template fragment representing a fatal error.</span>
<a name="l4167"><span class="linenum">4167</span></a>  <span class="comment">     *</span>
<a name="l4168"><span class="linenum">4168</span></a>  <span class="comment">     * @param string $message The message to output</span>
<a name="l4169"><span class="linenum">4169</span></a>  <span class="comment">     * @param string $moreinfourl URL where more info can be found about the error</span>
<a name="l4170"><span class="linenum">4170</span></a>  <span class="comment">     * @param string $link Link for the Continue button</span>
<a name="l4171"><span class="linenum">4171</span></a>  <span class="comment">     * @param array $backtrace The execution backtrace</span>
<a name="l4172"><span class="linenum">4172</span></a>  <span class="comment">     * @param string $debuginfo Debugging information</span>
<a name="l4173"><span class="linenum">4173</span></a>  <span class="comment">     * @return string A template fragment for a fatal error</span>
<a name="l4174"><span class="linenum">4174</span></a>  <span class="comment">     */</span>
<a name="l4175"><span class="linenum">4175</span></a>      public function <a class="function" onClick="logFunction('fatal_error')" href="../_functions/fatal_error.html" onMouseOver="funcPopup(event,'fatal_error')">fatal_error</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it32305" onMouseOver="hilite(32305)" onMouseOut="lolite()" onClick="logVariable('moreinfourl')" href="../_variables/moreinfourl.html">$moreinfourl</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = null) {
<a name="l4176"><span class="linenum">4176</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l4177"><span class="linenum">4177</span></a>  
<a name="l4178"><span class="linenum">4178</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>-&gt;<a class="function" onClick="logFunction('set_context')" href="../_functions/set_context.html" onMouseOver="funcPopup(event,'set_context')">set_context</a>(null); <span class="comment">// ugly hack - make sure page context is set to something, we do not want bogus warnings here</span>
<a name="l4179"><span class="linenum">4179</span></a>  
<a name="l4180"><span class="linenum">4180</span></a>          <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a> = new stdClass();
<a name="l4181"><span class="linenum">4181</span></a>          <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('error')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/error.html">error</a>      = <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>;
<a name="l4182"><span class="linenum">4182</span></a>          <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('stacktrace')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/stacktrace.html">stacktrace</a> = NULL;
<a name="l4183"><span class="linenum">4183</span></a>          <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>  = NULL;
<a name="l4184"><span class="linenum">4184</span></a>          <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('reproductionlink')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/reproductionlink.html">reproductionlink</a> = NULL;
<a name="l4185"><span class="linenum">4185</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debug.html">debug</a>) and <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debug.html">debug</a> &gt;= <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>) {
<a name="l4186"><span class="linenum">4186</span></a>              <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = (string) <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>;
<a name="l4187"><span class="linenum">4187</span></a>              if (<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>) {
<a name="l4188"><span class="linenum">4188</span></a>                  <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('reproductionlink')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/reproductionlink.html">reproductionlink</a> = <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>;
<a name="l4189"><span class="linenum">4189</span></a>              }
<a name="l4190"><span class="linenum">4190</span></a>              if (!empty(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>)) {
<a name="l4191"><span class="linenum">4191</span></a>                  <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a> = <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>;
<a name="l4192"><span class="linenum">4192</span></a>              }
<a name="l4193"><span class="linenum">4193</span></a>              if (!empty(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>)) {
<a name="l4194"><span class="linenum">4194</span></a>                  <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('stacktrace')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/stacktrace.html">stacktrace</a> = <a class="function" onClick="logFunction('format_backtrace')" href="../_functions/format_backtrace.html" onMouseOver="funcPopup(event,'format_backtrace')">format_backtrace</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, true);
<a name="l4195"><span class="linenum">4195</span></a>              }
<a name="l4196"><span class="linenum">4196</span></a>          }
<a name="l4197"><span class="linenum">4197</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>();
<a name="l4198"><span class="linenum">4198</span></a>          return <a class="function" onClick="logFunction('json_encode')" href="../_functions/json_encode.html" onMouseOver="funcPopup(event,'json_encode')">json_encode</a>(<a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>);
<a name="l4199"><span class="linenum">4199</span></a>      }
<a name="l4200"><span class="linenum">4200</span></a>  
<a name="l4201"><span class="linenum">4201</span></a>      <span class="comment">/**</span>
<a name="l4202"><span class="linenum">4202</span></a>  <span class="comment">     * Used to display a notification.</span>
<a name="l4203"><span class="linenum">4203</span></a>  <span class="comment">     * For the AJAX notifications are discarded.</span>
<a name="l4204"><span class="linenum">4204</span></a>  <span class="comment">     *</span>
<a name="l4205"><span class="linenum">4205</span></a>  <span class="comment">     * @param string $message</span>
<a name="l4206"><span class="linenum">4206</span></a>  <span class="comment">     * @param string $classes</span>
<a name="l4207"><span class="linenum">4207</span></a>  <span class="comment">     */</span>
<a name="l4208"><span class="linenum">4208</span></a>      public function <a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'notifyproblem') {}
<a name="l4209"><span class="linenum">4209</span></a>  
<a name="l4210"><span class="linenum">4210</span></a>      <span class="comment">/**</span>
<a name="l4211"><span class="linenum">4211</span></a>  <span class="comment">     * Used to display a redirection message.</span>
<a name="l4212"><span class="linenum">4212</span></a>  <span class="comment">     * AJAX redirections should not occur and as such redirection messages</span>
<a name="l4213"><span class="linenum">4213</span></a>  <span class="comment">     * are discarded.</span>
<a name="l4214"><span class="linenum">4214</span></a>  <span class="comment">     *</span>
<a name="l4215"><span class="linenum">4215</span></a>  <span class="comment">     * @param moodle_url|string $encodedurl</span>
<a name="l4216"><span class="linenum">4216</span></a>  <span class="comment">     * @param string $message</span>
<a name="l4217"><span class="linenum">4217</span></a>  <span class="comment">     * @param int $delay</span>
<a name="l4218"><span class="linenum">4218</span></a>  <span class="comment">     * @param bool $debugdisableredirect</span>
<a name="l4219"><span class="linenum">4219</span></a>  <span class="comment">     */</span>
<a name="l4220"><span class="linenum">4220</span></a>      public function <a class="function" onClick="logFunction('redirect_message')" href="../_functions/redirect_message.html" onMouseOver="funcPopup(event,'redirect_message')">redirect_message</a>(<a class="var it23855" onMouseOver="hilite(23855)" onMouseOut="lolite()" onClick="logVariable('encodedurl')" href="../_variables/encodedurl.html">$encodedurl</a>, <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it16024" onMouseOver="hilite(16024)" onMouseOut="lolite()" onClick="logVariable('delay')" href="../_variables/delay.html">$delay</a>, <a class="var it23853" onMouseOver="hilite(23853)" onMouseOut="lolite()" onClick="logVariable('debugdisableredirect')" href="../_variables/debugdisableredirect.html">$debugdisableredirect</a>) {}
<a name="l4221"><span class="linenum">4221</span></a>  
<a name="l4222"><span class="linenum">4222</span></a>      <span class="comment">/**</span>
<a name="l4223"><span class="linenum">4223</span></a>  <span class="comment">     * Prepares the start of an AJAX output.</span>
<a name="l4224"><span class="linenum">4224</span></a>  <span class="comment">     */</span>
<a name="l4225"><span class="linenum">4225</span></a>      public function <a class="function" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="funcPopup(event,'header')">header</a>() {
<a name="l4226"><span class="linenum">4226</span></a>  <span class="comment">        // unfortunately YUI iframe upload does not support application/json</span>
<a name="l4227"><span class="linenum">4227</span></a>          if (!empty(<a class="var it19628" onMouseOver="hilite(19628)" onMouseOut="lolite()" onClick="logVariable('_FILES')" href="../_variables/_FILES.html">$_FILES</a>)) {
<a name="l4228"><span class="linenum">4228</span></a>              @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Content-type: text/plain; charset=utf-8');
<a name="l4229"><span class="linenum">4229</span></a>              if (!<a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('supports_json_contenttype')" href="../_functions/supports_json_contenttype.html" onMouseOver="funcPopup(event,'supports_json_contenttype')">supports_json_contenttype</a>()) {
<a name="l4230"><span class="linenum">4230</span></a>                  @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('X-Content-Type-Options: nosniff');
<a name="l4231"><span class="linenum">4231</span></a>              }
<a name="l4232"><span class="linenum">4232</span></a>          } else if (!<a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('supports_json_contenttype')" href="../_functions/supports_json_contenttype.html" onMouseOver="funcPopup(event,'supports_json_contenttype')">supports_json_contenttype</a>()) {
<a name="l4233"><span class="linenum">4233</span></a>              @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Content-type: text/plain; charset=utf-8');
<a name="l4234"><span class="linenum">4234</span></a>              @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('X-Content-Type-Options: nosniff');
<a name="l4235"><span class="linenum">4235</span></a>          } else {
<a name="l4236"><span class="linenum">4236</span></a>              @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Content-type: application/json; charset=utf-8');
<a name="l4237"><span class="linenum">4237</span></a>          }
<a name="l4238"><span class="linenum">4238</span></a>  
<a name="l4239"><span class="linenum">4239</span></a>  <span class="comment">        // Headers to make it not cacheable and json</span>
<a name="l4240"><span class="linenum">4240</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Cache-Control: no-store, no-cache, must-revalidate');
<a name="l4241"><span class="linenum">4241</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Cache-Control: post-check=0, pre-check=0', false);
<a name="l4242"><span class="linenum">4242</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Pragma: no-cache');
<a name="l4243"><span class="linenum">4243</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Expires: Mon, 20 Aug 1969 09:23:00 GMT');
<a name="l4244"><span class="linenum">4244</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Last-Modified: ' . <a class="phpfunction" onClick="logFunction('gmdate')" href="../_functions/gmdate.html" onMouseOver="phpfuncPopup(event,'gmdate')">gmdate</a>('D, d M Y H:i:s') . ' GMT');
<a name="l4245"><span class="linenum">4245</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Accept-Ranges: none');
<a name="l4246"><span class="linenum">4246</span></a>      }
<a name="l4247"><span class="linenum">4247</span></a>  
<a name="l4248"><span class="linenum">4248</span></a>      <span class="comment">/**</span>
<a name="l4249"><span class="linenum">4249</span></a>  <span class="comment">     * There is no footer for an AJAX request, however we must override the</span>
<a name="l4250"><span class="linenum">4250</span></a>  <span class="comment">     * footer method to prevent the default footer.</span>
<a name="l4251"><span class="linenum">4251</span></a>  <span class="comment">     */</span>
<a name="l4252"><span class="linenum">4252</span></a>      public function <a class="function" onClick="logFunction('footer')" href="../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>() {}
<a name="l4253"><span class="linenum">4253</span></a>  
<a name="l4254"><span class="linenum">4254</span></a>      <span class="comment">/**</span>
<a name="l4255"><span class="linenum">4255</span></a>  <span class="comment">     * No need for headers in an AJAX request... this should never happen.</span>
<a name="l4256"><span class="linenum">4256</span></a>  <span class="comment">     * @param string $text</span>
<a name="l4257"><span class="linenum">4257</span></a>  <span class="comment">     * @param int $level</span>
<a name="l4258"><span class="linenum">4258</span></a>  <span class="comment">     * @param string $classes</span>
<a name="l4259"><span class="linenum">4259</span></a>  <span class="comment">     * @param string $id</span>
<a name="l4260"><span class="linenum">4260</span></a>  <span class="comment">     */</span>
<a name="l4261"><span class="linenum">4261</span></a>      public function <a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = 2, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'main', <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = null) {}
<a name="l4262"><span class="linenum">4262</span></a>  }
<a name="l4263"><span class="linenum">4263</span></a>  
<a name="l4264"><span class="linenum">4264</span></a>  
<a name="l4265"><span class="linenum">4265</span></a>  <span class="comment">/**</span>
<a name="l4266"><span class="linenum">4266</span></a>  <span class="comment"> * Renderer for media files.</span>
<a name="l4267"><span class="linenum">4267</span></a>  <span class="comment"> *</span>
<a name="l4268"><span class="linenum">4268</span></a>  <span class="comment"> * Used in file resources, media filter, and any other places that need to</span>
<a name="l4269"><span class="linenum">4269</span></a>  <span class="comment"> * output embedded media.</span>
<a name="l4270"><span class="linenum">4270</span></a>  <span class="comment"> *</span>
<a name="l4271"><span class="linenum">4271</span></a>  <span class="comment"> * @copyright 2011 The Open University</span>
<a name="l4272"><span class="linenum">4272</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l4273"><span class="linenum">4273</span></a>  <span class="comment"> */</span>
<a name="l4274"><span class="linenum">4274</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_media_renderer')" href="../_classes/core_media_renderer.html" onMouseOver="classPopup(event,'core_media_renderer')">core_media_renderer</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('plugin_renderer_base')" href="../_classes/plugin_renderer_base.html" onMouseOver="classPopup(event,'plugin_renderer_base')">plugin_renderer_base</a> {
<a name="l4275"><span class="linenum">4275</span></a>  <span class="comment">    /** @var array Array of available 'player' objects */</span>
<a name="l4276"><span class="linenum">4276</span></a>      private <a class="var it12325" onMouseOver="hilite(12325)" onMouseOut="lolite()" onClick="logVariable('players')" href="../_variables/players.html">$players</a>;
<a name="l4277"><span class="linenum">4277</span></a>  <span class="comment">    /** @var string Regex pattern for links which may contain embeddable content */</span>
<a name="l4278"><span class="linenum">4278</span></a>      private <a class="var it32330" onMouseOver="hilite(32330)" onMouseOut="lolite()" onClick="logVariable('embeddablemarkers')" href="../_variables/embeddablemarkers.html">$embeddablemarkers</a>;
<a name="l4279"><span class="linenum">4279</span></a>  
<a name="l4280"><span class="linenum">4280</span></a>      <span class="comment">/**</span>
<a name="l4281"><span class="linenum">4281</span></a>  <span class="comment">     * Constructor requires medialib.php.</span>
<a name="l4282"><span class="linenum">4282</span></a>  <span class="comment">     *</span>
<a name="l4283"><span class="linenum">4283</span></a>  <span class="comment">     * This is needed in the constructor (not later) so that you can use the</span>
<a name="l4284"><span class="linenum">4284</span></a>  <span class="comment">     * constants and static functions that are defined in core_media class</span>
<a name="l4285"><span class="linenum">4285</span></a>  <span class="comment">     * before you call renderer functions.</span>
<a name="l4286"><span class="linenum">4286</span></a>  <span class="comment">     */</span>
<a name="l4287"><span class="linenum">4287</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>() {
<a name="l4288"><span class="linenum">4288</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l4289"><span class="linenum">4289</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a> . '/medialib.php');
<a name="l4290"><span class="linenum">4290</span></a>      }
<a name="l4291"><span class="linenum">4291</span></a>  
<a name="l4292"><span class="linenum">4292</span></a>      <span class="comment">/**</span>
<a name="l4293"><span class="linenum">4293</span></a>  <span class="comment">     * Obtains the list of core_media_player objects currently in use to render</span>
<a name="l4294"><span class="linenum">4294</span></a>  <span class="comment">     * items.</span>
<a name="l4295"><span class="linenum">4295</span></a>  <span class="comment">     *</span>
<a name="l4296"><span class="linenum">4296</span></a>  <span class="comment">     * The list is in rank order (highest first) and does not include players</span>
<a name="l4297"><span class="linenum">4297</span></a>  <span class="comment">     * which are disabled.</span>
<a name="l4298"><span class="linenum">4298</span></a>  <span class="comment">     *</span>
<a name="l4299"><span class="linenum">4299</span></a>  <span class="comment">     * @return array Array of core_media_player objects in rank order</span>
<a name="l4300"><span class="linenum">4300</span></a>  <span class="comment">     */</span>
<a name="l4301"><span class="linenum">4301</span></a>      protected function <a class="function" onClick="logFunction('get_players')" href="../_functions/get_players.html" onMouseOver="funcPopup(event,'get_players')">get_players</a>() {
<a name="l4302"><span class="linenum">4302</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l4303"><span class="linenum">4303</span></a>  
<a name="l4304"><span class="linenum">4304</span></a>  <span class="comment">        // Save time by only building the list once.</span>
<a name="l4305"><span class="linenum">4305</span></a>          if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('players')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/players.html">players</a>) {
<a name="l4306"><span class="linenum">4306</span></a>  <span class="comment">            // Get raw list of players.</span>
<a name="l4307"><span class="linenum">4307</span></a>              <a class="var it12325" onMouseOver="hilite(12325)" onMouseOut="lolite()" onClick="logVariable('players')" href="../_variables/players.html">$players</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_players_raw')" href="../_functions/get_players_raw.html" onMouseOver="funcPopup(event,'get_players_raw')">get_players_raw</a>();
<a name="l4308"><span class="linenum">4308</span></a>  
<a name="l4309"><span class="linenum">4309</span></a>  <span class="comment">            // Chuck all the ones that are disabled.</span>
<a name="l4310"><span class="linenum">4310</span></a>              foreach (<a class="var it12325" onMouseOver="hilite(12325)" onMouseOut="lolite()" onClick="logVariable('players')" href="../_variables/players.html">$players</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> =&gt; <a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>) {
<a name="l4311"><span class="linenum">4311</span></a>                  if (!<a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>-&gt;<a class="function" onClick="logFunction('is_enabled')" href="../_functions/is_enabled.html" onMouseOver="funcPopup(event,'is_enabled')">is_enabled</a>()) {
<a name="l4312"><span class="linenum">4312</span></a>                      unset(<a class="var it12325" onMouseOver="hilite(12325)" onMouseOut="lolite()" onClick="logVariable('players')" href="../_variables/players.html">$players</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>]);
<a name="l4313"><span class="linenum">4313</span></a>                  }
<a name="l4314"><span class="linenum">4314</span></a>              }
<a name="l4315"><span class="linenum">4315</span></a>  
<a name="l4316"><span class="linenum">4316</span></a>  <span class="comment">            // Sort in rank order (highest first).</span>
<a name="l4317"><span class="linenum">4317</span></a>              <a class="phpfunction" onClick="logFunction('usort')" href="../_functions/usort.html" onMouseOver="phpfuncPopup(event,'usort')">usort</a>(<a class="var it12325" onMouseOver="hilite(12325)" onMouseOut="lolite()" onClick="logVariable('players')" href="../_variables/players.html">$players</a>, array('core_media_player', 'compare_by_rank'));
<a name="l4318"><span class="linenum">4318</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('players')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/players.html">players</a> = <a class="var it12325" onMouseOver="hilite(12325)" onMouseOut="lolite()" onClick="logVariable('players')" href="../_variables/players.html">$players</a>;
<a name="l4319"><span class="linenum">4319</span></a>          }
<a name="l4320"><span class="linenum">4320</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('players')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/players.html">players</a>;
<a name="l4321"><span class="linenum">4321</span></a>      }
<a name="l4322"><span class="linenum">4322</span></a>  
<a name="l4323"><span class="linenum">4323</span></a>      <span class="comment">/**</span>
<a name="l4324"><span class="linenum">4324</span></a>  <span class="comment">     * Obtains a raw list of player objects that includes objects regardless</span>
<a name="l4325"><span class="linenum">4325</span></a>  <span class="comment">     * of whether they are disabled or not, and without sorting.</span>
<a name="l4326"><span class="linenum">4326</span></a>  <span class="comment">     *</span>
<a name="l4327"><span class="linenum">4327</span></a>  <span class="comment">     * You can override this in a subclass if you need to add additional</span>
<a name="l4328"><span class="linenum">4328</span></a>  <span class="comment">     * players.</span>
<a name="l4329"><span class="linenum">4329</span></a>  <span class="comment">     *</span>
<a name="l4330"><span class="linenum">4330</span></a>  <span class="comment">     * The return array is be indexed by player name to make it easier to</span>
<a name="l4331"><span class="linenum">4331</span></a>  <span class="comment">     * remove players in a subclass.</span>
<a name="l4332"><span class="linenum">4332</span></a>  <span class="comment">     *</span>
<a name="l4333"><span class="linenum">4333</span></a>  <span class="comment">     * @return array $players Array of core_media_player objects in any order</span>
<a name="l4334"><span class="linenum">4334</span></a>  <span class="comment">     */</span>
<a name="l4335"><span class="linenum">4335</span></a>      protected function <a class="function" onClick="logFunction('get_players_raw')" href="../_functions/get_players_raw.html" onMouseOver="funcPopup(event,'get_players_raw')">get_players_raw</a>() {
<a name="l4336"><span class="linenum">4336</span></a>          return array(
<a name="l4337"><span class="linenum">4337</span></a>              'vimeo' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_vimeo')" href="../_classes/core_media_player_vimeo.html" onMouseOver="classPopup(event,'core_media_player_vimeo')">core_media_player_vimeo</a>(),
<a name="l4338"><span class="linenum">4338</span></a>              'youtube' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_youtube')" href="../_classes/core_media_player_youtube.html" onMouseOver="classPopup(event,'core_media_player_youtube')">core_media_player_youtube</a>(),
<a name="l4339"><span class="linenum">4339</span></a>              'youtube_playlist' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_youtube_playlist')" href="../_classes/core_media_player_youtube_playlist.html" onMouseOver="classPopup(event,'core_media_player_youtube_playlist')">core_media_player_youtube_playlist</a>(),
<a name="l4340"><span class="linenum">4340</span></a>              'html5video' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_html5video')" href="../_classes/core_media_player_html5video.html" onMouseOver="classPopup(event,'core_media_player_html5video')">core_media_player_html5video</a>(),
<a name="l4341"><span class="linenum">4341</span></a>              'html5audio' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_html5audio')" href="../_classes/core_media_player_html5audio.html" onMouseOver="classPopup(event,'core_media_player_html5audio')">core_media_player_html5audio</a>(),
<a name="l4342"><span class="linenum">4342</span></a>              'mp3' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_mp3')" href="../_classes/core_media_player_mp3.html" onMouseOver="classPopup(event,'core_media_player_mp3')">core_media_player_mp3</a>(),
<a name="l4343"><span class="linenum">4343</span></a>              'flv' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_flv')" href="../_classes/core_media_player_flv.html" onMouseOver="classPopup(event,'core_media_player_flv')">core_media_player_flv</a>(),
<a name="l4344"><span class="linenum">4344</span></a>              'wmp' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_wmp')" href="../_classes/core_media_player_wmp.html" onMouseOver="classPopup(event,'core_media_player_wmp')">core_media_player_wmp</a>(),
<a name="l4345"><span class="linenum">4345</span></a>              'qt' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_qt')" href="../_classes/core_media_player_qt.html" onMouseOver="classPopup(event,'core_media_player_qt')">core_media_player_qt</a>(),
<a name="l4346"><span class="linenum">4346</span></a>              'rm' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_rm')" href="../_classes/core_media_player_rm.html" onMouseOver="classPopup(event,'core_media_player_rm')">core_media_player_rm</a>(),
<a name="l4347"><span class="linenum">4347</span></a>              'swf' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_swf')" href="../_classes/core_media_player_swf.html" onMouseOver="classPopup(event,'core_media_player_swf')">core_media_player_swf</a>(),
<a name="l4348"><span class="linenum">4348</span></a>              'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('core_media_player_link')" href="../_classes/core_media_player_link.html" onMouseOver="classPopup(event,'core_media_player_link')">core_media_player_link</a>(),
<a name="l4349"><span class="linenum">4349</span></a>          );
<a name="l4350"><span class="linenum">4350</span></a>      }
<a name="l4351"><span class="linenum">4351</span></a>  
<a name="l4352"><span class="linenum">4352</span></a>      <span class="comment">/**</span>
<a name="l4353"><span class="linenum">4353</span></a>  <span class="comment">     * Renders a media file (audio or video) using suitable embedded player.</span>
<a name="l4354"><span class="linenum">4354</span></a>  <span class="comment">     *</span>
<a name="l4355"><span class="linenum">4355</span></a>  <span class="comment">     * See embed_alternatives function for full description of parameters.</span>
<a name="l4356"><span class="linenum">4356</span></a>  <span class="comment">     * This function calls through to that one.</span>
<a name="l4357"><span class="linenum">4357</span></a>  <span class="comment">     *</span>
<a name="l4358"><span class="linenum">4358</span></a>  <span class="comment">     * When using this function you can also specify width and height in the</span>
<a name="l4359"><span class="linenum">4359</span></a>  <span class="comment">     * URL by including ?d=100x100 at the end. If specified in the URL, this</span>
<a name="l4360"><span class="linenum">4360</span></a>  <span class="comment">     * will override the $width and $height parameters.</span>
<a name="l4361"><span class="linenum">4361</span></a>  <span class="comment">     *</span>
<a name="l4362"><span class="linenum">4362</span></a>  <span class="comment">     * @param moodle_url $url Full URL of media file</span>
<a name="l4363"><span class="linenum">4363</span></a>  <span class="comment">     * @param string $name Optional user-readable name to display in download link</span>
<a name="l4364"><span class="linenum">4364</span></a>  <span class="comment">     * @param int $width Width in pixels (optional)</span>
<a name="l4365"><span class="linenum">4365</span></a>  <span class="comment">     * @param int $height Height in pixels (optional)</span>
<a name="l4366"><span class="linenum">4366</span></a>  <span class="comment">     * @param array $options Array of key/value pairs</span>
<a name="l4367"><span class="linenum">4367</span></a>  <span class="comment">     * @return string HTML content of embed</span>
<a name="l4368"><span class="linenum">4368</span></a>  <span class="comment">     */</span>
<a name="l4369"><span class="linenum">4369</span></a>      public function <a class="function" onClick="logFunction('embed_url')" href="../_functions/embed_url.html" onMouseOver="funcPopup(event,'embed_url')">embed_url</a>(moodle_url <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> = '', <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a> = 0, <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('height')" href="../_variables/height.html">$height</a> = 0,
<a name="l4370"><span class="linenum">4370</span></a>              <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array()) {
<a name="l4371"><span class="linenum">4371</span></a>  
<a name="l4372"><span class="linenum">4372</span></a>  <span class="comment">        // Get width and height from URL if specified (overrides parameters in</span>
<a name="l4373"><span class="linenum">4373</span></a>  <span class="comment">        // function call).</span>
<a name="l4374"><span class="linenum">4374</span></a>          <a class="var it32331" onMouseOver="hilite(32331)" onMouseOut="lolite()" onClick="logVariable('rawurl')" href="../_variables/rawurl.html">$rawurl</a> = <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('out')" href="../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>(false);
<a name="l4375"><span class="linenum">4375</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/[?#]d=([\d]{1,4}%?)x([\d]{1,4}%?)/', <a class="var it32331" onMouseOver="hilite(32331)" onMouseOut="lolite()" onClick="logVariable('rawurl')" href="../_variables/rawurl.html">$rawurl</a>, <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>)) {
<a name="l4376"><span class="linenum">4376</span></a>              <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a> = <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[1];
<a name="l4377"><span class="linenum">4377</span></a>              <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('height')" href="../_variables/height.html">$height</a> = <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[2];
<a name="l4378"><span class="linenum">4378</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[0], '', <a class="var it32331" onMouseOver="hilite(32331)" onMouseOut="lolite()" onClick="logVariable('rawurl')" href="../_variables/rawurl.html">$rawurl</a>));
<a name="l4379"><span class="linenum">4379</span></a>          }
<a name="l4380"><span class="linenum">4380</span></a>  
<a name="l4381"><span class="linenum">4381</span></a>  <span class="comment">        // Defer to array version of function.</span>
<a name="l4382"><span class="linenum">4382</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('embed_alternatives')" href="../_functions/embed_alternatives.html" onMouseOver="funcPopup(event,'embed_alternatives')">embed_alternatives</a>(array(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>), <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a>, <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('height')" href="../_variables/height.html">$height</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l4383"><span class="linenum">4383</span></a>      }
<a name="l4384"><span class="linenum">4384</span></a>  
<a name="l4385"><span class="linenum">4385</span></a>      <span class="comment">/**</span>
<a name="l4386"><span class="linenum">4386</span></a>  <span class="comment">     * Renders media files (audio or video) using suitable embedded player.</span>
<a name="l4387"><span class="linenum">4387</span></a>  <span class="comment">     * The list of URLs should be alternative versions of the same content in</span>
<a name="l4388"><span class="linenum">4388</span></a>  <span class="comment">     * multiple formats. If there is only one format it should have a single</span>
<a name="l4389"><span class="linenum">4389</span></a>  <span class="comment">     * entry.</span>
<a name="l4390"><span class="linenum">4390</span></a>  <span class="comment">     *</span>
<a name="l4391"><span class="linenum">4391</span></a>  <span class="comment">     * If the media files are not in a supported format, this will give students</span>
<a name="l4392"><span class="linenum">4392</span></a>  <span class="comment">     * a download link to each format. The download link uses the filename</span>
<a name="l4393"><span class="linenum">4393</span></a>  <span class="comment">     * unless you supply the optional name parameter.</span>
<a name="l4394"><span class="linenum">4394</span></a>  <span class="comment">     *</span>
<a name="l4395"><span class="linenum">4395</span></a>  <span class="comment">     * Width and height are optional. If specified, these are suggested sizes</span>
<a name="l4396"><span class="linenum">4396</span></a>  <span class="comment">     * and should be the exact values supplied by the user, if they come from</span>
<a name="l4397"><span class="linenum">4397</span></a>  <span class="comment">     * user input. These will be treated as relating to the size of the video</span>
<a name="l4398"><span class="linenum">4398</span></a>  <span class="comment">     * content, not including any player control bar.</span>
<a name="l4399"><span class="linenum">4399</span></a>  <span class="comment">     *</span>
<a name="l4400"><span class="linenum">4400</span></a>  <span class="comment">     * For audio files, height will be ignored. For video files, a few formats</span>
<a name="l4401"><span class="linenum">4401</span></a>  <span class="comment">     * work if you specify only width, but in general if you specify width</span>
<a name="l4402"><span class="linenum">4402</span></a>  <span class="comment">     * you must specify height as well.</span>
<a name="l4403"><span class="linenum">4403</span></a>  <span class="comment">     *</span>
<a name="l4404"><span class="linenum">4404</span></a>  <span class="comment">     * The $options array is passed through to the core_media_player classes</span>
<a name="l4405"><span class="linenum">4405</span></a>  <span class="comment">     * that render the object tag. The keys can contain values from</span>
<a name="l4406"><span class="linenum">4406</span></a>  <span class="comment">     * core_media::OPTION_xx.</span>
<a name="l4407"><span class="linenum">4407</span></a>  <span class="comment">     *</span>
<a name="l4408"><span class="linenum">4408</span></a>  <span class="comment">     * @param array $alternatives Array of moodle_url to media files</span>
<a name="l4409"><span class="linenum">4409</span></a>  <span class="comment">     * @param string $name Optional user-readable name to display in download link</span>
<a name="l4410"><span class="linenum">4410</span></a>  <span class="comment">     * @param int $width Width in pixels (optional)</span>
<a name="l4411"><span class="linenum">4411</span></a>  <span class="comment">     * @param int $height Height in pixels (optional)</span>
<a name="l4412"><span class="linenum">4412</span></a>  <span class="comment">     * @param array $options Array of key/value pairs</span>
<a name="l4413"><span class="linenum">4413</span></a>  <span class="comment">     * @return string HTML content of embed</span>
<a name="l4414"><span class="linenum">4414</span></a>  <span class="comment">     */</span>
<a name="l4415"><span class="linenum">4415</span></a>      public function <a class="function" onClick="logFunction('embed_alternatives')" href="../_functions/embed_alternatives.html" onMouseOver="funcPopup(event,'embed_alternatives')">embed_alternatives</a>(<a class="var it32189" onMouseOver="hilite(32189)" onMouseOut="lolite()" onClick="logVariable('alternatives')" href="../_variables/alternatives.html">$alternatives</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> = '', <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a> = 0, <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('height')" href="../_variables/height.html">$height</a> = 0,
<a name="l4416"><span class="linenum">4416</span></a>              <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array()) {
<a name="l4417"><span class="linenum">4417</span></a>  
<a name="l4418"><span class="linenum">4418</span></a>  <span class="comment">        // Get list of player plugins (will also require the library).</span>
<a name="l4419"><span class="linenum">4419</span></a>          <a class="var it12325" onMouseOver="hilite(12325)" onMouseOut="lolite()" onClick="logVariable('players')" href="../_variables/players.html">$players</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_players')" href="../_functions/get_players.html" onMouseOver="funcPopup(event,'get_players')">get_players</a>();
<a name="l4420"><span class="linenum">4420</span></a>  
<a name="l4421"><span class="linenum">4421</span></a>  <span class="comment">        // Set up initial text which will be replaced by first player that</span>
<a name="l4422"><span class="linenum">4422</span></a>  <span class="comment">        // supports any of the formats.</span>
<a name="l4423"><span class="linenum">4423</span></a>          <a class="var it1757" onMouseOver="hilite(1757)" onMouseOut="lolite()" onClick="logVariable('out')" href="../_variables/out.html">$out</a> = core_media_player::PLACEHOLDER;
<a name="l4424"><span class="linenum">4424</span></a>  
<a name="l4425"><span class="linenum">4425</span></a>  <span class="comment">        // Loop through all players that support any of these URLs.</span>
<a name="l4426"><span class="linenum">4426</span></a>          foreach (<a class="var it12325" onMouseOver="hilite(12325)" onMouseOut="lolite()" onClick="logVariable('players')" href="../_variables/players.html">$players</a> as <a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>) {
<a name="l4427"><span class="linenum">4427</span></a>  <span class="comment">            // Option: When no other player matched, don't do the default link player.</span>
<a name="l4428"><span class="linenum">4428</span></a>              if (!empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>[core_media::OPTION_FALLBACK_TO_BLANK]) &amp;&amp;
<a name="l4429"><span class="linenum">4429</span></a>                      <a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>-&gt;<a class="function" onClick="logFunction('get_rank')" href="../_functions/get_rank.html" onMouseOver="funcPopup(event,'get_rank')">get_rank</a>() === 0 &amp;&amp; <a class="var it1757" onMouseOver="hilite(1757)" onMouseOut="lolite()" onClick="logVariable('out')" href="../_variables/out.html">$out</a> === core_media_player::PLACEHOLDER) {
<a name="l4430"><span class="linenum">4430</span></a>                  continue;
<a name="l4431"><span class="linenum">4431</span></a>              }
<a name="l4432"><span class="linenum">4432</span></a>  
<a name="l4433"><span class="linenum">4433</span></a>              <a class="var it23813" onMouseOver="hilite(23813)" onMouseOut="lolite()" onClick="logVariable('supported')" href="../_variables/supported.html">$supported</a> = <a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>-&gt;<a class="function" onClick="logFunction('list_supported_urls')" href="../_functions/list_supported_urls.html" onMouseOver="funcPopup(event,'list_supported_urls')">list_supported_urls</a>(<a class="var it32189" onMouseOver="hilite(32189)" onMouseOut="lolite()" onClick="logVariable('alternatives')" href="../_variables/alternatives.html">$alternatives</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l4434"><span class="linenum">4434</span></a>              if (<a class="var it23813" onMouseOver="hilite(23813)" onMouseOut="lolite()" onClick="logVariable('supported')" href="../_variables/supported.html">$supported</a>) {
<a name="l4435"><span class="linenum">4435</span></a>  <span class="comment">                // Embed.</span>
<a name="l4436"><span class="linenum">4436</span></a>                  <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>-&gt;<a class="function" onClick="logFunction('embed')" href="../_functions/embed.html" onMouseOver="funcPopup(event,'embed')">embed</a>(<a class="var it23813" onMouseOver="hilite(23813)" onMouseOut="lolite()" onClick="logVariable('supported')" href="../_variables/supported.html">$supported</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a>, <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('height')" href="../_variables/height.html">$height</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l4437"><span class="linenum">4437</span></a>  
<a name="l4438"><span class="linenum">4438</span></a>  <span class="comment">                // Put this in place of the 'fallback' slot in the previous text.</span>
<a name="l4439"><span class="linenum">4439</span></a>                  <a class="var it1757" onMouseOver="hilite(1757)" onMouseOut="lolite()" onClick="logVariable('out')" href="../_variables/out.html">$out</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(core_media_player::PLACEHOLDER, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it1757" onMouseOver="hilite(1757)" onMouseOut="lolite()" onClick="logVariable('out')" href="../_variables/out.html">$out</a>);
<a name="l4440"><span class="linenum">4440</span></a>              }
<a name="l4441"><span class="linenum">4441</span></a>          }
<a name="l4442"><span class="linenum">4442</span></a>  
<a name="l4443"><span class="linenum">4443</span></a>  <span class="comment">        // Remove 'fallback' slot from final version and return it.</span>
<a name="l4444"><span class="linenum">4444</span></a>          <a class="var it1757" onMouseOver="hilite(1757)" onMouseOut="lolite()" onClick="logVariable('out')" href="../_variables/out.html">$out</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(core_media_player::PLACEHOLDER, '', <a class="var it1757" onMouseOver="hilite(1757)" onMouseOut="lolite()" onClick="logVariable('out')" href="../_variables/out.html">$out</a>);
<a name="l4445"><span class="linenum">4445</span></a>          if (!empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>[core_media::OPTION_BLOCK]) &amp;&amp; <a class="var it1757" onMouseOver="hilite(1757)" onMouseOut="lolite()" onClick="logVariable('out')" href="../_variables/out.html">$out</a> !== '') {
<a name="l4446"><span class="linenum">4446</span></a>              <a class="var it1757" onMouseOver="hilite(1757)" onMouseOut="lolite()" onClick="logVariable('out')" href="../_variables/out.html">$out</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it1757" onMouseOver="hilite(1757)" onMouseOut="lolite()" onClick="logVariable('out')" href="../_variables/out.html">$out</a>, array('class' =&gt; 'resourcecontent'));
<a name="l4447"><span class="linenum">4447</span></a>          }
<a name="l4448"><span class="linenum">4448</span></a>          return <a class="var it1757" onMouseOver="hilite(1757)" onMouseOut="lolite()" onClick="logVariable('out')" href="../_variables/out.html">$out</a>;
<a name="l4449"><span class="linenum">4449</span></a>      }
<a name="l4450"><span class="linenum">4450</span></a>  
<a name="l4451"><span class="linenum">4451</span></a>      <span class="comment">/**</span>
<a name="l4452"><span class="linenum">4452</span></a>  <span class="comment">     * Checks whether a file can be embedded. If this returns true you will get</span>
<a name="l4453"><span class="linenum">4453</span></a>  <span class="comment">     * an embedded player; if this returns false, you will just get a download</span>
<a name="l4454"><span class="linenum">4454</span></a>  <span class="comment">     * link.</span>
<a name="l4455"><span class="linenum">4455</span></a>  <span class="comment">     *</span>
<a name="l4456"><span class="linenum">4456</span></a>  <span class="comment">     * This is a wrapper for can_embed_urls.</span>
<a name="l4457"><span class="linenum">4457</span></a>  <span class="comment">     *</span>
<a name="l4458"><span class="linenum">4458</span></a>  <span class="comment">     * @param moodle_url $url URL of media file</span>
<a name="l4459"><span class="linenum">4459</span></a>  <span class="comment">     * @param array $options Options (same as when embedding)</span>
<a name="l4460"><span class="linenum">4460</span></a>  <span class="comment">     * @return bool True if file can be embedded</span>
<a name="l4461"><span class="linenum">4461</span></a>  <span class="comment">     */</span>
<a name="l4462"><span class="linenum">4462</span></a>      public function <a class="function" onClick="logFunction('can_embed_url')" href="../_functions/can_embed_url.html" onMouseOver="funcPopup(event,'can_embed_url')">can_embed_url</a>(moodle_url <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array()) {
<a name="l4463"><span class="linenum">4463</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('can_embed_urls')" href="../_functions/can_embed_urls.html" onMouseOver="funcPopup(event,'can_embed_urls')">can_embed_urls</a>(array(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>), <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l4464"><span class="linenum">4464</span></a>      }
<a name="l4465"><span class="linenum">4465</span></a>  
<a name="l4466"><span class="linenum">4466</span></a>      <span class="comment">/**</span>
<a name="l4467"><span class="linenum">4467</span></a>  <span class="comment">     * Checks whether a file can be embedded. If this returns true you will get</span>
<a name="l4468"><span class="linenum">4468</span></a>  <span class="comment">     * an embedded player; if this returns false, you will just get a download</span>
<a name="l4469"><span class="linenum">4469</span></a>  <span class="comment">     * link.</span>
<a name="l4470"><span class="linenum">4470</span></a>  <span class="comment">     *</span>
<a name="l4471"><span class="linenum">4471</span></a>  <span class="comment">     * @param array $urls URL of media file and any alternatives (moodle_url)</span>
<a name="l4472"><span class="linenum">4472</span></a>  <span class="comment">     * @param array $options Options (same as when embedding)</span>
<a name="l4473"><span class="linenum">4473</span></a>  <span class="comment">     * @return bool True if file can be embedded</span>
<a name="l4474"><span class="linenum">4474</span></a>  <span class="comment">     */</span>
<a name="l4475"><span class="linenum">4475</span></a>      public function <a class="function" onClick="logFunction('can_embed_urls')" href="../_functions/can_embed_urls.html" onMouseOver="funcPopup(event,'can_embed_urls')">can_embed_urls</a>(array <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('urls')" href="../_variables/urls.html">$urls</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array()) {
<a name="l4476"><span class="linenum">4476</span></a>  <span class="comment">        // Check all players to see if any of them support it.</span>
<a name="l4477"><span class="linenum">4477</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_players')" href="../_functions/get_players.html" onMouseOver="funcPopup(event,'get_players')">get_players</a>() as <a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>) {
<a name="l4478"><span class="linenum">4478</span></a>  <span class="comment">            // Link player (always last on list) doesn't count!</span>
<a name="l4479"><span class="linenum">4479</span></a>              if (<a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>-&gt;<a class="function" onClick="logFunction('get_rank')" href="../_functions/get_rank.html" onMouseOver="funcPopup(event,'get_rank')">get_rank</a>() &lt;= 0) {
<a name="l4480"><span class="linenum">4480</span></a>                  break;
<a name="l4481"><span class="linenum">4481</span></a>              }
<a name="l4482"><span class="linenum">4482</span></a>  <span class="comment">            // First player that supports it, return true.</span>
<a name="l4483"><span class="linenum">4483</span></a>              if (<a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>-&gt;<a class="function" onClick="logFunction('list_supported_urls')" href="../_functions/list_supported_urls.html" onMouseOver="funcPopup(event,'list_supported_urls')">list_supported_urls</a>(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('urls')" href="../_variables/urls.html">$urls</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>)) {
<a name="l4484"><span class="linenum">4484</span></a>                  return true;
<a name="l4485"><span class="linenum">4485</span></a>              }
<a name="l4486"><span class="linenum">4486</span></a>          }
<a name="l4487"><span class="linenum">4487</span></a>          return false;
<a name="l4488"><span class="linenum">4488</span></a>      }
<a name="l4489"><span class="linenum">4489</span></a>  
<a name="l4490"><span class="linenum">4490</span></a>      <span class="comment">/**</span>
<a name="l4491"><span class="linenum">4491</span></a>  <span class="comment">     * Obtains a list of markers that can be used in a regular expression when</span>
<a name="l4492"><span class="linenum">4492</span></a>  <span class="comment">     * searching for URLs that can be embedded by any player type.</span>
<a name="l4493"><span class="linenum">4493</span></a>  <span class="comment">     *</span>
<a name="l4494"><span class="linenum">4494</span></a>  <span class="comment">     * This string is used to improve peformance of regex matching by ensuring</span>
<a name="l4495"><span class="linenum">4495</span></a>  <span class="comment">     * that the (presumably C) regex code can do a quick keyword check on the</span>
<a name="l4496"><span class="linenum">4496</span></a>  <span class="comment">     * URL part of a link to see if it matches one of these, rather than having</span>
<a name="l4497"><span class="linenum">4497</span></a>  <span class="comment">     * to go into PHP code for every single link to see if it can be embedded.</span>
<a name="l4498"><span class="linenum">4498</span></a>  <span class="comment">     *</span>
<a name="l4499"><span class="linenum">4499</span></a>  <span class="comment">     * @return string String suitable for use in regex such as '(\.mp4|\.flv)'</span>
<a name="l4500"><span class="linenum">4500</span></a>  <span class="comment">     */</span>
<a name="l4501"><span class="linenum">4501</span></a>      public function <a class="function" onClick="logFunction('get_embeddable_markers')" href="../_functions/get_embeddable_markers.html" onMouseOver="funcPopup(event,'get_embeddable_markers')">get_embeddable_markers</a>() {
<a name="l4502"><span class="linenum">4502</span></a>          if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('embeddablemarkers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/embeddablemarkers.html">embeddablemarkers</a>)) {
<a name="l4503"><span class="linenum">4503</span></a>              <a class="var it4548" onMouseOver="hilite(4548)" onMouseOut="lolite()" onClick="logVariable('markers')" href="../_variables/markers.html">$markers</a> = '';
<a name="l4504"><span class="linenum">4504</span></a>              foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_players')" href="../_functions/get_players.html" onMouseOver="funcPopup(event,'get_players')">get_players</a>() as <a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>) {
<a name="l4505"><span class="linenum">4505</span></a>                  foreach (<a class="var it12326" onMouseOver="hilite(12326)" onMouseOut="lolite()" onClick="logVariable('player')" href="../_variables/player.html">$player</a>-&gt;<a class="function" onClick="logFunction('get_embeddable_markers')" href="../_functions/get_embeddable_markers.html" onMouseOver="funcPopup(event,'get_embeddable_markers')">get_embeddable_markers</a>() as <a class="var it5071" onMouseOver="hilite(5071)" onMouseOut="lolite()" onClick="logVariable('marker')" href="../_variables/marker.html">$marker</a>) {
<a name="l4506"><span class="linenum">4506</span></a>                      if (<a class="var it4548" onMouseOver="hilite(4548)" onMouseOut="lolite()" onClick="logVariable('markers')" href="../_variables/markers.html">$markers</a> !== '') {
<a name="l4507"><span class="linenum">4507</span></a>                          <a class="var it4548" onMouseOver="hilite(4548)" onMouseOut="lolite()" onClick="logVariable('markers')" href="../_variables/markers.html">$markers</a> .= '|';
<a name="l4508"><span class="linenum">4508</span></a>                      }
<a name="l4509"><span class="linenum">4509</span></a>                      <a class="var it4548" onMouseOver="hilite(4548)" onMouseOut="lolite()" onClick="logVariable('markers')" href="../_variables/markers.html">$markers</a> .= <a class="phpfunction" onClick="logFunction('preg_quote')" href="../_functions/preg_quote.html" onMouseOver="phpfuncPopup(event,'preg_quote')">preg_quote</a>(<a class="var it5071" onMouseOver="hilite(5071)" onMouseOut="lolite()" onClick="logVariable('marker')" href="../_variables/marker.html">$marker</a>);
<a name="l4510"><span class="linenum">4510</span></a>                  }
<a name="l4511"><span class="linenum">4511</span></a>              }
<a name="l4512"><span class="linenum">4512</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('embeddablemarkers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/embeddablemarkers.html">embeddablemarkers</a> = <a class="var it4548" onMouseOver="hilite(4548)" onMouseOut="lolite()" onClick="logVariable('markers')" href="../_variables/markers.html">$markers</a>;
<a name="l4513"><span class="linenum">4513</span></a>          }
<a name="l4514"><span class="linenum">4514</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('embeddablemarkers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/embeddablemarkers.html">embeddablemarkers</a>;
<a name="l4515"><span class="linenum">4515</span></a>      }
<a name="l4516"><span class="linenum">4516</span></a>  }
<a name="l4517"><span class="linenum">4517</span></a>  
<a name="l4518"><span class="linenum">4518</span></a>  <span class="comment">/**</span>
<a name="l4519"><span class="linenum">4519</span></a>  <span class="comment"> * The maintenance renderer.</span>
<a name="l4520"><span class="linenum">4520</span></a>  <span class="comment"> *</span>
<a name="l4521"><span class="linenum">4521</span></a>  <span class="comment"> * The purpose of this renderer is to block out the core renderer methods that are not usable when the site</span>
<a name="l4522"><span class="linenum">4522</span></a>  <span class="comment"> * is running a maintenance related task.</span>
<a name="l4523"><span class="linenum">4523</span></a>  <span class="comment"> * It must always extend the core_renderer as we switch from the core_renderer to this renderer in a couple of places.</span>
<a name="l4524"><span class="linenum">4524</span></a>  <span class="comment"> *</span>
<a name="l4525"><span class="linenum">4525</span></a>  <span class="comment"> * @since Moodle 2.6</span>
<a name="l4526"><span class="linenum">4526</span></a>  <span class="comment"> * @package core</span>
<a name="l4527"><span class="linenum">4527</span></a>  <span class="comment"> * @category output</span>
<a name="l4528"><span class="linenum">4528</span></a>  <span class="comment"> * @copyright 2013 Sam Hemelryk</span>
<a name="l4529"><span class="linenum">4529</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l4530"><span class="linenum">4530</span></a>  <span class="comment"> */</span>
<a name="l4531"><span class="linenum">4531</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_renderer_maintenance')" href="../_classes/core_renderer_maintenance.html" onMouseOver="classPopup(event,'core_renderer_maintenance')">core_renderer_maintenance</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('core_renderer')" href="../_classes/core_renderer.html" onMouseOver="classPopup(event,'core_renderer')">core_renderer</a> {
<a name="l4532"><span class="linenum">4532</span></a>  
<a name="l4533"><span class="linenum">4533</span></a>      <span class="comment">/**</span>
<a name="l4534"><span class="linenum">4534</span></a>  <span class="comment">     * Initialises the renderer instance.</span>
<a name="l4535"><span class="linenum">4535</span></a>  <span class="comment">     * @param moodle_page $page</span>
<a name="l4536"><span class="linenum">4536</span></a>  <span class="comment">     * @param string $target</span>
<a name="l4537"><span class="linenum">4537</span></a>  <span class="comment">     * @throws coding_exception</span>
<a name="l4538"><span class="linenum">4538</span></a>  <span class="comment">     */</span>
<a name="l4539"><span class="linenum">4539</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(moodle_page <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>) {
<a name="l4540"><span class="linenum">4540</span></a>          if (<a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a> !== <a class="constant" onClick="logConstant('RENDERER_TARGET_MAINTENANCE')" href="../_constants/RENDERER_TARGET_MAINTENANCE.html" onMouseOver="constPopup(event,'RENDERER_TARGET_MAINTENANCE')">RENDERER_TARGET_MAINTENANCE</a> || <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('pagelayout')" class="var it39576" onMouseOver="hilite(39576)" onMouseOut="lolite()" href="../_variables/pagelayout.html">pagelayout</a> !== 'maintenance') {
<a name="l4541"><span class="linenum">4541</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Invalid request for the maintenance renderer.');
<a name="l4542"><span class="linenum">4542</span></a>          }
<a name="l4543"><span class="linenum">4543</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>);
<a name="l4544"><span class="linenum">4544</span></a>      }
<a name="l4545"><span class="linenum">4545</span></a>  
<a name="l4546"><span class="linenum">4546</span></a>      <span class="comment">/**</span>
<a name="l4547"><span class="linenum">4547</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce blocks.</span>
<a name="l4548"><span class="linenum">4548</span></a>  <span class="comment">     *</span>
<a name="l4549"><span class="linenum">4549</span></a>  <span class="comment">     * @param block_contents $bc</span>
<a name="l4550"><span class="linenum">4550</span></a>  <span class="comment">     * @param string $region</span>
<a name="l4551"><span class="linenum">4551</span></a>  <span class="comment">     * @return string</span>
<a name="l4552"><span class="linenum">4552</span></a>  <span class="comment">     */</span>
<a name="l4553"><span class="linenum">4553</span></a>      public function <a class="function" onClick="logFunction('block')" href="../_functions/block.html" onMouseOver="funcPopup(event,'block')">block</a>(block_contents <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>, <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>) {
<a name="l4554"><span class="linenum">4554</span></a>  <span class="comment">        // Computer says no blocks.</span>
<a name="l4555"><span class="linenum">4555</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4556"><span class="linenum">4556</span></a>          return '';
<a name="l4557"><span class="linenum">4557</span></a>      }
<a name="l4558"><span class="linenum">4558</span></a>  
<a name="l4559"><span class="linenum">4559</span></a>      <span class="comment">/**</span>
<a name="l4560"><span class="linenum">4560</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce blocks.</span>
<a name="l4561"><span class="linenum">4561</span></a>  <span class="comment">     *</span>
<a name="l4562"><span class="linenum">4562</span></a>  <span class="comment">     * @param string $region</span>
<a name="l4563"><span class="linenum">4563</span></a>  <span class="comment">     * @param array $classes</span>
<a name="l4564"><span class="linenum">4564</span></a>  <span class="comment">     * @param string $tag</span>
<a name="l4565"><span class="linenum">4565</span></a>  <span class="comment">     * @return string</span>
<a name="l4566"><span class="linenum">4566</span></a>  <span class="comment">     */</span>
<a name="l4567"><span class="linenum">4567</span></a>      public function <a class="function" onClick="logFunction('blocks')" href="../_functions/blocks.html" onMouseOver="funcPopup(event,'blocks')">blocks</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = array(), <a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = 'aside') {
<a name="l4568"><span class="linenum">4568</span></a>  <span class="comment">        // Computer says no blocks.</span>
<a name="l4569"><span class="linenum">4569</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4570"><span class="linenum">4570</span></a>          return '';
<a name="l4571"><span class="linenum">4571</span></a>      }
<a name="l4572"><span class="linenum">4572</span></a>  
<a name="l4573"><span class="linenum">4573</span></a>      <span class="comment">/**</span>
<a name="l4574"><span class="linenum">4574</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce blocks.</span>
<a name="l4575"><span class="linenum">4575</span></a>  <span class="comment">     *</span>
<a name="l4576"><span class="linenum">4576</span></a>  <span class="comment">     * @param string $region</span>
<a name="l4577"><span class="linenum">4577</span></a>  <span class="comment">     * @return string</span>
<a name="l4578"><span class="linenum">4578</span></a>  <span class="comment">     */</span>
<a name="l4579"><span class="linenum">4579</span></a>      public function <a class="function" onClick="logFunction('blocks_for_region')" href="../_functions/blocks_for_region.html" onMouseOver="funcPopup(event,'blocks_for_region')">blocks_for_region</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('region')" href="../_variables/region.html">$region</a>) {
<a name="l4580"><span class="linenum">4580</span></a>  <span class="comment">        // Computer says no blocks for region.</span>
<a name="l4581"><span class="linenum">4581</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4582"><span class="linenum">4582</span></a>          return '';
<a name="l4583"><span class="linenum">4583</span></a>      }
<a name="l4584"><span class="linenum">4584</span></a>  
<a name="l4585"><span class="linenum">4585</span></a>      <span class="comment">/**</span>
<a name="l4586"><span class="linenum">4586</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce a course content header.</span>
<a name="l4587"><span class="linenum">4587</span></a>  <span class="comment">     *</span>
<a name="l4588"><span class="linenum">4588</span></a>  <span class="comment">     * @param bool $onlyifnotcalledbefore</span>
<a name="l4589"><span class="linenum">4589</span></a>  <span class="comment">     * @return string</span>
<a name="l4590"><span class="linenum">4590</span></a>  <span class="comment">     */</span>
<a name="l4591"><span class="linenum">4591</span></a>      public function <a class="function" onClick="logFunction('course_content_header')" href="../_functions/course_content_header.html" onMouseOver="funcPopup(event,'course_content_header')">course_content_header</a>(<a class="var it32271" onMouseOver="hilite(32271)" onMouseOut="lolite()" onClick="logVariable('onlyifnotcalledbefore')" href="../_variables/onlyifnotcalledbefore.html">$onlyifnotcalledbefore</a> = false) {
<a name="l4592"><span class="linenum">4592</span></a>  <span class="comment">        // Computer says no course content header.</span>
<a name="l4593"><span class="linenum">4593</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4594"><span class="linenum">4594</span></a>          return '';
<a name="l4595"><span class="linenum">4595</span></a>      }
<a name="l4596"><span class="linenum">4596</span></a>  
<a name="l4597"><span class="linenum">4597</span></a>      <span class="comment">/**</span>
<a name="l4598"><span class="linenum">4598</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce a course content footer.</span>
<a name="l4599"><span class="linenum">4599</span></a>  <span class="comment">     *</span>
<a name="l4600"><span class="linenum">4600</span></a>  <span class="comment">     * @param bool $onlyifnotcalledbefore</span>
<a name="l4601"><span class="linenum">4601</span></a>  <span class="comment">     * @return string</span>
<a name="l4602"><span class="linenum">4602</span></a>  <span class="comment">     */</span>
<a name="l4603"><span class="linenum">4603</span></a>      public function <a class="function" onClick="logFunction('course_content_footer')" href="../_functions/course_content_footer.html" onMouseOver="funcPopup(event,'course_content_footer')">course_content_footer</a>(<a class="var it32271" onMouseOver="hilite(32271)" onMouseOut="lolite()" onClick="logVariable('onlyifnotcalledbefore')" href="../_variables/onlyifnotcalledbefore.html">$onlyifnotcalledbefore</a> = false) {
<a name="l4604"><span class="linenum">4604</span></a>  <span class="comment">        // Computer says no course content footer.</span>
<a name="l4605"><span class="linenum">4605</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4606"><span class="linenum">4606</span></a>          return '';
<a name="l4607"><span class="linenum">4607</span></a>      }
<a name="l4608"><span class="linenum">4608</span></a>  
<a name="l4609"><span class="linenum">4609</span></a>      <span class="comment">/**</span>
<a name="l4610"><span class="linenum">4610</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce a course header.</span>
<a name="l4611"><span class="linenum">4611</span></a>  <span class="comment">     *</span>
<a name="l4612"><span class="linenum">4612</span></a>  <span class="comment">     * @return string</span>
<a name="l4613"><span class="linenum">4613</span></a>  <span class="comment">     */</span>
<a name="l4614"><span class="linenum">4614</span></a>      public function <a class="function" onClick="logFunction('course_header')" href="../_functions/course_header.html" onMouseOver="funcPopup(event,'course_header')">course_header</a>() {
<a name="l4615"><span class="linenum">4615</span></a>  <span class="comment">        // Computer says no course header.</span>
<a name="l4616"><span class="linenum">4616</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4617"><span class="linenum">4617</span></a>          return '';
<a name="l4618"><span class="linenum">4618</span></a>      }
<a name="l4619"><span class="linenum">4619</span></a>  
<a name="l4620"><span class="linenum">4620</span></a>      <span class="comment">/**</span>
<a name="l4621"><span class="linenum">4621</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce a course footer.</span>
<a name="l4622"><span class="linenum">4622</span></a>  <span class="comment">     *</span>
<a name="l4623"><span class="linenum">4623</span></a>  <span class="comment">     * @return string</span>
<a name="l4624"><span class="linenum">4624</span></a>  <span class="comment">     */</span>
<a name="l4625"><span class="linenum">4625</span></a>      public function <a class="function" onClick="logFunction('course_footer')" href="../_functions/course_footer.html" onMouseOver="funcPopup(event,'course_footer')">course_footer</a>() {
<a name="l4626"><span class="linenum">4626</span></a>  <span class="comment">        // Computer says no course footer.</span>
<a name="l4627"><span class="linenum">4627</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4628"><span class="linenum">4628</span></a>          return '';
<a name="l4629"><span class="linenum">4629</span></a>      }
<a name="l4630"><span class="linenum">4630</span></a>  
<a name="l4631"><span class="linenum">4631</span></a>      <span class="comment">/**</span>
<a name="l4632"><span class="linenum">4632</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce a custom menu.</span>
<a name="l4633"><span class="linenum">4633</span></a>  <span class="comment">     *</span>
<a name="l4634"><span class="linenum">4634</span></a>  <span class="comment">     * @param string $custommenuitems</span>
<a name="l4635"><span class="linenum">4635</span></a>  <span class="comment">     * @return string</span>
<a name="l4636"><span class="linenum">4636</span></a>  <span class="comment">     */</span>
<a name="l4637"><span class="linenum">4637</span></a>      public function <a class="function" onClick="logFunction('custom_menu')" href="../_functions/custom_menu.html" onMouseOver="funcPopup(event,'custom_menu')">custom_menu</a>(<a class="var it4414" onMouseOver="hilite(4414)" onMouseOut="lolite()" onClick="logVariable('custommenuitems')" href="../_variables/custommenuitems.html">$custommenuitems</a> = '') {
<a name="l4638"><span class="linenum">4638</span></a>  <span class="comment">        // Computer says no custom menu.</span>
<a name="l4639"><span class="linenum">4639</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4640"><span class="linenum">4640</span></a>          return '';
<a name="l4641"><span class="linenum">4641</span></a>      }
<a name="l4642"><span class="linenum">4642</span></a>  
<a name="l4643"><span class="linenum">4643</span></a>      <span class="comment">/**</span>
<a name="l4644"><span class="linenum">4644</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce a file picker.</span>
<a name="l4645"><span class="linenum">4645</span></a>  <span class="comment">     *</span>
<a name="l4646"><span class="linenum">4646</span></a>  <span class="comment">     * @param array $options</span>
<a name="l4647"><span class="linenum">4647</span></a>  <span class="comment">     * @return string</span>
<a name="l4648"><span class="linenum">4648</span></a>  <span class="comment">     */</span>
<a name="l4649"><span class="linenum">4649</span></a>      public function <a class="function" onClick="logFunction('file_picker')" href="../_functions/file_picker.html" onMouseOver="funcPopup(event,'file_picker')">file_picker</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>) {
<a name="l4650"><span class="linenum">4650</span></a>  <span class="comment">        // Computer says no file picker.</span>
<a name="l4651"><span class="linenum">4651</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4652"><span class="linenum">4652</span></a>          return '';
<a name="l4653"><span class="linenum">4653</span></a>      }
<a name="l4654"><span class="linenum">4654</span></a>  
<a name="l4655"><span class="linenum">4655</span></a>      <span class="comment">/**</span>
<a name="l4656"><span class="linenum">4656</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce and HTML file tree.</span>
<a name="l4657"><span class="linenum">4657</span></a>  <span class="comment">     *</span>
<a name="l4658"><span class="linenum">4658</span></a>  <span class="comment">     * @param array $dir</span>
<a name="l4659"><span class="linenum">4659</span></a>  <span class="comment">     * @return string</span>
<a name="l4660"><span class="linenum">4660</span></a>  <span class="comment">     */</span>
<a name="l4661"><span class="linenum">4661</span></a>      public function <a class="function" onClick="logFunction('htmllize_file_tree')" href="../_functions/htmllize_file_tree.html" onMouseOver="funcPopup(event,'htmllize_file_tree')">htmllize_file_tree</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>) {
<a name="l4662"><span class="linenum">4662</span></a>  <span class="comment">        // Hell no we don't want no htmllized file tree.</span>
<a name="l4663"><span class="linenum">4663</span></a>  <span class="comment">        // Also why on earth is this function on the core renderer???</span>
<a name="l4664"><span class="linenum">4664</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4665"><span class="linenum">4665</span></a>          return '';
<a name="l4666"><span class="linenum">4666</span></a>  
<a name="l4667"><span class="linenum">4667</span></a>      }
<a name="l4668"><span class="linenum">4668</span></a>  
<a name="l4669"><span class="linenum">4669</span></a>      <span class="comment">/**</span>
<a name="l4670"><span class="linenum">4670</span></a>  <span class="comment">     * Does nothing. The maintenance renderer does not support JS.</span>
<a name="l4671"><span class="linenum">4671</span></a>  <span class="comment">     *</span>
<a name="l4672"><span class="linenum">4672</span></a>  <span class="comment">     * @param block_contents $bc</span>
<a name="l4673"><span class="linenum">4673</span></a>  <span class="comment">     */</span>
<a name="l4674"><span class="linenum">4674</span></a>      public function <a class="function" onClick="logFunction('init_block_hider_js')" href="../_functions/init_block_hider_js.html" onMouseOver="funcPopup(event,'init_block_hider_js')">init_block_hider_js</a>(block_contents <a class="var it3656" onMouseOver="hilite(3656)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../_variables/bc.html">$bc</a>) {
<a name="l4675"><span class="linenum">4675</span></a>  <span class="comment">        // Computer says no JavaScript.</span>
<a name="l4676"><span class="linenum">4676</span></a>  <span class="comment">        // Do nothing, ridiculous method.</span>
<a name="l4677"><span class="linenum">4677</span></a>      }
<a name="l4678"><span class="linenum">4678</span></a>  
<a name="l4679"><span class="linenum">4679</span></a>      <span class="comment">/**</span>
<a name="l4680"><span class="linenum">4680</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce language menus.</span>
<a name="l4681"><span class="linenum">4681</span></a>  <span class="comment">     *</span>
<a name="l4682"><span class="linenum">4682</span></a>  <span class="comment">     * @return string</span>
<a name="l4683"><span class="linenum">4683</span></a>  <span class="comment">     */</span>
<a name="l4684"><span class="linenum">4684</span></a>      public function <a class="function" onClick="logFunction('lang_menu')" href="../_functions/lang_menu.html" onMouseOver="funcPopup(event,'lang_menu')">lang_menu</a>() {
<a name="l4685"><span class="linenum">4685</span></a>  <span class="comment">        // Computer says no lang menu.</span>
<a name="l4686"><span class="linenum">4686</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4687"><span class="linenum">4687</span></a>          return '';
<a name="l4688"><span class="linenum">4688</span></a>      }
<a name="l4689"><span class="linenum">4689</span></a>  
<a name="l4690"><span class="linenum">4690</span></a>      <span class="comment">/**</span>
<a name="l4691"><span class="linenum">4691</span></a>  <span class="comment">     * Does nothing. The maintenance renderer has no need for login information.</span>
<a name="l4692"><span class="linenum">4692</span></a>  <span class="comment">     *</span>
<a name="l4693"><span class="linenum">4693</span></a>  <span class="comment">     * @param null $withlinks</span>
<a name="l4694"><span class="linenum">4694</span></a>  <span class="comment">     * @return string</span>
<a name="l4695"><span class="linenum">4695</span></a>  <span class="comment">     */</span>
<a name="l4696"><span class="linenum">4696</span></a>      public function <a class="function" onClick="logFunction('login_info')" href="../_functions/login_info.html" onMouseOver="funcPopup(event,'login_info')">login_info</a>(<a class="var it5815" onMouseOver="hilite(5815)" onMouseOut="lolite()" onClick="logVariable('withlinks')" href="../_variables/withlinks.html">$withlinks</a> = null) {
<a name="l4697"><span class="linenum">4697</span></a>  <span class="comment">        // Computer says no login info.</span>
<a name="l4698"><span class="linenum">4698</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4699"><span class="linenum">4699</span></a>          return '';
<a name="l4700"><span class="linenum">4700</span></a>      }
<a name="l4701"><span class="linenum">4701</span></a>  
<a name="l4702"><span class="linenum">4702</span></a>      <span class="comment">/**</span>
<a name="l4703"><span class="linenum">4703</span></a>  <span class="comment">     * Does nothing. The maintenance renderer cannot produce user pictures.</span>
<a name="l4704"><span class="linenum">4704</span></a>  <span class="comment">     *</span>
<a name="l4705"><span class="linenum">4705</span></a>  <span class="comment">     * @param stdClass $user</span>
<a name="l4706"><span class="linenum">4706</span></a>  <span class="comment">     * @param array $options</span>
<a name="l4707"><span class="linenum">4707</span></a>  <span class="comment">     * @return string</span>
<a name="l4708"><span class="linenum">4708</span></a>  <span class="comment">     */</span>
<a name="l4709"><span class="linenum">4709</span></a>      public function <a class="function" onClick="logFunction('user_picture')" href="../_functions/user_picture.html" onMouseOver="funcPopup(event,'user_picture')">user_picture</a>(stdClass <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, array <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = null) {
<a name="l4710"><span class="linenum">4710</span></a>  <span class="comment">        // Computer says no user pictures.</span>
<a name="l4711"><span class="linenum">4711</span></a>  <span class="comment">        // debugging('Please do not use $OUTPUT-&gt;'.__FUNCTION__.'() when performing maintenance tasks.', DEBUG_DEVELOPER);</span>
<a name="l4712"><span class="linenum">4712</span></a>          return '';
<a name="l4713"><span class="linenum">4713</span></a>      }
<a name="l4714"><span class="linenum">4714</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'diag_strings': ['diag_strings', 'Verifies that both help strings exists, shows debug warnings if not ', [['lib','outputcomponents.php',482]], 1],
'continue_button': ['continue_button', 'Displays a continue button ', [['backup/util/ui','renderer.php',501],['lib','outputrenderers.php',2875]], 104],
'notify_success': ['notify_success', 'Output a notification at a particular level - in this case, NOTIFY_SUCCESS. ', [['lib','outputrenderers.php',2808],['backup/moodle2','restore_stepslib.php',4376]], 4],
'home_link': ['home_link', 'Return the \'back\' link that normally appears in the footer. ', [['lib','outputrenderers.php',820]], 11],
'supports_json_contenttype': ['supports_json_contenttype', 'Returns true if the user agent supports the MIME media type for JSON text, as defined in RFC 4627. ', [['lib/classes','useragent.php',907]], 5],
'get_filename': ['get_filename', 'Returns file name or \'.\' in case of directories. ', [['lib/filestorage','stored_file.php',699],['lib/filebrowser','virtual_root_file.php',227],['lib','medialib.php',169]], 223],
'render': ['render', 'Render TeX string into gif/png ', [['filter/tex','latex.php',78],['lib/adodb','adodb-pager.inc.php',239],['lib/htmlpurifier/HTMLPurifier/Printer','CSSDefinition.php',14],['lib/mustache/src/Mustache','Engine.php',202],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',768],['lib/htmlpurifier/HTMLPurifier/Printer','HTMLDefinition.php',15],['lib','formslib.php',926],['question/engine/tests','helpers.php',797],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullscreen','fullscreen.htm',82],['lib','outputrenderers.php',167],['lib','outputrenderers.php',299],['mod/quiz/classes/question/bank','custom_view.php',133],['question/behaviour','behaviourbase.php',97],['lib/mustache/src/Mustache','Template.php',57],['question/engine','questionattempt.php',815],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',85],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',235],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',298],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',391],['lib','portfoliolib.php',241],['lib/phpexcel/PHPExcel','Chart.php',527],['lib/mustache/src/Mustache','LambdaHelper.php',36]], 757],
'get_renderer': ['get_renderer', 'Get the renderer for a part of Moodle for this theme. ', [['lib','outputlib.php',1790],['mod/assign','locallib.php',2734],['lib','outputfactories.php',70],['lib','outputfactories.php',292],['lib','outputfactories.php',377],['course/format','lib.php',889],['question/type/multichoice','question.php',137],['question/type/multichoice','question.php',259],['question/type','questionbase.php',275],['grade/grading/form/guide','lib.php',482],['question/behaviour','behaviourbase.php',135],['lib','pagelib.php',797],['grade/grading/form/rubric','lib.php',486],['lib/tests/fixtures','test_renderer_factory.php',49]], 339],
'get_content': ['get_content', 'Parent class version of this function simply returns NULL This should be implemented by the derived class to return the content object. ', [['blocks','moodleblock.class.php',143],['blocks/login','block_login.php',34],['blocks/participants','block_participants.php',30],['blocks/feedback','block_feedback.php',40],['blocks/quiz_results','block_quiz_results.php',52],['blocks/community','block_community.php',50],['blocks/mnet_hosts','block_mnet_hosts.php',42],['blocks/course_overview','block_course_overview.php',45],['blocks/mentees','block_mentees.php',43],['blocks/myprofile','block_myprofile.php',47],['blocks/social_activities','block_social_activities.php',34],['blocks/calendar_month','block_calendar_month.php',33],['lib','modinfolib.php',1250],['blocks/navigation','block_navigation.php',131],['blocks/site_main_menu','block_site_main_menu.php',34],['blocks/blog_tags','block_blog_tags.php',62],['blocks/private_files','block_private_files.php',43],['blocks/news_items','block_news_items.php',37],['blocks/messages','block_messages.php',30],['blocks/course_summary','block_course_summary.php',40],['lib/simplepie/library/SimplePie','Item.php',372],['blocks/tag_youtube','block_tag_youtube.php',48],['mod/workshop','locallib.php',3857],['blocks/completionstatus','block_completionstatus.php',44],['blocks/badges','block_badges.php',69],['blocks/activity_modules','block_activity_modules.php',33],['blocks/search_forums','block_search_forums.php',30],['blocks/section_links','block_section_links.php',53],['blocks/blog_menu','block_blog_menu.php',52],['blocks/selfcompletion','block_selfcompletion.php',45],['blocks/online_users','block_online_users.php',39],['blocks/activity_results','block_activity_results.php',129],['blocks/blog_recent','block_blog_recent.php',46],['blocks/admin_bookmarks','block_admin_bookmarks.php',69],['blocks/glossary_random','block_glossary_random.php',168],['blocks/course_list','block_course_list.php',37],['blocks/tags','block_tags.php',56],['lib/filestorage','stored_file.php',451],['lib/filebrowser','virtual_root_file.php',106],['blocks/recent_activity','block_recent_activity.php',50],['blocks/calendar_upcoming','block_calendar_upcoming.php',33],['blocks/html','block_html.php',47],['lib','navigationlib.php',566],['blocks/comments','block_comments.php',48],['blocks/settings','block_settings.php',102],['blocks/tag_flickr','block_tag_flickr.php',46],['blocks/rss_client','block_rss_client.php',46]], 62],
'set_nowrap_on_items': ['set_nowrap_on_items', 'Sets nowrap on items. If true menu items should not wrap lines if they are longer than the available space. ', [['lib','outputcomponents.php',3563]], 2],
'skip_link_target': ['skip_link_target', 'Output the place a skip link goes to. ', [['lib','outputrenderers.php',2947]], 4],
'help_icon': ['help_icon', 'Returns HTML to display a help icon. ', [['lib','outputrenderers.php',2254]], 80],
'set_owner_selector': ['set_owner_selector', 'Sets the selector that should be used to find the owning node of this menu. ', [['lib','outputcomponents.php',3486]], 4],
'render_navigation_node': ['render_navigation_node', '', [['mod/wiki','pagelib.php',1750],['lib','outputrenderers.php',3332]], 2],
'format_backtrace': ['format_backtrace', 'Formats a backtrace ready for output. ', [['lib','setuplib.php',697]], 16],
'region_has_content': ['region_has_content', 'Determine whether a region contains anything. (Either any real blocks, or the add new block UI.) ', [['lib','blocklib.php',313]], 13],
'page_doc_link': ['page_doc_link', 'Returns a string containing a link to the user documentation for the current page. ', [['lib','weblib.php',1000],['lib','outputrenderers.php',3822]], 13],
'favicon': ['favicon', 'Returns the URL for the favicon. ', [['lib','outputrenderers.php',3860]], 14],
'standard_end_of_body_html': ['standard_end_of_body_html', 'The standard tags (typically script tags that are not needed earlier) that should be output after everything else. Designed to be called in theme layout.php files. ', [['lib','outputrenderers.php',669]], 21],
'display_size': ['display_size', 'Converts bytes into display form ', [['lib','moodlelib.php',6341]], 29],
'img': ['img', 'Generates a simple image tag with attributes. ', [['lib','outputcomponents.php',1159]], 45],
'render_action_menu_filler': ['render_action_menu_filler', 'Renders a primary action_menu_filler item. ', [['lib','outputrenderers.php',1316]], 0],
'get_max_upload_file_size': ['get_max_upload_file_size', 'Returns the maximum size for uploading files. ', [['lib','moodlelib.php',6060]], 16],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1318]], 854],
'course_footer': ['course_footer', 'Course-specific information to be output on any course page (usually in the beginning of standard footer) ', [['course/format','lib.php',855],['lib','outputrenderers.php',1146],['lib','outputrenderers.php',4620]], 12],
'is_transaction_started': ['is_transaction_started', 'Returns true if a transaction is in progress. ', [['lib/dml','moodle_database.php',2324]], 38],
'start_div': ['start_div', 'Starts a <div> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1821]], 87],
'render_page_layout': ['render_page_layout', 'Renders and outputs the page layout file. ', [['lib','outputrenderers.php',992]], 1],
'render_user_picture': ['render_user_picture', 'Internal implementation of user image rendering. ', [['lib','outputrenderers.php',2410]], 0],
'paging_bar': ['paging_bar', 'Returns HTML to display a single paging bar to provide access to other pages  (usually in a search) ', [['lib','outputrenderers.php',2891]], 58],
'notification': ['notification', 'Output a notification (that is, a status message about something that has just happened). ', [['lib','outputrenderers.php',2762],['lib','outputrenderers.php',4128],['lib','outputrenderers.php',4201]], 495],
'standard_top_of_body_html': ['standard_top_of_body_html', 'The standard tags (typically skip links) that should be output just inside the start of the <body> tag. Designed to be called in theme layout.php files. ', [['lib','outputrenderers.php',550]], 21],
'help_icon_scale': ['help_icon_scale', 'Returns HTML to display a scale help icon. ', [['lib','outputrenderers.php',2318]], 3],
'box_start': ['box_start', 'Outputs the opening section of a box. ', [['lib','outputrenderers.php',2987]], 351],
'blocks': ['blocks', 'Get the HTML for blocks in the given region. ', [['lib','outputrenderers.php',3693],['lib','outputrenderers.php',4559]], 15],
'get_players': ['get_players', 'Obtains the list of core_media_player objects currently in use to render items. ', [['lib','outputrenderers.php',4292]], 4],
'main_content': ['main_content', 'Returns standard main content placeholder. Designed to be called in theme layout.php files. ', [['lib','outputrenderers.php',653]], 16],
'doctype': ['doctype', 'Get the DOCTYPE declaration that should be used with this page. Designed to be called in theme layout.php files. ', [['lib','outputrenderers.php',421]], 30],
'render_single_select': ['render_single_select', 'Internal implementation of single_select rendering ', [['lib','outputrenderers.php',1840]], 0],
'get_config_for_javascript': ['get_config_for_javascript', 'Return the safe config values that get set for javascript in "M.cfg". ', [['lib','outputrequirementslib.php',296]], 2],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',2854]], 853],
'set_url': ['set_url', 'Set the url specifics ', [['backup/cc/cc_lib','cc_weblink.php',50],['backup/util/ui','restore_ui_components.php',141],['mod/wiki','pagelib.php',246],['mod/wiki','pagelib.php',334],['mod/wiki','pagelib.php',421],['mod/wiki','pagelib.php',701],['mod/wiki','pagelib.php',726],['mod/wiki','pagelib.php',840],['mod/wiki','pagelib.php',884],['mod/wiki','pagelib.php',1013],['mod/wiki','pagelib.php',1117],['mod/wiki','pagelib.php',1224],['mod/wiki','pagelib.php',1467],['mod/wiki','pagelib.php',1869],['mod/wiki','pagelib.php',1937],['mod/wiki','pagelib.php',2111],['mod/wiki','pagelib.php',2172],['mod/wiki','pagelib.php',2228],['mod/wiki','pagelib.php',2293],['mod/wiki','pagelib.php',2341],['mod/wiki','pagelib.php',2389],['mod/wiki','pagelib.php',2493],['lib','outputcomponents.php',2823],['lib','pagelib.php',1198]], 574],
'get_rank': ['get_rank', '', [['lib/tests','medialib_test.php',646],['lib','medialib.php',512],['lib','medialib.php',615],['lib','medialib.php',667],['lib','medialib.php',715],['lib','medialib.php',759],['lib','medialib.php',835],['lib','medialib.php',901],['lib','medialib.php',956],['lib','medialib.php',1024],['lib','medialib.php',1143],['lib','medialib.php',1224],['lib','medialib.php',1270]], 5],
'export_for_template': ['export_for_template', 'Export this data so it can be used as the context for a mustache template. ', [['lib/classes/output','notification.php',79],['lib','outputcomponents.php',52],['lib','outputcomponents.php',549],['admin/tool/templatelibrary/classes/output','list_templates_page.php',41]], 3],
'spacer': ['spacer', 'Creates and returns a spacer image with optional line break. ', [['lib','outputrenderers.php',2340]], 28],
'box_end': ['box_end', 'Outputs the closing section of a box. ', [['lib','outputrenderers.php',3002]], 351],
'strlen': ['strlen', 'Multibyte safe strlen() function, uses mbstring or iconv for UTF-8, falls back to typo3. ', [['lib/classes','text.php',281],['lib/typo3','class.t3lib_cs.php',1520]], 1698],
'is_login_page': ['is_login_page', 'Check whether the current page is a login page. ', [['lib','outputrenderers.php',801]], 2],
'send_headers': ['send_headers', 'Internal implementation - sending of page headers. ', [['webservice','lib.php',1504],['webservice/rest','locallib.php',173],['lib','weblib.php',1986]], 7],
'random_id': ['random_id', 'Generates random html element id. ', [['lib','outputcomponents.php',1175]], 20],
'empty_tag': ['empty_tag', 'Outputs an empty tag with attributes ', [['lib','outputcomponents.php',1096]], 511],
'render_tabobject': ['render_tabobject', 'Renders tabobject (part of tabtree) ', [['theme/bootstrapbase/renderers','core_renderer.php',188],['lib','outputrenderers.php',3626]], 1],
'block_move_target': ['block_move_target', 'Output a place where the block that is currently being moved can be dropped. ', [['lib','outputrenderers.php',1562]], 4],
'set_alignment': ['set_alignment', 'Sets the alignment of the dialogue in relation to button used to toggle it. ', [['lib','outputcomponents.php',3494]], 6],
'theme_get_revision': ['theme_get_revision', 'Returns current theme revision number. ', [['lib','outputlib.php',79]], 12],
'do_not_enhance': ['do_not_enhance', 'If you call this method the action menu will be displayed but will not be enhanced. ', [['lib','outputcomponents.php',3545]], 2],
'fullname': ['fullname', 'Returns a persons full name ', [['lib','moodlelib.php',3234],['mod/assign','locallib.php',3440]], 532],
'get_docs_url': ['get_docs_url', 'Returns the Moodle Docs URL in the users language for a given \'More help\' link. ', [['lib','setuplib.php',630]], 29],
'apply_theme_region_manipulations': ['apply_theme_region_manipulations', 'Returns the block region having made any required theme manipulations. ', [['lib','pagelib.php',1915]], 1],
'fix_column_widths': ['fix_column_widths', '', [['lib','javascript-static.js',1059]], 1],
'clone': ['clone', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',11]], 315],
'redirect_message': ['redirect_message', 'Redirects the user by any means possible given the current state ', [['lib','outputrenderers.php',850],['lib','outputrenderers.php',4210]], 1],
'param': ['param', 'Returns a placeholder for query parameters e.g. $DB->Param(\'a\') will return - \'?\' for most databases - \':a\' for Oracle - \'$1\', \'$2\', etc. for PostgreSQL ', [['lib/adodb','adodb.inc.php',815],['lib/adodb/drivers','adodb-postgres64.inc.php',591],['lib','weblib.php',455],['lib/adodb/drivers','adodb-oci8po.inc.php',37],['lib/adodb/drivers','adodb-db2oci.inc.php',166],['lib/adodb/drivers','adodb-oci8.inc.php',1014]], 641],
'body_attributes': ['body_attributes', 'Returns HTML attributes to use within the body tag. This includes an ID and classes. ', [['lib','outputrenderers.php',3787]], 14],
'get_blocks_for_region': ['get_blocks_for_region', 'Get an array of all blocks within a given region ', [['lib','blocklib.php',277]], 11],
'strings_for_js': ['strings_for_js', 'Make an array of language strings available for JS. ', [['lib','outputrequirementslib.php',1167],['enrol','locallib.php',1295]], 69],
'container_start': ['container_start', 'Outputs the opening section of a container. ', [['lib','outputrenderers.php',3023]], 113],
'block_annotation': ['block_annotation', 'Produces the annotation for a block ', [['lib','outputrenderers.php',1477]], 1],
'context_header': ['context_header', 'Either returns the parent version of the header bar, or a version with the logo replacing the header. ', [['theme/clean/classes','core_renderer.php',28],['lib','outputrenderers.php',3924]], 12],
'set_state': ['set_state', 'Set the state. Normally only called by behaviours. ', [['question/engine','questionattemptstep.php',145],['question/engine','questionattemptstep.php',556],['question/engine','questionattemptstep.php',584],['question/engine','questionattemptstep.php',670],['cache/classes','factory.php',504],['lib','pagelib.php',873]], 72],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',884],['lib','accesslib.php',346]], 1929],
'get_all_block_regions': ['get_all_block_regions', 'Get the list of all block regions known to this theme in all templates. ', [['lib','outputlib.php',1916]], 2],
'page_heading_button': ['page_heading_button', 'Gets the HTML for the page heading button. ', [['lib','outputrenderers.php',3812]], 2],
'block_content': ['block_content', 'Produces the content area for a block ', [['lib','outputrenderers.php',1445]], 1],
'container_end': ['container_end', 'Outputs the closing section of a container. ', [['lib','outputrenderers.php',3036]], 113],
'profiling_is_running': ['profiling_is_running', 'Returns if profiling is running, optionally setting it ', [['lib/xhprof','xhprof_moodle.php',39]], 6],
'blocks_for_region': ['blocks_for_region', 'Output all the blocks in a particular region. ', [['lib','outputrenderers.php',1533],['lib','outputrenderers.php',4573]], 5],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'out_omit_querystring': ['out_omit_querystring', 'Returns url without parameters, everything before \'?\'. ', [['lib','weblib.php',575]], 24],
'get_string_manager': ['get_string_manager', 'Returns current string_manager instance. ', [['lib','moodlelib.php',6481]], 147],
'page_title': ['page_title', 'Generate the title for this section page ', [['course/format/weeks','renderer.php',55],['lib','outputrenderers.php',3850],['course/format/topics','renderer.php',68]], 16],
'block_header': ['block_header', 'Produces a header for a block ', [['lib','outputrenderers.php',1415]], 1],
'clean_text': ['clean_text', 'Cleans raw text removing nasties. ', [['lib','weblib.php',1568]], 43],
'heading_with_help': ['heading_with_help', 'Centered heading with attached help button (same title text) and optional icon attached. ', [['lib','outputrenderers.php',2218]], 39],
'standard_footer_html': ['standard_footer_html', 'The standard tags (typically performance information and validation links, if we are in developer debug mode) that should be output in the footer area of the page. Designed to be called in theme layout.php files. ', [['lib','outputrenderers.php',597]], 13],
'pop_all_but_last': ['pop_all_but_last', 'Close all but the last open container. This is useful in places like error handling, where you want to close all the open containers (apart from <body>) before outputting the error message. ', [['lib','outputlib.php',2053]], 6],
'custom_block_region': ['custom_block_region', 'Renders a custom block region. ', [['lib','outputrenderers.php',3718]], 4],
'body_css_classes': ['body_css_classes', 'Returns the CSS classes to apply to the body tag. ', [['lib','outputrenderers.php',3740]], 1],
'user_can_rate': ['user_can_rate', 'Returns true if the user is able to rate this rating object ', [['rating','lib.php',240]], 1],
'end_div': ['end_div', 'Ends a <div> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1832]], 83],
'prepare_classes': ['prepare_classes', 'Given an array or space-separated list of classes, prepares and returns the HTML class attribute value ', [['lib','outputrenderers.php',221]], 4],
'full_header': ['full_header', 'Wrapper for header elements. ', [['lib','outputrenderers.php',4040]], 10],
'page_heading': ['page_heading', 'Gets HTML for the page heading. ', [['lib','outputrenderers.php',3801]], 4],
'get_block_render_method': ['get_block_render_method', 'Returns the block render method. ', [['lib','outputlib.php',1940]], 1],
'get_realuser': ['get_realuser', 'Returns the $USER object ignoring current login-as session ', [['lib/classes/session','manager.php',794]], 10],
'page_heading_menu': ['page_heading_menu', 'Returns the page heading menu. ', [['lib','outputrenderers.php',3840]], 10],
'push': ['push', 'Push the close HTML for a recently opened container onto the stack. ', [['lib','outputlib.php',2008],['lib/evalmath','evalmath.class.php',452],['lib/htmlpurifier/HTMLPurifier','Queue.php',43],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',62],['lib/horde/framework/Horde/Support','Memory.php',44],['lib/mustache/src/Mustache','Context.php',32],['lib/horde/framework/Horde/Support','Timer.php',33],['lib/horde/framework/Horde/Support','Stack.php',23],['webservice/amf/testclient','AMFTester.mxml',391],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',55]], 4171],
'get_login_url': ['get_login_url', 'Returns full login url. ', [['lib','moodlelib.php',2427],['lib','oauthlib.php',466]], 48],
'tabtree': ['tabtree', 'Renders tabs ', [['lib','outputrenderers.php',3589]], 9],
'block_controls': ['block_controls', 'Output the row of editing icons for a block, as defined by the controls array. ', [['lib','outputrenderers.php',1198]], 2],
'get_content_for_region': ['get_content_for_region', 'Returns an array of block content objects that exist in a region ', [['lib','blocklib.php',289]], 1],
'render_custom_menu_item': ['render_custom_menu_item', '', [['theme/bootstrapbase/renderers','core_renderer.php',114],['lib','outputrenderers.php',3489]], 4],
'initialise_rating_javascript': ['initialise_rating_javascript', 'Initialises JavaScript to enable AJAX ratings on the provided page ', [['rating','lib.php',1004]], 1],
'yui_module': ['yui_module', 'Creates a JavaScript function call that requires one or more modules to be loaded. ', [['lib','outputrequirementslib.php',1016]], 76],
'render_action_link': ['render_action_link', 'Renders an action_link object. ', [['lib','outputrenderers.php',1608]], 0],
'initialise_js': ['initialise_js', 'Initialise the JavaScript required on pages where questions will be displayed. ', [['question/engine','lib.php',452],['question/engine','lib.php',724],['enrol','locallib.php',1310],['lib','outputcomponents.php',3361]], 9],
'current_language': ['current_language', 'Returns the code for the current language ', [['lib','moodlelib.php',6392]], 44],
'render_rating': ['render_rating', 'Produces the html that represents this rating in the UI ', [['lib','outputrenderers.php',2114]], 0],
'custom_menu': ['custom_menu', '', [['theme/bootstrapbase/renderers','core_renderer.php',56],['lib','outputrenderers.php',3425],['lib','outputrenderers.php',4631]], 25],
'get_course_context': ['get_course_context', 'Get the context of the current course. ', [['mod/assign','locallib.php',1208],['lib','deprecatedlib.php',3666],['lib','accesslib.php',5713],['lib','accesslib.php',6858],['lib','accesslib.php',7119],['lib','accesslib.php',7330],['mod/assign','gradingtable.php',1342]], 85],
'join': ['join', 'Join a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.join) ', [['lib/google/src/Google/Service','Games.php',1715],['lib/google/src/Google/Service','Games.php',2099]], 949],
'user_picture': ['user_picture', '', [['mod/quiz','attemptlib.php',2188],['lib','outputrenderers.php',2367],['lib','outputrenderers.php',4702]], 114],
'start_tag': ['start_tag', '', [['backup/util/xml/parser','progressive_parser.class.php',215],['lib','outputcomponents.php',1075]], 694],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'uarrow': ['uarrow', 'Accessibility: Up arrow-like character is used in the book heirarchical navigation. If the theme does not set characters, appropriate defaults are set automatically. Please DO NOT use ^ - this is confusing for blind users. ', [['lib','outputrenderers.php',3412]], 1],
'render_notification': ['render_notification', 'Render a notification (that is, a status message about something that has just happened). ', [['lib','outputrenderers.php',2841]], 0],
'set_title': ['set_title', '', [['backup/cc/cc_lib','cc_basiclti.php',57],['backup/cc/cc_lib','cc_weblink.php',41],['backup/cc/cc_lib','cc_metadata.php',225],['backup/cc/cc_lib','cc_forum.php',39],['mod/wiki','pagelib.php',216],['lib','outputcomponents.php',2815],['backup/cc/cc_lib','cc_asssesment.php',595],['backup/cc/cc_lib','cc_asssesment.php',843],['backup/cc/cc_lib','cc_asssesment.php',1060],['backup/cc/cc_lib','cc_asssesment.php',1829],['lib','pagelib.php',1128],['backup/cc/cc_lib','cc_page.php',38]], 445],
'js_function_call': ['js_function_call', '!!!DEPRECATED!!! please use js_init_call() if possible Ensure that the specified JavaScript function is called from an inline script somewhere on this page. ', [['lib','outputrequirementslib.php',938]], 23],
'can_embed_urls': ['can_embed_urls', 'Checks whether a file can be embedded. If this returns true you will get an embedded player; if this returns false, you will just get a download link. ', [['lib','outputrenderers.php',4466]], 1],
'message_messenger_sendmessage_link_params': ['message_messenger_sendmessage_link_params', 'Returns the attributes to place on a link to open the \'Send message\' dialog. ', [['message','lib.php',2708]], 2],
'rarrow': ['rarrow', 'Accessibility: Right arrow-like character is used in the breadcrumb trail, course navigation menu (previous/next activity), calendar, and search forum block. If the theme does not set characters, appropriate defaults are set automatically. Please DO NOT use &lt; &gt; &raquo; - these are confusing for blind users. ', [['lib','outputrenderers.php',3384]], 12],
'get_title': ['get_title', 'Returns the class $title var value. ', [['blocks','moodleblock.class.php',155],['question/classes/bank','checkbox_column.php',36],['completion/criteria','completion_criteria_unenrol.php',92],['lib','authlib.php',510],['completion/criteria','completion_criteria_grade.php',129],['question/classes/bank','modifier_name_column.php',31],['completion/criteria','completion_criteria_activity.php',165],['completion/criteria','completion_criteria_course.php',120],['question/classes/bank','question_name_column.php',32],['question/classes/bank','question_text_row.php',39],['lib/simplepie/library/SimplePie','Enclosure.php',860],['lib/simplepie/library','SimplePie.php',1969],['question/classes/bank','action_column_base.php',28],['enrol','locallib.php',1388],['lib/simplepie/library/SimplePie','Item.php',260],['lib','outputcomponents.php',2759],['completion/criteria','completion_criteria_role.php',118],['badges/criteria','award_criteria.php',162],['completion/criteria','completion_criteria_date.php',106],['enrol/manual','locallib.php',167],['enrol/manual','locallib.php',312],['completion/criteria','completion_criteria_self.php',109],['lib/simplepie/library/SimplePie','Source.php',104],['lib','navigationlib.php',580],['question/classes/bank','creator_name_column.php',32],['completion/criteria','completion_criteria_duration.php',153],['question/classes/bank','question_type_column.php',30]], 71],
'loadtemplate': ['loadtemplate', 'Load a Mustache Template by name. ', [['lib/mustache/src/Mustache','Engine.php',608]], 2],
'file_picker': ['file_picker', 'Returns HTML to display the file picker ', [['lib','outputrenderers.php',2510],['lib','outputrenderers.php',4643]], 4],
'get_top_of_body_code': ['get_top_of_body_code', 'Generate any HTML that needs to go at the start of the <body> tag. ', [['lib','outputrequirementslib.php',1509]], 1],
'add_action_handler': ['add_action_handler', 'Adds a JS action for the element with the provided id. ', [['lib','outputrenderers.php',193]], 9],
'is_enabled': ['is_enabled', 'Allows hiding this plugin from the submission/feedback screen if it is not enabled. ', [['mod/assign','assignmentplugin.php',223],['lib/classes/plugininfo','orphaned.php',37],['lib','completionlib.php',269],['mod/assign/submission/comments','locallib.php',172],['mod/assign/feedback/editpdf','locallib.php',276],['lib/classes/plugininfo','base.php',371],['lib/classes/plugininfo','tool.php',39],['admin/tool/health','index.php',393],['admin/tool/log/classes/plugininfo','logstore.php',35],['lib/classes/message/inbound','manager.php',37],['lib/classes/plugininfo','mnetservice.php',33],['mod/assignment/classes/plugininfo','assignment.php',32],['lib','adminlib.php',1952],['mod/assign/feedback/offline','locallib.php',365],['lib','medialib.php',318],['lib','medialib.php',634],['lib','medialib.php',1265]], 200],
'css_urls': ['css_urls', 'Get the stylesheet URL of this theme. ', [['lib','outputlib.php',681]], 1],
'js_init_call': ['js_init_call', 'Ensure that the specified JavaScript function is called from an inline script from page footer. ', [['lib','outputrequirementslib.php',1050]], 95],
'pix_icon': ['pix_icon', 'Return HTML for a pix_icon. ', [['lib','outputrenderers.php',2074]], 449],
'label': ['label', 'Renders form element label ', [['lib','outputcomponents.php',1736]], 111],
'theme_switch_links': ['theme_switch_links', 'Renders theme links for switching between default and other themes. ', [['lib','outputrenderers.php',3556]], 1],
'ensure_content_created': ['ensure_content_created', 'Ensure that there is some content within the given region ', [['lib','blocklib.php',1011]], 5],
'get_children': ['get_children', 'Returns list of children. ', [['lib/filebrowser','file_info_context_course.php',381],['lib/filebrowser','file_info_context_course.php',530],['lib/filebrowser','file_info_context_course.php',666],['lib/filebrowser','file_info_context_course.php',812],['lib/filebrowser','file_info_context_system.php',92],['mod/book','locallib.php',462],['lib/filebrowser','file_info_context_coursecat.php',152],['mod/forum','locallib.php',481],['lib','outputcomponents.php',2767],['backup/util/structure','base_nested_element.class.php',127],['lib/filebrowser','file_info_context_module.php',258],['lib/filebrowser','file_info_context_user.php',274],['mod/data','locallib.php',493],['mod/workshop','fileinfolib.php',91],['mod/workshop','fileinfolib.php',251],['mod/imscp','locallib.php',336],['mod/lesson/classes','file_info.php',102],['mod/glossary','locallib.php',543],['lib/grade','grade_category.php',1898],['lib','adminlib.php',1036],['lib/filebrowser','file_info_stored.php',330],['lib','coursecatlib.php',981]], 79],
'fatal_error': ['fatal_error', 'Do not call this function directly. ', [['lib','outputrenderers.php',2668],['lib','outputrenderers.php',4101],['lib','outputrenderers.php',4165]], 1],
'render_action_menu_link_secondary': ['render_action_menu_link_secondary', 'Renders a secondary action_menu_link item. ', [['lib','outputrenderers.php',1336]], 0],
'get_aggregate_label': ['get_aggregate_label', 'Returns a string that describes the aggregation method that was provided. ', [['rating','lib.php',1025]], 1],
'isloggedin': ['isloggedin', 'Return true, if session is currently logged into the backend server ', [['lib/zend/Zend/Service','LiveDocx.php',293],['lib','accesslib.php',1909]], 177],
'container': ['container', 'Outputs a container. ', [['lib','outputrenderers.php',3011]], 186],
'course_get_format': ['course_get_format', 'Returns an instance of format class (extending format_base) for given course ', [['course/format','lib.php',27]], 88],
'layout_file': ['layout_file', 'Given the settings of this theme, and the page pagelayout, return the full path of the page layout file to use. ', [['lib','outputlib.php',1823]], 1],
'tree_block_contents': ['tree_block_contents', 'Make nested HTML lists out of the items ', [['lib','outputrenderers.php',3045]], 2],
'navbar': ['navbar', '', [['theme/bootstrapbase/renderers','core_renderer.php',34],['lib','outputrenderers.php',3299]], 7],
'get_regions': ['get_regions', 'Get an array of all region names on this page where a block may appear ', [['lib','blocklib.php',164]], 16],
'will_be_enhanced': ['will_be_enhanced', 'Returns true if this action menu will be enhanced. ', [['lib','outputcomponents.php',3554]], 2],
'get_device_type': ['get_device_type', 'Returns the device type we believe is being used. ', [['lib/classes','useragent.php',149],['lib','deprecatedlib.php',3864]], 11],
'page_get_doc_link_path': ['page_get_doc_link_path', 'Returns the path to use when constructing a link to the docs. ', [['lib','weblib.php',1017]], 2],
'get_rate_url': ['get_rate_url', 'Returns a URL that can be used to rate the associated item. ', [['rating','lib.php',329]], 1],
'render_pix_emoticon': ['render_pix_emoticon', 'Return HTML to display an emoticon icon. ', [['lib','outputrenderers.php',2102]], 0],
'__call': ['__call', 'Prepares query parameters ', [['lib/zend/Zend/Service/Amazon','Query.php',54],['lib/minify/lib/MrClay/Cli','Arg.php',149],['lib/zend/Zend/Server/Reflection','Parameter.php',72],['lib/zend/Zend/Rest/Client','Result.php',117],['lib/zend/Zend/Gdata','Gapps.php',608],['lib/adodb','adodb.inc.php',2817],['lib/adodb','adodb.inc.php',2894],['lib/zend/Zend/Server/Reflection/Function','Abstract.php',359],['lib/zend/Zend/Service/Nirvanix/Namespace','Base.php',101],['lib/zend/Zend/Service/StrikeIron','Decorator.php',83],['lib/horde/framework/Horde/Support','Stub.php',74],['lib/zend/Zend/XmlRpc/Client','ServerProxy.php',83],['lib','modinfolib.php',1126],['','mdeploy.php',568],['lib/zend/Zend/Gdata','App.php',1004],['lib/zend/Zend/Rest','Client.php',203],['lib/tests','navigationlib_test.php',480],['lib/tests','navigationlib_test.php',534],['lib/tests','navigationlib_test.php',562],['lib/simplepie/library','SimplePie.php',2956],['lib/zend/Zend/Service','Twitter.php',235],['lib/alfresco/Service/WebService','AlfrescoWebService.php',39],['lib/behat','behat_base.php',223],['lib/zend/Zend/Service/Nirvanix','Response.php',92],['lib/zend/Zend/XmlRpc','Server.php',199],['lib/zend/Zend/Server/Reflection','Class.php',95],['lib/zend/Zend/Soap','Client.php',1095],['lib/phpexcel/PHPExcel/Writer','PDF.php',74],['lib','outputrenderers.php',339],['lib/zend/Zend/Service/DeveloperGarden/Client','Soap.php',100],['lib/zend/Zend/Service/StrikeIron','Base.php',78],['lib/zend/Zend/Service','Audioscrobbler.php',654],['lib/zend/Zend/Loader/Autoloader','Resource.php',94],['lib/zend/Zend/Gdata/Health/Extension','Ccr.php',87],['lib/zend/Zend','Exception.php',52],['lib/classes/update','deployer.php',365],['lib','setuplib.php',1768]], 4],
'get_end_code': ['get_end_code', 'Generate any HTML that needs to go at the end of the page. ', [['lib','outputrequirementslib.php',1533]], 1],
'body_id': ['body_id', 'The ID attribute to apply to the body tag. ', [['lib','outputrenderers.php',3777]], 1],
'during_initial_install': ['during_initial_install', 'Indicates whether we are in the middle of the initial Moodle install. ', [['lib','setuplib.php',1124]], 48],
'sesskey': ['sesskey', 'Makes sure that $USER->sesskey exists, if $USER itself exists. It sets a new sesskey if one does not already exist, but does not overwrite existing sesskeys. Returns the sesskey string if $USER exists, or boolean false if not. ', [['lib','sessionlib.php',28]], 631],
'render_paging_bar': ['render_paging_bar', 'Internal implementation of paging bar rendering. ', [['lib','outputrenderers.php',2909]], 0],
'javascript_url': ['javascript_url', 'Generate a URL to the file that serves theme JavaScript files. ', [['lib','outputlib.php',1178]], 2],
'get_performance_info': ['get_performance_info', 'get_performance_info() pairs up with init_performance_info() loaded in setup.php. Returns an array with \'html\' and \'txt\' values ready for use, and each of the individual stats provided separately as well. ', [['lib','moodlelib.php',8582],['lib/classes/session','manager.php',102]], 4],
'footer': ['footer', 'Returns the footer ', [['mod/lesson','renderer.php',78],['lib/tcpdf','tcpdf.php',3464],['lib','outputrenderers.php',1021],['lib','outputrenderers.php',4143],['lib','outputrenderers.php',4248]], 780],
'get_head_code': ['get_head_code', 'Generate any HTML that needs to go inside the <head> tag. ', [['lib','outputrequirementslib.php',1433]], 1],
'user_can_view_aggregate': ['user_can_view_aggregate', 'Returns true if the user is able to view the aggregate for this rating object. ', [['rating','lib.php',274]], 2],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1063],['lib/zend/Zend/Service','Technorati.php',228]], 1254],
'course_content_footer': ['course_content_footer', 'Course-specific information to be output immediately below content on any course page ', [['course/format','lib.php',878],['lib','outputrenderers.php',1099],['lib','outputrenderers.php',4597]], 13],
'add_action': ['add_action', 'Add action to the button. ', [['lib','outputcomponents.php',677],['lib','outputcomponents.php',801],['lib','outputcomponents.php',1021],['mod/workshop','locallib.php',3504]], 13],
'action_icon': ['action_icon', 'Renders an action_icon. ', [['course/classes','management_renderer.php',987],['lib','outputrenderers.php',1657]], 105],
'js': ['js', 'Ensure that the specified JavaScript file is linked to from this page. ', [['lib','outputrequirementslib.php',398],['lib/classes','minify.php',31],['grade/report/singleview/classes/local/screen','screen.php',245]], 75],
'update_module_button': ['update_module_button', 'Prints the \'update this xxx\' button that appears on module pages. ', [['lib','deprecatedlib.php',1382],['lib','outputrenderers.php',2598]], 2],
'maintenance_warning': ['maintenance_warning', 'Scheduled maintenance warning message. ', [['lib','outputrenderers.php',566]], 1],
'div': ['div', 'Divides two numbers, using arbitrary precision when available. ', [['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',239],['lib','outputcomponents.php',1809]], 130],
'add': ['add', '', [['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',454],['blog','locallib.php',242],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',11],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',31],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',428],['backup/cc','validator.php',51],['lib/google/src/Google/Http','Batch.php',47],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',37],['lib/horde/framework/Horde/Support','ConsistentHash.php',148],['lib/horde/framework/Horde/Imap/Client','Ids.php',155],['lib/zend/Zend/Service/Simpy','WatchlistFilterSet.php',47],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',109],['lib/lessphp/Output','Mapped.php',50],['lib/horde/framework/Horde/Stream','TempString.php',118],['lib','licenselib.php',32],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',207],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',29],['lib/horde/framework/Horde/Mail/Rfc822','List.php',116],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3450],['lib/google/src/Google/Service','Webmasters.php',375],['lib/horde/framework/Horde','Variables.php',297],['lib','outputcomponents.php',2700],['lib','outputcomponents.php',3375],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',14],['lib/zend/Zend','Date.php',1081],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',33],['comment','lib.php',675],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',86],['lib/horde/framework/Horde','Stream.php',116],['backup/cc/cc_lib/gral_lib','cssparser.php',111],['lib/lessphp','Output.php',18],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',50],['lib','adminlib.php',736],['lib','adminlib.php',895],['lib','adminlib.php',1447],['lib','csslib.php',1508],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',95],['lib','navigationlib.php',302],['lib','navigationlib.php',758],['lib','navigationlib.php',3288],['lib','navigationlib.php',3542],['lib/phpexcel/PHPExcel','HashTable.php',85],['lib/mustache/src/Mustache','HelperCollection.php',56],['lib/horde/framework/Horde/Mail/Rfc822','GroupList.php',25],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',27],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',80],['backup/cc/cc_lib','cc_utils.php',395],['backup/cc/cc_lib','cc_utils.php',454]], 5988],
'render_action_menu_link_primary': ['render_action_menu_link_primary', 'Renders a primary action_menu_link item. ', [['lib','outputrenderers.php',1326]], 0],
'old_help_icon': ['old_help_icon', 'Returns HTML to display a help icon. ', [['lib','outputrenderers.php',2245]], 1],
'close_window_button': ['close_window_button', 'Returns HTML to display a simple button to close a window ', [['lib','outputrenderers.php',2637]], 7],
'render_file_picker': ['render_file_picker', 'Internal implementation of file picker rendering. ', [['lib','outputrenderers.php',2535]], 0],
'register': ['register', 'Registers a custom scheme to the cache, bypassing reflection. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',70],['lib/zend/Zend/Service/Amazon/Ec2','Image.php',39],['lib/htmlpurifier/HTMLPurifier','Context.php',19],['lib/google/src/Google/Service','Spectrum.php',163],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16599],['lib/lessphp','Autoloader.php',25],['lib/simplepie/library/SimplePie','Cache.php',106],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',18],['lib/phpexcel/PHPExcel','Autoloader.php',48],['lib/mustache/src/Mustache','Autoloader.php',39],['lib/phpexcel/PHPExcel/Shared','ZipStreamWrapper.php',65],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',48],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',76],['lib/simplepie/library/SimplePie','Registry.php',106],['lib/minify/lib/Minify','Loader.php',23]], 307],
'end_tag': ['end_tag', '', [['backup/util/xml/parser','progressive_parser.class.php',261],['lib','outputcomponents.php',1086],['backup/util/xml','xml_writer.class.php',177]], 858],
'set_menu_trigger': ['set_menu_trigger', '', [['lib','outputcomponents.php',3357]], 8],
'user_get_user_navigation_info': ['user_get_user_navigation_info', 'Get a list of essential user navigation items. ', [['user','lib.php',711]], 1],
'pix_url': ['pix_url', 'Return the URL for an image ', [['lib','outputlib.php',1356],['lib','outputrenderers.php',234]], 406],
'out': ['out', 'Returns the string ', [['lib','moodlelib.php',9451],['lib','weblib.php',547],['lib','tablelib.php',1526],['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['report/loglive/classes','table_log_ajax.php',37]], 549],
'out_as_local_url': ['out_as_local_url', 'Returns URL a relative path from $CFG->wwwroot ', [['lib','weblib.php',809]], 41],
'notify_redirect': ['notify_redirect', 'Output a notification at a particular level - in this case, NOTIFY_REDIRECT. ', [['lib','outputrenderers.php',2830]], 0],
'get_html_lang': ['get_html_lang', 'Return a string containing \'lang\', xml:lang and optionally \'dir\' HTML attributes. ', [['lib','weblib.php',1960]], 3],
'embed_alternatives': ['embed_alternatives', 'Renders media files (audio or video) using suitable embedded player. The list of URLs should be alternative versions of the same content in multiple formats. If there is only one format it should have a single entry. ', [['lib','outputrenderers.php',4385]], 4],
'span': ['span', 'Creates a <span> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1841]], 119],
'get_items': ['get_items', 'Get all items from the feed ', [['lib/simplepie/library','SimplePie.php',2813],['admin/tool/customlang','locallib.php',413],['grade','lib.php',2449],['lib','navigationlib.php',3146]], 16],
'error_text': ['error_text', 'Output an error message. By default wraps the error message in <span class="error">. If the error message is blank, nothing is output. ', [['lib','outputrenderers.php',2653]], 87],
'render_preferences_groups': ['render_preferences_groups', 'Renders preferences groups. ', [['lib','outputrenderers.php',3870]], 0],
'course_content_header': ['course_content_header', 'Course-specific information to be output immediately above content on any course page ', [['course/format','lib.php',867],['lib','outputrenderers.php',1072],['lib','outputrenderers.php',4585]], 13],
'add_body_class': ['add_body_class', 'Adds a CSS class to the body tag of the page. ', [['lib','pagelib.php',1104]], 33],
'get_list_of_translations': ['get_list_of_translations', 'Returns localised list of installed translations ', [['lib/classes','string_manager_standard.php',504],['lib/classes','string_manager.php',102],['lib/classes','string_manager_install.php',209]], 21],
'user_menu': ['user_menu', 'Construct a user menu, returning HTML that can be echoed out by a layout file. ', [['lib','outputrenderers.php',3106]], 11],
'embed': ['embed', '', [['lib/tests','medialib_test.php',637],['lib/simplepie/library/SimplePie','Enclosure.php',925],['lib','medialib.php',414],['lib','medialib.php',686],['lib','medialib.php',728],['lib','medialib.php',772],['lib','medialib.php',848],['lib','medialib.php',916],['lib','medialib.php',975],['lib','medialib.php',1037],['lib','medialib.php',1156],['lib','medialib.php',1239]], 15],
'render_action_menu': ['render_action_menu', 'Renders an action menu component. ', [['lib','outputrenderers.php',1222]], 0],
'get_primary_actions': ['get_primary_actions', 'Returns the primary actions ready to be rendered. ', [['lib','outputcomponents.php',3424]], 1],
'render_action_menu_link': ['render_action_menu_link', 'Renders an action_menu_link item. ', [['lib','outputrenderers.php',1260]], 2],
'get_aggregate_string': ['get_aggregate_string', 'Returns this ratings aggregate value as a string. ', [['rating','lib.php',215]], 1],
'css_theme': ['css_theme', 'Add theme stylesheet to page - do not use from plugin code, this should be called only from the core renderer! ', [['lib','outputrequirementslib.php',904]], 1],
'render_preferences_group': ['render_preferences_group', 'Renders preferences group. ', [['lib','outputrenderers.php',3902]], 0],
'function_call_with_y': ['function_call_with_y', 'Special function which adds Y as first argument of function call. ', [['lib','outputcomponents.php',1909]], 2],
'lang_menu': ['lang_menu', 'Returns lang menu or \'\', this method also checks forcing of languages in courses. ', [['lib','outputrenderers.php',1166],['lib','outputrenderers.php',4679]], 3],
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1922]], 237],
'single_select': ['single_select', 'Returns a form with a single select widget. ', [['lib','outputrenderers.php',1817]], 66],
'debug_summary': ['debug_summary', 'Get a description of this page. Normally displayed in the footer in developer debug mode. ', [['lib','pagelib.php',854]], 1],
'compare': ['compare', '', [['lib/lessphp/Tree','Anonymous.php',32],['lib/horde/framework/Horde/Array/Sort','Helper.php',26],['lib/lessphp/Tree','Keyword.php',37],['lib','weblib.php',595],['lib/zend/Zend','Date.php',1129],['lib/lessphp/Tree','Dimension.php',122],['lib/lessphp/Tree','Color.php',186],['lib/lessphp/Tree','Quoted.php',66],['lib','navigationlib.php',5043],['lib/lessphp/Tree','Unit.php',56]], 47],
'render_single_button': ['render_single_button', 'Renders a single button widget. ', [['lib','outputrenderers.php',1762]], 0],
'addhelper': ['addhelper', 'Add a new Mustache helper. ', [['lib/mustache/src/Mustache','Engine.php',374]], 2],
'__construct': ['__construct', 'Constructor ', [['lib/jabber/XMPP','Log.php',67],['lib/zend/Zend/Gdata/Books','VolumeFeed.php',41],['lib/markdown','MarkdownExtra.php',51],['lib/zend/Zend/Gdata/Books/Extension','BooksCategory.php',42],['lib/horde/framework/Horde/Support','Uuid.php',23],['lib/zend/Zend/Validate','Iban.php',106],['repository/wikimedia','wikimedia.php',35],['lib/lessphp/Tree','Operation.php',19],['lib/alfresco/Service','Version.php',38],['lib/filestorage','file_exceptions.php',36],['lib/filestorage','file_exceptions.php',57],['lib/filestorage','file_exceptions.php',89],['lib/filestorage','file_exceptions.php',108],['lib/filestorage','file_exceptions.php',129],['backup/moodle2','backup_activity_task.class.php',45],['lib/htmlpurifier/HTMLPurifier','AttrCollections.php',16],['lib/phpunit/classes','database_driver_testcase.php',55],['lib/google/src/Google/Service','Reseller.php',44],['lib/horde/framework/Horde/Imap/Client/Interaction/Command','Continuation.php',42],['lib/phpunit/classes','advanced_testcase.php',45],['lib/zend/Zend/Service/DeveloperGarden/Request','RequestAbstract.php',40],['lib','outputlib.php',447],['lib','outputlib.php',2000],['repository/filesystem','lib.php',48],['lib/zend/Zend/XmlRpc/Value','Nil.php',40],['lib/lessphp/Tree','NameValue.php',21],['lib/zend/Zend/Gdata/YouTube','UserProfileEntry.php',283],['lib/zend/Zend/Gdata/Gapps','EmailListRecipientEntry.php',69],['lib/simplepie/library/SimplePie','Restriction.php',81],['lib/filebrowser','file_info_context_course.php',39],['lib/filebrowser','file_info_context_course.php',492],['lib/filebrowser','file_info_context_course.php',596],['lib/filebrowser','file_info_context_course.php',745],['lib/minify/lib/MrClay/Cli','Arg.php',82],['lib/horde/framework/Horde/Crypt/Blowfish','Mcrypt.php',47],['lib/classes/update','checker.php',50],['lib/adodb','adodb-active-recordx.inc.php',131],['lib/phpexcel/PHPExcel','Calculation.php',1721],['lib/zend/Zend/Gdata/Photos/Extension','NumPhotos.php',50],['availability/classes','info_module.php',40],['lib/zend/Zend/Gdata/Geo/Extension','GmlPos.php',49],['lib/zend/Zend/Gdata/App/Extension','Link.php',49],['lib/zend/Zend/Gdata/Photos/Extension','Access.php',51],['lib/zend/Zend/Server/Reflection','Parameter.php',58],['lib/zend/Zend/Service/DeveloperGarden/Client','ClientAbstract.php',129],['lib/horde/framework/Horde/Imap/Client','DateTime.php',29],['lib/zend/Zend/Validate/Db','Abstract.php',79],['cache/locks/file','lib.php',66],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',180],['question/type/missingtype','edit_missingtype_form.php',38],['auth/cas/CAS/CAS','Client.php',862],['lib/horde/framework/Horde/Imap/Client/Data','Envelope.php',46],['lib/zend/Zend/Gdata/Books','VolumeQuery.php',46],['lib/minify/lib/Minify/Cache','XCache.php',22],['lib/zend/Zend/XmlRpc','Request.php',92],['lib/zend/Zend/Service/Delicious','Post.php',74],['lib/zend/Zend/Gdata/Extension','FeedLink.php',53],['lib/zend/Zend/Http/Client/Adapter','Socket.php',97],['lib/grade','grade_object.php',80],['lib/zend/Zend/Gdata/YouTube','ContactFeed.php',55],['backup/util/plan','base_plan.class.php',39],['backup/util/plan','base_plan.class.php',215],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',43],['lib/google/src/Google/Auth','LoginTicket.php',35],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',84],['lib/zend/Zend/Service/DeveloperGarden/SecurityTokenServer','Cache.php',59],['question/type/randomsamatch','question.php',114],['lib/zend/Zend/Service/WindowsAzure/Storage','SignedIdentifier.php',49],['lib/zend/Zend/Amf/Parse','OutputStream.php',40],['blocks','moodleblock.class.php',111],['lib/simplepie','autoloader.php',62],['mod/scorm','renderer.php',129],['lib/zend/Zend/Gdata/Extension','Who.php',64],['lib/zend/Zend/Gdata/Gapps','EmailListQuery.php',54],['lib/zend/Zend/Service/Simpy','LinkSet.php',47],['repository/flickr_public','lib.php',49],['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',55],['lib/google/src/Google/Service','Replicapoolupdater.php',47],['admin/tool/generator/classes','site_backend.php',58],['mod/assign','assignmentplugin.php',50],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',45],['mod/lti/service/profile/classes/local/resource','profile.php',43],['lib/htmlpurifier/HTMLPurifier/AttrDef','Integer.php',36],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',138],['backup/util/structure','base_optigroup.class.php',35],['backup/util/structure','base_optigroup.class.php',169],['lib/lessphp/Tree','Anonymous.php',21],['user','renderer.php',186],['lib/zend/Zend/Service/WindowsAzure','Storage.php',170],['lib/google/src/Google','Service.php',26],['lib/lessphp/Tree','Url.php',17],['webservice','lib.php',745],['webservice','lib.php',841],['webservice','lib.php',1120],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',270],['lib/zend/Zend/Gdata/YouTube/Extension','MediaContent.php',55],['lib/horde/framework/Horde/Support','Randomid.php',26],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','DenyElementDecorator.php',21],['lib/tests','completionlib_test.php',863],['lib/zend/Zend/Service/Amazon','Accessories.php',44],['lib/zend/Zend/Validate/Barcode','Code39ext.php',47],['mod/assign/feedback/editpdf/classes','comment.php',58],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',46],['backup/moodle2','backup_settingslib.php',42],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateListRequest.php',46],['lib/zend/Zend/XmlRpc/Value','Base64.php',40],['backup/util/structure','backup_structure_processor.class.php',45],['backup/util/structure','backup_structure_processor.class.php',133],['lib/zend/Zend/Service/WindowsAzure/Storage','Blob.php',117],['lib/lessphp','Parser.php',75],['lib/zend/Zend/Service/DeveloperGarden/Response/IpLocation','LocateIPResponse.php',47],['lib/zend/Zend/Gdata','Query.php',72],['lib/zend/Zend/Service/Technorati','TagResultSet.php',57],['lib/zend/Zend/Rest/Client','Result.php',42],['lib/lessphp/Tree','Call.php',19],['lib/zend/Zend/Server/Method','Callback.php',59],['lib/minify/lib/Minify/JS','ClosureCompiler.php',38],['mod/workshop/backup/moodle1','lib.php',308],['lib/zend/Zend/Gdata/YouTube','ActivityFeed.php',54],['admin/tool/log/store/database/classes/log','store.php',47],['lib/zend/Zend/Validate','Alpha.php',65],['lib/zend/Zend/Gdata','Gapps.php',109],['lib/zend/Zend/Service/Flickr','Result.php',174],['question/type/multianswer','edit_multianswer_form.php',58],['mod/assign/feedback/file','renderable.php',44],['lib/horde/framework/Horde','Secret.php',48],['lib/zend/Zend/Gdata/Photos/Extension','AlbumId.php',51],['lib/lessphp/SourceMap','Base64VLQ.php',67],['lib/lessphp/Tree/Mixin','Call.php',14],['auth/cas/CAS/CAS','GracefullTerminationException.php',48],['lib/google/src/Google/Service','Fusiontables.php',48],['grade/report/singleview','lib.php',69],['lib/classes/lock','lock.php',55],['grade/grading/form','lib.php',82],['grade/grading/form','lib.php',766],['blog','locallib.php',71],['blog','locallib.php',581],['blog','locallib.php',849],['blog','locallib.php',894],['blog','locallib.php',953],['blog','locallib.php',1004],['blog','locallib.php',1028],['blog','locallib.php',1038],['blog','locallib.php',1050],['blog','locallib.php',1071],['lib/zend/Zend/Gdata/Exif/Extension','Flash.php',49],['backup/cc/cc_lib','cc_general.php',38],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',61],['admin/webservice','lib.php',38],['lib/zend/Zend/Validate/File','FilesSize.php',60],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',46],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',27],['repository/boxnet','lib.php',56],['lib/htmlpurifier/HTMLPurifier','Language.php',63],['lib/zend/Zend/Validate','Int.php',53],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',62],['lib/zend/Zend/Soap','Server.php',146],['lib/zend/Zend/Gdata/Photos','PhotoEntry.php',215],['lib/zend/Zend/Service/Yahoo','LocalResult.php',111],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','GetAccountBalance.php',40],['badges/lib','backpacklib.php',40],['lib/zend/Zend/Service/Yahoo','Result.php',77],['lib/form','filemanager.php',306],['lib/lessphp/Tree','Condition.php',18],['lib/pear/PEAR','Exception.php',107],['lib/zend/Zend/Gdata/YouTube/Extension','Racy.php',45],['question/classes/bank','view.php',70],['lib/adodb','adodb.inc.php',2790],['lib/adodb','adodb.inc.php',2865],['lib/zend/Zend/Gdata/App/Extension','Text.php',45],['question/engine/upgrade/tests','helper.php',45],['lib/zend/Zend/Validate/Barcode','Ean5.php',47],['blocks/private_files','renderer.php',83],['backup/util/settings/section','section_backup_setting.class.php',25],['lib/classes','useragent.php',115],['lib/zend/Zend/Gdata/Photos/Extension','CommentCount.php',51],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',38],['lib/zend/Zend/Gdata/Spreadsheets/Extension','ColCount.php',49],['lib/horde/framework/Horde/Translation/Handler','Gettext.php',34],['lib/portfolio','exceptions.php',50],['lib/zend/Zend/Gdata/Calendar/Extension','QuickAdd.php',45],['lib/xmldb','xmldb_object.php',55],['lib/zend/Zend/Service','SlideShare.php',283],['webservice/amf','introspector.php',52],['question/behaviour/adaptive','behaviour.php',310],['question/behaviour','behaviourtypebase.php',133],['admin/tool/assignmentupgrade','upgradableassignmentstable.php',49],['course','renderer.php',52],['lib/zend/Zend/Validate','Hostname.php',315],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',249],['lib/zend/Zend/Amf','Server.php',134],['enrol/imsenterprise','locallib.php',38],['enrol/imsenterprise','locallib.php',115],['lib/zend/Zend/Http','Cookie.php',98],['lib/lessphp/Tree','Extend.php',28],['lib/zend/Zend/Validate','Barcode.php',75],['lib/zend/Zend/XmlRpc/Value','BigInteger.php',47],['lib/google/src/Google/Service','DoubleClickBidManager.php',40],['lib/google/src/Google/Service','QPXExpress.php',39],['lib/zend/Zend/Server/Reflection/Function','Abstract.php',105],['lib/phpexcel/PHPExcel/Style','Color.php',72],['lib/zend/Zend/Validate/File','Hash.php',60],['backup/util/settings/root','root_backup_setting.class.php',34],['backup/cc/cc_lib','cc_converter_basiclti.php',29],['lib/zend/Zend/Gdata/Photos/Extension','QuotaCurrent.php',50],['lib/zend/Zend/Service/Nirvanix/Namespace','Base.php',76],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',54],['lib/zend/Zend/Service/Technorati','DailyCountsResult.php',60],['lib/zend/Zend/Rest','Server.php',102],['lib/zend/Zend/Gdata/Photos','UserFeed.php',106],['lib/tcpdf/include/barcodes','pdf417.php',523],['lib/minify/lib/Minify/CSS','Compressor.php',51],['lib/zend/Zend/Gdata/YouTube/Extension','VideoId.php',44],['lib/google/src/Google/Service','Blogger.php',50],['mod/workshop/allocation/random','lib.php',52],['mod/workshop/allocation/random','lib.php',727],['lib/zend/Zend/Gdata/App/Extension','Published.php',43],['lib/google/src/Google/Service','Doubleclicksearch.php',43],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Nofollow.php',16],['lib/phpexcel/PHPExcel/Shared/trend','powerBestFitClass.php',129],['lib/zend/Zend/Gdata/Photos','AlbumEntry.php',193],['lib/zend/Zend/Gdata/Docs','DocumentListFeed.php',56],['lib/zend/Zend/Gdata/App/Extension','Icon.php',43],['lib/portfolio','plugin.php',445],['lib/zend/Zend/Gdata/Extension','OpenSearchItemsPerPage.php',44],['lib/horde/framework/Horde/Exception','LastError.php',16],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','ID.php',28],['lib/zend/Zend/Service/Yahoo','WebResult.php',83],['lib/horde/framework/Horde/Imap/Client/Interaction','Client.php',34],['lib/google/src/Google/Service','AdExchangeBuyer.php',46],['lib/dtl','file_xml_database_exporter.php',36],['backup/cc','validator.php',30],['backup/cc','validator.php',116],['backup/cc','validator.php',202],['backup/cc','validator.php',230],['backup/cc','validator.php',236],['backup/cc','validator.php',242],['backup/cc','validator.php',248],['backup/cc','validator.php',254],['backup/cc','validator.php',260],['lib/zend/Zend/Gdata/YouTube/Extension','Token.php',44],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',87],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',47],['lib/xmldb','xmldb_field.php',84],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',126],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceStatusRequest.php',65],['lib/google/src/Google/Service','Manager.php',57],['lib/zend/Zend/Service/Amazon','Offer.php',79],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',35],['lib/zend/Zend/Gdata/App','FeedEntryParent.php',129],['lib/zend/Zend/Service/Technorati','KeyInfoResult.php',61],['lib/htmlpurifier/HTMLPurifier/TagTransform','Simple.php',19],['webservice/rest','lib.php',47],['lib/zend/Zend/Service/StrikeIron','Decorator.php',47],['lib/google/src/Google/Http','Batch.php',38],['lib/google/src/Google/Service','Reports.php',47],['auth/cas/CAS/CAS','OutOfSequenceBeforeAuthenticationCallException.php',47],['lib/zend/Zend/Gdata/Media/Extension','MediaKeywords.php',43],['repository/url','lib.php',46],['lib','xmlize.php',31],['mod/forum/classes','potential_subscriber_selector.php',47],['lib/filebrowser','file_info_context_system.php',37],['lib/zend/Zend/Service/Amazon','Abstract.php',74],['lib/zend/Zend/Server','Definition.php',43],['lib/minify/lib/Minify','ImportProcessor.php',48],['lib/zend/Zend/Amf/Util','BinaryStream.php',53],['lib/portfolio','exporter.php',113],['backup/cc/cc_lib','cc_converter_page.php',28],['lib/zend/Zend/Gdata/YouTube','SubscriptionFeed.php',55],['lib/alfresco/Service','SpacesStore.php',28],['repository/recent','lib.php',39],['lib/zend/Zend/Service/DeveloperGarden/IpLocation','IpAddress.php',59],['lib/zend/Zend/Validate','Regex.php',62],['lib/phpexcel/PHPExcel/Shared/trend','exponentialBestFitClass.php',135],['lib/phpexcel/PHPExcel','ReferenceHelper.php',65],['lib','webdavlib.php',84],['lib/htmlpurifier/HTMLPurifier/AttrTransform','TargetBlank.php',17],['auth/cas/CAS/CAS','AuthenticationException.php',53],['lib/zend/Zend/Gdata/Gapps','NicknameQuery.php',54],['lib/bennu','iCalendar_properties.php',28],['lib/bennu','iCalendar_properties.php',220],['lib/bennu','iCalendar_properties.php',238],['lib/bennu','iCalendar_properties.php',259],['lib/bennu','iCalendar_properties.php',275],['lib/bennu','iCalendar_properties.php',296],['lib/bennu','iCalendar_properties.php',343],['lib/bennu','iCalendar_properties.php',358],['lib/bennu','iCalendar_properties.php',376],['lib/bennu','iCalendar_properties.php',391],['lib/bennu','iCalendar_properties.php',406],['lib/bennu','iCalendar_properties.php',447],['lib/bennu','iCalendar_properties.php',462],['lib/bennu','iCalendar_properties.php',485],['lib/bennu','iCalendar_properties.php',509],['lib/bennu','iCalendar_properties.php',524],['lib/bennu','iCalendar_properties.php',555],['lib/bennu','iCalendar_properties.php',573],['lib/bennu','iCalendar_properties.php',594],['lib/bennu','iCalendar_properties.php',637],['lib/bennu','iCalendar_properties.php',680],['lib/bennu','iCalendar_properties.php',724],['lib/bennu','iCalendar_properties.php',747],['lib/bennu','iCalendar_properties.php',782],['lib/bennu','iCalendar_properties.php',808],['lib/bennu','iCalendar_properties.php',849],['lib/bennu','iCalendar_properties.php',864],['lib/bennu','iCalendar_properties.php',905],['lib/bennu','iCalendar_properties.php',938],['lib/bennu','iCalendar_properties.php',952],['lib/bennu','iCalendar_properties.php',965],['lib/bennu','iCalendar_properties.php',987],['lib/bennu','iCalendar_properties.php',1017],['lib/bennu','iCalendar_properties.php',1031],['lib/bennu','iCalendar_properties.php',1061],['lib/bennu','iCalendar_properties.php',1075],['lib/bennu','iCalendar_properties.php',1098],['lib/bennu','iCalendar_properties.php',1110],['lib/bennu','iCalendar_properties.php',1139],['lib/bennu','iCalendar_properties.php',1160],['lib/bennu','iCalendar_properties.php',1181],['lib/bennu','iCalendar_properties.php',1203],['lib/bennu','iCalendar_properties.php',1227],['lib/bennu','iCalendar_properties.php',1260],['lib/bennu','iCalendar_properties.php',1386],['lib/bennu','iCalendar_properties.php',1407],['lib/bennu','iCalendar_properties.php',1429],['lib/bennu','iCalendar_properties.php',1450],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',36],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',78],['lib/horde/framework/Horde','Domhtml.php',53],['auth/cas/CAS/CAS','OutOfSequenceBeforeProxyException.php',48],['lib/simplepie/library/SimplePie/Parse','Date.php',536],['lib/google/src/Google/Service','Customsearch.php',38],['lib/zend/Zend/Gdata/App','MediaFileSource.php',54],['backup/util/plan','restore_step.class.php',32],['backup/util/plan','restore_step.class.php',104],['lib/lessphp/Tree','Comment.php',17],['availability/tests/fixtures','mock_info.php',40],['lib/htmlpurifier/HTMLPurifier/AttrTransform','EnumToCSS.php',34],['backup/util/ui','base_ui.class.php',84],['lib/phpexcel/PHPExcel','DocumentSecurity.php',73],['lib/htmlpurifier/HTMLPurifier/AttrDef/URI','Host.php',15],['backup/cc/cc_lib','cc_converter_lti.php',29],['lib/zend/Zend/Gdata/YouTube/Extension','Position.php',44],['lib/zend/Zend/Service/WindowsAzure/Credentials','CredentialsAbstract.php',77],['lib/zend/Zend/Soap','AutoDiscover.php',94],['lib/htmlpurifier/HTMLPurifier','URI.php',58],['lib/phpexcel/PHPExcel','IOFactory.php',77],['lib/zend/Zend/Gdata/App/Extension','Email.php',43],['lib/zend/Zend/Gdata/Media/Extension','MediaHash.php',45],['lib/zend/Zend/Gdata/App/Extension','Element.php',42],['lib/google/src/Google/Service','Gmail.php',55],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Multiple.php',33],['repository/dropbox','lib.php',49],['lib/minify/lib/Minify','Source.php',43],['backup/util/dbops','backup_dbops.class.php',37],['lib/google/src/Google/Service','Plus.php',52],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',28],['lib/google/src/Google/Service','Spectrum.php',38],['files','renderer.php',1080],['lib/zend/Zend/Validate/Barcode','Ean2.php',47],['course','lib.php',2932],['lib/horde/framework/Horde/Support','ConsistentHash.php',56],['lib/zend/Zend/Service/Simpy','Watchlist.php',89],['lib/phpexcel/PHPExcel','Style.php',101],['lib/zend/Zend/Gdata/YouTube/Extension','CountHint.php',44],['lib/minify/lib/Minify/Cache','Memcache.php',22],['auth/db','auth.php',36],['lib/zend/Zend/Gdata/Gapps','UserQuery.php',54],['admin/roles/classes','assign_user_selector_base.php',40],['lib/zend/Zend/Gdata/Exif/Extension','Model.php',49],['lib/zend/Zend/Gdata/YouTube','PlaylistListFeed.php',55],['lib/zend/Zend/Gdata/Docs','DocumentListEntry.php',42],['mod/quiz/tests','repaginate_test.php',39],['question/engine','questionusage.php',78],['question/engine','questionusage.php',973],['lib/simplepie/library/SimplePie/Cache','MySQL.php',80],['lib/zend/Zend/Service/Twitter','Search.php',70],['lib/zend/Zend/Server/Method','Parameter.php',59],['lib/phpunit/classes','basic_testcase.php',39],['lib/zend/Zend/Service/WindowsAzure/Storage','BlobContainer.php',50],['lib/zend/Zend/Service/DeveloperGarden/Response/LocalSearch','LocalSearchResponse.php',50],['lib/horde/framework/Horde/Imap/Client','Ids.php',78],['mod/wiki/parser/markups','html.php',18],['lib/google/src/Google/Service','Mirror.php',49],['lib/classes/event','base.php',114],['lib/alfresco/Service','Repository.php',36],['lib/zend/Zend/Service/Technorati','CosmosResult.php',84],['backup/moodle2','backup_xml_transformer.class.php',50],['lib/phpexcel/PHPExcel/Reader/Excel5','RC4.php',42],['lib/zend/Zend/Service/Yahoo','PageDataResult.php',47],['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',99],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceTemplateRequest.php',60],['lib/phpexcel/PHPExcel/Shared/JAMA','EigenvalueDecomposition.php',775],['lib/tcpdf','tcpdf_parser.php',92],['lib/minify/lib/Minify/Cache','APC.php',19],['lib/zend/Zend/Gdata','MimeBodyString.php',49],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',55],['lib/phpexcel/PHPExcel/Calculation','FormulaParser.php',92],['lib/google/src/Google/Http','MediaFileUpload.php',73],['lib/zend/Zend/XmlRpc/Client','ServerProxy.php',54],['lib','listlib.php',82],['lib','listlib.php',485],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Background.php',20],['lib/zend/Zend/Gdata/Health','ProfileFeed.php',49],['lib/google/src/Google/Service','Genomics.php',60],['lib/google/src/Google/Service','Urlshortener.php',40],['lib/zend/Zend/Server/Reflection','Method.php',51],['lib/tests','medialib_test.php',631],['lib/htmlpurifier/HTMLPurifier/ChildDef','Required.php',23],['lib/zend/Zend/Soap/Client','DotNet.php',43],['admin/roles/classes','allow_role_page.php',37],['backup/util/dbops','restore_dbops.class.php',1755],['lib/zend/Zend/Service/Yahoo','NewsResult.php',97],['backup/util/plan','restore_task.class.php',32],['backup/util/plan','restore_task.class.php',121],['webservice/rest','locallib.php',40],['lib/simplepie/library/SimplePie','Sanitize.php',75],['lib','uploadlib.php',40],['lib/zend/Zend/Gdata','Health.php',109],['lib','questionlib.php',1269],['lib','questionlib.php',1513],['lib/dml','oci_native_moodle_recordset.php',34],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveParticipantRequest.php',53],['lib/zend/Zend/XmlRpc/Value','String.php',38],['lib/zend/Zend/Gdata/Calendar/Extension','AccessLevel.php',45],['lib/ddl','database_manager.php',48],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CreateConferenceTemplateRequest.php',60],['backup/util/xml/parser','progressive_parser.class.php',79],['backup/util/xml/parser','progressive_parser.class.php',305],['backup/util/settings','base_setting.class.php',89],['backup/util/settings','base_setting.class.php',556],['lib/dtl','database_exporter.php',55],['mod/workshop/form/accumulative','lib.php',99],['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',182],['grade/report/singleview/classes/local/ui','bulk_insert.php',40],['lib/zend/Zend/Validate','Float.php',53],['lib/zend/Zend/Gdata/Gapps/Extension','EmailList.php',59],['cache/classes','interfaces.php',473],['lib/zend/Zend/Gdata/App/Extension','Edited.php',43],['lib/zend/Zend/Gdata/Gapps','UserEntry.php',103],['lib/lessphp/Tree','Element.php',19],['lib','moodlelib.php',9143],['lib','moodlelib.php',9354],['repository/picasa','lib.php',41],['webservice/soap','lib.php',42],['lib/zend/Zend/Gdata/Calendar','EventEntry.php',71],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Border.php',18],['lib/phpexcel/PHPExcel/Shared/trend','linearBestFitClass.php',98],['backup/cc/cc_lib','cc_assesment_essay.php',25],['lib/zend/Zend/Service/WindowsAzure/RetryPolicy','RetryN.php',56],['lib/dml','moodle_temptables.php',51],['lib/zend/Zend/Gdata/Media/Extension','MediaContent.php',116],['lib/zend/Zend/Gdata/Gapps','EmailListEntry.php',80],['admin/roles/classes','allow_assign_page.php',31],['lib/zend/Zend/Gdata','Books.php',80],['lib/zend/Zend/Amf/Value','MessageHeader.php',64],['lib/zend/Zend/Validate','GreaterThan.php',59],['lib/zend/Zend/Gdata/YouTube/Extension','PlaylistId.php',44],['calendar/classes','rrule_manager.php',182],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',45],['lib/zend/Zend/Service/ReCaptcha','Response.php',53],['lib/simplepie/library/SimplePie/HTTP','Parser.php',131],['lib/phpexcel/PHPExcel/Style','NumberFormat.php',106],['lib/zend/Zend/Amf/Value/Messaging','RemotingMessage.php',58],['lib/tcpdf','tcpdf.php',1822],['lib/zend/Zend/Gdata/YouTube/Extension','Username.php',44],['lib/zend/Zend/Gdata/Photos/Extension','Version.php',51],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Input.php',14],['lib/zend/Zend/Service/WindowsAzure/Storage','Batch.php',77],['lib/mustache/src/Mustache','Engine.php',61],['lib/xmldb','xmldb_structure.php',40],['lib/zend/Zend/Gdata/Photos','TagEntry.php',61],['webservice/amf','locallib.php',41],['webservice/amf','locallib.php',60],['lib/htmlpurifier/HTMLPurifier/ChildDef','Chameleon.php',36],['lib/horde/framework/Horde/Imap/Client','Base.php',153],['question/type/numerical/tests','form_test.php',40],['lib/google/src/Google/Service','IdentityToolkit.php',38],['comment','locallib.php',39],['lib/zend/Zend/Gdata/Extension','Comments.php',50],['lib/google/src/Google/Service','Resource.php',60],['lib/horde/framework/Horde/Imap/Client/Socket','Catenate.php',37],['lib/zend/Zend/Gdata/YouTube/Extension','Recorded.php',44],['lib/zend/Zend/Amf/Request','Http.php',46],['backup/util/settings','setting_dependency.class.php',68],['backup/util/settings','setting_dependency.class.php',175],['backup/util/settings','setting_dependency.class.php',328],['backup/util/settings','setting_dependency.class.php',439],['backup/util/settings','setting_dependency.class.php',465],['backup/util/settings','setting_dependency.class.php',491],['backup/util/settings','setting_dependency.class.php',556],['question/engine/upgrade','behaviourconverters.php',78],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantDetail.php',62],['repository/s3','lib.php',39],['lib/minify/lib/MrClay','Cli.php',74],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','AlphaValue.php',6],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',67],['lib/zend/Zend/Gdata/App','HttpException.php',51],['lib/zend/Zend/Soap/Client','Common.php',40],['lib/google/src/Google/Service','Dfareporting.php',45],['lib/lessphp/Output','Mapped.php',39],['lib/classes/output','notification.php',66],['lib/google/src/Google/Service','PlusDomains.php',72],['backup/util/plan','base_task.class.php',40],['backup/util/plan','base_task.class.php',277],['lib/editor/tinymce','adminlib.php',36],['lib/zend/Zend/Service/Amazon/Ec2','Exception.php',41],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',52],['lib/simplepie/library/SimplePie','Locator.php',68],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',846],['lib/xmldb','xmldb_key.php',43],['user/filters','checkbox.php',51],['lib/phpexcel/PHPExcel/Reader','SYLK.php',75],['question/type/numerical','questiontype.php',507],['backup/cc/cc_lib','cc_converter_url.php',29],['lib/zend/Zend/Gdata/App/Extension','Control.php',50],['lib/minify/lib','FirePHP.php',189],['lib/lessphp/Tree/Mixin','Definition.php',18],['lib/zend/Zend/Service/Yahoo','LocalResultSet.php',61],['lib','ddllib.php',80],['lib','ddllib.php',93],['lib','ddllib.php',107],['lib','ddllib.php',126],['lib','ddllib.php',140],['admin/tool/langimport/classes','controller.php',48],['lib/google/src/Google/Auth','AssertionCredentials.php',53],['lib/horde/framework/Horde/Stream','String.php',27],['lib','excellib.class.php',47],['lib','excellib.class.php',155],['lib','excellib.class.php',454],['lib/horde/framework/Horde/Stream','Temp.php',25],['lib/alfresco/Service','VersionHistory.php',34],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceSchedule.php',81],['mod/quiz/classes','repaginate.php',49],['lib/zend/Zend/Validate','Isbn.php',65],['lib/zend/Zend/Service/Amazon','Image.php',55],['backup/util/ui','restore_ui_components.php',81],['backup/util/ui','restore_ui_components.php',287],['backup/util/ui','restore_ui_components.php',382],['lib/classes/lock','db_record_lock_factory.php',61],['lib/horde/framework/Horde/Stream','TempString.php',40],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',15],['lib/htmlpurifier/HTMLPurifier/ChildDef','Empty.php',22],['lib/zend/Zend/Gdata/Spreadsheets/Extension','Cell.php',76],['question/type/calculated','question.php',188],['question/type/calculated','question.php',303],['lib/horde/framework/Horde/Text','Flowed.php',75],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',25],['lib/zend/Zend/Gdata/Gapps/Extension','Login.php',111],['mod/workshop/form/rubric','lib.php',105],['cohort','locallib.php',37],['cohort','locallib.php',101],['lib/zend/Zend/XmlRpc/Value','DateTime.php',53],['lib/zend/Zend/Service/WindowsAzure/Storage','QueueMessage.php',52],['lib/htmlpurifier/HTMLPurifier','Queue.php',24],['lib/zend/Zend/Amf/Parse','Serializer.php',40],['lib/google/src/Google/Service','GroupsMigration.php',38],['lib/phpexcel/PHPExcel/Worksheet','PageSetup.php',277],['lib/zend/Zend/Gdata/Gapps','ServiceException.php',61],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',14],['lib/zend/Zend/XmlRpc','Fault.php',100],['lib/zend/Zend/Gdata','Photos.php',124],['question/type/calculated','datasetdefinitions_form.php',53],['lib/phpexcel/PHPExcel/Reader','Excel5.php',424],['question/type/shortanswer','question.php',43],['backup/util/structure','base_final_element.class.php',38],['backup/util/structure','base_final_element.class.php',239],['backup/util/structure','base_final_element.class.php',256],['lib/zend/Zend/Service','LiveDocx.php',67],['backup/util/plan','backup_plan.class.php',36],['backup/util/plan','backup_plan.class.php',130],['lib/google/src/Google/Auth','AppIdentity.php',38],['lib/zend/Zend/Gdata/Exif/Extension','FocalLength.php',49],['lib/zend/Zend/Gdata/App/Extension','Id.php',43],['lib/zend/Zend/Gdata/Books/Extension','PreviewLink.php',42],['mod/chat','locallib.php',179],['mod/chat','locallib.php',227],['lib/google/src/Google/Service','Licensing.php',38],['auth/cas/CAS/CAS/PGTStorage','File.php',105],['lib/zend/Zend/Server/Method','Definition.php',64],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetParticipantStatusRequest.php',53],['question/classes/bank','column_base.php',44],['lib/zend/Zend/XmlRpc/Server','Fault.php',67],['lib/zend/Zend/Amf/Value/Messaging','AcknowledgeMessage.php',40],['grade/report/singleview/classes/local/ui','range.php',38],['lib/zend/Zend/Gdata/Books/Extension','Viewability.php',45],['mod/book','locallib.php',405],['lib/zend/Zend/XmlRpc/Value','Array.php',39],['lib/zend/Zend/Service/Technorati','Result.php',63],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceTemplateRequest.php',46],['lib/zend/Zend/Gdata/Exif/Extension','Exposure.php',49],['lib/zend/Zend/Gdata/Exif','Feed.php',58],['question/type/randomsamatch/tests','helper.php',121],['lib/htmlpurifier/HTMLPurifier','PropertyListIterator.php',22],['question/engine/upgrade','logger.php',42],['question/engine/upgrade','logger.php',87],['lib/portfolio/formats/leap2a','lib.php',62],['lib/portfolio/formats/leap2a','lib.php',258],['lib/portfolio/formats/leap2a','lib.php',503],['lib/zend/Zend/Gdata/Spreadsheets','CellEntry.php',49],['lib/zend/Zend/Gdata/Photos/Extension','PhotoId.php',49],['lib/zend/Zend/Http/Response','Stream.php',120],['lib','modinfolib.php',429],['lib','modinfolib.php',1680],['lib','modinfolib.php',2516],['lib/dtl','database_importer.php',61],['lib/tcpdf','tcpdf_barcodes_2d.php',58],['lib/zend/Zend/Gdata/Exif/Extension','Iso.php',49],['lib/zend/Zend/Gdata/YouTube','VideoQuery.php',48],['lib/lessphp/Tree','Variable.php',20],['backup/moodle2','restore_activity_task.class.php',48],['lib/htmlpurifier/HTMLPurifier/AttrTransform','ImgSpace.php',24],['lib/google/src/Google/Signer','P12.php',33],['lib/lessphp/Tree','DetachedRuleset.php',15],['lib/zend/Zend/Gdata/YouTube','SubscriptionEntry.php',138],['lib/zend/Zend/Http/Client/Adapter','Test.php',81],['','mdeploy.php',120],['lib/ddl','sqlite_sql_generator.php',73],['lib/google/src/Google/Service','Drive.php',70],['mod/quiz/classes','admin_review_setting.php',82],['lib','pdflib.php',161],['lib/zend/Zend/Gdata/YouTube/Extension','Duration.php',45],['mod/quiz/report','attemptsreport_options.php',95],['lib/zend/Zend/Validate/File','Md5.php',60],['backup/util/helper','restore_questions_parser_processor.class.php',42],['lib/horde/framework/Horde/Imap/Client/Exception','SearchCharset.php',34],['lib/filebrowser','file_info_context_coursecat.php',39],['badges','renderer.php',972],['badges','renderer.php',1013],['badges','renderer.php',1077],['badges','renderer.php',1110],['badges','renderer.php',1136],['lib/horde/framework/Horde/Imap/Client','Socket.php',168],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',17],['lib/zend/Zend/Gdata/Gapps/Extension','Nickname.php',59],['lib/zend/Zend/Gdata/YouTube/Extension','MediaRating.php',54],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',50],['mnet/xmlrpc','serverlib.php',674],['completion','data_object.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Filter.php',15],['lib/horde/framework/Horde/Support','StringStream.php',30],['lib/simplepie/library/SimplePie','gzdecode.php',186],['lib/jabber/XMPP','Roster.php',48],['lib/classes/dml','recordset_walk.php',64],['lib','dmllib.php',69],['lib','dmllib.php',84],['lib','dmllib.php',104],['lib','dmllib.php',129],['lib','dmllib.php',159],['lib','dmllib.php',187],['lib','dmllib.php',240],['lib','dmllib.php',270],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',129],['lib/google/src/Google/Service','Books.php',57],['mod/assign/feedback/offline','importgradeslib.php',60],['lib/zend/Zend/Gdata','App.php',165],['lib/pear/Net','GeoIP.php',323],['lib/zend/Zend/Gdata/Photos/Extension','Name.php',50],['lib/google/src/Google/Service','AdExchangeSeller.php',53],['lib/zend/Zend/Gdata/Docs','Query.php',75],['lib/zend/Zend/Gdata/YouTube/Extension','Occupation.php',44],['lib/zend/Zend/Gdata/Exif/Extension','Time.php',49],['cache/tests/fixtures','lib.php',325],['lib/horde/framework/Horde/Mail/Rfc822','List.php',61],['lib/google/src/Google/Cache','Memcache.php',42],['lib/dml','sqlsrv_native_moodle_database.php',47],['backup/util/structure','backup_optigroup_element.class.php',51],['backup/cc/cc_lib','cc_converter_resource.php',28],['lib/simplepie/library/SimplePie','Caption.php',98],['mod/lti','OAuth.php',73],['mod/lti','OAuth.php',89],['mod/lti','OAuth.php',244],['mod/lti','OAuth.php',499],['lib/classes','collator.php',58],['lib/zend/Zend/Service/Delicious','PostList.php',56],['lib/classes/output','mustache_filesystem_loader.php',39],['lib/zend/Zend/Service/Amazon/Ec2','Abstract.php',91],['backup/util/xml/parser/processors','grouped_parser_processor.class.php',67],['mod/workshop/form/numerrors','lib.php',102],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateRequest.php',46],['report/log/classes','table_log.php',52],['lib/zend/Zend/Gdata/YouTube','CommentEntry.php',48],['lib/simplepie/library/SimplePie/Cache','Base.php',70],['lib/zend/Zend/Gdata/YouTube/Extension','Status.php',44],['lib/adodb','adodb-exceptions.inc.php',28],['backup/util/helper','backup_array_iterator.class.php',39],['lib/zend/Zend/Rest','Client.php',54],['lib/zend/Zend/Gdata/YouTube/Extension','Company.php',44],['question/classes/statistics/responses','analysis_for_class.php',68],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceTemplateParticipantRequest.php',53],['question/engine','lib.php',770],['question/engine','lib.php',1000],['question/engine','lib.php',1048],['lib/tcpdf','tcpdf_barcodes_1d.php',58],['lib/google/src/Google/Service','Bigquery.php',59],['backup/moodle2','restore_course_task.class.php',41],['lib/zend/Zend/Gdata/Media/Extension','MediaRestriction.php',54],['lib/htmlpurifier/HTMLPurifier','DefinitionCache.php',22],['lib/phpexcel/PHPExcel/Writer','CSV.php',86],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',73],['cache','disabledlib.php',44],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',20],['lib/mustache/src/Mustache/Exception','UnknownTemplateException.php',22],['webservice/xmlrpc','locallib.php',85],['lib/google/src/Google/Service','Freebase.php',38],['mod/lti/service/profile/classes/local/service','profile.php',41],['admin/tool/monitor/classes/output/managesubs','rules.php',56],['backup/util/settings','backup_setting.class.php',43],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',42],['lib/alfresco/Service','ContentData.php',38],['enrol/ldap','lib.php',36],['lib/zend/Zend/Validate/File','MimeType.php',112],['lib/zend/Zend/Gdata/Gbase/Extension','BaseAttribute.php',47],['lib/zend/Zend/Gdata/Gapps','NicknameEntry.php',79],['lib/minify/lib/Minify','HTML.php',49],['lib/zend/Zend/Gdata/Extension','OriginalEvent.php',56],['lib/zend/Zend/Gdata/YouTube','InboxFeed.php',55],['lib/google/src/Google/Service','Groupssettings.php',40],['availability/classes','info.php',55],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',45],['lib/tests','navigationlib_test.php',472],['lib/tests','navigationlib_test.php',530],['lib/tests','navigationlib_test.php',557],['lib/zend/Zend/Service/DeveloperGarden/Request/IpLocation','LocateIPRequest.php',58],['mod/quiz/report/statistics/classes','calculated.php',43],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',49],['cache/stores/memcached','lib.php',107],['lib/zend/Zend/Validate','Between.php',89],['lib/zend/Zend/Gdata/Media/Extension','MediaGroup.php',183],['user/selector','lib.php',85],['user/selector','lib.php',674],['lib/google/src/Google/Service','YouTube.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Length.php',23],['lib/zend/Zend/Gdata','Exif.php',51],['backup/util/helper','backup_helper.class.php',380],['backup/util/plan','backup_step.class.php',32],['backup/util/plan','backup_step.class.php',55],['backup/util/helper','restore_inforef_parser_processor.class.php',37],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',154],['lib/phpexcel/PHPExcel/CalcEngine','Logger.php',71],['lib/zend/Zend/Gdata','YouTube.php',192],['lib/zend/Zend/Gdata/Calendar/Extension','Link.php',48],['blocks','edit_form.php',47],['lib/dml','mssql_native_moodle_recordset.php',34],['mod/assign','locallib.php',149],['mod/assign','locallib.php',7411],['grade/report/user','lib.php',188],['lib/zend/Zend/Validate/Barcode','Code93ext.php',47],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','ChangeQuotaPool.php',47],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',294],['lib/horde/framework/Horde/Mail/Transport','Mail.php',53],['lib/zend/Zend/Gdata','Media.php',51],['lib/zend/Zend/Gdata/Gapps/Extension','Quota.php',59],['lib/zend/Zend/Amf/Value','ByteArray.php',38],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',22],['lib/simplepie/library/SimplePie/Cache','File.php',82],['lib/behat/form_field','behat_form_field.php',59],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',47],['backup/moodle2','restore_subplugin.class.php',45],['lib/zend/Zend/Gdata/Spreadsheets','SpreadsheetFeed.php',54],['backup/util/structure','base_processor.class.php',49],['lib/zend/Zend/Gdata/Calendar/Extension','Timezone.php',45],['lib/zend/Zend/Validate','Ip.php',56],['lib/zend/Zend/Gdata/Extension','OpenSearchTotalResults.php',44],['badges/criteria','award_criteria_activity.php',45],['lib/zend/Zend/Service/Technorati','DailyCountsResultSet.php',67],['lib/zend/Zend/XmlRpc/Value','Collection.php',40],['lib/google/src/Google/Service','Coordinate.php',47],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','LinkTypes.php',21],['lib/classes/output','mustache_pix_helper.php',43],['lib/zend/Zend/Amf/Value','MessageBody.php',81],['user/classes/output/myprofile','node.php',82],['lib/htmlpurifier/HTMLPurifier','TokenFactory.php',43],['lib/zend/Zend','Registry.php',186],['lib/lessphp/Exception','Chunk.php',19],['lib/dtl','database_mover.php',33],['lib/zend/Zend/Http','CookieJar.php',106],['lib/zend/Zend/Gdata/Extension','Transparency.php',44],['lib/zend/Zend/Gdata/Media/Extension','MediaText.php',64],['lib/phpexcel/PHPExcel/RichText','TextElement.php',43],['lib/simplepie/library/SimplePie','Enclosure.php',219],['lib/google/src/Google/Service','Webmasters.php',46],['lib/lessphp/Tree','Value.php',14],['lib/simplepie/library','SimplePie.php',611],['lib/google/src/Google/Service','Autoscaler.php',46],['lib/zend/Zend/Gdata/App','CaptchaRequiredException.php',64],['lib/behat/features/bootstrap','behat_init_context.php',45],['lib/horde/framework/Horde/Imap/Client/Socket','ClientSort.php',37],['mod/folder','renderer.php',139],['lib/google/src/Google/Service','Webfonts.php',38],['lib/zend/Zend/Gdata/DublinCore/Extension','Description.php',44],['admin/roles/classes','admins_potential_selector.php',30],['lib/zend/Zend/Soap/Client','Local.php',52],['lib/horde/framework/Horde/Imap/Client/Interaction/Server','Tagged.php',36],['lib/lessphp/Tree','Negative.php',14],['mod/quiz','override_form.php',58],['lib/classes/session','file.php',40],['lib/google/src/Google/Auth','OAuth2.php',55],['admin/roles/classes','check_users_selector.php',38],['lib/phpexcel/PHPExcel/Reader/Excel2007','Theme.php',68],['mod/lti/classes/local/ltiservice','service_base.php',63],['lib/alfresco/Service','Store.php',31],['lib/google/src/Google/Service','Audit.php',39],['lib/zend/Zend/Gdata','Gbase.php',95],['mod/wiki','pagelib.php',94],['mod/wiki','pagelib.php',381],['mod/wiki','pagelib.php',986],['mod/wiki','pagelib.php',1195],['mod/wiki','pagelib.php',2201],['mod/wiki','pagelib.php',2429],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',80],['calendar','lib.php',1968],['calendar','lib.php',2709],['lib/zend/Zend/Gdata/Photos','AlbumFeed.php',133],['lib/phpmailer','class.phpmailer.php',572],['lib/google/src/Google/Service','Datastore.php',46],['lib/google/src/Google/Service','YouTubeAnalytics.php',45],['lib/lessphp/Tree','Keyword.php',17],['lib/zend/Zend/Service/Amazon','Sqs.php',70],['backup/util/plan','backup_structure_step.class.php',38],['availability/condition/profile/classes','condition.php',73],['lib/simplepie/library/SimplePie','Rating.php',73],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Length.php',19],['lib/horde/framework/Horde/Support','Backtrace.php',20],['lib/simplepie/library/SimplePie','Author.php',81],['report/loglive/classes','table_log.php',50],['lib','completionlib.php',243],['backup/cc/cc_lib','cc_converter_quiz.php',33],['lib/zend/Zend/Gdata/Exif/Extension','Make.php',49],['lib/dml','moodle_database.php',139],['lib/lessphp/Tree','Media.php',18],['lib/horde/framework/Horde/Imap/Client','Url.php',112],['lib/classes/update','info.php',48],['backup/moodle2','backup_subplugin.class.php',44],['backup/util/ui','base_moodleform.class.php',68],['lib/zend/Zend/Gdata/DublinCore/Extension','Creator.php',44],['lib/alfresco/Service','Association.php',28],['lib/zend/Zend/Gdata/Geo/Extension','GeoRssWhere.php',62],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',57],['lib/zend/Zend/Service','Twitter.php',125],['question/classes/statistics/responses','analysis_for_actual_response.php',70],['admin/tool/log/classes/log','store.php',30],['lib/phpexcel/PHPExcel','Comment.php',101],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CommitConferenceRequest.php',46],['filter','local_settings_form.php',33],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Composite.php',25],['backup/util/plan','base_step.class.php',35],['backup/util/plan','base_step.class.php',127],['badges/classes','assertion.php',49],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateParticipantRequest.php',67],['lib/phpexcel/PHPExcel','RichText.php',45],['lib/zend/Zend/Gdata/App','Base.php',111],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',38],['lib/filestorage','file_storage.php',57],['lib/adodb/drivers','adodb-postgres64.inc.php',125],['lib/adodb/drivers','adodb-postgres64.inc.php',904],['lib/phpexcel/PHPExcel/Chart','Title.php',53],['lib/zend/Zend/Mime','Part.php',51],['lib/phpexcel/PHPExcel','Worksheet.php',335],['lib/phpexcel/PHPExcel/Worksheet','MemoryDrawing.php',78],['lib/google/src/Google/Service','Pagespeedonline.php',39],['lib/zend/Zend/Gdata/DublinCore/Extension','Language.php',44],['lib/phpexcel/PHPExcel/Worksheet','SheetView.php',77],['lib/alfresco/Service/WebService','AlfrescoWebService.php',30],['admin/tool/monitor/classes/output/managerules','renderable.php',56],['lib/google/src/Google/Service','ShoppingContent.php',47],['backup/util/xml/parser/processors','selective_exact_parser_processor.class.php',35],['lib/zend/Zend/Gdata/Spreadsheets','ListQuery.php',57],['backup/moodle2','backup_format_plugin.class.php',40],['mod/workshop/allocation/scheduled','lib.php',48],['lib','outputfactories.php',120],['lib','outputfactories.php',367],['lib/zend/Zend/Gdata/Spreadsheets','ListEntry.php',62],['repository/merlot','lib.php',37],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',29],['mod/chat','chatd.php',78],['mod/chat','chatd.php',103],['lib/lessphp/Visitor','extendFinder.php',15],['lib/zend/Zend/Gdata/YouTube/Extension','MediaGroup.php',112],['mod/quiz/report/grading','gradingsettings_form.php',44],['lib/zend/Zend/Service/Simpy','Note.php',104],['lib/zend/Zend/Gdata/Photos/Extension','Rotation.php',51],['lib/phpexcel/PHPExcel/Worksheet','RowDimension.php',89],['lib/editor/tinymce/classes','plugin.php',49],['question/type/calculatedsimple','edit_calculatedsimple_form.php',72],['lib/zend/Zend/XmlRpc/Value','Integer.php',40],['lib/zend/Zend/Validate/File','Upload.php',74],['lib/phpexcel/PHPExcel/Shared/trend','polynomialBestFitClass.php',201],['admin/roles/classes','capability_table_with_risks.php',46],['lib/zend/Zend/Gdata/Extension','EntryLink.php',52],['question/type','questiontypebase.php',55],['question/type','questiontypebase.php',1442],['lib','outputrequirementslib.php',166],['lib/google/src/Google/Service','Appsactivity.php',49],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',100],['lib/zend/Zend/Loader','Autoloader.php',446],['lib/horde/framework/Horde/Support','CombineStream.php',29],['lib/zend/Zend/Gdata','Docs.php',87],['lib/alfresco/Service/Logger','Logger.php',27],['lib/zend/Zend/Gdata/App/Extension','Logo.php',43],['lib/dml','pgsql_native_moodle_recordset.php',44],['backup/cc/cc_lib','cc_version11.php',57],['lib','weblib.php',315],['lib','weblib.php',3025],['lib','weblib.php',3325],['lib','weblib.php',3360],['lib','weblib.php',3435],['backup/cc/cc_lib','xmlbase.php',52],['backup/cc/cc_lib','cc_organization.php',47],['backup/cc/cc_lib','cc_organization.php',145],['mod/lesson','locallib.php',2007],['mod/lesson','locallib.php',2602],['lib/zend/Zend/Service/LiveDocx','MailMerge.php',61],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',101],['lib/zend/Zend/Server/Reflection','ReturnValue.php',47],['lib/minify/lib/Minify','Build.php',77],['lib/horde/framework/Horde','Variables.php',60],['auth/cas/CAS/CAS','ProxyChain.php',48],['lib/phpexcel/PHPExcel','NamedRange.php',73],['lib/zend/Zend/Gdata/Extension','OpenSearchStartIndex.php',44],['lib/horde/framework/Horde/Imap/Client/Password','Xoauth2.php',44],['lib/zend/Zend/Service/Amazon','OfferSet.php',79],['grade/export/txt','grade_export_txt.php',27],['admin/roles/classes','allow_override_page.php',31],['lib/lessphp/Tree','Assignment.php',15],['lib/zend/Zend/Gdata/Books/Extension','ThumbnailLink.php',42],['lib/zend/Zend/Gdata/YouTube/Extension','Uploaded.php',44],['lib/zend/Zend/Gdata/Extension','AttendeeStatus.php',44],['lib/tcpdf/include/barcodes','qrcode.php',631],['lib/zend/Zend/Gdata/Photos/Extension','Weight.php',51],['enrol','locallib.php',125],['enrol','locallib.php',1240],['enrol','locallib.php',1363],['enrol','locallib.php',1414],['enrol','locallib.php',1447],['lib/lessphp/Visitor','toCSS.php',13],['question/classes/statistics/questions','calculator.php',66],['mod/forum','locallib.php',55],['mod/forum','locallib.php',419],['backup/util/helper','restore_prechecks_helper.class.php',213],['grade/edit/tree','lib.php',57],['grade/edit/tree','lib.php',605],['grade/edit/tree','lib.php',638],['grade/edit/tree','lib.php',804],['lib/zend/Zend/Gdata','Geo.php',56],['lib/zend/Zend/Gdata/Books','CollectionFeed.php',41],['lib/classes','string_manager_standard.php',53],['backup/util/loggers','base_logger.class.php',42],['backup/util/loggers','base_logger.class.php',163],['admin/tool/installaddon/classes','validator.php',223],['admin/tool/generator/classes','backend.php',84],['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedAccessSignature.php',53],['lib/zend/Zend/Gdata/Spreadsheets/Extension','Custom.php',49],['availability/condition/completion/classes','condition.php',48],['question/classes/statistics/questions','calculated.php',181],['lib/lessphp/Tree','Javascript.php',20],['mod/quiz','locallib.php',1898],['lib/phpexcel/PHPExcel/Worksheet','ColumnDimension.php',89],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',62],['lib/zend/Zend/Gdata/DublinCore/Extension','Date.php',45],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',27],['lib/zend/Zend/Loader','PluginLoader.php',95],['lib/zend/Zend/Gdata/YouTube/Extension','Description.php',44],['lib/horde/framework/Horde/Imap/Client/Interaction','Command.php',72],['lib/zend/Zend/Gdata/App/Extension','Generator.php',45],['lib/zend/Zend/Gdata/DublinCore/Extension','Rights.php',44],['lib/phpexcel/PHPExcel/Style','Conditional.php',93],['repository/skydrive','lib.php',42],['lib/google/src/Google/Service','SQLAdmin.php',48],['lib/zend/Zend/Gdata/YouTube/Extension','NoEmbed.php',44],['lib/zend/Zend/Gdata/Exif/Extension','ImageUniqueId.php',49],['lib/simplepie/library/SimplePie','Item.php',82],['lib/phpexcel/PHPExcel/Writer/PDF','Core.php',214],['lib/zend/Zend/Validate/File','IsImage.php',53],['lib/zend/Zend/Date','Exception.php',39],['lib/zend/Zend/Amf/Adobe','Introspector.php',65],['lib/htmlpurifier/HTMLPurifier','URIParser.php',10],['lib/zend/Zend/Service','ReCaptcha.php',117],['lib/zend/Zend/Gdata/Health','ProfileEntry.php',61],['lib/zend/Zend/Server/Reflection','Prototype.php',45],['admin/roles/classes','allow_switch_page.php',33],['backup/util/helper','restore_logs_processor.class.php',45],['backup/util/helper','restore_logs_processor.class.php',140],['lib/google/src/Google/Service','Fitness.php',57],['filter/emoticon/tests','filter_test.php',68],['backup/util/helper','convert_helper.class.php',378],['backup/util/ui','restore_ui_stage.class.php',42],['backup/util/ui','restore_ui_stage.class.php',265],['backup/util/ui','restore_ui_stage.class.php',452],['backup/util/ui','restore_ui_stage.class.php',592],['backup/util/ui','restore_ui_stage.class.php',704],['backup/util/ui','restore_ui_stage.class.php',852],['backup/util/ui','restore_ui_stage.class.php',959],['backup/util/ui','restore_ui_stage.class.php',1100],['repository/webdav','lib.php',38],['repository/dropbox','locallib.php',46],['lib/lessphp/Exception','Parser.php',30],['lib/filestorage','tgz_packer.php',726],['lib/filestorage','tgz_packer.php',808],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','URI.php',15],['backup/converter/moodle1','lib.php',725],['backup/converter/moodle1','lib.php',865],['backup/converter/moodle1','lib.php',1145],['backup/converter/moodle1','lib.php',1190],['backup/converter/moodle1','lib.php',1480],['lib/classes/output','mustache_javascript_helper.php',40],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',58],['lib/zend/Zend/Gdata/YouTube/Extension','FirstName.php',44],['lib/zend/Zend/Service/WindowsAzure/Storage','Queue.php',83],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',32],['lib/zend/Zend/Gdata/Media/Extension','MediaDescription.php',53],['lib/google/src/Google/Service','TagManager.php',66],['lib/zend/Zend/Server','Abstract.php',89],['cache/classes','config.php',80],['lib/htmlpurifier/HTMLPurifier','Generator.php',67],['lib','outputcomponents.php',80],['lib','outputcomponents.php',204],['lib','outputcomponents.php',469],['lib','outputcomponents.php',523],['lib','outputcomponents.php',579],['lib','outputcomponents.php',655],['lib','outputcomponents.php',773],['lib','outputcomponents.php',915],['lib','outputcomponents.php',999],['lib','outputcomponents.php',2178],['lib','outputcomponents.php',2217],['lib','outputcomponents.php',2290],['lib','outputcomponents.php',2371],['lib','outputcomponents.php',2574],['lib','outputcomponents.php',2622],['lib','outputcomponents.php',2682],['lib','outputcomponents.php',2855],['lib','outputcomponents.php',3025],['lib','outputcomponents.php',3129],['lib','outputcomponents.php',3196],['lib','outputcomponents.php',3324],['lib','outputcomponents.php',3608],['lib','outputcomponents.php',3637],['lib','outputcomponents.php',3663],['lib','outputcomponents.php',3685],['lib','outputcomponents.php',3714],['lib','outputcomponents.php',3746],['lib/zend/Zend/Validate/Barcode','Code25.php',53],['lib/zend/Zend/Gdata/YouTube','CommentFeed.php',53],['lib/dtl','string_xml_database_importer.php',34],['question/engine','questionattemptstep.php',97],['question/engine','questionattemptstep.php',608],['lib/htmlpurifier/HTMLPurifier/Node','Element.php',39],['lib/simplepie/library/SimplePie','Cache.php',69],['backup/util/ui','renderer.php',813],['grade/export/xls','grade_export_xls.php',24],['lib/google/src/Google/Service','Directory.php',110],['lib/zend/Zend/Gdata/YouTube/Extension','State.php',47],['lib/phpexcel/PHPExcel/Style','Alignment.php',97],['mod/quiz/report/statistics','statistics_table.php',45],['backup/util/structure','base_nested_element.class.php',44],['backup/util/structure','base_nested_element.class.php',258],['lib/zend/Zend/Gdata/DublinCore/Extension','Title.php',44],['lib/htmlpurifier/HTMLPurifier','Config.php',100],['lib/zend/Zend/Validate/Barcode','Code93.php',67],['lib/lessphp','Functions.php',15],['lib/adodb/drivers','adodb-postgres7.inc.php',78],['lib/adodb/drivers','adodb-postgres7.inc.php',273],['lib/adodb/drivers','adodb-postgres7.inc.php',304],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetRunningConferenceRequest.php',46],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceRequest.php',74],['lib/zend/Zend/Validate','EmailAddress.php',118],['mod/workshop','locallib.php',178],['mod/workshop','locallib.php',2801],['mod/workshop','locallib.php',3236],['mod/workshop','locallib.php',3472],['mod/workshop','locallib.php',3714],['mod/workshop','locallib.php',3800],['mod/workshop','locallib.php',3885],['mod/workshop','locallib.php',3904],['lib/zend/Zend/XmlRpc/Value','Struct.php',39],['lib/zend/Zend/Gdata/Books/Extension','Embeddability.php',45],['lib/horde/framework/Horde/Mime','Mdn.php',35],['cache/stores/static','lib.php',127],['lib','blocklib.php',54],['lib','blocklib.php',152],['lib/zend/Zend/Gdata/Books/Extension','Review.php',46],['lib','componentlib.class.php',597],['lib','componentlib.class.php',821],['lib/zend/Zend/Validate/Barcode','Code39.php',66],['lib/filebrowser','file_info_context_module.php',47],['lib/phpexcel/PHPExcel/Shared/JAMA','CholeskyDecomposition.php',42],['question/engine','states.php',61],['lib/jabber/XMPP','XMLStream.php',171],['lib/jabber/XMPP','XMPP.php',101],['lib/classes/lock','lock_factory.php',39],['lib/tests','collator_test.php',310],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportPop3.php',26],['course/format','lib.php',78],['lib/ddl','sql_generator.php',175],['lib/zend/Zend/XmlRpc/Generator','GeneratorAbstract.php',35],['mod/quiz','accessmanager.php',45],['lib/zend/Zend/Amf/Value','TraitsInfo.php',53],['admin/tool/monitor/classes/output/managesubs','subs.php',51],['lib/zend/Zend/Service/Nirvanix','Response.php',43],['lib','boxlib.php',293],['repository/flickr_public','image.php',34],['lib/google/src/Google/Service','AppState.php',40],['backup/util/structure','backup_nested_element.class.php',44],['lib/filestorage','zip_archive.php',66],['lib/google/src/Google/Service','Taskqueue.php',44],['lib/zend/Zend/Server/Method','Prototype.php',49],['lib/zend/Zend/Service/Technorati','Author.php',90],['mod/workshop/form/comments','lib.php',99],['lib/phpexcel/PHPExcel/RichText','Run.php',43],['lib/phpexcel/PHPExcel/Chart','DataSeriesValues.php',89],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',32],['lib/phpexcel/PHPExcel/Writer/Excel2007','WriterPart.php',69],['lib/zend/Zend/Service/Simpy','WatchlistFilter.php',48],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceRequest.php',46],['lib/zend/Zend/Gdata/Photos','UserEntry.php',131],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',33],['lib/zend/Zend/Gdata/Spreadsheets','ListFeed.php',54],['lib/phpexcel/PHPExcel','DocumentProperties.php',131],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',62],['lib/lessphp/Tree','Paren.php',14],['lib/zend/Zend/Gdata/Photos/Extension','Thumbnail.php',50],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',62],['admin/tool/customlang','locallib.php',44],['admin/tool/customlang','locallib.php',405],['admin/tool/customlang','locallib.php',471],['backup/util/xml/parser/processors','selective_like_parser_processor.class.php',35],['lib/filebrowser','file_info_context_user.php',39],['lib/google/src/Google/Service','CivicInfo.php',40],['lib/zend/Zend/Gdata/YouTube/Extension','Private.php',44],['lib/zend/Zend/Gdata/YouTube/Extension','Music.php',44],['backup/moodle2','restore_block_task.class.php',45],['lib/zend/Zend','Gdata.php',99],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Number.php',18],['lib/simplepie','moodle_simplepie.php',50],['lib/simplepie','moodle_simplepie.php',121],['lib/phpunit/classes','hint_resultprinter.php',37],['backup/util/plan','restore_plan.class.php',43],['backup/util/plan','restore_plan.class.php',203],['admin/roles/classes','capability_table_base.php',51],['lib/htmlpurifier/HTMLPurifier','Lexer.php',152],['lib/google/src/Google/Service','Container.php',44],['lib/zend/Zend/Service/Simpy','TagSet.php',47],['lib/phpexcel/PHPExcel/Chart','Legend.php',82],['question/type/calculated/tests','helper.php',205],['lib/phpexcel/PHPExcel/Reader','CSV.php',103],['availability/classes','result.php',46],['lib/zend/Zend/XmlRpc/Value','Double.php',40],['backup/util/helper','restore_users_parser_processor.class.php',43],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',31],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',462],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',1700],['lib/horde/framework/Horde/Mime','Related.php',32],['report/log/classes','renderable.php',93],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',59],['lib/phpexcel/PHPExcel/Style','Font.php',108],['lib/htmlpurifier/HTMLPurifier/ChildDef','Table.php',57],['backup/util/settings/activity','activity_backup_setting.class.php',25],['lib/mustache/src/Mustache/Exception','UnknownHelperException.php',22],['course/tests/fixtures','course_capability_assignment.php',60],['lib/zend/Zend/Service/Amazon','ResultSet.php',68],['lib/zend/Zend/Validate','Callback.php',69],['lib/zend/Zend/Gdata/Books','CollectionEntry.php',41],['lib/zend/Zend/Gdata/DublinCore/Extension','Publisher.php',44],['lib/zend/Zend/Gdata/Spreadsheets','WorksheetEntry.php',56],['badges/lib','bakerlib.php',52],['backup/util/xml','xml_writer.class.php',57],['backup/util/xml','xml_writer.class.php',284],['lib/portfolio','caller.php',67],['lib/zend/Zend/Validate/File','Sha1.php',60],['lib/htmlpurifier/HTMLPurifier/Strategy','Core.php',8],['lib/zend/Zend/Gdata/Media','Feed.php',58],['lib/zend/Zend/Gdata/YouTube/Extension','LastName.php',44],['mod/data','locallib.php',64],['mod/data','locallib.php',431],['lib/zend/Zend/Gdata/App/Extension','Content.php',44],['lib/classes/update','checker_exception.php',37],['backup/cc/cc_lib','cc_manifest.php',45],['lib','odslib.class.php',42],['lib','odslib.class.php',121],['lib','odslib.class.php',419],['lib','odslib.class.php',824],['lib/zend/Zend/Gdata/Books/Extension','AnnotationLink.php',42],['lib/zend/Zend/Gdata/Calendar/Extension','Color.php',46],['backup/util/helper','restore_structure_parser_processor.class.php',41],['admin/tool/log/store/standard/classes/log','store.php',37],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',46],['lib/alfresco/Service','Session.php',39],['grade/report/singleview/classes/local/ui','empty_element.php',38],['enrol/database','settingslib.php',34],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',125],['lib/google/src/Google/Service','AndroidPublisher.php',51],['lib/zend/Zend/Service','StrikeIron.php',43],['lib/zend/Zend/Gdata/Books/Extension','InfoLink.php',41],['lib/lessphp/SourceMap','Generator.php',82],['filter/urltolink/tests','filter_test.php',209],['lib/horde/framework/Horde/Socket','Client.php',52],['lib/zend/Zend/Service/Amazon','Item.php',112],['repository','lib.php',116],['repository','lib.php',533],['admin/roles/classes','define_role_table_basic.php',31],['lib/phpexcel/PHPExcel','WorksheetIterator.php',54],['lib/zend/Zend/Gdata/Photos/Extension','NumPhotosRemaining.php',50],['mod/quiz','attemptlib.php',41],['mod/quiz','attemptlib.php',82],['mod/quiz','attemptlib.php',505],['mod/quiz','attemptlib.php',2058],['mod/quiz','attemptlib.php',2113],['lib/zend/Zend/Server/Reflection','Node.php',51],['lib/zend/Zend/Gdata/Media/Extension','MediaTitle.php',49],['lib/zend/Zend','Date.php',123],['lib/zend/Zend','Mime.php',290],['lib','accesslib.php',5301],['lib','accesslib.php',5846],['lib','accesslib.php',6116],['lib','accesslib.php',6357],['lib','accesslib.php',6544],['lib','accesslib.php',6776],['lib','accesslib.php',6998],['lib','accesslib.php',7240],['question/engine/tests','helpers.php',582],['question/engine/tests','helpers.php',594],['question/engine/tests','helpers.php',608],['question/engine/tests','helpers.php',623],['question/engine/tests','helpers.php',637],['question/engine/tests','helpers.php',652],['question/engine/tests','helpers.php',665],['question/engine/tests','helpers.php',676],['question/engine/tests','helpers.php',1180],['lib/zend/Zend/Validate','Ccnum.php',62],['lib/zend/Zend/Gdata/Extension','EventStatus.php',44],['lib/google/src/Google/Verifier','Pem.php',29],['lib/zend/Zend/Service/Technorati','BlogInfoResult.php',74],['admin/tool/log/classes','setting_managestores.php',30],['lib','outputactions.php',60],['lib','outputactions.php',91],['lib','outputactions.php',148],['backup/cc/cc_lib','cc_assesment_truefalse.php',27],['backup/util/ui','restore_moodleform.class.php',34],['grade/report/singleview/classes/local/ui','element.php',47],['mod/quiz/report','attemptsreport_table.php',76],['lib/lessphp/Tree','Attribute.php',16],['lib/phpexcel/PHPExcel/Style','Supervisor.php',52],['lib/zend/Zend/Gdata/Media/Extension','MediaCategory.php',50],['lib/google/src/Google/Service','AdSenseHost.php',49],['lib/zend/Zend/Gdata/Photos/Extension','Checksum.php',51],['lib/lessphp/Tree','Expression.php',16],['mod/workshop','fileinfolib.php',43],['mod/workshop','fileinfolib.php',198],['course/format','renderer.php',44],['lib/zend/Zend/XmlRpc/Value','Boolean.php',40],['blocks/rss_client','editfeed.php',36],['lib/phpexcel/PHPExcel/Worksheet','Protection.php',157],['question/type/numerical','question.php',321],['auth/cas/CAS/CAS/ProxiedService','Imap.php',51],['lib/typo3','class.t3lib_cs.php',509],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',110],['lib/zend/Zend/Gdata/Health','ProfileListEntry.php',49],['lib/htmlpurifier/HTMLPurifier/Filter','ExtractStyleBlocks.php',57],['cache/stores/memcache','lib.php',120],['lib/htmlpurifier/HTMLPurifier/AttrDef','Switch.php',29],['lib/zend/Zend/Gdata/Calendar/Extension','WebContent.php',47],['lib/zend/Zend/Gdata/Photos/Extension','Id.php',50],['lib/google/src/Google/Service','Games.php',60],['lib/zend/Zend/Validate/File','Size.php',92],['lib/classes/lock','file_lock_factory.php',57],['lib/htmlpurifier/HTMLPurifier/AttrTransform','SafeParam.php',27],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',64],['lib','filelib.php',2700],['lib','filelib.php',3560],['lib/classes/session','database.php',52],['lib/zend/Zend/Gdata/YouTube/Extension','Movies.php',44],['grade','lib.php',103],['grade','lib.php',785],['availability/condition/grouping/classes','condition.php',46],['lib/zend/Zend/Service/Technorati','SearchResult.php',84],['lib/dml','mysqli_native_moodle_recordset.php',42],['lib/zend/Zend/XmlRpc','Server.php',186],['mod/assign/feedback/editpdf/classes','annotation.php',66],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',30],['lib/htmlpurifier','HTMLPurifier.php',104],['lib/zend/Zend/Gdata/Media/Extension','MediaPlayer.php',59],['lib/phpexcel/PHPExcel','Cell.php',122],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',248],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Percentage.php',18],['lib','oauthlib.php',65],['lib','oauthlib.php',409],['backup/util/helper','restore_log_rule.class.php',62],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',108],['lib/zend/Zend/Server/Reflection','Class.php',66],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Font.php',22],['mnet/service/enrol','locallib.php',48],['mnet/service/enrol','locallib.php',466],['mnet/service/enrol','locallib.php',537],['repository/flickr','lib.php',51],['lib','csvlib.class.php',64],['lib','csvlib.class.php',398],['lib/google/src/Google/Service','MapsEngine.php',66],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',87],['lib/filestorage','tgz_extractor.php',119],['lib/zend/Zend/Soap','Client.php',142],['lib/zend/Zend/Gdata/Calendar/Extension','Hidden.php',45],['cache/classes','factory.php',149],['lib/zend/Zend/Gdata/Media/Extension','MediaCredit.php',54],['course','dnduploadlib.php',109],['course','dnduploadlib.php',407],['mod/lti/classes/local/ltiservice','resource_base.php',62],['lib/zend/Zend/Http','Response.php',132],['lib/horde/framework/Horde/Imap/Client','Exception.php',247],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceListRequest.php',63],['backup/util/ui','backup_moodleform.class.php',41],['lib/phpexcel/PHPExcel/Chart','Layout.php',143],['comment','lib.php',100],['lib/phpexcel','PHPExcel.php',354],['grade/export/ods','grade_export_ods.php',24],['auth/cas/CAS/CAS','ProxyTicketException.php',46],['lib/minify/lib','JSMinPlus.php',193],['lib/minify/lib','JSMinPlus.php',726],['lib/minify/lib','JSMinPlus.php',1638],['lib/minify/lib','JSMinPlus.php',1656],['lib/minify/lib','JSMinPlus.php',1748],['lib/zend/Zend/Gdata/YouTube/Extension','Location.php',44],['lib/lessphp/Tree','Dimension.php',15],['lib/phpexcel/PHPExcel/Worksheet','Row.php',54],['lib/phpexcel/PHPExcel/Writer','HTML.php',135],['lib/zend/Zend/Service/Technorati','TagsResultSet.php',41],['backup/moodle2','backup_theme_plugin.class.php',61],['lib/zend/Zend/Gdata','Extension.php',43],['lib/htmlpurifier/HTMLPurifier/ChildDef','Custom.php',36],['lib/google/src/Google/Service','SiteVerification.php',43],['lib/htmlpurifier/HTMLPurifier/Token','Text.php',34],['mod/forum/classes','subscriber_selector_base.php',53],['lib/zend/Zend','Auth.php',45],['lib/phpexcel/PHPExcel/Style','Borders.php',121],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CreateConferenceRequest.php',67],['lib/zend/Zend/Gdata/Calendar','ListFeed.php',54],['lib/zend/Zend/Gdata/Extension','Visibility.php',44],['webservice/xmlrpc','lib.php',42],['lib/phpexcel/PHPExcel/CachedObjectStorage','CacheBase.php',76],['lib/zend/Zend/Gdata/App','MediaEntry.php',57],['lib/horde/framework/Horde/Mime','Part.php',261],['backup/util/ui','backup_ui_stage.class.php',43],['backup/util/ui','backup_ui_stage.class.php',79],['backup/util/ui','backup_ui_stage.class.php',234],['backup/util/ui','backup_ui_stage.class.php',387],['backup/util/ui','backup_ui_stage.class.php',516],['backup/util/ui','backup_ui_stage.class.php',575],['question/classes/engine/variants','least_used_strategy.php',51],['lib/horde/framework/Horde/Support','Array.php',21],['lib/zend/Zend/Gdata/YouTube/Extension','Statistics.php',93],['lib/zend/Zend/Gdata/Photos/Extension','BytesUsed.php',50],['lib','tablelib.php',127],['lib','tablelib.php',1400],['lib','tablelib.php',1723],['lib/zend/Zend/Gdata/App/Extension','Uri.php',43],['backup/util/plan','backup_task.class.php',32],['backup/util/plan','backup_task.class.php',56],['lib/zend/Zend/Gdata/Media/Extension','MediaCopyright.php',53],['lib/zend/Zend/Gdata/DublinCore/Extension','Identifier.php',44],['backup/util/xml/parser/processors','findpaths_parser_processor.class.php',35],['lib/zend/Zend/Gdata/Gbase','Feed.php',49],['availability/condition/date/classes','condition.php',52],['backup/util/helper','restore_moodlexml_parser_processor.class.php',38],['admin/tool/generator/classes','course_backend.php',116],['lib/google/src/Google/Service','Prediction.php',51],['cache/stores/session','lib.php',131],['cache/classes','dummystore.php',62],['lib/zend/Zend/XmlRpc/Server','System.php',39],['lib/zend/Zend/Service/WindowsAzure/Storage','TableInstance.php',50],['backup/util/settings/course','course_backup_setting.class.php',25],['mod/quiz/classes/question','qubaids_for_users_attempts.php',37],['mod/lesson','override_form.php',58],['lib/zend/Zend/Service/Simpy','WatchlistSet.php',47],['lib/google/src/Google/Service','Compute.php',78],['badges/criteria','award_criteria.php',127],['lib/zend/Zend/Gdata/Calendar/Extension','Selected.php',45],['lib/minify/lib/Minify/Cache','ZendPlatform.php',23],['lib/zend/Zend/Validate','PostCode.php',65],['lib/dml','oci_native_moodle_temptables.php',40],['lib/zend/Zend/Gdata/Photos/Extension','CommentingEnabled.php',51],['lib/simplepie/library/SimplePie','Category.php',81],['auth/cas/CAS/CAS','CookieJar.php',46],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',45],['backup/util/ui','backup_ui_setting.class.php',70],['backup/util/ui','backup_ui_setting.class.php',200],['backup/util/ui','backup_ui_setting.class.php',398],['backup/util/ui','backup_ui_setting.class.php',504],['backup/util/ui','backup_ui_setting.class.php',583],['user/classes/output/myprofile','category.php',68],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',47],['mod/wiki/parser','parser.php',98],['backup/converter','convertlib.php',52],['backup/converter','convertlib.php',277],['repository/googledocs','lib.php',65],['lib/htmlpurifier/HTMLPurifier','Doctype.php',48],['lib/zend/Zend/Validate/File','Extension.php',71],['mod/imscp','locallib.php',289],['lib/classes/session','memcache.php',50],['lib/horde/framework/Horde/Imap/Client','Cache.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ImportantDecorator.php',21],['lib/zend/Zend/Service','Simpy.php',53],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',91],['lib/zend/Zend/Gdata/Gapps','EmailListRecipientQuery.php',54],['lib/zend/Zend/Gdata/YouTube','PlaylistVideoEntry.php',55],['lib/zend/Zend/Gdata/Photos','CommentEntry.php',85],['lib/horde/framework/Horde/Exception','PermissionDenied.php',15],['lib/zend/Zend/Gdata/YouTube','InboxEntry.php',92],['lib/jabber/XMPP','XMPP_Old.php',45],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',27],['backup/cc/cc_lib','cc_converter_label.php',28],['lib/phpexcel/PHPExcel/Style','Border.php',75],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateParticipantRequest.php',53],['enrol/manual','locallib.php',37],['enrol/manual','locallib.php',102],['admin/tool/assignmentupgrade','locallib.php',50],['admin/tool/assignmentupgrade','locallib.php',93],['lib/zend/Zend/Gdata/Exif/Extension','Distance.php',49],['lib/phpexcel/PHPExcel/Writer','PDF.php',46],['lib/zend/Zend/Gdata/Photos/Extension','Size.php',50],['lib/google/src/Google/Service','CloudMonitoring.php',42],['backup/util/xml/output','memory_xml_output.class.php',37],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',41],['lib/simplepie/library/SimplePie','Credit.php',81],['lib/zend/Zend/Service','Delicious.php',112],['lib/bennu','iCalendar_components.php',21],['lib/bennu','iCalendar_components.php',333],['lib/bennu','iCalendar_components.php',355],['lib/bennu','iCalendar_components.php',433],['lib/bennu','iCalendar_components.php',513],['lib/bennu','iCalendar_components.php',551],['lib/bennu','iCalendar_components.php',602],['lib/bennu','iCalendar_components.php',659],['lib/bennu','iCalendar_components.php',679],['lib','outputrenderers.php',117],['lib','outputrenderers.php',282],['lib','outputrenderers.php',405],['lib','outputrenderers.php',4280],['lib','outputrenderers.php',4533],['lib/zend/Zend/Service/Amazon','ListmaniaList.php',44],['lib/zend/Zend/Service','Flickr.php',54],['backup/util/helper','restore_decode_rule.class.php',47],['backup/util/helper','restore_decode_rule.class.php',192],['lib/mustache/src/Mustache/Exception','UnknownFilterException.php',22],['lib/google/src/Google/Logger','File.php',49],['backup','backup.class.php',146],['lib/zend/Zend/Gdata/App/Extension','Updated.php',43],['lib/zend/Zend/Gdata/YouTube','PlaylistVideoFeed.php',55],['auth/cas/CAS/CAS/PGTStorage','Db.php',122],['lib/phpexcel/PHPExcel/Chart','DataSeries.php',137],['lib/zend/Zend/Gdata/Geo','Feed.php',51],['lib/phpexcel/PHPExcel/Shared/trend','logarithmicBestFitClass.php',107],['backup/util/loggers','file_logger.class.php',35],['admin/roles/classes','admins_existing_selector.php',30],['lib/phpexcel/PHPExcel/Shared/JAMA','LUDecomposition.php',57],['lib/zend/Zend/Gdata/Extension','Reminder.php',48],['course/format/topics','renderer.php',38],['mod/lesson/classes','file_info.php',45],['question/type/calculatedmulti','edit_calculatedmulti_form.php',47],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',62],['lib/minify/lib/HTTP','Encoder.php',75],['lib/zend/Zend/Gdata/App/Extension','Name.php',43],['lib/google/src/Google/Service','Calendar.php',50],['question/type','questionbase.php',124],['question/type','questionbase.php',438],['question/type','questionbase.php',531],['question/type','questionbase.php',750],['question/type','questionbase.php',835],['question/type','questionbase.php',868],['question/type','questionbase.php',914],['question/type','questionbase.php',1013],['lib/dml','database_column_info.php',137],['lib/zend/Zend/Gdata/YouTube/Extension','Gender.php',44],['lib/zend/Zend/Service','Yahoo.php',49],['lib/zend/Zend/Service/Amazon','SimilarProduct.php',44],['lib/mustache/src/Mustache/Exception','SyntaxException.php',23],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',21],['lib/horde/framework/Horde','Stream.php',50],['lib/google/src/Google/Service','Analytics.php',76],['lib/horde/framework/Horde/Mail/Transport','Mock.php',76],['lib/xmldb','xmldb_file.php',43],['lib/zend/Zend/Gdata/YouTube','PlaylistListEntry.php',97],['lib/zend/Zend/Service/Amazon/Ec2','Response.php',78],['lib/zend/Zend/Soap/Wsdl/Strategy','Composite.php',60],['lib/google/src/Google/Service','Tasks.php',44],['lib/zend/Zend/XmlRpc','Response.php',68],['lib/horde/framework/Horde/Exception','NotFound.php',15],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',66],['lib/zend/Zend/Gdata/Books','VolumeEntry.php',131],['question','previewlib.php',122],['mod/wiki','renderer.php',537],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',62],['mod/assign','renderable.php',41],['mod/assign','renderable.php',71],['mod/assign','renderable.php',103],['mod/assign','renderable.php',139],['mod/assign','renderable.php',191],['mod/assign','renderable.php',242],['mod/assign','renderable.php',291],['mod/assign','renderable.php',393],['mod/assign','renderable.php',517],['mod/assign','renderable.php',576],['mod/assign','renderable.php',613],['mod/assign','renderable.php',653],['mod/assign','renderable.php',706],['mod/assign','renderable.php',760],['lib/mustache/src/Mustache','Autoloader.php',19],['lib/zend/Zend/Service/DeveloperGarden/Request/SmsValidation','Invalidate.php',46],['lib/zend/Zend/Service/Yahoo','ImageResult.php',97],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooter.php',183],['mod/quiz/classes/question/bank','custom_view.php',44],['lib/htmlpurifier/HTMLPurifier/Token','Tag.php',33],['lib/zend/Zend/Amf/Adobe','Auth.php',56],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','FontFamily.php',11],['auth/cas/CAS/CAS','TypeMismatchException.php',43],['grade/report/singleview/classes/local/screen','screen.php',67],['lib/zend/Zend/Amf/Parse','Deserializer.php',45],['lib/zend/Zend/Service/Delicious','SimplePost.php',56],['lib/zend/Zend/Service/Technorati','ResultSet.php',112],['cache/classes','loaders.php',196],['cache/classes','loaders.php',1211],['cache/classes','loaders.php',1606],['lib/zend/Zend/Gdata/Gbase','Entry.php',62],['lib/zend/Zend/Validate','Identical.php',64],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',65],['cache/stores/mongodb','lib.php',116],['mod/quiz/report/statistics/classes','calculator.php',39],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','FrameTarget.php',19],['lib/zend/Zend/Gdata/App/Extension','Draft.php',44],['enrol/ldap','settingslib.php',32],['enrol/ldap','settingslib.php',90],['enrol/ldap','settingslib.php',204],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceDetail.php',54],['lib/zend/Zend/Service/Yahoo','InlinkDataResult.php',47],['lib/lessphp/Tree','UnicodeDescriptor.php',14],['lib/lessphp/Tree','Directive.php',20],['lib/zend/Zend/Service/Yahoo','VideoResult.php',118],['question/type/calculated','edit_calculated_form.php',51],['lib/classes','string_manager_install.php',43],['lib/google/src/Google/Service','GamesManagement.php',50],['lib/google/src/Google/Logger','Psr.php',37],['grade/report/history/classes/output','user_button.php',40],['lib','externallib.php',129],['lib','externallib.php',426],['lib','externallib.php',457],['lib','externallib.php',488],['lib','externallib.php',517],['lib','externallib.php',649],['lib','externallib.php',684],['lib','externallib.php',782],['backup/util/ui','base_ui_stage.class.php',67],['lib/zend/Zend/Validate','CreditCard.php',136],['lib/zend/Zend/Gdata/Spreadsheets','CellQuery.php',57],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',18],['mod/quiz/accessrule','accessrulebase.php',52],['lib/mustache/src/Mustache','Context.php',20],['lib/zend/Zend/Service/DeveloperGarden/Request/VoiceButler','CallStatus.php',46],['lib/zend/Zend/Gdata/Spreadsheets','CellFeed.php',78],['backup/util/xml/parser/processors','progressive_parser_processor.class.php',57],['lib/lessphp/Tree','Color.php',15],['lib/zend/Zend/Service/StrikeIron','Base.php',56],['lib/zend/Zend/Gdata/Exif/Extension','FStop.php',49],['lib/htmlpurifier/HTMLPurifier/AttrTransform','BoolToCSS.php',24],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',44],['lib/zend/Zend/Service/Simpy','Tag.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',30],['cache/classes','helper.php',90],['lib/zend/Zend/Soap','Wsdl.php',73],['lib/htmlpurifier/HTMLPurifier/Lexer','DOMLex.php',35],['lib/zend/Zend/Validate/Barcode','Code25interleaved.php',53],['webservice/soap','locallib.php',162],['lib/lessphp/Tree','Quoted.php',20],['lib/simplepie/library/SimplePie/Cache','Memcache.php',81],['lib/zend/Zend/Gdata/YouTube','ActivityEntry.php',88],['backup/controller','restore_controller.class.php',63],['backup/controller','restore_controller.class.php',517],['lib/zend/Zend/Service','Audioscrobbler.php',65],['lib/zend/Zend/Service/Flickr','ResultSet.php',82],['lib/mustache/src/Mustache/Logger','StreamLogger.php',44],['lib/zend/Zend/XmlRpc/Request','Stdin.php',47],['lib/zend/Zend/Service/DeveloperGarden/Request/SmsValidation','Validate.php',63],['mod/glossary','locallib.php',481],['lib/google/src/Google/Logger','Abstract.php',121],['lib/horde/framework/Horde/Support','Guid.php',24],['lib/zend/Zend/Http/Client/Adapter','Curl.php',92],['lib/google/src/Google/Service','Oauth2.php',50],['lib/phpmailer','moodle_phpmailer.php',47],['lib/zend/Zend/Validate/Barcode','Intelligentmail.php',47],['repository/skydrive','microsoftliveapi.php',50],['mod/workshop/allocation/manual','lib.php',51],['lib/zend/Zend/Validate/File','Exists.php',62],['lib/xhprof','xhprof_moodle.php',788],['question/classes/bank/search','category_condition.php',60],['lib/markdown','Markdown.php',96],['grade/report/grader','lib.php',104],['lib/zend/Zend/Gdata/YouTube/Extension','Control.php',48],['lib/zend/Zend/Validate','StringLength.php',79],['question/behaviour','behaviourbase.php',50],['backup/cc/cc_lib','cc_converter_forum.php',29],['lib/zend/Zend/Gdata/Photos/Extension','Nickname.php',50],['lib/zend/Zend/Gdata/Exif/Extension','Tags.php',169],['lib/zend/Zend/Uri','Http.php',108],['lib/zend/Zend/Gdata/YouTube/Extension','Hometown.php',44],['cache/stores/file','lib.php',117],['lib/zend/Zend/Service','Amazon.php',75],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',12],['lib/zend/Zend/Gdata/Media/Extension','MediaThumbnail.php',64],['lib/zend/Zend/Service/Yahoo','Image.php',56],['lib/zend/Zend/Gdata','Feed.php',87],['lib/google/src/Google/Service','Storage.php',54],['backup/cc/cc_lib','cc_asssesment.php',290],['backup/cc/cc_lib','cc_asssesment.php',345],['backup/cc/cc_lib','cc_asssesment.php',364],['backup/cc/cc_lib','cc_asssesment.php',415],['backup/cc/cc_lib','cc_asssesment.php',476],['backup/cc/cc_lib','cc_asssesment.php',486],['backup/cc/cc_lib','cc_asssesment.php',561],['backup/cc/cc_lib','cc_asssesment.php',585],['backup/cc/cc_lib','cc_asssesment.php',635],['backup/cc/cc_lib','cc_asssesment.php',668],['backup/cc/cc_lib','cc_asssesment.php',693],['backup/cc/cc_lib','cc_asssesment.php',788],['backup/cc/cc_lib','cc_asssesment.php',814],['backup/cc/cc_lib','cc_asssesment.php',838],['backup/cc/cc_lib','cc_asssesment.php',965],['backup/cc/cc_lib','cc_asssesment.php',971],['backup/cc/cc_lib','cc_asssesment.php',986],['backup/cc/cc_lib','cc_asssesment.php',1003],['backup/cc/cc_lib','cc_asssesment.php',1017],['backup/cc/cc_lib','cc_asssesment.php',1045],['backup/cc/cc_lib','cc_asssesment.php',1186],['backup/cc/cc_lib','cc_asssesment.php',1263],['backup/cc/cc_lib','cc_asssesment.php',1317],['backup/cc/cc_lib','cc_asssesment.php',1389],['backup/cc/cc_lib','cc_asssesment.php',1451],['backup/cc/cc_lib','cc_asssesment.php',1558],['backup/cc/cc_lib','cc_asssesment.php',1620],['backup/cc/cc_lib','cc_asssesment.php',1648],['backup/cc/cc_lib','cc_asssesment.php',1716],['backup/cc/cc_lib','cc_asssesment.php',2155],['backup/cc/cc_lib','cc_asssesment.php',2264],['backup/cc/cc_lib','cc_asssesment.php',2469],['admin/tool/uploadcourse/classes','course.php',111],['lib/zend/Zend/Gdata/Extension','Where.php',52],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ListStyle.php',20],['lib/zend/Zend/Service/Amazon','S3.php',102],['lib/horde/framework/Horde/Stream','Existing.php',28],['backup/util/output','output_controller.class.php',44],['backup/cc/cc_lib','cc_version1.php',57],['question/classes/statistics/responses','analysis_for_question.php',58],['lib/zend/Zend/Service/Simpy','Link.php',104],['backup/converter/moodle1','handlerlib.php',120],['backup/converter/moodle1','handlerlib.php',1710],['backup/converter/moodle1','handlerlib.php',1902],['backup/converter/moodle1','handlerlib.php',2155],['cache','lib.php',66],['cache','lib.php',109],['cache','lib.php',138],['cache','lib.php',183],['lib/zend/Zend/Gdata','Calendar.php',77],['lib/zend/Zend/Validate','Date.php',71],['backup/util/structure','base_atom.class.php',41],['backup/util/structure','base_atom.class.php',114],['backup/util/structure','base_atom.class.php',135],['backup/util/structure','base_atom.class.php',156],['lib/xmldb','xmldb_table.php',49],['lib/htmlpurifier/HTMLPurifier','Encoder.php',10],['backup/cc','cc112moodle.php',59],['lib/zend/Zend/XmlRpc/Client','ServerIntrospection.php',43],['lib/zend/Zend/Gdata/Photos','PhotoFeed.php',147],['backup/controller','backup_controller.class.php',68],['backup/controller','backup_controller.class.php',407],['lib','adminlib.php',792],['lib','adminlib.php',1139],['lib','adminlib.php',1213],['lib','adminlib.php',1356],['lib','adminlib.php',1553],['lib','adminlib.php',1925],['lib','adminlib.php',2037],['lib','adminlib.php',2103],['lib','adminlib.php',2204],['lib','adminlib.php',2246],['lib','adminlib.php',2284],['lib','adminlib.php',2372],['lib','adminlib.php',2406],['lib','adminlib.php',2563],['lib','adminlib.php',2648],['lib','adminlib.php',2877],['lib','adminlib.php',3033],['lib','adminlib.php',3175],['lib','adminlib.php',3266],['lib','adminlib.php',3430],['lib','adminlib.php',3510],['lib','adminlib.php',3621],['lib','adminlib.php',3772],['lib','adminlib.php',4001],['lib','adminlib.php',4068],['lib','adminlib.php',4286],['lib','adminlib.php',4315],['lib','adminlib.php',4344],['lib','adminlib.php',4368],['lib','adminlib.php',4398],['lib','adminlib.php',4434],['lib','adminlib.php',4469],['lib','adminlib.php',4501],['lib','adminlib.php',4591],['lib','adminlib.php',4624],['lib','adminlib.php',4680],['lib','adminlib.php',4704],['lib','adminlib.php',4730],['lib','adminlib.php',4753],['lib','adminlib.php',4770],['lib','adminlib.php',4815],['lib','adminlib.php',4878],['lib','adminlib.php',4913],['lib','adminlib.php',4956],['lib','adminlib.php',5039],['lib','adminlib.php',5169],['lib','adminlib.php',5211],['lib','adminlib.php',5256],['lib','adminlib.php',5313],['lib','adminlib.php',5329],['lib','adminlib.php',5385],['lib','adminlib.php',5610],['lib','adminlib.php',5664],['lib','adminlib.php',5718],['lib','adminlib.php',5735],['lib','adminlib.php',5783],['lib','adminlib.php',5825],['lib','adminlib.php',5876],['lib','adminlib.php',5932],['lib','adminlib.php',6161],['lib','adminlib.php',6341],['lib','adminlib.php',6435],['lib','adminlib.php',6582],['lib','adminlib.php',7206],['lib','adminlib.php',7658],['lib','adminlib.php',7841],['lib','adminlib.php',8128],['lib','adminlib.php',8275],['lib','adminlib.php',8435],['lib','adminlib.php',8582],['lib','adminlib.php',8746],['lib','adminlib.php',8939],['lib','adminlib.php',8993],['lib','adminlib.php',9055],['lib','adminlib.php',9100],['mod/workshop/eval/best','lib.php',44],['lib/zend/Zend/Gdata/Calendar','EventQuery.php',91],['lib/zend/Zend/Service/Technorati','TagResult.php',94],['lib/google/src/Google/Cache','Null.php',26],['enrol/flatfile','adminlib.php',35],['lib/phpexcel/PHPExcel/Chart','PlotArea.php',52],['mod/quiz/report/statistics','statistics_question_table.php',49],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','AddConferenceTemplateParticipantRequest.php',53],['mod/data','lib.php',66],['mod/data','lib.php',2164],['mod/data','lib.php',2438],['mod/data','lib.php',2459],['question/classes/statistics/questions','calculated_for_subquestion.php',57],['lib/horde/framework/Horde/Crypt/Blowfish','Base.php',56],['lib/classes/session','memcached.php',51],['lib/google/src/Google/IO','Abstract.php',37],['availability/classes','info_section.php',40],['lib/zend/Zend/Gdata/YouTube/Extension','Books.php',44],['lib/phpexcel/PHPExcel/Shared/JAMA','QRDecomposition.php',48],['lib/filestorage','stored_file.php',63],['grade/report/history/classes/output','tablelog.php',72],['lib/classes','plugin_manager.php',71],['lib/google/src/Google','Model.php',32],['lib/zend/Zend/Gdata/YouTube/Extension','Relationship.php',44],['lib/horde/framework/Horde/Crypt','Blowfish.php',54],['lib/filebrowser','virtual_root_file.php',45],['auth/cas/CAS/CAS','OutOfSequenceBeforeClientException.php',47],['availability/condition/grade/classes','condition.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',188],['admin/roles/classes','check_capability_table.php',40],['lib/zend/Zend/Gdata/Media','Entry.php',60],['lib/zend/Zend/Gdata','MimeFile.php',43],['admin/tool/xmldb/actions','XMLDBAction.class.php',56],['backup/cc/cc_lib','cc_resources.php',102],['lib/zend/Zend/Loader/Autoloader','Resource.php',62],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',80],['backup/util/xml/parser/processors','simplified_parser_processor.class.php',46],['lib/simplepie/library/SimplePie','IRI.php',252],['lib/htmlpurifier/HTMLPurifier','ContentSets.php',33],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',68],['lib/htmlpurifier/HTMLPurifier/Token','Comment.php',19],['lib/zend/Zend/Gdata/Calendar/Extension','SendEventNotifications.php',44],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntity.php',66],['lib/zend/Zend/Service/DeveloperGarden/Request/LocalSearch','LocalSearchRequest.php',60],['mod/quiz/report/overview','overview_table.php',41],['lib/zend/Zend/Gdata/Photos/Extension','Client.php',51],['backup/cc/cc_lib','cc_converters.php',75],['lib/google/src/Google/Service','AdSense.php',68],['lib/zend/Zend/Gdata','Entry.php',48],['lib','filterlib.php',74],['lib','filterlib.php',382],['lib/lessphp/Tree','Alpha.php',13],['lib/zend/Zend/Gdata','DublinCore.php',51],['lib/horde/framework/Horde/Support','Stack.php',18],['lib/lessphp/Tree','Selector.php',31],['lib/zend/Zend/Service','Nirvanix.php',47],['lib/dtl','file_xml_database_importer.php',34],['mod/workshop','mod_form.php',44],['lib/zend/Zend/Service/Technorati','CosmosResultSet.php',73],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',39],['lib/zend/Zend/Gdata/YouTube/Extension','Age.php',44],['repository/s3','S3.php',176],['repository/s3','S3.php',1994],['repository/s3','S3.php',2346],['lib/lessphp/Tree','Ruleset.php',45],['lib/zend/Zend/Service/Simpy','NoteSet.php',47],['backup/util/xml/output','xml_output.class.php',52],['backup/util/xml/output','xml_output.class.php',158],['lib/google/src/Google/Service','Pubsub.php',44],['lib/alfresco/Service','Node.php',51],['lib/zend/Zend/Service','Technorati.php',79],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',39],['admin/tool/monitor/classes','subscription.php',43],['lib/zend/Zend/Gdata/App/Extension','Person.php',61],['backup/moodle2','backup_course_task.class.php',39],['grade/report/singleview/classes/local/ui','text_attribute.php',42],['lib/dml','sqlsrv_native_moodle_recordset.php',40],['lib/zend/Zend/Gdata/YouTube','ContactEntry.php',61],['lib/zend/Zend/Gdata/Extension','AttendeeType.php',44],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',17],['mod/assignment/backup/moodle1','lib.php',223],['lib/zend/Zend/Gdata/Health/Extension','Ccr.php',43],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',34],['mod/quiz','mod_form.php',48],['backup/util/structure','restore_path_element.class.php',47],['backup/util/structure','restore_path_element.class.php',128],['lib/zend/Zend/Gdata/Calendar','EventFeed.php',55],['lib/zend/Zend/Gdata/Spreadsheets','DocumentQuery.php',57],['availability/tests/fixtures','mock_condition.php',52],['lib/lessphp','Visitor.php',14],['mod/assign/feedback/editpdf/classes','widget.php',53],['lib/minify/lib/Minify/Cache','File.php',9],['lib/zend/Zend/Gdata/Exif','Entry.php',64],['grade/tests','reportlib_test.php',36],['mod/workshop/allocation','lib.php',103],['lib/zend/Zend/Service/WindowsAzure/Storage','BlobInstance.php',57],['lib/zend/Zend/Gdata/Photos/Extension','User.php',50],['admin/tool/uploadcourse/classes','tracker.php',72],['lib/zend/Zend/Service/Technorati','GetInfoResult.php',52],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',61],['lib/zend/Zend/Gdata/YouTube/Extension','Hobbies.php',44],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',31],['lib/zend/Zend/Gdata/Photos/Extension','Width.php',50],['admin/roles/classes','view_role_definition_table.php',28],['lib/phpunit/classes','arraydataset.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Sync.php',133],['lib/zend/Zend','Exception.php',34],['backup/util/xml/parser/tests','parser_test.php',797],['lib/zend/Zend/Validate/File','ImageSize.php',113],['lib/zend/Zend/Validate','Alnum.php',65],['lib/zend/Zend/Service/Flickr','Image.php',62],['lib/phpexcel/PHPExcel/Calculation','Function.php',71],['lib/horde/framework/Horde/Support','Inflector.php',115],['lib/horde/framework/Horde/Exception','Pear.php',22],['question/classes/bank','random_question_loader.php',61],['lib/phpexcel/PHPExcel/Reader','HTML.php',104],['lib/mustache/src/Mustache/Loader','InlineLoader.php',57],['lib/zend/Zend/Gdata/Photos/Extension','QuotaLimit.php',51],['admin/tool/uploadcourse/classes','processor.php',122],['lib/zend/Zend/Gdata/Spreadsheets','WorksheetFeed.php',40],['lib/lessphp/Tree','Rule.php',24],['lib/zend/Zend/Service/Amazon','EditorialReview.php',44],['lib/zend/Zend/Service/ReCaptcha','MailHide.php',86],['lib/htmlpurifier/HTMLPurifier/AttrTransform','NameSync.php',11],['lib/classes/progress','display_if_slow.php',60],['availability/condition/group/classes','condition.php',43],['lib/zend/Zend/Gdata/Photos/Extension','Location.php',50],['backup/moodle2','restore_settingslib.php',125],['lib/filebrowser','file_info.php',43],['repository/equella','lib.php',42],['lib/zend/Zend/Http','Client.php',242],['lib/alfresco/Service','ChildAssociation.php',30],['lib/zend/Zend/Gdata/DublinCore/Extension','Subject.php',44],['lib/zend/Zend/Gdata/App/Extension','Category.php',46],['badges/lib','awardlib.php',55],['admin/roles/classes','override_permissions_table_advanced.php',31],['lib/mustache/src/Mustache','Template.php',29],['backup/util/helper','restore_roles_parser_processor.class.php',39],['lib','csslib.php',1501],['lib','csslib.php',1587],['lib','csslib.php',2068],['lib','csslib.php',2136],['lib','csslib.php',2242],['lib/zend/Zend/Service/WindowsAzure/Storage','QueueInstance.php',49],['mod/lti/service/toolproxy/classes/local/service','toolproxy.php',41],['admin/roles/classes','define_role_table_advanced.php',46],['backup/moodle2','restore_section_task.class.php',42],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',44],['lib/google/src/Google','Client.php',71],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',69],['backup/moodle2','restore_plugin.class.php',43],['lib/simplepie/library/SimplePie','Registry.php',99],['backup/cc','cc2moodle.php',105],['lib/classes/lock','postgres_lock_factory.php',81],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',56],['lib/htmlpurifier/HTMLPurifier','Length.php',41],['lib/zend/Zend/Validate/File','Count.php',92],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',54],['lib/editor/atto','adminlib.php',109],['lib/google/src/Google/Service','Admin.php',40],['lib/dml','moodle_transaction.php',40],['backup/util/plan','restore_structure_step.class.php',46],['question/engine','questionattempt.php',166],['question/engine','questionattempt.php',1513],['question/engine','questionattempt.php',1599],['question/engine','questionattempt.php',1684],['lib/zend/Zend/Service/Technorati','Weblog.php',152],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantStatus.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',23],['backup/util/helper','restore_decode_content.class.php',50],['backup/util/helper','restore_decode_content.class.php',125],['lib/google/src/Google/Cache','File.php',39],['lib/google/src/Google/Http','Request.php',55],['backup/moodle2','backup_block_task.class.php',43],['lib/simplepie/library/SimplePie','Source.php',61],['lib/google/src/Google/Service','Translate.php',40],['availability/classes','capability_checker.php',49],['lib','navigationlib.php',145],['lib','navigationlib.php',1012],['lib','navigationlib.php',2814],['lib','navigationlib.php',3075],['lib','navigationlib.php',3409],['lib','navigationlib.php',4775],['lib','navigationlib.php',4956],['lib/zend/Zend/Gdata/YouTube/Extension','MediaCredit.php',64],['lib/dml','pdo_moodle_database.php',42],['lib/zend/Zend/Gdata/YouTube/Extension','ReleaseDate.php',44],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',40],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',221],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','NewParticipantRequest.php',53],['lib/zend/Zend/Gdata/Spreadsheets/Extension','RowCount.php',49],['lib/zend/Zend/Validate/File','IsCompressed.php',53],['lib/zend/Zend/Gdata/Photos/Extension','MaxPhotosPerAlbum.php',51],['lib/zend/Zend/Gdata/Extension','When.php',52],['question/classes/bank/search','hidden_condition.php',42],['report/loglive/classes','renderable.php',73],['mod/lti/classes/local/ltiservice','response.php',58],['lib/zend/Zend/Gdata/Extension','Recurrence.php',43],['lib/zend/Zend/Gdata/Books/Extension','BooksLink.php',41],['backup/util/loggers','database_logger.class.php',40],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',250],['lib/phpexcel/PHPExcel','HashTable.php',52],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',34],['lib/htmlpurifier/HTMLPurifier','Zipper.php',25],['lib/classes/update','deployer.php',42],['lib/zend/Zend/Gdata/YouTube','VideoFeed.php',53],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','GetQuotaInformation.php',40],['lib/minify/lib','CSSmin.php',43],['lib/zend/Zend/Validate/File','Crc32.php',60],['mod/feedback/item','feedback_item_class.php',20],['question/engine/upgrade','upgradelib.php',280],['question/engine/upgrade','upgradelib.php',381],['lib/simplepie/library/SimplePie','Copyright.php',73],['lib/zend/Zend/Gdata/Spreadsheets','SpreadsheetEntry.php',43],['lib/google/src/Google/Service','Dns.php',50],['lib/zend/Zend/Gdata/Gapps','Query.php',57],['lib/zend/Zend/Gdata/YouTube/Extension','School.php',44],['lib/mustache/src/Mustache','HelperCollection.php',19],['mod/assign','gradingtable.php',68],['backup/util/xml/output','file_xml_output.class.php',37],['lib','upgradelib.php',45],['lib','upgradelib.php',61],['lib','upgradelib.php',76],['lib','upgradelib.php',94],['lib','upgradelib.php',111],['lib/zend/Zend/Service','Akismet.php',77],['lib','googleapi.php',52],['lib','googleapi.php',243],['lib/zend/Zend/Service/Yahoo','ResultSet.php',84],['lib/classes/message/inbound','processing_failed_exception.php',36],['lib','portfoliolib.php',101],['lib/lessphp/Tree','Import.php',30],['lib/phpexcel/PHPExcel/Shared/JAMA','SingularValueDecomposition.php',53],['lib/tests/fixtures','test_renderer_factory.php',41],['mod/lesson','editpage_form.php',41],['grade/report','lib.php',156],['lib/zend/Zend/XmlRpc/Request','Http.php',53],['lib/filebrowser','file_info_stored.php',51],['lib/phpexcel/PHPExcel/Style','Protection.php',57],['lib/google/src/Google','Config.php',30],['lib/horde/framework/Horde/Imap/Client/Exception','ServerResponse.php',44],['lib/zend/Zend/Validate','LessThan.php',58],['grade/export','lib.php',60],['lib/zend/Zend/Gdata/YouTube/Extension','PlaylistTitle.php',44],['availability/classes','tree.php',118],['lib/htmlpurifier/HTMLPurifier/Node','Text.php',35],['question/classes/statistics/responses','analysis_for_subpart.php',50],['lib/zend/Zend/Validate','InArray.php',65],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','BackgroundPosition.php',57],['lib/zend/Zend/Gdata/Photos/Extension','Height.php',50],['lib/zend/Zend/Gdata/Gapps','Error.php',76],['backup/util/helper','restore_decode_processor.class.php',47],['backup/util/helper','restore_decode_processor.class.php',182],['lib/phpexcel/PHPExcel','Chart.php',150],['lib/google/src/Google/Service','Replicapool.php',48],['lib/zend/Zend/Gdata/Media/Extension','MediaRating.php',49],['lib/zend/Zend/Gdata/YouTube','VideoEntry.php',175],['admin/tool/installaddon/classes','pluginfo_client.php',68],['admin/tool/installaddon/classes','pluginfo_client.php',206],['lib/google/src/Google/Service','Resourceviews.php',54],['admin/tool/log/store/legacy/classes/log','store.php',33],['backup/moodle2','backup_section_task.class.php',40],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',68],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',40],['repository/youtube','lib.php',40],['lib/tcpdf/include/barcodes','datamatrix.php',229],['lib/testing/generator','component_generator_base.php',45],['lib/zend/Zend/Gdata/DublinCore/Extension','Format.php',44],['lib','badgeslib.php',133],['admin/tool/installaddon/classes','installer.php',488],['admin/tool/installaddon/classes','installer.php',745],['lib/zend/Zend/XmlRpc','Client.php',122],['lib/mustache/src/Mustache','LambdaHelper.php',24],['admin/roles/classes','permissions_table.php',38],['lib/jabber/XMPP','XMLObj.php',76],['lib','coursecatlib.php',197],['lib','coursecatlib.php',2668],['question/type','edit_question_form.php',96],['lib/zend/Zend/Gdata','MediaMimeStream.php',80],['mod/quiz/report/responses','last_responses_table.php',39],['lib/zend/Zend/Gdata/Photos/Extension','Timestamp.php',51],['lib','setuplib.php',106],['lib','setuplib.php',158],['lib','setuplib.php',174],['lib','setuplib.php',194],['lib','setuplib.php',224],['lib','setuplib.php',246],['lib','setuplib.php',262],['lib','setuplib.php',284],['lib','setuplib.php',303],['lib','setuplib.php',321],['lib/google/src/Google/Cache','Apc.php',35],['mod/lti/service/toolsettings/classes/local/service','toolsettings.php',41],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',57],['lib/lessphp/Tree','Unit.php',16],['lib/zend/Zend/Service/DeveloperGarden/Request/VoiceButler','TearDownCall.php',46],['lib/minify/lib/HTTP','ConditionalGet.php',109],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',261],['lib/htmlpurifier/HTMLPurifier','Printer.php',21],['lib/zend/Zend/Service/Amazon','CustomerReview.php',69],['lib/zend/Zend/Gdata/YouTube/Extension','QueryString.php',44],['lib/zend/Zend/Gdata/Gapps/Extension','Name.php',65],['mod/assign','adminlib.php',41],['mod/assign','adminlib.php',102],['lib/lessphp/Tree','RulesetCall.php',14],['lib/zend/Zend/Gdata/Extension','Rating.php',49],['repository/alfresco','lib.php',42],['lib/zend/Zend/Service/Technorati','SearchResultSet.php',49],['lib/zend/Zend/Gdata/Photos','UserQuery.php',71],['enrol','renderer.php',426],['enrol','renderer.php',728],['badges/criteria','award_criteria_course.php',47],['lib/zend/Zend/Gdata/Extension','RecurrenceException.php',56],['lib/phpexcel/PHPExcel/Style','Fill.php',89],['lib/zend/Zend/Service/Technorati','TagsResult.php',60],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',60],['lib/google/src/Google/Service','Exception.php',12],['lib/zend/Zend/Gdata','Spreadsheets.php',115],['lib/xmldb','xmldb_index.php',56],['question/classes/statistics/responses','analyser.php',69],['lib/htmlpurifier/HTMLPurifier/Node','Comment.php',19],['lib/zend/Zend/Gdata/Photos/Extension','Position.php',50],['lib/google/src/Google/Auth','Simple.php',32],['lib/zend/Zend/Gdata/Geo/Extension','GmlPoint.php',62],['lib/horde/framework/Horde/Crypt/Blowfish/Php','Base.php',318],['lib/horde/framework/Horde/Imap/Client/Cache','Backend.php',33],['lib/zend/Zend/Rest','Route.php',71],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceTemplateParticipantRequest.php',60],['question','category_class.php',58],['lib/classes/progress','display.php',48],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportExtension.php',33],['lib/zend/Zend/Gdata/App/Extension','Rights.php',43],['lib/adodb','adodb-active-record.inc.php',113],['lib/horde/framework/Horde/Exception','Wrapped.php',16],['lib/zend/Zend/Validate','NotEmpty.php',77],['question/type/calculated','datasetitems_form.php',72],['lib/horde/framework/Horde/Support','ObjectStub.php',29],['lib/dml','pdo_moodle_recordset.php',41],['backup/cc/cc_lib','cc_converter_folder.php',28],['lib/horde/framework/Horde/Mime','Mail.php',93],['lib/zend/Zend/Gdata/Calendar','ListEntry.php',85],['admin/tool/monitor/classes','rule.php',44],['backup/cc/cc_lib','cc_utils.php',313],['backup/cc/cc_lib','cc_utils.php',381],['backup/cc/cc_lib','cc_utils.php',437],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',69],['lib/zend/Zend/Gdata/Geo','Entry.php',55],['lib/zend/Zend/Gdata/YouTube/Extension','Link.php',48],['lib','flickrlib.php',53],['lib/zend/Zend/Gdata/YouTube/Extension','AboutMe.php',44],['lib/zend/Zend/Service/DeveloperGarden','Credential.php',54],['grade/report/overview','lib.php',76],['lib/simplepie/library/SimplePie','File.php',68],['backup/moodle2','backup_plugin.class.php',44],['lib/zend/Zend/Gdata/Extension','ExtendedProperty.php',46],['backup/cc/cc_lib','cc_assesment_sfib.php',27],['rating','lib.php',114],['rating','lib.php',1070],['lib','dtllib.php',66],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',68],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',20],['question/engine','datalib.php',68],['question/engine','datalib.php',1330],['question/engine','datalib.php',1631],['question/engine','datalib.php',1739],['question/engine','datalib.php',1869],['question/engine','datalib.php',1940],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',405]], 1047],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'user_preference_allow_ajax_update': ['user_preference_allow_ajax_update', 'You need to call this function if you wish to use the set_user_preference method in javascript_static.php, to white-list the preference you want to update from JavaScript, and to specify the type of cleaning you expect to be done on values. ', [['lib/ajax','ajaxlib.php',26]], 10],
'box': ['box', 'Outputs a box. ', [['lib','outputrenderers.php',2974]], 295],
'render_tabtree': ['render_tabtree', 'Renders tabtree ', [['theme/bootstrapbase/renderers','core_renderer.php',168],['lib','outputrenderers.php',3608]], 1],
'has_started': ['has_started', 'Returns true is output has already started, and false if not. ', [['lib','outputrenderers.php',212],['lib','setuplib.php',1760]], 1],
'list_block_contents': ['list_block_contents', 'Render the contents of a block_list. ', [['lib','outputrenderers.php',1510]], 3],
'get_css_type': ['get_css_type', 'Gets the CSS class to add to this node to describe its type ', [['lib','navigationlib.php',593]], 8],
'action_link': ['action_link', 'Method to create a link with popup action. ', [['report/log/classes','table_log.php',344],['report/loglive/classes','table_log.php',285],['lib','outputrenderers.php',1586]], 71],
'is_role_switched': ['is_role_switched', 'Checks if the user has switched roles within the given course. ', [['lib','accesslib.php',4385]], 11],
'larrow': ['larrow', 'Accessibility: Left arrow-like character is used in the breadcrumb trail, course navigation menu (previous/next activity), calendar, and search forum block. If the theme does not set characters, appropriate defaults are set automatically. Please DO NOT use &lt; &gt; &raquo; - these are confusing for blind users. ', [['lib','outputrenderers.php',3398]], 13],
'heading': ['heading', 'Get the heading for this page. ', [['grade/report/singleview/classes/local/screen','grade.php',283],['grade/report/singleview/classes/local/screen','user.php',281],['lib','outputrenderers.php',2957],['lib','outputrenderers.php',4080],['lib','outputrenderers.php',4254],['grade/report/singleview/classes/local/screen','screen.php',197]], 763],
'render_help_icon': ['render_help_icon', 'Implementation of user image rendering. ', [['lib','outputrenderers.php',2276]], 0],
'embed_url': ['embed_url', 'Renders a media file (audio or video) using suitable embedded player. ', [['lib','outputrenderers.php',4352]], 35],
'get_embeddable_markers': ['get_embeddable_markers', 'Obtains a list of markers that can be used in a regular expression when searching for URLs that can be embedded by any player type. ', [['lib','outputrenderers.php',4490],['lib','medialib.php',268],['lib','medialib.php',516],['lib','medialib.php',621],['lib','medialib.php',673]], 2],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 988],
'render_url_select': ['render_url_select', 'Internal implementation of url_select rendering ', [['lib','outputrenderers.php',1931]], 0],
'get_mustache': ['get_mustache', 'Return an instance of the mustache class. ', [['lib','outputrenderers.php',74]], 1],
'add_class': ['add_class', 'Adds a CSS class to this action link object ', [['lib','outputcomponents.php',1030],['lib','outputcomponents.php',1782],['lib','outputcomponents.php',2591],['lib','navigationlib.php',456]], 33],
'select': ['select', 'Create a new Zend_Service_WindowsAzure_Storage_TableEntityQuery ', [['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',455],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntityQuery.php',74],['lib','outputcomponents.php',1255],['lib/jquery/ui-1.11.4/external/jquery','jquery.js',2845]], 593],
'role_get_name': ['role_get_name', 'Get localised role name or alias if exists and format the text. ', [['lib','accesslib.php',4497]], 46],
'notify_message': ['notify_message', 'Output a notification at a particular level - in this case, NOTIFY_MESSAGE. ', [['lib','outputrenderers.php',2819]], 0],
'block': ['block', '', [['lib/minify/lib','JSMinPlus.php',781],['lib','outputrenderers.php',1346],['lib','outputrenderers.php',4546],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/paste','editor_plugin_src.js',222]], 33],
'region_completely_docked': ['region_completely_docked', 'Checks to see whether all of the blocks within the given region are docked ', [['lib','blocklib.php',470]], 11],
'login_info': ['login_info', 'Return the standard string that says whether you are logged in (and switched roles/logged in as another user). ', [['lib','outputrenderers.php',689],['lib','outputrenderers.php',4690]], 13],
'set_context': ['set_context', 'Set the context. ', [['mod/assign','locallib.php',246],['lib/portfolio','caller.php',568],['grade/grading','lib.php',116],['lib','pagelib.php',942]], 254],
'message_messenger_requirejs': ['message_messenger_requirejs', 'Requires the JS libraries to send a message using a dialog. ', [['message','lib.php',2677]], 2],
'init_block_hider_js': ['init_block_hider_js', 'Calls the JS require function to hide a block. ', [['lib','outputrenderers.php',1491],['lib','outputrenderers.php',4669]], 1],
'doc_link': ['doc_link', 'Returns document link for performance issue ', [['report/performance','locallib.php',94],['lib','outputrenderers.php',2050]], 18],
'render_pix_icon': ['render_pix_icon', 'Renders a pix_icon widget and returns the HTML to display it. ', [['lib','outputrenderers.php',2091]], 0],
'get_text': ['get_text', 'Get the text of the caption ', [['lib/simplepie/library/SimplePie','Caption.php',176],['lib','html2text.php',383],['lib','outputcomponents.php',2743]], 15],
'htmllize_file_tree': ['htmllize_file_tree', 'Internal implementation of file tree viewer items rendering. ', [['lib','outputrenderers.php',2487],['lib','outputrenderers.php',4655]], 1],
'json_encode': ['json_encode', 'encodes an arbitrary variable into JSON format ', [['lib/minify/lib','FirePHP.php',1124]], 247],
'container_end_all': ['container_end_all', 'Close all but the last open container. This is useful in places like error handling, where you want to close all the open containers (apart from <body>) before outputting the error message. ', [['lib','outputrenderers.php',1059]], 3],
'notify_problem': ['notify_problem', 'Output a notification at a particular level - in this case, NOTIFY_PROBLEM. ', [['lib','outputrenderers.php',2797]], 0],
'standard_head_html': ['standard_head_html', 'The standard tags (meta tags, links to stylesheets and JavaScript, etc.) that should be included in the <head> tag. Designed to be called in theme layout.php files. ', [['lib','outputrenderers.php',457]], 21],
'user_count_login_failures': ['user_count_login_failures', 'Count the number of failed login attempts for the given user, since last successful login. ', [['user','lib.php',592]], 5],
'single_button': ['single_button', 'Returns a form with a single button. ', [['lib','outputrenderers.php',1735]], 298],
'course_header': ['course_header', 'Course-specific information to be output on any course page (usually above navigation bar) ', [['course/format','lib.php',832],['lib','outputrenderers.php',1126],['lib','outputrenderers.php',4609]], 6],
'event_handler': ['event_handler', 'Creates a YUI event handler. ', [['lib','outputrequirementslib.php',1227],['lib','outputcomponents.php',1986]], 3],
'get_separator': ['get_separator', '', [['question/type/numerical','questiontype.php',540],['lib','weblib.php',2121],['lib','csslib.php',1314]], 7],
'method': ['method', 'Calls the callback function. ', [['lib','moodlelib.php',9152]], 135],
'prepare': ['prepare', 'Prepares the scorm attempt bar for output. ', [['mod/scorm','renderer.php',144],['lib/adodb','adodb.inc.php',663],['lib/mustache/src/Mustache','Compiler.php',544],['course','lib.php',2855],['lib/adodb/drivers','adodb-odbtp.inc.php',463],['lib/adodb/drivers','adodb-pdo.inc.php',318],['lib/adodb/drivers','adodb-mysqli.inc.php',718],['lib/adodb/drivers','adodb-mssql.inc.php',642],['lib/htmlpurifier/HTMLPurifier/Injector','RemoveEmpty.php',41],['lib/htmlpurifier/HTMLPurifier/Injector','PurifierLinkify.php',29],['lib/htmlpurifier/HTMLPurifier/Injector','SafeObject.php',54],['lib/htmlpurifier/HTMLPurifier/URIFilter','DisableExternal.php',19],['lib/htmlpurifier/HTMLPurifier/URIFilter','SafeIframe.php',33],['lib/htmlpurifier/HTMLPurifier','Injector.php',88],['lib','outputcomponents.php',2388],['lib/htmlpurifier/HTMLPurifier/URIFilter','Munge.php',44],['lib/adodb/drivers','adodb-db2.inc.php',614],['lib/adodb/drivers','adodb-mssqlnative.inc.php',501],['lib/adodb/drivers','adodb-ibase.inc.php',304],['lib/adodb/drivers','adodb-oci8po.inc.php',42],['lib/htmlpurifier/HTMLPurifier/Injector','RemoveSpansWithoutAttributes.php',34],['lib/adodb/drivers','adodb-ads.inc.php',508],['lib/adodb/drivers','adodb-odbc.inc.php',490],['lib/htmlpurifier/HTMLPurifier/URIFilter','HostBlacklist.php',23],['lib/adodb/drivers','adodb-oci8.inc.php',869],['admin/tool/uploadcourse/classes','course.php',400],['lib/htmlpurifier/HTMLPurifier/URIFilter','MakeAbsolute.php',26],['lib/htmlpurifier/HTMLPurifier','URIFilter.php',51]], 122],
'edit_button': ['edit_button', 'Returns HTML to display a "Turn editing on/off" button in a form. ', [['lib','outputrenderers.php',2617]], 2],
'render_from_template': ['render_from_template', 'Renders a template by name with the given context. ', [['lib','outputrenderers.php',134]], 3],
'render_context_header': ['render_context_header', 'Renders the header bar. ', [['lib','outputrenderers.php',3985]], 1],
'get_accesshide': ['get_accesshide', 'Return a HTML element with the class "accesshide", for accessibility. ', [['lib','weblib.php',2106]], 18],
'url_select': ['url_select', 'Returns a form with a url select widget. ', [['lib','outputrenderers.php',1914]], 8],
'pop': ['pop', 'Pop the HTML for the next closing container from the stack. The $type must match the type passed when the container was opened, otherwise a warning will be output. ', [['lib','outputlib.php',2025],['lib/evalmath','evalmath.class.php',457],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',82],['lib/horde/framework/Horde/Support','Memory.php',58],['lib/horde/framework/Horde/Support','Array.php',53],['lib/mustache/src/Mustache','Context.php',52],['lib/horde/framework/Horde/Support','Timer.php',42],['lib/horde/framework/Horde/Support','Stack.php',28],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',64]], 293],
'get_secondary_actions': ['get_secondary_actions', 'Returns the secondary actions ready to be rendered. ', [['lib','outputcomponents.php',3478]], 1],
'htmlattributes': ['htmlattributes', 'The attributes that should be added to the <html> tag. Designed to be called in theme layout.php files. ', [['lib','outputrenderers.php',443]], 21],
'is_mnet_remote_user': ['is_mnet_remote_user', 'Returns whether or not the user object is a remote MNET user. This function is in moodlelib because it does not rely on loading any of the MNET code. ', [['lib','moodlelib.php',8869]], 20],
'make_localcache_directory': ['make_localcache_directory', 'Create a directory under localcachedir and make sure it is writable. The files in this directory MUST NOT change, use revisions or content hashes to work around this limitation - this means you can only add new files here. ', [['lib','setuplib.php',1625]], 17],
'get_view_ratings_url': ['get_view_ratings_url', 'Returns a URL to view all of the ratings for the item this rating is for. ', [['rating','lib.php',306]], 2],
'params': ['params', 'Return parameters to be bound to the above WHERE clause fragment. ', [['question/classes/bank/search','condition.php',43],['lib','weblib.php',394],['question/classes/bank/search','category_condition.php',100]], 89],
'block_footer': ['block_footer', 'Produces the footer for a block ', [['lib','outputrenderers.php',1463]], 1],
'user_is_editing': ['user_is_editing', 'Should the current user see this page in editing mode. That is, are they allowed to edit this page, and are they currently in editing mode. ', [['lib','pagelib.php',827]], 52],
'init_page': ['init_page', 'Let the theme initialise the page object (usually $PAGE). ', [['lib','outputlib.php',532]], 1],
'qualified_me': ['qualified_me', 'Guesses the full URL of the current script. ', [['lib','weblib.php',197]], 26],
'has_children': ['has_children', 'Returns true if this item has any children ', [['lib','outputcomponents.php',2799],['lib','navigationlib.php',405],['lib','coursecatlib.php',1176]], 24],
'can_embed_url': ['can_embed_url', 'Checks whether a file can be embedded. If this returns true you will get an embedded player; if this returns false, you will just get a download link. ', [['lib','outputrenderers.php',4451]], 9],
'confirm': ['confirm', 'Print a message along with button choices for Continue/Cancel ', [['lib','outputrenderers.php',1697]], 167],
'get_players_raw': ['get_players_raw', 'Obtains a raw list of player objects that includes objects regardless of whether they are disabled or not, and without sorting. ', [['lib','outputrenderers.php',4323]], 1],
'set_constraint': ['set_constraint', 'Sets a constraint for the dialogue. ', [['lib','outputcomponents.php',3533]], 4],
'list_supported_urls': ['list_supported_urls', 'Given a list of URLs, returns a reduced array containing only those URLs which are supported by this player. (Empty if none.) ', [['lib','medialib.php',327],['lib','medialib.php',429],['lib','medialib.php',1016],['lib','medialib.php',1108],['lib','medialib.php',1188],['lib','medialib.php',1260]], 8],
'render_custom_menu': ['render_custom_menu', '', [['theme/bootstrapbase/renderers','core_renderer.php',71],['lib','outputrenderers.php',3450]], 1],
'set_heading': ['set_heading', 'Sets the heading to use for the page. This is normally used as the main heading at the top of the content. ', [['lib','pagelib.php',1141]], 419],
'is_loggedinas': ['is_loggedinas', 'Is current $USER logged-in-as somebody else? ', [['lib/classes/session','manager.php',786]], 32],
'get_url': ['get_url', 'Returns relevant URL. ', [['report/log/classes/event','user_report_viewed.php',82],['mod/wiki/classes/event','page_deleted.php',83],['mod/chat/classes/event','sessions_viewed.php',74],['mod/glossary/classes/event','category_deleted.php',65],['mod/workshop/classes/event','assessment_evaluations_reset.php',84],['lib/classes/event','course_resources_list_viewed.php',69],['lib/filebrowser','file_info_context_course.php',505],['mod/lesson/classes/event','content_page_viewed.php',57],['lib/classes/event','blog_association_created.php',75],['lib/classes/event','user_profile_viewed.php',76],['mod/feedback/classes/event','response_submitted.php',79],['lib/classes/event','badge_awarded.php',72],['report/outline/classes/event','report_viewed.php',83],['admin/tool/capability/classes/event','report_viewed.php',74],['lib/classes/event','message_viewed.php',63],['lib/classes/event','course_category_created.php',57],['mod/quiz/classes/event','group_override_updated.php',73],['mod/survey/classes/event','response_submitted.php',71],['lib/classes/event','blog_comment_created.php',38],['mod/book/tool/exportimscp/classes/event','book_exported.php',85],['report/loglive/classes/event','report_viewed.php',75],['mod/forum/classes/event','post_deleted.php',76],['badges/lib','backpacklib.php',116],['mod/chat/classes/event','message_sent.php',68],['mod/workshop/classes/event','submission_created.php',72],['lib/classes/event','note_updated.php',75],['mod/lesson/classes/event','group_override_deleted.php',73],['lib/classes/event','course_module_instance_list_viewed.php',84],['mod/lesson/classes/event','page_updated.php',81],['mod/forum/classes/event','discussion_subscription_deleted.php',75],['mod/quiz/classes/event','attempt_preview_started.php',73],['mod/lesson/classes/event','user_override_updated.php',73],['mod/quiz/classes/event','report_viewed.php',75],['mod/lesson/classes/event','question_answered.php',63],['mod/forum/classes/event','discussion_viewed.php',69],['mod/workshop/classes/event','submission_viewed.php',72],['mod/data/classes/event','comment_created.php',37],['mod/workshop/classes/event','submission_reassessed.php',86],['mod/glossary/classes/event','entry_deleted.php',73],['mod/glossary/classes/event','comment_created.php',37],['lib/classes/event','user_created.php',66],['mod/data/classes/event','field_updated.php',76],['mod/data/classes/event','template_updated.php',85],['lib/classes/event','comment_created.php',77],['lib/classes/event','cohort_deleted.php',67],['lib/tests','customcontext_test.php',33],['lib/tests','customcontext_test.php',57],['lib/tests','customcontext_test.php',81],['mod/scorm/classes/event','tracks_viewed.php',73],['lib/classes/event','course_viewed.php',84],['mod/quiz/classes/event','attempt_abandoned.php',81],['mod/workshop/classes/event','phase_switched.php',84],['lib/classes/event','base.php',556],['lib/classes/event','course_completion_updated.php',65],['report/completion/classes/event','report_viewed.php',67],['mod/forum/classes/event','discussion_updated.php',74],['lib/classes/event','course_reset_ended.php',62],['mod/glossary/classes/event','course_module_viewed.php',47],['mod/choice/classes/event','answer_submitted.php',81],['mod/forum/classes/event','assessable_uploaded.php',95],['mod/wiki/classes/event','page_diff_viewed.php',85],['lib/classes/event','course_category_updated.php',60],['admin/tool/langimport/classes/event','langpack_updated.php',89],['lib/classes/event','webservice_service_created.php',74],['lib/classes/event','course_created.php',73],['mod/lesson/classes/event','lesson_started.php',57],['lib/classes/event','group_created.php',74],['mod/quiz/classes/event','user_override_created.php',72],['mod/glossary/classes/event','category_updated.php',65],['backup/util/ui','restore_ui_components.php',98],['mod/glossary/classes/event','entry_disapproved.php',65],['lib/classes/event','user_password_updated.php',95],['lib/classes/event','role_deleted.php',73],['admin/tool/log/store/legacy/tests/fixtures','event.php',44],['lib/classes/event','user_loggedinas.php',85],['lib','modinfolib.php',1245],['mod/lesson/classes/event','essay_attempt_viewed.php',57],['mod/forum/classes/event','discussion_moved.php',75],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',92],['mod/quiz/report','attemptsreport_options.php',133],['mod/survey/classes/event','report_downloaded.php',73],['mod/wiki/classes/event','page_updated.php',83],['admin/tool/log/store/standard/tests/fixtures','event.php',44],['lib/classes/event','user_list_viewed.php',74],['mod/forum/classes/event','readtracking_disabled.php',73],['lib/classes/event','comments_viewed.php',69],['lib/classes/event','cohort_member_added.php',68],['lib/classes/event','grouping_created.php',74],['lib/classes/event','recent_activity_viewed.php',76],['lib/classes/event','role_allow_switch_updated.php',65],['mod/assign/submission/comments/classes/event','comment_deleted.php',37],['lib/classes/event','user_login_failed.php',76],['lib/classes/event','message_contact_added.php',57],['lib/classes/event','role_allow_assign_updated.php',65],['mod/quiz/classes/event','user_override_deleted.php',72],['mod/quiz/classes/event','edit_page_viewed.php',72],['mod/lesson/classes/event','highscores_viewed.php',57],['report/stats/classes/event','user_report_viewed.php',76],['mod/quiz/classes/event','group_override_deleted.php',73],['mod/book/classes/event','chapter_updated.php',88],['mod/lesson/classes/event','question_viewed.php',63],['mod/scorm/classes/event','interactions_viewed.php',72],['lib/classes/event','course_module_updated.php',76],['mod/forum/classes/event','discussion_subscription_created.php',75],['mod/quiz/classes/event','question_manually_graded.php',74],['lib/classes/event','mnet_access_control_created.php',66],['lib/classes/event','role_assigned.php',75],['mod/scorm/classes/event','user_report_viewed.php',71],['report/participation/classes/event','report_viewed.php',86],['mod/data/classes/event','comment_deleted.php',37],['lib/classes/event','user_updated.php',66],['lib/classes/event','course_section_updated.php',75],['lib/classes/event','comment_deleted.php',77],['mod/assign/submission/file/classes/event','assessable_uploaded.php',94],['admin/tool/log/store/database/tests/fixtures','event.php',44],['lib/classes/event','cohort_updated.php',67],['mod/forum/classes/event','post_updated.php',76],['mod/book/classes/event','chapter_viewed.php',88],['lib/classes/event','user_loggedout.php',72],['lib/classes/event','grade_report_viewed.php',72],['mod/book/classes/event','chapter_deleted.php',88],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',43],['lib/classes/event','webservice_token_created.php',74],['enrol','locallib.php',1396],['mod/forum/classes/event','course_searched.php',75],['lib/classes/event','group_updated.php',74],['mod/quiz/classes/event','attempt_started.php',74],['mod/lesson/classes/event','group_override_updated.php',73],['lib/classes/event','course_module_viewed.php',71],['lib/classes/event','mnet_access_control_updated.php',66],['mod/wiki/classes/event','comments_viewed.php',68],['lib/tests/fixtures','event_fixtures.php',47],['lib/tests/fixtures','event_fixtures.php',273],['mod/quiz/classes/event','attempt_submitted.php',81],['mod/data/classes/event','field_created.php',77],['lib/classes/event','question_category_created.php',66],['admin/tool/monitor/classes/event','rule_deleted.php',68],['lib/classes/event','blog_comment_deleted.php',38],['mod/lesson/classes/event','group_override_created.php',74],['mod/workshop/classes/event','assessments_reset.php',83],['mod/wiki/classes/event','comment_created.php',38],['mod/lesson/classes/event','lesson_resumed.php',57],['lib','outputcomponents.php',326],['lib','outputcomponents.php',2751],['lib/classes/event','blog_entry_updated.php',92],['report/questioninstances/classes/event','report_viewed.php',83],['mod/folder/classes/event','folder_updated.php',66],['lib/classes/event','role_capabilities_updated.php',69],['lib/classes/event','blog_entries_viewed.php',80],['mod/wiki/classes/event','page_viewed.php',86],['lib/classes/event','group_deleted.php',74],['mod/quiz/classes/event','attempt_becameoverdue.php',84],['mod/quiz/classes/event','attempt_viewed.php',73],['lib/classes/event','course_module_completion_updated.php',67],['mod/workshop/classes/event','assessment_evaluated.php',75],['report/log/classes/event','report_viewed.php',85],['mod/book/classes/event','chapter_created.php',88],['mod/workshop/classes/event','submission_assessed.php',85],['lib/classes/event','cohort_created.php',67],['lib','accesslib.php',6092],['lib','accesslib.php',6149],['lib','accesslib.php',6400],['lib','accesslib.php',6587],['lib','accesslib.php',6827],['lib','accesslib.php',7047],['lib','accesslib.php',7290],['mod/scorm/classes/event','sco_launched.php',73],['mod/wiki/classes/event','comment_deleted.php',38],['lib/classes/event','blog_entry_created.php',94],['lib/classes/event','user_enrolment_created.php',72],['mod/data/classes/event','record_created.php',75],['mod/quiz/classes/event','attempt_summary_viewed.php',75],['lib/classes/event','user_enrolment_updated.php',72],['mod/quiz/classes/event','attempt_reviewed.php',72],['mod/glossary/classes/event','comment_deleted.php',37],['mod/lesson/classes/event','page_moved.php',65],['mod/glossary/classes/event','category_created.php',65],['mod/lesson/classes/event','page_created.php',63],['mod/forum/classes/event','course_module_viewed.php',50],['lib/classes/event','cohort_member_removed.php',69],['mod/wiki/classes/event','page_version_viewed.php',84],['lib/classes/event','role_allow_override_updated.php',65],['mod/workshop/classes/event','assessable_uploaded.php',102],['lib/classes/event','grouping_updated.php',74],['admin/tool/monitor/classes/event','rule_updated.php',68],['lib/classes/event','course_module_created.php',105],['admin/tool/langimport/classes/event','langpack_removed.php',80],['mod/workshop/classes/event','submission_updated.php',72],['mod/lesson/classes/event','page_deleted.php',63],['lib/classes/event','grouping_deleted.php',81],['mod/assign/submission/comments/classes/event','comment_created.php',37],['mod/wiki/classes/event','page_history_viewed.php',77],['mod/survey/classes/event','report_viewed.php',73],['report/stats/classes/event','report_viewed.php',83],['lib/classes/event','note_created.php',75],['lib/classes/event','course_reset_started.php',62],['mod/book/tool/print/classes/event','book_printed.php',85],['lib/classes/event','webservice_service_user_removed.php',68],['mod/data/classes/event','record_deleted.php',75],['mod/choice/classes/event','answer_updated.php',81],['lib/classes/event','group_member_removed.php',78],['mod/glossary/classes/event','entry_viewed.php',67],['mod/forum/classes/event','user_report_viewed.php',74],['mod/forum/classes/event','subscription_created.php',74],['lib/classes/event','calendar_event_created.php',77],['lib/classes/event','message_contact_blocked.php',57],['lib/classes/event','webservice_service_updated.php',68],['mod/wiki/classes/event','page_version_restored.php',83],['mod/data/classes/event','template_viewed.php',74],['lib/classes/event','course_user_report_viewed.php',75],['mod/data/classes/event','record_updated.php',75],['mod/wiki/classes/event','page_map_viewed.php',83],['mod/wiki/classes/event','page_locks_deleted.php',83],['lib/classes/event','webservice_service_deleted.php',68],['mod/forum/classes/event','readtracking_enabled.php',73],['lib/classes/event','role_unassigned.php',72],['lib/classes/event','course_restored.php',76],['mod/choice/classes/event','report_viewed.php',66],['lib/classes/event','user_enrolment_deleted.php',73],['mod/book/tool/print/classes/event','chapter_printed.php',88],['lib/classes/event','user_graded.php',115],['mod/assign/classes/event','base.php',90],['lib/classes/event','course_updated.php',76],['mod/forum/classes/event','post_created.php',76],['mod/data/classes/event','field_deleted.php',76],['mod/glossary/classes/event','entry_created.php',71],['mod/forum/classes/event','discussion_created.php',74],['mod/forum/classes/event','discussion_deleted.php',75],['mod/scorm/classes/event','attempt_deleted.php',71],['mod/lesson/classes/event','lesson_ended.php',58],['mod/forum/classes/event','subscribers_viewed.php',74],['mod/scorm/classes/event','report_viewed.php',72],['mod/lesson/classes/event','user_override_deleted.php',72],['report/completion/classes/event','user_report_viewed.php',77],['admin/tool/langimport/classes/event','langpack_imported.php',89],['mod/forum/classes/event','subscription_deleted.php',74],['mod/lesson/classes/event','highscore_added.php',65],['mod/lesson/classes/event','essay_assessed.php',87],['lib/classes/event','message_sent.php',91],['lib/classes/event','message_contact_removed.php',57],['lib/filebrowser','file_info.php',226],['report/outline/classes/event','activity_report_viewed.php',75],['lib/classes/event','calendar_event_updated.php',77],['mod/lesson/classes/event','user_override_created.php',72],['mod/workshop/classes/event','assessment_reevaluated.php',85],['mod/quiz/classes/event','user_override_updated.php',73],['lib/simplepie/library/SimplePie','Copyright.php',96],['lib/classes/event','webservice_service_user_added.php',68],['lib/classes/event','notes_viewed.php',71],['lib/filebrowser','file_info_stored.php',156],['mod/glossary/classes/event','entry_updated.php',71],['admin/tool/monitor/classes/event','rule_created.php',68],['mod/wiki/classes/event','page_version_deleted.php',83],['lib/classes/event','course_completed.php',91],['mod/glossary/classes/event','entry_approved.php',65],['mod/wiki/classes/event','page_created.php',77],['mod/quiz/classes/event','group_override_created.php',74],['repository/alfresco','lib.php',121],['lib/classes/event','group_member_added.php',87],['lib/classes/event','message_contact_unblocked.php',57],['mod/quiz/classes/event','attempt_deleted.php',66],['lib/classes/event','user_loggedin.php',73],['mod/lesson/classes/event','lesson_restarted.php',57]], 186],
'header': ['header', 'Returns the header for the lesson module ', [['mod/lesson','renderer.php',29],['lib/tcpdf','tcpdf.php',3387],['lib','outputrenderers.php',909],['lib','outputrenderers.php',4071],['lib','outputrenderers.php',4222]], 1294],
'str_repeat': ['str_repeat', '', [], 149],
'explode': ['explode', '', [], 1599],
'error_reporting': ['error_reporting', '', [], 87],
'is_array': ['is_array', '', [], 1820],
'key': ['key', '', [], 198],
'count': ['count', '', [], 3984],
'trim': ['trim', '', [], 1889],
'in_array': ['in_array', '', [], 1173],
'ob_end_clean': ['ob_end_clean', '', [], 79],
'call_user_func_array': ['call_user_func_array', '', [], 101],
'time': ['time', '', [], 1768],
'array_shift': ['array_shift', '', [], 607],
'implode': ['implode', '', [], 1259],
'preg_quote': ['preg_quote', '', [], 207],
'array_key_exists': ['array_key_exists', '', [], 1539],
'ob_get_contents': ['ob_get_contents', '', [], 63],
'substr': ['substr', '', [], 2883],
'strtolower': ['strtolower', '', [], 922],
'str_replace': ['str_replace', '', [], 1667],
'is_null': ['is_null', '', [], 1992],
'file_exists': ['file_exists', '', [], 873],
'usort': ['usort', '', [], 33],
'array_unique': ['array_unique', '', [], 173],
'urlencode': ['urlencode', '', [], 234],
'get_class': ['get_class', '', [], 332],
'strip_tags': ['strip_tags', '', [], 149],
'is_string': ['is_string', '', [], 680],
'abs': ['abs', '', [], 551],
'gmdate': ['gmdate', '', [], 145],
'ob_get_level': ['ob_get_level', '', [], 9],
'ob_get_clean': ['ob_get_clean', '', [], 26],
'ob_start': ['ob_start', '', [], 101],
'strpos': ['strpos', '', [], 1623],
'defined': ['defined', '', [], 4098],
'preg_match': ['preg_match', '', [], 1317],
'function_exists': ['function_exists', '', [], 443],
'method_exists': ['method_exists', '', [], 279],
'preg_replace': ['preg_replace', '', [], 903],
'link': ['link', '', [], 635],
'header': ['header', '', [], 1294]};
CLASS_DATA={
'mustache_autoloader': ['mustache_autoloader', 'Mustache class autoloader. ', [['lib/mustache/src/Mustache','Autoloader.php',12]], 1],
'action_menu_link_secondary': ['action_menu_link_secondary', 'A secondary action menu action ', [['lib','outputcomponents.php',3676]], 42],
'renderer_base': ['renderer_base', 'Simple base class for Moodle renderers. ', [['lib','outputrenderers.php',40]], 6],
'core_media_player_html5audio': ['core_media_player_html5audio', 'Player that creates HTML5 <audio> tag. ', [['lib','medialib.php',1149]], 1],
'core_media_player_link': ['core_media_player_link', 'Special media player class that just puts a link. ', [['lib','medialib.php',1230]], 1],
'core_media_player_wmp': ['core_media_player_wmp', 'Embeds Windows Media Player using object tag. ', [['lib','medialib.php',765]], 1],
'core_media_player_swf': ['core_media_player_swf', 'Media player for Flash SWF files. ', [['lib','medialib.php',962]], 1],
'help_icon': ['help_icon', 'Data structure representing a help icon. ', [['lib','outputcomponents.php',441]], 4],
'action_link': ['action_link', 'Data structure describing html link with special action attached. ', [['lib','outputcomponents.php',963]], 16],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6106]], 929],
'manager': ['manager', 'Defines MAnager class for myprofile navigation tree. ', [['user/classes/output/myprofile','manager.php',28],['lib/classes/log','manager.php',29],['admin/tool/messageinbound/classes','manager.php',29],['lib/classes/message','manager.php',31],['lib/classes/message/inbound','manager.php',29],['admin/tool/log/classes/log','manager.php',29],['lib/classes/session','manager.php',29],['lib/classes/task','manager.php',28],['lib/classes/event','manager.php',30]], 346],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',214]], 867],
'core_media_player_flv': ['core_media_player_flv', 'Flash video player inserted using JavaScript. ', [['lib','medialib.php',721]], 1],
'action_menu_filler': ['action_menu_filler', 'An action menu filler ', [['lib','outputcomponents.php',3592]], 2],
'js_writer': ['js_writer', 'Simple javascript output class ', [['lib','outputcomponents.php',1874]], 19],
'mustache_engine': ['mustache_engine', 'A Mustache implementation in PHP. ', [['lib/mustache/src/Mustache','Engine.php',12]], 7],
'navigation_node': ['navigation_node', 'This class is used to represent a node in a navigation tree ', [['lib','navigationlib.php',34]], 338],
'component_action': ['component_action', 'Helper class used by other components that involve an action on the page (URL or JS). ', [['lib','outputactions.php',31]], 15],
'tabtree': ['tabtree', 'Stores tabs list ', [['lib','outputcomponents.php',3176]], 2],
'core_renderer_cli': ['core_renderer_cli', 'A renderer that generates output for command-line scripts. ', [['lib','outputrenderers.php',4058]], 0],
'paging_bar': ['paging_bar', 'Component representing a paging bar. ', [['lib','outputcomponents.php',2301]], 22],
'core_media_player_html5video': ['core_media_player_html5video', 'Player that creates HTML5 <video> tag. ', [['lib','medialib.php',1030]], 1],
'notification': ['notification', 'Data structure representing a notification. ', [['lib/classes/output','notification.php',28]], 15],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'core_renderer': ['core_renderer', 'The standard implementation of the core_renderer interface. ', [['lib','outputrenderers.php',360]], 19],
'moodle_page': ['moodle_page', '$PAGE is a central store of information about the current page we are generating in response to the user\'s request. ', [['lib','pagelib.php',30]], 54],
'custom_menu': ['custom_menu', 'Custom menu class ', [['lib','outputcomponents.php',2832]], 12],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6766]], 1197],
'user_picture': ['user_picture', 'Data structure representing a user picture. ', [['lib','outputcomponents.php',142]], 135],
'core_media_player_youtube_playlist': ['core_media_player_youtube_playlist', 'Player that creates YouTube playlist embedding. ', [['lib','medialib.php',627]], 1],
'single_button': ['single_button', 'Data structure representing a simple form with only one button. ', [['lib','outputcomponents.php',594]], 113],
'core_media_player_mp3': ['core_media_player_mp3', 'MP3 player inserted using JavaScript. ', [['lib','medialib.php',679]], 1],
'block_contents': ['block_contents', 'This class represents how a block appears on a page. ', [['lib','outputcomponents.php',2464]], 15],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',6988]], 942],
'rating_manager': ['rating_manager', 'The rating_manager class provides the ability to retrieve sets of ratings from the database ', [['rating','lib.php',365]], 25],
'core_text': ['core_text', 'defines string api\'s for manipulating strings ', [['lib/classes','text.php',27]], 512],
'core_media_player_qt': ['core_media_player_qt', 'Media player using object tag and QuickTime player. ', [['lib','medialib.php',841]], 1],
'core_useragent': ['core_useragent', 'The user agent class. ', [['lib/classes','useragent.php',25]], 149],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1052]], 4832],
'url_select': ['url_select', 'Simple URL selection widget description. ', [['lib','outputcomponents.php',842]], 8],
'core_renderer_ajax': ['core_renderer_ajax', 'A renderer that generates output for ajax scripts. ', [['lib','outputrenderers.php',4151]], 0],
'file_picker': ['file_picker', 'Data structure representing a file picker. ', [['lib','outputcomponents.php',64]], 4],
'core_media_player_vimeo': ['core_media_player_vimeo', 'Player that embeds Vimeo links. ', [['lib','medialib.php',478]], 1],
'action_menu': ['action_menu', 'An action menu. ', [['lib','outputcomponents.php',3229]], 20],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',68]], 478],
'core_media_renderer': ['core_media_renderer', 'Renderer for media files. ', [['lib','outputrenderers.php',4265]], 1],
'pix_icon': ['pix_icon', 'Data structure representing an icon. ', [['lib','outputcomponents.php',497]], 247],
'popup_action': ['popup_action', 'Component action for a popup window. ', [['lib','outputactions.php',114]], 32],
'core_media_player_youtube': ['core_media_player_youtube', 'Player that creates YouTube embedding. ', [['lib','medialib.php',521]], 1],
'core_media_player_rm': ['core_media_player_rm', 'Media player using object tag and RealPlayer. ', [['lib','medialib.php',907]], 1],
'context_header': ['context_header', 'Renderable for the main page header. ', [['lib','outputcomponents.php',3096]], 1],
'plugin_renderer_base': ['plugin_renderer_base', 'Basis for all plugin renderers. ', [['lib','outputrenderers.php',264]], 67],
'core_renderer_maintenance': ['core_renderer_maintenance', 'The maintenance renderer. ', [['lib','outputrenderers.php',4518]], 14],
'single_select': ['single_select', 'Simple form with just one select field that gets submitted automatically. ', [['lib','outputcomponents.php',687]], 49]};
CONST_DATA={
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 554],
'MDL_PERF': ['MDL_PERF', '', [['lib','setup.php',256]], 5],
'MDL_PERFTOFOOT': ['MDL_PERFTOFOOT', '', [['lib','setup.php',262]], 3],
'SITEID': ['SITEID', '', [['admin/cli','install.php',217],['','install.php',244],['lib/db','install.php',87],['lib','setup.php',748]], 612],
'MDL_PERF_TEST': ['MDL_PERF_TEST', '', [['','install.php',51],['lib','setup.php',252]], 5],
'RENDERER_TARGET_MAINTENANCE': ['RENDERER_TARGET_MAINTENANCE', '', [['lib','outputfactories.php',35]], 9],
'RATING_AGGREGATE_NONE': ['RATING_AGGREGATE_NONE', '', [['rating','lib.php',28]], 10],
'RATING_UNSET_RATING': ['RATING_UNSET_RATING', '', [['rating','lib.php',26]], 7],
'URL_MATCH_BASE': ['URL_MATCH_BASE', '', [['lib','weblib.php',70]], 18],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 502],
'CONTEXT_USER': ['CONTEXT_USER', '', [['lib','accesslib.php',144]], 95]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
