<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/editor/atto/autosave-ajax.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='lib/editor/atto';
filename='autosave-ajax.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/editor/atto/</a> -> <a href="autosave-ajax.php.html">autosave-ajax.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="autosave-ajax.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="autosave-ajax.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Save and load draft text while a user is still editing a form.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    editor_atto</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  2014 Damyon Wiese</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('AJAX_SCRIPT')" href="../../../_constants/AJAX_SCRIPT.html" onMouseOver="constPopup(event,'AJAX_SCRIPT')">AJAX_SCRIPT</a>', true);
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  require_once(__DIR__ . '/../../../config.php');
<a name="l28"><span class="linenum">  28</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/libdir.html">libdir</a> . '/filestorage/file_storage.php');
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">// Clean up actions.</span>
<a name="l31"><span class="linenum">  31</span></a>  <a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../_variables/actions.html">$actions</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../../../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>(function(<a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>) {
<a name="l32"><span class="linenum">  32</span></a>      <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../_variables/action.html">$action</a> = isset(<a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>['action']) ? <a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>['action'] : null;
<a name="l33"><span class="linenum">  33</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = [];
<a name="l34"><span class="linenum">  34</span></a>      <a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../../_variables/keys.html">$keys</a> = [
<a name="l35"><span class="linenum">  35</span></a>          'action' =&gt; <a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>,
<a name="l36"><span class="linenum">  36</span></a>          'contextid' =&gt; <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>,
<a name="l37"><span class="linenum">  37</span></a>          'elementid' =&gt; <a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>,
<a name="l38"><span class="linenum">  38</span></a>          'pagehash' =&gt; <a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>,
<a name="l39"><span class="linenum">  39</span></a>          'pageinstance' =&gt; <a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>
<a name="l40"><span class="linenum">  40</span></a>      ];
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>      if (<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../_variables/action.html">$action</a> == 'save') {
<a name="l43"><span class="linenum">  43</span></a>          <a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../../_variables/keys.html">$keys</a>['drafttext'] = <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>;
<a name="l44"><span class="linenum">  44</span></a>      } else if (<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../_variables/action.html">$action</a> == 'resume') {
<a name="l45"><span class="linenum">  45</span></a>          <a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../../_variables/keys.html">$keys</a>['draftid'] = <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>;
<a name="l46"><span class="linenum">  46</span></a>      }
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>      foreach (<a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../../_variables/keys.html">$keys</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> =&gt; <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>) {
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">        // Replicate required_param().</span>
<a name="l50"><span class="linenum">  50</span></a>          if (!isset(<a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>])) {
<a name="l51"><span class="linenum">  51</span></a>              <a class="function" onClick="logFunction('print_error')" href="../../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('missingparam', '', '', <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>);
<a name="l52"><span class="linenum">  52</span></a>          }
<a name="l53"><span class="linenum">  53</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>] = <a class="function" onClick="logFunction('clean_param')" href="../../../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>], <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>);
<a name="l54"><span class="linenum">  54</span></a>      }
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>      return <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>;
<a name="l57"><span class="linenum">  57</span></a>  }, isset(<a class="var it3189" onMouseOver="hilite(3189)" onMouseOut="lolite()" onClick="logVariable('_REQUEST')" href="../../../_variables/_REQUEST.html">$_REQUEST</a>['actions']) ? <a class="var it3189" onMouseOver="hilite(3189)" onMouseOut="lolite()" onClick="logVariable('_REQUEST')" href="../../../_variables/_REQUEST.html">$_REQUEST</a>['actions'] : []);
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>  <a class="var it3027" onMouseOver="hilite(3027)" onMouseOut="lolite()" onClick="logVariable('now')" href="../../../_variables/now.html">$now</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">// This is the oldest time any autosave text will be recovered from.</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">// This is so that there is a good chance the draft files will still exist (there are many variables so</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">// this is impossible to guarantee).</span>
<a name="l63"><span class="linenum">  63</span></a>  <a class="var it6505" onMouseOver="hilite(6505)" onMouseOut="lolite()" onClick="logVariable('before')" href="../../../_variables/before.html">$before</a> = <a class="var it3027" onMouseOver="hilite(3027)" onMouseOut="lolite()" onClick="logVariable('now')" href="../../../_variables/now.html">$now</a> - 60*60*24*4;
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l66"><span class="linenum">  66</span></a>  <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_url')" href="../../../_functions/set_url.html" onMouseOver="funcPopup(event,'set_url')">set_url</a>('<a class="filename" href="../../../lib/editor/atto/autosave-ajax.php.html">/lib/editor/atto/autosave-ajax.php</a>');
<a name="l67"><span class="linenum">  67</span></a>  <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_context')" href="../../../_functions/set_context.html" onMouseOver="funcPopup(event,'set_context')">set_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>  <a class="function" onClick="logFunction('require_login')" href="../../../_functions/require_login.html" onMouseOver="funcPopup(event,'require_login')">require_login</a>();
<a name="l70"><span class="linenum">  70</span></a>  if (<a class="function" onClick="logFunction('isguestuser')" href="../../../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l71"><span class="linenum">  71</span></a>      <a class="function" onClick="logFunction('print_error')" href="../../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('accessdenied', 'admin');
<a name="l72"><span class="linenum">  72</span></a>  }
<a name="l73"><span class="linenum">  73</span></a>  <a class="function" onClick="logFunction('require_sesskey')" href="../../../_functions/require_sesskey.html" onMouseOver="funcPopup(event,'require_sesskey')">require_sesskey</a>();
<a name="l74"><span class="linenum">  74</span></a>  
<a name="l75"><span class="linenum">  75</span></a>  if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>('atto', <a class="phpfunction" onClick="logFunction('explode')" href="../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="function" onClick="logFunction('get_config')" href="../../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('core', 'texteditors')))) {
<a name="l76"><span class="linenum">  76</span></a>      <a class="function" onClick="logFunction('print_error')" href="../../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('accessdenied', 'admin');
<a name="l77"><span class="linenum">  77</span></a>  }
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>  <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a> = array();
<a name="l80"><span class="linenum">  80</span></a>  foreach (<a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../_variables/actions.html">$actions</a> as <a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>) {
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>      <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../_variables/action.html">$action</a> = <a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>['action'];
<a name="l83"><span class="linenum">  83</span></a>      <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a> = <a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>['contextid'];
<a name="l84"><span class="linenum">  84</span></a>      <a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('elementid')" href="../../../_variables/elementid.html">$elementid</a> = <a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>['elementid'];
<a name="l85"><span class="linenum">  85</span></a>      <a class="var it21043" onMouseOver="hilite(21043)" onMouseOut="lolite()" onClick="logVariable('pagehash')" href="../../../_variables/pagehash.html">$pagehash</a> = <a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>['pagehash'];
<a name="l86"><span class="linenum">  86</span></a>      <a class="var it38618" onMouseOver="hilite(38618)" onMouseOut="lolite()" onClick="logVariable('pageinstance')" href="../../../_variables/pageinstance.html">$pageinstance</a> = <a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>['pageinstance'];
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>      if (<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../_variables/action.html">$action</a> === 'save') {
<a name="l89"><span class="linenum">  89</span></a>          <a class="var it38619" onMouseOver="hilite(38619)" onMouseOut="lolite()" onClick="logVariable('drafttext')" href="../../../_variables/drafttext.html">$drafttext</a> = <a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>['drafttext'];
<a name="l90"><span class="linenum">  90</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array('elementid' =&gt; <a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('elementid')" href="../../../_variables/elementid.html">$elementid</a>,
<a name="l91"><span class="linenum">  91</span></a>                          'userid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>,
<a name="l92"><span class="linenum">  92</span></a>                          'pagehash' =&gt; <a class="var it21043" onMouseOver="hilite(21043)" onMouseOut="lolite()" onClick="logVariable('pagehash')" href="../../../_variables/pagehash.html">$pagehash</a>,
<a name="l93"><span class="linenum">  93</span></a>                          'contextid' =&gt; <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>);
<a name="l94"><span class="linenum">  94</span></a>  
<a name="l95"><span class="linenum">  95</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('editor_atto_autosave', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l96"><span class="linenum">  96</span></a>          if (<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a> &amp;&amp; <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('pageinstance')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/pageinstance.html">pageinstance</a> != <a class="var it38618" onMouseOver="hilite(38618)" onMouseOut="lolite()" onClick="logVariable('pageinstance')" href="../../../_variables/pageinstance.html">$pageinstance</a>) {
<a name="l97"><span class="linenum">  97</span></a>              <a class="function" onClick="logFunction('print_error')" href="../../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('concurrent access from the same user is not supported');
<a name="l98"><span class="linenum">  98</span></a>              die();
<a name="l99"><span class="linenum">  99</span></a>          }
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>          if (!<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>) {
<a name="l102"><span class="linenum"> 102</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a> = new stdClass();
<a name="l103"><span class="linenum"> 103</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('elementid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/elementid.html">elementid</a> = <a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('elementid')" href="../../../_variables/elementid.html">$elementid</a>;
<a name="l104"><span class="linenum"> 104</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('userid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/userid.html">userid</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('pagehash')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/pagehash.html">pagehash</a> = <a class="var it21043" onMouseOver="hilite(21043)" onMouseOut="lolite()" onClick="logVariable('pagehash')" href="../../../_variables/pagehash.html">$pagehash</a>;
<a name="l106"><span class="linenum"> 106</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('contextid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/contextid.html">contextid</a> = <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>;
<a name="l107"><span class="linenum"> 107</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('drafttext')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/drafttext.html">drafttext</a> = <a class="var it38619" onMouseOver="hilite(38619)" onMouseOut="lolite()" onClick="logVariable('drafttext')" href="../../../_variables/drafttext.html">$drafttext</a>;
<a name="l108"><span class="linenum"> 108</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('pageinstance')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/pageinstance.html">pageinstance</a> = <a class="var it38618" onMouseOver="hilite(38618)" onMouseOut="lolite()" onClick="logVariable('pageinstance')" href="../../../_variables/pageinstance.html">$pageinstance</a>;
<a name="l109"><span class="linenum"> 109</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a> = <a class="var it3027" onMouseOver="hilite(3027)" onMouseOut="lolite()" onClick="logVariable('now')" href="../../../_variables/now.html">$now</a>;
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('editor_atto_autosave', <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>);
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">            // No response means no error.</span>
<a name="l114"><span class="linenum"> 114</span></a>              <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a>[] = null;
<a name="l115"><span class="linenum"> 115</span></a>              continue;
<a name="l116"><span class="linenum"> 116</span></a>          } else {
<a name="l117"><span class="linenum"> 117</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('drafttext')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/drafttext.html">drafttext</a> = <a class="var it38619" onMouseOver="hilite(38619)" onMouseOut="lolite()" onClick="logVariable('drafttext')" href="../../../_variables/drafttext.html">$drafttext</a>;
<a name="l118"><span class="linenum"> 118</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l119"><span class="linenum"> 119</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('editor_atto_autosave', <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>);
<a name="l120"><span class="linenum"> 120</span></a>  
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">            // No response means no error.</span>
<a name="l122"><span class="linenum"> 122</span></a>              <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a>[] = null;
<a name="l123"><span class="linenum"> 123</span></a>              continue;
<a name="l124"><span class="linenum"> 124</span></a>          }
<a name="l125"><span class="linenum"> 125</span></a>  
<a name="l126"><span class="linenum"> 126</span></a>      } else if (<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../_variables/action.html">$action</a> == 'resume') {
<a name="l127"><span class="linenum"> 127</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array('elementid' =&gt; <a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('elementid')" href="../../../_variables/elementid.html">$elementid</a>,
<a name="l128"><span class="linenum"> 128</span></a>                          'userid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>,
<a name="l129"><span class="linenum"> 129</span></a>                          'pagehash' =&gt; <a class="var it21043" onMouseOver="hilite(21043)" onMouseOut="lolite()" onClick="logVariable('pagehash')" href="../../../_variables/pagehash.html">$pagehash</a>,
<a name="l130"><span class="linenum"> 130</span></a>                          'contextid' =&gt; <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>);
<a name="l131"><span class="linenum"> 131</span></a>  
<a name="l132"><span class="linenum"> 132</span></a>          <a class="var it38620" onMouseOver="hilite(38620)" onMouseOut="lolite()" onClick="logVariable('newdraftid')" href="../../../_variables/newdraftid.html">$newdraftid</a> = <a class="var it26551" onMouseOver="hilite(26551)" onMouseOut="lolite()" onClick="logVariable('actionparams')" href="../../../_variables/actionparams.html">$actionparams</a>['draftid'];
<a name="l133"><span class="linenum"> 133</span></a>  
<a name="l134"><span class="linenum"> 134</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('editor_atto_autosave', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>          if (!<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>) {
<a name="l137"><span class="linenum"> 137</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a> = new stdClass();
<a name="l138"><span class="linenum"> 138</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('elementid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/elementid.html">elementid</a> = <a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('elementid')" href="../../../_variables/elementid.html">$elementid</a>;
<a name="l139"><span class="linenum"> 139</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('userid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/userid.html">userid</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l140"><span class="linenum"> 140</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('pagehash')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/pagehash.html">pagehash</a> = <a class="var it21043" onMouseOver="hilite(21043)" onMouseOut="lolite()" onClick="logVariable('pagehash')" href="../../../_variables/pagehash.html">$pagehash</a>;
<a name="l141"><span class="linenum"> 141</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('contextid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/contextid.html">contextid</a> = <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>;
<a name="l142"><span class="linenum"> 142</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('pageinstance')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/pageinstance.html">pageinstance</a> = <a class="var it38618" onMouseOver="hilite(38618)" onMouseOut="lolite()" onClick="logVariable('pageinstance')" href="../../../_variables/pageinstance.html">$pageinstance</a>;
<a name="l143"><span class="linenum"> 143</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('pagehash')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/pagehash.html">pagehash</a> = <a class="var it21043" onMouseOver="hilite(21043)" onMouseOut="lolite()" onClick="logVariable('pagehash')" href="../../../_variables/pagehash.html">$pagehash</a>;
<a name="l144"><span class="linenum"> 144</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('draftid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/draftid.html">draftid</a> = <a class="var it38620" onMouseOver="hilite(38620)" onMouseOut="lolite()" onClick="logVariable('newdraftid')" href="../../../_variables/newdraftid.html">$newdraftid</a>;
<a name="l145"><span class="linenum"> 145</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l146"><span class="linenum"> 146</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('drafttext')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/drafttext.html">drafttext</a> = '';
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('editor_atto_autosave', <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>);
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">            // No response means no error.</span>
<a name="l151"><span class="linenum"> 151</span></a>              <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a>[] = null;
<a name="l152"><span class="linenum"> 152</span></a>              continue;
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>          } else {
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">            // Copy all draft files from the old draft area.</span>
<a name="l156"><span class="linenum"> 156</span></a>              <a class="var it639" onMouseOver="hilite(639)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../../../_variables/usercontext.html">$usercontext</a> = <a class="class" onClick="logClass('context_user')" href="../../../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l157"><span class="linenum"> 157</span></a>              <a class="var it38621" onMouseOver="hilite(38621)" onMouseOut="lolite()" onClick="logVariable('stale')" href="../../../_variables/stale.html">$stale</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a> &lt; <a class="var it6505" onMouseOver="hilite(6505)" onMouseOut="lolite()" onClick="logVariable('before')" href="../../../_variables/before.html">$before</a>;
<a name="l158"><span class="linenum"> 158</span></a>              require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/libdir.html">libdir</a> . '/filelib.php');
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>              <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l161"><span class="linenum"> 161</span></a>              <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../../_variables/files.html">$files</a> = <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_directory_files')" href="../../../_functions/get_directory_files.html" onMouseOver="funcPopup(event,'get_directory_files')">get_directory_files</a>(<a class="var it639" onMouseOver="hilite(639)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../../../_variables/usercontext.html">$usercontext</a>-&gt;<a onClick="logVariable('id')" class="var it43024" onMouseOver="hilite(43024)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'user', 'draft', <a class="var it38620" onMouseOver="hilite(38620)" onMouseOut="lolite()" onClick="logVariable('newdraftid')" href="../../../_variables/newdraftid.html">$newdraftid</a>, '/', true, true);
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>              <a class="var it38622" onMouseOver="hilite(38622)" onMouseOut="lolite()" onClick="logVariable('lastfilemodified')" href="../../../_variables/lastfilemodified.html">$lastfilemodified</a> = 0;
<a name="l164"><span class="linenum"> 164</span></a>              foreach (<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../../_variables/files.html">$files</a> as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../../_variables/file.html">$file</a>) {
<a name="l165"><span class="linenum"> 165</span></a>                  <a class="var it38622" onMouseOver="hilite(38622)" onMouseOut="lolite()" onClick="logVariable('lastfilemodified')" href="../../../_variables/lastfilemodified.html">$lastfilemodified</a> = <a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(<a class="var it38622" onMouseOver="hilite(38622)" onMouseOut="lolite()" onClick="logVariable('lastfilemodified')" href="../../../_variables/lastfilemodified.html">$lastfilemodified</a>, <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_timemodified')" href="../../../_functions/get_timemodified.html" onMouseOver="funcPopup(event,'get_timemodified')">get_timemodified</a>());
<a name="l166"><span class="linenum"> 166</span></a>              }
<a name="l167"><span class="linenum"> 167</span></a>              if (<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a> &lt; <a class="var it38622" onMouseOver="hilite(38622)" onMouseOut="lolite()" onClick="logVariable('lastfilemodified')" href="../../../_variables/lastfilemodified.html">$lastfilemodified</a>) {
<a name="l168"><span class="linenum"> 168</span></a>                  <a class="var it38621" onMouseOver="hilite(38621)" onMouseOut="lolite()" onClick="logVariable('stale')" href="../../../_variables/stale.html">$stale</a> = true;
<a name="l169"><span class="linenum"> 169</span></a>              }
<a name="l170"><span class="linenum"> 170</span></a>  
<a name="l171"><span class="linenum"> 171</span></a>              if (!<a class="var it38621" onMouseOver="hilite(38621)" onMouseOut="lolite()" onClick="logVariable('stale')" href="../../../_variables/stale.html">$stale</a>) {
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">                // This function copies all the files in one draft area, to another area (in this case it's</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">                // another draft area). It also rewrites the text to @@PLUGINFILE@@ links.</span>
<a name="l174"><span class="linenum"> 174</span></a>                  <a class="var it38623" onMouseOver="hilite(38623)" onMouseOut="lolite()" onClick="logVariable('newdrafttext')" href="../../../_variables/newdrafttext.html">$newdrafttext</a> = <a class="function" onClick="logFunction('file_save_draft_area_files')" href="../../../_functions/file_save_draft_area_files.html" onMouseOver="funcPopup(event,'file_save_draft_area_files')">file_save_draft_area_files</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('draftid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/draftid.html">draftid</a>,
<a name="l175"><span class="linenum"> 175</span></a>                                                             <a class="var it639" onMouseOver="hilite(639)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../../../_variables/usercontext.html">$usercontext</a>-&gt;<a onClick="logVariable('id')" class="var it43024" onMouseOver="hilite(43024)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>,
<a name="l176"><span class="linenum"> 176</span></a>                                                             'user',
<a name="l177"><span class="linenum"> 177</span></a>                                                             'draft',
<a name="l178"><span class="linenum"> 178</span></a>                                                             <a class="var it38620" onMouseOver="hilite(38620)" onMouseOut="lolite()" onClick="logVariable('newdraftid')" href="../../../_variables/newdraftid.html">$newdraftid</a>,
<a name="l179"><span class="linenum"> 179</span></a>                                                             array(),
<a name="l180"><span class="linenum"> 180</span></a>                                                             <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('drafttext')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/drafttext.html">drafttext</a>);
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">                // Final rewrite to the new draft area (convert the @@PLUGINFILES@@ again).</span>
<a name="l183"><span class="linenum"> 183</span></a>                  <a class="var it38623" onMouseOver="hilite(38623)" onMouseOut="lolite()" onClick="logVariable('newdrafttext')" href="../../../_variables/newdrafttext.html">$newdrafttext</a> = <a class="function" onClick="logFunction('file_rewrite_pluginfile_urls')" href="../../../_functions/file_rewrite_pluginfile_urls.html" onMouseOver="funcPopup(event,'file_rewrite_pluginfile_urls')">file_rewrite_pluginfile_urls</a>(<a class="var it38623" onMouseOver="hilite(38623)" onMouseOut="lolite()" onClick="logVariable('newdrafttext')" href="../../../_variables/newdrafttext.html">$newdrafttext</a>,
<a name="l184"><span class="linenum"> 184</span></a>                                                               '<a class="filename" href="../../../draftfile.php.html">draftfile.php</a>',
<a name="l185"><span class="linenum"> 185</span></a>                                                               <a class="var it639" onMouseOver="hilite(639)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../../../_variables/usercontext.html">$usercontext</a>-&gt;<a onClick="logVariable('id')" class="var it43024" onMouseOver="hilite(43024)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>,
<a name="l186"><span class="linenum"> 186</span></a>                                                               'user',
<a name="l187"><span class="linenum"> 187</span></a>                                                               'draft',
<a name="l188"><span class="linenum"> 188</span></a>                                                               <a class="var it38620" onMouseOver="hilite(38620)" onMouseOut="lolite()" onClick="logVariable('newdraftid')" href="../../../_variables/newdraftid.html">$newdraftid</a>);
<a name="l189"><span class="linenum"> 189</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('drafttext')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/drafttext.html">drafttext</a> = <a class="var it38623" onMouseOver="hilite(38623)" onMouseOut="lolite()" onClick="logVariable('newdrafttext')" href="../../../_variables/newdrafttext.html">$newdrafttext</a>;
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('pageinstance')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/pageinstance.html">pageinstance</a> = <a class="var it38618" onMouseOver="hilite(38618)" onMouseOut="lolite()" onClick="logVariable('pageinstance')" href="../../../_variables/pageinstance.html">$pageinstance</a>;
<a name="l192"><span class="linenum"> 192</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('draftid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/draftid.html">draftid</a> = <a class="var it38620" onMouseOver="hilite(38620)" onMouseOut="lolite()" onClick="logVariable('newdraftid')" href="../../../_variables/newdraftid.html">$newdraftid</a>;
<a name="l193"><span class="linenum"> 193</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l194"><span class="linenum"> 194</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('editor_atto_autosave', <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>);
<a name="l195"><span class="linenum"> 195</span></a>  
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">                // A response means the draft has been restored and here is the auto-saved text.</span>
<a name="l197"><span class="linenum"> 197</span></a>                  <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a> = ['result' =&gt; <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('drafttext')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/drafttext.html">drafttext</a>];
<a name="l198"><span class="linenum"> 198</span></a>                  <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a>[] = <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a>;
<a name="l199"><span class="linenum"> 199</span></a>  
<a name="l200"><span class="linenum"> 200</span></a>              } else {
<a name="l201"><span class="linenum"> 201</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('editor_atto_autosave', array('id' =&gt; <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>));
<a name="l202"><span class="linenum"> 202</span></a>  
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">                // No response means no error.</span>
<a name="l204"><span class="linenum"> 204</span></a>                  <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a>[] = null;
<a name="l205"><span class="linenum"> 205</span></a>              }
<a name="l206"><span class="linenum"> 206</span></a>              continue;
<a name="l207"><span class="linenum"> 207</span></a>          }
<a name="l208"><span class="linenum"> 208</span></a>  
<a name="l209"><span class="linenum"> 209</span></a>      } else if (<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../_variables/action.html">$action</a> == 'reset') {
<a name="l210"><span class="linenum"> 210</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array('elementid' =&gt; <a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('elementid')" href="../../../_variables/elementid.html">$elementid</a>,
<a name="l211"><span class="linenum"> 211</span></a>                          'userid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>,
<a name="l212"><span class="linenum"> 212</span></a>                          'pagehash' =&gt; <a class="var it21043" onMouseOver="hilite(21043)" onMouseOut="lolite()" onClick="logVariable('pagehash')" href="../../../_variables/pagehash.html">$pagehash</a>,
<a name="l213"><span class="linenum"> 213</span></a>                          'contextid' =&gt; <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>);
<a name="l214"><span class="linenum"> 214</span></a>  
<a name="l215"><span class="linenum"> 215</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('editor_atto_autosave', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l216"><span class="linenum"> 216</span></a>          <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a>[] = null;
<a name="l217"><span class="linenum"> 217</span></a>          continue;
<a name="l218"><span class="linenum"> 218</span></a>      }
<a name="l219"><span class="linenum"> 219</span></a>  }
<a name="l220"><span class="linenum"> 220</span></a>  
<a name="l221"><span class="linenum"> 221</span></a>  echo <a class="function" onClick="logFunction('json_encode')" href="../../../_functions/json_encode.html" onMouseOver="funcPopup(event,'json_encode')">json_encode</a>(<a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a>);
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'json_encode': ['json_encode', 'encodes an arbitrary variable into JSON format ', [['lib/minify/lib','FirePHP.php',1124]], 307],
'get_config': ['get_config', 'Config get method. ', [['lib/classes/antivirus','scanner.php',54],['competency/classes','competency_rule.php',59],['question/engine','bank.php',109],['admin/tool/log/classes/helper','store.php',63],['lib','moodlelib.php',1409],['lib','enrollib.php',1142],['lib/editor/tinymce/classes','plugin.php',73],['competency/classes','competency_rule_points.php',43],['search/classes','base.php',169],['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546]], 934],
'require_login': ['require_login', 'This function checks that the current user is logged in and has the required privileges ', [['lib','moodlelib.php',2449]], 636],
'get_timemodified': ['get_timemodified', 'Returns time modified unix timestamp if known ', [['lib/filebrowser','file_info.php',295],['lib/filebrowser','virtual_root_file.php',272],['lib/filebrowser','file_info_stored.php',258],['lib/filestorage','stored_file.php',756]], 63],
'file_rewrite_pluginfile_urls': ['file_rewrite_pluginfile_urls', 'Convert encoded URLs in $text from the @@PLUGINFILE@@/... form to an actual URL. Passing a new option reverse = true in the $options var will make the function to convert actual URLs in $text to encoded URLs in the @@PLUGINFILE@@ form. ', [['lib','filelib.php',446]], 96],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',769]], 635],
'set_url': ['set_url', 'Convenience method handling moodle_urls. ', [['competency/classes','evidence.php',151],['lib','outputcomponents.php',2828],['backup/cc/cc_lib','cc_weblink.php',50],['lib','pagelib.php',1227],['blocks/rss_client/classes/output','channel_image.php',89],['backup/util/ui','restore_ui_components.php',141],['mod/wiki','pagelib.php',245],['mod/wiki','pagelib.php',333],['mod/wiki','pagelib.php',425],['mod/wiki','pagelib.php',696],['mod/wiki','pagelib.php',721],['mod/wiki','pagelib.php',835],['mod/wiki','pagelib.php',879],['mod/wiki','pagelib.php',1008],['mod/wiki','pagelib.php',1112],['mod/wiki','pagelib.php',1219],['mod/wiki','pagelib.php',1462],['mod/wiki','pagelib.php',1864],['mod/wiki','pagelib.php',1932],['mod/wiki','pagelib.php',2104],['mod/wiki','pagelib.php',2165],['mod/wiki','pagelib.php',2221],['mod/wiki','pagelib.php',2286],['mod/wiki','pagelib.php',2334],['mod/wiki','pagelib.php',2382],['mod/wiki','pagelib.php',2486]], 596],
'set_context': ['set_context', 'Sets the context the manager operates on ', [['grade/grading','lib.php',116],['lib','pagelib.php',970],['mod/assign','locallib.php',274],['lib/portfolio','caller.php',568]], 278],
'require_sesskey': ['require_sesskey', 'Check the session key using {@link confirm_sesskey()}, and cause a fatal error if it does not match. ', [['lib','sessionlib.php',79]], 229],
'get_file_storage': ['get_file_storage', 'Returns local file storage instance ', [['lib','moodlelib.php',6144]], 546],
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1923]], 260],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'get_directory_files': ['get_directory_files', 'Returns all files and optionally directories ', [['lib/filestorage','file_storage.php',899]], 25],
'print_error': ['print_error', 'Abort execution by throwing of a general exception, default exception handler displays the error message in most cases. ', [['lib','setuplib.php',481]], 1488],
'file_save_draft_area_files': ['file_save_draft_area_files', 'Saves files from a draft file area to a real one (merging the list of files). Can rewrite URLs in some content at the same time if desired. ', [['lib','filelib.php',778]], 61],
'array_map': ['array_map', '', [], 169],
'define': ['define', '', [], 2373],
'time': ['time', '', [], 1959],
'explode': ['explode', '', [], 1572],
'max': ['max', '', [], 1266],
'in_array': ['in_array', '', [], 1234]};
CLASS_DATA={
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6398]], 414]};
CONST_DATA={
'PARAM_ALPHANUMEXT': ['PARAM_ALPHANUMEXT', '', [['lib','moodlelib.php',93]], 200],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'PARAM_ALPHA': ['PARAM_ALPHA', '', [['lib','moodlelib.php',77]], 398],
'AJAX_SCRIPT': ['AJAX_SCRIPT', '', [['mod/assign/feedback/editpdf','ajax.php',29],['admin/roles','ajax.php',26],['repository','draftfiles_ajax.php',27],['enrol','ajax.php',28],['lib/ajax','blocks.php',25],['comment','comment_ajax.php',24],['lib/ajax','service.php',30],['login','token.php',24],['badges','backpackconnect.php',27],['webservice','upload.php',37],['mod/chat','chat_ajax.php',17],['user/selector','search.php',25],['lib/editor/atto/plugins/equation','ajax.php',26],['lib','sessionkeepalive_ajax.php',25],['mod/forum','subscribe_ajax.php',25],['repository','repository_ajax.php',27],['admin/tool/installaddon','permcheck.php',27],['question','toggleflag.php',27],['mod/quiz','edit_rest.php',26],['mod/assign/feedback/editpdf','ajax_progress.php',26],['','help_ajax.php',27],['grade/report/history','users_ajax.php',26],['lib/ajax','getnavbranch.php',28],['badges','assertion.php',27],['mod/quiz','questionbank.ajax.php',26],['badges','ajax.php',27],['course/ajax','management.php',27],['mod/lti','ajax.php',29],['rating','rate_ajax.php',28],['enrol/manual','ajax.php',28],['availability/condition/date','ajax.php',25],['lib/ajax','getsiteadminbranch.php',28],['','install.php',47],['course','category.ajax.php',28],['course','dndupload.php',26],['message','ajax.php',25],['mod/feedback','ajax.php',26],['webservice','pluginfile.php',29],['course','rest.php',27],['lib','setup.php',351],['mod/glossary','showentry_ajax.php',2],['lib/editor/atto','autosave-ajax.php',25],['mod/quiz','autosave.ajax.php',25],['report/loglive','loglive_ajax.php',25],['message/output/airnotifier','rest.php',26],['blocks/course_overview','save.php',24]], 74],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
