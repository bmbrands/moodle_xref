<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/amd/src/chartjs-lazy.js source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='lib/amd/src';
filename='chartjs-lazy.js.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/amd/src/</a> -> <a href="chartjs-lazy.js.html">chartjs-lazy.js</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="chartjs-lazy.js.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="chartjs-lazy.js.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment">/*!</span>
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment"> * Chart.js</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * http://chartjs.org/</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * Version: 2.1.6</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> *</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * Copyright 2016 Nick Downie</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> * Released under the MIT license</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * https://github.com/chartjs/Chart.js/blob/master/LICENSE.md</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> */</span>
<a name="l10"><span class="linenum">  10</span></a>  
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">/**</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> * Description of import into Moodle:</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> *</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> * - Download from http://www.chartjs.org/docs/#getting-started-download-chart-js.</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment"> * - Copy Chart.js to lib/amd/src/chartjs.js.</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment"> * - Add these instructions to the file.</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> * - Add the jshint ignore rules.</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> */</span>
<a name="l19"><span class="linenum">  19</span></a>  
<a name="l20"><span class="linenum">  20</span></a>  (function(f){if(typeof exports===&quot;object&quot;&amp;&amp;typeof module!==&quot;undefined&quot;){module.exports=<a class="function" onClick="logFunction('f')" href="../../../_functions/f.html" onMouseOver="funcPopup(event,'f')">f</a>()}else if(typeof define===&quot;function&quot;&amp;&amp;define.amd){<a class="phpfunction" onClick="logFunction('define')" href="../../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>([],f)}else{var g;if(typeof window!==&quot;undefined&quot;){g=window}else if(typeof global!==&quot;undefined&quot;){g=global}else if(typeof self!==&quot;undefined&quot;){g=self}else{g=this}g.Chart = <a class="function" onClick="logFunction('f')" href="../../../_functions/f.html" onMouseOver="funcPopup(event,'f')">f</a>()}})(function(){var define,module,exports;return (function <a class="function" onClick="logFunction('e')" href="../../../_functions/e.html" onMouseOver="funcPopup(event,'e')">e</a>(t,n,r){function <a class="function" onClick="logFunction('s')" href="../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(o,u){if(!n[o]){if(!t[o]){var a=typeof require==&quot;function&quot;&amp;&amp;require;if(!u&amp;&amp;a)return <a class="function" onClick="logFunction('a')" href="../../../_functions/a.html" onMouseOver="funcPopup(event,'a')">a</a>(o,!0);if(i)return <a class="function" onClick="logFunction('i')" href="../../../_functions/i.html" onMouseOver="funcPopup(event,'i')">i</a>(o,!0);var f=new <a class="function" onClick="logFunction('Error')" href="../../../_functions/error.html" onMouseOver="funcPopup(event,'error')">Error</a>(&quot;Cannot find module '&quot;+o+&quot;'&quot;);throw f.code=&quot;MODULE_NOT_FOUND&quot;,f}var l=n[o]={exports:{}};t[o][0].<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(l.exports,function(e){var n=t[o][1][e];return <a class="function" onClick="logFunction('s')" href="../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==&quot;function&quot;&amp;&amp;require;for(var o=0;o&lt;r.length;o++)<a class="function" onClick="logFunction('s')" href="../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(r[o]);return s})({1:[function(require,module,exports){
<a name="l21"><span class="linenum">  21</span></a>  
<a name="l22"><span class="linenum">  22</span></a>  },{}],2:[function(require,module,exports){
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment">/* MIT license */</span>
<a name="l24"><span class="linenum">  24</span></a>  var colorNames = <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(6);
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  module.exports = {
<a name="l27"><span class="linenum">  27</span></a>     getRgba: getRgba,
<a name="l28"><span class="linenum">  28</span></a>     getHsla: getHsla,
<a name="l29"><span class="linenum">  29</span></a>     getRgb: getRgb,
<a name="l30"><span class="linenum">  30</span></a>     getHsl: getHsl,
<a name="l31"><span class="linenum">  31</span></a>     getHwb: getHwb,
<a name="l32"><span class="linenum">  32</span></a>     getAlpha: getAlpha,
<a name="l33"><span class="linenum">  33</span></a>  
<a name="l34"><span class="linenum">  34</span></a>     hexString: hexString,
<a name="l35"><span class="linenum">  35</span></a>     rgbString: rgbString,
<a name="l36"><span class="linenum">  36</span></a>     rgbaString: rgbaString,
<a name="l37"><span class="linenum">  37</span></a>     percentString: percentString,
<a name="l38"><span class="linenum">  38</span></a>     percentaString: percentaString,
<a name="l39"><span class="linenum">  39</span></a>     hslString: hslString,
<a name="l40"><span class="linenum">  40</span></a>     hslaString: hslaString,
<a name="l41"><span class="linenum">  41</span></a>     hwbString: hwbString,
<a name="l42"><span class="linenum">  42</span></a>     keyword: keyword
<a name="l43"><span class="linenum">  43</span></a>  }
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>  function <a class="function" onClick="logFunction('getRgba')" href="../../../_functions/getrgba.html" onMouseOver="funcPopup(event,'getrgba')">getRgba</a>(string) {
<a name="l46"><span class="linenum">  46</span></a>     if (!string) {
<a name="l47"><span class="linenum">  47</span></a>        return;
<a name="l48"><span class="linenum">  48</span></a>     }
<a name="l49"><span class="linenum">  49</span></a>     var abbr =  /^#([a-fA-F0-9]{3})$/,
<a name="l50"><span class="linenum">  50</span></a>         hex =  /^#([a-fA-F0-9]{6})$/,
<a name="l51"><span class="linenum">  51</span></a>         rgba = /^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
<a name="l52"><span class="linenum">  52</span></a>         per = /^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
<a name="l53"><span class="linenum">  53</span></a>         keyword = /(\w+)/;
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>     var rgb = [0, 0, 0],
<a name="l56"><span class="linenum">  56</span></a>         a = 1,
<a name="l57"><span class="linenum">  57</span></a>         match = string.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(abbr);
<a name="l58"><span class="linenum">  58</span></a>     if (match) {
<a name="l59"><span class="linenum">  59</span></a>        match = match[1];
<a name="l60"><span class="linenum">  60</span></a>        for (var i = 0; i &lt; rgb.length; i++) {
<a name="l61"><span class="linenum">  61</span></a>           rgb[i] = parseInt(match[i] + match[i], 16);
<a name="l62"><span class="linenum">  62</span></a>        }
<a name="l63"><span class="linenum">  63</span></a>     }
<a name="l64"><span class="linenum">  64</span></a>     else if (match = string.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(hex)) {
<a name="l65"><span class="linenum">  65</span></a>        match = match[1];
<a name="l66"><span class="linenum">  66</span></a>        for (var i = 0; i &lt; rgb.length; i++) {
<a name="l67"><span class="linenum">  67</span></a>           rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);
<a name="l68"><span class="linenum">  68</span></a>        }
<a name="l69"><span class="linenum">  69</span></a>     }
<a name="l70"><span class="linenum">  70</span></a>     else if (match = string.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(rgba)) {
<a name="l71"><span class="linenum">  71</span></a>        for (var i = 0; i &lt; rgb.length; i++) {
<a name="l72"><span class="linenum">  72</span></a>           rgb[i] = parseInt(match[i + 1]);
<a name="l73"><span class="linenum">  73</span></a>        }
<a name="l74"><span class="linenum">  74</span></a>        a = parseFloat(match[4]);
<a name="l75"><span class="linenum">  75</span></a>     }
<a name="l76"><span class="linenum">  76</span></a>     else if (match = string.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(per)) {
<a name="l77"><span class="linenum">  77</span></a>        for (var i = 0; i &lt; rgb.length; i++) {
<a name="l78"><span class="linenum">  78</span></a>           rgb[i] = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(parseFloat(match[i + 1]) * 2.55);
<a name="l79"><span class="linenum">  79</span></a>        }
<a name="l80"><span class="linenum">  80</span></a>        a = parseFloat(match[4]);
<a name="l81"><span class="linenum">  81</span></a>     }
<a name="l82"><span class="linenum">  82</span></a>     else if (match = string.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(keyword)) {
<a name="l83"><span class="linenum">  83</span></a>        if (match[1] == &quot;transparent&quot;) {
<a name="l84"><span class="linenum">  84</span></a>           return [0, 0, 0, 0];
<a name="l85"><span class="linenum">  85</span></a>        }
<a name="l86"><span class="linenum">  86</span></a>        rgb = colorNames[match[1]];
<a name="l87"><span class="linenum">  87</span></a>        if (!rgb) {
<a name="l88"><span class="linenum">  88</span></a>           return;
<a name="l89"><span class="linenum">  89</span></a>        }
<a name="l90"><span class="linenum">  90</span></a>     }
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>     for (var i = 0; i &lt; rgb.length; i++) {
<a name="l93"><span class="linenum">  93</span></a>        rgb[i] = <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(rgb[i], 0, 255);
<a name="l94"><span class="linenum">  94</span></a>     }
<a name="l95"><span class="linenum">  95</span></a>     if (!a &amp;&amp; a != 0) {
<a name="l96"><span class="linenum">  96</span></a>        a = 1;
<a name="l97"><span class="linenum">  97</span></a>     }
<a name="l98"><span class="linenum">  98</span></a>     else {
<a name="l99"><span class="linenum">  99</span></a>        a = <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(a, 0, 1);
<a name="l100"><span class="linenum"> 100</span></a>     }
<a name="l101"><span class="linenum"> 101</span></a>     rgb[3] = a;
<a name="l102"><span class="linenum"> 102</span></a>     return rgb;
<a name="l103"><span class="linenum"> 103</span></a>  }
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>  function <a class="function" onClick="logFunction('getHsla')" href="../../../_functions/gethsla.html" onMouseOver="funcPopup(event,'gethsla')">getHsla</a>(string) {
<a name="l106"><span class="linenum"> 106</span></a>     if (!string) {
<a name="l107"><span class="linenum"> 107</span></a>        return;
<a name="l108"><span class="linenum"> 108</span></a>     }
<a name="l109"><span class="linenum"> 109</span></a>     var hsl = /^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;
<a name="l110"><span class="linenum"> 110</span></a>     var match = string.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(hsl);
<a name="l111"><span class="linenum"> 111</span></a>     if (match) {
<a name="l112"><span class="linenum"> 112</span></a>        var alpha = parseFloat(match[4]);
<a name="l113"><span class="linenum"> 113</span></a>        var h = <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(parseInt(match[1]), 0, 360),
<a name="l114"><span class="linenum"> 114</span></a>            s = <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(parseFloat(match[2]), 0, 100),
<a name="l115"><span class="linenum"> 115</span></a>            l = <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(parseFloat(match[3]), 0, 100),
<a name="l116"><span class="linenum"> 116</span></a>            a = <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(isNaN(alpha) ? 1 : alpha, 0, 1);
<a name="l117"><span class="linenum"> 117</span></a>        return [h, s, l, a];
<a name="l118"><span class="linenum"> 118</span></a>     }
<a name="l119"><span class="linenum"> 119</span></a>  }
<a name="l120"><span class="linenum"> 120</span></a>  
<a name="l121"><span class="linenum"> 121</span></a>  function <a class="function" onClick="logFunction('getHwb')" href="../../../_functions/gethwb.html" onMouseOver="funcPopup(event,'gethwb')">getHwb</a>(string) {
<a name="l122"><span class="linenum"> 122</span></a>     if (!string) {
<a name="l123"><span class="linenum"> 123</span></a>        return;
<a name="l124"><span class="linenum"> 124</span></a>     }
<a name="l125"><span class="linenum"> 125</span></a>     var hwb = /^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;
<a name="l126"><span class="linenum"> 126</span></a>     var match = string.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(hwb);
<a name="l127"><span class="linenum"> 127</span></a>     if (match) {
<a name="l128"><span class="linenum"> 128</span></a>      var alpha = parseFloat(match[4]);
<a name="l129"><span class="linenum"> 129</span></a>        var h = <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(parseInt(match[1]), 0, 360),
<a name="l130"><span class="linenum"> 130</span></a>            w = <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(parseFloat(match[2]), 0, 100),
<a name="l131"><span class="linenum"> 131</span></a>            b = <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(parseFloat(match[3]), 0, 100),
<a name="l132"><span class="linenum"> 132</span></a>            a = <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(isNaN(alpha) ? 1 : alpha, 0, 1);
<a name="l133"><span class="linenum"> 133</span></a>        return [h, w, b, a];
<a name="l134"><span class="linenum"> 134</span></a>     }
<a name="l135"><span class="linenum"> 135</span></a>  }
<a name="l136"><span class="linenum"> 136</span></a>  
<a name="l137"><span class="linenum"> 137</span></a>  function <a class="function" onClick="logFunction('getRgb')" href="../../../_functions/getrgb.html" onMouseOver="funcPopup(event,'getrgb')">getRgb</a>(string) {
<a name="l138"><span class="linenum"> 138</span></a>     var rgba = <a class="function" onClick="logFunction('getRgba')" href="../../../_functions/getrgba.html" onMouseOver="funcPopup(event,'getrgba')">getRgba</a>(string);
<a name="l139"><span class="linenum"> 139</span></a>     return rgba &amp;&amp; rgba.slice(0, 3);
<a name="l140"><span class="linenum"> 140</span></a>  }
<a name="l141"><span class="linenum"> 141</span></a>  
<a name="l142"><span class="linenum"> 142</span></a>  function <a class="function" onClick="logFunction('getHsl')" href="../../../_functions/gethsl.html" onMouseOver="funcPopup(event,'gethsl')">getHsl</a>(string) {
<a name="l143"><span class="linenum"> 143</span></a>    var hsla = <a class="function" onClick="logFunction('getHsla')" href="../../../_functions/gethsla.html" onMouseOver="funcPopup(event,'gethsla')">getHsla</a>(string);
<a name="l144"><span class="linenum"> 144</span></a>    return hsla &amp;&amp; hsla.slice(0, 3);
<a name="l145"><span class="linenum"> 145</span></a>  }
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>  function <a class="function" onClick="logFunction('getAlpha')" href="../../../_functions/getalpha.html" onMouseOver="funcPopup(event,'getalpha')">getAlpha</a>(string) {
<a name="l148"><span class="linenum"> 148</span></a>     var vals = <a class="function" onClick="logFunction('getRgba')" href="../../../_functions/getrgba.html" onMouseOver="funcPopup(event,'getrgba')">getRgba</a>(string);
<a name="l149"><span class="linenum"> 149</span></a>     if (vals) {
<a name="l150"><span class="linenum"> 150</span></a>        return vals[3];
<a name="l151"><span class="linenum"> 151</span></a>     }
<a name="l152"><span class="linenum"> 152</span></a>     else if (vals = <a class="function" onClick="logFunction('getHsla')" href="../../../_functions/gethsla.html" onMouseOver="funcPopup(event,'gethsla')">getHsla</a>(string)) {
<a name="l153"><span class="linenum"> 153</span></a>        return vals[3];
<a name="l154"><span class="linenum"> 154</span></a>     }
<a name="l155"><span class="linenum"> 155</span></a>     else if (vals = <a class="function" onClick="logFunction('getHwb')" href="../../../_functions/gethwb.html" onMouseOver="funcPopup(event,'gethwb')">getHwb</a>(string)) {
<a name="l156"><span class="linenum"> 156</span></a>        return vals[3];
<a name="l157"><span class="linenum"> 157</span></a>     }
<a name="l158"><span class="linenum"> 158</span></a>  }
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">// generators</span>
<a name="l161"><span class="linenum"> 161</span></a>  function <a class="function" onClick="logFunction('hexString')" href="../../../_functions/hexstring.html" onMouseOver="funcPopup(event,'hexstring')">hexString</a>(rgb) {
<a name="l162"><span class="linenum"> 162</span></a>     return &quot;#&quot; + <a class="function" onClick="logFunction('hexDouble')" href="../../../_functions/hexdouble.html" onMouseOver="funcPopup(event,'hexdouble')">hexDouble</a>(rgb[0]) + <a class="function" onClick="logFunction('hexDouble')" href="../../../_functions/hexdouble.html" onMouseOver="funcPopup(event,'hexdouble')">hexDouble</a>(rgb[1])
<a name="l163"><span class="linenum"> 163</span></a>                + <a class="function" onClick="logFunction('hexDouble')" href="../../../_functions/hexdouble.html" onMouseOver="funcPopup(event,'hexdouble')">hexDouble</a>(rgb[2]);
<a name="l164"><span class="linenum"> 164</span></a>  }
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>  function <a class="function" onClick="logFunction('rgbString')" href="../../../_functions/rgbstring.html" onMouseOver="funcPopup(event,'rgbstring')">rgbString</a>(rgba, alpha) {
<a name="l167"><span class="linenum"> 167</span></a>     if (alpha &lt; 1 || (rgba[3] &amp;&amp; rgba[3] &lt; 1)) {
<a name="l168"><span class="linenum"> 168</span></a>        return <a class="function" onClick="logFunction('rgbaString')" href="../../../_functions/rgbastring.html" onMouseOver="funcPopup(event,'rgbastring')">rgbaString</a>(rgba, alpha);
<a name="l169"><span class="linenum"> 169</span></a>     }
<a name="l170"><span class="linenum"> 170</span></a>     return &quot;<a class="function" onClick="logFunction('rgb')" href="../../../_functions/rgb.html" onMouseOver="funcPopup(event,'rgb')">rgb</a>(&quot; + rgba[0] + &quot;, &quot; + rgba[1] + &quot;, &quot; + rgba[2] + &quot;)&quot;;
<a name="l171"><span class="linenum"> 171</span></a>  }
<a name="l172"><span class="linenum"> 172</span></a>  
<a name="l173"><span class="linenum"> 173</span></a>  function <a class="function" onClick="logFunction('rgbaString')" href="../../../_functions/rgbastring.html" onMouseOver="funcPopup(event,'rgbastring')">rgbaString</a>(rgba, alpha) {
<a name="l174"><span class="linenum"> 174</span></a>     if (alpha === undefined) {
<a name="l175"><span class="linenum"> 175</span></a>        alpha = (rgba[3] !== undefined ? rgba[3] : 1);
<a name="l176"><span class="linenum"> 176</span></a>     }
<a name="l177"><span class="linenum"> 177</span></a>     return &quot;<a class="function" onClick="logFunction('rgba')" href="../../../_functions/rgba.html" onMouseOver="funcPopup(event,'rgba')">rgba</a>(&quot; + rgba[0] + &quot;, &quot; + rgba[1] + &quot;, &quot; + rgba[2]
<a name="l178"><span class="linenum"> 178</span></a>             + &quot;, &quot; + alpha + &quot;)&quot;;
<a name="l179"><span class="linenum"> 179</span></a>  }
<a name="l180"><span class="linenum"> 180</span></a>  
<a name="l181"><span class="linenum"> 181</span></a>  function <a class="function" onClick="logFunction('percentString')" href="../../../_functions/percentstring.html" onMouseOver="funcPopup(event,'percentstring')">percentString</a>(rgba, alpha) {
<a name="l182"><span class="linenum"> 182</span></a>     if (alpha &lt; 1 || (rgba[3] &amp;&amp; rgba[3] &lt; 1)) {
<a name="l183"><span class="linenum"> 183</span></a>        return <a class="function" onClick="logFunction('percentaString')" href="../../../_functions/percentastring.html" onMouseOver="funcPopup(event,'percentastring')">percentaString</a>(rgba, alpha);
<a name="l184"><span class="linenum"> 184</span></a>     }
<a name="l185"><span class="linenum"> 185</span></a>     var r = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(rgba[0]/255 * 100),
<a name="l186"><span class="linenum"> 186</span></a>         g = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(rgba[1]/255 * 100),
<a name="l187"><span class="linenum"> 187</span></a>         b = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(rgba[2]/255 * 100);
<a name="l188"><span class="linenum"> 188</span></a>  
<a name="l189"><span class="linenum"> 189</span></a>     return &quot;<a class="function" onClick="logFunction('rgb')" href="../../../_functions/rgb.html" onMouseOver="funcPopup(event,'rgb')">rgb</a>(&quot; + r + &quot;%, &quot; + g + &quot;%, &quot; + b + &quot;%)&quot;;
<a name="l190"><span class="linenum"> 190</span></a>  }
<a name="l191"><span class="linenum"> 191</span></a>  
<a name="l192"><span class="linenum"> 192</span></a>  function <a class="function" onClick="logFunction('percentaString')" href="../../../_functions/percentastring.html" onMouseOver="funcPopup(event,'percentastring')">percentaString</a>(rgba, alpha) {
<a name="l193"><span class="linenum"> 193</span></a>     var r = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(rgba[0]/255 * 100),
<a name="l194"><span class="linenum"> 194</span></a>         g = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(rgba[1]/255 * 100),
<a name="l195"><span class="linenum"> 195</span></a>         b = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(rgba[2]/255 * 100);
<a name="l196"><span class="linenum"> 196</span></a>     return &quot;<a class="function" onClick="logFunction('rgba')" href="../../../_functions/rgba.html" onMouseOver="funcPopup(event,'rgba')">rgba</a>(&quot; + r + &quot;%, &quot; + g + &quot;%, &quot; + b + &quot;%, &quot; + (alpha || rgba[3] || 1) + &quot;)&quot;;
<a name="l197"><span class="linenum"> 197</span></a>  }
<a name="l198"><span class="linenum"> 198</span></a>  
<a name="l199"><span class="linenum"> 199</span></a>  function <a class="function" onClick="logFunction('hslString')" href="../../../_functions/hslstring.html" onMouseOver="funcPopup(event,'hslstring')">hslString</a>(hsla, alpha) {
<a name="l200"><span class="linenum"> 200</span></a>     if (alpha &lt; 1 || (hsla[3] &amp;&amp; hsla[3] &lt; 1)) {
<a name="l201"><span class="linenum"> 201</span></a>        return <a class="function" onClick="logFunction('hslaString')" href="../../../_functions/hslastring.html" onMouseOver="funcPopup(event,'hslastring')">hslaString</a>(hsla, alpha);
<a name="l202"><span class="linenum"> 202</span></a>     }
<a name="l203"><span class="linenum"> 203</span></a>     return &quot;<a class="function" onClick="logFunction('hsl')" href="../../../_functions/hsl.html" onMouseOver="funcPopup(event,'hsl')">hsl</a>(&quot; + hsla[0] + &quot;, &quot; + hsla[1] + &quot;%, &quot; + hsla[2] + &quot;%)&quot;;
<a name="l204"><span class="linenum"> 204</span></a>  }
<a name="l205"><span class="linenum"> 205</span></a>  
<a name="l206"><span class="linenum"> 206</span></a>  function <a class="function" onClick="logFunction('hslaString')" href="../../../_functions/hslastring.html" onMouseOver="funcPopup(event,'hslastring')">hslaString</a>(hsla, alpha) {
<a name="l207"><span class="linenum"> 207</span></a>     if (alpha === undefined) {
<a name="l208"><span class="linenum"> 208</span></a>        alpha = (hsla[3] !== undefined ? hsla[3] : 1);
<a name="l209"><span class="linenum"> 209</span></a>     }
<a name="l210"><span class="linenum"> 210</span></a>     return &quot;<a class="function" onClick="logFunction('hsla')" href="../../../_functions/hsla.html" onMouseOver="funcPopup(event,'hsla')">hsla</a>(&quot; + hsla[0] + &quot;, &quot; + hsla[1] + &quot;%, &quot; + hsla[2] + &quot;%, &quot;
<a name="l211"><span class="linenum"> 211</span></a>             + alpha + &quot;)&quot;;
<a name="l212"><span class="linenum"> 212</span></a>  }
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">// hwb is a bit different than rgb(a) &amp; hsl(a) since there is no alpha specific syntax</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">// (hwb have alpha optional &amp; 1 is default value)</span>
<a name="l216"><span class="linenum"> 216</span></a>  function <a class="function" onClick="logFunction('hwbString')" href="../../../_functions/hwbstring.html" onMouseOver="funcPopup(event,'hwbstring')">hwbString</a>(hwb, alpha) {
<a name="l217"><span class="linenum"> 217</span></a>     if (alpha === undefined) {
<a name="l218"><span class="linenum"> 218</span></a>        alpha = (hwb[3] !== undefined ? hwb[3] : 1);
<a name="l219"><span class="linenum"> 219</span></a>     }
<a name="l220"><span class="linenum"> 220</span></a>     return &quot;hwb(&quot; + hwb[0] + &quot;, &quot; + hwb[1] + &quot;%, &quot; + hwb[2] + &quot;%&quot;
<a name="l221"><span class="linenum"> 221</span></a>             + (alpha !== undefined &amp;&amp; alpha !== 1 ? &quot;, &quot; + alpha : &quot;&quot;) + &quot;)&quot;;
<a name="l222"><span class="linenum"> 222</span></a>  }
<a name="l223"><span class="linenum"> 223</span></a>  
<a name="l224"><span class="linenum"> 224</span></a>  function <a class="function" onClick="logFunction('keyword')" href="../../../_functions/keyword.html" onMouseOver="funcPopup(event,'keyword')">keyword</a>(rgb) {
<a name="l225"><span class="linenum"> 225</span></a>    return reverseNames[rgb.slice(0, 3)];
<a name="l226"><span class="linenum"> 226</span></a>  }
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">// helpers</span>
<a name="l229"><span class="linenum"> 229</span></a>  function <a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(num, min, max) {
<a name="l230"><span class="linenum"> 230</span></a>     return Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(min, num), max);
<a name="l231"><span class="linenum"> 231</span></a>  }
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>  function <a class="function" onClick="logFunction('hexDouble')" href="../../../_functions/hexdouble.html" onMouseOver="funcPopup(event,'hexdouble')">hexDouble</a>(num) {
<a name="l234"><span class="linenum"> 234</span></a>    var str = num.<a class="function" onClick="logFunction('toString')" href="../../../_functions/tostring.html" onMouseOver="funcPopup(event,'tostring')">toString</a>(16).toUpperCase();
<a name="l235"><span class="linenum"> 235</span></a>    return (str.length &lt; 2) ? &quot;0&quot; + str : str;
<a name="l236"><span class="linenum"> 236</span></a>  }
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>  
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">//create a list of reverse color names</span>
<a name="l240"><span class="linenum"> 240</span></a>  var reverseNames = {};
<a name="l241"><span class="linenum"> 241</span></a>  for (var name in colorNames) {
<a name="l242"><span class="linenum"> 242</span></a>     reverseNames[colorNames[name]] = name;
<a name="l243"><span class="linenum"> 243</span></a>  }
<a name="l244"><span class="linenum"> 244</span></a>  
<a name="l245"><span class="linenum"> 245</span></a>  },{&quot;6&quot;:6}],3:[function(require,module,exports){
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">/* MIT license */</span>
<a name="l247"><span class="linenum"> 247</span></a>  var convert = <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(5);
<a name="l248"><span class="linenum"> 248</span></a>  var string = <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(2);
<a name="l249"><span class="linenum"> 249</span></a>  
<a name="l250"><span class="linenum"> 250</span></a>  var Color = function (obj) {
<a name="l251"><span class="linenum"> 251</span></a>      if (obj instanceof Color) {
<a name="l252"><span class="linenum"> 252</span></a>          return obj;
<a name="l253"><span class="linenum"> 253</span></a>      }
<a name="l254"><span class="linenum"> 254</span></a>      if (!(this instanceof Color)) {
<a name="l255"><span class="linenum"> 255</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('Color')" href="../../../_classes/color.html" onMouseOver="classPopup(event,'color')">Color</a>(obj);
<a name="l256"><span class="linenum"> 256</span></a>      }
<a name="l257"><span class="linenum"> 257</span></a>  
<a name="l258"><span class="linenum"> 258</span></a>      this.values = {
<a name="l259"><span class="linenum"> 259</span></a>          rgb: [0, 0, 0],
<a name="l260"><span class="linenum"> 260</span></a>          hsl: [0, 0, 0],
<a name="l261"><span class="linenum"> 261</span></a>          hsv: [0, 0, 0],
<a name="l262"><span class="linenum"> 262</span></a>          hwb: [0, 0, 0],
<a name="l263"><span class="linenum"> 263</span></a>          cmyk: [0, 0, 0, 0],
<a name="l264"><span class="linenum"> 264</span></a>          alpha: 1
<a name="l265"><span class="linenum"> 265</span></a>      };
<a name="l266"><span class="linenum"> 266</span></a>  
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment">    // parse Color() argument</span>
<a name="l268"><span class="linenum"> 268</span></a>      var vals;
<a name="l269"><span class="linenum"> 269</span></a>      if (typeof obj === 'string') {
<a name="l270"><span class="linenum"> 270</span></a>          vals = string.<a class="function" onClick="logFunction('getRgba')" href="../../../_functions/getrgba.html" onMouseOver="funcPopup(event,'getrgba')">getRgba</a>(obj);
<a name="l271"><span class="linenum"> 271</span></a>          if (vals) {
<a name="l272"><span class="linenum"> 272</span></a>              this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('rgb', vals);
<a name="l273"><span class="linenum"> 273</span></a>          } else if (vals = string.<a class="function" onClick="logFunction('getHsla')" href="../../../_functions/gethsla.html" onMouseOver="funcPopup(event,'gethsla')">getHsla</a>(obj)) {
<a name="l274"><span class="linenum"> 274</span></a>              this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hsl', vals);
<a name="l275"><span class="linenum"> 275</span></a>          } else if (vals = string.<a class="function" onClick="logFunction('getHwb')" href="../../../_functions/gethwb.html" onMouseOver="funcPopup(event,'gethwb')">getHwb</a>(obj)) {
<a name="l276"><span class="linenum"> 276</span></a>              this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hwb', vals);
<a name="l277"><span class="linenum"> 277</span></a>          } else {
<a name="l278"><span class="linenum"> 278</span></a>              throw new <a class="function" onClick="logFunction('Error')" href="../../../_functions/error.html" onMouseOver="funcPopup(event,'error')">Error</a>('Unable to parse color from string &quot;' + obj + '&quot;');
<a name="l279"><span class="linenum"> 279</span></a>          }
<a name="l280"><span class="linenum"> 280</span></a>      } else if (typeof obj === 'object') {
<a name="l281"><span class="linenum"> 281</span></a>          vals = obj;
<a name="l282"><span class="linenum"> 282</span></a>          if (vals.r !== undefined || vals.red !== undefined) {
<a name="l283"><span class="linenum"> 283</span></a>              this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('rgb', vals);
<a name="l284"><span class="linenum"> 284</span></a>          } else if (vals.l !== undefined || vals.lightness !== undefined) {
<a name="l285"><span class="linenum"> 285</span></a>              this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hsl', vals);
<a name="l286"><span class="linenum"> 286</span></a>          } else if (vals.v !== undefined || vals.value !== undefined) {
<a name="l287"><span class="linenum"> 287</span></a>              this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hsv', vals);
<a name="l288"><span class="linenum"> 288</span></a>          } else if (vals.w !== undefined || vals.whiteness !== undefined) {
<a name="l289"><span class="linenum"> 289</span></a>              this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hwb', vals);
<a name="l290"><span class="linenum"> 290</span></a>          } else if (vals.c !== undefined || vals.cyan !== undefined) {
<a name="l291"><span class="linenum"> 291</span></a>              this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('cmyk', vals);
<a name="l292"><span class="linenum"> 292</span></a>          } else {
<a name="l293"><span class="linenum"> 293</span></a>              throw new <a class="function" onClick="logFunction('Error')" href="../../../_functions/error.html" onMouseOver="funcPopup(event,'error')">Error</a>('Unable to parse color from object ' + JSON.stringify(obj));
<a name="l294"><span class="linenum"> 294</span></a>          }
<a name="l295"><span class="linenum"> 295</span></a>      }
<a name="l296"><span class="linenum"> 296</span></a>  };
<a name="l297"><span class="linenum"> 297</span></a>  
<a name="l298"><span class="linenum"> 298</span></a>  Color.prototype = {
<a name="l299"><span class="linenum"> 299</span></a>      rgb: function () {
<a name="l300"><span class="linenum"> 300</span></a>          return this.<a class="function" onClick="logFunction('setSpace')" href="../../../_functions/setspace.html" onMouseOver="funcPopup(event,'setspace')">setSpace</a>('rgb', arguments);
<a name="l301"><span class="linenum"> 301</span></a>      },
<a name="l302"><span class="linenum"> 302</span></a>      hsl: function () {
<a name="l303"><span class="linenum"> 303</span></a>          return this.<a class="function" onClick="logFunction('setSpace')" href="../../../_functions/setspace.html" onMouseOver="funcPopup(event,'setspace')">setSpace</a>('hsl', arguments);
<a name="l304"><span class="linenum"> 304</span></a>      },
<a name="l305"><span class="linenum"> 305</span></a>      hsv: function () {
<a name="l306"><span class="linenum"> 306</span></a>          return this.<a class="function" onClick="logFunction('setSpace')" href="../../../_functions/setspace.html" onMouseOver="funcPopup(event,'setspace')">setSpace</a>('hsv', arguments);
<a name="l307"><span class="linenum"> 307</span></a>      },
<a name="l308"><span class="linenum"> 308</span></a>      hwb: function () {
<a name="l309"><span class="linenum"> 309</span></a>          return this.<a class="function" onClick="logFunction('setSpace')" href="../../../_functions/setspace.html" onMouseOver="funcPopup(event,'setspace')">setSpace</a>('hwb', arguments);
<a name="l310"><span class="linenum"> 310</span></a>      },
<a name="l311"><span class="linenum"> 311</span></a>      cmyk: function () {
<a name="l312"><span class="linenum"> 312</span></a>          return this.<a class="function" onClick="logFunction('setSpace')" href="../../../_functions/setspace.html" onMouseOver="funcPopup(event,'setspace')">setSpace</a>('cmyk', arguments);
<a name="l313"><span class="linenum"> 313</span></a>      },
<a name="l314"><span class="linenum"> 314</span></a>  
<a name="l315"><span class="linenum"> 315</span></a>      rgbArray: function () {
<a name="l316"><span class="linenum"> 316</span></a>          return this.values.rgb;
<a name="l317"><span class="linenum"> 317</span></a>      },
<a name="l318"><span class="linenum"> 318</span></a>      hslArray: function () {
<a name="l319"><span class="linenum"> 319</span></a>          return this.values.hsl;
<a name="l320"><span class="linenum"> 320</span></a>      },
<a name="l321"><span class="linenum"> 321</span></a>      hsvArray: function () {
<a name="l322"><span class="linenum"> 322</span></a>          return this.values.hsv;
<a name="l323"><span class="linenum"> 323</span></a>      },
<a name="l324"><span class="linenum"> 324</span></a>      hwbArray: function () {
<a name="l325"><span class="linenum"> 325</span></a>          var values = this.values;
<a name="l326"><span class="linenum"> 326</span></a>          if (values.alpha !== 1) {
<a name="l327"><span class="linenum"> 327</span></a>              return values.hwb.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>([values.alpha]);
<a name="l328"><span class="linenum"> 328</span></a>          }
<a name="l329"><span class="linenum"> 329</span></a>          return values.hwb;
<a name="l330"><span class="linenum"> 330</span></a>      },
<a name="l331"><span class="linenum"> 331</span></a>      cmykArray: function () {
<a name="l332"><span class="linenum"> 332</span></a>          return this.values.cmyk;
<a name="l333"><span class="linenum"> 333</span></a>      },
<a name="l334"><span class="linenum"> 334</span></a>      rgbaArray: function () {
<a name="l335"><span class="linenum"> 335</span></a>          var values = this.values;
<a name="l336"><span class="linenum"> 336</span></a>          return values.rgb.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>([values.alpha]);
<a name="l337"><span class="linenum"> 337</span></a>      },
<a name="l338"><span class="linenum"> 338</span></a>      hslaArray: function () {
<a name="l339"><span class="linenum"> 339</span></a>          var values = this.values;
<a name="l340"><span class="linenum"> 340</span></a>          return values.hsl.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>([values.alpha]);
<a name="l341"><span class="linenum"> 341</span></a>      },
<a name="l342"><span class="linenum"> 342</span></a>      alpha: function (val) {
<a name="l343"><span class="linenum"> 343</span></a>          if (val === undefined) {
<a name="l344"><span class="linenum"> 344</span></a>              return this.values.alpha;
<a name="l345"><span class="linenum"> 345</span></a>          }
<a name="l346"><span class="linenum"> 346</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('alpha', val);
<a name="l347"><span class="linenum"> 347</span></a>          return this;
<a name="l348"><span class="linenum"> 348</span></a>      },
<a name="l349"><span class="linenum"> 349</span></a>  
<a name="l350"><span class="linenum"> 350</span></a>      red: function (val) {
<a name="l351"><span class="linenum"> 351</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('rgb', 0, val);
<a name="l352"><span class="linenum"> 352</span></a>      },
<a name="l353"><span class="linenum"> 353</span></a>      green: function (val) {
<a name="l354"><span class="linenum"> 354</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('rgb', 1, val);
<a name="l355"><span class="linenum"> 355</span></a>      },
<a name="l356"><span class="linenum"> 356</span></a>      blue: function (val) {
<a name="l357"><span class="linenum"> 357</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('rgb', 2, val);
<a name="l358"><span class="linenum"> 358</span></a>      },
<a name="l359"><span class="linenum"> 359</span></a>      hue: function (val) {
<a name="l360"><span class="linenum"> 360</span></a>          if (val) {
<a name="l361"><span class="linenum"> 361</span></a>              val %= 360;
<a name="l362"><span class="linenum"> 362</span></a>              val = val &lt; 0 ? 360 + val : val;
<a name="l363"><span class="linenum"> 363</span></a>          }
<a name="l364"><span class="linenum"> 364</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('hsl', 0, val);
<a name="l365"><span class="linenum"> 365</span></a>      },
<a name="l366"><span class="linenum"> 366</span></a>      saturation: function (val) {
<a name="l367"><span class="linenum"> 367</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('hsl', 1, val);
<a name="l368"><span class="linenum"> 368</span></a>      },
<a name="l369"><span class="linenum"> 369</span></a>      lightness: function (val) {
<a name="l370"><span class="linenum"> 370</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('hsl', 2, val);
<a name="l371"><span class="linenum"> 371</span></a>      },
<a name="l372"><span class="linenum"> 372</span></a>      saturationv: function (val) {
<a name="l373"><span class="linenum"> 373</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('hsv', 1, val);
<a name="l374"><span class="linenum"> 374</span></a>      },
<a name="l375"><span class="linenum"> 375</span></a>      whiteness: function (val) {
<a name="l376"><span class="linenum"> 376</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('hwb', 1, val);
<a name="l377"><span class="linenum"> 377</span></a>      },
<a name="l378"><span class="linenum"> 378</span></a>      blackness: function (val) {
<a name="l379"><span class="linenum"> 379</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('hwb', 2, val);
<a name="l380"><span class="linenum"> 380</span></a>      },
<a name="l381"><span class="linenum"> 381</span></a>      value: function (val) {
<a name="l382"><span class="linenum"> 382</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('hsv', 2, val);
<a name="l383"><span class="linenum"> 383</span></a>      },
<a name="l384"><span class="linenum"> 384</span></a>      cyan: function (val) {
<a name="l385"><span class="linenum"> 385</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('cmyk', 0, val);
<a name="l386"><span class="linenum"> 386</span></a>      },
<a name="l387"><span class="linenum"> 387</span></a>      magenta: function (val) {
<a name="l388"><span class="linenum"> 388</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('cmyk', 1, val);
<a name="l389"><span class="linenum"> 389</span></a>      },
<a name="l390"><span class="linenum"> 390</span></a>      yellow: function (val) {
<a name="l391"><span class="linenum"> 391</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('cmyk', 2, val);
<a name="l392"><span class="linenum"> 392</span></a>      },
<a name="l393"><span class="linenum"> 393</span></a>      black: function (val) {
<a name="l394"><span class="linenum"> 394</span></a>          return this.<a class="function" onClick="logFunction('setChannel')" href="../../../_functions/setchannel.html" onMouseOver="funcPopup(event,'setchannel')">setChannel</a>('cmyk', 3, val);
<a name="l395"><span class="linenum"> 395</span></a>      },
<a name="l396"><span class="linenum"> 396</span></a>  
<a name="l397"><span class="linenum"> 397</span></a>      hexString: function () {
<a name="l398"><span class="linenum"> 398</span></a>          return string.<a class="function" onClick="logFunction('hexString')" href="../../../_functions/hexstring.html" onMouseOver="funcPopup(event,'hexstring')">hexString</a>(this.values.rgb);
<a name="l399"><span class="linenum"> 399</span></a>      },
<a name="l400"><span class="linenum"> 400</span></a>      rgbString: function () {
<a name="l401"><span class="linenum"> 401</span></a>          return string.<a class="function" onClick="logFunction('rgbString')" href="../../../_functions/rgbstring.html" onMouseOver="funcPopup(event,'rgbstring')">rgbString</a>(this.values.rgb, this.values.alpha);
<a name="l402"><span class="linenum"> 402</span></a>      },
<a name="l403"><span class="linenum"> 403</span></a>      rgbaString: function () {
<a name="l404"><span class="linenum"> 404</span></a>          return string.<a class="function" onClick="logFunction('rgbaString')" href="../../../_functions/rgbastring.html" onMouseOver="funcPopup(event,'rgbastring')">rgbaString</a>(this.values.rgb, this.values.alpha);
<a name="l405"><span class="linenum"> 405</span></a>      },
<a name="l406"><span class="linenum"> 406</span></a>      percentString: function () {
<a name="l407"><span class="linenum"> 407</span></a>          return string.<a class="function" onClick="logFunction('percentString')" href="../../../_functions/percentstring.html" onMouseOver="funcPopup(event,'percentstring')">percentString</a>(this.values.rgb, this.values.alpha);
<a name="l408"><span class="linenum"> 408</span></a>      },
<a name="l409"><span class="linenum"> 409</span></a>      hslString: function () {
<a name="l410"><span class="linenum"> 410</span></a>          return string.<a class="function" onClick="logFunction('hslString')" href="../../../_functions/hslstring.html" onMouseOver="funcPopup(event,'hslstring')">hslString</a>(this.values.hsl, this.values.alpha);
<a name="l411"><span class="linenum"> 411</span></a>      },
<a name="l412"><span class="linenum"> 412</span></a>      hslaString: function () {
<a name="l413"><span class="linenum"> 413</span></a>          return string.<a class="function" onClick="logFunction('hslaString')" href="../../../_functions/hslastring.html" onMouseOver="funcPopup(event,'hslastring')">hslaString</a>(this.values.hsl, this.values.alpha);
<a name="l414"><span class="linenum"> 414</span></a>      },
<a name="l415"><span class="linenum"> 415</span></a>      hwbString: function () {
<a name="l416"><span class="linenum"> 416</span></a>          return string.<a class="function" onClick="logFunction('hwbString')" href="../../../_functions/hwbstring.html" onMouseOver="funcPopup(event,'hwbstring')">hwbString</a>(this.values.hwb, this.values.alpha);
<a name="l417"><span class="linenum"> 417</span></a>      },
<a name="l418"><span class="linenum"> 418</span></a>      keyword: function () {
<a name="l419"><span class="linenum"> 419</span></a>          return string.<a class="function" onClick="logFunction('keyword')" href="../../../_functions/keyword.html" onMouseOver="funcPopup(event,'keyword')">keyword</a>(this.values.rgb, this.values.alpha);
<a name="l420"><span class="linenum"> 420</span></a>      },
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>      rgbNumber: function () {
<a name="l423"><span class="linenum"> 423</span></a>          var rgb = this.values.rgb;
<a name="l424"><span class="linenum"> 424</span></a>          return (rgb[0] &lt;&lt; 16) | (rgb[1] &lt;&lt; 8) | rgb[2];
<a name="l425"><span class="linenum"> 425</span></a>      },
<a name="l426"><span class="linenum"> 426</span></a>  
<a name="l427"><span class="linenum"> 427</span></a>      luminosity: function () {
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">        // http://www.w3.org/TR/WCAG20/#relativeluminancedef</span>
<a name="l429"><span class="linenum"> 429</span></a>          var rgb = this.values.rgb;
<a name="l430"><span class="linenum"> 430</span></a>          var lum = [];
<a name="l431"><span class="linenum"> 431</span></a>          for (var i = 0; i &lt; rgb.length; i++) {
<a name="l432"><span class="linenum"> 432</span></a>              var chan = rgb[i] / 255;
<a name="l433"><span class="linenum"> 433</span></a>              lum[i] = (chan &lt;= 0.03928) ? chan / 12.92 : Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(((chan + 0.055) / 1.055), 2.4);
<a name="l434"><span class="linenum"> 434</span></a>          }
<a name="l435"><span class="linenum"> 435</span></a>          return 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];
<a name="l436"><span class="linenum"> 436</span></a>      },
<a name="l437"><span class="linenum"> 437</span></a>  
<a name="l438"><span class="linenum"> 438</span></a>      contrast: function (color2) {
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment">        // http://www.w3.org/TR/WCAG20/#contrast-ratiodef</span>
<a name="l440"><span class="linenum"> 440</span></a>          var lum1 = this.luminosity();
<a name="l441"><span class="linenum"> 441</span></a>          var lum2 = color2.luminosity();
<a name="l442"><span class="linenum"> 442</span></a>          if (lum1 &gt; lum2) {
<a name="l443"><span class="linenum"> 443</span></a>              return (lum1 + 0.05) / (lum2 + 0.05);
<a name="l444"><span class="linenum"> 444</span></a>          }
<a name="l445"><span class="linenum"> 445</span></a>          return (lum2 + 0.05) / (lum1 + 0.05);
<a name="l446"><span class="linenum"> 446</span></a>      },
<a name="l447"><span class="linenum"> 447</span></a>  
<a name="l448"><span class="linenum"> 448</span></a>      level: function (color2) {
<a name="l449"><span class="linenum"> 449</span></a>          var contrastRatio = this.<a class="function" onClick="logFunction('contrast')" href="../../../_functions/contrast.html" onMouseOver="funcPopup(event,'contrast')">contrast</a>(color2);
<a name="l450"><span class="linenum"> 450</span></a>          if (contrastRatio &gt;= 7.1) {
<a name="l451"><span class="linenum"> 451</span></a>              return 'AAA';
<a name="l452"><span class="linenum"> 452</span></a>          }
<a name="l453"><span class="linenum"> 453</span></a>  
<a name="l454"><span class="linenum"> 454</span></a>          return (contrastRatio &gt;= 4.5) ? 'AA' : '';
<a name="l455"><span class="linenum"> 455</span></a>      },
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>      dark: function () {
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">        // YIQ equation from http://24ways.org/2010/calculating-color-contrast</span>
<a name="l459"><span class="linenum"> 459</span></a>          var rgb = this.values.rgb;
<a name="l460"><span class="linenum"> 460</span></a>          var yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;
<a name="l461"><span class="linenum"> 461</span></a>          return yiq &lt; 128;
<a name="l462"><span class="linenum"> 462</span></a>      },
<a name="l463"><span class="linenum"> 463</span></a>  
<a name="l464"><span class="linenum"> 464</span></a>      light: function () {
<a name="l465"><span class="linenum"> 465</span></a>          return !this.dark();
<a name="l466"><span class="linenum"> 466</span></a>      },
<a name="l467"><span class="linenum"> 467</span></a>  
<a name="l468"><span class="linenum"> 468</span></a>      negate: function () {
<a name="l469"><span class="linenum"> 469</span></a>          var rgb = [];
<a name="l470"><span class="linenum"> 470</span></a>          for (var i = 0; i &lt; 3; i++) {
<a name="l471"><span class="linenum"> 471</span></a>              rgb[i] = 255 - this.values.rgb[i];
<a name="l472"><span class="linenum"> 472</span></a>          }
<a name="l473"><span class="linenum"> 473</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('rgb', rgb);
<a name="l474"><span class="linenum"> 474</span></a>          return this;
<a name="l475"><span class="linenum"> 475</span></a>      },
<a name="l476"><span class="linenum"> 476</span></a>  
<a name="l477"><span class="linenum"> 477</span></a>      lighten: function (ratio) {
<a name="l478"><span class="linenum"> 478</span></a>          var hsl = this.values.hsl;
<a name="l479"><span class="linenum"> 479</span></a>          hsl[2] += hsl[2] * ratio;
<a name="l480"><span class="linenum"> 480</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hsl', hsl);
<a name="l481"><span class="linenum"> 481</span></a>          return this;
<a name="l482"><span class="linenum"> 482</span></a>      },
<a name="l483"><span class="linenum"> 483</span></a>  
<a name="l484"><span class="linenum"> 484</span></a>      darken: function (ratio) {
<a name="l485"><span class="linenum"> 485</span></a>          var hsl = this.values.hsl;
<a name="l486"><span class="linenum"> 486</span></a>          hsl[2] -= hsl[2] * ratio;
<a name="l487"><span class="linenum"> 487</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hsl', hsl);
<a name="l488"><span class="linenum"> 488</span></a>          return this;
<a name="l489"><span class="linenum"> 489</span></a>      },
<a name="l490"><span class="linenum"> 490</span></a>  
<a name="l491"><span class="linenum"> 491</span></a>      saturate: function (ratio) {
<a name="l492"><span class="linenum"> 492</span></a>          var hsl = this.values.hsl;
<a name="l493"><span class="linenum"> 493</span></a>          hsl[1] += hsl[1] * ratio;
<a name="l494"><span class="linenum"> 494</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hsl', hsl);
<a name="l495"><span class="linenum"> 495</span></a>          return this;
<a name="l496"><span class="linenum"> 496</span></a>      },
<a name="l497"><span class="linenum"> 497</span></a>  
<a name="l498"><span class="linenum"> 498</span></a>      desaturate: function (ratio) {
<a name="l499"><span class="linenum"> 499</span></a>          var hsl = this.values.hsl;
<a name="l500"><span class="linenum"> 500</span></a>          hsl[1] -= hsl[1] * ratio;
<a name="l501"><span class="linenum"> 501</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hsl', hsl);
<a name="l502"><span class="linenum"> 502</span></a>          return this;
<a name="l503"><span class="linenum"> 503</span></a>      },
<a name="l504"><span class="linenum"> 504</span></a>  
<a name="l505"><span class="linenum"> 505</span></a>      whiten: function (ratio) {
<a name="l506"><span class="linenum"> 506</span></a>          var hwb = this.values.hwb;
<a name="l507"><span class="linenum"> 507</span></a>          hwb[1] += hwb[1] * ratio;
<a name="l508"><span class="linenum"> 508</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hwb', hwb);
<a name="l509"><span class="linenum"> 509</span></a>          return this;
<a name="l510"><span class="linenum"> 510</span></a>      },
<a name="l511"><span class="linenum"> 511</span></a>  
<a name="l512"><span class="linenum"> 512</span></a>      blacken: function (ratio) {
<a name="l513"><span class="linenum"> 513</span></a>          var hwb = this.values.hwb;
<a name="l514"><span class="linenum"> 514</span></a>          hwb[2] += hwb[2] * ratio;
<a name="l515"><span class="linenum"> 515</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hwb', hwb);
<a name="l516"><span class="linenum"> 516</span></a>          return this;
<a name="l517"><span class="linenum"> 517</span></a>      },
<a name="l518"><span class="linenum"> 518</span></a>  
<a name="l519"><span class="linenum"> 519</span></a>      greyscale: function () {
<a name="l520"><span class="linenum"> 520</span></a>          var rgb = this.values.rgb;
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">        // http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale</span>
<a name="l522"><span class="linenum"> 522</span></a>          var val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;
<a name="l523"><span class="linenum"> 523</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('rgb', [val, val, val]);
<a name="l524"><span class="linenum"> 524</span></a>          return this;
<a name="l525"><span class="linenum"> 525</span></a>      },
<a name="l526"><span class="linenum"> 526</span></a>  
<a name="l527"><span class="linenum"> 527</span></a>      clearer: function (ratio) {
<a name="l528"><span class="linenum"> 528</span></a>          var alpha = this.values.alpha;
<a name="l529"><span class="linenum"> 529</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('alpha', alpha - (alpha * ratio));
<a name="l530"><span class="linenum"> 530</span></a>          return this;
<a name="l531"><span class="linenum"> 531</span></a>      },
<a name="l532"><span class="linenum"> 532</span></a>  
<a name="l533"><span class="linenum"> 533</span></a>      opaquer: function (ratio) {
<a name="l534"><span class="linenum"> 534</span></a>          var alpha = this.values.alpha;
<a name="l535"><span class="linenum"> 535</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('alpha', alpha + (alpha * ratio));
<a name="l536"><span class="linenum"> 536</span></a>          return this;
<a name="l537"><span class="linenum"> 537</span></a>      },
<a name="l538"><span class="linenum"> 538</span></a>  
<a name="l539"><span class="linenum"> 539</span></a>      rotate: function (degrees) {
<a name="l540"><span class="linenum"> 540</span></a>          var hsl = this.values.hsl;
<a name="l541"><span class="linenum"> 541</span></a>          var hue = (hsl[0] + degrees) % 360;
<a name="l542"><span class="linenum"> 542</span></a>          hsl[0] = hue &lt; 0 ? 360 + hue : hue;
<a name="l543"><span class="linenum"> 543</span></a>          this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>('hsl', hsl);
<a name="l544"><span class="linenum"> 544</span></a>          return this;
<a name="l545"><span class="linenum"> 545</span></a>      },
<a name="l546"><span class="linenum"> 546</span></a>  
<a name="l547"><span class="linenum"> 547</span></a>      <span class="comment">/**</span>
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">     * Ported from sass implementation in C</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">     * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">     */</span>
<a name="l551"><span class="linenum"> 551</span></a>      mix: function (mixinColor, weight) {
<a name="l552"><span class="linenum"> 552</span></a>          var color1 = this;
<a name="l553"><span class="linenum"> 553</span></a>          var color2 = mixinColor;
<a name="l554"><span class="linenum"> 554</span></a>          var p = weight === undefined ? 0.5 : weight;
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>          var w = 2 * p - 1;
<a name="l557"><span class="linenum"> 557</span></a>          var a = color1.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>() - color2.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>();
<a name="l558"><span class="linenum"> 558</span></a>  
<a name="l559"><span class="linenum"> 559</span></a>          var w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;
<a name="l560"><span class="linenum"> 560</span></a>          var w2 = 1 - w1;
<a name="l561"><span class="linenum"> 561</span></a>  
<a name="l562"><span class="linenum"> 562</span></a>          return this
<a name="l563"><span class="linenum"> 563</span></a>              .<a class="function" onClick="logFunction('rgb')" href="../../../_functions/rgb.html" onMouseOver="funcPopup(event,'rgb')">rgb</a>(
<a name="l564"><span class="linenum"> 564</span></a>                  w1 * color1.<a class="function" onClick="logFunction('red')" href="../../../_functions/red.html" onMouseOver="funcPopup(event,'red')">red</a>() + w2 * color2.<a class="function" onClick="logFunction('red')" href="../../../_functions/red.html" onMouseOver="funcPopup(event,'red')">red</a>(),
<a name="l565"><span class="linenum"> 565</span></a>                  w1 * color1.<a class="function" onClick="logFunction('green')" href="../../../_functions/green.html" onMouseOver="funcPopup(event,'green')">green</a>() + w2 * color2.<a class="function" onClick="logFunction('green')" href="../../../_functions/green.html" onMouseOver="funcPopup(event,'green')">green</a>(),
<a name="l566"><span class="linenum"> 566</span></a>                  w1 * color1.<a class="function" onClick="logFunction('blue')" href="../../../_functions/blue.html" onMouseOver="funcPopup(event,'blue')">blue</a>() + w2 * color2.<a class="function" onClick="logFunction('blue')" href="../../../_functions/blue.html" onMouseOver="funcPopup(event,'blue')">blue</a>()
<a name="l567"><span class="linenum"> 567</span></a>              )
<a name="l568"><span class="linenum"> 568</span></a>              .<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>(color1.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>() * p + color2.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>() * (1 - p));
<a name="l569"><span class="linenum"> 569</span></a>      },
<a name="l570"><span class="linenum"> 570</span></a>  
<a name="l571"><span class="linenum"> 571</span></a>      toJSON: function () {
<a name="l572"><span class="linenum"> 572</span></a>          return this.<a class="function" onClick="logFunction('rgb')" href="../../../_functions/rgb.html" onMouseOver="funcPopup(event,'rgb')">rgb</a>();
<a name="l573"><span class="linenum"> 573</span></a>      },
<a name="l574"><span class="linenum"> 574</span></a>  
<a name="l575"><span class="linenum"> 575</span></a>      clone: function () {
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">        // NOTE(SB): using node-clone creates a dependency to Buffer when using browserify,</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">        // making the final build way to big to embed in Chart.js. So let's do it manually,</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">        // assuming that values to clone are 1 dimension arrays containing only numbers,</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">        // except 'alpha' which is a number.</span>
<a name="l580"><span class="linenum"> 580</span></a>          var result = <span class="keyword">new </span><a class="class" onClick="logClass('Color')" href="../../../_classes/color.html" onMouseOver="classPopup(event,'color')">Color</a>();
<a name="l581"><span class="linenum"> 581</span></a>          var source = this.values;
<a name="l582"><span class="linenum"> 582</span></a>          var target = result.values;
<a name="l583"><span class="linenum"> 583</span></a>          var value, type;
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>          for (var prop in source) {
<a name="l586"><span class="linenum"> 586</span></a>              if (source.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(prop)) {
<a name="l587"><span class="linenum"> 587</span></a>                  value = source[prop];
<a name="l588"><span class="linenum"> 588</span></a>                  type = ({}).toString.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(value);
<a name="l589"><span class="linenum"> 589</span></a>                  if (type === '[object Array]') {
<a name="l590"><span class="linenum"> 590</span></a>                      target[prop] = value.slice(0);
<a name="l591"><span class="linenum"> 591</span></a>                  } else if (type === '[object Number]') {
<a name="l592"><span class="linenum"> 592</span></a>                      target[prop] = value;
<a name="l593"><span class="linenum"> 593</span></a>                  } else {
<a name="l594"><span class="linenum"> 594</span></a>                      console.<a class="function" onClick="logFunction('error')" href="../../../_functions/error.html" onMouseOver="funcPopup(event,'error')">error</a>('unexpected color value:', value);
<a name="l595"><span class="linenum"> 595</span></a>                  }
<a name="l596"><span class="linenum"> 596</span></a>              }
<a name="l597"><span class="linenum"> 597</span></a>          }
<a name="l598"><span class="linenum"> 598</span></a>  
<a name="l599"><span class="linenum"> 599</span></a>          return result;
<a name="l600"><span class="linenum"> 600</span></a>      }
<a name="l601"><span class="linenum"> 601</span></a>  };
<a name="l602"><span class="linenum"> 602</span></a>  
<a name="l603"><span class="linenum"> 603</span></a>  Color.prototype.spaces = {
<a name="l604"><span class="linenum"> 604</span></a>      rgb: ['red', 'green', 'blue'],
<a name="l605"><span class="linenum"> 605</span></a>      hsl: ['hue', 'saturation', 'lightness'],
<a name="l606"><span class="linenum"> 606</span></a>      hsv: ['hue', 'saturation', 'value'],
<a name="l607"><span class="linenum"> 607</span></a>      hwb: ['hue', 'whiteness', 'blackness'],
<a name="l608"><span class="linenum"> 608</span></a>      cmyk: ['cyan', 'magenta', 'yellow', 'black']
<a name="l609"><span class="linenum"> 609</span></a>  };
<a name="l610"><span class="linenum"> 610</span></a>  
<a name="l611"><span class="linenum"> 611</span></a>  Color.prototype.maxes = {
<a name="l612"><span class="linenum"> 612</span></a>      rgb: [255, 255, 255],
<a name="l613"><span class="linenum"> 613</span></a>      hsl: [360, 100, 100],
<a name="l614"><span class="linenum"> 614</span></a>      hsv: [360, 100, 100],
<a name="l615"><span class="linenum"> 615</span></a>      hwb: [360, 100, 100],
<a name="l616"><span class="linenum"> 616</span></a>      cmyk: [100, 100, 100, 100]
<a name="l617"><span class="linenum"> 617</span></a>  };
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>  Color.prototype.getValues = function (space) {
<a name="l620"><span class="linenum"> 620</span></a>      var values = this.values;
<a name="l621"><span class="linenum"> 621</span></a>      var vals = {};
<a name="l622"><span class="linenum"> 622</span></a>  
<a name="l623"><span class="linenum"> 623</span></a>      for (var i = 0; i &lt; space.length; i++) {
<a name="l624"><span class="linenum"> 624</span></a>          vals[space.charAt(i)] = values[space][i];
<a name="l625"><span class="linenum"> 625</span></a>      }
<a name="l626"><span class="linenum"> 626</span></a>  
<a name="l627"><span class="linenum"> 627</span></a>      if (values.alpha !== 1) {
<a name="l628"><span class="linenum"> 628</span></a>          vals.a = values.alpha;
<a name="l629"><span class="linenum"> 629</span></a>      }
<a name="l630"><span class="linenum"> 630</span></a>  
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">    // {r: 255, g: 255, b: 255, a: 0.4}</span>
<a name="l632"><span class="linenum"> 632</span></a>      return vals;
<a name="l633"><span class="linenum"> 633</span></a>  };
<a name="l634"><span class="linenum"> 634</span></a>  
<a name="l635"><span class="linenum"> 635</span></a>  Color.prototype.setValues = function (space, vals) {
<a name="l636"><span class="linenum"> 636</span></a>      var values = this.values;
<a name="l637"><span class="linenum"> 637</span></a>      var spaces = this.spaces;
<a name="l638"><span class="linenum"> 638</span></a>      var maxes = this.maxes;
<a name="l639"><span class="linenum"> 639</span></a>      var alpha = 1;
<a name="l640"><span class="linenum"> 640</span></a>      var i;
<a name="l641"><span class="linenum"> 641</span></a>  
<a name="l642"><span class="linenum"> 642</span></a>      if (space === 'alpha') {
<a name="l643"><span class="linenum"> 643</span></a>          alpha = vals;
<a name="l644"><span class="linenum"> 644</span></a>      } else if (vals.length) {
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment">        // [10, 10, 10]</span>
<a name="l646"><span class="linenum"> 646</span></a>          values[space] = vals.slice(0, space.length);
<a name="l647"><span class="linenum"> 647</span></a>          alpha = vals[space.length];
<a name="l648"><span class="linenum"> 648</span></a>      } else if (vals[space.charAt(0)] !== undefined) {
<a name="l649"><span class="linenum"> 649</span></a>  <span class="comment">        // {r: 10, g: 10, b: 10}</span>
<a name="l650"><span class="linenum"> 650</span></a>          for (i = 0; i &lt; space.length; i++) {
<a name="l651"><span class="linenum"> 651</span></a>              values[space][i] = vals[space.charAt(i)];
<a name="l652"><span class="linenum"> 652</span></a>          }
<a name="l653"><span class="linenum"> 653</span></a>  
<a name="l654"><span class="linenum"> 654</span></a>          alpha = vals.a;
<a name="l655"><span class="linenum"> 655</span></a>      } else if (vals[spaces[space][0]] !== undefined) {
<a name="l656"><span class="linenum"> 656</span></a>  <span class="comment">        // {red: 10, green: 10, blue: 10}</span>
<a name="l657"><span class="linenum"> 657</span></a>          var chans = spaces[space];
<a name="l658"><span class="linenum"> 658</span></a>  
<a name="l659"><span class="linenum"> 659</span></a>          for (i = 0; i &lt; space.length; i++) {
<a name="l660"><span class="linenum"> 660</span></a>              values[space][i] = vals[chans[i]];
<a name="l661"><span class="linenum"> 661</span></a>          }
<a name="l662"><span class="linenum"> 662</span></a>  
<a name="l663"><span class="linenum"> 663</span></a>          alpha = vals.alpha;
<a name="l664"><span class="linenum"> 664</span></a>      }
<a name="l665"><span class="linenum"> 665</span></a>  
<a name="l666"><span class="linenum"> 666</span></a>      values.alpha = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(0, Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(1, (alpha === undefined ? values.alpha : alpha)));
<a name="l667"><span class="linenum"> 667</span></a>  
<a name="l668"><span class="linenum"> 668</span></a>      if (space === 'alpha') {
<a name="l669"><span class="linenum"> 669</span></a>          return false;
<a name="l670"><span class="linenum"> 670</span></a>      }
<a name="l671"><span class="linenum"> 671</span></a>  
<a name="l672"><span class="linenum"> 672</span></a>      var capped;
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">    // cap values of the space prior converting all values</span>
<a name="l675"><span class="linenum"> 675</span></a>      for (i = 0; i &lt; space.length; i++) {
<a name="l676"><span class="linenum"> 676</span></a>          capped = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(0, Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(maxes[space][i], values[space][i]));
<a name="l677"><span class="linenum"> 677</span></a>          values[space][i] = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(capped);
<a name="l678"><span class="linenum"> 678</span></a>      }
<a name="l679"><span class="linenum"> 679</span></a>  
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">    // convert to all the other color spaces</span>
<a name="l681"><span class="linenum"> 681</span></a>      for (var sname in spaces) {
<a name="l682"><span class="linenum"> 682</span></a>          if (sname !== space) {
<a name="l683"><span class="linenum"> 683</span></a>              values[sname] = convert[space][sname](values[space]);
<a name="l684"><span class="linenum"> 684</span></a>          }
<a name="l685"><span class="linenum"> 685</span></a>      }
<a name="l686"><span class="linenum"> 686</span></a>  
<a name="l687"><span class="linenum"> 687</span></a>      return true;
<a name="l688"><span class="linenum"> 688</span></a>  };
<a name="l689"><span class="linenum"> 689</span></a>  
<a name="l690"><span class="linenum"> 690</span></a>  Color.prototype.setSpace = function (space, args) {
<a name="l691"><span class="linenum"> 691</span></a>      var vals = args[0];
<a name="l692"><span class="linenum"> 692</span></a>  
<a name="l693"><span class="linenum"> 693</span></a>      if (vals === undefined) {
<a name="l694"><span class="linenum"> 694</span></a>  <span class="comment">        // color.rgb()</span>
<a name="l695"><span class="linenum"> 695</span></a>          return this.<a class="function" onClick="logFunction('getValues')" href="../../../_functions/getvalues.html" onMouseOver="funcPopup(event,'getvalues')">getValues</a>(space);
<a name="l696"><span class="linenum"> 696</span></a>      }
<a name="l697"><span class="linenum"> 697</span></a>  
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">    // color.rgb(10, 10, 10)</span>
<a name="l699"><span class="linenum"> 699</span></a>      if (typeof vals === 'number') {
<a name="l700"><span class="linenum"> 700</span></a>          vals = Array.prototype.slice.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(args);
<a name="l701"><span class="linenum"> 701</span></a>      }
<a name="l702"><span class="linenum"> 702</span></a>  
<a name="l703"><span class="linenum"> 703</span></a>      this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>(space, vals);
<a name="l704"><span class="linenum"> 704</span></a>      return this;
<a name="l705"><span class="linenum"> 705</span></a>  };
<a name="l706"><span class="linenum"> 706</span></a>  
<a name="l707"><span class="linenum"> 707</span></a>  Color.prototype.setChannel = function (space, index, val) {
<a name="l708"><span class="linenum"> 708</span></a>      var svalues = this.values[space];
<a name="l709"><span class="linenum"> 709</span></a>      if (val === undefined) {
<a name="l710"><span class="linenum"> 710</span></a>  <span class="comment">        // color.red()</span>
<a name="l711"><span class="linenum"> 711</span></a>          return svalues[index];
<a name="l712"><span class="linenum"> 712</span></a>      } else if (val === svalues[index]) {
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">        // color.red(color.red())</span>
<a name="l714"><span class="linenum"> 714</span></a>          return this;
<a name="l715"><span class="linenum"> 715</span></a>      }
<a name="l716"><span class="linenum"> 716</span></a>  
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">    // color.red(100)</span>
<a name="l718"><span class="linenum"> 718</span></a>      svalues[index] = val;
<a name="l719"><span class="linenum"> 719</span></a>      this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>(space, svalues);
<a name="l720"><span class="linenum"> 720</span></a>  
<a name="l721"><span class="linenum"> 721</span></a>      return this;
<a name="l722"><span class="linenum"> 722</span></a>  };
<a name="l723"><span class="linenum"> 723</span></a>  
<a name="l724"><span class="linenum"> 724</span></a>  if (typeof window !== 'undefined') {
<a name="l725"><span class="linenum"> 725</span></a>      window.Color = Color;
<a name="l726"><span class="linenum"> 726</span></a>  }
<a name="l727"><span class="linenum"> 727</span></a>  
<a name="l728"><span class="linenum"> 728</span></a>  module.exports = Color;
<a name="l729"><span class="linenum"> 729</span></a>  
<a name="l730"><span class="linenum"> 730</span></a>  },{&quot;2&quot;:2,&quot;5&quot;:5}],4:[function(require,module,exports){
<a name="l731"><span class="linenum"> 731</span></a>  <span class="comment">/* MIT license */</span>
<a name="l732"><span class="linenum"> 732</span></a>  
<a name="l733"><span class="linenum"> 733</span></a>  module.exports = {
<a name="l734"><span class="linenum"> 734</span></a>    rgb2hsl: rgb2hsl,
<a name="l735"><span class="linenum"> 735</span></a>    rgb2hsv: rgb2hsv,
<a name="l736"><span class="linenum"> 736</span></a>    rgb2hwb: rgb2hwb,
<a name="l737"><span class="linenum"> 737</span></a>    rgb2cmyk: rgb2cmyk,
<a name="l738"><span class="linenum"> 738</span></a>    rgb2keyword: rgb2keyword,
<a name="l739"><span class="linenum"> 739</span></a>    rgb2xyz: rgb2xyz,
<a name="l740"><span class="linenum"> 740</span></a>    rgb2lab: rgb2lab,
<a name="l741"><span class="linenum"> 741</span></a>    rgb2lch: rgb2lch,
<a name="l742"><span class="linenum"> 742</span></a>  
<a name="l743"><span class="linenum"> 743</span></a>    hsl2rgb: hsl2rgb,
<a name="l744"><span class="linenum"> 744</span></a>    hsl2hsv: hsl2hsv,
<a name="l745"><span class="linenum"> 745</span></a>    hsl2hwb: hsl2hwb,
<a name="l746"><span class="linenum"> 746</span></a>    hsl2cmyk: hsl2cmyk,
<a name="l747"><span class="linenum"> 747</span></a>    hsl2keyword: hsl2keyword,
<a name="l748"><span class="linenum"> 748</span></a>  
<a name="l749"><span class="linenum"> 749</span></a>    hsv2rgb: hsv2rgb,
<a name="l750"><span class="linenum"> 750</span></a>    hsv2hsl: hsv2hsl,
<a name="l751"><span class="linenum"> 751</span></a>    hsv2hwb: hsv2hwb,
<a name="l752"><span class="linenum"> 752</span></a>    hsv2cmyk: hsv2cmyk,
<a name="l753"><span class="linenum"> 753</span></a>    hsv2keyword: hsv2keyword,
<a name="l754"><span class="linenum"> 754</span></a>  
<a name="l755"><span class="linenum"> 755</span></a>    hwb2rgb: hwb2rgb,
<a name="l756"><span class="linenum"> 756</span></a>    hwb2hsl: hwb2hsl,
<a name="l757"><span class="linenum"> 757</span></a>    hwb2hsv: hwb2hsv,
<a name="l758"><span class="linenum"> 758</span></a>    hwb2cmyk: hwb2cmyk,
<a name="l759"><span class="linenum"> 759</span></a>    hwb2keyword: hwb2keyword,
<a name="l760"><span class="linenum"> 760</span></a>  
<a name="l761"><span class="linenum"> 761</span></a>    cmyk2rgb: cmyk2rgb,
<a name="l762"><span class="linenum"> 762</span></a>    cmyk2hsl: cmyk2hsl,
<a name="l763"><span class="linenum"> 763</span></a>    cmyk2hsv: cmyk2hsv,
<a name="l764"><span class="linenum"> 764</span></a>    cmyk2hwb: cmyk2hwb,
<a name="l765"><span class="linenum"> 765</span></a>    cmyk2keyword: cmyk2keyword,
<a name="l766"><span class="linenum"> 766</span></a>  
<a name="l767"><span class="linenum"> 767</span></a>    keyword2rgb: keyword2rgb,
<a name="l768"><span class="linenum"> 768</span></a>    keyword2hsl: keyword2hsl,
<a name="l769"><span class="linenum"> 769</span></a>    keyword2hsv: keyword2hsv,
<a name="l770"><span class="linenum"> 770</span></a>    keyword2hwb: keyword2hwb,
<a name="l771"><span class="linenum"> 771</span></a>    keyword2cmyk: keyword2cmyk,
<a name="l772"><span class="linenum"> 772</span></a>    keyword2lab: keyword2lab,
<a name="l773"><span class="linenum"> 773</span></a>    keyword2xyz: keyword2xyz,
<a name="l774"><span class="linenum"> 774</span></a>  
<a name="l775"><span class="linenum"> 775</span></a>    xyz2rgb: xyz2rgb,
<a name="l776"><span class="linenum"> 776</span></a>    xyz2lab: xyz2lab,
<a name="l777"><span class="linenum"> 777</span></a>    xyz2lch: xyz2lch,
<a name="l778"><span class="linenum"> 778</span></a>  
<a name="l779"><span class="linenum"> 779</span></a>    lab2xyz: lab2xyz,
<a name="l780"><span class="linenum"> 780</span></a>    lab2rgb: lab2rgb,
<a name="l781"><span class="linenum"> 781</span></a>    lab2lch: lab2lch,
<a name="l782"><span class="linenum"> 782</span></a>  
<a name="l783"><span class="linenum"> 783</span></a>    lch2lab: lch2lab,
<a name="l784"><span class="linenum"> 784</span></a>    lch2xyz: lch2xyz,
<a name="l785"><span class="linenum"> 785</span></a>    lch2rgb: lch2rgb
<a name="l786"><span class="linenum"> 786</span></a>  }
<a name="l787"><span class="linenum"> 787</span></a>  
<a name="l788"><span class="linenum"> 788</span></a>  
<a name="l789"><span class="linenum"> 789</span></a>  function <a class="function" onClick="logFunction('rgb2hsl')" href="../../../_functions/rgb2hsl.html" onMouseOver="funcPopup(event,'rgb2hsl')">rgb2hsl</a>(rgb) {
<a name="l790"><span class="linenum"> 790</span></a>    var r = rgb[0]/255,
<a name="l791"><span class="linenum"> 791</span></a>        g = rgb[1]/255,
<a name="l792"><span class="linenum"> 792</span></a>        b = rgb[2]/255,
<a name="l793"><span class="linenum"> 793</span></a>        min = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(r, g, b),
<a name="l794"><span class="linenum"> 794</span></a>        max = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(r, g, b),
<a name="l795"><span class="linenum"> 795</span></a>        delta = max - min,
<a name="l796"><span class="linenum"> 796</span></a>        h, s, l;
<a name="l797"><span class="linenum"> 797</span></a>  
<a name="l798"><span class="linenum"> 798</span></a>    if (max == min)
<a name="l799"><span class="linenum"> 799</span></a>      h = 0;
<a name="l800"><span class="linenum"> 800</span></a>    else if (r == max)
<a name="l801"><span class="linenum"> 801</span></a>      h = (g - b) / delta;
<a name="l802"><span class="linenum"> 802</span></a>    else if (g == max)
<a name="l803"><span class="linenum"> 803</span></a>      h = 2 + (b - r) / delta;
<a name="l804"><span class="linenum"> 804</span></a>    else if (b == max)
<a name="l805"><span class="linenum"> 805</span></a>      h = 4 + (r - g)/ delta;
<a name="l806"><span class="linenum"> 806</span></a>  
<a name="l807"><span class="linenum"> 807</span></a>    h = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(h * 60, 360);
<a name="l808"><span class="linenum"> 808</span></a>  
<a name="l809"><span class="linenum"> 809</span></a>    if (h &lt; 0)
<a name="l810"><span class="linenum"> 810</span></a>      h += 360;
<a name="l811"><span class="linenum"> 811</span></a>  
<a name="l812"><span class="linenum"> 812</span></a>    l = (min + max) / 2;
<a name="l813"><span class="linenum"> 813</span></a>  
<a name="l814"><span class="linenum"> 814</span></a>    if (max == min)
<a name="l815"><span class="linenum"> 815</span></a>      s = 0;
<a name="l816"><span class="linenum"> 816</span></a>    else if (l &lt;= 0.5)
<a name="l817"><span class="linenum"> 817</span></a>      s = delta / (max + min);
<a name="l818"><span class="linenum"> 818</span></a>    else
<a name="l819"><span class="linenum"> 819</span></a>      s = delta / (2 - max - min);
<a name="l820"><span class="linenum"> 820</span></a>  
<a name="l821"><span class="linenum"> 821</span></a>    return [h, s * 100, l * 100];
<a name="l822"><span class="linenum"> 822</span></a>  }
<a name="l823"><span class="linenum"> 823</span></a>  
<a name="l824"><span class="linenum"> 824</span></a>  function <a class="function" onClick="logFunction('rgb2hsv')" href="../../../_functions/rgb2hsv.html" onMouseOver="funcPopup(event,'rgb2hsv')">rgb2hsv</a>(rgb) {
<a name="l825"><span class="linenum"> 825</span></a>    var r = rgb[0],
<a name="l826"><span class="linenum"> 826</span></a>        g = rgb[1],
<a name="l827"><span class="linenum"> 827</span></a>        b = rgb[2],
<a name="l828"><span class="linenum"> 828</span></a>        min = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(r, g, b),
<a name="l829"><span class="linenum"> 829</span></a>        max = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(r, g, b),
<a name="l830"><span class="linenum"> 830</span></a>        delta = max - min,
<a name="l831"><span class="linenum"> 831</span></a>        h, s, v;
<a name="l832"><span class="linenum"> 832</span></a>  
<a name="l833"><span class="linenum"> 833</span></a>    if (max == 0)
<a name="l834"><span class="linenum"> 834</span></a>      s = 0;
<a name="l835"><span class="linenum"> 835</span></a>    else
<a name="l836"><span class="linenum"> 836</span></a>      s = (delta/max * 1000)/10;
<a name="l837"><span class="linenum"> 837</span></a>  
<a name="l838"><span class="linenum"> 838</span></a>    if (max == min)
<a name="l839"><span class="linenum"> 839</span></a>      h = 0;
<a name="l840"><span class="linenum"> 840</span></a>    else if (r == max)
<a name="l841"><span class="linenum"> 841</span></a>      h = (g - b) / delta;
<a name="l842"><span class="linenum"> 842</span></a>    else if (g == max)
<a name="l843"><span class="linenum"> 843</span></a>      h = 2 + (b - r) / delta;
<a name="l844"><span class="linenum"> 844</span></a>    else if (b == max)
<a name="l845"><span class="linenum"> 845</span></a>      h = 4 + (r - g) / delta;
<a name="l846"><span class="linenum"> 846</span></a>  
<a name="l847"><span class="linenum"> 847</span></a>    h = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(h * 60, 360);
<a name="l848"><span class="linenum"> 848</span></a>  
<a name="l849"><span class="linenum"> 849</span></a>    if (h &lt; 0)
<a name="l850"><span class="linenum"> 850</span></a>      h += 360;
<a name="l851"><span class="linenum"> 851</span></a>  
<a name="l852"><span class="linenum"> 852</span></a>    v = ((max / 255) * 1000) / 10;
<a name="l853"><span class="linenum"> 853</span></a>  
<a name="l854"><span class="linenum"> 854</span></a>    return [h, s, v];
<a name="l855"><span class="linenum"> 855</span></a>  }
<a name="l856"><span class="linenum"> 856</span></a>  
<a name="l857"><span class="linenum"> 857</span></a>  function <a class="function" onClick="logFunction('rgb2hwb')" href="../../../_functions/rgb2hwb.html" onMouseOver="funcPopup(event,'rgb2hwb')">rgb2hwb</a>(rgb) {
<a name="l858"><span class="linenum"> 858</span></a>    var r = rgb[0],
<a name="l859"><span class="linenum"> 859</span></a>        g = rgb[1],
<a name="l860"><span class="linenum"> 860</span></a>        b = rgb[2],
<a name="l861"><span class="linenum"> 861</span></a>        h = <a class="function" onClick="logFunction('rgb2hsl')" href="../../../_functions/rgb2hsl.html" onMouseOver="funcPopup(event,'rgb2hsl')">rgb2hsl</a>(rgb)[0],
<a name="l862"><span class="linenum"> 862</span></a>        w = 1/255 * Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(r, Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(g, b)),
<a name="l863"><span class="linenum"> 863</span></a>        b = 1 - 1/255 * Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(r, Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(g, b));
<a name="l864"><span class="linenum"> 864</span></a>  
<a name="l865"><span class="linenum"> 865</span></a>    return [h, w * 100, b * 100];
<a name="l866"><span class="linenum"> 866</span></a>  }
<a name="l867"><span class="linenum"> 867</span></a>  
<a name="l868"><span class="linenum"> 868</span></a>  function <a class="function" onClick="logFunction('rgb2cmyk')" href="../../../_functions/rgb2cmyk.html" onMouseOver="funcPopup(event,'rgb2cmyk')">rgb2cmyk</a>(rgb) {
<a name="l869"><span class="linenum"> 869</span></a>    var r = rgb[0] / 255,
<a name="l870"><span class="linenum"> 870</span></a>        g = rgb[1] / 255,
<a name="l871"><span class="linenum"> 871</span></a>        b = rgb[2] / 255,
<a name="l872"><span class="linenum"> 872</span></a>        c, m, y, k;
<a name="l873"><span class="linenum"> 873</span></a>  
<a name="l874"><span class="linenum"> 874</span></a>    k = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(1 - r, 1 - g, 1 - b);
<a name="l875"><span class="linenum"> 875</span></a>    c = (1 - r - k) / (1 - k) || 0;
<a name="l876"><span class="linenum"> 876</span></a>    m = (1 - g - k) / (1 - k) || 0;
<a name="l877"><span class="linenum"> 877</span></a>    y = (1 - b - k) / (1 - k) || 0;
<a name="l878"><span class="linenum"> 878</span></a>    return [c * 100, m * 100, y * 100, k * 100];
<a name="l879"><span class="linenum"> 879</span></a>  }
<a name="l880"><span class="linenum"> 880</span></a>  
<a name="l881"><span class="linenum"> 881</span></a>  function <a class="function" onClick="logFunction('rgb2keyword')" href="../../../_functions/rgb2keyword.html" onMouseOver="funcPopup(event,'rgb2keyword')">rgb2keyword</a>(rgb) {
<a name="l882"><span class="linenum"> 882</span></a>    return reverseKeywords[JSON.stringify(rgb)];
<a name="l883"><span class="linenum"> 883</span></a>  }
<a name="l884"><span class="linenum"> 884</span></a>  
<a name="l885"><span class="linenum"> 885</span></a>  function <a class="function" onClick="logFunction('rgb2xyz')" href="../../../_functions/rgb2xyz.html" onMouseOver="funcPopup(event,'rgb2xyz')">rgb2xyz</a>(rgb) {
<a name="l886"><span class="linenum"> 886</span></a>    var r = rgb[0] / 255,
<a name="l887"><span class="linenum"> 887</span></a>        g = rgb[1] / 255,
<a name="l888"><span class="linenum"> 888</span></a>        b = rgb[2] / 255;
<a name="l889"><span class="linenum"> 889</span></a>  
<a name="l890"><span class="linenum"> 890</span></a>  <span class="comment">  // assume sRGB</span>
<a name="l891"><span class="linenum"> 891</span></a>    r = r &gt; 0.04045 ? Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(((r + 0.055) / 1.055), 2.4) : (r / 12.92);
<a name="l892"><span class="linenum"> 892</span></a>    g = g &gt; 0.04045 ? Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(((g + 0.055) / 1.055), 2.4) : (g / 12.92);
<a name="l893"><span class="linenum"> 893</span></a>    b = b &gt; 0.04045 ? Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(((b + 0.055) / 1.055), 2.4) : (b / 12.92);
<a name="l894"><span class="linenum"> 894</span></a>  
<a name="l895"><span class="linenum"> 895</span></a>    var x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);
<a name="l896"><span class="linenum"> 896</span></a>    var y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);
<a name="l897"><span class="linenum"> 897</span></a>    var z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);
<a name="l898"><span class="linenum"> 898</span></a>  
<a name="l899"><span class="linenum"> 899</span></a>    return [x * 100, y *100, z * 100];
<a name="l900"><span class="linenum"> 900</span></a>  }
<a name="l901"><span class="linenum"> 901</span></a>  
<a name="l902"><span class="linenum"> 902</span></a>  function <a class="function" onClick="logFunction('rgb2lab')" href="../../../_functions/rgb2lab.html" onMouseOver="funcPopup(event,'rgb2lab')">rgb2lab</a>(rgb) {
<a name="l903"><span class="linenum"> 903</span></a>    var xyz = <a class="function" onClick="logFunction('rgb2xyz')" href="../../../_functions/rgb2xyz.html" onMouseOver="funcPopup(event,'rgb2xyz')">rgb2xyz</a>(rgb),
<a name="l904"><span class="linenum"> 904</span></a>          x = xyz[0],
<a name="l905"><span class="linenum"> 905</span></a>          y = xyz[1],
<a name="l906"><span class="linenum"> 906</span></a>          z = xyz[2],
<a name="l907"><span class="linenum"> 907</span></a>          l, a, b;
<a name="l908"><span class="linenum"> 908</span></a>  
<a name="l909"><span class="linenum"> 909</span></a>    x /= 95.047;
<a name="l910"><span class="linenum"> 910</span></a>    y /= 100;
<a name="l911"><span class="linenum"> 911</span></a>    z /= 108.883;
<a name="l912"><span class="linenum"> 912</span></a>  
<a name="l913"><span class="linenum"> 913</span></a>    x = x &gt; 0.008856 ? Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(x, 1/3) : (7.787 * x) + (16 / 116);
<a name="l914"><span class="linenum"> 914</span></a>    y = y &gt; 0.008856 ? Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(y, 1/3) : (7.787 * y) + (16 / 116);
<a name="l915"><span class="linenum"> 915</span></a>    z = z &gt; 0.008856 ? Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(z, 1/3) : (7.787 * z) + (16 / 116);
<a name="l916"><span class="linenum"> 916</span></a>  
<a name="l917"><span class="linenum"> 917</span></a>    l = (116 * y) - 16;
<a name="l918"><span class="linenum"> 918</span></a>    a = 500 * (x - y);
<a name="l919"><span class="linenum"> 919</span></a>    b = 200 * (y - z);
<a name="l920"><span class="linenum"> 920</span></a>  
<a name="l921"><span class="linenum"> 921</span></a>    return [l, a, b];
<a name="l922"><span class="linenum"> 922</span></a>  }
<a name="l923"><span class="linenum"> 923</span></a>  
<a name="l924"><span class="linenum"> 924</span></a>  function <a class="function" onClick="logFunction('rgb2lch')" href="../../../_functions/rgb2lch.html" onMouseOver="funcPopup(event,'rgb2lch')">rgb2lch</a>(args) {
<a name="l925"><span class="linenum"> 925</span></a>    return <a class="function" onClick="logFunction('lab2lch')" href="../../../_functions/lab2lch.html" onMouseOver="funcPopup(event,'lab2lch')">lab2lch</a>(<a class="function" onClick="logFunction('rgb2lab')" href="../../../_functions/rgb2lab.html" onMouseOver="funcPopup(event,'rgb2lab')">rgb2lab</a>(args));
<a name="l926"><span class="linenum"> 926</span></a>  }
<a name="l927"><span class="linenum"> 927</span></a>  
<a name="l928"><span class="linenum"> 928</span></a>  function <a class="function" onClick="logFunction('hsl2rgb')" href="../../../_functions/hsl2rgb.html" onMouseOver="funcPopup(event,'hsl2rgb')">hsl2rgb</a>(hsl) {
<a name="l929"><span class="linenum"> 929</span></a>    var h = hsl[0] / 360,
<a name="l930"><span class="linenum"> 930</span></a>        s = hsl[1] / 100,
<a name="l931"><span class="linenum"> 931</span></a>        l = hsl[2] / 100,
<a name="l932"><span class="linenum"> 932</span></a>        t1, t2, t3, rgb, val;
<a name="l933"><span class="linenum"> 933</span></a>  
<a name="l934"><span class="linenum"> 934</span></a>    if (s == 0) {
<a name="l935"><span class="linenum"> 935</span></a>      val = l * 255;
<a name="l936"><span class="linenum"> 936</span></a>      return [val, val, val];
<a name="l937"><span class="linenum"> 937</span></a>    }
<a name="l938"><span class="linenum"> 938</span></a>  
<a name="l939"><span class="linenum"> 939</span></a>    if (l &lt; 0.5)
<a name="l940"><span class="linenum"> 940</span></a>      t2 = l * (1 + s);
<a name="l941"><span class="linenum"> 941</span></a>    else
<a name="l942"><span class="linenum"> 942</span></a>      t2 = l + s - l * s;
<a name="l943"><span class="linenum"> 943</span></a>    t1 = 2 * l - t2;
<a name="l944"><span class="linenum"> 944</span></a>  
<a name="l945"><span class="linenum"> 945</span></a>    rgb = [0, 0, 0];
<a name="l946"><span class="linenum"> 946</span></a>    for (var i = 0; i &lt; 3; i++) {
<a name="l947"><span class="linenum"> 947</span></a>      t3 = h + 1 / 3 * - (i - 1);
<a name="l948"><span class="linenum"> 948</span></a>      t3 &lt; 0 &amp;&amp; t3++;
<a name="l949"><span class="linenum"> 949</span></a>      t3 &gt; 1 &amp;&amp; t3--;
<a name="l950"><span class="linenum"> 950</span></a>  
<a name="l951"><span class="linenum"> 951</span></a>      if (6 * t3 &lt; 1)
<a name="l952"><span class="linenum"> 952</span></a>        val = t1 + (t2 - t1) * 6 * t3;
<a name="l953"><span class="linenum"> 953</span></a>      else if (2 * t3 &lt; 1)
<a name="l954"><span class="linenum"> 954</span></a>        val = t2;
<a name="l955"><span class="linenum"> 955</span></a>      else if (3 * t3 &lt; 2)
<a name="l956"><span class="linenum"> 956</span></a>        val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;
<a name="l957"><span class="linenum"> 957</span></a>      else
<a name="l958"><span class="linenum"> 958</span></a>        val = t1;
<a name="l959"><span class="linenum"> 959</span></a>  
<a name="l960"><span class="linenum"> 960</span></a>      rgb[i] = val * 255;
<a name="l961"><span class="linenum"> 961</span></a>    }
<a name="l962"><span class="linenum"> 962</span></a>  
<a name="l963"><span class="linenum"> 963</span></a>    return rgb;
<a name="l964"><span class="linenum"> 964</span></a>  }
<a name="l965"><span class="linenum"> 965</span></a>  
<a name="l966"><span class="linenum"> 966</span></a>  function <a class="function" onClick="logFunction('hsl2hsv')" href="../../../_functions/hsl2hsv.html" onMouseOver="funcPopup(event,'hsl2hsv')">hsl2hsv</a>(hsl) {
<a name="l967"><span class="linenum"> 967</span></a>    var h = hsl[0],
<a name="l968"><span class="linenum"> 968</span></a>        s = hsl[1] / 100,
<a name="l969"><span class="linenum"> 969</span></a>        l = hsl[2] / 100,
<a name="l970"><span class="linenum"> 970</span></a>        sv, v;
<a name="l971"><span class="linenum"> 971</span></a>  
<a name="l972"><span class="linenum"> 972</span></a>    if(l === 0) {
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">      // no need to do calc on black</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment">      // also avoids divide by 0 error</span>
<a name="l975"><span class="linenum"> 975</span></a>        return [0, 0, 0];
<a name="l976"><span class="linenum"> 976</span></a>    }
<a name="l977"><span class="linenum"> 977</span></a>  
<a name="l978"><span class="linenum"> 978</span></a>    l *= 2;
<a name="l979"><span class="linenum"> 979</span></a>    s *= (l &lt;= 1) ? l : 2 - l;
<a name="l980"><span class="linenum"> 980</span></a>    v = (l + s) / 2;
<a name="l981"><span class="linenum"> 981</span></a>    sv = (2 * s) / (l + s);
<a name="l982"><span class="linenum"> 982</span></a>    return [h, sv * 100, v * 100];
<a name="l983"><span class="linenum"> 983</span></a>  }
<a name="l984"><span class="linenum"> 984</span></a>  
<a name="l985"><span class="linenum"> 985</span></a>  function <a class="function" onClick="logFunction('hsl2hwb')" href="../../../_functions/hsl2hwb.html" onMouseOver="funcPopup(event,'hsl2hwb')">hsl2hwb</a>(args) {
<a name="l986"><span class="linenum"> 986</span></a>    return <a class="function" onClick="logFunction('rgb2hwb')" href="../../../_functions/rgb2hwb.html" onMouseOver="funcPopup(event,'rgb2hwb')">rgb2hwb</a>(<a class="function" onClick="logFunction('hsl2rgb')" href="../../../_functions/hsl2rgb.html" onMouseOver="funcPopup(event,'hsl2rgb')">hsl2rgb</a>(args));
<a name="l987"><span class="linenum"> 987</span></a>  }
<a name="l988"><span class="linenum"> 988</span></a>  
<a name="l989"><span class="linenum"> 989</span></a>  function <a class="function" onClick="logFunction('hsl2cmyk')" href="../../../_functions/hsl2cmyk.html" onMouseOver="funcPopup(event,'hsl2cmyk')">hsl2cmyk</a>(args) {
<a name="l990"><span class="linenum"> 990</span></a>    return <a class="function" onClick="logFunction('rgb2cmyk')" href="../../../_functions/rgb2cmyk.html" onMouseOver="funcPopup(event,'rgb2cmyk')">rgb2cmyk</a>(<a class="function" onClick="logFunction('hsl2rgb')" href="../../../_functions/hsl2rgb.html" onMouseOver="funcPopup(event,'hsl2rgb')">hsl2rgb</a>(args));
<a name="l991"><span class="linenum"> 991</span></a>  }
<a name="l992"><span class="linenum"> 992</span></a>  
<a name="l993"><span class="linenum"> 993</span></a>  function <a class="function" onClick="logFunction('hsl2keyword')" href="../../../_functions/hsl2keyword.html" onMouseOver="funcPopup(event,'hsl2keyword')">hsl2keyword</a>(args) {
<a name="l994"><span class="linenum"> 994</span></a>    return <a class="function" onClick="logFunction('rgb2keyword')" href="../../../_functions/rgb2keyword.html" onMouseOver="funcPopup(event,'rgb2keyword')">rgb2keyword</a>(<a class="function" onClick="logFunction('hsl2rgb')" href="../../../_functions/hsl2rgb.html" onMouseOver="funcPopup(event,'hsl2rgb')">hsl2rgb</a>(args));
<a name="l995"><span class="linenum"> 995</span></a>  }
<a name="l996"><span class="linenum"> 996</span></a>  
<a name="l997"><span class="linenum"> 997</span></a>  
<a name="l998"><span class="linenum"> 998</span></a>  function <a class="function" onClick="logFunction('hsv2rgb')" href="../../../_functions/hsv2rgb.html" onMouseOver="funcPopup(event,'hsv2rgb')">hsv2rgb</a>(hsv) {
<a name="l999"><span class="linenum"> 999</span></a>    var h = hsv[0] / 60,
<a name="l1000"><span class="linenum">1000</span></a>        s = hsv[1] / 100,
<a name="l1001"><span class="linenum">1001</span></a>        v = hsv[2] / 100,
<a name="l1002"><span class="linenum">1002</span></a>        hi = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(h) % 6;
<a name="l1003"><span class="linenum">1003</span></a>  
<a name="l1004"><span class="linenum">1004</span></a>    var f = h - Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(h),
<a name="l1005"><span class="linenum">1005</span></a>        p = 255 * v * (1 - s),
<a name="l1006"><span class="linenum">1006</span></a>        q = 255 * v * (1 - (s * f)),
<a name="l1007"><span class="linenum">1007</span></a>        t = 255 * v * (1 - (s * (1 - f))),
<a name="l1008"><span class="linenum">1008</span></a>        v = 255 * v;
<a name="l1009"><span class="linenum">1009</span></a>  
<a name="l1010"><span class="linenum">1010</span></a>    switch(hi) {
<a name="l1011"><span class="linenum">1011</span></a>      case 0:
<a name="l1012"><span class="linenum">1012</span></a>        return [v, t, p];
<a name="l1013"><span class="linenum">1013</span></a>      case 1:
<a name="l1014"><span class="linenum">1014</span></a>        return [q, v, p];
<a name="l1015"><span class="linenum">1015</span></a>      case 2:
<a name="l1016"><span class="linenum">1016</span></a>        return [p, v, t];
<a name="l1017"><span class="linenum">1017</span></a>      case 3:
<a name="l1018"><span class="linenum">1018</span></a>        return [p, q, v];
<a name="l1019"><span class="linenum">1019</span></a>      case 4:
<a name="l1020"><span class="linenum">1020</span></a>        return [t, p, v];
<a name="l1021"><span class="linenum">1021</span></a>      case 5:
<a name="l1022"><span class="linenum">1022</span></a>        return [v, p, q];
<a name="l1023"><span class="linenum">1023</span></a>    }
<a name="l1024"><span class="linenum">1024</span></a>  }
<a name="l1025"><span class="linenum">1025</span></a>  
<a name="l1026"><span class="linenum">1026</span></a>  function <a class="function" onClick="logFunction('hsv2hsl')" href="../../../_functions/hsv2hsl.html" onMouseOver="funcPopup(event,'hsv2hsl')">hsv2hsl</a>(hsv) {
<a name="l1027"><span class="linenum">1027</span></a>    var h = hsv[0],
<a name="l1028"><span class="linenum">1028</span></a>        s = hsv[1] / 100,
<a name="l1029"><span class="linenum">1029</span></a>        v = hsv[2] / 100,
<a name="l1030"><span class="linenum">1030</span></a>        sl, l;
<a name="l1031"><span class="linenum">1031</span></a>  
<a name="l1032"><span class="linenum">1032</span></a>    l = (2 - s) * v;
<a name="l1033"><span class="linenum">1033</span></a>    sl = s * v;
<a name="l1034"><span class="linenum">1034</span></a>    sl /= (l &lt;= 1) ? l : 2 - l;
<a name="l1035"><span class="linenum">1035</span></a>    sl = sl || 0;
<a name="l1036"><span class="linenum">1036</span></a>    l /= 2;
<a name="l1037"><span class="linenum">1037</span></a>    return [h, sl * 100, l * 100];
<a name="l1038"><span class="linenum">1038</span></a>  }
<a name="l1039"><span class="linenum">1039</span></a>  
<a name="l1040"><span class="linenum">1040</span></a>  function <a class="function" onClick="logFunction('hsv2hwb')" href="../../../_functions/hsv2hwb.html" onMouseOver="funcPopup(event,'hsv2hwb')">hsv2hwb</a>(args) {
<a name="l1041"><span class="linenum">1041</span></a>    return <a class="function" onClick="logFunction('rgb2hwb')" href="../../../_functions/rgb2hwb.html" onMouseOver="funcPopup(event,'rgb2hwb')">rgb2hwb</a>(<a class="function" onClick="logFunction('hsv2rgb')" href="../../../_functions/hsv2rgb.html" onMouseOver="funcPopup(event,'hsv2rgb')">hsv2rgb</a>(args))
<a name="l1042"><span class="linenum">1042</span></a>  }
<a name="l1043"><span class="linenum">1043</span></a>  
<a name="l1044"><span class="linenum">1044</span></a>  function <a class="function" onClick="logFunction('hsv2cmyk')" href="../../../_functions/hsv2cmyk.html" onMouseOver="funcPopup(event,'hsv2cmyk')">hsv2cmyk</a>(args) {
<a name="l1045"><span class="linenum">1045</span></a>    return <a class="function" onClick="logFunction('rgb2cmyk')" href="../../../_functions/rgb2cmyk.html" onMouseOver="funcPopup(event,'rgb2cmyk')">rgb2cmyk</a>(<a class="function" onClick="logFunction('hsv2rgb')" href="../../../_functions/hsv2rgb.html" onMouseOver="funcPopup(event,'hsv2rgb')">hsv2rgb</a>(args));
<a name="l1046"><span class="linenum">1046</span></a>  }
<a name="l1047"><span class="linenum">1047</span></a>  
<a name="l1048"><span class="linenum">1048</span></a>  function <a class="function" onClick="logFunction('hsv2keyword')" href="../../../_functions/hsv2keyword.html" onMouseOver="funcPopup(event,'hsv2keyword')">hsv2keyword</a>(args) {
<a name="l1049"><span class="linenum">1049</span></a>    return <a class="function" onClick="logFunction('rgb2keyword')" href="../../../_functions/rgb2keyword.html" onMouseOver="funcPopup(event,'rgb2keyword')">rgb2keyword</a>(<a class="function" onClick="logFunction('hsv2rgb')" href="../../../_functions/hsv2rgb.html" onMouseOver="funcPopup(event,'hsv2rgb')">hsv2rgb</a>(args));
<a name="l1050"><span class="linenum">1050</span></a>  }
<a name="l1051"><span class="linenum">1051</span></a>  
<a name="l1052"><span class="linenum">1052</span></a>  <span class="comment">// http://dev.w3.org/csswg/css-color/#hwb-to-rgb</span>
<a name="l1053"><span class="linenum">1053</span></a>  function <a class="function" onClick="logFunction('hwb2rgb')" href="../../../_functions/hwb2rgb.html" onMouseOver="funcPopup(event,'hwb2rgb')">hwb2rgb</a>(hwb) {
<a name="l1054"><span class="linenum">1054</span></a>    var h = hwb[0] / 360,
<a name="l1055"><span class="linenum">1055</span></a>        wh = hwb[1] / 100,
<a name="l1056"><span class="linenum">1056</span></a>        bl = hwb[2] / 100,
<a name="l1057"><span class="linenum">1057</span></a>        ratio = wh + bl,
<a name="l1058"><span class="linenum">1058</span></a>        i, v, f, n;
<a name="l1059"><span class="linenum">1059</span></a>  
<a name="l1060"><span class="linenum">1060</span></a>  <span class="comment">  // wh + bl cant be &gt; 1</span>
<a name="l1061"><span class="linenum">1061</span></a>    if (ratio &gt; 1) {
<a name="l1062"><span class="linenum">1062</span></a>      wh /= ratio;
<a name="l1063"><span class="linenum">1063</span></a>      bl /= ratio;
<a name="l1064"><span class="linenum">1064</span></a>    }
<a name="l1065"><span class="linenum">1065</span></a>  
<a name="l1066"><span class="linenum">1066</span></a>    i = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(6 * h);
<a name="l1067"><span class="linenum">1067</span></a>    v = 1 - bl;
<a name="l1068"><span class="linenum">1068</span></a>    f = 6 * h - i;
<a name="l1069"><span class="linenum">1069</span></a>    if ((i &amp; 0x01) != 0) {
<a name="l1070"><span class="linenum">1070</span></a>      f = 1 - f;
<a name="l1071"><span class="linenum">1071</span></a>    }
<a name="l1072"><span class="linenum">1072</span></a>    n = wh + f * (v - wh);  <span class="comment">// linear interpolation</span>
<a name="l1073"><span class="linenum">1073</span></a>  
<a name="l1074"><span class="linenum">1074</span></a>    switch (i) {
<a name="l1075"><span class="linenum">1075</span></a>      default:
<a name="l1076"><span class="linenum">1076</span></a>      case 6:
<a name="l1077"><span class="linenum">1077</span></a>      case 0: r = v; g = n; b = wh; break;
<a name="l1078"><span class="linenum">1078</span></a>      case 1: r = n; g = v; b = wh; break;
<a name="l1079"><span class="linenum">1079</span></a>      case 2: r = wh; g = v; b = n; break;
<a name="l1080"><span class="linenum">1080</span></a>      case 3: r = wh; g = n; b = v; break;
<a name="l1081"><span class="linenum">1081</span></a>      case 4: r = n; g = wh; b = v; break;
<a name="l1082"><span class="linenum">1082</span></a>      case 5: r = v; g = wh; b = n; break;
<a name="l1083"><span class="linenum">1083</span></a>    }
<a name="l1084"><span class="linenum">1084</span></a>  
<a name="l1085"><span class="linenum">1085</span></a>    return [r * 255, g * 255, b * 255];
<a name="l1086"><span class="linenum">1086</span></a>  }
<a name="l1087"><span class="linenum">1087</span></a>  
<a name="l1088"><span class="linenum">1088</span></a>  function <a class="function" onClick="logFunction('hwb2hsl')" href="../../../_functions/hwb2hsl.html" onMouseOver="funcPopup(event,'hwb2hsl')">hwb2hsl</a>(args) {
<a name="l1089"><span class="linenum">1089</span></a>    return <a class="function" onClick="logFunction('rgb2hsl')" href="../../../_functions/rgb2hsl.html" onMouseOver="funcPopup(event,'rgb2hsl')">rgb2hsl</a>(<a class="function" onClick="logFunction('hwb2rgb')" href="../../../_functions/hwb2rgb.html" onMouseOver="funcPopup(event,'hwb2rgb')">hwb2rgb</a>(args));
<a name="l1090"><span class="linenum">1090</span></a>  }
<a name="l1091"><span class="linenum">1091</span></a>  
<a name="l1092"><span class="linenum">1092</span></a>  function <a class="function" onClick="logFunction('hwb2hsv')" href="../../../_functions/hwb2hsv.html" onMouseOver="funcPopup(event,'hwb2hsv')">hwb2hsv</a>(args) {
<a name="l1093"><span class="linenum">1093</span></a>    return <a class="function" onClick="logFunction('rgb2hsv')" href="../../../_functions/rgb2hsv.html" onMouseOver="funcPopup(event,'rgb2hsv')">rgb2hsv</a>(<a class="function" onClick="logFunction('hwb2rgb')" href="../../../_functions/hwb2rgb.html" onMouseOver="funcPopup(event,'hwb2rgb')">hwb2rgb</a>(args));
<a name="l1094"><span class="linenum">1094</span></a>  }
<a name="l1095"><span class="linenum">1095</span></a>  
<a name="l1096"><span class="linenum">1096</span></a>  function <a class="function" onClick="logFunction('hwb2cmyk')" href="../../../_functions/hwb2cmyk.html" onMouseOver="funcPopup(event,'hwb2cmyk')">hwb2cmyk</a>(args) {
<a name="l1097"><span class="linenum">1097</span></a>    return <a class="function" onClick="logFunction('rgb2cmyk')" href="../../../_functions/rgb2cmyk.html" onMouseOver="funcPopup(event,'rgb2cmyk')">rgb2cmyk</a>(<a class="function" onClick="logFunction('hwb2rgb')" href="../../../_functions/hwb2rgb.html" onMouseOver="funcPopup(event,'hwb2rgb')">hwb2rgb</a>(args));
<a name="l1098"><span class="linenum">1098</span></a>  }
<a name="l1099"><span class="linenum">1099</span></a>  
<a name="l1100"><span class="linenum">1100</span></a>  function <a class="function" onClick="logFunction('hwb2keyword')" href="../../../_functions/hwb2keyword.html" onMouseOver="funcPopup(event,'hwb2keyword')">hwb2keyword</a>(args) {
<a name="l1101"><span class="linenum">1101</span></a>    return <a class="function" onClick="logFunction('rgb2keyword')" href="../../../_functions/rgb2keyword.html" onMouseOver="funcPopup(event,'rgb2keyword')">rgb2keyword</a>(<a class="function" onClick="logFunction('hwb2rgb')" href="../../../_functions/hwb2rgb.html" onMouseOver="funcPopup(event,'hwb2rgb')">hwb2rgb</a>(args));
<a name="l1102"><span class="linenum">1102</span></a>  }
<a name="l1103"><span class="linenum">1103</span></a>  
<a name="l1104"><span class="linenum">1104</span></a>  function <a class="function" onClick="logFunction('cmyk2rgb')" href="../../../_functions/cmyk2rgb.html" onMouseOver="funcPopup(event,'cmyk2rgb')">cmyk2rgb</a>(cmyk) {
<a name="l1105"><span class="linenum">1105</span></a>    var c = cmyk[0] / 100,
<a name="l1106"><span class="linenum">1106</span></a>        m = cmyk[1] / 100,
<a name="l1107"><span class="linenum">1107</span></a>        y = cmyk[2] / 100,
<a name="l1108"><span class="linenum">1108</span></a>        k = cmyk[3] / 100,
<a name="l1109"><span class="linenum">1109</span></a>        r, g, b;
<a name="l1110"><span class="linenum">1110</span></a>  
<a name="l1111"><span class="linenum">1111</span></a>    r = 1 - Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(1, c * (1 - k) + k);
<a name="l1112"><span class="linenum">1112</span></a>    g = 1 - Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(1, m * (1 - k) + k);
<a name="l1113"><span class="linenum">1113</span></a>    b = 1 - Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(1, y * (1 - k) + k);
<a name="l1114"><span class="linenum">1114</span></a>    return [r * 255, g * 255, b * 255];
<a name="l1115"><span class="linenum">1115</span></a>  }
<a name="l1116"><span class="linenum">1116</span></a>  
<a name="l1117"><span class="linenum">1117</span></a>  function <a class="function" onClick="logFunction('cmyk2hsl')" href="../../../_functions/cmyk2hsl.html" onMouseOver="funcPopup(event,'cmyk2hsl')">cmyk2hsl</a>(args) {
<a name="l1118"><span class="linenum">1118</span></a>    return <a class="function" onClick="logFunction('rgb2hsl')" href="../../../_functions/rgb2hsl.html" onMouseOver="funcPopup(event,'rgb2hsl')">rgb2hsl</a>(<a class="function" onClick="logFunction('cmyk2rgb')" href="../../../_functions/cmyk2rgb.html" onMouseOver="funcPopup(event,'cmyk2rgb')">cmyk2rgb</a>(args));
<a name="l1119"><span class="linenum">1119</span></a>  }
<a name="l1120"><span class="linenum">1120</span></a>  
<a name="l1121"><span class="linenum">1121</span></a>  function <a class="function" onClick="logFunction('cmyk2hsv')" href="../../../_functions/cmyk2hsv.html" onMouseOver="funcPopup(event,'cmyk2hsv')">cmyk2hsv</a>(args) {
<a name="l1122"><span class="linenum">1122</span></a>    return <a class="function" onClick="logFunction('rgb2hsv')" href="../../../_functions/rgb2hsv.html" onMouseOver="funcPopup(event,'rgb2hsv')">rgb2hsv</a>(<a class="function" onClick="logFunction('cmyk2rgb')" href="../../../_functions/cmyk2rgb.html" onMouseOver="funcPopup(event,'cmyk2rgb')">cmyk2rgb</a>(args));
<a name="l1123"><span class="linenum">1123</span></a>  }
<a name="l1124"><span class="linenum">1124</span></a>  
<a name="l1125"><span class="linenum">1125</span></a>  function <a class="function" onClick="logFunction('cmyk2hwb')" href="../../../_functions/cmyk2hwb.html" onMouseOver="funcPopup(event,'cmyk2hwb')">cmyk2hwb</a>(args) {
<a name="l1126"><span class="linenum">1126</span></a>    return <a class="function" onClick="logFunction('rgb2hwb')" href="../../../_functions/rgb2hwb.html" onMouseOver="funcPopup(event,'rgb2hwb')">rgb2hwb</a>(<a class="function" onClick="logFunction('cmyk2rgb')" href="../../../_functions/cmyk2rgb.html" onMouseOver="funcPopup(event,'cmyk2rgb')">cmyk2rgb</a>(args));
<a name="l1127"><span class="linenum">1127</span></a>  }
<a name="l1128"><span class="linenum">1128</span></a>  
<a name="l1129"><span class="linenum">1129</span></a>  function <a class="function" onClick="logFunction('cmyk2keyword')" href="../../../_functions/cmyk2keyword.html" onMouseOver="funcPopup(event,'cmyk2keyword')">cmyk2keyword</a>(args) {
<a name="l1130"><span class="linenum">1130</span></a>    return <a class="function" onClick="logFunction('rgb2keyword')" href="../../../_functions/rgb2keyword.html" onMouseOver="funcPopup(event,'rgb2keyword')">rgb2keyword</a>(<a class="function" onClick="logFunction('cmyk2rgb')" href="../../../_functions/cmyk2rgb.html" onMouseOver="funcPopup(event,'cmyk2rgb')">cmyk2rgb</a>(args));
<a name="l1131"><span class="linenum">1131</span></a>  }
<a name="l1132"><span class="linenum">1132</span></a>  
<a name="l1133"><span class="linenum">1133</span></a>  
<a name="l1134"><span class="linenum">1134</span></a>  function <a class="function" onClick="logFunction('xyz2rgb')" href="../../../_functions/xyz2rgb.html" onMouseOver="funcPopup(event,'xyz2rgb')">xyz2rgb</a>(xyz) {
<a name="l1135"><span class="linenum">1135</span></a>    var x = xyz[0] / 100,
<a name="l1136"><span class="linenum">1136</span></a>        y = xyz[1] / 100,
<a name="l1137"><span class="linenum">1137</span></a>        z = xyz[2] / 100,
<a name="l1138"><span class="linenum">1138</span></a>        r, g, b;
<a name="l1139"><span class="linenum">1139</span></a>  
<a name="l1140"><span class="linenum">1140</span></a>    r = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);
<a name="l1141"><span class="linenum">1141</span></a>    g = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);
<a name="l1142"><span class="linenum">1142</span></a>    b = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);
<a name="l1143"><span class="linenum">1143</span></a>  
<a name="l1144"><span class="linenum">1144</span></a>  <span class="comment">  // assume sRGB</span>
<a name="l1145"><span class="linenum">1145</span></a>    r = r &gt; 0.0031308 ? ((1.055 * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(r, 1.0 / 2.4)) - 0.055)
<a name="l1146"><span class="linenum">1146</span></a>      : r = (r * 12.92);
<a name="l1147"><span class="linenum">1147</span></a>  
<a name="l1148"><span class="linenum">1148</span></a>    g = g &gt; 0.0031308 ? ((1.055 * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(g, 1.0 / 2.4)) - 0.055)
<a name="l1149"><span class="linenum">1149</span></a>      : g = (g * 12.92);
<a name="l1150"><span class="linenum">1150</span></a>  
<a name="l1151"><span class="linenum">1151</span></a>    b = b &gt; 0.0031308 ? ((1.055 * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(b, 1.0 / 2.4)) - 0.055)
<a name="l1152"><span class="linenum">1152</span></a>      : b = (b * 12.92);
<a name="l1153"><span class="linenum">1153</span></a>  
<a name="l1154"><span class="linenum">1154</span></a>    r = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(0, r), 1);
<a name="l1155"><span class="linenum">1155</span></a>    g = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(0, g), 1);
<a name="l1156"><span class="linenum">1156</span></a>    b = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(0, b), 1);
<a name="l1157"><span class="linenum">1157</span></a>  
<a name="l1158"><span class="linenum">1158</span></a>    return [r * 255, g * 255, b * 255];
<a name="l1159"><span class="linenum">1159</span></a>  }
<a name="l1160"><span class="linenum">1160</span></a>  
<a name="l1161"><span class="linenum">1161</span></a>  function <a class="function" onClick="logFunction('xyz2lab')" href="../../../_functions/xyz2lab.html" onMouseOver="funcPopup(event,'xyz2lab')">xyz2lab</a>(xyz) {
<a name="l1162"><span class="linenum">1162</span></a>    var x = xyz[0],
<a name="l1163"><span class="linenum">1163</span></a>        y = xyz[1],
<a name="l1164"><span class="linenum">1164</span></a>        z = xyz[2],
<a name="l1165"><span class="linenum">1165</span></a>        l, a, b;
<a name="l1166"><span class="linenum">1166</span></a>  
<a name="l1167"><span class="linenum">1167</span></a>    x /= 95.047;
<a name="l1168"><span class="linenum">1168</span></a>    y /= 100;
<a name="l1169"><span class="linenum">1169</span></a>    z /= 108.883;
<a name="l1170"><span class="linenum">1170</span></a>  
<a name="l1171"><span class="linenum">1171</span></a>    x = x &gt; 0.008856 ? Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(x, 1/3) : (7.787 * x) + (16 / 116);
<a name="l1172"><span class="linenum">1172</span></a>    y = y &gt; 0.008856 ? Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(y, 1/3) : (7.787 * y) + (16 / 116);
<a name="l1173"><span class="linenum">1173</span></a>    z = z &gt; 0.008856 ? Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(z, 1/3) : (7.787 * z) + (16 / 116);
<a name="l1174"><span class="linenum">1174</span></a>  
<a name="l1175"><span class="linenum">1175</span></a>    l = (116 * y) - 16;
<a name="l1176"><span class="linenum">1176</span></a>    a = 500 * (x - y);
<a name="l1177"><span class="linenum">1177</span></a>    b = 200 * (y - z);
<a name="l1178"><span class="linenum">1178</span></a>  
<a name="l1179"><span class="linenum">1179</span></a>    return [l, a, b];
<a name="l1180"><span class="linenum">1180</span></a>  }
<a name="l1181"><span class="linenum">1181</span></a>  
<a name="l1182"><span class="linenum">1182</span></a>  function <a class="function" onClick="logFunction('xyz2lch')" href="../../../_functions/xyz2lch.html" onMouseOver="funcPopup(event,'xyz2lch')">xyz2lch</a>(args) {
<a name="l1183"><span class="linenum">1183</span></a>    return <a class="function" onClick="logFunction('lab2lch')" href="../../../_functions/lab2lch.html" onMouseOver="funcPopup(event,'lab2lch')">lab2lch</a>(<a class="function" onClick="logFunction('xyz2lab')" href="../../../_functions/xyz2lab.html" onMouseOver="funcPopup(event,'xyz2lab')">xyz2lab</a>(args));
<a name="l1184"><span class="linenum">1184</span></a>  }
<a name="l1185"><span class="linenum">1185</span></a>  
<a name="l1186"><span class="linenum">1186</span></a>  function <a class="function" onClick="logFunction('lab2xyz')" href="../../../_functions/lab2xyz.html" onMouseOver="funcPopup(event,'lab2xyz')">lab2xyz</a>(lab) {
<a name="l1187"><span class="linenum">1187</span></a>    var l = lab[0],
<a name="l1188"><span class="linenum">1188</span></a>        a = lab[1],
<a name="l1189"><span class="linenum">1189</span></a>        b = lab[2],
<a name="l1190"><span class="linenum">1190</span></a>        x, y, z, y2;
<a name="l1191"><span class="linenum">1191</span></a>  
<a name="l1192"><span class="linenum">1192</span></a>    if (l &lt;= 8) {
<a name="l1193"><span class="linenum">1193</span></a>      y = (l * 100) / 903.3;
<a name="l1194"><span class="linenum">1194</span></a>      y2 = (7.787 * (y / 100)) + (16 / 116);
<a name="l1195"><span class="linenum">1195</span></a>    } else {
<a name="l1196"><span class="linenum">1196</span></a>      y = 100 * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>((l + 16) / 116, 3);
<a name="l1197"><span class="linenum">1197</span></a>      y2 = Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(y / 100, 1/3);
<a name="l1198"><span class="linenum">1198</span></a>    }
<a name="l1199"><span class="linenum">1199</span></a>  
<a name="l1200"><span class="linenum">1200</span></a>    x = x / 95.047 &lt;= 0.008856 ? x = (95.047 * ((a / 500) + y2 - (16 / 116))) / 7.787 : 95.047 * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>((a / 500) + y2, 3);
<a name="l1201"><span class="linenum">1201</span></a>  
<a name="l1202"><span class="linenum">1202</span></a>    z = z / 108.883 &lt;= 0.008859 ? z = (108.883 * (y2 - (b / 200) - (16 / 116))) / 7.787 : 108.883 * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(y2 - (b / 200), 3);
<a name="l1203"><span class="linenum">1203</span></a>  
<a name="l1204"><span class="linenum">1204</span></a>    return [x, y, z];
<a name="l1205"><span class="linenum">1205</span></a>  }
<a name="l1206"><span class="linenum">1206</span></a>  
<a name="l1207"><span class="linenum">1207</span></a>  function <a class="function" onClick="logFunction('lab2lch')" href="../../../_functions/lab2lch.html" onMouseOver="funcPopup(event,'lab2lch')">lab2lch</a>(lab) {
<a name="l1208"><span class="linenum">1208</span></a>    var l = lab[0],
<a name="l1209"><span class="linenum">1209</span></a>        a = lab[1],
<a name="l1210"><span class="linenum">1210</span></a>        b = lab[2],
<a name="l1211"><span class="linenum">1211</span></a>        hr, h, c;
<a name="l1212"><span class="linenum">1212</span></a>  
<a name="l1213"><span class="linenum">1213</span></a>    hr = Math.<a class="phpfunction" onClick="logFunction('atan2')" href="../../../_functions/atan2.html" onMouseOver="phpfuncPopup(event,'atan2')">atan2</a>(b, a);
<a name="l1214"><span class="linenum">1214</span></a>    h = hr * 360 / 2 / Math.PI;
<a name="l1215"><span class="linenum">1215</span></a>    if (h &lt; 0) {
<a name="l1216"><span class="linenum">1216</span></a>      h += 360;
<a name="l1217"><span class="linenum">1217</span></a>    }
<a name="l1218"><span class="linenum">1218</span></a>    c = Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(a * a + b * b);
<a name="l1219"><span class="linenum">1219</span></a>    return [l, c, h];
<a name="l1220"><span class="linenum">1220</span></a>  }
<a name="l1221"><span class="linenum">1221</span></a>  
<a name="l1222"><span class="linenum">1222</span></a>  function <a class="function" onClick="logFunction('lab2rgb')" href="../../../_functions/lab2rgb.html" onMouseOver="funcPopup(event,'lab2rgb')">lab2rgb</a>(args) {
<a name="l1223"><span class="linenum">1223</span></a>    return <a class="function" onClick="logFunction('xyz2rgb')" href="../../../_functions/xyz2rgb.html" onMouseOver="funcPopup(event,'xyz2rgb')">xyz2rgb</a>(<a class="function" onClick="logFunction('lab2xyz')" href="../../../_functions/lab2xyz.html" onMouseOver="funcPopup(event,'lab2xyz')">lab2xyz</a>(args));
<a name="l1224"><span class="linenum">1224</span></a>  }
<a name="l1225"><span class="linenum">1225</span></a>  
<a name="l1226"><span class="linenum">1226</span></a>  function <a class="function" onClick="logFunction('lch2lab')" href="../../../_functions/lch2lab.html" onMouseOver="funcPopup(event,'lch2lab')">lch2lab</a>(lch) {
<a name="l1227"><span class="linenum">1227</span></a>    var l = lch[0],
<a name="l1228"><span class="linenum">1228</span></a>        c = lch[1],
<a name="l1229"><span class="linenum">1229</span></a>        h = lch[2],
<a name="l1230"><span class="linenum">1230</span></a>        a, b, hr;
<a name="l1231"><span class="linenum">1231</span></a>  
<a name="l1232"><span class="linenum">1232</span></a>    hr = h / 360 * 2 * Math.PI;
<a name="l1233"><span class="linenum">1233</span></a>    a = c * Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(hr);
<a name="l1234"><span class="linenum">1234</span></a>    b = c * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(hr);
<a name="l1235"><span class="linenum">1235</span></a>    return [l, a, b];
<a name="l1236"><span class="linenum">1236</span></a>  }
<a name="l1237"><span class="linenum">1237</span></a>  
<a name="l1238"><span class="linenum">1238</span></a>  function <a class="function" onClick="logFunction('lch2xyz')" href="../../../_functions/lch2xyz.html" onMouseOver="funcPopup(event,'lch2xyz')">lch2xyz</a>(args) {
<a name="l1239"><span class="linenum">1239</span></a>    return <a class="function" onClick="logFunction('lab2xyz')" href="../../../_functions/lab2xyz.html" onMouseOver="funcPopup(event,'lab2xyz')">lab2xyz</a>(<a class="function" onClick="logFunction('lch2lab')" href="../../../_functions/lch2lab.html" onMouseOver="funcPopup(event,'lch2lab')">lch2lab</a>(args));
<a name="l1240"><span class="linenum">1240</span></a>  }
<a name="l1241"><span class="linenum">1241</span></a>  
<a name="l1242"><span class="linenum">1242</span></a>  function <a class="function" onClick="logFunction('lch2rgb')" href="../../../_functions/lch2rgb.html" onMouseOver="funcPopup(event,'lch2rgb')">lch2rgb</a>(args) {
<a name="l1243"><span class="linenum">1243</span></a>    return <a class="function" onClick="logFunction('lab2rgb')" href="../../../_functions/lab2rgb.html" onMouseOver="funcPopup(event,'lab2rgb')">lab2rgb</a>(<a class="function" onClick="logFunction('lch2lab')" href="../../../_functions/lch2lab.html" onMouseOver="funcPopup(event,'lch2lab')">lch2lab</a>(args));
<a name="l1244"><span class="linenum">1244</span></a>  }
<a name="l1245"><span class="linenum">1245</span></a>  
<a name="l1246"><span class="linenum">1246</span></a>  function <a class="function" onClick="logFunction('keyword2rgb')" href="../../../_functions/keyword2rgb.html" onMouseOver="funcPopup(event,'keyword2rgb')">keyword2rgb</a>(keyword) {
<a name="l1247"><span class="linenum">1247</span></a>    return cssKeywords[keyword];
<a name="l1248"><span class="linenum">1248</span></a>  }
<a name="l1249"><span class="linenum">1249</span></a>  
<a name="l1250"><span class="linenum">1250</span></a>  function <a class="function" onClick="logFunction('keyword2hsl')" href="../../../_functions/keyword2hsl.html" onMouseOver="funcPopup(event,'keyword2hsl')">keyword2hsl</a>(args) {
<a name="l1251"><span class="linenum">1251</span></a>    return <a class="function" onClick="logFunction('rgb2hsl')" href="../../../_functions/rgb2hsl.html" onMouseOver="funcPopup(event,'rgb2hsl')">rgb2hsl</a>(<a class="function" onClick="logFunction('keyword2rgb')" href="../../../_functions/keyword2rgb.html" onMouseOver="funcPopup(event,'keyword2rgb')">keyword2rgb</a>(args));
<a name="l1252"><span class="linenum">1252</span></a>  }
<a name="l1253"><span class="linenum">1253</span></a>  
<a name="l1254"><span class="linenum">1254</span></a>  function <a class="function" onClick="logFunction('keyword2hsv')" href="../../../_functions/keyword2hsv.html" onMouseOver="funcPopup(event,'keyword2hsv')">keyword2hsv</a>(args) {
<a name="l1255"><span class="linenum">1255</span></a>    return <a class="function" onClick="logFunction('rgb2hsv')" href="../../../_functions/rgb2hsv.html" onMouseOver="funcPopup(event,'rgb2hsv')">rgb2hsv</a>(<a class="function" onClick="logFunction('keyword2rgb')" href="../../../_functions/keyword2rgb.html" onMouseOver="funcPopup(event,'keyword2rgb')">keyword2rgb</a>(args));
<a name="l1256"><span class="linenum">1256</span></a>  }
<a name="l1257"><span class="linenum">1257</span></a>  
<a name="l1258"><span class="linenum">1258</span></a>  function <a class="function" onClick="logFunction('keyword2hwb')" href="../../../_functions/keyword2hwb.html" onMouseOver="funcPopup(event,'keyword2hwb')">keyword2hwb</a>(args) {
<a name="l1259"><span class="linenum">1259</span></a>    return <a class="function" onClick="logFunction('rgb2hwb')" href="../../../_functions/rgb2hwb.html" onMouseOver="funcPopup(event,'rgb2hwb')">rgb2hwb</a>(<a class="function" onClick="logFunction('keyword2rgb')" href="../../../_functions/keyword2rgb.html" onMouseOver="funcPopup(event,'keyword2rgb')">keyword2rgb</a>(args));
<a name="l1260"><span class="linenum">1260</span></a>  }
<a name="l1261"><span class="linenum">1261</span></a>  
<a name="l1262"><span class="linenum">1262</span></a>  function <a class="function" onClick="logFunction('keyword2cmyk')" href="../../../_functions/keyword2cmyk.html" onMouseOver="funcPopup(event,'keyword2cmyk')">keyword2cmyk</a>(args) {
<a name="l1263"><span class="linenum">1263</span></a>    return <a class="function" onClick="logFunction('rgb2cmyk')" href="../../../_functions/rgb2cmyk.html" onMouseOver="funcPopup(event,'rgb2cmyk')">rgb2cmyk</a>(<a class="function" onClick="logFunction('keyword2rgb')" href="../../../_functions/keyword2rgb.html" onMouseOver="funcPopup(event,'keyword2rgb')">keyword2rgb</a>(args));
<a name="l1264"><span class="linenum">1264</span></a>  }
<a name="l1265"><span class="linenum">1265</span></a>  
<a name="l1266"><span class="linenum">1266</span></a>  function <a class="function" onClick="logFunction('keyword2lab')" href="../../../_functions/keyword2lab.html" onMouseOver="funcPopup(event,'keyword2lab')">keyword2lab</a>(args) {
<a name="l1267"><span class="linenum">1267</span></a>    return <a class="function" onClick="logFunction('rgb2lab')" href="../../../_functions/rgb2lab.html" onMouseOver="funcPopup(event,'rgb2lab')">rgb2lab</a>(<a class="function" onClick="logFunction('keyword2rgb')" href="../../../_functions/keyword2rgb.html" onMouseOver="funcPopup(event,'keyword2rgb')">keyword2rgb</a>(args));
<a name="l1268"><span class="linenum">1268</span></a>  }
<a name="l1269"><span class="linenum">1269</span></a>  
<a name="l1270"><span class="linenum">1270</span></a>  function <a class="function" onClick="logFunction('keyword2xyz')" href="../../../_functions/keyword2xyz.html" onMouseOver="funcPopup(event,'keyword2xyz')">keyword2xyz</a>(args) {
<a name="l1271"><span class="linenum">1271</span></a>    return <a class="function" onClick="logFunction('rgb2xyz')" href="../../../_functions/rgb2xyz.html" onMouseOver="funcPopup(event,'rgb2xyz')">rgb2xyz</a>(<a class="function" onClick="logFunction('keyword2rgb')" href="../../../_functions/keyword2rgb.html" onMouseOver="funcPopup(event,'keyword2rgb')">keyword2rgb</a>(args));
<a name="l1272"><span class="linenum">1272</span></a>  }
<a name="l1273"><span class="linenum">1273</span></a>  
<a name="l1274"><span class="linenum">1274</span></a>  var cssKeywords = {
<a name="l1275"><span class="linenum">1275</span></a>    aliceblue:  [240,248,255],
<a name="l1276"><span class="linenum">1276</span></a>    antiquewhite: [250,235,215],
<a name="l1277"><span class="linenum">1277</span></a>    aqua: [0,255,255],
<a name="l1278"><span class="linenum">1278</span></a>    aquamarine: [127,255,212],
<a name="l1279"><span class="linenum">1279</span></a>    azure:  [240,255,255],
<a name="l1280"><span class="linenum">1280</span></a>    beige:  [245,245,220],
<a name="l1281"><span class="linenum">1281</span></a>    bisque: [255,228,196],
<a name="l1282"><span class="linenum">1282</span></a>    black:  [0,0,0],
<a name="l1283"><span class="linenum">1283</span></a>    blanchedalmond: [255,235,205],
<a name="l1284"><span class="linenum">1284</span></a>    blue: [0,0,255],
<a name="l1285"><span class="linenum">1285</span></a>    blueviolet: [138,43,226],
<a name="l1286"><span class="linenum">1286</span></a>    brown:  [165,42,42],
<a name="l1287"><span class="linenum">1287</span></a>    burlywood:  [222,184,135],
<a name="l1288"><span class="linenum">1288</span></a>    cadetblue:  [95,158,160],
<a name="l1289"><span class="linenum">1289</span></a>    chartreuse: [127,255,0],
<a name="l1290"><span class="linenum">1290</span></a>    chocolate:  [210,105,30],
<a name="l1291"><span class="linenum">1291</span></a>    coral:  [255,127,80],
<a name="l1292"><span class="linenum">1292</span></a>    cornflowerblue: [100,149,237],
<a name="l1293"><span class="linenum">1293</span></a>    cornsilk: [255,248,220],
<a name="l1294"><span class="linenum">1294</span></a>    crimson:  [220,20,60],
<a name="l1295"><span class="linenum">1295</span></a>    cyan: [0,255,255],
<a name="l1296"><span class="linenum">1296</span></a>    darkblue: [0,0,139],
<a name="l1297"><span class="linenum">1297</span></a>    darkcyan: [0,139,139],
<a name="l1298"><span class="linenum">1298</span></a>    darkgoldenrod:  [184,134,11],
<a name="l1299"><span class="linenum">1299</span></a>    darkgray: [169,169,169],
<a name="l1300"><span class="linenum">1300</span></a>    darkgreen:  [0,100,0],
<a name="l1301"><span class="linenum">1301</span></a>    darkgrey: [169,169,169],
<a name="l1302"><span class="linenum">1302</span></a>    darkkhaki:  [189,183,107],
<a name="l1303"><span class="linenum">1303</span></a>    darkmagenta:  [139,0,139],
<a name="l1304"><span class="linenum">1304</span></a>    darkolivegreen: [85,107,47],
<a name="l1305"><span class="linenum">1305</span></a>    darkorange: [255,140,0],
<a name="l1306"><span class="linenum">1306</span></a>    darkorchid: [153,50,204],
<a name="l1307"><span class="linenum">1307</span></a>    darkred:  [139,0,0],
<a name="l1308"><span class="linenum">1308</span></a>    darksalmon: [233,150,122],
<a name="l1309"><span class="linenum">1309</span></a>    darkseagreen: [143,188,143],
<a name="l1310"><span class="linenum">1310</span></a>    darkslateblue:  [72,61,139],
<a name="l1311"><span class="linenum">1311</span></a>    darkslategray:  [47,79,79],
<a name="l1312"><span class="linenum">1312</span></a>    darkslategrey:  [47,79,79],
<a name="l1313"><span class="linenum">1313</span></a>    darkturquoise:  [0,206,209],
<a name="l1314"><span class="linenum">1314</span></a>    darkviolet: [148,0,211],
<a name="l1315"><span class="linenum">1315</span></a>    deeppink: [255,20,147],
<a name="l1316"><span class="linenum">1316</span></a>    deepskyblue:  [0,191,255],
<a name="l1317"><span class="linenum">1317</span></a>    dimgray:  [105,105,105],
<a name="l1318"><span class="linenum">1318</span></a>    dimgrey:  [105,105,105],
<a name="l1319"><span class="linenum">1319</span></a>    dodgerblue: [30,144,255],
<a name="l1320"><span class="linenum">1320</span></a>    firebrick:  [178,34,34],
<a name="l1321"><span class="linenum">1321</span></a>    floralwhite:  [255,250,240],
<a name="l1322"><span class="linenum">1322</span></a>    forestgreen:  [34,139,34],
<a name="l1323"><span class="linenum">1323</span></a>    fuchsia:  [255,0,255],
<a name="l1324"><span class="linenum">1324</span></a>    gainsboro:  [220,220,220],
<a name="l1325"><span class="linenum">1325</span></a>    ghostwhite: [248,248,255],
<a name="l1326"><span class="linenum">1326</span></a>    gold: [255,215,0],
<a name="l1327"><span class="linenum">1327</span></a>    goldenrod:  [218,165,32],
<a name="l1328"><span class="linenum">1328</span></a>    gray: [128,128,128],
<a name="l1329"><span class="linenum">1329</span></a>    green:  [0,128,0],
<a name="l1330"><span class="linenum">1330</span></a>    greenyellow:  [173,255,47],
<a name="l1331"><span class="linenum">1331</span></a>    grey: [128,128,128],
<a name="l1332"><span class="linenum">1332</span></a>    honeydew: [240,255,240],
<a name="l1333"><span class="linenum">1333</span></a>    hotpink:  [255,105,180],
<a name="l1334"><span class="linenum">1334</span></a>    indianred:  [205,92,92],
<a name="l1335"><span class="linenum">1335</span></a>    indigo: [75,0,130],
<a name="l1336"><span class="linenum">1336</span></a>    ivory:  [255,255,240],
<a name="l1337"><span class="linenum">1337</span></a>    khaki:  [240,230,140],
<a name="l1338"><span class="linenum">1338</span></a>    lavender: [230,230,250],
<a name="l1339"><span class="linenum">1339</span></a>    lavenderblush:  [255,240,245],
<a name="l1340"><span class="linenum">1340</span></a>    lawngreen:  [124,252,0],
<a name="l1341"><span class="linenum">1341</span></a>    lemonchiffon: [255,250,205],
<a name="l1342"><span class="linenum">1342</span></a>    lightblue:  [173,216,230],
<a name="l1343"><span class="linenum">1343</span></a>    lightcoral: [240,128,128],
<a name="l1344"><span class="linenum">1344</span></a>    lightcyan:  [224,255,255],
<a name="l1345"><span class="linenum">1345</span></a>    lightgoldenrodyellow: [250,250,210],
<a name="l1346"><span class="linenum">1346</span></a>    lightgray:  [211,211,211],
<a name="l1347"><span class="linenum">1347</span></a>    lightgreen: [144,238,144],
<a name="l1348"><span class="linenum">1348</span></a>    lightgrey:  [211,211,211],
<a name="l1349"><span class="linenum">1349</span></a>    lightpink:  [255,182,193],
<a name="l1350"><span class="linenum">1350</span></a>    lightsalmon:  [255,160,122],
<a name="l1351"><span class="linenum">1351</span></a>    lightseagreen:  [32,178,170],
<a name="l1352"><span class="linenum">1352</span></a>    lightskyblue: [135,206,250],
<a name="l1353"><span class="linenum">1353</span></a>    lightslategray: [119,136,153],
<a name="l1354"><span class="linenum">1354</span></a>    lightslategrey: [119,136,153],
<a name="l1355"><span class="linenum">1355</span></a>    lightsteelblue: [176,196,222],
<a name="l1356"><span class="linenum">1356</span></a>    lightyellow:  [255,255,224],
<a name="l1357"><span class="linenum">1357</span></a>    lime: [0,255,0],
<a name="l1358"><span class="linenum">1358</span></a>    limegreen:  [50,205,50],
<a name="l1359"><span class="linenum">1359</span></a>    linen:  [250,240,230],
<a name="l1360"><span class="linenum">1360</span></a>    magenta:  [255,0,255],
<a name="l1361"><span class="linenum">1361</span></a>    maroon: [128,0,0],
<a name="l1362"><span class="linenum">1362</span></a>    mediumaquamarine: [102,205,170],
<a name="l1363"><span class="linenum">1363</span></a>    mediumblue: [0,0,205],
<a name="l1364"><span class="linenum">1364</span></a>    mediumorchid: [186,85,211],
<a name="l1365"><span class="linenum">1365</span></a>    mediumpurple: [147,112,219],
<a name="l1366"><span class="linenum">1366</span></a>    mediumseagreen: [60,179,113],
<a name="l1367"><span class="linenum">1367</span></a>    mediumslateblue:  [123,104,238],
<a name="l1368"><span class="linenum">1368</span></a>    mediumspringgreen:  [0,250,154],
<a name="l1369"><span class="linenum">1369</span></a>    mediumturquoise:  [72,209,204],
<a name="l1370"><span class="linenum">1370</span></a>    mediumvioletred:  [199,21,133],
<a name="l1371"><span class="linenum">1371</span></a>    midnightblue: [25,25,112],
<a name="l1372"><span class="linenum">1372</span></a>    mintcream:  [245,255,250],
<a name="l1373"><span class="linenum">1373</span></a>    mistyrose:  [255,228,225],
<a name="l1374"><span class="linenum">1374</span></a>    moccasin: [255,228,181],
<a name="l1375"><span class="linenum">1375</span></a>    navajowhite:  [255,222,173],
<a name="l1376"><span class="linenum">1376</span></a>    navy: [0,0,128],
<a name="l1377"><span class="linenum">1377</span></a>    oldlace:  [253,245,230],
<a name="l1378"><span class="linenum">1378</span></a>    olive:  [128,128,0],
<a name="l1379"><span class="linenum">1379</span></a>    olivedrab:  [107,142,35],
<a name="l1380"><span class="linenum">1380</span></a>    orange: [255,165,0],
<a name="l1381"><span class="linenum">1381</span></a>    orangered:  [255,69,0],
<a name="l1382"><span class="linenum">1382</span></a>    orchid: [218,112,214],
<a name="l1383"><span class="linenum">1383</span></a>    palegoldenrod:  [238,232,170],
<a name="l1384"><span class="linenum">1384</span></a>    palegreen:  [152,251,152],
<a name="l1385"><span class="linenum">1385</span></a>    paleturquoise:  [175,238,238],
<a name="l1386"><span class="linenum">1386</span></a>    palevioletred:  [219,112,147],
<a name="l1387"><span class="linenum">1387</span></a>    papayawhip: [255,239,213],
<a name="l1388"><span class="linenum">1388</span></a>    peachpuff:  [255,218,185],
<a name="l1389"><span class="linenum">1389</span></a>    peru: [205,133,63],
<a name="l1390"><span class="linenum">1390</span></a>    pink: [255,192,203],
<a name="l1391"><span class="linenum">1391</span></a>    plum: [221,160,221],
<a name="l1392"><span class="linenum">1392</span></a>    powderblue: [176,224,230],
<a name="l1393"><span class="linenum">1393</span></a>    purple: [128,0,128],
<a name="l1394"><span class="linenum">1394</span></a>    rebeccapurple: [102, 51, 153],
<a name="l1395"><span class="linenum">1395</span></a>    red:  [255,0,0],
<a name="l1396"><span class="linenum">1396</span></a>    rosybrown:  [188,143,143],
<a name="l1397"><span class="linenum">1397</span></a>    royalblue:  [65,105,225],
<a name="l1398"><span class="linenum">1398</span></a>    saddlebrown:  [139,69,19],
<a name="l1399"><span class="linenum">1399</span></a>    salmon: [250,128,114],
<a name="l1400"><span class="linenum">1400</span></a>    sandybrown: [244,164,96],
<a name="l1401"><span class="linenum">1401</span></a>    seagreen: [46,139,87],
<a name="l1402"><span class="linenum">1402</span></a>    seashell: [255,245,238],
<a name="l1403"><span class="linenum">1403</span></a>    sienna: [160,82,45],
<a name="l1404"><span class="linenum">1404</span></a>    silver: [192,192,192],
<a name="l1405"><span class="linenum">1405</span></a>    skyblue:  [135,206,235],
<a name="l1406"><span class="linenum">1406</span></a>    slateblue:  [106,90,205],
<a name="l1407"><span class="linenum">1407</span></a>    slategray:  [112,128,144],
<a name="l1408"><span class="linenum">1408</span></a>    slategrey:  [112,128,144],
<a name="l1409"><span class="linenum">1409</span></a>    snow: [255,250,250],
<a name="l1410"><span class="linenum">1410</span></a>    springgreen:  [0,255,127],
<a name="l1411"><span class="linenum">1411</span></a>    steelblue:  [70,130,180],
<a name="l1412"><span class="linenum">1412</span></a>    tan:  [210,180,140],
<a name="l1413"><span class="linenum">1413</span></a>    teal: [0,128,128],
<a name="l1414"><span class="linenum">1414</span></a>    thistle:  [216,191,216],
<a name="l1415"><span class="linenum">1415</span></a>    tomato: [255,99,71],
<a name="l1416"><span class="linenum">1416</span></a>    turquoise:  [64,224,208],
<a name="l1417"><span class="linenum">1417</span></a>    violet: [238,130,238],
<a name="l1418"><span class="linenum">1418</span></a>    wheat:  [245,222,179],
<a name="l1419"><span class="linenum">1419</span></a>    white:  [255,255,255],
<a name="l1420"><span class="linenum">1420</span></a>    whitesmoke: [245,245,245],
<a name="l1421"><span class="linenum">1421</span></a>    yellow: [255,255,0],
<a name="l1422"><span class="linenum">1422</span></a>    yellowgreen:  [154,205,50]
<a name="l1423"><span class="linenum">1423</span></a>  };
<a name="l1424"><span class="linenum">1424</span></a>  
<a name="l1425"><span class="linenum">1425</span></a>  var reverseKeywords = {};
<a name="l1426"><span class="linenum">1426</span></a>  for (var key in cssKeywords) {
<a name="l1427"><span class="linenum">1427</span></a>    reverseKeywords[JSON.stringify(cssKeywords[key])] = key;
<a name="l1428"><span class="linenum">1428</span></a>  }
<a name="l1429"><span class="linenum">1429</span></a>  
<a name="l1430"><span class="linenum">1430</span></a>  },{}],5:[function(require,module,exports){
<a name="l1431"><span class="linenum">1431</span></a>  var conversions = <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(4);
<a name="l1432"><span class="linenum">1432</span></a>  
<a name="l1433"><span class="linenum">1433</span></a>  var convert = function() {
<a name="l1434"><span class="linenum">1434</span></a>     return new <a class="function" onClick="logFunction('Converter')" href="../../../_functions/converter.html" onMouseOver="funcPopup(event,'converter')">Converter</a>();
<a name="l1435"><span class="linenum">1435</span></a>  }
<a name="l1436"><span class="linenum">1436</span></a>  
<a name="l1437"><span class="linenum">1437</span></a>  for (var func in conversions) {
<a name="l1438"><span class="linenum">1438</span></a>  <span class="comment">  // export Raw versions</span>
<a name="l1439"><span class="linenum">1439</span></a>    convert[func + &quot;Raw&quot;] =  (function(func) {
<a name="l1440"><span class="linenum">1440</span></a>  <span class="comment">    // accept array or plain args</span>
<a name="l1441"><span class="linenum">1441</span></a>      return function(arg) {
<a name="l1442"><span class="linenum">1442</span></a>        if (typeof arg == &quot;number&quot;)
<a name="l1443"><span class="linenum">1443</span></a>          arg = Array.prototype.slice.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(arguments);
<a name="l1444"><span class="linenum">1444</span></a>        return conversions[func](arg);
<a name="l1445"><span class="linenum">1445</span></a>      }
<a name="l1446"><span class="linenum">1446</span></a>    })(func);
<a name="l1447"><span class="linenum">1447</span></a>  
<a name="l1448"><span class="linenum">1448</span></a>    var pair = /(\w+)2(\w+)/.<a class="phpfunction" onClick="logFunction('exec')" href="../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(func),
<a name="l1449"><span class="linenum">1449</span></a>        from = pair[1],
<a name="l1450"><span class="linenum">1450</span></a>        to = pair[2];
<a name="l1451"><span class="linenum">1451</span></a>  
<a name="l1452"><span class="linenum">1452</span></a>  <span class="comment">  // export rgb2hsl and [&quot;rgb&quot;][&quot;hsl&quot;]</span>
<a name="l1453"><span class="linenum">1453</span></a>    convert[from] = convert[from] || {};
<a name="l1454"><span class="linenum">1454</span></a>  
<a name="l1455"><span class="linenum">1455</span></a>    convert[from][to] = convert[func] = (function(func) { 
<a name="l1456"><span class="linenum">1456</span></a>      return function(arg) {
<a name="l1457"><span class="linenum">1457</span></a>        if (typeof arg == &quot;number&quot;)
<a name="l1458"><span class="linenum">1458</span></a>          arg = Array.prototype.slice.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(arguments);
<a name="l1459"><span class="linenum">1459</span></a>        
<a name="l1460"><span class="linenum">1460</span></a>        var val = conversions[func](arg);
<a name="l1461"><span class="linenum">1461</span></a>        if (typeof val == &quot;string&quot; || val === undefined)
<a name="l1462"><span class="linenum">1462</span></a>          return val; <span class="comment">// keyword</span>
<a name="l1463"><span class="linenum">1463</span></a>  
<a name="l1464"><span class="linenum">1464</span></a>        for (var i = 0; i &lt; val.length; i++)
<a name="l1465"><span class="linenum">1465</span></a>          val[i] = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(val[i]);
<a name="l1466"><span class="linenum">1466</span></a>        return val;
<a name="l1467"><span class="linenum">1467</span></a>      }
<a name="l1468"><span class="linenum">1468</span></a>    })(func);
<a name="l1469"><span class="linenum">1469</span></a>  }
<a name="l1470"><span class="linenum">1470</span></a>  
<a name="l1471"><span class="linenum">1471</span></a>  
<a name="l1472"><span class="linenum">1472</span></a>  <span class="comment">/* Converter does lazy conversion and caching */</span>
<a name="l1473"><span class="linenum">1473</span></a>  var Converter = function() {
<a name="l1474"><span class="linenum">1474</span></a>     this.convs = {};
<a name="l1475"><span class="linenum">1475</span></a>  };
<a name="l1476"><span class="linenum">1476</span></a>  
<a name="l1477"><span class="linenum">1477</span></a>  <span class="comment">/* Either get the values for a space or</span>
<a name="l1478"><span class="linenum">1478</span></a>  <span class="comment">  set the values for a space, depending on args */</span>
<a name="l1479"><span class="linenum">1479</span></a>  Converter.prototype.routeSpace = function(space, args) {
<a name="l1480"><span class="linenum">1480</span></a>     var values = args[0];
<a name="l1481"><span class="linenum">1481</span></a>     if (values === undefined) {
<a name="l1482"><span class="linenum">1482</span></a>  <span class="comment">      // color.rgb()</span>
<a name="l1483"><span class="linenum">1483</span></a>        return this.<a class="function" onClick="logFunction('getValues')" href="../../../_functions/getvalues.html" onMouseOver="funcPopup(event,'getvalues')">getValues</a>(space);
<a name="l1484"><span class="linenum">1484</span></a>     }
<a name="l1485"><span class="linenum">1485</span></a>  <span class="comment">   // color.rgb(10, 10, 10)</span>
<a name="l1486"><span class="linenum">1486</span></a>     if (typeof values == &quot;number&quot;) {
<a name="l1487"><span class="linenum">1487</span></a>        values = Array.prototype.slice.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(args);        
<a name="l1488"><span class="linenum">1488</span></a>     }
<a name="l1489"><span class="linenum">1489</span></a>  
<a name="l1490"><span class="linenum">1490</span></a>     return this.<a class="function" onClick="logFunction('setValues')" href="../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>(space, values);
<a name="l1491"><span class="linenum">1491</span></a>  };
<a name="l1492"><span class="linenum">1492</span></a>    
<a name="l1493"><span class="linenum">1493</span></a>  <span class="comment">/* Set the values for a space, invalidating cache */</span>
<a name="l1494"><span class="linenum">1494</span></a>  Converter.prototype.setValues = function(space, values) {
<a name="l1495"><span class="linenum">1495</span></a>     this.space = space;
<a name="l1496"><span class="linenum">1496</span></a>     this.convs = {};
<a name="l1497"><span class="linenum">1497</span></a>     this.convs[space] = values;
<a name="l1498"><span class="linenum">1498</span></a>     return this;
<a name="l1499"><span class="linenum">1499</span></a>  };
<a name="l1500"><span class="linenum">1500</span></a>  
<a name="l1501"><span class="linenum">1501</span></a>  <span class="comment">/* Get the values for a space. If there's already</span>
<a name="l1502"><span class="linenum">1502</span></a>  <span class="comment">  a conversion for the space, fetch it, otherwise</span>
<a name="l1503"><span class="linenum">1503</span></a>  <span class="comment">  compute it */</span>
<a name="l1504"><span class="linenum">1504</span></a>  Converter.prototype.getValues = function(space) {
<a name="l1505"><span class="linenum">1505</span></a>     var vals = this.convs[space];
<a name="l1506"><span class="linenum">1506</span></a>     if (!vals) {
<a name="l1507"><span class="linenum">1507</span></a>        var fspace = this.space,
<a name="l1508"><span class="linenum">1508</span></a>            from = this.convs[fspace];
<a name="l1509"><span class="linenum">1509</span></a>        vals = convert[fspace][space](from);
<a name="l1510"><span class="linenum">1510</span></a>  
<a name="l1511"><span class="linenum">1511</span></a>        this.convs[space] = vals;
<a name="l1512"><span class="linenum">1512</span></a>     }
<a name="l1513"><span class="linenum">1513</span></a>    return vals;
<a name="l1514"><span class="linenum">1514</span></a>  };
<a name="l1515"><span class="linenum">1515</span></a>  
<a name="l1516"><span class="linenum">1516</span></a>  [&quot;rgb&quot;, &quot;hsl&quot;, &quot;hsv&quot;, &quot;cmyk&quot;, &quot;keyword&quot;].forEach(function(space) {
<a name="l1517"><span class="linenum">1517</span></a>     Converter.prototype[space] = function(vals) {
<a name="l1518"><span class="linenum">1518</span></a>        return this.routeSpace(space, arguments);
<a name="l1519"><span class="linenum">1519</span></a>     }
<a name="l1520"><span class="linenum">1520</span></a>  });
<a name="l1521"><span class="linenum">1521</span></a>  
<a name="l1522"><span class="linenum">1522</span></a>  module.exports = convert;
<a name="l1523"><span class="linenum">1523</span></a>  },{&quot;4&quot;:4}],6:[function(require,module,exports){
<a name="l1524"><span class="linenum">1524</span></a>  module.exports = {
<a name="l1525"><span class="linenum">1525</span></a>      &quot;aliceblue&quot;: [240, 248, 255],
<a name="l1526"><span class="linenum">1526</span></a>      &quot;antiquewhite&quot;: [250, 235, 215],
<a name="l1527"><span class="linenum">1527</span></a>      &quot;aqua&quot;: [0, 255, 255],
<a name="l1528"><span class="linenum">1528</span></a>      &quot;aquamarine&quot;: [127, 255, 212],
<a name="l1529"><span class="linenum">1529</span></a>      &quot;azure&quot;: [240, 255, 255],
<a name="l1530"><span class="linenum">1530</span></a>      &quot;beige&quot;: [245, 245, 220],
<a name="l1531"><span class="linenum">1531</span></a>      &quot;bisque&quot;: [255, 228, 196],
<a name="l1532"><span class="linenum">1532</span></a>      &quot;black&quot;: [0, 0, 0],
<a name="l1533"><span class="linenum">1533</span></a>      &quot;blanchedalmond&quot;: [255, 235, 205],
<a name="l1534"><span class="linenum">1534</span></a>      &quot;blue&quot;: [0, 0, 255],
<a name="l1535"><span class="linenum">1535</span></a>      &quot;blueviolet&quot;: [138, 43, 226],
<a name="l1536"><span class="linenum">1536</span></a>      &quot;brown&quot;: [165, 42, 42],
<a name="l1537"><span class="linenum">1537</span></a>      &quot;burlywood&quot;: [222, 184, 135],
<a name="l1538"><span class="linenum">1538</span></a>      &quot;cadetblue&quot;: [95, 158, 160],
<a name="l1539"><span class="linenum">1539</span></a>      &quot;chartreuse&quot;: [127, 255, 0],
<a name="l1540"><span class="linenum">1540</span></a>      &quot;chocolate&quot;: [210, 105, 30],
<a name="l1541"><span class="linenum">1541</span></a>      &quot;coral&quot;: [255, 127, 80],
<a name="l1542"><span class="linenum">1542</span></a>      &quot;cornflowerblue&quot;: [100, 149, 237],
<a name="l1543"><span class="linenum">1543</span></a>      &quot;cornsilk&quot;: [255, 248, 220],
<a name="l1544"><span class="linenum">1544</span></a>      &quot;crimson&quot;: [220, 20, 60],
<a name="l1545"><span class="linenum">1545</span></a>      &quot;cyan&quot;: [0, 255, 255],
<a name="l1546"><span class="linenum">1546</span></a>      &quot;darkblue&quot;: [0, 0, 139],
<a name="l1547"><span class="linenum">1547</span></a>      &quot;darkcyan&quot;: [0, 139, 139],
<a name="l1548"><span class="linenum">1548</span></a>      &quot;darkgoldenrod&quot;: [184, 134, 11],
<a name="l1549"><span class="linenum">1549</span></a>      &quot;darkgray&quot;: [169, 169, 169],
<a name="l1550"><span class="linenum">1550</span></a>      &quot;darkgreen&quot;: [0, 100, 0],
<a name="l1551"><span class="linenum">1551</span></a>      &quot;darkgrey&quot;: [169, 169, 169],
<a name="l1552"><span class="linenum">1552</span></a>      &quot;darkkhaki&quot;: [189, 183, 107],
<a name="l1553"><span class="linenum">1553</span></a>      &quot;darkmagenta&quot;: [139, 0, 139],
<a name="l1554"><span class="linenum">1554</span></a>      &quot;darkolivegreen&quot;: [85, 107, 47],
<a name="l1555"><span class="linenum">1555</span></a>      &quot;darkorange&quot;: [255, 140, 0],
<a name="l1556"><span class="linenum">1556</span></a>      &quot;darkorchid&quot;: [153, 50, 204],
<a name="l1557"><span class="linenum">1557</span></a>      &quot;darkred&quot;: [139, 0, 0],
<a name="l1558"><span class="linenum">1558</span></a>      &quot;darksalmon&quot;: [233, 150, 122],
<a name="l1559"><span class="linenum">1559</span></a>      &quot;darkseagreen&quot;: [143, 188, 143],
<a name="l1560"><span class="linenum">1560</span></a>      &quot;darkslateblue&quot;: [72, 61, 139],
<a name="l1561"><span class="linenum">1561</span></a>      &quot;darkslategray&quot;: [47, 79, 79],
<a name="l1562"><span class="linenum">1562</span></a>      &quot;darkslategrey&quot;: [47, 79, 79],
<a name="l1563"><span class="linenum">1563</span></a>      &quot;darkturquoise&quot;: [0, 206, 209],
<a name="l1564"><span class="linenum">1564</span></a>      &quot;darkviolet&quot;: [148, 0, 211],
<a name="l1565"><span class="linenum">1565</span></a>      &quot;deeppink&quot;: [255, 20, 147],
<a name="l1566"><span class="linenum">1566</span></a>      &quot;deepskyblue&quot;: [0, 191, 255],
<a name="l1567"><span class="linenum">1567</span></a>      &quot;dimgray&quot;: [105, 105, 105],
<a name="l1568"><span class="linenum">1568</span></a>      &quot;dimgrey&quot;: [105, 105, 105],
<a name="l1569"><span class="linenum">1569</span></a>      &quot;dodgerblue&quot;: [30, 144, 255],
<a name="l1570"><span class="linenum">1570</span></a>      &quot;firebrick&quot;: [178, 34, 34],
<a name="l1571"><span class="linenum">1571</span></a>      &quot;floralwhite&quot;: [255, 250, 240],
<a name="l1572"><span class="linenum">1572</span></a>      &quot;forestgreen&quot;: [34, 139, 34],
<a name="l1573"><span class="linenum">1573</span></a>      &quot;fuchsia&quot;: [255, 0, 255],
<a name="l1574"><span class="linenum">1574</span></a>      &quot;gainsboro&quot;: [220, 220, 220],
<a name="l1575"><span class="linenum">1575</span></a>      &quot;ghostwhite&quot;: [248, 248, 255],
<a name="l1576"><span class="linenum">1576</span></a>      &quot;gold&quot;: [255, 215, 0],
<a name="l1577"><span class="linenum">1577</span></a>      &quot;goldenrod&quot;: [218, 165, 32],
<a name="l1578"><span class="linenum">1578</span></a>      &quot;gray&quot;: [128, 128, 128],
<a name="l1579"><span class="linenum">1579</span></a>      &quot;green&quot;: [0, 128, 0],
<a name="l1580"><span class="linenum">1580</span></a>      &quot;greenyellow&quot;: [173, 255, 47],
<a name="l1581"><span class="linenum">1581</span></a>      &quot;grey&quot;: [128, 128, 128],
<a name="l1582"><span class="linenum">1582</span></a>      &quot;honeydew&quot;: [240, 255, 240],
<a name="l1583"><span class="linenum">1583</span></a>      &quot;hotpink&quot;: [255, 105, 180],
<a name="l1584"><span class="linenum">1584</span></a>      &quot;indianred&quot;: [205, 92, 92],
<a name="l1585"><span class="linenum">1585</span></a>      &quot;indigo&quot;: [75, 0, 130],
<a name="l1586"><span class="linenum">1586</span></a>      &quot;ivory&quot;: [255, 255, 240],
<a name="l1587"><span class="linenum">1587</span></a>      &quot;khaki&quot;: [240, 230, 140],
<a name="l1588"><span class="linenum">1588</span></a>      &quot;lavender&quot;: [230, 230, 250],
<a name="l1589"><span class="linenum">1589</span></a>      &quot;lavenderblush&quot;: [255, 240, 245],
<a name="l1590"><span class="linenum">1590</span></a>      &quot;lawngreen&quot;: [124, 252, 0],
<a name="l1591"><span class="linenum">1591</span></a>      &quot;lemonchiffon&quot;: [255, 250, 205],
<a name="l1592"><span class="linenum">1592</span></a>      &quot;lightblue&quot;: [173, 216, 230],
<a name="l1593"><span class="linenum">1593</span></a>      &quot;lightcoral&quot;: [240, 128, 128],
<a name="l1594"><span class="linenum">1594</span></a>      &quot;lightcyan&quot;: [224, 255, 255],
<a name="l1595"><span class="linenum">1595</span></a>      &quot;lightgoldenrodyellow&quot;: [250, 250, 210],
<a name="l1596"><span class="linenum">1596</span></a>      &quot;lightgray&quot;: [211, 211, 211],
<a name="l1597"><span class="linenum">1597</span></a>      &quot;lightgreen&quot;: [144, 238, 144],
<a name="l1598"><span class="linenum">1598</span></a>      &quot;lightgrey&quot;: [211, 211, 211],
<a name="l1599"><span class="linenum">1599</span></a>      &quot;lightpink&quot;: [255, 182, 193],
<a name="l1600"><span class="linenum">1600</span></a>      &quot;lightsalmon&quot;: [255, 160, 122],
<a name="l1601"><span class="linenum">1601</span></a>      &quot;lightseagreen&quot;: [32, 178, 170],
<a name="l1602"><span class="linenum">1602</span></a>      &quot;lightskyblue&quot;: [135, 206, 250],
<a name="l1603"><span class="linenum">1603</span></a>      &quot;lightslategray&quot;: [119, 136, 153],
<a name="l1604"><span class="linenum">1604</span></a>      &quot;lightslategrey&quot;: [119, 136, 153],
<a name="l1605"><span class="linenum">1605</span></a>      &quot;lightsteelblue&quot;: [176, 196, 222],
<a name="l1606"><span class="linenum">1606</span></a>      &quot;lightyellow&quot;: [255, 255, 224],
<a name="l1607"><span class="linenum">1607</span></a>      &quot;lime&quot;: [0, 255, 0],
<a name="l1608"><span class="linenum">1608</span></a>      &quot;limegreen&quot;: [50, 205, 50],
<a name="l1609"><span class="linenum">1609</span></a>      &quot;linen&quot;: [250, 240, 230],
<a name="l1610"><span class="linenum">1610</span></a>      &quot;magenta&quot;: [255, 0, 255],
<a name="l1611"><span class="linenum">1611</span></a>      &quot;maroon&quot;: [128, 0, 0],
<a name="l1612"><span class="linenum">1612</span></a>      &quot;mediumaquamarine&quot;: [102, 205, 170],
<a name="l1613"><span class="linenum">1613</span></a>      &quot;mediumblue&quot;: [0, 0, 205],
<a name="l1614"><span class="linenum">1614</span></a>      &quot;mediumorchid&quot;: [186, 85, 211],
<a name="l1615"><span class="linenum">1615</span></a>      &quot;mediumpurple&quot;: [147, 112, 219],
<a name="l1616"><span class="linenum">1616</span></a>      &quot;mediumseagreen&quot;: [60, 179, 113],
<a name="l1617"><span class="linenum">1617</span></a>      &quot;mediumslateblue&quot;: [123, 104, 238],
<a name="l1618"><span class="linenum">1618</span></a>      &quot;mediumspringgreen&quot;: [0, 250, 154],
<a name="l1619"><span class="linenum">1619</span></a>      &quot;mediumturquoise&quot;: [72, 209, 204],
<a name="l1620"><span class="linenum">1620</span></a>      &quot;mediumvioletred&quot;: [199, 21, 133],
<a name="l1621"><span class="linenum">1621</span></a>      &quot;midnightblue&quot;: [25, 25, 112],
<a name="l1622"><span class="linenum">1622</span></a>      &quot;mintcream&quot;: [245, 255, 250],
<a name="l1623"><span class="linenum">1623</span></a>      &quot;mistyrose&quot;: [255, 228, 225],
<a name="l1624"><span class="linenum">1624</span></a>      &quot;moccasin&quot;: [255, 228, 181],
<a name="l1625"><span class="linenum">1625</span></a>      &quot;navajowhite&quot;: [255, 222, 173],
<a name="l1626"><span class="linenum">1626</span></a>      &quot;navy&quot;: [0, 0, 128],
<a name="l1627"><span class="linenum">1627</span></a>      &quot;oldlace&quot;: [253, 245, 230],
<a name="l1628"><span class="linenum">1628</span></a>      &quot;olive&quot;: [128, 128, 0],
<a name="l1629"><span class="linenum">1629</span></a>      &quot;olivedrab&quot;: [107, 142, 35],
<a name="l1630"><span class="linenum">1630</span></a>      &quot;orange&quot;: [255, 165, 0],
<a name="l1631"><span class="linenum">1631</span></a>      &quot;orangered&quot;: [255, 69, 0],
<a name="l1632"><span class="linenum">1632</span></a>      &quot;orchid&quot;: [218, 112, 214],
<a name="l1633"><span class="linenum">1633</span></a>      &quot;palegoldenrod&quot;: [238, 232, 170],
<a name="l1634"><span class="linenum">1634</span></a>      &quot;palegreen&quot;: [152, 251, 152],
<a name="l1635"><span class="linenum">1635</span></a>      &quot;paleturquoise&quot;: [175, 238, 238],
<a name="l1636"><span class="linenum">1636</span></a>      &quot;palevioletred&quot;: [219, 112, 147],
<a name="l1637"><span class="linenum">1637</span></a>      &quot;papayawhip&quot;: [255, 239, 213],
<a name="l1638"><span class="linenum">1638</span></a>      &quot;peachpuff&quot;: [255, 218, 185],
<a name="l1639"><span class="linenum">1639</span></a>      &quot;peru&quot;: [205, 133, 63],
<a name="l1640"><span class="linenum">1640</span></a>      &quot;pink&quot;: [255, 192, 203],
<a name="l1641"><span class="linenum">1641</span></a>      &quot;plum&quot;: [221, 160, 221],
<a name="l1642"><span class="linenum">1642</span></a>      &quot;powderblue&quot;: [176, 224, 230],
<a name="l1643"><span class="linenum">1643</span></a>      &quot;purple&quot;: [128, 0, 128],
<a name="l1644"><span class="linenum">1644</span></a>      &quot;rebeccapurple&quot;: [102, 51, 153],
<a name="l1645"><span class="linenum">1645</span></a>      &quot;red&quot;: [255, 0, 0],
<a name="l1646"><span class="linenum">1646</span></a>      &quot;rosybrown&quot;: [188, 143, 143],
<a name="l1647"><span class="linenum">1647</span></a>      &quot;royalblue&quot;: [65, 105, 225],
<a name="l1648"><span class="linenum">1648</span></a>      &quot;saddlebrown&quot;: [139, 69, 19],
<a name="l1649"><span class="linenum">1649</span></a>      &quot;salmon&quot;: [250, 128, 114],
<a name="l1650"><span class="linenum">1650</span></a>      &quot;sandybrown&quot;: [244, 164, 96],
<a name="l1651"><span class="linenum">1651</span></a>      &quot;seagreen&quot;: [46, 139, 87],
<a name="l1652"><span class="linenum">1652</span></a>      &quot;seashell&quot;: [255, 245, 238],
<a name="l1653"><span class="linenum">1653</span></a>      &quot;sienna&quot;: [160, 82, 45],
<a name="l1654"><span class="linenum">1654</span></a>      &quot;silver&quot;: [192, 192, 192],
<a name="l1655"><span class="linenum">1655</span></a>      &quot;skyblue&quot;: [135, 206, 235],
<a name="l1656"><span class="linenum">1656</span></a>      &quot;slateblue&quot;: [106, 90, 205],
<a name="l1657"><span class="linenum">1657</span></a>      &quot;slategray&quot;: [112, 128, 144],
<a name="l1658"><span class="linenum">1658</span></a>      &quot;slategrey&quot;: [112, 128, 144],
<a name="l1659"><span class="linenum">1659</span></a>      &quot;snow&quot;: [255, 250, 250],
<a name="l1660"><span class="linenum">1660</span></a>      &quot;springgreen&quot;: [0, 255, 127],
<a name="l1661"><span class="linenum">1661</span></a>      &quot;steelblue&quot;: [70, 130, 180],
<a name="l1662"><span class="linenum">1662</span></a>      &quot;tan&quot;: [210, 180, 140],
<a name="l1663"><span class="linenum">1663</span></a>      &quot;teal&quot;: [0, 128, 128],
<a name="l1664"><span class="linenum">1664</span></a>      &quot;thistle&quot;: [216, 191, 216],
<a name="l1665"><span class="linenum">1665</span></a>      &quot;tomato&quot;: [255, 99, 71],
<a name="l1666"><span class="linenum">1666</span></a>      &quot;turquoise&quot;: [64, 224, 208],
<a name="l1667"><span class="linenum">1667</span></a>      &quot;violet&quot;: [238, 130, 238],
<a name="l1668"><span class="linenum">1668</span></a>      &quot;wheat&quot;: [245, 222, 179],
<a name="l1669"><span class="linenum">1669</span></a>      &quot;white&quot;: [255, 255, 255],
<a name="l1670"><span class="linenum">1670</span></a>      &quot;whitesmoke&quot;: [245, 245, 245],
<a name="l1671"><span class="linenum">1671</span></a>      &quot;yellow&quot;: [255, 255, 0],
<a name="l1672"><span class="linenum">1672</span></a>      &quot;yellowgreen&quot;: [154, 205, 50]
<a name="l1673"><span class="linenum">1673</span></a>  };
<a name="l1674"><span class="linenum">1674</span></a>  },{}],7:[function(require,module,exports){
<a name="l1675"><span class="linenum">1675</span></a>  <span class="comment">/**</span>
<a name="l1676"><span class="linenum">1676</span></a>  <span class="comment"> * @namespace Chart</span>
<a name="l1677"><span class="linenum">1677</span></a>  <span class="comment"> */</span>
<a name="l1678"><span class="linenum">1678</span></a>  var Chart = <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(26)();
<a name="l1679"><span class="linenum">1679</span></a>  
<a name="l1680"><span class="linenum">1680</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(25)(Chart);
<a name="l1681"><span class="linenum">1681</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(24)(Chart);
<a name="l1682"><span class="linenum">1682</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(21)(Chart);
<a name="l1683"><span class="linenum">1683</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(22)(Chart);
<a name="l1684"><span class="linenum">1684</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(23)(Chart);
<a name="l1685"><span class="linenum">1685</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(27)(Chart);
<a name="l1686"><span class="linenum">1686</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(31)(Chart);
<a name="l1687"><span class="linenum">1687</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(29)(Chart);
<a name="l1688"><span class="linenum">1688</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(30)(Chart);
<a name="l1689"><span class="linenum">1689</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(32)(Chart);
<a name="l1690"><span class="linenum">1690</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(28)(Chart);
<a name="l1691"><span class="linenum">1691</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(33)(Chart);
<a name="l1692"><span class="linenum">1692</span></a>  
<a name="l1693"><span class="linenum">1693</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(34)(Chart);
<a name="l1694"><span class="linenum">1694</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(35)(Chart);
<a name="l1695"><span class="linenum">1695</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(36)(Chart);
<a name="l1696"><span class="linenum">1696</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(37)(Chart);
<a name="l1697"><span class="linenum">1697</span></a>  
<a name="l1698"><span class="linenum">1698</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(40)(Chart);
<a name="l1699"><span class="linenum">1699</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(38)(Chart);
<a name="l1700"><span class="linenum">1700</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(39)(Chart);
<a name="l1701"><span class="linenum">1701</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(41)(Chart);
<a name="l1702"><span class="linenum">1702</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(42)(Chart);
<a name="l1703"><span class="linenum">1703</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(43)(Chart);
<a name="l1704"><span class="linenum">1704</span></a>  
<a name="l1705"><span class="linenum">1705</span></a>  <span class="comment">// Controllers must be loaded after elements</span>
<a name="l1706"><span class="linenum">1706</span></a>  <span class="comment">// See Chart.core.datasetController.dataElementType</span>
<a name="l1707"><span class="linenum">1707</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(15)(Chart);
<a name="l1708"><span class="linenum">1708</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(16)(Chart);
<a name="l1709"><span class="linenum">1709</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(17)(Chart);
<a name="l1710"><span class="linenum">1710</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(18)(Chart);
<a name="l1711"><span class="linenum">1711</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(19)(Chart);
<a name="l1712"><span class="linenum">1712</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(20)(Chart);
<a name="l1713"><span class="linenum">1713</span></a>  
<a name="l1714"><span class="linenum">1714</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(8)(Chart);
<a name="l1715"><span class="linenum">1715</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(9)(Chart);
<a name="l1716"><span class="linenum">1716</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(10)(Chart);
<a name="l1717"><span class="linenum">1717</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(11)(Chart);
<a name="l1718"><span class="linenum">1718</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(12)(Chart);
<a name="l1719"><span class="linenum">1719</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(13)(Chart);
<a name="l1720"><span class="linenum">1720</span></a>  <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(14)(Chart);
<a name="l1721"><span class="linenum">1721</span></a>  
<a name="l1722"><span class="linenum">1722</span></a>  window.Chart = module.exports = Chart;
<a name="l1723"><span class="linenum">1723</span></a>  
<a name="l1724"><span class="linenum">1724</span></a>  },{&quot;10&quot;:10,&quot;11&quot;:11,&quot;12&quot;:12,&quot;13&quot;:13,&quot;14&quot;:14,&quot;15&quot;:15,&quot;16&quot;:16,&quot;17&quot;:17,&quot;18&quot;:18,&quot;19&quot;:19,&quot;20&quot;:20,&quot;21&quot;:21,&quot;22&quot;:22,&quot;23&quot;:23,&quot;24&quot;:24,&quot;25&quot;:25,&quot;26&quot;:26,&quot;27&quot;:27,&quot;28&quot;:28,&quot;29&quot;:29,&quot;30&quot;:30,&quot;31&quot;:31,&quot;32&quot;:32,&quot;33&quot;:33,&quot;34&quot;:34,&quot;35&quot;:35,&quot;36&quot;:36,&quot;37&quot;:37,&quot;38&quot;:38,&quot;39&quot;:39,&quot;40&quot;:40,&quot;41&quot;:41,&quot;42&quot;:42,&quot;43&quot;:43,&quot;8&quot;:8,&quot;9&quot;:9}],8:[function(require,module,exports){
<a name="l1725"><span class="linenum">1725</span></a>  &quot;use strict&quot;;
<a name="l1726"><span class="linenum">1726</span></a>  
<a name="l1727"><span class="linenum">1727</span></a>  module.exports = function(Chart) {
<a name="l1728"><span class="linenum">1728</span></a>  
<a name="l1729"><span class="linenum">1729</span></a>      Chart.Bar = function(context, config) {
<a name="l1730"><span class="linenum">1730</span></a>          config.type = 'bar';
<a name="l1731"><span class="linenum">1731</span></a>  
<a name="l1732"><span class="linenum">1732</span></a>          return new <a class="function" onClick="logFunction('Chart')" href="../../../_functions/chart.html" onMouseOver="funcPopup(event,'chart')">Chart</a>(context, config);
<a name="l1733"><span class="linenum">1733</span></a>      };
<a name="l1734"><span class="linenum">1734</span></a>  
<a name="l1735"><span class="linenum">1735</span></a>  };
<a name="l1736"><span class="linenum">1736</span></a>  },{}],9:[function(require,module,exports){
<a name="l1737"><span class="linenum">1737</span></a>  &quot;use strict&quot;;
<a name="l1738"><span class="linenum">1738</span></a>  
<a name="l1739"><span class="linenum">1739</span></a>  module.exports = function(Chart) {
<a name="l1740"><span class="linenum">1740</span></a>  
<a name="l1741"><span class="linenum">1741</span></a>      Chart.Bubble = function(context, config) {
<a name="l1742"><span class="linenum">1742</span></a>          config.type = 'bubble';
<a name="l1743"><span class="linenum">1743</span></a>          return new <a class="function" onClick="logFunction('Chart')" href="../../../_functions/chart.html" onMouseOver="funcPopup(event,'chart')">Chart</a>(context, config);
<a name="l1744"><span class="linenum">1744</span></a>      };
<a name="l1745"><span class="linenum">1745</span></a>  
<a name="l1746"><span class="linenum">1746</span></a>  };
<a name="l1747"><span class="linenum">1747</span></a>  },{}],10:[function(require,module,exports){
<a name="l1748"><span class="linenum">1748</span></a>  &quot;use strict&quot;;
<a name="l1749"><span class="linenum">1749</span></a>  
<a name="l1750"><span class="linenum">1750</span></a>  module.exports = function(Chart) {
<a name="l1751"><span class="linenum">1751</span></a>  
<a name="l1752"><span class="linenum">1752</span></a>      Chart.Doughnut = function(context, config) {
<a name="l1753"><span class="linenum">1753</span></a>          config.type = 'doughnut';
<a name="l1754"><span class="linenum">1754</span></a>  
<a name="l1755"><span class="linenum">1755</span></a>          return new <a class="function" onClick="logFunction('Chart')" href="../../../_functions/chart.html" onMouseOver="funcPopup(event,'chart')">Chart</a>(context, config);
<a name="l1756"><span class="linenum">1756</span></a>      };
<a name="l1757"><span class="linenum">1757</span></a>  
<a name="l1758"><span class="linenum">1758</span></a>  };
<a name="l1759"><span class="linenum">1759</span></a>  },{}],11:[function(require,module,exports){
<a name="l1760"><span class="linenum">1760</span></a>  &quot;use strict&quot;;
<a name="l1761"><span class="linenum">1761</span></a>  
<a name="l1762"><span class="linenum">1762</span></a>  module.exports = function(Chart) {
<a name="l1763"><span class="linenum">1763</span></a>  
<a name="l1764"><span class="linenum">1764</span></a>      Chart.Line = function(context, config) {
<a name="l1765"><span class="linenum">1765</span></a>          config.type = 'line';
<a name="l1766"><span class="linenum">1766</span></a>  
<a name="l1767"><span class="linenum">1767</span></a>          return new <a class="function" onClick="logFunction('Chart')" href="../../../_functions/chart.html" onMouseOver="funcPopup(event,'chart')">Chart</a>(context, config);
<a name="l1768"><span class="linenum">1768</span></a>      };
<a name="l1769"><span class="linenum">1769</span></a>  
<a name="l1770"><span class="linenum">1770</span></a>  };
<a name="l1771"><span class="linenum">1771</span></a>  },{}],12:[function(require,module,exports){
<a name="l1772"><span class="linenum">1772</span></a>  &quot;use strict&quot;;
<a name="l1773"><span class="linenum">1773</span></a>  
<a name="l1774"><span class="linenum">1774</span></a>  module.exports = function(Chart) {
<a name="l1775"><span class="linenum">1775</span></a>  
<a name="l1776"><span class="linenum">1776</span></a>      Chart.PolarArea = function(context, config) {
<a name="l1777"><span class="linenum">1777</span></a>          config.type = 'polarArea';
<a name="l1778"><span class="linenum">1778</span></a>  
<a name="l1779"><span class="linenum">1779</span></a>          return new <a class="function" onClick="logFunction('Chart')" href="../../../_functions/chart.html" onMouseOver="funcPopup(event,'chart')">Chart</a>(context, config);
<a name="l1780"><span class="linenum">1780</span></a>      };
<a name="l1781"><span class="linenum">1781</span></a>  
<a name="l1782"><span class="linenum">1782</span></a>  };
<a name="l1783"><span class="linenum">1783</span></a>  },{}],13:[function(require,module,exports){
<a name="l1784"><span class="linenum">1784</span></a>  &quot;use strict&quot;;
<a name="l1785"><span class="linenum">1785</span></a>  
<a name="l1786"><span class="linenum">1786</span></a>  module.exports = function(Chart) {
<a name="l1787"><span class="linenum">1787</span></a>      
<a name="l1788"><span class="linenum">1788</span></a>      Chart.Radar = function(context, config) {
<a name="l1789"><span class="linenum">1789</span></a>          config.options = Chart.helpers.configMerge({ aspectRatio: 1 }, config.options);
<a name="l1790"><span class="linenum">1790</span></a>          config.type = 'radar';
<a name="l1791"><span class="linenum">1791</span></a>  
<a name="l1792"><span class="linenum">1792</span></a>          return new <a class="function" onClick="logFunction('Chart')" href="../../../_functions/chart.html" onMouseOver="funcPopup(event,'chart')">Chart</a>(context, config);
<a name="l1793"><span class="linenum">1793</span></a>      };
<a name="l1794"><span class="linenum">1794</span></a>  
<a name="l1795"><span class="linenum">1795</span></a>  };
<a name="l1796"><span class="linenum">1796</span></a>  
<a name="l1797"><span class="linenum">1797</span></a>  },{}],14:[function(require,module,exports){
<a name="l1798"><span class="linenum">1798</span></a>  &quot;use strict&quot;;
<a name="l1799"><span class="linenum">1799</span></a>  
<a name="l1800"><span class="linenum">1800</span></a>  module.exports = function(Chart) {
<a name="l1801"><span class="linenum">1801</span></a>  
<a name="l1802"><span class="linenum">1802</span></a>      var defaultConfig = {
<a name="l1803"><span class="linenum">1803</span></a>          hover: {
<a name="l1804"><span class="linenum">1804</span></a>              mode: 'single'
<a name="l1805"><span class="linenum">1805</span></a>          },
<a name="l1806"><span class="linenum">1806</span></a>  
<a name="l1807"><span class="linenum">1807</span></a>          scales: {
<a name="l1808"><span class="linenum">1808</span></a>              xAxes: [{
<a name="l1809"><span class="linenum">1809</span></a>                  type: &quot;linear&quot;, // scatter should not use a category axis
<a name="l1810"><span class="linenum">1810</span></a>                  position: &quot;bottom&quot;,
<a name="l1811"><span class="linenum">1811</span></a>                  id: &quot;x-axis-1&quot; // need an ID so datasets can reference the scale
<a name="l1812"><span class="linenum">1812</span></a>              }],
<a name="l1813"><span class="linenum">1813</span></a>              yAxes: [{
<a name="l1814"><span class="linenum">1814</span></a>                  type: &quot;linear&quot;,
<a name="l1815"><span class="linenum">1815</span></a>                  position: &quot;left&quot;,
<a name="l1816"><span class="linenum">1816</span></a>                  id: &quot;y-axis-1&quot;
<a name="l1817"><span class="linenum">1817</span></a>              }]
<a name="l1818"><span class="linenum">1818</span></a>          },
<a name="l1819"><span class="linenum">1819</span></a>  
<a name="l1820"><span class="linenum">1820</span></a>          tooltips: {
<a name="l1821"><span class="linenum">1821</span></a>              callbacks: {
<a name="l1822"><span class="linenum">1822</span></a>                  title: function(tooltipItems, data) {
<a name="l1823"><span class="linenum">1823</span></a>  <span class="comment">                    // Title doesn't make sense for scatter since we format the data as a point</span>
<a name="l1824"><span class="linenum">1824</span></a>                      return '';
<a name="l1825"><span class="linenum">1825</span></a>                  },
<a name="l1826"><span class="linenum">1826</span></a>                  label: function(tooltipItem, data) {
<a name="l1827"><span class="linenum">1827</span></a>                      return '(' + tooltipItem.xLabel + ', ' + tooltipItem.yLabel + ')';
<a name="l1828"><span class="linenum">1828</span></a>                  }
<a name="l1829"><span class="linenum">1829</span></a>              }
<a name="l1830"><span class="linenum">1830</span></a>          }
<a name="l1831"><span class="linenum">1831</span></a>      };
<a name="l1832"><span class="linenum">1832</span></a>  
<a name="l1833"><span class="linenum">1833</span></a>  <span class="comment">    // Register the default config for this type</span>
<a name="l1834"><span class="linenum">1834</span></a>      Chart.defaults.scatter = defaultConfig;
<a name="l1835"><span class="linenum">1835</span></a>  
<a name="l1836"><span class="linenum">1836</span></a>  <span class="comment">    // Scatter charts use line controllers</span>
<a name="l1837"><span class="linenum">1837</span></a>      Chart.controllers.scatter = Chart.controllers.line;
<a name="l1838"><span class="linenum">1838</span></a>  
<a name="l1839"><span class="linenum">1839</span></a>      Chart.Scatter = function(context, config) {
<a name="l1840"><span class="linenum">1840</span></a>          config.type = 'scatter';
<a name="l1841"><span class="linenum">1841</span></a>          return new <a class="function" onClick="logFunction('Chart')" href="../../../_functions/chart.html" onMouseOver="funcPopup(event,'chart')">Chart</a>(context, config);
<a name="l1842"><span class="linenum">1842</span></a>      };
<a name="l1843"><span class="linenum">1843</span></a>  
<a name="l1844"><span class="linenum">1844</span></a>  };
<a name="l1845"><span class="linenum">1845</span></a>  },{}],15:[function(require,module,exports){
<a name="l1846"><span class="linenum">1846</span></a>  &quot;use strict&quot;;
<a name="l1847"><span class="linenum">1847</span></a>  
<a name="l1848"><span class="linenum">1848</span></a>  module.exports = function(Chart) {
<a name="l1849"><span class="linenum">1849</span></a>  
<a name="l1850"><span class="linenum">1850</span></a>      var helpers = Chart.helpers;
<a name="l1851"><span class="linenum">1851</span></a>  
<a name="l1852"><span class="linenum">1852</span></a>      Chart.defaults.bar = {
<a name="l1853"><span class="linenum">1853</span></a>          hover: {
<a name="l1854"><span class="linenum">1854</span></a>              mode: &quot;label&quot;
<a name="l1855"><span class="linenum">1855</span></a>          },
<a name="l1856"><span class="linenum">1856</span></a>  
<a name="l1857"><span class="linenum">1857</span></a>          scales: {
<a name="l1858"><span class="linenum">1858</span></a>              xAxes: [{
<a name="l1859"><span class="linenum">1859</span></a>                  type: &quot;category&quot;,
<a name="l1860"><span class="linenum">1860</span></a>  
<a name="l1861"><span class="linenum">1861</span></a>  <span class="comment">                // Specific to Bar Controller</span>
<a name="l1862"><span class="linenum">1862</span></a>                  categoryPercentage: 0.8,
<a name="l1863"><span class="linenum">1863</span></a>                  barPercentage: 0.9,
<a name="l1864"><span class="linenum">1864</span></a>  
<a name="l1865"><span class="linenum">1865</span></a>  <span class="comment">                // grid line settings</span>
<a name="l1866"><span class="linenum">1866</span></a>                  gridLines: {
<a name="l1867"><span class="linenum">1867</span></a>                      offsetGridLines: true
<a name="l1868"><span class="linenum">1868</span></a>                  }
<a name="l1869"><span class="linenum">1869</span></a>              }],
<a name="l1870"><span class="linenum">1870</span></a>              yAxes: [{
<a name="l1871"><span class="linenum">1871</span></a>                  type: &quot;linear&quot;
<a name="l1872"><span class="linenum">1872</span></a>              }]
<a name="l1873"><span class="linenum">1873</span></a>          }
<a name="l1874"><span class="linenum">1874</span></a>      };
<a name="l1875"><span class="linenum">1875</span></a>  
<a name="l1876"><span class="linenum">1876</span></a>      Chart.controllers.bar = Chart.DatasetController.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l1877"><span class="linenum">1877</span></a>  
<a name="l1878"><span class="linenum">1878</span></a>          dataElementType: Chart.elements.Rectangle,
<a name="l1879"><span class="linenum">1879</span></a>  
<a name="l1880"><span class="linenum">1880</span></a>          initialize: function(chart, datasetIndex) {
<a name="l1881"><span class="linenum">1881</span></a>              Chart.DatasetController.prototype.initialize.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this, chart, datasetIndex);
<a name="l1882"><span class="linenum">1882</span></a>  
<a name="l1883"><span class="linenum">1883</span></a>  <span class="comment">            // Use this to indicate that this is a bar dataset.</span>
<a name="l1884"><span class="linenum">1884</span></a>              this.getMeta().bar = true;
<a name="l1885"><span class="linenum">1885</span></a>          },
<a name="l1886"><span class="linenum">1886</span></a>  
<a name="l1887"><span class="linenum">1887</span></a>  <span class="comment">        // Get the number of datasets that display bars. We use this to correctly calculate the bar width</span>
<a name="l1888"><span class="linenum">1888</span></a>          getBarCount: function getBarCount() {
<a name="l1889"><span class="linenum">1889</span></a>              var me = this;
<a name="l1890"><span class="linenum">1890</span></a>              var barCount = 0;
<a name="l1891"><span class="linenum">1891</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.chart.data.datasets, function(dataset, datasetIndex) {
<a name="l1892"><span class="linenum">1892</span></a>                  var meta = me.chart.getDatasetMeta(datasetIndex);
<a name="l1893"><span class="linenum">1893</span></a>                  if (meta.bar &amp;&amp; me.chart.isDatasetVisible(datasetIndex)) {
<a name="l1894"><span class="linenum">1894</span></a>                      ++barCount;
<a name="l1895"><span class="linenum">1895</span></a>                  }
<a name="l1896"><span class="linenum">1896</span></a>              }, me);
<a name="l1897"><span class="linenum">1897</span></a>              return barCount;
<a name="l1898"><span class="linenum">1898</span></a>          },
<a name="l1899"><span class="linenum">1899</span></a>  
<a name="l1900"><span class="linenum">1900</span></a>          update: function <a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(reset) {
<a name="l1901"><span class="linenum">1901</span></a>              var me = this;
<a name="l1902"><span class="linenum">1902</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.getMeta().data, function(rectangle, index) {
<a name="l1903"><span class="linenum">1903</span></a>                  me.updateElement(rectangle, index, reset);
<a name="l1904"><span class="linenum">1904</span></a>              }, me);
<a name="l1905"><span class="linenum">1905</span></a>          },
<a name="l1906"><span class="linenum">1906</span></a>  
<a name="l1907"><span class="linenum">1907</span></a>          updateElement: function updateElement(rectangle, index, reset) {
<a name="l1908"><span class="linenum">1908</span></a>              var me = this;
<a name="l1909"><span class="linenum">1909</span></a>              var meta = me.getMeta();
<a name="l1910"><span class="linenum">1910</span></a>              var xScale = me.getScaleForId(meta.xAxisID);
<a name="l1911"><span class="linenum">1911</span></a>              var yScale = me.getScaleForId(meta.yAxisID);
<a name="l1912"><span class="linenum">1912</span></a>              var scaleBase = yScale.getBasePixel();
<a name="l1913"><span class="linenum">1913</span></a>              var rectangleElementOptions = me.chart.options.elements.rectangle;
<a name="l1914"><span class="linenum">1914</span></a>              var custom = rectangle.custom || {};
<a name="l1915"><span class="linenum">1915</span></a>              var dataset = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l1916"><span class="linenum">1916</span></a>  
<a name="l1917"><span class="linenum">1917</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(rectangle, {
<a name="l1918"><span class="linenum">1918</span></a>  <span class="comment">                // Utility</span>
<a name="l1919"><span class="linenum">1919</span></a>                  _xScale: xScale,
<a name="l1920"><span class="linenum">1920</span></a>                  _yScale: yScale,
<a name="l1921"><span class="linenum">1921</span></a>                  _datasetIndex: me.index,
<a name="l1922"><span class="linenum">1922</span></a>                  _index: index,
<a name="l1923"><span class="linenum">1923</span></a>  
<a name="l1924"><span class="linenum">1924</span></a>  <span class="comment">                // Desired view properties</span>
<a name="l1925"><span class="linenum">1925</span></a>                  _model: {
<a name="l1926"><span class="linenum">1926</span></a>                      x: me.calculateBarX(index, me.index),
<a name="l1927"><span class="linenum">1927</span></a>                      y: reset ? scaleBase : me.calculateBarY(index, me.index),
<a name="l1928"><span class="linenum">1928</span></a>  
<a name="l1929"><span class="linenum">1929</span></a>  <span class="comment">                    // Tooltip</span>
<a name="l1930"><span class="linenum">1930</span></a>                      label: me.chart.data.labels[index],
<a name="l1931"><span class="linenum">1931</span></a>                      datasetLabel: dataset.label,
<a name="l1932"><span class="linenum">1932</span></a>  
<a name="l1933"><span class="linenum">1933</span></a>  <span class="comment">                    // Appearance</span>
<a name="l1934"><span class="linenum">1934</span></a>                      base: reset ? scaleBase : me.calculateBarBase(me.index, index),
<a name="l1935"><span class="linenum">1935</span></a>                      width: me.calculateBarWidth(index),
<a name="l1936"><span class="linenum">1936</span></a>                      backgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor),
<a name="l1937"><span class="linenum">1937</span></a>                      borderSkipped: custom.borderSkipped ? custom.borderSkipped : rectangleElementOptions.borderSkipped,
<a name="l1938"><span class="linenum">1938</span></a>                      borderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor),
<a name="l1939"><span class="linenum">1939</span></a>                      borderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth)
<a name="l1940"><span class="linenum">1940</span></a>                  }
<a name="l1941"><span class="linenum">1941</span></a>              });
<a name="l1942"><span class="linenum">1942</span></a>              rectangle.pivot();
<a name="l1943"><span class="linenum">1943</span></a>          },
<a name="l1944"><span class="linenum">1944</span></a>  
<a name="l1945"><span class="linenum">1945</span></a>          calculateBarBase: function(datasetIndex, index) {
<a name="l1946"><span class="linenum">1946</span></a>              var me = this;
<a name="l1947"><span class="linenum">1947</span></a>              var meta = me.getMeta();
<a name="l1948"><span class="linenum">1948</span></a>              var yScale = me.getScaleForId(meta.yAxisID);
<a name="l1949"><span class="linenum">1949</span></a>              var base = 0;
<a name="l1950"><span class="linenum">1950</span></a>  
<a name="l1951"><span class="linenum">1951</span></a>              if (yScale.options.stacked) {
<a name="l1952"><span class="linenum">1952</span></a>                  var chart = me.chart;
<a name="l1953"><span class="linenum">1953</span></a>                  var datasets = chart.data.datasets;
<a name="l1954"><span class="linenum">1954</span></a>                  var value = datasets[datasetIndex].data[index];
<a name="l1955"><span class="linenum">1955</span></a>  
<a name="l1956"><span class="linenum">1956</span></a>                  if (value &lt; 0) {
<a name="l1957"><span class="linenum">1957</span></a>                      for (var i = 0; i &lt; datasetIndex; i++) {
<a name="l1958"><span class="linenum">1958</span></a>                          var negDS = datasets[i];
<a name="l1959"><span class="linenum">1959</span></a>                          var negDSMeta = chart.getDatasetMeta(i);
<a name="l1960"><span class="linenum">1960</span></a>                          if (negDSMeta.bar &amp;&amp; negDSMeta.yAxisID === yScale.id &amp;&amp; chart.isDatasetVisible(i)) {
<a name="l1961"><span class="linenum">1961</span></a>                              base += negDS.data[index] &lt; 0 ? negDS.data[index] : 0;
<a name="l1962"><span class="linenum">1962</span></a>                          }
<a name="l1963"><span class="linenum">1963</span></a>                      }
<a name="l1964"><span class="linenum">1964</span></a>                  } else {
<a name="l1965"><span class="linenum">1965</span></a>                      for (var j = 0; j &lt; datasetIndex; j++) {
<a name="l1966"><span class="linenum">1966</span></a>                          var posDS = datasets[j];
<a name="l1967"><span class="linenum">1967</span></a>                          var posDSMeta = chart.getDatasetMeta(j);
<a name="l1968"><span class="linenum">1968</span></a>                          if (posDSMeta.bar &amp;&amp; posDSMeta.yAxisID === yScale.id &amp;&amp; chart.isDatasetVisible(j)) {
<a name="l1969"><span class="linenum">1969</span></a>                              base += posDS.data[index] &gt; 0 ? posDS.data[index] : 0;
<a name="l1970"><span class="linenum">1970</span></a>                          }
<a name="l1971"><span class="linenum">1971</span></a>                      }
<a name="l1972"><span class="linenum">1972</span></a>                  }
<a name="l1973"><span class="linenum">1973</span></a>  
<a name="l1974"><span class="linenum">1974</span></a>                  return yScale.getPixelForValue(base);
<a name="l1975"><span class="linenum">1975</span></a>              }
<a name="l1976"><span class="linenum">1976</span></a>  
<a name="l1977"><span class="linenum">1977</span></a>              return yScale.getBasePixel();
<a name="l1978"><span class="linenum">1978</span></a>          },
<a name="l1979"><span class="linenum">1979</span></a>  
<a name="l1980"><span class="linenum">1980</span></a>          getRuler: function(index) {
<a name="l1981"><span class="linenum">1981</span></a>              var me = this;
<a name="l1982"><span class="linenum">1982</span></a>              var meta = me.getMeta();
<a name="l1983"><span class="linenum">1983</span></a>              var xScale = me.getScaleForId(meta.xAxisID);
<a name="l1984"><span class="linenum">1984</span></a>              var datasetCount = me.getBarCount();
<a name="l1985"><span class="linenum">1985</span></a>  
<a name="l1986"><span class="linenum">1986</span></a>              var tickWidth;
<a name="l1987"><span class="linenum">1987</span></a>  
<a name="l1988"><span class="linenum">1988</span></a>              if (xScale.options.type === 'category') {
<a name="l1989"><span class="linenum">1989</span></a>                  tickWidth = xScale.getPixelForTick(index + 1) - xScale.getPixelForTick(index);
<a name="l1990"><span class="linenum">1990</span></a>              } else {
<a name="l1991"><span class="linenum">1991</span></a>  <span class="comment">                // Average width</span>
<a name="l1992"><span class="linenum">1992</span></a>                  tickWidth = xScale.width / xScale.ticks.length;
<a name="l1993"><span class="linenum">1993</span></a>              }
<a name="l1994"><span class="linenum">1994</span></a>              var categoryWidth = tickWidth * xScale.options.categoryPercentage;
<a name="l1995"><span class="linenum">1995</span></a>              var categorySpacing = (tickWidth - (tickWidth * xScale.options.categoryPercentage)) / 2;
<a name="l1996"><span class="linenum">1996</span></a>              var fullBarWidth = categoryWidth / datasetCount;
<a name="l1997"><span class="linenum">1997</span></a>  
<a name="l1998"><span class="linenum">1998</span></a>              if (xScale.ticks.length !== me.chart.data.labels.length) {
<a name="l1999"><span class="linenum">1999</span></a>                  var perc = xScale.ticks.length / me.chart.data.labels.length;
<a name="l2000"><span class="linenum">2000</span></a>                  fullBarWidth = fullBarWidth * perc;
<a name="l2001"><span class="linenum">2001</span></a>              }
<a name="l2002"><span class="linenum">2002</span></a>  
<a name="l2003"><span class="linenum">2003</span></a>              var barWidth = fullBarWidth * xScale.options.barPercentage;
<a name="l2004"><span class="linenum">2004</span></a>              var barSpacing = fullBarWidth - (fullBarWidth * xScale.options.barPercentage);
<a name="l2005"><span class="linenum">2005</span></a>  
<a name="l2006"><span class="linenum">2006</span></a>              return {
<a name="l2007"><span class="linenum">2007</span></a>                  datasetCount: datasetCount,
<a name="l2008"><span class="linenum">2008</span></a>                  tickWidth: tickWidth,
<a name="l2009"><span class="linenum">2009</span></a>                  categoryWidth: categoryWidth,
<a name="l2010"><span class="linenum">2010</span></a>                  categorySpacing: categorySpacing,
<a name="l2011"><span class="linenum">2011</span></a>                  fullBarWidth: fullBarWidth,
<a name="l2012"><span class="linenum">2012</span></a>                  barWidth: barWidth,
<a name="l2013"><span class="linenum">2013</span></a>                  barSpacing: barSpacing
<a name="l2014"><span class="linenum">2014</span></a>              };
<a name="l2015"><span class="linenum">2015</span></a>          },
<a name="l2016"><span class="linenum">2016</span></a>  
<a name="l2017"><span class="linenum">2017</span></a>          calculateBarWidth: function(index) {
<a name="l2018"><span class="linenum">2018</span></a>              var xScale = this.getScaleForId(this.getMeta().xAxisID);
<a name="l2019"><span class="linenum">2019</span></a>              var ruler = this.getRuler(index);
<a name="l2020"><span class="linenum">2020</span></a>              return xScale.options.stacked ? ruler.categoryWidth : ruler.barWidth;
<a name="l2021"><span class="linenum">2021</span></a>          },
<a name="l2022"><span class="linenum">2022</span></a>  
<a name="l2023"><span class="linenum">2023</span></a>  <span class="comment">        // Get bar index from the given dataset index accounting for the fact that not all bars are visible</span>
<a name="l2024"><span class="linenum">2024</span></a>          getBarIndex: function(datasetIndex) {
<a name="l2025"><span class="linenum">2025</span></a>              var barIndex = 0;
<a name="l2026"><span class="linenum">2026</span></a>              var meta, j;
<a name="l2027"><span class="linenum">2027</span></a>  
<a name="l2028"><span class="linenum">2028</span></a>              for (j = 0; j &lt; datasetIndex; ++j) {
<a name="l2029"><span class="linenum">2029</span></a>                  meta = this.chart.getDatasetMeta(j);
<a name="l2030"><span class="linenum">2030</span></a>                  if (meta.bar &amp;&amp; this.chart.isDatasetVisible(j)) {
<a name="l2031"><span class="linenum">2031</span></a>                      ++barIndex;
<a name="l2032"><span class="linenum">2032</span></a>                  }
<a name="l2033"><span class="linenum">2033</span></a>              }
<a name="l2034"><span class="linenum">2034</span></a>  
<a name="l2035"><span class="linenum">2035</span></a>              return barIndex;
<a name="l2036"><span class="linenum">2036</span></a>          },
<a name="l2037"><span class="linenum">2037</span></a>  
<a name="l2038"><span class="linenum">2038</span></a>          calculateBarX: function(index, datasetIndex) {
<a name="l2039"><span class="linenum">2039</span></a>              var me = this;
<a name="l2040"><span class="linenum">2040</span></a>              var meta = me.getMeta();
<a name="l2041"><span class="linenum">2041</span></a>              var xScale = me.getScaleForId(meta.xAxisID);
<a name="l2042"><span class="linenum">2042</span></a>              var barIndex = me.getBarIndex(datasetIndex);
<a name="l2043"><span class="linenum">2043</span></a>  
<a name="l2044"><span class="linenum">2044</span></a>              var ruler = me.getRuler(index);
<a name="l2045"><span class="linenum">2045</span></a>              var leftTick = xScale.getPixelForValue(null, index, datasetIndex, me.chart.isCombo);
<a name="l2046"><span class="linenum">2046</span></a>              leftTick -= me.chart.isCombo ? (ruler.tickWidth / 2) : 0;
<a name="l2047"><span class="linenum">2047</span></a>  
<a name="l2048"><span class="linenum">2048</span></a>              if (xScale.options.stacked) {
<a name="l2049"><span class="linenum">2049</span></a>                  return leftTick + (ruler.categoryWidth / 2) + ruler.categorySpacing;
<a name="l2050"><span class="linenum">2050</span></a>              }
<a name="l2051"><span class="linenum">2051</span></a>  
<a name="l2052"><span class="linenum">2052</span></a>              return leftTick +
<a name="l2053"><span class="linenum">2053</span></a>                  (ruler.barWidth / 2) +
<a name="l2054"><span class="linenum">2054</span></a>                  ruler.categorySpacing +
<a name="l2055"><span class="linenum">2055</span></a>                  (ruler.barWidth * barIndex) +
<a name="l2056"><span class="linenum">2056</span></a>                  (ruler.barSpacing / 2) +
<a name="l2057"><span class="linenum">2057</span></a>                  (ruler.barSpacing * barIndex);
<a name="l2058"><span class="linenum">2058</span></a>          },
<a name="l2059"><span class="linenum">2059</span></a>  
<a name="l2060"><span class="linenum">2060</span></a>          calculateBarY: function(index, datasetIndex) {
<a name="l2061"><span class="linenum">2061</span></a>              var me = this;
<a name="l2062"><span class="linenum">2062</span></a>              var meta = me.getMeta();
<a name="l2063"><span class="linenum">2063</span></a>              var yScale = me.getScaleForId(meta.yAxisID);
<a name="l2064"><span class="linenum">2064</span></a>              var value = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>().data[index];
<a name="l2065"><span class="linenum">2065</span></a>  
<a name="l2066"><span class="linenum">2066</span></a>              if (yScale.options.stacked) {
<a name="l2067"><span class="linenum">2067</span></a>  
<a name="l2068"><span class="linenum">2068</span></a>                  var sumPos = 0,
<a name="l2069"><span class="linenum">2069</span></a>                      sumNeg = 0;
<a name="l2070"><span class="linenum">2070</span></a>  
<a name="l2071"><span class="linenum">2071</span></a>                  for (var i = 0; i &lt; datasetIndex; i++) {
<a name="l2072"><span class="linenum">2072</span></a>                      var ds = me.chart.data.datasets[i];
<a name="l2073"><span class="linenum">2073</span></a>                      var dsMeta = me.chart.getDatasetMeta(i);
<a name="l2074"><span class="linenum">2074</span></a>                      if (dsMeta.bar &amp;&amp; dsMeta.yAxisID === yScale.id &amp;&amp; me.chart.isDatasetVisible(i)) {
<a name="l2075"><span class="linenum">2075</span></a>                          if (ds.data[index] &lt; 0) {
<a name="l2076"><span class="linenum">2076</span></a>                              sumNeg += ds.data[index] || 0;
<a name="l2077"><span class="linenum">2077</span></a>                          } else {
<a name="l2078"><span class="linenum">2078</span></a>                              sumPos += ds.data[index] || 0;
<a name="l2079"><span class="linenum">2079</span></a>                          }
<a name="l2080"><span class="linenum">2080</span></a>                      }
<a name="l2081"><span class="linenum">2081</span></a>                  }
<a name="l2082"><span class="linenum">2082</span></a>  
<a name="l2083"><span class="linenum">2083</span></a>                  if (value &lt; 0) {
<a name="l2084"><span class="linenum">2084</span></a>                      return yScale.getPixelForValue(sumNeg + value);
<a name="l2085"><span class="linenum">2085</span></a>                  } else {
<a name="l2086"><span class="linenum">2086</span></a>                      return yScale.getPixelForValue(sumPos + value);
<a name="l2087"><span class="linenum">2087</span></a>                  }
<a name="l2088"><span class="linenum">2088</span></a>              }
<a name="l2089"><span class="linenum">2089</span></a>  
<a name="l2090"><span class="linenum">2090</span></a>              return yScale.getPixelForValue(value);
<a name="l2091"><span class="linenum">2091</span></a>          },
<a name="l2092"><span class="linenum">2092</span></a>  
<a name="l2093"><span class="linenum">2093</span></a>          draw: function(ease) {
<a name="l2094"><span class="linenum">2094</span></a>              var me = this;
<a name="l2095"><span class="linenum">2095</span></a>              var easingDecimal = ease || 1;
<a name="l2096"><span class="linenum">2096</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.getMeta().data, function(rectangle, index) {
<a name="l2097"><span class="linenum">2097</span></a>                  var d = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>().data[index];
<a name="l2098"><span class="linenum">2098</span></a>                  if (d !== null &amp;&amp; d !== undefined &amp;&amp; !isNaN(d)) {
<a name="l2099"><span class="linenum">2099</span></a>                      rectangle.<a class="function" onClick="logFunction('transition')" href="../../../_functions/transition.html" onMouseOver="funcPopup(event,'transition')">transition</a>(easingDecimal).<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>();
<a name="l2100"><span class="linenum">2100</span></a>                  }
<a name="l2101"><span class="linenum">2101</span></a>              }, me);
<a name="l2102"><span class="linenum">2102</span></a>          },
<a name="l2103"><span class="linenum">2103</span></a>  
<a name="l2104"><span class="linenum">2104</span></a>          setHoverStyle: function(rectangle) {
<a name="l2105"><span class="linenum">2105</span></a>              var dataset = this.chart.data.datasets[rectangle._datasetIndex];
<a name="l2106"><span class="linenum">2106</span></a>              var index = rectangle._index;
<a name="l2107"><span class="linenum">2107</span></a>  
<a name="l2108"><span class="linenum">2108</span></a>              var custom = rectangle.custom || {};
<a name="l2109"><span class="linenum">2109</span></a>              var model = rectangle._model;
<a name="l2110"><span class="linenum">2110</span></a>              model.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : helpers.getValueAtIndexOrDefault(dataset.hoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));
<a name="l2111"><span class="linenum">2111</span></a>              model.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : helpers.getValueAtIndexOrDefault(dataset.hoverBorderColor, index, helpers.getHoverColor(model.borderColor));
<a name="l2112"><span class="linenum">2112</span></a>              model.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : helpers.getValueAtIndexOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);
<a name="l2113"><span class="linenum">2113</span></a>          },
<a name="l2114"><span class="linenum">2114</span></a>  
<a name="l2115"><span class="linenum">2115</span></a>          removeHoverStyle: function(rectangle) {
<a name="l2116"><span class="linenum">2116</span></a>              var dataset = this.chart.data.datasets[rectangle._datasetIndex];
<a name="l2117"><span class="linenum">2117</span></a>              var index = rectangle._index;
<a name="l2118"><span class="linenum">2118</span></a>              var custom = rectangle.custom || {};
<a name="l2119"><span class="linenum">2119</span></a>              var model = rectangle._model;
<a name="l2120"><span class="linenum">2120</span></a>              var rectangleElementOptions = this.chart.options.elements.rectangle;
<a name="l2121"><span class="linenum">2121</span></a>  
<a name="l2122"><span class="linenum">2122</span></a>              model.backgroundColor = custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor);
<a name="l2123"><span class="linenum">2123</span></a>              model.borderColor = custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor);
<a name="l2124"><span class="linenum">2124</span></a>              model.borderWidth = custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth);
<a name="l2125"><span class="linenum">2125</span></a>          }
<a name="l2126"><span class="linenum">2126</span></a>  
<a name="l2127"><span class="linenum">2127</span></a>      });
<a name="l2128"><span class="linenum">2128</span></a>  
<a name="l2129"><span class="linenum">2129</span></a>  
<a name="l2130"><span class="linenum">2130</span></a>  <span class="comment">    // including horizontalBar in the bar file, instead of a file of its own</span>
<a name="l2131"><span class="linenum">2131</span></a>  <span class="comment">    // it extends bar (like pie extends doughnut)</span>
<a name="l2132"><span class="linenum">2132</span></a>      Chart.defaults.horizontalBar = {
<a name="l2133"><span class="linenum">2133</span></a>          hover: {
<a name="l2134"><span class="linenum">2134</span></a>              mode: &quot;label&quot;
<a name="l2135"><span class="linenum">2135</span></a>          },
<a name="l2136"><span class="linenum">2136</span></a>  
<a name="l2137"><span class="linenum">2137</span></a>          scales: {
<a name="l2138"><span class="linenum">2138</span></a>              xAxes: [{
<a name="l2139"><span class="linenum">2139</span></a>                  type: &quot;linear&quot;,
<a name="l2140"><span class="linenum">2140</span></a>                  position: &quot;bottom&quot;
<a name="l2141"><span class="linenum">2141</span></a>              }],
<a name="l2142"><span class="linenum">2142</span></a>              yAxes: [{
<a name="l2143"><span class="linenum">2143</span></a>                  position: &quot;left&quot;,
<a name="l2144"><span class="linenum">2144</span></a>                  type: &quot;category&quot;,
<a name="l2145"><span class="linenum">2145</span></a>  
<a name="l2146"><span class="linenum">2146</span></a>  <span class="comment">                // Specific to Horizontal Bar Controller</span>
<a name="l2147"><span class="linenum">2147</span></a>                  categoryPercentage: 0.8,
<a name="l2148"><span class="linenum">2148</span></a>                  barPercentage: 0.9,
<a name="l2149"><span class="linenum">2149</span></a>  
<a name="l2150"><span class="linenum">2150</span></a>  <span class="comment">                // grid line settings</span>
<a name="l2151"><span class="linenum">2151</span></a>                  gridLines: {
<a name="l2152"><span class="linenum">2152</span></a>                      offsetGridLines: true
<a name="l2153"><span class="linenum">2153</span></a>                  }
<a name="l2154"><span class="linenum">2154</span></a>              }]
<a name="l2155"><span class="linenum">2155</span></a>          },
<a name="l2156"><span class="linenum">2156</span></a>          elements: {
<a name="l2157"><span class="linenum">2157</span></a>              rectangle: {
<a name="l2158"><span class="linenum">2158</span></a>                  borderSkipped: 'left'
<a name="l2159"><span class="linenum">2159</span></a>              }
<a name="l2160"><span class="linenum">2160</span></a>          },
<a name="l2161"><span class="linenum">2161</span></a>          tooltips: {
<a name="l2162"><span class="linenum">2162</span></a>              callbacks: {
<a name="l2163"><span class="linenum">2163</span></a>                  title: function(tooltipItems, data) {
<a name="l2164"><span class="linenum">2164</span></a>  <span class="comment">                    // Pick first xLabel for now</span>
<a name="l2165"><span class="linenum">2165</span></a>                      var title = '';
<a name="l2166"><span class="linenum">2166</span></a>  
<a name="l2167"><span class="linenum">2167</span></a>                      if (tooltipItems.length &gt; 0) {
<a name="l2168"><span class="linenum">2168</span></a>                          if (tooltipItems[0].yLabel) {
<a name="l2169"><span class="linenum">2169</span></a>                              title = tooltipItems[0].yLabel;
<a name="l2170"><span class="linenum">2170</span></a>                          } else if (data.labels.length &gt; 0 &amp;&amp; tooltipItems[0].index &lt; data.labels.length) {
<a name="l2171"><span class="linenum">2171</span></a>                              title = data.labels[tooltipItems[0].index];
<a name="l2172"><span class="linenum">2172</span></a>                          }
<a name="l2173"><span class="linenum">2173</span></a>                      }
<a name="l2174"><span class="linenum">2174</span></a>  
<a name="l2175"><span class="linenum">2175</span></a>                      return title;
<a name="l2176"><span class="linenum">2176</span></a>                  },
<a name="l2177"><span class="linenum">2177</span></a>                  label: function(tooltipItem, data) {
<a name="l2178"><span class="linenum">2178</span></a>                      var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
<a name="l2179"><span class="linenum">2179</span></a>                  return datasetLabel + ': ' + tooltipItem.xLabel;
<a name="l2180"><span class="linenum">2180</span></a>                  }
<a name="l2181"><span class="linenum">2181</span></a>              }
<a name="l2182"><span class="linenum">2182</span></a>          }
<a name="l2183"><span class="linenum">2183</span></a>      };
<a name="l2184"><span class="linenum">2184</span></a>  
<a name="l2185"><span class="linenum">2185</span></a>      Chart.controllers.horizontalBar = Chart.controllers.bar.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l2186"><span class="linenum">2186</span></a>          updateElement: function updateElement(rectangle, index, reset, numBars) {
<a name="l2187"><span class="linenum">2187</span></a>              var me = this;
<a name="l2188"><span class="linenum">2188</span></a>              var meta = me.getMeta();
<a name="l2189"><span class="linenum">2189</span></a>              var xScale = me.getScaleForId(meta.xAxisID);
<a name="l2190"><span class="linenum">2190</span></a>              var yScale = me.getScaleForId(meta.yAxisID);
<a name="l2191"><span class="linenum">2191</span></a>              var scaleBase = xScale.getBasePixel();
<a name="l2192"><span class="linenum">2192</span></a>              var custom = rectangle.custom || {};
<a name="l2193"><span class="linenum">2193</span></a>              var dataset = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l2194"><span class="linenum">2194</span></a>              var rectangleElementOptions = me.chart.options.elements.rectangle;
<a name="l2195"><span class="linenum">2195</span></a>  
<a name="l2196"><span class="linenum">2196</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(rectangle, {
<a name="l2197"><span class="linenum">2197</span></a>  <span class="comment">                // Utility</span>
<a name="l2198"><span class="linenum">2198</span></a>                  _xScale: xScale,
<a name="l2199"><span class="linenum">2199</span></a>                  _yScale: yScale,
<a name="l2200"><span class="linenum">2200</span></a>                  _datasetIndex: me.index,
<a name="l2201"><span class="linenum">2201</span></a>                  _index: index,
<a name="l2202"><span class="linenum">2202</span></a>  
<a name="l2203"><span class="linenum">2203</span></a>  <span class="comment">                // Desired view properties</span>
<a name="l2204"><span class="linenum">2204</span></a>                  _model: {
<a name="l2205"><span class="linenum">2205</span></a>                      x: reset ? scaleBase : me.calculateBarX(index, me.index),
<a name="l2206"><span class="linenum">2206</span></a>                      y: me.calculateBarY(index, me.index),
<a name="l2207"><span class="linenum">2207</span></a>  
<a name="l2208"><span class="linenum">2208</span></a>  <span class="comment">                    // Tooltip</span>
<a name="l2209"><span class="linenum">2209</span></a>                      label: me.chart.data.labels[index],
<a name="l2210"><span class="linenum">2210</span></a>                      datasetLabel: dataset.label,
<a name="l2211"><span class="linenum">2211</span></a>  
<a name="l2212"><span class="linenum">2212</span></a>  <span class="comment">                    // Appearance</span>
<a name="l2213"><span class="linenum">2213</span></a>                      base: reset ? scaleBase : me.calculateBarBase(me.index, index),
<a name="l2214"><span class="linenum">2214</span></a>                      height: me.calculateBarHeight(index),
<a name="l2215"><span class="linenum">2215</span></a>                      backgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor),
<a name="l2216"><span class="linenum">2216</span></a>                      borderSkipped: custom.borderSkipped ? custom.borderSkipped : rectangleElementOptions.borderSkipped,
<a name="l2217"><span class="linenum">2217</span></a>                      borderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor),
<a name="l2218"><span class="linenum">2218</span></a>                      borderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth)
<a name="l2219"><span class="linenum">2219</span></a>                  },
<a name="l2220"><span class="linenum">2220</span></a>  
<a name="l2221"><span class="linenum">2221</span></a>                  draw: function () {
<a name="l2222"><span class="linenum">2222</span></a>                      var ctx = this._chart.ctx;
<a name="l2223"><span class="linenum">2223</span></a>                      var vm = this._view;
<a name="l2224"><span class="linenum">2224</span></a>  
<a name="l2225"><span class="linenum">2225</span></a>                      var halfHeight = vm.height / 2,
<a name="l2226"><span class="linenum">2226</span></a>                          topY = vm.y - halfHeight,
<a name="l2227"><span class="linenum">2227</span></a>                          bottomY = vm.y + halfHeight,
<a name="l2228"><span class="linenum">2228</span></a>                          right = vm.base - (vm.base - vm.x),
<a name="l2229"><span class="linenum">2229</span></a>                          halfStroke = vm.borderWidth / 2;
<a name="l2230"><span class="linenum">2230</span></a>  
<a name="l2231"><span class="linenum">2231</span></a>  <span class="comment">                    // Canvas doesn't allow us to stroke inside the width so we can</span>
<a name="l2232"><span class="linenum">2232</span></a>  <span class="comment">                    // adjust the sizes to fit if we're setting a stroke on the line</span>
<a name="l2233"><span class="linenum">2233</span></a>                      if (vm.borderWidth) {
<a name="l2234"><span class="linenum">2234</span></a>                          topY += halfStroke;
<a name="l2235"><span class="linenum">2235</span></a>                          bottomY -= halfStroke;
<a name="l2236"><span class="linenum">2236</span></a>                          right += halfStroke;
<a name="l2237"><span class="linenum">2237</span></a>                      }
<a name="l2238"><span class="linenum">2238</span></a>  
<a name="l2239"><span class="linenum">2239</span></a>                      ctx.beginPath();
<a name="l2240"><span class="linenum">2240</span></a>  
<a name="l2241"><span class="linenum">2241</span></a>                      ctx.fillStyle = vm.backgroundColor;
<a name="l2242"><span class="linenum">2242</span></a>                      ctx.strokeStyle = vm.borderColor;
<a name="l2243"><span class="linenum">2243</span></a>                      ctx.lineWidth = vm.borderWidth;
<a name="l2244"><span class="linenum">2244</span></a>  
<a name="l2245"><span class="linenum">2245</span></a>  <span class="comment">                    // Corner points, from bottom-left to bottom-right clockwise</span>
<a name="l2246"><span class="linenum">2246</span></a>  <span class="comment">                    // | 1 2 |</span>
<a name="l2247"><span class="linenum">2247</span></a>  <span class="comment">                    // | 0 3 |</span>
<a name="l2248"><span class="linenum">2248</span></a>                      var corners = [
<a name="l2249"><span class="linenum">2249</span></a>                          [vm.base, bottomY],
<a name="l2250"><span class="linenum">2250</span></a>                          [vm.base, topY],
<a name="l2251"><span class="linenum">2251</span></a>                          [right, topY],
<a name="l2252"><span class="linenum">2252</span></a>                          [right, bottomY]
<a name="l2253"><span class="linenum">2253</span></a>                      ];
<a name="l2254"><span class="linenum">2254</span></a>  
<a name="l2255"><span class="linenum">2255</span></a>  <span class="comment">                    // Find first (starting) corner with fallback to 'bottom'</span>
<a name="l2256"><span class="linenum">2256</span></a>                      var borders = ['bottom', 'left', 'top', 'right'];
<a name="l2257"><span class="linenum">2257</span></a>                      var startCorner = borders.<a class="function" onClick="logFunction('indexOf')" href="../../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>(vm.borderSkipped, 0);
<a name="l2258"><span class="linenum">2258</span></a>                      if (startCorner === -1)
<a name="l2259"><span class="linenum">2259</span></a>                          startCorner = 0;
<a name="l2260"><span class="linenum">2260</span></a>  
<a name="l2261"><span class="linenum">2261</span></a>  					function <a class="function" onClick="logFunction('cornerAt')" href="../../../_functions/cornerat.html" onMouseOver="funcPopup(event,'cornerat')">cornerAt</a>(index) {
<a name="l2262"><span class="linenum">2262</span></a>                          return corners[(startCorner + index) % 4];
<a name="l2263"><span class="linenum">2263</span></a>                      }
<a name="l2264"><span class="linenum">2264</span></a>  
<a name="l2265"><span class="linenum">2265</span></a>  <span class="comment">                    // Draw rectangle from 'startCorner'</span>
<a name="l2266"><span class="linenum">2266</span></a>                      ctx.moveTo.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(ctx, <a class="function" onClick="logFunction('cornerAt')" href="../../../_functions/cornerat.html" onMouseOver="funcPopup(event,'cornerat')">cornerAt</a>(0));
<a name="l2267"><span class="linenum">2267</span></a>                      for (var i = 1; i &lt; 4; i++)
<a name="l2268"><span class="linenum">2268</span></a>                          ctx.lineTo.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(ctx, <a class="function" onClick="logFunction('cornerAt')" href="../../../_functions/cornerat.html" onMouseOver="funcPopup(event,'cornerat')">cornerAt</a>(i));
<a name="l2269"><span class="linenum">2269</span></a>  
<a name="l2270"><span class="linenum">2270</span></a>                      ctx.fill();
<a name="l2271"><span class="linenum">2271</span></a>                      if (vm.borderWidth) {
<a name="l2272"><span class="linenum">2272</span></a>                          ctx.stroke();
<a name="l2273"><span class="linenum">2273</span></a>                      }
<a name="l2274"><span class="linenum">2274</span></a>                  },
<a name="l2275"><span class="linenum">2275</span></a>  
<a name="l2276"><span class="linenum">2276</span></a>                  inRange: function (mouseX, mouseY) {
<a name="l2277"><span class="linenum">2277</span></a>                      var vm = this._view;
<a name="l2278"><span class="linenum">2278</span></a>                      var inRange = false;
<a name="l2279"><span class="linenum">2279</span></a>  
<a name="l2280"><span class="linenum">2280</span></a>                      if (vm) {
<a name="l2281"><span class="linenum">2281</span></a>                          if (vm.x &lt; vm.base) {
<a name="l2282"><span class="linenum">2282</span></a>                              inRange = (mouseY &gt;= vm.y - vm.height / 2 &amp;&amp; mouseY &lt;= vm.y + vm.height / 2) &amp;&amp; (mouseX &gt;= vm.x &amp;&amp; mouseX &lt;= vm.base);
<a name="l2283"><span class="linenum">2283</span></a>                          } else {
<a name="l2284"><span class="linenum">2284</span></a>                              inRange = (mouseY &gt;= vm.y - vm.height / 2 &amp;&amp; mouseY &lt;= vm.y + vm.height / 2) &amp;&amp; (mouseX &gt;= vm.base &amp;&amp; mouseX &lt;= vm.x);
<a name="l2285"><span class="linenum">2285</span></a>                          }
<a name="l2286"><span class="linenum">2286</span></a>                      }
<a name="l2287"><span class="linenum">2287</span></a>  
<a name="l2288"><span class="linenum">2288</span></a>                      return inRange;
<a name="l2289"><span class="linenum">2289</span></a>                  }
<a name="l2290"><span class="linenum">2290</span></a>              });
<a name="l2291"><span class="linenum">2291</span></a>  
<a name="l2292"><span class="linenum">2292</span></a>              rectangle.pivot();
<a name="l2293"><span class="linenum">2293</span></a>          },
<a name="l2294"><span class="linenum">2294</span></a>  
<a name="l2295"><span class="linenum">2295</span></a>          calculateBarBase: function (datasetIndex, index) {
<a name="l2296"><span class="linenum">2296</span></a>              var me = this;
<a name="l2297"><span class="linenum">2297</span></a>              var meta = me.getMeta();
<a name="l2298"><span class="linenum">2298</span></a>              var xScale = me.getScaleForId(meta.xAxisID);
<a name="l2299"><span class="linenum">2299</span></a>              var base = 0;
<a name="l2300"><span class="linenum">2300</span></a>  
<a name="l2301"><span class="linenum">2301</span></a>              if (xScale.options.stacked) {
<a name="l2302"><span class="linenum">2302</span></a>  
<a name="l2303"><span class="linenum">2303</span></a>                  var value = me.chart.data.datasets[datasetIndex].data[index];
<a name="l2304"><span class="linenum">2304</span></a>  
<a name="l2305"><span class="linenum">2305</span></a>                  if (value &lt; 0) {
<a name="l2306"><span class="linenum">2306</span></a>                      for (var i = 0; i &lt; datasetIndex; i++) {
<a name="l2307"><span class="linenum">2307</span></a>                          var negDS = me.chart.data.datasets[i];
<a name="l2308"><span class="linenum">2308</span></a>                          var negDSMeta = me.chart.getDatasetMeta(i);
<a name="l2309"><span class="linenum">2309</span></a>                          if (negDSMeta.bar &amp;&amp; negDSMeta.xAxisID === xScale.id &amp;&amp; me.chart.isDatasetVisible(i)) {
<a name="l2310"><span class="linenum">2310</span></a>                              base += negDS.data[index] &lt; 0 ? negDS.data[index] : 0;
<a name="l2311"><span class="linenum">2311</span></a>                          }
<a name="l2312"><span class="linenum">2312</span></a>                      }
<a name="l2313"><span class="linenum">2313</span></a>                  } else {
<a name="l2314"><span class="linenum">2314</span></a>                      for (var j = 0; j &lt; datasetIndex; j++) {
<a name="l2315"><span class="linenum">2315</span></a>                          var posDS = me.chart.data.datasets[j];
<a name="l2316"><span class="linenum">2316</span></a>                          var posDSMeta = me.chart.getDatasetMeta(j);
<a name="l2317"><span class="linenum">2317</span></a>                          if (posDSMeta.bar &amp;&amp; posDSMeta.xAxisID === xScale.id &amp;&amp; me.chart.isDatasetVisible(j)) {
<a name="l2318"><span class="linenum">2318</span></a>                              base += posDS.data[index] &gt; 0 ? posDS.data[index] : 0;
<a name="l2319"><span class="linenum">2319</span></a>                          }
<a name="l2320"><span class="linenum">2320</span></a>                      }
<a name="l2321"><span class="linenum">2321</span></a>                  }
<a name="l2322"><span class="linenum">2322</span></a>  
<a name="l2323"><span class="linenum">2323</span></a>                  return xScale.getPixelForValue(base);
<a name="l2324"><span class="linenum">2324</span></a>              }
<a name="l2325"><span class="linenum">2325</span></a>  
<a name="l2326"><span class="linenum">2326</span></a>              return xScale.getBasePixel();
<a name="l2327"><span class="linenum">2327</span></a>          },
<a name="l2328"><span class="linenum">2328</span></a>  
<a name="l2329"><span class="linenum">2329</span></a>          getRuler: function (index) {
<a name="l2330"><span class="linenum">2330</span></a>              var me = this;
<a name="l2331"><span class="linenum">2331</span></a>              var meta = me.getMeta();
<a name="l2332"><span class="linenum">2332</span></a>              var yScale = me.getScaleForId(meta.yAxisID);
<a name="l2333"><span class="linenum">2333</span></a>              var datasetCount = me.getBarCount();
<a name="l2334"><span class="linenum">2334</span></a>  
<a name="l2335"><span class="linenum">2335</span></a>              var tickHeight;
<a name="l2336"><span class="linenum">2336</span></a>              if (yScale.options.type === 'category') {
<a name="l2337"><span class="linenum">2337</span></a>                  tickHeight = yScale.getPixelForTick(index + 1) - yScale.getPixelForTick(index);
<a name="l2338"><span class="linenum">2338</span></a>              } else {
<a name="l2339"><span class="linenum">2339</span></a>  <span class="comment">                // Average width</span>
<a name="l2340"><span class="linenum">2340</span></a>                  tickHeight = yScale.width / yScale.ticks.length;
<a name="l2341"><span class="linenum">2341</span></a>              }
<a name="l2342"><span class="linenum">2342</span></a>              var categoryHeight = tickHeight * yScale.options.categoryPercentage;
<a name="l2343"><span class="linenum">2343</span></a>              var categorySpacing = (tickHeight - (tickHeight * yScale.options.categoryPercentage)) / 2;
<a name="l2344"><span class="linenum">2344</span></a>              var fullBarHeight = categoryHeight / datasetCount;
<a name="l2345"><span class="linenum">2345</span></a>  
<a name="l2346"><span class="linenum">2346</span></a>              if (yScale.ticks.length !== me.chart.data.labels.length) {
<a name="l2347"><span class="linenum">2347</span></a>                  var perc = yScale.ticks.length / me.chart.data.labels.length;
<a name="l2348"><span class="linenum">2348</span></a>                  fullBarHeight = fullBarHeight * perc;
<a name="l2349"><span class="linenum">2349</span></a>              }
<a name="l2350"><span class="linenum">2350</span></a>  
<a name="l2351"><span class="linenum">2351</span></a>              var barHeight = fullBarHeight * yScale.options.barPercentage;
<a name="l2352"><span class="linenum">2352</span></a>              var barSpacing = fullBarHeight - (fullBarHeight * yScale.options.barPercentage);
<a name="l2353"><span class="linenum">2353</span></a>  
<a name="l2354"><span class="linenum">2354</span></a>              return {
<a name="l2355"><span class="linenum">2355</span></a>                  datasetCount: datasetCount,
<a name="l2356"><span class="linenum">2356</span></a>                  tickHeight: tickHeight,
<a name="l2357"><span class="linenum">2357</span></a>                  categoryHeight: categoryHeight,
<a name="l2358"><span class="linenum">2358</span></a>                  categorySpacing: categorySpacing,
<a name="l2359"><span class="linenum">2359</span></a>                  fullBarHeight: fullBarHeight,
<a name="l2360"><span class="linenum">2360</span></a>                  barHeight: barHeight,
<a name="l2361"><span class="linenum">2361</span></a>                  barSpacing: barSpacing,
<a name="l2362"><span class="linenum">2362</span></a>              };
<a name="l2363"><span class="linenum">2363</span></a>          },
<a name="l2364"><span class="linenum">2364</span></a>  
<a name="l2365"><span class="linenum">2365</span></a>          calculateBarHeight: function (index) {
<a name="l2366"><span class="linenum">2366</span></a>              var me = this;
<a name="l2367"><span class="linenum">2367</span></a>              var yScale = me.getScaleForId(me.getMeta().yAxisID);
<a name="l2368"><span class="linenum">2368</span></a>              var ruler = me.getRuler(index);
<a name="l2369"><span class="linenum">2369</span></a>              return yScale.options.stacked ? ruler.categoryHeight : ruler.barHeight;
<a name="l2370"><span class="linenum">2370</span></a>          },
<a name="l2371"><span class="linenum">2371</span></a>  
<a name="l2372"><span class="linenum">2372</span></a>          calculateBarX: function (index, datasetIndex) {
<a name="l2373"><span class="linenum">2373</span></a>              var me = this;
<a name="l2374"><span class="linenum">2374</span></a>              var meta = me.getMeta();
<a name="l2375"><span class="linenum">2375</span></a>              var xScale = me.getScaleForId(meta.xAxisID);
<a name="l2376"><span class="linenum">2376</span></a>              var value = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>().data[index];
<a name="l2377"><span class="linenum">2377</span></a>  
<a name="l2378"><span class="linenum">2378</span></a>              if (xScale.options.stacked) {
<a name="l2379"><span class="linenum">2379</span></a>  
<a name="l2380"><span class="linenum">2380</span></a>                  var sumPos = 0,
<a name="l2381"><span class="linenum">2381</span></a>                      sumNeg = 0;
<a name="l2382"><span class="linenum">2382</span></a>  
<a name="l2383"><span class="linenum">2383</span></a>                  for (var i = 0; i &lt; datasetIndex; i++) {
<a name="l2384"><span class="linenum">2384</span></a>                      var ds = me.chart.data.datasets[i];
<a name="l2385"><span class="linenum">2385</span></a>                      var dsMeta = me.chart.getDatasetMeta(i);
<a name="l2386"><span class="linenum">2386</span></a>                      if (dsMeta.bar &amp;&amp; dsMeta.xAxisID === xScale.id &amp;&amp; me.chart.isDatasetVisible(i)) {
<a name="l2387"><span class="linenum">2387</span></a>                          if (ds.data[index] &lt; 0) {
<a name="l2388"><span class="linenum">2388</span></a>                              sumNeg += ds.data[index] || 0;
<a name="l2389"><span class="linenum">2389</span></a>                          } else {
<a name="l2390"><span class="linenum">2390</span></a>                              sumPos += ds.data[index] || 0;
<a name="l2391"><span class="linenum">2391</span></a>                          }
<a name="l2392"><span class="linenum">2392</span></a>                      }
<a name="l2393"><span class="linenum">2393</span></a>                  }
<a name="l2394"><span class="linenum">2394</span></a>  
<a name="l2395"><span class="linenum">2395</span></a>                  if (value &lt; 0) {
<a name="l2396"><span class="linenum">2396</span></a>                      return xScale.getPixelForValue(sumNeg + value);
<a name="l2397"><span class="linenum">2397</span></a>                  } else {
<a name="l2398"><span class="linenum">2398</span></a>                      return xScale.getPixelForValue(sumPos + value);
<a name="l2399"><span class="linenum">2399</span></a>                  }
<a name="l2400"><span class="linenum">2400</span></a>              }
<a name="l2401"><span class="linenum">2401</span></a>  
<a name="l2402"><span class="linenum">2402</span></a>              return xScale.getPixelForValue(value);
<a name="l2403"><span class="linenum">2403</span></a>          },
<a name="l2404"><span class="linenum">2404</span></a>  
<a name="l2405"><span class="linenum">2405</span></a>          calculateBarY: function (index, datasetIndex) {
<a name="l2406"><span class="linenum">2406</span></a>              var me = this;
<a name="l2407"><span class="linenum">2407</span></a>              var meta = me.getMeta();
<a name="l2408"><span class="linenum">2408</span></a>              var yScale = me.getScaleForId(meta.yAxisID);
<a name="l2409"><span class="linenum">2409</span></a>              var barIndex = me.getBarIndex(datasetIndex);
<a name="l2410"><span class="linenum">2410</span></a>  
<a name="l2411"><span class="linenum">2411</span></a>              var ruler = me.getRuler(index);
<a name="l2412"><span class="linenum">2412</span></a>              var topTick = yScale.getPixelForValue(null, index, datasetIndex, me.chart.isCombo);
<a name="l2413"><span class="linenum">2413</span></a>              topTick -= me.chart.isCombo ? (ruler.tickHeight / 2) : 0;
<a name="l2414"><span class="linenum">2414</span></a>  
<a name="l2415"><span class="linenum">2415</span></a>              if (yScale.options.stacked) {
<a name="l2416"><span class="linenum">2416</span></a>                  return topTick + (ruler.categoryHeight / 2) + ruler.categorySpacing;
<a name="l2417"><span class="linenum">2417</span></a>              }
<a name="l2418"><span class="linenum">2418</span></a>  
<a name="l2419"><span class="linenum">2419</span></a>              return topTick +
<a name="l2420"><span class="linenum">2420</span></a>                  (ruler.barHeight / 2) +
<a name="l2421"><span class="linenum">2421</span></a>                  ruler.categorySpacing +
<a name="l2422"><span class="linenum">2422</span></a>                  (ruler.barHeight * barIndex) +
<a name="l2423"><span class="linenum">2423</span></a>                  (ruler.barSpacing / 2) +
<a name="l2424"><span class="linenum">2424</span></a>                  (ruler.barSpacing * barIndex);
<a name="l2425"><span class="linenum">2425</span></a>          }
<a name="l2426"><span class="linenum">2426</span></a>      });
<a name="l2427"><span class="linenum">2427</span></a>  };
<a name="l2428"><span class="linenum">2428</span></a>  
<a name="l2429"><span class="linenum">2429</span></a>  },{}],16:[function(require,module,exports){
<a name="l2430"><span class="linenum">2430</span></a>  &quot;use strict&quot;;
<a name="l2431"><span class="linenum">2431</span></a>  
<a name="l2432"><span class="linenum">2432</span></a>  module.exports = function(Chart) {
<a name="l2433"><span class="linenum">2433</span></a>  
<a name="l2434"><span class="linenum">2434</span></a>      var helpers = Chart.helpers;
<a name="l2435"><span class="linenum">2435</span></a>  
<a name="l2436"><span class="linenum">2436</span></a>      Chart.defaults.bubble = {
<a name="l2437"><span class="linenum">2437</span></a>          hover: {
<a name="l2438"><span class="linenum">2438</span></a>              mode: &quot;single&quot;
<a name="l2439"><span class="linenum">2439</span></a>          },
<a name="l2440"><span class="linenum">2440</span></a>  
<a name="l2441"><span class="linenum">2441</span></a>          scales: {
<a name="l2442"><span class="linenum">2442</span></a>              xAxes: [{
<a name="l2443"><span class="linenum">2443</span></a>                  type: &quot;linear&quot;, // bubble should probably use a linear scale by default
<a name="l2444"><span class="linenum">2444</span></a>                  position: &quot;bottom&quot;,
<a name="l2445"><span class="linenum">2445</span></a>                  id: &quot;x-axis-0&quot; // need an ID so datasets can reference the scale
<a name="l2446"><span class="linenum">2446</span></a>              }],
<a name="l2447"><span class="linenum">2447</span></a>              yAxes: [{
<a name="l2448"><span class="linenum">2448</span></a>                  type: &quot;linear&quot;,
<a name="l2449"><span class="linenum">2449</span></a>                  position: &quot;left&quot;,
<a name="l2450"><span class="linenum">2450</span></a>                  id: &quot;y-axis-0&quot;
<a name="l2451"><span class="linenum">2451</span></a>              }]
<a name="l2452"><span class="linenum">2452</span></a>          },
<a name="l2453"><span class="linenum">2453</span></a>  
<a name="l2454"><span class="linenum">2454</span></a>          tooltips: {
<a name="l2455"><span class="linenum">2455</span></a>              callbacks: {
<a name="l2456"><span class="linenum">2456</span></a>                  title: function(tooltipItems, data) {
<a name="l2457"><span class="linenum">2457</span></a>  <span class="comment">                    // Title doesn't make sense for scatter since we format the data as a point</span>
<a name="l2458"><span class="linenum">2458</span></a>                      return '';
<a name="l2459"><span class="linenum">2459</span></a>                  },
<a name="l2460"><span class="linenum">2460</span></a>                  label: function(tooltipItem, data) {
<a name="l2461"><span class="linenum">2461</span></a>                      var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
<a name="l2462"><span class="linenum">2462</span></a>                      var dataPoint = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];
<a name="l2463"><span class="linenum">2463</span></a>                      return datasetLabel + ': (' + dataPoint.x + ', ' + dataPoint.y + ', ' + dataPoint.r + ')';
<a name="l2464"><span class="linenum">2464</span></a>                  }
<a name="l2465"><span class="linenum">2465</span></a>              }
<a name="l2466"><span class="linenum">2466</span></a>          }
<a name="l2467"><span class="linenum">2467</span></a>      };
<a name="l2468"><span class="linenum">2468</span></a>  
<a name="l2469"><span class="linenum">2469</span></a>      Chart.controllers.bubble = Chart.DatasetController.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l2470"><span class="linenum">2470</span></a>  
<a name="l2471"><span class="linenum">2471</span></a>          dataElementType: Chart.elements.Point,
<a name="l2472"><span class="linenum">2472</span></a>  
<a name="l2473"><span class="linenum">2473</span></a>          update: function <a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(reset) {
<a name="l2474"><span class="linenum">2474</span></a>              var me = this;
<a name="l2475"><span class="linenum">2475</span></a>              var meta = me.getMeta();
<a name="l2476"><span class="linenum">2476</span></a>              var points = meta.data;
<a name="l2477"><span class="linenum">2477</span></a>  
<a name="l2478"><span class="linenum">2478</span></a>  <span class="comment">            // Update Points</span>
<a name="l2479"><span class="linenum">2479</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(points, function(point, index) {
<a name="l2480"><span class="linenum">2480</span></a>                  me.updateElement(point, index, reset);
<a name="l2481"><span class="linenum">2481</span></a>              });
<a name="l2482"><span class="linenum">2482</span></a>          },
<a name="l2483"><span class="linenum">2483</span></a>  
<a name="l2484"><span class="linenum">2484</span></a>          updateElement: function(point, index, reset) {
<a name="l2485"><span class="linenum">2485</span></a>              var me = this;
<a name="l2486"><span class="linenum">2486</span></a>              var meta = me.getMeta();
<a name="l2487"><span class="linenum">2487</span></a>              var xScale = me.getScaleForId(meta.xAxisID);
<a name="l2488"><span class="linenum">2488</span></a>              var yScale = me.getScaleForId(meta.yAxisID);
<a name="l2489"><span class="linenum">2489</span></a>  
<a name="l2490"><span class="linenum">2490</span></a>              var custom = point.custom || {};
<a name="l2491"><span class="linenum">2491</span></a>              var dataset = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l2492"><span class="linenum">2492</span></a>              var data = dataset.data[index];
<a name="l2493"><span class="linenum">2493</span></a>              var pointElementOptions = me.chart.options.elements.point;
<a name="l2494"><span class="linenum">2494</span></a>              var dsIndex = me.index;
<a name="l2495"><span class="linenum">2495</span></a>  
<a name="l2496"><span class="linenum">2496</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(point, {
<a name="l2497"><span class="linenum">2497</span></a>  <span class="comment">                // Utility</span>
<a name="l2498"><span class="linenum">2498</span></a>                  _xScale: xScale,
<a name="l2499"><span class="linenum">2499</span></a>                  _yScale: yScale,
<a name="l2500"><span class="linenum">2500</span></a>                  _datasetIndex: dsIndex,
<a name="l2501"><span class="linenum">2501</span></a>                  _index: index,
<a name="l2502"><span class="linenum">2502</span></a>  
<a name="l2503"><span class="linenum">2503</span></a>  <span class="comment">                // Desired view properties</span>
<a name="l2504"><span class="linenum">2504</span></a>                  _model: {
<a name="l2505"><span class="linenum">2505</span></a>                      x: reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(data, index, dsIndex, me.chart.isCombo),
<a name="l2506"><span class="linenum">2506</span></a>                      y: reset ? yScale.getBasePixel() : yScale.getPixelForValue(data, index, dsIndex),
<a name="l2507"><span class="linenum">2507</span></a>  <span class="comment">                    // Appearance</span>
<a name="l2508"><span class="linenum">2508</span></a>                      radius: reset ? 0 : custom.radius ? custom.radius : me.<a class="function" onClick="logFunction('getRadius')" href="../../../_functions/getradius.html" onMouseOver="funcPopup(event,'getradius')">getRadius</a>(data),
<a name="l2509"><span class="linenum">2509</span></a>  
<a name="l2510"><span class="linenum">2510</span></a>  <span class="comment">                    // Tooltip</span>
<a name="l2511"><span class="linenum">2511</span></a>                      hitRadius: custom.hitRadius ? custom.hitRadius : helpers.getValueAtIndexOrDefault(dataset.hitRadius, index, pointElementOptions.hitRadius)
<a name="l2512"><span class="linenum">2512</span></a>                  }
<a name="l2513"><span class="linenum">2513</span></a>              });
<a name="l2514"><span class="linenum">2514</span></a>  
<a name="l2515"><span class="linenum">2515</span></a>  <span class="comment">            // Trick to reset the styles of the point</span>
<a name="l2516"><span class="linenum">2516</span></a>              Chart.DatasetController.prototype.removeHoverStyle.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, point, pointElementOptions);
<a name="l2517"><span class="linenum">2517</span></a>  
<a name="l2518"><span class="linenum">2518</span></a>              var model = point._model;
<a name="l2519"><span class="linenum">2519</span></a>              model.skip = custom.skip ? custom.skip : (isNaN(model.x) || isNaN(model.y));
<a name="l2520"><span class="linenum">2520</span></a>  
<a name="l2521"><span class="linenum">2521</span></a>              point.pivot();
<a name="l2522"><span class="linenum">2522</span></a>          },
<a name="l2523"><span class="linenum">2523</span></a>  
<a name="l2524"><span class="linenum">2524</span></a>          getRadius: function(value) {
<a name="l2525"><span class="linenum">2525</span></a>              return value.r || this.chart.options.elements.point.radius;
<a name="l2526"><span class="linenum">2526</span></a>          },
<a name="l2527"><span class="linenum">2527</span></a>  
<a name="l2528"><span class="linenum">2528</span></a>          setHoverStyle: function(point) {
<a name="l2529"><span class="linenum">2529</span></a>              var me = this;
<a name="l2530"><span class="linenum">2530</span></a>              Chart.DatasetController.prototype.setHoverStyle.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, point);
<a name="l2531"><span class="linenum">2531</span></a>  
<a name="l2532"><span class="linenum">2532</span></a>  <span class="comment">            // Radius</span>
<a name="l2533"><span class="linenum">2533</span></a>              var dataset = me.chart.data.datasets[point._datasetIndex];
<a name="l2534"><span class="linenum">2534</span></a>              var index = point._index;
<a name="l2535"><span class="linenum">2535</span></a>              var custom = point.custom || {};
<a name="l2536"><span class="linenum">2536</span></a>              var model = point._model;
<a name="l2537"><span class="linenum">2537</span></a>              model.radius = custom.hoverRadius ? custom.hoverRadius : (helpers.getValueAtIndexOrDefault(dataset.hoverRadius, index, me.chart.options.elements.point.hoverRadius)) + me.<a class="function" onClick="logFunction('getRadius')" href="../../../_functions/getradius.html" onMouseOver="funcPopup(event,'getradius')">getRadius</a>(dataset.data[index]);
<a name="l2538"><span class="linenum">2538</span></a>          },
<a name="l2539"><span class="linenum">2539</span></a>  
<a name="l2540"><span class="linenum">2540</span></a>          removeHoverStyle: function(point) {
<a name="l2541"><span class="linenum">2541</span></a>              var me = this;
<a name="l2542"><span class="linenum">2542</span></a>              Chart.DatasetController.prototype.removeHoverStyle.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, point, me.chart.options.elements.point);
<a name="l2543"><span class="linenum">2543</span></a>  
<a name="l2544"><span class="linenum">2544</span></a>              var dataVal = me.chart.data.datasets[point._datasetIndex].data[point._index];
<a name="l2545"><span class="linenum">2545</span></a>              var custom = point.custom || {};
<a name="l2546"><span class="linenum">2546</span></a>              var model = point._model;
<a name="l2547"><span class="linenum">2547</span></a>  
<a name="l2548"><span class="linenum">2548</span></a>              model.radius = custom.radius ? custom.radius : me.<a class="function" onClick="logFunction('getRadius')" href="../../../_functions/getradius.html" onMouseOver="funcPopup(event,'getradius')">getRadius</a>(dataVal);
<a name="l2549"><span class="linenum">2549</span></a>          }
<a name="l2550"><span class="linenum">2550</span></a>      });
<a name="l2551"><span class="linenum">2551</span></a>  };
<a name="l2552"><span class="linenum">2552</span></a>  
<a name="l2553"><span class="linenum">2553</span></a>  },{}],17:[function(require,module,exports){
<a name="l2554"><span class="linenum">2554</span></a>  &quot;use strict&quot;;
<a name="l2555"><span class="linenum">2555</span></a>  
<a name="l2556"><span class="linenum">2556</span></a>  module.exports = function(Chart) {
<a name="l2557"><span class="linenum">2557</span></a>  
<a name="l2558"><span class="linenum">2558</span></a>      var helpers = Chart.helpers,
<a name="l2559"><span class="linenum">2559</span></a>          defaults = Chart.defaults;
<a name="l2560"><span class="linenum">2560</span></a>  
<a name="l2561"><span class="linenum">2561</span></a>      defaults.doughnut = {
<a name="l2562"><span class="linenum">2562</span></a>          animation: {
<a name="l2563"><span class="linenum">2563</span></a>  <span class="comment">            //Boolean - Whether we animate the rotation of the Doughnut</span>
<a name="l2564"><span class="linenum">2564</span></a>              animateRotate: true,
<a name="l2565"><span class="linenum">2565</span></a>  <span class="comment">            //Boolean - Whether we animate scaling the Doughnut from the centre</span>
<a name="l2566"><span class="linenum">2566</span></a>              animateScale: false
<a name="l2567"><span class="linenum">2567</span></a>          },
<a name="l2568"><span class="linenum">2568</span></a>          aspectRatio: 1,
<a name="l2569"><span class="linenum">2569</span></a>          hover: {
<a name="l2570"><span class="linenum">2570</span></a>              mode: 'single'
<a name="l2571"><span class="linenum">2571</span></a>          },
<a name="l2572"><span class="linenum">2572</span></a>          legendCallback: function(chart) {
<a name="l2573"><span class="linenum">2573</span></a>              var text = [];
<a name="l2574"><span class="linenum">2574</span></a>              text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;ul class=&quot;' + chart.id + '-legend&quot;&gt;');
<a name="l2575"><span class="linenum">2575</span></a>  
<a name="l2576"><span class="linenum">2576</span></a>              var data = chart.data;
<a name="l2577"><span class="linenum">2577</span></a>              var datasets = data.datasets;
<a name="l2578"><span class="linenum">2578</span></a>              var labels = data.labels;
<a name="l2579"><span class="linenum">2579</span></a>  
<a name="l2580"><span class="linenum">2580</span></a>              if (datasets.length) {
<a name="l2581"><span class="linenum">2581</span></a>                  for (var i = 0; i &lt; datasets[0].data.length; ++i) {
<a name="l2582"><span class="linenum">2582</span></a>                      text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;li&gt;&lt;span style=&quot;background-color:' + datasets[0].backgroundColor[i] + '&quot;&gt;&lt;/span&gt;');
<a name="l2583"><span class="linenum">2583</span></a>                      if (labels[i]) {
<a name="l2584"><span class="linenum">2584</span></a>                          text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(labels[i]);
<a name="l2585"><span class="linenum">2585</span></a>                      }
<a name="l2586"><span class="linenum">2586</span></a>                      text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;/li&gt;');
<a name="l2587"><span class="linenum">2587</span></a>                  }
<a name="l2588"><span class="linenum">2588</span></a>              }
<a name="l2589"><span class="linenum">2589</span></a>  
<a name="l2590"><span class="linenum">2590</span></a>              text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;/ul&gt;');
<a name="l2591"><span class="linenum">2591</span></a>              return text.<a class="function" onClick="logFunction('join')" href="../../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(&quot;&quot;);
<a name="l2592"><span class="linenum">2592</span></a>          },
<a name="l2593"><span class="linenum">2593</span></a>          legend: {
<a name="l2594"><span class="linenum">2594</span></a>              labels: {
<a name="l2595"><span class="linenum">2595</span></a>                  generateLabels: function(chart) {
<a name="l2596"><span class="linenum">2596</span></a>                      var data = chart.data;
<a name="l2597"><span class="linenum">2597</span></a>                      if (data.labels.length &amp;&amp; data.datasets.length) {
<a name="l2598"><span class="linenum">2598</span></a>                          return data.labels.map(function(label, i) {
<a name="l2599"><span class="linenum">2599</span></a>                              var meta = chart.getDatasetMeta(0);
<a name="l2600"><span class="linenum">2600</span></a>                              var ds = data.datasets[0];
<a name="l2601"><span class="linenum">2601</span></a>                              var arc = meta.data[i];
<a name="l2602"><span class="linenum">2602</span></a>                              var custom = arc.custom || {};
<a name="l2603"><span class="linenum">2603</span></a>                              var getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;
<a name="l2604"><span class="linenum">2604</span></a>                              var arcOpts = chart.options.elements.arc;
<a name="l2605"><span class="linenum">2605</span></a>                              var fill = custom.backgroundColor ? custom.backgroundColor : getValueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);
<a name="l2606"><span class="linenum">2606</span></a>                              var stroke = custom.borderColor ? custom.borderColor : getValueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);
<a name="l2607"><span class="linenum">2607</span></a>                              var bw = custom.borderWidth ? custom.borderWidth : getValueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);
<a name="l2608"><span class="linenum">2608</span></a>  
<a name="l2609"><span class="linenum">2609</span></a>                              return {
<a name="l2610"><span class="linenum">2610</span></a>                                  text: label,
<a name="l2611"><span class="linenum">2611</span></a>                                  fillStyle: fill,
<a name="l2612"><span class="linenum">2612</span></a>                                  strokeStyle: stroke,
<a name="l2613"><span class="linenum">2613</span></a>                                  lineWidth: bw,
<a name="l2614"><span class="linenum">2614</span></a>                                  hidden: isNaN(ds.data[i]) || meta.data[i].hidden,
<a name="l2615"><span class="linenum">2615</span></a>  
<a name="l2616"><span class="linenum">2616</span></a>  <span class="comment">                                // Extra data used for toggling the correct item</span>
<a name="l2617"><span class="linenum">2617</span></a>                                  index: i
<a name="l2618"><span class="linenum">2618</span></a>                              };
<a name="l2619"><span class="linenum">2619</span></a>                          });
<a name="l2620"><span class="linenum">2620</span></a>                      } else {
<a name="l2621"><span class="linenum">2621</span></a>                          return [];
<a name="l2622"><span class="linenum">2622</span></a>                      }
<a name="l2623"><span class="linenum">2623</span></a>                  }
<a name="l2624"><span class="linenum">2624</span></a>              },
<a name="l2625"><span class="linenum">2625</span></a>  
<a name="l2626"><span class="linenum">2626</span></a>              onClick: function(e, legendItem) {
<a name="l2627"><span class="linenum">2627</span></a>                  var index = legendItem.index;
<a name="l2628"><span class="linenum">2628</span></a>                  var chart = this.chart;
<a name="l2629"><span class="linenum">2629</span></a>                  var i, ilen, meta;
<a name="l2630"><span class="linenum">2630</span></a>  
<a name="l2631"><span class="linenum">2631</span></a>                  for (i = 0, ilen = (chart.data.datasets || []).length; i &lt; ilen; ++i) {
<a name="l2632"><span class="linenum">2632</span></a>                      meta = chart.getDatasetMeta(i);
<a name="l2633"><span class="linenum">2633</span></a>                      meta.data[index].hidden = !meta.data[index].hidden;
<a name="l2634"><span class="linenum">2634</span></a>                  }
<a name="l2635"><span class="linenum">2635</span></a>  
<a name="l2636"><span class="linenum">2636</span></a>                  chart.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l2637"><span class="linenum">2637</span></a>              }
<a name="l2638"><span class="linenum">2638</span></a>          },
<a name="l2639"><span class="linenum">2639</span></a>  
<a name="l2640"><span class="linenum">2640</span></a>  <span class="comment">        //The percentage of the chart that we cut out of the middle.</span>
<a name="l2641"><span class="linenum">2641</span></a>          cutoutPercentage: 50,
<a name="l2642"><span class="linenum">2642</span></a>  
<a name="l2643"><span class="linenum">2643</span></a>  <span class="comment">        //The rotation of the chart, where the first data arc begins.</span>
<a name="l2644"><span class="linenum">2644</span></a>          rotation: Math.PI * -0.5,
<a name="l2645"><span class="linenum">2645</span></a>  
<a name="l2646"><span class="linenum">2646</span></a>  <span class="comment">        //The total circumference of the chart.</span>
<a name="l2647"><span class="linenum">2647</span></a>          circumference: Math.PI * 2.0,
<a name="l2648"><span class="linenum">2648</span></a>  
<a name="l2649"><span class="linenum">2649</span></a>  <span class="comment">        // Need to override these to give a nice default</span>
<a name="l2650"><span class="linenum">2650</span></a>          tooltips: {
<a name="l2651"><span class="linenum">2651</span></a>              callbacks: {
<a name="l2652"><span class="linenum">2652</span></a>                  title: function() {
<a name="l2653"><span class="linenum">2653</span></a>                      return '';
<a name="l2654"><span class="linenum">2654</span></a>                  },
<a name="l2655"><span class="linenum">2655</span></a>                  label: function(tooltipItem, data) {
<a name="l2656"><span class="linenum">2656</span></a>                      return data.labels[tooltipItem.index] + ': ' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];
<a name="l2657"><span class="linenum">2657</span></a>                  }
<a name="l2658"><span class="linenum">2658</span></a>              }
<a name="l2659"><span class="linenum">2659</span></a>          }
<a name="l2660"><span class="linenum">2660</span></a>      };
<a name="l2661"><span class="linenum">2661</span></a>  
<a name="l2662"><span class="linenum">2662</span></a>      defaults.pie = helpers.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(defaults.doughnut);
<a name="l2663"><span class="linenum">2663</span></a>      helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(defaults.pie, {
<a name="l2664"><span class="linenum">2664</span></a>          cutoutPercentage: 0
<a name="l2665"><span class="linenum">2665</span></a>      });
<a name="l2666"><span class="linenum">2666</span></a>  
<a name="l2667"><span class="linenum">2667</span></a>  
<a name="l2668"><span class="linenum">2668</span></a>      Chart.controllers.doughnut = Chart.controllers.pie = Chart.DatasetController.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l2669"><span class="linenum">2669</span></a>  
<a name="l2670"><span class="linenum">2670</span></a>          dataElementType: Chart.elements.Arc,
<a name="l2671"><span class="linenum">2671</span></a>  
<a name="l2672"><span class="linenum">2672</span></a>          linkScales: helpers.noop,
<a name="l2673"><span class="linenum">2673</span></a>  
<a name="l2674"><span class="linenum">2674</span></a>  <span class="comment">        // Get index of the dataset in relation to the visible datasets. This allows determining the inner and outer radius correctly</span>
<a name="l2675"><span class="linenum">2675</span></a>          getRingIndex: function getRingIndex(datasetIndex) {
<a name="l2676"><span class="linenum">2676</span></a>              var ringIndex = 0;
<a name="l2677"><span class="linenum">2677</span></a>  
<a name="l2678"><span class="linenum">2678</span></a>              for (var j = 0; j &lt; datasetIndex; ++j) {
<a name="l2679"><span class="linenum">2679</span></a>                  if (this.chart.isDatasetVisible(j)) {
<a name="l2680"><span class="linenum">2680</span></a>                      ++ringIndex;
<a name="l2681"><span class="linenum">2681</span></a>                  }
<a name="l2682"><span class="linenum">2682</span></a>              }
<a name="l2683"><span class="linenum">2683</span></a>  
<a name="l2684"><span class="linenum">2684</span></a>              return ringIndex;
<a name="l2685"><span class="linenum">2685</span></a>          },
<a name="l2686"><span class="linenum">2686</span></a>  
<a name="l2687"><span class="linenum">2687</span></a>          update: function <a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(reset) {
<a name="l2688"><span class="linenum">2688</span></a>              var me = this;
<a name="l2689"><span class="linenum">2689</span></a>              var chart = me.chart,
<a name="l2690"><span class="linenum">2690</span></a>                  chartArea = chart.chartArea,
<a name="l2691"><span class="linenum">2691</span></a>                  opts = chart.options,
<a name="l2692"><span class="linenum">2692</span></a>                  arcOpts = opts.elements.arc,
<a name="l2693"><span class="linenum">2693</span></a>                  availableWidth = chartArea.right - chartArea.left - arcOpts.borderWidth,
<a name="l2694"><span class="linenum">2694</span></a>                  availableHeight = chartArea.bottom - chartArea.top - arcOpts.borderWidth,
<a name="l2695"><span class="linenum">2695</span></a>                  minSize = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(availableWidth, availableHeight),
<a name="l2696"><span class="linenum">2696</span></a>                  offset = {
<a name="l2697"><span class="linenum">2697</span></a>                      x: 0,
<a name="l2698"><span class="linenum">2698</span></a>                      y: 0
<a name="l2699"><span class="linenum">2699</span></a>                  },
<a name="l2700"><span class="linenum">2700</span></a>                  meta = me.getMeta(),
<a name="l2701"><span class="linenum">2701</span></a>                  cutoutPercentage = opts.cutoutPercentage,
<a name="l2702"><span class="linenum">2702</span></a>                  circumference = opts.circumference;
<a name="l2703"><span class="linenum">2703</span></a>  
<a name="l2704"><span class="linenum">2704</span></a>  <span class="comment">            // If the chart's circumference isn't a full circle, calculate minSize as a ratio of the width/height of the arc</span>
<a name="l2705"><span class="linenum">2705</span></a>              if (circumference &lt; Math.PI * 2.0) {
<a name="l2706"><span class="linenum">2706</span></a>                  var startAngle = opts.rotation % (Math.PI * 2.0);
<a name="l2707"><span class="linenum">2707</span></a>                  startAngle += Math.PI * 2.0 * (startAngle &gt;= Math.PI ? -1 : startAngle &lt; -Math.PI ? 1 : 0);
<a name="l2708"><span class="linenum">2708</span></a>                  var endAngle = startAngle + circumference;
<a name="l2709"><span class="linenum">2709</span></a>                  var start = {x: Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(startAngle), y: Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(startAngle)};
<a name="l2710"><span class="linenum">2710</span></a>                  var end = {x: Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(endAngle), y: Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(endAngle)};
<a name="l2711"><span class="linenum">2711</span></a>                  var contains0 = (startAngle &lt;= 0 &amp;&amp; 0 &lt;= endAngle) || (startAngle &lt;= Math.PI * 2.0 &amp;&amp; Math.PI * 2.0 &lt;= endAngle);
<a name="l2712"><span class="linenum">2712</span></a>                  var contains90 = (startAngle &lt;= Math.PI * 0.5 &amp;&amp; Math.PI * 0.5 &lt;= endAngle) || (startAngle &lt;= Math.PI * 2.5 &amp;&amp; Math.PI * 2.5 &lt;= endAngle);
<a name="l2713"><span class="linenum">2713</span></a>                  var contains180 = (startAngle &lt;= -Math.PI &amp;&amp; -Math.PI &lt;= endAngle) || (startAngle &lt;= Math.PI &amp;&amp; Math.PI &lt;= endAngle);
<a name="l2714"><span class="linenum">2714</span></a>                  var contains270 = (startAngle &lt;= -Math.PI * 0.5 &amp;&amp; -Math.PI * 0.5 &lt;= endAngle) || (startAngle &lt;= Math.PI * 1.5 &amp;&amp; Math.PI * 1.5 &lt;= endAngle);
<a name="l2715"><span class="linenum">2715</span></a>                  var cutout = cutoutPercentage / 100.0;
<a name="l2716"><span class="linenum">2716</span></a>                  var min = {x: contains180 ? -1 : Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(start.x * (start.x &lt; 0 ? 1 : cutout), end.x * (end.x &lt; 0 ? 1 : cutout)), y: contains270 ? -1 : Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(start.y * (start.y &lt; 0 ? 1 : cutout), end.y * (end.y &lt; 0 ? 1 : cutout))};
<a name="l2717"><span class="linenum">2717</span></a>                  var max = {x: contains0 ? 1 : Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(start.x * (start.x &gt; 0 ? 1 : cutout), end.x * (end.x &gt; 0 ? 1 : cutout)), y: contains90 ? 1 : Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(start.y * (start.y &gt; 0 ? 1 : cutout), end.y * (end.y &gt; 0 ? 1 : cutout))};
<a name="l2718"><span class="linenum">2718</span></a>                  var size = {width: (max.x - min.x) * 0.5, height: (max.y - min.y) * 0.5};
<a name="l2719"><span class="linenum">2719</span></a>                  minSize = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(availableWidth / size.width, availableHeight / size.height);
<a name="l2720"><span class="linenum">2720</span></a>                  offset = {x: (max.x + min.x) * -0.5, y: (max.y + min.y) * -0.5};
<a name="l2721"><span class="linenum">2721</span></a>              }
<a name="l2722"><span class="linenum">2722</span></a>  
<a name="l2723"><span class="linenum">2723</span></a>              chart.outerRadius = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(minSize / 2, 0);
<a name="l2724"><span class="linenum">2724</span></a>              chart.innerRadius = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(cutoutPercentage ? (chart.outerRadius / 100) * (cutoutPercentage) : 1, 0);
<a name="l2725"><span class="linenum">2725</span></a>              chart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();
<a name="l2726"><span class="linenum">2726</span></a>              chart.offsetX = offset.x * chart.outerRadius;
<a name="l2727"><span class="linenum">2727</span></a>              chart.offsetY = offset.y * chart.outerRadius;
<a name="l2728"><span class="linenum">2728</span></a>  
<a name="l2729"><span class="linenum">2729</span></a>              meta.total = me.calculateTotal();
<a name="l2730"><span class="linenum">2730</span></a>  
<a name="l2731"><span class="linenum">2731</span></a>              me.outerRadius = chart.outerRadius - (chart.radiusLength * me.getRingIndex(me.index));
<a name="l2732"><span class="linenum">2732</span></a>              me.innerRadius = me.outerRadius - chart.radiusLength;
<a name="l2733"><span class="linenum">2733</span></a>  
<a name="l2734"><span class="linenum">2734</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(meta.data, function(arc, index) {
<a name="l2735"><span class="linenum">2735</span></a>                  me.updateElement(arc, index, reset);
<a name="l2736"><span class="linenum">2736</span></a>              });
<a name="l2737"><span class="linenum">2737</span></a>          },
<a name="l2738"><span class="linenum">2738</span></a>  
<a name="l2739"><span class="linenum">2739</span></a>          updateElement: function(arc, index, reset) {
<a name="l2740"><span class="linenum">2740</span></a>              var me = this;
<a name="l2741"><span class="linenum">2741</span></a>              var chart = me.chart,
<a name="l2742"><span class="linenum">2742</span></a>                  chartArea = chart.chartArea,
<a name="l2743"><span class="linenum">2743</span></a>                  opts = chart.options,
<a name="l2744"><span class="linenum">2744</span></a>                  animationOpts = opts.animation,
<a name="l2745"><span class="linenum">2745</span></a>                  arcOpts = opts.elements.arc,
<a name="l2746"><span class="linenum">2746</span></a>                  centerX = (chartArea.left + chartArea.right) / 2,
<a name="l2747"><span class="linenum">2747</span></a>                  centerY = (chartArea.top + chartArea.bottom) / 2,
<a name="l2748"><span class="linenum">2748</span></a>                  startAngle = opts.rotation, // non reset case handled later
<a name="l2749"><span class="linenum">2749</span></a>                  endAngle = opts.rotation, // non reset case handled later
<a name="l2750"><span class="linenum">2750</span></a>                  dataset = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>(),
<a name="l2751"><span class="linenum">2751</span></a>                  circumference = reset &amp;&amp; animationOpts.animateRotate ? 0 : arc.hidden ? 0 : me.calculateCircumference(dataset.data[index]) * (opts.circumference / (2.0 * Math.PI)),
<a name="l2752"><span class="linenum">2752</span></a>                  innerRadius = reset &amp;&amp; animationOpts.animateScale ? 0 : me.innerRadius,
<a name="l2753"><span class="linenum">2753</span></a>                  outerRadius = reset &amp;&amp; animationOpts.animateScale ? 0 : me.outerRadius,
<a name="l2754"><span class="linenum">2754</span></a>                  custom = arc.custom || {},
<a name="l2755"><span class="linenum">2755</span></a>                  valueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;
<a name="l2756"><span class="linenum">2756</span></a>  
<a name="l2757"><span class="linenum">2757</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(arc, {
<a name="l2758"><span class="linenum">2758</span></a>  <span class="comment">                // Utility</span>
<a name="l2759"><span class="linenum">2759</span></a>                  _datasetIndex: me.index,
<a name="l2760"><span class="linenum">2760</span></a>                  _index: index,
<a name="l2761"><span class="linenum">2761</span></a>  
<a name="l2762"><span class="linenum">2762</span></a>  <span class="comment">                // Desired view properties</span>
<a name="l2763"><span class="linenum">2763</span></a>                  _model: {
<a name="l2764"><span class="linenum">2764</span></a>                      x: centerX + chart.offsetX,
<a name="l2765"><span class="linenum">2765</span></a>                      y: centerY + chart.offsetY,
<a name="l2766"><span class="linenum">2766</span></a>                      startAngle: startAngle,
<a name="l2767"><span class="linenum">2767</span></a>                      endAngle: endAngle,
<a name="l2768"><span class="linenum">2768</span></a>                      circumference: circumference,
<a name="l2769"><span class="linenum">2769</span></a>                      outerRadius: outerRadius,
<a name="l2770"><span class="linenum">2770</span></a>                      innerRadius: innerRadius,
<a name="l2771"><span class="linenum">2771</span></a>                      label: valueAtIndexOrDefault(dataset.label, index, chart.data.labels[index])
<a name="l2772"><span class="linenum">2772</span></a>                  }
<a name="l2773"><span class="linenum">2773</span></a>              });
<a name="l2774"><span class="linenum">2774</span></a>  
<a name="l2775"><span class="linenum">2775</span></a>              var model = arc._model;
<a name="l2776"><span class="linenum">2776</span></a>  <span class="comment">            // Resets the visual styles</span>
<a name="l2777"><span class="linenum">2777</span></a>              this.removeHoverStyle(arc);
<a name="l2778"><span class="linenum">2778</span></a>  
<a name="l2779"><span class="linenum">2779</span></a>  <span class="comment">            // Set correct angles if not resetting</span>
<a name="l2780"><span class="linenum">2780</span></a>              if (!reset || !animationOpts.animateRotate) {
<a name="l2781"><span class="linenum">2781</span></a>                  if (index === 0) {
<a name="l2782"><span class="linenum">2782</span></a>                      model.startAngle = opts.rotation;
<a name="l2783"><span class="linenum">2783</span></a>                  } else {
<a name="l2784"><span class="linenum">2784</span></a>                      model.startAngle = me.getMeta().data[index - 1]._model.endAngle;
<a name="l2785"><span class="linenum">2785</span></a>                  }
<a name="l2786"><span class="linenum">2786</span></a>  
<a name="l2787"><span class="linenum">2787</span></a>                  model.endAngle = model.startAngle + model.circumference;
<a name="l2788"><span class="linenum">2788</span></a>              }
<a name="l2789"><span class="linenum">2789</span></a>  
<a name="l2790"><span class="linenum">2790</span></a>              arc.pivot();
<a name="l2791"><span class="linenum">2791</span></a>          },
<a name="l2792"><span class="linenum">2792</span></a>  
<a name="l2793"><span class="linenum">2793</span></a>          removeHoverStyle: function(arc) {
<a name="l2794"><span class="linenum">2794</span></a>              Chart.DatasetController.prototype.removeHoverStyle.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this, arc, this.chart.options.elements.arc);
<a name="l2795"><span class="linenum">2795</span></a>          },
<a name="l2796"><span class="linenum">2796</span></a>  
<a name="l2797"><span class="linenum">2797</span></a>          calculateTotal: function() {
<a name="l2798"><span class="linenum">2798</span></a>              var dataset = this.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l2799"><span class="linenum">2799</span></a>              var meta = this.getMeta();
<a name="l2800"><span class="linenum">2800</span></a>              var total = 0;
<a name="l2801"><span class="linenum">2801</span></a>              var value;
<a name="l2802"><span class="linenum">2802</span></a>  
<a name="l2803"><span class="linenum">2803</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(meta.data, function(element, index) {
<a name="l2804"><span class="linenum">2804</span></a>                  value = dataset.data[index];
<a name="l2805"><span class="linenum">2805</span></a>                  if (!isNaN(value) &amp;&amp; !element.hidden) {
<a name="l2806"><span class="linenum">2806</span></a>                      total += Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(value);
<a name="l2807"><span class="linenum">2807</span></a>                  }
<a name="l2808"><span class="linenum">2808</span></a>              });
<a name="l2809"><span class="linenum">2809</span></a>  
<a name="l2810"><span class="linenum">2810</span></a>              return total;
<a name="l2811"><span class="linenum">2811</span></a>          },
<a name="l2812"><span class="linenum">2812</span></a>  
<a name="l2813"><span class="linenum">2813</span></a>          calculateCircumference: function(value) {
<a name="l2814"><span class="linenum">2814</span></a>              var total = this.getMeta().total;
<a name="l2815"><span class="linenum">2815</span></a>              if (total &gt; 0 &amp;&amp; !isNaN(value)) {
<a name="l2816"><span class="linenum">2816</span></a>                  return (Math.PI * 2.0) * (value / total);
<a name="l2817"><span class="linenum">2817</span></a>              } else {
<a name="l2818"><span class="linenum">2818</span></a>                  return 0;
<a name="l2819"><span class="linenum">2819</span></a>              }
<a name="l2820"><span class="linenum">2820</span></a>          }
<a name="l2821"><span class="linenum">2821</span></a>      });
<a name="l2822"><span class="linenum">2822</span></a>  };
<a name="l2823"><span class="linenum">2823</span></a>  
<a name="l2824"><span class="linenum">2824</span></a>  },{}],18:[function(require,module,exports){
<a name="l2825"><span class="linenum">2825</span></a>  &quot;use strict&quot;;
<a name="l2826"><span class="linenum">2826</span></a>  
<a name="l2827"><span class="linenum">2827</span></a>  module.exports = function(Chart) {
<a name="l2828"><span class="linenum">2828</span></a>  
<a name="l2829"><span class="linenum">2829</span></a>      var helpers = Chart.helpers;
<a name="l2830"><span class="linenum">2830</span></a>  
<a name="l2831"><span class="linenum">2831</span></a>      Chart.defaults.line = {
<a name="l2832"><span class="linenum">2832</span></a>          showLines: true,
<a name="l2833"><span class="linenum">2833</span></a>  
<a name="l2834"><span class="linenum">2834</span></a>          hover: {
<a name="l2835"><span class="linenum">2835</span></a>              mode: &quot;label&quot;
<a name="l2836"><span class="linenum">2836</span></a>          },
<a name="l2837"><span class="linenum">2837</span></a>  
<a name="l2838"><span class="linenum">2838</span></a>          scales: {
<a name="l2839"><span class="linenum">2839</span></a>              xAxes: [{
<a name="l2840"><span class="linenum">2840</span></a>                  type: &quot;category&quot;,
<a name="l2841"><span class="linenum">2841</span></a>                  id: 'x-axis-0'
<a name="l2842"><span class="linenum">2842</span></a>              }],
<a name="l2843"><span class="linenum">2843</span></a>              yAxes: [{
<a name="l2844"><span class="linenum">2844</span></a>                  type: &quot;linear&quot;,
<a name="l2845"><span class="linenum">2845</span></a>                  id: 'y-axis-0'
<a name="l2846"><span class="linenum">2846</span></a>              }]
<a name="l2847"><span class="linenum">2847</span></a>          }
<a name="l2848"><span class="linenum">2848</span></a>      };
<a name="l2849"><span class="linenum">2849</span></a>  
<a name="l2850"><span class="linenum">2850</span></a>  	function <a class="function" onClick="logFunction('lineEnabled')" href="../../../_functions/lineenabled.html" onMouseOver="funcPopup(event,'lineenabled')">lineEnabled</a>(dataset, options) {
<a name="l2851"><span class="linenum">2851</span></a>          return helpers.getValueOrDefault(dataset.showLine, options.showLines);
<a name="l2852"><span class="linenum">2852</span></a>      }
<a name="l2853"><span class="linenum">2853</span></a>  
<a name="l2854"><span class="linenum">2854</span></a>      Chart.controllers.line = Chart.DatasetController.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l2855"><span class="linenum">2855</span></a>  
<a name="l2856"><span class="linenum">2856</span></a>          datasetElementType: Chart.elements.Line,
<a name="l2857"><span class="linenum">2857</span></a>  
<a name="l2858"><span class="linenum">2858</span></a>          dataElementType: Chart.elements.Point,
<a name="l2859"><span class="linenum">2859</span></a>  
<a name="l2860"><span class="linenum">2860</span></a>          addElementAndReset: function(index) {
<a name="l2861"><span class="linenum">2861</span></a>              var me = this;
<a name="l2862"><span class="linenum">2862</span></a>              var options = me.chart.options;
<a name="l2863"><span class="linenum">2863</span></a>              var meta = me.getMeta();
<a name="l2864"><span class="linenum">2864</span></a>  
<a name="l2865"><span class="linenum">2865</span></a>              Chart.DatasetController.prototype.addElementAndReset.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, index);
<a name="l2866"><span class="linenum">2866</span></a>  
<a name="l2867"><span class="linenum">2867</span></a>  <span class="comment">            // Make sure bezier control points are updated</span>
<a name="l2868"><span class="linenum">2868</span></a>              if (<a class="function" onClick="logFunction('lineEnabled')" href="../../../_functions/lineenabled.html" onMouseOver="funcPopup(event,'lineenabled')">lineEnabled</a>(me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>(), options) &amp;&amp; meta.dataset._model.tension !== 0) {
<a name="l2869"><span class="linenum">2869</span></a>                  me.updateBezierControlPoints();
<a name="l2870"><span class="linenum">2870</span></a>              }
<a name="l2871"><span class="linenum">2871</span></a>          },
<a name="l2872"><span class="linenum">2872</span></a>  
<a name="l2873"><span class="linenum">2873</span></a>          update: function <a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(reset) {
<a name="l2874"><span class="linenum">2874</span></a>              var me = this;
<a name="l2875"><span class="linenum">2875</span></a>              var meta = me.getMeta();
<a name="l2876"><span class="linenum">2876</span></a>              var line = meta.dataset;
<a name="l2877"><span class="linenum">2877</span></a>              var points = meta.data || [];
<a name="l2878"><span class="linenum">2878</span></a>              var options = me.chart.options;
<a name="l2879"><span class="linenum">2879</span></a>              var lineElementOptions = options.elements.line;
<a name="l2880"><span class="linenum">2880</span></a>              var scale = me.getScaleForId(meta.yAxisID);
<a name="l2881"><span class="linenum">2881</span></a>              var i, ilen, custom;
<a name="l2882"><span class="linenum">2882</span></a>              var dataset = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l2883"><span class="linenum">2883</span></a>              var showLine = <a class="function" onClick="logFunction('lineEnabled')" href="../../../_functions/lineenabled.html" onMouseOver="funcPopup(event,'lineenabled')">lineEnabled</a>(dataset, options);
<a name="l2884"><span class="linenum">2884</span></a>  
<a name="l2885"><span class="linenum">2885</span></a>  <span class="comment">            // Update Line</span>
<a name="l2886"><span class="linenum">2886</span></a>              if (showLine) {
<a name="l2887"><span class="linenum">2887</span></a>                  custom = line.custom || {};
<a name="l2888"><span class="linenum">2888</span></a>  
<a name="l2889"><span class="linenum">2889</span></a>  <span class="comment">                // Compatibility: If the properties are defined with only the old name, use those values</span>
<a name="l2890"><span class="linenum">2890</span></a>                  if ((dataset.tension !== undefined) &amp;&amp; (dataset.lineTension === undefined)) {
<a name="l2891"><span class="linenum">2891</span></a>                      dataset.lineTension = dataset.tension;
<a name="l2892"><span class="linenum">2892</span></a>                  }
<a name="l2893"><span class="linenum">2893</span></a>  
<a name="l2894"><span class="linenum">2894</span></a>  <span class="comment">                // Utility</span>
<a name="l2895"><span class="linenum">2895</span></a>                  line._scale = scale;
<a name="l2896"><span class="linenum">2896</span></a>                  line._datasetIndex = me.index;
<a name="l2897"><span class="linenum">2897</span></a>  <span class="comment">                // Data</span>
<a name="l2898"><span class="linenum">2898</span></a>                  line._children = points;
<a name="l2899"><span class="linenum">2899</span></a>  <span class="comment">                // Model</span>
<a name="l2900"><span class="linenum">2900</span></a>                  line._model = {
<a name="l2901"><span class="linenum">2901</span></a>  <span class="comment">                    // Appearance</span>
<a name="l2902"><span class="linenum">2902</span></a>  <span class="comment">                    // The default behavior of lines is to break at null values, according</span>
<a name="l2903"><span class="linenum">2903</span></a>  <span class="comment">                    // to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158</span>
<a name="l2904"><span class="linenum">2904</span></a>  <span class="comment">                    // This option gives linse the ability to span gaps</span>
<a name="l2905"><span class="linenum">2905</span></a>                      spanGaps: dataset.spanGaps ? dataset.spanGaps : false,
<a name="l2906"><span class="linenum">2906</span></a>                      tension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),
<a name="l2907"><span class="linenum">2907</span></a>                      backgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),
<a name="l2908"><span class="linenum">2908</span></a>                      borderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),
<a name="l2909"><span class="linenum">2909</span></a>                      borderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),
<a name="l2910"><span class="linenum">2910</span></a>                      borderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),
<a name="l2911"><span class="linenum">2911</span></a>                      borderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),
<a name="l2912"><span class="linenum">2912</span></a>                      borderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),
<a name="l2913"><span class="linenum">2913</span></a>                      borderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),
<a name="l2914"><span class="linenum">2914</span></a>                      fill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),
<a name="l2915"><span class="linenum">2915</span></a>  <span class="comment">                    // Scale</span>
<a name="l2916"><span class="linenum">2916</span></a>                      scaleTop: scale.top,
<a name="l2917"><span class="linenum">2917</span></a>                      scaleBottom: scale.bottom,
<a name="l2918"><span class="linenum">2918</span></a>                      scaleZero: scale.getBasePixel()
<a name="l2919"><span class="linenum">2919</span></a>                  };
<a name="l2920"><span class="linenum">2920</span></a>  
<a name="l2921"><span class="linenum">2921</span></a>                  line.pivot();
<a name="l2922"><span class="linenum">2922</span></a>              }
<a name="l2923"><span class="linenum">2923</span></a>  
<a name="l2924"><span class="linenum">2924</span></a>  <span class="comment">            // Update Points</span>
<a name="l2925"><span class="linenum">2925</span></a>              for (i=0, ilen=points.length; i&lt;ilen; ++i) {
<a name="l2926"><span class="linenum">2926</span></a>                  me.updateElement(points[i], i, reset);
<a name="l2927"><span class="linenum">2927</span></a>              }
<a name="l2928"><span class="linenum">2928</span></a>  
<a name="l2929"><span class="linenum">2929</span></a>              if (showLine &amp;&amp; line._model.tension !== 0) {
<a name="l2930"><span class="linenum">2930</span></a>                  me.updateBezierControlPoints();
<a name="l2931"><span class="linenum">2931</span></a>              }
<a name="l2932"><span class="linenum">2932</span></a>  
<a name="l2933"><span class="linenum">2933</span></a>  <span class="comment">            // Now pivot the point for animation</span>
<a name="l2934"><span class="linenum">2934</span></a>              for (i=0, ilen=points.length; i&lt;ilen; ++i) {
<a name="l2935"><span class="linenum">2935</span></a>                  points[i].pivot();
<a name="l2936"><span class="linenum">2936</span></a>              }
<a name="l2937"><span class="linenum">2937</span></a>          },
<a name="l2938"><span class="linenum">2938</span></a>  
<a name="l2939"><span class="linenum">2939</span></a>          getPointBackgroundColor: function(point, index) {
<a name="l2940"><span class="linenum">2940</span></a>              var backgroundColor = this.chart.options.elements.point.backgroundColor;
<a name="l2941"><span class="linenum">2941</span></a>              var dataset = this.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l2942"><span class="linenum">2942</span></a>              var custom = point.custom || {};
<a name="l2943"><span class="linenum">2943</span></a>  
<a name="l2944"><span class="linenum">2944</span></a>              if (custom.backgroundColor) {
<a name="l2945"><span class="linenum">2945</span></a>                  backgroundColor = custom.backgroundColor;
<a name="l2946"><span class="linenum">2946</span></a>              } else if (dataset.pointBackgroundColor) {
<a name="l2947"><span class="linenum">2947</span></a>                  backgroundColor = helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, backgroundColor);
<a name="l2948"><span class="linenum">2948</span></a>              } else if (dataset.backgroundColor) {
<a name="l2949"><span class="linenum">2949</span></a>                  backgroundColor = dataset.backgroundColor;
<a name="l2950"><span class="linenum">2950</span></a>              }
<a name="l2951"><span class="linenum">2951</span></a>  
<a name="l2952"><span class="linenum">2952</span></a>              return backgroundColor;
<a name="l2953"><span class="linenum">2953</span></a>          },
<a name="l2954"><span class="linenum">2954</span></a>  
<a name="l2955"><span class="linenum">2955</span></a>          getPointBorderColor: function(point, index) {
<a name="l2956"><span class="linenum">2956</span></a>              var borderColor = this.chart.options.elements.point.borderColor;
<a name="l2957"><span class="linenum">2957</span></a>              var dataset = this.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l2958"><span class="linenum">2958</span></a>              var custom = point.custom || {};
<a name="l2959"><span class="linenum">2959</span></a>  
<a name="l2960"><span class="linenum">2960</span></a>              if (custom.borderColor) {
<a name="l2961"><span class="linenum">2961</span></a>                  borderColor = custom.borderColor;
<a name="l2962"><span class="linenum">2962</span></a>              } else if (dataset.pointBorderColor) {
<a name="l2963"><span class="linenum">2963</span></a>                  borderColor = helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, borderColor);
<a name="l2964"><span class="linenum">2964</span></a>              } else if (dataset.borderColor) {
<a name="l2965"><span class="linenum">2965</span></a>                  borderColor = dataset.borderColor;
<a name="l2966"><span class="linenum">2966</span></a>              }
<a name="l2967"><span class="linenum">2967</span></a>  
<a name="l2968"><span class="linenum">2968</span></a>              return borderColor;
<a name="l2969"><span class="linenum">2969</span></a>          },
<a name="l2970"><span class="linenum">2970</span></a>  
<a name="l2971"><span class="linenum">2971</span></a>          getPointBorderWidth: function(point, index) {
<a name="l2972"><span class="linenum">2972</span></a>              var borderWidth = this.chart.options.elements.point.borderWidth;
<a name="l2973"><span class="linenum">2973</span></a>              var dataset = this.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l2974"><span class="linenum">2974</span></a>              var custom = point.custom || {};
<a name="l2975"><span class="linenum">2975</span></a>  
<a name="l2976"><span class="linenum">2976</span></a>              if (custom.borderWidth) {
<a name="l2977"><span class="linenum">2977</span></a>                  borderWidth = custom.borderWidth;
<a name="l2978"><span class="linenum">2978</span></a>              } else if (dataset.pointBorderWidth) {
<a name="l2979"><span class="linenum">2979</span></a>                  borderWidth = helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, borderWidth);
<a name="l2980"><span class="linenum">2980</span></a>              } else if (dataset.borderWidth) {
<a name="l2981"><span class="linenum">2981</span></a>                  borderWidth = dataset.borderWidth;
<a name="l2982"><span class="linenum">2982</span></a>              }
<a name="l2983"><span class="linenum">2983</span></a>  
<a name="l2984"><span class="linenum">2984</span></a>              return borderWidth;
<a name="l2985"><span class="linenum">2985</span></a>          },
<a name="l2986"><span class="linenum">2986</span></a>  
<a name="l2987"><span class="linenum">2987</span></a>          updateElement: function(point, index, reset) {
<a name="l2988"><span class="linenum">2988</span></a>              var me = this;
<a name="l2989"><span class="linenum">2989</span></a>              var meta = me.getMeta();
<a name="l2990"><span class="linenum">2990</span></a>              var custom = point.custom || {};
<a name="l2991"><span class="linenum">2991</span></a>              var dataset = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l2992"><span class="linenum">2992</span></a>              var datasetIndex = me.index;
<a name="l2993"><span class="linenum">2993</span></a>              var value = dataset.data[index];
<a name="l2994"><span class="linenum">2994</span></a>              var yScale = me.getScaleForId(meta.yAxisID);
<a name="l2995"><span class="linenum">2995</span></a>              var xScale = me.getScaleForId(meta.xAxisID);
<a name="l2996"><span class="linenum">2996</span></a>              var pointOptions = me.chart.options.elements.point;
<a name="l2997"><span class="linenum">2997</span></a>              var x, y;
<a name="l2998"><span class="linenum">2998</span></a>  
<a name="l2999"><span class="linenum">2999</span></a>  <span class="comment">            // Compatibility: If the properties are defined with only the old name, use those values</span>
<a name="l3000"><span class="linenum">3000</span></a>              if ((dataset.radius !== undefined) &amp;&amp; (dataset.pointRadius === undefined)) {
<a name="l3001"><span class="linenum">3001</span></a>                  dataset.pointRadius = dataset.radius;
<a name="l3002"><span class="linenum">3002</span></a>              }
<a name="l3003"><span class="linenum">3003</span></a>              if ((dataset.hitRadius !== undefined) &amp;&amp; (dataset.pointHitRadius === undefined)) {
<a name="l3004"><span class="linenum">3004</span></a>                  dataset.pointHitRadius = dataset.hitRadius;
<a name="l3005"><span class="linenum">3005</span></a>              }
<a name="l3006"><span class="linenum">3006</span></a>  
<a name="l3007"><span class="linenum">3007</span></a>              x = xScale.getPixelForValue(value, index, datasetIndex, me.chart.isCombo);
<a name="l3008"><span class="linenum">3008</span></a>              y = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex, me.chart.isCombo);
<a name="l3009"><span class="linenum">3009</span></a>  
<a name="l3010"><span class="linenum">3010</span></a>  <span class="comment">            // Utility</span>
<a name="l3011"><span class="linenum">3011</span></a>              point._xScale = xScale;
<a name="l3012"><span class="linenum">3012</span></a>              point._yScale = yScale;
<a name="l3013"><span class="linenum">3013</span></a>              point._datasetIndex = datasetIndex;
<a name="l3014"><span class="linenum">3014</span></a>              point._index = index;
<a name="l3015"><span class="linenum">3015</span></a>  
<a name="l3016"><span class="linenum">3016</span></a>  <span class="comment">            // Desired view properties</span>
<a name="l3017"><span class="linenum">3017</span></a>              point._model = {
<a name="l3018"><span class="linenum">3018</span></a>                  x: x,
<a name="l3019"><span class="linenum">3019</span></a>                  y: y,
<a name="l3020"><span class="linenum">3020</span></a>                  skip: custom.skip || isNaN(x) || isNaN(y),
<a name="l3021"><span class="linenum">3021</span></a>  <span class="comment">                // Appearance</span>
<a name="l3022"><span class="linenum">3022</span></a>                  radius: custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointOptions.radius),
<a name="l3023"><span class="linenum">3023</span></a>                  pointStyle: custom.pointStyle || helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointOptions.pointStyle),
<a name="l3024"><span class="linenum">3024</span></a>                  backgroundColor: me.getPointBackgroundColor(point, index),
<a name="l3025"><span class="linenum">3025</span></a>                  borderColor: me.getPointBorderColor(point, index),
<a name="l3026"><span class="linenum">3026</span></a>                  borderWidth: me.getPointBorderWidth(point, index),
<a name="l3027"><span class="linenum">3027</span></a>                  tension: meta.dataset._model ? meta.dataset._model.tension : 0,
<a name="l3028"><span class="linenum">3028</span></a>  <span class="comment">                // Tooltip</span>
<a name="l3029"><span class="linenum">3029</span></a>                  hitRadius: custom.hitRadius || helpers.getValueAtIndexOrDefault(dataset.pointHitRadius, index, pointOptions.hitRadius)
<a name="l3030"><span class="linenum">3030</span></a>              };
<a name="l3031"><span class="linenum">3031</span></a>          },
<a name="l3032"><span class="linenum">3032</span></a>  
<a name="l3033"><span class="linenum">3033</span></a>          calculatePointY: function(value, index, datasetIndex, isCombo) {
<a name="l3034"><span class="linenum">3034</span></a>              var me = this;
<a name="l3035"><span class="linenum">3035</span></a>              var chart = me.chart;
<a name="l3036"><span class="linenum">3036</span></a>              var meta = me.getMeta();
<a name="l3037"><span class="linenum">3037</span></a>              var yScale = me.getScaleForId(meta.yAxisID);
<a name="l3038"><span class="linenum">3038</span></a>              var sumPos = 0;
<a name="l3039"><span class="linenum">3039</span></a>              var sumNeg = 0;
<a name="l3040"><span class="linenum">3040</span></a>              var i, ds, dsMeta;
<a name="l3041"><span class="linenum">3041</span></a>  
<a name="l3042"><span class="linenum">3042</span></a>              if (yScale.options.stacked) {
<a name="l3043"><span class="linenum">3043</span></a>                  for (i = 0; i &lt; datasetIndex; i++) {
<a name="l3044"><span class="linenum">3044</span></a>                      ds = chart.data.datasets[i];
<a name="l3045"><span class="linenum">3045</span></a>                      dsMeta = chart.getDatasetMeta(i);
<a name="l3046"><span class="linenum">3046</span></a>                      if (dsMeta.type === 'line' &amp;&amp; chart.isDatasetVisible(i)) {
<a name="l3047"><span class="linenum">3047</span></a>                          if (ds.data[index] &lt; 0) {
<a name="l3048"><span class="linenum">3048</span></a>                              sumNeg += ds.data[index] || 0;
<a name="l3049"><span class="linenum">3049</span></a>                          } else {
<a name="l3050"><span class="linenum">3050</span></a>                              sumPos += ds.data[index] || 0;
<a name="l3051"><span class="linenum">3051</span></a>                          }
<a name="l3052"><span class="linenum">3052</span></a>                      }
<a name="l3053"><span class="linenum">3053</span></a>                  }
<a name="l3054"><span class="linenum">3054</span></a>  
<a name="l3055"><span class="linenum">3055</span></a>                  if (value &lt; 0) {
<a name="l3056"><span class="linenum">3056</span></a>                      return yScale.getPixelForValue(sumNeg + value);
<a name="l3057"><span class="linenum">3057</span></a>                  } else {
<a name="l3058"><span class="linenum">3058</span></a>                      return yScale.getPixelForValue(sumPos + value);
<a name="l3059"><span class="linenum">3059</span></a>                  }
<a name="l3060"><span class="linenum">3060</span></a>              }
<a name="l3061"><span class="linenum">3061</span></a>  
<a name="l3062"><span class="linenum">3062</span></a>              return yScale.getPixelForValue(value);
<a name="l3063"><span class="linenum">3063</span></a>          },
<a name="l3064"><span class="linenum">3064</span></a>  
<a name="l3065"><span class="linenum">3065</span></a>          updateBezierControlPoints: function() {
<a name="l3066"><span class="linenum">3066</span></a>              var meta = this.getMeta();
<a name="l3067"><span class="linenum">3067</span></a>              var area = this.chart.chartArea;
<a name="l3068"><span class="linenum">3068</span></a>              var points = meta.data || [];
<a name="l3069"><span class="linenum">3069</span></a>              var i, ilen, point, model, controlPoints;
<a name="l3070"><span class="linenum">3070</span></a>  
<a name="l3071"><span class="linenum">3071</span></a>              for (i=0, ilen=points.length; i&lt;ilen; ++i) {
<a name="l3072"><span class="linenum">3072</span></a>                  point = points[i];
<a name="l3073"><span class="linenum">3073</span></a>                  model = point._model;
<a name="l3074"><span class="linenum">3074</span></a>                  controlPoints = helpers.splineCurve(
<a name="l3075"><span class="linenum">3075</span></a>                      helpers.previousItem(points, i)._model,
<a name="l3076"><span class="linenum">3076</span></a>                      model,
<a name="l3077"><span class="linenum">3077</span></a>                      helpers.nextItem(points, i)._model,
<a name="l3078"><span class="linenum">3078</span></a>                      meta.dataset._model.tension
<a name="l3079"><span class="linenum">3079</span></a>                  );
<a name="l3080"><span class="linenum">3080</span></a>  
<a name="l3081"><span class="linenum">3081</span></a>                  model.controlPointPreviousX = controlPoints.previous.x;
<a name="l3082"><span class="linenum">3082</span></a>                  model.controlPointPreviousY = controlPoints.previous.y;
<a name="l3083"><span class="linenum">3083</span></a>                  model.controlPointNextX = controlPoints.next.x;
<a name="l3084"><span class="linenum">3084</span></a>                  model.controlPointNextY = controlPoints.next.y;
<a name="l3085"><span class="linenum">3085</span></a>              }
<a name="l3086"><span class="linenum">3086</span></a>          },
<a name="l3087"><span class="linenum">3087</span></a>  
<a name="l3088"><span class="linenum">3088</span></a>          draw: function(ease) {
<a name="l3089"><span class="linenum">3089</span></a>              var me = this;
<a name="l3090"><span class="linenum">3090</span></a>              var meta = me.getMeta();
<a name="l3091"><span class="linenum">3091</span></a>              var points = meta.data || [];
<a name="l3092"><span class="linenum">3092</span></a>              var easingDecimal = ease || 1;
<a name="l3093"><span class="linenum">3093</span></a>              var i, ilen;
<a name="l3094"><span class="linenum">3094</span></a>  
<a name="l3095"><span class="linenum">3095</span></a>  <span class="comment">            // Transition Point Locations</span>
<a name="l3096"><span class="linenum">3096</span></a>              for (i=0, ilen=points.length; i&lt;ilen; ++i) {
<a name="l3097"><span class="linenum">3097</span></a>                  points[i].<a class="function" onClick="logFunction('transition')" href="../../../_functions/transition.html" onMouseOver="funcPopup(event,'transition')">transition</a>(easingDecimal);
<a name="l3098"><span class="linenum">3098</span></a>              }
<a name="l3099"><span class="linenum">3099</span></a>  
<a name="l3100"><span class="linenum">3100</span></a>  <span class="comment">            // Transition and Draw the line</span>
<a name="l3101"><span class="linenum">3101</span></a>              if (<a class="function" onClick="logFunction('lineEnabled')" href="../../../_functions/lineenabled.html" onMouseOver="funcPopup(event,'lineenabled')">lineEnabled</a>(me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>(), me.chart.options)) {
<a name="l3102"><span class="linenum">3102</span></a>                  meta.dataset.<a class="function" onClick="logFunction('transition')" href="../../../_functions/transition.html" onMouseOver="funcPopup(event,'transition')">transition</a>(easingDecimal).<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>();
<a name="l3103"><span class="linenum">3103</span></a>              }
<a name="l3104"><span class="linenum">3104</span></a>  
<a name="l3105"><span class="linenum">3105</span></a>  <span class="comment">            // Draw the points</span>
<a name="l3106"><span class="linenum">3106</span></a>              for (i=0, ilen=points.length; i&lt;ilen; ++i) {
<a name="l3107"><span class="linenum">3107</span></a>                  points[i].<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>();
<a name="l3108"><span class="linenum">3108</span></a>              }
<a name="l3109"><span class="linenum">3109</span></a>          },
<a name="l3110"><span class="linenum">3110</span></a>  
<a name="l3111"><span class="linenum">3111</span></a>          setHoverStyle: function(point) {
<a name="l3112"><span class="linenum">3112</span></a>  <span class="comment">            // Point</span>
<a name="l3113"><span class="linenum">3113</span></a>              var dataset = this.chart.data.datasets[point._datasetIndex];
<a name="l3114"><span class="linenum">3114</span></a>              var index = point._index;
<a name="l3115"><span class="linenum">3115</span></a>              var custom = point.custom || {};
<a name="l3116"><span class="linenum">3116</span></a>              var model = point._model;
<a name="l3117"><span class="linenum">3117</span></a>  
<a name="l3118"><span class="linenum">3118</span></a>              model.radius = custom.hoverRadius || helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);
<a name="l3119"><span class="linenum">3119</span></a>              model.backgroundColor = custom.hoverBackgroundColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));
<a name="l3120"><span class="linenum">3120</span></a>              model.borderColor = custom.hoverBorderColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));
<a name="l3121"><span class="linenum">3121</span></a>              model.borderWidth = custom.hoverBorderWidth || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);
<a name="l3122"><span class="linenum">3122</span></a>          },
<a name="l3123"><span class="linenum">3123</span></a>  
<a name="l3124"><span class="linenum">3124</span></a>          removeHoverStyle: function(point) {
<a name="l3125"><span class="linenum">3125</span></a>              var me = this;
<a name="l3126"><span class="linenum">3126</span></a>              var dataset = me.chart.data.datasets[point._datasetIndex];
<a name="l3127"><span class="linenum">3127</span></a>              var index = point._index;
<a name="l3128"><span class="linenum">3128</span></a>              var custom = point.custom || {};
<a name="l3129"><span class="linenum">3129</span></a>              var model = point._model;
<a name="l3130"><span class="linenum">3130</span></a>  
<a name="l3131"><span class="linenum">3131</span></a>  <span class="comment">            // Compatibility: If the properties are defined with only the old name, use those values</span>
<a name="l3132"><span class="linenum">3132</span></a>              if ((dataset.radius !== undefined) &amp;&amp; (dataset.pointRadius === undefined)) {
<a name="l3133"><span class="linenum">3133</span></a>                  dataset.pointRadius = dataset.radius;
<a name="l3134"><span class="linenum">3134</span></a>              }
<a name="l3135"><span class="linenum">3135</span></a>  
<a name="l3136"><span class="linenum">3136</span></a>              model.radius = custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, me.chart.options.elements.point.radius);
<a name="l3137"><span class="linenum">3137</span></a>              model.backgroundColor = me.getPointBackgroundColor(point, index);
<a name="l3138"><span class="linenum">3138</span></a>              model.borderColor = me.getPointBorderColor(point, index);
<a name="l3139"><span class="linenum">3139</span></a>              model.borderWidth = me.getPointBorderWidth(point, index);
<a name="l3140"><span class="linenum">3140</span></a>          }
<a name="l3141"><span class="linenum">3141</span></a>      });
<a name="l3142"><span class="linenum">3142</span></a>  };
<a name="l3143"><span class="linenum">3143</span></a>  
<a name="l3144"><span class="linenum">3144</span></a>  },{}],19:[function(require,module,exports){
<a name="l3145"><span class="linenum">3145</span></a>  &quot;use strict&quot;;
<a name="l3146"><span class="linenum">3146</span></a>  
<a name="l3147"><span class="linenum">3147</span></a>  module.exports = function(Chart) {
<a name="l3148"><span class="linenum">3148</span></a>  
<a name="l3149"><span class="linenum">3149</span></a>      var helpers = Chart.helpers;
<a name="l3150"><span class="linenum">3150</span></a>  
<a name="l3151"><span class="linenum">3151</span></a>      Chart.defaults.polarArea = {
<a name="l3152"><span class="linenum">3152</span></a>  
<a name="l3153"><span class="linenum">3153</span></a>          scale: {
<a name="l3154"><span class="linenum">3154</span></a>              type: &quot;radialLinear&quot;,
<a name="l3155"><span class="linenum">3155</span></a>              lineArc: true // so that lines are circular
<a name="l3156"><span class="linenum">3156</span></a>          },
<a name="l3157"><span class="linenum">3157</span></a>  
<a name="l3158"><span class="linenum">3158</span></a>  <span class="comment">        //Boolean - Whether to animate the rotation of the chart</span>
<a name="l3159"><span class="linenum">3159</span></a>          animation: {
<a name="l3160"><span class="linenum">3160</span></a>              animateRotate: true,
<a name="l3161"><span class="linenum">3161</span></a>              animateScale: true
<a name="l3162"><span class="linenum">3162</span></a>          },
<a name="l3163"><span class="linenum">3163</span></a>  
<a name="l3164"><span class="linenum">3164</span></a>          aspectRatio: 1,
<a name="l3165"><span class="linenum">3165</span></a>          legendCallback: function(chart) {
<a name="l3166"><span class="linenum">3166</span></a>              var text = [];
<a name="l3167"><span class="linenum">3167</span></a>              text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;ul class=&quot;' + chart.id + '-legend&quot;&gt;');
<a name="l3168"><span class="linenum">3168</span></a>  
<a name="l3169"><span class="linenum">3169</span></a>              var data = chart.data;
<a name="l3170"><span class="linenum">3170</span></a>              var datasets = data.datasets;
<a name="l3171"><span class="linenum">3171</span></a>              var labels = data.labels;
<a name="l3172"><span class="linenum">3172</span></a>  
<a name="l3173"><span class="linenum">3173</span></a>              if (datasets.length) {
<a name="l3174"><span class="linenum">3174</span></a>                  for (var i = 0; i &lt; datasets[0].data.length; ++i) {
<a name="l3175"><span class="linenum">3175</span></a>                      text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;li&gt;&lt;span style=&quot;background-color:' + datasets[0].backgroundColor[i] + '&quot;&gt;');
<a name="l3176"><span class="linenum">3176</span></a>                      if (labels[i]) {
<a name="l3177"><span class="linenum">3177</span></a>                          text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(labels[i]);
<a name="l3178"><span class="linenum">3178</span></a>                      }
<a name="l3179"><span class="linenum">3179</span></a>                      text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;/span&gt;&lt;/li&gt;');
<a name="l3180"><span class="linenum">3180</span></a>                  }
<a name="l3181"><span class="linenum">3181</span></a>              }
<a name="l3182"><span class="linenum">3182</span></a>  
<a name="l3183"><span class="linenum">3183</span></a>              text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;/ul&gt;');
<a name="l3184"><span class="linenum">3184</span></a>              return text.<a class="function" onClick="logFunction('join')" href="../../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(&quot;&quot;);
<a name="l3185"><span class="linenum">3185</span></a>          },
<a name="l3186"><span class="linenum">3186</span></a>          legend: {
<a name="l3187"><span class="linenum">3187</span></a>              labels: {
<a name="l3188"><span class="linenum">3188</span></a>                  generateLabels: function(chart) {
<a name="l3189"><span class="linenum">3189</span></a>                      var data = chart.data;
<a name="l3190"><span class="linenum">3190</span></a>                      if (data.labels.length &amp;&amp; data.datasets.length) {
<a name="l3191"><span class="linenum">3191</span></a>                          return data.labels.map(function(label, i) {
<a name="l3192"><span class="linenum">3192</span></a>                              var meta = chart.getDatasetMeta(0);
<a name="l3193"><span class="linenum">3193</span></a>                              var ds = data.datasets[0];
<a name="l3194"><span class="linenum">3194</span></a>                              var arc = meta.data[i];
<a name="l3195"><span class="linenum">3195</span></a>                              var custom = arc.custom || {};
<a name="l3196"><span class="linenum">3196</span></a>                              var getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;
<a name="l3197"><span class="linenum">3197</span></a>                              var arcOpts = chart.options.elements.arc;
<a name="l3198"><span class="linenum">3198</span></a>                              var fill = custom.backgroundColor ? custom.backgroundColor : getValueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);
<a name="l3199"><span class="linenum">3199</span></a>                              var stroke = custom.borderColor ? custom.borderColor : getValueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);
<a name="l3200"><span class="linenum">3200</span></a>                              var bw = custom.borderWidth ? custom.borderWidth : getValueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);
<a name="l3201"><span class="linenum">3201</span></a>  
<a name="l3202"><span class="linenum">3202</span></a>                              return {
<a name="l3203"><span class="linenum">3203</span></a>                                  text: label,
<a name="l3204"><span class="linenum">3204</span></a>                                  fillStyle: fill,
<a name="l3205"><span class="linenum">3205</span></a>                                  strokeStyle: stroke,
<a name="l3206"><span class="linenum">3206</span></a>                                  lineWidth: bw,
<a name="l3207"><span class="linenum">3207</span></a>                                  hidden: isNaN(ds.data[i]) || meta.data[i].hidden,
<a name="l3208"><span class="linenum">3208</span></a>  
<a name="l3209"><span class="linenum">3209</span></a>  <span class="comment">                                // Extra data used for toggling the correct item</span>
<a name="l3210"><span class="linenum">3210</span></a>                                  index: i
<a name="l3211"><span class="linenum">3211</span></a>                              };
<a name="l3212"><span class="linenum">3212</span></a>                          });
<a name="l3213"><span class="linenum">3213</span></a>                      } else {
<a name="l3214"><span class="linenum">3214</span></a>                          return [];
<a name="l3215"><span class="linenum">3215</span></a>                      }
<a name="l3216"><span class="linenum">3216</span></a>                  }
<a name="l3217"><span class="linenum">3217</span></a>              },
<a name="l3218"><span class="linenum">3218</span></a>  
<a name="l3219"><span class="linenum">3219</span></a>              onClick: function(e, legendItem) {
<a name="l3220"><span class="linenum">3220</span></a>                  var index = legendItem.index;
<a name="l3221"><span class="linenum">3221</span></a>                  var chart = this.chart;
<a name="l3222"><span class="linenum">3222</span></a>                  var i, ilen, meta;
<a name="l3223"><span class="linenum">3223</span></a>  
<a name="l3224"><span class="linenum">3224</span></a>                  for (i = 0, ilen = (chart.data.datasets || []).length; i &lt; ilen; ++i) {
<a name="l3225"><span class="linenum">3225</span></a>                      meta = chart.getDatasetMeta(i);
<a name="l3226"><span class="linenum">3226</span></a>                      meta.data[index].hidden = !meta.data[index].hidden;
<a name="l3227"><span class="linenum">3227</span></a>                  }
<a name="l3228"><span class="linenum">3228</span></a>  
<a name="l3229"><span class="linenum">3229</span></a>                  chart.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l3230"><span class="linenum">3230</span></a>              }
<a name="l3231"><span class="linenum">3231</span></a>          },
<a name="l3232"><span class="linenum">3232</span></a>  
<a name="l3233"><span class="linenum">3233</span></a>  <span class="comment">        // Need to override these to give a nice default</span>
<a name="l3234"><span class="linenum">3234</span></a>          tooltips: {
<a name="l3235"><span class="linenum">3235</span></a>              callbacks: {
<a name="l3236"><span class="linenum">3236</span></a>                  title: function() {
<a name="l3237"><span class="linenum">3237</span></a>                      return '';
<a name="l3238"><span class="linenum">3238</span></a>                  },
<a name="l3239"><span class="linenum">3239</span></a>                  label: function(tooltipItem, data) {
<a name="l3240"><span class="linenum">3240</span></a>                      return data.labels[tooltipItem.index] + ': ' + tooltipItem.yLabel;
<a name="l3241"><span class="linenum">3241</span></a>                  }
<a name="l3242"><span class="linenum">3242</span></a>              }
<a name="l3243"><span class="linenum">3243</span></a>          }
<a name="l3244"><span class="linenum">3244</span></a>      };
<a name="l3245"><span class="linenum">3245</span></a>  
<a name="l3246"><span class="linenum">3246</span></a>      Chart.controllers.polarArea = Chart.DatasetController.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l3247"><span class="linenum">3247</span></a>  
<a name="l3248"><span class="linenum">3248</span></a>          dataElementType: Chart.elements.Arc,
<a name="l3249"><span class="linenum">3249</span></a>  
<a name="l3250"><span class="linenum">3250</span></a>          linkScales: helpers.noop,
<a name="l3251"><span class="linenum">3251</span></a>  
<a name="l3252"><span class="linenum">3252</span></a>          update: function <a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(reset) {
<a name="l3253"><span class="linenum">3253</span></a>              var me = this;
<a name="l3254"><span class="linenum">3254</span></a>              var chart = me.chart;
<a name="l3255"><span class="linenum">3255</span></a>              var chartArea = chart.chartArea;
<a name="l3256"><span class="linenum">3256</span></a>              var meta = me.getMeta();
<a name="l3257"><span class="linenum">3257</span></a>              var opts = chart.options;
<a name="l3258"><span class="linenum">3258</span></a>              var arcOpts = opts.elements.arc;
<a name="l3259"><span class="linenum">3259</span></a>              var minSize = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);
<a name="l3260"><span class="linenum">3260</span></a>              chart.outerRadius = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>((minSize - arcOpts.borderWidth / 2) / 2, 0);
<a name="l3261"><span class="linenum">3261</span></a>              chart.innerRadius = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(opts.cutoutPercentage ? (chart.outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);
<a name="l3262"><span class="linenum">3262</span></a>              chart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();
<a name="l3263"><span class="linenum">3263</span></a>  
<a name="l3264"><span class="linenum">3264</span></a>              me.outerRadius = chart.outerRadius - (chart.radiusLength * me.index);
<a name="l3265"><span class="linenum">3265</span></a>              me.innerRadius = me.outerRadius - chart.radiusLength;
<a name="l3266"><span class="linenum">3266</span></a>  
<a name="l3267"><span class="linenum">3267</span></a>              meta.count = me.countVisibleElements();
<a name="l3268"><span class="linenum">3268</span></a>  
<a name="l3269"><span class="linenum">3269</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(meta.data, function(arc, index) {
<a name="l3270"><span class="linenum">3270</span></a>                  me.updateElement(arc, index, reset);
<a name="l3271"><span class="linenum">3271</span></a>              });
<a name="l3272"><span class="linenum">3272</span></a>          },
<a name="l3273"><span class="linenum">3273</span></a>  
<a name="l3274"><span class="linenum">3274</span></a>          updateElement: function(arc, index, reset) {
<a name="l3275"><span class="linenum">3275</span></a>              var me = this;
<a name="l3276"><span class="linenum">3276</span></a>              var chart = me.chart;
<a name="l3277"><span class="linenum">3277</span></a>              var chartArea = chart.chartArea;
<a name="l3278"><span class="linenum">3278</span></a>              var dataset = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l3279"><span class="linenum">3279</span></a>              var opts = chart.options;
<a name="l3280"><span class="linenum">3280</span></a>              var animationOpts = opts.animation;
<a name="l3281"><span class="linenum">3281</span></a>              var arcOpts = opts.elements.arc;
<a name="l3282"><span class="linenum">3282</span></a>              var custom = arc.custom || {};
<a name="l3283"><span class="linenum">3283</span></a>              var scale = chart.scale;
<a name="l3284"><span class="linenum">3284</span></a>              var getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;
<a name="l3285"><span class="linenum">3285</span></a>              var labels = chart.data.labels;
<a name="l3286"><span class="linenum">3286</span></a>  
<a name="l3287"><span class="linenum">3287</span></a>              var circumference = me.calculateCircumference(dataset.data[index]);
<a name="l3288"><span class="linenum">3288</span></a>              var centerX = (chartArea.left + chartArea.right) / 2;
<a name="l3289"><span class="linenum">3289</span></a>              var centerY = (chartArea.top + chartArea.bottom) / 2;
<a name="l3290"><span class="linenum">3290</span></a>  
<a name="l3291"><span class="linenum">3291</span></a>  <span class="comment">            // If there is NaN data before us, we need to calculate the starting angle correctly.</span>
<a name="l3292"><span class="linenum">3292</span></a>  <span class="comment">            // We could be way more efficient here, but its unlikely that the polar area chart will have a lot of data</span>
<a name="l3293"><span class="linenum">3293</span></a>              var visibleCount = 0;
<a name="l3294"><span class="linenum">3294</span></a>              var meta = me.getMeta();
<a name="l3295"><span class="linenum">3295</span></a>              for (var i = 0; i &lt; index; ++i) {
<a name="l3296"><span class="linenum">3296</span></a>                  if (!isNaN(dataset.data[i]) &amp;&amp; !meta.data[i].hidden) {
<a name="l3297"><span class="linenum">3297</span></a>                      ++visibleCount;
<a name="l3298"><span class="linenum">3298</span></a>                  }
<a name="l3299"><span class="linenum">3299</span></a>              }
<a name="l3300"><span class="linenum">3300</span></a>  
<a name="l3301"><span class="linenum">3301</span></a>              var negHalfPI = -0.5 * Math.PI;
<a name="l3302"><span class="linenum">3302</span></a>              var distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);
<a name="l3303"><span class="linenum">3303</span></a>              var startAngle = (negHalfPI) + (circumference * visibleCount);
<a name="l3304"><span class="linenum">3304</span></a>              var endAngle = startAngle + (arc.hidden ? 0 : circumference);
<a name="l3305"><span class="linenum">3305</span></a>  
<a name="l3306"><span class="linenum">3306</span></a>              var resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);
<a name="l3307"><span class="linenum">3307</span></a>  
<a name="l3308"><span class="linenum">3308</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(arc, {
<a name="l3309"><span class="linenum">3309</span></a>  <span class="comment">                // Utility</span>
<a name="l3310"><span class="linenum">3310</span></a>                  _datasetIndex: me.index,
<a name="l3311"><span class="linenum">3311</span></a>                  _index: index,
<a name="l3312"><span class="linenum">3312</span></a>                  _scale: scale,
<a name="l3313"><span class="linenum">3313</span></a>  
<a name="l3314"><span class="linenum">3314</span></a>  <span class="comment">                // Desired view properties</span>
<a name="l3315"><span class="linenum">3315</span></a>                  _model: {
<a name="l3316"><span class="linenum">3316</span></a>                      x: centerX,
<a name="l3317"><span class="linenum">3317</span></a>                      y: centerY,
<a name="l3318"><span class="linenum">3318</span></a>                      innerRadius: 0,
<a name="l3319"><span class="linenum">3319</span></a>                      outerRadius: reset ? resetRadius : distance,
<a name="l3320"><span class="linenum">3320</span></a>                      startAngle: reset &amp;&amp; animationOpts.animateRotate ? negHalfPI : startAngle,
<a name="l3321"><span class="linenum">3321</span></a>                      endAngle: reset &amp;&amp; animationOpts.animateRotate ? negHalfPI : endAngle,
<a name="l3322"><span class="linenum">3322</span></a>                      label: getValueAtIndexOrDefault(labels, index, labels[index])
<a name="l3323"><span class="linenum">3323</span></a>                  }
<a name="l3324"><span class="linenum">3324</span></a>              });
<a name="l3325"><span class="linenum">3325</span></a>  
<a name="l3326"><span class="linenum">3326</span></a>  <span class="comment">            // Apply border and fill style</span>
<a name="l3327"><span class="linenum">3327</span></a>              me.removeHoverStyle(arc);
<a name="l3328"><span class="linenum">3328</span></a>  
<a name="l3329"><span class="linenum">3329</span></a>              arc.pivot();
<a name="l3330"><span class="linenum">3330</span></a>          },
<a name="l3331"><span class="linenum">3331</span></a>  
<a name="l3332"><span class="linenum">3332</span></a>          removeHoverStyle: function(arc) {
<a name="l3333"><span class="linenum">3333</span></a>              Chart.DatasetController.prototype.removeHoverStyle.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this, arc, this.chart.options.elements.arc);
<a name="l3334"><span class="linenum">3334</span></a>          },
<a name="l3335"><span class="linenum">3335</span></a>  
<a name="l3336"><span class="linenum">3336</span></a>          countVisibleElements: function() {
<a name="l3337"><span class="linenum">3337</span></a>              var dataset = this.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l3338"><span class="linenum">3338</span></a>              var meta = this.getMeta();
<a name="l3339"><span class="linenum">3339</span></a>              var count = 0;
<a name="l3340"><span class="linenum">3340</span></a>  
<a name="l3341"><span class="linenum">3341</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(meta.data, function(element, index) {
<a name="l3342"><span class="linenum">3342</span></a>                  if (!isNaN(dataset.data[index]) &amp;&amp; !element.hidden) {
<a name="l3343"><span class="linenum">3343</span></a>                      count++;
<a name="l3344"><span class="linenum">3344</span></a>                  }
<a name="l3345"><span class="linenum">3345</span></a>              });
<a name="l3346"><span class="linenum">3346</span></a>  
<a name="l3347"><span class="linenum">3347</span></a>              return count;
<a name="l3348"><span class="linenum">3348</span></a>          },
<a name="l3349"><span class="linenum">3349</span></a>  
<a name="l3350"><span class="linenum">3350</span></a>          calculateCircumference: function(value) {
<a name="l3351"><span class="linenum">3351</span></a>              var count = this.getMeta().count;
<a name="l3352"><span class="linenum">3352</span></a>              if (count &gt; 0 &amp;&amp; !isNaN(value)) {
<a name="l3353"><span class="linenum">3353</span></a>                  return (2 * Math.PI) / count;
<a name="l3354"><span class="linenum">3354</span></a>              } else {
<a name="l3355"><span class="linenum">3355</span></a>                  return 0;
<a name="l3356"><span class="linenum">3356</span></a>              }
<a name="l3357"><span class="linenum">3357</span></a>          }
<a name="l3358"><span class="linenum">3358</span></a>      });
<a name="l3359"><span class="linenum">3359</span></a>  };
<a name="l3360"><span class="linenum">3360</span></a>  
<a name="l3361"><span class="linenum">3361</span></a>  },{}],20:[function(require,module,exports){
<a name="l3362"><span class="linenum">3362</span></a>  &quot;use strict&quot;;
<a name="l3363"><span class="linenum">3363</span></a>  
<a name="l3364"><span class="linenum">3364</span></a>  module.exports = function(Chart) {
<a name="l3365"><span class="linenum">3365</span></a>  
<a name="l3366"><span class="linenum">3366</span></a>      var helpers = Chart.helpers;
<a name="l3367"><span class="linenum">3367</span></a>  
<a name="l3368"><span class="linenum">3368</span></a>      Chart.defaults.radar = {
<a name="l3369"><span class="linenum">3369</span></a>          scale: {
<a name="l3370"><span class="linenum">3370</span></a>              type: &quot;radialLinear&quot;
<a name="l3371"><span class="linenum">3371</span></a>          },
<a name="l3372"><span class="linenum">3372</span></a>          elements: {
<a name="l3373"><span class="linenum">3373</span></a>              line: {
<a name="l3374"><span class="linenum">3374</span></a>                  tension: 0 // no bezier in radar
<a name="l3375"><span class="linenum">3375</span></a>              }
<a name="l3376"><span class="linenum">3376</span></a>          }
<a name="l3377"><span class="linenum">3377</span></a>      };
<a name="l3378"><span class="linenum">3378</span></a>  
<a name="l3379"><span class="linenum">3379</span></a>      Chart.controllers.radar = Chart.DatasetController.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l3380"><span class="linenum">3380</span></a>  
<a name="l3381"><span class="linenum">3381</span></a>          datasetElementType: Chart.elements.Line,
<a name="l3382"><span class="linenum">3382</span></a>  
<a name="l3383"><span class="linenum">3383</span></a>          dataElementType: Chart.elements.Point,
<a name="l3384"><span class="linenum">3384</span></a>  
<a name="l3385"><span class="linenum">3385</span></a>          linkScales: helpers.noop,
<a name="l3386"><span class="linenum">3386</span></a>  
<a name="l3387"><span class="linenum">3387</span></a>          addElementAndReset: function(index) {
<a name="l3388"><span class="linenum">3388</span></a>              Chart.DatasetController.prototype.addElementAndReset.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this, index);
<a name="l3389"><span class="linenum">3389</span></a>  
<a name="l3390"><span class="linenum">3390</span></a>  <span class="comment">            // Make sure bezier control points are updated</span>
<a name="l3391"><span class="linenum">3391</span></a>              this.updateBezierControlPoints();
<a name="l3392"><span class="linenum">3392</span></a>          },
<a name="l3393"><span class="linenum">3393</span></a>  
<a name="l3394"><span class="linenum">3394</span></a>          update: function <a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(reset) {
<a name="l3395"><span class="linenum">3395</span></a>              var me = this;
<a name="l3396"><span class="linenum">3396</span></a>              var meta = me.getMeta();
<a name="l3397"><span class="linenum">3397</span></a>              var line = meta.dataset;
<a name="l3398"><span class="linenum">3398</span></a>              var points = meta.data;
<a name="l3399"><span class="linenum">3399</span></a>              var custom = line.custom || {};
<a name="l3400"><span class="linenum">3400</span></a>              var dataset = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l3401"><span class="linenum">3401</span></a>              var lineElementOptions = me.chart.options.elements.line;
<a name="l3402"><span class="linenum">3402</span></a>              var scale = me.chart.scale;
<a name="l3403"><span class="linenum">3403</span></a>  
<a name="l3404"><span class="linenum">3404</span></a>  <span class="comment">            // Compatibility: If the properties are defined with only the old name, use those values</span>
<a name="l3405"><span class="linenum">3405</span></a>              if ((dataset.tension !== undefined) &amp;&amp; (dataset.lineTension === undefined)) {
<a name="l3406"><span class="linenum">3406</span></a>                  dataset.lineTension = dataset.tension;
<a name="l3407"><span class="linenum">3407</span></a>              }
<a name="l3408"><span class="linenum">3408</span></a>  
<a name="l3409"><span class="linenum">3409</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(meta.dataset, {
<a name="l3410"><span class="linenum">3410</span></a>  <span class="comment">                // Utility</span>
<a name="l3411"><span class="linenum">3411</span></a>                  _datasetIndex: me.index,
<a name="l3412"><span class="linenum">3412</span></a>  <span class="comment">                // Data</span>
<a name="l3413"><span class="linenum">3413</span></a>                  _children: points,
<a name="l3414"><span class="linenum">3414</span></a>                  _loop: true,
<a name="l3415"><span class="linenum">3415</span></a>  <span class="comment">                // Model</span>
<a name="l3416"><span class="linenum">3416</span></a>                  _model: {
<a name="l3417"><span class="linenum">3417</span></a>  <span class="comment">                    // Appearance</span>
<a name="l3418"><span class="linenum">3418</span></a>                      tension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),
<a name="l3419"><span class="linenum">3419</span></a>                      backgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),
<a name="l3420"><span class="linenum">3420</span></a>                      borderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),
<a name="l3421"><span class="linenum">3421</span></a>                      borderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),
<a name="l3422"><span class="linenum">3422</span></a>                      fill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),
<a name="l3423"><span class="linenum">3423</span></a>                      borderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),
<a name="l3424"><span class="linenum">3424</span></a>                      borderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),
<a name="l3425"><span class="linenum">3425</span></a>                      borderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),
<a name="l3426"><span class="linenum">3426</span></a>                      borderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),
<a name="l3427"><span class="linenum">3427</span></a>  
<a name="l3428"><span class="linenum">3428</span></a>  <span class="comment">                    // Scale</span>
<a name="l3429"><span class="linenum">3429</span></a>                      scaleTop: scale.top,
<a name="l3430"><span class="linenum">3430</span></a>                      scaleBottom: scale.bottom,
<a name="l3431"><span class="linenum">3431</span></a>                      scaleZero: scale.getBasePosition()
<a name="l3432"><span class="linenum">3432</span></a>                  }
<a name="l3433"><span class="linenum">3433</span></a>              });
<a name="l3434"><span class="linenum">3434</span></a>  
<a name="l3435"><span class="linenum">3435</span></a>              meta.dataset.pivot();
<a name="l3436"><span class="linenum">3436</span></a>  
<a name="l3437"><span class="linenum">3437</span></a>  <span class="comment">            // Update Points</span>
<a name="l3438"><span class="linenum">3438</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(points, function(point, index) {
<a name="l3439"><span class="linenum">3439</span></a>                  me.updateElement(point, index, reset);
<a name="l3440"><span class="linenum">3440</span></a>              }, me);
<a name="l3441"><span class="linenum">3441</span></a>  
<a name="l3442"><span class="linenum">3442</span></a>  
<a name="l3443"><span class="linenum">3443</span></a>  <span class="comment">            // Update bezier control points</span>
<a name="l3444"><span class="linenum">3444</span></a>              me.updateBezierControlPoints();
<a name="l3445"><span class="linenum">3445</span></a>          },
<a name="l3446"><span class="linenum">3446</span></a>          updateElement: function(point, index, reset) {
<a name="l3447"><span class="linenum">3447</span></a>              var me = this;
<a name="l3448"><span class="linenum">3448</span></a>              var custom = point.custom || {};
<a name="l3449"><span class="linenum">3449</span></a>              var dataset = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l3450"><span class="linenum">3450</span></a>              var scale = me.chart.scale;
<a name="l3451"><span class="linenum">3451</span></a>              var pointElementOptions = me.chart.options.elements.point;
<a name="l3452"><span class="linenum">3452</span></a>              var pointPosition = scale.getPointPositionForValue(index, dataset.data[index]);
<a name="l3453"><span class="linenum">3453</span></a>  
<a name="l3454"><span class="linenum">3454</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(point, {
<a name="l3455"><span class="linenum">3455</span></a>  <span class="comment">                // Utility</span>
<a name="l3456"><span class="linenum">3456</span></a>                  _datasetIndex: me.index,
<a name="l3457"><span class="linenum">3457</span></a>                  _index: index,
<a name="l3458"><span class="linenum">3458</span></a>                  _scale: scale,
<a name="l3459"><span class="linenum">3459</span></a>  
<a name="l3460"><span class="linenum">3460</span></a>  <span class="comment">                // Desired view properties</span>
<a name="l3461"><span class="linenum">3461</span></a>                  _model: {
<a name="l3462"><span class="linenum">3462</span></a>                      x: reset ? scale.xCenter : pointPosition.x, // value not used in dataset scale, but we want a consistent API between scales
<a name="l3463"><span class="linenum">3463</span></a>                      y: reset ? scale.yCenter : pointPosition.y,
<a name="l3464"><span class="linenum">3464</span></a>  
<a name="l3465"><span class="linenum">3465</span></a>  <span class="comment">                    // Appearance</span>
<a name="l3466"><span class="linenum">3466</span></a>                      tension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.tension, me.chart.options.elements.line.tension),
<a name="l3467"><span class="linenum">3467</span></a>                      radius: custom.radius ? custom.radius : helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointElementOptions.radius),
<a name="l3468"><span class="linenum">3468</span></a>                      backgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, pointElementOptions.backgroundColor),
<a name="l3469"><span class="linenum">3469</span></a>                      borderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, pointElementOptions.borderColor),
<a name="l3470"><span class="linenum">3470</span></a>                      borderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, pointElementOptions.borderWidth),
<a name="l3471"><span class="linenum">3471</span></a>                      pointStyle: custom.pointStyle ? custom.pointStyle : helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointElementOptions.pointStyle),
<a name="l3472"><span class="linenum">3472</span></a>  
<a name="l3473"><span class="linenum">3473</span></a>  <span class="comment">                    // Tooltip</span>
<a name="l3474"><span class="linenum">3474</span></a>                      hitRadius: custom.hitRadius ? custom.hitRadius : helpers.getValueAtIndexOrDefault(dataset.hitRadius, index, pointElementOptions.hitRadius)
<a name="l3475"><span class="linenum">3475</span></a>                  }
<a name="l3476"><span class="linenum">3476</span></a>              });
<a name="l3477"><span class="linenum">3477</span></a>  
<a name="l3478"><span class="linenum">3478</span></a>              point._model.skip = custom.skip ? custom.skip : (isNaN(point._model.x) || isNaN(point._model.y));
<a name="l3479"><span class="linenum">3479</span></a>          },
<a name="l3480"><span class="linenum">3480</span></a>          updateBezierControlPoints: function() {
<a name="l3481"><span class="linenum">3481</span></a>              var chartArea = this.chart.chartArea;
<a name="l3482"><span class="linenum">3482</span></a>              var meta = this.getMeta();
<a name="l3483"><span class="linenum">3483</span></a>  
<a name="l3484"><span class="linenum">3484</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(meta.data, function(point, index) {
<a name="l3485"><span class="linenum">3485</span></a>                  var model = point._model;
<a name="l3486"><span class="linenum">3486</span></a>                  var controlPoints = helpers.splineCurve(
<a name="l3487"><span class="linenum">3487</span></a>                      helpers.previousItem(meta.data, index, true)._model,
<a name="l3488"><span class="linenum">3488</span></a>                      model,
<a name="l3489"><span class="linenum">3489</span></a>                      helpers.nextItem(meta.data, index, true)._model,
<a name="l3490"><span class="linenum">3490</span></a>                      model.tension
<a name="l3491"><span class="linenum">3491</span></a>                  );
<a name="l3492"><span class="linenum">3492</span></a>  
<a name="l3493"><span class="linenum">3493</span></a>  <span class="comment">                // Prevent the bezier going outside of the bounds of the graph</span>
<a name="l3494"><span class="linenum">3494</span></a>                  model.controlPointPreviousX = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(controlPoints.previous.x, chartArea.right), chartArea.left);
<a name="l3495"><span class="linenum">3495</span></a>                  model.controlPointPreviousY = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(controlPoints.previous.y, chartArea.bottom), chartArea.top);
<a name="l3496"><span class="linenum">3496</span></a>  
<a name="l3497"><span class="linenum">3497</span></a>                  model.controlPointNextX = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(controlPoints.next.x, chartArea.right), chartArea.left);
<a name="l3498"><span class="linenum">3498</span></a>                  model.controlPointNextY = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(controlPoints.next.y, chartArea.bottom), chartArea.top);
<a name="l3499"><span class="linenum">3499</span></a>  
<a name="l3500"><span class="linenum">3500</span></a>  <span class="comment">                // Now pivot the point for animation</span>
<a name="l3501"><span class="linenum">3501</span></a>                  point.pivot();
<a name="l3502"><span class="linenum">3502</span></a>              });
<a name="l3503"><span class="linenum">3503</span></a>          },
<a name="l3504"><span class="linenum">3504</span></a>  
<a name="l3505"><span class="linenum">3505</span></a>          draw: function(ease) {
<a name="l3506"><span class="linenum">3506</span></a>              var meta = this.getMeta();
<a name="l3507"><span class="linenum">3507</span></a>              var easingDecimal = ease || 1;
<a name="l3508"><span class="linenum">3508</span></a>  
<a name="l3509"><span class="linenum">3509</span></a>  <span class="comment">            // Transition Point Locations</span>
<a name="l3510"><span class="linenum">3510</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(meta.data, function(point, index) {
<a name="l3511"><span class="linenum">3511</span></a>                  point.<a class="function" onClick="logFunction('transition')" href="../../../_functions/transition.html" onMouseOver="funcPopup(event,'transition')">transition</a>(easingDecimal);
<a name="l3512"><span class="linenum">3512</span></a>              });
<a name="l3513"><span class="linenum">3513</span></a>  
<a name="l3514"><span class="linenum">3514</span></a>  <span class="comment">            // Transition and Draw the line</span>
<a name="l3515"><span class="linenum">3515</span></a>              meta.dataset.<a class="function" onClick="logFunction('transition')" href="../../../_functions/transition.html" onMouseOver="funcPopup(event,'transition')">transition</a>(easingDecimal).<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>();
<a name="l3516"><span class="linenum">3516</span></a>  
<a name="l3517"><span class="linenum">3517</span></a>  <span class="comment">            // Draw the points</span>
<a name="l3518"><span class="linenum">3518</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(meta.data, function(point) {
<a name="l3519"><span class="linenum">3519</span></a>                  point.<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>();
<a name="l3520"><span class="linenum">3520</span></a>              });
<a name="l3521"><span class="linenum">3521</span></a>          },
<a name="l3522"><span class="linenum">3522</span></a>  
<a name="l3523"><span class="linenum">3523</span></a>          setHoverStyle: function(point) {
<a name="l3524"><span class="linenum">3524</span></a>  <span class="comment">            // Point</span>
<a name="l3525"><span class="linenum">3525</span></a>              var dataset = this.chart.data.datasets[point._datasetIndex];
<a name="l3526"><span class="linenum">3526</span></a>              var custom = point.custom || {};
<a name="l3527"><span class="linenum">3527</span></a>              var index = point._index;
<a name="l3528"><span class="linenum">3528</span></a>              var model = point._model;
<a name="l3529"><span class="linenum">3529</span></a>  
<a name="l3530"><span class="linenum">3530</span></a>              model.radius = custom.hoverRadius ? custom.hoverRadius : helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);
<a name="l3531"><span class="linenum">3531</span></a>              model.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));
<a name="l3532"><span class="linenum">3532</span></a>              model.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));
<a name="l3533"><span class="linenum">3533</span></a>              model.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);
<a name="l3534"><span class="linenum">3534</span></a>          },
<a name="l3535"><span class="linenum">3535</span></a>  
<a name="l3536"><span class="linenum">3536</span></a>          removeHoverStyle: function(point) {
<a name="l3537"><span class="linenum">3537</span></a>              var dataset = this.chart.data.datasets[point._datasetIndex];
<a name="l3538"><span class="linenum">3538</span></a>              var custom = point.custom || {};
<a name="l3539"><span class="linenum">3539</span></a>              var index = point._index;
<a name="l3540"><span class="linenum">3540</span></a>              var model = point._model;
<a name="l3541"><span class="linenum">3541</span></a>              var pointElementOptions = this.chart.options.elements.point;
<a name="l3542"><span class="linenum">3542</span></a>  
<a name="l3543"><span class="linenum">3543</span></a>              model.radius = custom.radius ? custom.radius : helpers.getValueAtIndexOrDefault(dataset.radius, index, pointElementOptions.radius);
<a name="l3544"><span class="linenum">3544</span></a>              model.backgroundColor = custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, pointElementOptions.backgroundColor);
<a name="l3545"><span class="linenum">3545</span></a>              model.borderColor = custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, pointElementOptions.borderColor);
<a name="l3546"><span class="linenum">3546</span></a>              model.borderWidth = custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, pointElementOptions.borderWidth);
<a name="l3547"><span class="linenum">3547</span></a>          }
<a name="l3548"><span class="linenum">3548</span></a>      });
<a name="l3549"><span class="linenum">3549</span></a>  };
<a name="l3550"><span class="linenum">3550</span></a>  
<a name="l3551"><span class="linenum">3551</span></a>  },{}],21:[function(require,module,exports){
<a name="l3552"><span class="linenum">3552</span></a>  <span class="comment">/*global window: false */</span>
<a name="l3553"><span class="linenum">3553</span></a>  &quot;use strict&quot;;
<a name="l3554"><span class="linenum">3554</span></a>  
<a name="l3555"><span class="linenum">3555</span></a>  module.exports = function(Chart) {
<a name="l3556"><span class="linenum">3556</span></a>  
<a name="l3557"><span class="linenum">3557</span></a>      var helpers = Chart.helpers;
<a name="l3558"><span class="linenum">3558</span></a>  
<a name="l3559"><span class="linenum">3559</span></a>      Chart.defaults.global.animation = {
<a name="l3560"><span class="linenum">3560</span></a>          duration: 1000,
<a name="l3561"><span class="linenum">3561</span></a>          easing: &quot;easeOutQuart&quot;,
<a name="l3562"><span class="linenum">3562</span></a>          onProgress: helpers.noop,
<a name="l3563"><span class="linenum">3563</span></a>          onComplete: helpers.noop
<a name="l3564"><span class="linenum">3564</span></a>      };
<a name="l3565"><span class="linenum">3565</span></a>  
<a name="l3566"><span class="linenum">3566</span></a>      Chart.Animation = Chart.Element.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l3567"><span class="linenum">3567</span></a>          currentStep: null, // the current animation step
<a name="l3568"><span class="linenum">3568</span></a>          numSteps: 60, // default number of steps
<a name="l3569"><span class="linenum">3569</span></a>          easing: &quot;&quot;, // the easing to use for this animation
<a name="l3570"><span class="linenum">3570</span></a>          render: null, // render function used by the animation service
<a name="l3571"><span class="linenum">3571</span></a>  
<a name="l3572"><span class="linenum">3572</span></a>          onAnimationProgress: null, // user specified callback to fire on each step of the animation
<a name="l3573"><span class="linenum">3573</span></a>          onAnimationComplete: null // user specified callback to fire when the animation finishes
<a name="l3574"><span class="linenum">3574</span></a>      });
<a name="l3575"><span class="linenum">3575</span></a>  
<a name="l3576"><span class="linenum">3576</span></a>      Chart.animationService = {
<a name="l3577"><span class="linenum">3577</span></a>          frameDuration: 17,
<a name="l3578"><span class="linenum">3578</span></a>          animations: [],
<a name="l3579"><span class="linenum">3579</span></a>          dropFrames: 0,
<a name="l3580"><span class="linenum">3580</span></a>          request: null,
<a name="l3581"><span class="linenum">3581</span></a>          addAnimation: function(chartInstance, animationObject, duration, lazy) {
<a name="l3582"><span class="linenum">3582</span></a>              var me = this;
<a name="l3583"><span class="linenum">3583</span></a>  
<a name="l3584"><span class="linenum">3584</span></a>              if (!lazy) {
<a name="l3585"><span class="linenum">3585</span></a>                  chartInstance.animating = true;
<a name="l3586"><span class="linenum">3586</span></a>              }
<a name="l3587"><span class="linenum">3587</span></a>  
<a name="l3588"><span class="linenum">3588</span></a>              for (var index = 0; index &lt; me.animations.length; ++index) {
<a name="l3589"><span class="linenum">3589</span></a>                  if (me.animations[index].chartInstance === chartInstance) {
<a name="l3590"><span class="linenum">3590</span></a>  <span class="comment">                    // replacing an in progress animation</span>
<a name="l3591"><span class="linenum">3591</span></a>                      me.animations[index].animationObject = animationObject;
<a name="l3592"><span class="linenum">3592</span></a>                      return;
<a name="l3593"><span class="linenum">3593</span></a>                  }
<a name="l3594"><span class="linenum">3594</span></a>              }
<a name="l3595"><span class="linenum">3595</span></a>  
<a name="l3596"><span class="linenum">3596</span></a>              me.animations.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>({
<a name="l3597"><span class="linenum">3597</span></a>                  chartInstance: chartInstance,
<a name="l3598"><span class="linenum">3598</span></a>                  animationObject: animationObject
<a name="l3599"><span class="linenum">3599</span></a>              });
<a name="l3600"><span class="linenum">3600</span></a>  
<a name="l3601"><span class="linenum">3601</span></a>  <span class="comment">            // If there are no animations queued, manually kickstart a digest, for lack of a better word</span>
<a name="l3602"><span class="linenum">3602</span></a>              if (me.animations.length === 1) {
<a name="l3603"><span class="linenum">3603</span></a>                  me.requestAnimationFrame();
<a name="l3604"><span class="linenum">3604</span></a>              }
<a name="l3605"><span class="linenum">3605</span></a>          },
<a name="l3606"><span class="linenum">3606</span></a>  <span class="comment">        // Cancel the animation for a given chart instance</span>
<a name="l3607"><span class="linenum">3607</span></a>          cancelAnimation: function(chartInstance) {
<a name="l3608"><span class="linenum">3608</span></a>              var index = helpers.<a class="function" onClick="logFunction('findIndex')" href="../../../_functions/findindex.html" onMouseOver="funcPopup(event,'findindex')">findIndex</a>(this.animations, function(animationWrapper) {
<a name="l3609"><span class="linenum">3609</span></a>                  return animationWrapper.chartInstance === chartInstance;
<a name="l3610"><span class="linenum">3610</span></a>              });
<a name="l3611"><span class="linenum">3611</span></a>  
<a name="l3612"><span class="linenum">3612</span></a>              if (index !== -1) {
<a name="l3613"><span class="linenum">3613</span></a>                  this.animations.<a class="function" onClick="logFunction('splice')" href="../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(index, 1);
<a name="l3614"><span class="linenum">3614</span></a>                  chartInstance.animating = false;
<a name="l3615"><span class="linenum">3615</span></a>              }
<a name="l3616"><span class="linenum">3616</span></a>          },
<a name="l3617"><span class="linenum">3617</span></a>          requestAnimationFrame: function() {
<a name="l3618"><span class="linenum">3618</span></a>              var me = this;
<a name="l3619"><span class="linenum">3619</span></a>              if (me.request === null) {
<a name="l3620"><span class="linenum">3620</span></a>  <span class="comment">                // Skip animation frame requests until the active one is executed.</span>
<a name="l3621"><span class="linenum">3621</span></a>  <span class="comment">                // This can happen when processing mouse events, e.g. 'mousemove'</span>
<a name="l3622"><span class="linenum">3622</span></a>  <span class="comment">                // and 'mouseout' events will trigger multiple renders.</span>
<a name="l3623"><span class="linenum">3623</span></a>                  me.request = helpers.requestAnimFrame.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(window, function() {
<a name="l3624"><span class="linenum">3624</span></a>                      me.request = null;
<a name="l3625"><span class="linenum">3625</span></a>                      me.startDigest();
<a name="l3626"><span class="linenum">3626</span></a>                  });
<a name="l3627"><span class="linenum">3627</span></a>              }
<a name="l3628"><span class="linenum">3628</span></a>          },
<a name="l3629"><span class="linenum">3629</span></a>          startDigest: function() {
<a name="l3630"><span class="linenum">3630</span></a>              var me = this;
<a name="l3631"><span class="linenum">3631</span></a>  
<a name="l3632"><span class="linenum">3632</span></a>              var startTime = Date.<a class="function" onClick="logFunction('now')" href="../../../_functions/now.html" onMouseOver="funcPopup(event,'now')">now</a>();
<a name="l3633"><span class="linenum">3633</span></a>              var framesToDrop = 0;
<a name="l3634"><span class="linenum">3634</span></a>  
<a name="l3635"><span class="linenum">3635</span></a>              if (me.dropFrames &gt; 1) {
<a name="l3636"><span class="linenum">3636</span></a>                  framesToDrop = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(me.dropFrames);
<a name="l3637"><span class="linenum">3637</span></a>                  me.dropFrames = me.dropFrames % 1;
<a name="l3638"><span class="linenum">3638</span></a>              }
<a name="l3639"><span class="linenum">3639</span></a>  
<a name="l3640"><span class="linenum">3640</span></a>              var i = 0;
<a name="l3641"><span class="linenum">3641</span></a>              while (i &lt; me.animations.length) {
<a name="l3642"><span class="linenum">3642</span></a>                  if (me.animations[i].animationObject.currentStep === null) {
<a name="l3643"><span class="linenum">3643</span></a>                      me.animations[i].animationObject.currentStep = 0;
<a name="l3644"><span class="linenum">3644</span></a>                  }
<a name="l3645"><span class="linenum">3645</span></a>  
<a name="l3646"><span class="linenum">3646</span></a>                  me.animations[i].animationObject.currentStep += 1 + framesToDrop;
<a name="l3647"><span class="linenum">3647</span></a>  
<a name="l3648"><span class="linenum">3648</span></a>                  if (me.animations[i].animationObject.currentStep &gt; me.animations[i].animationObject.numSteps) {
<a name="l3649"><span class="linenum">3649</span></a>                      me.animations[i].animationObject.currentStep = me.animations[i].animationObject.numSteps;
<a name="l3650"><span class="linenum">3650</span></a>                  }
<a name="l3651"><span class="linenum">3651</span></a>  
<a name="l3652"><span class="linenum">3652</span></a>                  me.animations[i].animationObject.<a class="function" onClick="logFunction('render')" href="../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(me.animations[i].chartInstance, me.animations[i].animationObject);
<a name="l3653"><span class="linenum">3653</span></a>                  if (me.animations[i].animationObject.onAnimationProgress &amp;&amp; me.animations[i].animationObject.onAnimationProgress.call) {
<a name="l3654"><span class="linenum">3654</span></a>                      me.animations[i].animationObject.onAnimationProgress.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me.animations[i].chartInstance, me.animations[i]);
<a name="l3655"><span class="linenum">3655</span></a>                  }
<a name="l3656"><span class="linenum">3656</span></a>  
<a name="l3657"><span class="linenum">3657</span></a>                  if (me.animations[i].animationObject.currentStep === me.animations[i].animationObject.numSteps) {
<a name="l3658"><span class="linenum">3658</span></a>                      if (me.animations[i].animationObject.onAnimationComplete &amp;&amp; me.animations[i].animationObject.onAnimationComplete.call) {
<a name="l3659"><span class="linenum">3659</span></a>                          me.animations[i].animationObject.onAnimationComplete.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me.animations[i].chartInstance, me.animations[i]);
<a name="l3660"><span class="linenum">3660</span></a>                      }
<a name="l3661"><span class="linenum">3661</span></a>  
<a name="l3662"><span class="linenum">3662</span></a>  <span class="comment">                    // executed the last frame. Remove the animation.</span>
<a name="l3663"><span class="linenum">3663</span></a>                      me.animations[i].chartInstance.animating = false;
<a name="l3664"><span class="linenum">3664</span></a>  
<a name="l3665"><span class="linenum">3665</span></a>                      me.animations.<a class="function" onClick="logFunction('splice')" href="../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(i, 1);
<a name="l3666"><span class="linenum">3666</span></a>                  } else {
<a name="l3667"><span class="linenum">3667</span></a>                      ++i;
<a name="l3668"><span class="linenum">3668</span></a>                  }
<a name="l3669"><span class="linenum">3669</span></a>              }
<a name="l3670"><span class="linenum">3670</span></a>  
<a name="l3671"><span class="linenum">3671</span></a>              var endTime = Date.<a class="function" onClick="logFunction('now')" href="../../../_functions/now.html" onMouseOver="funcPopup(event,'now')">now</a>();
<a name="l3672"><span class="linenum">3672</span></a>              var dropFrames = (endTime - startTime) / me.frameDuration;
<a name="l3673"><span class="linenum">3673</span></a>  
<a name="l3674"><span class="linenum">3674</span></a>              me.dropFrames += dropFrames;
<a name="l3675"><span class="linenum">3675</span></a>  
<a name="l3676"><span class="linenum">3676</span></a>  <span class="comment">            // Do we have more stuff to animate?</span>
<a name="l3677"><span class="linenum">3677</span></a>              if (me.animations.length &gt; 0) {
<a name="l3678"><span class="linenum">3678</span></a>                  me.requestAnimationFrame();
<a name="l3679"><span class="linenum">3679</span></a>              }
<a name="l3680"><span class="linenum">3680</span></a>          }
<a name="l3681"><span class="linenum">3681</span></a>      };
<a name="l3682"><span class="linenum">3682</span></a>  };
<a name="l3683"><span class="linenum">3683</span></a>  },{}],22:[function(require,module,exports){
<a name="l3684"><span class="linenum">3684</span></a>  &quot;use strict&quot;;
<a name="l3685"><span class="linenum">3685</span></a>  
<a name="l3686"><span class="linenum">3686</span></a>  module.exports = function(Chart) {
<a name="l3687"><span class="linenum">3687</span></a>  
<a name="l3688"><span class="linenum">3688</span></a>      var helpers = Chart.helpers;
<a name="l3689"><span class="linenum">3689</span></a>  <span class="comment">    //Create a dictionary of chart types, to allow for extension of existing types</span>
<a name="l3690"><span class="linenum">3690</span></a>      Chart.types = {};
<a name="l3691"><span class="linenum">3691</span></a>  
<a name="l3692"><span class="linenum">3692</span></a>  <span class="comment">    //Store a reference to each instance - allowing us to globally resize chart instances on window resize.</span>
<a name="l3693"><span class="linenum">3693</span></a>  <span class="comment">    //Destroy method on the chart will remove the instance of the chart from this reference.</span>
<a name="l3694"><span class="linenum">3694</span></a>      Chart.instances = {};
<a name="l3695"><span class="linenum">3695</span></a>  
<a name="l3696"><span class="linenum">3696</span></a>  <span class="comment">    // Controllers available for dataset visualization eg. bar, line, slice, etc.</span>
<a name="l3697"><span class="linenum">3697</span></a>      Chart.controllers = {};
<a name="l3698"><span class="linenum">3698</span></a>  
<a name="l3699"><span class="linenum">3699</span></a>      <span class="comment">/**</span>
<a name="l3700"><span class="linenum">3700</span></a>  <span class="comment">     * @class Chart.Controller</span>
<a name="l3701"><span class="linenum">3701</span></a>  <span class="comment">     * The main controller of a chart.</span>
<a name="l3702"><span class="linenum">3702</span></a>  <span class="comment">     */</span>
<a name="l3703"><span class="linenum">3703</span></a>      Chart.Controller = function(instance) {
<a name="l3704"><span class="linenum">3704</span></a>  
<a name="l3705"><span class="linenum">3705</span></a>          this.chart = instance;
<a name="l3706"><span class="linenum">3706</span></a>          this.config = instance.config;
<a name="l3707"><span class="linenum">3707</span></a>          this.options = this.config.options = helpers.configMerge(Chart.defaults.global, Chart.defaults[this.config.type], this.config.options || {});
<a name="l3708"><span class="linenum">3708</span></a>          this.id = helpers.<a class="function" onClick="logFunction('uid')" href="../../../_functions/uid.html" onMouseOver="funcPopup(event,'uid')">uid</a>();
<a name="l3709"><span class="linenum">3709</span></a>  
<a name="l3710"><span class="linenum">3710</span></a>          Object.defineProperty(this, 'data', {
<a name="l3711"><span class="linenum">3711</span></a>              get: function() {
<a name="l3712"><span class="linenum">3712</span></a>                  return this.config.data;
<a name="l3713"><span class="linenum">3713</span></a>              }
<a name="l3714"><span class="linenum">3714</span></a>          });
<a name="l3715"><span class="linenum">3715</span></a>  
<a name="l3716"><span class="linenum">3716</span></a>  <span class="comment">        //Add the chart instance to the global namespace</span>
<a name="l3717"><span class="linenum">3717</span></a>          Chart.instances[this.id] = this;
<a name="l3718"><span class="linenum">3718</span></a>  
<a name="l3719"><span class="linenum">3719</span></a>          if (this.options.responsive) {
<a name="l3720"><span class="linenum">3720</span></a>  <span class="comment">            // Silent resize before chart draws</span>
<a name="l3721"><span class="linenum">3721</span></a>              this.<a class="function" onClick="logFunction('resize')" href="../../../_functions/resize.html" onMouseOver="funcPopup(event,'resize')">resize</a>(true);
<a name="l3722"><span class="linenum">3722</span></a>          }
<a name="l3723"><span class="linenum">3723</span></a>  
<a name="l3724"><span class="linenum">3724</span></a>          this.<a class="function" onClick="logFunction('initialize')" href="../../../_functions/initialize.html" onMouseOver="funcPopup(event,'initialize')">initialize</a>();
<a name="l3725"><span class="linenum">3725</span></a>  
<a name="l3726"><span class="linenum">3726</span></a>          return this;
<a name="l3727"><span class="linenum">3727</span></a>      };
<a name="l3728"><span class="linenum">3728</span></a>  
<a name="l3729"><span class="linenum">3729</span></a>      helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(Chart.Controller.prototype, <span class="comment">/** @lends Chart.Controller */</span> {
<a name="l3730"><span class="linenum">3730</span></a>  
<a name="l3731"><span class="linenum">3731</span></a>          initialize: function <a class="function" onClick="logFunction('initialize')" href="../../../_functions/initialize.html" onMouseOver="funcPopup(event,'initialize')">initialize</a>() {
<a name="l3732"><span class="linenum">3732</span></a>              var me = this;
<a name="l3733"><span class="linenum">3733</span></a>  <span class="comment">            // Before init plugin notification</span>
<a name="l3734"><span class="linenum">3734</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('beforeInit', [me]);
<a name="l3735"><span class="linenum">3735</span></a>  
<a name="l3736"><span class="linenum">3736</span></a>              me.bindEvents();
<a name="l3737"><span class="linenum">3737</span></a>  
<a name="l3738"><span class="linenum">3738</span></a>  <span class="comment">            // Make sure controllers are built first so that each dataset is bound to an axis before the scales</span>
<a name="l3739"><span class="linenum">3739</span></a>  <span class="comment">            // are built</span>
<a name="l3740"><span class="linenum">3740</span></a>              me.ensureScalesHaveIDs();
<a name="l3741"><span class="linenum">3741</span></a>              me.buildOrUpdateControllers();
<a name="l3742"><span class="linenum">3742</span></a>              me.buildScales();
<a name="l3743"><span class="linenum">3743</span></a>              me.updateLayout();
<a name="l3744"><span class="linenum">3744</span></a>              me.resetElements();
<a name="l3745"><span class="linenum">3745</span></a>              me.initToolTip();
<a name="l3746"><span class="linenum">3746</span></a>              me.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l3747"><span class="linenum">3747</span></a>  
<a name="l3748"><span class="linenum">3748</span></a>  <span class="comment">            // After init plugin notification</span>
<a name="l3749"><span class="linenum">3749</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('afterInit', [me]);
<a name="l3750"><span class="linenum">3750</span></a>  
<a name="l3751"><span class="linenum">3751</span></a>              return me;
<a name="l3752"><span class="linenum">3752</span></a>          },
<a name="l3753"><span class="linenum">3753</span></a>  
<a name="l3754"><span class="linenum">3754</span></a>          clear: function <a class="function" onClick="logFunction('clear')" href="../../../_functions/clear.html" onMouseOver="funcPopup(event,'clear')">clear</a>() {
<a name="l3755"><span class="linenum">3755</span></a>              helpers.<a class="function" onClick="logFunction('clear')" href="../../../_functions/clear.html" onMouseOver="funcPopup(event,'clear')">clear</a>(this.chart);
<a name="l3756"><span class="linenum">3756</span></a>              return this;
<a name="l3757"><span class="linenum">3757</span></a>          },
<a name="l3758"><span class="linenum">3758</span></a>  
<a name="l3759"><span class="linenum">3759</span></a>          stop: function <a class="function" onClick="logFunction('stop')" href="../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>() {
<a name="l3760"><span class="linenum">3760</span></a>  <span class="comment">            // Stops any current animation loop occuring</span>
<a name="l3761"><span class="linenum">3761</span></a>              Chart.animationService.cancelAnimation(this);
<a name="l3762"><span class="linenum">3762</span></a>              return this;
<a name="l3763"><span class="linenum">3763</span></a>          },
<a name="l3764"><span class="linenum">3764</span></a>  
<a name="l3765"><span class="linenum">3765</span></a>          resize: function <a class="function" onClick="logFunction('resize')" href="../../../_functions/resize.html" onMouseOver="funcPopup(event,'resize')">resize</a>(silent) {
<a name="l3766"><span class="linenum">3766</span></a>              var me = this;
<a name="l3767"><span class="linenum">3767</span></a>              var chart = me.chart;
<a name="l3768"><span class="linenum">3768</span></a>              var canvas = chart.canvas;
<a name="l3769"><span class="linenum">3769</span></a>              var newWidth = helpers.getMaximumWidth(canvas);
<a name="l3770"><span class="linenum">3770</span></a>              var aspectRatio = chart.aspectRatio;
<a name="l3771"><span class="linenum">3771</span></a>              var newHeight = (me.options.maintainAspectRatio &amp;&amp; isNaN(aspectRatio) === false &amp;&amp; isFinite(aspectRatio) &amp;&amp; aspectRatio !== 0) ? newWidth / aspectRatio : helpers.getMaximumHeight(canvas);
<a name="l3772"><span class="linenum">3772</span></a>  
<a name="l3773"><span class="linenum">3773</span></a>              var sizeChanged = chart.width !== newWidth || chart.height !== newHeight;
<a name="l3774"><span class="linenum">3774</span></a>  
<a name="l3775"><span class="linenum">3775</span></a>              if (!sizeChanged) {
<a name="l3776"><span class="linenum">3776</span></a>                  return me;
<a name="l3777"><span class="linenum">3777</span></a>              }
<a name="l3778"><span class="linenum">3778</span></a>  
<a name="l3779"><span class="linenum">3779</span></a>              canvas.width = chart.width = newWidth;
<a name="l3780"><span class="linenum">3780</span></a>              canvas.height = chart.height = newHeight;
<a name="l3781"><span class="linenum">3781</span></a>  
<a name="l3782"><span class="linenum">3782</span></a>              helpers.retinaScale(chart);
<a name="l3783"><span class="linenum">3783</span></a>  
<a name="l3784"><span class="linenum">3784</span></a>  <span class="comment">            // Notify any plugins about the resize</span>
<a name="l3785"><span class="linenum">3785</span></a>              var newSize = { width: newWidth, height: newHeight };
<a name="l3786"><span class="linenum">3786</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('resize', [me, newSize]);
<a name="l3787"><span class="linenum">3787</span></a>  
<a name="l3788"><span class="linenum">3788</span></a>  <span class="comment">            // Notify of resize</span>
<a name="l3789"><span class="linenum">3789</span></a>              if (me.options.onResize) {
<a name="l3790"><span class="linenum">3790</span></a>                  me.options.onResize(me, newSize);
<a name="l3791"><span class="linenum">3791</span></a>              }
<a name="l3792"><span class="linenum">3792</span></a>  
<a name="l3793"><span class="linenum">3793</span></a>              if (!silent) {
<a name="l3794"><span class="linenum">3794</span></a>                  me.<a class="function" onClick="logFunction('stop')" href="../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>();
<a name="l3795"><span class="linenum">3795</span></a>                  me.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(me.options.responsiveAnimationDuration);
<a name="l3796"><span class="linenum">3796</span></a>              }
<a name="l3797"><span class="linenum">3797</span></a>  
<a name="l3798"><span class="linenum">3798</span></a>              return me;
<a name="l3799"><span class="linenum">3799</span></a>          },
<a name="l3800"><span class="linenum">3800</span></a>  
<a name="l3801"><span class="linenum">3801</span></a>          ensureScalesHaveIDs: function ensureScalesHaveIDs() {
<a name="l3802"><span class="linenum">3802</span></a>              var options = this.options;
<a name="l3803"><span class="linenum">3803</span></a>              var scalesOptions = options.scales || {};
<a name="l3804"><span class="linenum">3804</span></a>              var scaleOptions = options.scale;
<a name="l3805"><span class="linenum">3805</span></a>  
<a name="l3806"><span class="linenum">3806</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(scalesOptions.xAxes, function(xAxisOptions, index) {
<a name="l3807"><span class="linenum">3807</span></a>                  xAxisOptions.id = xAxisOptions.id || ('x-axis-' + index);
<a name="l3808"><span class="linenum">3808</span></a>              });
<a name="l3809"><span class="linenum">3809</span></a>  
<a name="l3810"><span class="linenum">3810</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(scalesOptions.yAxes, function(yAxisOptions, index) {
<a name="l3811"><span class="linenum">3811</span></a>                  yAxisOptions.id = yAxisOptions.id || ('y-axis-' + index);
<a name="l3812"><span class="linenum">3812</span></a>              });
<a name="l3813"><span class="linenum">3813</span></a>  
<a name="l3814"><span class="linenum">3814</span></a>              if (scaleOptions) {
<a name="l3815"><span class="linenum">3815</span></a>                  scaleOptions.id = scaleOptions.id || 'scale';
<a name="l3816"><span class="linenum">3816</span></a>              }
<a name="l3817"><span class="linenum">3817</span></a>          },
<a name="l3818"><span class="linenum">3818</span></a>  
<a name="l3819"><span class="linenum">3819</span></a>          <span class="comment">/**</span>
<a name="l3820"><span class="linenum">3820</span></a>  <span class="comment">         * Builds a map of scale ID to scale object for future lookup.</span>
<a name="l3821"><span class="linenum">3821</span></a>  <span class="comment">         */</span>
<a name="l3822"><span class="linenum">3822</span></a>          buildScales: function buildScales() {
<a name="l3823"><span class="linenum">3823</span></a>              var me = this;
<a name="l3824"><span class="linenum">3824</span></a>              var options = me.options;
<a name="l3825"><span class="linenum">3825</span></a>              var scales = me.scales = {};
<a name="l3826"><span class="linenum">3826</span></a>              var items = [];
<a name="l3827"><span class="linenum">3827</span></a>  
<a name="l3828"><span class="linenum">3828</span></a>              if (options.scales) {
<a name="l3829"><span class="linenum">3829</span></a>                  items = items.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(
<a name="l3830"><span class="linenum">3830</span></a>                      (options.scales.xAxes || []).map(function(xAxisOptions) {
<a name="l3831"><span class="linenum">3831</span></a>                          return { options: xAxisOptions, dtype: 'category' }; }),
<a name="l3832"><span class="linenum">3832</span></a>                      (options.scales.yAxes || []).map(function(yAxisOptions) {
<a name="l3833"><span class="linenum">3833</span></a>                          return { options: yAxisOptions, dtype: 'linear' }; }));
<a name="l3834"><span class="linenum">3834</span></a>              }
<a name="l3835"><span class="linenum">3835</span></a>  
<a name="l3836"><span class="linenum">3836</span></a>              if (options.scale) {
<a name="l3837"><span class="linenum">3837</span></a>                  items.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>({ options: options.scale, dtype: 'radialLinear', isDefault: true });
<a name="l3838"><span class="linenum">3838</span></a>              }
<a name="l3839"><span class="linenum">3839</span></a>  
<a name="l3840"><span class="linenum">3840</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(items, function(item, index) {
<a name="l3841"><span class="linenum">3841</span></a>                  var scaleOptions = item.options;
<a name="l3842"><span class="linenum">3842</span></a>                  var scaleType = helpers.getValueOrDefault(scaleOptions.type, item.dtype);
<a name="l3843"><span class="linenum">3843</span></a>                  var scaleClass = Chart.scaleService.getScaleConstructor(scaleType);
<a name="l3844"><span class="linenum">3844</span></a>                  if (!scaleClass) {
<a name="l3845"><span class="linenum">3845</span></a>                      return;
<a name="l3846"><span class="linenum">3846</span></a>                  }
<a name="l3847"><span class="linenum">3847</span></a>  
<a name="l3848"><span class="linenum">3848</span></a>                  var scale = new scaleClass({
<a name="l3849"><span class="linenum">3849</span></a>                      id: scaleOptions.id,
<a name="l3850"><span class="linenum">3850</span></a>                      options: scaleOptions,
<a name="l3851"><span class="linenum">3851</span></a>                      ctx: me.chart.ctx,
<a name="l3852"><span class="linenum">3852</span></a>                      chart: me
<a name="l3853"><span class="linenum">3853</span></a>                  });
<a name="l3854"><span class="linenum">3854</span></a>  
<a name="l3855"><span class="linenum">3855</span></a>                  scales[scale.id] = scale;
<a name="l3856"><span class="linenum">3856</span></a>  
<a name="l3857"><span class="linenum">3857</span></a>  <span class="comment">                // TODO(SB): I think we should be able to remove this custom case (options.scale)</span>
<a name="l3858"><span class="linenum">3858</span></a>  <span class="comment">                // and consider it as a regular scale part of the &quot;scales&quot;&quot; map only! This would</span>
<a name="l3859"><span class="linenum">3859</span></a>  <span class="comment">                // make the logic easier and remove some useless? custom code.</span>
<a name="l3860"><span class="linenum">3860</span></a>                  if (item.isDefault) {
<a name="l3861"><span class="linenum">3861</span></a>                      me.scale = scale;
<a name="l3862"><span class="linenum">3862</span></a>                  }
<a name="l3863"><span class="linenum">3863</span></a>              });
<a name="l3864"><span class="linenum">3864</span></a>  
<a name="l3865"><span class="linenum">3865</span></a>              Chart.scaleService.addScalesToLayout(this);
<a name="l3866"><span class="linenum">3866</span></a>          },
<a name="l3867"><span class="linenum">3867</span></a>  
<a name="l3868"><span class="linenum">3868</span></a>          updateLayout: function() {
<a name="l3869"><span class="linenum">3869</span></a>              Chart.layoutService.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(this, this.chart.width, this.chart.height);
<a name="l3870"><span class="linenum">3870</span></a>          },
<a name="l3871"><span class="linenum">3871</span></a>  
<a name="l3872"><span class="linenum">3872</span></a>          buildOrUpdateControllers: function buildOrUpdateControllers() {
<a name="l3873"><span class="linenum">3873</span></a>              var me = this;
<a name="l3874"><span class="linenum">3874</span></a>              var types = [];
<a name="l3875"><span class="linenum">3875</span></a>              var newControllers = [];
<a name="l3876"><span class="linenum">3876</span></a>  
<a name="l3877"><span class="linenum">3877</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.data.datasets, function(dataset, datasetIndex) {
<a name="l3878"><span class="linenum">3878</span></a>                  var meta = me.getDatasetMeta(datasetIndex);
<a name="l3879"><span class="linenum">3879</span></a>                  if (!meta.type) {
<a name="l3880"><span class="linenum">3880</span></a>                      meta.type = dataset.type || me.config.type;
<a name="l3881"><span class="linenum">3881</span></a>                  }
<a name="l3882"><span class="linenum">3882</span></a>  
<a name="l3883"><span class="linenum">3883</span></a>                  types.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(meta.type);
<a name="l3884"><span class="linenum">3884</span></a>  
<a name="l3885"><span class="linenum">3885</span></a>                  if (meta.controller) {
<a name="l3886"><span class="linenum">3886</span></a>                      meta.controller.updateIndex(datasetIndex);
<a name="l3887"><span class="linenum">3887</span></a>                  } else {
<a name="l3888"><span class="linenum">3888</span></a>                      meta.controller = new Chart.controllers[meta.type](me, datasetIndex);
<a name="l3889"><span class="linenum">3889</span></a>                      newControllers.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(meta.controller);
<a name="l3890"><span class="linenum">3890</span></a>                  }
<a name="l3891"><span class="linenum">3891</span></a>              }, me);
<a name="l3892"><span class="linenum">3892</span></a>  
<a name="l3893"><span class="linenum">3893</span></a>              if (types.length &gt; 1) {
<a name="l3894"><span class="linenum">3894</span></a>                  for (var i = 1; i &lt; types.length; i++) {
<a name="l3895"><span class="linenum">3895</span></a>                      if (types[i] !== types[i - 1]) {
<a name="l3896"><span class="linenum">3896</span></a>                          me.isCombo = true;
<a name="l3897"><span class="linenum">3897</span></a>                          break;
<a name="l3898"><span class="linenum">3898</span></a>                      }
<a name="l3899"><span class="linenum">3899</span></a>                  }
<a name="l3900"><span class="linenum">3900</span></a>              }
<a name="l3901"><span class="linenum">3901</span></a>  
<a name="l3902"><span class="linenum">3902</span></a>              return newControllers;
<a name="l3903"><span class="linenum">3903</span></a>          },
<a name="l3904"><span class="linenum">3904</span></a>  
<a name="l3905"><span class="linenum">3905</span></a>          resetElements: function resetElements() {
<a name="l3906"><span class="linenum">3906</span></a>              var me = this;
<a name="l3907"><span class="linenum">3907</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.data.datasets, function(dataset, datasetIndex) {
<a name="l3908"><span class="linenum">3908</span></a>                  me.getDatasetMeta(datasetIndex).controller.<a class="phpfunction" onClick="logFunction('reset')" href="../../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>();
<a name="l3909"><span class="linenum">3909</span></a>              }, me);
<a name="l3910"><span class="linenum">3910</span></a>          },
<a name="l3911"><span class="linenum">3911</span></a>  
<a name="l3912"><span class="linenum">3912</span></a>          update: function <a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(animationDuration, lazy) {
<a name="l3913"><span class="linenum">3913</span></a>              var me = this;
<a name="l3914"><span class="linenum">3914</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('beforeUpdate', [me]);
<a name="l3915"><span class="linenum">3915</span></a>  
<a name="l3916"><span class="linenum">3916</span></a>  <span class="comment">            // In case the entire data object changed</span>
<a name="l3917"><span class="linenum">3917</span></a>              me.tooltip._data = me.data;
<a name="l3918"><span class="linenum">3918</span></a>  
<a name="l3919"><span class="linenum">3919</span></a>  <span class="comment">            // Make sure dataset controllers are updated and new controllers are reset</span>
<a name="l3920"><span class="linenum">3920</span></a>              var newControllers = me.buildOrUpdateControllers();
<a name="l3921"><span class="linenum">3921</span></a>  
<a name="l3922"><span class="linenum">3922</span></a>  <span class="comment">            // Make sure all dataset controllers have correct meta data counts</span>
<a name="l3923"><span class="linenum">3923</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.data.datasets, function(dataset, datasetIndex) {
<a name="l3924"><span class="linenum">3924</span></a>                  me.getDatasetMeta(datasetIndex).controller.buildOrUpdateElements();
<a name="l3925"><span class="linenum">3925</span></a>              }, me);
<a name="l3926"><span class="linenum">3926</span></a>  
<a name="l3927"><span class="linenum">3927</span></a>              Chart.layoutService.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(me, me.chart.width, me.chart.height);
<a name="l3928"><span class="linenum">3928</span></a>  
<a name="l3929"><span class="linenum">3929</span></a>  <span class="comment">            // Apply changes to the dataets that require the scales to have been calculated i.e BorderColor chages</span>
<a name="l3930"><span class="linenum">3930</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('afterScaleUpdate', [me]);
<a name="l3931"><span class="linenum">3931</span></a>  
<a name="l3932"><span class="linenum">3932</span></a>  <span class="comment">            // Can only reset the new controllers after the scales have been updated</span>
<a name="l3933"><span class="linenum">3933</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(newControllers, function(controller) {
<a name="l3934"><span class="linenum">3934</span></a>                  controller.<a class="phpfunction" onClick="logFunction('reset')" href="../../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>();
<a name="l3935"><span class="linenum">3935</span></a>              });
<a name="l3936"><span class="linenum">3936</span></a>  
<a name="l3937"><span class="linenum">3937</span></a>              me.updateDatasets();
<a name="l3938"><span class="linenum">3938</span></a>  
<a name="l3939"><span class="linenum">3939</span></a>  <span class="comment">            // Do this before render so that any plugins that need final scale updates can use it</span>
<a name="l3940"><span class="linenum">3940</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('afterUpdate', [me]);
<a name="l3941"><span class="linenum">3941</span></a>  
<a name="l3942"><span class="linenum">3942</span></a>              me.<a class="function" onClick="logFunction('render')" href="../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(animationDuration, lazy);
<a name="l3943"><span class="linenum">3943</span></a>          },
<a name="l3944"><span class="linenum">3944</span></a>  
<a name="l3945"><span class="linenum">3945</span></a>          <span class="comment">/**</span>
<a name="l3946"><span class="linenum">3946</span></a>  <span class="comment">         * @method beforeDatasetsUpdate</span>
<a name="l3947"><span class="linenum">3947</span></a>  <span class="comment">         * @description Called before all datasets are updated. If a plugin returns false,</span>
<a name="l3948"><span class="linenum">3948</span></a>  <span class="comment">         * the datasets update will be cancelled until another chart update is triggered.</span>
<a name="l3949"><span class="linenum">3949</span></a>  <span class="comment">         * @param {Object} instance the chart instance being updated.</span>
<a name="l3950"><span class="linenum">3950</span></a>  <span class="comment">         * @returns {Boolean} false to cancel the datasets update.</span>
<a name="l3951"><span class="linenum">3951</span></a>  <span class="comment">         * @memberof Chart.PluginBase</span>
<a name="l3952"><span class="linenum">3952</span></a>  <span class="comment">         * @since version 2.1.5</span>
<a name="l3953"><span class="linenum">3953</span></a>  <span class="comment">         * @instance</span>
<a name="l3954"><span class="linenum">3954</span></a>  <span class="comment">         */</span>
<a name="l3955"><span class="linenum">3955</span></a>  
<a name="l3956"><span class="linenum">3956</span></a>          <span class="comment">/**</span>
<a name="l3957"><span class="linenum">3957</span></a>  <span class="comment">         * @method afterDatasetsUpdate</span>
<a name="l3958"><span class="linenum">3958</span></a>  <span class="comment">         * @description Called after all datasets have been updated. Note that this</span>
<a name="l3959"><span class="linenum">3959</span></a>  <span class="comment">         * extension will not be called if the datasets update has been cancelled.</span>
<a name="l3960"><span class="linenum">3960</span></a>  <span class="comment">         * @param {Object} instance the chart instance being updated.</span>
<a name="l3961"><span class="linenum">3961</span></a>  <span class="comment">         * @memberof Chart.PluginBase</span>
<a name="l3962"><span class="linenum">3962</span></a>  <span class="comment">         * @since version 2.1.5</span>
<a name="l3963"><span class="linenum">3963</span></a>  <span class="comment">         * @instance</span>
<a name="l3964"><span class="linenum">3964</span></a>  <span class="comment">         */</span>
<a name="l3965"><span class="linenum">3965</span></a>  
<a name="l3966"><span class="linenum">3966</span></a>          <span class="comment">/**</span>
<a name="l3967"><span class="linenum">3967</span></a>  <span class="comment">         * Updates all datasets unless a plugin returns false to the beforeDatasetsUpdate</span>
<a name="l3968"><span class="linenum">3968</span></a>  <span class="comment">         * extension, in which case no datasets will be updated and the afterDatasetsUpdate</span>
<a name="l3969"><span class="linenum">3969</span></a>  <span class="comment">         * notification will be skipped.</span>
<a name="l3970"><span class="linenum">3970</span></a>  <span class="comment">         * @protected</span>
<a name="l3971"><span class="linenum">3971</span></a>  <span class="comment">         * @instance</span>
<a name="l3972"><span class="linenum">3972</span></a>  <span class="comment">         */</span>
<a name="l3973"><span class="linenum">3973</span></a>          updateDatasets: function() {
<a name="l3974"><span class="linenum">3974</span></a>              var me = this;
<a name="l3975"><span class="linenum">3975</span></a>              var i, ilen;
<a name="l3976"><span class="linenum">3976</span></a>  
<a name="l3977"><span class="linenum">3977</span></a>              if (Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('beforeDatasetsUpdate', [ me ])) {
<a name="l3978"><span class="linenum">3978</span></a>                  for (i = 0, ilen = me.data.datasets.length; i &lt; ilen; ++i) {
<a name="l3979"><span class="linenum">3979</span></a>                      me.getDatasetMeta(i).controller.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l3980"><span class="linenum">3980</span></a>                  }
<a name="l3981"><span class="linenum">3981</span></a>  
<a name="l3982"><span class="linenum">3982</span></a>                  Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('afterDatasetsUpdate', [ me ]);
<a name="l3983"><span class="linenum">3983</span></a>              }
<a name="l3984"><span class="linenum">3984</span></a>          },
<a name="l3985"><span class="linenum">3985</span></a>  
<a name="l3986"><span class="linenum">3986</span></a>          render: function <a class="function" onClick="logFunction('render')" href="../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(duration, lazy) {
<a name="l3987"><span class="linenum">3987</span></a>              var me = this;
<a name="l3988"><span class="linenum">3988</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('beforeRender', [me]);
<a name="l3989"><span class="linenum">3989</span></a>  
<a name="l3990"><span class="linenum">3990</span></a>              var animationOptions = me.options.animation;
<a name="l3991"><span class="linenum">3991</span></a>              if (animationOptions &amp;&amp; ((typeof duration !== 'undefined' &amp;&amp; duration !== 0) || (typeof duration === 'undefined' &amp;&amp; animationOptions.duration !== 0))) {
<a name="l3992"><span class="linenum">3992</span></a>                  var animation = new Chart.<a class="function" onClick="logFunction('Animation')" href="../../../_functions/animation.html" onMouseOver="funcPopup(event,'animation')">Animation</a>();
<a name="l3993"><span class="linenum">3993</span></a>                  animation.numSteps = (duration || animationOptions.duration) / 16.66; <span class="comment">//60 fps</span>
<a name="l3994"><span class="linenum">3994</span></a>                  animation.easing = animationOptions.easing;
<a name="l3995"><span class="linenum">3995</span></a>  
<a name="l3996"><span class="linenum">3996</span></a>  <span class="comment">                // render function</span>
<a name="l3997"><span class="linenum">3997</span></a>                  animation.render = function(chartInstance, animationObject) {
<a name="l3998"><span class="linenum">3998</span></a>                      var easingFunction = helpers.easingEffects[animationObject.easing];
<a name="l3999"><span class="linenum">3999</span></a>                      var stepDecimal = animationObject.currentStep / animationObject.numSteps;
<a name="l4000"><span class="linenum">4000</span></a>                      var easeDecimal = easingFunction(stepDecimal);
<a name="l4001"><span class="linenum">4001</span></a>  
<a name="l4002"><span class="linenum">4002</span></a>                      chartInstance.<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>(easeDecimal, stepDecimal, animationObject.currentStep);
<a name="l4003"><span class="linenum">4003</span></a>                  };
<a name="l4004"><span class="linenum">4004</span></a>  
<a name="l4005"><span class="linenum">4005</span></a>  <span class="comment">                // user events</span>
<a name="l4006"><span class="linenum">4006</span></a>                  animation.onAnimationProgress = animationOptions.onProgress;
<a name="l4007"><span class="linenum">4007</span></a>                  animation.onAnimationComplete = animationOptions.onComplete;
<a name="l4008"><span class="linenum">4008</span></a>  
<a name="l4009"><span class="linenum">4009</span></a>                  Chart.animationService.addAnimation(me, animation, duration, lazy);
<a name="l4010"><span class="linenum">4010</span></a>              } else {
<a name="l4011"><span class="linenum">4011</span></a>                  me.<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>();
<a name="l4012"><span class="linenum">4012</span></a>                  if (animationOptions &amp;&amp; animationOptions.onComplete &amp;&amp; animationOptions.onComplete.call) {
<a name="l4013"><span class="linenum">4013</span></a>                      animationOptions.onComplete.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me);
<a name="l4014"><span class="linenum">4014</span></a>                  }
<a name="l4015"><span class="linenum">4015</span></a>              }
<a name="l4016"><span class="linenum">4016</span></a>              return me;
<a name="l4017"><span class="linenum">4017</span></a>          },
<a name="l4018"><span class="linenum">4018</span></a>  
<a name="l4019"><span class="linenum">4019</span></a>          draw: function(ease) {
<a name="l4020"><span class="linenum">4020</span></a>              var me = this;
<a name="l4021"><span class="linenum">4021</span></a>              var easingDecimal = ease || 1;
<a name="l4022"><span class="linenum">4022</span></a>              me.<a class="function" onClick="logFunction('clear')" href="../../../_functions/clear.html" onMouseOver="funcPopup(event,'clear')">clear</a>();
<a name="l4023"><span class="linenum">4023</span></a>  
<a name="l4024"><span class="linenum">4024</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('beforeDraw', [me, easingDecimal]);
<a name="l4025"><span class="linenum">4025</span></a>  
<a name="l4026"><span class="linenum">4026</span></a>  <span class="comment">            // Draw all the scales</span>
<a name="l4027"><span class="linenum">4027</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.boxes, function(box) {
<a name="l4028"><span class="linenum">4028</span></a>                  box.<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>(me.chartArea);
<a name="l4029"><span class="linenum">4029</span></a>              }, me);
<a name="l4030"><span class="linenum">4030</span></a>              if (me.scale) {
<a name="l4031"><span class="linenum">4031</span></a>                  me.scale.<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>();
<a name="l4032"><span class="linenum">4032</span></a>              }
<a name="l4033"><span class="linenum">4033</span></a>  
<a name="l4034"><span class="linenum">4034</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('beforeDatasetsDraw', [me, easingDecimal]);
<a name="l4035"><span class="linenum">4035</span></a>  
<a name="l4036"><span class="linenum">4036</span></a>  <span class="comment">            // Draw each dataset via its respective controller (reversed to support proper line stacking)</span>
<a name="l4037"><span class="linenum">4037</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.data.datasets, function(dataset, datasetIndex) {
<a name="l4038"><span class="linenum">4038</span></a>                  if (me.isDatasetVisible(datasetIndex)) {
<a name="l4039"><span class="linenum">4039</span></a>                      me.getDatasetMeta(datasetIndex).controller.<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>(ease);
<a name="l4040"><span class="linenum">4040</span></a>                  }
<a name="l4041"><span class="linenum">4041</span></a>              }, me, true);
<a name="l4042"><span class="linenum">4042</span></a>  
<a name="l4043"><span class="linenum">4043</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('afterDatasetsDraw', [me, easingDecimal]);
<a name="l4044"><span class="linenum">4044</span></a>  
<a name="l4045"><span class="linenum">4045</span></a>  <span class="comment">            // Finally draw the tooltip</span>
<a name="l4046"><span class="linenum">4046</span></a>              me.tooltip.<a class="function" onClick="logFunction('transition')" href="../../../_functions/transition.html" onMouseOver="funcPopup(event,'transition')">transition</a>(easingDecimal).<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>();
<a name="l4047"><span class="linenum">4047</span></a>  
<a name="l4048"><span class="linenum">4048</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('afterDraw', [me, easingDecimal]);
<a name="l4049"><span class="linenum">4049</span></a>          },
<a name="l4050"><span class="linenum">4050</span></a>  
<a name="l4051"><span class="linenum">4051</span></a>  <span class="comment">        // Get the single element that was clicked on</span>
<a name="l4052"><span class="linenum">4052</span></a>  <span class="comment">        // @return : An object containing the dataset index and element index of the matching element. Also contains the rectangle that was draw</span>
<a name="l4053"><span class="linenum">4053</span></a>          getElementAtEvent: function(e) {
<a name="l4054"><span class="linenum">4054</span></a>              var me = this;
<a name="l4055"><span class="linenum">4055</span></a>              var eventPosition = helpers.getRelativePosition(e, me.chart);
<a name="l4056"><span class="linenum">4056</span></a>              var elementsArray = [];
<a name="l4057"><span class="linenum">4057</span></a>  
<a name="l4058"><span class="linenum">4058</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.data.datasets, function(dataset, datasetIndex) {
<a name="l4059"><span class="linenum">4059</span></a>                  if (me.isDatasetVisible(datasetIndex)) {
<a name="l4060"><span class="linenum">4060</span></a>                      var meta = me.getDatasetMeta(datasetIndex);
<a name="l4061"><span class="linenum">4061</span></a>                      helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(meta.data, function(element, index) {
<a name="l4062"><span class="linenum">4062</span></a>                          if (element.inRange(eventPosition.x, eventPosition.y)) {
<a name="l4063"><span class="linenum">4063</span></a>                              elementsArray.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(element);
<a name="l4064"><span class="linenum">4064</span></a>                              return elementsArray;
<a name="l4065"><span class="linenum">4065</span></a>                          }
<a name="l4066"><span class="linenum">4066</span></a>                      });
<a name="l4067"><span class="linenum">4067</span></a>                  }
<a name="l4068"><span class="linenum">4068</span></a>              });
<a name="l4069"><span class="linenum">4069</span></a>  
<a name="l4070"><span class="linenum">4070</span></a>              return elementsArray;
<a name="l4071"><span class="linenum">4071</span></a>          },
<a name="l4072"><span class="linenum">4072</span></a>  
<a name="l4073"><span class="linenum">4073</span></a>          getElementsAtEvent: function(e) {
<a name="l4074"><span class="linenum">4074</span></a>              var me = this;
<a name="l4075"><span class="linenum">4075</span></a>              var eventPosition = helpers.getRelativePosition(e, me.chart);
<a name="l4076"><span class="linenum">4076</span></a>              var elementsArray = [];
<a name="l4077"><span class="linenum">4077</span></a>  
<a name="l4078"><span class="linenum">4078</span></a>              var found = (function() {
<a name="l4079"><span class="linenum">4079</span></a>                  if (me.data.datasets) {
<a name="l4080"><span class="linenum">4080</span></a>                      for (var i = 0; i &lt; me.data.datasets.length; i++) {
<a name="l4081"><span class="linenum">4081</span></a>                          var meta = me.getDatasetMeta(i);
<a name="l4082"><span class="linenum">4082</span></a>                          if (me.isDatasetVisible(i)) {
<a name="l4083"><span class="linenum">4083</span></a>                              for (var j = 0; j &lt; meta.data.length; j++) {
<a name="l4084"><span class="linenum">4084</span></a>                                  if (meta.data[j].inRange(eventPosition.x, eventPosition.y)) {
<a name="l4085"><span class="linenum">4085</span></a>                                      return meta.data[j];
<a name="l4086"><span class="linenum">4086</span></a>                                  }
<a name="l4087"><span class="linenum">4087</span></a>                              }
<a name="l4088"><span class="linenum">4088</span></a>                          }
<a name="l4089"><span class="linenum">4089</span></a>                      }
<a name="l4090"><span class="linenum">4090</span></a>                  }
<a name="l4091"><span class="linenum">4091</span></a>              }).<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me);
<a name="l4092"><span class="linenum">4092</span></a>  
<a name="l4093"><span class="linenum">4093</span></a>              if (!found) {
<a name="l4094"><span class="linenum">4094</span></a>                  return elementsArray;
<a name="l4095"><span class="linenum">4095</span></a>              }
<a name="l4096"><span class="linenum">4096</span></a>  
<a name="l4097"><span class="linenum">4097</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.data.datasets, function(dataset, datasetIndex) {
<a name="l4098"><span class="linenum">4098</span></a>                  if (me.isDatasetVisible(datasetIndex)) {
<a name="l4099"><span class="linenum">4099</span></a>                      var meta = me.getDatasetMeta(datasetIndex);
<a name="l4100"><span class="linenum">4100</span></a>                      elementsArray.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(meta.data[found._index]);
<a name="l4101"><span class="linenum">4101</span></a>                  }
<a name="l4102"><span class="linenum">4102</span></a>              }, me);
<a name="l4103"><span class="linenum">4103</span></a>  
<a name="l4104"><span class="linenum">4104</span></a>              return elementsArray;
<a name="l4105"><span class="linenum">4105</span></a>          },
<a name="l4106"><span class="linenum">4106</span></a>  
<a name="l4107"><span class="linenum">4107</span></a>          getElementsAtEventForMode: function(e, mode) {
<a name="l4108"><span class="linenum">4108</span></a>              var me = this;
<a name="l4109"><span class="linenum">4109</span></a>              switch (mode) {
<a name="l4110"><span class="linenum">4110</span></a>              case 'single':
<a name="l4111"><span class="linenum">4111</span></a>                  return me.getElementAtEvent(e);
<a name="l4112"><span class="linenum">4112</span></a>              case 'label':
<a name="l4113"><span class="linenum">4113</span></a>                  return me.getElementsAtEvent(e);
<a name="l4114"><span class="linenum">4114</span></a>              case 'dataset':
<a name="l4115"><span class="linenum">4115</span></a>                  return me.getDatasetAtEvent(e);
<a name="l4116"><span class="linenum">4116</span></a>              default:
<a name="l4117"><span class="linenum">4117</span></a>                  return e;
<a name="l4118"><span class="linenum">4118</span></a>              }
<a name="l4119"><span class="linenum">4119</span></a>          },
<a name="l4120"><span class="linenum">4120</span></a>  
<a name="l4121"><span class="linenum">4121</span></a>          getDatasetAtEvent: function(e) {
<a name="l4122"><span class="linenum">4122</span></a>              var elementsArray = this.getElementAtEvent(e);
<a name="l4123"><span class="linenum">4123</span></a>  
<a name="l4124"><span class="linenum">4124</span></a>              if (elementsArray.length &gt; 0) {
<a name="l4125"><span class="linenum">4125</span></a>                  elementsArray = this.getDatasetMeta(elementsArray[0]._datasetIndex).data;
<a name="l4126"><span class="linenum">4126</span></a>              }
<a name="l4127"><span class="linenum">4127</span></a>  
<a name="l4128"><span class="linenum">4128</span></a>              return elementsArray;
<a name="l4129"><span class="linenum">4129</span></a>          },
<a name="l4130"><span class="linenum">4130</span></a>  
<a name="l4131"><span class="linenum">4131</span></a>          getDatasetMeta: function(datasetIndex) {
<a name="l4132"><span class="linenum">4132</span></a>              var me = this;
<a name="l4133"><span class="linenum">4133</span></a>              var dataset = me.data.datasets[datasetIndex];
<a name="l4134"><span class="linenum">4134</span></a>              if (!dataset._meta) {
<a name="l4135"><span class="linenum">4135</span></a>                  dataset._meta = {};
<a name="l4136"><span class="linenum">4136</span></a>              }
<a name="l4137"><span class="linenum">4137</span></a>  
<a name="l4138"><span class="linenum">4138</span></a>              var meta = dataset._meta[me.id];
<a name="l4139"><span class="linenum">4139</span></a>              if (!meta) {
<a name="l4140"><span class="linenum">4140</span></a>                  meta = dataset._meta[me.id] = {
<a name="l4141"><span class="linenum">4141</span></a>                  type: null,
<a name="l4142"><span class="linenum">4142</span></a>                  data: [],
<a name="l4143"><span class="linenum">4143</span></a>                  dataset: null,
<a name="l4144"><span class="linenum">4144</span></a>                  controller: null,
<a name="l4145"><span class="linenum">4145</span></a>                  hidden: null,            // See isDatasetVisible() comment
<a name="l4146"><span class="linenum">4146</span></a>                  xAxisID: null,
<a name="l4147"><span class="linenum">4147</span></a>                  yAxisID: null
<a name="l4148"><span class="linenum">4148</span></a>              };
<a name="l4149"><span class="linenum">4149</span></a>              }
<a name="l4150"><span class="linenum">4150</span></a>  
<a name="l4151"><span class="linenum">4151</span></a>              return meta;
<a name="l4152"><span class="linenum">4152</span></a>          },
<a name="l4153"><span class="linenum">4153</span></a>  
<a name="l4154"><span class="linenum">4154</span></a>          getVisibleDatasetCount: function() {
<a name="l4155"><span class="linenum">4155</span></a>              var count = 0;
<a name="l4156"><span class="linenum">4156</span></a>              for (var i = 0, ilen = this.data.datasets.length; i&lt;ilen; ++i) {
<a name="l4157"><span class="linenum">4157</span></a>                   if (this.isDatasetVisible(i)) {
<a name="l4158"><span class="linenum">4158</span></a>                      count++;
<a name="l4159"><span class="linenum">4159</span></a>                  }
<a name="l4160"><span class="linenum">4160</span></a>              }
<a name="l4161"><span class="linenum">4161</span></a>              return count;
<a name="l4162"><span class="linenum">4162</span></a>          },
<a name="l4163"><span class="linenum">4163</span></a>  
<a name="l4164"><span class="linenum">4164</span></a>          isDatasetVisible: function(datasetIndex) {
<a name="l4165"><span class="linenum">4165</span></a>              var meta = this.getDatasetMeta(datasetIndex);
<a name="l4166"><span class="linenum">4166</span></a>  
<a name="l4167"><span class="linenum">4167</span></a>  <span class="comment">            // meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,</span>
<a name="l4168"><span class="linenum">4168</span></a>  <span class="comment">            // the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.</span>
<a name="l4169"><span class="linenum">4169</span></a>              return typeof meta.hidden === 'boolean'? !meta.hidden : !this.data.datasets[datasetIndex].hidden;
<a name="l4170"><span class="linenum">4170</span></a>          },
<a name="l4171"><span class="linenum">4171</span></a>  
<a name="l4172"><span class="linenum">4172</span></a>          generateLegend: function generateLegend() {
<a name="l4173"><span class="linenum">4173</span></a>              return this.options.legendCallback(this);
<a name="l4174"><span class="linenum">4174</span></a>          },
<a name="l4175"><span class="linenum">4175</span></a>  
<a name="l4176"><span class="linenum">4176</span></a>          destroy: function <a class="function" onClick="logFunction('destroy')" href="../../../_functions/destroy.html" onMouseOver="funcPopup(event,'destroy')">destroy</a>() {
<a name="l4177"><span class="linenum">4177</span></a>              var me = this;
<a name="l4178"><span class="linenum">4178</span></a>              me.<a class="function" onClick="logFunction('stop')" href="../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>();
<a name="l4179"><span class="linenum">4179</span></a>              me.<a class="function" onClick="logFunction('clear')" href="../../../_functions/clear.html" onMouseOver="funcPopup(event,'clear')">clear</a>();
<a name="l4180"><span class="linenum">4180</span></a>              helpers.unbindEvents(me, me.events);
<a name="l4181"><span class="linenum">4181</span></a>              helpers.removeResizeListener(me.chart.canvas.parentNode);
<a name="l4182"><span class="linenum">4182</span></a>  
<a name="l4183"><span class="linenum">4183</span></a>  <span class="comment">            // Reset canvas height/width attributes</span>
<a name="l4184"><span class="linenum">4184</span></a>              var canvas = me.chart.canvas;
<a name="l4185"><span class="linenum">4185</span></a>              canvas.width = me.chart.width;
<a name="l4186"><span class="linenum">4186</span></a>              canvas.height = me.chart.height;
<a name="l4187"><span class="linenum">4187</span></a>  
<a name="l4188"><span class="linenum">4188</span></a>  <span class="comment">            // if we scaled the canvas in response to a devicePixelRatio !== 1, we need to undo that transform here</span>
<a name="l4189"><span class="linenum">4189</span></a>              if (me.chart.originalDevicePixelRatio !== undefined) {
<a name="l4190"><span class="linenum">4190</span></a>                  me.chart.ctx.<a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(1 / me.chart.originalDevicePixelRatio, 1 / me.chart.originalDevicePixelRatio);
<a name="l4191"><span class="linenum">4191</span></a>              }
<a name="l4192"><span class="linenum">4192</span></a>  
<a name="l4193"><span class="linenum">4193</span></a>  <span class="comment">            // Reset to the old style since it may have been changed by the device pixel ratio changes</span>
<a name="l4194"><span class="linenum">4194</span></a>              canvas.style.width = me.chart.originalCanvasStyleWidth;
<a name="l4195"><span class="linenum">4195</span></a>              canvas.style.height = me.chart.originalCanvasStyleHeight;
<a name="l4196"><span class="linenum">4196</span></a>  
<a name="l4197"><span class="linenum">4197</span></a>              Chart.plugins.<a class="function" onClick="logFunction('notify')" href="../../../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>('destroy', [me]);
<a name="l4198"><span class="linenum">4198</span></a>  
<a name="l4199"><span class="linenum">4199</span></a>              delete Chart.instances[me.id];
<a name="l4200"><span class="linenum">4200</span></a>          },
<a name="l4201"><span class="linenum">4201</span></a>  
<a name="l4202"><span class="linenum">4202</span></a>          toBase64Image: function toBase64Image() {
<a name="l4203"><span class="linenum">4203</span></a>              return this.chart.canvas.toDataURL.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this.chart.canvas, arguments);
<a name="l4204"><span class="linenum">4204</span></a>          },
<a name="l4205"><span class="linenum">4205</span></a>  
<a name="l4206"><span class="linenum">4206</span></a>          initToolTip: function initToolTip() {
<a name="l4207"><span class="linenum">4207</span></a>              var me = this;
<a name="l4208"><span class="linenum">4208</span></a>              me.tooltip = new Chart.<a class="function" onClick="logFunction('Tooltip')" href="../../../_functions/tooltip.html" onMouseOver="funcPopup(event,'tooltip')">Tooltip</a>({
<a name="l4209"><span class="linenum">4209</span></a>                  _chart: me.chart,
<a name="l4210"><span class="linenum">4210</span></a>                  _chartInstance: me,
<a name="l4211"><span class="linenum">4211</span></a>                  _data: me.data,
<a name="l4212"><span class="linenum">4212</span></a>                  _options: me.options.tooltips
<a name="l4213"><span class="linenum">4213</span></a>              }, me);
<a name="l4214"><span class="linenum">4214</span></a>          },
<a name="l4215"><span class="linenum">4215</span></a>  
<a name="l4216"><span class="linenum">4216</span></a>          bindEvents: function bindEvents() {
<a name="l4217"><span class="linenum">4217</span></a>              var me = this;
<a name="l4218"><span class="linenum">4218</span></a>              helpers.bindEvents(me, me.options.events, function(evt) {
<a name="l4219"><span class="linenum">4219</span></a>                  me.<a class="function" onClick="logFunction('eventHandler')" href="../../../_functions/eventhandler.html" onMouseOver="funcPopup(event,'eventhandler')">eventHandler</a>(evt);
<a name="l4220"><span class="linenum">4220</span></a>              });
<a name="l4221"><span class="linenum">4221</span></a>          },
<a name="l4222"><span class="linenum">4222</span></a>  
<a name="l4223"><span class="linenum">4223</span></a>          updateHoverStyle: function(elements, mode, enabled) {
<a name="l4224"><span class="linenum">4224</span></a>              var method = enabled? 'setHoverStyle' : 'removeHoverStyle';
<a name="l4225"><span class="linenum">4225</span></a>              var element, i, ilen;
<a name="l4226"><span class="linenum">4226</span></a>  
<a name="l4227"><span class="linenum">4227</span></a>              switch (mode) {
<a name="l4228"><span class="linenum">4228</span></a>              case 'single':
<a name="l4229"><span class="linenum">4229</span></a>                  elements = [ elements[0] ];
<a name="l4230"><span class="linenum">4230</span></a>                  break;
<a name="l4231"><span class="linenum">4231</span></a>              case 'label':
<a name="l4232"><span class="linenum">4232</span></a>              case 'dataset':
<a name="l4233"><span class="linenum">4233</span></a>  <span class="comment">                // elements = elements;</span>
<a name="l4234"><span class="linenum">4234</span></a>                  break;
<a name="l4235"><span class="linenum">4235</span></a>              default:
<a name="l4236"><span class="linenum">4236</span></a>  <span class="comment">                // unsupported mode</span>
<a name="l4237"><span class="linenum">4237</span></a>                  return;
<a name="l4238"><span class="linenum">4238</span></a>              }
<a name="l4239"><span class="linenum">4239</span></a>  
<a name="l4240"><span class="linenum">4240</span></a>              for (i=0, ilen=elements.length; i&lt;ilen; ++i) {
<a name="l4241"><span class="linenum">4241</span></a>                  element = elements[i];
<a name="l4242"><span class="linenum">4242</span></a>                  if (element) {
<a name="l4243"><span class="linenum">4243</span></a>                      this.getDatasetMeta(element._datasetIndex).controller[method](element);
<a name="l4244"><span class="linenum">4244</span></a>                  }
<a name="l4245"><span class="linenum">4245</span></a>              }
<a name="l4246"><span class="linenum">4246</span></a>          },
<a name="l4247"><span class="linenum">4247</span></a>  
<a name="l4248"><span class="linenum">4248</span></a>          eventHandler: function <a class="function" onClick="logFunction('eventHandler')" href="../../../_functions/eventhandler.html" onMouseOver="funcPopup(event,'eventhandler')">eventHandler</a>(e) {
<a name="l4249"><span class="linenum">4249</span></a>              var me = this;
<a name="l4250"><span class="linenum">4250</span></a>              var tooltip = me.tooltip;
<a name="l4251"><span class="linenum">4251</span></a>              var options = me.options || {};
<a name="l4252"><span class="linenum">4252</span></a>              var hoverOptions = options.hover;
<a name="l4253"><span class="linenum">4253</span></a>              var tooltipsOptions = options.tooltips;
<a name="l4254"><span class="linenum">4254</span></a>  
<a name="l4255"><span class="linenum">4255</span></a>              me.lastActive = me.lastActive || [];
<a name="l4256"><span class="linenum">4256</span></a>              me.lastTooltipActive = me.lastTooltipActive || [];
<a name="l4257"><span class="linenum">4257</span></a>  
<a name="l4258"><span class="linenum">4258</span></a>  <span class="comment">            // Find Active Elements for hover and tooltips</span>
<a name="l4259"><span class="linenum">4259</span></a>              if (e.type === 'mouseout') {
<a name="l4260"><span class="linenum">4260</span></a>                  me.active = [];
<a name="l4261"><span class="linenum">4261</span></a>                  me.tooltipActive = [];
<a name="l4262"><span class="linenum">4262</span></a>              } else {
<a name="l4263"><span class="linenum">4263</span></a>                  me.active = me.getElementsAtEventForMode(e, hoverOptions.mode);
<a name="l4264"><span class="linenum">4264</span></a>                  me.tooltipActive =  me.getElementsAtEventForMode(e, tooltipsOptions.mode);
<a name="l4265"><span class="linenum">4265</span></a>              }
<a name="l4266"><span class="linenum">4266</span></a>  
<a name="l4267"><span class="linenum">4267</span></a>  <span class="comment">            // On Hover hook</span>
<a name="l4268"><span class="linenum">4268</span></a>              if (hoverOptions.onHover) {
<a name="l4269"><span class="linenum">4269</span></a>                  hoverOptions.onHover.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, me.active);
<a name="l4270"><span class="linenum">4270</span></a>              }
<a name="l4271"><span class="linenum">4271</span></a>  
<a name="l4272"><span class="linenum">4272</span></a>              if (e.type === 'mouseup' || e.type === 'click') {
<a name="l4273"><span class="linenum">4273</span></a>                  if (options.onClick) {
<a name="l4274"><span class="linenum">4274</span></a>                      options.onClick.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, e, me.active);
<a name="l4275"><span class="linenum">4275</span></a>                  }
<a name="l4276"><span class="linenum">4276</span></a>                  if (me.legend &amp;&amp; me.legend.handleEvent) {
<a name="l4277"><span class="linenum">4277</span></a>                      me.legend.handleEvent(e);
<a name="l4278"><span class="linenum">4278</span></a>                  }
<a name="l4279"><span class="linenum">4279</span></a>              }
<a name="l4280"><span class="linenum">4280</span></a>  
<a name="l4281"><span class="linenum">4281</span></a>  <span class="comment">            // Remove styling for last active (even if it may still be active)</span>
<a name="l4282"><span class="linenum">4282</span></a>              if (me.lastActive.length) {
<a name="l4283"><span class="linenum">4283</span></a>                  me.updateHoverStyle(me.lastActive, hoverOptions.mode, false);
<a name="l4284"><span class="linenum">4284</span></a>              }
<a name="l4285"><span class="linenum">4285</span></a>  
<a name="l4286"><span class="linenum">4286</span></a>  <span class="comment">            // Built in hover styling</span>
<a name="l4287"><span class="linenum">4287</span></a>              if (me.active.length &amp;&amp; hoverOptions.mode) {
<a name="l4288"><span class="linenum">4288</span></a>                  me.updateHoverStyle(me.active, hoverOptions.mode, true);
<a name="l4289"><span class="linenum">4289</span></a>              }
<a name="l4290"><span class="linenum">4290</span></a>  
<a name="l4291"><span class="linenum">4291</span></a>  <span class="comment">            // Built in Tooltips</span>
<a name="l4292"><span class="linenum">4292</span></a>              if (tooltipsOptions.enabled || tooltipsOptions.custom) {
<a name="l4293"><span class="linenum">4293</span></a>                  tooltip.<a class="function" onClick="logFunction('initialize')" href="../../../_functions/initialize.html" onMouseOver="funcPopup(event,'initialize')">initialize</a>();
<a name="l4294"><span class="linenum">4294</span></a>                  tooltip._active = me.tooltipActive;
<a name="l4295"><span class="linenum">4295</span></a>                  tooltip.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(true);
<a name="l4296"><span class="linenum">4296</span></a>              }
<a name="l4297"><span class="linenum">4297</span></a>  
<a name="l4298"><span class="linenum">4298</span></a>  <span class="comment">            // Hover animations</span>
<a name="l4299"><span class="linenum">4299</span></a>              tooltip.pivot();
<a name="l4300"><span class="linenum">4300</span></a>  
<a name="l4301"><span class="linenum">4301</span></a>              if (!me.animating) {
<a name="l4302"><span class="linenum">4302</span></a>  <span class="comment">                // If entering, leaving, or changing elements, animate the change via pivot</span>
<a name="l4303"><span class="linenum">4303</span></a>                  if (!helpers.arrayEquals(me.active, me.lastActive) ||
<a name="l4304"><span class="linenum">4304</span></a>                      !helpers.arrayEquals(me.tooltipActive, me.lastTooltipActive)) {
<a name="l4305"><span class="linenum">4305</span></a>  
<a name="l4306"><span class="linenum">4306</span></a>                      me.<a class="function" onClick="logFunction('stop')" href="../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>();
<a name="l4307"><span class="linenum">4307</span></a>  
<a name="l4308"><span class="linenum">4308</span></a>                      if (tooltipsOptions.enabled || tooltipsOptions.custom) {
<a name="l4309"><span class="linenum">4309</span></a>                          tooltip.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(true);
<a name="l4310"><span class="linenum">4310</span></a>                      }
<a name="l4311"><span class="linenum">4311</span></a>  
<a name="l4312"><span class="linenum">4312</span></a>  <span class="comment">                    // We only need to render at this point. Updating will cause scales to be</span>
<a name="l4313"><span class="linenum">4313</span></a>  <span class="comment">                    // recomputed generating flicker &amp; using more memory than necessary.</span>
<a name="l4314"><span class="linenum">4314</span></a>                      me.<a class="function" onClick="logFunction('render')" href="../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(hoverOptions.animationDuration, true);
<a name="l4315"><span class="linenum">4315</span></a>                  }
<a name="l4316"><span class="linenum">4316</span></a>              }
<a name="l4317"><span class="linenum">4317</span></a>  
<a name="l4318"><span class="linenum">4318</span></a>  <span class="comment">            // Remember Last Actives</span>
<a name="l4319"><span class="linenum">4319</span></a>              me.lastActive = me.active;
<a name="l4320"><span class="linenum">4320</span></a>              me.lastTooltipActive = me.tooltipActive;
<a name="l4321"><span class="linenum">4321</span></a>              return me;
<a name="l4322"><span class="linenum">4322</span></a>          }
<a name="l4323"><span class="linenum">4323</span></a>      });
<a name="l4324"><span class="linenum">4324</span></a>  };
<a name="l4325"><span class="linenum">4325</span></a>  
<a name="l4326"><span class="linenum">4326</span></a>  },{}],23:[function(require,module,exports){
<a name="l4327"><span class="linenum">4327</span></a>  &quot;use strict&quot;;
<a name="l4328"><span class="linenum">4328</span></a>  
<a name="l4329"><span class="linenum">4329</span></a>  module.exports = function(Chart) {
<a name="l4330"><span class="linenum">4330</span></a>  
<a name="l4331"><span class="linenum">4331</span></a>      var helpers = Chart.helpers;
<a name="l4332"><span class="linenum">4332</span></a>      var noop = helpers.noop;
<a name="l4333"><span class="linenum">4333</span></a>  
<a name="l4334"><span class="linenum">4334</span></a>  <span class="comment">    // Base class for all dataset controllers (line, bar, etc)</span>
<a name="l4335"><span class="linenum">4335</span></a>      Chart.DatasetController = function(chart, datasetIndex) {
<a name="l4336"><span class="linenum">4336</span></a>          this.initialize.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this, chart, datasetIndex);
<a name="l4337"><span class="linenum">4337</span></a>      };
<a name="l4338"><span class="linenum">4338</span></a>  
<a name="l4339"><span class="linenum">4339</span></a>      helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(Chart.DatasetController.prototype, {
<a name="l4340"><span class="linenum">4340</span></a>  
<a name="l4341"><span class="linenum">4341</span></a>          <span class="comment">/**</span>
<a name="l4342"><span class="linenum">4342</span></a>  <span class="comment">         * Element type used to generate a meta dataset (e.g. Chart.element.Line).</span>
<a name="l4343"><span class="linenum">4343</span></a>  <span class="comment">         * @type {Chart.core.element}</span>
<a name="l4344"><span class="linenum">4344</span></a>  <span class="comment">         */</span>
<a name="l4345"><span class="linenum">4345</span></a>          datasetElementType: null,
<a name="l4346"><span class="linenum">4346</span></a>  
<a name="l4347"><span class="linenum">4347</span></a>          <span class="comment">/**</span>
<a name="l4348"><span class="linenum">4348</span></a>  <span class="comment">         * Element type used to generate a meta data (e.g. Chart.element.Point).</span>
<a name="l4349"><span class="linenum">4349</span></a>  <span class="comment">         * @type {Chart.core.element}</span>
<a name="l4350"><span class="linenum">4350</span></a>  <span class="comment">         */</span>
<a name="l4351"><span class="linenum">4351</span></a>          dataElementType: null,
<a name="l4352"><span class="linenum">4352</span></a>  
<a name="l4353"><span class="linenum">4353</span></a>          initialize: function(chart, datasetIndex) {
<a name="l4354"><span class="linenum">4354</span></a>              var me = this;
<a name="l4355"><span class="linenum">4355</span></a>              me.chart = chart;
<a name="l4356"><span class="linenum">4356</span></a>              me.index = datasetIndex;
<a name="l4357"><span class="linenum">4357</span></a>              me.linkScales();
<a name="l4358"><span class="linenum">4358</span></a>              me.<a class="function" onClick="logFunction('addElements')" href="../../../_functions/addelements.html" onMouseOver="funcPopup(event,'addelements')">addElements</a>();
<a name="l4359"><span class="linenum">4359</span></a>          },
<a name="l4360"><span class="linenum">4360</span></a>  
<a name="l4361"><span class="linenum">4361</span></a>          updateIndex: function(datasetIndex) {
<a name="l4362"><span class="linenum">4362</span></a>              this.index = datasetIndex;
<a name="l4363"><span class="linenum">4363</span></a>          },
<a name="l4364"><span class="linenum">4364</span></a>  
<a name="l4365"><span class="linenum">4365</span></a>          linkScales: function() {
<a name="l4366"><span class="linenum">4366</span></a>              var me = this;
<a name="l4367"><span class="linenum">4367</span></a>              var meta = me.getMeta();
<a name="l4368"><span class="linenum">4368</span></a>              var dataset = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>();
<a name="l4369"><span class="linenum">4369</span></a>  
<a name="l4370"><span class="linenum">4370</span></a>              if (meta.xAxisID === null) {
<a name="l4371"><span class="linenum">4371</span></a>                  meta.xAxisID = dataset.xAxisID || me.chart.options.scales.xAxes[0].id;
<a name="l4372"><span class="linenum">4372</span></a>              }
<a name="l4373"><span class="linenum">4373</span></a>              if (meta.yAxisID === null) {
<a name="l4374"><span class="linenum">4374</span></a>                  meta.yAxisID = dataset.yAxisID || me.chart.options.scales.yAxes[0].id;
<a name="l4375"><span class="linenum">4375</span></a>              }
<a name="l4376"><span class="linenum">4376</span></a>          },
<a name="l4377"><span class="linenum">4377</span></a>  
<a name="l4378"><span class="linenum">4378</span></a>          getDataset: function() {
<a name="l4379"><span class="linenum">4379</span></a>              return this.chart.data.datasets[this.index];
<a name="l4380"><span class="linenum">4380</span></a>          },
<a name="l4381"><span class="linenum">4381</span></a>  
<a name="l4382"><span class="linenum">4382</span></a>          getMeta: function() {
<a name="l4383"><span class="linenum">4383</span></a>              return this.chart.getDatasetMeta(this.index);
<a name="l4384"><span class="linenum">4384</span></a>          },
<a name="l4385"><span class="linenum">4385</span></a>  
<a name="l4386"><span class="linenum">4386</span></a>          getScaleForId: function(scaleID) {
<a name="l4387"><span class="linenum">4387</span></a>              return this.chart.scales[scaleID];
<a name="l4388"><span class="linenum">4388</span></a>          },
<a name="l4389"><span class="linenum">4389</span></a>  
<a name="l4390"><span class="linenum">4390</span></a>          reset: function() {
<a name="l4391"><span class="linenum">4391</span></a>              this.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(true);
<a name="l4392"><span class="linenum">4392</span></a>          },
<a name="l4393"><span class="linenum">4393</span></a>  
<a name="l4394"><span class="linenum">4394</span></a>          createMetaDataset: function() {
<a name="l4395"><span class="linenum">4395</span></a>              var me = this;
<a name="l4396"><span class="linenum">4396</span></a>              var type = me.datasetElementType;
<a name="l4397"><span class="linenum">4397</span></a>              return type &amp;&amp; new <a class="function" onClick="logFunction('type')" href="../../../_functions/type.html" onMouseOver="funcPopup(event,'type')">type</a>({
<a name="l4398"><span class="linenum">4398</span></a>                  _chart: me.chart.chart,
<a name="l4399"><span class="linenum">4399</span></a>                  _datasetIndex: me.index
<a name="l4400"><span class="linenum">4400</span></a>              });
<a name="l4401"><span class="linenum">4401</span></a>          },
<a name="l4402"><span class="linenum">4402</span></a>  
<a name="l4403"><span class="linenum">4403</span></a>          createMetaData: function(index) {
<a name="l4404"><span class="linenum">4404</span></a>              var me = this;
<a name="l4405"><span class="linenum">4405</span></a>              var type = me.dataElementType;
<a name="l4406"><span class="linenum">4406</span></a>              return type &amp;&amp; new <a class="function" onClick="logFunction('type')" href="../../../_functions/type.html" onMouseOver="funcPopup(event,'type')">type</a>({
<a name="l4407"><span class="linenum">4407</span></a>                  _chart: me.chart.chart,
<a name="l4408"><span class="linenum">4408</span></a>                  _datasetIndex: me.index,
<a name="l4409"><span class="linenum">4409</span></a>                  _index: index
<a name="l4410"><span class="linenum">4410</span></a>              });
<a name="l4411"><span class="linenum">4411</span></a>          },
<a name="l4412"><span class="linenum">4412</span></a>  
<a name="l4413"><span class="linenum">4413</span></a>          addElements: function() {
<a name="l4414"><span class="linenum">4414</span></a>              var me = this;
<a name="l4415"><span class="linenum">4415</span></a>              var meta = me.getMeta();
<a name="l4416"><span class="linenum">4416</span></a>              var data = me.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>().data || [];
<a name="l4417"><span class="linenum">4417</span></a>              var metaData = meta.data;
<a name="l4418"><span class="linenum">4418</span></a>              var i, ilen;
<a name="l4419"><span class="linenum">4419</span></a>  
<a name="l4420"><span class="linenum">4420</span></a>              for (i=0, ilen=data.length; i&lt;ilen; ++i) {
<a name="l4421"><span class="linenum">4421</span></a>                  metaData[i] = metaData[i] || me.createMetaData(meta, i);
<a name="l4422"><span class="linenum">4422</span></a>              }
<a name="l4423"><span class="linenum">4423</span></a>  
<a name="l4424"><span class="linenum">4424</span></a>              meta.dataset = meta.dataset || me.createMetaDataset();
<a name="l4425"><span class="linenum">4425</span></a>          },
<a name="l4426"><span class="linenum">4426</span></a>  
<a name="l4427"><span class="linenum">4427</span></a>          addElementAndReset: function(index) {
<a name="l4428"><span class="linenum">4428</span></a>              var me = this;
<a name="l4429"><span class="linenum">4429</span></a>              var element = me.createMetaData(index);
<a name="l4430"><span class="linenum">4430</span></a>              me.getMeta().data.<a class="function" onClick="logFunction('splice')" href="../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(index, 0, element);
<a name="l4431"><span class="linenum">4431</span></a>              me.updateElement(element, index, true);
<a name="l4432"><span class="linenum">4432</span></a>          },
<a name="l4433"><span class="linenum">4433</span></a>  
<a name="l4434"><span class="linenum">4434</span></a>          buildOrUpdateElements: function buildOrUpdateElements() {
<a name="l4435"><span class="linenum">4435</span></a>  <span class="comment">            // Handle the number of data points changing</span>
<a name="l4436"><span class="linenum">4436</span></a>              var meta = this.getMeta(),
<a name="l4437"><span class="linenum">4437</span></a>                  md = meta.data,
<a name="l4438"><span class="linenum">4438</span></a>                  numData = this.<a class="function" onClick="logFunction('getDataset')" href="../../../_functions/getdataset.html" onMouseOver="funcPopup(event,'getdataset')">getDataset</a>().data.length,
<a name="l4439"><span class="linenum">4439</span></a>                  numMetaData = md.length;
<a name="l4440"><span class="linenum">4440</span></a>  
<a name="l4441"><span class="linenum">4441</span></a>  <span class="comment">            // Make sure that we handle number of datapoints changing</span>
<a name="l4442"><span class="linenum">4442</span></a>              if (numData &lt; numMetaData) {
<a name="l4443"><span class="linenum">4443</span></a>  <span class="comment">                // Remove excess bars for data points that have been removed</span>
<a name="l4444"><span class="linenum">4444</span></a>                  md.<a class="function" onClick="logFunction('splice')" href="../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(numData, numMetaData - numData);
<a name="l4445"><span class="linenum">4445</span></a>              } else if (numData &gt; numMetaData) {
<a name="l4446"><span class="linenum">4446</span></a>  <span class="comment">                // Add new elements</span>
<a name="l4447"><span class="linenum">4447</span></a>                  for (var index = numMetaData; index &lt; numData; ++index) {
<a name="l4448"><span class="linenum">4448</span></a>                      this.addElementAndReset(index);
<a name="l4449"><span class="linenum">4449</span></a>                  }
<a name="l4450"><span class="linenum">4450</span></a>              }
<a name="l4451"><span class="linenum">4451</span></a>          },
<a name="l4452"><span class="linenum">4452</span></a>  
<a name="l4453"><span class="linenum">4453</span></a>          update: noop,
<a name="l4454"><span class="linenum">4454</span></a>  
<a name="l4455"><span class="linenum">4455</span></a>          draw: function(ease) {
<a name="l4456"><span class="linenum">4456</span></a>              var easingDecimal = ease || 1;
<a name="l4457"><span class="linenum">4457</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(this.getMeta().data, function(element, index) {
<a name="l4458"><span class="linenum">4458</span></a>                  element.<a class="function" onClick="logFunction('transition')" href="../../../_functions/transition.html" onMouseOver="funcPopup(event,'transition')">transition</a>(easingDecimal).<a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>();
<a name="l4459"><span class="linenum">4459</span></a>              });
<a name="l4460"><span class="linenum">4460</span></a>          },
<a name="l4461"><span class="linenum">4461</span></a>  
<a name="l4462"><span class="linenum">4462</span></a>          removeHoverStyle: function(element, elementOpts) {
<a name="l4463"><span class="linenum">4463</span></a>              var dataset = this.chart.data.datasets[element._datasetIndex],
<a name="l4464"><span class="linenum">4464</span></a>                  index = element._index,
<a name="l4465"><span class="linenum">4465</span></a>                  custom = element.custom || {},
<a name="l4466"><span class="linenum">4466</span></a>                  valueOrDefault = helpers.getValueAtIndexOrDefault,
<a name="l4467"><span class="linenum">4467</span></a>                  color = helpers.color,
<a name="l4468"><span class="linenum">4468</span></a>                  model = element._model;
<a name="l4469"><span class="linenum">4469</span></a>  
<a name="l4470"><span class="linenum">4470</span></a>              model.backgroundColor = custom.backgroundColor ? custom.backgroundColor : valueOrDefault(dataset.backgroundColor, index, elementOpts.backgroundColor);
<a name="l4471"><span class="linenum">4471</span></a>              model.borderColor = custom.borderColor ? custom.borderColor : valueOrDefault(dataset.borderColor, index, elementOpts.borderColor);
<a name="l4472"><span class="linenum">4472</span></a>              model.borderWidth = custom.borderWidth ? custom.borderWidth : valueOrDefault(dataset.borderWidth, index, elementOpts.borderWidth);
<a name="l4473"><span class="linenum">4473</span></a>          },
<a name="l4474"><span class="linenum">4474</span></a>  
<a name="l4475"><span class="linenum">4475</span></a>          setHoverStyle: function(element) {
<a name="l4476"><span class="linenum">4476</span></a>              var dataset = this.chart.data.datasets[element._datasetIndex],
<a name="l4477"><span class="linenum">4477</span></a>                  index = element._index,
<a name="l4478"><span class="linenum">4478</span></a>                  custom = element.custom || {},
<a name="l4479"><span class="linenum">4479</span></a>                  valueOrDefault = helpers.getValueAtIndexOrDefault,
<a name="l4480"><span class="linenum">4480</span></a>                  color = helpers.color,
<a name="l4481"><span class="linenum">4481</span></a>                  getHoverColor = helpers.getHoverColor,
<a name="l4482"><span class="linenum">4482</span></a>                  model = element._model;
<a name="l4483"><span class="linenum">4483</span></a>  
<a name="l4484"><span class="linenum">4484</span></a>              model.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : valueOrDefault(dataset.hoverBackgroundColor, index, getHoverColor(model.backgroundColor));
<a name="l4485"><span class="linenum">4485</span></a>              model.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : valueOrDefault(dataset.hoverBorderColor, index, getHoverColor(model.borderColor));
<a name="l4486"><span class="linenum">4486</span></a>              model.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : valueOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);
<a name="l4487"><span class="linenum">4487</span></a>          }
<a name="l4488"><span class="linenum">4488</span></a>      });
<a name="l4489"><span class="linenum">4489</span></a>  
<a name="l4490"><span class="linenum">4490</span></a>      Chart.DatasetController.extend = helpers.inherits;
<a name="l4491"><span class="linenum">4491</span></a>  };
<a name="l4492"><span class="linenum">4492</span></a>  },{}],24:[function(require,module,exports){
<a name="l4493"><span class="linenum">4493</span></a>  &quot;use strict&quot;;
<a name="l4494"><span class="linenum">4494</span></a>  
<a name="l4495"><span class="linenum">4495</span></a>  module.exports = function(Chart) {
<a name="l4496"><span class="linenum">4496</span></a>  
<a name="l4497"><span class="linenum">4497</span></a>    var helpers = Chart.helpers;
<a name="l4498"><span class="linenum">4498</span></a>  
<a name="l4499"><span class="linenum">4499</span></a>    Chart.elements = {};
<a name="l4500"><span class="linenum">4500</span></a>  
<a name="l4501"><span class="linenum">4501</span></a>    Chart.Element = function(configuration) {
<a name="l4502"><span class="linenum">4502</span></a>      helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(this, configuration);
<a name="l4503"><span class="linenum">4503</span></a>      this.initialize.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l4504"><span class="linenum">4504</span></a>    };
<a name="l4505"><span class="linenum">4505</span></a>  
<a name="l4506"><span class="linenum">4506</span></a>    helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(Chart.Element.prototype, {
<a name="l4507"><span class="linenum">4507</span></a>  
<a name="l4508"><span class="linenum">4508</span></a>      initialize: function() {
<a name="l4509"><span class="linenum">4509</span></a>        this.hidden = false;
<a name="l4510"><span class="linenum">4510</span></a>      },
<a name="l4511"><span class="linenum">4511</span></a>  
<a name="l4512"><span class="linenum">4512</span></a>      pivot: function() {
<a name="l4513"><span class="linenum">4513</span></a>        var me = this;
<a name="l4514"><span class="linenum">4514</span></a>        if (!me._view) {
<a name="l4515"><span class="linenum">4515</span></a>          me._view = helpers.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(me._model);
<a name="l4516"><span class="linenum">4516</span></a>        }
<a name="l4517"><span class="linenum">4517</span></a>        me._start = helpers.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(me._view);
<a name="l4518"><span class="linenum">4518</span></a>        return me;
<a name="l4519"><span class="linenum">4519</span></a>      },
<a name="l4520"><span class="linenum">4520</span></a>  
<a name="l4521"><span class="linenum">4521</span></a>      transition: function(ease) {
<a name="l4522"><span class="linenum">4522</span></a>        var me = this;
<a name="l4523"><span class="linenum">4523</span></a>        
<a name="l4524"><span class="linenum">4524</span></a>        if (!me._view) {
<a name="l4525"><span class="linenum">4525</span></a>          me._view = helpers.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(me._model);
<a name="l4526"><span class="linenum">4526</span></a>        }
<a name="l4527"><span class="linenum">4527</span></a>  
<a name="l4528"><span class="linenum">4528</span></a>  <span class="comment">      // No animation -&gt; No Transition</span>
<a name="l4529"><span class="linenum">4529</span></a>        if (ease === 1) {
<a name="l4530"><span class="linenum">4530</span></a>          me._view = me._model;
<a name="l4531"><span class="linenum">4531</span></a>          me._start = null;
<a name="l4532"><span class="linenum">4532</span></a>          return me;
<a name="l4533"><span class="linenum">4533</span></a>        }
<a name="l4534"><span class="linenum">4534</span></a>  
<a name="l4535"><span class="linenum">4535</span></a>        if (!me._start) {
<a name="l4536"><span class="linenum">4536</span></a>          me.pivot();
<a name="l4537"><span class="linenum">4537</span></a>        }
<a name="l4538"><span class="linenum">4538</span></a>  
<a name="l4539"><span class="linenum">4539</span></a>        helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me._model, function(value, key) {
<a name="l4540"><span class="linenum">4540</span></a>  
<a name="l4541"><span class="linenum">4541</span></a>          if (key[0] === '_') {
<a name="l4542"><span class="linenum">4542</span></a>  <span class="comment">          // Only non-underscored properties</span>
<a name="l4543"><span class="linenum">4543</span></a>          }
<a name="l4544"><span class="linenum">4544</span></a>  
<a name="l4545"><span class="linenum">4545</span></a>  <span class="comment">        // Init if doesn't exist</span>
<a name="l4546"><span class="linenum">4546</span></a>          else if (!me._view.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(key)) {
<a name="l4547"><span class="linenum">4547</span></a>            if (typeof value === 'number' &amp;&amp; !isNaN(me._view[key])) {
<a name="l4548"><span class="linenum">4548</span></a>              me._view[key] = value * ease;
<a name="l4549"><span class="linenum">4549</span></a>            } else {
<a name="l4550"><span class="linenum">4550</span></a>              me._view[key] = value;
<a name="l4551"><span class="linenum">4551</span></a>            }
<a name="l4552"><span class="linenum">4552</span></a>          }
<a name="l4553"><span class="linenum">4553</span></a>  
<a name="l4554"><span class="linenum">4554</span></a>  <span class="comment">        // No unnecessary computations</span>
<a name="l4555"><span class="linenum">4555</span></a>          else if (value === me._view[key]) {
<a name="l4556"><span class="linenum">4556</span></a>  <span class="comment">          // It's the same! Woohoo!</span>
<a name="l4557"><span class="linenum">4557</span></a>          }
<a name="l4558"><span class="linenum">4558</span></a>  
<a name="l4559"><span class="linenum">4559</span></a>  <span class="comment">        // Color transitions if possible</span>
<a name="l4560"><span class="linenum">4560</span></a>          else if (typeof value === 'string') {
<a name="l4561"><span class="linenum">4561</span></a>            try {
<a name="l4562"><span class="linenum">4562</span></a>              var color = helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(me._model[key]).<a class="function" onClick="logFunction('mix')" href="../../../_functions/mix.html" onMouseOver="funcPopup(event,'mix')">mix</a>(helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(me._start[key]), ease);
<a name="l4563"><span class="linenum">4563</span></a>              me._view[key] = color.<a class="function" onClick="logFunction('rgbString')" href="../../../_functions/rgbstring.html" onMouseOver="funcPopup(event,'rgbstring')">rgbString</a>();
<a name="l4564"><span class="linenum">4564</span></a>            } catch (err) {
<a name="l4565"><span class="linenum">4565</span></a>              me._view[key] = value;
<a name="l4566"><span class="linenum">4566</span></a>            }
<a name="l4567"><span class="linenum">4567</span></a>          }
<a name="l4568"><span class="linenum">4568</span></a>  <span class="comment">        // Number transitions</span>
<a name="l4569"><span class="linenum">4569</span></a>          else if (typeof value === 'number') {
<a name="l4570"><span class="linenum">4570</span></a>            var startVal = me._start[key] !== undefined &amp;&amp; isNaN(me._start[key]) === false ? me._start[key] : 0;
<a name="l4571"><span class="linenum">4571</span></a>            me._view[key] = ((me._model[key] - startVal) * ease) + startVal;
<a name="l4572"><span class="linenum">4572</span></a>          }
<a name="l4573"><span class="linenum">4573</span></a>  <span class="comment">        // Everything else</span>
<a name="l4574"><span class="linenum">4574</span></a>          else {
<a name="l4575"><span class="linenum">4575</span></a>            me._view[key] = value;
<a name="l4576"><span class="linenum">4576</span></a>          }
<a name="l4577"><span class="linenum">4577</span></a>        }, me);
<a name="l4578"><span class="linenum">4578</span></a>  
<a name="l4579"><span class="linenum">4579</span></a>        return me;
<a name="l4580"><span class="linenum">4580</span></a>      },
<a name="l4581"><span class="linenum">4581</span></a>  
<a name="l4582"><span class="linenum">4582</span></a>      tooltipPosition: function() {
<a name="l4583"><span class="linenum">4583</span></a>        return {
<a name="l4584"><span class="linenum">4584</span></a>          x: this._model.x,
<a name="l4585"><span class="linenum">4585</span></a>          y: this._model.y
<a name="l4586"><span class="linenum">4586</span></a>        };
<a name="l4587"><span class="linenum">4587</span></a>      },
<a name="l4588"><span class="linenum">4588</span></a>  
<a name="l4589"><span class="linenum">4589</span></a>      hasValue: function() {
<a name="l4590"><span class="linenum">4590</span></a>        return helpers.<a class="function" onClick="logFunction('isNumber')" href="../../../_functions/isnumber.html" onMouseOver="funcPopup(event,'isnumber')">isNumber</a>(this._model.x) &amp;&amp; helpers.<a class="function" onClick="logFunction('isNumber')" href="../../../_functions/isnumber.html" onMouseOver="funcPopup(event,'isnumber')">isNumber</a>(this._model.y);
<a name="l4591"><span class="linenum">4591</span></a>      }
<a name="l4592"><span class="linenum">4592</span></a>    });
<a name="l4593"><span class="linenum">4593</span></a>  
<a name="l4594"><span class="linenum">4594</span></a>    Chart.Element.extend = helpers.inherits;
<a name="l4595"><span class="linenum">4595</span></a>  
<a name="l4596"><span class="linenum">4596</span></a>  };
<a name="l4597"><span class="linenum">4597</span></a>  
<a name="l4598"><span class="linenum">4598</span></a>  },{}],25:[function(require,module,exports){
<a name="l4599"><span class="linenum">4599</span></a>  <span class="comment">/*global window: false */</span>
<a name="l4600"><span class="linenum">4600</span></a>  <span class="comment">/*global document: false */</span>
<a name="l4601"><span class="linenum">4601</span></a>  &quot;use strict&quot;;
<a name="l4602"><span class="linenum">4602</span></a>  
<a name="l4603"><span class="linenum">4603</span></a>  var color = <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(3);
<a name="l4604"><span class="linenum">4604</span></a>  
<a name="l4605"><span class="linenum">4605</span></a>  module.exports = function(Chart) {
<a name="l4606"><span class="linenum">4606</span></a>  <span class="comment">    //Global Chart helpers object for utility methods and classes</span>
<a name="l4607"><span class="linenum">4607</span></a>      var helpers = Chart.helpers = {};
<a name="l4608"><span class="linenum">4608</span></a>  
<a name="l4609"><span class="linenum">4609</span></a>  <span class="comment">    //-- Basic js utility methods</span>
<a name="l4610"><span class="linenum">4610</span></a>      helpers.each = function(loopable, callback, self, reverse) {
<a name="l4611"><span class="linenum">4611</span></a>  <span class="comment">        // Check to see if null or undefined firstly.</span>
<a name="l4612"><span class="linenum">4612</span></a>          var i, len;
<a name="l4613"><span class="linenum">4613</span></a>          if (helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(loopable)) {
<a name="l4614"><span class="linenum">4614</span></a>              len = loopable.length;
<a name="l4615"><span class="linenum">4615</span></a>              if (reverse) {
<a name="l4616"><span class="linenum">4616</span></a>                  for (i = len - 1; i &gt;= 0; i--) {
<a name="l4617"><span class="linenum">4617</span></a>                      callback.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(self, loopable[i], i);
<a name="l4618"><span class="linenum">4618</span></a>                  }
<a name="l4619"><span class="linenum">4619</span></a>              } else {
<a name="l4620"><span class="linenum">4620</span></a>                  for (i = 0; i &lt; len; i++) {
<a name="l4621"><span class="linenum">4621</span></a>                      callback.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(self, loopable[i], i);
<a name="l4622"><span class="linenum">4622</span></a>                  }
<a name="l4623"><span class="linenum">4623</span></a>              }
<a name="l4624"><span class="linenum">4624</span></a>          } else if (typeof loopable === 'object') {
<a name="l4625"><span class="linenum">4625</span></a>              var keys = Object.keys(loopable);
<a name="l4626"><span class="linenum">4626</span></a>              len = keys.length;
<a name="l4627"><span class="linenum">4627</span></a>              for (i = 0; i &lt; len; i++) {
<a name="l4628"><span class="linenum">4628</span></a>                  callback.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(self, loopable[keys[i]], keys[i]);
<a name="l4629"><span class="linenum">4629</span></a>              }
<a name="l4630"><span class="linenum">4630</span></a>          }
<a name="l4631"><span class="linenum">4631</span></a>      };
<a name="l4632"><span class="linenum">4632</span></a>      helpers.clone = function(obj) {
<a name="l4633"><span class="linenum">4633</span></a>          var objClone = {};
<a name="l4634"><span class="linenum">4634</span></a>          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(obj, function(value, key) {
<a name="l4635"><span class="linenum">4635</span></a>              if (helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(value)) {
<a name="l4636"><span class="linenum">4636</span></a>                  objClone[key] = value.slice(0);
<a name="l4637"><span class="linenum">4637</span></a>              } else if (typeof value === 'object' &amp;&amp; value !== null) {
<a name="l4638"><span class="linenum">4638</span></a>                  objClone[key] = helpers.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(value);
<a name="l4639"><span class="linenum">4639</span></a>              } else {
<a name="l4640"><span class="linenum">4640</span></a>                  objClone[key] = value;
<a name="l4641"><span class="linenum">4641</span></a>              }
<a name="l4642"><span class="linenum">4642</span></a>          });
<a name="l4643"><span class="linenum">4643</span></a>          return objClone;
<a name="l4644"><span class="linenum">4644</span></a>      };
<a name="l4645"><span class="linenum">4645</span></a>      helpers.extend = function(base) {
<a name="l4646"><span class="linenum">4646</span></a>          var setFn = function(value, key) { base[key] = value; };
<a name="l4647"><span class="linenum">4647</span></a>          for (var i = 1, ilen = arguments.length; i &lt; ilen; i++) {
<a name="l4648"><span class="linenum">4648</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(arguments[i], setFn);
<a name="l4649"><span class="linenum">4649</span></a>          }
<a name="l4650"><span class="linenum">4650</span></a>          return base;
<a name="l4651"><span class="linenum">4651</span></a>      };
<a name="l4652"><span class="linenum">4652</span></a>  <span class="comment">    // Need a special merge function to chart configs since they are now grouped</span>
<a name="l4653"><span class="linenum">4653</span></a>      helpers.configMerge = function(_base) {
<a name="l4654"><span class="linenum">4654</span></a>          var base = helpers.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(_base);
<a name="l4655"><span class="linenum">4655</span></a>          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(Array.prototype.slice.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(arguments, 1), function(extension) {
<a name="l4656"><span class="linenum">4656</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(extension, function(value, key) {
<a name="l4657"><span class="linenum">4657</span></a>                  if (key === 'scales') {
<a name="l4658"><span class="linenum">4658</span></a>  <span class="comment">                    // Scale config merging is complex. Add out own function here for that</span>
<a name="l4659"><span class="linenum">4659</span></a>                      base[key] = helpers.scaleMerge(base.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(key) ? base[key] : {}, value);
<a name="l4660"><span class="linenum">4660</span></a>  
<a name="l4661"><span class="linenum">4661</span></a>                  } else if (key === 'scale') {
<a name="l4662"><span class="linenum">4662</span></a>  <span class="comment">                    // Used in polar area &amp; radar charts since there is only one scale</span>
<a name="l4663"><span class="linenum">4663</span></a>                      base[key] = helpers.configMerge(base.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(key) ? base[key] : {}, Chart.scaleService.getScaleDefaults(value.type), value);
<a name="l4664"><span class="linenum">4664</span></a>                  } else if (base.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(key) &amp;&amp; helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(base[key]) &amp;&amp; helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(value)) {
<a name="l4665"><span class="linenum">4665</span></a>  <span class="comment">                    // In this case we have an array of objects replacing another array. Rather than doing a strict replace,</span>
<a name="l4666"><span class="linenum">4666</span></a>  <span class="comment">                    // merge. This allows easy scale option merging</span>
<a name="l4667"><span class="linenum">4667</span></a>                      var baseArray = base[key];
<a name="l4668"><span class="linenum">4668</span></a>  
<a name="l4669"><span class="linenum">4669</span></a>                      helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(value, function(valueObj, index) {
<a name="l4670"><span class="linenum">4670</span></a>  
<a name="l4671"><span class="linenum">4671</span></a>                          if (index &lt; baseArray.length) {
<a name="l4672"><span class="linenum">4672</span></a>                              if (typeof baseArray[index] === 'object' &amp;&amp; baseArray[index] !== null &amp;&amp; typeof valueObj === 'object' &amp;&amp; valueObj !== null) {
<a name="l4673"><span class="linenum">4673</span></a>  <span class="comment">                                // Two objects are coming together. Do a merge of them.</span>
<a name="l4674"><span class="linenum">4674</span></a>                                  baseArray[index] = helpers.configMerge(baseArray[index], valueObj);
<a name="l4675"><span class="linenum">4675</span></a>                              } else {
<a name="l4676"><span class="linenum">4676</span></a>  <span class="comment">                                // Just overwrite in this case since there is nothing to merge</span>
<a name="l4677"><span class="linenum">4677</span></a>                                  baseArray[index] = valueObj;
<a name="l4678"><span class="linenum">4678</span></a>                              }
<a name="l4679"><span class="linenum">4679</span></a>                          } else {
<a name="l4680"><span class="linenum">4680</span></a>                              baseArray.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(valueObj); <span class="comment">// nothing to merge</span>
<a name="l4681"><span class="linenum">4681</span></a>                          }
<a name="l4682"><span class="linenum">4682</span></a>                      });
<a name="l4683"><span class="linenum">4683</span></a>  
<a name="l4684"><span class="linenum">4684</span></a>                  } else if (base.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(key) &amp;&amp; typeof base[key] === &quot;object&quot; &amp;&amp; base[key] !== null &amp;&amp; typeof value === &quot;object&quot;) {
<a name="l4685"><span class="linenum">4685</span></a>  <span class="comment">                    // If we are overwriting an object with an object, do a merge of the properties.</span>
<a name="l4686"><span class="linenum">4686</span></a>                      base[key] = helpers.configMerge(base[key], value);
<a name="l4687"><span class="linenum">4687</span></a>  
<a name="l4688"><span class="linenum">4688</span></a>                  } else {
<a name="l4689"><span class="linenum">4689</span></a>  <span class="comment">                    // can just overwrite the value in this case</span>
<a name="l4690"><span class="linenum">4690</span></a>                      base[key] = value;
<a name="l4691"><span class="linenum">4691</span></a>                  }
<a name="l4692"><span class="linenum">4692</span></a>              });
<a name="l4693"><span class="linenum">4693</span></a>          });
<a name="l4694"><span class="linenum">4694</span></a>  
<a name="l4695"><span class="linenum">4695</span></a>          return base;
<a name="l4696"><span class="linenum">4696</span></a>      };
<a name="l4697"><span class="linenum">4697</span></a>      helpers.scaleMerge = function(_base, extension) {
<a name="l4698"><span class="linenum">4698</span></a>          var base = helpers.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(_base);
<a name="l4699"><span class="linenum">4699</span></a>  
<a name="l4700"><span class="linenum">4700</span></a>          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(extension, function(value, key) {
<a name="l4701"><span class="linenum">4701</span></a>              if (key === 'xAxes' || key === 'yAxes') {
<a name="l4702"><span class="linenum">4702</span></a>  <span class="comment">                // These properties are arrays of items</span>
<a name="l4703"><span class="linenum">4703</span></a>                  if (base.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(key)) {
<a name="l4704"><span class="linenum">4704</span></a>                      helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(value, function(valueObj, index) {
<a name="l4705"><span class="linenum">4705</span></a>                          var axisType = helpers.getValueOrDefault(valueObj.type, key === 'xAxes' ? 'category' : 'linear');
<a name="l4706"><span class="linenum">4706</span></a>                          var axisDefaults = Chart.scaleService.getScaleDefaults(axisType);
<a name="l4707"><span class="linenum">4707</span></a>                          if (index &gt;= base[key].length || !base[key][index].type) {
<a name="l4708"><span class="linenum">4708</span></a>                              base[key].<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(helpers.configMerge(axisDefaults, valueObj));
<a name="l4709"><span class="linenum">4709</span></a>                          } else if (valueObj.type &amp;&amp; valueObj.type !== base[key][index].type) {
<a name="l4710"><span class="linenum">4710</span></a>  <span class="comment">                            // Type changed. Bring in the new defaults before we bring in valueObj so that valueObj can override the correct scale defaults</span>
<a name="l4711"><span class="linenum">4711</span></a>                              base[key][index] = helpers.configMerge(base[key][index], axisDefaults, valueObj);
<a name="l4712"><span class="linenum">4712</span></a>                          } else {
<a name="l4713"><span class="linenum">4713</span></a>  <span class="comment">                            // Type is the same</span>
<a name="l4714"><span class="linenum">4714</span></a>                              base[key][index] = helpers.configMerge(base[key][index], valueObj);
<a name="l4715"><span class="linenum">4715</span></a>                          }
<a name="l4716"><span class="linenum">4716</span></a>                      });
<a name="l4717"><span class="linenum">4717</span></a>                  } else {
<a name="l4718"><span class="linenum">4718</span></a>                      base[key] = [];
<a name="l4719"><span class="linenum">4719</span></a>                      helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(value, function(valueObj) {
<a name="l4720"><span class="linenum">4720</span></a>                          var axisType = helpers.getValueOrDefault(valueObj.type, key === 'xAxes' ? 'category' : 'linear');
<a name="l4721"><span class="linenum">4721</span></a>                          base[key].<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(helpers.configMerge(Chart.scaleService.getScaleDefaults(axisType), valueObj));
<a name="l4722"><span class="linenum">4722</span></a>                      });
<a name="l4723"><span class="linenum">4723</span></a>                  }
<a name="l4724"><span class="linenum">4724</span></a>              } else if (base.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(key) &amp;&amp; typeof base[key] === &quot;object&quot; &amp;&amp; base[key] !== null &amp;&amp; typeof value === &quot;object&quot;) {
<a name="l4725"><span class="linenum">4725</span></a>  <span class="comment">                // If we are overwriting an object with an object, do a merge of the properties.</span>
<a name="l4726"><span class="linenum">4726</span></a>                  base[key] = helpers.configMerge(base[key], value);
<a name="l4727"><span class="linenum">4727</span></a>  
<a name="l4728"><span class="linenum">4728</span></a>              } else {
<a name="l4729"><span class="linenum">4729</span></a>  <span class="comment">                // can just overwrite the value in this case</span>
<a name="l4730"><span class="linenum">4730</span></a>                  base[key] = value;
<a name="l4731"><span class="linenum">4731</span></a>              }
<a name="l4732"><span class="linenum">4732</span></a>          });
<a name="l4733"><span class="linenum">4733</span></a>  
<a name="l4734"><span class="linenum">4734</span></a>          return base;
<a name="l4735"><span class="linenum">4735</span></a>      };
<a name="l4736"><span class="linenum">4736</span></a>      helpers.getValueAtIndexOrDefault = function(value, index, defaultValue) {
<a name="l4737"><span class="linenum">4737</span></a>          if (value === undefined || value === null) {
<a name="l4738"><span class="linenum">4738</span></a>              return defaultValue;
<a name="l4739"><span class="linenum">4739</span></a>          }
<a name="l4740"><span class="linenum">4740</span></a>  
<a name="l4741"><span class="linenum">4741</span></a>          if (helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(value)) {
<a name="l4742"><span class="linenum">4742</span></a>              return index &lt; value.length ? value[index] : defaultValue;
<a name="l4743"><span class="linenum">4743</span></a>          }
<a name="l4744"><span class="linenum">4744</span></a>  
<a name="l4745"><span class="linenum">4745</span></a>          return value;
<a name="l4746"><span class="linenum">4746</span></a>      };
<a name="l4747"><span class="linenum">4747</span></a>      helpers.getValueOrDefault = function(value, defaultValue) {
<a name="l4748"><span class="linenum">4748</span></a>          return value === undefined ? defaultValue : value;
<a name="l4749"><span class="linenum">4749</span></a>      };
<a name="l4750"><span class="linenum">4750</span></a>      helpers.indexOf = Array.prototype.indexOf?
<a name="l4751"><span class="linenum">4751</span></a>          function(array, item) { return array.<a class="function" onClick="logFunction('indexOf')" href="../../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>(item); } :
<a name="l4752"><span class="linenum">4752</span></a>          function(array, item) {
<a name="l4753"><span class="linenum">4753</span></a>              for (var i = 0, ilen = array.length; i &lt; ilen; ++i) {
<a name="l4754"><span class="linenum">4754</span></a>                  if (array[i] === item) {
<a name="l4755"><span class="linenum">4755</span></a>                      return i;
<a name="l4756"><span class="linenum">4756</span></a>                  }
<a name="l4757"><span class="linenum">4757</span></a>              }
<a name="l4758"><span class="linenum">4758</span></a>              return -1;
<a name="l4759"><span class="linenum">4759</span></a>          };
<a name="l4760"><span class="linenum">4760</span></a>      helpers.where = function(collection, filterCallback) {
<a name="l4761"><span class="linenum">4761</span></a>          if (helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(collection) &amp;&amp; Array.prototype.filter) {
<a name="l4762"><span class="linenum">4762</span></a>              return collection.<a class="function" onClick="logFunction('filter')" href="../../../_functions/filter.html" onMouseOver="funcPopup(event,'filter')">filter</a>(filterCallback);
<a name="l4763"><span class="linenum">4763</span></a>          } else {
<a name="l4764"><span class="linenum">4764</span></a>              var filtered = [];
<a name="l4765"><span class="linenum">4765</span></a>  
<a name="l4766"><span class="linenum">4766</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(collection, function(item) {
<a name="l4767"><span class="linenum">4767</span></a>                  if (filterCallback(item)) {
<a name="l4768"><span class="linenum">4768</span></a>                      filtered.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(item);
<a name="l4769"><span class="linenum">4769</span></a>                  }
<a name="l4770"><span class="linenum">4770</span></a>              });
<a name="l4771"><span class="linenum">4771</span></a>  
<a name="l4772"><span class="linenum">4772</span></a>              return filtered;
<a name="l4773"><span class="linenum">4773</span></a>          }
<a name="l4774"><span class="linenum">4774</span></a>      };
<a name="l4775"><span class="linenum">4775</span></a>      helpers.findIndex = Array.prototype.findIndex?
<a name="l4776"><span class="linenum">4776</span></a>          function(array, callback, scope) { return array.<a class="function" onClick="logFunction('findIndex')" href="../../../_functions/findindex.html" onMouseOver="funcPopup(event,'findindex')">findIndex</a>(callback, scope); } :
<a name="l4777"><span class="linenum">4777</span></a>          function(array, callback, scope) {
<a name="l4778"><span class="linenum">4778</span></a>              scope = scope === undefined? array : scope;
<a name="l4779"><span class="linenum">4779</span></a>              for (var i = 0, ilen = array.length; i &lt; ilen; ++i) {
<a name="l4780"><span class="linenum">4780</span></a>                  if (callback.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(scope, array[i], i, array)) {
<a name="l4781"><span class="linenum">4781</span></a>                      return i;
<a name="l4782"><span class="linenum">4782</span></a>                  }
<a name="l4783"><span class="linenum">4783</span></a>              }
<a name="l4784"><span class="linenum">4784</span></a>              return -1;
<a name="l4785"><span class="linenum">4785</span></a>          };
<a name="l4786"><span class="linenum">4786</span></a>      helpers.findNextWhere = function(arrayToSearch, filterCallback, startIndex) {
<a name="l4787"><span class="linenum">4787</span></a>  <span class="comment">        // Default to start of the array</span>
<a name="l4788"><span class="linenum">4788</span></a>          if (startIndex === undefined || startIndex === null) {
<a name="l4789"><span class="linenum">4789</span></a>              startIndex = -1;
<a name="l4790"><span class="linenum">4790</span></a>          }
<a name="l4791"><span class="linenum">4791</span></a>          for (var i = startIndex + 1; i &lt; arrayToSearch.length; i++) {
<a name="l4792"><span class="linenum">4792</span></a>              var currentItem = arrayToSearch[i];
<a name="l4793"><span class="linenum">4793</span></a>              if (filterCallback(currentItem)) {
<a name="l4794"><span class="linenum">4794</span></a>                  return currentItem;
<a name="l4795"><span class="linenum">4795</span></a>              }
<a name="l4796"><span class="linenum">4796</span></a>          }
<a name="l4797"><span class="linenum">4797</span></a>      };
<a name="l4798"><span class="linenum">4798</span></a>      helpers.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex) {
<a name="l4799"><span class="linenum">4799</span></a>  <span class="comment">        // Default to end of the array</span>
<a name="l4800"><span class="linenum">4800</span></a>          if (startIndex === undefined || startIndex === null) {
<a name="l4801"><span class="linenum">4801</span></a>              startIndex = arrayToSearch.length;
<a name="l4802"><span class="linenum">4802</span></a>          }
<a name="l4803"><span class="linenum">4803</span></a>          for (var i = startIndex - 1; i &gt;= 0; i--) {
<a name="l4804"><span class="linenum">4804</span></a>              var currentItem = arrayToSearch[i];
<a name="l4805"><span class="linenum">4805</span></a>              if (filterCallback(currentItem)) {
<a name="l4806"><span class="linenum">4806</span></a>                  return currentItem;
<a name="l4807"><span class="linenum">4807</span></a>              }
<a name="l4808"><span class="linenum">4808</span></a>          }
<a name="l4809"><span class="linenum">4809</span></a>      };
<a name="l4810"><span class="linenum">4810</span></a>      helpers.inherits = function(extensions) {
<a name="l4811"><span class="linenum">4811</span></a>  <span class="comment">        //Basic javascript inheritance based on the model created in Backbone.js</span>
<a name="l4812"><span class="linenum">4812</span></a>          var parent = this;
<a name="l4813"><span class="linenum">4813</span></a>          var ChartElement = (extensions &amp;&amp; extensions.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(&quot;constructor&quot;)) ? extensions.constructor : function() {
<a name="l4814"><span class="linenum">4814</span></a>              return parent.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l4815"><span class="linenum">4815</span></a>          };
<a name="l4816"><span class="linenum">4816</span></a>  
<a name="l4817"><span class="linenum">4817</span></a>          var Surrogate = function() {
<a name="l4818"><span class="linenum">4818</span></a>              this.constructor = ChartElement;
<a name="l4819"><span class="linenum">4819</span></a>          };
<a name="l4820"><span class="linenum">4820</span></a>          Surrogate.prototype = parent.prototype;
<a name="l4821"><span class="linenum">4821</span></a>          ChartElement.prototype = new Surrogate();
<a name="l4822"><span class="linenum">4822</span></a>  
<a name="l4823"><span class="linenum">4823</span></a>          ChartElement.extend = helpers.inherits;
<a name="l4824"><span class="linenum">4824</span></a>  
<a name="l4825"><span class="linenum">4825</span></a>          if (extensions) {
<a name="l4826"><span class="linenum">4826</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(ChartElement.prototype, extensions);
<a name="l4827"><span class="linenum">4827</span></a>          }
<a name="l4828"><span class="linenum">4828</span></a>  
<a name="l4829"><span class="linenum">4829</span></a>          ChartElement.__super__ = parent.prototype;
<a name="l4830"><span class="linenum">4830</span></a>  
<a name="l4831"><span class="linenum">4831</span></a>          return ChartElement;
<a name="l4832"><span class="linenum">4832</span></a>      };
<a name="l4833"><span class="linenum">4833</span></a>      helpers.noop = function() {};
<a name="l4834"><span class="linenum">4834</span></a>      helpers.uid = (function() {
<a name="l4835"><span class="linenum">4835</span></a>          var id = 0;
<a name="l4836"><span class="linenum">4836</span></a>          return function() {
<a name="l4837"><span class="linenum">4837</span></a>              return id++;
<a name="l4838"><span class="linenum">4838</span></a>          };
<a name="l4839"><span class="linenum">4839</span></a>      })();
<a name="l4840"><span class="linenum">4840</span></a>  <span class="comment">    //-- Math methods</span>
<a name="l4841"><span class="linenum">4841</span></a>      helpers.isNumber = function(n) {
<a name="l4842"><span class="linenum">4842</span></a>          return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);
<a name="l4843"><span class="linenum">4843</span></a>      };
<a name="l4844"><span class="linenum">4844</span></a>      helpers.almostEquals = function(x, y, epsilon) {
<a name="l4845"><span class="linenum">4845</span></a>          return Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(x - y) &lt; epsilon;
<a name="l4846"><span class="linenum">4846</span></a>      };
<a name="l4847"><span class="linenum">4847</span></a>      helpers.max = function(array) {
<a name="l4848"><span class="linenum">4848</span></a>          return array.<a class="function" onClick="logFunction('reduce')" href="../../../_functions/reduce.html" onMouseOver="funcPopup(event,'reduce')">reduce</a>(function(max, value) {
<a name="l4849"><span class="linenum">4849</span></a>              if (!isNaN(value)) {
<a name="l4850"><span class="linenum">4850</span></a>                  return Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(max, value);
<a name="l4851"><span class="linenum">4851</span></a>              } else {
<a name="l4852"><span class="linenum">4852</span></a>                  return max;
<a name="l4853"><span class="linenum">4853</span></a>              }
<a name="l4854"><span class="linenum">4854</span></a>          }, Number.NEGATIVE_INFINITY);
<a name="l4855"><span class="linenum">4855</span></a>      };
<a name="l4856"><span class="linenum">4856</span></a>      helpers.min = function(array) {
<a name="l4857"><span class="linenum">4857</span></a>          return array.<a class="function" onClick="logFunction('reduce')" href="../../../_functions/reduce.html" onMouseOver="funcPopup(event,'reduce')">reduce</a>(function(min, value) {
<a name="l4858"><span class="linenum">4858</span></a>              if (!isNaN(value)) {
<a name="l4859"><span class="linenum">4859</span></a>                  return Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(min, value);
<a name="l4860"><span class="linenum">4860</span></a>              } else {
<a name="l4861"><span class="linenum">4861</span></a>                  return min;
<a name="l4862"><span class="linenum">4862</span></a>              }
<a name="l4863"><span class="linenum">4863</span></a>          }, Number.POSITIVE_INFINITY);
<a name="l4864"><span class="linenum">4864</span></a>      };
<a name="l4865"><span class="linenum">4865</span></a>      helpers.sign = Math.sign?
<a name="l4866"><span class="linenum">4866</span></a>          function(x) { return Math.<a class="function" onClick="logFunction('sign')" href="../../../_functions/sign.html" onMouseOver="funcPopup(event,'sign')">sign</a>(x); } :
<a name="l4867"><span class="linenum">4867</span></a>          function(x) {
<a name="l4868"><span class="linenum">4868</span></a>              x = +x; <span class="comment">// convert to a number</span>
<a name="l4869"><span class="linenum">4869</span></a>              if (x === 0 || isNaN(x)) {
<a name="l4870"><span class="linenum">4870</span></a>                  return x;
<a name="l4871"><span class="linenum">4871</span></a>              }
<a name="l4872"><span class="linenum">4872</span></a>              return x &gt; 0 ? 1 : -1;
<a name="l4873"><span class="linenum">4873</span></a>          };
<a name="l4874"><span class="linenum">4874</span></a>      helpers.log10 = Math.log10?
<a name="l4875"><span class="linenum">4875</span></a>          function(x) { return Math.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(x); } :
<a name="l4876"><span class="linenum">4876</span></a>          function(x) {
<a name="l4877"><span class="linenum">4877</span></a>              return Math.<a class="phpfunction" onClick="logFunction('log')" href="../../../_functions/log.html" onMouseOver="phpfuncPopup(event,'log')">log</a>(x) / Math.LN10;
<a name="l4878"><span class="linenum">4878</span></a>          };
<a name="l4879"><span class="linenum">4879</span></a>      helpers.toRadians = function(degrees) {
<a name="l4880"><span class="linenum">4880</span></a>          return degrees * (Math.PI / 180);
<a name="l4881"><span class="linenum">4881</span></a>      };
<a name="l4882"><span class="linenum">4882</span></a>      helpers.toDegrees = function(radians) {
<a name="l4883"><span class="linenum">4883</span></a>          return radians * (180 / Math.PI);
<a name="l4884"><span class="linenum">4884</span></a>      };
<a name="l4885"><span class="linenum">4885</span></a>  <span class="comment">    // Gets the angle from vertical upright to the point about a centre.</span>
<a name="l4886"><span class="linenum">4886</span></a>      helpers.getAngleFromPoint = function(centrePoint, anglePoint) {
<a name="l4887"><span class="linenum">4887</span></a>          var distanceFromXCenter = anglePoint.x - centrePoint.x,
<a name="l4888"><span class="linenum">4888</span></a>              distanceFromYCenter = anglePoint.y - centrePoint.y,
<a name="l4889"><span class="linenum">4889</span></a>              radialDistanceFromCenter = Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);
<a name="l4890"><span class="linenum">4890</span></a>  
<a name="l4891"><span class="linenum">4891</span></a>          var angle = Math.<a class="phpfunction" onClick="logFunction('atan2')" href="../../../_functions/atan2.html" onMouseOver="phpfuncPopup(event,'atan2')">atan2</a>(distanceFromYCenter, distanceFromXCenter);
<a name="l4892"><span class="linenum">4892</span></a>  
<a name="l4893"><span class="linenum">4893</span></a>          if (angle &lt; (-0.5 * Math.PI)) {
<a name="l4894"><span class="linenum">4894</span></a>              angle += 2.0 * Math.PI; <span class="comment">// make sure the returned angle is in the range of (-PI/2, 3PI/2]</span>
<a name="l4895"><span class="linenum">4895</span></a>          }
<a name="l4896"><span class="linenum">4896</span></a>  
<a name="l4897"><span class="linenum">4897</span></a>          return {
<a name="l4898"><span class="linenum">4898</span></a>              angle: angle,
<a name="l4899"><span class="linenum">4899</span></a>              distance: radialDistanceFromCenter
<a name="l4900"><span class="linenum">4900</span></a>          };
<a name="l4901"><span class="linenum">4901</span></a>      };
<a name="l4902"><span class="linenum">4902</span></a>      helpers.aliasPixel = function(pixelWidth) {
<a name="l4903"><span class="linenum">4903</span></a>          return (pixelWidth % 2 === 0) ? 0 : 0.5;
<a name="l4904"><span class="linenum">4904</span></a>      };
<a name="l4905"><span class="linenum">4905</span></a>      helpers.splineCurve = function(firstPoint, middlePoint, afterPoint, t) {
<a name="l4906"><span class="linenum">4906</span></a>  <span class="comment">        //Props to Rob Spencer at scaled innovation for his post on splining between points</span>
<a name="l4907"><span class="linenum">4907</span></a>  <span class="comment">        //http://scaledinnovation.com/analytics/splines/aboutSplines.html</span>
<a name="l4908"><span class="linenum">4908</span></a>  
<a name="l4909"><span class="linenum">4909</span></a>  <span class="comment">        // This function must also respect &quot;skipped&quot; points</span>
<a name="l4910"><span class="linenum">4910</span></a>  
<a name="l4911"><span class="linenum">4911</span></a>          var previous = firstPoint.skip ? middlePoint : firstPoint,
<a name="l4912"><span class="linenum">4912</span></a>              current = middlePoint,
<a name="l4913"><span class="linenum">4913</span></a>              next = afterPoint.skip ? middlePoint : afterPoint;
<a name="l4914"><span class="linenum">4914</span></a>  
<a name="l4915"><span class="linenum">4915</span></a>          var d01 = Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(current.x - previous.x, 2) + Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(current.y - previous.y, 2));
<a name="l4916"><span class="linenum">4916</span></a>          var d12 = Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(next.x - current.x, 2) + Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(next.y - current.y, 2));
<a name="l4917"><span class="linenum">4917</span></a>  
<a name="l4918"><span class="linenum">4918</span></a>          var s01 = d01 / (d01 + d12);
<a name="l4919"><span class="linenum">4919</span></a>          var s12 = d12 / (d01 + d12);
<a name="l4920"><span class="linenum">4920</span></a>  
<a name="l4921"><span class="linenum">4921</span></a>  <span class="comment">        // If all points are the same, s01 &amp; s02 will be inf</span>
<a name="l4922"><span class="linenum">4922</span></a>          s01 = isNaN(s01) ? 0 : s01;
<a name="l4923"><span class="linenum">4923</span></a>          s12 = isNaN(s12) ? 0 : s12;
<a name="l4924"><span class="linenum">4924</span></a>  
<a name="l4925"><span class="linenum">4925</span></a>          var fa = t * s01; <span class="comment">// scaling factor for triangle Ta</span>
<a name="l4926"><span class="linenum">4926</span></a>          var fb = t * s12;
<a name="l4927"><span class="linenum">4927</span></a>  
<a name="l4928"><span class="linenum">4928</span></a>          return {
<a name="l4929"><span class="linenum">4929</span></a>              previous: {
<a name="l4930"><span class="linenum">4930</span></a>                  x: current.x - fa * (next.x - previous.x),
<a name="l4931"><span class="linenum">4931</span></a>                  y: current.y - fa * (next.y - previous.y)
<a name="l4932"><span class="linenum">4932</span></a>              },
<a name="l4933"><span class="linenum">4933</span></a>              next: {
<a name="l4934"><span class="linenum">4934</span></a>                  x: current.x + fb * (next.x - previous.x),
<a name="l4935"><span class="linenum">4935</span></a>                  y: current.y + fb * (next.y - previous.y)
<a name="l4936"><span class="linenum">4936</span></a>              }
<a name="l4937"><span class="linenum">4937</span></a>          };
<a name="l4938"><span class="linenum">4938</span></a>      };
<a name="l4939"><span class="linenum">4939</span></a>      helpers.nextItem = function(collection, index, loop) {
<a name="l4940"><span class="linenum">4940</span></a>          if (loop) {
<a name="l4941"><span class="linenum">4941</span></a>              return index &gt;= collection.length - 1 ? collection[0] : collection[index + 1];
<a name="l4942"><span class="linenum">4942</span></a>          }
<a name="l4943"><span class="linenum">4943</span></a>  
<a name="l4944"><span class="linenum">4944</span></a>          return index &gt;= collection.length - 1 ? collection[collection.length - 1] : collection[index + 1];
<a name="l4945"><span class="linenum">4945</span></a>      };
<a name="l4946"><span class="linenum">4946</span></a>      helpers.previousItem = function(collection, index, loop) {
<a name="l4947"><span class="linenum">4947</span></a>          if (loop) {
<a name="l4948"><span class="linenum">4948</span></a>              return index &lt;= 0 ? collection[collection.length - 1] : collection[index - 1];
<a name="l4949"><span class="linenum">4949</span></a>          }
<a name="l4950"><span class="linenum">4950</span></a>          return index &lt;= 0 ? collection[0] : collection[index - 1];
<a name="l4951"><span class="linenum">4951</span></a>      };
<a name="l4952"><span class="linenum">4952</span></a>  <span class="comment">    // Implementation of the nice number algorithm used in determining where axis labels will go</span>
<a name="l4953"><span class="linenum">4953</span></a>      helpers.niceNum = function(range, round) {
<a name="l4954"><span class="linenum">4954</span></a>          var exponent = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(range));
<a name="l4955"><span class="linenum">4955</span></a>          var fraction = range / Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, exponent);
<a name="l4956"><span class="linenum">4956</span></a>          var niceFraction;
<a name="l4957"><span class="linenum">4957</span></a>  
<a name="l4958"><span class="linenum">4958</span></a>          if (round) {
<a name="l4959"><span class="linenum">4959</span></a>              if (fraction &lt; 1.5) {
<a name="l4960"><span class="linenum">4960</span></a>                  niceFraction = 1;
<a name="l4961"><span class="linenum">4961</span></a>              } else if (fraction &lt; 3) {
<a name="l4962"><span class="linenum">4962</span></a>                  niceFraction = 2;
<a name="l4963"><span class="linenum">4963</span></a>              } else if (fraction &lt; 7) {
<a name="l4964"><span class="linenum">4964</span></a>                  niceFraction = 5;
<a name="l4965"><span class="linenum">4965</span></a>              } else {
<a name="l4966"><span class="linenum">4966</span></a>                  niceFraction = 10;
<a name="l4967"><span class="linenum">4967</span></a>              }
<a name="l4968"><span class="linenum">4968</span></a>          } else {
<a name="l4969"><span class="linenum">4969</span></a>              if (fraction &lt;= 1.0) {
<a name="l4970"><span class="linenum">4970</span></a>                  niceFraction = 1;
<a name="l4971"><span class="linenum">4971</span></a>              } else if (fraction &lt;= 2) {
<a name="l4972"><span class="linenum">4972</span></a>                  niceFraction = 2;
<a name="l4973"><span class="linenum">4973</span></a>              } else if (fraction &lt;= 5) {
<a name="l4974"><span class="linenum">4974</span></a>                  niceFraction = 5;
<a name="l4975"><span class="linenum">4975</span></a>              } else {
<a name="l4976"><span class="linenum">4976</span></a>                  niceFraction = 10;
<a name="l4977"><span class="linenum">4977</span></a>              }
<a name="l4978"><span class="linenum">4978</span></a>          }
<a name="l4979"><span class="linenum">4979</span></a>  
<a name="l4980"><span class="linenum">4980</span></a>          return niceFraction * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, exponent);
<a name="l4981"><span class="linenum">4981</span></a>      };
<a name="l4982"><span class="linenum">4982</span></a>  <span class="comment">    //Easing functions adapted from Robert Penner's easing equations</span>
<a name="l4983"><span class="linenum">4983</span></a>  <span class="comment">    //http://www.robertpenner.com/easing/</span>
<a name="l4984"><span class="linenum">4984</span></a>      var easingEffects = helpers.easingEffects = {
<a name="l4985"><span class="linenum">4985</span></a>          linear: function(t) {
<a name="l4986"><span class="linenum">4986</span></a>              return t;
<a name="l4987"><span class="linenum">4987</span></a>          },
<a name="l4988"><span class="linenum">4988</span></a>          easeInQuad: function(t) {
<a name="l4989"><span class="linenum">4989</span></a>              return t * t;
<a name="l4990"><span class="linenum">4990</span></a>          },
<a name="l4991"><span class="linenum">4991</span></a>          easeOutQuad: function(t) {
<a name="l4992"><span class="linenum">4992</span></a>              return -1 * t * (t - 2);
<a name="l4993"><span class="linenum">4993</span></a>          },
<a name="l4994"><span class="linenum">4994</span></a>          easeInOutQuad: function(t) {
<a name="l4995"><span class="linenum">4995</span></a>              if ((t /= 1 / 2) &lt; 1) {
<a name="l4996"><span class="linenum">4996</span></a>                  return 1 / 2 * t * t;
<a name="l4997"><span class="linenum">4997</span></a>              }
<a name="l4998"><span class="linenum">4998</span></a>              return -1 / 2 * ((--t) * (t - 2) - 1);
<a name="l4999"><span class="linenum">4999</span></a>          },
<a name="l5000"><span class="linenum">5000</span></a>          easeInCubic: function(t) {
<a name="l5001"><span class="linenum">5001</span></a>              return t * t * t;
<a name="l5002"><span class="linenum">5002</span></a>          },
<a name="l5003"><span class="linenum">5003</span></a>          easeOutCubic: function(t) {
<a name="l5004"><span class="linenum">5004</span></a>              return 1 * ((t = t / 1 - 1) * t * t + 1);
<a name="l5005"><span class="linenum">5005</span></a>          },
<a name="l5006"><span class="linenum">5006</span></a>          easeInOutCubic: function(t) {
<a name="l5007"><span class="linenum">5007</span></a>              if ((t /= 1 / 2) &lt; 1) {
<a name="l5008"><span class="linenum">5008</span></a>                  return 1 / 2 * t * t * t;
<a name="l5009"><span class="linenum">5009</span></a>              }
<a name="l5010"><span class="linenum">5010</span></a>              return 1 / 2 * ((t -= 2) * t * t + 2);
<a name="l5011"><span class="linenum">5011</span></a>          },
<a name="l5012"><span class="linenum">5012</span></a>          easeInQuart: function(t) {
<a name="l5013"><span class="linenum">5013</span></a>              return t * t * t * t;
<a name="l5014"><span class="linenum">5014</span></a>          },
<a name="l5015"><span class="linenum">5015</span></a>          easeOutQuart: function(t) {
<a name="l5016"><span class="linenum">5016</span></a>              return -1 * ((t = t / 1 - 1) * t * t * t - 1);
<a name="l5017"><span class="linenum">5017</span></a>          },
<a name="l5018"><span class="linenum">5018</span></a>          easeInOutQuart: function(t) {
<a name="l5019"><span class="linenum">5019</span></a>              if ((t /= 1 / 2) &lt; 1) {
<a name="l5020"><span class="linenum">5020</span></a>                  return 1 / 2 * t * t * t * t;
<a name="l5021"><span class="linenum">5021</span></a>              }
<a name="l5022"><span class="linenum">5022</span></a>              return -1 / 2 * ((t -= 2) * t * t * t - 2);
<a name="l5023"><span class="linenum">5023</span></a>          },
<a name="l5024"><span class="linenum">5024</span></a>          easeInQuint: function(t) {
<a name="l5025"><span class="linenum">5025</span></a>              return 1 * (t /= 1) * t * t * t * t;
<a name="l5026"><span class="linenum">5026</span></a>          },
<a name="l5027"><span class="linenum">5027</span></a>          easeOutQuint: function(t) {
<a name="l5028"><span class="linenum">5028</span></a>              return 1 * ((t = t / 1 - 1) * t * t * t * t + 1);
<a name="l5029"><span class="linenum">5029</span></a>          },
<a name="l5030"><span class="linenum">5030</span></a>          easeInOutQuint: function(t) {
<a name="l5031"><span class="linenum">5031</span></a>              if ((t /= 1 / 2) &lt; 1) {
<a name="l5032"><span class="linenum">5032</span></a>                  return 1 / 2 * t * t * t * t * t;
<a name="l5033"><span class="linenum">5033</span></a>              }
<a name="l5034"><span class="linenum">5034</span></a>              return 1 / 2 * ((t -= 2) * t * t * t * t + 2);
<a name="l5035"><span class="linenum">5035</span></a>          },
<a name="l5036"><span class="linenum">5036</span></a>          easeInSine: function(t) {
<a name="l5037"><span class="linenum">5037</span></a>              return -1 * Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(t / 1 * (Math.PI / 2)) + 1;
<a name="l5038"><span class="linenum">5038</span></a>          },
<a name="l5039"><span class="linenum">5039</span></a>          easeOutSine: function(t) {
<a name="l5040"><span class="linenum">5040</span></a>              return 1 * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(t / 1 * (Math.PI / 2));
<a name="l5041"><span class="linenum">5041</span></a>          },
<a name="l5042"><span class="linenum">5042</span></a>          easeInOutSine: function(t) {
<a name="l5043"><span class="linenum">5043</span></a>              return -1 / 2 * (Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(Math.PI * t / 1) - 1);
<a name="l5044"><span class="linenum">5044</span></a>          },
<a name="l5045"><span class="linenum">5045</span></a>          easeInExpo: function(t) {
<a name="l5046"><span class="linenum">5046</span></a>              return (t === 0) ? 1 : 1 * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, 10 * (t / 1 - 1));
<a name="l5047"><span class="linenum">5047</span></a>          },
<a name="l5048"><span class="linenum">5048</span></a>          easeOutExpo: function(t) {
<a name="l5049"><span class="linenum">5049</span></a>              return (t === 1) ? 1 : 1 * (-Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, -10 * t / 1) + 1);
<a name="l5050"><span class="linenum">5050</span></a>          },
<a name="l5051"><span class="linenum">5051</span></a>          easeInOutExpo: function(t) {
<a name="l5052"><span class="linenum">5052</span></a>              if (t === 0) {
<a name="l5053"><span class="linenum">5053</span></a>                  return 0;
<a name="l5054"><span class="linenum">5054</span></a>              }
<a name="l5055"><span class="linenum">5055</span></a>              if (t === 1) {
<a name="l5056"><span class="linenum">5056</span></a>                  return 1;
<a name="l5057"><span class="linenum">5057</span></a>              }
<a name="l5058"><span class="linenum">5058</span></a>              if ((t /= 1 / 2) &lt; 1) {
<a name="l5059"><span class="linenum">5059</span></a>                  return 1 / 2 * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, 10 * (t - 1));
<a name="l5060"><span class="linenum">5060</span></a>              }
<a name="l5061"><span class="linenum">5061</span></a>              return 1 / 2 * (-Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, -10 * --t) + 2);
<a name="l5062"><span class="linenum">5062</span></a>          },
<a name="l5063"><span class="linenum">5063</span></a>          easeInCirc: function(t) {
<a name="l5064"><span class="linenum">5064</span></a>              if (t &gt;= 1) {
<a name="l5065"><span class="linenum">5065</span></a>                  return t;
<a name="l5066"><span class="linenum">5066</span></a>              }
<a name="l5067"><span class="linenum">5067</span></a>              return -1 * (Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(1 - (t /= 1) * t) - 1);
<a name="l5068"><span class="linenum">5068</span></a>          },
<a name="l5069"><span class="linenum">5069</span></a>          easeOutCirc: function(t) {
<a name="l5070"><span class="linenum">5070</span></a>              return 1 * Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(1 - (t = t / 1 - 1) * t);
<a name="l5071"><span class="linenum">5071</span></a>          },
<a name="l5072"><span class="linenum">5072</span></a>          easeInOutCirc: function(t) {
<a name="l5073"><span class="linenum">5073</span></a>              if ((t /= 1 / 2) &lt; 1) {
<a name="l5074"><span class="linenum">5074</span></a>                  return -1 / 2 * (Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(1 - t * t) - 1);
<a name="l5075"><span class="linenum">5075</span></a>              }
<a name="l5076"><span class="linenum">5076</span></a>              return 1 / 2 * (Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(1 - (t -= 2) * t) + 1);
<a name="l5077"><span class="linenum">5077</span></a>          },
<a name="l5078"><span class="linenum">5078</span></a>          easeInElastic: function(t) {
<a name="l5079"><span class="linenum">5079</span></a>              var s = 1.70158;
<a name="l5080"><span class="linenum">5080</span></a>              var p = 0;
<a name="l5081"><span class="linenum">5081</span></a>              var a = 1;
<a name="l5082"><span class="linenum">5082</span></a>              if (t === 0) {
<a name="l5083"><span class="linenum">5083</span></a>                  return 0;
<a name="l5084"><span class="linenum">5084</span></a>              }
<a name="l5085"><span class="linenum">5085</span></a>              if ((t /= 1) === 1) {
<a name="l5086"><span class="linenum">5086</span></a>                  return 1;
<a name="l5087"><span class="linenum">5087</span></a>              }
<a name="l5088"><span class="linenum">5088</span></a>              if (!p) {
<a name="l5089"><span class="linenum">5089</span></a>                  p = 1 * 0.3;
<a name="l5090"><span class="linenum">5090</span></a>              }
<a name="l5091"><span class="linenum">5091</span></a>              if (a &lt; Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(1)) {
<a name="l5092"><span class="linenum">5092</span></a>                  a = 1;
<a name="l5093"><span class="linenum">5093</span></a>                  s = p / 4;
<a name="l5094"><span class="linenum">5094</span></a>              } else {
<a name="l5095"><span class="linenum">5095</span></a>                  s = p / (2 * Math.PI) * Math.<a class="phpfunction" onClick="logFunction('asin')" href="../../../_functions/asin.html" onMouseOver="phpfuncPopup(event,'asin')">asin</a>(1 / a);
<a name="l5096"><span class="linenum">5096</span></a>              }
<a name="l5097"><span class="linenum">5097</span></a>              return -(a * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, 10 * (t -= 1)) * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>((t * 1 - s) * (2 * Math.PI) / p));
<a name="l5098"><span class="linenum">5098</span></a>          },
<a name="l5099"><span class="linenum">5099</span></a>          easeOutElastic: function(t) {
<a name="l5100"><span class="linenum">5100</span></a>              var s = 1.70158;
<a name="l5101"><span class="linenum">5101</span></a>              var p = 0;
<a name="l5102"><span class="linenum">5102</span></a>              var a = 1;
<a name="l5103"><span class="linenum">5103</span></a>              if (t === 0) {
<a name="l5104"><span class="linenum">5104</span></a>                  return 0;
<a name="l5105"><span class="linenum">5105</span></a>              }
<a name="l5106"><span class="linenum">5106</span></a>              if ((t /= 1) === 1) {
<a name="l5107"><span class="linenum">5107</span></a>                  return 1;
<a name="l5108"><span class="linenum">5108</span></a>              }
<a name="l5109"><span class="linenum">5109</span></a>              if (!p) {
<a name="l5110"><span class="linenum">5110</span></a>                  p = 1 * 0.3;
<a name="l5111"><span class="linenum">5111</span></a>              }
<a name="l5112"><span class="linenum">5112</span></a>              if (a &lt; Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(1)) {
<a name="l5113"><span class="linenum">5113</span></a>                  a = 1;
<a name="l5114"><span class="linenum">5114</span></a>                  s = p / 4;
<a name="l5115"><span class="linenum">5115</span></a>              } else {
<a name="l5116"><span class="linenum">5116</span></a>                  s = p / (2 * Math.PI) * Math.<a class="phpfunction" onClick="logFunction('asin')" href="../../../_functions/asin.html" onMouseOver="phpfuncPopup(event,'asin')">asin</a>(1 / a);
<a name="l5117"><span class="linenum">5117</span></a>              }
<a name="l5118"><span class="linenum">5118</span></a>              return a * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, -10 * t) * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>((t * 1 - s) * (2 * Math.PI) / p) + 1;
<a name="l5119"><span class="linenum">5119</span></a>          },
<a name="l5120"><span class="linenum">5120</span></a>          easeInOutElastic: function(t) {
<a name="l5121"><span class="linenum">5121</span></a>              var s = 1.70158;
<a name="l5122"><span class="linenum">5122</span></a>              var p = 0;
<a name="l5123"><span class="linenum">5123</span></a>              var a = 1;
<a name="l5124"><span class="linenum">5124</span></a>              if (t === 0) {
<a name="l5125"><span class="linenum">5125</span></a>                  return 0;
<a name="l5126"><span class="linenum">5126</span></a>              }
<a name="l5127"><span class="linenum">5127</span></a>              if ((t /= 1 / 2) === 2) {
<a name="l5128"><span class="linenum">5128</span></a>                  return 1;
<a name="l5129"><span class="linenum">5129</span></a>              }
<a name="l5130"><span class="linenum">5130</span></a>              if (!p) {
<a name="l5131"><span class="linenum">5131</span></a>                  p = 1 * (0.3 * 1.5);
<a name="l5132"><span class="linenum">5132</span></a>              }
<a name="l5133"><span class="linenum">5133</span></a>              if (a &lt; Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(1)) {
<a name="l5134"><span class="linenum">5134</span></a>                  a = 1;
<a name="l5135"><span class="linenum">5135</span></a>                  s = p / 4;
<a name="l5136"><span class="linenum">5136</span></a>              } else {
<a name="l5137"><span class="linenum">5137</span></a>                  s = p / (2 * Math.PI) * Math.<a class="phpfunction" onClick="logFunction('asin')" href="../../../_functions/asin.html" onMouseOver="phpfuncPopup(event,'asin')">asin</a>(1 / a);
<a name="l5138"><span class="linenum">5138</span></a>              }
<a name="l5139"><span class="linenum">5139</span></a>              if (t &lt; 1) {
<a name="l5140"><span class="linenum">5140</span></a>                  return -0.5 * (a * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, 10 * (t -= 1)) * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>((t * 1 - s) * (2 * Math.PI) / p));
<a name="l5141"><span class="linenum">5141</span></a>              }
<a name="l5142"><span class="linenum">5142</span></a>              return a * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, -10 * (t -= 1)) * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>((t * 1 - s) * (2 * Math.PI) / p) * 0.5 + 1;
<a name="l5143"><span class="linenum">5143</span></a>          },
<a name="l5144"><span class="linenum">5144</span></a>          easeInBack: function(t) {
<a name="l5145"><span class="linenum">5145</span></a>              var s = 1.70158;
<a name="l5146"><span class="linenum">5146</span></a>              return 1 * (t /= 1) * t * ((s + 1) * t - s);
<a name="l5147"><span class="linenum">5147</span></a>          },
<a name="l5148"><span class="linenum">5148</span></a>          easeOutBack: function(t) {
<a name="l5149"><span class="linenum">5149</span></a>              var s = 1.70158;
<a name="l5150"><span class="linenum">5150</span></a>              return 1 * ((t = t / 1 - 1) * t * ((s + 1) * t + s) + 1);
<a name="l5151"><span class="linenum">5151</span></a>          },
<a name="l5152"><span class="linenum">5152</span></a>          easeInOutBack: function(t) {
<a name="l5153"><span class="linenum">5153</span></a>              var s = 1.70158;
<a name="l5154"><span class="linenum">5154</span></a>              if ((t /= 1 / 2) &lt; 1) {
<a name="l5155"><span class="linenum">5155</span></a>                  return 1 / 2 * (t * t * (((s *= (1.525)) + 1) * t - s));
<a name="l5156"><span class="linenum">5156</span></a>              }
<a name="l5157"><span class="linenum">5157</span></a>              return 1 / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);
<a name="l5158"><span class="linenum">5158</span></a>          },
<a name="l5159"><span class="linenum">5159</span></a>          easeInBounce: function(t) {
<a name="l5160"><span class="linenum">5160</span></a>              return 1 - easingEffects.easeOutBounce(1 - t);
<a name="l5161"><span class="linenum">5161</span></a>          },
<a name="l5162"><span class="linenum">5162</span></a>          easeOutBounce: function(t) {
<a name="l5163"><span class="linenum">5163</span></a>              if ((t /= 1) &lt; (1 / 2.75)) {
<a name="l5164"><span class="linenum">5164</span></a>                  return 1 * (7.5625 * t * t);
<a name="l5165"><span class="linenum">5165</span></a>              } else if (t &lt; (2 / 2.75)) {
<a name="l5166"><span class="linenum">5166</span></a>                  return 1 * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75);
<a name="l5167"><span class="linenum">5167</span></a>              } else if (t &lt; (2.5 / 2.75)) {
<a name="l5168"><span class="linenum">5168</span></a>                  return 1 * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375);
<a name="l5169"><span class="linenum">5169</span></a>              } else {
<a name="l5170"><span class="linenum">5170</span></a>                  return 1 * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375);
<a name="l5171"><span class="linenum">5171</span></a>              }
<a name="l5172"><span class="linenum">5172</span></a>          },
<a name="l5173"><span class="linenum">5173</span></a>          easeInOutBounce: function(t) {
<a name="l5174"><span class="linenum">5174</span></a>              if (t &lt; 1 / 2) {
<a name="l5175"><span class="linenum">5175</span></a>                  return easingEffects.easeInBounce(t * 2) * 0.5;
<a name="l5176"><span class="linenum">5176</span></a>              }
<a name="l5177"><span class="linenum">5177</span></a>              return easingEffects.easeOutBounce(t * 2 - 1) * 0.5 + 1 * 0.5;
<a name="l5178"><span class="linenum">5178</span></a>          }
<a name="l5179"><span class="linenum">5179</span></a>      };
<a name="l5180"><span class="linenum">5180</span></a>  <span class="comment">    //Request animation polyfill - http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/</span>
<a name="l5181"><span class="linenum">5181</span></a>      helpers.requestAnimFrame = (function() {
<a name="l5182"><span class="linenum">5182</span></a>          return window.requestAnimationFrame ||
<a name="l5183"><span class="linenum">5183</span></a>              window.webkitRequestAnimationFrame ||
<a name="l5184"><span class="linenum">5184</span></a>              window.mozRequestAnimationFrame ||
<a name="l5185"><span class="linenum">5185</span></a>              window.oRequestAnimationFrame ||
<a name="l5186"><span class="linenum">5186</span></a>              window.msRequestAnimationFrame ||
<a name="l5187"><span class="linenum">5187</span></a>              function(callback) {
<a name="l5188"><span class="linenum">5188</span></a>                  return window.<a class="function" onClick="logFunction('setTimeout')" href="../../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>(callback, 1000 / 60);
<a name="l5189"><span class="linenum">5189</span></a>              };
<a name="l5190"><span class="linenum">5190</span></a>      })();
<a name="l5191"><span class="linenum">5191</span></a>      helpers.cancelAnimFrame = (function() {
<a name="l5192"><span class="linenum">5192</span></a>          return window.cancelAnimationFrame ||
<a name="l5193"><span class="linenum">5193</span></a>              window.webkitCancelAnimationFrame ||
<a name="l5194"><span class="linenum">5194</span></a>              window.mozCancelAnimationFrame ||
<a name="l5195"><span class="linenum">5195</span></a>              window.oCancelAnimationFrame ||
<a name="l5196"><span class="linenum">5196</span></a>              window.msCancelAnimationFrame ||
<a name="l5197"><span class="linenum">5197</span></a>              function(callback) {
<a name="l5198"><span class="linenum">5198</span></a>                  return window.clearTimeout(callback, 1000 / 60);
<a name="l5199"><span class="linenum">5199</span></a>              };
<a name="l5200"><span class="linenum">5200</span></a>      })();
<a name="l5201"><span class="linenum">5201</span></a>  <span class="comment">    //-- DOM methods</span>
<a name="l5202"><span class="linenum">5202</span></a>      helpers.getRelativePosition = function(evt, chart) {
<a name="l5203"><span class="linenum">5203</span></a>          var mouseX, mouseY;
<a name="l5204"><span class="linenum">5204</span></a>          var e = evt.originalEvent || evt,
<a name="l5205"><span class="linenum">5205</span></a>              canvas = evt.currentTarget || evt.srcElement,
<a name="l5206"><span class="linenum">5206</span></a>              boundingRect = canvas.getBoundingClientRect();
<a name="l5207"><span class="linenum">5207</span></a>  
<a name="l5208"><span class="linenum">5208</span></a>          var touches = e.touches;
<a name="l5209"><span class="linenum">5209</span></a>          if (touches &amp;&amp; touches.length &gt; 0) {
<a name="l5210"><span class="linenum">5210</span></a>              mouseX = touches[0].clientX;
<a name="l5211"><span class="linenum">5211</span></a>              mouseY = touches[0].clientY;
<a name="l5212"><span class="linenum">5212</span></a>  
<a name="l5213"><span class="linenum">5213</span></a>          } else {
<a name="l5214"><span class="linenum">5214</span></a>              mouseX = e.clientX;
<a name="l5215"><span class="linenum">5215</span></a>              mouseY = e.clientY;
<a name="l5216"><span class="linenum">5216</span></a>          }
<a name="l5217"><span class="linenum">5217</span></a>  
<a name="l5218"><span class="linenum">5218</span></a>  <span class="comment">        // Scale mouse coordinates into canvas coordinates</span>
<a name="l5219"><span class="linenum">5219</span></a>  <span class="comment">        // by following the pattern laid out by 'jerryj' in the comments of</span>
<a name="l5220"><span class="linenum">5220</span></a>  <span class="comment">        // http://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/</span>
<a name="l5221"><span class="linenum">5221</span></a>          var paddingLeft = parseFloat(helpers.<a class="function" onClick="logFunction('getStyle')" href="../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>(canvas, 'padding-left'));
<a name="l5222"><span class="linenum">5222</span></a>          var paddingTop = parseFloat(helpers.<a class="function" onClick="logFunction('getStyle')" href="../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>(canvas, 'padding-top'));
<a name="l5223"><span class="linenum">5223</span></a>          var paddingRight = parseFloat(helpers.<a class="function" onClick="logFunction('getStyle')" href="../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>(canvas, 'padding-right'));
<a name="l5224"><span class="linenum">5224</span></a>          var paddingBottom = parseFloat(helpers.<a class="function" onClick="logFunction('getStyle')" href="../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>(canvas, 'padding-bottom'));
<a name="l5225"><span class="linenum">5225</span></a>          var width = boundingRect.right - boundingRect.left - paddingLeft - paddingRight;
<a name="l5226"><span class="linenum">5226</span></a>          var height = boundingRect.bottom - boundingRect.top - paddingTop - paddingBottom;
<a name="l5227"><span class="linenum">5227</span></a>  
<a name="l5228"><span class="linenum">5228</span></a>  <span class="comment">        // We divide by the current device pixel ratio, because the canvas is scaled up by that amount in each direction. However</span>
<a name="l5229"><span class="linenum">5229</span></a>  <span class="comment">        // the backend model is in unscaled coordinates. Since we are going to deal with our model coordinates, we go back here</span>
<a name="l5230"><span class="linenum">5230</span></a>          mouseX = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((mouseX - boundingRect.left - paddingLeft) / (width) * canvas.width / chart.currentDevicePixelRatio);
<a name="l5231"><span class="linenum">5231</span></a>          mouseY = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((mouseY - boundingRect.top - paddingTop) / (height) * canvas.height / chart.currentDevicePixelRatio);
<a name="l5232"><span class="linenum">5232</span></a>  
<a name="l5233"><span class="linenum">5233</span></a>          return {
<a name="l5234"><span class="linenum">5234</span></a>              x: mouseX,
<a name="l5235"><span class="linenum">5235</span></a>              y: mouseY
<a name="l5236"><span class="linenum">5236</span></a>          };
<a name="l5237"><span class="linenum">5237</span></a>  
<a name="l5238"><span class="linenum">5238</span></a>      };
<a name="l5239"><span class="linenum">5239</span></a>      helpers.addEvent = function(node, eventType, method) {
<a name="l5240"><span class="linenum">5240</span></a>          if (node.addEventListener) {
<a name="l5241"><span class="linenum">5241</span></a>              node.addEventListener(eventType, method);
<a name="l5242"><span class="linenum">5242</span></a>          } else if (node.attachEvent) {
<a name="l5243"><span class="linenum">5243</span></a>              node.attachEvent(&quot;on&quot; + eventType, method);
<a name="l5244"><span class="linenum">5244</span></a>          } else {
<a name="l5245"><span class="linenum">5245</span></a>              node[&quot;on&quot; + eventType] = method;
<a name="l5246"><span class="linenum">5246</span></a>          }
<a name="l5247"><span class="linenum">5247</span></a>      };
<a name="l5248"><span class="linenum">5248</span></a>      helpers.removeEvent = function(node, eventType, handler) {
<a name="l5249"><span class="linenum">5249</span></a>          if (node.removeEventListener) {
<a name="l5250"><span class="linenum">5250</span></a>              node.removeEventListener(eventType, handler, false);
<a name="l5251"><span class="linenum">5251</span></a>          } else if (node.detachEvent) {
<a name="l5252"><span class="linenum">5252</span></a>              node.detachEvent(&quot;on&quot; + eventType, handler);
<a name="l5253"><span class="linenum">5253</span></a>          } else {
<a name="l5254"><span class="linenum">5254</span></a>              node[&quot;on&quot; + eventType] = helpers.noop;
<a name="l5255"><span class="linenum">5255</span></a>          }
<a name="l5256"><span class="linenum">5256</span></a>      };
<a name="l5257"><span class="linenum">5257</span></a>      helpers.bindEvents = function(chartInstance, arrayOfEvents, handler) {
<a name="l5258"><span class="linenum">5258</span></a>  <span class="comment">        // Create the events object if it's not already present</span>
<a name="l5259"><span class="linenum">5259</span></a>          var events = chartInstance.events = chartInstance.events || {};
<a name="l5260"><span class="linenum">5260</span></a>  
<a name="l5261"><span class="linenum">5261</span></a>          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(arrayOfEvents, function(eventName) {
<a name="l5262"><span class="linenum">5262</span></a>              events[eventName] = function() {
<a name="l5263"><span class="linenum">5263</span></a>                  handler.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(chartInstance, arguments);
<a name="l5264"><span class="linenum">5264</span></a>              };
<a name="l5265"><span class="linenum">5265</span></a>              helpers.<a class="function" onClick="logFunction('addEvent')" href="../../../_functions/addevent.html" onMouseOver="funcPopup(event,'addevent')">addEvent</a>(chartInstance.chart.canvas, eventName, events[eventName]);
<a name="l5266"><span class="linenum">5266</span></a>          });
<a name="l5267"><span class="linenum">5267</span></a>      };
<a name="l5268"><span class="linenum">5268</span></a>      helpers.unbindEvents = function(chartInstance, arrayOfEvents) {
<a name="l5269"><span class="linenum">5269</span></a>          var canvas = chartInstance.chart.canvas;
<a name="l5270"><span class="linenum">5270</span></a>          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(arrayOfEvents, function(handler, eventName) {
<a name="l5271"><span class="linenum">5271</span></a>              helpers.<a class="function" onClick="logFunction('removeEvent')" href="../../../_functions/removeevent.html" onMouseOver="funcPopup(event,'removeevent')">removeEvent</a>(canvas, eventName, handler);
<a name="l5272"><span class="linenum">5272</span></a>          });
<a name="l5273"><span class="linenum">5273</span></a>      };
<a name="l5274"><span class="linenum">5274</span></a>  
<a name="l5275"><span class="linenum">5275</span></a>  <span class="comment">    // Private helper function to convert max-width/max-height values that may be percentages into a number</span>
<a name="l5276"><span class="linenum">5276</span></a>  	function <a class="function" onClick="logFunction('parseMaxStyle')" href="../../../_functions/parsemaxstyle.html" onMouseOver="funcPopup(event,'parsemaxstyle')">parseMaxStyle</a>(styleValue, node, parentProperty) {
<a name="l5277"><span class="linenum">5277</span></a>          var valueInPixels;
<a name="l5278"><span class="linenum">5278</span></a>          if (typeof(styleValue) === 'string') {
<a name="l5279"><span class="linenum">5279</span></a>              valueInPixels = parseInt(styleValue, 10);
<a name="l5280"><span class="linenum">5280</span></a>  
<a name="l5281"><span class="linenum">5281</span></a>              if (styleValue.<a class="function" onClick="logFunction('indexOf')" href="../../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>('%') != -1) {
<a name="l5282"><span class="linenum">5282</span></a>  <span class="comment">                // percentage * size in dimension</span>
<a name="l5283"><span class="linenum">5283</span></a>                  valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];
<a name="l5284"><span class="linenum">5284</span></a>              }
<a name="l5285"><span class="linenum">5285</span></a>          } else {
<a name="l5286"><span class="linenum">5286</span></a>              valueInPixels = styleValue;
<a name="l5287"><span class="linenum">5287</span></a>          }
<a name="l5288"><span class="linenum">5288</span></a>  
<a name="l5289"><span class="linenum">5289</span></a>          return valueInPixels;
<a name="l5290"><span class="linenum">5290</span></a>      }
<a name="l5291"><span class="linenum">5291</span></a>  
<a name="l5292"><span class="linenum">5292</span></a>      <span class="comment">/**</span>
<a name="l5293"><span class="linenum">5293</span></a>  <span class="comment">     * Returns if the given value contains an effective constraint.</span>
<a name="l5294"><span class="linenum">5294</span></a>  <span class="comment">     * @private</span>
<a name="l5295"><span class="linenum">5295</span></a>  <span class="comment">     */</span>
<a name="l5296"><span class="linenum">5296</span></a>  	function <a class="function" onClick="logFunction('isConstrainedValue')" href="../../../_functions/isconstrainedvalue.html" onMouseOver="funcPopup(event,'isconstrainedvalue')">isConstrainedValue</a>(value) {
<a name="l5297"><span class="linenum">5297</span></a>          return value !== undefined &amp;&amp;  value !== null &amp;&amp; value !== 'none';
<a name="l5298"><span class="linenum">5298</span></a>      }
<a name="l5299"><span class="linenum">5299</span></a>  
<a name="l5300"><span class="linenum">5300</span></a>  <span class="comment">    // Private helper to get a constraint dimension</span>
<a name="l5301"><span class="linenum">5301</span></a>  <span class="comment">    // @param domNode : the node to check the constraint on</span>
<a name="l5302"><span class="linenum">5302</span></a>  <span class="comment">    // @param maxStyle : the style that defines the maximum for the direction we are using (maxWidth / maxHeight)</span>
<a name="l5303"><span class="linenum">5303</span></a>  <span class="comment">    // @param percentageProperty : property of parent to use when calculating width as a percentage</span>
<a name="l5304"><span class="linenum">5304</span></a>  <span class="comment">    // @see http://www.nathanaeljones.com/blog/2013/reading-max-width-cross-browser</span>
<a name="l5305"><span class="linenum">5305</span></a>  	function <a class="function" onClick="logFunction('getConstraintDimension')" href="../../../_functions/getconstraintdimension.html" onMouseOver="funcPopup(event,'getconstraintdimension')">getConstraintDimension</a>(domNode, maxStyle, percentageProperty) {
<a name="l5306"><span class="linenum">5306</span></a>          var view = document.defaultView;
<a name="l5307"><span class="linenum">5307</span></a>          var parentNode = domNode.parentNode;
<a name="l5308"><span class="linenum">5308</span></a>          var constrainedNode = view.getComputedStyle(domNode)[maxStyle];
<a name="l5309"><span class="linenum">5309</span></a>          var constrainedContainer = view.getComputedStyle(parentNode)[maxStyle];
<a name="l5310"><span class="linenum">5310</span></a>          var hasCNode = <a class="function" onClick="logFunction('isConstrainedValue')" href="../../../_functions/isconstrainedvalue.html" onMouseOver="funcPopup(event,'isconstrainedvalue')">isConstrainedValue</a>(constrainedNode);
<a name="l5311"><span class="linenum">5311</span></a>          var hasCContainer = <a class="function" onClick="logFunction('isConstrainedValue')" href="../../../_functions/isconstrainedvalue.html" onMouseOver="funcPopup(event,'isconstrainedvalue')">isConstrainedValue</a>(constrainedContainer);
<a name="l5312"><span class="linenum">5312</span></a>          var infinity = Number.POSITIVE_INFINITY;
<a name="l5313"><span class="linenum">5313</span></a>  
<a name="l5314"><span class="linenum">5314</span></a>          if (hasCNode || hasCContainer) {
<a name="l5315"><span class="linenum">5315</span></a>              return Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(
<a name="l5316"><span class="linenum">5316</span></a>                  hasCNode? <a class="function" onClick="logFunction('parseMaxStyle')" href="../../../_functions/parsemaxstyle.html" onMouseOver="funcPopup(event,'parsemaxstyle')">parseMaxStyle</a>(constrainedNode, domNode, percentageProperty) : infinity,
<a name="l5317"><span class="linenum">5317</span></a>                  hasCContainer? <a class="function" onClick="logFunction('parseMaxStyle')" href="../../../_functions/parsemaxstyle.html" onMouseOver="funcPopup(event,'parsemaxstyle')">parseMaxStyle</a>(constrainedContainer, parentNode, percentageProperty) : infinity);
<a name="l5318"><span class="linenum">5318</span></a>          }
<a name="l5319"><span class="linenum">5319</span></a>  
<a name="l5320"><span class="linenum">5320</span></a>          return 'none';
<a name="l5321"><span class="linenum">5321</span></a>      }
<a name="l5322"><span class="linenum">5322</span></a>  <span class="comment">    // returns Number or undefined if no constraint</span>
<a name="l5323"><span class="linenum">5323</span></a>      helpers.getConstraintWidth = function(domNode) {
<a name="l5324"><span class="linenum">5324</span></a>          return <a class="function" onClick="logFunction('getConstraintDimension')" href="../../../_functions/getconstraintdimension.html" onMouseOver="funcPopup(event,'getconstraintdimension')">getConstraintDimension</a>(domNode, 'max-width', 'clientWidth');
<a name="l5325"><span class="linenum">5325</span></a>      };
<a name="l5326"><span class="linenum">5326</span></a>  <span class="comment">    // returns Number or undefined if no constraint</span>
<a name="l5327"><span class="linenum">5327</span></a>      helpers.getConstraintHeight = function(domNode) {
<a name="l5328"><span class="linenum">5328</span></a>          return <a class="function" onClick="logFunction('getConstraintDimension')" href="../../../_functions/getconstraintdimension.html" onMouseOver="funcPopup(event,'getconstraintdimension')">getConstraintDimension</a>(domNode, 'max-height', 'clientHeight');
<a name="l5329"><span class="linenum">5329</span></a>      };
<a name="l5330"><span class="linenum">5330</span></a>      helpers.getMaximumWidth = function(domNode) {
<a name="l5331"><span class="linenum">5331</span></a>          var container = domNode.parentNode;
<a name="l5332"><span class="linenum">5332</span></a>          var padding = parseInt(helpers.<a class="function" onClick="logFunction('getStyle')" href="../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>(container, 'padding-left')) + parseInt(helpers.<a class="function" onClick="logFunction('getStyle')" href="../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>(container, 'padding-right'));
<a name="l5333"><span class="linenum">5333</span></a>          var w = container.clientWidth - padding;
<a name="l5334"><span class="linenum">5334</span></a>          var cw = helpers.getConstraintWidth(domNode);
<a name="l5335"><span class="linenum">5335</span></a>          return isNaN(cw)? w : Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(w, cw);
<a name="l5336"><span class="linenum">5336</span></a>      };
<a name="l5337"><span class="linenum">5337</span></a>      helpers.getMaximumHeight = function(domNode) {
<a name="l5338"><span class="linenum">5338</span></a>          var container = domNode.parentNode;
<a name="l5339"><span class="linenum">5339</span></a>          var padding = parseInt(helpers.<a class="function" onClick="logFunction('getStyle')" href="../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>(container, 'padding-top')) + parseInt(helpers.<a class="function" onClick="logFunction('getStyle')" href="../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>(container, 'padding-bottom'));
<a name="l5340"><span class="linenum">5340</span></a>          var h = container.clientHeight - padding;
<a name="l5341"><span class="linenum">5341</span></a>          var ch = helpers.getConstraintHeight(domNode);
<a name="l5342"><span class="linenum">5342</span></a>          return isNaN(ch)? h : Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(h, ch);
<a name="l5343"><span class="linenum">5343</span></a>      };
<a name="l5344"><span class="linenum">5344</span></a>      helpers.getStyle = function(el, property) {
<a name="l5345"><span class="linenum">5345</span></a>          return el.currentStyle ?
<a name="l5346"><span class="linenum">5346</span></a>              el.currentStyle[property] :
<a name="l5347"><span class="linenum">5347</span></a>              document.defaultView.getComputedStyle(el, null).getPropertyValue(property);
<a name="l5348"><span class="linenum">5348</span></a>      };
<a name="l5349"><span class="linenum">5349</span></a>      helpers.retinaScale = function(chart) {
<a name="l5350"><span class="linenum">5350</span></a>          var ctx = chart.ctx;
<a name="l5351"><span class="linenum">5351</span></a>          var canvas = chart.canvas;
<a name="l5352"><span class="linenum">5352</span></a>          var width = canvas.width;
<a name="l5353"><span class="linenum">5353</span></a>          var height = canvas.height;
<a name="l5354"><span class="linenum">5354</span></a>          var pixelRatio = chart.currentDevicePixelRatio = window.devicePixelRatio || 1;
<a name="l5355"><span class="linenum">5355</span></a>  
<a name="l5356"><span class="linenum">5356</span></a>          if (pixelRatio !== 1) {
<a name="l5357"><span class="linenum">5357</span></a>              canvas.height = height * pixelRatio;
<a name="l5358"><span class="linenum">5358</span></a>              canvas.width = width * pixelRatio;
<a name="l5359"><span class="linenum">5359</span></a>              ctx.<a class="function" onClick="logFunction('scale')" href="../../../_functions/scale.html" onMouseOver="funcPopup(event,'scale')">scale</a>(pixelRatio, pixelRatio);
<a name="l5360"><span class="linenum">5360</span></a>  
<a name="l5361"><span class="linenum">5361</span></a>  <span class="comment">            // Store the device pixel ratio so that we can go backwards in `destroy`.</span>
<a name="l5362"><span class="linenum">5362</span></a>  <span class="comment">            // The devicePixelRatio changes with zoom, so there are no guarantees that it is the same</span>
<a name="l5363"><span class="linenum">5363</span></a>  <span class="comment">            // when destroy is called</span>
<a name="l5364"><span class="linenum">5364</span></a>              chart.originalDevicePixelRatio = chart.originalDevicePixelRatio || pixelRatio;
<a name="l5365"><span class="linenum">5365</span></a>          }
<a name="l5366"><span class="linenum">5366</span></a>  
<a name="l5367"><span class="linenum">5367</span></a>          canvas.style.width = width + 'px';
<a name="l5368"><span class="linenum">5368</span></a>          canvas.style.height = height + 'px';
<a name="l5369"><span class="linenum">5369</span></a>      };
<a name="l5370"><span class="linenum">5370</span></a>  <span class="comment">    //-- Canvas methods</span>
<a name="l5371"><span class="linenum">5371</span></a>      helpers.clear = function(chart) {
<a name="l5372"><span class="linenum">5372</span></a>          chart.ctx.clearRect(0, 0, chart.width, chart.height);
<a name="l5373"><span class="linenum">5373</span></a>      };
<a name="l5374"><span class="linenum">5374</span></a>      helpers.fontString = function(pixelSize, fontStyle, fontFamily) {
<a name="l5375"><span class="linenum">5375</span></a>          return fontStyle + &quot; &quot; + pixelSize + &quot;px &quot; + fontFamily;
<a name="l5376"><span class="linenum">5376</span></a>      };
<a name="l5377"><span class="linenum">5377</span></a>      helpers.longestText = function(ctx, font, arrayOfThings, cache) {
<a name="l5378"><span class="linenum">5378</span></a>          cache = cache || {};
<a name="l5379"><span class="linenum">5379</span></a>          var data = cache.data = cache.data || {};
<a name="l5380"><span class="linenum">5380</span></a>          var gc = cache.garbageCollect = cache.garbageCollect || [];
<a name="l5381"><span class="linenum">5381</span></a>  
<a name="l5382"><span class="linenum">5382</span></a>          if (cache.font !== font) {
<a name="l5383"><span class="linenum">5383</span></a>              data = cache.data = {};
<a name="l5384"><span class="linenum">5384</span></a>              gc = cache.garbageCollect = [];
<a name="l5385"><span class="linenum">5385</span></a>              cache.font = font;
<a name="l5386"><span class="linenum">5386</span></a>          }
<a name="l5387"><span class="linenum">5387</span></a>  
<a name="l5388"><span class="linenum">5388</span></a>          ctx.font = font;
<a name="l5389"><span class="linenum">5389</span></a>          var longest = 0;
<a name="l5390"><span class="linenum">5390</span></a>          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(arrayOfThings, function(thing) {
<a name="l5391"><span class="linenum">5391</span></a>  <span class="comment">            // Undefined strings and arrays should not be measured</span>
<a name="l5392"><span class="linenum">5392</span></a>              if (thing !== undefined &amp;&amp; thing !== null &amp;&amp; helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(thing) !== true) {
<a name="l5393"><span class="linenum">5393</span></a>                  longest = helpers.measureText(ctx, data, gc, longest, thing);
<a name="l5394"><span class="linenum">5394</span></a>              } else if (helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(thing)) {
<a name="l5395"><span class="linenum">5395</span></a>  <span class="comment">                // if it is an array lets measure each element</span>
<a name="l5396"><span class="linenum">5396</span></a>  <span class="comment">                // to do maybe simplify this function a bit so we can do this more recursively?</span>
<a name="l5397"><span class="linenum">5397</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(thing, function(nestedThing) {
<a name="l5398"><span class="linenum">5398</span></a>  <span class="comment">                    // Undefined strings and arrays should not be measured</span>
<a name="l5399"><span class="linenum">5399</span></a>                      if (nestedThing !== undefined &amp;&amp; nestedThing !== null &amp;&amp; !helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(nestedThing)) {
<a name="l5400"><span class="linenum">5400</span></a>                          longest = helpers.measureText(ctx, data, gc, longest, nestedThing);
<a name="l5401"><span class="linenum">5401</span></a>                      }
<a name="l5402"><span class="linenum">5402</span></a>                  });
<a name="l5403"><span class="linenum">5403</span></a>              }
<a name="l5404"><span class="linenum">5404</span></a>          });
<a name="l5405"><span class="linenum">5405</span></a>  
<a name="l5406"><span class="linenum">5406</span></a>          var gcLen = gc.length / 2;
<a name="l5407"><span class="linenum">5407</span></a>          if (gcLen &gt; arrayOfThings.length) {
<a name="l5408"><span class="linenum">5408</span></a>              for (var i = 0; i &lt; gcLen; i++) {
<a name="l5409"><span class="linenum">5409</span></a>                  delete data[gc[i]];
<a name="l5410"><span class="linenum">5410</span></a>              }
<a name="l5411"><span class="linenum">5411</span></a>              gc.<a class="function" onClick="logFunction('splice')" href="../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(0, gcLen);
<a name="l5412"><span class="linenum">5412</span></a>          }
<a name="l5413"><span class="linenum">5413</span></a>          return longest;
<a name="l5414"><span class="linenum">5414</span></a>      };
<a name="l5415"><span class="linenum">5415</span></a>      helpers.measureText = function (ctx, data, gc, longest, string) {
<a name="l5416"><span class="linenum">5416</span></a>          var textWidth = data[string];
<a name="l5417"><span class="linenum">5417</span></a>          if (!textWidth) {
<a name="l5418"><span class="linenum">5418</span></a>              textWidth = data[string] = ctx.measureText(string).width;
<a name="l5419"><span class="linenum">5419</span></a>              gc.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(string);
<a name="l5420"><span class="linenum">5420</span></a>          }
<a name="l5421"><span class="linenum">5421</span></a>          if (textWidth &gt; longest) {
<a name="l5422"><span class="linenum">5422</span></a>              longest = textWidth;
<a name="l5423"><span class="linenum">5423</span></a>          }
<a name="l5424"><span class="linenum">5424</span></a>          return longest;
<a name="l5425"><span class="linenum">5425</span></a>      };
<a name="l5426"><span class="linenum">5426</span></a>      helpers.numberOfLabelLines = function(arrayOfThings) {
<a name="l5427"><span class="linenum">5427</span></a>          var numberOfLines = 1;
<a name="l5428"><span class="linenum">5428</span></a>          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(arrayOfThings, function(thing) {
<a name="l5429"><span class="linenum">5429</span></a>              if (helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(thing)) {
<a name="l5430"><span class="linenum">5430</span></a>                  if (thing.length &gt; numberOfLines) {
<a name="l5431"><span class="linenum">5431</span></a>                      numberOfLines = thing.length;
<a name="l5432"><span class="linenum">5432</span></a>                  }
<a name="l5433"><span class="linenum">5433</span></a>              }
<a name="l5434"><span class="linenum">5434</span></a>          });
<a name="l5435"><span class="linenum">5435</span></a>          return numberOfLines;
<a name="l5436"><span class="linenum">5436</span></a>      };
<a name="l5437"><span class="linenum">5437</span></a>      helpers.drawRoundedRectangle = function(ctx, x, y, width, height, radius) {
<a name="l5438"><span class="linenum">5438</span></a>          ctx.beginPath();
<a name="l5439"><span class="linenum">5439</span></a>          ctx.moveTo(x + radius, y);
<a name="l5440"><span class="linenum">5440</span></a>          ctx.lineTo(x + width - radius, y);
<a name="l5441"><span class="linenum">5441</span></a>          ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
<a name="l5442"><span class="linenum">5442</span></a>          ctx.lineTo(x + width, y + height - radius);
<a name="l5443"><span class="linenum">5443</span></a>          ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
<a name="l5444"><span class="linenum">5444</span></a>          ctx.lineTo(x + radius, y + height);
<a name="l5445"><span class="linenum">5445</span></a>          ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
<a name="l5446"><span class="linenum">5446</span></a>          ctx.lineTo(x, y + radius);
<a name="l5447"><span class="linenum">5447</span></a>          ctx.quadraticCurveTo(x, y, x + radius, y);
<a name="l5448"><span class="linenum">5448</span></a>          ctx.closePath();
<a name="l5449"><span class="linenum">5449</span></a>      };
<a name="l5450"><span class="linenum">5450</span></a>      helpers.color = function(c) {
<a name="l5451"><span class="linenum">5451</span></a>          if (!color) {
<a name="l5452"><span class="linenum">5452</span></a>              console.<a class="phpfunction" onClick="logFunction('log')" href="../../../_functions/log.html" onMouseOver="phpfuncPopup(event,'log')">log</a>('Color.js not found!');
<a name="l5453"><span class="linenum">5453</span></a>              return c;
<a name="l5454"><span class="linenum">5454</span></a>          }
<a name="l5455"><span class="linenum">5455</span></a>  
<a name="l5456"><span class="linenum">5456</span></a>  <span class="comment">        /* global CanvasGradient */</span>
<a name="l5457"><span class="linenum">5457</span></a>          if (c instanceof CanvasGradient) {
<a name="l5458"><span class="linenum">5458</span></a>              return <a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(Chart.defaults.global.defaultColor);
<a name="l5459"><span class="linenum">5459</span></a>          }
<a name="l5460"><span class="linenum">5460</span></a>  
<a name="l5461"><span class="linenum">5461</span></a>          return <a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(c);
<a name="l5462"><span class="linenum">5462</span></a>      };
<a name="l5463"><span class="linenum">5463</span></a>      helpers.addResizeListener = function(node, callback) {
<a name="l5464"><span class="linenum">5464</span></a>  <span class="comment">        // Hide an iframe before the node</span>
<a name="l5465"><span class="linenum">5465</span></a>          var hiddenIframe = document.<a class="function" onClick="logFunction('createElement')" href="../../../_functions/createelement.html" onMouseOver="funcPopup(event,'createelement')">createElement</a>('iframe');
<a name="l5466"><span class="linenum">5466</span></a>          var hiddenIframeClass = 'chartjs-hidden-iframe';
<a name="l5467"><span class="linenum">5467</span></a>  
<a name="l5468"><span class="linenum">5468</span></a>          if (hiddenIframe.classlist) {
<a name="l5469"><span class="linenum">5469</span></a>  <span class="comment">            // can use classlist</span>
<a name="l5470"><span class="linenum">5470</span></a>              hiddenIframe.classlist.<a class="function" onClick="logFunction('add')" href="../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(hiddenIframeClass);
<a name="l5471"><span class="linenum">5471</span></a>          } else {
<a name="l5472"><span class="linenum">5472</span></a>              hiddenIframe.<a class="function" onClick="logFunction('setAttribute')" href="../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('class', hiddenIframeClass);
<a name="l5473"><span class="linenum">5473</span></a>          }
<a name="l5474"><span class="linenum">5474</span></a>  
<a name="l5475"><span class="linenum">5475</span></a>  <span class="comment">        // Set the style</span>
<a name="l5476"><span class="linenum">5476</span></a>          var style = hiddenIframe.style;
<a name="l5477"><span class="linenum">5477</span></a>          style.width = '100%';
<a name="l5478"><span class="linenum">5478</span></a>          style.display = 'block';
<a name="l5479"><span class="linenum">5479</span></a>          style.border = 0;
<a name="l5480"><span class="linenum">5480</span></a>          style.height = 0;
<a name="l5481"><span class="linenum">5481</span></a>          style.margin = 0;
<a name="l5482"><span class="linenum">5482</span></a>          style.position = 'absolute';
<a name="l5483"><span class="linenum">5483</span></a>          style.left = 0;
<a name="l5484"><span class="linenum">5484</span></a>          style.right = 0;
<a name="l5485"><span class="linenum">5485</span></a>          style.top = 0;
<a name="l5486"><span class="linenum">5486</span></a>          style.bottom = 0;
<a name="l5487"><span class="linenum">5487</span></a>  
<a name="l5488"><span class="linenum">5488</span></a>  <span class="comment">        // Insert the iframe so that contentWindow is available</span>
<a name="l5489"><span class="linenum">5489</span></a>          node.<a class="function" onClick="logFunction('insertBefore')" href="../../../_functions/insertbefore.html" onMouseOver="funcPopup(event,'insertbefore')">insertBefore</a>(hiddenIframe, node.firstChild);
<a name="l5490"><span class="linenum">5490</span></a>  
<a name="l5491"><span class="linenum">5491</span></a>          (hiddenIframe.contentWindow || hiddenIframe).onresize = function() {
<a name="l5492"><span class="linenum">5492</span></a>              if (callback) {
<a name="l5493"><span class="linenum">5493</span></a>                  <a class="function" onClick="logFunction('callback')" href="../../../_functions/callback.html" onMouseOver="funcPopup(event,'callback')">callback</a>();
<a name="l5494"><span class="linenum">5494</span></a>              }
<a name="l5495"><span class="linenum">5495</span></a>          };
<a name="l5496"><span class="linenum">5496</span></a>      };
<a name="l5497"><span class="linenum">5497</span></a>      helpers.removeResizeListener = function(node) {
<a name="l5498"><span class="linenum">5498</span></a>          var hiddenIframe = node.querySelector('.chartjs-hidden-iframe');
<a name="l5499"><span class="linenum">5499</span></a>  
<a name="l5500"><span class="linenum">5500</span></a>  <span class="comment">        // Remove the resize detect iframe</span>
<a name="l5501"><span class="linenum">5501</span></a>          if (hiddenIframe) {
<a name="l5502"><span class="linenum">5502</span></a>              hiddenIframe.parentNode.<a class="function" onClick="logFunction('removeChild')" href="../../../_functions/removechild.html" onMouseOver="funcPopup(event,'removechild')">removeChild</a>(hiddenIframe);
<a name="l5503"><span class="linenum">5503</span></a>          }
<a name="l5504"><span class="linenum">5504</span></a>      };
<a name="l5505"><span class="linenum">5505</span></a>      helpers.isArray = Array.isArray?
<a name="l5506"><span class="linenum">5506</span></a>          function(obj) { return Array.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(obj); } :
<a name="l5507"><span class="linenum">5507</span></a>          function(obj) {
<a name="l5508"><span class="linenum">5508</span></a>              return Object.prototype.toString.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(obj) === '[object Array]';
<a name="l5509"><span class="linenum">5509</span></a>          };
<a name="l5510"><span class="linenum">5510</span></a>  <span class="comment">    //! @see http://stackoverflow.com/a/14853974</span>
<a name="l5511"><span class="linenum">5511</span></a>      helpers.arrayEquals = function(a0, a1) {
<a name="l5512"><span class="linenum">5512</span></a>          var i, ilen, v0, v1;
<a name="l5513"><span class="linenum">5513</span></a>  
<a name="l5514"><span class="linenum">5514</span></a>          if (!a0 || !a1 || a0.length != a1.length) {
<a name="l5515"><span class="linenum">5515</span></a>              return false;
<a name="l5516"><span class="linenum">5516</span></a>          }
<a name="l5517"><span class="linenum">5517</span></a>  
<a name="l5518"><span class="linenum">5518</span></a>          for (i = 0, ilen=a0.length; i &lt; ilen; ++i) {
<a name="l5519"><span class="linenum">5519</span></a>              v0 = a0[i];
<a name="l5520"><span class="linenum">5520</span></a>              v1 = a1[i];
<a name="l5521"><span class="linenum">5521</span></a>  
<a name="l5522"><span class="linenum">5522</span></a>              if (v0 instanceof Array &amp;&amp; v1 instanceof Array) {
<a name="l5523"><span class="linenum">5523</span></a>                  if (!helpers.arrayEquals(v0, v1)) {
<a name="l5524"><span class="linenum">5524</span></a>                      return false;
<a name="l5525"><span class="linenum">5525</span></a>                  }
<a name="l5526"><span class="linenum">5526</span></a>              } else if (v0 != v1) {
<a name="l5527"><span class="linenum">5527</span></a>  <span class="comment">                // NOTE: two different object instances will never be equal: {x:20} != {x:20}</span>
<a name="l5528"><span class="linenum">5528</span></a>                  return false;
<a name="l5529"><span class="linenum">5529</span></a>              }
<a name="l5530"><span class="linenum">5530</span></a>          }
<a name="l5531"><span class="linenum">5531</span></a>  
<a name="l5532"><span class="linenum">5532</span></a>          return true;
<a name="l5533"><span class="linenum">5533</span></a>      };
<a name="l5534"><span class="linenum">5534</span></a>      helpers.callCallback = function(fn, args, _tArg) {
<a name="l5535"><span class="linenum">5535</span></a>          if (fn &amp;&amp; typeof fn.call === 'function') {
<a name="l5536"><span class="linenum">5536</span></a>              fn.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(_tArg, args);
<a name="l5537"><span class="linenum">5537</span></a>          }
<a name="l5538"><span class="linenum">5538</span></a>      };
<a name="l5539"><span class="linenum">5539</span></a>      helpers.getHoverColor = function(color) {
<a name="l5540"><span class="linenum">5540</span></a>  <span class="comment">        /* global CanvasPattern */</span>
<a name="l5541"><span class="linenum">5541</span></a>          return (color instanceof CanvasPattern) ?
<a name="l5542"><span class="linenum">5542</span></a>              color :
<a name="l5543"><span class="linenum">5543</span></a>              helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(color).<a class="function" onClick="logFunction('saturate')" href="../../../_functions/saturate.html" onMouseOver="funcPopup(event,'saturate')">saturate</a>(0.5).<a class="function" onClick="logFunction('darken')" href="../../../_functions/darken.html" onMouseOver="funcPopup(event,'darken')">darken</a>(0.1).<a class="function" onClick="logFunction('rgbString')" href="../../../_functions/rgbstring.html" onMouseOver="funcPopup(event,'rgbstring')">rgbString</a>();
<a name="l5544"><span class="linenum">5544</span></a>      };
<a name="l5545"><span class="linenum">5545</span></a>  };
<a name="l5546"><span class="linenum">5546</span></a>  
<a name="l5547"><span class="linenum">5547</span></a>  },{&quot;3&quot;:3}],26:[function(require,module,exports){
<a name="l5548"><span class="linenum">5548</span></a>  &quot;use strict&quot;;
<a name="l5549"><span class="linenum">5549</span></a>  
<a name="l5550"><span class="linenum">5550</span></a>  module.exports = function() {
<a name="l5551"><span class="linenum">5551</span></a>  
<a name="l5552"><span class="linenum">5552</span></a>  <span class="comment">    //Occupy the global variable of Chart, and create a simple base class</span>
<a name="l5553"><span class="linenum">5553</span></a>      var Chart = function(context, config) {
<a name="l5554"><span class="linenum">5554</span></a>          var me = this;
<a name="l5555"><span class="linenum">5555</span></a>          var helpers = Chart.helpers;
<a name="l5556"><span class="linenum">5556</span></a>          me.config = config;
<a name="l5557"><span class="linenum">5557</span></a>  
<a name="l5558"><span class="linenum">5558</span></a>  <span class="comment">        // Support a jQuery'd canvas element</span>
<a name="l5559"><span class="linenum">5559</span></a>          if (context.length &amp;&amp; context[0].getContext) {
<a name="l5560"><span class="linenum">5560</span></a>              context = context[0];
<a name="l5561"><span class="linenum">5561</span></a>          }
<a name="l5562"><span class="linenum">5562</span></a>  
<a name="l5563"><span class="linenum">5563</span></a>  <span class="comment">        // Support a canvas domnode</span>
<a name="l5564"><span class="linenum">5564</span></a>          if (context.getContext) {
<a name="l5565"><span class="linenum">5565</span></a>              context = context.<a class="function" onClick="logFunction('getContext')" href="../../../_functions/getcontext.html" onMouseOver="funcPopup(event,'getcontext')">getContext</a>(&quot;2d&quot;);
<a name="l5566"><span class="linenum">5566</span></a>          }
<a name="l5567"><span class="linenum">5567</span></a>  
<a name="l5568"><span class="linenum">5568</span></a>          me.ctx = context;
<a name="l5569"><span class="linenum">5569</span></a>          me.canvas = context.canvas;
<a name="l5570"><span class="linenum">5570</span></a>  
<a name="l5571"><span class="linenum">5571</span></a>          context.canvas.style.display = context.canvas.style.display || 'block';
<a name="l5572"><span class="linenum">5572</span></a>  
<a name="l5573"><span class="linenum">5573</span></a>  <span class="comment">        // Figure out what the size of the chart will be.</span>
<a name="l5574"><span class="linenum">5574</span></a>  <span class="comment">        // If the canvas has a specified width and height, we use those else</span>
<a name="l5575"><span class="linenum">5575</span></a>  <span class="comment">        // we look to see if the canvas node has a CSS width and height.</span>
<a name="l5576"><span class="linenum">5576</span></a>  <span class="comment">        // If there is still no height, fill the parent container</span>
<a name="l5577"><span class="linenum">5577</span></a>          me.width = context.canvas.width || parseInt(helpers.<a class="function" onClick="logFunction('getStyle')" href="../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>(context.canvas, 'width'), 10) || helpers.getMaximumWidth(context.canvas);
<a name="l5578"><span class="linenum">5578</span></a>          me.height = context.canvas.height || parseInt(helpers.<a class="function" onClick="logFunction('getStyle')" href="../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>(context.canvas, 'height'), 10) || helpers.getMaximumHeight(context.canvas);
<a name="l5579"><span class="linenum">5579</span></a>  
<a name="l5580"><span class="linenum">5580</span></a>          me.aspectRatio = me.width / me.height;
<a name="l5581"><span class="linenum">5581</span></a>  
<a name="l5582"><span class="linenum">5582</span></a>          if (isNaN(me.aspectRatio) || isFinite(me.aspectRatio) === false) {
<a name="l5583"><span class="linenum">5583</span></a>  <span class="comment">            // If the canvas has no size, try and figure out what the aspect ratio will be.</span>
<a name="l5584"><span class="linenum">5584</span></a>  <span class="comment">            // Some charts prefer square canvases (pie, radar, etc). If that is specified, use that</span>
<a name="l5585"><span class="linenum">5585</span></a>  <span class="comment">            // else use the canvas default ratio of 2</span>
<a name="l5586"><span class="linenum">5586</span></a>              me.aspectRatio = config.aspectRatio !== undefined ? config.aspectRatio : 2;
<a name="l5587"><span class="linenum">5587</span></a>          }
<a name="l5588"><span class="linenum">5588</span></a>  
<a name="l5589"><span class="linenum">5589</span></a>  <span class="comment">        // Store the original style of the element so we can set it back</span>
<a name="l5590"><span class="linenum">5590</span></a>          me.originalCanvasStyleWidth = context.canvas.style.width;
<a name="l5591"><span class="linenum">5591</span></a>          me.originalCanvasStyleHeight = context.canvas.style.height;
<a name="l5592"><span class="linenum">5592</span></a>  
<a name="l5593"><span class="linenum">5593</span></a>  <span class="comment">        // High pixel density displays - multiply the size of the canvas height/width by the device pixel ratio, then scale.</span>
<a name="l5594"><span class="linenum">5594</span></a>          helpers.retinaScale(me);
<a name="l5595"><span class="linenum">5595</span></a>  
<a name="l5596"><span class="linenum">5596</span></a>          if (config) {
<a name="l5597"><span class="linenum">5597</span></a>              me.controller = new Chart.<a class="function" onClick="logFunction('Controller')" href="../../../_functions/controller.html" onMouseOver="funcPopup(event,'controller')">Controller</a>(me);
<a name="l5598"><span class="linenum">5598</span></a>          }
<a name="l5599"><span class="linenum">5599</span></a>  
<a name="l5600"><span class="linenum">5600</span></a>  <span class="comment">        // Always bind this so that if the responsive state changes we still work</span>
<a name="l5601"><span class="linenum">5601</span></a>          helpers.addResizeListener(context.canvas.parentNode, function() {
<a name="l5602"><span class="linenum">5602</span></a>              if (me.controller &amp;&amp; me.controller.config.options.responsive) {
<a name="l5603"><span class="linenum">5603</span></a>                  me.controller.<a class="function" onClick="logFunction('resize')" href="../../../_functions/resize.html" onMouseOver="funcPopup(event,'resize')">resize</a>();
<a name="l5604"><span class="linenum">5604</span></a>              }
<a name="l5605"><span class="linenum">5605</span></a>          });
<a name="l5606"><span class="linenum">5606</span></a>  
<a name="l5607"><span class="linenum">5607</span></a>          return me.controller ? me.controller : me;
<a name="l5608"><span class="linenum">5608</span></a>  
<a name="l5609"><span class="linenum">5609</span></a>      };
<a name="l5610"><span class="linenum">5610</span></a>  
<a name="l5611"><span class="linenum">5611</span></a>  <span class="comment">    //Globally expose the defaults to allow for user updating/changing</span>
<a name="l5612"><span class="linenum">5612</span></a>      Chart.defaults = {
<a name="l5613"><span class="linenum">5613</span></a>          global: {
<a name="l5614"><span class="linenum">5614</span></a>              responsive: true,
<a name="l5615"><span class="linenum">5615</span></a>              responsiveAnimationDuration: 0,
<a name="l5616"><span class="linenum">5616</span></a>              maintainAspectRatio: true,
<a name="l5617"><span class="linenum">5617</span></a>              events: [&quot;mousemove&quot;, &quot;mouseout&quot;, &quot;click&quot;, &quot;touchstart&quot;, &quot;touchmove&quot;],
<a name="l5618"><span class="linenum">5618</span></a>              hover: {
<a name="l5619"><span class="linenum">5619</span></a>                  onHover: null,
<a name="l5620"><span class="linenum">5620</span></a>                  mode: 'single',
<a name="l5621"><span class="linenum">5621</span></a>                  animationDuration: 400
<a name="l5622"><span class="linenum">5622</span></a>              },
<a name="l5623"><span class="linenum">5623</span></a>              onClick: null,
<a name="l5624"><span class="linenum">5624</span></a>              defaultColor: '<a class="function" onClick="logFunction('rgba')" href="../../../_functions/rgba.html" onMouseOver="funcPopup(event,'rgba')">rgba</a>(0,0,0,0.1)',
<a name="l5625"><span class="linenum">5625</span></a>              defaultFontColor: '#666',
<a name="l5626"><span class="linenum">5626</span></a>              defaultFontFamily: &quot;'Helvetica Neue', 'Helvetica', 'Arial', sans-serif&quot;,
<a name="l5627"><span class="linenum">5627</span></a>              defaultFontSize: 12,
<a name="l5628"><span class="linenum">5628</span></a>              defaultFontStyle: 'normal',
<a name="l5629"><span class="linenum">5629</span></a>              showLines: true,
<a name="l5630"><span class="linenum">5630</span></a>  
<a name="l5631"><span class="linenum">5631</span></a>  <span class="comment">            // Element defaults defined in element extensions</span>
<a name="l5632"><span class="linenum">5632</span></a>              elements: {},
<a name="l5633"><span class="linenum">5633</span></a>  
<a name="l5634"><span class="linenum">5634</span></a>  <span class="comment">            // Legend callback string</span>
<a name="l5635"><span class="linenum">5635</span></a>              legendCallback: function(chart) {
<a name="l5636"><span class="linenum">5636</span></a>                  var text = [];
<a name="l5637"><span class="linenum">5637</span></a>                  text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;ul class=&quot;' + chart.id + '-legend&quot;&gt;');
<a name="l5638"><span class="linenum">5638</span></a>                  for (var i = 0; i &lt; chart.data.datasets.length; i++) {
<a name="l5639"><span class="linenum">5639</span></a>                      text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;li&gt;&lt;span style=&quot;background-color:' + chart.data.datasets[i].backgroundColor + '&quot;&gt;&lt;/span&gt;');
<a name="l5640"><span class="linenum">5640</span></a>                      if (chart.data.datasets[i].label) {
<a name="l5641"><span class="linenum">5641</span></a>                          text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(chart.data.datasets[i].label);
<a name="l5642"><span class="linenum">5642</span></a>                      }
<a name="l5643"><span class="linenum">5643</span></a>                      text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;/li&gt;');
<a name="l5644"><span class="linenum">5644</span></a>                  }
<a name="l5645"><span class="linenum">5645</span></a>                  text.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('&lt;/ul&gt;');
<a name="l5646"><span class="linenum">5646</span></a>  
<a name="l5647"><span class="linenum">5647</span></a>                  return text.<a class="function" onClick="logFunction('join')" href="../../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(&quot;&quot;);
<a name="l5648"><span class="linenum">5648</span></a>              }
<a name="l5649"><span class="linenum">5649</span></a>          }
<a name="l5650"><span class="linenum">5650</span></a>      };
<a name="l5651"><span class="linenum">5651</span></a>  
<a name="l5652"><span class="linenum">5652</span></a>      Chart.Chart = Chart;
<a name="l5653"><span class="linenum">5653</span></a>  
<a name="l5654"><span class="linenum">5654</span></a>      return Chart;
<a name="l5655"><span class="linenum">5655</span></a>  
<a name="l5656"><span class="linenum">5656</span></a>  };
<a name="l5657"><span class="linenum">5657</span></a>  
<a name="l5658"><span class="linenum">5658</span></a>  },{}],27:[function(require,module,exports){
<a name="l5659"><span class="linenum">5659</span></a>  &quot;use strict&quot;;
<a name="l5660"><span class="linenum">5660</span></a>  
<a name="l5661"><span class="linenum">5661</span></a>  module.exports = function(Chart) {
<a name="l5662"><span class="linenum">5662</span></a>  
<a name="l5663"><span class="linenum">5663</span></a>      var helpers = Chart.helpers;
<a name="l5664"><span class="linenum">5664</span></a>  
<a name="l5665"><span class="linenum">5665</span></a>  <span class="comment">    // The layout service is very self explanatory.  It's responsible for the layout within a chart.</span>
<a name="l5666"><span class="linenum">5666</span></a>  <span class="comment">    // Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need</span>
<a name="l5667"><span class="linenum">5667</span></a>  <span class="comment">    // It is this service's responsibility of carrying out that layout.</span>
<a name="l5668"><span class="linenum">5668</span></a>      Chart.layoutService = {
<a name="l5669"><span class="linenum">5669</span></a>          defaults: {},
<a name="l5670"><span class="linenum">5670</span></a>  
<a name="l5671"><span class="linenum">5671</span></a>  <span class="comment">        // Register a box to a chartInstance. A box is simply a reference to an object that requires layout. eg. Scales, Legend, Plugins.</span>
<a name="l5672"><span class="linenum">5672</span></a>          addBox: function(chartInstance, box) {
<a name="l5673"><span class="linenum">5673</span></a>              if (!chartInstance.boxes) {
<a name="l5674"><span class="linenum">5674</span></a>                  chartInstance.boxes = [];
<a name="l5675"><span class="linenum">5675</span></a>              }
<a name="l5676"><span class="linenum">5676</span></a>              chartInstance.boxes.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(box);
<a name="l5677"><span class="linenum">5677</span></a>          },
<a name="l5678"><span class="linenum">5678</span></a>  
<a name="l5679"><span class="linenum">5679</span></a>          removeBox: function(chartInstance, box) {
<a name="l5680"><span class="linenum">5680</span></a>              if (!chartInstance.boxes) {
<a name="l5681"><span class="linenum">5681</span></a>                  return;
<a name="l5682"><span class="linenum">5682</span></a>              }
<a name="l5683"><span class="linenum">5683</span></a>              chartInstance.boxes.<a class="function" onClick="logFunction('splice')" href="../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(chartInstance.boxes.<a class="function" onClick="logFunction('indexOf')" href="../../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>(box), 1);
<a name="l5684"><span class="linenum">5684</span></a>          },
<a name="l5685"><span class="linenum">5685</span></a>  
<a name="l5686"><span class="linenum">5686</span></a>  <span class="comment">        // The most important function</span>
<a name="l5687"><span class="linenum">5687</span></a>          update: function(chartInstance, width, height) {
<a name="l5688"><span class="linenum">5688</span></a>  
<a name="l5689"><span class="linenum">5689</span></a>              if (!chartInstance) {
<a name="l5690"><span class="linenum">5690</span></a>                  return;
<a name="l5691"><span class="linenum">5691</span></a>              }
<a name="l5692"><span class="linenum">5692</span></a>  
<a name="l5693"><span class="linenum">5693</span></a>              var xPadding = 0;
<a name="l5694"><span class="linenum">5694</span></a>              var yPadding = 0;
<a name="l5695"><span class="linenum">5695</span></a>  
<a name="l5696"><span class="linenum">5696</span></a>              var leftBoxes = helpers.<a class="function" onClick="logFunction('where')" href="../../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>(chartInstance.boxes, function(box) {
<a name="l5697"><span class="linenum">5697</span></a>                  return box.options.position === &quot;left&quot;;
<a name="l5698"><span class="linenum">5698</span></a>              });
<a name="l5699"><span class="linenum">5699</span></a>              var rightBoxes = helpers.<a class="function" onClick="logFunction('where')" href="../../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>(chartInstance.boxes, function(box) {
<a name="l5700"><span class="linenum">5700</span></a>                  return box.options.position === &quot;right&quot;;
<a name="l5701"><span class="linenum">5701</span></a>              });
<a name="l5702"><span class="linenum">5702</span></a>              var topBoxes = helpers.<a class="function" onClick="logFunction('where')" href="../../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>(chartInstance.boxes, function(box) {
<a name="l5703"><span class="linenum">5703</span></a>                  return box.options.position === &quot;top&quot;;
<a name="l5704"><span class="linenum">5704</span></a>              });
<a name="l5705"><span class="linenum">5705</span></a>              var bottomBoxes = helpers.<a class="function" onClick="logFunction('where')" href="../../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>(chartInstance.boxes, function(box) {
<a name="l5706"><span class="linenum">5706</span></a>                  return box.options.position === &quot;bottom&quot;;
<a name="l5707"><span class="linenum">5707</span></a>              });
<a name="l5708"><span class="linenum">5708</span></a>  
<a name="l5709"><span class="linenum">5709</span></a>  <span class="comment">            // Boxes that overlay the chartarea such as the radialLinear scale</span>
<a name="l5710"><span class="linenum">5710</span></a>              var chartAreaBoxes = helpers.<a class="function" onClick="logFunction('where')" href="../../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>(chartInstance.boxes, function(box) {
<a name="l5711"><span class="linenum">5711</span></a>                  return box.options.position === &quot;chartArea&quot;;
<a name="l5712"><span class="linenum">5712</span></a>              });
<a name="l5713"><span class="linenum">5713</span></a>  
<a name="l5714"><span class="linenum">5714</span></a>  <span class="comment">            // Ensure that full width boxes are at the very top / bottom</span>
<a name="l5715"><span class="linenum">5715</span></a>              topBoxes.<a class="phpfunction" onClick="logFunction('sort')" href="../../../_functions/sort.html" onMouseOver="phpfuncPopup(event,'sort')">sort</a>(function(a, b) {
<a name="l5716"><span class="linenum">5716</span></a>                  return (b.options.fullWidth ? 1 : 0) - (a.options.fullWidth ? 1 : 0);
<a name="l5717"><span class="linenum">5717</span></a>              });
<a name="l5718"><span class="linenum">5718</span></a>              bottomBoxes.<a class="phpfunction" onClick="logFunction('sort')" href="../../../_functions/sort.html" onMouseOver="phpfuncPopup(event,'sort')">sort</a>(function(a, b) {
<a name="l5719"><span class="linenum">5719</span></a>                  return (a.options.fullWidth ? 1 : 0) - (b.options.fullWidth ? 1 : 0);
<a name="l5720"><span class="linenum">5720</span></a>              });
<a name="l5721"><span class="linenum">5721</span></a>  
<a name="l5722"><span class="linenum">5722</span></a>  <span class="comment">            // Essentially we now have any number of boxes on each of the 4 sides.</span>
<a name="l5723"><span class="linenum">5723</span></a>  <span class="comment">            // Our canvas looks like the following.</span>
<a name="l5724"><span class="linenum">5724</span></a>  <span class="comment">            // The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and</span>
<a name="l5725"><span class="linenum">5725</span></a>  <span class="comment">            // B1 is the bottom axis</span>
<a name="l5726"><span class="linenum">5726</span></a>  <span class="comment">            // There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays</span>
<a name="l5727"><span class="linenum">5727</span></a>  <span class="comment">            // These locations are single-box locations only, when trying to register a chartArea location that is already taken,</span>
<a name="l5728"><span class="linenum">5728</span></a>  <span class="comment">            // an error will be thrown.</span>
<a name="l5729"><span class="linenum">5729</span></a>  <span class="comment">            //</span>
<a name="l5730"><span class="linenum">5730</span></a>  <span class="comment">            // |----------------------------------------------------|</span>
<a name="l5731"><span class="linenum">5731</span></a>  <span class="comment">            // |                  T1 (Full Width)                   |</span>
<a name="l5732"><span class="linenum">5732</span></a>  <span class="comment">            // |----------------------------------------------------|</span>
<a name="l5733"><span class="linenum">5733</span></a>  <span class="comment">            // |    |    |                 T2                  |    |</span>
<a name="l5734"><span class="linenum">5734</span></a>  <span class="comment">            // |    |----|-------------------------------------|----|</span>
<a name="l5735"><span class="linenum">5735</span></a>  <span class="comment">            // |    |    | C1 |                           | C2 |    |</span>
<a name="l5736"><span class="linenum">5736</span></a>  <span class="comment">            // |    |    |----|                           |----|    |</span>
<a name="l5737"><span class="linenum">5737</span></a>  <span class="comment">            // |    |    |                                     |    |</span>
<a name="l5738"><span class="linenum">5738</span></a>  <span class="comment">            // | L1 | L2 |           ChartArea (C0)            | R1 |</span>
<a name="l5739"><span class="linenum">5739</span></a>  <span class="comment">            // |    |    |                                     |    |</span>
<a name="l5740"><span class="linenum">5740</span></a>  <span class="comment">            // |    |    |----|                           |----|    |</span>
<a name="l5741"><span class="linenum">5741</span></a>  <span class="comment">            // |    |    | C3 |                           | C4 |    |</span>
<a name="l5742"><span class="linenum">5742</span></a>  <span class="comment">            // |    |----|-------------------------------------|----|</span>
<a name="l5743"><span class="linenum">5743</span></a>  <span class="comment">            // |    |    |                 B1                  |    |</span>
<a name="l5744"><span class="linenum">5744</span></a>  <span class="comment">            // |----------------------------------------------------|</span>
<a name="l5745"><span class="linenum">5745</span></a>  <span class="comment">            // |                  B2 (Full Width)                   |</span>
<a name="l5746"><span class="linenum">5746</span></a>  <span class="comment">            // |----------------------------------------------------|</span>
<a name="l5747"><span class="linenum">5747</span></a>  <span class="comment">            //</span>
<a name="l5748"><span class="linenum">5748</span></a>  <span class="comment">            // What we do to find the best sizing, we do the following</span>
<a name="l5749"><span class="linenum">5749</span></a>  <span class="comment">            // 1. Determine the minimum size of the chart area.</span>
<a name="l5750"><span class="linenum">5750</span></a>  <span class="comment">            // 2. Split the remaining width equally between each vertical axis</span>
<a name="l5751"><span class="linenum">5751</span></a>  <span class="comment">            // 3. Split the remaining height equally between each horizontal axis</span>
<a name="l5752"><span class="linenum">5752</span></a>  <span class="comment">            // 4. Give each layout the maximum size it can be. The layout will return it's minimum size</span>
<a name="l5753"><span class="linenum">5753</span></a>  <span class="comment">            // 5. Adjust the sizes of each axis based on it's minimum reported size.</span>
<a name="l5754"><span class="linenum">5754</span></a>  <span class="comment">            // 6. Refit each axis</span>
<a name="l5755"><span class="linenum">5755</span></a>  <span class="comment">            // 7. Position each axis in the final location</span>
<a name="l5756"><span class="linenum">5756</span></a>  <span class="comment">            // 8. Tell the chart the final location of the chart area</span>
<a name="l5757"><span class="linenum">5757</span></a>  <span class="comment">            // 9. Tell any axes that overlay the chart area the positions of the chart area</span>
<a name="l5758"><span class="linenum">5758</span></a>  
<a name="l5759"><span class="linenum">5759</span></a>  <span class="comment">            // Step 1</span>
<a name="l5760"><span class="linenum">5760</span></a>              var chartWidth = width - (2 * xPadding);
<a name="l5761"><span class="linenum">5761</span></a>              var chartHeight = height - (2 * yPadding);
<a name="l5762"><span class="linenum">5762</span></a>              var chartAreaWidth = chartWidth / 2; <span class="comment">// min 50%</span>
<a name="l5763"><span class="linenum">5763</span></a>              var chartAreaHeight = chartHeight / 2; <span class="comment">// min 50%</span>
<a name="l5764"><span class="linenum">5764</span></a>  
<a name="l5765"><span class="linenum">5765</span></a>  <span class="comment">            // Step 2</span>
<a name="l5766"><span class="linenum">5766</span></a>              var verticalBoxWidth = (width - chartAreaWidth) / (leftBoxes.length + rightBoxes.length);
<a name="l5767"><span class="linenum">5767</span></a>  
<a name="l5768"><span class="linenum">5768</span></a>  <span class="comment">            // Step 3</span>
<a name="l5769"><span class="linenum">5769</span></a>              var horizontalBoxHeight = (height - chartAreaHeight) / (topBoxes.length + bottomBoxes.length);
<a name="l5770"><span class="linenum">5770</span></a>  
<a name="l5771"><span class="linenum">5771</span></a>  <span class="comment">            // Step 4</span>
<a name="l5772"><span class="linenum">5772</span></a>              var maxChartAreaWidth = chartWidth;
<a name="l5773"><span class="linenum">5773</span></a>              var maxChartAreaHeight = chartHeight;
<a name="l5774"><span class="linenum">5774</span></a>              var minBoxSizes = [];
<a name="l5775"><span class="linenum">5775</span></a>  
<a name="l5776"><span class="linenum">5776</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(leftBoxes.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(rightBoxes, topBoxes, bottomBoxes), getMinimumBoxSize);
<a name="l5777"><span class="linenum">5777</span></a>  
<a name="l5778"><span class="linenum">5778</span></a>  			function <a class="function" onClick="logFunction('getMinimumBoxSize')" href="../../../_functions/getminimumboxsize.html" onMouseOver="funcPopup(event,'getminimumboxsize')">getMinimumBoxSize</a>(box) {
<a name="l5779"><span class="linenum">5779</span></a>                  var minSize;
<a name="l5780"><span class="linenum">5780</span></a>                  var isHorizontal = box.isHorizontal();
<a name="l5781"><span class="linenum">5781</span></a>  
<a name="l5782"><span class="linenum">5782</span></a>                  if (isHorizontal) {
<a name="l5783"><span class="linenum">5783</span></a>                      minSize = box.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(box.options.fullWidth ? chartWidth : maxChartAreaWidth, horizontalBoxHeight);
<a name="l5784"><span class="linenum">5784</span></a>                      maxChartAreaHeight -= minSize.height;
<a name="l5785"><span class="linenum">5785</span></a>                  } else {
<a name="l5786"><span class="linenum">5786</span></a>                      minSize = box.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(verticalBoxWidth, chartAreaHeight);
<a name="l5787"><span class="linenum">5787</span></a>                      maxChartAreaWidth -= minSize.width;
<a name="l5788"><span class="linenum">5788</span></a>                  }
<a name="l5789"><span class="linenum">5789</span></a>  
<a name="l5790"><span class="linenum">5790</span></a>                  minBoxSizes.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>({
<a name="l5791"><span class="linenum">5791</span></a>                      horizontal: isHorizontal,
<a name="l5792"><span class="linenum">5792</span></a>                      minSize: minSize,
<a name="l5793"><span class="linenum">5793</span></a>                      box: box
<a name="l5794"><span class="linenum">5794</span></a>                  });
<a name="l5795"><span class="linenum">5795</span></a>              }
<a name="l5796"><span class="linenum">5796</span></a>  
<a name="l5797"><span class="linenum">5797</span></a>  <span class="comment">            // At this point, maxChartAreaHeight and maxChartAreaWidth are the size the chart area could</span>
<a name="l5798"><span class="linenum">5798</span></a>  <span class="comment">            // be if the axes are drawn at their minimum sizes.</span>
<a name="l5799"><span class="linenum">5799</span></a>  
<a name="l5800"><span class="linenum">5800</span></a>  <span class="comment">            // Steps 5 &amp; 6</span>
<a name="l5801"><span class="linenum">5801</span></a>              var totalLeftBoxesWidth = xPadding;
<a name="l5802"><span class="linenum">5802</span></a>              var totalRightBoxesWidth = xPadding;
<a name="l5803"><span class="linenum">5803</span></a>              var totalTopBoxesHeight = yPadding;
<a name="l5804"><span class="linenum">5804</span></a>              var totalBottomBoxesHeight = yPadding;
<a name="l5805"><span class="linenum">5805</span></a>  
<a name="l5806"><span class="linenum">5806</span></a>  <span class="comment">            // Update, and calculate the left and right margins for the horizontal boxes</span>
<a name="l5807"><span class="linenum">5807</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(leftBoxes.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(rightBoxes), fitBox);
<a name="l5808"><span class="linenum">5808</span></a>  
<a name="l5809"><span class="linenum">5809</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(leftBoxes, function(box) {
<a name="l5810"><span class="linenum">5810</span></a>                  totalLeftBoxesWidth += box.width;
<a name="l5811"><span class="linenum">5811</span></a>              });
<a name="l5812"><span class="linenum">5812</span></a>  
<a name="l5813"><span class="linenum">5813</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(rightBoxes, function(box) {
<a name="l5814"><span class="linenum">5814</span></a>                  totalRightBoxesWidth += box.width;
<a name="l5815"><span class="linenum">5815</span></a>              });
<a name="l5816"><span class="linenum">5816</span></a>  
<a name="l5817"><span class="linenum">5817</span></a>  <span class="comment">            // Set the Left and Right margins for the horizontal boxes</span>
<a name="l5818"><span class="linenum">5818</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(topBoxes.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(bottomBoxes), fitBox);
<a name="l5819"><span class="linenum">5819</span></a>  
<a name="l5820"><span class="linenum">5820</span></a>  <span class="comment">            // Function to fit a box</span>
<a name="l5821"><span class="linenum">5821</span></a>  			function <a class="function" onClick="logFunction('fitBox')" href="../../../_functions/fitbox.html" onMouseOver="funcPopup(event,'fitbox')">fitBox</a>(box) {
<a name="l5822"><span class="linenum">5822</span></a>                  var minBoxSize = helpers.findNextWhere(minBoxSizes, function(minBoxSize) {
<a name="l5823"><span class="linenum">5823</span></a>                      return minBoxSize.box === box;
<a name="l5824"><span class="linenum">5824</span></a>                  });
<a name="l5825"><span class="linenum">5825</span></a>  
<a name="l5826"><span class="linenum">5826</span></a>                  if (minBoxSize) {
<a name="l5827"><span class="linenum">5827</span></a>                      if (box.isHorizontal()) {
<a name="l5828"><span class="linenum">5828</span></a>                          var scaleMargin = {
<a name="l5829"><span class="linenum">5829</span></a>                              left: totalLeftBoxesWidth,
<a name="l5830"><span class="linenum">5830</span></a>                              right: totalRightBoxesWidth,
<a name="l5831"><span class="linenum">5831</span></a>                              top: 0,
<a name="l5832"><span class="linenum">5832</span></a>                              bottom: 0
<a name="l5833"><span class="linenum">5833</span></a>                          };
<a name="l5834"><span class="linenum">5834</span></a>  
<a name="l5835"><span class="linenum">5835</span></a>  <span class="comment">                        // Don't use min size here because of label rotation. When the labels are rotated, their rotation highly depends</span>
<a name="l5836"><span class="linenum">5836</span></a>  <span class="comment">                        // on the margin. Sometimes they need to increase in size slightly</span>
<a name="l5837"><span class="linenum">5837</span></a>                          box.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(box.options.fullWidth ? chartWidth : maxChartAreaWidth, chartHeight / 2, scaleMargin);
<a name="l5838"><span class="linenum">5838</span></a>                      } else {
<a name="l5839"><span class="linenum">5839</span></a>                          box.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(minBoxSize.minSize.width, maxChartAreaHeight);
<a name="l5840"><span class="linenum">5840</span></a>                      }
<a name="l5841"><span class="linenum">5841</span></a>                  }
<a name="l5842"><span class="linenum">5842</span></a>              }
<a name="l5843"><span class="linenum">5843</span></a>  
<a name="l5844"><span class="linenum">5844</span></a>  <span class="comment">            // Figure out how much margin is on the top and bottom of the vertical boxes</span>
<a name="l5845"><span class="linenum">5845</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(topBoxes, function(box) {
<a name="l5846"><span class="linenum">5846</span></a>                  totalTopBoxesHeight += box.height;
<a name="l5847"><span class="linenum">5847</span></a>              });
<a name="l5848"><span class="linenum">5848</span></a>  
<a name="l5849"><span class="linenum">5849</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(bottomBoxes, function(box) {
<a name="l5850"><span class="linenum">5850</span></a>                  totalBottomBoxesHeight += box.height;
<a name="l5851"><span class="linenum">5851</span></a>              });
<a name="l5852"><span class="linenum">5852</span></a>  
<a name="l5853"><span class="linenum">5853</span></a>  <span class="comment">            // Let the left layout know the final margin</span>
<a name="l5854"><span class="linenum">5854</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(leftBoxes.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(rightBoxes), finalFitVerticalBox);
<a name="l5855"><span class="linenum">5855</span></a>  
<a name="l5856"><span class="linenum">5856</span></a>  			function <a class="function" onClick="logFunction('finalFitVerticalBox')" href="../../../_functions/finalfitverticalbox.html" onMouseOver="funcPopup(event,'finalfitverticalbox')">finalFitVerticalBox</a>(box) {
<a name="l5857"><span class="linenum">5857</span></a>                  var minBoxSize = helpers.findNextWhere(minBoxSizes, function(minBoxSize) {
<a name="l5858"><span class="linenum">5858</span></a>                      return minBoxSize.box === box;
<a name="l5859"><span class="linenum">5859</span></a>                  });
<a name="l5860"><span class="linenum">5860</span></a>  
<a name="l5861"><span class="linenum">5861</span></a>                  var scaleMargin = {
<a name="l5862"><span class="linenum">5862</span></a>                      left: 0,
<a name="l5863"><span class="linenum">5863</span></a>                      right: 0,
<a name="l5864"><span class="linenum">5864</span></a>                      top: totalTopBoxesHeight,
<a name="l5865"><span class="linenum">5865</span></a>                      bottom: totalBottomBoxesHeight
<a name="l5866"><span class="linenum">5866</span></a>                  };
<a name="l5867"><span class="linenum">5867</span></a>  
<a name="l5868"><span class="linenum">5868</span></a>                  if (minBoxSize) {
<a name="l5869"><span class="linenum">5869</span></a>                      box.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(minBoxSize.minSize.width, maxChartAreaHeight, scaleMargin);
<a name="l5870"><span class="linenum">5870</span></a>                  }
<a name="l5871"><span class="linenum">5871</span></a>              }
<a name="l5872"><span class="linenum">5872</span></a>  
<a name="l5873"><span class="linenum">5873</span></a>  <span class="comment">            // Recalculate because the size of each layout might have changed slightly due to the margins (label rotation for instance)</span>
<a name="l5874"><span class="linenum">5874</span></a>              totalLeftBoxesWidth = xPadding;
<a name="l5875"><span class="linenum">5875</span></a>              totalRightBoxesWidth = xPadding;
<a name="l5876"><span class="linenum">5876</span></a>              totalTopBoxesHeight = yPadding;
<a name="l5877"><span class="linenum">5877</span></a>              totalBottomBoxesHeight = yPadding;
<a name="l5878"><span class="linenum">5878</span></a>  
<a name="l5879"><span class="linenum">5879</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(leftBoxes, function(box) {
<a name="l5880"><span class="linenum">5880</span></a>                  totalLeftBoxesWidth += box.width;
<a name="l5881"><span class="linenum">5881</span></a>              });
<a name="l5882"><span class="linenum">5882</span></a>  
<a name="l5883"><span class="linenum">5883</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(rightBoxes, function(box) {
<a name="l5884"><span class="linenum">5884</span></a>                  totalRightBoxesWidth += box.width;
<a name="l5885"><span class="linenum">5885</span></a>              });
<a name="l5886"><span class="linenum">5886</span></a>  
<a name="l5887"><span class="linenum">5887</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(topBoxes, function(box) {
<a name="l5888"><span class="linenum">5888</span></a>                  totalTopBoxesHeight += box.height;
<a name="l5889"><span class="linenum">5889</span></a>              });
<a name="l5890"><span class="linenum">5890</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(bottomBoxes, function(box) {
<a name="l5891"><span class="linenum">5891</span></a>                  totalBottomBoxesHeight += box.height;
<a name="l5892"><span class="linenum">5892</span></a>              });
<a name="l5893"><span class="linenum">5893</span></a>  
<a name="l5894"><span class="linenum">5894</span></a>  <span class="comment">            // Figure out if our chart area changed. This would occur if the dataset layout label rotation</span>
<a name="l5895"><span class="linenum">5895</span></a>  <span class="comment">            // changed due to the application of the margins in step 6. Since we can only get bigger, this is safe to do</span>
<a name="l5896"><span class="linenum">5896</span></a>  <span class="comment">            // without calling `fit` again</span>
<a name="l5897"><span class="linenum">5897</span></a>              var newMaxChartAreaHeight = height - totalTopBoxesHeight - totalBottomBoxesHeight;
<a name="l5898"><span class="linenum">5898</span></a>              var newMaxChartAreaWidth = width - totalLeftBoxesWidth - totalRightBoxesWidth;
<a name="l5899"><span class="linenum">5899</span></a>  
<a name="l5900"><span class="linenum">5900</span></a>              if (newMaxChartAreaWidth !== maxChartAreaWidth || newMaxChartAreaHeight !== maxChartAreaHeight) {
<a name="l5901"><span class="linenum">5901</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(leftBoxes, function(box) {
<a name="l5902"><span class="linenum">5902</span></a>                      box.height = newMaxChartAreaHeight;
<a name="l5903"><span class="linenum">5903</span></a>                  });
<a name="l5904"><span class="linenum">5904</span></a>  
<a name="l5905"><span class="linenum">5905</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(rightBoxes, function(box) {
<a name="l5906"><span class="linenum">5906</span></a>                      box.height = newMaxChartAreaHeight;
<a name="l5907"><span class="linenum">5907</span></a>                  });
<a name="l5908"><span class="linenum">5908</span></a>  
<a name="l5909"><span class="linenum">5909</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(topBoxes, function(box) {
<a name="l5910"><span class="linenum">5910</span></a>                      if (!box.options.fullWidth) {
<a name="l5911"><span class="linenum">5911</span></a>                          box.width = newMaxChartAreaWidth;
<a name="l5912"><span class="linenum">5912</span></a>                      }
<a name="l5913"><span class="linenum">5913</span></a>                  });
<a name="l5914"><span class="linenum">5914</span></a>  
<a name="l5915"><span class="linenum">5915</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(bottomBoxes, function(box) {
<a name="l5916"><span class="linenum">5916</span></a>                      if (!box.options.fullWidth) {
<a name="l5917"><span class="linenum">5917</span></a>                          box.width = newMaxChartAreaWidth;
<a name="l5918"><span class="linenum">5918</span></a>                      }
<a name="l5919"><span class="linenum">5919</span></a>                  });
<a name="l5920"><span class="linenum">5920</span></a>  
<a name="l5921"><span class="linenum">5921</span></a>                  maxChartAreaHeight = newMaxChartAreaHeight;
<a name="l5922"><span class="linenum">5922</span></a>                  maxChartAreaWidth = newMaxChartAreaWidth;
<a name="l5923"><span class="linenum">5923</span></a>              }
<a name="l5924"><span class="linenum">5924</span></a>  
<a name="l5925"><span class="linenum">5925</span></a>  <span class="comment">            // Step 7 - Position the boxes</span>
<a name="l5926"><span class="linenum">5926</span></a>              var left = xPadding;
<a name="l5927"><span class="linenum">5927</span></a>              var top = yPadding;
<a name="l5928"><span class="linenum">5928</span></a>              var right = 0;
<a name="l5929"><span class="linenum">5929</span></a>              var bottom = 0;
<a name="l5930"><span class="linenum">5930</span></a>  
<a name="l5931"><span class="linenum">5931</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(leftBoxes.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(topBoxes), placeBox);
<a name="l5932"><span class="linenum">5932</span></a>  
<a name="l5933"><span class="linenum">5933</span></a>  <span class="comment">            // Account for chart width and height</span>
<a name="l5934"><span class="linenum">5934</span></a>              left += maxChartAreaWidth;
<a name="l5935"><span class="linenum">5935</span></a>              top += maxChartAreaHeight;
<a name="l5936"><span class="linenum">5936</span></a>  
<a name="l5937"><span class="linenum">5937</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(rightBoxes, placeBox);
<a name="l5938"><span class="linenum">5938</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(bottomBoxes, placeBox);
<a name="l5939"><span class="linenum">5939</span></a>  
<a name="l5940"><span class="linenum">5940</span></a>  			function <a class="function" onClick="logFunction('placeBox')" href="../../../_functions/placebox.html" onMouseOver="funcPopup(event,'placebox')">placeBox</a>(box) {
<a name="l5941"><span class="linenum">5941</span></a>                  if (box.isHorizontal()) {
<a name="l5942"><span class="linenum">5942</span></a>                      box.left = box.options.fullWidth ? xPadding : totalLeftBoxesWidth;
<a name="l5943"><span class="linenum">5943</span></a>                      box.right = box.options.fullWidth ? width - xPadding : totalLeftBoxesWidth + maxChartAreaWidth;
<a name="l5944"><span class="linenum">5944</span></a>                      box.top = top;
<a name="l5945"><span class="linenum">5945</span></a>                      box.bottom = top + box.height;
<a name="l5946"><span class="linenum">5946</span></a>  
<a name="l5947"><span class="linenum">5947</span></a>  <span class="comment">                    // Move to next point</span>
<a name="l5948"><span class="linenum">5948</span></a>                      top = box.bottom;
<a name="l5949"><span class="linenum">5949</span></a>  
<a name="l5950"><span class="linenum">5950</span></a>                  } else {
<a name="l5951"><span class="linenum">5951</span></a>  
<a name="l5952"><span class="linenum">5952</span></a>                      box.left = left;
<a name="l5953"><span class="linenum">5953</span></a>                      box.right = left + box.width;
<a name="l5954"><span class="linenum">5954</span></a>                      box.top = totalTopBoxesHeight;
<a name="l5955"><span class="linenum">5955</span></a>                      box.bottom = totalTopBoxesHeight + maxChartAreaHeight;
<a name="l5956"><span class="linenum">5956</span></a>  
<a name="l5957"><span class="linenum">5957</span></a>  <span class="comment">                    // Move to next point</span>
<a name="l5958"><span class="linenum">5958</span></a>                      left = box.right;
<a name="l5959"><span class="linenum">5959</span></a>                  }
<a name="l5960"><span class="linenum">5960</span></a>              }
<a name="l5961"><span class="linenum">5961</span></a>  
<a name="l5962"><span class="linenum">5962</span></a>  <span class="comment">            // Step 8</span>
<a name="l5963"><span class="linenum">5963</span></a>              chartInstance.chartArea = {
<a name="l5964"><span class="linenum">5964</span></a>                  left: totalLeftBoxesWidth,
<a name="l5965"><span class="linenum">5965</span></a>                  top: totalTopBoxesHeight,
<a name="l5966"><span class="linenum">5966</span></a>                  right: totalLeftBoxesWidth + maxChartAreaWidth,
<a name="l5967"><span class="linenum">5967</span></a>                  bottom: totalTopBoxesHeight + maxChartAreaHeight
<a name="l5968"><span class="linenum">5968</span></a>              };
<a name="l5969"><span class="linenum">5969</span></a>  
<a name="l5970"><span class="linenum">5970</span></a>  <span class="comment">            // Step 9</span>
<a name="l5971"><span class="linenum">5971</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(chartAreaBoxes, function(box) {
<a name="l5972"><span class="linenum">5972</span></a>                  box.left = chartInstance.chartArea.left;
<a name="l5973"><span class="linenum">5973</span></a>                  box.top = chartInstance.chartArea.top;
<a name="l5974"><span class="linenum">5974</span></a>                  box.right = chartInstance.chartArea.right;
<a name="l5975"><span class="linenum">5975</span></a>                  box.bottom = chartInstance.chartArea.bottom;
<a name="l5976"><span class="linenum">5976</span></a>  
<a name="l5977"><span class="linenum">5977</span></a>                  box.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(maxChartAreaWidth, maxChartAreaHeight);
<a name="l5978"><span class="linenum">5978</span></a>              });
<a name="l5979"><span class="linenum">5979</span></a>          }
<a name="l5980"><span class="linenum">5980</span></a>      };
<a name="l5981"><span class="linenum">5981</span></a>  };
<a name="l5982"><span class="linenum">5982</span></a>  
<a name="l5983"><span class="linenum">5983</span></a>  },{}],28:[function(require,module,exports){
<a name="l5984"><span class="linenum">5984</span></a>  &quot;use strict&quot;;
<a name="l5985"><span class="linenum">5985</span></a>  
<a name="l5986"><span class="linenum">5986</span></a>  module.exports = function(Chart) {
<a name="l5987"><span class="linenum">5987</span></a>  
<a name="l5988"><span class="linenum">5988</span></a>      var helpers = Chart.helpers;
<a name="l5989"><span class="linenum">5989</span></a>      var noop = helpers.noop;
<a name="l5990"><span class="linenum">5990</span></a>  
<a name="l5991"><span class="linenum">5991</span></a>      Chart.defaults.global.legend = {
<a name="l5992"><span class="linenum">5992</span></a>  
<a name="l5993"><span class="linenum">5993</span></a>          display: true,
<a name="l5994"><span class="linenum">5994</span></a>          position: 'top',
<a name="l5995"><span class="linenum">5995</span></a>          fullWidth: true, // marks that this box should take the full width of the canvas (pushing down other boxes)
<a name="l5996"><span class="linenum">5996</span></a>          reverse: false,
<a name="l5997"><span class="linenum">5997</span></a>  
<a name="l5998"><span class="linenum">5998</span></a>  <span class="comment">        // a callback that will handle</span>
<a name="l5999"><span class="linenum">5999</span></a>          onClick: function(e, legendItem) {
<a name="l6000"><span class="linenum">6000</span></a>              var index = legendItem.datasetIndex;
<a name="l6001"><span class="linenum">6001</span></a>              var ci = this.chart;
<a name="l6002"><span class="linenum">6002</span></a>              var meta = ci.getDatasetMeta(index);
<a name="l6003"><span class="linenum">6003</span></a>  
<a name="l6004"><span class="linenum">6004</span></a>  <span class="comment">            // See controller.isDatasetVisible comment</span>
<a name="l6005"><span class="linenum">6005</span></a>              meta.hidden = meta.hidden === null? !ci.data.datasets[index].hidden : null;
<a name="l6006"><span class="linenum">6006</span></a>  
<a name="l6007"><span class="linenum">6007</span></a>  <span class="comment">            // We hid a dataset ... rerender the chart</span>
<a name="l6008"><span class="linenum">6008</span></a>              ci.<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l6009"><span class="linenum">6009</span></a>          },
<a name="l6010"><span class="linenum">6010</span></a>  
<a name="l6011"><span class="linenum">6011</span></a>          labels: {
<a name="l6012"><span class="linenum">6012</span></a>              boxWidth: 40,
<a name="l6013"><span class="linenum">6013</span></a>              padding: 10,
<a name="l6014"><span class="linenum">6014</span></a>  <span class="comment">            // Generates labels shown in the legend</span>
<a name="l6015"><span class="linenum">6015</span></a>  <span class="comment">            // Valid properties to return:</span>
<a name="l6016"><span class="linenum">6016</span></a>  <span class="comment">            // text : text to display</span>
<a name="l6017"><span class="linenum">6017</span></a>  <span class="comment">            // fillStyle : fill of coloured box</span>
<a name="l6018"><span class="linenum">6018</span></a>  <span class="comment">            // strokeStyle: stroke of coloured box</span>
<a name="l6019"><span class="linenum">6019</span></a>  <span class="comment">            // hidden : if this legend item refers to a hidden item</span>
<a name="l6020"><span class="linenum">6020</span></a>  <span class="comment">            // lineCap : cap style for line</span>
<a name="l6021"><span class="linenum">6021</span></a>  <span class="comment">            // lineDash</span>
<a name="l6022"><span class="linenum">6022</span></a>  <span class="comment">            // lineDashOffset :</span>
<a name="l6023"><span class="linenum">6023</span></a>  <span class="comment">            // lineJoin :</span>
<a name="l6024"><span class="linenum">6024</span></a>  <span class="comment">            // lineWidth :</span>
<a name="l6025"><span class="linenum">6025</span></a>              generateLabels: function(chart) {
<a name="l6026"><span class="linenum">6026</span></a>                  var data = chart.data;
<a name="l6027"><span class="linenum">6027</span></a>                  return helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(data.datasets) ? data.datasets.map(function(dataset, i) {
<a name="l6028"><span class="linenum">6028</span></a>                      return {
<a name="l6029"><span class="linenum">6029</span></a>                          text: dataset.label,
<a name="l6030"><span class="linenum">6030</span></a>                          fillStyle: (!helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(dataset.backgroundColor) ? dataset.backgroundColor : dataset.backgroundColor[0]),
<a name="l6031"><span class="linenum">6031</span></a>                          hidden: !chart.isDatasetVisible(i),
<a name="l6032"><span class="linenum">6032</span></a>                          lineCap: dataset.borderCapStyle,
<a name="l6033"><span class="linenum">6033</span></a>                          lineDash: dataset.borderDash,
<a name="l6034"><span class="linenum">6034</span></a>                          lineDashOffset: dataset.borderDashOffset,
<a name="l6035"><span class="linenum">6035</span></a>                          lineJoin: dataset.borderJoinStyle,
<a name="l6036"><span class="linenum">6036</span></a>                          lineWidth: dataset.borderWidth,
<a name="l6037"><span class="linenum">6037</span></a>                          strokeStyle: dataset.borderColor,
<a name="l6038"><span class="linenum">6038</span></a>  
<a name="l6039"><span class="linenum">6039</span></a>  <span class="comment">                        // Below is extra data used for toggling the datasets</span>
<a name="l6040"><span class="linenum">6040</span></a>                          datasetIndex: i
<a name="l6041"><span class="linenum">6041</span></a>                      };
<a name="l6042"><span class="linenum">6042</span></a>                  }, this) : [];
<a name="l6043"><span class="linenum">6043</span></a>              }
<a name="l6044"><span class="linenum">6044</span></a>          }
<a name="l6045"><span class="linenum">6045</span></a>      };
<a name="l6046"><span class="linenum">6046</span></a>  
<a name="l6047"><span class="linenum">6047</span></a>      Chart.Legend = Chart.Element.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l6048"><span class="linenum">6048</span></a>  
<a name="l6049"><span class="linenum">6049</span></a>          initialize: function(config) {
<a name="l6050"><span class="linenum">6050</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(this, config);
<a name="l6051"><span class="linenum">6051</span></a>  
<a name="l6052"><span class="linenum">6052</span></a>  <span class="comment">            // Contains hit boxes for each dataset (in dataset order)</span>
<a name="l6053"><span class="linenum">6053</span></a>              this.legendHitBoxes = [];
<a name="l6054"><span class="linenum">6054</span></a>  
<a name="l6055"><span class="linenum">6055</span></a>  <span class="comment">            // Are we in doughnut mode which has a different data type</span>
<a name="l6056"><span class="linenum">6056</span></a>              this.doughnutMode = false;
<a name="l6057"><span class="linenum">6057</span></a>          },
<a name="l6058"><span class="linenum">6058</span></a>  
<a name="l6059"><span class="linenum">6059</span></a>  <span class="comment">        // These methods are ordered by lifecyle. Utilities then follow.</span>
<a name="l6060"><span class="linenum">6060</span></a>  <span class="comment">        // Any function defined here is inherited by all legend types.</span>
<a name="l6061"><span class="linenum">6061</span></a>  <span class="comment">        // Any function can be extended by the legend type</span>
<a name="l6062"><span class="linenum">6062</span></a>  
<a name="l6063"><span class="linenum">6063</span></a>          beforeUpdate: noop,
<a name="l6064"><span class="linenum">6064</span></a>          update: function(maxWidth, maxHeight, margins) {
<a name="l6065"><span class="linenum">6065</span></a>              var me = this;
<a name="l6066"><span class="linenum">6066</span></a>  
<a name="l6067"><span class="linenum">6067</span></a>  <span class="comment">            // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)</span>
<a name="l6068"><span class="linenum">6068</span></a>              me.beforeUpdate();
<a name="l6069"><span class="linenum">6069</span></a>  
<a name="l6070"><span class="linenum">6070</span></a>  <span class="comment">            // Absorb the master measurements</span>
<a name="l6071"><span class="linenum">6071</span></a>              me.maxWidth = maxWidth;
<a name="l6072"><span class="linenum">6072</span></a>              me.maxHeight = maxHeight;
<a name="l6073"><span class="linenum">6073</span></a>              me.margins = margins;
<a name="l6074"><span class="linenum">6074</span></a>  
<a name="l6075"><span class="linenum">6075</span></a>  <span class="comment">            // Dimensions</span>
<a name="l6076"><span class="linenum">6076</span></a>              me.beforeSetDimensions();
<a name="l6077"><span class="linenum">6077</span></a>              me.<a class="function" onClick="logFunction('setDimensions')" href="../../../_functions/setdimensions.html" onMouseOver="funcPopup(event,'setdimensions')">setDimensions</a>();
<a name="l6078"><span class="linenum">6078</span></a>              me.afterSetDimensions();
<a name="l6079"><span class="linenum">6079</span></a>  <span class="comment">            // Labels</span>
<a name="l6080"><span class="linenum">6080</span></a>              me.beforeBuildLabels();
<a name="l6081"><span class="linenum">6081</span></a>              me.buildLabels();
<a name="l6082"><span class="linenum">6082</span></a>              me.afterBuildLabels();
<a name="l6083"><span class="linenum">6083</span></a>  
<a name="l6084"><span class="linenum">6084</span></a>  <span class="comment">            // Fit</span>
<a name="l6085"><span class="linenum">6085</span></a>              me.beforeFit();
<a name="l6086"><span class="linenum">6086</span></a>              me.fit();
<a name="l6087"><span class="linenum">6087</span></a>              me.afterFit();
<a name="l6088"><span class="linenum">6088</span></a>  <span class="comment">            //</span>
<a name="l6089"><span class="linenum">6089</span></a>              me.afterUpdate();
<a name="l6090"><span class="linenum">6090</span></a>  
<a name="l6091"><span class="linenum">6091</span></a>              return me.minSize;
<a name="l6092"><span class="linenum">6092</span></a>          },
<a name="l6093"><span class="linenum">6093</span></a>          afterUpdate: noop,
<a name="l6094"><span class="linenum">6094</span></a>  
<a name="l6095"><span class="linenum">6095</span></a>  <span class="comment">        //</span>
<a name="l6096"><span class="linenum">6096</span></a>  
<a name="l6097"><span class="linenum">6097</span></a>          beforeSetDimensions: noop,
<a name="l6098"><span class="linenum">6098</span></a>          setDimensions: function() {
<a name="l6099"><span class="linenum">6099</span></a>              var me = this;
<a name="l6100"><span class="linenum">6100</span></a>  <span class="comment">            // Set the unconstrained dimension before label rotation</span>
<a name="l6101"><span class="linenum">6101</span></a>              if (me.isHorizontal()) {
<a name="l6102"><span class="linenum">6102</span></a>  <span class="comment">                // Reset position before calculating rotation</span>
<a name="l6103"><span class="linenum">6103</span></a>                  me.width = me.maxWidth;
<a name="l6104"><span class="linenum">6104</span></a>                  me.left = 0;
<a name="l6105"><span class="linenum">6105</span></a>                  me.right = me.width;
<a name="l6106"><span class="linenum">6106</span></a>              } else {
<a name="l6107"><span class="linenum">6107</span></a>                  me.height = me.maxHeight;
<a name="l6108"><span class="linenum">6108</span></a>  
<a name="l6109"><span class="linenum">6109</span></a>  <span class="comment">                // Reset position before calculating rotation</span>
<a name="l6110"><span class="linenum">6110</span></a>                  me.top = 0;
<a name="l6111"><span class="linenum">6111</span></a>                  me.bottom = me.height;
<a name="l6112"><span class="linenum">6112</span></a>              }
<a name="l6113"><span class="linenum">6113</span></a>  
<a name="l6114"><span class="linenum">6114</span></a>  <span class="comment">            // Reset padding</span>
<a name="l6115"><span class="linenum">6115</span></a>              me.paddingLeft = 0;
<a name="l6116"><span class="linenum">6116</span></a>              me.paddingTop = 0;
<a name="l6117"><span class="linenum">6117</span></a>              me.paddingRight = 0;
<a name="l6118"><span class="linenum">6118</span></a>              me.paddingBottom = 0;
<a name="l6119"><span class="linenum">6119</span></a>  
<a name="l6120"><span class="linenum">6120</span></a>  <span class="comment">            // Reset minSize</span>
<a name="l6121"><span class="linenum">6121</span></a>              me.minSize = {
<a name="l6122"><span class="linenum">6122</span></a>                  width: 0,
<a name="l6123"><span class="linenum">6123</span></a>                  height: 0
<a name="l6124"><span class="linenum">6124</span></a>              };
<a name="l6125"><span class="linenum">6125</span></a>          },
<a name="l6126"><span class="linenum">6126</span></a>          afterSetDimensions: noop,
<a name="l6127"><span class="linenum">6127</span></a>  
<a name="l6128"><span class="linenum">6128</span></a>  <span class="comment">        //</span>
<a name="l6129"><span class="linenum">6129</span></a>  
<a name="l6130"><span class="linenum">6130</span></a>          beforeBuildLabels: noop,
<a name="l6131"><span class="linenum">6131</span></a>          buildLabels: function() {
<a name="l6132"><span class="linenum">6132</span></a>              var me = this;
<a name="l6133"><span class="linenum">6133</span></a>              me.legendItems = me.options.labels.generateLabels.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, me.chart);
<a name="l6134"><span class="linenum">6134</span></a>              if(me.options.reverse){
<a name="l6135"><span class="linenum">6135</span></a>                  me.legendItems.<a class="function" onClick="logFunction('reverse')" href="../../../_functions/reverse.html" onMouseOver="funcPopup(event,'reverse')">reverse</a>();
<a name="l6136"><span class="linenum">6136</span></a>              }
<a name="l6137"><span class="linenum">6137</span></a>          },
<a name="l6138"><span class="linenum">6138</span></a>          afterBuildLabels: noop,
<a name="l6139"><span class="linenum">6139</span></a>  
<a name="l6140"><span class="linenum">6140</span></a>  <span class="comment">        //</span>
<a name="l6141"><span class="linenum">6141</span></a>  
<a name="l6142"><span class="linenum">6142</span></a>          beforeFit: noop,
<a name="l6143"><span class="linenum">6143</span></a>          fit: function() {
<a name="l6144"><span class="linenum">6144</span></a>              var me = this;
<a name="l6145"><span class="linenum">6145</span></a>              var opts = me.options;
<a name="l6146"><span class="linenum">6146</span></a>              var labelOpts = opts.labels;
<a name="l6147"><span class="linenum">6147</span></a>              var display = opts.display;
<a name="l6148"><span class="linenum">6148</span></a>  
<a name="l6149"><span class="linenum">6149</span></a>              var ctx = me.ctx;
<a name="l6150"><span class="linenum">6150</span></a>  
<a name="l6151"><span class="linenum">6151</span></a>              var globalDefault = Chart.defaults.global,
<a name="l6152"><span class="linenum">6152</span></a>                  itemOrDefault = helpers.getValueOrDefault,
<a name="l6153"><span class="linenum">6153</span></a>                  fontSize = itemOrDefault(labelOpts.fontSize, globalDefault.defaultFontSize),
<a name="l6154"><span class="linenum">6154</span></a>                  fontStyle = itemOrDefault(labelOpts.fontStyle, globalDefault.defaultFontStyle),
<a name="l6155"><span class="linenum">6155</span></a>                  fontFamily = itemOrDefault(labelOpts.fontFamily, globalDefault.defaultFontFamily),
<a name="l6156"><span class="linenum">6156</span></a>                  labelFont = helpers.fontString(fontSize, fontStyle, fontFamily);
<a name="l6157"><span class="linenum">6157</span></a>  
<a name="l6158"><span class="linenum">6158</span></a>  <span class="comment">            // Reset hit boxes</span>
<a name="l6159"><span class="linenum">6159</span></a>              var hitboxes = me.legendHitBoxes = [];
<a name="l6160"><span class="linenum">6160</span></a>  
<a name="l6161"><span class="linenum">6161</span></a>              var minSize = me.minSize;
<a name="l6162"><span class="linenum">6162</span></a>              var isHorizontal = me.isHorizontal();
<a name="l6163"><span class="linenum">6163</span></a>  
<a name="l6164"><span class="linenum">6164</span></a>              if (isHorizontal) {
<a name="l6165"><span class="linenum">6165</span></a>                  minSize.width = me.maxWidth; <span class="comment">// fill all the width</span>
<a name="l6166"><span class="linenum">6166</span></a>                  minSize.height = display ? 10 : 0;
<a name="l6167"><span class="linenum">6167</span></a>              } else {
<a name="l6168"><span class="linenum">6168</span></a>                  minSize.width = display ? 10 : 0;
<a name="l6169"><span class="linenum">6169</span></a>                  minSize.height = me.maxHeight; <span class="comment">// fill all the height</span>
<a name="l6170"><span class="linenum">6170</span></a>              }
<a name="l6171"><span class="linenum">6171</span></a>  
<a name="l6172"><span class="linenum">6172</span></a>  <span class="comment">            // Increase sizes here</span>
<a name="l6173"><span class="linenum">6173</span></a>              if (display) {
<a name="l6174"><span class="linenum">6174</span></a>                  ctx.font = labelFont;
<a name="l6175"><span class="linenum">6175</span></a>  
<a name="l6176"><span class="linenum">6176</span></a>                  if (isHorizontal) {
<a name="l6177"><span class="linenum">6177</span></a>  <span class="comment">                    // Labels</span>
<a name="l6178"><span class="linenum">6178</span></a>  
<a name="l6179"><span class="linenum">6179</span></a>  <span class="comment">                    // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one</span>
<a name="l6180"><span class="linenum">6180</span></a>                      var lineWidths = me.lineWidths = [0];
<a name="l6181"><span class="linenum">6181</span></a>                      var totalHeight = me.legendItems.length ? fontSize + (labelOpts.padding) : 0;
<a name="l6182"><span class="linenum">6182</span></a>  
<a name="l6183"><span class="linenum">6183</span></a>                      ctx.textAlign = &quot;left&quot;;
<a name="l6184"><span class="linenum">6184</span></a>                      ctx.textBaseline = 'top';
<a name="l6185"><span class="linenum">6185</span></a>  
<a name="l6186"><span class="linenum">6186</span></a>                      helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.legendItems, function(legendItem, i) {
<a name="l6187"><span class="linenum">6187</span></a>                          var width = labelOpts.boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;
<a name="l6188"><span class="linenum">6188</span></a>                          if (lineWidths[lineWidths.length - 1] + width + labelOpts.padding &gt;= me.width) {
<a name="l6189"><span class="linenum">6189</span></a>                              totalHeight += fontSize + (labelOpts.padding);
<a name="l6190"><span class="linenum">6190</span></a>                              lineWidths[lineWidths.length] = me.left;
<a name="l6191"><span class="linenum">6191</span></a>                          }
<a name="l6192"><span class="linenum">6192</span></a>  
<a name="l6193"><span class="linenum">6193</span></a>  <span class="comment">                        // Store the hitbox width and height here. Final position will be updated in `draw`</span>
<a name="l6194"><span class="linenum">6194</span></a>                          hitboxes[i] = {
<a name="l6195"><span class="linenum">6195</span></a>                              left: 0,
<a name="l6196"><span class="linenum">6196</span></a>                              top: 0,
<a name="l6197"><span class="linenum">6197</span></a>                              width: width,
<a name="l6198"><span class="linenum">6198</span></a>                              height: fontSize
<a name="l6199"><span class="linenum">6199</span></a>                          };
<a name="l6200"><span class="linenum">6200</span></a>  
<a name="l6201"><span class="linenum">6201</span></a>                          lineWidths[lineWidths.length - 1] += width + labelOpts.padding;
<a name="l6202"><span class="linenum">6202</span></a>                      });
<a name="l6203"><span class="linenum">6203</span></a>  
<a name="l6204"><span class="linenum">6204</span></a>                      minSize.height += totalHeight;
<a name="l6205"><span class="linenum">6205</span></a>  
<a name="l6206"><span class="linenum">6206</span></a>                  } else {
<a name="l6207"><span class="linenum">6207</span></a>                      var vPadding = labelOpts.padding;
<a name="l6208"><span class="linenum">6208</span></a>                      var columnWidths = me.columnWidths = [];
<a name="l6209"><span class="linenum">6209</span></a>                      var totalWidth = labelOpts.padding;
<a name="l6210"><span class="linenum">6210</span></a>                      var currentColWidth = 0;
<a name="l6211"><span class="linenum">6211</span></a>                      var currentColHeight = 0;
<a name="l6212"><span class="linenum">6212</span></a>                      var itemHeight = fontSize + vPadding;
<a name="l6213"><span class="linenum">6213</span></a>  
<a name="l6214"><span class="linenum">6214</span></a>                      helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.legendItems, function(legendItem, i) {
<a name="l6215"><span class="linenum">6215</span></a>                          var itemWidth = labelOpts.boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;
<a name="l6216"><span class="linenum">6216</span></a>  
<a name="l6217"><span class="linenum">6217</span></a>  <span class="comment">                        // If too tall, go to new column</span>
<a name="l6218"><span class="linenum">6218</span></a>                          if (currentColHeight + itemHeight &gt; minSize.height) {
<a name="l6219"><span class="linenum">6219</span></a>                              totalWidth += currentColWidth + labelOpts.padding;
<a name="l6220"><span class="linenum">6220</span></a>                              columnWidths.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(currentColWidth); <span class="comment">// previous column width</span>
<a name="l6221"><span class="linenum">6221</span></a>  
<a name="l6222"><span class="linenum">6222</span></a>                              currentColWidth = 0;
<a name="l6223"><span class="linenum">6223</span></a>                              currentColHeight = 0;
<a name="l6224"><span class="linenum">6224</span></a>                          }
<a name="l6225"><span class="linenum">6225</span></a>  
<a name="l6226"><span class="linenum">6226</span></a>  <span class="comment">                        // Get max width</span>
<a name="l6227"><span class="linenum">6227</span></a>                          currentColWidth = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(currentColWidth, itemWidth);
<a name="l6228"><span class="linenum">6228</span></a>                          currentColHeight += itemHeight;
<a name="l6229"><span class="linenum">6229</span></a>  
<a name="l6230"><span class="linenum">6230</span></a>  <span class="comment">                        // Store the hitbox width and height here. Final position will be updated in `draw`</span>
<a name="l6231"><span class="linenum">6231</span></a>                          hitboxes[i] = {
<a name="l6232"><span class="linenum">6232</span></a>                              left: 0,
<a name="l6233"><span class="linenum">6233</span></a>                              top: 0,
<a name="l6234"><span class="linenum">6234</span></a>                              width: itemWidth,
<a name="l6235"><span class="linenum">6235</span></a>                              height: fontSize
<a name="l6236"><span class="linenum">6236</span></a>                          };
<a name="l6237"><span class="linenum">6237</span></a>                      });
<a name="l6238"><span class="linenum">6238</span></a>  
<a name="l6239"><span class="linenum">6239</span></a>                      totalWidth += currentColWidth;
<a name="l6240"><span class="linenum">6240</span></a>                      columnWidths.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(currentColWidth);
<a name="l6241"><span class="linenum">6241</span></a>                      minSize.width += totalWidth;
<a name="l6242"><span class="linenum">6242</span></a>                  }
<a name="l6243"><span class="linenum">6243</span></a>              }
<a name="l6244"><span class="linenum">6244</span></a>  
<a name="l6245"><span class="linenum">6245</span></a>              me.width = minSize.width;
<a name="l6246"><span class="linenum">6246</span></a>              me.height = minSize.height;
<a name="l6247"><span class="linenum">6247</span></a>          },
<a name="l6248"><span class="linenum">6248</span></a>          afterFit: noop,
<a name="l6249"><span class="linenum">6249</span></a>  
<a name="l6250"><span class="linenum">6250</span></a>  <span class="comment">        // Shared Methods</span>
<a name="l6251"><span class="linenum">6251</span></a>          isHorizontal: function() {
<a name="l6252"><span class="linenum">6252</span></a>              return this.options.position === &quot;top&quot; || this.options.position === &quot;bottom&quot;;
<a name="l6253"><span class="linenum">6253</span></a>          },
<a name="l6254"><span class="linenum">6254</span></a>  
<a name="l6255"><span class="linenum">6255</span></a>  <span class="comment">        // Actualy draw the legend on the canvas</span>
<a name="l6256"><span class="linenum">6256</span></a>          draw: function() {
<a name="l6257"><span class="linenum">6257</span></a>              var me = this;
<a name="l6258"><span class="linenum">6258</span></a>              var opts = me.options;
<a name="l6259"><span class="linenum">6259</span></a>              var labelOpts = opts.labels;
<a name="l6260"><span class="linenum">6260</span></a>              var globalDefault = Chart.defaults.global,
<a name="l6261"><span class="linenum">6261</span></a>                  lineDefault = globalDefault.elements.line,
<a name="l6262"><span class="linenum">6262</span></a>                  legendWidth = me.width,
<a name="l6263"><span class="linenum">6263</span></a>                  legendHeight = me.height,
<a name="l6264"><span class="linenum">6264</span></a>                  lineWidths = me.lineWidths;
<a name="l6265"><span class="linenum">6265</span></a>  
<a name="l6266"><span class="linenum">6266</span></a>              if (opts.display) {
<a name="l6267"><span class="linenum">6267</span></a>                  var ctx = me.ctx,
<a name="l6268"><span class="linenum">6268</span></a>                      cursor,
<a name="l6269"><span class="linenum">6269</span></a>                      itemOrDefault = helpers.getValueOrDefault,
<a name="l6270"><span class="linenum">6270</span></a>                      fontColor = itemOrDefault(labelOpts.fontColor, globalDefault.defaultFontColor),
<a name="l6271"><span class="linenum">6271</span></a>                      fontSize = itemOrDefault(labelOpts.fontSize, globalDefault.defaultFontSize),
<a name="l6272"><span class="linenum">6272</span></a>                      fontStyle = itemOrDefault(labelOpts.fontStyle, globalDefault.defaultFontStyle),
<a name="l6273"><span class="linenum">6273</span></a>                      fontFamily = itemOrDefault(labelOpts.fontFamily, globalDefault.defaultFontFamily),
<a name="l6274"><span class="linenum">6274</span></a>                      labelFont = helpers.fontString(fontSize, fontStyle, fontFamily);
<a name="l6275"><span class="linenum">6275</span></a>  
<a name="l6276"><span class="linenum">6276</span></a>  <span class="comment">                // Canvas setup</span>
<a name="l6277"><span class="linenum">6277</span></a>                  ctx.textAlign = &quot;left&quot;;
<a name="l6278"><span class="linenum">6278</span></a>                  ctx.textBaseline = 'top';
<a name="l6279"><span class="linenum">6279</span></a>                  ctx.lineWidth = 0.5;
<a name="l6280"><span class="linenum">6280</span></a>                  ctx.strokeStyle = fontColor; <span class="comment">// for strikethrough effect</span>
<a name="l6281"><span class="linenum">6281</span></a>                  ctx.fillStyle = fontColor; <span class="comment">// render in correct colour</span>
<a name="l6282"><span class="linenum">6282</span></a>                  ctx.font = labelFont;
<a name="l6283"><span class="linenum">6283</span></a>  
<a name="l6284"><span class="linenum">6284</span></a>                  var boxWidth = labelOpts.boxWidth,
<a name="l6285"><span class="linenum">6285</span></a>                      hitboxes = me.legendHitBoxes;
<a name="l6286"><span class="linenum">6286</span></a>  
<a name="l6287"><span class="linenum">6287</span></a>  <span class="comment">                // current position</span>
<a name="l6288"><span class="linenum">6288</span></a>                  var drawLegendBox = function(x, y, legendItem) {
<a name="l6289"><span class="linenum">6289</span></a>  <span class="comment">                    // Set the ctx for the box</span>
<a name="l6290"><span class="linenum">6290</span></a>                      ctx.<a class="function" onClick="logFunction('save')" href="../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>();
<a name="l6291"><span class="linenum">6291</span></a>  
<a name="l6292"><span class="linenum">6292</span></a>                      ctx.fillStyle = itemOrDefault(legendItem.fillStyle, globalDefault.defaultColor);
<a name="l6293"><span class="linenum">6293</span></a>                      ctx.lineCap = itemOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);
<a name="l6294"><span class="linenum">6294</span></a>                      ctx.lineDashOffset = itemOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);
<a name="l6295"><span class="linenum">6295</span></a>                      ctx.lineJoin = itemOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);
<a name="l6296"><span class="linenum">6296</span></a>                      ctx.lineWidth = itemOrDefault(legendItem.lineWidth, lineDefault.borderWidth);
<a name="l6297"><span class="linenum">6297</span></a>                      ctx.strokeStyle = itemOrDefault(legendItem.strokeStyle, globalDefault.defaultColor);
<a name="l6298"><span class="linenum">6298</span></a>  
<a name="l6299"><span class="linenum">6299</span></a>                      if (ctx.setLineDash) {
<a name="l6300"><span class="linenum">6300</span></a>  <span class="comment">                        // IE 9 and 10 do not support line dash</span>
<a name="l6301"><span class="linenum">6301</span></a>                          ctx.setLineDash(itemOrDefault(legendItem.lineDash, lineDefault.borderDash));
<a name="l6302"><span class="linenum">6302</span></a>                      }
<a name="l6303"><span class="linenum">6303</span></a>  
<a name="l6304"><span class="linenum">6304</span></a>  <span class="comment">                    // Draw the box</span>
<a name="l6305"><span class="linenum">6305</span></a>                      ctx.strokeRect(x, y, boxWidth, fontSize);
<a name="l6306"><span class="linenum">6306</span></a>                      ctx.fillRect(x, y, boxWidth, fontSize);
<a name="l6307"><span class="linenum">6307</span></a>  
<a name="l6308"><span class="linenum">6308</span></a>                      ctx.<a class="function" onClick="logFunction('restore')" href="../../../_functions/restore.html" onMouseOver="funcPopup(event,'restore')">restore</a>();
<a name="l6309"><span class="linenum">6309</span></a>                  };
<a name="l6310"><span class="linenum">6310</span></a>                  var fillText = function(x, y, legendItem, textWidth) {
<a name="l6311"><span class="linenum">6311</span></a>                      ctx.fillText(legendItem.text, boxWidth + (fontSize / 2) + x, y);
<a name="l6312"><span class="linenum">6312</span></a>  
<a name="l6313"><span class="linenum">6313</span></a>                      if (legendItem.hidden) {
<a name="l6314"><span class="linenum">6314</span></a>  <span class="comment">                        // Strikethrough the text if hidden</span>
<a name="l6315"><span class="linenum">6315</span></a>                          ctx.beginPath();
<a name="l6316"><span class="linenum">6316</span></a>                          ctx.lineWidth = 2;
<a name="l6317"><span class="linenum">6317</span></a>                          ctx.moveTo(boxWidth + (fontSize / 2) + x, y + (fontSize / 2));
<a name="l6318"><span class="linenum">6318</span></a>                          ctx.lineTo(boxWidth + (fontSize / 2) + x + textWidth, y + (fontSize / 2));
<a name="l6319"><span class="linenum">6319</span></a>                          ctx.stroke();
<a name="l6320"><span class="linenum">6320</span></a>                      }
<a name="l6321"><span class="linenum">6321</span></a>                  };
<a name="l6322"><span class="linenum">6322</span></a>  
<a name="l6323"><span class="linenum">6323</span></a>  <span class="comment">                // Horizontal</span>
<a name="l6324"><span class="linenum">6324</span></a>                  var isHorizontal = me.isHorizontal();
<a name="l6325"><span class="linenum">6325</span></a>                  if (isHorizontal) {
<a name="l6326"><span class="linenum">6326</span></a>                      cursor = {
<a name="l6327"><span class="linenum">6327</span></a>                          x: me.left + ((legendWidth - lineWidths[0]) / 2),
<a name="l6328"><span class="linenum">6328</span></a>                          y: me.top + labelOpts.padding,
<a name="l6329"><span class="linenum">6329</span></a>                          line: 0
<a name="l6330"><span class="linenum">6330</span></a>                      };
<a name="l6331"><span class="linenum">6331</span></a>                  } else {
<a name="l6332"><span class="linenum">6332</span></a>                      cursor = {
<a name="l6333"><span class="linenum">6333</span></a>                          x: me.left + labelOpts.padding,
<a name="l6334"><span class="linenum">6334</span></a>                          y: me.top,
<a name="l6335"><span class="linenum">6335</span></a>                          line: 0
<a name="l6336"><span class="linenum">6336</span></a>                      };
<a name="l6337"><span class="linenum">6337</span></a>                  }
<a name="l6338"><span class="linenum">6338</span></a>  
<a name="l6339"><span class="linenum">6339</span></a>                  var itemHeight = fontSize + labelOpts.padding;
<a name="l6340"><span class="linenum">6340</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.legendItems, function(legendItem, i) {
<a name="l6341"><span class="linenum">6341</span></a>                      var textWidth = ctx.measureText(legendItem.text).width,
<a name="l6342"><span class="linenum">6342</span></a>                          width = boxWidth + (fontSize / 2) + textWidth,
<a name="l6343"><span class="linenum">6343</span></a>                          x = cursor.x,
<a name="l6344"><span class="linenum">6344</span></a>                          y = cursor.y;
<a name="l6345"><span class="linenum">6345</span></a>  
<a name="l6346"><span class="linenum">6346</span></a>                      if (isHorizontal) {
<a name="l6347"><span class="linenum">6347</span></a>                          if (x + width &gt;= legendWidth) {
<a name="l6348"><span class="linenum">6348</span></a>                              y = cursor.y += fontSize + (labelOpts.padding);
<a name="l6349"><span class="linenum">6349</span></a>                              cursor.line++;
<a name="l6350"><span class="linenum">6350</span></a>                              x = cursor.x = me.left + ((legendWidth - lineWidths[cursor.line]) / 2);
<a name="l6351"><span class="linenum">6351</span></a>                          }
<a name="l6352"><span class="linenum">6352</span></a>                      } else {
<a name="l6353"><span class="linenum">6353</span></a>                          if (y + itemHeight &gt; me.bottom) {
<a name="l6354"><span class="linenum">6354</span></a>                              x = cursor.x = x + me.columnWidths[cursor.line] + labelOpts.padding;
<a name="l6355"><span class="linenum">6355</span></a>                              y = cursor.y = me.top;
<a name="l6356"><span class="linenum">6356</span></a>                              cursor.line++;
<a name="l6357"><span class="linenum">6357</span></a>                          }
<a name="l6358"><span class="linenum">6358</span></a>                      }
<a name="l6359"><span class="linenum">6359</span></a>                      
<a name="l6360"><span class="linenum">6360</span></a>  
<a name="l6361"><span class="linenum">6361</span></a>                      drawLegendBox(x, y, legendItem);
<a name="l6362"><span class="linenum">6362</span></a>  
<a name="l6363"><span class="linenum">6363</span></a>                      hitboxes[i].left = x;
<a name="l6364"><span class="linenum">6364</span></a>                      hitboxes[i].top = y;
<a name="l6365"><span class="linenum">6365</span></a>  
<a name="l6366"><span class="linenum">6366</span></a>  <span class="comment">                    // Fill the actual label</span>
<a name="l6367"><span class="linenum">6367</span></a>                      fillText(x, y, legendItem, textWidth);
<a name="l6368"><span class="linenum">6368</span></a>  
<a name="l6369"><span class="linenum">6369</span></a>                      if (isHorizontal) {
<a name="l6370"><span class="linenum">6370</span></a>                          cursor.x += width + (labelOpts.padding);
<a name="l6371"><span class="linenum">6371</span></a>                      } else {
<a name="l6372"><span class="linenum">6372</span></a>                          cursor.y += itemHeight;
<a name="l6373"><span class="linenum">6373</span></a>                      }
<a name="l6374"><span class="linenum">6374</span></a>                      
<a name="l6375"><span class="linenum">6375</span></a>                  });
<a name="l6376"><span class="linenum">6376</span></a>              }
<a name="l6377"><span class="linenum">6377</span></a>          },
<a name="l6378"><span class="linenum">6378</span></a>  
<a name="l6379"><span class="linenum">6379</span></a>  <span class="comment">        // Handle an event</span>
<a name="l6380"><span class="linenum">6380</span></a>          handleEvent: function(e) {
<a name="l6381"><span class="linenum">6381</span></a>              var me = this;
<a name="l6382"><span class="linenum">6382</span></a>              var position = helpers.getRelativePosition(e, me.chart.chart),
<a name="l6383"><span class="linenum">6383</span></a>                  x = position.x,
<a name="l6384"><span class="linenum">6384</span></a>                  y = position.y,
<a name="l6385"><span class="linenum">6385</span></a>                  opts = me.options;
<a name="l6386"><span class="linenum">6386</span></a>  
<a name="l6387"><span class="linenum">6387</span></a>              if (x &gt;= me.left &amp;&amp; x &lt;= me.right &amp;&amp; y &gt;= me.top &amp;&amp; y &lt;= me.bottom) {
<a name="l6388"><span class="linenum">6388</span></a>  <span class="comment">                // See if we are touching one of the dataset boxes</span>
<a name="l6389"><span class="linenum">6389</span></a>                  var lh = me.legendHitBoxes;
<a name="l6390"><span class="linenum">6390</span></a>                  for (var i = 0; i &lt; lh.length; ++i) {
<a name="l6391"><span class="linenum">6391</span></a>                      var hitBox = lh[i];
<a name="l6392"><span class="linenum">6392</span></a>  
<a name="l6393"><span class="linenum">6393</span></a>                      if (x &gt;= hitBox.left &amp;&amp; x &lt;= hitBox.left + hitBox.width &amp;&amp; y &gt;= hitBox.top &amp;&amp; y &lt;= hitBox.top + hitBox.height) {
<a name="l6394"><span class="linenum">6394</span></a>  <span class="comment">                        // Touching an element</span>
<a name="l6395"><span class="linenum">6395</span></a>                          if (opts.onClick) {
<a name="l6396"><span class="linenum">6396</span></a>                              opts.onClick.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, e, me.legendItems[i]);
<a name="l6397"><span class="linenum">6397</span></a>                          }
<a name="l6398"><span class="linenum">6398</span></a>                          break;
<a name="l6399"><span class="linenum">6399</span></a>                      }
<a name="l6400"><span class="linenum">6400</span></a>                  }
<a name="l6401"><span class="linenum">6401</span></a>              }
<a name="l6402"><span class="linenum">6402</span></a>          }
<a name="l6403"><span class="linenum">6403</span></a>      });
<a name="l6404"><span class="linenum">6404</span></a>  
<a name="l6405"><span class="linenum">6405</span></a>  <span class="comment">    // Register the legend plugin</span>
<a name="l6406"><span class="linenum">6406</span></a>      Chart.plugins.<a class="function" onClick="logFunction('register')" href="../../../_functions/register.html" onMouseOver="funcPopup(event,'register')">register</a>({
<a name="l6407"><span class="linenum">6407</span></a>          beforeInit: function(chartInstance) {
<a name="l6408"><span class="linenum">6408</span></a>              var opts = chartInstance.options;
<a name="l6409"><span class="linenum">6409</span></a>              var legendOpts = opts.legend;
<a name="l6410"><span class="linenum">6410</span></a>  
<a name="l6411"><span class="linenum">6411</span></a>              if (legendOpts) {
<a name="l6412"><span class="linenum">6412</span></a>                  chartInstance.legend = new Chart.Legend({
<a name="l6413"><span class="linenum">6413</span></a>                      ctx: chartInstance.chart.ctx,
<a name="l6414"><span class="linenum">6414</span></a>                      options: legendOpts,
<a name="l6415"><span class="linenum">6415</span></a>                      chart: chartInstance
<a name="l6416"><span class="linenum">6416</span></a>                  });
<a name="l6417"><span class="linenum">6417</span></a>  
<a name="l6418"><span class="linenum">6418</span></a>                  Chart.layoutService.addBox(chartInstance, chartInstance.legend);
<a name="l6419"><span class="linenum">6419</span></a>              }
<a name="l6420"><span class="linenum">6420</span></a>          }
<a name="l6421"><span class="linenum">6421</span></a>      });
<a name="l6422"><span class="linenum">6422</span></a>  };
<a name="l6423"><span class="linenum">6423</span></a>  
<a name="l6424"><span class="linenum">6424</span></a>  },{}],29:[function(require,module,exports){
<a name="l6425"><span class="linenum">6425</span></a>  &quot;use strict&quot;;
<a name="l6426"><span class="linenum">6426</span></a>  
<a name="l6427"><span class="linenum">6427</span></a>  module.exports = function(Chart) {
<a name="l6428"><span class="linenum">6428</span></a>  
<a name="l6429"><span class="linenum">6429</span></a>      var noop = Chart.helpers.noop;
<a name="l6430"><span class="linenum">6430</span></a>  
<a name="l6431"><span class="linenum">6431</span></a>      <span class="comment">/**</span>
<a name="l6432"><span class="linenum">6432</span></a>  <span class="comment">     * The plugin service singleton</span>
<a name="l6433"><span class="linenum">6433</span></a>  <span class="comment">     * @namespace Chart.plugins</span>
<a name="l6434"><span class="linenum">6434</span></a>  <span class="comment">     * @since 2.1.0</span>
<a name="l6435"><span class="linenum">6435</span></a>  <span class="comment">     */</span>
<a name="l6436"><span class="linenum">6436</span></a>      Chart.plugins = {
<a name="l6437"><span class="linenum">6437</span></a>          _plugins: [],
<a name="l6438"><span class="linenum">6438</span></a>  
<a name="l6439"><span class="linenum">6439</span></a>          <span class="comment">/**</span>
<a name="l6440"><span class="linenum">6440</span></a>  <span class="comment">         * Registers the given plugin(s) if not already registered.</span>
<a name="l6441"><span class="linenum">6441</span></a>  <span class="comment">         * @param {Array|Object} plugins plugin instance(s).</span>
<a name="l6442"><span class="linenum">6442</span></a>  <span class="comment">         */</span>
<a name="l6443"><span class="linenum">6443</span></a>          register: function(plugins) {
<a name="l6444"><span class="linenum">6444</span></a>              var p = this._plugins;
<a name="l6445"><span class="linenum">6445</span></a>              ([]).<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(plugins).forEach(function(plugin) {
<a name="l6446"><span class="linenum">6446</span></a>                  if (p.<a class="function" onClick="logFunction('indexOf')" href="../../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>(plugin) === -1) {
<a name="l6447"><span class="linenum">6447</span></a>                      p.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(plugin);
<a name="l6448"><span class="linenum">6448</span></a>                  }
<a name="l6449"><span class="linenum">6449</span></a>              });
<a name="l6450"><span class="linenum">6450</span></a>          },
<a name="l6451"><span class="linenum">6451</span></a>  
<a name="l6452"><span class="linenum">6452</span></a>          <span class="comment">/**</span>
<a name="l6453"><span class="linenum">6453</span></a>  <span class="comment">         * Unregisters the given plugin(s) only if registered.</span>
<a name="l6454"><span class="linenum">6454</span></a>  <span class="comment">         * @param {Array|Object} plugins plugin instance(s).</span>
<a name="l6455"><span class="linenum">6455</span></a>  <span class="comment">         */</span>
<a name="l6456"><span class="linenum">6456</span></a>          unregister: function(plugins) {
<a name="l6457"><span class="linenum">6457</span></a>              var p = this._plugins;
<a name="l6458"><span class="linenum">6458</span></a>              ([]).<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(plugins).forEach(function(plugin) {
<a name="l6459"><span class="linenum">6459</span></a>                  var idx = p.<a class="function" onClick="logFunction('indexOf')" href="../../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>(plugin);
<a name="l6460"><span class="linenum">6460</span></a>                  if (idx !== -1) {
<a name="l6461"><span class="linenum">6461</span></a>                      p.<a class="function" onClick="logFunction('splice')" href="../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(idx, 1);
<a name="l6462"><span class="linenum">6462</span></a>                  }
<a name="l6463"><span class="linenum">6463</span></a>              });
<a name="l6464"><span class="linenum">6464</span></a>          },
<a name="l6465"><span class="linenum">6465</span></a>  
<a name="l6466"><span class="linenum">6466</span></a>          <span class="comment">/**</span>
<a name="l6467"><span class="linenum">6467</span></a>  <span class="comment">         * Remove all registered p^lugins.</span>
<a name="l6468"><span class="linenum">6468</span></a>  <span class="comment">         * @since 2.1.5</span>
<a name="l6469"><span class="linenum">6469</span></a>  <span class="comment">         */</span>
<a name="l6470"><span class="linenum">6470</span></a>          clear: function() {
<a name="l6471"><span class="linenum">6471</span></a>              this._plugins = [];
<a name="l6472"><span class="linenum">6472</span></a>          },
<a name="l6473"><span class="linenum">6473</span></a>  
<a name="l6474"><span class="linenum">6474</span></a>          <span class="comment">/**</span>
<a name="l6475"><span class="linenum">6475</span></a>  <span class="comment">         * Returns the number of registered plugins?</span>
<a name="l6476"><span class="linenum">6476</span></a>  <span class="comment">         * @returns {Number}</span>
<a name="l6477"><span class="linenum">6477</span></a>  <span class="comment">         * @since 2.1.5</span>
<a name="l6478"><span class="linenum">6478</span></a>  <span class="comment">         */</span>
<a name="l6479"><span class="linenum">6479</span></a>          count: function() {
<a name="l6480"><span class="linenum">6480</span></a>              return this._plugins.length;
<a name="l6481"><span class="linenum">6481</span></a>          },
<a name="l6482"><span class="linenum">6482</span></a>  
<a name="l6483"><span class="linenum">6483</span></a>          <span class="comment">/**</span>
<a name="l6484"><span class="linenum">6484</span></a>  <span class="comment">         * Returns all registered plugin intances.</span>
<a name="l6485"><span class="linenum">6485</span></a>  <span class="comment">         * @returns {Array} array of plugin objects.</span>
<a name="l6486"><span class="linenum">6486</span></a>  <span class="comment">         * @since 2.1.5</span>
<a name="l6487"><span class="linenum">6487</span></a>  <span class="comment">         */</span>
<a name="l6488"><span class="linenum">6488</span></a>          getAll: function() {
<a name="l6489"><span class="linenum">6489</span></a>              return this._plugins;
<a name="l6490"><span class="linenum">6490</span></a>          },
<a name="l6491"><span class="linenum">6491</span></a>  
<a name="l6492"><span class="linenum">6492</span></a>          <span class="comment">/**</span>
<a name="l6493"><span class="linenum">6493</span></a>  <span class="comment">         * Calls registered plugins on the specified extension, with the given args. This</span>
<a name="l6494"><span class="linenum">6494</span></a>  <span class="comment">         * method immediately returns as soon as a plugin explicitly returns false. The</span>
<a name="l6495"><span class="linenum">6495</span></a>  <span class="comment">         * returned value can be used, for instance, to interrupt the current action.</span>
<a name="l6496"><span class="linenum">6496</span></a>  <span class="comment">         * @param {String} extension the name of the plugin method to call (e.g. 'beforeUpdate').</span>
<a name="l6497"><span class="linenum">6497</span></a>  <span class="comment">         * @param {Array} [args] extra arguments to apply to the extension call.</span>
<a name="l6498"><span class="linenum">6498</span></a>  <span class="comment">         * @returns {Boolean} false if any of the plugins return false, else returns true.</span>
<a name="l6499"><span class="linenum">6499</span></a>  <span class="comment">         */</span>
<a name="l6500"><span class="linenum">6500</span></a>          notify: function(extension, args) {
<a name="l6501"><span class="linenum">6501</span></a>              var plugins = this._plugins;
<a name="l6502"><span class="linenum">6502</span></a>              var ilen = plugins.length;
<a name="l6503"><span class="linenum">6503</span></a>              var i, plugin;
<a name="l6504"><span class="linenum">6504</span></a>  
<a name="l6505"><span class="linenum">6505</span></a>              for (i=0; i&lt;ilen; ++i) {
<a name="l6506"><span class="linenum">6506</span></a>                  plugin = plugins[i];
<a name="l6507"><span class="linenum">6507</span></a>                  if (typeof plugin[extension] === 'function') {
<a name="l6508"><span class="linenum">6508</span></a>                      if (plugin[extension].<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(plugin, args || []) === false) {
<a name="l6509"><span class="linenum">6509</span></a>                          return false;
<a name="l6510"><span class="linenum">6510</span></a>                      }
<a name="l6511"><span class="linenum">6511</span></a>                  }
<a name="l6512"><span class="linenum">6512</span></a>              }
<a name="l6513"><span class="linenum">6513</span></a>  
<a name="l6514"><span class="linenum">6514</span></a>              return true;
<a name="l6515"><span class="linenum">6515</span></a>          }
<a name="l6516"><span class="linenum">6516</span></a>      };
<a name="l6517"><span class="linenum">6517</span></a>  
<a name="l6518"><span class="linenum">6518</span></a>      <span class="comment">/**</span>
<a name="l6519"><span class="linenum">6519</span></a>  <span class="comment">     * Plugin extension methods.</span>
<a name="l6520"><span class="linenum">6520</span></a>  <span class="comment">     * @interface Chart.PluginBase</span>
<a name="l6521"><span class="linenum">6521</span></a>  <span class="comment">     * @since 2.1.0</span>
<a name="l6522"><span class="linenum">6522</span></a>  <span class="comment">     */</span>
<a name="l6523"><span class="linenum">6523</span></a>      Chart.PluginBase = Chart.Element.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l6524"><span class="linenum">6524</span></a>  <span class="comment">        // Called at start of chart init</span>
<a name="l6525"><span class="linenum">6525</span></a>          beforeInit: noop,
<a name="l6526"><span class="linenum">6526</span></a>  
<a name="l6527"><span class="linenum">6527</span></a>  <span class="comment">        // Called at end of chart init</span>
<a name="l6528"><span class="linenum">6528</span></a>          afterInit: noop,
<a name="l6529"><span class="linenum">6529</span></a>  
<a name="l6530"><span class="linenum">6530</span></a>  <span class="comment">        // Called at start of update</span>
<a name="l6531"><span class="linenum">6531</span></a>          beforeUpdate: noop,
<a name="l6532"><span class="linenum">6532</span></a>  
<a name="l6533"><span class="linenum">6533</span></a>  <span class="comment">        // Called at end of update</span>
<a name="l6534"><span class="linenum">6534</span></a>          afterUpdate: noop,
<a name="l6535"><span class="linenum">6535</span></a>  
<a name="l6536"><span class="linenum">6536</span></a>  <span class="comment">        // Called at start of draw</span>
<a name="l6537"><span class="linenum">6537</span></a>          beforeDraw: noop,
<a name="l6538"><span class="linenum">6538</span></a>  
<a name="l6539"><span class="linenum">6539</span></a>  <span class="comment">        // Called at end of draw</span>
<a name="l6540"><span class="linenum">6540</span></a>          afterDraw: noop,
<a name="l6541"><span class="linenum">6541</span></a>  
<a name="l6542"><span class="linenum">6542</span></a>  <span class="comment">        // Called during destroy</span>
<a name="l6543"><span class="linenum">6543</span></a>          destroy: noop
<a name="l6544"><span class="linenum">6544</span></a>      });
<a name="l6545"><span class="linenum">6545</span></a>  
<a name="l6546"><span class="linenum">6546</span></a>      <span class="comment">/**</span>
<a name="l6547"><span class="linenum">6547</span></a>  <span class="comment">     * Provided for backward compatibility, use Chart.plugins instead</span>
<a name="l6548"><span class="linenum">6548</span></a>  <span class="comment">     * @namespace Chart.pluginService</span>
<a name="l6549"><span class="linenum">6549</span></a>  <span class="comment">     * @deprecated since version 2.1.5</span>
<a name="l6550"><span class="linenum">6550</span></a>  <span class="comment">     * @todo remove me at version 3</span>
<a name="l6551"><span class="linenum">6551</span></a>  <span class="comment">     */</span>
<a name="l6552"><span class="linenum">6552</span></a>      Chart.pluginService = Chart.plugins;
<a name="l6553"><span class="linenum">6553</span></a>  };
<a name="l6554"><span class="linenum">6554</span></a>  
<a name="l6555"><span class="linenum">6555</span></a>  },{}],30:[function(require,module,exports){
<a name="l6556"><span class="linenum">6556</span></a>  &quot;use strict&quot;;
<a name="l6557"><span class="linenum">6557</span></a>  
<a name="l6558"><span class="linenum">6558</span></a>  module.exports = function(Chart) {
<a name="l6559"><span class="linenum">6559</span></a>  
<a name="l6560"><span class="linenum">6560</span></a>      var helpers = Chart.helpers;
<a name="l6561"><span class="linenum">6561</span></a>  
<a name="l6562"><span class="linenum">6562</span></a>      Chart.defaults.scale = {
<a name="l6563"><span class="linenum">6563</span></a>          display: true,
<a name="l6564"><span class="linenum">6564</span></a>          position: &quot;left&quot;,
<a name="l6565"><span class="linenum">6565</span></a>  
<a name="l6566"><span class="linenum">6566</span></a>  <span class="comment">        // grid line settings</span>
<a name="l6567"><span class="linenum">6567</span></a>          gridLines: {
<a name="l6568"><span class="linenum">6568</span></a>              display: true,
<a name="l6569"><span class="linenum">6569</span></a>              color: &quot;<a class="function" onClick="logFunction('rgba')" href="../../../_functions/rgba.html" onMouseOver="funcPopup(event,'rgba')">rgba</a>(0, 0, 0, 0.1)&quot;,
<a name="l6570"><span class="linenum">6570</span></a>              lineWidth: 1,
<a name="l6571"><span class="linenum">6571</span></a>              drawBorder: true,
<a name="l6572"><span class="linenum">6572</span></a>              drawOnChartArea: true,
<a name="l6573"><span class="linenum">6573</span></a>              drawTicks: true,
<a name="l6574"><span class="linenum">6574</span></a>              tickMarkLength: 10,
<a name="l6575"><span class="linenum">6575</span></a>              zeroLineWidth: 1,
<a name="l6576"><span class="linenum">6576</span></a>              zeroLineColor: &quot;<a class="function" onClick="logFunction('rgba')" href="../../../_functions/rgba.html" onMouseOver="funcPopup(event,'rgba')">rgba</a>(0,0,0,0.25)&quot;,
<a name="l6577"><span class="linenum">6577</span></a>              offsetGridLines: false
<a name="l6578"><span class="linenum">6578</span></a>          },
<a name="l6579"><span class="linenum">6579</span></a>  
<a name="l6580"><span class="linenum">6580</span></a>  <span class="comment">        // scale label</span>
<a name="l6581"><span class="linenum">6581</span></a>          scaleLabel: {
<a name="l6582"><span class="linenum">6582</span></a>  <span class="comment">            // actual label</span>
<a name="l6583"><span class="linenum">6583</span></a>              labelString: '',
<a name="l6584"><span class="linenum">6584</span></a>  
<a name="l6585"><span class="linenum">6585</span></a>  <span class="comment">            // display property</span>
<a name="l6586"><span class="linenum">6586</span></a>              display: false
<a name="l6587"><span class="linenum">6587</span></a>          },
<a name="l6588"><span class="linenum">6588</span></a>  
<a name="l6589"><span class="linenum">6589</span></a>  <span class="comment">        // label settings</span>
<a name="l6590"><span class="linenum">6590</span></a>          ticks: {
<a name="l6591"><span class="linenum">6591</span></a>              beginAtZero: false,
<a name="l6592"><span class="linenum">6592</span></a>              minRotation: 0,
<a name="l6593"><span class="linenum">6593</span></a>              maxRotation: 50,
<a name="l6594"><span class="linenum">6594</span></a>              mirror: false,
<a name="l6595"><span class="linenum">6595</span></a>              padding: 10,
<a name="l6596"><span class="linenum">6596</span></a>              reverse: false,
<a name="l6597"><span class="linenum">6597</span></a>              display: true,
<a name="l6598"><span class="linenum">6598</span></a>              autoSkip: true,
<a name="l6599"><span class="linenum">6599</span></a>              autoSkipPadding: 0,
<a name="l6600"><span class="linenum">6600</span></a>              labelOffset: 0,
<a name="l6601"><span class="linenum">6601</span></a>  <span class="comment">            // We pass through arrays to be rendered as multiline labels, we convert Others to strings here.</span>
<a name="l6602"><span class="linenum">6602</span></a>              callback: function(value) {
<a name="l6603"><span class="linenum">6603</span></a>                  return helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(value) ? value : '' + value;
<a name="l6604"><span class="linenum">6604</span></a>              }
<a name="l6605"><span class="linenum">6605</span></a>          }
<a name="l6606"><span class="linenum">6606</span></a>      };
<a name="l6607"><span class="linenum">6607</span></a>  
<a name="l6608"><span class="linenum">6608</span></a>      Chart.Scale = Chart.Element.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l6609"><span class="linenum">6609</span></a>  
<a name="l6610"><span class="linenum">6610</span></a>  <span class="comment">        // These methods are ordered by lifecyle. Utilities then follow.</span>
<a name="l6611"><span class="linenum">6611</span></a>  <span class="comment">        // Any function defined here is inherited by all scale types.</span>
<a name="l6612"><span class="linenum">6612</span></a>  <span class="comment">        // Any function can be extended by the scale type</span>
<a name="l6613"><span class="linenum">6613</span></a>  
<a name="l6614"><span class="linenum">6614</span></a>          beforeUpdate: function() {
<a name="l6615"><span class="linenum">6615</span></a>              helpers.callCallback(this.options.beforeUpdate, [this]);
<a name="l6616"><span class="linenum">6616</span></a>          },
<a name="l6617"><span class="linenum">6617</span></a>          update: function(maxWidth, maxHeight, margins) {
<a name="l6618"><span class="linenum">6618</span></a>              var me = this;
<a name="l6619"><span class="linenum">6619</span></a>  
<a name="l6620"><span class="linenum">6620</span></a>  <span class="comment">            // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)</span>
<a name="l6621"><span class="linenum">6621</span></a>              me.beforeUpdate();
<a name="l6622"><span class="linenum">6622</span></a>  
<a name="l6623"><span class="linenum">6623</span></a>  <span class="comment">            // Absorb the master measurements</span>
<a name="l6624"><span class="linenum">6624</span></a>              me.maxWidth = maxWidth;
<a name="l6625"><span class="linenum">6625</span></a>              me.maxHeight = maxHeight;
<a name="l6626"><span class="linenum">6626</span></a>              me.margins = helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l6627"><span class="linenum">6627</span></a>                  left: 0,
<a name="l6628"><span class="linenum">6628</span></a>                  right: 0,
<a name="l6629"><span class="linenum">6629</span></a>                  top: 0,
<a name="l6630"><span class="linenum">6630</span></a>                  bottom: 0
<a name="l6631"><span class="linenum">6631</span></a>              }, margins);
<a name="l6632"><span class="linenum">6632</span></a>  
<a name="l6633"><span class="linenum">6633</span></a>  <span class="comment">            // Dimensions</span>
<a name="l6634"><span class="linenum">6634</span></a>              me.beforeSetDimensions();
<a name="l6635"><span class="linenum">6635</span></a>              me.<a class="function" onClick="logFunction('setDimensions')" href="../../../_functions/setdimensions.html" onMouseOver="funcPopup(event,'setdimensions')">setDimensions</a>();
<a name="l6636"><span class="linenum">6636</span></a>              me.afterSetDimensions();
<a name="l6637"><span class="linenum">6637</span></a>  
<a name="l6638"><span class="linenum">6638</span></a>  <span class="comment">            // Data min/max</span>
<a name="l6639"><span class="linenum">6639</span></a>              me.beforeDataLimits();
<a name="l6640"><span class="linenum">6640</span></a>              me.determineDataLimits();
<a name="l6641"><span class="linenum">6641</span></a>              me.afterDataLimits();
<a name="l6642"><span class="linenum">6642</span></a>  
<a name="l6643"><span class="linenum">6643</span></a>  <span class="comment">            // Ticks</span>
<a name="l6644"><span class="linenum">6644</span></a>              me.beforeBuildTicks();
<a name="l6645"><span class="linenum">6645</span></a>              me.buildTicks();
<a name="l6646"><span class="linenum">6646</span></a>              me.afterBuildTicks();
<a name="l6647"><span class="linenum">6647</span></a>  
<a name="l6648"><span class="linenum">6648</span></a>              me.beforeTickToLabelConversion();
<a name="l6649"><span class="linenum">6649</span></a>              me.convertTicksToLabels();
<a name="l6650"><span class="linenum">6650</span></a>              me.afterTickToLabelConversion();
<a name="l6651"><span class="linenum">6651</span></a>  
<a name="l6652"><span class="linenum">6652</span></a>  <span class="comment">            // Tick Rotation</span>
<a name="l6653"><span class="linenum">6653</span></a>              me.beforeCalculateTickRotation();
<a name="l6654"><span class="linenum">6654</span></a>              me.calculateTickRotation();
<a name="l6655"><span class="linenum">6655</span></a>              me.afterCalculateTickRotation();
<a name="l6656"><span class="linenum">6656</span></a>  <span class="comment">            // Fit</span>
<a name="l6657"><span class="linenum">6657</span></a>              me.beforeFit();
<a name="l6658"><span class="linenum">6658</span></a>              me.fit();
<a name="l6659"><span class="linenum">6659</span></a>              me.afterFit();
<a name="l6660"><span class="linenum">6660</span></a>  <span class="comment">            //</span>
<a name="l6661"><span class="linenum">6661</span></a>              me.afterUpdate();
<a name="l6662"><span class="linenum">6662</span></a>  
<a name="l6663"><span class="linenum">6663</span></a>              return me.minSize;
<a name="l6664"><span class="linenum">6664</span></a>  
<a name="l6665"><span class="linenum">6665</span></a>          },
<a name="l6666"><span class="linenum">6666</span></a>          afterUpdate: function() {
<a name="l6667"><span class="linenum">6667</span></a>              helpers.callCallback(this.options.afterUpdate, [this]);
<a name="l6668"><span class="linenum">6668</span></a>          },
<a name="l6669"><span class="linenum">6669</span></a>  
<a name="l6670"><span class="linenum">6670</span></a>  <span class="comment">        //</span>
<a name="l6671"><span class="linenum">6671</span></a>  
<a name="l6672"><span class="linenum">6672</span></a>          beforeSetDimensions: function() {
<a name="l6673"><span class="linenum">6673</span></a>              helpers.callCallback(this.options.beforeSetDimensions, [this]);
<a name="l6674"><span class="linenum">6674</span></a>          },
<a name="l6675"><span class="linenum">6675</span></a>          setDimensions: function() {
<a name="l6676"><span class="linenum">6676</span></a>              var me = this;
<a name="l6677"><span class="linenum">6677</span></a>  <span class="comment">            // Set the unconstrained dimension before label rotation</span>
<a name="l6678"><span class="linenum">6678</span></a>              if (me.isHorizontal()) {
<a name="l6679"><span class="linenum">6679</span></a>  <span class="comment">                // Reset position before calculating rotation</span>
<a name="l6680"><span class="linenum">6680</span></a>                  me.width = me.maxWidth;
<a name="l6681"><span class="linenum">6681</span></a>                  me.left = 0;
<a name="l6682"><span class="linenum">6682</span></a>                  me.right = me.width;
<a name="l6683"><span class="linenum">6683</span></a>              } else {
<a name="l6684"><span class="linenum">6684</span></a>                  me.height = me.maxHeight;
<a name="l6685"><span class="linenum">6685</span></a>  
<a name="l6686"><span class="linenum">6686</span></a>  <span class="comment">                // Reset position before calculating rotation</span>
<a name="l6687"><span class="linenum">6687</span></a>                  me.top = 0;
<a name="l6688"><span class="linenum">6688</span></a>                  me.bottom = me.height;
<a name="l6689"><span class="linenum">6689</span></a>              }
<a name="l6690"><span class="linenum">6690</span></a>  
<a name="l6691"><span class="linenum">6691</span></a>  <span class="comment">            // Reset padding</span>
<a name="l6692"><span class="linenum">6692</span></a>              me.paddingLeft = 0;
<a name="l6693"><span class="linenum">6693</span></a>              me.paddingTop = 0;
<a name="l6694"><span class="linenum">6694</span></a>              me.paddingRight = 0;
<a name="l6695"><span class="linenum">6695</span></a>              me.paddingBottom = 0;
<a name="l6696"><span class="linenum">6696</span></a>          },
<a name="l6697"><span class="linenum">6697</span></a>          afterSetDimensions: function() {
<a name="l6698"><span class="linenum">6698</span></a>              helpers.callCallback(this.options.afterSetDimensions, [this]);
<a name="l6699"><span class="linenum">6699</span></a>          },
<a name="l6700"><span class="linenum">6700</span></a>  
<a name="l6701"><span class="linenum">6701</span></a>  <span class="comment">        // Data limits</span>
<a name="l6702"><span class="linenum">6702</span></a>          beforeDataLimits: function() {
<a name="l6703"><span class="linenum">6703</span></a>              helpers.callCallback(this.options.beforeDataLimits, [this]);
<a name="l6704"><span class="linenum">6704</span></a>          },
<a name="l6705"><span class="linenum">6705</span></a>          determineDataLimits: helpers.noop,
<a name="l6706"><span class="linenum">6706</span></a>          afterDataLimits: function() {
<a name="l6707"><span class="linenum">6707</span></a>              helpers.callCallback(this.options.afterDataLimits, [this]);
<a name="l6708"><span class="linenum">6708</span></a>          },
<a name="l6709"><span class="linenum">6709</span></a>  
<a name="l6710"><span class="linenum">6710</span></a>  <span class="comment">        //</span>
<a name="l6711"><span class="linenum">6711</span></a>          beforeBuildTicks: function() {
<a name="l6712"><span class="linenum">6712</span></a>              helpers.callCallback(this.options.beforeBuildTicks, [this]);
<a name="l6713"><span class="linenum">6713</span></a>          },
<a name="l6714"><span class="linenum">6714</span></a>          buildTicks: helpers.noop,
<a name="l6715"><span class="linenum">6715</span></a>          afterBuildTicks: function() {
<a name="l6716"><span class="linenum">6716</span></a>              helpers.callCallback(this.options.afterBuildTicks, [this]);
<a name="l6717"><span class="linenum">6717</span></a>          },
<a name="l6718"><span class="linenum">6718</span></a>  
<a name="l6719"><span class="linenum">6719</span></a>          beforeTickToLabelConversion: function() {
<a name="l6720"><span class="linenum">6720</span></a>              helpers.callCallback(this.options.beforeTickToLabelConversion, [this]);
<a name="l6721"><span class="linenum">6721</span></a>          },
<a name="l6722"><span class="linenum">6722</span></a>          convertTicksToLabels: function() {
<a name="l6723"><span class="linenum">6723</span></a>              var me = this;
<a name="l6724"><span class="linenum">6724</span></a>  <span class="comment">            // Convert ticks to strings</span>
<a name="l6725"><span class="linenum">6725</span></a>              me.ticks = me.ticks.map(function(numericalTick, index, ticks) {
<a name="l6726"><span class="linenum">6726</span></a>                      if (me.options.ticks.userCallback) {
<a name="l6727"><span class="linenum">6727</span></a>                          return me.options.ticks.userCallback(numericalTick, index, ticks);
<a name="l6728"><span class="linenum">6728</span></a>                      }
<a name="l6729"><span class="linenum">6729</span></a>                      return me.options.ticks.<a class="function" onClick="logFunction('callback')" href="../../../_functions/callback.html" onMouseOver="funcPopup(event,'callback')">callback</a>(numericalTick, index, ticks);
<a name="l6730"><span class="linenum">6730</span></a>                  },
<a name="l6731"><span class="linenum">6731</span></a>                  me);
<a name="l6732"><span class="linenum">6732</span></a>          },
<a name="l6733"><span class="linenum">6733</span></a>          afterTickToLabelConversion: function() {
<a name="l6734"><span class="linenum">6734</span></a>              helpers.callCallback(this.options.afterTickToLabelConversion, [this]);
<a name="l6735"><span class="linenum">6735</span></a>          },
<a name="l6736"><span class="linenum">6736</span></a>  
<a name="l6737"><span class="linenum">6737</span></a>  <span class="comment">        //</span>
<a name="l6738"><span class="linenum">6738</span></a>  
<a name="l6739"><span class="linenum">6739</span></a>          beforeCalculateTickRotation: function() {
<a name="l6740"><span class="linenum">6740</span></a>              helpers.callCallback(this.options.beforeCalculateTickRotation, [this]);
<a name="l6741"><span class="linenum">6741</span></a>          },
<a name="l6742"><span class="linenum">6742</span></a>          calculateTickRotation: function() {
<a name="l6743"><span class="linenum">6743</span></a>              var me = this;
<a name="l6744"><span class="linenum">6744</span></a>              var context = me.ctx;
<a name="l6745"><span class="linenum">6745</span></a>              var globalDefaults = Chart.defaults.global;
<a name="l6746"><span class="linenum">6746</span></a>              var optionTicks = me.options.ticks;
<a name="l6747"><span class="linenum">6747</span></a>  
<a name="l6748"><span class="linenum">6748</span></a>  <span class="comment">            //Get the width of each grid by calculating the difference</span>
<a name="l6749"><span class="linenum">6749</span></a>  <span class="comment">            //between x offsets between 0 and 1.</span>
<a name="l6750"><span class="linenum">6750</span></a>              var tickFontSize = helpers.getValueOrDefault(optionTicks.fontSize, globalDefaults.defaultFontSize);
<a name="l6751"><span class="linenum">6751</span></a>              var tickFontStyle = helpers.getValueOrDefault(optionTicks.fontStyle, globalDefaults.defaultFontStyle);
<a name="l6752"><span class="linenum">6752</span></a>              var tickFontFamily = helpers.getValueOrDefault(optionTicks.fontFamily, globalDefaults.defaultFontFamily);
<a name="l6753"><span class="linenum">6753</span></a>              var tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);
<a name="l6754"><span class="linenum">6754</span></a>              context.font = tickLabelFont;
<a name="l6755"><span class="linenum">6755</span></a>  
<a name="l6756"><span class="linenum">6756</span></a>              var firstWidth = context.measureText(me.ticks[0]).width;
<a name="l6757"><span class="linenum">6757</span></a>              var lastWidth = context.measureText(me.ticks[me.ticks.length - 1]).width;
<a name="l6758"><span class="linenum">6758</span></a>              var firstRotated;
<a name="l6759"><span class="linenum">6759</span></a>  
<a name="l6760"><span class="linenum">6760</span></a>              me.labelRotation = optionTicks.minRotation || 0;
<a name="l6761"><span class="linenum">6761</span></a>              me.paddingRight = 0;
<a name="l6762"><span class="linenum">6762</span></a>              me.paddingLeft = 0;
<a name="l6763"><span class="linenum">6763</span></a>  
<a name="l6764"><span class="linenum">6764</span></a>              if (me.options.display) {
<a name="l6765"><span class="linenum">6765</span></a>                  if (me.isHorizontal()) {
<a name="l6766"><span class="linenum">6766</span></a>                      me.paddingRight = lastWidth / 2 + 3;
<a name="l6767"><span class="linenum">6767</span></a>                      me.paddingLeft = firstWidth / 2 + 3;
<a name="l6768"><span class="linenum">6768</span></a>  
<a name="l6769"><span class="linenum">6769</span></a>                      if (!me.longestTextCache) {
<a name="l6770"><span class="linenum">6770</span></a>                          me.longestTextCache = {};
<a name="l6771"><span class="linenum">6771</span></a>                      }
<a name="l6772"><span class="linenum">6772</span></a>                      var originalLabelWidth = helpers.longestText(context, tickLabelFont, me.ticks, me.longestTextCache);
<a name="l6773"><span class="linenum">6773</span></a>                      var labelWidth = originalLabelWidth;
<a name="l6774"><span class="linenum">6774</span></a>                      var cosRotation;
<a name="l6775"><span class="linenum">6775</span></a>                      var sinRotation;
<a name="l6776"><span class="linenum">6776</span></a>  
<a name="l6777"><span class="linenum">6777</span></a>  <span class="comment">                    // Allow 3 pixels x2 padding either side for label readability</span>
<a name="l6778"><span class="linenum">6778</span></a>  <span class="comment">                    // only the index matters for a dataset scale, but we want a consistent interface between scales</span>
<a name="l6779"><span class="linenum">6779</span></a>                      var tickWidth = me.getPixelForTick(1) - me.getPixelForTick(0) - 6;
<a name="l6780"><span class="linenum">6780</span></a>  
<a name="l6781"><span class="linenum">6781</span></a>  <span class="comment">                    //Max label rotation can be set or default to 90 - also act as a loop counter</span>
<a name="l6782"><span class="linenum">6782</span></a>                      while (labelWidth &gt; tickWidth &amp;&amp; me.labelRotation &lt; optionTicks.maxRotation) {
<a name="l6783"><span class="linenum">6783</span></a>                          cosRotation = Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(helpers.toRadians(me.labelRotation));
<a name="l6784"><span class="linenum">6784</span></a>                          sinRotation = Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(helpers.toRadians(me.labelRotation));
<a name="l6785"><span class="linenum">6785</span></a>  
<a name="l6786"><span class="linenum">6786</span></a>                          firstRotated = cosRotation * firstWidth;
<a name="l6787"><span class="linenum">6787</span></a>  
<a name="l6788"><span class="linenum">6788</span></a>  <span class="comment">                        // We're right aligning the text now.</span>
<a name="l6789"><span class="linenum">6789</span></a>                          if (firstRotated + tickFontSize / 2 &gt; me.yLabelWidth) {
<a name="l6790"><span class="linenum">6790</span></a>                              me.paddingLeft = firstRotated + tickFontSize / 2;
<a name="l6791"><span class="linenum">6791</span></a>                          }
<a name="l6792"><span class="linenum">6792</span></a>  
<a name="l6793"><span class="linenum">6793</span></a>                          me.paddingRight = tickFontSize / 2;
<a name="l6794"><span class="linenum">6794</span></a>  
<a name="l6795"><span class="linenum">6795</span></a>                          if (sinRotation * originalLabelWidth &gt; me.maxHeight) {
<a name="l6796"><span class="linenum">6796</span></a>  <span class="comment">                            // go back one step</span>
<a name="l6797"><span class="linenum">6797</span></a>                              me.labelRotation--;
<a name="l6798"><span class="linenum">6798</span></a>                              break;
<a name="l6799"><span class="linenum">6799</span></a>                          }
<a name="l6800"><span class="linenum">6800</span></a>  
<a name="l6801"><span class="linenum">6801</span></a>                          me.labelRotation++;
<a name="l6802"><span class="linenum">6802</span></a>                          labelWidth = cosRotation * originalLabelWidth;
<a name="l6803"><span class="linenum">6803</span></a>                      }
<a name="l6804"><span class="linenum">6804</span></a>                  }
<a name="l6805"><span class="linenum">6805</span></a>              }
<a name="l6806"><span class="linenum">6806</span></a>  
<a name="l6807"><span class="linenum">6807</span></a>              if (me.margins) {
<a name="l6808"><span class="linenum">6808</span></a>                  me.paddingLeft = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.paddingLeft - me.margins.left, 0);
<a name="l6809"><span class="linenum">6809</span></a>                  me.paddingRight = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.paddingRight - me.margins.right, 0);
<a name="l6810"><span class="linenum">6810</span></a>              }
<a name="l6811"><span class="linenum">6811</span></a>          },
<a name="l6812"><span class="linenum">6812</span></a>          afterCalculateTickRotation: function() {
<a name="l6813"><span class="linenum">6813</span></a>              helpers.callCallback(this.options.afterCalculateTickRotation, [this]);
<a name="l6814"><span class="linenum">6814</span></a>          },
<a name="l6815"><span class="linenum">6815</span></a>  
<a name="l6816"><span class="linenum">6816</span></a>  <span class="comment">        //</span>
<a name="l6817"><span class="linenum">6817</span></a>  
<a name="l6818"><span class="linenum">6818</span></a>          beforeFit: function() {
<a name="l6819"><span class="linenum">6819</span></a>              helpers.callCallback(this.options.beforeFit, [this]);
<a name="l6820"><span class="linenum">6820</span></a>          },
<a name="l6821"><span class="linenum">6821</span></a>          fit: function() {
<a name="l6822"><span class="linenum">6822</span></a>              var me = this;
<a name="l6823"><span class="linenum">6823</span></a>  <span class="comment">            // Reset</span>
<a name="l6824"><span class="linenum">6824</span></a>              var minSize = me.minSize = {
<a name="l6825"><span class="linenum">6825</span></a>                  width: 0,
<a name="l6826"><span class="linenum">6826</span></a>                  height: 0
<a name="l6827"><span class="linenum">6827</span></a>              };
<a name="l6828"><span class="linenum">6828</span></a>  
<a name="l6829"><span class="linenum">6829</span></a>              var opts = me.options;
<a name="l6830"><span class="linenum">6830</span></a>              var globalDefaults = Chart.defaults.global;
<a name="l6831"><span class="linenum">6831</span></a>              var tickOpts = opts.ticks;
<a name="l6832"><span class="linenum">6832</span></a>              var scaleLabelOpts = opts.scaleLabel;
<a name="l6833"><span class="linenum">6833</span></a>              var display = opts.display;
<a name="l6834"><span class="linenum">6834</span></a>              var isHorizontal = me.isHorizontal();
<a name="l6835"><span class="linenum">6835</span></a>  
<a name="l6836"><span class="linenum">6836</span></a>              var tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);
<a name="l6837"><span class="linenum">6837</span></a>              var tickFontStyle = helpers.getValueOrDefault(tickOpts.fontStyle, globalDefaults.defaultFontStyle);
<a name="l6838"><span class="linenum">6838</span></a>              var tickFontFamily = helpers.getValueOrDefault(tickOpts.fontFamily, globalDefaults.defaultFontFamily);
<a name="l6839"><span class="linenum">6839</span></a>              var tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);
<a name="l6840"><span class="linenum">6840</span></a>  
<a name="l6841"><span class="linenum">6841</span></a>              var scaleLabelFontSize = helpers.getValueOrDefault(scaleLabelOpts.fontSize, globalDefaults.defaultFontSize);
<a name="l6842"><span class="linenum">6842</span></a>              var scaleLabelFontStyle = helpers.getValueOrDefault(scaleLabelOpts.fontStyle, globalDefaults.defaultFontStyle);
<a name="l6843"><span class="linenum">6843</span></a>              var scaleLabelFontFamily = helpers.getValueOrDefault(scaleLabelOpts.fontFamily, globalDefaults.defaultFontFamily);
<a name="l6844"><span class="linenum">6844</span></a>              var scaleLabelFont = helpers.fontString(scaleLabelFontSize, scaleLabelFontStyle, scaleLabelFontFamily);
<a name="l6845"><span class="linenum">6845</span></a>  
<a name="l6846"><span class="linenum">6846</span></a>              var tickMarkLength = opts.gridLines.tickMarkLength;
<a name="l6847"><span class="linenum">6847</span></a>  
<a name="l6848"><span class="linenum">6848</span></a>  <span class="comment">            // Width</span>
<a name="l6849"><span class="linenum">6849</span></a>              if (isHorizontal) {
<a name="l6850"><span class="linenum">6850</span></a>  <span class="comment">                // subtract the margins to line up with the chartArea if we are a full width scale</span>
<a name="l6851"><span class="linenum">6851</span></a>                  minSize.width = me.isFullWidth() ? me.maxWidth - me.margins.left - me.margins.right : me.maxWidth;
<a name="l6852"><span class="linenum">6852</span></a>              } else {
<a name="l6853"><span class="linenum">6853</span></a>                  minSize.width = display ? tickMarkLength : 0;
<a name="l6854"><span class="linenum">6854</span></a>              }
<a name="l6855"><span class="linenum">6855</span></a>  
<a name="l6856"><span class="linenum">6856</span></a>  <span class="comment">            // height</span>
<a name="l6857"><span class="linenum">6857</span></a>              if (isHorizontal) {
<a name="l6858"><span class="linenum">6858</span></a>                  minSize.height = display ? tickMarkLength : 0;
<a name="l6859"><span class="linenum">6859</span></a>              } else {
<a name="l6860"><span class="linenum">6860</span></a>                  minSize.height = me.maxHeight; <span class="comment">// fill all the height</span>
<a name="l6861"><span class="linenum">6861</span></a>              }
<a name="l6862"><span class="linenum">6862</span></a>  
<a name="l6863"><span class="linenum">6863</span></a>  <span class="comment">            // Are we showing a title for the scale?</span>
<a name="l6864"><span class="linenum">6864</span></a>              if (scaleLabelOpts.display &amp;&amp; display) {
<a name="l6865"><span class="linenum">6865</span></a>                  if (isHorizontal) {
<a name="l6866"><span class="linenum">6866</span></a>                      minSize.height += (scaleLabelFontSize * 1.5);
<a name="l6867"><span class="linenum">6867</span></a>                  } else {
<a name="l6868"><span class="linenum">6868</span></a>                      minSize.width += (scaleLabelFontSize * 1.5);
<a name="l6869"><span class="linenum">6869</span></a>                  }
<a name="l6870"><span class="linenum">6870</span></a>              }
<a name="l6871"><span class="linenum">6871</span></a>  
<a name="l6872"><span class="linenum">6872</span></a>              if (tickOpts.display &amp;&amp; display) {
<a name="l6873"><span class="linenum">6873</span></a>  <span class="comment">                // Don't bother fitting the ticks if we are not showing them</span>
<a name="l6874"><span class="linenum">6874</span></a>                  if (!me.longestTextCache) {
<a name="l6875"><span class="linenum">6875</span></a>                      me.longestTextCache = {};
<a name="l6876"><span class="linenum">6876</span></a>                  }
<a name="l6877"><span class="linenum">6877</span></a>  
<a name="l6878"><span class="linenum">6878</span></a>                  var largestTextWidth = helpers.longestText(me.ctx, tickLabelFont, me.ticks, me.longestTextCache);
<a name="l6879"><span class="linenum">6879</span></a>                  var tallestLabelHeightInLines = helpers.numberOfLabelLines(me.ticks);
<a name="l6880"><span class="linenum">6880</span></a>                  var lineSpace = tickFontSize * 0.5;
<a name="l6881"><span class="linenum">6881</span></a>  
<a name="l6882"><span class="linenum">6882</span></a>                  if (isHorizontal) {
<a name="l6883"><span class="linenum">6883</span></a>  <span class="comment">                    // A horizontal axis is more constrained by the height.</span>
<a name="l6884"><span class="linenum">6884</span></a>                      me.longestLabelWidth = largestTextWidth;
<a name="l6885"><span class="linenum">6885</span></a>  
<a name="l6886"><span class="linenum">6886</span></a>  <span class="comment">                    // TODO - improve this calculation</span>
<a name="l6887"><span class="linenum">6887</span></a>                      var labelHeight = (Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(helpers.toRadians(me.labelRotation)) * me.longestLabelWidth) + (tickFontSize * tallestLabelHeightInLines) + (lineSpace * tallestLabelHeightInLines);
<a name="l6888"><span class="linenum">6888</span></a>  
<a name="l6889"><span class="linenum">6889</span></a>                      minSize.height = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(me.maxHeight, minSize.height + labelHeight);
<a name="l6890"><span class="linenum">6890</span></a>                      me.ctx.font = tickLabelFont;
<a name="l6891"><span class="linenum">6891</span></a>  
<a name="l6892"><span class="linenum">6892</span></a>                      var firstLabelWidth = me.ctx.measureText(me.ticks[0]).width;
<a name="l6893"><span class="linenum">6893</span></a>                      var lastLabelWidth = me.ctx.measureText(me.ticks[me.ticks.length - 1]).width;
<a name="l6894"><span class="linenum">6894</span></a>  
<a name="l6895"><span class="linenum">6895</span></a>  <span class="comment">                    // Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned which means that the right padding is dominated</span>
<a name="l6896"><span class="linenum">6896</span></a>  <span class="comment">                    // by the font height</span>
<a name="l6897"><span class="linenum">6897</span></a>                      var cosRotation = Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(helpers.toRadians(me.labelRotation));
<a name="l6898"><span class="linenum">6898</span></a>                      var sinRotation = Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(helpers.toRadians(me.labelRotation));
<a name="l6899"><span class="linenum">6899</span></a>                      me.paddingLeft = me.labelRotation !== 0 ? (cosRotation * firstLabelWidth) + 3 : firstLabelWidth / 2 + 3; <span class="comment">// add 3 px to move away from canvas edges</span>
<a name="l6900"><span class="linenum">6900</span></a>                      me.paddingRight = me.labelRotation !== 0 ? (sinRotation * (tickFontSize / 2)) + 3 : lastLabelWidth / 2 + 3; <span class="comment">// when rotated</span>
<a name="l6901"><span class="linenum">6901</span></a>                  } else {
<a name="l6902"><span class="linenum">6902</span></a>  <span class="comment">                    // A vertical axis is more constrained by the width. Labels are the dominant factor here, so get that length first</span>
<a name="l6903"><span class="linenum">6903</span></a>                      var maxLabelWidth = me.maxWidth - minSize.width;
<a name="l6904"><span class="linenum">6904</span></a>  
<a name="l6905"><span class="linenum">6905</span></a>  <span class="comment">                    // Account for padding</span>
<a name="l6906"><span class="linenum">6906</span></a>                      var mirror = tickOpts.mirror;
<a name="l6907"><span class="linenum">6907</span></a>                      if (!mirror) {
<a name="l6908"><span class="linenum">6908</span></a>                          largestTextWidth += me.options.ticks.padding;
<a name="l6909"><span class="linenum">6909</span></a>                      } else {
<a name="l6910"><span class="linenum">6910</span></a>  <span class="comment">                        // If mirrored text is on the inside so don't expand</span>
<a name="l6911"><span class="linenum">6911</span></a>                          largestTextWidth = 0;
<a name="l6912"><span class="linenum">6912</span></a>                      }
<a name="l6913"><span class="linenum">6913</span></a>  
<a name="l6914"><span class="linenum">6914</span></a>                      if (largestTextWidth &lt; maxLabelWidth) {
<a name="l6915"><span class="linenum">6915</span></a>  <span class="comment">                        // We don't need all the room</span>
<a name="l6916"><span class="linenum">6916</span></a>                          minSize.width += largestTextWidth;
<a name="l6917"><span class="linenum">6917</span></a>                      } else {
<a name="l6918"><span class="linenum">6918</span></a>  <span class="comment">                        // Expand to max size</span>
<a name="l6919"><span class="linenum">6919</span></a>                          minSize.width = me.maxWidth;
<a name="l6920"><span class="linenum">6920</span></a>                      }
<a name="l6921"><span class="linenum">6921</span></a>  
<a name="l6922"><span class="linenum">6922</span></a>                      me.paddingTop = tickFontSize / 2;
<a name="l6923"><span class="linenum">6923</span></a>                      me.paddingBottom = tickFontSize / 2;
<a name="l6924"><span class="linenum">6924</span></a>                  }
<a name="l6925"><span class="linenum">6925</span></a>              }
<a name="l6926"><span class="linenum">6926</span></a>  
<a name="l6927"><span class="linenum">6927</span></a>              if (me.margins) {
<a name="l6928"><span class="linenum">6928</span></a>                  me.paddingLeft = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.paddingLeft - me.margins.left, 0);
<a name="l6929"><span class="linenum">6929</span></a>                  me.paddingTop = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.paddingTop - me.margins.top, 0);
<a name="l6930"><span class="linenum">6930</span></a>                  me.paddingRight = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.paddingRight - me.margins.right, 0);
<a name="l6931"><span class="linenum">6931</span></a>                  me.paddingBottom = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.paddingBottom - me.margins.bottom, 0);
<a name="l6932"><span class="linenum">6932</span></a>              }
<a name="l6933"><span class="linenum">6933</span></a>  
<a name="l6934"><span class="linenum">6934</span></a>              me.width = minSize.width;
<a name="l6935"><span class="linenum">6935</span></a>              me.height = minSize.height;
<a name="l6936"><span class="linenum">6936</span></a>  
<a name="l6937"><span class="linenum">6937</span></a>          },
<a name="l6938"><span class="linenum">6938</span></a>          afterFit: function() {
<a name="l6939"><span class="linenum">6939</span></a>              helpers.callCallback(this.options.afterFit, [this]);
<a name="l6940"><span class="linenum">6940</span></a>          },
<a name="l6941"><span class="linenum">6941</span></a>  
<a name="l6942"><span class="linenum">6942</span></a>  <span class="comment">        // Shared Methods</span>
<a name="l6943"><span class="linenum">6943</span></a>          isHorizontal: function() {
<a name="l6944"><span class="linenum">6944</span></a>              return this.options.position === &quot;top&quot; || this.options.position === &quot;bottom&quot;;
<a name="l6945"><span class="linenum">6945</span></a>          },
<a name="l6946"><span class="linenum">6946</span></a>          isFullWidth: function() {
<a name="l6947"><span class="linenum">6947</span></a>              return (this.options.fullWidth);
<a name="l6948"><span class="linenum">6948</span></a>          },
<a name="l6949"><span class="linenum">6949</span></a>  
<a name="l6950"><span class="linenum">6950</span></a>  <span class="comment">        // Get the correct value. NaN bad inputs, If the value type is object get the x or y based on whether we are horizontal or not</span>
<a name="l6951"><span class="linenum">6951</span></a>          getRightValue: function getRightValue(rawValue) {
<a name="l6952"><span class="linenum">6952</span></a>  <span class="comment">            // Null and undefined values first</span>
<a name="l6953"><span class="linenum">6953</span></a>              if (rawValue === null || typeof(rawValue) === 'undefined') {
<a name="l6954"><span class="linenum">6954</span></a>                  return NaN;
<a name="l6955"><span class="linenum">6955</span></a>              }
<a name="l6956"><span class="linenum">6956</span></a>  <span class="comment">            // isNaN(object) returns true, so make sure NaN is checking for a number</span>
<a name="l6957"><span class="linenum">6957</span></a>              if (typeof(rawValue) === 'number' &amp;&amp; isNaN(rawValue)) {
<a name="l6958"><span class="linenum">6958</span></a>                  return NaN;
<a name="l6959"><span class="linenum">6959</span></a>              }
<a name="l6960"><span class="linenum">6960</span></a>  <span class="comment">            // If it is in fact an object, dive in one more level</span>
<a name="l6961"><span class="linenum">6961</span></a>              if (typeof(rawValue) === &quot;object&quot;) {
<a name="l6962"><span class="linenum">6962</span></a>                  if ((rawValue instanceof Date) || (rawValue.isValid)) {
<a name="l6963"><span class="linenum">6963</span></a>                      return rawValue;
<a name="l6964"><span class="linenum">6964</span></a>                  } else {
<a name="l6965"><span class="linenum">6965</span></a>                      return getRightValue(this.isHorizontal() ? rawValue.x : rawValue.y);
<a name="l6966"><span class="linenum">6966</span></a>                  }
<a name="l6967"><span class="linenum">6967</span></a>              }
<a name="l6968"><span class="linenum">6968</span></a>  
<a name="l6969"><span class="linenum">6969</span></a>  <span class="comment">            // Value is good, return it</span>
<a name="l6970"><span class="linenum">6970</span></a>              return rawValue;
<a name="l6971"><span class="linenum">6971</span></a>          },
<a name="l6972"><span class="linenum">6972</span></a>  
<a name="l6973"><span class="linenum">6973</span></a>  <span class="comment">        // Used to get the value to display in the tooltip for the data at the given index</span>
<a name="l6974"><span class="linenum">6974</span></a>  <span class="comment">        // function getLabelForIndex(index, datasetIndex)</span>
<a name="l6975"><span class="linenum">6975</span></a>          getLabelForIndex: helpers.noop,
<a name="l6976"><span class="linenum">6976</span></a>  
<a name="l6977"><span class="linenum">6977</span></a>  <span class="comment">        // Used to get data value locations.  Value can either be an index or a numerical value</span>
<a name="l6978"><span class="linenum">6978</span></a>          getPixelForValue: helpers.noop,
<a name="l6979"><span class="linenum">6979</span></a>  
<a name="l6980"><span class="linenum">6980</span></a>  <span class="comment">        // Used to get the data value from a given pixel. This is the inverse of getPixelForValue</span>
<a name="l6981"><span class="linenum">6981</span></a>          getValueForPixel: helpers.noop,
<a name="l6982"><span class="linenum">6982</span></a>  
<a name="l6983"><span class="linenum">6983</span></a>  <span class="comment">        // Used for tick location, should</span>
<a name="l6984"><span class="linenum">6984</span></a>          getPixelForTick: function(index, includeOffset) {
<a name="l6985"><span class="linenum">6985</span></a>              var me = this;
<a name="l6986"><span class="linenum">6986</span></a>              if (me.isHorizontal()) {
<a name="l6987"><span class="linenum">6987</span></a>                  var innerWidth = me.width - (me.paddingLeft + me.paddingRight);
<a name="l6988"><span class="linenum">6988</span></a>                  var tickWidth = innerWidth / Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>((me.ticks.length - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);
<a name="l6989"><span class="linenum">6989</span></a>                  var pixel = (tickWidth * index) + me.paddingLeft;
<a name="l6990"><span class="linenum">6990</span></a>  
<a name="l6991"><span class="linenum">6991</span></a>                  if (includeOffset) {
<a name="l6992"><span class="linenum">6992</span></a>                      pixel += tickWidth / 2;
<a name="l6993"><span class="linenum">6993</span></a>                  }
<a name="l6994"><span class="linenum">6994</span></a>  
<a name="l6995"><span class="linenum">6995</span></a>                  var finalVal = me.left + Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(pixel);
<a name="l6996"><span class="linenum">6996</span></a>                  finalVal += me.isFullWidth() ? me.margins.left : 0;
<a name="l6997"><span class="linenum">6997</span></a>                  return finalVal;
<a name="l6998"><span class="linenum">6998</span></a>              } else {
<a name="l6999"><span class="linenum">6999</span></a>                  var innerHeight = me.height - (me.paddingTop + me.paddingBottom);
<a name="l7000"><span class="linenum">7000</span></a>                  return me.top + (index * (innerHeight / (me.ticks.length - 1)));
<a name="l7001"><span class="linenum">7001</span></a>              }
<a name="l7002"><span class="linenum">7002</span></a>          },
<a name="l7003"><span class="linenum">7003</span></a>  
<a name="l7004"><span class="linenum">7004</span></a>  <span class="comment">        // Utility for getting the pixel location of a percentage of scale</span>
<a name="l7005"><span class="linenum">7005</span></a>          getPixelForDecimal: function(decimal <span class="comment">/*, includeOffset*/</span> ) {
<a name="l7006"><span class="linenum">7006</span></a>              var me = this;
<a name="l7007"><span class="linenum">7007</span></a>              if (me.isHorizontal()) {
<a name="l7008"><span class="linenum">7008</span></a>                  var innerWidth = me.width - (me.paddingLeft + me.paddingRight);
<a name="l7009"><span class="linenum">7009</span></a>                  var valueOffset = (innerWidth * decimal) + me.paddingLeft;
<a name="l7010"><span class="linenum">7010</span></a>  
<a name="l7011"><span class="linenum">7011</span></a>                  var finalVal = me.left + Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(valueOffset);
<a name="l7012"><span class="linenum">7012</span></a>                  finalVal += me.isFullWidth() ? me.margins.left : 0;
<a name="l7013"><span class="linenum">7013</span></a>                  return finalVal;
<a name="l7014"><span class="linenum">7014</span></a>              } else {
<a name="l7015"><span class="linenum">7015</span></a>                  return me.top + (decimal * me.height);
<a name="l7016"><span class="linenum">7016</span></a>              }
<a name="l7017"><span class="linenum">7017</span></a>          },
<a name="l7018"><span class="linenum">7018</span></a>  
<a name="l7019"><span class="linenum">7019</span></a>          getBasePixel: function() {
<a name="l7020"><span class="linenum">7020</span></a>              var me = this;
<a name="l7021"><span class="linenum">7021</span></a>              var min = me.min;
<a name="l7022"><span class="linenum">7022</span></a>              var max = me.max;
<a name="l7023"><span class="linenum">7023</span></a>  
<a name="l7024"><span class="linenum">7024</span></a>              return me.getPixelForValue(
<a name="l7025"><span class="linenum">7025</span></a>                  me.beginAtZero? 0:
<a name="l7026"><span class="linenum">7026</span></a>                  min &lt; 0 &amp;&amp; max &lt; 0? max :
<a name="l7027"><span class="linenum">7027</span></a>                  min &gt; 0 &amp;&amp; max &gt; 0? min :
<a name="l7028"><span class="linenum">7028</span></a>                  0);
<a name="l7029"><span class="linenum">7029</span></a>          },
<a name="l7030"><span class="linenum">7030</span></a>  
<a name="l7031"><span class="linenum">7031</span></a>  <span class="comment">        // Actualy draw the scale on the canvas</span>
<a name="l7032"><span class="linenum">7032</span></a>  <span class="comment">        // @param {rectangle} chartArea : the area of the chart to draw full grid lines on</span>
<a name="l7033"><span class="linenum">7033</span></a>          draw: function(chartArea) {
<a name="l7034"><span class="linenum">7034</span></a>              var me = this;
<a name="l7035"><span class="linenum">7035</span></a>              var options = me.options;
<a name="l7036"><span class="linenum">7036</span></a>              if (!options.display) {
<a name="l7037"><span class="linenum">7037</span></a>                  return;
<a name="l7038"><span class="linenum">7038</span></a>              }
<a name="l7039"><span class="linenum">7039</span></a>  
<a name="l7040"><span class="linenum">7040</span></a>              var context = me.ctx;
<a name="l7041"><span class="linenum">7041</span></a>              var globalDefaults = Chart.defaults.global;
<a name="l7042"><span class="linenum">7042</span></a>              var optionTicks = options.ticks;
<a name="l7043"><span class="linenum">7043</span></a>              var gridLines = options.gridLines;
<a name="l7044"><span class="linenum">7044</span></a>              var scaleLabel = options.scaleLabel;
<a name="l7045"><span class="linenum">7045</span></a>  
<a name="l7046"><span class="linenum">7046</span></a>              var isRotated = me.labelRotation !== 0;
<a name="l7047"><span class="linenum">7047</span></a>              var skipRatio;
<a name="l7048"><span class="linenum">7048</span></a>              var useAutoskipper = optionTicks.autoSkip;
<a name="l7049"><span class="linenum">7049</span></a>              var isHorizontal = me.isHorizontal();
<a name="l7050"><span class="linenum">7050</span></a>  
<a name="l7051"><span class="linenum">7051</span></a>  <span class="comment">            // figure out the maximum number of gridlines to show</span>
<a name="l7052"><span class="linenum">7052</span></a>              var maxTicks;
<a name="l7053"><span class="linenum">7053</span></a>              if (optionTicks.maxTicksLimit) {
<a name="l7054"><span class="linenum">7054</span></a>                  maxTicks = optionTicks.maxTicksLimit;
<a name="l7055"><span class="linenum">7055</span></a>              }
<a name="l7056"><span class="linenum">7056</span></a>  
<a name="l7057"><span class="linenum">7057</span></a>              var tickFontColor = helpers.getValueOrDefault(optionTicks.fontColor, globalDefaults.defaultFontColor);
<a name="l7058"><span class="linenum">7058</span></a>              var tickFontSize = helpers.getValueOrDefault(optionTicks.fontSize, globalDefaults.defaultFontSize);
<a name="l7059"><span class="linenum">7059</span></a>              var tickFontStyle = helpers.getValueOrDefault(optionTicks.fontStyle, globalDefaults.defaultFontStyle);
<a name="l7060"><span class="linenum">7060</span></a>              var tickFontFamily = helpers.getValueOrDefault(optionTicks.fontFamily, globalDefaults.defaultFontFamily);
<a name="l7061"><span class="linenum">7061</span></a>              var tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);
<a name="l7062"><span class="linenum">7062</span></a>              var tl = gridLines.tickMarkLength;
<a name="l7063"><span class="linenum">7063</span></a>  
<a name="l7064"><span class="linenum">7064</span></a>              var scaleLabelFontColor = helpers.getValueOrDefault(scaleLabel.fontColor, globalDefaults.defaultFontColor);
<a name="l7065"><span class="linenum">7065</span></a>              var scaleLabelFontSize = helpers.getValueOrDefault(scaleLabel.fontSize, globalDefaults.defaultFontSize);
<a name="l7066"><span class="linenum">7066</span></a>              var scaleLabelFontStyle = helpers.getValueOrDefault(scaleLabel.fontStyle, globalDefaults.defaultFontStyle);
<a name="l7067"><span class="linenum">7067</span></a>              var scaleLabelFontFamily = helpers.getValueOrDefault(scaleLabel.fontFamily, globalDefaults.defaultFontFamily);
<a name="l7068"><span class="linenum">7068</span></a>              var scaleLabelFont = helpers.fontString(scaleLabelFontSize, scaleLabelFontStyle, scaleLabelFontFamily);
<a name="l7069"><span class="linenum">7069</span></a>  
<a name="l7070"><span class="linenum">7070</span></a>              var labelRotationRadians = helpers.toRadians(me.labelRotation);
<a name="l7071"><span class="linenum">7071</span></a>              var cosRotation = Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(labelRotationRadians);
<a name="l7072"><span class="linenum">7072</span></a>              var sinRotation = Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(labelRotationRadians);
<a name="l7073"><span class="linenum">7073</span></a>              var longestRotatedLabel = me.longestLabelWidth * cosRotation;
<a name="l7074"><span class="linenum">7074</span></a>              var rotatedLabelHeight = tickFontSize * sinRotation;
<a name="l7075"><span class="linenum">7075</span></a>  
<a name="l7076"><span class="linenum">7076</span></a>  <span class="comment">            // Make sure we draw text in the correct color and font</span>
<a name="l7077"><span class="linenum">7077</span></a>              context.fillStyle = tickFontColor;
<a name="l7078"><span class="linenum">7078</span></a>  
<a name="l7079"><span class="linenum">7079</span></a>              var itemsToDraw = [];
<a name="l7080"><span class="linenum">7080</span></a>  
<a name="l7081"><span class="linenum">7081</span></a>              if (isHorizontal) {
<a name="l7082"><span class="linenum">7082</span></a>                  skipRatio = false;
<a name="l7083"><span class="linenum">7083</span></a>  
<a name="l7084"><span class="linenum">7084</span></a>  <span class="comment">                // Only calculate the skip ratio with the half width of longestRotateLabel if we got an actual rotation</span>
<a name="l7085"><span class="linenum">7085</span></a>  <span class="comment">                // See #2584</span>
<a name="l7086"><span class="linenum">7086</span></a>                  if (isRotated) {
<a name="l7087"><span class="linenum">7087</span></a>                      longestRotatedLabel /= 2;
<a name="l7088"><span class="linenum">7088</span></a>                  }
<a name="l7089"><span class="linenum">7089</span></a>  
<a name="l7090"><span class="linenum">7090</span></a>                  if ((longestRotatedLabel + optionTicks.autoSkipPadding) * me.ticks.length &gt; (me.width - (me.paddingLeft + me.paddingRight))) {
<a name="l7091"><span class="linenum">7091</span></a>                      skipRatio = 1 + Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(((longestRotatedLabel + optionTicks.autoSkipPadding) * me.ticks.length) / (me.width - (me.paddingLeft + me.paddingRight)));
<a name="l7092"><span class="linenum">7092</span></a>                  }
<a name="l7093"><span class="linenum">7093</span></a>  
<a name="l7094"><span class="linenum">7094</span></a>  <span class="comment">                // if they defined a max number of optionTicks,</span>
<a name="l7095"><span class="linenum">7095</span></a>  <span class="comment">                // increase skipRatio until that number is met</span>
<a name="l7096"><span class="linenum">7096</span></a>                  if (maxTicks &amp;&amp; me.ticks.length &gt; maxTicks) {
<a name="l7097"><span class="linenum">7097</span></a>                      while (!skipRatio || me.ticks.length / (skipRatio || 1) &gt; maxTicks) {
<a name="l7098"><span class="linenum">7098</span></a>                          if (!skipRatio) {
<a name="l7099"><span class="linenum">7099</span></a>                              skipRatio = 1;
<a name="l7100"><span class="linenum">7100</span></a>                          }
<a name="l7101"><span class="linenum">7101</span></a>                          skipRatio += 1;
<a name="l7102"><span class="linenum">7102</span></a>                      }
<a name="l7103"><span class="linenum">7103</span></a>                  }
<a name="l7104"><span class="linenum">7104</span></a>  
<a name="l7105"><span class="linenum">7105</span></a>                  if (!useAutoskipper) {
<a name="l7106"><span class="linenum">7106</span></a>                      skipRatio = false;
<a name="l7107"><span class="linenum">7107</span></a>                  }
<a name="l7108"><span class="linenum">7108</span></a>              }
<a name="l7109"><span class="linenum">7109</span></a>  
<a name="l7110"><span class="linenum">7110</span></a>  
<a name="l7111"><span class="linenum">7111</span></a>              var xTickStart = options.position === &quot;right&quot; ? me.left : me.right - tl;
<a name="l7112"><span class="linenum">7112</span></a>              var xTickEnd = options.position === &quot;right&quot; ? me.left + tl : me.right;
<a name="l7113"><span class="linenum">7113</span></a>              var yTickStart = options.position === &quot;bottom&quot; ? me.top : me.bottom - tl;
<a name="l7114"><span class="linenum">7114</span></a>              var yTickEnd = options.position === &quot;bottom&quot; ? me.top + tl : me.bottom;
<a name="l7115"><span class="linenum">7115</span></a>  
<a name="l7116"><span class="linenum">7116</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.ticks, function(label, index) {
<a name="l7117"><span class="linenum">7117</span></a>  <span class="comment">                // If the callback returned a null or undefined value, do not draw this line</span>
<a name="l7118"><span class="linenum">7118</span></a>                  if (label === undefined || label === null) {
<a name="l7119"><span class="linenum">7119</span></a>                      return;
<a name="l7120"><span class="linenum">7120</span></a>                  }
<a name="l7121"><span class="linenum">7121</span></a>  
<a name="l7122"><span class="linenum">7122</span></a>                  var isLastTick = me.ticks.length === index + 1;
<a name="l7123"><span class="linenum">7123</span></a>  
<a name="l7124"><span class="linenum">7124</span></a>  <span class="comment">                // Since we always show the last tick,we need may need to hide the last shown one before</span>
<a name="l7125"><span class="linenum">7125</span></a>                  var shouldSkip = (skipRatio &gt; 1 &amp;&amp; index % skipRatio &gt; 0) || (index % skipRatio === 0 &amp;&amp; index + skipRatio &gt;= me.ticks.length);
<a name="l7126"><span class="linenum">7126</span></a>                  if (shouldSkip &amp;&amp; !isLastTick || (label === undefined || label === null)) {
<a name="l7127"><span class="linenum">7127</span></a>                      return;
<a name="l7128"><span class="linenum">7128</span></a>                  }
<a name="l7129"><span class="linenum">7129</span></a>  
<a name="l7130"><span class="linenum">7130</span></a>                  var lineWidth, lineColor;
<a name="l7131"><span class="linenum">7131</span></a>                  if (index === (typeof me.zeroLineIndex !== 'undefined' ? me.zeroLineIndex : 0)) {
<a name="l7132"><span class="linenum">7132</span></a>  <span class="comment">                    // Draw the first index specially</span>
<a name="l7133"><span class="linenum">7133</span></a>                      lineWidth = gridLines.zeroLineWidth;
<a name="l7134"><span class="linenum">7134</span></a>                      lineColor = gridLines.zeroLineColor;
<a name="l7135"><span class="linenum">7135</span></a>                  } else  {
<a name="l7136"><span class="linenum">7136</span></a>                      lineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, index);
<a name="l7137"><span class="linenum">7137</span></a>                      lineColor = helpers.getValueAtIndexOrDefault(gridLines.color, index);
<a name="l7138"><span class="linenum">7138</span></a>                  }
<a name="l7139"><span class="linenum">7139</span></a>  
<a name="l7140"><span class="linenum">7140</span></a>  <span class="comment">                // Common properties</span>
<a name="l7141"><span class="linenum">7141</span></a>                  var tx1, ty1, tx2, ty2, x1, y1, x2, y2, labelX, labelY;
<a name="l7142"><span class="linenum">7142</span></a>                  var textAlign, textBaseline = 'middle';
<a name="l7143"><span class="linenum">7143</span></a>  
<a name="l7144"><span class="linenum">7144</span></a>                  if (isHorizontal) {
<a name="l7145"><span class="linenum">7145</span></a>                      if (!isRotated) {
<a name="l7146"><span class="linenum">7146</span></a>                          textBaseline = options.position === 'top' ? 'bottom' : 'top';
<a name="l7147"><span class="linenum">7147</span></a>                      }
<a name="l7148"><span class="linenum">7148</span></a>  
<a name="l7149"><span class="linenum">7149</span></a>                      textAlign = isRotated ? 'right' : 'center';
<a name="l7150"><span class="linenum">7150</span></a>  
<a name="l7151"><span class="linenum">7151</span></a>                      var xLineValue = me.getPixelForTick(index) + helpers.aliasPixel(lineWidth); <span class="comment">// xvalues for grid lines</span>
<a name="l7152"><span class="linenum">7152</span></a>                      labelX = me.getPixelForTick(index, gridLines.offsetGridLines) + optionTicks.labelOffset; <span class="comment">// x values for optionTicks (need to consider offsetLabel option)</span>
<a name="l7153"><span class="linenum">7153</span></a>                      labelY = (isRotated) ? me.top + 12 : options.position === 'top' ? me.bottom - tl : me.top + tl;
<a name="l7154"><span class="linenum">7154</span></a>  
<a name="l7155"><span class="linenum">7155</span></a>                      tx1 = tx2 = x1 = x2 = xLineValue;
<a name="l7156"><span class="linenum">7156</span></a>                      ty1 = yTickStart;
<a name="l7157"><span class="linenum">7157</span></a>                      ty2 = yTickEnd;
<a name="l7158"><span class="linenum">7158</span></a>                      y1 = chartArea.top;
<a name="l7159"><span class="linenum">7159</span></a>                      y2 = chartArea.bottom;
<a name="l7160"><span class="linenum">7160</span></a>                  } else {
<a name="l7161"><span class="linenum">7161</span></a>                      if (options.position === 'left') {
<a name="l7162"><span class="linenum">7162</span></a>                          if (optionTicks.mirror) {
<a name="l7163"><span class="linenum">7163</span></a>                              labelX = me.right + optionTicks.padding;
<a name="l7164"><span class="linenum">7164</span></a>                              textAlign = 'left';
<a name="l7165"><span class="linenum">7165</span></a>                          } else {
<a name="l7166"><span class="linenum">7166</span></a>                              labelX = me.right - optionTicks.padding;
<a name="l7167"><span class="linenum">7167</span></a>                              textAlign = 'right';
<a name="l7168"><span class="linenum">7168</span></a>                          }
<a name="l7169"><span class="linenum">7169</span></a>                      } else {
<a name="l7170"><span class="linenum">7170</span></a>  <span class="comment">                        // right side</span>
<a name="l7171"><span class="linenum">7171</span></a>                          if (optionTicks.mirror) {
<a name="l7172"><span class="linenum">7172</span></a>                              labelX = me.left - optionTicks.padding;
<a name="l7173"><span class="linenum">7173</span></a>                              textAlign = 'right';
<a name="l7174"><span class="linenum">7174</span></a>                          } else {
<a name="l7175"><span class="linenum">7175</span></a>                              labelX = me.left + optionTicks.padding;
<a name="l7176"><span class="linenum">7176</span></a>                              textAlign = 'left';
<a name="l7177"><span class="linenum">7177</span></a>                          }
<a name="l7178"><span class="linenum">7178</span></a>                      }
<a name="l7179"><span class="linenum">7179</span></a>  
<a name="l7180"><span class="linenum">7180</span></a>                      var yLineValue = me.getPixelForTick(index); <span class="comment">// xvalues for grid lines</span>
<a name="l7181"><span class="linenum">7181</span></a>                      yLineValue += helpers.aliasPixel(lineWidth);
<a name="l7182"><span class="linenum">7182</span></a>                      labelY = me.getPixelForTick(index, gridLines.offsetGridLines);
<a name="l7183"><span class="linenum">7183</span></a>  
<a name="l7184"><span class="linenum">7184</span></a>                      tx1 = xTickStart;
<a name="l7185"><span class="linenum">7185</span></a>                      tx2 = xTickEnd;
<a name="l7186"><span class="linenum">7186</span></a>                      x1 = chartArea.left;
<a name="l7187"><span class="linenum">7187</span></a>                      x2 = chartArea.right;
<a name="l7188"><span class="linenum">7188</span></a>                      ty1 = ty2 = y1 = y2 = yLineValue;
<a name="l7189"><span class="linenum">7189</span></a>                  }
<a name="l7190"><span class="linenum">7190</span></a>  
<a name="l7191"><span class="linenum">7191</span></a>                  itemsToDraw.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>({
<a name="l7192"><span class="linenum">7192</span></a>                      tx1: tx1,
<a name="l7193"><span class="linenum">7193</span></a>                      ty1: ty1,
<a name="l7194"><span class="linenum">7194</span></a>                      tx2: tx2,
<a name="l7195"><span class="linenum">7195</span></a>                      ty2: ty2,
<a name="l7196"><span class="linenum">7196</span></a>                      x1: x1,
<a name="l7197"><span class="linenum">7197</span></a>                      y1: y1,
<a name="l7198"><span class="linenum">7198</span></a>                      x2: x2,
<a name="l7199"><span class="linenum">7199</span></a>                      y2: y2,
<a name="l7200"><span class="linenum">7200</span></a>                      labelX: labelX,
<a name="l7201"><span class="linenum">7201</span></a>                      labelY: labelY,
<a name="l7202"><span class="linenum">7202</span></a>                      glWidth: lineWidth,
<a name="l7203"><span class="linenum">7203</span></a>                      glColor: lineColor,
<a name="l7204"><span class="linenum">7204</span></a>                      rotation: -1 * labelRotationRadians,
<a name="l7205"><span class="linenum">7205</span></a>                      label: label,
<a name="l7206"><span class="linenum">7206</span></a>                      textBaseline: textBaseline,
<a name="l7207"><span class="linenum">7207</span></a>                      textAlign: textAlign
<a name="l7208"><span class="linenum">7208</span></a>                  });
<a name="l7209"><span class="linenum">7209</span></a>              });
<a name="l7210"><span class="linenum">7210</span></a>  
<a name="l7211"><span class="linenum">7211</span></a>  <span class="comment">            // Draw all of the tick labels, tick marks, and grid lines at the correct places</span>
<a name="l7212"><span class="linenum">7212</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(itemsToDraw, function(itemToDraw) {
<a name="l7213"><span class="linenum">7213</span></a>                  if (gridLines.display) {
<a name="l7214"><span class="linenum">7214</span></a>                      context.lineWidth = itemToDraw.glWidth;
<a name="l7215"><span class="linenum">7215</span></a>                      context.strokeStyle = itemToDraw.glColor;
<a name="l7216"><span class="linenum">7216</span></a>  
<a name="l7217"><span class="linenum">7217</span></a>                      context.beginPath();
<a name="l7218"><span class="linenum">7218</span></a>  
<a name="l7219"><span class="linenum">7219</span></a>                      if (gridLines.drawTicks) {
<a name="l7220"><span class="linenum">7220</span></a>                          context.moveTo(itemToDraw.tx1, itemToDraw.ty1);
<a name="l7221"><span class="linenum">7221</span></a>                          context.lineTo(itemToDraw.tx2, itemToDraw.ty2);
<a name="l7222"><span class="linenum">7222</span></a>                      }
<a name="l7223"><span class="linenum">7223</span></a>  
<a name="l7224"><span class="linenum">7224</span></a>                      if (gridLines.drawOnChartArea) {
<a name="l7225"><span class="linenum">7225</span></a>                          context.moveTo(itemToDraw.x1, itemToDraw.y1);
<a name="l7226"><span class="linenum">7226</span></a>                          context.lineTo(itemToDraw.x2, itemToDraw.y2);
<a name="l7227"><span class="linenum">7227</span></a>                      }
<a name="l7228"><span class="linenum">7228</span></a>  
<a name="l7229"><span class="linenum">7229</span></a>                      context.stroke();
<a name="l7230"><span class="linenum">7230</span></a>                  }
<a name="l7231"><span class="linenum">7231</span></a>  
<a name="l7232"><span class="linenum">7232</span></a>                  if (optionTicks.display) {
<a name="l7233"><span class="linenum">7233</span></a>                      context.<a class="function" onClick="logFunction('save')" href="../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>();
<a name="l7234"><span class="linenum">7234</span></a>                      context.<a class="function" onClick="logFunction('translate')" href="../../../_functions/translate.html" onMouseOver="funcPopup(event,'translate')">translate</a>(itemToDraw.labelX, itemToDraw.labelY);
<a name="l7235"><span class="linenum">7235</span></a>                      context.<a class="function" onClick="logFunction('rotate')" href="../../../_functions/rotate.html" onMouseOver="funcPopup(event,'rotate')">rotate</a>(itemToDraw.rotation);
<a name="l7236"><span class="linenum">7236</span></a>                      context.font = tickLabelFont;
<a name="l7237"><span class="linenum">7237</span></a>                      context.textBaseline = itemToDraw.textBaseline;
<a name="l7238"><span class="linenum">7238</span></a>                      context.textAlign = itemToDraw.textAlign;
<a name="l7239"><span class="linenum">7239</span></a>  
<a name="l7240"><span class="linenum">7240</span></a>                      var label = itemToDraw.label;
<a name="l7241"><span class="linenum">7241</span></a>                      if (helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(label)) {
<a name="l7242"><span class="linenum">7242</span></a>                          for (var i = 0, y = 0; i &lt; label.length; ++i) {
<a name="l7243"><span class="linenum">7243</span></a>  <span class="comment">                            // We just make sure the multiline element is a string here..</span>
<a name="l7244"><span class="linenum">7244</span></a>                              context.fillText('' + label[i], 0, y);
<a name="l7245"><span class="linenum">7245</span></a>  <span class="comment">                            // apply same lineSpacing as calculated @ L#320</span>
<a name="l7246"><span class="linenum">7246</span></a>                              y += (tickFontSize * 1.5);
<a name="l7247"><span class="linenum">7247</span></a>                          }
<a name="l7248"><span class="linenum">7248</span></a>                      } else {
<a name="l7249"><span class="linenum">7249</span></a>                          context.fillText(label, 0, 0);
<a name="l7250"><span class="linenum">7250</span></a>                      }
<a name="l7251"><span class="linenum">7251</span></a>                      context.<a class="function" onClick="logFunction('restore')" href="../../../_functions/restore.html" onMouseOver="funcPopup(event,'restore')">restore</a>();
<a name="l7252"><span class="linenum">7252</span></a>                  }
<a name="l7253"><span class="linenum">7253</span></a>              });
<a name="l7254"><span class="linenum">7254</span></a>  
<a name="l7255"><span class="linenum">7255</span></a>              if (scaleLabel.display) {
<a name="l7256"><span class="linenum">7256</span></a>  <span class="comment">                // Draw the scale label</span>
<a name="l7257"><span class="linenum">7257</span></a>                  var scaleLabelX;
<a name="l7258"><span class="linenum">7258</span></a>                  var scaleLabelY;
<a name="l7259"><span class="linenum">7259</span></a>                  var rotation = 0;
<a name="l7260"><span class="linenum">7260</span></a>  
<a name="l7261"><span class="linenum">7261</span></a>                  if (isHorizontal) {
<a name="l7262"><span class="linenum">7262</span></a>                      scaleLabelX = me.left + ((me.right - me.left) / 2); <span class="comment">// midpoint of the width</span>
<a name="l7263"><span class="linenum">7263</span></a>                      scaleLabelY = options.position === 'bottom' ? me.bottom - (scaleLabelFontSize / 2) : me.top + (scaleLabelFontSize / 2);
<a name="l7264"><span class="linenum">7264</span></a>                  } else {
<a name="l7265"><span class="linenum">7265</span></a>                      var isLeft = options.position === 'left';
<a name="l7266"><span class="linenum">7266</span></a>                      scaleLabelX = isLeft ? me.left + (scaleLabelFontSize / 2) : me.right - (scaleLabelFontSize / 2);
<a name="l7267"><span class="linenum">7267</span></a>                      scaleLabelY = me.top + ((me.bottom - me.top) / 2);
<a name="l7268"><span class="linenum">7268</span></a>                      rotation = isLeft ? -0.5 * Math.PI : 0.5 * Math.PI;
<a name="l7269"><span class="linenum">7269</span></a>                  }
<a name="l7270"><span class="linenum">7270</span></a>                  
<a name="l7271"><span class="linenum">7271</span></a>                  context.<a class="function" onClick="logFunction('save')" href="../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>();
<a name="l7272"><span class="linenum">7272</span></a>                  context.<a class="function" onClick="logFunction('translate')" href="../../../_functions/translate.html" onMouseOver="funcPopup(event,'translate')">translate</a>(scaleLabelX, scaleLabelY);
<a name="l7273"><span class="linenum">7273</span></a>                  context.<a class="function" onClick="logFunction('rotate')" href="../../../_functions/rotate.html" onMouseOver="funcPopup(event,'rotate')">rotate</a>(rotation);
<a name="l7274"><span class="linenum">7274</span></a>                  context.textAlign = 'center';
<a name="l7275"><span class="linenum">7275</span></a>                  context.textBaseline = 'middle';
<a name="l7276"><span class="linenum">7276</span></a>                  context.fillStyle = scaleLabelFontColor; <span class="comment">// render in correct colour</span>
<a name="l7277"><span class="linenum">7277</span></a>                  context.font = scaleLabelFont;
<a name="l7278"><span class="linenum">7278</span></a>                  context.fillText(scaleLabel.labelString, 0, 0);
<a name="l7279"><span class="linenum">7279</span></a>                  context.<a class="function" onClick="logFunction('restore')" href="../../../_functions/restore.html" onMouseOver="funcPopup(event,'restore')">restore</a>();
<a name="l7280"><span class="linenum">7280</span></a>              }
<a name="l7281"><span class="linenum">7281</span></a>  
<a name="l7282"><span class="linenum">7282</span></a>              if (gridLines.drawBorder) {
<a name="l7283"><span class="linenum">7283</span></a>  <span class="comment">                // Draw the line at the edge of the axis</span>
<a name="l7284"><span class="linenum">7284</span></a>                  context.lineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, 0);
<a name="l7285"><span class="linenum">7285</span></a>                  context.strokeStyle = helpers.getValueAtIndexOrDefault(gridLines.color, 0);
<a name="l7286"><span class="linenum">7286</span></a>                  var x1 = me.left,
<a name="l7287"><span class="linenum">7287</span></a>                      x2 = me.right,
<a name="l7288"><span class="linenum">7288</span></a>                      y1 = me.top,
<a name="l7289"><span class="linenum">7289</span></a>                      y2 = me.bottom;
<a name="l7290"><span class="linenum">7290</span></a>  
<a name="l7291"><span class="linenum">7291</span></a>                  var aliasPixel = helpers.aliasPixel(context.lineWidth);
<a name="l7292"><span class="linenum">7292</span></a>                  if (isHorizontal) {
<a name="l7293"><span class="linenum">7293</span></a>                      y1 = y2 = options.position === 'top' ? me.bottom : me.top;
<a name="l7294"><span class="linenum">7294</span></a>                      y1 += aliasPixel;
<a name="l7295"><span class="linenum">7295</span></a>                      y2 += aliasPixel;
<a name="l7296"><span class="linenum">7296</span></a>                  } else {
<a name="l7297"><span class="linenum">7297</span></a>                      x1 = x2 = options.position === 'left' ? me.right : me.left;
<a name="l7298"><span class="linenum">7298</span></a>                      x1 += aliasPixel;
<a name="l7299"><span class="linenum">7299</span></a>                      x2 += aliasPixel;
<a name="l7300"><span class="linenum">7300</span></a>                  }
<a name="l7301"><span class="linenum">7301</span></a>  
<a name="l7302"><span class="linenum">7302</span></a>                  context.beginPath();
<a name="l7303"><span class="linenum">7303</span></a>                  context.moveTo(x1, y1);
<a name="l7304"><span class="linenum">7304</span></a>                  context.lineTo(x2, y2);
<a name="l7305"><span class="linenum">7305</span></a>                  context.stroke();
<a name="l7306"><span class="linenum">7306</span></a>              }
<a name="l7307"><span class="linenum">7307</span></a>          }
<a name="l7308"><span class="linenum">7308</span></a>      });
<a name="l7309"><span class="linenum">7309</span></a>  };
<a name="l7310"><span class="linenum">7310</span></a>  
<a name="l7311"><span class="linenum">7311</span></a>  },{}],31:[function(require,module,exports){
<a name="l7312"><span class="linenum">7312</span></a>  &quot;use strict&quot;;
<a name="l7313"><span class="linenum">7313</span></a>  
<a name="l7314"><span class="linenum">7314</span></a>  module.exports = function(Chart) {
<a name="l7315"><span class="linenum">7315</span></a>  
<a name="l7316"><span class="linenum">7316</span></a>      var helpers = Chart.helpers;
<a name="l7317"><span class="linenum">7317</span></a>  
<a name="l7318"><span class="linenum">7318</span></a>      Chart.scaleService = {
<a name="l7319"><span class="linenum">7319</span></a>  <span class="comment">        // Scale registration object. Extensions can register new scale types (such as log or DB scales) and then</span>
<a name="l7320"><span class="linenum">7320</span></a>  <span class="comment">        // use the new chart options to grab the correct scale</span>
<a name="l7321"><span class="linenum">7321</span></a>          constructors: {},
<a name="l7322"><span class="linenum">7322</span></a>  <span class="comment">        // Use a registration function so that we can move to an ES6 map when we no longer need to support</span>
<a name="l7323"><span class="linenum">7323</span></a>  <span class="comment">        // old browsers</span>
<a name="l7324"><span class="linenum">7324</span></a>  
<a name="l7325"><span class="linenum">7325</span></a>  <span class="comment">        // Scale config defaults</span>
<a name="l7326"><span class="linenum">7326</span></a>          defaults: {},
<a name="l7327"><span class="linenum">7327</span></a>          registerScaleType: function(type, scaleConstructor, defaults) {
<a name="l7328"><span class="linenum">7328</span></a>              this.constructors[type] = scaleConstructor;
<a name="l7329"><span class="linenum">7329</span></a>              this.defaults[type] = helpers.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(defaults);
<a name="l7330"><span class="linenum">7330</span></a>          },
<a name="l7331"><span class="linenum">7331</span></a>          getScaleConstructor: function(type) {
<a name="l7332"><span class="linenum">7332</span></a>              return this.constructors.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(type) ? this.constructors[type] : undefined;
<a name="l7333"><span class="linenum">7333</span></a>          },
<a name="l7334"><span class="linenum">7334</span></a>          getScaleDefaults: function(type) {
<a name="l7335"><span class="linenum">7335</span></a>  <span class="comment">            // Return the scale defaults merged with the global settings so that we always use the latest ones</span>
<a name="l7336"><span class="linenum">7336</span></a>              return this.defaults.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(type) ? helpers.scaleMerge(Chart.defaults.scale, this.defaults[type]) : {};
<a name="l7337"><span class="linenum">7337</span></a>          },
<a name="l7338"><span class="linenum">7338</span></a>          updateScaleDefaults: function(type, additions) {
<a name="l7339"><span class="linenum">7339</span></a>              var defaults = this.defaults;
<a name="l7340"><span class="linenum">7340</span></a>              if (defaults.<a class="function" onClick="logFunction('hasOwnProperty')" href="../../../_functions/hasownproperty.html" onMouseOver="funcPopup(event,'hasownproperty')">hasOwnProperty</a>(type)) {
<a name="l7341"><span class="linenum">7341</span></a>                  defaults[type] = helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(defaults[type], additions);
<a name="l7342"><span class="linenum">7342</span></a>              }
<a name="l7343"><span class="linenum">7343</span></a>          },
<a name="l7344"><span class="linenum">7344</span></a>          addScalesToLayout: function(chartInstance) {
<a name="l7345"><span class="linenum">7345</span></a>  <span class="comment">            // Adds each scale to the chart.boxes array to be sized accordingly</span>
<a name="l7346"><span class="linenum">7346</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(chartInstance.scales, function(scale) {
<a name="l7347"><span class="linenum">7347</span></a>                  Chart.layoutService.addBox(chartInstance, scale);
<a name="l7348"><span class="linenum">7348</span></a>              });
<a name="l7349"><span class="linenum">7349</span></a>          }
<a name="l7350"><span class="linenum">7350</span></a>      };
<a name="l7351"><span class="linenum">7351</span></a>  };
<a name="l7352"><span class="linenum">7352</span></a>  },{}],32:[function(require,module,exports){
<a name="l7353"><span class="linenum">7353</span></a>  &quot;use strict&quot;;
<a name="l7354"><span class="linenum">7354</span></a>  
<a name="l7355"><span class="linenum">7355</span></a>  module.exports = function(Chart) {
<a name="l7356"><span class="linenum">7356</span></a>  
<a name="l7357"><span class="linenum">7357</span></a>      var helpers = Chart.helpers;
<a name="l7358"><span class="linenum">7358</span></a>  
<a name="l7359"><span class="linenum">7359</span></a>      Chart.defaults.global.title = {
<a name="l7360"><span class="linenum">7360</span></a>          display: false,
<a name="l7361"><span class="linenum">7361</span></a>          position: 'top',
<a name="l7362"><span class="linenum">7362</span></a>          fullWidth: true, // marks that this box should take the full width of the canvas (pushing down other boxes)
<a name="l7363"><span class="linenum">7363</span></a>  
<a name="l7364"><span class="linenum">7364</span></a>          fontStyle: 'bold',
<a name="l7365"><span class="linenum">7365</span></a>          padding: 10,
<a name="l7366"><span class="linenum">7366</span></a>  
<a name="l7367"><span class="linenum">7367</span></a>  <span class="comment">        // actual title</span>
<a name="l7368"><span class="linenum">7368</span></a>          text: ''
<a name="l7369"><span class="linenum">7369</span></a>      };
<a name="l7370"><span class="linenum">7370</span></a>  
<a name="l7371"><span class="linenum">7371</span></a>      var noop = helpers.noop;
<a name="l7372"><span class="linenum">7372</span></a>      Chart.Title = Chart.Element.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l7373"><span class="linenum">7373</span></a>  
<a name="l7374"><span class="linenum">7374</span></a>          initialize: function(config) {
<a name="l7375"><span class="linenum">7375</span></a>              var me = this;
<a name="l7376"><span class="linenum">7376</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(me, config);
<a name="l7377"><span class="linenum">7377</span></a>              me.options = helpers.configMerge(Chart.defaults.global.title, config.options);
<a name="l7378"><span class="linenum">7378</span></a>  
<a name="l7379"><span class="linenum">7379</span></a>  <span class="comment">            // Contains hit boxes for each dataset (in dataset order)</span>
<a name="l7380"><span class="linenum">7380</span></a>              me.legendHitBoxes = [];
<a name="l7381"><span class="linenum">7381</span></a>          },
<a name="l7382"><span class="linenum">7382</span></a>  
<a name="l7383"><span class="linenum">7383</span></a>  <span class="comment">        // These methods are ordered by lifecyle. Utilities then follow.</span>
<a name="l7384"><span class="linenum">7384</span></a>  
<a name="l7385"><span class="linenum">7385</span></a>          beforeUpdate: function () {
<a name="l7386"><span class="linenum">7386</span></a>              var chartOpts = this.chart.options;
<a name="l7387"><span class="linenum">7387</span></a>              if (chartOpts &amp;&amp; chartOpts.title) {
<a name="l7388"><span class="linenum">7388</span></a>                  this.options = helpers.configMerge(Chart.defaults.global.title, chartOpts.title);
<a name="l7389"><span class="linenum">7389</span></a>              }
<a name="l7390"><span class="linenum">7390</span></a>          },
<a name="l7391"><span class="linenum">7391</span></a>          update: function(maxWidth, maxHeight, margins) {
<a name="l7392"><span class="linenum">7392</span></a>              var me = this;
<a name="l7393"><span class="linenum">7393</span></a>  
<a name="l7394"><span class="linenum">7394</span></a>  <span class="comment">            // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)</span>
<a name="l7395"><span class="linenum">7395</span></a>              me.beforeUpdate();
<a name="l7396"><span class="linenum">7396</span></a>  
<a name="l7397"><span class="linenum">7397</span></a>  <span class="comment">            // Absorb the master measurements</span>
<a name="l7398"><span class="linenum">7398</span></a>              me.maxWidth = maxWidth;
<a name="l7399"><span class="linenum">7399</span></a>              me.maxHeight = maxHeight;
<a name="l7400"><span class="linenum">7400</span></a>              me.margins = margins;
<a name="l7401"><span class="linenum">7401</span></a>  
<a name="l7402"><span class="linenum">7402</span></a>  <span class="comment">            // Dimensions</span>
<a name="l7403"><span class="linenum">7403</span></a>              me.beforeSetDimensions();
<a name="l7404"><span class="linenum">7404</span></a>              me.<a class="function" onClick="logFunction('setDimensions')" href="../../../_functions/setdimensions.html" onMouseOver="funcPopup(event,'setdimensions')">setDimensions</a>();
<a name="l7405"><span class="linenum">7405</span></a>              me.afterSetDimensions();
<a name="l7406"><span class="linenum">7406</span></a>  <span class="comment">            // Labels</span>
<a name="l7407"><span class="linenum">7407</span></a>              me.beforeBuildLabels();
<a name="l7408"><span class="linenum">7408</span></a>              me.buildLabels();
<a name="l7409"><span class="linenum">7409</span></a>              me.afterBuildLabels();
<a name="l7410"><span class="linenum">7410</span></a>  
<a name="l7411"><span class="linenum">7411</span></a>  <span class="comment">            // Fit</span>
<a name="l7412"><span class="linenum">7412</span></a>              me.beforeFit();
<a name="l7413"><span class="linenum">7413</span></a>              me.fit();
<a name="l7414"><span class="linenum">7414</span></a>              me.afterFit();
<a name="l7415"><span class="linenum">7415</span></a>  <span class="comment">            //</span>
<a name="l7416"><span class="linenum">7416</span></a>              me.afterUpdate();
<a name="l7417"><span class="linenum">7417</span></a>  
<a name="l7418"><span class="linenum">7418</span></a>              return me.minSize;
<a name="l7419"><span class="linenum">7419</span></a>  
<a name="l7420"><span class="linenum">7420</span></a>          },
<a name="l7421"><span class="linenum">7421</span></a>          afterUpdate: noop,
<a name="l7422"><span class="linenum">7422</span></a>  
<a name="l7423"><span class="linenum">7423</span></a>  <span class="comment">        //</span>
<a name="l7424"><span class="linenum">7424</span></a>  
<a name="l7425"><span class="linenum">7425</span></a>          beforeSetDimensions: noop,
<a name="l7426"><span class="linenum">7426</span></a>          setDimensions: function() {
<a name="l7427"><span class="linenum">7427</span></a>              var me = this;
<a name="l7428"><span class="linenum">7428</span></a>  <span class="comment">            // Set the unconstrained dimension before label rotation</span>
<a name="l7429"><span class="linenum">7429</span></a>              if (me.isHorizontal()) {
<a name="l7430"><span class="linenum">7430</span></a>  <span class="comment">                // Reset position before calculating rotation</span>
<a name="l7431"><span class="linenum">7431</span></a>                  me.width = me.maxWidth;
<a name="l7432"><span class="linenum">7432</span></a>                  me.left = 0;
<a name="l7433"><span class="linenum">7433</span></a>                  me.right = me.width;
<a name="l7434"><span class="linenum">7434</span></a>              } else {
<a name="l7435"><span class="linenum">7435</span></a>                  me.height = me.maxHeight;
<a name="l7436"><span class="linenum">7436</span></a>  
<a name="l7437"><span class="linenum">7437</span></a>  <span class="comment">                // Reset position before calculating rotation</span>
<a name="l7438"><span class="linenum">7438</span></a>                  me.top = 0;
<a name="l7439"><span class="linenum">7439</span></a>                  me.bottom = me.height;
<a name="l7440"><span class="linenum">7440</span></a>              }
<a name="l7441"><span class="linenum">7441</span></a>  
<a name="l7442"><span class="linenum">7442</span></a>  <span class="comment">            // Reset padding</span>
<a name="l7443"><span class="linenum">7443</span></a>              me.paddingLeft = 0;
<a name="l7444"><span class="linenum">7444</span></a>              me.paddingTop = 0;
<a name="l7445"><span class="linenum">7445</span></a>              me.paddingRight = 0;
<a name="l7446"><span class="linenum">7446</span></a>              me.paddingBottom = 0;
<a name="l7447"><span class="linenum">7447</span></a>  
<a name="l7448"><span class="linenum">7448</span></a>  <span class="comment">            // Reset minSize</span>
<a name="l7449"><span class="linenum">7449</span></a>              me.minSize = {
<a name="l7450"><span class="linenum">7450</span></a>                  width: 0,
<a name="l7451"><span class="linenum">7451</span></a>                  height: 0
<a name="l7452"><span class="linenum">7452</span></a>              };
<a name="l7453"><span class="linenum">7453</span></a>          },
<a name="l7454"><span class="linenum">7454</span></a>          afterSetDimensions: noop,
<a name="l7455"><span class="linenum">7455</span></a>  
<a name="l7456"><span class="linenum">7456</span></a>  <span class="comment">        //</span>
<a name="l7457"><span class="linenum">7457</span></a>  
<a name="l7458"><span class="linenum">7458</span></a>          beforeBuildLabels: noop,
<a name="l7459"><span class="linenum">7459</span></a>          buildLabels: noop,
<a name="l7460"><span class="linenum">7460</span></a>          afterBuildLabels: noop,
<a name="l7461"><span class="linenum">7461</span></a>  
<a name="l7462"><span class="linenum">7462</span></a>  <span class="comment">        //</span>
<a name="l7463"><span class="linenum">7463</span></a>  
<a name="l7464"><span class="linenum">7464</span></a>          beforeFit: noop,
<a name="l7465"><span class="linenum">7465</span></a>          fit: function() {
<a name="l7466"><span class="linenum">7466</span></a>  
<a name="l7467"><span class="linenum">7467</span></a>              var me = this,
<a name="l7468"><span class="linenum">7468</span></a>                  ctx = me.ctx,
<a name="l7469"><span class="linenum">7469</span></a>                  valueOrDefault = helpers.getValueOrDefault,
<a name="l7470"><span class="linenum">7470</span></a>                  opts = me.options,
<a name="l7471"><span class="linenum">7471</span></a>                  globalDefaults = Chart.defaults.global,
<a name="l7472"><span class="linenum">7472</span></a>                  display = opts.display,
<a name="l7473"><span class="linenum">7473</span></a>                  fontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize),
<a name="l7474"><span class="linenum">7474</span></a>                  minSize = me.minSize;
<a name="l7475"><span class="linenum">7475</span></a>  
<a name="l7476"><span class="linenum">7476</span></a>              if (me.isHorizontal()) {
<a name="l7477"><span class="linenum">7477</span></a>                  minSize.width = me.maxWidth; <span class="comment">// fill all the width</span>
<a name="l7478"><span class="linenum">7478</span></a>                  minSize.height = display ? fontSize + (opts.padding * 2) : 0;
<a name="l7479"><span class="linenum">7479</span></a>              } else {
<a name="l7480"><span class="linenum">7480</span></a>                  minSize.width = display ? fontSize + (opts.padding * 2) : 0;
<a name="l7481"><span class="linenum">7481</span></a>                  minSize.height = me.maxHeight; <span class="comment">// fill all the height</span>
<a name="l7482"><span class="linenum">7482</span></a>              }
<a name="l7483"><span class="linenum">7483</span></a>  
<a name="l7484"><span class="linenum">7484</span></a>              me.width = minSize.width;
<a name="l7485"><span class="linenum">7485</span></a>              me.height = minSize.height;
<a name="l7486"><span class="linenum">7486</span></a>  
<a name="l7487"><span class="linenum">7487</span></a>          },
<a name="l7488"><span class="linenum">7488</span></a>          afterFit: noop,
<a name="l7489"><span class="linenum">7489</span></a>  
<a name="l7490"><span class="linenum">7490</span></a>  <span class="comment">        // Shared Methods</span>
<a name="l7491"><span class="linenum">7491</span></a>          isHorizontal: function() {
<a name="l7492"><span class="linenum">7492</span></a>              var pos = this.options.position;
<a name="l7493"><span class="linenum">7493</span></a>              return pos === &quot;top&quot; || pos === &quot;bottom&quot;;
<a name="l7494"><span class="linenum">7494</span></a>          },
<a name="l7495"><span class="linenum">7495</span></a>  
<a name="l7496"><span class="linenum">7496</span></a>  <span class="comment">        // Actualy draw the title block on the canvas</span>
<a name="l7497"><span class="linenum">7497</span></a>          draw: function() {
<a name="l7498"><span class="linenum">7498</span></a>              var me = this,
<a name="l7499"><span class="linenum">7499</span></a>                  ctx = me.ctx,
<a name="l7500"><span class="linenum">7500</span></a>                  valueOrDefault = helpers.getValueOrDefault,
<a name="l7501"><span class="linenum">7501</span></a>                  opts = me.options,
<a name="l7502"><span class="linenum">7502</span></a>                  globalDefaults = Chart.defaults.global;
<a name="l7503"><span class="linenum">7503</span></a>  
<a name="l7504"><span class="linenum">7504</span></a>              if (opts.display) {
<a name="l7505"><span class="linenum">7505</span></a>                  var fontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize),
<a name="l7506"><span class="linenum">7506</span></a>                      fontStyle = valueOrDefault(opts.fontStyle, globalDefaults.defaultFontStyle),
<a name="l7507"><span class="linenum">7507</span></a>                      fontFamily = valueOrDefault(opts.fontFamily, globalDefaults.defaultFontFamily),
<a name="l7508"><span class="linenum">7508</span></a>                      titleFont = helpers.fontString(fontSize, fontStyle, fontFamily),
<a name="l7509"><span class="linenum">7509</span></a>                      rotation = 0,
<a name="l7510"><span class="linenum">7510</span></a>                      titleX,
<a name="l7511"><span class="linenum">7511</span></a>                      titleY,
<a name="l7512"><span class="linenum">7512</span></a>                      top = me.top,
<a name="l7513"><span class="linenum">7513</span></a>                      left = me.left,
<a name="l7514"><span class="linenum">7514</span></a>                      bottom = me.bottom,
<a name="l7515"><span class="linenum">7515</span></a>                      right = me.right;
<a name="l7516"><span class="linenum">7516</span></a>  
<a name="l7517"><span class="linenum">7517</span></a>                  ctx.fillStyle = valueOrDefault(opts.fontColor, globalDefaults.defaultFontColor); <span class="comment">// render in correct colour</span>
<a name="l7518"><span class="linenum">7518</span></a>                  ctx.font = titleFont;
<a name="l7519"><span class="linenum">7519</span></a>  
<a name="l7520"><span class="linenum">7520</span></a>  <span class="comment">                // Horizontal</span>
<a name="l7521"><span class="linenum">7521</span></a>                  if (me.isHorizontal()) {
<a name="l7522"><span class="linenum">7522</span></a>                      titleX = left + ((right - left) / 2); <span class="comment">// midpoint of the width</span>
<a name="l7523"><span class="linenum">7523</span></a>                      titleY = top + ((bottom - top) / 2); <span class="comment">// midpoint of the height</span>
<a name="l7524"><span class="linenum">7524</span></a>                  } else {
<a name="l7525"><span class="linenum">7525</span></a>                      titleX = opts.position === 'left' ? left + (fontSize / 2) : right - (fontSize / 2);
<a name="l7526"><span class="linenum">7526</span></a>                      titleY = top + ((bottom - top) / 2);
<a name="l7527"><span class="linenum">7527</span></a>                      rotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);
<a name="l7528"><span class="linenum">7528</span></a>                  }
<a name="l7529"><span class="linenum">7529</span></a>  
<a name="l7530"><span class="linenum">7530</span></a>                  ctx.<a class="function" onClick="logFunction('save')" href="../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>();
<a name="l7531"><span class="linenum">7531</span></a>                  ctx.<a class="function" onClick="logFunction('translate')" href="../../../_functions/translate.html" onMouseOver="funcPopup(event,'translate')">translate</a>(titleX, titleY);
<a name="l7532"><span class="linenum">7532</span></a>                  ctx.<a class="function" onClick="logFunction('rotate')" href="../../../_functions/rotate.html" onMouseOver="funcPopup(event,'rotate')">rotate</a>(rotation);
<a name="l7533"><span class="linenum">7533</span></a>                  ctx.textAlign = 'center';
<a name="l7534"><span class="linenum">7534</span></a>                  ctx.textBaseline = 'middle';
<a name="l7535"><span class="linenum">7535</span></a>                  ctx.fillText(opts.text, 0, 0);
<a name="l7536"><span class="linenum">7536</span></a>                  ctx.<a class="function" onClick="logFunction('restore')" href="../../../_functions/restore.html" onMouseOver="funcPopup(event,'restore')">restore</a>();
<a name="l7537"><span class="linenum">7537</span></a>              }
<a name="l7538"><span class="linenum">7538</span></a>          }
<a name="l7539"><span class="linenum">7539</span></a>      });
<a name="l7540"><span class="linenum">7540</span></a>  
<a name="l7541"><span class="linenum">7541</span></a>  <span class="comment">    // Register the title plugin</span>
<a name="l7542"><span class="linenum">7542</span></a>      Chart.plugins.<a class="function" onClick="logFunction('register')" href="../../../_functions/register.html" onMouseOver="funcPopup(event,'register')">register</a>({
<a name="l7543"><span class="linenum">7543</span></a>          beforeInit: function(chartInstance) {
<a name="l7544"><span class="linenum">7544</span></a>              var opts = chartInstance.options;
<a name="l7545"><span class="linenum">7545</span></a>              var titleOpts = opts.title;
<a name="l7546"><span class="linenum">7546</span></a>  
<a name="l7547"><span class="linenum">7547</span></a>              if (titleOpts) {
<a name="l7548"><span class="linenum">7548</span></a>                  chartInstance.titleBlock = new Chart.<a class="function" onClick="logFunction('Title')" href="../../../_functions/title.html" onMouseOver="funcPopup(event,'title')">Title</a>({
<a name="l7549"><span class="linenum">7549</span></a>                      ctx: chartInstance.chart.ctx,
<a name="l7550"><span class="linenum">7550</span></a>                      options: titleOpts,
<a name="l7551"><span class="linenum">7551</span></a>                      chart: chartInstance
<a name="l7552"><span class="linenum">7552</span></a>                  });
<a name="l7553"><span class="linenum">7553</span></a>  
<a name="l7554"><span class="linenum">7554</span></a>                  Chart.layoutService.addBox(chartInstance, chartInstance.titleBlock);
<a name="l7555"><span class="linenum">7555</span></a>              }
<a name="l7556"><span class="linenum">7556</span></a>          }
<a name="l7557"><span class="linenum">7557</span></a>      });
<a name="l7558"><span class="linenum">7558</span></a>  };
<a name="l7559"><span class="linenum">7559</span></a>  
<a name="l7560"><span class="linenum">7560</span></a>  },{}],33:[function(require,module,exports){
<a name="l7561"><span class="linenum">7561</span></a>  &quot;use strict&quot;;
<a name="l7562"><span class="linenum">7562</span></a>  
<a name="l7563"><span class="linenum">7563</span></a>  module.exports = function(Chart) {
<a name="l7564"><span class="linenum">7564</span></a>  
<a name="l7565"><span class="linenum">7565</span></a>      var helpers = Chart.helpers;
<a name="l7566"><span class="linenum">7566</span></a>  
<a name="l7567"><span class="linenum">7567</span></a>      Chart.defaults.global.tooltips = {
<a name="l7568"><span class="linenum">7568</span></a>          enabled: true,
<a name="l7569"><span class="linenum">7569</span></a>          custom: null,
<a name="l7570"><span class="linenum">7570</span></a>          mode: 'single',
<a name="l7571"><span class="linenum">7571</span></a>          backgroundColor: &quot;<a class="function" onClick="logFunction('rgba')" href="../../../_functions/rgba.html" onMouseOver="funcPopup(event,'rgba')">rgba</a>(0,0,0,0.8)&quot;,
<a name="l7572"><span class="linenum">7572</span></a>          titleFontStyle: &quot;bold&quot;,
<a name="l7573"><span class="linenum">7573</span></a>          titleSpacing: 2,
<a name="l7574"><span class="linenum">7574</span></a>          titleMarginBottom: 6,
<a name="l7575"><span class="linenum">7575</span></a>          titleFontColor: &quot;#fff&quot;,
<a name="l7576"><span class="linenum">7576</span></a>          titleAlign: &quot;left&quot;,
<a name="l7577"><span class="linenum">7577</span></a>          bodySpacing: 2,
<a name="l7578"><span class="linenum">7578</span></a>          bodyFontColor: &quot;#fff&quot;,
<a name="l7579"><span class="linenum">7579</span></a>          bodyAlign: &quot;left&quot;,
<a name="l7580"><span class="linenum">7580</span></a>          footerFontStyle: &quot;bold&quot;,
<a name="l7581"><span class="linenum">7581</span></a>          footerSpacing: 2,
<a name="l7582"><span class="linenum">7582</span></a>          footerMarginTop: 6,
<a name="l7583"><span class="linenum">7583</span></a>          footerFontColor: &quot;#fff&quot;,
<a name="l7584"><span class="linenum">7584</span></a>          footerAlign: &quot;left&quot;,
<a name="l7585"><span class="linenum">7585</span></a>          yPadding: 6,
<a name="l7586"><span class="linenum">7586</span></a>          xPadding: 6,
<a name="l7587"><span class="linenum">7587</span></a>          yAlign : 'center',
<a name="l7588"><span class="linenum">7588</span></a>          xAlign : 'center',
<a name="l7589"><span class="linenum">7589</span></a>          caretSize: 5,
<a name="l7590"><span class="linenum">7590</span></a>          cornerRadius: 6,
<a name="l7591"><span class="linenum">7591</span></a>          multiKeyBackground: '#fff',
<a name="l7592"><span class="linenum">7592</span></a>          callbacks: {
<a name="l7593"><span class="linenum">7593</span></a>  <span class="comment">            // Args are: (tooltipItems, data)</span>
<a name="l7594"><span class="linenum">7594</span></a>              beforeTitle: helpers.noop,
<a name="l7595"><span class="linenum">7595</span></a>              title: function(tooltipItems, data) {
<a name="l7596"><span class="linenum">7596</span></a>  <span class="comment">                // Pick first xLabel for now</span>
<a name="l7597"><span class="linenum">7597</span></a>                  var title = '';
<a name="l7598"><span class="linenum">7598</span></a>                  var labels = data.labels;
<a name="l7599"><span class="linenum">7599</span></a>                  var labelCount = labels ? labels.length : 0;
<a name="l7600"><span class="linenum">7600</span></a>  
<a name="l7601"><span class="linenum">7601</span></a>                  if (tooltipItems.length &gt; 0) {
<a name="l7602"><span class="linenum">7602</span></a>                      var item = tooltipItems[0];
<a name="l7603"><span class="linenum">7603</span></a>  
<a name="l7604"><span class="linenum">7604</span></a>                      if (item.xLabel) {
<a name="l7605"><span class="linenum">7605</span></a>                          title = item.xLabel;
<a name="l7606"><span class="linenum">7606</span></a>                      } else if (labelCount &gt; 0 &amp;&amp; item.index &lt; labelCount) {
<a name="l7607"><span class="linenum">7607</span></a>                          title = labels[item.index];
<a name="l7608"><span class="linenum">7608</span></a>                      }
<a name="l7609"><span class="linenum">7609</span></a>                  }
<a name="l7610"><span class="linenum">7610</span></a>  
<a name="l7611"><span class="linenum">7611</span></a>                  return title;
<a name="l7612"><span class="linenum">7612</span></a>              },
<a name="l7613"><span class="linenum">7613</span></a>              afterTitle: helpers.noop,
<a name="l7614"><span class="linenum">7614</span></a>  
<a name="l7615"><span class="linenum">7615</span></a>  <span class="comment">            // Args are: (tooltipItems, data)</span>
<a name="l7616"><span class="linenum">7616</span></a>              beforeBody: helpers.noop,
<a name="l7617"><span class="linenum">7617</span></a>  
<a name="l7618"><span class="linenum">7618</span></a>  <span class="comment">            // Args are: (tooltipItem, data)</span>
<a name="l7619"><span class="linenum">7619</span></a>              beforeLabel: helpers.noop,
<a name="l7620"><span class="linenum">7620</span></a>              label: function(tooltipItem, data) {
<a name="l7621"><span class="linenum">7621</span></a>                  var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
<a name="l7622"><span class="linenum">7622</span></a>                  return datasetLabel + ': ' + tooltipItem.yLabel;
<a name="l7623"><span class="linenum">7623</span></a>              },
<a name="l7624"><span class="linenum">7624</span></a>              labelColor: function(tooltipItem, chartInstance) {
<a name="l7625"><span class="linenum">7625</span></a>                  var meta = chartInstance.getDatasetMeta(tooltipItem.datasetIndex);
<a name="l7626"><span class="linenum">7626</span></a>                  var activeElement = meta.data[tooltipItem.index];
<a name="l7627"><span class="linenum">7627</span></a>                  var view = activeElement._view;
<a name="l7628"><span class="linenum">7628</span></a>                  return {
<a name="l7629"><span class="linenum">7629</span></a>                      borderColor: view.borderColor,
<a name="l7630"><span class="linenum">7630</span></a>                      backgroundColor: view.backgroundColor
<a name="l7631"><span class="linenum">7631</span></a>                  };
<a name="l7632"><span class="linenum">7632</span></a>              },
<a name="l7633"><span class="linenum">7633</span></a>              afterLabel: helpers.noop,
<a name="l7634"><span class="linenum">7634</span></a>  
<a name="l7635"><span class="linenum">7635</span></a>  <span class="comment">            // Args are: (tooltipItems, data)</span>
<a name="l7636"><span class="linenum">7636</span></a>              afterBody: helpers.noop,
<a name="l7637"><span class="linenum">7637</span></a>  
<a name="l7638"><span class="linenum">7638</span></a>  <span class="comment">            // Args are: (tooltipItems, data)</span>
<a name="l7639"><span class="linenum">7639</span></a>              beforeFooter: helpers.noop,
<a name="l7640"><span class="linenum">7640</span></a>              footer: helpers.noop,
<a name="l7641"><span class="linenum">7641</span></a>              afterFooter: helpers.noop
<a name="l7642"><span class="linenum">7642</span></a>          }
<a name="l7643"><span class="linenum">7643</span></a>      };
<a name="l7644"><span class="linenum">7644</span></a>  
<a name="l7645"><span class="linenum">7645</span></a>  <span class="comment">    // Helper to push or concat based on if the 2nd parameter is an array or not</span>
<a name="l7646"><span class="linenum">7646</span></a>  	function <a class="function" onClick="logFunction('pushOrConcat')" href="../../../_functions/pushorconcat.html" onMouseOver="funcPopup(event,'pushorconcat')">pushOrConcat</a>(base, toPush) {
<a name="l7647"><span class="linenum">7647</span></a>          if (toPush) {
<a name="l7648"><span class="linenum">7648</span></a>              if (helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(toPush)) {
<a name="l7649"><span class="linenum">7649</span></a>  <span class="comment">                //base = base.concat(toPush);</span>
<a name="l7650"><span class="linenum">7650</span></a>                  Array.prototype.push.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(base, toPush);
<a name="l7651"><span class="linenum">7651</span></a>              } else {
<a name="l7652"><span class="linenum">7652</span></a>                  base.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(toPush);
<a name="l7653"><span class="linenum">7653</span></a>              }
<a name="l7654"><span class="linenum">7654</span></a>          }
<a name="l7655"><span class="linenum">7655</span></a>  
<a name="l7656"><span class="linenum">7656</span></a>          return base;
<a name="l7657"><span class="linenum">7657</span></a>      }
<a name="l7658"><span class="linenum">7658</span></a>  
<a name="l7659"><span class="linenum">7659</span></a>  	function <a class="function" onClick="logFunction('getAveragePosition')" href="../../../_functions/getaverageposition.html" onMouseOver="funcPopup(event,'getaverageposition')">getAveragePosition</a>(elements) {
<a name="l7660"><span class="linenum">7660</span></a>          if (!elements.length) {
<a name="l7661"><span class="linenum">7661</span></a>              return false;
<a name="l7662"><span class="linenum">7662</span></a>          }
<a name="l7663"><span class="linenum">7663</span></a>  
<a name="l7664"><span class="linenum">7664</span></a>          var i, len;
<a name="l7665"><span class="linenum">7665</span></a>          var xPositions = [];
<a name="l7666"><span class="linenum">7666</span></a>          var yPositions = [];
<a name="l7667"><span class="linenum">7667</span></a>  
<a name="l7668"><span class="linenum">7668</span></a>          for (i = 0, len = elements.length; i &lt; len; ++i) {
<a name="l7669"><span class="linenum">7669</span></a>              var el = elements[i];
<a name="l7670"><span class="linenum">7670</span></a>              if (el &amp;&amp; el.hasValue()){
<a name="l7671"><span class="linenum">7671</span></a>                  var pos = el.tooltipPosition();
<a name="l7672"><span class="linenum">7672</span></a>                  xPositions.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(pos.x);
<a name="l7673"><span class="linenum">7673</span></a>                  yPositions.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(pos.y);
<a name="l7674"><span class="linenum">7674</span></a>              }
<a name="l7675"><span class="linenum">7675</span></a>          }
<a name="l7676"><span class="linenum">7676</span></a>  
<a name="l7677"><span class="linenum">7677</span></a>          var x = 0,
<a name="l7678"><span class="linenum">7678</span></a>              y = 0;
<a name="l7679"><span class="linenum">7679</span></a>          for (i = 0, len - xPositions.length; i &lt; len; ++i) {
<a name="l7680"><span class="linenum">7680</span></a>              x += xPositions[i];
<a name="l7681"><span class="linenum">7681</span></a>              y += yPositions[i];
<a name="l7682"><span class="linenum">7682</span></a>          }
<a name="l7683"><span class="linenum">7683</span></a>  
<a name="l7684"><span class="linenum">7684</span></a>          return {
<a name="l7685"><span class="linenum">7685</span></a>              x: Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(x / xPositions.length),
<a name="l7686"><span class="linenum">7686</span></a>              y: Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(y / xPositions.length)
<a name="l7687"><span class="linenum">7687</span></a>          };
<a name="l7688"><span class="linenum">7688</span></a>      }
<a name="l7689"><span class="linenum">7689</span></a>  
<a name="l7690"><span class="linenum">7690</span></a>  <span class="comment">    // Private helper to create a tooltip iteam model</span>
<a name="l7691"><span class="linenum">7691</span></a>  <span class="comment">    // @param element : the chart element (point, arc, bar) to create the tooltip item for</span>
<a name="l7692"><span class="linenum">7692</span></a>  <span class="comment">    // @return : new tooltip item</span>
<a name="l7693"><span class="linenum">7693</span></a>  	function <a class="function" onClick="logFunction('createTooltipItem')" href="../../../_functions/createtooltipitem.html" onMouseOver="funcPopup(event,'createtooltipitem')">createTooltipItem</a>(element) {
<a name="l7694"><span class="linenum">7694</span></a>          var xScale = element._xScale;
<a name="l7695"><span class="linenum">7695</span></a>          var yScale = element._yScale || element._scale; <span class="comment">// handle radar || polarArea charts</span>
<a name="l7696"><span class="linenum">7696</span></a>          var index = element._index,
<a name="l7697"><span class="linenum">7697</span></a>              datasetIndex = element._datasetIndex;
<a name="l7698"><span class="linenum">7698</span></a>  
<a name="l7699"><span class="linenum">7699</span></a>          return {
<a name="l7700"><span class="linenum">7700</span></a>              xLabel: xScale ? xScale.getLabelForIndex(index, datasetIndex) : '',
<a name="l7701"><span class="linenum">7701</span></a>              yLabel: yScale ? yScale.getLabelForIndex(index, datasetIndex) : '',
<a name="l7702"><span class="linenum">7702</span></a>              index: index,
<a name="l7703"><span class="linenum">7703</span></a>              datasetIndex: datasetIndex
<a name="l7704"><span class="linenum">7704</span></a>          };
<a name="l7705"><span class="linenum">7705</span></a>      }
<a name="l7706"><span class="linenum">7706</span></a>  
<a name="l7707"><span class="linenum">7707</span></a>      Chart.Tooltip = Chart.Element.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l7708"><span class="linenum">7708</span></a>          initialize: function() {
<a name="l7709"><span class="linenum">7709</span></a>              var me = this;
<a name="l7710"><span class="linenum">7710</span></a>              var globalDefaults = Chart.defaults.global;
<a name="l7711"><span class="linenum">7711</span></a>              var tooltipOpts = me._options;
<a name="l7712"><span class="linenum">7712</span></a>              var getValueOrDefault = helpers.getValueOrDefault;
<a name="l7713"><span class="linenum">7713</span></a>  
<a name="l7714"><span class="linenum">7714</span></a>              helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(me, {
<a name="l7715"><span class="linenum">7715</span></a>                  _model: {
<a name="l7716"><span class="linenum">7716</span></a>  <span class="comment">                    // Positioning</span>
<a name="l7717"><span class="linenum">7717</span></a>                      xPadding: tooltipOpts.xPadding,
<a name="l7718"><span class="linenum">7718</span></a>                      yPadding: tooltipOpts.yPadding,
<a name="l7719"><span class="linenum">7719</span></a>                      xAlign : tooltipOpts.yAlign,
<a name="l7720"><span class="linenum">7720</span></a>                      yAlign : tooltipOpts.xAlign,
<a name="l7721"><span class="linenum">7721</span></a>  
<a name="l7722"><span class="linenum">7722</span></a>  <span class="comment">                    // Body</span>
<a name="l7723"><span class="linenum">7723</span></a>                      bodyFontColor: tooltipOpts.bodyFontColor,
<a name="l7724"><span class="linenum">7724</span></a>                      _bodyFontFamily: getValueOrDefault(tooltipOpts.bodyFontFamily, globalDefaults.defaultFontFamily),
<a name="l7725"><span class="linenum">7725</span></a>                      _bodyFontStyle: getValueOrDefault(tooltipOpts.bodyFontStyle, globalDefaults.defaultFontStyle),
<a name="l7726"><span class="linenum">7726</span></a>                      _bodyAlign: tooltipOpts.bodyAlign,
<a name="l7727"><span class="linenum">7727</span></a>                      bodyFontSize: getValueOrDefault(tooltipOpts.bodyFontSize, globalDefaults.defaultFontSize),
<a name="l7728"><span class="linenum">7728</span></a>                      bodySpacing: tooltipOpts.bodySpacing,
<a name="l7729"><span class="linenum">7729</span></a>  
<a name="l7730"><span class="linenum">7730</span></a>  <span class="comment">                    // Title</span>
<a name="l7731"><span class="linenum">7731</span></a>                      titleFontColor: tooltipOpts.titleFontColor,
<a name="l7732"><span class="linenum">7732</span></a>                      _titleFontFamily: getValueOrDefault(tooltipOpts.titleFontFamily, globalDefaults.defaultFontFamily),
<a name="l7733"><span class="linenum">7733</span></a>                      _titleFontStyle: getValueOrDefault(tooltipOpts.titleFontStyle, globalDefaults.defaultFontStyle),
<a name="l7734"><span class="linenum">7734</span></a>                      titleFontSize: getValueOrDefault(tooltipOpts.titleFontSize, globalDefaults.defaultFontSize),
<a name="l7735"><span class="linenum">7735</span></a>                      _titleAlign: tooltipOpts.titleAlign,
<a name="l7736"><span class="linenum">7736</span></a>                      titleSpacing: tooltipOpts.titleSpacing,
<a name="l7737"><span class="linenum">7737</span></a>                      titleMarginBottom: tooltipOpts.titleMarginBottom,
<a name="l7738"><span class="linenum">7738</span></a>  
<a name="l7739"><span class="linenum">7739</span></a>  <span class="comment">                    // Footer</span>
<a name="l7740"><span class="linenum">7740</span></a>                      footerFontColor: tooltipOpts.footerFontColor,
<a name="l7741"><span class="linenum">7741</span></a>                      _footerFontFamily: getValueOrDefault(tooltipOpts.footerFontFamily, globalDefaults.defaultFontFamily),
<a name="l7742"><span class="linenum">7742</span></a>                      _footerFontStyle: getValueOrDefault(tooltipOpts.footerFontStyle, globalDefaults.defaultFontStyle),
<a name="l7743"><span class="linenum">7743</span></a>                      footerFontSize: getValueOrDefault(tooltipOpts.footerFontSize, globalDefaults.defaultFontSize),
<a name="l7744"><span class="linenum">7744</span></a>                      _footerAlign: tooltipOpts.footerAlign,
<a name="l7745"><span class="linenum">7745</span></a>                      footerSpacing: tooltipOpts.footerSpacing,
<a name="l7746"><span class="linenum">7746</span></a>                      footerMarginTop: tooltipOpts.footerMarginTop,
<a name="l7747"><span class="linenum">7747</span></a>  
<a name="l7748"><span class="linenum">7748</span></a>  <span class="comment">                    // Appearance</span>
<a name="l7749"><span class="linenum">7749</span></a>                      caretSize: tooltipOpts.caretSize,
<a name="l7750"><span class="linenum">7750</span></a>                      cornerRadius: tooltipOpts.cornerRadius,
<a name="l7751"><span class="linenum">7751</span></a>                      backgroundColor: tooltipOpts.backgroundColor,
<a name="l7752"><span class="linenum">7752</span></a>                      opacity: 0,
<a name="l7753"><span class="linenum">7753</span></a>                      legendColorBackground: tooltipOpts.multiKeyBackground
<a name="l7754"><span class="linenum">7754</span></a>                  }
<a name="l7755"><span class="linenum">7755</span></a>              });
<a name="l7756"><span class="linenum">7756</span></a>          },
<a name="l7757"><span class="linenum">7757</span></a>  
<a name="l7758"><span class="linenum">7758</span></a>  <span class="comment">        // Get the title</span>
<a name="l7759"><span class="linenum">7759</span></a>  <span class="comment">        // Args are: (tooltipItem, data)</span>
<a name="l7760"><span class="linenum">7760</span></a>          getTitle: function() {
<a name="l7761"><span class="linenum">7761</span></a>              var me = this;
<a name="l7762"><span class="linenum">7762</span></a>              var opts = me._options;
<a name="l7763"><span class="linenum">7763</span></a>              var callbacks = opts.callbacks;
<a name="l7764"><span class="linenum">7764</span></a>  
<a name="l7765"><span class="linenum">7765</span></a>              var beforeTitle = callbacks.beforeTitle.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(me, arguments),
<a name="l7766"><span class="linenum">7766</span></a>                  title = callbacks.title.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(me, arguments),
<a name="l7767"><span class="linenum">7767</span></a>                  afterTitle = callbacks.afterTitle.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(me, arguments);
<a name="l7768"><span class="linenum">7768</span></a>  
<a name="l7769"><span class="linenum">7769</span></a>              var lines = [];
<a name="l7770"><span class="linenum">7770</span></a>              lines = <a class="function" onClick="logFunction('pushOrConcat')" href="../../../_functions/pushorconcat.html" onMouseOver="funcPopup(event,'pushorconcat')">pushOrConcat</a>(lines, beforeTitle);
<a name="l7771"><span class="linenum">7771</span></a>              lines = <a class="function" onClick="logFunction('pushOrConcat')" href="../../../_functions/pushorconcat.html" onMouseOver="funcPopup(event,'pushorconcat')">pushOrConcat</a>(lines, title);
<a name="l7772"><span class="linenum">7772</span></a>              lines = <a class="function" onClick="logFunction('pushOrConcat')" href="../../../_functions/pushorconcat.html" onMouseOver="funcPopup(event,'pushorconcat')">pushOrConcat</a>(lines, afterTitle);
<a name="l7773"><span class="linenum">7773</span></a>  
<a name="l7774"><span class="linenum">7774</span></a>              return lines;
<a name="l7775"><span class="linenum">7775</span></a>          },
<a name="l7776"><span class="linenum">7776</span></a>  
<a name="l7777"><span class="linenum">7777</span></a>  <span class="comment">        // Args are: (tooltipItem, data)</span>
<a name="l7778"><span class="linenum">7778</span></a>          getBeforeBody: function() {
<a name="l7779"><span class="linenum">7779</span></a>              var lines = this._options.callbacks.beforeBody.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l7780"><span class="linenum">7780</span></a>              return helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(lines) ? lines : lines !== undefined ? [lines] : [];
<a name="l7781"><span class="linenum">7781</span></a>          },
<a name="l7782"><span class="linenum">7782</span></a>  
<a name="l7783"><span class="linenum">7783</span></a>  <span class="comment">        // Args are: (tooltipItem, data)</span>
<a name="l7784"><span class="linenum">7784</span></a>          getBody: function(tooltipItems, data) {
<a name="l7785"><span class="linenum">7785</span></a>              var me = this;
<a name="l7786"><span class="linenum">7786</span></a>              var callbacks = me._options.callbacks;
<a name="l7787"><span class="linenum">7787</span></a>              var bodyItems = [];
<a name="l7788"><span class="linenum">7788</span></a>  
<a name="l7789"><span class="linenum">7789</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(tooltipItems, function(tooltipItem) {
<a name="l7790"><span class="linenum">7790</span></a>                  var bodyItem = {
<a name="l7791"><span class="linenum">7791</span></a>                      before: [],
<a name="l7792"><span class="linenum">7792</span></a>                      lines: [],
<a name="l7793"><span class="linenum">7793</span></a>                      after: []
<a name="l7794"><span class="linenum">7794</span></a>                  };
<a name="l7795"><span class="linenum">7795</span></a>                  <a class="function" onClick="logFunction('pushOrConcat')" href="../../../_functions/pushorconcat.html" onMouseOver="funcPopup(event,'pushorconcat')">pushOrConcat</a>(bodyItem.before, callbacks.beforeLabel.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, tooltipItem, data));
<a name="l7796"><span class="linenum">7796</span></a>                  <a class="function" onClick="logFunction('pushOrConcat')" href="../../../_functions/pushorconcat.html" onMouseOver="funcPopup(event,'pushorconcat')">pushOrConcat</a>(bodyItem.lines, callbacks.label.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, tooltipItem, data));
<a name="l7797"><span class="linenum">7797</span></a>                  <a class="function" onClick="logFunction('pushOrConcat')" href="../../../_functions/pushorconcat.html" onMouseOver="funcPopup(event,'pushorconcat')">pushOrConcat</a>(bodyItem.after, callbacks.afterLabel.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, tooltipItem, data));
<a name="l7798"><span class="linenum">7798</span></a>  
<a name="l7799"><span class="linenum">7799</span></a>                  bodyItems.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(bodyItem);
<a name="l7800"><span class="linenum">7800</span></a>              });
<a name="l7801"><span class="linenum">7801</span></a>  
<a name="l7802"><span class="linenum">7802</span></a>              return bodyItems;
<a name="l7803"><span class="linenum">7803</span></a>          },
<a name="l7804"><span class="linenum">7804</span></a>  
<a name="l7805"><span class="linenum">7805</span></a>  <span class="comment">        // Args are: (tooltipItem, data)</span>
<a name="l7806"><span class="linenum">7806</span></a>          getAfterBody: function() {
<a name="l7807"><span class="linenum">7807</span></a>              var lines = this._options.callbacks.afterBody.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l7808"><span class="linenum">7808</span></a>              return helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(lines) ? lines : lines !== undefined ? [lines] : [];
<a name="l7809"><span class="linenum">7809</span></a>          },
<a name="l7810"><span class="linenum">7810</span></a>  
<a name="l7811"><span class="linenum">7811</span></a>  <span class="comment">        // Get the footer and beforeFooter and afterFooter lines</span>
<a name="l7812"><span class="linenum">7812</span></a>  <span class="comment">        // Args are: (tooltipItem, data)</span>
<a name="l7813"><span class="linenum">7813</span></a>          getFooter: function() {
<a name="l7814"><span class="linenum">7814</span></a>              var me = this;
<a name="l7815"><span class="linenum">7815</span></a>              var callbacks = me._options.callbacks;
<a name="l7816"><span class="linenum">7816</span></a>  
<a name="l7817"><span class="linenum">7817</span></a>              var beforeFooter = callbacks.beforeFooter.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(me, arguments);
<a name="l7818"><span class="linenum">7818</span></a>              var footer = callbacks.footer.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(me, arguments);
<a name="l7819"><span class="linenum">7819</span></a>              var afterFooter = callbacks.afterFooter.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(me, arguments);
<a name="l7820"><span class="linenum">7820</span></a>  
<a name="l7821"><span class="linenum">7821</span></a>              var lines = [];
<a name="l7822"><span class="linenum">7822</span></a>              lines = <a class="function" onClick="logFunction('pushOrConcat')" href="../../../_functions/pushorconcat.html" onMouseOver="funcPopup(event,'pushorconcat')">pushOrConcat</a>(lines, beforeFooter);
<a name="l7823"><span class="linenum">7823</span></a>              lines = <a class="function" onClick="logFunction('pushOrConcat')" href="../../../_functions/pushorconcat.html" onMouseOver="funcPopup(event,'pushorconcat')">pushOrConcat</a>(lines, footer);
<a name="l7824"><span class="linenum">7824</span></a>              lines = <a class="function" onClick="logFunction('pushOrConcat')" href="../../../_functions/pushorconcat.html" onMouseOver="funcPopup(event,'pushorconcat')">pushOrConcat</a>(lines, afterFooter);
<a name="l7825"><span class="linenum">7825</span></a>  
<a name="l7826"><span class="linenum">7826</span></a>              return lines;
<a name="l7827"><span class="linenum">7827</span></a>          },
<a name="l7828"><span class="linenum">7828</span></a>  
<a name="l7829"><span class="linenum">7829</span></a>          update: function(changed) {
<a name="l7830"><span class="linenum">7830</span></a>              var me = this;
<a name="l7831"><span class="linenum">7831</span></a>              var opts = me._options;
<a name="l7832"><span class="linenum">7832</span></a>              var model = me._model;
<a name="l7833"><span class="linenum">7833</span></a>              var active = me._active;
<a name="l7834"><span class="linenum">7834</span></a>  
<a name="l7835"><span class="linenum">7835</span></a>              var data = me._data;
<a name="l7836"><span class="linenum">7836</span></a>              var chartInstance = me._chartInstance;
<a name="l7837"><span class="linenum">7837</span></a>  
<a name="l7838"><span class="linenum">7838</span></a>              var i, len;
<a name="l7839"><span class="linenum">7839</span></a>  
<a name="l7840"><span class="linenum">7840</span></a>              if (active.length) {
<a name="l7841"><span class="linenum">7841</span></a>                  model.opacity = 1;
<a name="l7842"><span class="linenum">7842</span></a>  
<a name="l7843"><span class="linenum">7843</span></a>                  var labelColors = [],
<a name="l7844"><span class="linenum">7844</span></a>                      tooltipPosition = <a class="function" onClick="logFunction('getAveragePosition')" href="../../../_functions/getaverageposition.html" onMouseOver="funcPopup(event,'getaverageposition')">getAveragePosition</a>(active);
<a name="l7845"><span class="linenum">7845</span></a>  
<a name="l7846"><span class="linenum">7846</span></a>                  var tooltipItems = [];
<a name="l7847"><span class="linenum">7847</span></a>                  for (i = 0, len = active.length; i &lt; len; ++i) {
<a name="l7848"><span class="linenum">7848</span></a>                      tooltipItems.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(<a class="function" onClick="logFunction('createTooltipItem')" href="../../../_functions/createtooltipitem.html" onMouseOver="funcPopup(event,'createtooltipitem')">createTooltipItem</a>(active[i]));
<a name="l7849"><span class="linenum">7849</span></a>                  }
<a name="l7850"><span class="linenum">7850</span></a>  
<a name="l7851"><span class="linenum">7851</span></a>  <span class="comment">                // If the user provided a sorting function, use it to modify the tooltip items</span>
<a name="l7852"><span class="linenum">7852</span></a>                  if (opts.itemSort) {
<a name="l7853"><span class="linenum">7853</span></a>                      tooltipItems = tooltipItems.<a class="phpfunction" onClick="logFunction('sort')" href="../../../_functions/sort.html" onMouseOver="phpfuncPopup(event,'sort')">sort</a>(opts.itemSort);
<a name="l7854"><span class="linenum">7854</span></a>                  }
<a name="l7855"><span class="linenum">7855</span></a>  
<a name="l7856"><span class="linenum">7856</span></a>  <span class="comment">                // If there is more than one item, show color items</span>
<a name="l7857"><span class="linenum">7857</span></a>                  if (active.length &gt; 1) {
<a name="l7858"><span class="linenum">7858</span></a>                      helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(tooltipItems, function(tooltipItem) {
<a name="l7859"><span class="linenum">7859</span></a>                          labelColors.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(opts.callbacks.labelColor.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, tooltipItem, chartInstance));
<a name="l7860"><span class="linenum">7860</span></a>                      });
<a name="l7861"><span class="linenum">7861</span></a>                  }
<a name="l7862"><span class="linenum">7862</span></a>  
<a name="l7863"><span class="linenum">7863</span></a>  <span class="comment">                // Build the Text Lines</span>
<a name="l7864"><span class="linenum">7864</span></a>                  helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(model, {
<a name="l7865"><span class="linenum">7865</span></a>                      title: me.<a class="function" onClick="logFunction('getTitle')" href="../../../_functions/gettitle.html" onMouseOver="funcPopup(event,'gettitle')">getTitle</a>(tooltipItems, data),
<a name="l7866"><span class="linenum">7866</span></a>                      beforeBody: me.getBeforeBody(tooltipItems, data),
<a name="l7867"><span class="linenum">7867</span></a>                      body: me.<a class="function" onClick="logFunction('getBody')" href="../../../_functions/getbody.html" onMouseOver="funcPopup(event,'getbody')">getBody</a>(tooltipItems, data),
<a name="l7868"><span class="linenum">7868</span></a>                      afterBody: me.getAfterBody(tooltipItems, data),
<a name="l7869"><span class="linenum">7869</span></a>                      footer: me.<a class="function" onClick="logFunction('getFooter')" href="../../../_functions/getfooter.html" onMouseOver="funcPopup(event,'getfooter')">getFooter</a>(tooltipItems, data),
<a name="l7870"><span class="linenum">7870</span></a>                      x: Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(tooltipPosition.x),
<a name="l7871"><span class="linenum">7871</span></a>                      y: Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(tooltipPosition.y),
<a name="l7872"><span class="linenum">7872</span></a>                      caretPadding: helpers.getValueOrDefault(tooltipPosition.padding, 2),
<a name="l7873"><span class="linenum">7873</span></a>                      labelColors: labelColors
<a name="l7874"><span class="linenum">7874</span></a>                  });
<a name="l7875"><span class="linenum">7875</span></a>  
<a name="l7876"><span class="linenum">7876</span></a>  <span class="comment">                // We need to determine alignment of</span>
<a name="l7877"><span class="linenum">7877</span></a>                  var tooltipSize = me.getTooltipSize(model);
<a name="l7878"><span class="linenum">7878</span></a>                  me.determineAlignment(tooltipSize); <span class="comment">// Smart Tooltip placement to stay on the canvas</span>
<a name="l7879"><span class="linenum">7879</span></a>  
<a name="l7880"><span class="linenum">7880</span></a>                  helpers.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(model, me.getBackgroundPoint(model, tooltipSize));
<a name="l7881"><span class="linenum">7881</span></a>              } else {
<a name="l7882"><span class="linenum">7882</span></a>                  me._model.opacity = 0;
<a name="l7883"><span class="linenum">7883</span></a>              }
<a name="l7884"><span class="linenum">7884</span></a>  
<a name="l7885"><span class="linenum">7885</span></a>              if (changed &amp;&amp; opts.custom) {
<a name="l7886"><span class="linenum">7886</span></a>                  opts.custom.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, model);
<a name="l7887"><span class="linenum">7887</span></a>              }
<a name="l7888"><span class="linenum">7888</span></a>  
<a name="l7889"><span class="linenum">7889</span></a>              return me;
<a name="l7890"><span class="linenum">7890</span></a>          },
<a name="l7891"><span class="linenum">7891</span></a>          getTooltipSize: function getTooltipSize(vm) {
<a name="l7892"><span class="linenum">7892</span></a>              var ctx = this._chart.ctx;
<a name="l7893"><span class="linenum">7893</span></a>  
<a name="l7894"><span class="linenum">7894</span></a>              var size = {
<a name="l7895"><span class="linenum">7895</span></a>                  height: vm.yPadding * 2, // Tooltip Padding
<a name="l7896"><span class="linenum">7896</span></a>                  width: 0
<a name="l7897"><span class="linenum">7897</span></a>              };
<a name="l7898"><span class="linenum">7898</span></a>  
<a name="l7899"><span class="linenum">7899</span></a>  <span class="comment">            // Count of all lines in the body</span>
<a name="l7900"><span class="linenum">7900</span></a>              var body = vm.body;
<a name="l7901"><span class="linenum">7901</span></a>              var combinedBodyLength = body.<a class="function" onClick="logFunction('reduce')" href="../../../_functions/reduce.html" onMouseOver="funcPopup(event,'reduce')">reduce</a>(function(count, bodyItem) {
<a name="l7902"><span class="linenum">7902</span></a>                  return count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;
<a name="l7903"><span class="linenum">7903</span></a>              }, 0);
<a name="l7904"><span class="linenum">7904</span></a>              combinedBodyLength += vm.beforeBody.length + vm.afterBody.length;
<a name="l7905"><span class="linenum">7905</span></a>  
<a name="l7906"><span class="linenum">7906</span></a>              var titleLineCount = vm.title.length;
<a name="l7907"><span class="linenum">7907</span></a>              var footerLineCount = vm.footer.length;
<a name="l7908"><span class="linenum">7908</span></a>              var titleFontSize = vm.titleFontSize,
<a name="l7909"><span class="linenum">7909</span></a>                  bodyFontSize = vm.bodyFontSize,
<a name="l7910"><span class="linenum">7910</span></a>                  footerFontSize = vm.footerFontSize;
<a name="l7911"><span class="linenum">7911</span></a>  
<a name="l7912"><span class="linenum">7912</span></a>              size.height += titleLineCount * titleFontSize; <span class="comment">// Title Lines</span>
<a name="l7913"><span class="linenum">7913</span></a>              size.height += (titleLineCount - 1) * vm.titleSpacing; <span class="comment">// Title Line Spacing</span>
<a name="l7914"><span class="linenum">7914</span></a>              size.height += titleLineCount ? vm.titleMarginBottom : 0; <span class="comment">// Title's bottom Margin</span>
<a name="l7915"><span class="linenum">7915</span></a>              size.height += combinedBodyLength * bodyFontSize; <span class="comment">// Body Lines</span>
<a name="l7916"><span class="linenum">7916</span></a>              size.height += combinedBodyLength ? (combinedBodyLength - 1) * vm.bodySpacing : 0; <span class="comment">// Body Line Spacing</span>
<a name="l7917"><span class="linenum">7917</span></a>              size.height += footerLineCount ? vm.footerMarginTop : 0; <span class="comment">// Footer Margin</span>
<a name="l7918"><span class="linenum">7918</span></a>              size.height += footerLineCount * (footerFontSize); <span class="comment">// Footer Lines</span>
<a name="l7919"><span class="linenum">7919</span></a>              size.height += footerLineCount ? (footerLineCount - 1) * vm.footerSpacing : 0; <span class="comment">// Footer Line Spacing</span>
<a name="l7920"><span class="linenum">7920</span></a>  
<a name="l7921"><span class="linenum">7921</span></a>  <span class="comment">            // Title width</span>
<a name="l7922"><span class="linenum">7922</span></a>              var widthPadding = 0;
<a name="l7923"><span class="linenum">7923</span></a>              var maxLineWidth = function(line) {
<a name="l7924"><span class="linenum">7924</span></a>                  size.width = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(size.width, ctx.measureText(line).width + widthPadding);
<a name="l7925"><span class="linenum">7925</span></a>              };
<a name="l7926"><span class="linenum">7926</span></a>  
<a name="l7927"><span class="linenum">7927</span></a>              ctx.font = helpers.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);
<a name="l7928"><span class="linenum">7928</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(vm.title, maxLineWidth);
<a name="l7929"><span class="linenum">7929</span></a>  
<a name="l7930"><span class="linenum">7930</span></a>  <span class="comment">            // Body width</span>
<a name="l7931"><span class="linenum">7931</span></a>              ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);
<a name="l7932"><span class="linenum">7932</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(vm.beforeBody.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(vm.afterBody), maxLineWidth);
<a name="l7933"><span class="linenum">7933</span></a>  
<a name="l7934"><span class="linenum">7934</span></a>  <span class="comment">            // Body lines may include some extra width due to the color box</span>
<a name="l7935"><span class="linenum">7935</span></a>              widthPadding = body.length &gt; 1 ? (bodyFontSize + 2) : 0;
<a name="l7936"><span class="linenum">7936</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(body, function(bodyItem) {
<a name="l7937"><span class="linenum">7937</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(bodyItem.before, maxLineWidth);
<a name="l7938"><span class="linenum">7938</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(bodyItem.lines, maxLineWidth);
<a name="l7939"><span class="linenum">7939</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(bodyItem.after, maxLineWidth);
<a name="l7940"><span class="linenum">7940</span></a>              });
<a name="l7941"><span class="linenum">7941</span></a>  
<a name="l7942"><span class="linenum">7942</span></a>  <span class="comment">            // Reset back to 0</span>
<a name="l7943"><span class="linenum">7943</span></a>              widthPadding = 0;
<a name="l7944"><span class="linenum">7944</span></a>  
<a name="l7945"><span class="linenum">7945</span></a>  <span class="comment">            // Footer width</span>
<a name="l7946"><span class="linenum">7946</span></a>              ctx.font = helpers.fontString(footerFontSize, vm._footerFontStyle, vm._footerFontFamily);
<a name="l7947"><span class="linenum">7947</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(vm.footer, maxLineWidth);
<a name="l7948"><span class="linenum">7948</span></a>  
<a name="l7949"><span class="linenum">7949</span></a>  <span class="comment">            // Add padding</span>
<a name="l7950"><span class="linenum">7950</span></a>              size.width += 2 * vm.xPadding;
<a name="l7951"><span class="linenum">7951</span></a>  
<a name="l7952"><span class="linenum">7952</span></a>              return size;
<a name="l7953"><span class="linenum">7953</span></a>          },
<a name="l7954"><span class="linenum">7954</span></a>          determineAlignment: function determineAlignment(size) {
<a name="l7955"><span class="linenum">7955</span></a>              var me = this;
<a name="l7956"><span class="linenum">7956</span></a>              var model = me._model;
<a name="l7957"><span class="linenum">7957</span></a>              var chart = me._chart;
<a name="l7958"><span class="linenum">7958</span></a>              var chartArea = me._chartInstance.chartArea;
<a name="l7959"><span class="linenum">7959</span></a>  
<a name="l7960"><span class="linenum">7960</span></a>              if (model.y &lt; size.height) {
<a name="l7961"><span class="linenum">7961</span></a>                  model.yAlign = 'top';
<a name="l7962"><span class="linenum">7962</span></a>              } else if (model.y &gt; (chart.height - size.height)) {
<a name="l7963"><span class="linenum">7963</span></a>                  model.yAlign = 'bottom';
<a name="l7964"><span class="linenum">7964</span></a>              }
<a name="l7965"><span class="linenum">7965</span></a>  
<a name="l7966"><span class="linenum">7966</span></a>              var lf, rf; <span class="comment">// functions to determine left, right alignment</span>
<a name="l7967"><span class="linenum">7967</span></a>              var olf, orf; <span class="comment">// functions to determine if left/right alignment causes tooltip to go outside chart</span>
<a name="l7968"><span class="linenum">7968</span></a>              var yf; <span class="comment">// function to get the y alignment if the tooltip goes outside of the left or right edges</span>
<a name="l7969"><span class="linenum">7969</span></a>              var midX = (chartArea.left + chartArea.right) / 2;
<a name="l7970"><span class="linenum">7970</span></a>              var midY = (chartArea.top + chartArea.bottom) / 2;
<a name="l7971"><span class="linenum">7971</span></a>  
<a name="l7972"><span class="linenum">7972</span></a>              if (model.yAlign === 'center') {
<a name="l7973"><span class="linenum">7973</span></a>                  lf = function(x) {
<a name="l7974"><span class="linenum">7974</span></a>                      return x &lt;= midX;
<a name="l7975"><span class="linenum">7975</span></a>                  };
<a name="l7976"><span class="linenum">7976</span></a>                  rf = function(x) {
<a name="l7977"><span class="linenum">7977</span></a>                      return x &gt; midX;
<a name="l7978"><span class="linenum">7978</span></a>                  };
<a name="l7979"><span class="linenum">7979</span></a>              } else {
<a name="l7980"><span class="linenum">7980</span></a>                  lf = function(x) {
<a name="l7981"><span class="linenum">7981</span></a>                      return x &lt;= (size.width / 2);
<a name="l7982"><span class="linenum">7982</span></a>                  };
<a name="l7983"><span class="linenum">7983</span></a>                  rf = function(x) {
<a name="l7984"><span class="linenum">7984</span></a>                      return x &gt;= (chart.width - (size.width / 2));
<a name="l7985"><span class="linenum">7985</span></a>                  };
<a name="l7986"><span class="linenum">7986</span></a>              }
<a name="l7987"><span class="linenum">7987</span></a>  
<a name="l7988"><span class="linenum">7988</span></a>              olf = function(x) {
<a name="l7989"><span class="linenum">7989</span></a>                  return x + size.width &gt; chart.width;
<a name="l7990"><span class="linenum">7990</span></a>              };
<a name="l7991"><span class="linenum">7991</span></a>              orf = function(x) {
<a name="l7992"><span class="linenum">7992</span></a>                  return x - size.width &lt; 0;
<a name="l7993"><span class="linenum">7993</span></a>              };
<a name="l7994"><span class="linenum">7994</span></a>              yf = function(y) {
<a name="l7995"><span class="linenum">7995</span></a>                  return y &lt;= midY ? 'top' : 'bottom';
<a name="l7996"><span class="linenum">7996</span></a>              };
<a name="l7997"><span class="linenum">7997</span></a>  
<a name="l7998"><span class="linenum">7998</span></a>              if (lf(model.x)) {
<a name="l7999"><span class="linenum">7999</span></a>                  model.xAlign = 'left';
<a name="l8000"><span class="linenum">8000</span></a>  
<a name="l8001"><span class="linenum">8001</span></a>  <span class="comment">                // Is tooltip too wide and goes over the right side of the chart.?</span>
<a name="l8002"><span class="linenum">8002</span></a>                  if (olf(model.x)) {
<a name="l8003"><span class="linenum">8003</span></a>                      model.xAlign = 'center';
<a name="l8004"><span class="linenum">8004</span></a>                      model.yAlign = yf(model.y);
<a name="l8005"><span class="linenum">8005</span></a>                  }
<a name="l8006"><span class="linenum">8006</span></a>              } else if (rf(model.x)) {
<a name="l8007"><span class="linenum">8007</span></a>                  model.xAlign = 'right';
<a name="l8008"><span class="linenum">8008</span></a>  
<a name="l8009"><span class="linenum">8009</span></a>  <span class="comment">                // Is tooltip too wide and goes outside left edge of canvas?</span>
<a name="l8010"><span class="linenum">8010</span></a>                  if (orf(model.x)) {
<a name="l8011"><span class="linenum">8011</span></a>                      model.xAlign = 'center';
<a name="l8012"><span class="linenum">8012</span></a>                      model.yAlign = yf(model.y);
<a name="l8013"><span class="linenum">8013</span></a>                  }
<a name="l8014"><span class="linenum">8014</span></a>              }
<a name="l8015"><span class="linenum">8015</span></a>          },
<a name="l8016"><span class="linenum">8016</span></a>          getBackgroundPoint: function getBackgroundPoint(vm, size) {
<a name="l8017"><span class="linenum">8017</span></a>  <span class="comment">            // Background Position</span>
<a name="l8018"><span class="linenum">8018</span></a>              var pt = {
<a name="l8019"><span class="linenum">8019</span></a>                  x: vm.x,
<a name="l8020"><span class="linenum">8020</span></a>                  y: vm.y
<a name="l8021"><span class="linenum">8021</span></a>              };
<a name="l8022"><span class="linenum">8022</span></a>  
<a name="l8023"><span class="linenum">8023</span></a>              var caretSize = vm.caretSize,
<a name="l8024"><span class="linenum">8024</span></a>                  caretPadding = vm.caretPadding,
<a name="l8025"><span class="linenum">8025</span></a>                  cornerRadius = vm.cornerRadius,
<a name="l8026"><span class="linenum">8026</span></a>                  xAlign = vm.xAlign,
<a name="l8027"><span class="linenum">8027</span></a>                  yAlign = vm.yAlign,
<a name="l8028"><span class="linenum">8028</span></a>                  paddingAndSize = caretSize + caretPadding,
<a name="l8029"><span class="linenum">8029</span></a>                  radiusAndPadding = cornerRadius + caretPadding;
<a name="l8030"><span class="linenum">8030</span></a>  
<a name="l8031"><span class="linenum">8031</span></a>              if (xAlign === 'right') {
<a name="l8032"><span class="linenum">8032</span></a>                  pt.x -= size.width;
<a name="l8033"><span class="linenum">8033</span></a>              } else if (xAlign === 'center') {
<a name="l8034"><span class="linenum">8034</span></a>                  pt.x -= (size.width / 2);
<a name="l8035"><span class="linenum">8035</span></a>              }
<a name="l8036"><span class="linenum">8036</span></a>  
<a name="l8037"><span class="linenum">8037</span></a>              if (yAlign === 'top') {
<a name="l8038"><span class="linenum">8038</span></a>                  pt.y += paddingAndSize;
<a name="l8039"><span class="linenum">8039</span></a>              } else if (yAlign === 'bottom') {
<a name="l8040"><span class="linenum">8040</span></a>                  pt.y -= size.height + paddingAndSize;
<a name="l8041"><span class="linenum">8041</span></a>              } else {
<a name="l8042"><span class="linenum">8042</span></a>                  pt.y -= (size.height / 2);
<a name="l8043"><span class="linenum">8043</span></a>              }
<a name="l8044"><span class="linenum">8044</span></a>  
<a name="l8045"><span class="linenum">8045</span></a>              if (yAlign === 'center') {
<a name="l8046"><span class="linenum">8046</span></a>                  if (xAlign === 'left') {
<a name="l8047"><span class="linenum">8047</span></a>                      pt.x += paddingAndSize;
<a name="l8048"><span class="linenum">8048</span></a>                  } else if (xAlign === 'right') {
<a name="l8049"><span class="linenum">8049</span></a>                      pt.x -= paddingAndSize;
<a name="l8050"><span class="linenum">8050</span></a>                  }
<a name="l8051"><span class="linenum">8051</span></a>              } else {
<a name="l8052"><span class="linenum">8052</span></a>                  if (xAlign === 'left') {
<a name="l8053"><span class="linenum">8053</span></a>                      pt.x -= radiusAndPadding;
<a name="l8054"><span class="linenum">8054</span></a>                  } else if (xAlign === 'right') {
<a name="l8055"><span class="linenum">8055</span></a>                      pt.x += radiusAndPadding;
<a name="l8056"><span class="linenum">8056</span></a>                  }
<a name="l8057"><span class="linenum">8057</span></a>              }
<a name="l8058"><span class="linenum">8058</span></a>  
<a name="l8059"><span class="linenum">8059</span></a>              return pt;
<a name="l8060"><span class="linenum">8060</span></a>          },
<a name="l8061"><span class="linenum">8061</span></a>          drawCaret: function drawCaret(tooltipPoint, size, opacity, caretPadding) {
<a name="l8062"><span class="linenum">8062</span></a>              var vm = this._view;
<a name="l8063"><span class="linenum">8063</span></a>              var ctx = this._chart.ctx;
<a name="l8064"><span class="linenum">8064</span></a>              var x1, x2, x3;
<a name="l8065"><span class="linenum">8065</span></a>              var y1, y2, y3;
<a name="l8066"><span class="linenum">8066</span></a>              var caretSize = vm.caretSize;
<a name="l8067"><span class="linenum">8067</span></a>              var cornerRadius = vm.cornerRadius;
<a name="l8068"><span class="linenum">8068</span></a>              var xAlign = vm.xAlign,
<a name="l8069"><span class="linenum">8069</span></a>                  yAlign = vm.yAlign;
<a name="l8070"><span class="linenum">8070</span></a>              var ptX = tooltipPoint.x,
<a name="l8071"><span class="linenum">8071</span></a>                  ptY = tooltipPoint.y;
<a name="l8072"><span class="linenum">8072</span></a>              var width = size.width,
<a name="l8073"><span class="linenum">8073</span></a>                  height = size.height;
<a name="l8074"><span class="linenum">8074</span></a>  
<a name="l8075"><span class="linenum">8075</span></a>              if (yAlign === 'center') {
<a name="l8076"><span class="linenum">8076</span></a>  <span class="comment">                // Left or right side</span>
<a name="l8077"><span class="linenum">8077</span></a>                  if (xAlign === 'left') {
<a name="l8078"><span class="linenum">8078</span></a>                      x1 = ptX;
<a name="l8079"><span class="linenum">8079</span></a>                      x2 = x1 - caretSize;
<a name="l8080"><span class="linenum">8080</span></a>                      x3 = x1;
<a name="l8081"><span class="linenum">8081</span></a>                  } else {
<a name="l8082"><span class="linenum">8082</span></a>                      x1 = ptX + width;
<a name="l8083"><span class="linenum">8083</span></a>                      x2 = x1 + caretSize;
<a name="l8084"><span class="linenum">8084</span></a>                      x3 = x1;
<a name="l8085"><span class="linenum">8085</span></a>                  }
<a name="l8086"><span class="linenum">8086</span></a>  
<a name="l8087"><span class="linenum">8087</span></a>                  y2 = ptY + (height / 2);
<a name="l8088"><span class="linenum">8088</span></a>                  y1 = y2 - caretSize;
<a name="l8089"><span class="linenum">8089</span></a>                  y3 = y2 + caretSize;
<a name="l8090"><span class="linenum">8090</span></a>              } else {
<a name="l8091"><span class="linenum">8091</span></a>                  if (xAlign === 'left') {
<a name="l8092"><span class="linenum">8092</span></a>                      x1 = ptX + cornerRadius;
<a name="l8093"><span class="linenum">8093</span></a>                      x2 = x1 + caretSize;
<a name="l8094"><span class="linenum">8094</span></a>                      x3 = x2 + caretSize;
<a name="l8095"><span class="linenum">8095</span></a>                  } else if (xAlign === 'right') {
<a name="l8096"><span class="linenum">8096</span></a>                      x1 = ptX + width - cornerRadius;
<a name="l8097"><span class="linenum">8097</span></a>                      x2 = x1 - caretSize;
<a name="l8098"><span class="linenum">8098</span></a>                      x3 = x2 - caretSize;
<a name="l8099"><span class="linenum">8099</span></a>                  } else {
<a name="l8100"><span class="linenum">8100</span></a>                      x2 = ptX + (width / 2);
<a name="l8101"><span class="linenum">8101</span></a>                      x1 = x2 - caretSize;
<a name="l8102"><span class="linenum">8102</span></a>                      x3 = x2 + caretSize;
<a name="l8103"><span class="linenum">8103</span></a>                  }
<a name="l8104"><span class="linenum">8104</span></a>  
<a name="l8105"><span class="linenum">8105</span></a>                  if (yAlign === 'top') {
<a name="l8106"><span class="linenum">8106</span></a>                      y1 = ptY;
<a name="l8107"><span class="linenum">8107</span></a>                      y2 = y1 - caretSize;
<a name="l8108"><span class="linenum">8108</span></a>                      y3 = y1;
<a name="l8109"><span class="linenum">8109</span></a>                  } else {
<a name="l8110"><span class="linenum">8110</span></a>                      y1 = ptY + height;
<a name="l8111"><span class="linenum">8111</span></a>                      y2 = y1 + caretSize;
<a name="l8112"><span class="linenum">8112</span></a>                      y3 = y1;
<a name="l8113"><span class="linenum">8113</span></a>                  }
<a name="l8114"><span class="linenum">8114</span></a>              }
<a name="l8115"><span class="linenum">8115</span></a>  
<a name="l8116"><span class="linenum">8116</span></a>              var bgColor = helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(vm.backgroundColor);
<a name="l8117"><span class="linenum">8117</span></a>              ctx.fillStyle = bgColor.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>(opacity * bgColor.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>()).<a class="function" onClick="logFunction('rgbString')" href="../../../_functions/rgbstring.html" onMouseOver="funcPopup(event,'rgbstring')">rgbString</a>();
<a name="l8118"><span class="linenum">8118</span></a>              ctx.beginPath();
<a name="l8119"><span class="linenum">8119</span></a>              ctx.moveTo(x1, y1);
<a name="l8120"><span class="linenum">8120</span></a>              ctx.lineTo(x2, y2);
<a name="l8121"><span class="linenum">8121</span></a>              ctx.lineTo(x3, y3);
<a name="l8122"><span class="linenum">8122</span></a>              ctx.closePath();
<a name="l8123"><span class="linenum">8123</span></a>              ctx.fill();
<a name="l8124"><span class="linenum">8124</span></a>          },
<a name="l8125"><span class="linenum">8125</span></a>          drawTitle: function drawTitle(pt, vm, ctx, opacity) {
<a name="l8126"><span class="linenum">8126</span></a>              var title = vm.title;
<a name="l8127"><span class="linenum">8127</span></a>  
<a name="l8128"><span class="linenum">8128</span></a>              if (title.length) {
<a name="l8129"><span class="linenum">8129</span></a>                  ctx.textAlign = vm._titleAlign;
<a name="l8130"><span class="linenum">8130</span></a>                  ctx.textBaseline = &quot;top&quot;;
<a name="l8131"><span class="linenum">8131</span></a>  
<a name="l8132"><span class="linenum">8132</span></a>                  var titleFontSize = vm.titleFontSize,
<a name="l8133"><span class="linenum">8133</span></a>                      titleSpacing = vm.titleSpacing;
<a name="l8134"><span class="linenum">8134</span></a>  
<a name="l8135"><span class="linenum">8135</span></a>                  var titleFontColor = helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(vm.titleFontColor);
<a name="l8136"><span class="linenum">8136</span></a>                  ctx.fillStyle = titleFontColor.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>(opacity * titleFontColor.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>()).<a class="function" onClick="logFunction('rgbString')" href="../../../_functions/rgbstring.html" onMouseOver="funcPopup(event,'rgbstring')">rgbString</a>();
<a name="l8137"><span class="linenum">8137</span></a>                  ctx.font = helpers.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);
<a name="l8138"><span class="linenum">8138</span></a>  
<a name="l8139"><span class="linenum">8139</span></a>                  var i, len;
<a name="l8140"><span class="linenum">8140</span></a>                  for (i = 0, len = title.length; i &lt; len; ++i) {
<a name="l8141"><span class="linenum">8141</span></a>                      ctx.fillText(title[i], pt.x, pt.y);
<a name="l8142"><span class="linenum">8142</span></a>                      pt.y += titleFontSize + titleSpacing; <span class="comment">// Line Height and spacing</span>
<a name="l8143"><span class="linenum">8143</span></a>  
<a name="l8144"><span class="linenum">8144</span></a>                      if (i + 1 === title.length) {
<a name="l8145"><span class="linenum">8145</span></a>                          pt.y += vm.titleMarginBottom - titleSpacing; <span class="comment">// If Last, add margin, remove spacing</span>
<a name="l8146"><span class="linenum">8146</span></a>                      }
<a name="l8147"><span class="linenum">8147</span></a>                  }
<a name="l8148"><span class="linenum">8148</span></a>              }
<a name="l8149"><span class="linenum">8149</span></a>          },
<a name="l8150"><span class="linenum">8150</span></a>          drawBody: function drawBody(pt, vm, ctx, opacity) {
<a name="l8151"><span class="linenum">8151</span></a>              var bodyFontSize = vm.bodyFontSize;
<a name="l8152"><span class="linenum">8152</span></a>              var bodySpacing = vm.bodySpacing;
<a name="l8153"><span class="linenum">8153</span></a>              var body = vm.body;
<a name="l8154"><span class="linenum">8154</span></a>  
<a name="l8155"><span class="linenum">8155</span></a>              ctx.textAlign = vm._bodyAlign;
<a name="l8156"><span class="linenum">8156</span></a>              ctx.textBaseline = &quot;top&quot;;
<a name="l8157"><span class="linenum">8157</span></a>  
<a name="l8158"><span class="linenum">8158</span></a>              var bodyFontColor = helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(vm.bodyFontColor);
<a name="l8159"><span class="linenum">8159</span></a>              var textColor = bodyFontColor.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>(opacity * bodyFontColor.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>()).<a class="function" onClick="logFunction('rgbString')" href="../../../_functions/rgbstring.html" onMouseOver="funcPopup(event,'rgbstring')">rgbString</a>();
<a name="l8160"><span class="linenum">8160</span></a>              ctx.fillStyle = textColor;
<a name="l8161"><span class="linenum">8161</span></a>              ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);
<a name="l8162"><span class="linenum">8162</span></a>  
<a name="l8163"><span class="linenum">8163</span></a>  <span class="comment">            // Before Body</span>
<a name="l8164"><span class="linenum">8164</span></a>              var xLinePadding = 0;
<a name="l8165"><span class="linenum">8165</span></a>              var fillLineOfText = function(line) {
<a name="l8166"><span class="linenum">8166</span></a>                  ctx.fillText(line, pt.x + xLinePadding, pt.y);
<a name="l8167"><span class="linenum">8167</span></a>                  pt.y += bodyFontSize + bodySpacing;
<a name="l8168"><span class="linenum">8168</span></a>              };
<a name="l8169"><span class="linenum">8169</span></a>  
<a name="l8170"><span class="linenum">8170</span></a>  <span class="comment">            // Before body lines</span>
<a name="l8171"><span class="linenum">8171</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(vm.beforeBody, fillLineOfText);
<a name="l8172"><span class="linenum">8172</span></a>  
<a name="l8173"><span class="linenum">8173</span></a>              var drawColorBoxes = body.length &gt; 1;
<a name="l8174"><span class="linenum">8174</span></a>              xLinePadding = drawColorBoxes ? (bodyFontSize + 2) : 0;
<a name="l8175"><span class="linenum">8175</span></a>  
<a name="l8176"><span class="linenum">8176</span></a>  <span class="comment">            // Draw body lines now</span>
<a name="l8177"><span class="linenum">8177</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(body, function(bodyItem, i) {
<a name="l8178"><span class="linenum">8178</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(bodyItem.before, fillLineOfText);
<a name="l8179"><span class="linenum">8179</span></a>  
<a name="l8180"><span class="linenum">8180</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(bodyItem.lines, function(line) {
<a name="l8181"><span class="linenum">8181</span></a>  <span class="comment">                    // Draw Legend-like boxes if needed</span>
<a name="l8182"><span class="linenum">8182</span></a>                      if (drawColorBoxes) {
<a name="l8183"><span class="linenum">8183</span></a>  <span class="comment">                        // Fill a white rect so that colours merge nicely if the opacity is &lt; 1</span>
<a name="l8184"><span class="linenum">8184</span></a>                          ctx.fillStyle = helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(vm.legendColorBackground).<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>(opacity).<a class="function" onClick="logFunction('rgbaString')" href="../../../_functions/rgbastring.html" onMouseOver="funcPopup(event,'rgbastring')">rgbaString</a>();
<a name="l8185"><span class="linenum">8185</span></a>                          ctx.fillRect(pt.x, pt.y, bodyFontSize, bodyFontSize);
<a name="l8186"><span class="linenum">8186</span></a>  
<a name="l8187"><span class="linenum">8187</span></a>  <span class="comment">                        // Border</span>
<a name="l8188"><span class="linenum">8188</span></a>                          ctx.strokeStyle = helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(vm.labelColors[i].borderColor).<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>(opacity).<a class="function" onClick="logFunction('rgbaString')" href="../../../_functions/rgbastring.html" onMouseOver="funcPopup(event,'rgbastring')">rgbaString</a>();
<a name="l8189"><span class="linenum">8189</span></a>                          ctx.strokeRect(pt.x, pt.y, bodyFontSize, bodyFontSize);
<a name="l8190"><span class="linenum">8190</span></a>  
<a name="l8191"><span class="linenum">8191</span></a>  <span class="comment">                        // Inner square</span>
<a name="l8192"><span class="linenum">8192</span></a>                          ctx.fillStyle = helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(vm.labelColors[i].backgroundColor).<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>(opacity).<a class="function" onClick="logFunction('rgbaString')" href="../../../_functions/rgbastring.html" onMouseOver="funcPopup(event,'rgbastring')">rgbaString</a>();
<a name="l8193"><span class="linenum">8193</span></a>                          ctx.fillRect(pt.x + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);
<a name="l8194"><span class="linenum">8194</span></a>  
<a name="l8195"><span class="linenum">8195</span></a>                          ctx.fillStyle = textColor;
<a name="l8196"><span class="linenum">8196</span></a>                      }
<a name="l8197"><span class="linenum">8197</span></a>  
<a name="l8198"><span class="linenum">8198</span></a>                      fillLineOfText(line);
<a name="l8199"><span class="linenum">8199</span></a>                  });
<a name="l8200"><span class="linenum">8200</span></a>  
<a name="l8201"><span class="linenum">8201</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(bodyItem.after, fillLineOfText);
<a name="l8202"><span class="linenum">8202</span></a>              });
<a name="l8203"><span class="linenum">8203</span></a>  
<a name="l8204"><span class="linenum">8204</span></a>  <span class="comment">            // Reset back to 0 for after body</span>
<a name="l8205"><span class="linenum">8205</span></a>              xLinePadding = 0;
<a name="l8206"><span class="linenum">8206</span></a>  
<a name="l8207"><span class="linenum">8207</span></a>  <span class="comment">            // After body lines</span>
<a name="l8208"><span class="linenum">8208</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(vm.afterBody, fillLineOfText);
<a name="l8209"><span class="linenum">8209</span></a>              pt.y -= bodySpacing; <span class="comment">// Remove last body spacing</span>
<a name="l8210"><span class="linenum">8210</span></a>          },
<a name="l8211"><span class="linenum">8211</span></a>          drawFooter: function drawFooter(pt, vm, ctx, opacity) {
<a name="l8212"><span class="linenum">8212</span></a>              var footer = vm.footer;
<a name="l8213"><span class="linenum">8213</span></a>  
<a name="l8214"><span class="linenum">8214</span></a>              if (footer.length) {
<a name="l8215"><span class="linenum">8215</span></a>                  pt.y += vm.footerMarginTop;
<a name="l8216"><span class="linenum">8216</span></a>  
<a name="l8217"><span class="linenum">8217</span></a>                  ctx.textAlign = vm._footerAlign;
<a name="l8218"><span class="linenum">8218</span></a>                  ctx.textBaseline = &quot;top&quot;;
<a name="l8219"><span class="linenum">8219</span></a>  
<a name="l8220"><span class="linenum">8220</span></a>                  var footerFontColor = helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(vm.footerFontColor);
<a name="l8221"><span class="linenum">8221</span></a>                  ctx.fillStyle = footerFontColor.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>(opacity * footerFontColor.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>()).<a class="function" onClick="logFunction('rgbString')" href="../../../_functions/rgbstring.html" onMouseOver="funcPopup(event,'rgbstring')">rgbString</a>();
<a name="l8222"><span class="linenum">8222</span></a>                  ctx.font = helpers.fontString(vm.footerFontSize, vm._footerFontStyle, vm._footerFontFamily);
<a name="l8223"><span class="linenum">8223</span></a>  
<a name="l8224"><span class="linenum">8224</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(footer, function(line) {
<a name="l8225"><span class="linenum">8225</span></a>                      ctx.fillText(line, pt.x, pt.y);
<a name="l8226"><span class="linenum">8226</span></a>                      pt.y += vm.footerFontSize + vm.footerSpacing;
<a name="l8227"><span class="linenum">8227</span></a>                  });
<a name="l8228"><span class="linenum">8228</span></a>              }
<a name="l8229"><span class="linenum">8229</span></a>          },
<a name="l8230"><span class="linenum">8230</span></a>          draw: function <a class="function" onClick="logFunction('draw')" href="../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>() {
<a name="l8231"><span class="linenum">8231</span></a>              var ctx = this._chart.ctx;
<a name="l8232"><span class="linenum">8232</span></a>              var vm = this._view;
<a name="l8233"><span class="linenum">8233</span></a>  
<a name="l8234"><span class="linenum">8234</span></a>              if (vm.opacity === 0) {
<a name="l8235"><span class="linenum">8235</span></a>                  return;
<a name="l8236"><span class="linenum">8236</span></a>              }
<a name="l8237"><span class="linenum">8237</span></a>  
<a name="l8238"><span class="linenum">8238</span></a>              var tooltipSize = this.getTooltipSize(vm);
<a name="l8239"><span class="linenum">8239</span></a>              var pt = {
<a name="l8240"><span class="linenum">8240</span></a>                  x: vm.x,
<a name="l8241"><span class="linenum">8241</span></a>                  y: vm.y
<a name="l8242"><span class="linenum">8242</span></a>              };
<a name="l8243"><span class="linenum">8243</span></a>  
<a name="l8244"><span class="linenum">8244</span></a>  <span class="comment">            // IE11/Edge does not like very small opacities, so snap to 0</span>
<a name="l8245"><span class="linenum">8245</span></a>              var opacity = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(vm.opacity &lt; 1e-3) ? 0 : vm.opacity;
<a name="l8246"><span class="linenum">8246</span></a>  
<a name="l8247"><span class="linenum">8247</span></a>              if (this._options.enabled) {
<a name="l8248"><span class="linenum">8248</span></a>  <span class="comment">                // Draw Background</span>
<a name="l8249"><span class="linenum">8249</span></a>                  var bgColor = helpers.<a class="function" onClick="logFunction('color')" href="../../../_functions/color.html" onMouseOver="funcPopup(event,'color')">color</a>(vm.backgroundColor);
<a name="l8250"><span class="linenum">8250</span></a>                  ctx.fillStyle = bgColor.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>(opacity * bgColor.<a class="function" onClick="logFunction('alpha')" href="../../../_functions/alpha.html" onMouseOver="funcPopup(event,'alpha')">alpha</a>()).<a class="function" onClick="logFunction('rgbString')" href="../../../_functions/rgbstring.html" onMouseOver="funcPopup(event,'rgbstring')">rgbString</a>();
<a name="l8251"><span class="linenum">8251</span></a>                  helpers.drawRoundedRectangle(ctx, pt.x, pt.y, tooltipSize.width, tooltipSize.height, vm.cornerRadius);
<a name="l8252"><span class="linenum">8252</span></a>                  ctx.fill();
<a name="l8253"><span class="linenum">8253</span></a>  
<a name="l8254"><span class="linenum">8254</span></a>  <span class="comment">                // Draw Caret</span>
<a name="l8255"><span class="linenum">8255</span></a>                  this.drawCaret(pt, tooltipSize, opacity, vm.caretPadding);
<a name="l8256"><span class="linenum">8256</span></a>  
<a name="l8257"><span class="linenum">8257</span></a>  <span class="comment">                // Draw Title, Body, and Footer</span>
<a name="l8258"><span class="linenum">8258</span></a>                  pt.x += vm.xPadding;
<a name="l8259"><span class="linenum">8259</span></a>                  pt.y += vm.yPadding;
<a name="l8260"><span class="linenum">8260</span></a>  
<a name="l8261"><span class="linenum">8261</span></a>  <span class="comment">                // Titles</span>
<a name="l8262"><span class="linenum">8262</span></a>                  this.drawTitle(pt, vm, ctx, opacity);
<a name="l8263"><span class="linenum">8263</span></a>  
<a name="l8264"><span class="linenum">8264</span></a>  <span class="comment">                // Body</span>
<a name="l8265"><span class="linenum">8265</span></a>                  this.drawBody(pt, vm, ctx, opacity);
<a name="l8266"><span class="linenum">8266</span></a>  
<a name="l8267"><span class="linenum">8267</span></a>  <span class="comment">                // Footer</span>
<a name="l8268"><span class="linenum">8268</span></a>                  this.drawFooter(pt, vm, ctx, opacity);
<a name="l8269"><span class="linenum">8269</span></a>              }
<a name="l8270"><span class="linenum">8270</span></a>          }
<a name="l8271"><span class="linenum">8271</span></a>      });
<a name="l8272"><span class="linenum">8272</span></a>  };
<a name="l8273"><span class="linenum">8273</span></a>  
<a name="l8274"><span class="linenum">8274</span></a>  },{}],34:[function(require,module,exports){
<a name="l8275"><span class="linenum">8275</span></a>  &quot;use strict&quot;;
<a name="l8276"><span class="linenum">8276</span></a>  
<a name="l8277"><span class="linenum">8277</span></a>  module.exports = function(Chart, moment) {
<a name="l8278"><span class="linenum">8278</span></a>  
<a name="l8279"><span class="linenum">8279</span></a>    var helpers = Chart.helpers,
<a name="l8280"><span class="linenum">8280</span></a>      globalOpts = Chart.defaults.global;
<a name="l8281"><span class="linenum">8281</span></a>  
<a name="l8282"><span class="linenum">8282</span></a>    globalOpts.elements.arc = {
<a name="l8283"><span class="linenum">8283</span></a>      backgroundColor: globalOpts.defaultColor,
<a name="l8284"><span class="linenum">8284</span></a>      borderColor: &quot;#fff&quot;,
<a name="l8285"><span class="linenum">8285</span></a>      borderWidth: 2
<a name="l8286"><span class="linenum">8286</span></a>    };
<a name="l8287"><span class="linenum">8287</span></a>  
<a name="l8288"><span class="linenum">8288</span></a>    Chart.elements.Arc = Chart.Element.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l8289"><span class="linenum">8289</span></a>      inLabelRange: function(mouseX) {
<a name="l8290"><span class="linenum">8290</span></a>        var vm = this._view;
<a name="l8291"><span class="linenum">8291</span></a>  
<a name="l8292"><span class="linenum">8292</span></a>        if (vm) {
<a name="l8293"><span class="linenum">8293</span></a>          return (Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(mouseX - vm.x, 2) &lt; Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(vm.radius + vm.hoverRadius, 2));
<a name="l8294"><span class="linenum">8294</span></a>        } else {
<a name="l8295"><span class="linenum">8295</span></a>          return false;
<a name="l8296"><span class="linenum">8296</span></a>        }
<a name="l8297"><span class="linenum">8297</span></a>      },
<a name="l8298"><span class="linenum">8298</span></a>      inRange: function(chartX, chartY) {
<a name="l8299"><span class="linenum">8299</span></a>        var vm = this._view;
<a name="l8300"><span class="linenum">8300</span></a>  
<a name="l8301"><span class="linenum">8301</span></a>        if (vm) {
<a name="l8302"><span class="linenum">8302</span></a>          var pointRelativePosition = helpers.getAngleFromPoint(vm, {
<a name="l8303"><span class="linenum">8303</span></a>              x: chartX,
<a name="l8304"><span class="linenum">8304</span></a>              y: chartY
<a name="l8305"><span class="linenum">8305</span></a>            }),
<a name="l8306"><span class="linenum">8306</span></a>            angle = pointRelativePosition.angle,
<a name="l8307"><span class="linenum">8307</span></a>            distance = pointRelativePosition.distance;
<a name="l8308"><span class="linenum">8308</span></a>  
<a name="l8309"><span class="linenum">8309</span></a>  <span class="comment">        //Sanitise angle range</span>
<a name="l8310"><span class="linenum">8310</span></a>          var startAngle = vm.startAngle;
<a name="l8311"><span class="linenum">8311</span></a>          var endAngle = vm.endAngle;
<a name="l8312"><span class="linenum">8312</span></a>          while (endAngle &lt; startAngle) {
<a name="l8313"><span class="linenum">8313</span></a>            endAngle += 2.0 * Math.PI;
<a name="l8314"><span class="linenum">8314</span></a>          }
<a name="l8315"><span class="linenum">8315</span></a>          while (angle &gt; endAngle) {
<a name="l8316"><span class="linenum">8316</span></a>            angle -= 2.0 * Math.PI;
<a name="l8317"><span class="linenum">8317</span></a>          }
<a name="l8318"><span class="linenum">8318</span></a>          while (angle &lt; startAngle) {
<a name="l8319"><span class="linenum">8319</span></a>            angle += 2.0 * Math.PI;
<a name="l8320"><span class="linenum">8320</span></a>          }
<a name="l8321"><span class="linenum">8321</span></a>  
<a name="l8322"><span class="linenum">8322</span></a>  <span class="comment">        //Check if within the range of the open/close angle</span>
<a name="l8323"><span class="linenum">8323</span></a>          var betweenAngles = (angle &gt;= startAngle &amp;&amp; angle &lt;= endAngle),
<a name="l8324"><span class="linenum">8324</span></a>            withinRadius = (distance &gt;= vm.innerRadius &amp;&amp; distance &lt;= vm.outerRadius);
<a name="l8325"><span class="linenum">8325</span></a>  
<a name="l8326"><span class="linenum">8326</span></a>          return (betweenAngles &amp;&amp; withinRadius);
<a name="l8327"><span class="linenum">8327</span></a>        } else {
<a name="l8328"><span class="linenum">8328</span></a>          return false;
<a name="l8329"><span class="linenum">8329</span></a>        }
<a name="l8330"><span class="linenum">8330</span></a>      },
<a name="l8331"><span class="linenum">8331</span></a>      tooltipPosition: function() {
<a name="l8332"><span class="linenum">8332</span></a>        var vm = this._view;
<a name="l8333"><span class="linenum">8333</span></a>  
<a name="l8334"><span class="linenum">8334</span></a>        var centreAngle = vm.startAngle + ((vm.endAngle - vm.startAngle) / 2),
<a name="l8335"><span class="linenum">8335</span></a>          rangeFromCentre = (vm.outerRadius - vm.innerRadius) / 2 + vm.innerRadius;
<a name="l8336"><span class="linenum">8336</span></a>        return {
<a name="l8337"><span class="linenum">8337</span></a>          x: vm.x + (Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(centreAngle) * rangeFromCentre),
<a name="l8338"><span class="linenum">8338</span></a>          y: vm.y + (Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(centreAngle) * rangeFromCentre)
<a name="l8339"><span class="linenum">8339</span></a>        };
<a name="l8340"><span class="linenum">8340</span></a>      },
<a name="l8341"><span class="linenum">8341</span></a>      draw: function() {
<a name="l8342"><span class="linenum">8342</span></a>  
<a name="l8343"><span class="linenum">8343</span></a>        var ctx = this._chart.ctx,
<a name="l8344"><span class="linenum">8344</span></a>          vm = this._view,
<a name="l8345"><span class="linenum">8345</span></a>          sA = vm.startAngle,
<a name="l8346"><span class="linenum">8346</span></a>          eA = vm.endAngle;
<a name="l8347"><span class="linenum">8347</span></a>  
<a name="l8348"><span class="linenum">8348</span></a>        ctx.beginPath();
<a name="l8349"><span class="linenum">8349</span></a>  
<a name="l8350"><span class="linenum">8350</span></a>        ctx.arc(vm.x, vm.y, vm.outerRadius, sA, eA);
<a name="l8351"><span class="linenum">8351</span></a>        ctx.arc(vm.x, vm.y, vm.innerRadius, eA, sA, true);
<a name="l8352"><span class="linenum">8352</span></a>  
<a name="l8353"><span class="linenum">8353</span></a>        ctx.closePath();
<a name="l8354"><span class="linenum">8354</span></a>        ctx.strokeStyle = vm.borderColor;
<a name="l8355"><span class="linenum">8355</span></a>        ctx.lineWidth = vm.borderWidth;
<a name="l8356"><span class="linenum">8356</span></a>  
<a name="l8357"><span class="linenum">8357</span></a>        ctx.fillStyle = vm.backgroundColor;
<a name="l8358"><span class="linenum">8358</span></a>  
<a name="l8359"><span class="linenum">8359</span></a>        ctx.fill();
<a name="l8360"><span class="linenum">8360</span></a>        ctx.lineJoin = 'bevel';
<a name="l8361"><span class="linenum">8361</span></a>  
<a name="l8362"><span class="linenum">8362</span></a>        if (vm.borderWidth) {
<a name="l8363"><span class="linenum">8363</span></a>          ctx.stroke();
<a name="l8364"><span class="linenum">8364</span></a>        }
<a name="l8365"><span class="linenum">8365</span></a>      }
<a name="l8366"><span class="linenum">8366</span></a>    });
<a name="l8367"><span class="linenum">8367</span></a>  };
<a name="l8368"><span class="linenum">8368</span></a>  
<a name="l8369"><span class="linenum">8369</span></a>  },{}],35:[function(require,module,exports){
<a name="l8370"><span class="linenum">8370</span></a>  &quot;use strict&quot;;
<a name="l8371"><span class="linenum">8371</span></a>  
<a name="l8372"><span class="linenum">8372</span></a>  module.exports = function(Chart) {
<a name="l8373"><span class="linenum">8373</span></a>  
<a name="l8374"><span class="linenum">8374</span></a>      var helpers = Chart.helpers;
<a name="l8375"><span class="linenum">8375</span></a>      var globalDefaults = Chart.defaults.global;
<a name="l8376"><span class="linenum">8376</span></a>  
<a name="l8377"><span class="linenum">8377</span></a>      Chart.defaults.global.elements.line = {
<a name="l8378"><span class="linenum">8378</span></a>          tension: 0.4,
<a name="l8379"><span class="linenum">8379</span></a>          backgroundColor: globalDefaults.defaultColor,
<a name="l8380"><span class="linenum">8380</span></a>          borderWidth: 3,
<a name="l8381"><span class="linenum">8381</span></a>          borderColor: globalDefaults.defaultColor,
<a name="l8382"><span class="linenum">8382</span></a>          borderCapStyle: 'butt',
<a name="l8383"><span class="linenum">8383</span></a>          borderDash: [],
<a name="l8384"><span class="linenum">8384</span></a>          borderDashOffset: 0.0,
<a name="l8385"><span class="linenum">8385</span></a>          borderJoinStyle: 'miter',
<a name="l8386"><span class="linenum">8386</span></a>          fill: true // do we fill in the area between the line and its base axis
<a name="l8387"><span class="linenum">8387</span></a>      };
<a name="l8388"><span class="linenum">8388</span></a>  
<a name="l8389"><span class="linenum">8389</span></a>      Chart.elements.Line = Chart.Element.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l8390"><span class="linenum">8390</span></a>          lineToNextPoint: function(previousPoint, point, nextPoint, skipHandler, previousSkipHandler) {
<a name="l8391"><span class="linenum">8391</span></a>              var me = this;
<a name="l8392"><span class="linenum">8392</span></a>              var ctx = me._chart.ctx;
<a name="l8393"><span class="linenum">8393</span></a>              var spanGaps = me._view ? me._view.spanGaps : false;
<a name="l8394"><span class="linenum">8394</span></a>  
<a name="l8395"><span class="linenum">8395</span></a>              if (point._view.skip &amp;&amp; !spanGaps) {
<a name="l8396"><span class="linenum">8396</span></a>                  skipHandler.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, previousPoint, point, nextPoint);
<a name="l8397"><span class="linenum">8397</span></a>              } else if (previousPoint._view.skip &amp;&amp; !spanGaps) {
<a name="l8398"><span class="linenum">8398</span></a>                  previousSkipHandler.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, previousPoint, point, nextPoint);
<a name="l8399"><span class="linenum">8399</span></a>              } else if (point._view.tension === 0) {
<a name="l8400"><span class="linenum">8400</span></a>                  ctx.lineTo(point._view.x, point._view.y);
<a name="l8401"><span class="linenum">8401</span></a>              } else {
<a name="l8402"><span class="linenum">8402</span></a>  <span class="comment">                // Line between points</span>
<a name="l8403"><span class="linenum">8403</span></a>                  ctx.bezierCurveTo(
<a name="l8404"><span class="linenum">8404</span></a>                      previousPoint._view.controlPointNextX,
<a name="l8405"><span class="linenum">8405</span></a>                      previousPoint._view.controlPointNextY,
<a name="l8406"><span class="linenum">8406</span></a>                      point._view.controlPointPreviousX,
<a name="l8407"><span class="linenum">8407</span></a>                      point._view.controlPointPreviousY,
<a name="l8408"><span class="linenum">8408</span></a>                      point._view.x,
<a name="l8409"><span class="linenum">8409</span></a>                      point._view.y
<a name="l8410"><span class="linenum">8410</span></a>                  );
<a name="l8411"><span class="linenum">8411</span></a>              }
<a name="l8412"><span class="linenum">8412</span></a>          },
<a name="l8413"><span class="linenum">8413</span></a>  
<a name="l8414"><span class="linenum">8414</span></a>          draw: function() {
<a name="l8415"><span class="linenum">8415</span></a>              var me = this;
<a name="l8416"><span class="linenum">8416</span></a>  
<a name="l8417"><span class="linenum">8417</span></a>              var vm = me._view;
<a name="l8418"><span class="linenum">8418</span></a>              var ctx = me._chart.ctx;
<a name="l8419"><span class="linenum">8419</span></a>              var first = me._children[0];
<a name="l8420"><span class="linenum">8420</span></a>              var last = me._children[me._children.length - 1];
<a name="l8421"><span class="linenum">8421</span></a>  
<a name="l8422"><span class="linenum">8422</span></a>  			function <a class="function" onClick="logFunction('loopBackToStart')" href="../../../_functions/loopbacktostart.html" onMouseOver="funcPopup(event,'loopbacktostart')">loopBackToStart</a>(drawLineToCenter) {
<a name="l8423"><span class="linenum">8423</span></a>                  if (!first._view.skip &amp;&amp; !last._view.skip) {
<a name="l8424"><span class="linenum">8424</span></a>  <span class="comment">                    // Draw a bezier line from last to first</span>
<a name="l8425"><span class="linenum">8425</span></a>                      ctx.bezierCurveTo(
<a name="l8426"><span class="linenum">8426</span></a>                          last._view.controlPointNextX,
<a name="l8427"><span class="linenum">8427</span></a>                          last._view.controlPointNextY,
<a name="l8428"><span class="linenum">8428</span></a>                          first._view.controlPointPreviousX,
<a name="l8429"><span class="linenum">8429</span></a>                          first._view.controlPointPreviousY,
<a name="l8430"><span class="linenum">8430</span></a>                          first._view.x,
<a name="l8431"><span class="linenum">8431</span></a>                          first._view.y
<a name="l8432"><span class="linenum">8432</span></a>                      );
<a name="l8433"><span class="linenum">8433</span></a>                  } else if (drawLineToCenter) {
<a name="l8434"><span class="linenum">8434</span></a>  <span class="comment">                    // Go to center</span>
<a name="l8435"><span class="linenum">8435</span></a>                      ctx.lineTo(me._view.scaleZero.x, me._view.scaleZero.y);
<a name="l8436"><span class="linenum">8436</span></a>                  }
<a name="l8437"><span class="linenum">8437</span></a>              }
<a name="l8438"><span class="linenum">8438</span></a>  
<a name="l8439"><span class="linenum">8439</span></a>              ctx.<a class="function" onClick="logFunction('save')" href="../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>();
<a name="l8440"><span class="linenum">8440</span></a>  
<a name="l8441"><span class="linenum">8441</span></a>  <span class="comment">            // If we had points and want to fill this line, do so.</span>
<a name="l8442"><span class="linenum">8442</span></a>              if (me._children.length &gt; 0 &amp;&amp; vm.fill) {
<a name="l8443"><span class="linenum">8443</span></a>  <span class="comment">                // Draw the background first (so the border is always on top)</span>
<a name="l8444"><span class="linenum">8444</span></a>                  ctx.beginPath();
<a name="l8445"><span class="linenum">8445</span></a>  
<a name="l8446"><span class="linenum">8446</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me._children, function(point, index) {
<a name="l8447"><span class="linenum">8447</span></a>                      var previous = helpers.previousItem(me._children, index);
<a name="l8448"><span class="linenum">8448</span></a>                      var next = helpers.nextItem(me._children, index);
<a name="l8449"><span class="linenum">8449</span></a>  
<a name="l8450"><span class="linenum">8450</span></a>  <span class="comment">                    // First point moves to it's starting position no matter what</span>
<a name="l8451"><span class="linenum">8451</span></a>                      if (index === 0) {
<a name="l8452"><span class="linenum">8452</span></a>                          if (me._loop) {
<a name="l8453"><span class="linenum">8453</span></a>                              ctx.moveTo(vm.scaleZero.x, vm.scaleZero.y);
<a name="l8454"><span class="linenum">8454</span></a>                          } else {
<a name="l8455"><span class="linenum">8455</span></a>                              ctx.moveTo(point._view.x, vm.scaleZero);
<a name="l8456"><span class="linenum">8456</span></a>                          }
<a name="l8457"><span class="linenum">8457</span></a>  
<a name="l8458"><span class="linenum">8458</span></a>                          if (point._view.skip) {
<a name="l8459"><span class="linenum">8459</span></a>                              if (!me._loop) {
<a name="l8460"><span class="linenum">8460</span></a>                                  ctx.moveTo(next._view.x, me._view.scaleZero);
<a name="l8461"><span class="linenum">8461</span></a>                              }
<a name="l8462"><span class="linenum">8462</span></a>                          } else {
<a name="l8463"><span class="linenum">8463</span></a>                              ctx.lineTo(point._view.x, point._view.y);
<a name="l8464"><span class="linenum">8464</span></a>                          }
<a name="l8465"><span class="linenum">8465</span></a>                      } else {
<a name="l8466"><span class="linenum">8466</span></a>                          me.lineToNextPoint(previous, point, next, function(previousPoint, point, nextPoint) {
<a name="l8467"><span class="linenum">8467</span></a>                              if (me._loop) {
<a name="l8468"><span class="linenum">8468</span></a>  <span class="comment">                                // Go to center</span>
<a name="l8469"><span class="linenum">8469</span></a>                                  ctx.lineTo(me._view.scaleZero.x, me._view.scaleZero.y);
<a name="l8470"><span class="linenum">8470</span></a>                              } else {
<a name="l8471"><span class="linenum">8471</span></a>                                  ctx.lineTo(previousPoint._view.x, me._view.scaleZero);
<a name="l8472"><span class="linenum">8472</span></a>                                  ctx.moveTo(nextPoint._view.x, me._view.scaleZero);
<a name="l8473"><span class="linenum">8473</span></a>                              }
<a name="l8474"><span class="linenum">8474</span></a>                          }, function(previousPoint, point) {
<a name="l8475"><span class="linenum">8475</span></a>  <span class="comment">                            // If we skipped the last point, draw a line to ourselves so that the fill is nice</span>
<a name="l8476"><span class="linenum">8476</span></a>                              ctx.lineTo(point._view.x, point._view.y);
<a name="l8477"><span class="linenum">8477</span></a>                          });
<a name="l8478"><span class="linenum">8478</span></a>                      }
<a name="l8479"><span class="linenum">8479</span></a>                  }, me);
<a name="l8480"><span class="linenum">8480</span></a>  
<a name="l8481"><span class="linenum">8481</span></a>  <span class="comment">                // For radial scales, loop back around to the first point</span>
<a name="l8482"><span class="linenum">8482</span></a>                  if (me._loop) {
<a name="l8483"><span class="linenum">8483</span></a>                      <a class="function" onClick="logFunction('loopBackToStart')" href="../../../_functions/loopbacktostart.html" onMouseOver="funcPopup(event,'loopbacktostart')">loopBackToStart</a>(true);
<a name="l8484"><span class="linenum">8484</span></a>                  } else {
<a name="l8485"><span class="linenum">8485</span></a>  <span class="comment">                    //Round off the line by going to the base of the chart, back to the start, then fill.</span>
<a name="l8486"><span class="linenum">8486</span></a>                      ctx.lineTo(me._children[me._children.length - 1]._view.x, vm.scaleZero);
<a name="l8487"><span class="linenum">8487</span></a>                      ctx.lineTo(me._children[0]._view.x, vm.scaleZero);
<a name="l8488"><span class="linenum">8488</span></a>                  }
<a name="l8489"><span class="linenum">8489</span></a>  
<a name="l8490"><span class="linenum">8490</span></a>                  ctx.fillStyle = vm.backgroundColor || globalDefaults.defaultColor;
<a name="l8491"><span class="linenum">8491</span></a>                  ctx.closePath();
<a name="l8492"><span class="linenum">8492</span></a>                  ctx.fill();
<a name="l8493"><span class="linenum">8493</span></a>              }
<a name="l8494"><span class="linenum">8494</span></a>  
<a name="l8495"><span class="linenum">8495</span></a>              var globalOptionLineElements = globalDefaults.elements.line;
<a name="l8496"><span class="linenum">8496</span></a>  <span class="comment">            // Now draw the line between all the points with any borders</span>
<a name="l8497"><span class="linenum">8497</span></a>              ctx.lineCap = vm.borderCapStyle || globalOptionLineElements.borderCapStyle;
<a name="l8498"><span class="linenum">8498</span></a>  
<a name="l8499"><span class="linenum">8499</span></a>  <span class="comment">            // IE 9 and 10 do not support line dash</span>
<a name="l8500"><span class="linenum">8500</span></a>              if (ctx.setLineDash) {
<a name="l8501"><span class="linenum">8501</span></a>                  ctx.setLineDash(vm.borderDash || globalOptionLineElements.borderDash);
<a name="l8502"><span class="linenum">8502</span></a>              }
<a name="l8503"><span class="linenum">8503</span></a>  
<a name="l8504"><span class="linenum">8504</span></a>              ctx.lineDashOffset = vm.borderDashOffset || globalOptionLineElements.borderDashOffset;
<a name="l8505"><span class="linenum">8505</span></a>              ctx.lineJoin = vm.borderJoinStyle || globalOptionLineElements.borderJoinStyle;
<a name="l8506"><span class="linenum">8506</span></a>              ctx.lineWidth = vm.borderWidth || globalOptionLineElements.borderWidth;
<a name="l8507"><span class="linenum">8507</span></a>              ctx.strokeStyle = vm.borderColor || globalDefaults.defaultColor;
<a name="l8508"><span class="linenum">8508</span></a>              ctx.beginPath();
<a name="l8509"><span class="linenum">8509</span></a>  
<a name="l8510"><span class="linenum">8510</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me._children, function(point, index) {
<a name="l8511"><span class="linenum">8511</span></a>                  var previous = helpers.previousItem(me._children, index);
<a name="l8512"><span class="linenum">8512</span></a>                  var next = helpers.nextItem(me._children, index);
<a name="l8513"><span class="linenum">8513</span></a>  
<a name="l8514"><span class="linenum">8514</span></a>                  if (index === 0) {
<a name="l8515"><span class="linenum">8515</span></a>                      ctx.moveTo(point._view.x, point._view.y);
<a name="l8516"><span class="linenum">8516</span></a>                  } else {
<a name="l8517"><span class="linenum">8517</span></a>                      me.lineToNextPoint(previous, point, next, function(previousPoint, point, nextPoint) {
<a name="l8518"><span class="linenum">8518</span></a>                          ctx.moveTo(nextPoint._view.x, nextPoint._view.y);
<a name="l8519"><span class="linenum">8519</span></a>                      }, function(previousPoint, point) {
<a name="l8520"><span class="linenum">8520</span></a>  <span class="comment">                        // If we skipped the last point, move up to our point preventing a line from being drawn</span>
<a name="l8521"><span class="linenum">8521</span></a>                          ctx.moveTo(point._view.x, point._view.y);
<a name="l8522"><span class="linenum">8522</span></a>                      });
<a name="l8523"><span class="linenum">8523</span></a>                  }
<a name="l8524"><span class="linenum">8524</span></a>              }, me);
<a name="l8525"><span class="linenum">8525</span></a>  
<a name="l8526"><span class="linenum">8526</span></a>              if (me._loop &amp;&amp; me._children.length &gt; 0) {
<a name="l8527"><span class="linenum">8527</span></a>                  <a class="function" onClick="logFunction('loopBackToStart')" href="../../../_functions/loopbacktostart.html" onMouseOver="funcPopup(event,'loopbacktostart')">loopBackToStart</a>();
<a name="l8528"><span class="linenum">8528</span></a>              }
<a name="l8529"><span class="linenum">8529</span></a>  
<a name="l8530"><span class="linenum">8530</span></a>              ctx.stroke();
<a name="l8531"><span class="linenum">8531</span></a>              ctx.<a class="function" onClick="logFunction('restore')" href="../../../_functions/restore.html" onMouseOver="funcPopup(event,'restore')">restore</a>();
<a name="l8532"><span class="linenum">8532</span></a>          }
<a name="l8533"><span class="linenum">8533</span></a>      });
<a name="l8534"><span class="linenum">8534</span></a>  };
<a name="l8535"><span class="linenum">8535</span></a>  },{}],36:[function(require,module,exports){
<a name="l8536"><span class="linenum">8536</span></a>  &quot;use strict&quot;;
<a name="l8537"><span class="linenum">8537</span></a>  
<a name="l8538"><span class="linenum">8538</span></a>  module.exports = function(Chart) {
<a name="l8539"><span class="linenum">8539</span></a>  
<a name="l8540"><span class="linenum">8540</span></a>      var helpers = Chart.helpers,
<a name="l8541"><span class="linenum">8541</span></a>          globalOpts = Chart.defaults.global,
<a name="l8542"><span class="linenum">8542</span></a>          defaultColor = globalOpts.defaultColor;
<a name="l8543"><span class="linenum">8543</span></a>  
<a name="l8544"><span class="linenum">8544</span></a>      globalOpts.elements.point = {
<a name="l8545"><span class="linenum">8545</span></a>          radius: 3,
<a name="l8546"><span class="linenum">8546</span></a>          pointStyle: 'circle',
<a name="l8547"><span class="linenum">8547</span></a>          backgroundColor: defaultColor,
<a name="l8548"><span class="linenum">8548</span></a>          borderWidth: 1,
<a name="l8549"><span class="linenum">8549</span></a>          borderColor: defaultColor,
<a name="l8550"><span class="linenum">8550</span></a>  <span class="comment">        // Hover</span>
<a name="l8551"><span class="linenum">8551</span></a>          hitRadius: 1,
<a name="l8552"><span class="linenum">8552</span></a>          hoverRadius: 4,
<a name="l8553"><span class="linenum">8553</span></a>          hoverBorderWidth: 1
<a name="l8554"><span class="linenum">8554</span></a>      };
<a name="l8555"><span class="linenum">8555</span></a>  
<a name="l8556"><span class="linenum">8556</span></a>      Chart.elements.Point = Chart.Element.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l8557"><span class="linenum">8557</span></a>          inRange: function(mouseX, mouseY) {
<a name="l8558"><span class="linenum">8558</span></a>              var vm = this._view;
<a name="l8559"><span class="linenum">8559</span></a>              return vm ? ((Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(mouseX - vm.x, 2) + Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(mouseY - vm.y, 2)) &lt; Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(vm.hitRadius + vm.radius, 2)) : false;
<a name="l8560"><span class="linenum">8560</span></a>          },
<a name="l8561"><span class="linenum">8561</span></a>          inLabelRange: function(mouseX) {
<a name="l8562"><span class="linenum">8562</span></a>              var vm = this._view;
<a name="l8563"><span class="linenum">8563</span></a>              return vm ? (Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(mouseX - vm.x, 2) &lt; Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(vm.radius + vm.hitRadius, 2)) : false;
<a name="l8564"><span class="linenum">8564</span></a>          },
<a name="l8565"><span class="linenum">8565</span></a>          tooltipPosition: function() {
<a name="l8566"><span class="linenum">8566</span></a>              var vm = this._view;
<a name="l8567"><span class="linenum">8567</span></a>              return {
<a name="l8568"><span class="linenum">8568</span></a>                  x: vm.x,
<a name="l8569"><span class="linenum">8569</span></a>                  y: vm.y,
<a name="l8570"><span class="linenum">8570</span></a>                  padding: vm.radius + vm.borderWidth
<a name="l8571"><span class="linenum">8571</span></a>              };
<a name="l8572"><span class="linenum">8572</span></a>          },
<a name="l8573"><span class="linenum">8573</span></a>          draw: function() {
<a name="l8574"><span class="linenum">8574</span></a>              var vm = this._view;
<a name="l8575"><span class="linenum">8575</span></a>              var ctx = this._chart.ctx;
<a name="l8576"><span class="linenum">8576</span></a>              var pointStyle = vm.pointStyle;
<a name="l8577"><span class="linenum">8577</span></a>              var radius = vm.radius;
<a name="l8578"><span class="linenum">8578</span></a>              var x = vm.x;
<a name="l8579"><span class="linenum">8579</span></a>              var y = vm.y;
<a name="l8580"><span class="linenum">8580</span></a>              var type, edgeLength, xOffset, yOffset, height, size;
<a name="l8581"><span class="linenum">8581</span></a>  
<a name="l8582"><span class="linenum">8582</span></a>              if (vm.skip) {
<a name="l8583"><span class="linenum">8583</span></a>                  return;
<a name="l8584"><span class="linenum">8584</span></a>              }
<a name="l8585"><span class="linenum">8585</span></a>  
<a name="l8586"><span class="linenum">8586</span></a>              if (typeof pointStyle === 'object') {
<a name="l8587"><span class="linenum">8587</span></a>                  type = pointStyle.<a class="function" onClick="logFunction('toString')" href="../../../_functions/tostring.html" onMouseOver="funcPopup(event,'tostring')">toString</a>();
<a name="l8588"><span class="linenum">8588</span></a>                  if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {
<a name="l8589"><span class="linenum">8589</span></a>                      ctx.drawImage(pointStyle, x - pointStyle.width / 2, y - pointStyle.height / 2);
<a name="l8590"><span class="linenum">8590</span></a>                      return;
<a name="l8591"><span class="linenum">8591</span></a>                  }
<a name="l8592"><span class="linenum">8592</span></a>              }
<a name="l8593"><span class="linenum">8593</span></a>  
<a name="l8594"><span class="linenum">8594</span></a>              if (isNaN(radius) || radius &lt;= 0) {
<a name="l8595"><span class="linenum">8595</span></a>                  return;
<a name="l8596"><span class="linenum">8596</span></a>              }
<a name="l8597"><span class="linenum">8597</span></a>  
<a name="l8598"><span class="linenum">8598</span></a>              ctx.strokeStyle = vm.borderColor || defaultColor;
<a name="l8599"><span class="linenum">8599</span></a>              ctx.lineWidth = helpers.getValueOrDefault(vm.borderWidth, globalOpts.elements.point.borderWidth);
<a name="l8600"><span class="linenum">8600</span></a>              ctx.fillStyle = vm.backgroundColor || defaultColor;
<a name="l8601"><span class="linenum">8601</span></a>  
<a name="l8602"><span class="linenum">8602</span></a>              switch (pointStyle) {
<a name="l8603"><span class="linenum">8603</span></a>  <span class="comment">            // Default includes circle</span>
<a name="l8604"><span class="linenum">8604</span></a>              default:
<a name="l8605"><span class="linenum">8605</span></a>                  ctx.beginPath();
<a name="l8606"><span class="linenum">8606</span></a>                  ctx.arc(x, y, radius, 0, Math.PI * 2);
<a name="l8607"><span class="linenum">8607</span></a>                  ctx.closePath();
<a name="l8608"><span class="linenum">8608</span></a>                  ctx.fill();
<a name="l8609"><span class="linenum">8609</span></a>                  break;
<a name="l8610"><span class="linenum">8610</span></a>              case 'triangle':
<a name="l8611"><span class="linenum">8611</span></a>                  ctx.beginPath();
<a name="l8612"><span class="linenum">8612</span></a>                  edgeLength = 3 * radius / Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(3);
<a name="l8613"><span class="linenum">8613</span></a>                  height = edgeLength * Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(3) / 2;
<a name="l8614"><span class="linenum">8614</span></a>                  ctx.moveTo(x - edgeLength / 2, y + height / 3);
<a name="l8615"><span class="linenum">8615</span></a>                  ctx.lineTo(x + edgeLength / 2, y + height / 3);
<a name="l8616"><span class="linenum">8616</span></a>                  ctx.lineTo(x, y - 2 * height / 3);
<a name="l8617"><span class="linenum">8617</span></a>                  ctx.closePath();
<a name="l8618"><span class="linenum">8618</span></a>                  ctx.fill();
<a name="l8619"><span class="linenum">8619</span></a>                  break;
<a name="l8620"><span class="linenum">8620</span></a>              case 'rect':
<a name="l8621"><span class="linenum">8621</span></a>                  size = 1 / Math.SQRT2 * radius;
<a name="l8622"><span class="linenum">8622</span></a>                  ctx.fillRect(x - size, y - size, 2 * size,  2 * size);
<a name="l8623"><span class="linenum">8623</span></a>                  ctx.strokeRect(x - size, y - size, 2 * size, 2 * size);
<a name="l8624"><span class="linenum">8624</span></a>                  break;
<a name="l8625"><span class="linenum">8625</span></a>              case 'rectRot':
<a name="l8626"><span class="linenum">8626</span></a>                  size = 1 / Math.SQRT2 * radius;
<a name="l8627"><span class="linenum">8627</span></a>                  ctx.beginPath();
<a name="l8628"><span class="linenum">8628</span></a>                  ctx.moveTo(x - size, y);
<a name="l8629"><span class="linenum">8629</span></a>                  ctx.lineTo(x, y + size);
<a name="l8630"><span class="linenum">8630</span></a>                  ctx.lineTo(x + size, y);
<a name="l8631"><span class="linenum">8631</span></a>                  ctx.lineTo(x, y - size);
<a name="l8632"><span class="linenum">8632</span></a>                  ctx.closePath();
<a name="l8633"><span class="linenum">8633</span></a>                  ctx.fill();
<a name="l8634"><span class="linenum">8634</span></a>                  break;
<a name="l8635"><span class="linenum">8635</span></a>              case 'cross':
<a name="l8636"><span class="linenum">8636</span></a>                  ctx.beginPath();
<a name="l8637"><span class="linenum">8637</span></a>                  ctx.moveTo(x, y + radius);
<a name="l8638"><span class="linenum">8638</span></a>                  ctx.lineTo(x, y - radius);
<a name="l8639"><span class="linenum">8639</span></a>                  ctx.moveTo(x - radius, y);
<a name="l8640"><span class="linenum">8640</span></a>                  ctx.lineTo(x + radius, y);
<a name="l8641"><span class="linenum">8641</span></a>                  ctx.closePath();
<a name="l8642"><span class="linenum">8642</span></a>                  break;
<a name="l8643"><span class="linenum">8643</span></a>              case 'crossRot':
<a name="l8644"><span class="linenum">8644</span></a>                  ctx.beginPath();
<a name="l8645"><span class="linenum">8645</span></a>                  xOffset = Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(Math.PI / 4) * radius;
<a name="l8646"><span class="linenum">8646</span></a>                  yOffset = Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(Math.PI / 4) * radius;
<a name="l8647"><span class="linenum">8647</span></a>                  ctx.moveTo(x - xOffset, y - yOffset);
<a name="l8648"><span class="linenum">8648</span></a>                  ctx.lineTo(x + xOffset, y + yOffset);
<a name="l8649"><span class="linenum">8649</span></a>                  ctx.moveTo(x - xOffset, y + yOffset);
<a name="l8650"><span class="linenum">8650</span></a>                  ctx.lineTo(x + xOffset, y - yOffset);
<a name="l8651"><span class="linenum">8651</span></a>                  ctx.closePath();
<a name="l8652"><span class="linenum">8652</span></a>                  break;
<a name="l8653"><span class="linenum">8653</span></a>              case 'star':
<a name="l8654"><span class="linenum">8654</span></a>                  ctx.beginPath();
<a name="l8655"><span class="linenum">8655</span></a>                  ctx.moveTo(x, y + radius);
<a name="l8656"><span class="linenum">8656</span></a>                  ctx.lineTo(x, y - radius);
<a name="l8657"><span class="linenum">8657</span></a>                  ctx.moveTo(x - radius, y);
<a name="l8658"><span class="linenum">8658</span></a>                  ctx.lineTo(x + radius, y);
<a name="l8659"><span class="linenum">8659</span></a>                  xOffset = Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(Math.PI / 4) * radius;
<a name="l8660"><span class="linenum">8660</span></a>                  yOffset = Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(Math.PI / 4) * radius;
<a name="l8661"><span class="linenum">8661</span></a>                  ctx.moveTo(x - xOffset, y - yOffset);
<a name="l8662"><span class="linenum">8662</span></a>                  ctx.lineTo(x + xOffset, y + yOffset);
<a name="l8663"><span class="linenum">8663</span></a>                  ctx.moveTo(x - xOffset, y + yOffset);
<a name="l8664"><span class="linenum">8664</span></a>                  ctx.lineTo(x + xOffset, y - yOffset);
<a name="l8665"><span class="linenum">8665</span></a>                  ctx.closePath();
<a name="l8666"><span class="linenum">8666</span></a>                  break;
<a name="l8667"><span class="linenum">8667</span></a>              case 'line':
<a name="l8668"><span class="linenum">8668</span></a>                  ctx.beginPath();
<a name="l8669"><span class="linenum">8669</span></a>                  ctx.moveTo(x - radius, y);
<a name="l8670"><span class="linenum">8670</span></a>                  ctx.lineTo(x + radius, y);
<a name="l8671"><span class="linenum">8671</span></a>                  ctx.closePath();
<a name="l8672"><span class="linenum">8672</span></a>                  break;
<a name="l8673"><span class="linenum">8673</span></a>              case 'dash':
<a name="l8674"><span class="linenum">8674</span></a>                  ctx.beginPath();
<a name="l8675"><span class="linenum">8675</span></a>                  ctx.moveTo(x, y);
<a name="l8676"><span class="linenum">8676</span></a>                  ctx.lineTo(x + radius, y);
<a name="l8677"><span class="linenum">8677</span></a>                  ctx.closePath();
<a name="l8678"><span class="linenum">8678</span></a>                  break;
<a name="l8679"><span class="linenum">8679</span></a>              }
<a name="l8680"><span class="linenum">8680</span></a>  
<a name="l8681"><span class="linenum">8681</span></a>              ctx.stroke();
<a name="l8682"><span class="linenum">8682</span></a>          }
<a name="l8683"><span class="linenum">8683</span></a>      });
<a name="l8684"><span class="linenum">8684</span></a>  };
<a name="l8685"><span class="linenum">8685</span></a>  
<a name="l8686"><span class="linenum">8686</span></a>  },{}],37:[function(require,module,exports){
<a name="l8687"><span class="linenum">8687</span></a>  &quot;use strict&quot;;
<a name="l8688"><span class="linenum">8688</span></a>  
<a name="l8689"><span class="linenum">8689</span></a>  module.exports = function(Chart) {
<a name="l8690"><span class="linenum">8690</span></a>  
<a name="l8691"><span class="linenum">8691</span></a>      var helpers = Chart.helpers,
<a name="l8692"><span class="linenum">8692</span></a>          globalOpts = Chart.defaults.global;
<a name="l8693"><span class="linenum">8693</span></a>  
<a name="l8694"><span class="linenum">8694</span></a>      globalOpts.elements.rectangle = {
<a name="l8695"><span class="linenum">8695</span></a>          backgroundColor: globalOpts.defaultColor,
<a name="l8696"><span class="linenum">8696</span></a>          borderWidth: 0,
<a name="l8697"><span class="linenum">8697</span></a>          borderColor: globalOpts.defaultColor,
<a name="l8698"><span class="linenum">8698</span></a>          borderSkipped: 'bottom'
<a name="l8699"><span class="linenum">8699</span></a>      };
<a name="l8700"><span class="linenum">8700</span></a>  
<a name="l8701"><span class="linenum">8701</span></a>      Chart.elements.Rectangle = Chart.Element.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l8702"><span class="linenum">8702</span></a>          draw: function() {
<a name="l8703"><span class="linenum">8703</span></a>              var ctx = this._chart.ctx;
<a name="l8704"><span class="linenum">8704</span></a>              var vm = this._view;
<a name="l8705"><span class="linenum">8705</span></a>  
<a name="l8706"><span class="linenum">8706</span></a>              var halfWidth = vm.width / 2,
<a name="l8707"><span class="linenum">8707</span></a>                  leftX = vm.x - halfWidth,
<a name="l8708"><span class="linenum">8708</span></a>                  rightX = vm.x + halfWidth,
<a name="l8709"><span class="linenum">8709</span></a>                  top = vm.base - (vm.base - vm.y),
<a name="l8710"><span class="linenum">8710</span></a>                  halfStroke = vm.borderWidth / 2;
<a name="l8711"><span class="linenum">8711</span></a>  
<a name="l8712"><span class="linenum">8712</span></a>  <span class="comment">            // Canvas doesn't allow us to stroke inside the width so we can</span>
<a name="l8713"><span class="linenum">8713</span></a>  <span class="comment">            // adjust the sizes to fit if we're setting a stroke on the line</span>
<a name="l8714"><span class="linenum">8714</span></a>              if (vm.borderWidth) {
<a name="l8715"><span class="linenum">8715</span></a>                  leftX += halfStroke;
<a name="l8716"><span class="linenum">8716</span></a>                  rightX -= halfStroke;
<a name="l8717"><span class="linenum">8717</span></a>                  top += halfStroke;
<a name="l8718"><span class="linenum">8718</span></a>              }
<a name="l8719"><span class="linenum">8719</span></a>  
<a name="l8720"><span class="linenum">8720</span></a>              ctx.beginPath();
<a name="l8721"><span class="linenum">8721</span></a>              ctx.fillStyle = vm.backgroundColor;
<a name="l8722"><span class="linenum">8722</span></a>              ctx.strokeStyle = vm.borderColor;
<a name="l8723"><span class="linenum">8723</span></a>              ctx.lineWidth = vm.borderWidth;
<a name="l8724"><span class="linenum">8724</span></a>  
<a name="l8725"><span class="linenum">8725</span></a>  <span class="comment">            // Corner points, from bottom-left to bottom-right clockwise</span>
<a name="l8726"><span class="linenum">8726</span></a>  <span class="comment">            // | 1 2 |</span>
<a name="l8727"><span class="linenum">8727</span></a>  <span class="comment">            // | 0 3 |</span>
<a name="l8728"><span class="linenum">8728</span></a>              var corners = [
<a name="l8729"><span class="linenum">8729</span></a>                  [leftX, vm.base],
<a name="l8730"><span class="linenum">8730</span></a>                  [leftX, top],
<a name="l8731"><span class="linenum">8731</span></a>                  [rightX, top],
<a name="l8732"><span class="linenum">8732</span></a>                  [rightX, vm.base]
<a name="l8733"><span class="linenum">8733</span></a>              ];
<a name="l8734"><span class="linenum">8734</span></a>  
<a name="l8735"><span class="linenum">8735</span></a>  <span class="comment">            // Find first (starting) corner with fallback to 'bottom' </span>
<a name="l8736"><span class="linenum">8736</span></a>              var borders = ['bottom', 'left', 'top', 'right'];
<a name="l8737"><span class="linenum">8737</span></a>              var startCorner = borders.<a class="function" onClick="logFunction('indexOf')" href="../../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>(vm.borderSkipped, 0);
<a name="l8738"><span class="linenum">8738</span></a>              if (startCorner === -1)
<a name="l8739"><span class="linenum">8739</span></a>                  startCorner = 0;
<a name="l8740"><span class="linenum">8740</span></a>  
<a name="l8741"><span class="linenum">8741</span></a>  			function <a class="function" onClick="logFunction('cornerAt')" href="../../../_functions/cornerat.html" onMouseOver="funcPopup(event,'cornerat')">cornerAt</a>(index) {
<a name="l8742"><span class="linenum">8742</span></a>                  return corners[(startCorner + index) % 4];
<a name="l8743"><span class="linenum">8743</span></a>              }
<a name="l8744"><span class="linenum">8744</span></a>  
<a name="l8745"><span class="linenum">8745</span></a>  <span class="comment">            // Draw rectangle from 'startCorner'</span>
<a name="l8746"><span class="linenum">8746</span></a>              ctx.moveTo.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(ctx, <a class="function" onClick="logFunction('cornerAt')" href="../../../_functions/cornerat.html" onMouseOver="funcPopup(event,'cornerat')">cornerAt</a>(0));
<a name="l8747"><span class="linenum">8747</span></a>              for (var i = 1; i &lt; 4; i++)
<a name="l8748"><span class="linenum">8748</span></a>                  ctx.lineTo.<a class="function" onClick="logFunction('apply')" href="../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(ctx, <a class="function" onClick="logFunction('cornerAt')" href="../../../_functions/cornerat.html" onMouseOver="funcPopup(event,'cornerat')">cornerAt</a>(i));
<a name="l8749"><span class="linenum">8749</span></a>  
<a name="l8750"><span class="linenum">8750</span></a>              ctx.fill();
<a name="l8751"><span class="linenum">8751</span></a>              if (vm.borderWidth) {
<a name="l8752"><span class="linenum">8752</span></a>                  ctx.stroke();
<a name="l8753"><span class="linenum">8753</span></a>              }
<a name="l8754"><span class="linenum">8754</span></a>          },
<a name="l8755"><span class="linenum">8755</span></a>          height: function() {
<a name="l8756"><span class="linenum">8756</span></a>              var vm = this._view;
<a name="l8757"><span class="linenum">8757</span></a>              return vm.base - vm.y;
<a name="l8758"><span class="linenum">8758</span></a>          },
<a name="l8759"><span class="linenum">8759</span></a>          inRange: function(mouseX, mouseY) {
<a name="l8760"><span class="linenum">8760</span></a>              var vm = this._view;
<a name="l8761"><span class="linenum">8761</span></a>              return vm ? 
<a name="l8762"><span class="linenum">8762</span></a>                      (vm.y &lt; vm.base ? 
<a name="l8763"><span class="linenum">8763</span></a>                          (mouseX &gt;= vm.x - vm.width / 2 &amp;&amp; mouseX &lt;= vm.x + vm.width / 2) &amp;&amp; (mouseY &gt;= vm.y &amp;&amp; mouseY &lt;= vm.base) :
<a name="l8764"><span class="linenum">8764</span></a>                          (mouseX &gt;= vm.x - vm.width / 2 &amp;&amp; mouseX &lt;= vm.x + vm.width / 2) &amp;&amp; (mouseY &gt;= vm.base &amp;&amp; mouseY &lt;= vm.y)) :
<a name="l8765"><span class="linenum">8765</span></a>                      false;
<a name="l8766"><span class="linenum">8766</span></a>          },
<a name="l8767"><span class="linenum">8767</span></a>          inLabelRange: function(mouseX) {
<a name="l8768"><span class="linenum">8768</span></a>              var vm = this._view;
<a name="l8769"><span class="linenum">8769</span></a>              return vm ? (mouseX &gt;= vm.x - vm.width / 2 &amp;&amp; mouseX &lt;= vm.x + vm.width / 2) : false;
<a name="l8770"><span class="linenum">8770</span></a>          },
<a name="l8771"><span class="linenum">8771</span></a>          tooltipPosition: function() {
<a name="l8772"><span class="linenum">8772</span></a>              var vm = this._view;
<a name="l8773"><span class="linenum">8773</span></a>              return {
<a name="l8774"><span class="linenum">8774</span></a>                  x: vm.x,
<a name="l8775"><span class="linenum">8775</span></a>                  y: vm.y
<a name="l8776"><span class="linenum">8776</span></a>              };
<a name="l8777"><span class="linenum">8777</span></a>          }
<a name="l8778"><span class="linenum">8778</span></a>      });
<a name="l8779"><span class="linenum">8779</span></a>  
<a name="l8780"><span class="linenum">8780</span></a>  };
<a name="l8781"><span class="linenum">8781</span></a>  },{}],38:[function(require,module,exports){
<a name="l8782"><span class="linenum">8782</span></a>  &quot;use strict&quot;;
<a name="l8783"><span class="linenum">8783</span></a>  
<a name="l8784"><span class="linenum">8784</span></a>  module.exports = function(Chart) {
<a name="l8785"><span class="linenum">8785</span></a>  
<a name="l8786"><span class="linenum">8786</span></a>      var helpers = Chart.helpers;
<a name="l8787"><span class="linenum">8787</span></a>  <span class="comment">    // Default config for a category scale</span>
<a name="l8788"><span class="linenum">8788</span></a>      var defaultConfig = {
<a name="l8789"><span class="linenum">8789</span></a>          position: &quot;bottom&quot;
<a name="l8790"><span class="linenum">8790</span></a>      };
<a name="l8791"><span class="linenum">8791</span></a>  
<a name="l8792"><span class="linenum">8792</span></a>      var DatasetScale = Chart.Scale.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l8793"><span class="linenum">8793</span></a>  <span class="comment">        // Implement this so that </span>
<a name="l8794"><span class="linenum">8794</span></a>          determineDataLimits: function() {
<a name="l8795"><span class="linenum">8795</span></a>              var me = this;
<a name="l8796"><span class="linenum">8796</span></a>              me.minIndex = 0;
<a name="l8797"><span class="linenum">8797</span></a>              me.maxIndex = me.chart.data.labels.length - 1;
<a name="l8798"><span class="linenum">8798</span></a>              var findIndex;
<a name="l8799"><span class="linenum">8799</span></a>  
<a name="l8800"><span class="linenum">8800</span></a>              if (me.options.ticks.min !== undefined) {
<a name="l8801"><span class="linenum">8801</span></a>  <span class="comment">                // user specified min value</span>
<a name="l8802"><span class="linenum">8802</span></a>                  findIndex = helpers.<a class="function" onClick="logFunction('indexOf')" href="../../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>(me.chart.data.labels, me.options.ticks.min);
<a name="l8803"><span class="linenum">8803</span></a>                  me.minIndex = findIndex !== -1 ? findIndex : me.minIndex;
<a name="l8804"><span class="linenum">8804</span></a>              }
<a name="l8805"><span class="linenum">8805</span></a>  
<a name="l8806"><span class="linenum">8806</span></a>              if (me.options.ticks.max !== undefined) {
<a name="l8807"><span class="linenum">8807</span></a>  <span class="comment">                // user specified max value</span>
<a name="l8808"><span class="linenum">8808</span></a>                  findIndex = helpers.<a class="function" onClick="logFunction('indexOf')" href="../../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>(me.chart.data.labels, me.options.ticks.max);
<a name="l8809"><span class="linenum">8809</span></a>                  me.maxIndex = findIndex !== -1 ? findIndex : me.maxIndex;
<a name="l8810"><span class="linenum">8810</span></a>              }
<a name="l8811"><span class="linenum">8811</span></a>  
<a name="l8812"><span class="linenum">8812</span></a>              me.min = me.chart.data.labels[me.minIndex];
<a name="l8813"><span class="linenum">8813</span></a>              me.max = me.chart.data.labels[me.maxIndex];
<a name="l8814"><span class="linenum">8814</span></a>          },
<a name="l8815"><span class="linenum">8815</span></a>  
<a name="l8816"><span class="linenum">8816</span></a>          buildTicks: function(index) {
<a name="l8817"><span class="linenum">8817</span></a>              var me = this;
<a name="l8818"><span class="linenum">8818</span></a>  <span class="comment">            // If we are viewing some subset of labels, slice the original array</span>
<a name="l8819"><span class="linenum">8819</span></a>              me.ticks = (me.minIndex === 0 &amp;&amp; me.maxIndex === me.chart.data.labels.length - 1) ? me.chart.data.labels : me.chart.data.labels.slice(me.minIndex, me.maxIndex + 1);
<a name="l8820"><span class="linenum">8820</span></a>          },
<a name="l8821"><span class="linenum">8821</span></a>  
<a name="l8822"><span class="linenum">8822</span></a>          getLabelForIndex: function(index, datasetIndex) {
<a name="l8823"><span class="linenum">8823</span></a>              return this.ticks[index];
<a name="l8824"><span class="linenum">8824</span></a>          },
<a name="l8825"><span class="linenum">8825</span></a>  
<a name="l8826"><span class="linenum">8826</span></a>  <span class="comment">        // Used to get data value locations.  Value can either be an index or a numerical value</span>
<a name="l8827"><span class="linenum">8827</span></a>          getPixelForValue: function(value, index, datasetIndex, includeOffset) {
<a name="l8828"><span class="linenum">8828</span></a>              var me = this;
<a name="l8829"><span class="linenum">8829</span></a>  <span class="comment">            // 1 is added because we need the length but we have the indexes</span>
<a name="l8830"><span class="linenum">8830</span></a>              var offsetAmt = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>((me.maxIndex + 1 - me.minIndex - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);
<a name="l8831"><span class="linenum">8831</span></a>  
<a name="l8832"><span class="linenum">8832</span></a>              if (me.isHorizontal()) {
<a name="l8833"><span class="linenum">8833</span></a>                  var innerWidth = me.width - (me.paddingLeft + me.paddingRight);
<a name="l8834"><span class="linenum">8834</span></a>                  var valueWidth = innerWidth / offsetAmt;
<a name="l8835"><span class="linenum">8835</span></a>                  var widthOffset = (valueWidth * (index - me.minIndex)) + me.paddingLeft;
<a name="l8836"><span class="linenum">8836</span></a>  
<a name="l8837"><span class="linenum">8837</span></a>                  if (me.options.gridLines.offsetGridLines &amp;&amp; includeOffset) {
<a name="l8838"><span class="linenum">8838</span></a>                      widthOffset += (valueWidth / 2);
<a name="l8839"><span class="linenum">8839</span></a>                  }
<a name="l8840"><span class="linenum">8840</span></a>  
<a name="l8841"><span class="linenum">8841</span></a>                  return me.left + Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(widthOffset);
<a name="l8842"><span class="linenum">8842</span></a>              } else {
<a name="l8843"><span class="linenum">8843</span></a>                  var innerHeight = me.height - (me.paddingTop + me.paddingBottom);
<a name="l8844"><span class="linenum">8844</span></a>                  var valueHeight = innerHeight / offsetAmt;
<a name="l8845"><span class="linenum">8845</span></a>                  var heightOffset = (valueHeight * (index - me.minIndex)) + me.paddingTop;
<a name="l8846"><span class="linenum">8846</span></a>  
<a name="l8847"><span class="linenum">8847</span></a>                  if (me.options.gridLines.offsetGridLines &amp;&amp; includeOffset) {
<a name="l8848"><span class="linenum">8848</span></a>                      heightOffset += (valueHeight / 2);
<a name="l8849"><span class="linenum">8849</span></a>                  }
<a name="l8850"><span class="linenum">8850</span></a>  
<a name="l8851"><span class="linenum">8851</span></a>                  return me.top + Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(heightOffset);
<a name="l8852"><span class="linenum">8852</span></a>              }
<a name="l8853"><span class="linenum">8853</span></a>          },
<a name="l8854"><span class="linenum">8854</span></a>          getPixelForTick: function(index, includeOffset) {
<a name="l8855"><span class="linenum">8855</span></a>              return this.getPixelForValue(this.ticks[index], index + this.minIndex, null, includeOffset);
<a name="l8856"><span class="linenum">8856</span></a>          },
<a name="l8857"><span class="linenum">8857</span></a>          getValueForPixel: function(pixel) {
<a name="l8858"><span class="linenum">8858</span></a>              var me = this;
<a name="l8859"><span class="linenum">8859</span></a>              var value;
<a name="l8860"><span class="linenum">8860</span></a>              var offsetAmt = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>((me.ticks.length - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);
<a name="l8861"><span class="linenum">8861</span></a>              var horz = me.isHorizontal();
<a name="l8862"><span class="linenum">8862</span></a>              var innerDimension = horz ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);
<a name="l8863"><span class="linenum">8863</span></a>              var valueDimension = innerDimension / offsetAmt;
<a name="l8864"><span class="linenum">8864</span></a>  
<a name="l8865"><span class="linenum">8865</span></a>              if (me.options.gridLines.offsetGridLines) {
<a name="l8866"><span class="linenum">8866</span></a>                  pixel -= (valueDimension / 2);
<a name="l8867"><span class="linenum">8867</span></a>              }
<a name="l8868"><span class="linenum">8868</span></a>              pixel -= horz ? me.paddingLeft : me.paddingTop;
<a name="l8869"><span class="linenum">8869</span></a>  
<a name="l8870"><span class="linenum">8870</span></a>              if (pixel &lt;= 0) {
<a name="l8871"><span class="linenum">8871</span></a>                  value = 0;
<a name="l8872"><span class="linenum">8872</span></a>              } else {
<a name="l8873"><span class="linenum">8873</span></a>                  value = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(pixel / valueDimension);
<a name="l8874"><span class="linenum">8874</span></a>              }
<a name="l8875"><span class="linenum">8875</span></a>  
<a name="l8876"><span class="linenum">8876</span></a>              return value;
<a name="l8877"><span class="linenum">8877</span></a>          }
<a name="l8878"><span class="linenum">8878</span></a>      });
<a name="l8879"><span class="linenum">8879</span></a>  
<a name="l8880"><span class="linenum">8880</span></a>      Chart.scaleService.registerScaleType(&quot;category&quot;, DatasetScale, defaultConfig);
<a name="l8881"><span class="linenum">8881</span></a>  
<a name="l8882"><span class="linenum">8882</span></a>  };
<a name="l8883"><span class="linenum">8883</span></a>  },{}],39:[function(require,module,exports){
<a name="l8884"><span class="linenum">8884</span></a>  &quot;use strict&quot;;
<a name="l8885"><span class="linenum">8885</span></a>  
<a name="l8886"><span class="linenum">8886</span></a>  module.exports = function(Chart) {
<a name="l8887"><span class="linenum">8887</span></a>  
<a name="l8888"><span class="linenum">8888</span></a>      var helpers = Chart.helpers;
<a name="l8889"><span class="linenum">8889</span></a>  
<a name="l8890"><span class="linenum">8890</span></a>      var defaultConfig = {
<a name="l8891"><span class="linenum">8891</span></a>          position: &quot;left&quot;,
<a name="l8892"><span class="linenum">8892</span></a>          ticks: {
<a name="l8893"><span class="linenum">8893</span></a>              callback: function(tickValue, index, ticks) {
<a name="l8894"><span class="linenum">8894</span></a>  <span class="comment">                // If we have lots of ticks, don't use the ones</span>
<a name="l8895"><span class="linenum">8895</span></a>                  var delta = ticks.length &gt; 3 ? ticks[2] - ticks[1] : ticks[1] - ticks[0];
<a name="l8896"><span class="linenum">8896</span></a>  
<a name="l8897"><span class="linenum">8897</span></a>  <span class="comment">                // If we have a number like 2.5 as the delta, figure out how many decimal places we need</span>
<a name="l8898"><span class="linenum">8898</span></a>                  if (Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(delta) &gt; 1) {
<a name="l8899"><span class="linenum">8899</span></a>                      if (tickValue !== Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(tickValue)) {
<a name="l8900"><span class="linenum">8900</span></a>  <span class="comment">                        // not an integer</span>
<a name="l8901"><span class="linenum">8901</span></a>                          delta = tickValue - Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(tickValue);
<a name="l8902"><span class="linenum">8902</span></a>                      }
<a name="l8903"><span class="linenum">8903</span></a>                  }
<a name="l8904"><span class="linenum">8904</span></a>  
<a name="l8905"><span class="linenum">8905</span></a>                  var logDelta = helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(delta));
<a name="l8906"><span class="linenum">8906</span></a>                  var tickString = '';
<a name="l8907"><span class="linenum">8907</span></a>  
<a name="l8908"><span class="linenum">8908</span></a>                  if (tickValue !== 0) {
<a name="l8909"><span class="linenum">8909</span></a>                      var numDecimal = -1 * Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(logDelta);
<a name="l8910"><span class="linenum">8910</span></a>                      numDecimal = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(numDecimal, 20), 0); <span class="comment">// toFixed has a max of 20 decimal places</span>
<a name="l8911"><span class="linenum">8911</span></a>                      tickString = tickValue.<a class="function" onClick="logFunction('toFixed')" href="../../../_functions/tofixed.html" onMouseOver="funcPopup(event,'tofixed')">toFixed</a>(numDecimal);
<a name="l8912"><span class="linenum">8912</span></a>                  } else {
<a name="l8913"><span class="linenum">8913</span></a>                      tickString = '0'; <span class="comment">// never show decimal places for 0</span>
<a name="l8914"><span class="linenum">8914</span></a>                  }
<a name="l8915"><span class="linenum">8915</span></a>  
<a name="l8916"><span class="linenum">8916</span></a>                  return tickString;
<a name="l8917"><span class="linenum">8917</span></a>              }
<a name="l8918"><span class="linenum">8918</span></a>          }
<a name="l8919"><span class="linenum">8919</span></a>      };
<a name="l8920"><span class="linenum">8920</span></a>  
<a name="l8921"><span class="linenum">8921</span></a>      var LinearScale = Chart.LinearScaleBase.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l8922"><span class="linenum">8922</span></a>          determineDataLimits: function() {
<a name="l8923"><span class="linenum">8923</span></a>              var me = this;
<a name="l8924"><span class="linenum">8924</span></a>              var opts = me.options;
<a name="l8925"><span class="linenum">8925</span></a>              var tickOpts = opts.ticks;
<a name="l8926"><span class="linenum">8926</span></a>              var chart = me.chart;
<a name="l8927"><span class="linenum">8927</span></a>              var data = chart.data;
<a name="l8928"><span class="linenum">8928</span></a>              var datasets = data.datasets;
<a name="l8929"><span class="linenum">8929</span></a>              var isHorizontal = me.isHorizontal();
<a name="l8930"><span class="linenum">8930</span></a>  
<a name="l8931"><span class="linenum">8931</span></a>  			function <a class="function" onClick="logFunction('IDMatches')" href="../../../_functions/idmatches.html" onMouseOver="funcPopup(event,'idmatches')">IDMatches</a>(meta) {
<a name="l8932"><span class="linenum">8932</span></a>                  return isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;
<a name="l8933"><span class="linenum">8933</span></a>              }
<a name="l8934"><span class="linenum">8934</span></a>  
<a name="l8935"><span class="linenum">8935</span></a>  <span class="comment">            // First Calculate the range</span>
<a name="l8936"><span class="linenum">8936</span></a>              me.min = null;
<a name="l8937"><span class="linenum">8937</span></a>              me.max = null;
<a name="l8938"><span class="linenum">8938</span></a>  
<a name="l8939"><span class="linenum">8939</span></a>              if (opts.stacked) {
<a name="l8940"><span class="linenum">8940</span></a>                  var valuesPerType = {};
<a name="l8941"><span class="linenum">8941</span></a>                  var hasPositiveValues = false;
<a name="l8942"><span class="linenum">8942</span></a>                  var hasNegativeValues = false;
<a name="l8943"><span class="linenum">8943</span></a>  
<a name="l8944"><span class="linenum">8944</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(datasets, function(dataset, datasetIndex) {
<a name="l8945"><span class="linenum">8945</span></a>                      var meta = chart.getDatasetMeta(datasetIndex);
<a name="l8946"><span class="linenum">8946</span></a>                      if (valuesPerType[meta.type] === undefined) {
<a name="l8947"><span class="linenum">8947</span></a>                          valuesPerType[meta.type] = {
<a name="l8948"><span class="linenum">8948</span></a>                              positiveValues: [],
<a name="l8949"><span class="linenum">8949</span></a>                              negativeValues: []
<a name="l8950"><span class="linenum">8950</span></a>                          };
<a name="l8951"><span class="linenum">8951</span></a>                      }
<a name="l8952"><span class="linenum">8952</span></a>  
<a name="l8953"><span class="linenum">8953</span></a>  <span class="comment">                    // Store these per type</span>
<a name="l8954"><span class="linenum">8954</span></a>                      var positiveValues = valuesPerType[meta.type].positiveValues;
<a name="l8955"><span class="linenum">8955</span></a>                      var negativeValues = valuesPerType[meta.type].negativeValues;
<a name="l8956"><span class="linenum">8956</span></a>  
<a name="l8957"><span class="linenum">8957</span></a>                      if (chart.isDatasetVisible(datasetIndex) &amp;&amp; <a class="function" onClick="logFunction('IDMatches')" href="../../../_functions/idmatches.html" onMouseOver="funcPopup(event,'idmatches')">IDMatches</a>(meta)) {
<a name="l8958"><span class="linenum">8958</span></a>                          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(dataset.data, function(rawValue, index) {
<a name="l8959"><span class="linenum">8959</span></a>                              var value = +me.getRightValue(rawValue);
<a name="l8960"><span class="linenum">8960</span></a>                              if (isNaN(value) || meta.data[index].hidden) {
<a name="l8961"><span class="linenum">8961</span></a>                                  return;
<a name="l8962"><span class="linenum">8962</span></a>                              }
<a name="l8963"><span class="linenum">8963</span></a>  
<a name="l8964"><span class="linenum">8964</span></a>                              positiveValues[index] = positiveValues[index] || 0;
<a name="l8965"><span class="linenum">8965</span></a>                              negativeValues[index] = negativeValues[index] || 0;
<a name="l8966"><span class="linenum">8966</span></a>  
<a name="l8967"><span class="linenum">8967</span></a>                              if (opts.relativePoints) {
<a name="l8968"><span class="linenum">8968</span></a>                                  positiveValues[index] = 100;
<a name="l8969"><span class="linenum">8969</span></a>                              } else {
<a name="l8970"><span class="linenum">8970</span></a>                                  if (value &lt; 0) {
<a name="l8971"><span class="linenum">8971</span></a>                                      hasNegativeValues = true;
<a name="l8972"><span class="linenum">8972</span></a>                                      negativeValues[index] += value;
<a name="l8973"><span class="linenum">8973</span></a>                                  } else {
<a name="l8974"><span class="linenum">8974</span></a>                                      hasPositiveValues = true;
<a name="l8975"><span class="linenum">8975</span></a>                                      positiveValues[index] += value;
<a name="l8976"><span class="linenum">8976</span></a>                                  }
<a name="l8977"><span class="linenum">8977</span></a>                              }
<a name="l8978"><span class="linenum">8978</span></a>                          });
<a name="l8979"><span class="linenum">8979</span></a>                      }
<a name="l8980"><span class="linenum">8980</span></a>                  });
<a name="l8981"><span class="linenum">8981</span></a>  
<a name="l8982"><span class="linenum">8982</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(valuesPerType, function(valuesForType) {
<a name="l8983"><span class="linenum">8983</span></a>                      var values = valuesForType.positiveValues.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(valuesForType.negativeValues);
<a name="l8984"><span class="linenum">8984</span></a>                      var minVal = helpers.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(values);
<a name="l8985"><span class="linenum">8985</span></a>                      var maxVal = helpers.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(values);
<a name="l8986"><span class="linenum">8986</span></a>                      me.min = me.min === null ? minVal : Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(me.min, minVal);
<a name="l8987"><span class="linenum">8987</span></a>                      me.max = me.max === null ? maxVal : Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.max, maxVal);
<a name="l8988"><span class="linenum">8988</span></a>                  });
<a name="l8989"><span class="linenum">8989</span></a>  
<a name="l8990"><span class="linenum">8990</span></a>              } else {
<a name="l8991"><span class="linenum">8991</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(datasets, function(dataset, datasetIndex) {
<a name="l8992"><span class="linenum">8992</span></a>                      var meta = chart.getDatasetMeta(datasetIndex);
<a name="l8993"><span class="linenum">8993</span></a>                      if (chart.isDatasetVisible(datasetIndex) &amp;&amp; <a class="function" onClick="logFunction('IDMatches')" href="../../../_functions/idmatches.html" onMouseOver="funcPopup(event,'idmatches')">IDMatches</a>(meta)) {
<a name="l8994"><span class="linenum">8994</span></a>                          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(dataset.data, function(rawValue, index) {
<a name="l8995"><span class="linenum">8995</span></a>                              var value = +me.getRightValue(rawValue);
<a name="l8996"><span class="linenum">8996</span></a>                              if (isNaN(value) || meta.data[index].hidden) {
<a name="l8997"><span class="linenum">8997</span></a>                                  return;
<a name="l8998"><span class="linenum">8998</span></a>                              }
<a name="l8999"><span class="linenum">8999</span></a>  
<a name="l9000"><span class="linenum">9000</span></a>                              if (me.min === null) {
<a name="l9001"><span class="linenum">9001</span></a>                                  me.min = value;
<a name="l9002"><span class="linenum">9002</span></a>                              } else if (value &lt; me.min) {
<a name="l9003"><span class="linenum">9003</span></a>                                  me.min = value;
<a name="l9004"><span class="linenum">9004</span></a>                              }
<a name="l9005"><span class="linenum">9005</span></a>  
<a name="l9006"><span class="linenum">9006</span></a>                              if (me.max === null) {
<a name="l9007"><span class="linenum">9007</span></a>                                  me.max = value;
<a name="l9008"><span class="linenum">9008</span></a>                              } else if (value &gt; me.max) {
<a name="l9009"><span class="linenum">9009</span></a>                                  me.max = value;
<a name="l9010"><span class="linenum">9010</span></a>                              }
<a name="l9011"><span class="linenum">9011</span></a>                          });
<a name="l9012"><span class="linenum">9012</span></a>                      }
<a name="l9013"><span class="linenum">9013</span></a>                  });
<a name="l9014"><span class="linenum">9014</span></a>              }
<a name="l9015"><span class="linenum">9015</span></a>  
<a name="l9016"><span class="linenum">9016</span></a>  <span class="comment">            // Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero</span>
<a name="l9017"><span class="linenum">9017</span></a>              this.handleTickRangeOptions();
<a name="l9018"><span class="linenum">9018</span></a>          },
<a name="l9019"><span class="linenum">9019</span></a>          getTickLimit: function() {
<a name="l9020"><span class="linenum">9020</span></a>              var maxTicks;
<a name="l9021"><span class="linenum">9021</span></a>              var me = this;
<a name="l9022"><span class="linenum">9022</span></a>              var tickOpts = me.options.ticks;
<a name="l9023"><span class="linenum">9023</span></a>  
<a name="l9024"><span class="linenum">9024</span></a>              if (me.isHorizontal()) {
<a name="l9025"><span class="linenum">9025</span></a>                  maxTicks = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(me.width / 50));
<a name="l9026"><span class="linenum">9026</span></a>              } else {
<a name="l9027"><span class="linenum">9027</span></a>  <span class="comment">                // The factor of 2 used to scale the font size has been experimentally determined.</span>
<a name="l9028"><span class="linenum">9028</span></a>                  var tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, Chart.defaults.global.defaultFontSize);
<a name="l9029"><span class="linenum">9029</span></a>                  maxTicks = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(me.height / (2 * tickFontSize)));
<a name="l9030"><span class="linenum">9030</span></a>              }
<a name="l9031"><span class="linenum">9031</span></a>  
<a name="l9032"><span class="linenum">9032</span></a>              return maxTicks;
<a name="l9033"><span class="linenum">9033</span></a>          },
<a name="l9034"><span class="linenum">9034</span></a>  <span class="comment">        // Called after the ticks are built. We need </span>
<a name="l9035"><span class="linenum">9035</span></a>          handleDirectionalChanges: function() {
<a name="l9036"><span class="linenum">9036</span></a>              if (!this.isHorizontal()) {
<a name="l9037"><span class="linenum">9037</span></a>  <span class="comment">                // We are in a vertical orientation. The top value is the highest. So reverse the array</span>
<a name="l9038"><span class="linenum">9038</span></a>                  this.ticks.<a class="function" onClick="logFunction('reverse')" href="../../../_functions/reverse.html" onMouseOver="funcPopup(event,'reverse')">reverse</a>();
<a name="l9039"><span class="linenum">9039</span></a>              }
<a name="l9040"><span class="linenum">9040</span></a>          },
<a name="l9041"><span class="linenum">9041</span></a>          getLabelForIndex: function(index, datasetIndex) {
<a name="l9042"><span class="linenum">9042</span></a>              return +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);
<a name="l9043"><span class="linenum">9043</span></a>          },
<a name="l9044"><span class="linenum">9044</span></a>  <span class="comment">        // Utils</span>
<a name="l9045"><span class="linenum">9045</span></a>          getPixelForValue: function(value, index, datasetIndex, includeOffset) {
<a name="l9046"><span class="linenum">9046</span></a>  <span class="comment">            // This must be called after fit has been run so that</span>
<a name="l9047"><span class="linenum">9047</span></a>  <span class="comment">            //      this.left, this.top, this.right, and this.bottom have been defined</span>
<a name="l9048"><span class="linenum">9048</span></a>              var me = this;
<a name="l9049"><span class="linenum">9049</span></a>              var paddingLeft = me.paddingLeft;
<a name="l9050"><span class="linenum">9050</span></a>              var paddingBottom = me.paddingBottom;
<a name="l9051"><span class="linenum">9051</span></a>              var start = me.start;
<a name="l9052"><span class="linenum">9052</span></a>  
<a name="l9053"><span class="linenum">9053</span></a>              var rightValue = +me.getRightValue(value);
<a name="l9054"><span class="linenum">9054</span></a>              var pixel;
<a name="l9055"><span class="linenum">9055</span></a>              var innerDimension;
<a name="l9056"><span class="linenum">9056</span></a>              var range = me.end - start;
<a name="l9057"><span class="linenum">9057</span></a>  
<a name="l9058"><span class="linenum">9058</span></a>              if (me.isHorizontal()) {
<a name="l9059"><span class="linenum">9059</span></a>                  innerDimension = me.width - (paddingLeft + me.paddingRight);
<a name="l9060"><span class="linenum">9060</span></a>                  pixel = me.left + (innerDimension / range * (rightValue - start));
<a name="l9061"><span class="linenum">9061</span></a>                  return Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(pixel + paddingLeft);
<a name="l9062"><span class="linenum">9062</span></a>              } else {
<a name="l9063"><span class="linenum">9063</span></a>                  innerDimension = me.height - (me.paddingTop + paddingBottom);
<a name="l9064"><span class="linenum">9064</span></a>                  pixel = (me.bottom - paddingBottom) - (innerDimension / range * (rightValue - start));
<a name="l9065"><span class="linenum">9065</span></a>                  return Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(pixel);
<a name="l9066"><span class="linenum">9066</span></a>              }
<a name="l9067"><span class="linenum">9067</span></a>          },
<a name="l9068"><span class="linenum">9068</span></a>          getValueForPixel: function(pixel) {
<a name="l9069"><span class="linenum">9069</span></a>              var me = this;
<a name="l9070"><span class="linenum">9070</span></a>              var isHorizontal = me.isHorizontal();
<a name="l9071"><span class="linenum">9071</span></a>              var paddingLeft = me.paddingLeft;
<a name="l9072"><span class="linenum">9072</span></a>              var paddingBottom = me.paddingBottom;
<a name="l9073"><span class="linenum">9073</span></a>              var innerDimension = isHorizontal ? me.width - (paddingLeft + me.paddingRight) : me.height - (me.paddingTop + paddingBottom);
<a name="l9074"><span class="linenum">9074</span></a>              var offset = (isHorizontal ? pixel - me.left - paddingLeft : me.bottom - paddingBottom - pixel) / innerDimension;
<a name="l9075"><span class="linenum">9075</span></a>              return me.start + ((me.end - me.start) * offset);
<a name="l9076"><span class="linenum">9076</span></a>          },
<a name="l9077"><span class="linenum">9077</span></a>          getPixelForTick: function(index, includeOffset) {
<a name="l9078"><span class="linenum">9078</span></a>              return this.getPixelForValue(this.ticksAsNumbers[index], null, null, includeOffset);
<a name="l9079"><span class="linenum">9079</span></a>          }
<a name="l9080"><span class="linenum">9080</span></a>      });
<a name="l9081"><span class="linenum">9081</span></a>      Chart.scaleService.registerScaleType(&quot;linear&quot;, LinearScale, defaultConfig);
<a name="l9082"><span class="linenum">9082</span></a>  
<a name="l9083"><span class="linenum">9083</span></a>  };
<a name="l9084"><span class="linenum">9084</span></a>  },{}],40:[function(require,module,exports){
<a name="l9085"><span class="linenum">9085</span></a>  &quot;use strict&quot;;
<a name="l9086"><span class="linenum">9086</span></a>  
<a name="l9087"><span class="linenum">9087</span></a>  module.exports = function(Chart) {
<a name="l9088"><span class="linenum">9088</span></a>  
<a name="l9089"><span class="linenum">9089</span></a>      var helpers = Chart.helpers,
<a name="l9090"><span class="linenum">9090</span></a>          noop = helpers.noop;
<a name="l9091"><span class="linenum">9091</span></a>  
<a name="l9092"><span class="linenum">9092</span></a>      Chart.LinearScaleBase = Chart.Scale.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l9093"><span class="linenum">9093</span></a>          handleTickRangeOptions: function() {
<a name="l9094"><span class="linenum">9094</span></a>              var me = this;
<a name="l9095"><span class="linenum">9095</span></a>              var opts = me.options;
<a name="l9096"><span class="linenum">9096</span></a>              var tickOpts = opts.ticks;
<a name="l9097"><span class="linenum">9097</span></a>  
<a name="l9098"><span class="linenum">9098</span></a>  <span class="comment">            // If we are forcing it to begin at 0, but 0 will already be rendered on the chart,</span>
<a name="l9099"><span class="linenum">9099</span></a>  <span class="comment">            // do nothing since that would make the chart weird. If the user really wants a weird chart</span>
<a name="l9100"><span class="linenum">9100</span></a>  <span class="comment">            // axis, they can manually override it</span>
<a name="l9101"><span class="linenum">9101</span></a>              if (tickOpts.beginAtZero) {
<a name="l9102"><span class="linenum">9102</span></a>                  var minSign = helpers.<a class="function" onClick="logFunction('sign')" href="../../../_functions/sign.html" onMouseOver="funcPopup(event,'sign')">sign</a>(me.min);
<a name="l9103"><span class="linenum">9103</span></a>                  var maxSign = helpers.<a class="function" onClick="logFunction('sign')" href="../../../_functions/sign.html" onMouseOver="funcPopup(event,'sign')">sign</a>(me.max);
<a name="l9104"><span class="linenum">9104</span></a>  
<a name="l9105"><span class="linenum">9105</span></a>                  if (minSign &lt; 0 &amp;&amp; maxSign &lt; 0) {
<a name="l9106"><span class="linenum">9106</span></a>  <span class="comment">                    // move the top up to 0</span>
<a name="l9107"><span class="linenum">9107</span></a>                      me.max = 0;
<a name="l9108"><span class="linenum">9108</span></a>                  } else if (minSign &gt; 0 &amp;&amp; maxSign &gt; 0) {
<a name="l9109"><span class="linenum">9109</span></a>  <span class="comment">                    // move the botttom down to 0</span>
<a name="l9110"><span class="linenum">9110</span></a>                      me.min = 0;
<a name="l9111"><span class="linenum">9111</span></a>                  }
<a name="l9112"><span class="linenum">9112</span></a>              }
<a name="l9113"><span class="linenum">9113</span></a>  
<a name="l9114"><span class="linenum">9114</span></a>              if (tickOpts.min !== undefined) {
<a name="l9115"><span class="linenum">9115</span></a>                  me.min = tickOpts.min;
<a name="l9116"><span class="linenum">9116</span></a>              } else if (tickOpts.suggestedMin !== undefined) {
<a name="l9117"><span class="linenum">9117</span></a>                  me.min = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(me.min, tickOpts.suggestedMin);
<a name="l9118"><span class="linenum">9118</span></a>              }
<a name="l9119"><span class="linenum">9119</span></a>  
<a name="l9120"><span class="linenum">9120</span></a>              if (tickOpts.max !== undefined) {
<a name="l9121"><span class="linenum">9121</span></a>                  me.max = tickOpts.max;
<a name="l9122"><span class="linenum">9122</span></a>              } else if (tickOpts.suggestedMax !== undefined) {
<a name="l9123"><span class="linenum">9123</span></a>                  me.max = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.max, tickOpts.suggestedMax);
<a name="l9124"><span class="linenum">9124</span></a>              }
<a name="l9125"><span class="linenum">9125</span></a>  
<a name="l9126"><span class="linenum">9126</span></a>              if (me.min === me.max) {
<a name="l9127"><span class="linenum">9127</span></a>                  me.max++;
<a name="l9128"><span class="linenum">9128</span></a>  
<a name="l9129"><span class="linenum">9129</span></a>                  if (!tickOpts.beginAtZero) {
<a name="l9130"><span class="linenum">9130</span></a>                      me.min--;
<a name="l9131"><span class="linenum">9131</span></a>                  }
<a name="l9132"><span class="linenum">9132</span></a>              }
<a name="l9133"><span class="linenum">9133</span></a>          },
<a name="l9134"><span class="linenum">9134</span></a>          getTickLimit: noop,
<a name="l9135"><span class="linenum">9135</span></a>          handleDirectionalChanges: noop,
<a name="l9136"><span class="linenum">9136</span></a>  
<a name="l9137"><span class="linenum">9137</span></a>          buildTicks: function() {
<a name="l9138"><span class="linenum">9138</span></a>              var me = this;
<a name="l9139"><span class="linenum">9139</span></a>              var opts = me.options;
<a name="l9140"><span class="linenum">9140</span></a>              var tickOpts = opts.ticks;
<a name="l9141"><span class="linenum">9141</span></a>              var getValueOrDefault = helpers.getValueOrDefault;
<a name="l9142"><span class="linenum">9142</span></a>              var isHorizontal = me.isHorizontal();
<a name="l9143"><span class="linenum">9143</span></a>  
<a name="l9144"><span class="linenum">9144</span></a>              var ticks = me.ticks = [];
<a name="l9145"><span class="linenum">9145</span></a>  
<a name="l9146"><span class="linenum">9146</span></a>  <span class="comment">            // Figure out what the max number of ticks we can support it is based on the size of</span>
<a name="l9147"><span class="linenum">9147</span></a>  <span class="comment">            // the axis area. For now, we say that the minimum tick spacing in pixels must be 50</span>
<a name="l9148"><span class="linenum">9148</span></a>  <span class="comment">            // We also limit the maximum number of ticks to 11 which gives a nice 10 squares on</span>
<a name="l9149"><span class="linenum">9149</span></a>  <span class="comment">            // the graph</span>
<a name="l9150"><span class="linenum">9150</span></a>  
<a name="l9151"><span class="linenum">9151</span></a>              var maxTicks = me.getTickLimit();
<a name="l9152"><span class="linenum">9152</span></a>  
<a name="l9153"><span class="linenum">9153</span></a>  <span class="comment">            // Make sure we always have at least 2 ticks</span>
<a name="l9154"><span class="linenum">9154</span></a>              maxTicks = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(2, maxTicks);
<a name="l9155"><span class="linenum">9155</span></a>  
<a name="l9156"><span class="linenum">9156</span></a>  <span class="comment">            // To get a &quot;nice&quot; value for the tick spacing, we will use the appropriately named</span>
<a name="l9157"><span class="linenum">9157</span></a>  <span class="comment">            // &quot;nice number&quot; algorithm. See http://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks</span>
<a name="l9158"><span class="linenum">9158</span></a>  <span class="comment">            // for details.</span>
<a name="l9159"><span class="linenum">9159</span></a>  
<a name="l9160"><span class="linenum">9160</span></a>              var spacing;
<a name="l9161"><span class="linenum">9161</span></a>              var fixedStepSizeSet = (tickOpts.fixedStepSize &amp;&amp; tickOpts.fixedStepSize &gt; 0) || (tickOpts.stepSize &amp;&amp; tickOpts.stepSize &gt; 0);
<a name="l9162"><span class="linenum">9162</span></a>              if (fixedStepSizeSet) {
<a name="l9163"><span class="linenum">9163</span></a>                  spacing = getValueOrDefault(tickOpts.fixedStepSize, tickOpts.stepSize);
<a name="l9164"><span class="linenum">9164</span></a>              } else {
<a name="l9165"><span class="linenum">9165</span></a>                  var niceRange = helpers.niceNum(me.max - me.min, false);
<a name="l9166"><span class="linenum">9166</span></a>                  spacing = helpers.niceNum(niceRange / (maxTicks - 1), true);
<a name="l9167"><span class="linenum">9167</span></a>              }
<a name="l9168"><span class="linenum">9168</span></a>              var niceMin = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(me.min / spacing) * spacing;
<a name="l9169"><span class="linenum">9169</span></a>              var niceMax = Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(me.max / spacing) * spacing;
<a name="l9170"><span class="linenum">9170</span></a>              var numSpaces = (niceMax - niceMin) / spacing;
<a name="l9171"><span class="linenum">9171</span></a>  
<a name="l9172"><span class="linenum">9172</span></a>  <span class="comment">            // If very close to our rounded value, use it.</span>
<a name="l9173"><span class="linenum">9173</span></a>              if (helpers.almostEquals(numSpaces, Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(numSpaces), spacing / 1000)) {
<a name="l9174"><span class="linenum">9174</span></a>                  numSpaces = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(numSpaces);
<a name="l9175"><span class="linenum">9175</span></a>              } else {
<a name="l9176"><span class="linenum">9176</span></a>                  numSpaces = Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(numSpaces);
<a name="l9177"><span class="linenum">9177</span></a>              }
<a name="l9178"><span class="linenum">9178</span></a>  
<a name="l9179"><span class="linenum">9179</span></a>  <span class="comment">            // Put the values into the ticks array</span>
<a name="l9180"><span class="linenum">9180</span></a>              ticks.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(tickOpts.min !== undefined ? tickOpts.min : niceMin);
<a name="l9181"><span class="linenum">9181</span></a>              for (var j = 1; j &lt; numSpaces; ++j) {
<a name="l9182"><span class="linenum">9182</span></a>                  ticks.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(niceMin + (j * spacing));
<a name="l9183"><span class="linenum">9183</span></a>              }
<a name="l9184"><span class="linenum">9184</span></a>              ticks.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(tickOpts.max !== undefined ? tickOpts.max : niceMax);
<a name="l9185"><span class="linenum">9185</span></a>  
<a name="l9186"><span class="linenum">9186</span></a>              me.handleDirectionalChanges();
<a name="l9187"><span class="linenum">9187</span></a>  
<a name="l9188"><span class="linenum">9188</span></a>  <span class="comment">            // At this point, we need to update our max and min given the tick values since we have expanded the</span>
<a name="l9189"><span class="linenum">9189</span></a>  <span class="comment">            // range of the scale</span>
<a name="l9190"><span class="linenum">9190</span></a>              me.max = helpers.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(ticks);
<a name="l9191"><span class="linenum">9191</span></a>              me.min = helpers.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(ticks);
<a name="l9192"><span class="linenum">9192</span></a>  
<a name="l9193"><span class="linenum">9193</span></a>              if (tickOpts.reverse) {
<a name="l9194"><span class="linenum">9194</span></a>                  ticks.<a class="function" onClick="logFunction('reverse')" href="../../../_functions/reverse.html" onMouseOver="funcPopup(event,'reverse')">reverse</a>();
<a name="l9195"><span class="linenum">9195</span></a>  
<a name="l9196"><span class="linenum">9196</span></a>                  me.start = me.max;
<a name="l9197"><span class="linenum">9197</span></a>                  me.end = me.min;
<a name="l9198"><span class="linenum">9198</span></a>              } else {
<a name="l9199"><span class="linenum">9199</span></a>                  me.start = me.min;
<a name="l9200"><span class="linenum">9200</span></a>                  me.end = me.max;
<a name="l9201"><span class="linenum">9201</span></a>              }
<a name="l9202"><span class="linenum">9202</span></a>          },
<a name="l9203"><span class="linenum">9203</span></a>          convertTicksToLabels: function() {
<a name="l9204"><span class="linenum">9204</span></a>              var me = this;
<a name="l9205"><span class="linenum">9205</span></a>              me.ticksAsNumbers = me.ticks.slice();
<a name="l9206"><span class="linenum">9206</span></a>              me.zeroLineIndex = me.ticks.<a class="function" onClick="logFunction('indexOf')" href="../../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>(0);
<a name="l9207"><span class="linenum">9207</span></a>  
<a name="l9208"><span class="linenum">9208</span></a>              Chart.Scale.prototype.convertTicksToLabels.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me);
<a name="l9209"><span class="linenum">9209</span></a>          },
<a name="l9210"><span class="linenum">9210</span></a>      });
<a name="l9211"><span class="linenum">9211</span></a>  };
<a name="l9212"><span class="linenum">9212</span></a>  },{}],41:[function(require,module,exports){
<a name="l9213"><span class="linenum">9213</span></a>  &quot;use strict&quot;;
<a name="l9214"><span class="linenum">9214</span></a>  
<a name="l9215"><span class="linenum">9215</span></a>  module.exports = function(Chart) {
<a name="l9216"><span class="linenum">9216</span></a>  
<a name="l9217"><span class="linenum">9217</span></a>      var helpers = Chart.helpers;
<a name="l9218"><span class="linenum">9218</span></a>  
<a name="l9219"><span class="linenum">9219</span></a>      var defaultConfig = {
<a name="l9220"><span class="linenum">9220</span></a>          position: &quot;left&quot;,
<a name="l9221"><span class="linenum">9221</span></a>  
<a name="l9222"><span class="linenum">9222</span></a>  <span class="comment">        // label settings</span>
<a name="l9223"><span class="linenum">9223</span></a>          ticks: {
<a name="l9224"><span class="linenum">9224</span></a>              callback: function(value, index, arr) {
<a name="l9225"><span class="linenum">9225</span></a>                  var remain = value / (Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(value))));
<a name="l9226"><span class="linenum">9226</span></a>  
<a name="l9227"><span class="linenum">9227</span></a>                  if (remain === 1 || remain === 2 || remain === 5 || index === 0 || index === arr.length - 1) {
<a name="l9228"><span class="linenum">9228</span></a>                      return value.toExponential();
<a name="l9229"><span class="linenum">9229</span></a>                  } else {
<a name="l9230"><span class="linenum">9230</span></a>                      return '';
<a name="l9231"><span class="linenum">9231</span></a>                  }
<a name="l9232"><span class="linenum">9232</span></a>              }
<a name="l9233"><span class="linenum">9233</span></a>          }
<a name="l9234"><span class="linenum">9234</span></a>      };
<a name="l9235"><span class="linenum">9235</span></a>  
<a name="l9236"><span class="linenum">9236</span></a>      var LogarithmicScale = Chart.Scale.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l9237"><span class="linenum">9237</span></a>          determineDataLimits: function() {
<a name="l9238"><span class="linenum">9238</span></a>              var me = this;
<a name="l9239"><span class="linenum">9239</span></a>              var opts = me.options;
<a name="l9240"><span class="linenum">9240</span></a>              var tickOpts = opts.ticks;
<a name="l9241"><span class="linenum">9241</span></a>              var chart = me.chart;
<a name="l9242"><span class="linenum">9242</span></a>              var data = chart.data;
<a name="l9243"><span class="linenum">9243</span></a>              var datasets = data.datasets;
<a name="l9244"><span class="linenum">9244</span></a>              var getValueOrDefault = helpers.getValueOrDefault;
<a name="l9245"><span class="linenum">9245</span></a>              var isHorizontal = me.isHorizontal();
<a name="l9246"><span class="linenum">9246</span></a>  			function <a class="function" onClick="logFunction('IDMatches')" href="../../../_functions/idmatches.html" onMouseOver="funcPopup(event,'idmatches')">IDMatches</a>(meta) {
<a name="l9247"><span class="linenum">9247</span></a>                  return isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;
<a name="l9248"><span class="linenum">9248</span></a>              }
<a name="l9249"><span class="linenum">9249</span></a>  
<a name="l9250"><span class="linenum">9250</span></a>  <span class="comment">            // Calculate Range</span>
<a name="l9251"><span class="linenum">9251</span></a>              me.min = null;
<a name="l9252"><span class="linenum">9252</span></a>              me.max = null;
<a name="l9253"><span class="linenum">9253</span></a>  
<a name="l9254"><span class="linenum">9254</span></a>              if (opts.stacked) {
<a name="l9255"><span class="linenum">9255</span></a>                  var valuesPerType = {};
<a name="l9256"><span class="linenum">9256</span></a>  
<a name="l9257"><span class="linenum">9257</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(datasets, function(dataset, datasetIndex) {
<a name="l9258"><span class="linenum">9258</span></a>                      var meta = chart.getDatasetMeta(datasetIndex);
<a name="l9259"><span class="linenum">9259</span></a>                      if (chart.isDatasetVisible(datasetIndex) &amp;&amp; <a class="function" onClick="logFunction('IDMatches')" href="../../../_functions/idmatches.html" onMouseOver="funcPopup(event,'idmatches')">IDMatches</a>(meta)) {
<a name="l9260"><span class="linenum">9260</span></a>                          if (valuesPerType[meta.type] === undefined) {
<a name="l9261"><span class="linenum">9261</span></a>                              valuesPerType[meta.type] = [];
<a name="l9262"><span class="linenum">9262</span></a>                          }
<a name="l9263"><span class="linenum">9263</span></a>  
<a name="l9264"><span class="linenum">9264</span></a>                          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(dataset.data, function(rawValue, index) {
<a name="l9265"><span class="linenum">9265</span></a>                              var values = valuesPerType[meta.type];
<a name="l9266"><span class="linenum">9266</span></a>                              var value = +me.getRightValue(rawValue);
<a name="l9267"><span class="linenum">9267</span></a>                              if (isNaN(value) || meta.data[index].hidden) {
<a name="l9268"><span class="linenum">9268</span></a>                                  return;
<a name="l9269"><span class="linenum">9269</span></a>                              }
<a name="l9270"><span class="linenum">9270</span></a>  
<a name="l9271"><span class="linenum">9271</span></a>                              values[index] = values[index] || 0;
<a name="l9272"><span class="linenum">9272</span></a>  
<a name="l9273"><span class="linenum">9273</span></a>                              if (opts.relativePoints) {
<a name="l9274"><span class="linenum">9274</span></a>                                  values[index] = 100;
<a name="l9275"><span class="linenum">9275</span></a>                              } else {
<a name="l9276"><span class="linenum">9276</span></a>  <span class="comment">                                // Don't need to split positive and negative since the log scale can't handle a 0 crossing</span>
<a name="l9277"><span class="linenum">9277</span></a>                                  values[index] += value;
<a name="l9278"><span class="linenum">9278</span></a>                              }
<a name="l9279"><span class="linenum">9279</span></a>                          });
<a name="l9280"><span class="linenum">9280</span></a>                      }
<a name="l9281"><span class="linenum">9281</span></a>                  });
<a name="l9282"><span class="linenum">9282</span></a>  
<a name="l9283"><span class="linenum">9283</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(valuesPerType, function(valuesForType) {
<a name="l9284"><span class="linenum">9284</span></a>                      var minVal = helpers.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(valuesForType);
<a name="l9285"><span class="linenum">9285</span></a>                      var maxVal = helpers.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(valuesForType);
<a name="l9286"><span class="linenum">9286</span></a>                      me.min = me.min === null ? minVal : Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(me.min, minVal);
<a name="l9287"><span class="linenum">9287</span></a>                      me.max = me.max === null ? maxVal : Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.max, maxVal);
<a name="l9288"><span class="linenum">9288</span></a>                  });
<a name="l9289"><span class="linenum">9289</span></a>  
<a name="l9290"><span class="linenum">9290</span></a>              } else {
<a name="l9291"><span class="linenum">9291</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(datasets, function(dataset, datasetIndex) {
<a name="l9292"><span class="linenum">9292</span></a>                      var meta = chart.getDatasetMeta(datasetIndex);
<a name="l9293"><span class="linenum">9293</span></a>                      if (chart.isDatasetVisible(datasetIndex) &amp;&amp; <a class="function" onClick="logFunction('IDMatches')" href="../../../_functions/idmatches.html" onMouseOver="funcPopup(event,'idmatches')">IDMatches</a>(meta)) {
<a name="l9294"><span class="linenum">9294</span></a>                          helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(dataset.data, function(rawValue, index) {
<a name="l9295"><span class="linenum">9295</span></a>                              var value = +me.getRightValue(rawValue);
<a name="l9296"><span class="linenum">9296</span></a>                              if (isNaN(value) || meta.data[index].hidden) {
<a name="l9297"><span class="linenum">9297</span></a>                                  return;
<a name="l9298"><span class="linenum">9298</span></a>                              }
<a name="l9299"><span class="linenum">9299</span></a>  
<a name="l9300"><span class="linenum">9300</span></a>                              if (me.min === null) {
<a name="l9301"><span class="linenum">9301</span></a>                                  me.min = value;
<a name="l9302"><span class="linenum">9302</span></a>                              } else if (value &lt; me.min) {
<a name="l9303"><span class="linenum">9303</span></a>                                  me.min = value;
<a name="l9304"><span class="linenum">9304</span></a>                              }
<a name="l9305"><span class="linenum">9305</span></a>  
<a name="l9306"><span class="linenum">9306</span></a>                              if (me.max === null) {
<a name="l9307"><span class="linenum">9307</span></a>                                  me.max = value;
<a name="l9308"><span class="linenum">9308</span></a>                              } else if (value &gt; me.max) {
<a name="l9309"><span class="linenum">9309</span></a>                                  me.max = value;
<a name="l9310"><span class="linenum">9310</span></a>                              }
<a name="l9311"><span class="linenum">9311</span></a>                          });
<a name="l9312"><span class="linenum">9312</span></a>                      }
<a name="l9313"><span class="linenum">9313</span></a>                  });
<a name="l9314"><span class="linenum">9314</span></a>              }
<a name="l9315"><span class="linenum">9315</span></a>  
<a name="l9316"><span class="linenum">9316</span></a>              me.min = getValueOrDefault(tickOpts.min, me.min);
<a name="l9317"><span class="linenum">9317</span></a>              me.max = getValueOrDefault(tickOpts.max, me.max);
<a name="l9318"><span class="linenum">9318</span></a>  
<a name="l9319"><span class="linenum">9319</span></a>              if (me.min === me.max) {
<a name="l9320"><span class="linenum">9320</span></a>                  if (me.min !== 0 &amp;&amp; me.min !== null) {
<a name="l9321"><span class="linenum">9321</span></a>                      me.min = Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(me.min)) - 1);
<a name="l9322"><span class="linenum">9322</span></a>                      me.max = Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(me.max)) + 1);
<a name="l9323"><span class="linenum">9323</span></a>                  } else {
<a name="l9324"><span class="linenum">9324</span></a>                      me.min = 1;
<a name="l9325"><span class="linenum">9325</span></a>                      me.max = 10;
<a name="l9326"><span class="linenum">9326</span></a>                  }
<a name="l9327"><span class="linenum">9327</span></a>              }
<a name="l9328"><span class="linenum">9328</span></a>          },
<a name="l9329"><span class="linenum">9329</span></a>          buildTicks: function() {
<a name="l9330"><span class="linenum">9330</span></a>              var me = this;
<a name="l9331"><span class="linenum">9331</span></a>              var opts = me.options;
<a name="l9332"><span class="linenum">9332</span></a>              var tickOpts = opts.ticks;
<a name="l9333"><span class="linenum">9333</span></a>              var getValueOrDefault = helpers.getValueOrDefault;
<a name="l9334"><span class="linenum">9334</span></a>  
<a name="l9335"><span class="linenum">9335</span></a>  <span class="comment">            // Reset the ticks array. Later on, we will draw a grid line at these positions</span>
<a name="l9336"><span class="linenum">9336</span></a>  <span class="comment">            // The array simply contains the numerical value of the spots where ticks will be</span>
<a name="l9337"><span class="linenum">9337</span></a>              var ticks = me.ticks = [];
<a name="l9338"><span class="linenum">9338</span></a>  
<a name="l9339"><span class="linenum">9339</span></a>  <span class="comment">            // Figure out what the max number of ticks we can support it is based on the size of</span>
<a name="l9340"><span class="linenum">9340</span></a>  <span class="comment">            // the axis area. For now, we say that the minimum tick spacing in pixels must be 50</span>
<a name="l9341"><span class="linenum">9341</span></a>  <span class="comment">            // We also limit the maximum number of ticks to 11 which gives a nice 10 squares on</span>
<a name="l9342"><span class="linenum">9342</span></a>  <span class="comment">            // the graph</span>
<a name="l9343"><span class="linenum">9343</span></a>  
<a name="l9344"><span class="linenum">9344</span></a>              var tickVal = getValueOrDefault(tickOpts.min, Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(me.min))));
<a name="l9345"><span class="linenum">9345</span></a>  
<a name="l9346"><span class="linenum">9346</span></a>              while (tickVal &lt; me.max) {
<a name="l9347"><span class="linenum">9347</span></a>                  ticks.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(tickVal);
<a name="l9348"><span class="linenum">9348</span></a>  
<a name="l9349"><span class="linenum">9349</span></a>                  var exp = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(tickVal));
<a name="l9350"><span class="linenum">9350</span></a>                  var significand = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(tickVal / Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, exp)) + 1;
<a name="l9351"><span class="linenum">9351</span></a>  
<a name="l9352"><span class="linenum">9352</span></a>                  if (significand === 10) {
<a name="l9353"><span class="linenum">9353</span></a>                      significand = 1;
<a name="l9354"><span class="linenum">9354</span></a>                      ++exp;
<a name="l9355"><span class="linenum">9355</span></a>                  }
<a name="l9356"><span class="linenum">9356</span></a>  
<a name="l9357"><span class="linenum">9357</span></a>                  tickVal = significand * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, exp);
<a name="l9358"><span class="linenum">9358</span></a>              }
<a name="l9359"><span class="linenum">9359</span></a>  
<a name="l9360"><span class="linenum">9360</span></a>              var lastTick = getValueOrDefault(tickOpts.max, tickVal);
<a name="l9361"><span class="linenum">9361</span></a>              ticks.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(lastTick);
<a name="l9362"><span class="linenum">9362</span></a>  
<a name="l9363"><span class="linenum">9363</span></a>              if (!me.isHorizontal()) {
<a name="l9364"><span class="linenum">9364</span></a>  <span class="comment">                // We are in a vertical orientation. The top value is the highest. So reverse the array</span>
<a name="l9365"><span class="linenum">9365</span></a>                  ticks.<a class="function" onClick="logFunction('reverse')" href="../../../_functions/reverse.html" onMouseOver="funcPopup(event,'reverse')">reverse</a>();
<a name="l9366"><span class="linenum">9366</span></a>              }
<a name="l9367"><span class="linenum">9367</span></a>  
<a name="l9368"><span class="linenum">9368</span></a>  <span class="comment">            // At this point, we need to update our max and min given the tick values since we have expanded the</span>
<a name="l9369"><span class="linenum">9369</span></a>  <span class="comment">            // range of the scale</span>
<a name="l9370"><span class="linenum">9370</span></a>              me.max = helpers.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(ticks);
<a name="l9371"><span class="linenum">9371</span></a>              me.min = helpers.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(ticks);
<a name="l9372"><span class="linenum">9372</span></a>  
<a name="l9373"><span class="linenum">9373</span></a>              if (tickOpts.reverse) {
<a name="l9374"><span class="linenum">9374</span></a>                  ticks.<a class="function" onClick="logFunction('reverse')" href="../../../_functions/reverse.html" onMouseOver="funcPopup(event,'reverse')">reverse</a>();
<a name="l9375"><span class="linenum">9375</span></a>  
<a name="l9376"><span class="linenum">9376</span></a>                  me.start = me.max;
<a name="l9377"><span class="linenum">9377</span></a>                  me.end = me.min;
<a name="l9378"><span class="linenum">9378</span></a>              } else {
<a name="l9379"><span class="linenum">9379</span></a>                  me.start = me.min;
<a name="l9380"><span class="linenum">9380</span></a>                  me.end = me.max;
<a name="l9381"><span class="linenum">9381</span></a>              }
<a name="l9382"><span class="linenum">9382</span></a>          },
<a name="l9383"><span class="linenum">9383</span></a>          convertTicksToLabels: function() {
<a name="l9384"><span class="linenum">9384</span></a>              this.tickValues = this.ticks.slice();
<a name="l9385"><span class="linenum">9385</span></a>  
<a name="l9386"><span class="linenum">9386</span></a>              Chart.Scale.prototype.convertTicksToLabels.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this);
<a name="l9387"><span class="linenum">9387</span></a>          },
<a name="l9388"><span class="linenum">9388</span></a>  <span class="comment">        // Get the correct tooltip label</span>
<a name="l9389"><span class="linenum">9389</span></a>          getLabelForIndex: function(index, datasetIndex) {
<a name="l9390"><span class="linenum">9390</span></a>              return +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);
<a name="l9391"><span class="linenum">9391</span></a>          },
<a name="l9392"><span class="linenum">9392</span></a>          getPixelForTick: function(index, includeOffset) {
<a name="l9393"><span class="linenum">9393</span></a>              return this.getPixelForValue(this.tickValues[index], null, null, includeOffset);
<a name="l9394"><span class="linenum">9394</span></a>          },
<a name="l9395"><span class="linenum">9395</span></a>          getPixelForValue: function(value, index, datasetIndex, includeOffset) {
<a name="l9396"><span class="linenum">9396</span></a>              var me = this;
<a name="l9397"><span class="linenum">9397</span></a>              var innerDimension;
<a name="l9398"><span class="linenum">9398</span></a>              var pixel;
<a name="l9399"><span class="linenum">9399</span></a>  
<a name="l9400"><span class="linenum">9400</span></a>              var start = me.start;
<a name="l9401"><span class="linenum">9401</span></a>              var newVal = +me.getRightValue(value);
<a name="l9402"><span class="linenum">9402</span></a>              var range = helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(me.end) - helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(start);
<a name="l9403"><span class="linenum">9403</span></a>              var paddingTop = me.paddingTop;
<a name="l9404"><span class="linenum">9404</span></a>              var paddingBottom = me.paddingBottom;
<a name="l9405"><span class="linenum">9405</span></a>              var paddingLeft = me.paddingLeft;
<a name="l9406"><span class="linenum">9406</span></a>  
<a name="l9407"><span class="linenum">9407</span></a>              if (me.isHorizontal()) {
<a name="l9408"><span class="linenum">9408</span></a>  
<a name="l9409"><span class="linenum">9409</span></a>                  if (newVal === 0) {
<a name="l9410"><span class="linenum">9410</span></a>                      pixel = me.left + paddingLeft;
<a name="l9411"><span class="linenum">9411</span></a>                  } else {
<a name="l9412"><span class="linenum">9412</span></a>                      innerDimension = me.width - (paddingLeft + me.paddingRight);
<a name="l9413"><span class="linenum">9413</span></a>                      pixel = me.left + (innerDimension / range * (helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(newVal) - helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(start)));
<a name="l9414"><span class="linenum">9414</span></a>                      pixel += paddingLeft;
<a name="l9415"><span class="linenum">9415</span></a>                  }
<a name="l9416"><span class="linenum">9416</span></a>              } else {
<a name="l9417"><span class="linenum">9417</span></a>  <span class="comment">                // Bottom - top since pixels increase downard on a screen</span>
<a name="l9418"><span class="linenum">9418</span></a>                  if (newVal === 0) {
<a name="l9419"><span class="linenum">9419</span></a>                      pixel = me.top + paddingTop;
<a name="l9420"><span class="linenum">9420</span></a>                  } else {
<a name="l9421"><span class="linenum">9421</span></a>                      innerDimension = me.height - (paddingTop + paddingBottom);
<a name="l9422"><span class="linenum">9422</span></a>                      pixel = (me.bottom - paddingBottom) - (innerDimension / range * (helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(newVal) - helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(start)));
<a name="l9423"><span class="linenum">9423</span></a>                  }
<a name="l9424"><span class="linenum">9424</span></a>              }
<a name="l9425"><span class="linenum">9425</span></a>  
<a name="l9426"><span class="linenum">9426</span></a>              return pixel;
<a name="l9427"><span class="linenum">9427</span></a>          },
<a name="l9428"><span class="linenum">9428</span></a>          getValueForPixel: function(pixel) {
<a name="l9429"><span class="linenum">9429</span></a>              var me = this;
<a name="l9430"><span class="linenum">9430</span></a>              var offset;
<a name="l9431"><span class="linenum">9431</span></a>              var range = helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(me.end) - helpers.<a class="phpfunction" onClick="logFunction('log10')" href="../../../_functions/log10.html" onMouseOver="phpfuncPopup(event,'log10')">log10</a>(me.start);
<a name="l9432"><span class="linenum">9432</span></a>              var value;
<a name="l9433"><span class="linenum">9433</span></a>              var innerDimension;
<a name="l9434"><span class="linenum">9434</span></a>  
<a name="l9435"><span class="linenum">9435</span></a>              if (me.isHorizontal()) {
<a name="l9436"><span class="linenum">9436</span></a>                  innerDimension = me.width - (me.paddingLeft + me.paddingRight);
<a name="l9437"><span class="linenum">9437</span></a>                  value = me.start * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, (pixel - me.left - me.paddingLeft) * range / innerDimension);
<a name="l9438"><span class="linenum">9438</span></a>              } else {
<a name="l9439"><span class="linenum">9439</span></a>                  innerDimension = me.height - (me.paddingTop + me.paddingBottom);
<a name="l9440"><span class="linenum">9440</span></a>                  value = Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, (me.bottom - me.paddingBottom - pixel) * range / innerDimension) / me.start;
<a name="l9441"><span class="linenum">9441</span></a>              }
<a name="l9442"><span class="linenum">9442</span></a>  
<a name="l9443"><span class="linenum">9443</span></a>              return value;
<a name="l9444"><span class="linenum">9444</span></a>          }
<a name="l9445"><span class="linenum">9445</span></a>      });
<a name="l9446"><span class="linenum">9446</span></a>      Chart.scaleService.registerScaleType(&quot;logarithmic&quot;, LogarithmicScale, defaultConfig);
<a name="l9447"><span class="linenum">9447</span></a>  
<a name="l9448"><span class="linenum">9448</span></a>  };
<a name="l9449"><span class="linenum">9449</span></a>  },{}],42:[function(require,module,exports){
<a name="l9450"><span class="linenum">9450</span></a>  &quot;use strict&quot;;
<a name="l9451"><span class="linenum">9451</span></a>  
<a name="l9452"><span class="linenum">9452</span></a>  module.exports = function(Chart) {
<a name="l9453"><span class="linenum">9453</span></a>  
<a name="l9454"><span class="linenum">9454</span></a>      var helpers = Chart.helpers;
<a name="l9455"><span class="linenum">9455</span></a>      var globalDefaults = Chart.defaults.global;
<a name="l9456"><span class="linenum">9456</span></a>  
<a name="l9457"><span class="linenum">9457</span></a>      var defaultConfig = {
<a name="l9458"><span class="linenum">9458</span></a>          display: true,
<a name="l9459"><span class="linenum">9459</span></a>  
<a name="l9460"><span class="linenum">9460</span></a>  <span class="comment">        //Boolean - Whether to animate scaling the chart from the centre</span>
<a name="l9461"><span class="linenum">9461</span></a>          animate: true,
<a name="l9462"><span class="linenum">9462</span></a>          lineArc: false,
<a name="l9463"><span class="linenum">9463</span></a>          position: &quot;chartArea&quot;,
<a name="l9464"><span class="linenum">9464</span></a>  
<a name="l9465"><span class="linenum">9465</span></a>          angleLines: {
<a name="l9466"><span class="linenum">9466</span></a>              display: true,
<a name="l9467"><span class="linenum">9467</span></a>              color: &quot;<a class="function" onClick="logFunction('rgba')" href="../../../_functions/rgba.html" onMouseOver="funcPopup(event,'rgba')">rgba</a>(0, 0, 0, 0.1)&quot;,
<a name="l9468"><span class="linenum">9468</span></a>              lineWidth: 1
<a name="l9469"><span class="linenum">9469</span></a>          },
<a name="l9470"><span class="linenum">9470</span></a>  
<a name="l9471"><span class="linenum">9471</span></a>  <span class="comment">        // label settings</span>
<a name="l9472"><span class="linenum">9472</span></a>          ticks: {
<a name="l9473"><span class="linenum">9473</span></a>  <span class="comment">            //Boolean - Show a backdrop to the scale label</span>
<a name="l9474"><span class="linenum">9474</span></a>              showLabelBackdrop: true,
<a name="l9475"><span class="linenum">9475</span></a>  
<a name="l9476"><span class="linenum">9476</span></a>  <span class="comment">            //String - The colour of the label backdrop</span>
<a name="l9477"><span class="linenum">9477</span></a>              backdropColor: &quot;<a class="function" onClick="logFunction('rgba')" href="../../../_functions/rgba.html" onMouseOver="funcPopup(event,'rgba')">rgba</a>(255,255,255,0.75)&quot;,
<a name="l9478"><span class="linenum">9478</span></a>  
<a name="l9479"><span class="linenum">9479</span></a>  <span class="comment">            //Number - The backdrop padding above &amp; below the label in pixels</span>
<a name="l9480"><span class="linenum">9480</span></a>              backdropPaddingY: 2,
<a name="l9481"><span class="linenum">9481</span></a>  
<a name="l9482"><span class="linenum">9482</span></a>  <span class="comment">            //Number - The backdrop padding to the side of the label in pixels</span>
<a name="l9483"><span class="linenum">9483</span></a>              backdropPaddingX: 2
<a name="l9484"><span class="linenum">9484</span></a>          },
<a name="l9485"><span class="linenum">9485</span></a>  
<a name="l9486"><span class="linenum">9486</span></a>          pointLabels: {
<a name="l9487"><span class="linenum">9487</span></a>  <span class="comment">            //Number - Point label font size in pixels</span>
<a name="l9488"><span class="linenum">9488</span></a>              fontSize: 10,
<a name="l9489"><span class="linenum">9489</span></a>  
<a name="l9490"><span class="linenum">9490</span></a>  <span class="comment">            //Function - Used to convert point labels</span>
<a name="l9491"><span class="linenum">9491</span></a>              callback: function(label) {
<a name="l9492"><span class="linenum">9492</span></a>                  return label;
<a name="l9493"><span class="linenum">9493</span></a>              }
<a name="l9494"><span class="linenum">9494</span></a>          }
<a name="l9495"><span class="linenum">9495</span></a>      };
<a name="l9496"><span class="linenum">9496</span></a>  
<a name="l9497"><span class="linenum">9497</span></a>      var LinearRadialScale = Chart.LinearScaleBase.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l9498"><span class="linenum">9498</span></a>          getValueCount: function() {
<a name="l9499"><span class="linenum">9499</span></a>              return this.chart.data.labels.length;
<a name="l9500"><span class="linenum">9500</span></a>          },
<a name="l9501"><span class="linenum">9501</span></a>          setDimensions: function() {
<a name="l9502"><span class="linenum">9502</span></a>              var me = this;
<a name="l9503"><span class="linenum">9503</span></a>              var opts = me.options;
<a name="l9504"><span class="linenum">9504</span></a>              var tickOpts = opts.ticks;
<a name="l9505"><span class="linenum">9505</span></a>  <span class="comment">            // Set the unconstrained dimension before label rotation</span>
<a name="l9506"><span class="linenum">9506</span></a>              me.width = me.maxWidth;
<a name="l9507"><span class="linenum">9507</span></a>              me.height = me.maxHeight;
<a name="l9508"><span class="linenum">9508</span></a>              me.xCenter = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(me.width / 2);
<a name="l9509"><span class="linenum">9509</span></a>              me.yCenter = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(me.height / 2);
<a name="l9510"><span class="linenum">9510</span></a>  
<a name="l9511"><span class="linenum">9511</span></a>              var minSize = helpers.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>([me.height, me.width]);
<a name="l9512"><span class="linenum">9512</span></a>              var tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);
<a name="l9513"><span class="linenum">9513</span></a>              me.drawingArea = opts.display ? (minSize / 2) - (tickFontSize / 2 + tickOpts.backdropPaddingY) : (minSize / 2);
<a name="l9514"><span class="linenum">9514</span></a>          },
<a name="l9515"><span class="linenum">9515</span></a>          determineDataLimits: function() {
<a name="l9516"><span class="linenum">9516</span></a>              var me = this;
<a name="l9517"><span class="linenum">9517</span></a>              var chart = me.chart;
<a name="l9518"><span class="linenum">9518</span></a>              me.min = null;
<a name="l9519"><span class="linenum">9519</span></a>              me.max = null;
<a name="l9520"><span class="linenum">9520</span></a>  
<a name="l9521"><span class="linenum">9521</span></a>  
<a name="l9522"><span class="linenum">9522</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(chart.data.datasets, function(dataset, datasetIndex) {
<a name="l9523"><span class="linenum">9523</span></a>                  if (chart.isDatasetVisible(datasetIndex)) {
<a name="l9524"><span class="linenum">9524</span></a>                      var meta = chart.getDatasetMeta(datasetIndex);
<a name="l9525"><span class="linenum">9525</span></a>  
<a name="l9526"><span class="linenum">9526</span></a>                      helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(dataset.data, function(rawValue, index) {
<a name="l9527"><span class="linenum">9527</span></a>                          var value = +me.getRightValue(rawValue);
<a name="l9528"><span class="linenum">9528</span></a>                          if (isNaN(value) || meta.data[index].hidden) {
<a name="l9529"><span class="linenum">9529</span></a>                              return;
<a name="l9530"><span class="linenum">9530</span></a>                          }
<a name="l9531"><span class="linenum">9531</span></a>  
<a name="l9532"><span class="linenum">9532</span></a>                          if (me.min === null) {
<a name="l9533"><span class="linenum">9533</span></a>                              me.min = value;
<a name="l9534"><span class="linenum">9534</span></a>                          } else if (value &lt; me.min) {
<a name="l9535"><span class="linenum">9535</span></a>                              me.min = value;
<a name="l9536"><span class="linenum">9536</span></a>                          }
<a name="l9537"><span class="linenum">9537</span></a>  
<a name="l9538"><span class="linenum">9538</span></a>                          if (me.max === null) {
<a name="l9539"><span class="linenum">9539</span></a>                              me.max = value;
<a name="l9540"><span class="linenum">9540</span></a>                          } else if (value &gt; me.max) {
<a name="l9541"><span class="linenum">9541</span></a>                              me.max = value;
<a name="l9542"><span class="linenum">9542</span></a>                          }
<a name="l9543"><span class="linenum">9543</span></a>                      });
<a name="l9544"><span class="linenum">9544</span></a>                  }
<a name="l9545"><span class="linenum">9545</span></a>              });
<a name="l9546"><span class="linenum">9546</span></a>  
<a name="l9547"><span class="linenum">9547</span></a>  <span class="comment">            // Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero</span>
<a name="l9548"><span class="linenum">9548</span></a>              me.handleTickRangeOptions();
<a name="l9549"><span class="linenum">9549</span></a>          },
<a name="l9550"><span class="linenum">9550</span></a>          getTickLimit: function() {
<a name="l9551"><span class="linenum">9551</span></a>              var tickOpts = this.options.ticks;
<a name="l9552"><span class="linenum">9552</span></a>              var tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);
<a name="l9553"><span class="linenum">9553</span></a>              return Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(this.drawingArea / (1.5 * tickFontSize)));
<a name="l9554"><span class="linenum">9554</span></a>          },
<a name="l9555"><span class="linenum">9555</span></a>          convertTicksToLabels: function() {
<a name="l9556"><span class="linenum">9556</span></a>              var me = this;
<a name="l9557"><span class="linenum">9557</span></a>              Chart.LinearScaleBase.prototype.convertTicksToLabels.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me);
<a name="l9558"><span class="linenum">9558</span></a>  
<a name="l9559"><span class="linenum">9559</span></a>  <span class="comment">            // Point labels</span>
<a name="l9560"><span class="linenum">9560</span></a>              me.pointLabels = me.chart.data.labels.map(me.options.pointLabels.callback, me);
<a name="l9561"><span class="linenum">9561</span></a>          },
<a name="l9562"><span class="linenum">9562</span></a>          getLabelForIndex: function(index, datasetIndex) {
<a name="l9563"><span class="linenum">9563</span></a>              return +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);
<a name="l9564"><span class="linenum">9564</span></a>          },
<a name="l9565"><span class="linenum">9565</span></a>          fit: function() {
<a name="l9566"><span class="linenum">9566</span></a>              <span class="comment">/*</span>
<a name="l9567"><span class="linenum">9567</span></a>  <span class="comment">             * Right, this is really confusing and there is a lot of maths going on here</span>
<a name="l9568"><span class="linenum">9568</span></a>  <span class="comment">             * The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9</span>
<a name="l9569"><span class="linenum">9569</span></a>  <span class="comment">             *</span>
<a name="l9570"><span class="linenum">9570</span></a>  <span class="comment">             * Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif</span>
<a name="l9571"><span class="linenum">9571</span></a>  <span class="comment">             *</span>
<a name="l9572"><span class="linenum">9572</span></a>  <span class="comment">             * Solution:</span>
<a name="l9573"><span class="linenum">9573</span></a>  <span class="comment">             *</span>
<a name="l9574"><span class="linenum">9574</span></a>  <span class="comment">             * We assume the radius of the polygon is half the size of the canvas at first</span>
<a name="l9575"><span class="linenum">9575</span></a>  <span class="comment">             * at each index we check if the text overlaps.</span>
<a name="l9576"><span class="linenum">9576</span></a>  <span class="comment">             *</span>
<a name="l9577"><span class="linenum">9577</span></a>  <span class="comment">             * Where it does, we store that angle and that index.</span>
<a name="l9578"><span class="linenum">9578</span></a>  <span class="comment">             *</span>
<a name="l9579"><span class="linenum">9579</span></a>  <span class="comment">             * After finding the largest index and angle we calculate how much we need to remove</span>
<a name="l9580"><span class="linenum">9580</span></a>  <span class="comment">             * from the shape radius to move the point inwards by that x.</span>
<a name="l9581"><span class="linenum">9581</span></a>  <span class="comment">             *</span>
<a name="l9582"><span class="linenum">9582</span></a>  <span class="comment">             * We average the left and right distances to get the maximum shape radius that can fit in the box</span>
<a name="l9583"><span class="linenum">9583</span></a>  <span class="comment">             * along with labels.</span>
<a name="l9584"><span class="linenum">9584</span></a>  <span class="comment">             *</span>
<a name="l9585"><span class="linenum">9585</span></a>  <span class="comment">             * Once we have that, we can find the centre point for the chart, by taking the x text protrusion</span>
<a name="l9586"><span class="linenum">9586</span></a>  <span class="comment">             * on each side, removing that from the size, halving it and adding the left x protrusion width.</span>
<a name="l9587"><span class="linenum">9587</span></a>  <span class="comment">             *</span>
<a name="l9588"><span class="linenum">9588</span></a>  <span class="comment">             * This will mean we have a shape fitted to the canvas, as large as it can be with the labels</span>
<a name="l9589"><span class="linenum">9589</span></a>  <span class="comment">             * and position it in the most space efficient manner</span>
<a name="l9590"><span class="linenum">9590</span></a>  <span class="comment">             *</span>
<a name="l9591"><span class="linenum">9591</span></a>  <span class="comment">             * https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif</span>
<a name="l9592"><span class="linenum">9592</span></a>  <span class="comment">             */</span>
<a name="l9593"><span class="linenum">9593</span></a>  
<a name="l9594"><span class="linenum">9594</span></a>              var pointLabels = this.options.pointLabels;
<a name="l9595"><span class="linenum">9595</span></a>              var pointLabelFontSize = helpers.getValueOrDefault(pointLabels.fontSize, globalDefaults.defaultFontSize);
<a name="l9596"><span class="linenum">9596</span></a>              var pointLabeFontStyle = helpers.getValueOrDefault(pointLabels.fontStyle, globalDefaults.defaultFontStyle);
<a name="l9597"><span class="linenum">9597</span></a>              var pointLabeFontFamily = helpers.getValueOrDefault(pointLabels.fontFamily, globalDefaults.defaultFontFamily);
<a name="l9598"><span class="linenum">9598</span></a>              var pointLabeFont = helpers.fontString(pointLabelFontSize, pointLabeFontStyle, pointLabeFontFamily);
<a name="l9599"><span class="linenum">9599</span></a>  
<a name="l9600"><span class="linenum">9600</span></a>  <span class="comment">            // Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.</span>
<a name="l9601"><span class="linenum">9601</span></a>  <span class="comment">            // Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points</span>
<a name="l9602"><span class="linenum">9602</span></a>              var largestPossibleRadius = helpers.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>([(this.height / 2 - pointLabelFontSize - 5), this.width / 2]),
<a name="l9603"><span class="linenum">9603</span></a>                  pointPosition,
<a name="l9604"><span class="linenum">9604</span></a>                  i,
<a name="l9605"><span class="linenum">9605</span></a>                  textWidth,
<a name="l9606"><span class="linenum">9606</span></a>                  halfTextWidth,
<a name="l9607"><span class="linenum">9607</span></a>                  furthestRight = this.width,
<a name="l9608"><span class="linenum">9608</span></a>                  furthestRightIndex,
<a name="l9609"><span class="linenum">9609</span></a>                  furthestRightAngle,
<a name="l9610"><span class="linenum">9610</span></a>                  furthestLeft = 0,
<a name="l9611"><span class="linenum">9611</span></a>                  furthestLeftIndex,
<a name="l9612"><span class="linenum">9612</span></a>                  furthestLeftAngle,
<a name="l9613"><span class="linenum">9613</span></a>                  xProtrusionLeft,
<a name="l9614"><span class="linenum">9614</span></a>                  xProtrusionRight,
<a name="l9615"><span class="linenum">9615</span></a>                  radiusReductionRight,
<a name="l9616"><span class="linenum">9616</span></a>                  radiusReductionLeft,
<a name="l9617"><span class="linenum">9617</span></a>                  maxWidthRadius;
<a name="l9618"><span class="linenum">9618</span></a>              this.ctx.font = pointLabeFont;
<a name="l9619"><span class="linenum">9619</span></a>  
<a name="l9620"><span class="linenum">9620</span></a>              for (i = 0; i &lt; this.getValueCount(); i++) {
<a name="l9621"><span class="linenum">9621</span></a>  <span class="comment">                // 5px to space the text slightly out - similar to what we do in the draw function.</span>
<a name="l9622"><span class="linenum">9622</span></a>                  pointPosition = this.getPointPosition(i, largestPossibleRadius);
<a name="l9623"><span class="linenum">9623</span></a>                  textWidth = this.ctx.measureText(this.pointLabels[i] ? this.pointLabels[i] : '').width + 5;
<a name="l9624"><span class="linenum">9624</span></a>                  if (i === 0 || i === this.getValueCount() / 2) {
<a name="l9625"><span class="linenum">9625</span></a>  <span class="comment">                    // If we're at index zero, or exactly the middle, we're at exactly the top/bottom</span>
<a name="l9626"><span class="linenum">9626</span></a>  <span class="comment">                    // of the radar chart, so text will be aligned centrally, so we'll half it and compare</span>
<a name="l9627"><span class="linenum">9627</span></a>  <span class="comment">                    // w/left and right text sizes</span>
<a name="l9628"><span class="linenum">9628</span></a>                      halfTextWidth = textWidth / 2;
<a name="l9629"><span class="linenum">9629</span></a>                      if (pointPosition.x + halfTextWidth &gt; furthestRight) {
<a name="l9630"><span class="linenum">9630</span></a>                          furthestRight = pointPosition.x + halfTextWidth;
<a name="l9631"><span class="linenum">9631</span></a>                          furthestRightIndex = i;
<a name="l9632"><span class="linenum">9632</span></a>                      }
<a name="l9633"><span class="linenum">9633</span></a>                      if (pointPosition.x - halfTextWidth &lt; furthestLeft) {
<a name="l9634"><span class="linenum">9634</span></a>                          furthestLeft = pointPosition.x - halfTextWidth;
<a name="l9635"><span class="linenum">9635</span></a>                          furthestLeftIndex = i;
<a name="l9636"><span class="linenum">9636</span></a>                      }
<a name="l9637"><span class="linenum">9637</span></a>                  } else if (i &lt; this.getValueCount() / 2) {
<a name="l9638"><span class="linenum">9638</span></a>  <span class="comment">                    // Less than half the values means we'll left align the text</span>
<a name="l9639"><span class="linenum">9639</span></a>                      if (pointPosition.x + textWidth &gt; furthestRight) {
<a name="l9640"><span class="linenum">9640</span></a>                          furthestRight = pointPosition.x + textWidth;
<a name="l9641"><span class="linenum">9641</span></a>                          furthestRightIndex = i;
<a name="l9642"><span class="linenum">9642</span></a>                      }
<a name="l9643"><span class="linenum">9643</span></a>                  } else if (i &gt; this.getValueCount() / 2) {
<a name="l9644"><span class="linenum">9644</span></a>  <span class="comment">                    // More than half the values means we'll right align the text</span>
<a name="l9645"><span class="linenum">9645</span></a>                      if (pointPosition.x - textWidth &lt; furthestLeft) {
<a name="l9646"><span class="linenum">9646</span></a>                          furthestLeft = pointPosition.x - textWidth;
<a name="l9647"><span class="linenum">9647</span></a>                          furthestLeftIndex = i;
<a name="l9648"><span class="linenum">9648</span></a>                      }
<a name="l9649"><span class="linenum">9649</span></a>                  }
<a name="l9650"><span class="linenum">9650</span></a>              }
<a name="l9651"><span class="linenum">9651</span></a>  
<a name="l9652"><span class="linenum">9652</span></a>              xProtrusionLeft = furthestLeft;
<a name="l9653"><span class="linenum">9653</span></a>              xProtrusionRight = Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(furthestRight - this.width);
<a name="l9654"><span class="linenum">9654</span></a>  
<a name="l9655"><span class="linenum">9655</span></a>              furthestRightAngle = this.getIndexAngle(furthestRightIndex);
<a name="l9656"><span class="linenum">9656</span></a>              furthestLeftAngle = this.getIndexAngle(furthestLeftIndex);
<a name="l9657"><span class="linenum">9657</span></a>  
<a name="l9658"><span class="linenum">9658</span></a>              radiusReductionRight = xProtrusionRight / Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(furthestRightAngle + Math.PI / 2);
<a name="l9659"><span class="linenum">9659</span></a>              radiusReductionLeft = xProtrusionLeft / Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(furthestLeftAngle + Math.PI / 2);
<a name="l9660"><span class="linenum">9660</span></a>  
<a name="l9661"><span class="linenum">9661</span></a>  <span class="comment">            // Ensure we actually need to reduce the size of the chart</span>
<a name="l9662"><span class="linenum">9662</span></a>              radiusReductionRight = (helpers.<a class="function" onClick="logFunction('isNumber')" href="../../../_functions/isnumber.html" onMouseOver="funcPopup(event,'isnumber')">isNumber</a>(radiusReductionRight)) ? radiusReductionRight : 0;
<a name="l9663"><span class="linenum">9663</span></a>              radiusReductionLeft = (helpers.<a class="function" onClick="logFunction('isNumber')" href="../../../_functions/isnumber.html" onMouseOver="funcPopup(event,'isnumber')">isNumber</a>(radiusReductionLeft)) ? radiusReductionLeft : 0;
<a name="l9664"><span class="linenum">9664</span></a>  
<a name="l9665"><span class="linenum">9665</span></a>              this.drawingArea = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2);
<a name="l9666"><span class="linenum">9666</span></a>              this.setCenterPoint(radiusReductionLeft, radiusReductionRight);
<a name="l9667"><span class="linenum">9667</span></a>          },
<a name="l9668"><span class="linenum">9668</span></a>          setCenterPoint: function(leftMovement, rightMovement) {
<a name="l9669"><span class="linenum">9669</span></a>              var me = this;
<a name="l9670"><span class="linenum">9670</span></a>              var maxRight = me.width - rightMovement - me.drawingArea,
<a name="l9671"><span class="linenum">9671</span></a>                  maxLeft = leftMovement + me.drawingArea;
<a name="l9672"><span class="linenum">9672</span></a>  
<a name="l9673"><span class="linenum">9673</span></a>              me.xCenter = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(((maxLeft + maxRight) / 2) + me.left);
<a name="l9674"><span class="linenum">9674</span></a>  <span class="comment">            // Always vertically in the centre as the text height doesn't change</span>
<a name="l9675"><span class="linenum">9675</span></a>              me.yCenter = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((me.height / 2) + me.top);
<a name="l9676"><span class="linenum">9676</span></a>          },
<a name="l9677"><span class="linenum">9677</span></a>  
<a name="l9678"><span class="linenum">9678</span></a>          getIndexAngle: function(index) {
<a name="l9679"><span class="linenum">9679</span></a>              var angleMultiplier = (Math.PI * 2) / this.getValueCount();
<a name="l9680"><span class="linenum">9680</span></a>  <span class="comment">            // Start from the top instead of right, so remove a quarter of the circle</span>
<a name="l9681"><span class="linenum">9681</span></a>  
<a name="l9682"><span class="linenum">9682</span></a>              return index * angleMultiplier - (Math.PI / 2);
<a name="l9683"><span class="linenum">9683</span></a>          },
<a name="l9684"><span class="linenum">9684</span></a>          getDistanceFromCenterForValue: function(value) {
<a name="l9685"><span class="linenum">9685</span></a>              var me = this;
<a name="l9686"><span class="linenum">9686</span></a>  
<a name="l9687"><span class="linenum">9687</span></a>              if (value === null) {
<a name="l9688"><span class="linenum">9688</span></a>                  return 0; <span class="comment">// null always in center</span>
<a name="l9689"><span class="linenum">9689</span></a>              }
<a name="l9690"><span class="linenum">9690</span></a>  
<a name="l9691"><span class="linenum">9691</span></a>  <span class="comment">            // Take into account half font size + the yPadding of the top value</span>
<a name="l9692"><span class="linenum">9692</span></a>              var scalingFactor = me.drawingArea / (me.max - me.min);
<a name="l9693"><span class="linenum">9693</span></a>              if (me.options.reverse) {
<a name="l9694"><span class="linenum">9694</span></a>                  return (me.max - value) * scalingFactor;
<a name="l9695"><span class="linenum">9695</span></a>              } else {
<a name="l9696"><span class="linenum">9696</span></a>                  return (value - me.min) * scalingFactor;
<a name="l9697"><span class="linenum">9697</span></a>              }
<a name="l9698"><span class="linenum">9698</span></a>          },
<a name="l9699"><span class="linenum">9699</span></a>          getPointPosition: function(index, distanceFromCenter) {
<a name="l9700"><span class="linenum">9700</span></a>              var me = this;
<a name="l9701"><span class="linenum">9701</span></a>              var thisAngle = me.getIndexAngle(index);
<a name="l9702"><span class="linenum">9702</span></a>              return {
<a name="l9703"><span class="linenum">9703</span></a>                  x: Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(thisAngle) * distanceFromCenter) + me.xCenter,
<a name="l9704"><span class="linenum">9704</span></a>                  y: Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(thisAngle) * distanceFromCenter) + me.yCenter
<a name="l9705"><span class="linenum">9705</span></a>              };
<a name="l9706"><span class="linenum">9706</span></a>          },
<a name="l9707"><span class="linenum">9707</span></a>          getPointPositionForValue: function(index, value) {
<a name="l9708"><span class="linenum">9708</span></a>              return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));
<a name="l9709"><span class="linenum">9709</span></a>          },
<a name="l9710"><span class="linenum">9710</span></a>  
<a name="l9711"><span class="linenum">9711</span></a>          getBasePosition: function() {
<a name="l9712"><span class="linenum">9712</span></a>              var me = this;
<a name="l9713"><span class="linenum">9713</span></a>              var min = me.min;
<a name="l9714"><span class="linenum">9714</span></a>              var max = me.max;
<a name="l9715"><span class="linenum">9715</span></a>  
<a name="l9716"><span class="linenum">9716</span></a>              return me.getPointPositionForValue(0,
<a name="l9717"><span class="linenum">9717</span></a>                  me.beginAtZero? 0:
<a name="l9718"><span class="linenum">9718</span></a>                  min &lt; 0 &amp;&amp; max &lt; 0? max :
<a name="l9719"><span class="linenum">9719</span></a>                  min &gt; 0 &amp;&amp; max &gt; 0? min :
<a name="l9720"><span class="linenum">9720</span></a>                  0);
<a name="l9721"><span class="linenum">9721</span></a>          },
<a name="l9722"><span class="linenum">9722</span></a>  
<a name="l9723"><span class="linenum">9723</span></a>          draw: function() {
<a name="l9724"><span class="linenum">9724</span></a>              var me = this;
<a name="l9725"><span class="linenum">9725</span></a>              var opts = me.options;
<a name="l9726"><span class="linenum">9726</span></a>              var gridLineOpts = opts.gridLines;
<a name="l9727"><span class="linenum">9727</span></a>              var tickOpts = opts.ticks;
<a name="l9728"><span class="linenum">9728</span></a>              var angleLineOpts = opts.angleLines;
<a name="l9729"><span class="linenum">9729</span></a>              var pointLabelOpts = opts.pointLabels;
<a name="l9730"><span class="linenum">9730</span></a>              var getValueOrDefault = helpers.getValueOrDefault;
<a name="l9731"><span class="linenum">9731</span></a>  
<a name="l9732"><span class="linenum">9732</span></a>              if (opts.display) {
<a name="l9733"><span class="linenum">9733</span></a>                  var ctx = me.ctx;
<a name="l9734"><span class="linenum">9734</span></a>  
<a name="l9735"><span class="linenum">9735</span></a>  <span class="comment">                // Tick Font</span>
<a name="l9736"><span class="linenum">9736</span></a>                  var tickFontSize = getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);
<a name="l9737"><span class="linenum">9737</span></a>                  var tickFontStyle = getValueOrDefault(tickOpts.fontStyle, globalDefaults.defaultFontStyle);
<a name="l9738"><span class="linenum">9738</span></a>                  var tickFontFamily = getValueOrDefault(tickOpts.fontFamily, globalDefaults.defaultFontFamily);
<a name="l9739"><span class="linenum">9739</span></a>                  var tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);
<a name="l9740"><span class="linenum">9740</span></a>  
<a name="l9741"><span class="linenum">9741</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.ticks, function(label, index) {
<a name="l9742"><span class="linenum">9742</span></a>  <span class="comment">                    // Don't draw a centre value (if it is minimum)</span>
<a name="l9743"><span class="linenum">9743</span></a>                      if (index &gt; 0 || opts.reverse) {
<a name="l9744"><span class="linenum">9744</span></a>                          var yCenterOffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);
<a name="l9745"><span class="linenum">9745</span></a>                          var yHeight = me.yCenter - yCenterOffset;
<a name="l9746"><span class="linenum">9746</span></a>  
<a name="l9747"><span class="linenum">9747</span></a>  <span class="comment">                        // Draw circular lines around the scale</span>
<a name="l9748"><span class="linenum">9748</span></a>                          if (gridLineOpts.display &amp;&amp; index !== 0) {
<a name="l9749"><span class="linenum">9749</span></a>                              ctx.strokeStyle = helpers.getValueAtIndexOrDefault(gridLineOpts.color, index - 1);
<a name="l9750"><span class="linenum">9750</span></a>                              ctx.lineWidth = helpers.getValueAtIndexOrDefault(gridLineOpts.lineWidth, index - 1);
<a name="l9751"><span class="linenum">9751</span></a>  
<a name="l9752"><span class="linenum">9752</span></a>                              if (opts.lineArc) {
<a name="l9753"><span class="linenum">9753</span></a>  <span class="comment">                                // Draw circular arcs between the points</span>
<a name="l9754"><span class="linenum">9754</span></a>                                  ctx.beginPath();
<a name="l9755"><span class="linenum">9755</span></a>                                  ctx.arc(me.xCenter, me.yCenter, yCenterOffset, 0, Math.PI * 2);
<a name="l9756"><span class="linenum">9756</span></a>                                  ctx.closePath();
<a name="l9757"><span class="linenum">9757</span></a>                                  ctx.stroke();
<a name="l9758"><span class="linenum">9758</span></a>                              } else {
<a name="l9759"><span class="linenum">9759</span></a>  <span class="comment">                                // Draw straight lines connecting each index</span>
<a name="l9760"><span class="linenum">9760</span></a>                                  ctx.beginPath();
<a name="l9761"><span class="linenum">9761</span></a>                                  for (var i = 0; i &lt; me.getValueCount(); i++) {
<a name="l9762"><span class="linenum">9762</span></a>                                      var pointPosition = me.getPointPosition(i, yCenterOffset);
<a name="l9763"><span class="linenum">9763</span></a>                                      if (i === 0) {
<a name="l9764"><span class="linenum">9764</span></a>                                          ctx.moveTo(pointPosition.x, pointPosition.y);
<a name="l9765"><span class="linenum">9765</span></a>                                      } else {
<a name="l9766"><span class="linenum">9766</span></a>                                          ctx.lineTo(pointPosition.x, pointPosition.y);
<a name="l9767"><span class="linenum">9767</span></a>                                      }
<a name="l9768"><span class="linenum">9768</span></a>                                  }
<a name="l9769"><span class="linenum">9769</span></a>                                  ctx.closePath();
<a name="l9770"><span class="linenum">9770</span></a>                                  ctx.stroke();
<a name="l9771"><span class="linenum">9771</span></a>                              }
<a name="l9772"><span class="linenum">9772</span></a>                          }
<a name="l9773"><span class="linenum">9773</span></a>  
<a name="l9774"><span class="linenum">9774</span></a>                          if (tickOpts.display) {
<a name="l9775"><span class="linenum">9775</span></a>                              var tickFontColor = getValueOrDefault(tickOpts.fontColor, globalDefaults.defaultFontColor);
<a name="l9776"><span class="linenum">9776</span></a>                              ctx.font = tickLabelFont;
<a name="l9777"><span class="linenum">9777</span></a>  
<a name="l9778"><span class="linenum">9778</span></a>                              if (tickOpts.showLabelBackdrop) {
<a name="l9779"><span class="linenum">9779</span></a>                                  var labelWidth = ctx.measureText(label).width;
<a name="l9780"><span class="linenum">9780</span></a>                                  ctx.fillStyle = tickOpts.backdropColor;
<a name="l9781"><span class="linenum">9781</span></a>                                  ctx.fillRect(
<a name="l9782"><span class="linenum">9782</span></a>                                      me.xCenter - labelWidth / 2 - tickOpts.backdropPaddingX,
<a name="l9783"><span class="linenum">9783</span></a>                                      yHeight - tickFontSize / 2 - tickOpts.backdropPaddingY,
<a name="l9784"><span class="linenum">9784</span></a>                                      labelWidth + tickOpts.backdropPaddingX * 2,
<a name="l9785"><span class="linenum">9785</span></a>                                      tickFontSize + tickOpts.backdropPaddingY * 2
<a name="l9786"><span class="linenum">9786</span></a>                                  );
<a name="l9787"><span class="linenum">9787</span></a>                              }
<a name="l9788"><span class="linenum">9788</span></a>  
<a name="l9789"><span class="linenum">9789</span></a>                              ctx.textAlign = 'center';
<a name="l9790"><span class="linenum">9790</span></a>                              ctx.textBaseline = &quot;middle&quot;;
<a name="l9791"><span class="linenum">9791</span></a>                              ctx.fillStyle = tickFontColor;
<a name="l9792"><span class="linenum">9792</span></a>                              ctx.fillText(label, me.xCenter, yHeight);
<a name="l9793"><span class="linenum">9793</span></a>                          }
<a name="l9794"><span class="linenum">9794</span></a>                      }
<a name="l9795"><span class="linenum">9795</span></a>                  });
<a name="l9796"><span class="linenum">9796</span></a>  
<a name="l9797"><span class="linenum">9797</span></a>                  if (!opts.lineArc) {
<a name="l9798"><span class="linenum">9798</span></a>                      ctx.lineWidth = angleLineOpts.lineWidth;
<a name="l9799"><span class="linenum">9799</span></a>                      ctx.strokeStyle = angleLineOpts.color;
<a name="l9800"><span class="linenum">9800</span></a>  
<a name="l9801"><span class="linenum">9801</span></a>                      var outerDistance = me.getDistanceFromCenterForValue(opts.reverse ? me.min : me.max);
<a name="l9802"><span class="linenum">9802</span></a>  
<a name="l9803"><span class="linenum">9803</span></a>  <span class="comment">                    // Point Label Font</span>
<a name="l9804"><span class="linenum">9804</span></a>                      var pointLabelFontSize = getValueOrDefault(pointLabelOpts.fontSize, globalDefaults.defaultFontSize);
<a name="l9805"><span class="linenum">9805</span></a>                      var pointLabeFontStyle = getValueOrDefault(pointLabelOpts.fontStyle, globalDefaults.defaultFontStyle);
<a name="l9806"><span class="linenum">9806</span></a>                      var pointLabeFontFamily = getValueOrDefault(pointLabelOpts.fontFamily, globalDefaults.defaultFontFamily);
<a name="l9807"><span class="linenum">9807</span></a>                      var pointLabeFont = helpers.fontString(pointLabelFontSize, pointLabeFontStyle, pointLabeFontFamily);
<a name="l9808"><span class="linenum">9808</span></a>  
<a name="l9809"><span class="linenum">9809</span></a>                      for (var i = me.getValueCount() - 1; i &gt;= 0; i--) {
<a name="l9810"><span class="linenum">9810</span></a>                          if (angleLineOpts.display) {
<a name="l9811"><span class="linenum">9811</span></a>                              var outerPosition = me.getPointPosition(i, outerDistance);
<a name="l9812"><span class="linenum">9812</span></a>                              ctx.beginPath();
<a name="l9813"><span class="linenum">9813</span></a>                              ctx.moveTo(me.xCenter, me.yCenter);
<a name="l9814"><span class="linenum">9814</span></a>                              ctx.lineTo(outerPosition.x, outerPosition.y);
<a name="l9815"><span class="linenum">9815</span></a>                              ctx.stroke();
<a name="l9816"><span class="linenum">9816</span></a>                              ctx.closePath();
<a name="l9817"><span class="linenum">9817</span></a>                          }
<a name="l9818"><span class="linenum">9818</span></a>  <span class="comment">                        // Extra 3px out for some label spacing</span>
<a name="l9819"><span class="linenum">9819</span></a>                          var pointLabelPosition = me.getPointPosition(i, outerDistance + 5);
<a name="l9820"><span class="linenum">9820</span></a>  
<a name="l9821"><span class="linenum">9821</span></a>  <span class="comment">                        // Keep this in loop since we may support array properties here</span>
<a name="l9822"><span class="linenum">9822</span></a>                          var pointLabelFontColor = getValueOrDefault(pointLabelOpts.fontColor, globalDefaults.defaultFontColor);
<a name="l9823"><span class="linenum">9823</span></a>                          ctx.font = pointLabeFont;
<a name="l9824"><span class="linenum">9824</span></a>                          ctx.fillStyle = pointLabelFontColor;
<a name="l9825"><span class="linenum">9825</span></a>  
<a name="l9826"><span class="linenum">9826</span></a>                          var pointLabels = me.pointLabels,
<a name="l9827"><span class="linenum">9827</span></a>                              labelsCount = pointLabels.length,
<a name="l9828"><span class="linenum">9828</span></a>                              halfLabelsCount = pointLabels.length / 2,
<a name="l9829"><span class="linenum">9829</span></a>                              quarterLabelsCount = halfLabelsCount / 2,
<a name="l9830"><span class="linenum">9830</span></a>                              upperHalf = (i &lt; quarterLabelsCount || i &gt; labelsCount - quarterLabelsCount),
<a name="l9831"><span class="linenum">9831</span></a>                              exactQuarter = (i === quarterLabelsCount || i === labelsCount - quarterLabelsCount);
<a name="l9832"><span class="linenum">9832</span></a>                          if (i === 0) {
<a name="l9833"><span class="linenum">9833</span></a>                              ctx.textAlign = 'center';
<a name="l9834"><span class="linenum">9834</span></a>                          } else if (i === halfLabelsCount) {
<a name="l9835"><span class="linenum">9835</span></a>                              ctx.textAlign = 'center';
<a name="l9836"><span class="linenum">9836</span></a>                          } else if (i &lt; halfLabelsCount) {
<a name="l9837"><span class="linenum">9837</span></a>                              ctx.textAlign = 'left';
<a name="l9838"><span class="linenum">9838</span></a>                          } else {
<a name="l9839"><span class="linenum">9839</span></a>                              ctx.textAlign = 'right';
<a name="l9840"><span class="linenum">9840</span></a>                          }
<a name="l9841"><span class="linenum">9841</span></a>  
<a name="l9842"><span class="linenum">9842</span></a>  <span class="comment">                        // Set the correct text baseline based on outer positioning</span>
<a name="l9843"><span class="linenum">9843</span></a>                          if (exactQuarter) {
<a name="l9844"><span class="linenum">9844</span></a>                              ctx.textBaseline = 'middle';
<a name="l9845"><span class="linenum">9845</span></a>                          } else if (upperHalf) {
<a name="l9846"><span class="linenum">9846</span></a>                              ctx.textBaseline = 'bottom';
<a name="l9847"><span class="linenum">9847</span></a>                          } else {
<a name="l9848"><span class="linenum">9848</span></a>                              ctx.textBaseline = 'top';
<a name="l9849"><span class="linenum">9849</span></a>                          }
<a name="l9850"><span class="linenum">9850</span></a>  
<a name="l9851"><span class="linenum">9851</span></a>                          ctx.fillText(pointLabels[i] ? pointLabels[i] : '', pointLabelPosition.x, pointLabelPosition.y);
<a name="l9852"><span class="linenum">9852</span></a>                      }
<a name="l9853"><span class="linenum">9853</span></a>                  }
<a name="l9854"><span class="linenum">9854</span></a>              }
<a name="l9855"><span class="linenum">9855</span></a>          }
<a name="l9856"><span class="linenum">9856</span></a>      });
<a name="l9857"><span class="linenum">9857</span></a>      Chart.scaleService.registerScaleType(&quot;radialLinear&quot;, LinearRadialScale, defaultConfig);
<a name="l9858"><span class="linenum">9858</span></a>  
<a name="l9859"><span class="linenum">9859</span></a>  };
<a name="l9860"><span class="linenum">9860</span></a>  
<a name="l9861"><span class="linenum">9861</span></a>  },{}],43:[function(require,module,exports){
<a name="l9862"><span class="linenum">9862</span></a>  <span class="comment">/*global window: false */</span>
<a name="l9863"><span class="linenum">9863</span></a>  &quot;use strict&quot;;
<a name="l9864"><span class="linenum">9864</span></a>  
<a name="l9865"><span class="linenum">9865</span></a>  var moment = <a class="function" onClick="logFunction('require')" href="../../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(1);
<a name="l9866"><span class="linenum">9866</span></a>  moment = typeof(moment) === 'function' ? moment : window.moment;
<a name="l9867"><span class="linenum">9867</span></a>  
<a name="l9868"><span class="linenum">9868</span></a>  module.exports = function(Chart) {
<a name="l9869"><span class="linenum">9869</span></a>  
<a name="l9870"><span class="linenum">9870</span></a>      var helpers = Chart.helpers;
<a name="l9871"><span class="linenum">9871</span></a>      var time = {
<a name="l9872"><span class="linenum">9872</span></a>          units: [{
<a name="l9873"><span class="linenum">9873</span></a>              name: 'millisecond',
<a name="l9874"><span class="linenum">9874</span></a>              steps: [1, 2, 5, 10, 20, 50, 100, 250, 500]
<a name="l9875"><span class="linenum">9875</span></a>          }, {
<a name="l9876"><span class="linenum">9876</span></a>              name: 'second',
<a name="l9877"><span class="linenum">9877</span></a>              steps: [1, 2, 5, 10, 30]
<a name="l9878"><span class="linenum">9878</span></a>          }, {
<a name="l9879"><span class="linenum">9879</span></a>              name: 'minute',
<a name="l9880"><span class="linenum">9880</span></a>              steps: [1, 2, 5, 10, 30]
<a name="l9881"><span class="linenum">9881</span></a>          }, {
<a name="l9882"><span class="linenum">9882</span></a>              name: 'hour',
<a name="l9883"><span class="linenum">9883</span></a>              steps: [1, 2, 3, 6, 12]
<a name="l9884"><span class="linenum">9884</span></a>          }, {
<a name="l9885"><span class="linenum">9885</span></a>              name: 'day',
<a name="l9886"><span class="linenum">9886</span></a>              steps: [1, 2, 5]
<a name="l9887"><span class="linenum">9887</span></a>          }, {
<a name="l9888"><span class="linenum">9888</span></a>              name: 'week',
<a name="l9889"><span class="linenum">9889</span></a>              maxStep: 4
<a name="l9890"><span class="linenum">9890</span></a>          }, {
<a name="l9891"><span class="linenum">9891</span></a>              name: 'month',
<a name="l9892"><span class="linenum">9892</span></a>              maxStep: 3
<a name="l9893"><span class="linenum">9893</span></a>          }, {
<a name="l9894"><span class="linenum">9894</span></a>              name: 'quarter',
<a name="l9895"><span class="linenum">9895</span></a>              maxStep: 4
<a name="l9896"><span class="linenum">9896</span></a>          }, {
<a name="l9897"><span class="linenum">9897</span></a>              name: 'year',
<a name="l9898"><span class="linenum">9898</span></a>              maxStep: false
<a name="l9899"><span class="linenum">9899</span></a>          }]
<a name="l9900"><span class="linenum">9900</span></a>      };
<a name="l9901"><span class="linenum">9901</span></a>  
<a name="l9902"><span class="linenum">9902</span></a>      var defaultConfig = {
<a name="l9903"><span class="linenum">9903</span></a>          position: &quot;bottom&quot;,
<a name="l9904"><span class="linenum">9904</span></a>  
<a name="l9905"><span class="linenum">9905</span></a>          time: {
<a name="l9906"><span class="linenum">9906</span></a>              parser: false, // false == a pattern string from http://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment
<a name="l9907"><span class="linenum">9907</span></a>              format: false, // DEPRECATED false == date objects, moment object, callback or a pattern string from http://momentjs.com/docs/#/parsing/string-format/
<a name="l9908"><span class="linenum">9908</span></a>              unit: false, // false == automatic or override with week, month, year, etc.
<a name="l9909"><span class="linenum">9909</span></a>              round: false, // none, or override with week, month, year, etc.
<a name="l9910"><span class="linenum">9910</span></a>              displayFormat: false, // DEPRECATED
<a name="l9911"><span class="linenum">9911</span></a>              isoWeekday: false, // override week start day - see http://momentjs.com/docs/#/get-set/iso-weekday/
<a name="l9912"><span class="linenum">9912</span></a>  
<a name="l9913"><span class="linenum">9913</span></a>  <span class="comment">            // defaults to unit's corresponding unitFormat below or override using pattern string from http://momentjs.com/docs/#/displaying/format/</span>
<a name="l9914"><span class="linenum">9914</span></a>              displayFormats: {
<a name="l9915"><span class="linenum">9915</span></a>                  'millisecond': 'h:mm:ss.SSS a', // 11:20:01.123 AM,
<a name="l9916"><span class="linenum">9916</span></a>                  'second': 'h:mm:ss a', // 11:20:01 AM
<a name="l9917"><span class="linenum">9917</span></a>                  'minute': 'h:mm:ss a', // 11:20:01 AM
<a name="l9918"><span class="linenum">9918</span></a>                  'hour': 'MMM D, hA', // Sept 4, 5PM
<a name="l9919"><span class="linenum">9919</span></a>                  'day': 'll', // Sep 4 2015
<a name="l9920"><span class="linenum">9920</span></a>                  'week': 'll', // Week 46, or maybe &quot;[W]WW - YYYY&quot; ?
<a name="l9921"><span class="linenum">9921</span></a>                  'month': 'MMM YYYY', // Sept 2015
<a name="l9922"><span class="linenum">9922</span></a>                  'quarter': '[Q]Q - YYYY', // Q3
<a name="l9923"><span class="linenum">9923</span></a>                  'year': 'YYYY' // 2015
<a name="l9924"><span class="linenum">9924</span></a>              }
<a name="l9925"><span class="linenum">9925</span></a>          },
<a name="l9926"><span class="linenum">9926</span></a>          ticks: {
<a name="l9927"><span class="linenum">9927</span></a>              autoSkip: false
<a name="l9928"><span class="linenum">9928</span></a>          }
<a name="l9929"><span class="linenum">9929</span></a>      };
<a name="l9930"><span class="linenum">9930</span></a>  
<a name="l9931"><span class="linenum">9931</span></a>      var TimeScale = Chart.Scale.<a class="function" onClick="logFunction('extend')" href="../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>({
<a name="l9932"><span class="linenum">9932</span></a>          initialize: function() {
<a name="l9933"><span class="linenum">9933</span></a>              if (!moment) {
<a name="l9934"><span class="linenum">9934</span></a>                  throw new <a class="function" onClick="logFunction('Error')" href="../../../_functions/error.html" onMouseOver="funcPopup(event,'error')">Error</a>('Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com');
<a name="l9935"><span class="linenum">9935</span></a>              }
<a name="l9936"><span class="linenum">9936</span></a>  
<a name="l9937"><span class="linenum">9937</span></a>              Chart.Scale.prototype.initialize.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this);
<a name="l9938"><span class="linenum">9938</span></a>          },
<a name="l9939"><span class="linenum">9939</span></a>          getLabelMoment: function(datasetIndex, index) {
<a name="l9940"><span class="linenum">9940</span></a>              return this.labelMoments[datasetIndex][index];
<a name="l9941"><span class="linenum">9941</span></a>          },
<a name="l9942"><span class="linenum">9942</span></a>          getMomentStartOf: function(tick) {
<a name="l9943"><span class="linenum">9943</span></a>              var me = this;
<a name="l9944"><span class="linenum">9944</span></a>              if (me.options.time.unit === 'week' &amp;&amp; me.options.time.isoWeekday !== false) {
<a name="l9945"><span class="linenum">9945</span></a>                  return tick.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>().startOf('isoWeek').isoWeekday(me.options.time.isoWeekday);
<a name="l9946"><span class="linenum">9946</span></a>              } else {
<a name="l9947"><span class="linenum">9947</span></a>                  return tick.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>().startOf(me.tickUnit);
<a name="l9948"><span class="linenum">9948</span></a>              }
<a name="l9949"><span class="linenum">9949</span></a>          },
<a name="l9950"><span class="linenum">9950</span></a>          determineDataLimits: function() {
<a name="l9951"><span class="linenum">9951</span></a>              var me = this;
<a name="l9952"><span class="linenum">9952</span></a>              me.labelMoments = [];
<a name="l9953"><span class="linenum">9953</span></a>  
<a name="l9954"><span class="linenum">9954</span></a>  <span class="comment">            // Only parse these once. If the dataset does not have data as x,y pairs, we will use</span>
<a name="l9955"><span class="linenum">9955</span></a>  <span class="comment">            // these</span>
<a name="l9956"><span class="linenum">9956</span></a>              var scaleLabelMoments = [];
<a name="l9957"><span class="linenum">9957</span></a>              if (me.chart.data.labels &amp;&amp; me.chart.data.labels.length &gt; 0) {
<a name="l9958"><span class="linenum">9958</span></a>                  helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.chart.data.labels, function(label, index) {
<a name="l9959"><span class="linenum">9959</span></a>                      var labelMoment = me.<a class="function" onClick="logFunction('parseTime')" href="../../../_functions/parsetime.html" onMouseOver="funcPopup(event,'parsetime')">parseTime</a>(label);
<a name="l9960"><span class="linenum">9960</span></a>  
<a name="l9961"><span class="linenum">9961</span></a>                      if (labelMoment.<a class="function" onClick="logFunction('isValid')" href="../../../_functions/isvalid.html" onMouseOver="funcPopup(event,'isvalid')">isValid</a>()) {
<a name="l9962"><span class="linenum">9962</span></a>                          if (me.options.time.round) {
<a name="l9963"><span class="linenum">9963</span></a>                              labelMoment.startOf(me.options.time.round);
<a name="l9964"><span class="linenum">9964</span></a>                          }
<a name="l9965"><span class="linenum">9965</span></a>                          scaleLabelMoments.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(labelMoment);
<a name="l9966"><span class="linenum">9966</span></a>                      }
<a name="l9967"><span class="linenum">9967</span></a>                  }, me);
<a name="l9968"><span class="linenum">9968</span></a>  
<a name="l9969"><span class="linenum">9969</span></a>                  me.firstTick = moment.min.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, scaleLabelMoments);
<a name="l9970"><span class="linenum">9970</span></a>                  me.lastTick = moment.max.<a class="function" onClick="logFunction('call')" href="../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(me, scaleLabelMoments);
<a name="l9971"><span class="linenum">9971</span></a>              } else {
<a name="l9972"><span class="linenum">9972</span></a>                  me.firstTick = null;
<a name="l9973"><span class="linenum">9973</span></a>                  me.lastTick = null;
<a name="l9974"><span class="linenum">9974</span></a>              }
<a name="l9975"><span class="linenum">9975</span></a>  
<a name="l9976"><span class="linenum">9976</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.chart.data.datasets, function(dataset, datasetIndex) {
<a name="l9977"><span class="linenum">9977</span></a>                  var momentsForDataset = [];
<a name="l9978"><span class="linenum">9978</span></a>                  var datasetVisible = me.chart.isDatasetVisible(datasetIndex);
<a name="l9979"><span class="linenum">9979</span></a>  
<a name="l9980"><span class="linenum">9980</span></a>                  if (typeof dataset.data[0] === 'object' &amp;&amp; dataset.data[0] !== null) {
<a name="l9981"><span class="linenum">9981</span></a>                      helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(dataset.data, function(value, index) {
<a name="l9982"><span class="linenum">9982</span></a>                          var labelMoment = me.<a class="function" onClick="logFunction('parseTime')" href="../../../_functions/parsetime.html" onMouseOver="funcPopup(event,'parsetime')">parseTime</a>(me.getRightValue(value));
<a name="l9983"><span class="linenum">9983</span></a>  
<a name="l9984"><span class="linenum">9984</span></a>                          if (labelMoment.<a class="function" onClick="logFunction('isValid')" href="../../../_functions/isvalid.html" onMouseOver="funcPopup(event,'isvalid')">isValid</a>()) {
<a name="l9985"><span class="linenum">9985</span></a>                              if (me.options.time.round) {
<a name="l9986"><span class="linenum">9986</span></a>                                  labelMoment.startOf(me.options.time.round);
<a name="l9987"><span class="linenum">9987</span></a>                              }
<a name="l9988"><span class="linenum">9988</span></a>                              momentsForDataset.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(labelMoment);
<a name="l9989"><span class="linenum">9989</span></a>  
<a name="l9990"><span class="linenum">9990</span></a>                              if (datasetVisible) {
<a name="l9991"><span class="linenum">9991</span></a>  <span class="comment">                                // May have gone outside the scale ranges, make sure we keep the first and last ticks updated</span>
<a name="l9992"><span class="linenum">9992</span></a>                                  me.firstTick = me.firstTick !== null ? moment.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(me.firstTick, labelMoment) : labelMoment;
<a name="l9993"><span class="linenum">9993</span></a>                                  me.lastTick = me.lastTick !== null ? moment.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.lastTick, labelMoment) : labelMoment;
<a name="l9994"><span class="linenum">9994</span></a>                              }
<a name="l9995"><span class="linenum">9995</span></a>                          }
<a name="l9996"><span class="linenum">9996</span></a>                      }, me);
<a name="l9997"><span class="linenum">9997</span></a>                  } else {
<a name="l9998"><span class="linenum">9998</span></a>  <span class="comment">                    // We have no labels. Use the ones from the scale</span>
<a name="l9999"><span class="linenum">9999</span></a>                      momentsForDataset = scaleLabelMoments;
<a name="l10000"><span class="linenum">10000</span></a>                  }
<a name="l10001"><span class="linenum">10001</span></a>  
<a name="l10002"><span class="linenum">10002</span></a>                  me.labelMoments.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(momentsForDataset);
<a name="l10003"><span class="linenum">10003</span></a>              }, me);
<a name="l10004"><span class="linenum">10004</span></a>  
<a name="l10005"><span class="linenum">10005</span></a>  <span class="comment">            // Set these after we've done all the data</span>
<a name="l10006"><span class="linenum">10006</span></a>              if (me.options.time.min) {
<a name="l10007"><span class="linenum">10007</span></a>                  me.firstTick = me.<a class="function" onClick="logFunction('parseTime')" href="../../../_functions/parsetime.html" onMouseOver="funcPopup(event,'parsetime')">parseTime</a>(me.options.time.min);
<a name="l10008"><span class="linenum">10008</span></a>              }
<a name="l10009"><span class="linenum">10009</span></a>  
<a name="l10010"><span class="linenum">10010</span></a>              if (me.options.time.max) {
<a name="l10011"><span class="linenum">10011</span></a>                  me.lastTick = me.<a class="function" onClick="logFunction('parseTime')" href="../../../_functions/parsetime.html" onMouseOver="funcPopup(event,'parsetime')">parseTime</a>(me.options.time.max);
<a name="l10012"><span class="linenum">10012</span></a>              }
<a name="l10013"><span class="linenum">10013</span></a>  
<a name="l10014"><span class="linenum">10014</span></a>  <span class="comment">            // We will modify these, so clone for later</span>
<a name="l10015"><span class="linenum">10015</span></a>              me.firstTick = (me.firstTick || moment()).<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>();
<a name="l10016"><span class="linenum">10016</span></a>              me.lastTick = (me.lastTick || moment()).<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>();
<a name="l10017"><span class="linenum">10017</span></a>          },
<a name="l10018"><span class="linenum">10018</span></a>          buildTicks: function(index) {
<a name="l10019"><span class="linenum">10019</span></a>              var me = this;
<a name="l10020"><span class="linenum">10020</span></a>  
<a name="l10021"><span class="linenum">10021</span></a>              me.ctx.<a class="function" onClick="logFunction('save')" href="../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>();
<a name="l10022"><span class="linenum">10022</span></a>              var tickFontSize = helpers.getValueOrDefault(me.options.ticks.fontSize, Chart.defaults.global.defaultFontSize);
<a name="l10023"><span class="linenum">10023</span></a>              var tickFontStyle = helpers.getValueOrDefault(me.options.ticks.fontStyle, Chart.defaults.global.defaultFontStyle);
<a name="l10024"><span class="linenum">10024</span></a>              var tickFontFamily = helpers.getValueOrDefault(me.options.ticks.fontFamily, Chart.defaults.global.defaultFontFamily);
<a name="l10025"><span class="linenum">10025</span></a>              var tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);
<a name="l10026"><span class="linenum">10026</span></a>              me.ctx.font = tickLabelFont;
<a name="l10027"><span class="linenum">10027</span></a>  
<a name="l10028"><span class="linenum">10028</span></a>              me.ticks = [];
<a name="l10029"><span class="linenum">10029</span></a>              me.unitScale = 1; <span class="comment">// How much we scale the unit by, ie 2 means 2x unit per step</span>
<a name="l10030"><span class="linenum">10030</span></a>              me.scaleSizeInUnits = 0; <span class="comment">// How large the scale is in the base unit (seconds, minutes, etc)</span>
<a name="l10031"><span class="linenum">10031</span></a>  
<a name="l10032"><span class="linenum">10032</span></a>  <span class="comment">            // Set unit override if applicable</span>
<a name="l10033"><span class="linenum">10033</span></a>              if (me.options.time.unit) {
<a name="l10034"><span class="linenum">10034</span></a>                  me.tickUnit = me.options.time.unit || 'day';
<a name="l10035"><span class="linenum">10035</span></a>                  me.displayFormat = me.options.time.displayFormats[me.tickUnit];
<a name="l10036"><span class="linenum">10036</span></a>                  me.scaleSizeInUnits = me.lastTick.<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.firstTick, me.tickUnit, true);
<a name="l10037"><span class="linenum">10037</span></a>                  me.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, 1);
<a name="l10038"><span class="linenum">10038</span></a>              } else {
<a name="l10039"><span class="linenum">10039</span></a>  <span class="comment">                // Determine the smallest needed unit of the time</span>
<a name="l10040"><span class="linenum">10040</span></a>                  var innerWidth = me.isHorizontal() ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);
<a name="l10041"><span class="linenum">10041</span></a>  
<a name="l10042"><span class="linenum">10042</span></a>  <span class="comment">                // Crude approximation of what the label length might be</span>
<a name="l10043"><span class="linenum">10043</span></a>                  var tempFirstLabel = me.tickFormatFunction(me.firstTick, 0, []);
<a name="l10044"><span class="linenum">10044</span></a>                  var tickLabelWidth = me.ctx.measureText(tempFirstLabel).width;
<a name="l10045"><span class="linenum">10045</span></a>                  var cosRotation = Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(helpers.toRadians(me.options.ticks.maxRotation));
<a name="l10046"><span class="linenum">10046</span></a>                  var sinRotation = Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(helpers.toRadians(me.options.ticks.maxRotation));
<a name="l10047"><span class="linenum">10047</span></a>                  tickLabelWidth = (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation);
<a name="l10048"><span class="linenum">10048</span></a>                  var labelCapacity = innerWidth / (tickLabelWidth);
<a name="l10049"><span class="linenum">10049</span></a>  
<a name="l10050"><span class="linenum">10050</span></a>  <span class="comment">                // Start as small as possible</span>
<a name="l10051"><span class="linenum">10051</span></a>                  me.tickUnit = 'millisecond';
<a name="l10052"><span class="linenum">10052</span></a>                  me.scaleSizeInUnits = me.lastTick.<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.firstTick, me.tickUnit, true);
<a name="l10053"><span class="linenum">10053</span></a>                  me.displayFormat = me.options.time.displayFormats[me.tickUnit];
<a name="l10054"><span class="linenum">10054</span></a>  
<a name="l10055"><span class="linenum">10055</span></a>                  var unitDefinitionIndex = 0;
<a name="l10056"><span class="linenum">10056</span></a>                  var unitDefinition = time.units[unitDefinitionIndex];
<a name="l10057"><span class="linenum">10057</span></a>  
<a name="l10058"><span class="linenum">10058</span></a>  <span class="comment">                // While we aren't ideal and we don't have units left</span>
<a name="l10059"><span class="linenum">10059</span></a>                  while (unitDefinitionIndex &lt; time.units.length) {
<a name="l10060"><span class="linenum">10060</span></a>  <span class="comment">                    // Can we scale this unit. If `false` we can scale infinitely</span>
<a name="l10061"><span class="linenum">10061</span></a>                      me.unitScale = 1;
<a name="l10062"><span class="linenum">10062</span></a>  
<a name="l10063"><span class="linenum">10063</span></a>                      if (helpers.<a class="function" onClick="logFunction('isArray')" href="../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(unitDefinition.steps) &amp;&amp; Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(me.scaleSizeInUnits / labelCapacity) &lt; helpers.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(unitDefinition.steps)) {
<a name="l10064"><span class="linenum">10064</span></a>  <span class="comment">                        // Use one of the prefedined steps</span>
<a name="l10065"><span class="linenum">10065</span></a>                          for (var idx = 0; idx &lt; unitDefinition.steps.length; ++idx) {
<a name="l10066"><span class="linenum">10066</span></a>                              if (unitDefinition.steps[idx] &gt;= Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(me.scaleSizeInUnits / labelCapacity)) {
<a name="l10067"><span class="linenum">10067</span></a>                                  me.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, unitDefinition.steps[idx]);
<a name="l10068"><span class="linenum">10068</span></a>                                  break;
<a name="l10069"><span class="linenum">10069</span></a>                              }
<a name="l10070"><span class="linenum">10070</span></a>                          }
<a name="l10071"><span class="linenum">10071</span></a>  
<a name="l10072"><span class="linenum">10072</span></a>                          break;
<a name="l10073"><span class="linenum">10073</span></a>                      } else if ((unitDefinition.maxStep === false) || (Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(me.scaleSizeInUnits / labelCapacity) &lt; unitDefinition.maxStep)) {
<a name="l10074"><span class="linenum">10074</span></a>  <span class="comment">                        // We have a max step. Scale this unit</span>
<a name="l10075"><span class="linenum">10075</span></a>                          me.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(me.scaleSizeInUnits / labelCapacity));
<a name="l10076"><span class="linenum">10076</span></a>                          break;
<a name="l10077"><span class="linenum">10077</span></a>                      } else {
<a name="l10078"><span class="linenum">10078</span></a>  <span class="comment">                        // Move to the next unit up</span>
<a name="l10079"><span class="linenum">10079</span></a>                          ++unitDefinitionIndex;
<a name="l10080"><span class="linenum">10080</span></a>                          unitDefinition = time.units[unitDefinitionIndex];
<a name="l10081"><span class="linenum">10081</span></a>  
<a name="l10082"><span class="linenum">10082</span></a>                          me.tickUnit = unitDefinition.name;
<a name="l10083"><span class="linenum">10083</span></a>                          var leadingUnitBuffer = me.firstTick.<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.getMomentStartOf(me.firstTick), me.tickUnit, true);
<a name="l10084"><span class="linenum">10084</span></a>                          var trailingUnitBuffer = me.getMomentStartOf(me.lastTick.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>().<a class="function" onClick="logFunction('add')" href="../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(1, me.tickUnit)).<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.lastTick, me.tickUnit, true);
<a name="l10085"><span class="linenum">10085</span></a>                          me.scaleSizeInUnits = me.lastTick.<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.firstTick, me.tickUnit, true) + leadingUnitBuffer + trailingUnitBuffer;
<a name="l10086"><span class="linenum">10086</span></a>                          me.displayFormat = me.options.time.displayFormats[unitDefinition.name];
<a name="l10087"><span class="linenum">10087</span></a>                      }
<a name="l10088"><span class="linenum">10088</span></a>                  }
<a name="l10089"><span class="linenum">10089</span></a>              }
<a name="l10090"><span class="linenum">10090</span></a>  
<a name="l10091"><span class="linenum">10091</span></a>              var roundedStart;
<a name="l10092"><span class="linenum">10092</span></a>  
<a name="l10093"><span class="linenum">10093</span></a>  <span class="comment">            // Only round the first tick if we have no hard minimum</span>
<a name="l10094"><span class="linenum">10094</span></a>              if (!me.options.time.min) {
<a name="l10095"><span class="linenum">10095</span></a>                  me.firstTick = me.getMomentStartOf(me.firstTick);
<a name="l10096"><span class="linenum">10096</span></a>                  roundedStart = me.firstTick;
<a name="l10097"><span class="linenum">10097</span></a>              } else {
<a name="l10098"><span class="linenum">10098</span></a>                  roundedStart = me.getMomentStartOf(me.firstTick);
<a name="l10099"><span class="linenum">10099</span></a>              }
<a name="l10100"><span class="linenum">10100</span></a>  
<a name="l10101"><span class="linenum">10101</span></a>  <span class="comment">            // Only round the last tick if we have no hard maximum</span>
<a name="l10102"><span class="linenum">10102</span></a>              if (!me.options.time.max) {
<a name="l10103"><span class="linenum">10103</span></a>                  var roundedEnd = me.getMomentStartOf(me.lastTick);
<a name="l10104"><span class="linenum">10104</span></a>                  if (roundedEnd.<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.lastTick, me.tickUnit, true) !== 0) {
<a name="l10105"><span class="linenum">10105</span></a>  <span class="comment">                    // Do not use end of because we need me to be in the next time unit</span>
<a name="l10106"><span class="linenum">10106</span></a>                      me.lastTick = me.getMomentStartOf(me.lastTick.<a class="function" onClick="logFunction('add')" href="../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(1, me.tickUnit));
<a name="l10107"><span class="linenum">10107</span></a>                  }
<a name="l10108"><span class="linenum">10108</span></a>              }
<a name="l10109"><span class="linenum">10109</span></a>  
<a name="l10110"><span class="linenum">10110</span></a>              me.smallestLabelSeparation = me.width;
<a name="l10111"><span class="linenum">10111</span></a>  
<a name="l10112"><span class="linenum">10112</span></a>              helpers.<a class="phpfunction" onClick="logFunction('each')" href="../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(me.chart.data.datasets, function(dataset, datasetIndex) {
<a name="l10113"><span class="linenum">10113</span></a>                  for (var i = 1; i &lt; me.labelMoments[datasetIndex].length; i++) {
<a name="l10114"><span class="linenum">10114</span></a>                      me.smallestLabelSeparation = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(me.smallestLabelSeparation, me.labelMoments[datasetIndex][i].<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.labelMoments[datasetIndex][i - 1], me.tickUnit, true));
<a name="l10115"><span class="linenum">10115</span></a>                  }
<a name="l10116"><span class="linenum">10116</span></a>              }, me);
<a name="l10117"><span class="linenum">10117</span></a>  
<a name="l10118"><span class="linenum">10118</span></a>  <span class="comment">            // Tick displayFormat override</span>
<a name="l10119"><span class="linenum">10119</span></a>              if (me.options.time.displayFormat) {
<a name="l10120"><span class="linenum">10120</span></a>                  me.displayFormat = me.options.time.displayFormat;
<a name="l10121"><span class="linenum">10121</span></a>              }
<a name="l10122"><span class="linenum">10122</span></a>  
<a name="l10123"><span class="linenum">10123</span></a>  <span class="comment">            // first tick. will have been rounded correctly if options.time.min is not specified</span>
<a name="l10124"><span class="linenum">10124</span></a>              me.ticks.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(me.firstTick.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>());
<a name="l10125"><span class="linenum">10125</span></a>  
<a name="l10126"><span class="linenum">10126</span></a>  <span class="comment">            // For every unit in between the first and last moment, create a moment and add it to the ticks tick</span>
<a name="l10127"><span class="linenum">10127</span></a>              for (var i = 1; i &lt;= me.scaleSizeInUnits; ++i) {
<a name="l10128"><span class="linenum">10128</span></a>                  var newTick = roundedStart.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>().<a class="function" onClick="logFunction('add')" href="../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(i, me.tickUnit);
<a name="l10129"><span class="linenum">10129</span></a>  
<a name="l10130"><span class="linenum">10130</span></a>  <span class="comment">                // Are we greater than the max time</span>
<a name="l10131"><span class="linenum">10131</span></a>                  if (me.options.time.max &amp;&amp; newTick.<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.lastTick, me.tickUnit, true) &gt;= 0) {
<a name="l10132"><span class="linenum">10132</span></a>                      break;
<a name="l10133"><span class="linenum">10133</span></a>                  }
<a name="l10134"><span class="linenum">10134</span></a>  
<a name="l10135"><span class="linenum">10135</span></a>                  if (i % me.unitScale === 0) {
<a name="l10136"><span class="linenum">10136</span></a>                      me.ticks.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(newTick);
<a name="l10137"><span class="linenum">10137</span></a>                  }
<a name="l10138"><span class="linenum">10138</span></a>              }
<a name="l10139"><span class="linenum">10139</span></a>  
<a name="l10140"><span class="linenum">10140</span></a>  <span class="comment">            // Always show the right tick</span>
<a name="l10141"><span class="linenum">10141</span></a>              var diff = me.ticks[me.ticks.length - 1].<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.lastTick, me.tickUnit);
<a name="l10142"><span class="linenum">10142</span></a>              if (diff !== 0 || me.scaleSizeInUnits === 0) {
<a name="l10143"><span class="linenum">10143</span></a>  <span class="comment">                // this is a weird case. If the &lt;max&gt; option is the same as the end option, we can't just diff the times because the tick was created from the roundedStart</span>
<a name="l10144"><span class="linenum">10144</span></a>  <span class="comment">                // but the last tick was not rounded.</span>
<a name="l10145"><span class="linenum">10145</span></a>                  if (me.options.time.max) {
<a name="l10146"><span class="linenum">10146</span></a>                      me.ticks.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(me.lastTick.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>());
<a name="l10147"><span class="linenum">10147</span></a>                      me.scaleSizeInUnits = me.lastTick.<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.ticks[0], me.tickUnit, true);
<a name="l10148"><span class="linenum">10148</span></a>                  } else {
<a name="l10149"><span class="linenum">10149</span></a>                      me.ticks.<a class="function" onClick="logFunction('push')" href="../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(me.lastTick.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>());
<a name="l10150"><span class="linenum">10150</span></a>                      me.scaleSizeInUnits = me.lastTick.<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.firstTick, me.tickUnit, true);
<a name="l10151"><span class="linenum">10151</span></a>                  }
<a name="l10152"><span class="linenum">10152</span></a>              }
<a name="l10153"><span class="linenum">10153</span></a>  
<a name="l10154"><span class="linenum">10154</span></a>              me.ctx.<a class="function" onClick="logFunction('restore')" href="../../../_functions/restore.html" onMouseOver="funcPopup(event,'restore')">restore</a>();
<a name="l10155"><span class="linenum">10155</span></a>          },
<a name="l10156"><span class="linenum">10156</span></a>  <span class="comment">        // Get tooltip label</span>
<a name="l10157"><span class="linenum">10157</span></a>          getLabelForIndex: function(index, datasetIndex) {
<a name="l10158"><span class="linenum">10158</span></a>              var me = this;
<a name="l10159"><span class="linenum">10159</span></a>              var label = me.chart.data.labels &amp;&amp; index &lt; me.chart.data.labels.length ? me.chart.data.labels[index] : '';
<a name="l10160"><span class="linenum">10160</span></a>  
<a name="l10161"><span class="linenum">10161</span></a>              if (typeof me.chart.data.datasets[datasetIndex].data[0] === 'object') {
<a name="l10162"><span class="linenum">10162</span></a>                  label = me.getRightValue(me.chart.data.datasets[datasetIndex].data[index]);
<a name="l10163"><span class="linenum">10163</span></a>              }
<a name="l10164"><span class="linenum">10164</span></a>  
<a name="l10165"><span class="linenum">10165</span></a>  <span class="comment">            // Format nicely</span>
<a name="l10166"><span class="linenum">10166</span></a>              if (me.options.time.tooltipFormat) {
<a name="l10167"><span class="linenum">10167</span></a>                  label = me.<a class="function" onClick="logFunction('parseTime')" href="../../../_functions/parsetime.html" onMouseOver="funcPopup(event,'parsetime')">parseTime</a>(label).<a class="function" onClick="logFunction('format')" href="../../../_functions/format.html" onMouseOver="funcPopup(event,'format')">format</a>(me.options.time.tooltipFormat);
<a name="l10168"><span class="linenum">10168</span></a>              }
<a name="l10169"><span class="linenum">10169</span></a>  
<a name="l10170"><span class="linenum">10170</span></a>              return label;
<a name="l10171"><span class="linenum">10171</span></a>          },
<a name="l10172"><span class="linenum">10172</span></a>  <span class="comment">        // Function to format an individual tick mark</span>
<a name="l10173"><span class="linenum">10173</span></a>          tickFormatFunction: function tickFormatFunction(tick, index, ticks) {
<a name="l10174"><span class="linenum">10174</span></a>              var formattedTick = tick.<a class="function" onClick="logFunction('format')" href="../../../_functions/format.html" onMouseOver="funcPopup(event,'format')">format</a>(this.displayFormat);
<a name="l10175"><span class="linenum">10175</span></a>              var tickOpts = this.options.ticks;
<a name="l10176"><span class="linenum">10176</span></a>              var callback = helpers.getValueOrDefault(tickOpts.callback, tickOpts.userCallback);
<a name="l10177"><span class="linenum">10177</span></a>  
<a name="l10178"><span class="linenum">10178</span></a>              if (callback) {
<a name="l10179"><span class="linenum">10179</span></a>                  return <a class="function" onClick="logFunction('callback')" href="../../../_functions/callback.html" onMouseOver="funcPopup(event,'callback')">callback</a>(formattedTick, index, ticks);
<a name="l10180"><span class="linenum">10180</span></a>              } else {
<a name="l10181"><span class="linenum">10181</span></a>                  return formattedTick;
<a name="l10182"><span class="linenum">10182</span></a>              }
<a name="l10183"><span class="linenum">10183</span></a>          },
<a name="l10184"><span class="linenum">10184</span></a>          convertTicksToLabels: function() {
<a name="l10185"><span class="linenum">10185</span></a>              var me = this;
<a name="l10186"><span class="linenum">10186</span></a>              me.tickMoments = me.ticks;
<a name="l10187"><span class="linenum">10187</span></a>              me.ticks = me.ticks.map(me.tickFormatFunction, me);
<a name="l10188"><span class="linenum">10188</span></a>          },
<a name="l10189"><span class="linenum">10189</span></a>          getPixelForValue: function(value, index, datasetIndex, includeOffset) {
<a name="l10190"><span class="linenum">10190</span></a>              var me = this;
<a name="l10191"><span class="linenum">10191</span></a>              var labelMoment = value &amp;&amp; value.isValid &amp;&amp; value.<a class="function" onClick="logFunction('isValid')" href="../../../_functions/isvalid.html" onMouseOver="funcPopup(event,'isvalid')">isValid</a>() ? value : me.getLabelMoment(datasetIndex, index);
<a name="l10192"><span class="linenum">10192</span></a>  
<a name="l10193"><span class="linenum">10193</span></a>              if (labelMoment) {
<a name="l10194"><span class="linenum">10194</span></a>                  var offset = labelMoment.<a class="function" onClick="logFunction('diff')" href="../../../_functions/diff.html" onMouseOver="funcPopup(event,'diff')">diff</a>(me.firstTick, me.tickUnit, true);
<a name="l10195"><span class="linenum">10195</span></a>  
<a name="l10196"><span class="linenum">10196</span></a>                  var decimal = offset / me.scaleSizeInUnits;
<a name="l10197"><span class="linenum">10197</span></a>  
<a name="l10198"><span class="linenum">10198</span></a>                  if (me.isHorizontal()) {
<a name="l10199"><span class="linenum">10199</span></a>                      var innerWidth = me.width - (me.paddingLeft + me.paddingRight);
<a name="l10200"><span class="linenum">10200</span></a>                      var valueWidth = innerWidth / Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.ticks.length - 1, 1);
<a name="l10201"><span class="linenum">10201</span></a>                      var valueOffset = (innerWidth * decimal) + me.paddingLeft;
<a name="l10202"><span class="linenum">10202</span></a>  
<a name="l10203"><span class="linenum">10203</span></a>                      return me.left + Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(valueOffset);
<a name="l10204"><span class="linenum">10204</span></a>                  } else {
<a name="l10205"><span class="linenum">10205</span></a>                      var innerHeight = me.height - (me.paddingTop + me.paddingBottom);
<a name="l10206"><span class="linenum">10206</span></a>                      var valueHeight = innerHeight / Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(me.ticks.length - 1, 1);
<a name="l10207"><span class="linenum">10207</span></a>                      var heightOffset = (innerHeight * decimal) + me.paddingTop;
<a name="l10208"><span class="linenum">10208</span></a>  
<a name="l10209"><span class="linenum">10209</span></a>                      return me.top + Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(heightOffset);
<a name="l10210"><span class="linenum">10210</span></a>                  }
<a name="l10211"><span class="linenum">10211</span></a>              }
<a name="l10212"><span class="linenum">10212</span></a>          },
<a name="l10213"><span class="linenum">10213</span></a>          getPixelForTick: function(index, includeOffset) {
<a name="l10214"><span class="linenum">10214</span></a>              return this.getPixelForValue(this.tickMoments[index], null, null, includeOffset);
<a name="l10215"><span class="linenum">10215</span></a>          },
<a name="l10216"><span class="linenum">10216</span></a>          getValueForPixel: function(pixel) {
<a name="l10217"><span class="linenum">10217</span></a>              var me = this;
<a name="l10218"><span class="linenum">10218</span></a>              var innerDimension = me.isHorizontal() ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);
<a name="l10219"><span class="linenum">10219</span></a>              var offset = (pixel - (me.isHorizontal() ? me.left + me.paddingLeft : me.top + me.paddingTop)) / innerDimension;
<a name="l10220"><span class="linenum">10220</span></a>              offset *= me.scaleSizeInUnits;
<a name="l10221"><span class="linenum">10221</span></a>              return me.firstTick.<a class="function" onClick="logFunction('clone')" href="../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>().<a class="function" onClick="logFunction('add')" href="../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(moment.duration(offset, me.tickUnit).asSeconds(), 'seconds');
<a name="l10222"><span class="linenum">10222</span></a>          },
<a name="l10223"><span class="linenum">10223</span></a>          parseTime: function(label) {
<a name="l10224"><span class="linenum">10224</span></a>              var me = this;
<a name="l10225"><span class="linenum">10225</span></a>              if (typeof me.options.time.parser === 'string') {
<a name="l10226"><span class="linenum">10226</span></a>                  return moment(label, me.options.time.parser);
<a name="l10227"><span class="linenum">10227</span></a>              }
<a name="l10228"><span class="linenum">10228</span></a>              if (typeof me.options.time.parser === 'function') {
<a name="l10229"><span class="linenum">10229</span></a>                  return me.options.time.<a class="function" onClick="logFunction('parser')" href="../../../_functions/parser.html" onMouseOver="funcPopup(event,'parser')">parser</a>(label);
<a name="l10230"><span class="linenum">10230</span></a>              }
<a name="l10231"><span class="linenum">10231</span></a>  <span class="comment">            // Date objects</span>
<a name="l10232"><span class="linenum">10232</span></a>              if (typeof label.getMonth === 'function' || typeof label === 'number') {
<a name="l10233"><span class="linenum">10233</span></a>                  return moment(label);
<a name="l10234"><span class="linenum">10234</span></a>              }
<a name="l10235"><span class="linenum">10235</span></a>  <span class="comment">            // Moment support</span>
<a name="l10236"><span class="linenum">10236</span></a>              if (label.isValid &amp;&amp; label.<a class="function" onClick="logFunction('isValid')" href="../../../_functions/isvalid.html" onMouseOver="funcPopup(event,'isvalid')">isValid</a>()) {
<a name="l10237"><span class="linenum">10237</span></a>                  return label;
<a name="l10238"><span class="linenum">10238</span></a>              }
<a name="l10239"><span class="linenum">10239</span></a>  <span class="comment">            // Custom parsing (return an instance of moment)</span>
<a name="l10240"><span class="linenum">10240</span></a>              if (typeof me.options.time.format !== 'string' &amp;&amp; me.options.time.format.call) {
<a name="l10241"><span class="linenum">10241</span></a>                  console.<a class="function" onClick="logFunction('warn')" href="../../../_functions/warn.html" onMouseOver="funcPopup(event,'warn')">warn</a>(&quot;options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale&quot;);
<a name="l10242"><span class="linenum">10242</span></a>                  return me.options.time.<a class="function" onClick="logFunction('format')" href="../../../_functions/format.html" onMouseOver="funcPopup(event,'format')">format</a>(label);
<a name="l10243"><span class="linenum">10243</span></a>              }
<a name="l10244"><span class="linenum">10244</span></a>  <span class="comment">            // Moment format parsing</span>
<a name="l10245"><span class="linenum">10245</span></a>              return moment(label, me.options.time.format);
<a name="l10246"><span class="linenum">10246</span></a>          }
<a name="l10247"><span class="linenum">10247</span></a>      });
<a name="l10248"><span class="linenum">10248</span></a>      Chart.scaleService.registerScaleType(&quot;time&quot;, TimeScale, defaultConfig);
<a name="l10249"><span class="linenum">10249</span></a>  
<a name="l10250"><span class="linenum">10250</span></a>  };
<a name="l10251"><span class="linenum">10251</span></a>  
<a name="l10252"><span class="linenum">10252</span></a>  },{&quot;1&quot;:1}]},{},[7])(7)
<a name="l10253"><span class="linenum">10253</span></a>  });
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'darken': ['darken', '', [['lib/lessphp','Functions.php',317]], 55],
'hsl2keyword': ['hsl2keyword', '', [['lib/amd/src','chartjs-lazy.js',993]], 0],
'rgb2hsv': ['rgb2hsv', '', [['lib/amd/src','chartjs-lazy.js',824]], 6],
'rotate': ['rotate', 'Rotate object. ', [['lib/tcpdf','tcpdf.php',11140],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',198],['repository/flickr_public','image.php',109]], 49],
'reduce': ['reduce', '', [['lib/minify/lib','JSMinPlus.php',1586],['lib/jquery/ui-1.11.4','jquery-ui.js',157]], 18],
'hsl2cmyk': ['hsl2cmyk', '', [['lib/amd/src','chartjs-lazy.js',989]], 0],
'destroy': ['destroy', 'Destroys a variable in the context. ', [['lib/htmlpurifier/HTMLPurifier','Context.php',57],['backup/util/settings','base_setting.class.php',125],['backup/converter','convertlib.php',255],['lib/adodb','adodb-xmlschema.inc.php',156],['lib/adodb','adodb-xmlschema.inc.php',2190],['backup/util/ui','backup_ui_setting.class.php',78],['backup/util/ui','base_ui.class.php',97],['backup/util/structure','base_final_element.class.php',53],['backup/util/plan','backup_plan.class.php',51],['backup/util/settings','setting_dependency.class.php',81],['backup/util/loggers','base_logger.class.php',74],['lib/adodb','adodb-xmlschema03.inc.php',174],['lib/adodb','adodb-xmlschema03.inc.php',2372],['backup/util/plan','base_plan.class.php',192],['backup/util/plan','restore_plan.class.php',62],['backup/controller','backup_controller.class.php',146],['backup/util/structure','base_nested_element.class.php',62],['repository/flickr_public','image.php',65],['backup/util/plan','base_step.class.php',60],['backup/util/ui','restore_ui_stage.class.php',208],['backup/controller','restore_controller.class.php',158],['backup/util/plan','base_task.class.php',199]], 504],
'keyword2hwb': ['keyword2hwb', '', [['lib/amd/src','chartjs-lazy.js',1258]], 0],
'setdimensions': ['setdimensions', '', [['lib/google/src/Google/Service','AdExchangeBuyer.php',5630],['lib/google/src/Google/Service','Books.php',6590],['lib/google/src/Google/Service','Analytics.php',6896],['lib/google/src/Google/Service','Analytics.php',7763],['lib/google/src/Google/Service','Analytics.php',8755],['lib/google/src/Google/Service','Analytics.php',9033],['lib/google/src/Google/Service','Webmasters.php',759],['lib/google/src/Google/Service','Dfareporting.php',15406],['lib/google/src/Google/Service','Dfareporting.php',18747],['lib/google/src/Google/Service','Dfareporting.php',19324],['lib/google/src/Google/Service','Dfareporting.php',19408],['lib/google/src/Google/Service','Dfareporting.php',19591],['lib/google/src/Google/Service','Dfareporting.php',19945]], 6],
'color': ['color', '', [['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',832],['lib/lessphp','Functions.php',752],['lib/lessphp','Colors.php',166]], 44],
'parser': ['parser', '', [['lib/yuilib/3.17.2/handlebars-compiler','handlebars-compiler-debug.js',499],['lib/yuilib/3.17.2/handlebars-compiler','handlebars-compiler.js',499]], 4],
'rgb2lab': ['rgb2lab', '', [['lib/amd/src','chartjs-lazy.js',902]], 2],
'addevent': ['addevent', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',4624]], 5],
'require': ['require', '', [['lib/yuilib/3.17.2/timers','timers.js',27],['lib/yuilib/3.17.2/timers','timers-debug.js',27]], 615],
'join': ['join', 'Join a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.join) ', [['lib/google/src/Google/Service','Games.php',1716],['lib/google/src/Google/Service','Games.php',2100]], 1030],
'cmyk2rgb': ['cmyk2rgb', '', [['lib/amd/src','chartjs-lazy.js',1104]], 4],
'cmyk2hwb': ['cmyk2hwb', '', [['lib/amd/src','chartjs-lazy.js',1125]], 0],
'hexstring': ['hexstring', '', [['lib/amd/src','chartjs-lazy.js',161]], 2],
'hsv2keyword': ['hsv2keyword', '', [['lib/amd/src','chartjs-lazy.js',1048]], 0],
'notify': ['notify', 'Print a bold message in an optional color. ', [['lib','deprecatedlib.php',911],['course','lib.php',3271]], 74],
'indexof': ['indexof', 'IndexOf - first version of find an element in the Array given returns the index of the *first* occurance ', [['backup/cc/cc_lib/gral_lib','functions.php',97]], 1500],
'hsl': ['hsl', '', [['lib/lessphp','Functions.php',83]], 15],
'transition': ['transition', 'Changes the status of a YouTube live broadcast and initiates any processes associated with the new status. For example, when you transition a broadcast\'s status to testing, YouTube starts to transmit video to that broadcast\'s monitor stream. Before calling this method, you should confirm that the value of the status.streamStatus property for the stream bound to your broadcast is active. (liveBroadcasts.transition) ', [['lib/google/src/Google/Service','YouTube.php',3051]], 82],
'now': ['now', 'Returns the timestamp from the first request for the time from the cache API. ', [['cache/classes','loaders.php',1114],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',546]], 77],
'rgb': ['rgb', 'Returns an RGB color from R, G and B values ', [['lib/spout/src/Spout/Writer/Style','Color.php',29],['lib/lessphp','Functions.php',68]], 149],
'isnumber': ['isnumber', '', [['lib/lessphp','Functions.php',774]], 801],
'sign': ['sign', 'SIGN ', [['lib/phpexcel/PHPExcel/Calculation','MathTrig.php',1057],['lib/google/src/Google/Auth','AppIdentity.php',104],['lib/google/src/Google/Signer','P12.php',81],['lib/google/src/Google/Auth','Simple.php',52],['lib','oauthlib.php',142],['lib/google/src/Google/Auth','OAuth2.php',218],['lib/google/src/Google/Auth','ComputeEngine.php',109],['lib/phpmailer','class.phpmailer.php',3605]], 41],
'settimeout': ['settimeout', 'Set the maximum request time in seconds. ', [['lib/google/src/Google/IO','Stream.php',200],['lib/google/src/Google/Service','Appengine.php',1018],['lib/phpmailer','class.smtp.php',1164],['lib/google/src/Google/IO','Curl.php',154],['lib/google','curlio.php',156]], 707],
'hwb2hsv': ['hwb2hsv', '', [['lib/amd/src','chartjs-lazy.js',1092]], 0],
'hsl2hsv': ['hsl2hsv', '', [['lib/amd/src','chartjs-lazy.js',966]], 0],
'lch2rgb': ['lch2rgb', '', [['lib/amd/src','chartjs-lazy.js',1242]], 0],
'gettitle': ['gettitle', 'Get Title ', [['lib/phpexcel/PHPExcel','DocumentProperties.php',242],['lib/google/src/Google/Service','AdSense.php',2457],['lib/google/src/Google/Service','Tasks.php',707],['lib/google/src/Google/Service','Tasks.php',804],['lib/google/src/Google/Service','GamesManagement.php',1254],['lib/google/src/Google/Service','AndroidPublisher.php',3109],['lib/google/src/Google/Service','AndroidPublisher.php',3412],['lib/phpexcel/PHPExcel','Chart.php',222],['lib/google/src/Google/Service','YouTubeAnalytics.php',1121],['lib/google/src/Google/Service','CivicInfo.php',990],['lib/google/src/Google/Service','Books.php',3313],['lib/google/src/Google/Service','Books.php',3413],['lib/google/src/Google/Service','Books.php',3689],['lib/google/src/Google/Service','Books.php',4275],['lib/google/src/Google/Service','Books.php',4595],['lib/google/src/Google/Service','Books.php',5083],['lib/google/src/Google/Service','Books.php',5211],['lib/google/src/Google/Service','Books.php',5411],['lib/google/src/Google/Service','Books.php',6730],['lib/google/src/Google/Service','Analytics.php',9141],['lib/google/src/Google/Service','Coordinate.php',1216],['lib/google/src/Google/Service','DoubleClickBidManager.php',678],['lib/google/src/Google/Service','Blogger.php',2443],['lib/google/src/Google/Service','Blogger.php',2808],['lib/google/src/Google/Service','Pagespeedonline.php',509],['lib/google/src/Google/Service','Customsearch.php',303],['lib/google/src/Google/Service','Customsearch.php',404],['lib/google/src/Google/Service','Customsearch.php',440],['lib/google/src/Google/Service','Customsearch.php',816],['lib/google/src/Google/Service','Customsearch.php',970],['lib/google/src/Google/Service','ShoppingContent.php',2911],['lib/google/src/Google/Service','ShoppingContent.php',5554],['lib/google/src/Google/Service','ShoppingContent.php',7792],['lib/google/src/Google/Service','ShoppingContent.php',8200],['lib/google/src/Google/Service','ShoppingContent.php',9085],['lib/google/src/Google/Service','Games.php',4547],['lib/google/src/Google/Service','Games.php',6651],['lib/phpexcel/PHPExcel','Worksheet.php',799],['lib/google/src/Google/Service','Appsactivity.php',369],['lib/google/src/Google/Service','Drive.php',4536],['lib/google/src/Google/Service','Directory.php',6811],['lib/google/src/Google/Service','AdSenseHost.php',1515],['lib/google/src/Google/Service','Plus.php',819],['lib/google/src/Google/Service','Plus.php',1096],['lib/google/src/Google/Service','Plus.php',1725],['lib/google/src/Google/Service','Plus.php',2045],['lib/google/src/Google/Service','Plus.php',2799],['lib/google/src/Google/Service','Plus.php',2872],['lib/google/src/Google/Service','Plus.php',3486],['lib/google/src/Google/Service','Mirror.php',1831],['lib/google/src/Google/Service','AndroidEnterprise.php',2056],['lib/google/src/Google/Service','AndroidEnterprise.php',2874],['lib/google/src/Google/Service','Calendar.php',3031],['lib/google/src/Google/Service','Calendar.php',3306],['lib/google/src/Google/Service','Calendar.php',3442],['lib/google/src/Google/Service','PlusDomains.php',1110],['lib/google/src/Google/Service','PlusDomains.php',1387],['lib/google/src/Google/Service','PlusDomains.php',2106],['lib/google/src/Google/Service','PlusDomains.php',2361],['lib/google/src/Google/Service','PlusDomains.php',2706],['lib/google/src/Google/Service','PlusDomains.php',3110],['lib/google/src/Google/Service','PlusDomains.php',3679],['lib/google/src/Google/Service','YouTube.php',5229],['lib/google/src/Google/Service','YouTube.php',6058],['lib/google/src/Google/Service','YouTube.php',6236],['lib/google/src/Google/Service','YouTube.php',6304],['lib/google/src/Google/Service','YouTube.php',6467],['lib/google/src/Google/Service','YouTube.php',6556],['lib/google/src/Google/Service','YouTube.php',7958],['lib/google/src/Google/Service','YouTube.php',9013],['lib/google/src/Google/Service','YouTube.php',9492],['lib/google/src/Google/Service','YouTube.php',10039],['lib/google/src/Google/Service','YouTube.php',10175],['lib/google/src/Google/Service','YouTube.php',10288],['lib/google/src/Google/Service','YouTube.php',10676],['lib/google/src/Google/Service','YouTube.php',10942],['lib/google/src/Google/Service','YouTube.php',10987],['lib/google/src/Google/Service','YouTube.php',11749],['lib/google/src/Google/Service','YouTube.php',12357],['lib/google/src/Google/Service','YouTube.php',12711],['admin/tool/xmldb/actions','XMLDBAction.class.php',112],['lib/google/src/Google/Service','Dfareporting.php',14108],['lib/google/src/Google/Service','Dfareporting.php',16970],['lib/google/src/Google/Service','Dfareporting.php',18128],['lib/google/src/Google/Service','Dfareporting.php',20317]], 79],
'hsl2hwb': ['hsl2hwb', '', [['lib/amd/src','chartjs-lazy.js',985]], 0],
'keyword2hsv': ['keyword2hsv', '', [['lib/amd/src','chartjs-lazy.js',1254]], 0],
'register': ['register', 'Registers a variable into the context. ', [['lib/htmlpurifier/HTMLPurifier','Context.php',19],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',70],['lib/simplepie/library/SimplePie','Cache.php',106],['lib/phpexcel/PHPExcel','Autoloader.php',40],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',48],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16599],['lib/simplepie/library/SimplePie','Registry.php',106],['lib/lessphp','Autoloader.php',25],['lib/phpexcel/PHPExcel/Shared','ZipStreamWrapper.php',58],['lib/google/src/Google/Service','Clouddebugger.php',246],['lib/minify/lib/Minify','Loader.php',23],['webservice/soap/classes','wsdl.php',161],['lib/google/src/Google/Service','Spectrum.php',164],['lib/google/src/Google/Service','Proximitybeacon.php',424],['lib/spout/src/Spout/Autoloader','Psr4Autoloader.php',21],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',18],['lib/mustache/src/Mustache','Autoloader.php',39]], 317],
'hsv2hwb': ['hsv2hwb', '', [['lib/amd/src','chartjs-lazy.js',1040]], 0],
'removechild': ['removechild', '', [['lib/yuilib/2in3/2.9.0/build/yui2-button','yui2-button.js',2602],['lib/yuilib/2in3/2.9.0/build/yui2-button','yui2-button-debug.js',2625]], 642],
'rgb2xyz': ['rgb2xyz', '', [['lib/amd/src','chartjs-lazy.js',885]], 2],
'scale': ['scale', '', [['lib/amd/src','chartjs-lazy.js',229],['lib/tcpdf','tcpdf.php',11013],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',283]], 36],
'keyword2cmyk': ['keyword2cmyk', '', [['lib/amd/src','chartjs-lazy.js',1262]], 0],
'gethsl': ['gethsl', '', [['lib/amd/src','chartjs-lazy.js',142]], 0],
'warn': ['warn', 'Log object with label to firebug console ', [['lib/minify/lib','FirePHP.php',403],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',141],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',161],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',141],['lib/editor/tinymce/plugins/spellchecker/includes','general.php',84],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',141]], 29],
'where': ['where', '', [['question/engine','datalib.php',1883],['question/engine','datalib.php',1965],['mod/glossary/classes','entry_query_builder.php',448],['question/classes/bank/search','hidden_condition.php',53],['question/classes/bank/search','category_condition.php',96]], 64],
'fitbox': ['fitbox', '', [['lib/amd/src','chartjs-lazy.js',5821]], 0],
'filter': ['filter', 'Template method for removing certain tokens based on arbitrary criteria. ', [['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Nmtokens.php',55],['lib/htmlpurifier/HTMLPurifier/URIFilter','HostBlacklist.php',35],['filter/emoticon','filter.php',35],['filter/multilang','filter.php',43],['filter/algebra','filter.php',92],['lib/htmlpurifier/HTMLPurifier/URIFilter','DisableExternal.php',33],['lib/horde/framework/Horde/Stream/Filter','Null.php',56],['lib/horde/framework/Horde','Variables.php',315],['lib/horde/framework/Horde/Stream/Filter','Crc32.php',41],['filter/emailprotect','filter.php',34],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Class.php',31],['repository','lib.php',2099],['grade/report/singleview/classes/local/screen','filterable_items.php',38],['lib/horde/framework/Horde/Stream/Filter','Bin2hex.php',25],['filter/activitynames','filter.php',39],['lib/htmlpurifier/HTMLPurifier/URIFilter','DisableExternalResources.php',16],['filter/glossary','filter.php',53],['lib/horde/framework/Horde/Imap/Client/Data/Format/Filter','Quote.php',28],['lib/horde/framework/Horde/Imap/Client/Data/Format/Filter','String.php',42],['filter/tex','filter.php',115],['filter/tidy','filter.php',41],['lib/htmlpurifier/HTMLPurifier/URIFilter','SafeIframe.php',45],['lib/htmlpurifier/HTMLPurifier/URIFilter','DisableResources.php',16],['filter/censor','filter.php',55],['filter/data','filter.php',34],['filter/mathjaxloader','filter.php',133],['lib/horde/framework/Horde/Stream/Filter','Eol.php',85],['filter/urltolink','filter.php',39],['lib/phpexcel/PHPExcel/Calculation','Database.php',70],['filter/mediaplugin','filter.php',50],['grade/report/singleview/classes/local/screen','grade.php',65],['lib/htmlpurifier/HTMLPurifier/URIFilter','Munge.php',62],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',92],['lib/htmlpurifier/HTMLPurifier/URIFilter','MakeAbsolute.php',52],['lib/horde/framework/Horde/Stream/Filter','Htmlspecialchars.php',30]], 280],
'push': ['push', 'Push a new timer start on the stack. ', [['lib/horde/framework/Horde/Support','Timer.php',33],['lib/horde/framework/Horde/Support','Memory.php',44],['lib/evalmath','evalmath.class.php',462],['lib/horde/framework/Horde/Support','Stack.php',23],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',47],['lib/mustache/src/Mustache','Context.php',32],['lib','outputlib.php',2046],['lib/htmlpurifier/HTMLPurifier','Queue.php',43],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',54]], 4478],
'title': ['title', 'Sets the title for this node and forces Moodle to utilise it. ', [['lib','navigationlib.php',488],['admin/tool/health','index.php',142],['admin/tool/health','index.php',157],['admin/tool/health','index.php',181],['admin/tool/health','index.php',205],['admin/tool/health','index.php',226],['admin/tool/health','index.php',245],['admin/tool/health','index.php',264],['admin/tool/health','index.php',310],['admin/tool/health','index.php',331],['admin/tool/health','index.php',417],['admin/tool/health','index.php',441],['admin/tool/health','index.php',478],['admin/tool/health','index.php',503],['admin/tool/health','index.php',551],['admin/tool/health','index.php',596],['admin/tool/health','index.php',673],['admin/tool/health','index.php',774]], 11],
'hsv2rgb': ['hsv2rgb', '', [['lib/amd/src','chartjs-lazy.js',998]], 12],
'translate': ['translate', 'Translate graphic object horizontally and vertically. ', [['lib/tcpdf','tcpdf.php',11119]], 140],
'isconstrainedvalue': ['isconstrainedvalue', 'Returns if the given value contains an effective constraint. ', [['lib/amd/src','chartjs-lazy.js',5292]], 2],
'converter': ['converter', '', [['lib/html2text','Html2Text.php',355]], 13],
'finalfitverticalbox': ['finalfitverticalbox', '', [['lib/amd/src','chartjs-lazy.js',5856]], 0],
'parsetime': ['parsetime', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/autosave','editor_plugin_src.js',77]], 12],
'xyz2lab': ['xyz2lab', '', [['lib/amd/src','chartjs-lazy.js',1161]], 1],
'hwb2keyword': ['hwb2keyword', '', [['lib/amd/src','chartjs-lazy.js',1100]], 0],
'getminimumboxsize': ['getminimumboxsize', '', [['lib/amd/src','chartjs-lazy.js',5778]], 0],
'keyword2rgb': ['keyword2rgb', '', [['lib/amd/src','chartjs-lazy.js',1246]], 6],
'lab2lch': ['lab2lch', '', [['lib/amd/src','chartjs-lazy.js',1207]], 2],
'e': ['e', '', [['lib/evalmath','evalmath.class.php',138],['lib/flowplayer','flowplayer-3.2.13.js',108],['lib/lessphp','Functions.php',477]], 880],
'idmatches': ['idmatches', '', [['lib/amd/src','chartjs-lazy.js',8931],['lib/amd/src','chartjs-lazy.js',9246]], 4],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 1072],
'getrgba': ['getrgba', '', [['lib/amd/src','chartjs-lazy.js',45]], 4],
'xyz2rgb': ['xyz2rgb', '', [['lib/amd/src','chartjs-lazy.js',1134]], 1],
'rgb2keyword': ['rgb2keyword', '', [['lib/amd/src','chartjs-lazy.js',881]], 4],
'keyword2lab': ['keyword2lab', '', [['lib/amd/src','chartjs-lazy.js',1266]], 0],
'setattribute': ['setattribute', '', [['lib/google/src/Google/Service','AdExchangeBuyer.php',2531],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',254]], 1664],
'eventhandler': ['eventhandler', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',14959]], 6],
'lab2xyz': ['lab2xyz', '', [['lib/amd/src','chartjs-lazy.js',1186]], 2],
'removeevent': ['removeevent', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',4632]], 11],
'green': ['green', '', [['lib/lessphp','Functions.php',212]], 5],
'rgbastring': ['rgbastring', '', [['lib/amd/src','chartjs-lazy.js',173]], 9],
'getradius': ['getradius', '', [['lib/google/src/Google/Service','Plus.php',811],['lib/google/src/Google/Service','PlusDomains.php',1102]], 6],
'clear': ['clear', 'Clear HashTable ', [['lib/phpexcel/PHPExcel','HashTable.php',119],['lib/google/src/Google/Service','Tasks.php',413],['lib/phpunit/classes','phpmailer_sink.php',81],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',77],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',315],['lib','navigationlib.php',5178],['backup/cc/cc_lib/gral_lib','cssparser.php',42],['lib/horde/framework/Horde/Support','Array.php',106],['lib/phpunit/classes','event_sink.php',81],['lib/mustache/src/Mustache','HelperCollection.php',153],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',316],['lib/horde/framework/Horde/Imap/Client','Cache.php',250],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',103],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',308],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',74],['lib/google/src/Google/Service','Calendar.php',1253],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',120],['lib/phpunit/classes','message_sink.php',79],['lib/google/src/Google/Service','AppState.php',135],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',260]], 200],
'hslstring': ['hslstring', '', [['lib/amd/src','chartjs-lazy.js',199]], 2],
'i': ['i', '', [['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',186],['lib/flowplayer','flowplayer-3.2.13.js',703],['lib/flowplayer','flowplayer-3.2.13.js',846]], 449],
'createtooltipitem': ['createtooltipitem', '', [['lib/amd/src','chartjs-lazy.js',7693]], 1],
'format': ['format', 'Format the args for use in exception messages ', [['lib/lessphp/Tree/Mixin','Call.php',153],['question/format/xml','format.php',1535],['mod/wiki/diff','diff_nwiki.php',713]], 161],
'f': ['f', '', [['lib/yuilib/3.17.2/yui-core','yui-core.js',3037],['lib/yuilib/2in3/2.9.0/build/yui2-yuitest','yui2-yuitest-debug.js',2981],['lib/yuilib/3.17.2/yui-base','yui-base-debug.js',3284],['lib/yuilib/2in3/2.9.0/build/yui2-yuitest','yui2-yuitest.js',2981],['lib/yuilib/3.17.2/yui','yui.js',3037],['lib/yuilib/3.17.2/yui-nodejs','yui-nodejs-debug.js',3284],['lib/yuilib/3.17.2/yui-base','yui-base.js',3037],['lib/yuilib/3.17.2/yui','yui-debug.js',3284],['lib/yuilib/3.17.2/yui-nodejs','yui-nodejs.js',3037],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',171],['lib/yuilib/3.17.2/test','test.js',3061],['lib/flowplayer','flowplayer-3.2.13.js',112],['lib/yuilib/3.17.2/yui-core','yui-core-debug.js',3284],['lib/yuilib/3.17.2/test','test-debug.js',3061]], 483],
'getconstraintdimension': ['getconstraintdimension', '', [['lib/amd/src','chartjs-lazy.js',5305]], 2],
'gethwb': ['gethwb', '', [['lib/amd/src','chartjs-lazy.js',121]], 3],
'hwbstring': ['hwbstring', '', [['lib/amd/src','chartjs-lazy.js',216]], 2],
'getalpha': ['getalpha', '', [['lib/amd/src','chartjs-lazy.js',147],['lib/tcpdf','tcpdf.php',13924],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',241]], 2],
'createelement': ['createelement', 'Create an element, set its class name and optionally install the element to its parent. ', [['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel-debug.js',299],['theme/bootstrapbase/javascript','html5shiv.js',120],['lib/pear/HTML','QuickForm.php',533],['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel.js',298]], 1944],
'initialize': ['initialize', 'Initialize ', [['lib/pear/Net/GeoIP','DMA.php',60],['lib/classes','shutdown_manager.php',40],['lib/phpexcel/PHPExcel','CachedObjectStorageFactory.php',161],['question','category_class.php',207],['lib/typo3','class.t3lib_l10n_locales.php',147],['mod/scorm/datamodels','scorm_13.js',281]], 18],
'hsl2rgb': ['hsl2rgb', '', [['lib/amd/src','chartjs-lazy.js',928]], 3],
'findindex': ['findindex', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',9591]], 5],
'resize': ['resize', 'Resizes the managed instance group up or down. If resized up, new instances are created using the current instance template. If resized down, instances are removed in the order outlined in Resizing a managed instance group. (instanceGroupManagers.resize) ', [['lib/google/src/Google/Service','Replicapool.php',501],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/autoresize','editor_plugin_src.js',34],['lib/yuilib/3.17.2/resize-base','resize-base.js',172],['lib/yuilib/3.17.2/resize-base','resize-base-debug.js',172],['repository/flickr_public','image.php',114],['lib/google/src/Google/Service','Compute.php',5848]], 117],
'getfooter': ['getfooter', 'Get Footer ', [['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',197]], 3],
'tostring': ['tostring', 'Return the entire part in MIME format. ', [['lib/horde/framework/Horde/Mime','Part.php',1133],['lib/jabber/XMPP','XMLObj.php',108],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',27],['lib/lessphp/Tree','Unit.php',40],['lib/horde/framework/Horde/Mime','Headers.php',169],['lib/pear','PEAR.php',1029],['lib/htmlpurifier/HTMLPurifier','URI.php',213],['lib/lessphp','Output.php',40],['lib/htmlpurifier/HTMLPurifier','Length.php',95]], 602],
'extend': ['extend', 'Extend the lifetime of this lock. Not supported by all factories. ', [['lib/classes/lock','lock.php',81]], 1504],
'pushorconcat': ['pushorconcat', '', [['lib/amd/src','chartjs-lazy.js',7646]], 9],
'placebox': ['placebox', '', [['lib/amd/src','chartjs-lazy.js',5940]], 0],
'addelements': ['addelements', 'Extends the built-in list of html5 elements ', [['theme/bootstrapbase/javascript','html5shiv.js',85]], 2],
'a': ['a', '', [['lib/flowplayer','flowplayer-3.2.13.js',857]], 1186],
'isvalid': ['isvalid', 'Does a valid cache entry exist? ', [['lib/minify/lib/Minify/Cache','APC.php',65],['lib/minify/lib/Minify/Cache','File.php',57],['lib/minify/lib/Minify/Cache','ZendPlatform.php',68],['lib/minify/lib/Minify/Cache','Memcache.php',71],['lib/htmlpurifier/HTMLPurifier','Length.php',125],['lib/minify/lib/Minify/Cache','WinCache.php',65],['lib/minify/lib/Minify/Cache','XCache.php',62]], 25],
'hwb2hsl': ['hwb2hsl', '', [['lib/amd/src','chartjs-lazy.js',1088]], 0],
'rgb2lch': ['rgb2lch', '', [['lib/amd/src','chartjs-lazy.js',924]], 0],
'hwb2cmyk': ['hwb2cmyk', '', [['lib/amd/src','chartjs-lazy.js',1096]], 0],
'keyword2xyz': ['keyword2xyz', '', [['lib/amd/src','chartjs-lazy.js',1270]], 0],
'cornerat': ['cornerat', '', [['lib/amd/src','chartjs-lazy.js',2261],['lib/amd/src','chartjs-lazy.js',8741]], 4],
'chart': ['chart', 'The Chart class is the basic application used to create a chart. ', [['lib/yuilib/3.17.2/charts-base','charts-base-debug.js',5140],['lib/yuilib/3.17.2/charts-base','charts-base.js',5140],['mod/quiz','renderer.php',1236]], 10],
'red': ['red', '', [['lib/lessphp','Functions.php',204]], 5],
'xyz2lch': ['xyz2lch', '', [['lib/amd/src','chartjs-lazy.js',1182]], 0],
'mix': ['mix', '', [['lib/lessphp','Functions.php',401]], 934],
'controller': ['controller', '', [['lib/yuilib/3.17.2/datatable-paginator','datatable-paginator.js',438],['lib/yuilib/3.17.2/datatable-paginator','datatable-paginator-debug.js',438]], 4],
'restore': ['restore', 'Restores a Container Version. This will overwrite the container\'s current configuration (including its variables, triggers and tags). The operation will not have any effect on the version that is being served (i.e. the published version). (versions.restore) ', [['lib/google/src/Google/Service','TagManager.php',1615],['lib/lessphp','Parser.php',658],['lib/classes/event','base.php',333],['lib','coursecatlib.php',313]], 55],
'animation': ['animation', '', [['lib/jquery/ui-1.11.4/external/jquery','jquery.js',8892],['lib/jquery','jquery-3.1.0.js',6897]], 3],
'error': ['error', '', [['lib','deprecatedlib.php',863],['lib/minify/lib','FirePHP.php',416],['question','format.php',218],['lib/simplepie/library','SimplePie.php',1554],['lib/adodb','adodb-active-record.inc.php',546],['auth/cas/CAS','CAS.php',535],['lib/tcpdf','tcpdf.php',2915],['lib/lessphp/Tree','DefaultFunc.php',27],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',166],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',10815],['admin/tool/uploadcourse/classes','course.php',238],['lib/yuilib/3.17.2/cookie','cookie.js',34],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',124],['lib/htmlpurifier/HTMLPurifier','VarParser.php',143],['mod/lesson','format.php',364],['lib/tcpdf','tcpdf_parser.php',797],['lib/adodb','adodb-active-recordx.inc.php',575],['lib/yuilib/3.17.2/cookie','cookie-debug.js',34],['lib/tcpdf/include','tcpdf_filters.php',467],['lib/mustache/src/Mustache/Logger','AbstractLogger.php',61],['lib/lessphp','Parser.php',2615],['lib/horde/framework/Horde/Imap/Client','DateTime.php',69],['lib/simplepie/library/SimplePie','Misc.php',154],['lib/google/src/Google/Logger','Abstract.php',200],['lib/classes','notification.php',160],['lib/mustache/src/Mustache','Logger.php',72],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',224]], 936],
'diff': ['diff', 'Computes the difference to another rights string. Virtual rights are ignored. ', [['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',53],['mod/wiki','renderer.php',74],['mod/wiki/diff','diff_nwiki.php',109]], 26],
'clone': ['clone', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',11]], 370],
'tooltip': ['tooltip', 'A base class for a tooltip. ', [['lib/yui/build/moodle-core-tooltip','moodle-core-tooltip-debug.js',9],['lib/yui/build/moodle-core-tooltip','moodle-core-tooltip.js',9],['lib/yui/src/tooltip/js','tooltip.js',7]], 9],
'render': ['render', 'Renders this element ', [['lib/classes/output','inplace_editable.php',238],['lib/adodb','adodb-pager.inc.php',241],['lib/phpexcel/PHPExcel','Chart.php',656],['lib','formslib.php',948],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullscreen','fullscreen.htm',82],['lib','outputrenderers.php',170],['lib','outputrenderers.php',302],['question/behaviour','behaviourbase.php',97],['lib/htmlpurifier/HTMLPurifier/Printer','HTMLDefinition.php',15],['lib/htmlpurifier/HTMLPurifier/Printer','CSSDefinition.php',14],['filter/tex','latex.php',88],['lib','portfoliolib.php',241],['mod/quiz/classes/question/bank','custom_view.php',133],['lib/mustache/src/Mustache','Engine.php',204],['question/engine/tests','helpers.php',797],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',85],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',235],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',298],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',391],['lib/mustache/src/Mustache','Template.php',57],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',790],['question/engine','questionattempt.php',814],['lib/mustache/src/Mustache','LambdaHelper.php',39]], 942],
'rgb2cmyk': ['rgb2cmyk', '', [['lib/amd/src','chartjs-lazy.js',868]], 4],
'add': ['add', 'Add HashTable item ', [['lib/phpexcel/PHPExcel','HashTable.php',78],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',95],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',109],['lib/google/src/Google/Http','Batch.php',52],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',37],['lib','csslib.php',1508],['lib/horde/framework/Horde/Mail/Rfc822','List.php',116],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',33],['lib/horde/framework/Horde/Support','ConsistentHash.php',148],['lib/horde/framework/Horde','Variables.php',297],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',29],['lib','outputcomponents.php',2705],['lib','outputcomponents.php',3380],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',436],['lib','adminlib.php',735],['lib','adminlib.php',894],['lib','adminlib.php',1446],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',27],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3450],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',80],['lib/google/src/Google/Service','Webmasters.php',436],['lib','navigationlib.php',304],['lib','navigationlib.php',761],['lib','navigationlib.php',3305],['lib','navigationlib.php',3583],['lib/horde/framework/Horde/Imap/Client','Ids.php',155],['backup/cc/cc_lib/gral_lib','cssparser.php',121],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',428],['lib/horde/framework/Horde','Stream.php',116],['comment','lib.php',679],['lib/mustache/src/Mustache','HelperCollection.php',56],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',207],['backup/cc/cc_lib','cc_utils.php',395],['backup/cc/cc_lib','cc_utils.php',454],['lib/lessphp/Output','Mapped.php',50],['lib','licenselib.php',32],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',50],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',74],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',14],['lib/horde/framework/Horde/Mail/Rfc822','GroupList.php',25],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',31],['tag/classes','tag.php',152],['blog','locallib.php',242],['lib/classes','notification.php',50],['lib/lessphp','Output.php',18],['tag/classes/output','tagfeed.php',61],['backup/cc','validator.php',51],['lib/horde/framework/Horde/Stream','TempString.php',118],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',11]], 6188],
'callback': ['callback', 'Catch the request token. ', [['repository/boxnet','lib.php',304],['repository/dropbox','lib.php',148],['repository','lib.php',2341],['repository/googledocs','lib.php',113],['filter/mediaplugin','filter.php',120]], 86],
'reverse': ['reverse', 'Reverses the order of the IDs. ', [['lib/horde/framework/Horde/Imap/Client','Ids.php',213],['mod/wiki/diff','diff_nwiki.php',19],['mod/wiki/diff','diff_nwiki.php',42],['mod/wiki/diff','diff_nwiki.php',55],['mod/wiki/diff','diff_nwiki.php',68],['mod/wiki/diff','diff_nwiki.php',81],['mod/wiki/diff','diff_nwiki.php',519]], 90],
'hwb2rgb': ['hwb2rgb', '', [['lib/amd/src','chartjs-lazy.js',1053]], 4],
'rgb2hwb': ['rgb2hwb', '', [['lib/amd/src','chartjs-lazy.js',857]], 4],
'splice': ['splice', 'Splice in multiple elements at hole.  Functional specification in terms of array_splice: ', [['lib/htmlpurifier/HTMLPurifier','Zipper.php',122]], 553],
'match': ['match', '', [['lib/lessphp/Tree','Selector.php',67],['lib/minify/lib','JSMinPlus.php',1780],['lib/phpexcel/PHPExcel/Calculation','LookupRef.php',489],['lib/horde/framework/Horde/Mail/Rfc822','List.php',244],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',121],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17319],['lib/lessphp','Parser.php',671],['lib','lexer.php',79],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',181]], 940],
'percentastring': ['percentastring', '', [['lib/amd/src','chartjs-lazy.js',192]], 1],
'blue': ['blue', '', [['lib/lessphp','Functions.php',220]], 5],
'update': ['update', 'In addition to update() as defined in grade_object, handle the grade_outcome and grade_scale objects. Force regrading if necessary, rounds the float numbers using php function, the reason is we need to compare the db value with computed number to skip regrading if possible. ', [['lib/grade','grade_item.php',274],['lib/google/src/Google/Service','Tasks.php',386],['lib/google/src/Google/Service','Tasks.php',556],['lib/google/src/Google/Service','AndroidPublisher.php',1413],['lib/google/src/Google/Service','AndroidPublisher.php',1545],['lib/google/src/Google/Service','AndroidPublisher.php',1615],['lib/google/src/Google/Service','AndroidPublisher.php',1853],['lib/google/src/Google/Service','AndroidPublisher.php',1919],['lib/google/src/Google/Service','AndroidPublisher.php',2003],['lib/google/src/Google/Service','AndroidPublisher.php',2177],['lib/google/src/Google/Service','Reseller.php',344],['lib/grade','grade_category.php',226],['lib/grade','grade_scale.php',125],['lib/adodb','adodb-active-record.inc.php',1004],['lib/grade','grade_object.php',238],['lib/google/src/Google/Service','YouTubeAnalytics.php',534],['completion','data_object.php',252],['mod/lesson/pagetypes','matching.php',308],['tag/classes','collection.php',215],['lib/google/src/Google/Service','AdExchangeBuyer.php',802],['lib/google/src/Google/Service','AdExchangeBuyer.php',906],['lib/google/src/Google/Service','AdExchangeBuyer.php',1013],['lib/google/src/Google/Service','AdExchangeBuyer.php',1181],['lib/google/src/Google/Service','AdExchangeBuyer.php',1357],['lib/google/src/Google/Service','AdExchangeBuyer.php',1640],['lib/google/src/Google/Service','Books.php',2025],['lib/grade','grade_grade.php',1009],['lib/grade','grade_outcome.php',144],['lib/google/src/Google/Service','Analytics.php',2215],['lib/google/src/Google/Service','Analytics.php',2388],['lib/google/src/Google/Service','Analytics.php',2501],['lib/google/src/Google/Service','Analytics.php',2626],['lib/google/src/Google/Service','Analytics.php',2736],['lib/google/src/Google/Service','Analytics.php',2843],['lib/google/src/Google/Service','Analytics.php',2971],['lib/google/src/Google/Service','Analytics.php',3062],['lib/google/src/Google/Service','Analytics.php',3185],['lib/google/src/Google/Service','Analytics.php',3502],['lib/google/src/Google/Service','Analytics.php',3604],['lib/google/src/Google/Service','Analytics.php',3686],['lib/google/src/Google/Service','Coordinate.php',611],['lib/google/src/Google/Service','Coordinate.php',727],['lib/google/src/Google/Service','DeploymentManager.php',589],['tag/classes/output','tagareacollection.php',68],['lib','weblib.php',3312],['lib/google/src/Google/Service','Blogger.php',1349],['lib/google/src/Google/Service','Blogger.php',1647],['lib/google/src/Google/Service','Dataflow.php',350],['tag/classes/output','tagcollname.php',58],['competency/classes','persistent.php',452],['lib/google/src/Google/Service','Cloudresourcemanager.php',344],['lib/google/src/Google/Service','Cloudresourcemanager.php',555],['lib/google/src/Google/Service','TagManager.php',977],['lib/google/src/Google/Service','TagManager.php',1066],['lib/google/src/Google/Service','TagManager.php',1159],['lib/google/src/Google/Service','TagManager.php',1219],['lib/google/src/Google/Service','TagManager.php',1311],['lib/google/src/Google/Service','TagManager.php',1405],['lib/google/src/Google/Service','TagManager.php',1499],['lib/google/src/Google/Service','TagManager.php',1650],['lib/google/src/Google/Service','TagManager.php',1743],['mod/lesson','locallib.php',2691],['lib/google/src/Google/Service','Bigquery.php',621],['lib/google/src/Google/Service','Bigquery.php',953],['lib/google/src/Google/Service','ShoppingContent.php',1136],['lib/google/src/Google/Service','ShoppingContent.php',1238],['lib/google/src/Google/Service','ShoppingContent.php',1401],['lib/google/src/Google/Service','ShoppingContent.php',1534],['mod/lesson/pagetypes','truefalse.php',163],['lib/google/src/Google/Service','Clouddebugger.php',307],['lib/filestorage','stored_file.php',103],['lib/google/src/Google/Service','Container.php',366],['lib/horde/framework/Horde/Support','Array.php',70],['lib/google/src/Google/Service','Storage.php',1127],['lib/google/src/Google/Service','Storage.php',1268],['lib/google/src/Google/Service','Storage.php',1423],['lib/google/src/Google/Service','Storage.php',1564],['lib/google/src/Google/Service','Storage.php',1904],['tag/classes/output','tagname.php',56],['tag/classes/output','tagcollsearchable.php',72],['lib/google/src/Google/Service','Games.php',1508],['lib/google/src/Google/Service','Licensing.php',335],['lib/google/src/Google/Service','Fitness.php',478],['lib/google/src/Google/Service','Fitness.php',691],['lib/google/src/Google/Service','Gmail.php',833],['lib/google/src/Google/Service','Gmail.php',986],['lib/google/src/Google/Service','Taskqueue.php',398],['lib/adodb','adodb-active-recordx.inc.php',1136],['grade/grading/form','lib.php',905],['lib/google/src/Google/Service','Doubleclicksearch.php',326],['lib/google/src/Google/Service','Autoscaler.php',400],['tag/classes/output','tagisstandard.php',70],['lib/google/src/Google/Service','Prediction.php',339],['lib/google/src/Google/Service','SiteVerification.php',227],['lib/google/src/Google/Service','Drive.php',1691],['lib/google/src/Google/Service','Drive.php',1961],['lib/google/src/Google/Service','Drive.php',2208],['lib/google/src/Google/Service','Drive.php',2320],['lib/google/src/Google/Service','Drive.php',2370],['lib/google/src/Google/Service','Drive.php',2494],['lib/google/src/Google/Service','Drive.php',2582],['tag/classes/output','tagflag.php',71],['lib/google/src/Google/Service','Proximitybeacon.php',440],['lib/google/src/Google/Service','Groupssettings.php',138],['lib/google/src/Google/Service','Directory.php',1829],['lib/google/src/Google/Service','Directory.php',1889],['lib/google/src/Google/Service','Directory.php',2141],['lib/google/src/Google/Service','Directory.php',2306],['lib/google/src/Google/Service','Directory.php',2489],['lib/google/src/Google/Service','Directory.php',2597],['lib/google/src/Google/Service','Directory.php',2808],['lib/google/src/Google/Service','Directory.php',2910],['lib/google/src/Google/Service','Directory.php',3131],['lib/google/src/Google/Service','Directory.php',3317],['lib/google/src/Google/Service','Fusiontables.php',727],['lib/google/src/Google/Service','Fusiontables.php',892],['lib/google/src/Google/Service','Fusiontables.php',1094],['lib/google/src/Google/Service','Fusiontables.php',1269],['lib/google/src/Google/Service','AdSenseHost.php',846],['lib/google/src/Google/Service','AdSenseHost.php',1097],['course/classes/output','course_module_name.php',81],['lib/google/src/Google/Service','Mirror.php',496],['lib/google/src/Google/Service','Mirror.php',634],['lib/google/src/Google/Service','Mirror.php',745],['tag/classes','area.php',226],['lib/google/src/Google/Service','AndroidEnterprise.php',1064],['lib/google/src/Google/Service','AndroidEnterprise.php',1165],['lib/google/src/Google/Service','AndroidEnterprise.php',1489],['lib/google/src/Google/Service','AndroidEnterprise.php',1672],['grade/grading/form/rubric','lib.php',828],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',200],['mod/lesson/pagetypes','essay.php',158],['lib','coursecatlib.php',438],['tag/classes','tag.php',893],['lib/google/src/Google/Service','Calendar.php',1006],['lib/google/src/Google/Service','Calendar.php',1181],['lib/google/src/Google/Service','Calendar.php',1333],['lib/google/src/Google/Service','Calendar.php',1714],['lib/google/src/Google/Service','PlusDomains.php',692],['lib/google/src/Google/Service','GamesConfiguration.php',334],['lib/google/src/Google/Service','GamesConfiguration.php',473],['mod/lesson/pagetypes','branchtable.php',262],['tag/classes/output','tagareashowstandard.php',64],['lib/google/src/Google/Service','AppState.php',202],['calendar','lib.php',2206],['tag/classes/output','tagareaenabled.php',69],['cohort/classes/output','cohortidnumber.php',53],['lib/google/src/Google/Service','Classroom.php',564],['cohort/classes/output','cohortname.php',53],['lib/google/src/Google/Service','SQLAdmin.php',947],['lib/google/src/Google/Service','SQLAdmin.php',1267],['lib/google/src/Google/Service','SQLAdmin.php',1534],['grade/grading/form/guide','lib.php',836],['lib/google/src/Google/Service','Compute.php',4253],['lib/google/src/Google/Service','Compute.php',4398],['lib/google/src/Google/Service','Compute.php',4767],['lib/google/src/Google/Service','Compute.php',5348],['lib/google/src/Google/Service','Compute.php',5478],['lib/google/src/Google/Service','Compute.php',8131],['lib/google/src/Google/Service','YouTube.php',1959],['lib/google/src/Google/Service','YouTube.php',2194],['lib/google/src/Google/Service','YouTube.php',2303],['lib/google/src/Google/Service','YouTube.php',2429],['lib/google/src/Google/Service','YouTube.php',2570],['lib/google/src/Google/Service','YouTube.php',3111],['lib/google/src/Google/Service','YouTube.php',3348],['lib/google/src/Google/Service','YouTube.php',3518],['lib/google/src/Google/Service','YouTube.php',3708],['lib/google/src/Google/Service','YouTube.php',4400],['lib/google/src/Google/Service','Dfareporting.php',4752],['lib/google/src/Google/Service','Dfareporting.php',4840],['lib/google/src/Google/Service','Dfareporting.php',4973],['lib/google/src/Google/Service','Dfareporting.php',5090],['lib/google/src/Google/Service','Dfareporting.php',5204],['lib/google/src/Google/Service','Dfareporting.php',5400],['lib/google/src/Google/Service','Dfareporting.php',5656],['lib/google/src/Google/Service','Dfareporting.php',5848],['lib/google/src/Google/Service','Dfareporting.php',5970],['lib/google/src/Google/Service','Dfareporting.php',6078],['lib/google/src/Google/Service','Dfareporting.php',6196],['lib/google/src/Google/Service','Dfareporting.php',6502],['lib/google/src/Google/Service','Dfareporting.php',6704],['lib/google/src/Google/Service','Dfareporting.php',6834],['lib/google/src/Google/Service','Dfareporting.php',6912],['lib/google/src/Google/Service','Dfareporting.php',7077],['lib/google/src/Google/Service','Dfareporting.php',7476],['lib/google/src/Google/Service','Dfareporting.php',7594],['lib/google/src/Google/Service','Dfareporting.php',7744],['lib/google/src/Google/Service','Dfareporting.php',7968],['lib/google/src/Google/Service','Dfareporting.php',8075],['lib/google/src/Google/Service','Dfareporting.php',8202],['lib/google/src/Google/Service','Dfareporting.php',8394],['lib/google/src/Google/Service','Dfareporting.php',8557],['lib/google/src/Google/Service','Dfareporting.php',8861],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',72]], 498],
'loopbacktostart': ['loopbacktostart', '', [['lib/amd/src','chartjs-lazy.js',8422]], 2],
'parsemaxstyle': ['parsemaxstyle', '', [['lib/amd/src','chartjs-lazy.js',5276]], 2],
'rgb2hsl': ['rgb2hsl', '', [['lib/amd/src','chartjs-lazy.js',789]], 4],
'setchannel': ['setchannel', '', [['lib/google/src/Google/Service','ShoppingContent.php',5454],['lib/google/src/Google/Service','ShoppingContent.php',7348],['lib/google/src/Google/Service','ShoppingContent.php',9001],['lib/google/src/Google/Service','Doubleclicksearch.php',607],['lib/google/src/Google/Service','YouTube.php',5743]], 28],
'hsla': ['hsla', '', [['lib/lessphp','Functions.php',87]], 73],
'rgbstring': ['rgbstring', '', [['lib/amd/src','chartjs-lazy.js',166]], 15],
'hasownproperty': ['hasownproperty', '', [['lib/lessphp','Colors.php',161]], 1772],
'gethsla': ['gethsla', '', [['lib/amd/src','chartjs-lazy.js',105]], 4],
'keyword': ['keyword', '', [['lib/amd/src','chartjs-lazy.js',224]], 5],
'setspace': ['setspace', '', [['lib/google/src/Google/Service','Drive.php',5052]], 10],
'getrgb': ['getrgb', '', [['lib/amd/src','chartjs-lazy.js',137],['lib/phpexcel/PHPExcel/Style','Color.php',204]], 7],
'alpha': ['alpha', '', [['lib/lessphp','Functions.php',228]], 690],
'getvalues': ['getvalues', '', [['lib/google/src/Google/Service','Partners.php',897],['lib/google/src/Google/Service','CloudUserAccounts.php',1165],['lib/horde/framework/Horde/Support','Array.php',96],['lib/google/src/Google/Service','Doubleclicksearch.php',1292],['lib/google/src/Google/Service','Prediction.php',522],['lib/google/src/Google/Service','Mirror.php',1311]], 8],
'lch2lab': ['lch2lab', '', [['lib/amd/src','chartjs-lazy.js',1226]], 2],
'getdataset': ['getdataset', '', [['lib/google/src/Google/Service','Dataflow.php',783],['lib/google/src/Google/Service','Fitness.php',742]], 44],
'lab2rgb': ['lab2rgb', '', [['lib/amd/src','chartjs-lazy.js',1222]], 1],
'uid': ['uid', 'Return the unique ID of the message. ', [['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',232]], 5],
'getcontext': ['getcontext', '', [['lib/google/src/Google/Service','Dataflow.php',1475],['lib/google/src/Google/Service','Customsearch.php',1117],['lib/horde/framework/Horde/Support','Backtrace.php',85],['lib/google/src/Google/Service','Drive.php',3753],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',55],['lib/google/src/Google/Service','IdentityToolkit.php',537],['lib/google/src/Google/Service','IdentityToolkit.php',1500],['lib/google/src/Google/Service','YouTube.php',5895],['lib/google/src/Google/Service','YouTube.php',11877]], 113],
'hsv2hsl': ['hsv2hsl', '', [['lib/amd/src','chartjs-lazy.js',1026]], 0],
'saturate': ['saturate', '', [['lib/lessphp','Functions.php',258]], 1],
'call': ['call', 'TODO: This function needs simplifying. ', [['lib/google/src/Google/Service','Resource.php',74],['webservice/xmlrpc','lib.php',63],['webservice/xmlrpc/tests','lib_test.php',117],['lib/simplepie/library/SimplePie','Registry.php',194],['lib','flickrlib.php',254],['webservice/soap','lib.php',67],['lib/markdown','Readme.md',68],['webservice/rest','lib.php',69]], 5324],
'concat': ['concat', 'concat ', [['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',1082],['lib/adodb/drivers','adodb-pdo.inc.php',205],['lib/adodb/drivers','adodb-mssql.inc.php',670],['lib/adodb/drivers','adodb-mysql.inc.php',434],['lib/adodb/drivers','adodb-mssqlnative.inc.php',520],['lib/adodb/drivers','adodb-pdo_mysql.inc.php',49],['lib/adodb','adodb.inc.php',2681],['lib/adodb/drivers','adodb-fbsql.inc.php',56],['lib/adodb/drivers','adodb-mysqli.inc.php',467]], 1012],
'setvalues': ['setvalues', 'Sets the values used by the hidden element ', [['lib/pear/HTML/QuickForm','advcheckbox.php',137],['lib/google/src/Google/Service','Partners.php',893],['lib/google/src/Google/Service','CloudUserAccounts.php',1161],['lib/google/src/Google/Service','Doubleclicksearch.php',1288],['lib/google/src/Google/Service','Prediction.php',518],['lib/google/src/Google/Service','Mirror.php',1307]], 47],
'hexdouble': ['hexdouble', '', [['lib/amd/src','chartjs-lazy.js',233]], 3],
'getstyle': ['getstyle', 'Get Style ', [['lib/phpexcel/PHPExcel/Style','Conditional.php',240],['lib/google/src/Google/Service','MapsEngine.php',4388],['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel-debug.js',341],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17496],['lib/phpexcel/PHPExcel','Cell.php',534],['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel.js',340],['lib/phpexcel/PHPExcel','Worksheet.php',1396],['lib/editor/tinymce/tiny_mce/3.5.11/utils','form_utils.js',200],['lib/google/src/Google/Service','YouTube.php',6296]], 841],
'isarray': ['isarray', '', [['lib/requirejs','require.js',47]], 856],
'rgba': ['rgba', '', [['lib/lessphp','Functions.php',75]], 1189],
'lch2xyz': ['lch2xyz', '', [['lib/amd/src','chartjs-lazy.js',1238]], 0],
'apply': ['apply', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16662]], 2690],
'hslastring': ['hslastring', '', [['lib/amd/src','chartjs-lazy.js',206]], 3],
'cmyk2hsv': ['cmyk2hsv', '', [['lib/amd/src','chartjs-lazy.js',1121]], 0],
'tofixed': ['tofixed', 'Reformats the input string, where the string is \'format=flowed\' plain text as described in RFC 2646. ', [['lib/horde/framework/Horde/Text','Flowed.php',117]], 59],
'type': ['type', 'Fetches all nodes of a given type from this collection ', [['lib','navigationlib.php',903],['lib/phpexcel/PHPExcel/Calculation','Functions.php',573]], 132],
'save': ['save', 'Save PHPExcel to file ', [['lib/phpexcel/PHPExcel/Writer','CSV.php',89],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',48],['question/engine','datalib.php',1531],['lib/adodb','adodb-active-record.inc.php',834],['backup/cc/cc_lib','xmlbase.php',168],['lib/phpexcel/PHPExcel/Writer','HTML.php',139],['availability/condition/grouping/classes','condition.php',71],['availability/tests/fixtures','mock_condition.php',67],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',49],['lib/simplepie/library/SimplePie/Cache','File.php',97],['availability/condition/group/classes','condition.php',60],['completion','completion_aggregation.php',106],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',111],['lib','badgeslib.php',208],['lib/portfolio','exporter.php',638],['mod/assign/submission/file','locallib.php',189],['mod/assign/feedback/comments','locallib.php',323],['lib/phpexcel/PHPExcel/Writer','PDF.php',82],['lib/adodb','adodb-active-recordx.inc.php',943],['lib/simplepie/library/SimplePie/Cache','Base.php',79],['lib/simplepie/library/SimplePie/Cache','MySQL.php',147],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',48],['lib/phpexcel/PHPExcel/Writer','IWriter.php',30],['badges/criteria','award_criteria_overall.php',171],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',175],['availability/classes','tree.php',618],['mod/assign','assignmentplugin.php',190],['availability/condition/completion/classes','condition.php',72],['availability/condition/date/classes','condition.php',75],['lib/lessphp','Parser.php',654],['lib/simplepie/library/SimplePie/Cache','Memcache.php',108],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','Root.php',50],['availability/condition/profile/classes','condition.php',127],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',137],['mod/assign/submission/onlinetext','locallib.php',182],['mod/assign/feedback/file','locallib.php',257],['mod/assign/feedback/editpdf','locallib.php',252],['lib/phpexcel/PHPExcel/Writer','OpenDocument.php',83],['availability/condition/grade/classes','condition.php',77],['badges/criteria','award_criteria.php',354],['lib/portfolio','plugin.php',670],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',476],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',4783],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',270]], 212],
'percentstring': ['percentstring', '', [['lib/amd/src','chartjs-lazy.js',181]], 2],
'cmyk2hsl': ['cmyk2hsl', '', [['lib/amd/src','chartjs-lazy.js',1117]], 0],
'stop': ['stop', 'Stops an ongoing operation. This does not roll back any work that has already been completed, but prevents any new work from being started. (deployments.stop) ', [['lib/google/src/Google/Service','DeploymentManager.php',571],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',394],['backup/util/xml/output','xml_output.class.php',89],['backup/util/xml','xml_writer.class.php',101],['lib/google/src/Google/Service','Storage.php',1307],['lib/google/src/Google/Service','Reports.php',350],['lib/google/src/Google/Service','Gmail.php',704],['lib/google/src/Google/Service','Drive.php',1497],['lib/google/src/Google/Service','Directory.php',1741],['lib/google/src/Google/Service','Calendar.php',1362],['lib/google/src/Google/Service','Compute.php',6562]], 269],
'draw': ['draw', '', [['lib','graphlib.php',274]], 116],
'lineenabled': ['lineenabled', '', [['lib/amd/src','chartjs-lazy.js',2850]], 3],
'keyword2hsl': ['keyword2hsl', '', [['lib/amd/src','chartjs-lazy.js',1250]], 0],
'getbody': ['getbody', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',73],['lib/google/src/Google/Service','AdExchangeBuyer.php',2808],['lib/google/src/Google/Service','Books.php',5051],['lib/horde/framework/Horde','Domhtml.php',137],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',73],['lib/google/src/Google/Service','Gmail.php',1904],['lib/google/src/Google/Service','Directory.php',5091],['lib/google/src/Google/Service','Fusiontables.php',2403],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',73]], 194],
'contrast': ['contrast', '', [['lib/lessphp','Functions.php',438]], 2],
'getaverageposition': ['getaverageposition', '', [['lib/amd/src','chartjs-lazy.js',7659]], 1],
'insertbefore': ['insertbefore', 'Inserts a token before the current token. Cursor now points to this token.  You must reprocess after this. ', [['lib/htmlpurifier/HTMLPurifier/Strategy','MakeWellFormed.php',576],['lib/htmlpurifier/HTMLPurifier','Zipper.php',106]], 509],
'hsv2cmyk': ['hsv2cmyk', '', [['lib/amd/src','chartjs-lazy.js',1044]], 0],
'cmyk2keyword': ['cmyk2keyword', '', [['lib/amd/src','chartjs-lazy.js',1129]], 0],
'each': ['each', '', [], 2670],
'floor': ['floor', '', [], 514],
'round': ['round', '', [], 1002],
'log': ['log', '', [], 2031],
'ceil': ['ceil', '', [], 236],
'sin': ['sin', '', [], 197],
'reset': ['reset', '', [], 1213],
'log10': ['log10', '', [], 36],
'pow': ['pow', '', [], 295],
'min': ['min', '', [], 898],
'define': ['define', '', [], 2373],
'max': ['max', '', [], 1266],
'atan2': ['atan2', '', [], 21],
'sort': ['sort', '', [], 241],
'cos': ['cos', '', [], 171],
'abs': ['abs', '', [], 560],
'exec': ['exec', '', [], 346],
'sqrt': ['sqrt', '', [], 124],
'asin': ['asin', '', [], 30]};
CLASS_DATA={
'color': ['color', 'Class Color This class provides constants and functions to work with colors ', [['lib/spout/src/Spout/Writer/Style','Color.php',7]], 7]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
