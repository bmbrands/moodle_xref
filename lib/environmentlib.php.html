<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of environmentlib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='environmentlib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/</a> -> <a href="environmentlib.php.source.html">environmentlib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="environmentlib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>This library includes all the necessary stuff to execute some standard tests of required versions and libraries to run Moodle. It can be used from the admin interface, and both at install and upgrade. All the info is stored in the admin/environment.xml file, supporting to have an updated version in dataroot/environment</b></p>
<table>
<tr><td align="right">Copyright: </td><td>(C) 2001-3001 Eloy Lafuente (stronk7) {@link http://contiento.com}</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>1584 lines (56 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 1 class</h3>
<div class="inset">
<p><b>environment_results::</b> (27 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#environment_results">environment_results</a>()<br>
&nbsp;&nbsp;<a href="#setstatus">setStatus</a>()<br>
&nbsp;&nbsp;<a href="#seterrorcode">setErrorCode</a>()<br>
&nbsp;&nbsp;<a href="#setlevel">setLevel</a>()<br>
&nbsp;&nbsp;<a href="#setcurrentversion">setCurrentVersion</a>()<br>
&nbsp;&nbsp;<a href="#setneededversion">setNeededVersion</a>()<br>
&nbsp;&nbsp;<a href="#setinfo">setInfo</a>()<br>
&nbsp;&nbsp;<a href="#setfeedbackstr">setFeedbackStr</a>()<br>
&nbsp;&nbsp;<a href="#setbypassstr">setBypassStr</a>()<br>
&nbsp;&nbsp;<a href="#setrestrictstr">setRestrictStr</a>()<br>
&nbsp;&nbsp;<a href="#getstatus">getStatus</a>()<br>
&nbsp;&nbsp;<a href="#geterrorcode">getErrorCode</a>()<br>
&nbsp;&nbsp;<a href="#getlevel">getLevel</a>()<br>
&nbsp;&nbsp;<a href="#getcurrentversion">getCurrentVersion</a>()<br>
&nbsp;&nbsp;<a href="#getneededversion">getNeededVersion</a>()<br>
&nbsp;&nbsp;<a href="#getinfo">getInfo</a>()<br>
&nbsp;&nbsp;<a href="#getpart">getPart</a>()<br>
&nbsp;&nbsp;<a href="#getfeedbackstr">getFeedbackStr</a>()<br>
&nbsp;&nbsp;<a href="#getbypassstr">getBypassStr</a>()<br>
&nbsp;&nbsp;<a href="#getrestrictstr">getRestrictStr</a>()<br>
&nbsp;&nbsp;<a href="#strtoreport">strToReport</a>()<br>
&nbsp;&nbsp;<a href="#getpluginname">getPluginName</a>()<br>
&nbsp;&nbsp;<a href="#get_level">get_level</a>()<br>
&nbsp;&nbsp;<a href="#process_environment_result">process_environment_result</a>()<br>
&nbsp;&nbsp;<a href="#restrict_php_version_7">restrict_php_version_7</a>()<br>
&nbsp;&nbsp;<a href="#restrict_php_version">restrict_php_version</a>()<br>
</p>
</div>
<h3>Defines 27 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#check_moodle_environment">check_moodle_environment</a>()<br>
&nbsp;&nbsp;<a href="#environment_get_errors">environment_get_errors</a>()<br>
&nbsp;&nbsp;<a href="#normalize_version">normalize_version</a>()<br>
&nbsp;&nbsp;<a href="#load_environment_xml">load_environment_xml</a>()<br>
&nbsp;&nbsp;<a href="#get_list_of_environment_versions">get_list_of_environment_versions</a>()<br>
&nbsp;&nbsp;<a href="#get_latest_version_available">get_latest_version_available</a>()<br>
&nbsp;&nbsp;<a href="#get_environment_for_version">get_environment_for_version</a>()<br>
&nbsp;&nbsp;<a href="#environment_verify_plugin">environment_verify_plugin</a>()<br>
&nbsp;&nbsp;<a href="#environment_check">environment_check</a>()<br>
&nbsp;&nbsp;<a href="#environment_check_php_extensions">environment_check_php_extensions</a>()<br>
&nbsp;&nbsp;<a href="#environment_check_php_settings">environment_check_php_settings</a>()<br>
&nbsp;&nbsp;<a href="#environment_custom_checks">environment_custom_checks</a>()<br>
&nbsp;&nbsp;<a href="#environment_check_moodle">environment_check_moodle</a>()<br>
&nbsp;&nbsp;<a href="#environment_check_php">environment_check_php</a>()<br>
&nbsp;&nbsp;<a href="#environment_check_pcre_unicode">environment_check_pcre_unicode</a>()<br>
&nbsp;&nbsp;<a href="#environment_check_unicode">environment_check_unicode</a>()<br>
&nbsp;&nbsp;<a href="#environment_check_database">environment_check_database</a>()<br>
&nbsp;&nbsp;<a href="#process_environment_bypass">process_environment_bypass</a>()<br>
&nbsp;&nbsp;<a href="#process_environment_restrict">process_environment_restrict</a>()<br>
&nbsp;&nbsp;<a href="#process_environment_messages">process_environment_messages</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="environment_results"><b>environment_results</b></a>&nbsp;&nbsp;- <a href="../_classes/environment_results.html"><small>X-Ref</small></a>
</p>
<b>Helper Class to return results to caller<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'environmentlib.php.source.html#l1258')" href="environmentlib.php.source.html#l1258">__construct</a>(<a href="../_variables/part.html">$part</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor of the environment_result class. Just set default values<BR>
</b><BR><b>param:</b> string $part<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_results" onClick="logFunction('environment_results', 'environmentlib.php.source.html#l1276')" href="environmentlib.php.source.html#l1276">environment_results</a>(<a href="../_variables/part.html">$part</a>)&nbsp;&nbsp;
<a href="../_functions/environment_results.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Old syntax of class constructor. Deprecated in PHP7.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setstatus" onClick="logFunction('setstatus', 'environmentlib.php.source.html#l1286')" href="environmentlib.php.source.html#l1286">setStatus</a>(<a href="../_variables/testpassed.html">$testpassed</a>)&nbsp;&nbsp;
<a href="../_functions/setstatus.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the status<BR>
</b><BR><b>param:</b> bool $testpassed true means the test passed and all is OK. false means it failed.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="seterrorcode" onClick="logFunction('seterrorcode', 'environmentlib.php.source.html#l1298')" href="environmentlib.php.source.html#l1298">setErrorCode</a>(<a href="../_variables/error_code.html">$error_code</a>)&nbsp;&nbsp;
<a href="../_functions/seterrorcode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the error_code<BR>
</b><BR><b>param:</b> integer $error_code the error code (see constants above)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setlevel" onClick="logFunction('setlevel', 'environmentlib.php.source.html#l1307')" href="environmentlib.php.source.html#l1307">setLevel</a>(<a href="../_variables/level.html">$level</a>)&nbsp;&nbsp;
<a href="../_functions/setlevel.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the level<BR>
</b><BR><b>param:</b> string $level the level (required, optional)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setcurrentversion" onClick="logFunction('setcurrentversion', 'environmentlib.php.source.html#l1316')" href="environmentlib.php.source.html#l1316">setCurrentVersion</a>(<a href="../_variables/current_version.html">$current_version</a>)&nbsp;&nbsp;
<a href="../_functions/setcurrentversion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the current version<BR>
</b><BR><b>param:</b> string $current_version the current version<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setneededversion" onClick="logFunction('setneededversion', 'environmentlib.php.source.html#l1325')" href="environmentlib.php.source.html#l1325">setNeededVersion</a>(<a href="../_variables/needed_version.html">$needed_version</a>)&nbsp;&nbsp;
<a href="../_functions/setneededversion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the needed version<BR>
</b><BR><b>param:</b> string $needed_version the needed version<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setinfo" onClick="logFunction('setinfo', 'environmentlib.php.source.html#l1334')" href="environmentlib.php.source.html#l1334">setInfo</a>(<a href="../_variables/info.html">$info</a>)&nbsp;&nbsp;
<a href="../_functions/setinfo.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the auxiliary info<BR>
</b><BR><b>param:</b> string $info the auxiliary info<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setfeedbackstr" onClick="logFunction('setfeedbackstr', 'environmentlib.php.source.html#l1343')" href="environmentlib.php.source.html#l1343">setFeedbackStr</a>(<a href="../_variables/str.html">$str</a>)&nbsp;&nbsp;
<a href="../_functions/setfeedbackstr.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the feedback string<BR>
</b><BR><b>param:</b> mixed $str the feedback string that will be fetched from the admin lang file.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setbypassstr" onClick="logFunction('setbypassstr', 'environmentlib.php.source.html#l1356')" href="environmentlib.php.source.html#l1356">setBypassStr</a>(<a href="../_variables/str.html">$str</a>)&nbsp;&nbsp;
<a href="../_functions/setbypassstr.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the bypass string<BR>
</b><BR><b>param:</b> string $str the bypass string that will be fetched from the admin lang file.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setrestrictstr" onClick="logFunction('setrestrictstr', 'environmentlib.php.source.html#l1368')" href="environmentlib.php.source.html#l1368">setRestrictStr</a>(<a href="../_variables/str.html">$str</a>)&nbsp;&nbsp;
<a href="../_functions/setrestrictstr.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the restrict string<BR>
</b><BR><b>param:</b> string $str the restrict string that will be fetched from the admin lang file.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getstatus" onClick="logFunction('getstatus', 'environmentlib.php.source.html#l1380')" href="environmentlib.php.source.html#l1380">getStatus</a>()&nbsp;&nbsp;
<a href="../_functions/getstatus.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the status<BR>
</b><BR><b>return:</b> bool true means the test passed and all is OK. false means it failed.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="geterrorcode" onClick="logFunction('geterrorcode', 'environmentlib.php.source.html#l1389')" href="environmentlib.php.source.html#l1389">getErrorCode</a>()&nbsp;&nbsp;
<a href="../_functions/geterrorcode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the error code<BR>
</b><BR><b>return:</b> integer error code<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getlevel" onClick="logFunction('getlevel', 'environmentlib.php.source.html#l1398')" href="environmentlib.php.source.html#l1398">getLevel</a>()&nbsp;&nbsp;
<a href="../_functions/getlevel.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the level<BR>
</b><BR><b>return:</b> string level<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getcurrentversion" onClick="logFunction('getcurrentversion', 'environmentlib.php.source.html#l1407')" href="environmentlib.php.source.html#l1407">getCurrentVersion</a>()&nbsp;&nbsp;
<a href="../_functions/getcurrentversion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the current version<BR>
</b><BR><b>return:</b> string current version<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getneededversion" onClick="logFunction('getneededversion', 'environmentlib.php.source.html#l1416')" href="environmentlib.php.source.html#l1416">getNeededVersion</a>()&nbsp;&nbsp;
<a href="../_functions/getneededversion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the needed version<BR>
</b><BR><b>return:</b> string needed version<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getinfo" onClick="logFunction('getinfo', 'environmentlib.php.source.html#l1425')" href="environmentlib.php.source.html#l1425">getInfo</a>()&nbsp;&nbsp;
<a href="../_functions/getinfo.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the aux info<BR>
</b><BR><b>return:</b> string info<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getpart" onClick="logFunction('getpart', 'environmentlib.php.source.html#l1434')" href="environmentlib.php.source.html#l1434">getPart</a>()&nbsp;&nbsp;
<a href="../_functions/getpart.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the part this result belongs to<BR>
</b><BR><b>return:</b> string part<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getfeedbackstr" onClick="logFunction('getfeedbackstr', 'environmentlib.php.source.html#l1443')" href="environmentlib.php.source.html#l1443">getFeedbackStr</a>()&nbsp;&nbsp;
<a href="../_functions/getfeedbackstr.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the feedback string<BR>
</b><BR><b>return:</b> mixed feedback string (can be an array of params for get_string or a single string to fetch from<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getbypassstr" onClick="logFunction('getbypassstr', 'environmentlib.php.source.html#l1453')" href="environmentlib.php.source.html#l1453">getBypassStr</a>()&nbsp;&nbsp;
<a href="../_functions/getbypassstr.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the bypass string<BR>
</b><BR><b>return:</b> mixed bypass string (can be an array of params for get_string or a single string to fetch from<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getrestrictstr" onClick="logFunction('getrestrictstr', 'environmentlib.php.source.html#l1463')" href="environmentlib.php.source.html#l1463">getRestrictStr</a>()&nbsp;&nbsp;
<a href="../_functions/getrestrictstr.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the restrict string<BR>
</b><BR><b>return:</b> mixed restrict string (can be an array of params for get_string or a single string to fetch from<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="strtoreport" onClick="logFunction('strtoreport', 'environmentlib.php.source.html#l1482')" href="environmentlib.php.source.html#l1482">strToReport</a>(<a href="../_variables/string.html">$string</a>, <a href="../_variables/class.html">$class</a>)&nbsp;&nbsp;
<a href="../_functions/strtoreport.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> mixed $string params for get_string, either a string to fetch from admin.php or an array of<br>
<b>param:</b> string $class css class(es) for message.<br>
<b>return:</b> string feedback string fetched from lang file wrapped in p tag with class $class or returns<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getpluginname" onClick="logFunction('getpluginname', 'environmentlib.php.source.html#l1495')" href="environmentlib.php.source.html#l1495">getPluginName</a>()&nbsp;&nbsp;
<a href="../_functions/getpluginname.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get plugin name.<BR>
</b><BR><b>return:</b> string plugin name<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_level" onClick="logFunction('get_level', 'environmentlib.php.source.html#l1520')" href="environmentlib.php.source.html#l1520">get_level</a>(<a href="../_variables/element.html">$element</a>)&nbsp;&nbsp;
<a href="../_functions/get_level.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> array $element the element from the environment.xml file that should have<br>
<b>return:</b> string &quot;required&quot; or &quot;optional&quot;.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_environment_result" onClick="logFunction('process_environment_result', 'environmentlib.php.source.html#l1534')" href="environmentlib.php.source.html#l1534">process_environment_result</a>(<a href="../_variables/element.html">$element</a>, &amp;<a href="../_variables/result.html">$result</a>)&nbsp;&nbsp;
<a href="../_functions/process_environment_result.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Once the result has been determined, look in the XML for any<BR>
messages, or other things that should be done depending on the outcome.<BR>
</b><BR><b>param:</b> array $element the element from the environment.xml file which<br>
<b>param:</b> object $result the result of the test, which may be modified by<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="restrict_php_version_7" onClick="logFunction('restrict_php_version_7', 'environmentlib.php.source.html#l1552')" href="environmentlib.php.source.html#l1552">restrict_php_version_7</a>(&amp;<a href="../_variables/result.html">$result</a>)&nbsp;&nbsp;
<a href="../_functions/restrict_php_version_7.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check if the current PHP version is greater than or equal to<BR>
PHP version 7.<BR>
</b><BR><b>param:</b> object $result an environment_results instance<br>
<b>return:</b> bool result of version check<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="restrict_php_version" onClick="logFunction('restrict_php_version', 'environmentlib.php.source.html#l1563')" href="environmentlib.php.source.html#l1563">restrict_php_version</a>(&amp;<a href="../_variables/result.html">$result</a>, <a href="../_variables/version.html">$version</a>)&nbsp;&nbsp;
<a href="../_functions/restrict_php_version.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check if the current PHP version is greater than or equal to an<BR>
unsupported version.<BR>
</b><BR><b>param:</b> object $result an environment_results instance<br>
<b>param:</b> string $version the version of PHP that can't be used<br>
<b>return:</b> bool result of version check<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_moodle_environment" onClick="logFunction('check_moodle_environment', 'environmentlib.php.source.html#l86')" href="environmentlib.php.source.html#l86">check_moodle_environment</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a> = ENV_SELECT_NEWER)&nbsp;&nbsp;
<a href="../_functions/check_moodle_environment.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function checks all the requirements defined in environment.xml.<BR>
</b><BR><b>param:</b> string $version version to check.<br>
<b>param:</b> int $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. Default ENV_SELECT_NEWER (BC)<br>
<b>return:</b> array with two elements. The first element true/false, depending on<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_get_errors" onClick="logFunction('environment_get_errors', 'environmentlib.php.source.html#l129')" href="environmentlib.php.source.html#l129">environment_get_errors</a>(<a href="../_variables/environment_results.html">$environment_results</a>)&nbsp;&nbsp;
<a href="../_functions/environment_get_errors.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns array of critical errors in plain text format<BR>
</b><BR><b>param:</b> array $environment_results array of results gathered<br>
<b>return:</b> array errors<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="normalize_version" onClick="logFunction('normalize_version', 'environmentlib.php.source.html#l225')" href="environmentlib.php.source.html#l225">normalize_version</a>(<a href="../_variables/version.html">$version</a>)&nbsp;&nbsp;
<a href="../_functions/normalize_version.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will normalize any version to just a serie of numbers<BR>
separated by dots. Everything else will be removed.<BR>
</b><BR><b>param:</b> string $version the original version<br>
<b>return:</b> string the normalized version<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_environment_xml" onClick="logFunction('load_environment_xml', 'environmentlib.php.source.html#l252')" href="environmentlib.php.source.html#l252">load_environment_xml</a>(<a href="../_variables/env_select.html">$env_select</a>=ENV_SELECT_NEWER)&nbsp;&nbsp;
<a href="../_functions/load_environment_xml.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will load the environment.xml file and xmlize it<BR>
</b><BR><b>param:</b> int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.<br>
<b>return:</b> mixed the xmlized structure or false on error<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_list_of_environment_versions" onClick="logFunction('get_list_of_environment_versions', 'environmentlib.php.source.html#l316')" href="environmentlib.php.source.html#l316">get_list_of_environment_versions</a>(<a href="../_variables/contents.html">$contents</a>)&nbsp;&nbsp;
<a href="../_functions/get_list_of_environment_versions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will return the list of Moodle versions available<BR>
</b><BR><b>return:</b> array of versions<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_latest_version_available" onClick="logFunction('get_latest_version_available', 'environmentlib.php.source.html#l338')" href="environmentlib.php.source.html#l338">get_latest_version_available</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/get_latest_version_available.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will return the most recent version in the environment.xml<BR>
file previous or equal to the version requested<BR>
</b><BR><b>param:</b> string $version top version from which we start to look backwards<br>
<b>param:</b> int $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use.<br>
<b>return:</b> string|bool string more recent version or false if not found<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_environment_for_version" onClick="logFunction('get_environment_for_version', 'environmentlib.php.source.html#l381')" href="environmentlib.php.source.html#l381">get_environment_for_version</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/get_environment_for_version.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will return the xmlized data belonging to one Moodle version<BR>
</b><BR><b>param:</b> string $version top version from which we start to look backwards<br>
<b>param:</b> int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.<br>
<b>return:</b> mixed the xmlized structure or false on error<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_verify_plugin" onClick="logFunction('environment_verify_plugin', 'environmentlib.php.source.html#l422')" href="environmentlib.php.source.html#l422">environment_verify_plugin</a>(<a href="../_variables/plugin.html">$plugin</a>, <a href="../_variables/pluginxml.html">$pluginxml</a>)&nbsp;&nbsp;
<a href="../_functions/environment_verify_plugin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks if a plugin tag has a name attribute and it matches the plugin being tested.<BR>
</b><BR><b>param:</b> string $plugin the name of the plugin.<br>
<b>param:</b> array $pluginxml the xmlised structure for the plugin tag being tested.<br>
<b>return:</b> boolean true if the name attribute exists and matches the plugin being tested.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_check" onClick="logFunction('environment_check', 'environmentlib.php.source.html#l436')" href="environmentlib.php.source.html#l436">environment_check</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/environment_check.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will check for everything (DB, PHP and PHP extensions for now)<BR>
returning an array of environment_result objects.<BR>
</b><BR><b>param:</b> string $version xml version we are going to use to test this server<br>
<b>param:</b> int $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use.<br>
<b>return:</b> environment_results[] array of results encapsulated in one environment_result object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_check_php_extensions" onClick="logFunction('environment_check_php_extensions', 'environmentlib.php.source.html#l534')" href="environmentlib.php.source.html#l534">environment_check_php_extensions</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/environment_check_php_extensions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will check if php extensions requirements are satisfied<BR>
</b><BR><b>param:</b> string $version xml version we are going to use to test this server<br>
<b>param:</b> int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.<br>
<b>return:</b> array array of results encapsulated in one environment_result object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_check_php_settings" onClick="logFunction('environment_check_php_settings', 'environmentlib.php.source.html#l597')" href="environmentlib.php.source.html#l597">environment_check_php_settings</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/environment_check_php_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will check if php extensions requirements are satisfied<BR>
</b><BR><b>param:</b> string $version xml version we are going to use to test this server<br>
<b>param:</b> int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.<br>
<b>return:</b> array array of results encapsulated in one environment_result object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_custom_checks" onClick="logFunction('environment_custom_checks', 'environmentlib.php.source.html#l677')" href="environmentlib.php.source.html#l677">environment_custom_checks</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/environment_custom_checks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will do the custom checks.<BR>
</b><BR><b>param:</b> string $version xml version we are going to use to test this server.<br>
<b>param:</b> int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.<br>
<b>return:</b> array array of results encapsulated in environment_result objects.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_check_moodle" onClick="logFunction('environment_check_moodle', 'environmentlib.php.source.html#l772')" href="environmentlib.php.source.html#l772">environment_check_moodle</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/environment_check_moodle.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will check if Moodle requirements are satisfied<BR>
</b><BR><b>param:</b> string $version xml version we are going to use to test this server<br>
<b>param:</b> int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.<br>
<b>return:</b> object results encapsulated in one environment_result object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_check_php" onClick="logFunction('environment_check_php', 'environmentlib.php.source.html#l821')" href="environmentlib.php.source.html#l821">environment_check_php</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/environment_check_php.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will check if php requirements are satisfied<BR>
</b><BR><b>param:</b> string $version xml version we are going to use to test this server<br>
<b>param:</b> int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.<br>
<b>return:</b> object results encapsulated in one environment_result object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_check_pcre_unicode" onClick="logFunction('environment_check_pcre_unicode', 'environmentlib.php.source.html#l880')" href="environmentlib.php.source.html#l880">environment_check_pcre_unicode</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/environment_check_pcre_unicode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Looks for buggy PCRE implementation, we need unicode support in Moodle...<BR>
</b><BR><b>param:</b> string $version xml version we are going to use to test this server<br>
<b>param:</b> int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.<br>
<b>return:</b> stdClass results encapsulated in one environment_result object, null if irrelevant<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_check_unicode" onClick="logFunction('environment_check_unicode', 'environmentlib.php.source.html#l921')" href="environmentlib.php.source.html#l921">environment_check_unicode</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/environment_check_unicode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will check if unicode database requirements are satisfied<BR>
</b><BR><b>param:</b> string $version xml version we are going to use to test this server<br>
<b>param:</b> int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.<br>
<b>return:</b> object results encapsulated in one environment_result object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="environment_check_database" onClick="logFunction('environment_check_database', 'environmentlib.php.source.html#l969')" href="environmentlib.php.source.html#l969">environment_check_database</a>(<a href="../_variables/version.html">$version</a>, <a href="../_variables/env_select.html">$env_select</a>)&nbsp;&nbsp;
<a href="../_functions/environment_check_database.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will check if database requirements are satisfied<BR>
</b><BR><b>param:</b> string $version xml version we are going to use to test this server<br>
<b>param:</b> int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.<br>
<b>return:</b> object results encapsulated in one environment_result object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_environment_bypass" onClick="logFunction('process_environment_bypass', 'environmentlib.php.source.html#l1069')" href="environmentlib.php.source.html#l1069">process_environment_bypass</a>(<a href="../_variables/xml.html">$xml</a>, &amp;<a href="../_variables/result.html">$result</a>)&nbsp;&nbsp;
<a href="../_functions/process_environment_bypass.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will post-process the result record by executing the specified<BR>
function, modifying it as necessary, also a custom message will be added<BR>
to the result object to be printed by the display layer.<BR>
Every bypass function must be defined in this file and it'll return<BR>
true/false to decide if the original test is bypassed or no. Also<BR>
such bypass functions are able to directly handling the result object<BR>
although it should be only under exceptional conditions.<BR>
</b><BR><b>param:</b> string xmldata containing the bypass data<br>
<b>param:</b> object result object to be updated<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_environment_restrict" onClick="logFunction('process_environment_restrict', 'environmentlib.php.source.html#l1110')" href="environmentlib.php.source.html#l1110">process_environment_restrict</a>(<a href="../_variables/xml.html">$xml</a>, &amp;<a href="../_variables/result.html">$result</a>)&nbsp;&nbsp;
<a href="../_functions/process_environment_restrict.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will post-process the result record by executing the specified<BR>
function, modifying it as necessary, also a custom message will be added<BR>
to the result object to be printed by the display layer.<BR>
Every restrict function must be defined in this file and it'll return<BR>
true/false to decide if the original test is restricted or no. Also<BR>
such restrict functions are able to directly handling the result object<BR>
although it should be only under exceptional conditions.<BR>
</b><BR><b>param:</b> string xmldata containing the restrict data<br>
<b>param:</b> object result object to be updated<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_environment_messages" onClick="logFunction('process_environment_messages', 'environmentlib.php.source.html#l1150')" href="environmentlib.php.source.html#l1150">process_environment_messages</a>(<a href="../_variables/xml.html">$xml</a>, &amp;<a href="../_variables/result.html">$result</a>)&nbsp;&nbsp;
<a href="../_functions/process_environment_messages.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will detect if there is some message available to be added to the<BR>
result in order to clarify enviromental details.<BR>
</b><BR><b>param:</b> string xmldata containing the feedback data<br>
<b>param:</b> object reult object to be updated<br>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
