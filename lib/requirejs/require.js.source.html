<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/requirejs/require.js source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/requirejs';
filename='require.js.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/requirejs/</a> -> <a href="require.js.html">require.js</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="require.js.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="require.js.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment">/** vim: et:ts=4:sw=4:sts=4</span>
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment"> * @license RequireJS 2.1.15 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * Available via the MIT or new BSD license.</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * see: http://github.com/jrburke/requirejs for details</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> */</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">//Not using strict: uneven strict support in browsers, #392, and causes</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">//problems with requirejs.exec()/transpiler plugins that may not be strict.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">/*jslint regexp: true, nomen: true, sloppy: true */</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">/*global window, navigator, document, importScripts, setTimeout, opera */</span>
<a name="l10"><span class="linenum">  10</span></a>  
<a name="l11"><span class="linenum">  11</span></a>  var requirejs, require, define;
<a name="l12"><span class="linenum">  12</span></a>  (function (global) {
<a name="l13"><span class="linenum">  13</span></a>      var req, s, head, baseElement, dataMain, src,
<a name="l14"><span class="linenum">  14</span></a>          interactiveScript, currentlyAddingScript, mainScript, subPath,
<a name="l15"><span class="linenum">  15</span></a>          version = '2.1.15',
<a name="l16"><span class="linenum">  16</span></a>          commentRegExp = /(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,
<a name="l17"><span class="linenum">  17</span></a>          cjsRequireRegExp = /[^.]\s*require\s*\(\s*[&quot;']([^'&quot;\s]+)[&quot;']\s*\)/g,
<a name="l18"><span class="linenum">  18</span></a>          jsSuffixRegExp = /\.js$/,
<a name="l19"><span class="linenum">  19</span></a>          currDirRegExp = /^\.\//,
<a name="l20"><span class="linenum">  20</span></a>          op = Object.prototype,
<a name="l21"><span class="linenum">  21</span></a>          ostring = op.toString,
<a name="l22"><span class="linenum">  22</span></a>          hasOwn = op.hasOwnProperty,
<a name="l23"><span class="linenum">  23</span></a>          ap = Array.prototype,
<a name="l24"><span class="linenum">  24</span></a>          apsp = ap.splice,
<a name="l25"><span class="linenum">  25</span></a>          isBrowser = !!(typeof window !== 'undefined' &amp;&amp; typeof navigator !== 'undefined' &amp;&amp; window.document),
<a name="l26"><span class="linenum">  26</span></a>          isWebWorker = !isBrowser &amp;&amp; typeof importScripts !== 'undefined',
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">        //PS3 indicates loaded and complete, but need to wait for complete</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">        //specifically. Sequence is 'loading', 'loaded', execution,</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment">        // then 'complete'. The UA check is unfortunate, but not sure how</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">        //to feature test w/o causing perf issues.</span>
<a name="l31"><span class="linenum">  31</span></a>          readyRegExp = isBrowser &amp;&amp; navigator.platform === 'PLAYSTATION 3' ?
<a name="l32"><span class="linenum">  32</span></a>                        /^complete$/ : /^(complete|loaded)$/,
<a name="l33"><span class="linenum">  33</span></a>          defContextName = '_',
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">        //Oh the tragedy, detecting opera. See the usage of isOpera for reason.</span>
<a name="l35"><span class="linenum">  35</span></a>          isOpera = typeof opera !== 'undefined' &amp;&amp; opera.<a class="function" onClick="logFunction('toString')" href="../../_functions/tostring.html" onMouseOver="funcPopup(event,'tostring')">toString</a>() === '[object Opera]',
<a name="l36"><span class="linenum">  36</span></a>          contexts = {},
<a name="l37"><span class="linenum">  37</span></a>          cfg = {},
<a name="l38"><span class="linenum">  38</span></a>          globalDefQueue = [],
<a name="l39"><span class="linenum">  39</span></a>          useInteractive = false;
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>      function <a class="function" onClick="logFunction('isFunction')" href="../../_functions/isfunction.html" onMouseOver="funcPopup(event,'isfunction')">isFunction</a>(it) {
<a name="l42"><span class="linenum">  42</span></a>          return ostring.<a class="function" onClick="logFunction('call')" href="../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(it) === '[object Function]';
<a name="l43"><span class="linenum">  43</span></a>      }
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>      function <a class="function" onClick="logFunction('isArray')" href="../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(it) {
<a name="l46"><span class="linenum">  46</span></a>          return ostring.<a class="function" onClick="logFunction('call')" href="../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(it) === '[object Array]';
<a name="l47"><span class="linenum">  47</span></a>      }
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>      <span class="comment">/**</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     * Helper function for iterating over an array. If the func returns</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">     * a true value, it will break out of the loop.</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     */</span>
<a name="l53"><span class="linenum">  53</span></a>      function <a class="function" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="funcPopup(event,'each')">each</a>(ary, func) {
<a name="l54"><span class="linenum">  54</span></a>          if (ary) {
<a name="l55"><span class="linenum">  55</span></a>              var i;
<a name="l56"><span class="linenum">  56</span></a>              for (i = 0; i &lt; ary.length; i += 1) {
<a name="l57"><span class="linenum">  57</span></a>                  if (ary[i] &amp;&amp; func(ary[i], i, ary)) {
<a name="l58"><span class="linenum">  58</span></a>                      break;
<a name="l59"><span class="linenum">  59</span></a>                  }
<a name="l60"><span class="linenum">  60</span></a>              }
<a name="l61"><span class="linenum">  61</span></a>          }
<a name="l62"><span class="linenum">  62</span></a>      }
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>      <span class="comment">/**</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * Helper function for iterating over an array backwards. If the func</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * returns a true value, it will break out of the loop.</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     */</span>
<a name="l68"><span class="linenum">  68</span></a>      function <a class="function" onClick="logFunction('eachReverse')" href="../../_functions/eachreverse.html" onMouseOver="funcPopup(event,'eachreverse')">eachReverse</a>(ary, func) {
<a name="l69"><span class="linenum">  69</span></a>          if (ary) {
<a name="l70"><span class="linenum">  70</span></a>              var i;
<a name="l71"><span class="linenum">  71</span></a>              for (i = ary.length - 1; i &gt; -1; i -= 1) {
<a name="l72"><span class="linenum">  72</span></a>                  if (ary[i] &amp;&amp; func(ary[i], i, ary)) {
<a name="l73"><span class="linenum">  73</span></a>                      break;
<a name="l74"><span class="linenum">  74</span></a>                  }
<a name="l75"><span class="linenum">  75</span></a>              }
<a name="l76"><span class="linenum">  76</span></a>          }
<a name="l77"><span class="linenum">  77</span></a>      }
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>      function <a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(obj, prop) {
<a name="l80"><span class="linenum">  80</span></a>          return hasOwn.<a class="function" onClick="logFunction('call')" href="../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(obj, prop);
<a name="l81"><span class="linenum">  81</span></a>      }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>      function <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(obj, prop) {
<a name="l84"><span class="linenum">  84</span></a>          return <a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(obj, prop) &amp;&amp; obj[prop];
<a name="l85"><span class="linenum">  85</span></a>      }
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>      <span class="comment">/**</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     * Cycles over properties in an object and calls a function for each</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     * property value. If the function returns a truthy value, then the</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">     * iteration is stopped.</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">     */</span>
<a name="l92"><span class="linenum">  92</span></a>      function <a class="function" onClick="logFunction('eachProp')" href="../../_functions/eachprop.html" onMouseOver="funcPopup(event,'eachprop')">eachProp</a>(obj, func) {
<a name="l93"><span class="linenum">  93</span></a>          var prop;
<a name="l94"><span class="linenum">  94</span></a>          for (prop in obj) {
<a name="l95"><span class="linenum">  95</span></a>              if (<a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(obj, prop)) {
<a name="l96"><span class="linenum">  96</span></a>                  if (func(obj[prop], prop)) {
<a name="l97"><span class="linenum">  97</span></a>                      break;
<a name="l98"><span class="linenum">  98</span></a>                  }
<a name="l99"><span class="linenum">  99</span></a>              }
<a name="l100"><span class="linenum"> 100</span></a>          }
<a name="l101"><span class="linenum"> 101</span></a>      }
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>      <span class="comment">/**</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">     * Simple function to mix in properties from source into target,</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">     * but only if target does not already have a property of the same name.</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     */</span>
<a name="l107"><span class="linenum"> 107</span></a>      function <a class="function" onClick="logFunction('mixin')" href="../../_functions/mixin.html" onMouseOver="funcPopup(event,'mixin')">mixin</a>(target, source, force, deepStringMixin) {
<a name="l108"><span class="linenum"> 108</span></a>          if (source) {
<a name="l109"><span class="linenum"> 109</span></a>              <a class="function" onClick="logFunction('eachProp')" href="../../_functions/eachprop.html" onMouseOver="funcPopup(event,'eachprop')">eachProp</a>(source, function (value, prop) {
<a name="l110"><span class="linenum"> 110</span></a>                  if (force || !<a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(target, prop)) {
<a name="l111"><span class="linenum"> 111</span></a>                      if (deepStringMixin &amp;&amp; typeof value === 'object' &amp;&amp; value &amp;&amp;
<a name="l112"><span class="linenum"> 112</span></a>                          !<a class="function" onClick="logFunction('isArray')" href="../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(value) &amp;&amp; !<a class="function" onClick="logFunction('isFunction')" href="../../_functions/isfunction.html" onMouseOver="funcPopup(event,'isfunction')">isFunction</a>(value) &amp;&amp;
<a name="l113"><span class="linenum"> 113</span></a>                          !(value instanceof RegExp)) {
<a name="l114"><span class="linenum"> 114</span></a>  
<a name="l115"><span class="linenum"> 115</span></a>                          if (!target[prop]) {
<a name="l116"><span class="linenum"> 116</span></a>                              target[prop] = {};
<a name="l117"><span class="linenum"> 117</span></a>                          }
<a name="l118"><span class="linenum"> 118</span></a>                          <a class="function" onClick="logFunction('mixin')" href="../../_functions/mixin.html" onMouseOver="funcPopup(event,'mixin')">mixin</a>(target[prop], value, force, deepStringMixin);
<a name="l119"><span class="linenum"> 119</span></a>                      } else {
<a name="l120"><span class="linenum"> 120</span></a>                          target[prop] = value;
<a name="l121"><span class="linenum"> 121</span></a>                      }
<a name="l122"><span class="linenum"> 122</span></a>                  }
<a name="l123"><span class="linenum"> 123</span></a>              });
<a name="l124"><span class="linenum"> 124</span></a>          }
<a name="l125"><span class="linenum"> 125</span></a>          return target;
<a name="l126"><span class="linenum"> 126</span></a>      }
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">    //Similar to Function.prototype.bind, but the 'this' object is specified</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">    //first, since it is easier to read/figure out what 'this' will be.</span>
<a name="l130"><span class="linenum"> 130</span></a>      function <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(obj, fn) {
<a name="l131"><span class="linenum"> 131</span></a>          return function () {
<a name="l132"><span class="linenum"> 132</span></a>              return fn.<a class="function" onClick="logFunction('apply')" href="../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(obj, arguments);
<a name="l133"><span class="linenum"> 133</span></a>          };
<a name="l134"><span class="linenum"> 134</span></a>      }
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>      function <a class="function" onClick="logFunction('scripts')" href="../../_functions/scripts.html" onMouseOver="funcPopup(event,'scripts')">scripts</a>() {
<a name="l137"><span class="linenum"> 137</span></a>          return document.getElementsByTagName('script');
<a name="l138"><span class="linenum"> 138</span></a>      }
<a name="l139"><span class="linenum"> 139</span></a>  
<a name="l140"><span class="linenum"> 140</span></a>      function <a class="function" onClick="logFunction('defaultOnError')" href="../../_functions/defaultonerror.html" onMouseOver="funcPopup(event,'defaultonerror')">defaultOnError</a>(err) {
<a name="l141"><span class="linenum"> 141</span></a>          throw err;
<a name="l142"><span class="linenum"> 142</span></a>      }
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment">    //Allow getting a global that is expressed in</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">    //dot notation, like 'a.b.c'.</span>
<a name="l146"><span class="linenum"> 146</span></a>      function <a class="function" onClick="logFunction('getGlobal')" href="../../_functions/getglobal.html" onMouseOver="funcPopup(event,'getglobal')">getGlobal</a>(value) {
<a name="l147"><span class="linenum"> 147</span></a>          if (!value) {
<a name="l148"><span class="linenum"> 148</span></a>              return value;
<a name="l149"><span class="linenum"> 149</span></a>          }
<a name="l150"><span class="linenum"> 150</span></a>          var g = global;
<a name="l151"><span class="linenum"> 151</span></a>          <a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(value.<a class="phpfunction" onClick="logFunction('split')" href="../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('.'), function (part) {
<a name="l152"><span class="linenum"> 152</span></a>              g = g[part];
<a name="l153"><span class="linenum"> 153</span></a>          });
<a name="l154"><span class="linenum"> 154</span></a>          return g;
<a name="l155"><span class="linenum"> 155</span></a>      }
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>      <span class="comment">/**</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     * Constructs an error with a pointer to an URL with more information.</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     * @param {String} id the error ID that maps to an ID on a web page.</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * @param {String} message human readable error.</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     * @param {Error} [err] the original error, if there is one.</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     *</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">     * @returns {Error}</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">     */</span>
<a name="l165"><span class="linenum"> 165</span></a>      function <a class="function" onClick="logFunction('makeError')" href="../../_functions/makeerror.html" onMouseOver="funcPopup(event,'makeerror')">makeError</a>(id, msg, err, requireModules) {
<a name="l166"><span class="linenum"> 166</span></a>          var e = new <a class="function" onClick="logFunction('Error')" href="../../_functions/error.html" onMouseOver="funcPopup(event,'error')">Error</a>(msg + '\nhttp://requirejs.org/docs/errors.html#' + id);
<a name="l167"><span class="linenum"> 167</span></a>          e.requireType = id;
<a name="l168"><span class="linenum"> 168</span></a>          e.requireModules = requireModules;
<a name="l169"><span class="linenum"> 169</span></a>          if (err) {
<a name="l170"><span class="linenum"> 170</span></a>              e.originalError = err;
<a name="l171"><span class="linenum"> 171</span></a>          }
<a name="l172"><span class="linenum"> 172</span></a>          return e;
<a name="l173"><span class="linenum"> 173</span></a>      }
<a name="l174"><span class="linenum"> 174</span></a>  
<a name="l175"><span class="linenum"> 175</span></a>      if (typeof define !== 'undefined') {
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">        //If a define is already in play via another AMD loader,</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">        //do not overwrite.</span>
<a name="l178"><span class="linenum"> 178</span></a>          return;
<a name="l179"><span class="linenum"> 179</span></a>      }
<a name="l180"><span class="linenum"> 180</span></a>  
<a name="l181"><span class="linenum"> 181</span></a>      if (typeof requirejs !== 'undefined') {
<a name="l182"><span class="linenum"> 182</span></a>          if (<a class="function" onClick="logFunction('isFunction')" href="../../_functions/isfunction.html" onMouseOver="funcPopup(event,'isfunction')">isFunction</a>(requirejs)) {
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">            //Do not overwrite an existing requirejs instance.</span>
<a name="l184"><span class="linenum"> 184</span></a>              return;
<a name="l185"><span class="linenum"> 185</span></a>          }
<a name="l186"><span class="linenum"> 186</span></a>          cfg = requirejs;
<a name="l187"><span class="linenum"> 187</span></a>          requirejs = undefined;
<a name="l188"><span class="linenum"> 188</span></a>      }
<a name="l189"><span class="linenum"> 189</span></a>  
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">    //Allow for a require config object</span>
<a name="l191"><span class="linenum"> 191</span></a>      if (typeof require !== 'undefined' &amp;&amp; !<a class="function" onClick="logFunction('isFunction')" href="../../_functions/isfunction.html" onMouseOver="funcPopup(event,'isfunction')">isFunction</a>(require)) {
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">        //assume it is a config object.</span>
<a name="l193"><span class="linenum"> 193</span></a>          cfg = require;
<a name="l194"><span class="linenum"> 194</span></a>          require = undefined;
<a name="l195"><span class="linenum"> 195</span></a>      }
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>      function <a class="function" onClick="logFunction('newContext')" href="../../_functions/newcontext.html" onMouseOver="funcPopup(event,'newcontext')">newContext</a>(contextName) {
<a name="l198"><span class="linenum"> 198</span></a>          var inCheckLoaded, Module, context, handlers,
<a name="l199"><span class="linenum"> 199</span></a>              checkLoadedTimeoutId,
<a name="l200"><span class="linenum"> 200</span></a>              config = {
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">                //Defaults. Do not set a default for map</span>
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">                //config to speed up normalize(), which</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">                //will run faster if there is no default.</span>
<a name="l204"><span class="linenum"> 204</span></a>                  waitSeconds: 7,
<a name="l205"><span class="linenum"> 205</span></a>                  baseUrl: './',
<a name="l206"><span class="linenum"> 206</span></a>                  paths: {},
<a name="l207"><span class="linenum"> 207</span></a>                  bundles: {},
<a name="l208"><span class="linenum"> 208</span></a>                  pkgs: {},
<a name="l209"><span class="linenum"> 209</span></a>                  shim: {},
<a name="l210"><span class="linenum"> 210</span></a>                  config: {}
<a name="l211"><span class="linenum"> 211</span></a>              },
<a name="l212"><span class="linenum"> 212</span></a>              registry = {},
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">            //registry of just enabled modules, to speed</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">            //cycle breaking code when lots of modules</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">            //are registered, but not activated.</span>
<a name="l216"><span class="linenum"> 216</span></a>              enabledRegistry = {},
<a name="l217"><span class="linenum"> 217</span></a>              undefEvents = {},
<a name="l218"><span class="linenum"> 218</span></a>              defQueue = [],
<a name="l219"><span class="linenum"> 219</span></a>              defined = {},
<a name="l220"><span class="linenum"> 220</span></a>              urlFetched = {},
<a name="l221"><span class="linenum"> 221</span></a>              bundlesMap = {},
<a name="l222"><span class="linenum"> 222</span></a>              requireCounter = 1,
<a name="l223"><span class="linenum"> 223</span></a>              unnormalizedCounter = 1;
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>          <span class="comment">/**</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">         * Trims the . and .. from an array of path segments.</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">         * It will keep a leading path segment if a .. will become</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">         * the first path segment, to help with module name lookups,</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">         * which act like paths, but can be remapped. But the end result,</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">         * all paths that use this function should look normalized.</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">         * NOTE: this method MODIFIES the input array.</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">         * @param {Array} ary the array of path segments.</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">         */</span>
<a name="l234"><span class="linenum"> 234</span></a>          function <a class="function" onClick="logFunction('trimDots')" href="../../_functions/trimdots.html" onMouseOver="funcPopup(event,'trimdots')">trimDots</a>(ary) {
<a name="l235"><span class="linenum"> 235</span></a>              var i, part;
<a name="l236"><span class="linenum"> 236</span></a>              for (i = 0; i &lt; ary.length; i++) {
<a name="l237"><span class="linenum"> 237</span></a>                  part = ary[i];
<a name="l238"><span class="linenum"> 238</span></a>                  if (part === '.') {
<a name="l239"><span class="linenum"> 239</span></a>                      ary.<a class="function" onClick="logFunction('splice')" href="../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(i, 1);
<a name="l240"><span class="linenum"> 240</span></a>                      i -= 1;
<a name="l241"><span class="linenum"> 241</span></a>                  } else if (part === '..') {
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">                    // If at the start, or previous value is still ..,</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">                    // keep them so that when converted to a path it may</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">                    // still work when converted to a path, even though</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">                    // as an ID it is less than ideal. In larger point</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">                    // releases, may be better to just kick out an error.</span>
<a name="l247"><span class="linenum"> 247</span></a>                      if (i === 0 || (i == 1 &amp;&amp; ary[2] === '..') || ary[i - 1] === '..') {
<a name="l248"><span class="linenum"> 248</span></a>                          continue;
<a name="l249"><span class="linenum"> 249</span></a>                      } else if (i &gt; 0) {
<a name="l250"><span class="linenum"> 250</span></a>                          ary.<a class="function" onClick="logFunction('splice')" href="../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(i - 1, 2);
<a name="l251"><span class="linenum"> 251</span></a>                          i -= 2;
<a name="l252"><span class="linenum"> 252</span></a>                      }
<a name="l253"><span class="linenum"> 253</span></a>                  }
<a name="l254"><span class="linenum"> 254</span></a>              }
<a name="l255"><span class="linenum"> 255</span></a>          }
<a name="l256"><span class="linenum"> 256</span></a>  
<a name="l257"><span class="linenum"> 257</span></a>          <span class="comment">/**</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">         * Given a relative module name, like ./something, normalize it to</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">         * a real name that can be mapped to a path.</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">         * @param {String} name the relative name</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">         * @param {String} baseName a real name that the name arg is relative</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">         * to.</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">         * @param {Boolean} applyMap apply the map config to the value. Should</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">         * only be done if this normalization is for a dependency ID.</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">         * @returns {String} normalized name</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">         */</span>
<a name="l267"><span class="linenum"> 267</span></a>          function <a class="function" onClick="logFunction('normalize')" href="../../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>(name, baseName, applyMap) {
<a name="l268"><span class="linenum"> 268</span></a>              var pkgMain, mapValue, nameParts, i, j, nameSegment, lastIndex,
<a name="l269"><span class="linenum"> 269</span></a>                  foundMap, foundI, foundStarMap, starI, normalizedBaseParts,
<a name="l270"><span class="linenum"> 270</span></a>                  baseParts = (baseName &amp;&amp; baseName.<a class="phpfunction" onClick="logFunction('split')" href="../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('/')),
<a name="l271"><span class="linenum"> 271</span></a>                  map = config.map,
<a name="l272"><span class="linenum"> 272</span></a>                  starMap = map &amp;&amp; map['*'];
<a name="l273"><span class="linenum"> 273</span></a>  
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">            //Adjust any relative paths.</span>
<a name="l275"><span class="linenum"> 275</span></a>              if (name) {
<a name="l276"><span class="linenum"> 276</span></a>                  name = name.<a class="phpfunction" onClick="logFunction('split')" href="../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('/');
<a name="l277"><span class="linenum"> 277</span></a>                  lastIndex = name.length - 1;
<a name="l278"><span class="linenum"> 278</span></a>  
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">                // If wanting node ID compatibility, strip .js from end</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">                // of IDs. Have to do this here, and not in nameToUrl</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">                // because node allows either .js or non .js to map</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">                // to same file.</span>
<a name="l283"><span class="linenum"> 283</span></a>                  if (config.nodeIdCompat &amp;&amp; jsSuffixRegExp.test(name[lastIndex])) {
<a name="l284"><span class="linenum"> 284</span></a>                      name[lastIndex] = name[lastIndex].<a class="function" onClick="logFunction('replace')" href="../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(jsSuffixRegExp, '');
<a name="l285"><span class="linenum"> 285</span></a>                  }
<a name="l286"><span class="linenum"> 286</span></a>  
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">                // Starts with a '.' so need the baseName</span>
<a name="l288"><span class="linenum"> 288</span></a>                  if (name[0].charAt(0) === '.' &amp;&amp; baseParts) {
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">                    //Convert baseName to array, and lop off the last part,</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">                    //so that . matches that 'directory' and not name of the baseName's</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">                    //module. For instance, baseName of 'one/two/three', maps to</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">                    //'one/two/three.js', but we want the directory, 'one/two' for</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">                    //this normalization.</span>
<a name="l294"><span class="linenum"> 294</span></a>                      normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);
<a name="l295"><span class="linenum"> 295</span></a>                      name = normalizedBaseParts.<a class="function" onClick="logFunction('concat')" href="../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(name);
<a name="l296"><span class="linenum"> 296</span></a>                  }
<a name="l297"><span class="linenum"> 297</span></a>  
<a name="l298"><span class="linenum"> 298</span></a>                  <a class="function" onClick="logFunction('trimDots')" href="../../_functions/trimdots.html" onMouseOver="funcPopup(event,'trimdots')">trimDots</a>(name);
<a name="l299"><span class="linenum"> 299</span></a>                  name = name.<a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('/');
<a name="l300"><span class="linenum"> 300</span></a>              }
<a name="l301"><span class="linenum"> 301</span></a>  
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">            //Apply map config if available.</span>
<a name="l303"><span class="linenum"> 303</span></a>              if (applyMap &amp;&amp; map &amp;&amp; (baseParts || starMap)) {
<a name="l304"><span class="linenum"> 304</span></a>                  nameParts = name.<a class="phpfunction" onClick="logFunction('split')" href="../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('/');
<a name="l305"><span class="linenum"> 305</span></a>  
<a name="l306"><span class="linenum"> 306</span></a>                  outerLoop: for (i = nameParts.length; i &gt; 0; i -= 1) {
<a name="l307"><span class="linenum"> 307</span></a>                      nameSegment = nameParts.slice(0, i).<a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('/');
<a name="l308"><span class="linenum"> 308</span></a>  
<a name="l309"><span class="linenum"> 309</span></a>                      if (baseParts) {
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">                        //Find the longest baseName segment match in the config.</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">                        //So, do joins on the biggest to smallest lengths of baseParts.</span>
<a name="l312"><span class="linenum"> 312</span></a>                          for (j = baseParts.length; j &gt; 0; j -= 1) {
<a name="l313"><span class="linenum"> 313</span></a>                              mapValue = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(map, baseParts.slice(0, j).<a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('/'));
<a name="l314"><span class="linenum"> 314</span></a>  
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">                            //baseName segment has config, find if it has one for</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">                            //this name.</span>
<a name="l317"><span class="linenum"> 317</span></a>                              if (mapValue) {
<a name="l318"><span class="linenum"> 318</span></a>                                  mapValue = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(mapValue, nameSegment);
<a name="l319"><span class="linenum"> 319</span></a>                                  if (mapValue) {
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">                                    //Match, update name to the new value.</span>
<a name="l321"><span class="linenum"> 321</span></a>                                      foundMap = mapValue;
<a name="l322"><span class="linenum"> 322</span></a>                                      foundI = i;
<a name="l323"><span class="linenum"> 323</span></a>                                      break outerLoop;
<a name="l324"><span class="linenum"> 324</span></a>                                  }
<a name="l325"><span class="linenum"> 325</span></a>                              }
<a name="l326"><span class="linenum"> 326</span></a>                          }
<a name="l327"><span class="linenum"> 327</span></a>                      }
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">                    //Check for a star map match, but just hold on to it,</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">                    //if there is a shorter segment match later in a matching</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">                    //config, then favor over this star map.</span>
<a name="l332"><span class="linenum"> 332</span></a>                      if (!foundStarMap &amp;&amp; starMap &amp;&amp; <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(starMap, nameSegment)) {
<a name="l333"><span class="linenum"> 333</span></a>                          foundStarMap = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(starMap, nameSegment);
<a name="l334"><span class="linenum"> 334</span></a>                          starI = i;
<a name="l335"><span class="linenum"> 335</span></a>                      }
<a name="l336"><span class="linenum"> 336</span></a>                  }
<a name="l337"><span class="linenum"> 337</span></a>  
<a name="l338"><span class="linenum"> 338</span></a>                  if (!foundMap &amp;&amp; foundStarMap) {
<a name="l339"><span class="linenum"> 339</span></a>                      foundMap = foundStarMap;
<a name="l340"><span class="linenum"> 340</span></a>                      foundI = starI;
<a name="l341"><span class="linenum"> 341</span></a>                  }
<a name="l342"><span class="linenum"> 342</span></a>  
<a name="l343"><span class="linenum"> 343</span></a>                  if (foundMap) {
<a name="l344"><span class="linenum"> 344</span></a>                      nameParts.<a class="function" onClick="logFunction('splice')" href="../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(0, foundI, foundMap);
<a name="l345"><span class="linenum"> 345</span></a>                      name = nameParts.<a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('/');
<a name="l346"><span class="linenum"> 346</span></a>                  }
<a name="l347"><span class="linenum"> 347</span></a>              }
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">            // If the name points to a package's name, use</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">            // the package main instead.</span>
<a name="l351"><span class="linenum"> 351</span></a>              pkgMain = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(config.pkgs, name);
<a name="l352"><span class="linenum"> 352</span></a>  
<a name="l353"><span class="linenum"> 353</span></a>              return pkgMain ? pkgMain : name;
<a name="l354"><span class="linenum"> 354</span></a>          }
<a name="l355"><span class="linenum"> 355</span></a>  
<a name="l356"><span class="linenum"> 356</span></a>          function <a class="function" onClick="logFunction('removeScript')" href="../../_functions/removescript.html" onMouseOver="funcPopup(event,'removescript')">removeScript</a>(name) {
<a name="l357"><span class="linenum"> 357</span></a>              if (isBrowser) {
<a name="l358"><span class="linenum"> 358</span></a>                  <a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(<a class="function" onClick="logFunction('scripts')" href="../../_functions/scripts.html" onMouseOver="funcPopup(event,'scripts')">scripts</a>(), function (scriptNode) {
<a name="l359"><span class="linenum"> 359</span></a>                      if (scriptNode.<a class="function" onClick="logFunction('getAttribute')" href="../../_functions/getattribute.html" onMouseOver="funcPopup(event,'getattribute')">getAttribute</a>('data-requiremodule') === name &amp;&amp;
<a name="l360"><span class="linenum"> 360</span></a>                              scriptNode.<a class="function" onClick="logFunction('getAttribute')" href="../../_functions/getattribute.html" onMouseOver="funcPopup(event,'getattribute')">getAttribute</a>('data-requirecontext') === context.contextName) {
<a name="l361"><span class="linenum"> 361</span></a>                          scriptNode.parentNode.<a class="function" onClick="logFunction('removeChild')" href="../../_functions/removechild.html" onMouseOver="funcPopup(event,'removechild')">removeChild</a>(scriptNode);
<a name="l362"><span class="linenum"> 362</span></a>                          return true;
<a name="l363"><span class="linenum"> 363</span></a>                      }
<a name="l364"><span class="linenum"> 364</span></a>                  });
<a name="l365"><span class="linenum"> 365</span></a>              }
<a name="l366"><span class="linenum"> 366</span></a>          }
<a name="l367"><span class="linenum"> 367</span></a>  
<a name="l368"><span class="linenum"> 368</span></a>          function <a class="function" onClick="logFunction('hasPathFallback')" href="../../_functions/haspathfallback.html" onMouseOver="funcPopup(event,'haspathfallback')">hasPathFallback</a>(id) {
<a name="l369"><span class="linenum"> 369</span></a>              var pathConfig = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(config.paths, id);
<a name="l370"><span class="linenum"> 370</span></a>              if (pathConfig &amp;&amp; <a class="function" onClick="logFunction('isArray')" href="../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(pathConfig) &amp;&amp; pathConfig.length &gt; 1) {
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">                //Pop off the first array value, since it failed, and</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">                //retry</span>
<a name="l373"><span class="linenum"> 373</span></a>                  pathConfig.<a class="function" onClick="logFunction('shift')" href="../../_functions/shift.html" onMouseOver="funcPopup(event,'shift')">shift</a>();
<a name="l374"><span class="linenum"> 374</span></a>                  context.require.undef(id);
<a name="l375"><span class="linenum"> 375</span></a>  
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">                //Custom require that does not do map translation, since</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">                //ID is &quot;absolute&quot;, already mapped/resolved.</span>
<a name="l378"><span class="linenum"> 378</span></a>                  context.makeRequire(null, {
<a name="l379"><span class="linenum"> 379</span></a>                      skipMap: true
<a name="l380"><span class="linenum"> 380</span></a>                  })([id]);
<a name="l381"><span class="linenum"> 381</span></a>  
<a name="l382"><span class="linenum"> 382</span></a>                  return true;
<a name="l383"><span class="linenum"> 383</span></a>              }
<a name="l384"><span class="linenum"> 384</span></a>          }
<a name="l385"><span class="linenum"> 385</span></a>  
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">        //Turns a plugin!resource to [plugin, resource]</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">        //with the plugin being undefined if the name</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">        //did not have a plugin prefix.</span>
<a name="l389"><span class="linenum"> 389</span></a>          function <a class="function" onClick="logFunction('splitPrefix')" href="../../_functions/splitprefix.html" onMouseOver="funcPopup(event,'splitprefix')">splitPrefix</a>(name) {
<a name="l390"><span class="linenum"> 390</span></a>              var prefix,
<a name="l391"><span class="linenum"> 391</span></a>                  index = name ? name.<a class="function" onClick="logFunction('indexOf')" href="../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>('!') : -1;
<a name="l392"><span class="linenum"> 392</span></a>              if (index &gt; -1) {
<a name="l393"><span class="linenum"> 393</span></a>                  prefix = name.<a class="function" onClick="logFunction('substring')" href="../../_functions/substring.html" onMouseOver="funcPopup(event,'substring')">substring</a>(0, index);
<a name="l394"><span class="linenum"> 394</span></a>                  name = name.<a class="function" onClick="logFunction('substring')" href="../../_functions/substring.html" onMouseOver="funcPopup(event,'substring')">substring</a>(index + 1, name.length);
<a name="l395"><span class="linenum"> 395</span></a>              }
<a name="l396"><span class="linenum"> 396</span></a>              return [prefix, name];
<a name="l397"><span class="linenum"> 397</span></a>          }
<a name="l398"><span class="linenum"> 398</span></a>  
<a name="l399"><span class="linenum"> 399</span></a>          <span class="comment">/**</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">         * Creates a module mapping that includes plugin prefix, module</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">         * name, and path. If parentModuleMap is provided it will</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">         * also normalize the name via require.normalize()</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">         *</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">         * @param {String} name the module name</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">         * @param {String} [parentModuleMap] parent module map</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">         * for the module name, used to resolve relative names.</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">         * @param {Boolean} isNormalized: is the ID already normalized.</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">         * This is true if this call is done for a define() module ID.</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">         * @param {Boolean} applyMap: apply the map config to the ID.</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">         * Should only be true if this map is for a dependency.</span>
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">         *</span>
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">         * @returns {Object}</span>
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">         */</span>
<a name="l414"><span class="linenum"> 414</span></a>          function <a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(name, parentModuleMap, isNormalized, applyMap) {
<a name="l415"><span class="linenum"> 415</span></a>              var url, pluginModule, suffix, nameParts,
<a name="l416"><span class="linenum"> 416</span></a>                  prefix = null,
<a name="l417"><span class="linenum"> 417</span></a>                  parentName = parentModuleMap ? parentModuleMap.name : null,
<a name="l418"><span class="linenum"> 418</span></a>                  originalName = name,
<a name="l419"><span class="linenum"> 419</span></a>                  isDefine = true,
<a name="l420"><span class="linenum"> 420</span></a>                  normalizedName = '';
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">            //If no name, then it means it is a require call, generate an</span>
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">            //internal name.</span>
<a name="l424"><span class="linenum"> 424</span></a>              if (!name) {
<a name="l425"><span class="linenum"> 425</span></a>                  isDefine = false;
<a name="l426"><span class="linenum"> 426</span></a>                  name = '_@r' + (requireCounter += 1);
<a name="l427"><span class="linenum"> 427</span></a>              }
<a name="l428"><span class="linenum"> 428</span></a>  
<a name="l429"><span class="linenum"> 429</span></a>              nameParts = <a class="function" onClick="logFunction('splitPrefix')" href="../../_functions/splitprefix.html" onMouseOver="funcPopup(event,'splitprefix')">splitPrefix</a>(name);
<a name="l430"><span class="linenum"> 430</span></a>              prefix = nameParts[0];
<a name="l431"><span class="linenum"> 431</span></a>              name = nameParts[1];
<a name="l432"><span class="linenum"> 432</span></a>  
<a name="l433"><span class="linenum"> 433</span></a>              if (prefix) {
<a name="l434"><span class="linenum"> 434</span></a>                  prefix = <a class="function" onClick="logFunction('normalize')" href="../../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>(prefix, parentName, applyMap);
<a name="l435"><span class="linenum"> 435</span></a>                  pluginModule = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(defined, prefix);
<a name="l436"><span class="linenum"> 436</span></a>              }
<a name="l437"><span class="linenum"> 437</span></a>  
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment">            //Account for relative paths if there is a base name.</span>
<a name="l439"><span class="linenum"> 439</span></a>              if (name) {
<a name="l440"><span class="linenum"> 440</span></a>                  if (prefix) {
<a name="l441"><span class="linenum"> 441</span></a>                      if (pluginModule &amp;&amp; pluginModule.normalize) {
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">                        //Plugin is loaded, use its normalize method.</span>
<a name="l443"><span class="linenum"> 443</span></a>                          normalizedName = pluginModule.<a class="function" onClick="logFunction('normalize')" href="../../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>(name, function (name) {
<a name="l444"><span class="linenum"> 444</span></a>                              return <a class="function" onClick="logFunction('normalize')" href="../../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>(name, parentName, applyMap);
<a name="l445"><span class="linenum"> 445</span></a>                          });
<a name="l446"><span class="linenum"> 446</span></a>                      } else {
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">                        // If nested plugin references, then do not try to</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">                        // normalize, as it will not normalize correctly. This</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">                        // places a restriction on resourceIds, and the longer</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">                        // term solution is not to normalize until plugins are</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">                        // loaded and all normalizations to allow for async</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">                        // loading of a loader plugin. But for now, fixes the</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">                        // common uses. Details in #1131</span>
<a name="l454"><span class="linenum"> 454</span></a>                          normalizedName = name.<a class="function" onClick="logFunction('indexOf')" href="../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>('!') === -1 ?
<a name="l455"><span class="linenum"> 455</span></a>                                           <a class="function" onClick="logFunction('normalize')" href="../../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>(name, parentName, applyMap) :
<a name="l456"><span class="linenum"> 456</span></a>                                           name;
<a name="l457"><span class="linenum"> 457</span></a>                      }
<a name="l458"><span class="linenum"> 458</span></a>                  } else {
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">                    //A regular module.</span>
<a name="l460"><span class="linenum"> 460</span></a>                      normalizedName = <a class="function" onClick="logFunction('normalize')" href="../../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>(name, parentName, applyMap);
<a name="l461"><span class="linenum"> 461</span></a>  
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">                    //Normalized name may be a plugin ID due to map config</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">                    //application in normalize. The map config values must</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment">                    //already be normalized, so do not need to redo that part.</span>
<a name="l465"><span class="linenum"> 465</span></a>                      nameParts = <a class="function" onClick="logFunction('splitPrefix')" href="../../_functions/splitprefix.html" onMouseOver="funcPopup(event,'splitprefix')">splitPrefix</a>(normalizedName);
<a name="l466"><span class="linenum"> 466</span></a>                      prefix = nameParts[0];
<a name="l467"><span class="linenum"> 467</span></a>                      normalizedName = nameParts[1];
<a name="l468"><span class="linenum"> 468</span></a>                      isNormalized = true;
<a name="l469"><span class="linenum"> 469</span></a>  
<a name="l470"><span class="linenum"> 470</span></a>                      url = context.nameToUrl(normalizedName);
<a name="l471"><span class="linenum"> 471</span></a>                  }
<a name="l472"><span class="linenum"> 472</span></a>              }
<a name="l473"><span class="linenum"> 473</span></a>  
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment">            //If the id is a plugin id that cannot be determined if it needs</span>
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment">            //normalization, stamp it with a unique ID so two matching relative</span>
<a name="l476"><span class="linenum"> 476</span></a>  <span class="comment">            //ids that may conflict can be separate.</span>
<a name="l477"><span class="linenum"> 477</span></a>              suffix = prefix &amp;&amp; !pluginModule &amp;&amp; !isNormalized ?
<a name="l478"><span class="linenum"> 478</span></a>                       '_unnormalized' + (unnormalizedCounter += 1) :
<a name="l479"><span class="linenum"> 479</span></a>                       '';
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>              return {
<a name="l482"><span class="linenum"> 482</span></a>                  prefix: prefix,
<a name="l483"><span class="linenum"> 483</span></a>                  name: normalizedName,
<a name="l484"><span class="linenum"> 484</span></a>                  parentMap: parentModuleMap,
<a name="l485"><span class="linenum"> 485</span></a>                  unnormalized: !!suffix,
<a name="l486"><span class="linenum"> 486</span></a>                  url: url,
<a name="l487"><span class="linenum"> 487</span></a>                  originalName: originalName,
<a name="l488"><span class="linenum"> 488</span></a>                  isDefine: isDefine,
<a name="l489"><span class="linenum"> 489</span></a>                  id: (prefix ?
<a name="l490"><span class="linenum"> 490</span></a>                          prefix + '!' + normalizedName :
<a name="l491"><span class="linenum"> 491</span></a>                          normalizedName) + suffix
<a name="l492"><span class="linenum"> 492</span></a>              };
<a name="l493"><span class="linenum"> 493</span></a>          }
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>          function <a class="function" onClick="logFunction('getModule')" href="../../_functions/getmodule.html" onMouseOver="funcPopup(event,'getmodule')">getModule</a>(depMap) {
<a name="l496"><span class="linenum"> 496</span></a>              var id = depMap.id,
<a name="l497"><span class="linenum"> 497</span></a>                  mod = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(registry, id);
<a name="l498"><span class="linenum"> 498</span></a>  
<a name="l499"><span class="linenum"> 499</span></a>              if (!mod) {
<a name="l500"><span class="linenum"> 500</span></a>                  mod = registry[id] = new context.<a class="function" onClick="logFunction('Module')" href="../../_functions/module.html" onMouseOver="funcPopup(event,'module')">Module</a>(depMap);
<a name="l501"><span class="linenum"> 501</span></a>              }
<a name="l502"><span class="linenum"> 502</span></a>  
<a name="l503"><span class="linenum"> 503</span></a>              return mod;
<a name="l504"><span class="linenum"> 504</span></a>          }
<a name="l505"><span class="linenum"> 505</span></a>  
<a name="l506"><span class="linenum"> 506</span></a>          function <a class="function" onClick="logFunction('on')" href="../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(depMap, name, fn) {
<a name="l507"><span class="linenum"> 507</span></a>              var id = depMap.id,
<a name="l508"><span class="linenum"> 508</span></a>                  mod = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(registry, id);
<a name="l509"><span class="linenum"> 509</span></a>  
<a name="l510"><span class="linenum"> 510</span></a>              if (<a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(defined, id) &amp;&amp;
<a name="l511"><span class="linenum"> 511</span></a>                      (!mod || mod.defineEmitComplete)) {
<a name="l512"><span class="linenum"> 512</span></a>                  if (name === 'defined') {
<a name="l513"><span class="linenum"> 513</span></a>                      <a class="function" onClick="logFunction('fn')" href="../../_functions/fn.html" onMouseOver="funcPopup(event,'fn')">fn</a>(defined[id]);
<a name="l514"><span class="linenum"> 514</span></a>                  }
<a name="l515"><span class="linenum"> 515</span></a>              } else {
<a name="l516"><span class="linenum"> 516</span></a>                  mod = <a class="function" onClick="logFunction('getModule')" href="../../_functions/getmodule.html" onMouseOver="funcPopup(event,'getmodule')">getModule</a>(depMap);
<a name="l517"><span class="linenum"> 517</span></a>                  if (mod.error &amp;&amp; name === 'error') {
<a name="l518"><span class="linenum"> 518</span></a>                      <a class="function" onClick="logFunction('fn')" href="../../_functions/fn.html" onMouseOver="funcPopup(event,'fn')">fn</a>(mod.error);
<a name="l519"><span class="linenum"> 519</span></a>                  } else {
<a name="l520"><span class="linenum"> 520</span></a>                      mod.<a class="function" onClick="logFunction('on')" href="../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(name, fn);
<a name="l521"><span class="linenum"> 521</span></a>                  }
<a name="l522"><span class="linenum"> 522</span></a>              }
<a name="l523"><span class="linenum"> 523</span></a>          }
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>          function <a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(err, errback) {
<a name="l526"><span class="linenum"> 526</span></a>              var ids = err.requireModules,
<a name="l527"><span class="linenum"> 527</span></a>                  notified = false;
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>              if (errback) {
<a name="l530"><span class="linenum"> 530</span></a>                  errback(err);
<a name="l531"><span class="linenum"> 531</span></a>              } else {
<a name="l532"><span class="linenum"> 532</span></a>                  <a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(ids, function (id) {
<a name="l533"><span class="linenum"> 533</span></a>                      var mod = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(registry, id);
<a name="l534"><span class="linenum"> 534</span></a>                      if (mod) {
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">                        //Set error on module, so it skips timeout checks.</span>
<a name="l536"><span class="linenum"> 536</span></a>                          mod.error = err;
<a name="l537"><span class="linenum"> 537</span></a>                          if (mod.events.error) {
<a name="l538"><span class="linenum"> 538</span></a>                              notified = true;
<a name="l539"><span class="linenum"> 539</span></a>                              mod.emit('error', err);
<a name="l540"><span class="linenum"> 540</span></a>                          }
<a name="l541"><span class="linenum"> 541</span></a>                      }
<a name="l542"><span class="linenum"> 542</span></a>                  });
<a name="l543"><span class="linenum"> 543</span></a>  
<a name="l544"><span class="linenum"> 544</span></a>                  if (!notified) {
<a name="l545"><span class="linenum"> 545</span></a>                      req.<a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(err);
<a name="l546"><span class="linenum"> 546</span></a>                  }
<a name="l547"><span class="linenum"> 547</span></a>              }
<a name="l548"><span class="linenum"> 548</span></a>          }
<a name="l549"><span class="linenum"> 549</span></a>  
<a name="l550"><span class="linenum"> 550</span></a>          <span class="comment">/**</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">         * Internal method to transfer globalQueue items to this context's</span>
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">         * defQueue.</span>
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">         */</span>
<a name="l554"><span class="linenum"> 554</span></a>          function <a class="function" onClick="logFunction('takeGlobalQueue')" href="../../_functions/takeglobalqueue.html" onMouseOver="funcPopup(event,'takeglobalqueue')">takeGlobalQueue</a>() {
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">            //Push all the globalDefQueue items into the context's defQueue</span>
<a name="l556"><span class="linenum"> 556</span></a>              if (globalDefQueue.length) {
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment">                //Array splice in the values since the context code has a</span>
<a name="l558"><span class="linenum"> 558</span></a>  <span class="comment">                //local var ref to defQueue, so cannot just reassign the one</span>
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">                //on context.</span>
<a name="l560"><span class="linenum"> 560</span></a>                  apsp.<a class="function" onClick="logFunction('apply')" href="../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(defQueue,
<a name="l561"><span class="linenum"> 561</span></a>                             [defQueue.length, 0].<a class="function" onClick="logFunction('concat')" href="../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(globalDefQueue));
<a name="l562"><span class="linenum"> 562</span></a>                  globalDefQueue = [];
<a name="l563"><span class="linenum"> 563</span></a>              }
<a name="l564"><span class="linenum"> 564</span></a>          }
<a name="l565"><span class="linenum"> 565</span></a>  
<a name="l566"><span class="linenum"> 566</span></a>          handlers = {
<a name="l567"><span class="linenum"> 567</span></a>              'require': function (mod) {
<a name="l568"><span class="linenum"> 568</span></a>                  if (mod.require) {
<a name="l569"><span class="linenum"> 569</span></a>                      return mod.require;
<a name="l570"><span class="linenum"> 570</span></a>                  } else {
<a name="l571"><span class="linenum"> 571</span></a>                      return (mod.require = context.makeRequire(mod.map));
<a name="l572"><span class="linenum"> 572</span></a>                  }
<a name="l573"><span class="linenum"> 573</span></a>              },
<a name="l574"><span class="linenum"> 574</span></a>              'exports': function (mod) {
<a name="l575"><span class="linenum"> 575</span></a>                  mod.usingExports = true;
<a name="l576"><span class="linenum"> 576</span></a>                  if (mod.map.isDefine) {
<a name="l577"><span class="linenum"> 577</span></a>                      if (mod.exports) {
<a name="l578"><span class="linenum"> 578</span></a>                          return (defined[mod.map.id] = mod.exports);
<a name="l579"><span class="linenum"> 579</span></a>                      } else {
<a name="l580"><span class="linenum"> 580</span></a>                          return (mod.exports = defined[mod.map.id] = {});
<a name="l581"><span class="linenum"> 581</span></a>                      }
<a name="l582"><span class="linenum"> 582</span></a>                  }
<a name="l583"><span class="linenum"> 583</span></a>              },
<a name="l584"><span class="linenum"> 584</span></a>              'module': function (mod) {
<a name="l585"><span class="linenum"> 585</span></a>                  if (mod.module) {
<a name="l586"><span class="linenum"> 586</span></a>                      return mod.module;
<a name="l587"><span class="linenum"> 587</span></a>                  } else {
<a name="l588"><span class="linenum"> 588</span></a>                      return (mod.module = {
<a name="l589"><span class="linenum"> 589</span></a>                          id: mod.map.id,
<a name="l590"><span class="linenum"> 590</span></a>                          uri: mod.map.url,
<a name="l591"><span class="linenum"> 591</span></a>                          config: function () {
<a name="l592"><span class="linenum"> 592</span></a>                              return  <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(config.config, mod.map.id) || {};
<a name="l593"><span class="linenum"> 593</span></a>                          },
<a name="l594"><span class="linenum"> 594</span></a>                          exports: mod.exports || (mod.exports = {})
<a name="l595"><span class="linenum"> 595</span></a>                      });
<a name="l596"><span class="linenum"> 596</span></a>                  }
<a name="l597"><span class="linenum"> 597</span></a>              }
<a name="l598"><span class="linenum"> 598</span></a>          };
<a name="l599"><span class="linenum"> 599</span></a>  
<a name="l600"><span class="linenum"> 600</span></a>          function <a class="function" onClick="logFunction('cleanRegistry')" href="../../_functions/cleanregistry.html" onMouseOver="funcPopup(event,'cleanregistry')">cleanRegistry</a>(id) {
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">            //Clean up machinery used for waiting modules.</span>
<a name="l602"><span class="linenum"> 602</span></a>              delete registry[id];
<a name="l603"><span class="linenum"> 603</span></a>              delete enabledRegistry[id];
<a name="l604"><span class="linenum"> 604</span></a>          }
<a name="l605"><span class="linenum"> 605</span></a>  
<a name="l606"><span class="linenum"> 606</span></a>          function <a class="function" onClick="logFunction('breakCycle')" href="../../_functions/breakcycle.html" onMouseOver="funcPopup(event,'breakcycle')">breakCycle</a>(mod, traced, processed) {
<a name="l607"><span class="linenum"> 607</span></a>              var id = mod.map.id;
<a name="l608"><span class="linenum"> 608</span></a>  
<a name="l609"><span class="linenum"> 609</span></a>              if (mod.error) {
<a name="l610"><span class="linenum"> 610</span></a>                  mod.emit('error', mod.error);
<a name="l611"><span class="linenum"> 611</span></a>              } else {
<a name="l612"><span class="linenum"> 612</span></a>                  traced[id] = true;
<a name="l613"><span class="linenum"> 613</span></a>                  <a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(mod.depMaps, function (depMap, i) {
<a name="l614"><span class="linenum"> 614</span></a>                      var depId = depMap.id,
<a name="l615"><span class="linenum"> 615</span></a>                          dep = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(registry, depId);
<a name="l616"><span class="linenum"> 616</span></a>  
<a name="l617"><span class="linenum"> 617</span></a>  <span class="comment">                    //Only force things that have not completed</span>
<a name="l618"><span class="linenum"> 618</span></a>  <span class="comment">                    //being defined, so still in the registry,</span>
<a name="l619"><span class="linenum"> 619</span></a>  <span class="comment">                    //and only if it has not been matched up</span>
<a name="l620"><span class="linenum"> 620</span></a>  <span class="comment">                    //in the module already.</span>
<a name="l621"><span class="linenum"> 621</span></a>                      if (dep &amp;&amp; !mod.depMatched[i] &amp;&amp; !processed[depId]) {
<a name="l622"><span class="linenum"> 622</span></a>                          if (<a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(traced, depId)) {
<a name="l623"><span class="linenum"> 623</span></a>                              mod.defineDep(i, defined[depId]);
<a name="l624"><span class="linenum"> 624</span></a>                              mod.<a class="function" onClick="logFunction('check')" href="../../_functions/check.html" onMouseOver="funcPopup(event,'check')">check</a>(); <span class="comment">//pass false?</span>
<a name="l625"><span class="linenum"> 625</span></a>                          } else {
<a name="l626"><span class="linenum"> 626</span></a>                              <a class="function" onClick="logFunction('breakCycle')" href="../../_functions/breakcycle.html" onMouseOver="funcPopup(event,'breakcycle')">breakCycle</a>(dep, traced, processed);
<a name="l627"><span class="linenum"> 627</span></a>                          }
<a name="l628"><span class="linenum"> 628</span></a>                      }
<a name="l629"><span class="linenum"> 629</span></a>                  });
<a name="l630"><span class="linenum"> 630</span></a>                  processed[id] = true;
<a name="l631"><span class="linenum"> 631</span></a>              }
<a name="l632"><span class="linenum"> 632</span></a>          }
<a name="l633"><span class="linenum"> 633</span></a>  
<a name="l634"><span class="linenum"> 634</span></a>          function <a class="function" onClick="logFunction('checkLoaded')" href="../../_functions/checkloaded.html" onMouseOver="funcPopup(event,'checkloaded')">checkLoaded</a>() {
<a name="l635"><span class="linenum"> 635</span></a>              var err, usingPathFallback,
<a name="l636"><span class="linenum"> 636</span></a>                  waitInterval = config.waitSeconds * 1000,
<a name="l637"><span class="linenum"> 637</span></a>  <span class="comment">                //It is possible to disable the wait interval by using waitSeconds of 0.</span>
<a name="l638"><span class="linenum"> 638</span></a>                  expired = waitInterval &amp;&amp; (context.startTime + waitInterval) &lt; new <a class="phpfunction" onClick="logFunction('Date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().<a class="function" onClick="logFunction('getTime')" href="../../_functions/gettime.html" onMouseOver="funcPopup(event,'gettime')">getTime</a>(),
<a name="l639"><span class="linenum"> 639</span></a>                  noLoads = [],
<a name="l640"><span class="linenum"> 640</span></a>                  reqCalls = [],
<a name="l641"><span class="linenum"> 641</span></a>                  stillLoading = false,
<a name="l642"><span class="linenum"> 642</span></a>                  needCycleCheck = true;
<a name="l643"><span class="linenum"> 643</span></a>  
<a name="l644"><span class="linenum"> 644</span></a>  <span class="comment">            //Do not bother if this call was a result of a cycle break.</span>
<a name="l645"><span class="linenum"> 645</span></a>              if (inCheckLoaded) {
<a name="l646"><span class="linenum"> 646</span></a>                  return;
<a name="l647"><span class="linenum"> 647</span></a>              }
<a name="l648"><span class="linenum"> 648</span></a>  
<a name="l649"><span class="linenum"> 649</span></a>              inCheckLoaded = true;
<a name="l650"><span class="linenum"> 650</span></a>  
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">            //Figure out the state of all the modules.</span>
<a name="l652"><span class="linenum"> 652</span></a>              <a class="function" onClick="logFunction('eachProp')" href="../../_functions/eachprop.html" onMouseOver="funcPopup(event,'eachprop')">eachProp</a>(enabledRegistry, function (mod) {
<a name="l653"><span class="linenum"> 653</span></a>                  var map = mod.map,
<a name="l654"><span class="linenum"> 654</span></a>                      modId = map.id;
<a name="l655"><span class="linenum"> 655</span></a>  
<a name="l656"><span class="linenum"> 656</span></a>  <span class="comment">                //Skip things that are not enabled or in error state.</span>
<a name="l657"><span class="linenum"> 657</span></a>                  if (!mod.enabled) {
<a name="l658"><span class="linenum"> 658</span></a>                      return;
<a name="l659"><span class="linenum"> 659</span></a>                  }
<a name="l660"><span class="linenum"> 660</span></a>  
<a name="l661"><span class="linenum"> 661</span></a>                  if (!map.isDefine) {
<a name="l662"><span class="linenum"> 662</span></a>                      reqCalls.<a class="function" onClick="logFunction('push')" href="../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(mod);
<a name="l663"><span class="linenum"> 663</span></a>                  }
<a name="l664"><span class="linenum"> 664</span></a>  
<a name="l665"><span class="linenum"> 665</span></a>                  if (!mod.error) {
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">                    //If the module should be executed, and it has not</span>
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment">                    //been inited and time is up, remember it.</span>
<a name="l668"><span class="linenum"> 668</span></a>                      if (!mod.inited &amp;&amp; expired) {
<a name="l669"><span class="linenum"> 669</span></a>                          if (<a class="function" onClick="logFunction('hasPathFallback')" href="../../_functions/haspathfallback.html" onMouseOver="funcPopup(event,'haspathfallback')">hasPathFallback</a>(modId)) {
<a name="l670"><span class="linenum"> 670</span></a>                              usingPathFallback = true;
<a name="l671"><span class="linenum"> 671</span></a>                              stillLoading = true;
<a name="l672"><span class="linenum"> 672</span></a>                          } else {
<a name="l673"><span class="linenum"> 673</span></a>                              noLoads.<a class="function" onClick="logFunction('push')" href="../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(modId);
<a name="l674"><span class="linenum"> 674</span></a>                              <a class="function" onClick="logFunction('removeScript')" href="../../_functions/removescript.html" onMouseOver="funcPopup(event,'removescript')">removeScript</a>(modId);
<a name="l675"><span class="linenum"> 675</span></a>                          }
<a name="l676"><span class="linenum"> 676</span></a>                      } else if (!mod.inited &amp;&amp; mod.fetched &amp;&amp; map.isDefine) {
<a name="l677"><span class="linenum"> 677</span></a>                          stillLoading = true;
<a name="l678"><span class="linenum"> 678</span></a>                          if (!map.prefix) {
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">                            //No reason to keep looking for unfinished</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">                            //loading. If the only stillLoading is a</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">                            //plugin resource though, keep going,</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment">                            //because it may be that a plugin resource</span>
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment">                            //is waiting on a non-plugin cycle.</span>
<a name="l684"><span class="linenum"> 684</span></a>                              return (needCycleCheck = false);
<a name="l685"><span class="linenum"> 685</span></a>                          }
<a name="l686"><span class="linenum"> 686</span></a>                      }
<a name="l687"><span class="linenum"> 687</span></a>                  }
<a name="l688"><span class="linenum"> 688</span></a>              });
<a name="l689"><span class="linenum"> 689</span></a>  
<a name="l690"><span class="linenum"> 690</span></a>              if (expired &amp;&amp; noLoads.length) {
<a name="l691"><span class="linenum"> 691</span></a>  <span class="comment">                //If wait time expired, throw error of unloaded modules.</span>
<a name="l692"><span class="linenum"> 692</span></a>                  err = <a class="function" onClick="logFunction('makeError')" href="../../_functions/makeerror.html" onMouseOver="funcPopup(event,'makeerror')">makeError</a>('timeout', 'Load timeout for modules: ' + noLoads, null, noLoads);
<a name="l693"><span class="linenum"> 693</span></a>                  err.contextName = context.contextName;
<a name="l694"><span class="linenum"> 694</span></a>                  return <a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(err);
<a name="l695"><span class="linenum"> 695</span></a>              }
<a name="l696"><span class="linenum"> 696</span></a>  
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment">            //Not expired, check for a cycle.</span>
<a name="l698"><span class="linenum"> 698</span></a>              if (needCycleCheck) {
<a name="l699"><span class="linenum"> 699</span></a>                  <a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(reqCalls, function (mod) {
<a name="l700"><span class="linenum"> 700</span></a>                      <a class="function" onClick="logFunction('breakCycle')" href="../../_functions/breakcycle.html" onMouseOver="funcPopup(event,'breakcycle')">breakCycle</a>(mod, {}, {});
<a name="l701"><span class="linenum"> 701</span></a>                  });
<a name="l702"><span class="linenum"> 702</span></a>              }
<a name="l703"><span class="linenum"> 703</span></a>  
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">            //If still waiting on loads, and the waiting load is something</span>
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment">            //other than a plugin resource, or there are still outstanding</span>
<a name="l706"><span class="linenum"> 706</span></a>  <span class="comment">            //scripts, then just try back later.</span>
<a name="l707"><span class="linenum"> 707</span></a>              if ((!expired || usingPathFallback) &amp;&amp; stillLoading) {
<a name="l708"><span class="linenum"> 708</span></a>  <span class="comment">                //Something is still waiting to load. Wait for it, but only</span>
<a name="l709"><span class="linenum"> 709</span></a>  <span class="comment">                //if a timeout is not already in effect.</span>
<a name="l710"><span class="linenum"> 710</span></a>                  if ((isBrowser || isWebWorker) &amp;&amp; !checkLoadedTimeoutId) {
<a name="l711"><span class="linenum"> 711</span></a>                      checkLoadedTimeoutId = <a class="function" onClick="logFunction('setTimeout')" href="../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>(function () {
<a name="l712"><span class="linenum"> 712</span></a>                          checkLoadedTimeoutId = 0;
<a name="l713"><span class="linenum"> 713</span></a>                          <a class="function" onClick="logFunction('checkLoaded')" href="../../_functions/checkloaded.html" onMouseOver="funcPopup(event,'checkloaded')">checkLoaded</a>();
<a name="l714"><span class="linenum"> 714</span></a>                      }, 50);
<a name="l715"><span class="linenum"> 715</span></a>                  }
<a name="l716"><span class="linenum"> 716</span></a>              }
<a name="l717"><span class="linenum"> 717</span></a>  
<a name="l718"><span class="linenum"> 718</span></a>              inCheckLoaded = false;
<a name="l719"><span class="linenum"> 719</span></a>          }
<a name="l720"><span class="linenum"> 720</span></a>  
<a name="l721"><span class="linenum"> 721</span></a>          Module = function (map) {
<a name="l722"><span class="linenum"> 722</span></a>              this.events = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(undefEvents, map.id) || {};
<a name="l723"><span class="linenum"> 723</span></a>              this.map = map;
<a name="l724"><span class="linenum"> 724</span></a>              this.shim = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(config.shim, map.id);
<a name="l725"><span class="linenum"> 725</span></a>              this.depExports = [];
<a name="l726"><span class="linenum"> 726</span></a>              this.depMaps = [];
<a name="l727"><span class="linenum"> 727</span></a>              this.depMatched = [];
<a name="l728"><span class="linenum"> 728</span></a>              this.pluginMaps = {};
<a name="l729"><span class="linenum"> 729</span></a>              this.depCount = 0;
<a name="l730"><span class="linenum"> 730</span></a>  
<a name="l731"><span class="linenum"> 731</span></a>              <span class="comment">/* this.exports this.factory</span>
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment">               this.depMaps = [],</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment">               this.enabled, this.fetched</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment">            */</span>
<a name="l735"><span class="linenum"> 735</span></a>          };
<a name="l736"><span class="linenum"> 736</span></a>  
<a name="l737"><span class="linenum"> 737</span></a>          Module.prototype = {
<a name="l738"><span class="linenum"> 738</span></a>              init: function (depMaps, factory, errback, options) {
<a name="l739"><span class="linenum"> 739</span></a>                  options = options || {};
<a name="l740"><span class="linenum"> 740</span></a>  
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment">                //Do not do more inits if already done. Can happen if there</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment">                //are multiple define calls for the same module. That is not</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment">                //a normal, common case, but it is also not unexpected.</span>
<a name="l744"><span class="linenum"> 744</span></a>                  if (this.inited) {
<a name="l745"><span class="linenum"> 745</span></a>                      return;
<a name="l746"><span class="linenum"> 746</span></a>                  }
<a name="l747"><span class="linenum"> 747</span></a>  
<a name="l748"><span class="linenum"> 748</span></a>                  this.factory = factory;
<a name="l749"><span class="linenum"> 749</span></a>  
<a name="l750"><span class="linenum"> 750</span></a>                  if (errback) {
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">                    //Register for errors on this module.</span>
<a name="l752"><span class="linenum"> 752</span></a>                      this.<a class="function" onClick="logFunction('on')" href="../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('error', errback);
<a name="l753"><span class="linenum"> 753</span></a>                  } else if (this.events.error) {
<a name="l754"><span class="linenum"> 754</span></a>  <span class="comment">                    //If no errback already, but there are error listeners</span>
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment">                    //on this module, set up an errback to pass to the deps.</span>
<a name="l756"><span class="linenum"> 756</span></a>                      errback = <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function (err) {
<a name="l757"><span class="linenum"> 757</span></a>                          this.emit('error', err);
<a name="l758"><span class="linenum"> 758</span></a>                      });
<a name="l759"><span class="linenum"> 759</span></a>                  }
<a name="l760"><span class="linenum"> 760</span></a>  
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment">                //Do a copy of the dependency array, so that</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment">                //source inputs are not modified. For example</span>
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">                //&quot;shim&quot; deps are passed in here directly, and</span>
<a name="l764"><span class="linenum"> 764</span></a>  <span class="comment">                //doing a direct modification of the depMaps array</span>
<a name="l765"><span class="linenum"> 765</span></a>  <span class="comment">                //would affect that config.</span>
<a name="l766"><span class="linenum"> 766</span></a>                  this.depMaps = depMaps &amp;&amp; depMaps.slice(0);
<a name="l767"><span class="linenum"> 767</span></a>  
<a name="l768"><span class="linenum"> 768</span></a>                  this.errback = errback;
<a name="l769"><span class="linenum"> 769</span></a>  
<a name="l770"><span class="linenum"> 770</span></a>  <span class="comment">                //Indicate this module has be initialized</span>
<a name="l771"><span class="linenum"> 771</span></a>                  this.inited = true;
<a name="l772"><span class="linenum"> 772</span></a>  
<a name="l773"><span class="linenum"> 773</span></a>                  this.ignore = options.ignore;
<a name="l774"><span class="linenum"> 774</span></a>  
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment">                //Could have option to init this module in enabled mode,</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">                //or could have been previously marked as enabled. However,</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment">                //the dependencies are not known until init is called. So</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">                //if enabled previously, now trigger dependencies as enabled.</span>
<a name="l779"><span class="linenum"> 779</span></a>                  if (options.enabled || this.enabled) {
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment">                    //Enable this module and dependencies.</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">                    //Will call this.check()</span>
<a name="l782"><span class="linenum"> 782</span></a>                      this.<a class="function" onClick="logFunction('enable')" href="../../_functions/enable.html" onMouseOver="funcPopup(event,'enable')">enable</a>();
<a name="l783"><span class="linenum"> 783</span></a>                  } else {
<a name="l784"><span class="linenum"> 784</span></a>                      this.<a class="function" onClick="logFunction('check')" href="../../_functions/check.html" onMouseOver="funcPopup(event,'check')">check</a>();
<a name="l785"><span class="linenum"> 785</span></a>                  }
<a name="l786"><span class="linenum"> 786</span></a>              },
<a name="l787"><span class="linenum"> 787</span></a>  
<a name="l788"><span class="linenum"> 788</span></a>              defineDep: function (i, depExports) {
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment">                //Because of cycles, defined callback for a given</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">                //export can be called more than once.</span>
<a name="l791"><span class="linenum"> 791</span></a>                  if (!this.depMatched[i]) {
<a name="l792"><span class="linenum"> 792</span></a>                      this.depMatched[i] = true;
<a name="l793"><span class="linenum"> 793</span></a>                      this.depCount -= 1;
<a name="l794"><span class="linenum"> 794</span></a>                      this.depExports[i] = depExports;
<a name="l795"><span class="linenum"> 795</span></a>                  }
<a name="l796"><span class="linenum"> 796</span></a>              },
<a name="l797"><span class="linenum"> 797</span></a>  
<a name="l798"><span class="linenum"> 798</span></a>              fetch: function () {
<a name="l799"><span class="linenum"> 799</span></a>                  if (this.fetched) {
<a name="l800"><span class="linenum"> 800</span></a>                      return;
<a name="l801"><span class="linenum"> 801</span></a>                  }
<a name="l802"><span class="linenum"> 802</span></a>                  this.fetched = true;
<a name="l803"><span class="linenum"> 803</span></a>  
<a name="l804"><span class="linenum"> 804</span></a>                  context.startTime = (new <a class="phpfunction" onClick="logFunction('Date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>()).<a class="function" onClick="logFunction('getTime')" href="../../_functions/gettime.html" onMouseOver="funcPopup(event,'gettime')">getTime</a>();
<a name="l805"><span class="linenum"> 805</span></a>  
<a name="l806"><span class="linenum"> 806</span></a>                  var map = this.map;
<a name="l807"><span class="linenum"> 807</span></a>  
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">                //If the manager is for a plugin managed resource,</span>
<a name="l809"><span class="linenum"> 809</span></a>  <span class="comment">                //ask the plugin to load it now.</span>
<a name="l810"><span class="linenum"> 810</span></a>                  if (this.shim) {
<a name="l811"><span class="linenum"> 811</span></a>                      context.makeRequire(this.map, {
<a name="l812"><span class="linenum"> 812</span></a>                          enableBuildCallback: true
<a name="l813"><span class="linenum"> 813</span></a>                      })(this.shim.deps || [], <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function () {
<a name="l814"><span class="linenum"> 814</span></a>                          return map.prefix ? this.callPlugin() : this.<a class="function" onClick="logFunction('load')" href="../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>();
<a name="l815"><span class="linenum"> 815</span></a>                      }));
<a name="l816"><span class="linenum"> 816</span></a>                  } else {
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment">                    //Regular dependency.</span>
<a name="l818"><span class="linenum"> 818</span></a>                      return map.prefix ? this.callPlugin() : this.<a class="function" onClick="logFunction('load')" href="../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>();
<a name="l819"><span class="linenum"> 819</span></a>                  }
<a name="l820"><span class="linenum"> 820</span></a>              },
<a name="l821"><span class="linenum"> 821</span></a>  
<a name="l822"><span class="linenum"> 822</span></a>              load: function () {
<a name="l823"><span class="linenum"> 823</span></a>                  var url = this.map.url;
<a name="l824"><span class="linenum"> 824</span></a>  
<a name="l825"><span class="linenum"> 825</span></a>  <span class="comment">                //Regular dependency.</span>
<a name="l826"><span class="linenum"> 826</span></a>                  if (!urlFetched[url]) {
<a name="l827"><span class="linenum"> 827</span></a>                      urlFetched[url] = true;
<a name="l828"><span class="linenum"> 828</span></a>                      context.<a class="function" onClick="logFunction('load')" href="../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>(this.map.id, url);
<a name="l829"><span class="linenum"> 829</span></a>                  }
<a name="l830"><span class="linenum"> 830</span></a>              },
<a name="l831"><span class="linenum"> 831</span></a>  
<a name="l832"><span class="linenum"> 832</span></a>              <span class="comment">/**</span>
<a name="l833"><span class="linenum"> 833</span></a>  <span class="comment">             * Checks if the module is ready to define itself, and if so,</span>
<a name="l834"><span class="linenum"> 834</span></a>  <span class="comment">             * define it.</span>
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">             */</span>
<a name="l836"><span class="linenum"> 836</span></a>              check: function () {
<a name="l837"><span class="linenum"> 837</span></a>                  if (!this.enabled || this.enabling) {
<a name="l838"><span class="linenum"> 838</span></a>                      return;
<a name="l839"><span class="linenum"> 839</span></a>                  }
<a name="l840"><span class="linenum"> 840</span></a>  
<a name="l841"><span class="linenum"> 841</span></a>                  var err, cjsModule,
<a name="l842"><span class="linenum"> 842</span></a>                      id = this.map.id,
<a name="l843"><span class="linenum"> 843</span></a>                      depExports = this.depExports,
<a name="l844"><span class="linenum"> 844</span></a>                      exports = this.exports,
<a name="l845"><span class="linenum"> 845</span></a>                      factory = this.factory;
<a name="l846"><span class="linenum"> 846</span></a>  
<a name="l847"><span class="linenum"> 847</span></a>                  if (!this.inited) {
<a name="l848"><span class="linenum"> 848</span></a>                      this.<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>();
<a name="l849"><span class="linenum"> 849</span></a>                  } else if (this.error) {
<a name="l850"><span class="linenum"> 850</span></a>                      this.emit('error', this.error);
<a name="l851"><span class="linenum"> 851</span></a>                  } else if (!this.defining) {
<a name="l852"><span class="linenum"> 852</span></a>  <span class="comment">                    //The factory could trigger another require call</span>
<a name="l853"><span class="linenum"> 853</span></a>  <span class="comment">                    //that would result in checking this module to</span>
<a name="l854"><span class="linenum"> 854</span></a>  <span class="comment">                    //define itself again. If already in the process</span>
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment">                    //of doing that, skip this work.</span>
<a name="l856"><span class="linenum"> 856</span></a>                      this.defining = true;
<a name="l857"><span class="linenum"> 857</span></a>  
<a name="l858"><span class="linenum"> 858</span></a>                      if (this.depCount &lt; 1 &amp;&amp; !this.defined) {
<a name="l859"><span class="linenum"> 859</span></a>                          if (<a class="function" onClick="logFunction('isFunction')" href="../../_functions/isfunction.html" onMouseOver="funcPopup(event,'isfunction')">isFunction</a>(factory)) {
<a name="l860"><span class="linenum"> 860</span></a>  <span class="comment">                            //If there is an error listener, favor passing</span>
<a name="l861"><span class="linenum"> 861</span></a>  <span class="comment">                            //to that instead of throwing an error. However,</span>
<a name="l862"><span class="linenum"> 862</span></a>  <span class="comment">                            //only do it for define()'d  modules. require</span>
<a name="l863"><span class="linenum"> 863</span></a>  <span class="comment">                            //errbacks should not be called for failures in</span>
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">                            //their callbacks (#699). However if a global</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">                            //onError is set, use that.</span>
<a name="l866"><span class="linenum"> 866</span></a>                              if ((this.events.error &amp;&amp; this.map.isDefine) ||
<a name="l867"><span class="linenum"> 867</span></a>                                  req.onError !== defaultOnError) {
<a name="l868"><span class="linenum"> 868</span></a>                                  try {
<a name="l869"><span class="linenum"> 869</span></a>                                      exports = context.execCb(id, factory, depExports, exports);
<a name="l870"><span class="linenum"> 870</span></a>                                  } catch (e) {
<a name="l871"><span class="linenum"> 871</span></a>                                      err = e;
<a name="l872"><span class="linenum"> 872</span></a>                                  }
<a name="l873"><span class="linenum"> 873</span></a>                              } else {
<a name="l874"><span class="linenum"> 874</span></a>                                  exports = context.execCb(id, factory, depExports, exports);
<a name="l875"><span class="linenum"> 875</span></a>                              }
<a name="l876"><span class="linenum"> 876</span></a>  
<a name="l877"><span class="linenum"> 877</span></a>  <span class="comment">                            // Favor return value over exports. If node/cjs in play,</span>
<a name="l878"><span class="linenum"> 878</span></a>  <span class="comment">                            // then will not have a return value anyway. Favor</span>
<a name="l879"><span class="linenum"> 879</span></a>  <span class="comment">                            // module.exports assignment over exports object.</span>
<a name="l880"><span class="linenum"> 880</span></a>                              if (this.map.isDefine &amp;&amp; exports === undefined) {
<a name="l881"><span class="linenum"> 881</span></a>                                  cjsModule = this.module;
<a name="l882"><span class="linenum"> 882</span></a>                                  if (cjsModule) {
<a name="l883"><span class="linenum"> 883</span></a>                                      exports = cjsModule.exports;
<a name="l884"><span class="linenum"> 884</span></a>                                  } else if (this.usingExports) {
<a name="l885"><span class="linenum"> 885</span></a>  <span class="comment">                                    //exports already set the defined value.</span>
<a name="l886"><span class="linenum"> 886</span></a>                                      exports = this.exports;
<a name="l887"><span class="linenum"> 887</span></a>                                  }
<a name="l888"><span class="linenum"> 888</span></a>                              }
<a name="l889"><span class="linenum"> 889</span></a>  
<a name="l890"><span class="linenum"> 890</span></a>                              if (err) {
<a name="l891"><span class="linenum"> 891</span></a>                                  err.requireMap = this.map;
<a name="l892"><span class="linenum"> 892</span></a>                                  err.requireModules = this.map.isDefine ? [this.map.id] : null;
<a name="l893"><span class="linenum"> 893</span></a>                                  err.requireType = this.map.isDefine ? 'define' : 'require';
<a name="l894"><span class="linenum"> 894</span></a>                                  return <a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>((this.error = err));
<a name="l895"><span class="linenum"> 895</span></a>                              }
<a name="l896"><span class="linenum"> 896</span></a>  
<a name="l897"><span class="linenum"> 897</span></a>                          } else {
<a name="l898"><span class="linenum"> 898</span></a>  <span class="comment">                            //Just a literal value</span>
<a name="l899"><span class="linenum"> 899</span></a>                              exports = factory;
<a name="l900"><span class="linenum"> 900</span></a>                          }
<a name="l901"><span class="linenum"> 901</span></a>  
<a name="l902"><span class="linenum"> 902</span></a>                          this.exports = exports;
<a name="l903"><span class="linenum"> 903</span></a>  
<a name="l904"><span class="linenum"> 904</span></a>                          if (this.map.isDefine &amp;&amp; !this.ignore) {
<a name="l905"><span class="linenum"> 905</span></a>                              defined[id] = exports;
<a name="l906"><span class="linenum"> 906</span></a>  
<a name="l907"><span class="linenum"> 907</span></a>                              if (req.onResourceLoad) {
<a name="l908"><span class="linenum"> 908</span></a>                                  req.onResourceLoad(context, this.map, this.depMaps);
<a name="l909"><span class="linenum"> 909</span></a>                              }
<a name="l910"><span class="linenum"> 910</span></a>                          }
<a name="l911"><span class="linenum"> 911</span></a>  
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment">                        //Clean up</span>
<a name="l913"><span class="linenum"> 913</span></a>                          <a class="function" onClick="logFunction('cleanRegistry')" href="../../_functions/cleanregistry.html" onMouseOver="funcPopup(event,'cleanregistry')">cleanRegistry</a>(id);
<a name="l914"><span class="linenum"> 914</span></a>  
<a name="l915"><span class="linenum"> 915</span></a>                          this.defined = true;
<a name="l916"><span class="linenum"> 916</span></a>                      }
<a name="l917"><span class="linenum"> 917</span></a>  
<a name="l918"><span class="linenum"> 918</span></a>  <span class="comment">                    //Finished the define stage. Allow calling check again</span>
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment">                    //to allow define notifications below in the case of a</span>
<a name="l920"><span class="linenum"> 920</span></a>  <span class="comment">                    //cycle.</span>
<a name="l921"><span class="linenum"> 921</span></a>                      this.defining = false;
<a name="l922"><span class="linenum"> 922</span></a>  
<a name="l923"><span class="linenum"> 923</span></a>                      if (this.defined &amp;&amp; !this.defineEmitted) {
<a name="l924"><span class="linenum"> 924</span></a>                          this.defineEmitted = true;
<a name="l925"><span class="linenum"> 925</span></a>                          this.emit('defined', this.exports);
<a name="l926"><span class="linenum"> 926</span></a>                          this.defineEmitComplete = true;
<a name="l927"><span class="linenum"> 927</span></a>                      }
<a name="l928"><span class="linenum"> 928</span></a>  
<a name="l929"><span class="linenum"> 929</span></a>                  }
<a name="l930"><span class="linenum"> 930</span></a>              },
<a name="l931"><span class="linenum"> 931</span></a>  
<a name="l932"><span class="linenum"> 932</span></a>              callPlugin: function () {
<a name="l933"><span class="linenum"> 933</span></a>                  var map = this.map,
<a name="l934"><span class="linenum"> 934</span></a>                      id = map.id,
<a name="l935"><span class="linenum"> 935</span></a>  <span class="comment">                    //Map already normalized the prefix.</span>
<a name="l936"><span class="linenum"> 936</span></a>                      pluginMap = <a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(map.prefix);
<a name="l937"><span class="linenum"> 937</span></a>  
<a name="l938"><span class="linenum"> 938</span></a>  <span class="comment">                //Mark this as a dependency for this plugin, so it</span>
<a name="l939"><span class="linenum"> 939</span></a>  <span class="comment">                //can be traced for cycles.</span>
<a name="l940"><span class="linenum"> 940</span></a>                  this.depMaps.<a class="function" onClick="logFunction('push')" href="../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(pluginMap);
<a name="l941"><span class="linenum"> 941</span></a>  
<a name="l942"><span class="linenum"> 942</span></a>                  <a class="function" onClick="logFunction('on')" href="../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(pluginMap, 'defined', <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function (plugin) {
<a name="l943"><span class="linenum"> 943</span></a>                      var load, normalizedMap, normalizedMod,
<a name="l944"><span class="linenum"> 944</span></a>                          bundleId = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(bundlesMap, this.map.id),
<a name="l945"><span class="linenum"> 945</span></a>                          name = this.map.name,
<a name="l946"><span class="linenum"> 946</span></a>                          parentName = this.map.parentMap ? this.map.parentMap.name : null,
<a name="l947"><span class="linenum"> 947</span></a>                          localRequire = context.makeRequire(map.parentMap, {
<a name="l948"><span class="linenum"> 948</span></a>                              enableBuildCallback: true
<a name="l949"><span class="linenum"> 949</span></a>                          });
<a name="l950"><span class="linenum"> 950</span></a>  
<a name="l951"><span class="linenum"> 951</span></a>  <span class="comment">                    //If current map is not normalized, wait for that</span>
<a name="l952"><span class="linenum"> 952</span></a>  <span class="comment">                    //normalized name to load instead of continuing.</span>
<a name="l953"><span class="linenum"> 953</span></a>                      if (this.map.unnormalized) {
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment">                        //Normalize the ID if the plugin allows it.</span>
<a name="l955"><span class="linenum"> 955</span></a>                          if (plugin.normalize) {
<a name="l956"><span class="linenum"> 956</span></a>                              name = plugin.<a class="function" onClick="logFunction('normalize')" href="../../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>(name, function (name) {
<a name="l957"><span class="linenum"> 957</span></a>                                  return <a class="function" onClick="logFunction('normalize')" href="../../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>(name, parentName, true);
<a name="l958"><span class="linenum"> 958</span></a>                              }) || '';
<a name="l959"><span class="linenum"> 959</span></a>                          }
<a name="l960"><span class="linenum"> 960</span></a>  
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment">                        //prefix and name should already be normalized, no need</span>
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">                        //for applying map config again either.</span>
<a name="l963"><span class="linenum"> 963</span></a>                          normalizedMap = <a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(map.prefix + '!' + name,
<a name="l964"><span class="linenum"> 964</span></a>                                                        this.map.parentMap);
<a name="l965"><span class="linenum"> 965</span></a>                          <a class="function" onClick="logFunction('on')" href="../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(normalizedMap,
<a name="l966"><span class="linenum"> 966</span></a>                              'defined', <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function (value) {
<a name="l967"><span class="linenum"> 967</span></a>                                  this.<a class="function" onClick="logFunction('init')" href="../../_functions/init.html" onMouseOver="funcPopup(event,'init')">init</a>([], function () { return value; }, null, {
<a name="l968"><span class="linenum"> 968</span></a>                                      enabled: true,
<a name="l969"><span class="linenum"> 969</span></a>                                      ignore: true
<a name="l970"><span class="linenum"> 970</span></a>                                  });
<a name="l971"><span class="linenum"> 971</span></a>                              }));
<a name="l972"><span class="linenum"> 972</span></a>  
<a name="l973"><span class="linenum"> 973</span></a>                          normalizedMod = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(registry, normalizedMap.id);
<a name="l974"><span class="linenum"> 974</span></a>                          if (normalizedMod) {
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment">                            //Mark this as a dependency for this plugin, so it</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">                            //can be traced for cycles.</span>
<a name="l977"><span class="linenum"> 977</span></a>                              this.depMaps.<a class="function" onClick="logFunction('push')" href="../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(normalizedMap);
<a name="l978"><span class="linenum"> 978</span></a>  
<a name="l979"><span class="linenum"> 979</span></a>                              if (this.events.error) {
<a name="l980"><span class="linenum"> 980</span></a>                                  normalizedMod.<a class="function" onClick="logFunction('on')" href="../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('error', <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function (err) {
<a name="l981"><span class="linenum"> 981</span></a>                                      this.emit('error', err);
<a name="l982"><span class="linenum"> 982</span></a>                                  }));
<a name="l983"><span class="linenum"> 983</span></a>                              }
<a name="l984"><span class="linenum"> 984</span></a>                              normalizedMod.<a class="function" onClick="logFunction('enable')" href="../../_functions/enable.html" onMouseOver="funcPopup(event,'enable')">enable</a>();
<a name="l985"><span class="linenum"> 985</span></a>                          }
<a name="l986"><span class="linenum"> 986</span></a>  
<a name="l987"><span class="linenum"> 987</span></a>                          return;
<a name="l988"><span class="linenum"> 988</span></a>                      }
<a name="l989"><span class="linenum"> 989</span></a>  
<a name="l990"><span class="linenum"> 990</span></a>  <span class="comment">                    //If a paths config, then just load that file instead to</span>
<a name="l991"><span class="linenum"> 991</span></a>  <span class="comment">                    //resolve the plugin, as it is built into that paths layer.</span>
<a name="l992"><span class="linenum"> 992</span></a>                      if (bundleId) {
<a name="l993"><span class="linenum"> 993</span></a>                          this.map.url = context.nameToUrl(bundleId);
<a name="l994"><span class="linenum"> 994</span></a>                          this.<a class="function" onClick="logFunction('load')" href="../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>();
<a name="l995"><span class="linenum"> 995</span></a>                          return;
<a name="l996"><span class="linenum"> 996</span></a>                      }
<a name="l997"><span class="linenum"> 997</span></a>  
<a name="l998"><span class="linenum"> 998</span></a>                      load = <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function (value) {
<a name="l999"><span class="linenum"> 999</span></a>                          this.<a class="function" onClick="logFunction('init')" href="../../_functions/init.html" onMouseOver="funcPopup(event,'init')">init</a>([], function () { return value; }, null, {
<a name="l1000"><span class="linenum">1000</span></a>                              enabled: true
<a name="l1001"><span class="linenum">1001</span></a>                          });
<a name="l1002"><span class="linenum">1002</span></a>                      });
<a name="l1003"><span class="linenum">1003</span></a>  
<a name="l1004"><span class="linenum">1004</span></a>                      load.error = <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function (err) {
<a name="l1005"><span class="linenum">1005</span></a>                          this.inited = true;
<a name="l1006"><span class="linenum">1006</span></a>                          this.error = err;
<a name="l1007"><span class="linenum">1007</span></a>                          err.requireModules = [id];
<a name="l1008"><span class="linenum">1008</span></a>  
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">                        //Remove temp unnormalized modules for this module,</span>
<a name="l1010"><span class="linenum">1010</span></a>  <span class="comment">                        //since they will never be resolved otherwise now.</span>
<a name="l1011"><span class="linenum">1011</span></a>                          <a class="function" onClick="logFunction('eachProp')" href="../../_functions/eachprop.html" onMouseOver="funcPopup(event,'eachprop')">eachProp</a>(registry, function (mod) {
<a name="l1012"><span class="linenum">1012</span></a>                              if (mod.map.id.<a class="function" onClick="logFunction('indexOf')" href="../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>(id + '_unnormalized') === 0) {
<a name="l1013"><span class="linenum">1013</span></a>                                  <a class="function" onClick="logFunction('cleanRegistry')" href="../../_functions/cleanregistry.html" onMouseOver="funcPopup(event,'cleanregistry')">cleanRegistry</a>(mod.map.id);
<a name="l1014"><span class="linenum">1014</span></a>                              }
<a name="l1015"><span class="linenum">1015</span></a>                          });
<a name="l1016"><span class="linenum">1016</span></a>  
<a name="l1017"><span class="linenum">1017</span></a>                          <a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(err);
<a name="l1018"><span class="linenum">1018</span></a>                      });
<a name="l1019"><span class="linenum">1019</span></a>  
<a name="l1020"><span class="linenum">1020</span></a>  <span class="comment">                    //Allow plugins to load other code without having to know the</span>
<a name="l1021"><span class="linenum">1021</span></a>  <span class="comment">                    //context or how to 'complete' the load.</span>
<a name="l1022"><span class="linenum">1022</span></a>                      load.fromText = <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function (text, textAlt) {
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">                        /*jslint evil: true */</span>
<a name="l1024"><span class="linenum">1024</span></a>                          var moduleName = map.name,
<a name="l1025"><span class="linenum">1025</span></a>                              moduleMap = <a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(moduleName),
<a name="l1026"><span class="linenum">1026</span></a>                              hasInteractive = useInteractive;
<a name="l1027"><span class="linenum">1027</span></a>  
<a name="l1028"><span class="linenum">1028</span></a>  <span class="comment">                        //As of 2.1.0, support just passing the text, to reinforce</span>
<a name="l1029"><span class="linenum">1029</span></a>  <span class="comment">                        //fromText only being called once per resource. Still</span>
<a name="l1030"><span class="linenum">1030</span></a>  <span class="comment">                        //support old style of passing moduleName but discard</span>
<a name="l1031"><span class="linenum">1031</span></a>  <span class="comment">                        //that moduleName in favor of the internal ref.</span>
<a name="l1032"><span class="linenum">1032</span></a>                          if (textAlt) {
<a name="l1033"><span class="linenum">1033</span></a>                              text = textAlt;
<a name="l1034"><span class="linenum">1034</span></a>                          }
<a name="l1035"><span class="linenum">1035</span></a>  
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment">                        //Turn off interactive script matching for IE for any define</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">                        //calls in the text, then turn it back on at the end.</span>
<a name="l1038"><span class="linenum">1038</span></a>                          if (hasInteractive) {
<a name="l1039"><span class="linenum">1039</span></a>                              useInteractive = false;
<a name="l1040"><span class="linenum">1040</span></a>                          }
<a name="l1041"><span class="linenum">1041</span></a>  
<a name="l1042"><span class="linenum">1042</span></a>  <span class="comment">                        //Prime the system by creating a module instance for</span>
<a name="l1043"><span class="linenum">1043</span></a>  <span class="comment">                        //it.</span>
<a name="l1044"><span class="linenum">1044</span></a>                          <a class="function" onClick="logFunction('getModule')" href="../../_functions/getmodule.html" onMouseOver="funcPopup(event,'getmodule')">getModule</a>(moduleMap);
<a name="l1045"><span class="linenum">1045</span></a>  
<a name="l1046"><span class="linenum">1046</span></a>  <span class="comment">                        //Transfer any config to this other module.</span>
<a name="l1047"><span class="linenum">1047</span></a>                          if (<a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(config.config, id)) {
<a name="l1048"><span class="linenum">1048</span></a>                              config.config[moduleName] = config.config[id];
<a name="l1049"><span class="linenum">1049</span></a>                          }
<a name="l1050"><span class="linenum">1050</span></a>  
<a name="l1051"><span class="linenum">1051</span></a>                          try {
<a name="l1052"><span class="linenum">1052</span></a>                              req.<a class="phpfunction" onClick="logFunction('exec')" href="../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(text);
<a name="l1053"><span class="linenum">1053</span></a>                          } catch (e) {
<a name="l1054"><span class="linenum">1054</span></a>                              return <a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(<a class="function" onClick="logFunction('makeError')" href="../../_functions/makeerror.html" onMouseOver="funcPopup(event,'makeerror')">makeError</a>('fromtexteval',
<a name="l1055"><span class="linenum">1055</span></a>                                               'fromText eval for ' + id +
<a name="l1056"><span class="linenum">1056</span></a>                                              ' failed: ' + e,
<a name="l1057"><span class="linenum">1057</span></a>                                               e,
<a name="l1058"><span class="linenum">1058</span></a>                                               [id]));
<a name="l1059"><span class="linenum">1059</span></a>                          }
<a name="l1060"><span class="linenum">1060</span></a>  
<a name="l1061"><span class="linenum">1061</span></a>                          if (hasInteractive) {
<a name="l1062"><span class="linenum">1062</span></a>                              useInteractive = true;
<a name="l1063"><span class="linenum">1063</span></a>                          }
<a name="l1064"><span class="linenum">1064</span></a>  
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment">                        //Mark this as a dependency for the plugin</span>
<a name="l1066"><span class="linenum">1066</span></a>  <span class="comment">                        //resource</span>
<a name="l1067"><span class="linenum">1067</span></a>                          this.depMaps.<a class="function" onClick="logFunction('push')" href="../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(moduleMap);
<a name="l1068"><span class="linenum">1068</span></a>  
<a name="l1069"><span class="linenum">1069</span></a>  <span class="comment">                        //Support anonymous modules.</span>
<a name="l1070"><span class="linenum">1070</span></a>                          context.completeLoad(moduleName);
<a name="l1071"><span class="linenum">1071</span></a>  
<a name="l1072"><span class="linenum">1072</span></a>  <span class="comment">                        //Bind the value of that module to the value for this</span>
<a name="l1073"><span class="linenum">1073</span></a>  <span class="comment">                        //resource ID.</span>
<a name="l1074"><span class="linenum">1074</span></a>                          <a class="function" onClick="logFunction('localRequire')" href="../../_functions/localrequire.html" onMouseOver="funcPopup(event,'localrequire')">localRequire</a>([moduleName], load);
<a name="l1075"><span class="linenum">1075</span></a>                      });
<a name="l1076"><span class="linenum">1076</span></a>  
<a name="l1077"><span class="linenum">1077</span></a>  <span class="comment">                    //Use parentName here since the plugin's name is not reliable,</span>
<a name="l1078"><span class="linenum">1078</span></a>  <span class="comment">                    //could be some weird string with no path that actually wants to</span>
<a name="l1079"><span class="linenum">1079</span></a>  <span class="comment">                    //reference the parentName's path.</span>
<a name="l1080"><span class="linenum">1080</span></a>                      plugin.<a class="function" onClick="logFunction('load')" href="../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>(map.name, localRequire, load, config);
<a name="l1081"><span class="linenum">1081</span></a>                  }));
<a name="l1082"><span class="linenum">1082</span></a>  
<a name="l1083"><span class="linenum">1083</span></a>                  context.<a class="function" onClick="logFunction('enable')" href="../../_functions/enable.html" onMouseOver="funcPopup(event,'enable')">enable</a>(pluginMap, this);
<a name="l1084"><span class="linenum">1084</span></a>                  this.pluginMaps[pluginMap.id] = pluginMap;
<a name="l1085"><span class="linenum">1085</span></a>              },
<a name="l1086"><span class="linenum">1086</span></a>  
<a name="l1087"><span class="linenum">1087</span></a>              enable: function () {
<a name="l1088"><span class="linenum">1088</span></a>                  enabledRegistry[this.map.id] = this;
<a name="l1089"><span class="linenum">1089</span></a>                  this.enabled = true;
<a name="l1090"><span class="linenum">1090</span></a>  
<a name="l1091"><span class="linenum">1091</span></a>  <span class="comment">                //Set flag mentioning that the module is enabling,</span>
<a name="l1092"><span class="linenum">1092</span></a>  <span class="comment">                //so that immediate calls to the defined callbacks</span>
<a name="l1093"><span class="linenum">1093</span></a>  <span class="comment">                //for dependencies do not trigger inadvertent load</span>
<a name="l1094"><span class="linenum">1094</span></a>  <span class="comment">                //with the depCount still being zero.</span>
<a name="l1095"><span class="linenum">1095</span></a>                  this.enabling = true;
<a name="l1096"><span class="linenum">1096</span></a>  
<a name="l1097"><span class="linenum">1097</span></a>  <span class="comment">                //Enable each dependency</span>
<a name="l1098"><span class="linenum">1098</span></a>                  <a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(this.depMaps, <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function (depMap, i) {
<a name="l1099"><span class="linenum">1099</span></a>                      var id, mod, handler;
<a name="l1100"><span class="linenum">1100</span></a>  
<a name="l1101"><span class="linenum">1101</span></a>                      if (typeof depMap === 'string') {
<a name="l1102"><span class="linenum">1102</span></a>  <span class="comment">                        //Dependency needs to be converted to a depMap</span>
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment">                        //and wired up to this module.</span>
<a name="l1104"><span class="linenum">1104</span></a>                          depMap = <a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(depMap,
<a name="l1105"><span class="linenum">1105</span></a>                                                 (this.map.isDefine ? this.map : this.map.parentMap),
<a name="l1106"><span class="linenum">1106</span></a>                                                 false,
<a name="l1107"><span class="linenum">1107</span></a>                                                 !this.skipMap);
<a name="l1108"><span class="linenum">1108</span></a>                          this.depMaps[i] = depMap;
<a name="l1109"><span class="linenum">1109</span></a>  
<a name="l1110"><span class="linenum">1110</span></a>                          handler = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(handlers, depMap.id);
<a name="l1111"><span class="linenum">1111</span></a>  
<a name="l1112"><span class="linenum">1112</span></a>                          if (handler) {
<a name="l1113"><span class="linenum">1113</span></a>                              this.depExports[i] = <a class="function" onClick="logFunction('handler')" href="../../_functions/handler.html" onMouseOver="funcPopup(event,'handler')">handler</a>(this);
<a name="l1114"><span class="linenum">1114</span></a>                              return;
<a name="l1115"><span class="linenum">1115</span></a>                          }
<a name="l1116"><span class="linenum">1116</span></a>  
<a name="l1117"><span class="linenum">1117</span></a>                          this.depCount += 1;
<a name="l1118"><span class="linenum">1118</span></a>  
<a name="l1119"><span class="linenum">1119</span></a>                          <a class="function" onClick="logFunction('on')" href="../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(depMap, 'defined', <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function (depExports) {
<a name="l1120"><span class="linenum">1120</span></a>                              this.defineDep(i, depExports);
<a name="l1121"><span class="linenum">1121</span></a>                              this.<a class="function" onClick="logFunction('check')" href="../../_functions/check.html" onMouseOver="funcPopup(event,'check')">check</a>();
<a name="l1122"><span class="linenum">1122</span></a>                          }));
<a name="l1123"><span class="linenum">1123</span></a>  
<a name="l1124"><span class="linenum">1124</span></a>                          if (this.errback) {
<a name="l1125"><span class="linenum">1125</span></a>                              <a class="function" onClick="logFunction('on')" href="../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(depMap, 'error', <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, this.errback));
<a name="l1126"><span class="linenum">1126</span></a>                          }
<a name="l1127"><span class="linenum">1127</span></a>                      }
<a name="l1128"><span class="linenum">1128</span></a>  
<a name="l1129"><span class="linenum">1129</span></a>                      id = depMap.id;
<a name="l1130"><span class="linenum">1130</span></a>                      mod = registry[id];
<a name="l1131"><span class="linenum">1131</span></a>  
<a name="l1132"><span class="linenum">1132</span></a>  <span class="comment">                    //Skip special modules like 'require', 'exports', 'module'</span>
<a name="l1133"><span class="linenum">1133</span></a>  <span class="comment">                    //Also, don't call enable if it is already enabled,</span>
<a name="l1134"><span class="linenum">1134</span></a>  <span class="comment">                    //important in circular dependency cases.</span>
<a name="l1135"><span class="linenum">1135</span></a>                      if (!<a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(handlers, id) &amp;&amp; mod &amp;&amp; !mod.enabled) {
<a name="l1136"><span class="linenum">1136</span></a>                          context.<a class="function" onClick="logFunction('enable')" href="../../_functions/enable.html" onMouseOver="funcPopup(event,'enable')">enable</a>(depMap, this);
<a name="l1137"><span class="linenum">1137</span></a>                      }
<a name="l1138"><span class="linenum">1138</span></a>                  }));
<a name="l1139"><span class="linenum">1139</span></a>  
<a name="l1140"><span class="linenum">1140</span></a>  <span class="comment">                //Enable each plugin that is used in</span>
<a name="l1141"><span class="linenum">1141</span></a>  <span class="comment">                //a dependency</span>
<a name="l1142"><span class="linenum">1142</span></a>                  <a class="function" onClick="logFunction('eachProp')" href="../../_functions/eachprop.html" onMouseOver="funcPopup(event,'eachprop')">eachProp</a>(this.pluginMaps, <a class="function" onClick="logFunction('bind')" href="../../_functions/bind.html" onMouseOver="funcPopup(event,'bind')">bind</a>(this, function (pluginMap) {
<a name="l1143"><span class="linenum">1143</span></a>                      var mod = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(registry, pluginMap.id);
<a name="l1144"><span class="linenum">1144</span></a>                      if (mod &amp;&amp; !mod.enabled) {
<a name="l1145"><span class="linenum">1145</span></a>                          context.<a class="function" onClick="logFunction('enable')" href="../../_functions/enable.html" onMouseOver="funcPopup(event,'enable')">enable</a>(pluginMap, this);
<a name="l1146"><span class="linenum">1146</span></a>                      }
<a name="l1147"><span class="linenum">1147</span></a>                  }));
<a name="l1148"><span class="linenum">1148</span></a>  
<a name="l1149"><span class="linenum">1149</span></a>                  this.enabling = false;
<a name="l1150"><span class="linenum">1150</span></a>  
<a name="l1151"><span class="linenum">1151</span></a>                  this.<a class="function" onClick="logFunction('check')" href="../../_functions/check.html" onMouseOver="funcPopup(event,'check')">check</a>();
<a name="l1152"><span class="linenum">1152</span></a>              },
<a name="l1153"><span class="linenum">1153</span></a>  
<a name="l1154"><span class="linenum">1154</span></a>              on: function (name, cb) {
<a name="l1155"><span class="linenum">1155</span></a>                  var cbs = this.events[name];
<a name="l1156"><span class="linenum">1156</span></a>                  if (!cbs) {
<a name="l1157"><span class="linenum">1157</span></a>                      cbs = this.events[name] = [];
<a name="l1158"><span class="linenum">1158</span></a>                  }
<a name="l1159"><span class="linenum">1159</span></a>                  cbs.<a class="function" onClick="logFunction('push')" href="../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(cb);
<a name="l1160"><span class="linenum">1160</span></a>              },
<a name="l1161"><span class="linenum">1161</span></a>  
<a name="l1162"><span class="linenum">1162</span></a>              emit: function (name, evt) {
<a name="l1163"><span class="linenum">1163</span></a>                  <a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(this.events[name], function (cb) {
<a name="l1164"><span class="linenum">1164</span></a>                      cb(evt);
<a name="l1165"><span class="linenum">1165</span></a>                  });
<a name="l1166"><span class="linenum">1166</span></a>                  if (name === 'error') {
<a name="l1167"><span class="linenum">1167</span></a>  <span class="comment">                    //Now that the error handler was triggered, remove</span>
<a name="l1168"><span class="linenum">1168</span></a>  <span class="comment">                    //the listeners, since this broken Module instance</span>
<a name="l1169"><span class="linenum">1169</span></a>  <span class="comment">                    //can stay around for a while in the registry.</span>
<a name="l1170"><span class="linenum">1170</span></a>                      delete this.events[name];
<a name="l1171"><span class="linenum">1171</span></a>                  }
<a name="l1172"><span class="linenum">1172</span></a>              }
<a name="l1173"><span class="linenum">1173</span></a>          };
<a name="l1174"><span class="linenum">1174</span></a>  
<a name="l1175"><span class="linenum">1175</span></a>          function <a class="function" onClick="logFunction('callGetModule')" href="../../_functions/callgetmodule.html" onMouseOver="funcPopup(event,'callgetmodule')">callGetModule</a>(args) {
<a name="l1176"><span class="linenum">1176</span></a>  <span class="comment">            //Skip modules already defined.</span>
<a name="l1177"><span class="linenum">1177</span></a>              if (!<a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(defined, args[0])) {
<a name="l1178"><span class="linenum">1178</span></a>                  <a class="function" onClick="logFunction('getModule')" href="../../_functions/getmodule.html" onMouseOver="funcPopup(event,'getmodule')">getModule</a>(<a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(args[0], null, true)).<a class="function" onClick="logFunction('init')" href="../../_functions/init.html" onMouseOver="funcPopup(event,'init')">init</a>(args[1], args[2]);
<a name="l1179"><span class="linenum">1179</span></a>              }
<a name="l1180"><span class="linenum">1180</span></a>          }
<a name="l1181"><span class="linenum">1181</span></a>  
<a name="l1182"><span class="linenum">1182</span></a>          function <a class="function" onClick="logFunction('removeListener')" href="../../_functions/removelistener.html" onMouseOver="funcPopup(event,'removelistener')">removeListener</a>(node, func, name, ieName) {
<a name="l1183"><span class="linenum">1183</span></a>  <span class="comment">            //Favor detachEvent because of IE9</span>
<a name="l1184"><span class="linenum">1184</span></a>  <span class="comment">            //issue, see attachEvent/addEventListener comment elsewhere</span>
<a name="l1185"><span class="linenum">1185</span></a>  <span class="comment">            //in this file.</span>
<a name="l1186"><span class="linenum">1186</span></a>              if (node.detachEvent &amp;&amp; !isOpera) {
<a name="l1187"><span class="linenum">1187</span></a>  <span class="comment">                //Probably IE. If not it will throw an error, which will be</span>
<a name="l1188"><span class="linenum">1188</span></a>  <span class="comment">                //useful to know.</span>
<a name="l1189"><span class="linenum">1189</span></a>                  if (ieName) {
<a name="l1190"><span class="linenum">1190</span></a>                      node.detachEvent(ieName, func);
<a name="l1191"><span class="linenum">1191</span></a>                  }
<a name="l1192"><span class="linenum">1192</span></a>              } else {
<a name="l1193"><span class="linenum">1193</span></a>                  node.removeEventListener(name, func, false);
<a name="l1194"><span class="linenum">1194</span></a>              }
<a name="l1195"><span class="linenum">1195</span></a>          }
<a name="l1196"><span class="linenum">1196</span></a>  
<a name="l1197"><span class="linenum">1197</span></a>          <span class="comment">/**</span>
<a name="l1198"><span class="linenum">1198</span></a>  <span class="comment">         * Given an event from a script node, get the requirejs info from it,</span>
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment">         * and then removes the event listeners on the node.</span>
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment">         * @param {Event} evt</span>
<a name="l1201"><span class="linenum">1201</span></a>  <span class="comment">         * @returns {Object}</span>
<a name="l1202"><span class="linenum">1202</span></a>  <span class="comment">         */</span>
<a name="l1203"><span class="linenum">1203</span></a>          function <a class="function" onClick="logFunction('getScriptData')" href="../../_functions/getscriptdata.html" onMouseOver="funcPopup(event,'getscriptdata')">getScriptData</a>(evt) {
<a name="l1204"><span class="linenum">1204</span></a>  <span class="comment">            //Using currentTarget instead of target for Firefox 2.0's sake. Not</span>
<a name="l1205"><span class="linenum">1205</span></a>  <span class="comment">            //all old browsers will be supported, but this one was easy enough</span>
<a name="l1206"><span class="linenum">1206</span></a>  <span class="comment">            //to support and still makes sense.</span>
<a name="l1207"><span class="linenum">1207</span></a>              var node = evt.currentTarget || evt.srcElement;
<a name="l1208"><span class="linenum">1208</span></a>  
<a name="l1209"><span class="linenum">1209</span></a>  <span class="comment">            //Remove the listeners once here.</span>
<a name="l1210"><span class="linenum">1210</span></a>              <a class="function" onClick="logFunction('removeListener')" href="../../_functions/removelistener.html" onMouseOver="funcPopup(event,'removelistener')">removeListener</a>(node, context.onScriptLoad, 'load', 'onreadystatechange');
<a name="l1211"><span class="linenum">1211</span></a>              <a class="function" onClick="logFunction('removeListener')" href="../../_functions/removelistener.html" onMouseOver="funcPopup(event,'removelistener')">removeListener</a>(node, context.onScriptError, 'error');
<a name="l1212"><span class="linenum">1212</span></a>  
<a name="l1213"><span class="linenum">1213</span></a>              return {
<a name="l1214"><span class="linenum">1214</span></a>                  node: node,
<a name="l1215"><span class="linenum">1215</span></a>                  id: node &amp;&amp; node.<a class="function" onClick="logFunction('getAttribute')" href="../../_functions/getattribute.html" onMouseOver="funcPopup(event,'getattribute')">getAttribute</a>('data-requiremodule')
<a name="l1216"><span class="linenum">1216</span></a>              };
<a name="l1217"><span class="linenum">1217</span></a>          }
<a name="l1218"><span class="linenum">1218</span></a>  
<a name="l1219"><span class="linenum">1219</span></a>          function <a class="function" onClick="logFunction('intakeDefines')" href="../../_functions/intakedefines.html" onMouseOver="funcPopup(event,'intakedefines')">intakeDefines</a>() {
<a name="l1220"><span class="linenum">1220</span></a>              var args;
<a name="l1221"><span class="linenum">1221</span></a>  
<a name="l1222"><span class="linenum">1222</span></a>  <span class="comment">            //Any defined modules in the global queue, intake them now.</span>
<a name="l1223"><span class="linenum">1223</span></a>              <a class="function" onClick="logFunction('takeGlobalQueue')" href="../../_functions/takeglobalqueue.html" onMouseOver="funcPopup(event,'takeglobalqueue')">takeGlobalQueue</a>();
<a name="l1224"><span class="linenum">1224</span></a>  
<a name="l1225"><span class="linenum">1225</span></a>  <span class="comment">            //Make sure any remaining defQueue items get properly processed.</span>
<a name="l1226"><span class="linenum">1226</span></a>              while (defQueue.length) {
<a name="l1227"><span class="linenum">1227</span></a>                  args = defQueue.<a class="function" onClick="logFunction('shift')" href="../../_functions/shift.html" onMouseOver="funcPopup(event,'shift')">shift</a>();
<a name="l1228"><span class="linenum">1228</span></a>                  if (args[0] === null) {
<a name="l1229"><span class="linenum">1229</span></a>                      return <a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(<a class="function" onClick="logFunction('makeError')" href="../../_functions/makeerror.html" onMouseOver="funcPopup(event,'makeerror')">makeError</a>('mismatch', 'Mismatched anonymous <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>() module: ' + args[args.length - 1]));
<a name="l1230"><span class="linenum">1230</span></a>                  } else {
<a name="l1231"><span class="linenum">1231</span></a>  <span class="comment">                    //args are id, deps, factory. Should be normalized by the</span>
<a name="l1232"><span class="linenum">1232</span></a>  <span class="comment">                    //define() function.</span>
<a name="l1233"><span class="linenum">1233</span></a>                      <a class="function" onClick="logFunction('callGetModule')" href="../../_functions/callgetmodule.html" onMouseOver="funcPopup(event,'callgetmodule')">callGetModule</a>(args);
<a name="l1234"><span class="linenum">1234</span></a>                  }
<a name="l1235"><span class="linenum">1235</span></a>              }
<a name="l1236"><span class="linenum">1236</span></a>          }
<a name="l1237"><span class="linenum">1237</span></a>  
<a name="l1238"><span class="linenum">1238</span></a>          context = {
<a name="l1239"><span class="linenum">1239</span></a>              config: config,
<a name="l1240"><span class="linenum">1240</span></a>              contextName: contextName,
<a name="l1241"><span class="linenum">1241</span></a>              registry: registry,
<a name="l1242"><span class="linenum">1242</span></a>              defined: defined,
<a name="l1243"><span class="linenum">1243</span></a>              urlFetched: urlFetched,
<a name="l1244"><span class="linenum">1244</span></a>              defQueue: defQueue,
<a name="l1245"><span class="linenum">1245</span></a>              Module: Module,
<a name="l1246"><span class="linenum">1246</span></a>              makeModuleMap: makeModuleMap,
<a name="l1247"><span class="linenum">1247</span></a>              nextTick: req.nextTick,
<a name="l1248"><span class="linenum">1248</span></a>              onError: onError,
<a name="l1249"><span class="linenum">1249</span></a>  
<a name="l1250"><span class="linenum">1250</span></a>              <span class="comment">/**</span>
<a name="l1251"><span class="linenum">1251</span></a>  <span class="comment">             * Set a configuration for the context.</span>
<a name="l1252"><span class="linenum">1252</span></a>  <span class="comment">             * @param {Object} cfg config object to integrate.</span>
<a name="l1253"><span class="linenum">1253</span></a>  <span class="comment">             */</span>
<a name="l1254"><span class="linenum">1254</span></a>              configure: function (cfg) {
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment">                //Make sure the baseUrl ends in a slash.</span>
<a name="l1256"><span class="linenum">1256</span></a>                  if (cfg.baseUrl) {
<a name="l1257"><span class="linenum">1257</span></a>                      if (cfg.baseUrl.charAt(cfg.baseUrl.length - 1) !== '/') {
<a name="l1258"><span class="linenum">1258</span></a>                          cfg.baseUrl += '/';
<a name="l1259"><span class="linenum">1259</span></a>                      }
<a name="l1260"><span class="linenum">1260</span></a>                  }
<a name="l1261"><span class="linenum">1261</span></a>  
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">                //Save off the paths since they require special processing,</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment">                //they are additive.</span>
<a name="l1264"><span class="linenum">1264</span></a>                  var shim = config.shim,
<a name="l1265"><span class="linenum">1265</span></a>                      objs = {
<a name="l1266"><span class="linenum">1266</span></a>                          paths: true,
<a name="l1267"><span class="linenum">1267</span></a>                          bundles: true,
<a name="l1268"><span class="linenum">1268</span></a>                          config: true,
<a name="l1269"><span class="linenum">1269</span></a>                          map: true
<a name="l1270"><span class="linenum">1270</span></a>                      };
<a name="l1271"><span class="linenum">1271</span></a>  
<a name="l1272"><span class="linenum">1272</span></a>                  <a class="function" onClick="logFunction('eachProp')" href="../../_functions/eachprop.html" onMouseOver="funcPopup(event,'eachprop')">eachProp</a>(cfg, function (value, prop) {
<a name="l1273"><span class="linenum">1273</span></a>                      if (objs[prop]) {
<a name="l1274"><span class="linenum">1274</span></a>                          if (!config[prop]) {
<a name="l1275"><span class="linenum">1275</span></a>                              config[prop] = {};
<a name="l1276"><span class="linenum">1276</span></a>                          }
<a name="l1277"><span class="linenum">1277</span></a>                          <a class="function" onClick="logFunction('mixin')" href="../../_functions/mixin.html" onMouseOver="funcPopup(event,'mixin')">mixin</a>(config[prop], value, true, true);
<a name="l1278"><span class="linenum">1278</span></a>                      } else {
<a name="l1279"><span class="linenum">1279</span></a>                          config[prop] = value;
<a name="l1280"><span class="linenum">1280</span></a>                      }
<a name="l1281"><span class="linenum">1281</span></a>                  });
<a name="l1282"><span class="linenum">1282</span></a>  
<a name="l1283"><span class="linenum">1283</span></a>  <span class="comment">                //Reverse map the bundles</span>
<a name="l1284"><span class="linenum">1284</span></a>                  if (cfg.bundles) {
<a name="l1285"><span class="linenum">1285</span></a>                      <a class="function" onClick="logFunction('eachProp')" href="../../_functions/eachprop.html" onMouseOver="funcPopup(event,'eachprop')">eachProp</a>(cfg.bundles, function (value, prop) {
<a name="l1286"><span class="linenum">1286</span></a>                          <a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(value, function (v) {
<a name="l1287"><span class="linenum">1287</span></a>                              if (v !== prop) {
<a name="l1288"><span class="linenum">1288</span></a>                                  bundlesMap[v] = prop;
<a name="l1289"><span class="linenum">1289</span></a>                              }
<a name="l1290"><span class="linenum">1290</span></a>                          });
<a name="l1291"><span class="linenum">1291</span></a>                      });
<a name="l1292"><span class="linenum">1292</span></a>                  }
<a name="l1293"><span class="linenum">1293</span></a>  
<a name="l1294"><span class="linenum">1294</span></a>  <span class="comment">                //Merge shim</span>
<a name="l1295"><span class="linenum">1295</span></a>                  if (cfg.shim) {
<a name="l1296"><span class="linenum">1296</span></a>                      <a class="function" onClick="logFunction('eachProp')" href="../../_functions/eachprop.html" onMouseOver="funcPopup(event,'eachprop')">eachProp</a>(cfg.shim, function (value, id) {
<a name="l1297"><span class="linenum">1297</span></a>  <span class="comment">                        //Normalize the structure</span>
<a name="l1298"><span class="linenum">1298</span></a>                          if (<a class="function" onClick="logFunction('isArray')" href="../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(value)) {
<a name="l1299"><span class="linenum">1299</span></a>                              value = {
<a name="l1300"><span class="linenum">1300</span></a>                                  deps: value
<a name="l1301"><span class="linenum">1301</span></a>                              };
<a name="l1302"><span class="linenum">1302</span></a>                          }
<a name="l1303"><span class="linenum">1303</span></a>                          if ((value.exports || value.init) &amp;&amp; !value.exportsFn) {
<a name="l1304"><span class="linenum">1304</span></a>                              value.exportsFn = context.makeShimExports(value);
<a name="l1305"><span class="linenum">1305</span></a>                          }
<a name="l1306"><span class="linenum">1306</span></a>                          shim[id] = value;
<a name="l1307"><span class="linenum">1307</span></a>                      });
<a name="l1308"><span class="linenum">1308</span></a>                      config.shim = shim;
<a name="l1309"><span class="linenum">1309</span></a>                  }
<a name="l1310"><span class="linenum">1310</span></a>  
<a name="l1311"><span class="linenum">1311</span></a>  <span class="comment">                //Adjust packages if necessary.</span>
<a name="l1312"><span class="linenum">1312</span></a>                  if (cfg.packages) {
<a name="l1313"><span class="linenum">1313</span></a>                      <a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(cfg.packages, function (pkgObj) {
<a name="l1314"><span class="linenum">1314</span></a>                          var location, name;
<a name="l1315"><span class="linenum">1315</span></a>  
<a name="l1316"><span class="linenum">1316</span></a>                          pkgObj = typeof pkgObj === 'string' ? { name: pkgObj } : pkgObj;
<a name="l1317"><span class="linenum">1317</span></a>  
<a name="l1318"><span class="linenum">1318</span></a>                          name = pkgObj.name;
<a name="l1319"><span class="linenum">1319</span></a>                          location = pkgObj.location;
<a name="l1320"><span class="linenum">1320</span></a>                          if (location) {
<a name="l1321"><span class="linenum">1321</span></a>                              config.paths[name] = pkgObj.location;
<a name="l1322"><span class="linenum">1322</span></a>                          }
<a name="l1323"><span class="linenum">1323</span></a>  
<a name="l1324"><span class="linenum">1324</span></a>  <span class="comment">                        //Save pointer to main module ID for pkg name.</span>
<a name="l1325"><span class="linenum">1325</span></a>  <span class="comment">                        //Remove leading dot in main, so main paths are normalized,</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment">                        //and remove any trailing .js, since different package</span>
<a name="l1327"><span class="linenum">1327</span></a>  <span class="comment">                        //envs have different conventions: some use a module name,</span>
<a name="l1328"><span class="linenum">1328</span></a>  <span class="comment">                        //some use a file name.</span>
<a name="l1329"><span class="linenum">1329</span></a>                          config.pkgs[name] = pkgObj.name + '/' + (pkgObj.main || 'main')
<a name="l1330"><span class="linenum">1330</span></a>                                       .<a class="function" onClick="logFunction('replace')" href="../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(currDirRegExp, '')
<a name="l1331"><span class="linenum">1331</span></a>                                       .<a class="function" onClick="logFunction('replace')" href="../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(jsSuffixRegExp, '');
<a name="l1332"><span class="linenum">1332</span></a>                      });
<a name="l1333"><span class="linenum">1333</span></a>                  }
<a name="l1334"><span class="linenum">1334</span></a>  
<a name="l1335"><span class="linenum">1335</span></a>  <span class="comment">                //If there are any &quot;waiting to execute&quot; modules in the registry,</span>
<a name="l1336"><span class="linenum">1336</span></a>  <span class="comment">                //update the maps for them, since their info, like URLs to load,</span>
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">                //may have changed.</span>
<a name="l1338"><span class="linenum">1338</span></a>                  <a class="function" onClick="logFunction('eachProp')" href="../../_functions/eachprop.html" onMouseOver="funcPopup(event,'eachprop')">eachProp</a>(registry, function (mod, id) {
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">                    //If module already has init called, since it is too</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment">                    //late to modify them, and ignore unnormalized ones</span>
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment">                    //since they are transient.</span>
<a name="l1342"><span class="linenum">1342</span></a>                      if (!mod.inited &amp;&amp; !mod.map.unnormalized) {
<a name="l1343"><span class="linenum">1343</span></a>                          mod.map = <a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(id);
<a name="l1344"><span class="linenum">1344</span></a>                      }
<a name="l1345"><span class="linenum">1345</span></a>                  });
<a name="l1346"><span class="linenum">1346</span></a>  
<a name="l1347"><span class="linenum">1347</span></a>  <span class="comment">                //If a deps array or a config callback is specified, then call</span>
<a name="l1348"><span class="linenum">1348</span></a>  <span class="comment">                //require with those args. This is useful when require is defined as a</span>
<a name="l1349"><span class="linenum">1349</span></a>  <span class="comment">                //config object before require.js is loaded.</span>
<a name="l1350"><span class="linenum">1350</span></a>                  if (cfg.deps || cfg.callback) {
<a name="l1351"><span class="linenum">1351</span></a>                      context.<a class="function" onClick="logFunction('require')" href="../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(cfg.deps || [], cfg.callback);
<a name="l1352"><span class="linenum">1352</span></a>                  }
<a name="l1353"><span class="linenum">1353</span></a>              },
<a name="l1354"><span class="linenum">1354</span></a>  
<a name="l1355"><span class="linenum">1355</span></a>              makeShimExports: function (value) {
<a name="l1356"><span class="linenum">1356</span></a>                  function <a class="function" onClick="logFunction('fn')" href="../../_functions/fn.html" onMouseOver="funcPopup(event,'fn')">fn</a>() {
<a name="l1357"><span class="linenum">1357</span></a>                      var ret;
<a name="l1358"><span class="linenum">1358</span></a>                      if (value.init) {
<a name="l1359"><span class="linenum">1359</span></a>                          ret = value.init.<a class="function" onClick="logFunction('apply')" href="../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(global, arguments);
<a name="l1360"><span class="linenum">1360</span></a>                      }
<a name="l1361"><span class="linenum">1361</span></a>                      return ret || (value.exports &amp;&amp; <a class="function" onClick="logFunction('getGlobal')" href="../../_functions/getglobal.html" onMouseOver="funcPopup(event,'getglobal')">getGlobal</a>(value.exports));
<a name="l1362"><span class="linenum">1362</span></a>                  }
<a name="l1363"><span class="linenum">1363</span></a>                  return fn;
<a name="l1364"><span class="linenum">1364</span></a>              },
<a name="l1365"><span class="linenum">1365</span></a>  
<a name="l1366"><span class="linenum">1366</span></a>              makeRequire: function (relMap, options) {
<a name="l1367"><span class="linenum">1367</span></a>                  options = options || {};
<a name="l1368"><span class="linenum">1368</span></a>  
<a name="l1369"><span class="linenum">1369</span></a>                  function <a class="function" onClick="logFunction('localRequire')" href="../../_functions/localrequire.html" onMouseOver="funcPopup(event,'localrequire')">localRequire</a>(deps, callback, errback) {
<a name="l1370"><span class="linenum">1370</span></a>                      var id, map, requireMod;
<a name="l1371"><span class="linenum">1371</span></a>  
<a name="l1372"><span class="linenum">1372</span></a>                      if (options.enableBuildCallback &amp;&amp; callback &amp;&amp; <a class="function" onClick="logFunction('isFunction')" href="../../_functions/isfunction.html" onMouseOver="funcPopup(event,'isfunction')">isFunction</a>(callback)) {
<a name="l1373"><span class="linenum">1373</span></a>                          callback.__requireJsBuild = true;
<a name="l1374"><span class="linenum">1374</span></a>                      }
<a name="l1375"><span class="linenum">1375</span></a>  
<a name="l1376"><span class="linenum">1376</span></a>                      if (typeof deps === 'string') {
<a name="l1377"><span class="linenum">1377</span></a>                          if (<a class="function" onClick="logFunction('isFunction')" href="../../_functions/isfunction.html" onMouseOver="funcPopup(event,'isfunction')">isFunction</a>(callback)) {
<a name="l1378"><span class="linenum">1378</span></a>  <span class="comment">                            //Invalid call</span>
<a name="l1379"><span class="linenum">1379</span></a>                              return <a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(<a class="function" onClick="logFunction('makeError')" href="../../_functions/makeerror.html" onMouseOver="funcPopup(event,'makeerror')">makeError</a>('requireargs', 'Invalid require call'), errback);
<a name="l1380"><span class="linenum">1380</span></a>                          }
<a name="l1381"><span class="linenum">1381</span></a>  
<a name="l1382"><span class="linenum">1382</span></a>  <span class="comment">                        //If require|exports|module are requested, get the</span>
<a name="l1383"><span class="linenum">1383</span></a>  <span class="comment">                        //value for them from the special handlers. Caveat:</span>
<a name="l1384"><span class="linenum">1384</span></a>  <span class="comment">                        //this only works while module is being defined.</span>
<a name="l1385"><span class="linenum">1385</span></a>                          if (relMap &amp;&amp; <a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(handlers, deps)) {
<a name="l1386"><span class="linenum">1386</span></a>                              return handlers[deps](registry[relMap.id]);
<a name="l1387"><span class="linenum">1387</span></a>                          }
<a name="l1388"><span class="linenum">1388</span></a>  
<a name="l1389"><span class="linenum">1389</span></a>  <span class="comment">                        //Synchronous access to one module. If require.get is</span>
<a name="l1390"><span class="linenum">1390</span></a>  <span class="comment">                        //available (as in the Node adapter), prefer that.</span>
<a name="l1391"><span class="linenum">1391</span></a>                          if (req.get) {
<a name="l1392"><span class="linenum">1392</span></a>                              return req.<a class="function" onClick="logFunction('get')" href="../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(context, deps, relMap, localRequire);
<a name="l1393"><span class="linenum">1393</span></a>                          }
<a name="l1394"><span class="linenum">1394</span></a>  
<a name="l1395"><span class="linenum">1395</span></a>  <span class="comment">                        //Normalize module name, if it contains . or ..</span>
<a name="l1396"><span class="linenum">1396</span></a>                          map = <a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(deps, relMap, false, true);
<a name="l1397"><span class="linenum">1397</span></a>                          id = map.id;
<a name="l1398"><span class="linenum">1398</span></a>  
<a name="l1399"><span class="linenum">1399</span></a>                          if (!<a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(defined, id)) {
<a name="l1400"><span class="linenum">1400</span></a>                              return <a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(<a class="function" onClick="logFunction('makeError')" href="../../_functions/makeerror.html" onMouseOver="funcPopup(event,'makeerror')">makeError</a>('notloaded', 'Module name &quot;' +
<a name="l1401"><span class="linenum">1401</span></a>                                          id +
<a name="l1402"><span class="linenum">1402</span></a>                                          '&quot; has not been loaded yet for context: ' +
<a name="l1403"><span class="linenum">1403</span></a>                                          contextName +
<a name="l1404"><span class="linenum">1404</span></a>                                          (relMap ? '' : '. Use <a class="function" onClick="logFunction('require')" href="../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>([])')));
<a name="l1405"><span class="linenum">1405</span></a>                          }
<a name="l1406"><span class="linenum">1406</span></a>                          return defined[id];
<a name="l1407"><span class="linenum">1407</span></a>                      }
<a name="l1408"><span class="linenum">1408</span></a>  
<a name="l1409"><span class="linenum">1409</span></a>  <span class="comment">                    //Grab defines waiting in the global queue.</span>
<a name="l1410"><span class="linenum">1410</span></a>                      <a class="function" onClick="logFunction('intakeDefines')" href="../../_functions/intakedefines.html" onMouseOver="funcPopup(event,'intakedefines')">intakeDefines</a>();
<a name="l1411"><span class="linenum">1411</span></a>  
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment">                    //Mark all the dependencies as needing to be loaded.</span>
<a name="l1413"><span class="linenum">1413</span></a>                      context.nextTick(function () {
<a name="l1414"><span class="linenum">1414</span></a>  <span class="comment">                        //Some defines could have been added since the</span>
<a name="l1415"><span class="linenum">1415</span></a>  <span class="comment">                        //require call, collect them.</span>
<a name="l1416"><span class="linenum">1416</span></a>                          <a class="function" onClick="logFunction('intakeDefines')" href="../../_functions/intakedefines.html" onMouseOver="funcPopup(event,'intakedefines')">intakeDefines</a>();
<a name="l1417"><span class="linenum">1417</span></a>  
<a name="l1418"><span class="linenum">1418</span></a>                          requireMod = <a class="function" onClick="logFunction('getModule')" href="../../_functions/getmodule.html" onMouseOver="funcPopup(event,'getmodule')">getModule</a>(<a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(null, relMap));
<a name="l1419"><span class="linenum">1419</span></a>  
<a name="l1420"><span class="linenum">1420</span></a>  <span class="comment">                        //Store if map config should be applied to this require</span>
<a name="l1421"><span class="linenum">1421</span></a>  <span class="comment">                        //call for dependencies.</span>
<a name="l1422"><span class="linenum">1422</span></a>                          requireMod.skipMap = options.skipMap;
<a name="l1423"><span class="linenum">1423</span></a>  
<a name="l1424"><span class="linenum">1424</span></a>                          requireMod.<a class="function" onClick="logFunction('init')" href="../../_functions/init.html" onMouseOver="funcPopup(event,'init')">init</a>(deps, callback, errback, {
<a name="l1425"><span class="linenum">1425</span></a>                              enabled: true
<a name="l1426"><span class="linenum">1426</span></a>                          });
<a name="l1427"><span class="linenum">1427</span></a>  
<a name="l1428"><span class="linenum">1428</span></a>                          <a class="function" onClick="logFunction('checkLoaded')" href="../../_functions/checkloaded.html" onMouseOver="funcPopup(event,'checkloaded')">checkLoaded</a>();
<a name="l1429"><span class="linenum">1429</span></a>                      });
<a name="l1430"><span class="linenum">1430</span></a>  
<a name="l1431"><span class="linenum">1431</span></a>                      return localRequire;
<a name="l1432"><span class="linenum">1432</span></a>                  }
<a name="l1433"><span class="linenum">1433</span></a>  
<a name="l1434"><span class="linenum">1434</span></a>                  <a class="function" onClick="logFunction('mixin')" href="../../_functions/mixin.html" onMouseOver="funcPopup(event,'mixin')">mixin</a>(localRequire, {
<a name="l1435"><span class="linenum">1435</span></a>                      isBrowser: isBrowser,
<a name="l1436"><span class="linenum">1436</span></a>  
<a name="l1437"><span class="linenum">1437</span></a>                      <span class="comment">/**</span>
<a name="l1438"><span class="linenum">1438</span></a>  <span class="comment">                     * Converts a module name + .extension into an URL path.</span>
<a name="l1439"><span class="linenum">1439</span></a>  <span class="comment">                     * *Requires* the use of a module name. It does not support using</span>
<a name="l1440"><span class="linenum">1440</span></a>  <span class="comment">                     * plain URLs like nameToUrl.</span>
<a name="l1441"><span class="linenum">1441</span></a>  <span class="comment">                     */</span>
<a name="l1442"><span class="linenum">1442</span></a>                      toUrl: function (moduleNamePlusExt) {
<a name="l1443"><span class="linenum">1443</span></a>                          var ext,
<a name="l1444"><span class="linenum">1444</span></a>                              index = moduleNamePlusExt.lastIndexOf('.'),
<a name="l1445"><span class="linenum">1445</span></a>                              segment = moduleNamePlusExt.<a class="phpfunction" onClick="logFunction('split')" href="../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('/')[0],
<a name="l1446"><span class="linenum">1446</span></a>                              isRelative = segment === '.' || segment === '..';
<a name="l1447"><span class="linenum">1447</span></a>  
<a name="l1448"><span class="linenum">1448</span></a>  <span class="comment">                        //Have a file extension alias, and it is not the</span>
<a name="l1449"><span class="linenum">1449</span></a>  <span class="comment">                        //dots from a relative path.</span>
<a name="l1450"><span class="linenum">1450</span></a>                          if (index !== -1 &amp;&amp; (!isRelative || index &gt; 1)) {
<a name="l1451"><span class="linenum">1451</span></a>                              ext = moduleNamePlusExt.<a class="function" onClick="logFunction('substring')" href="../../_functions/substring.html" onMouseOver="funcPopup(event,'substring')">substring</a>(index, moduleNamePlusExt.length);
<a name="l1452"><span class="linenum">1452</span></a>                              moduleNamePlusExt = moduleNamePlusExt.<a class="function" onClick="logFunction('substring')" href="../../_functions/substring.html" onMouseOver="funcPopup(event,'substring')">substring</a>(0, index);
<a name="l1453"><span class="linenum">1453</span></a>                          }
<a name="l1454"><span class="linenum">1454</span></a>  
<a name="l1455"><span class="linenum">1455</span></a>                          return context.nameToUrl(<a class="function" onClick="logFunction('normalize')" href="../../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>(moduleNamePlusExt,
<a name="l1456"><span class="linenum">1456</span></a>                                                  relMap &amp;&amp; relMap.id, true), ext,  true);
<a name="l1457"><span class="linenum">1457</span></a>                      },
<a name="l1458"><span class="linenum">1458</span></a>  
<a name="l1459"><span class="linenum">1459</span></a>                      defined: function (id) {
<a name="l1460"><span class="linenum">1460</span></a>                          return <a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(defined, <a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(id, relMap, false, true).id);
<a name="l1461"><span class="linenum">1461</span></a>                      },
<a name="l1462"><span class="linenum">1462</span></a>  
<a name="l1463"><span class="linenum">1463</span></a>                      specified: function (id) {
<a name="l1464"><span class="linenum">1464</span></a>                          id = <a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(id, relMap, false, true).id;
<a name="l1465"><span class="linenum">1465</span></a>                          return <a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(defined, id) || <a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(registry, id);
<a name="l1466"><span class="linenum">1466</span></a>                      }
<a name="l1467"><span class="linenum">1467</span></a>                  });
<a name="l1468"><span class="linenum">1468</span></a>  
<a name="l1469"><span class="linenum">1469</span></a>  <span class="comment">                //Only allow undef on top level require calls</span>
<a name="l1470"><span class="linenum">1470</span></a>                  if (!relMap) {
<a name="l1471"><span class="linenum">1471</span></a>                      localRequire.undef = function (id) {
<a name="l1472"><span class="linenum">1472</span></a>  <span class="comment">                        //Bind any waiting define() calls to this context,</span>
<a name="l1473"><span class="linenum">1473</span></a>  <span class="comment">                        //fix for #408</span>
<a name="l1474"><span class="linenum">1474</span></a>                          <a class="function" onClick="logFunction('takeGlobalQueue')" href="../../_functions/takeglobalqueue.html" onMouseOver="funcPopup(event,'takeglobalqueue')">takeGlobalQueue</a>();
<a name="l1475"><span class="linenum">1475</span></a>  
<a name="l1476"><span class="linenum">1476</span></a>                          var map = <a class="function" onClick="logFunction('makeModuleMap')" href="../../_functions/makemodulemap.html" onMouseOver="funcPopup(event,'makemodulemap')">makeModuleMap</a>(id, relMap, true),
<a name="l1477"><span class="linenum">1477</span></a>                              mod = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(registry, id);
<a name="l1478"><span class="linenum">1478</span></a>  
<a name="l1479"><span class="linenum">1479</span></a>                          <a class="function" onClick="logFunction('removeScript')" href="../../_functions/removescript.html" onMouseOver="funcPopup(event,'removescript')">removeScript</a>(id);
<a name="l1480"><span class="linenum">1480</span></a>  
<a name="l1481"><span class="linenum">1481</span></a>                          delete defined[id];
<a name="l1482"><span class="linenum">1482</span></a>                          delete urlFetched[map.url];
<a name="l1483"><span class="linenum">1483</span></a>                          delete undefEvents[id];
<a name="l1484"><span class="linenum">1484</span></a>  
<a name="l1485"><span class="linenum">1485</span></a>  <span class="comment">                        //Clean queued defines too. Go backwards</span>
<a name="l1486"><span class="linenum">1486</span></a>  <span class="comment">                        //in array so that the splices do not</span>
<a name="l1487"><span class="linenum">1487</span></a>  <span class="comment">                        //mess up the iteration.</span>
<a name="l1488"><span class="linenum">1488</span></a>                          <a class="function" onClick="logFunction('eachReverse')" href="../../_functions/eachreverse.html" onMouseOver="funcPopup(event,'eachreverse')">eachReverse</a>(defQueue, function(args, i) {
<a name="l1489"><span class="linenum">1489</span></a>                              if(args[0] === id) {
<a name="l1490"><span class="linenum">1490</span></a>                                  defQueue.<a class="function" onClick="logFunction('splice')" href="../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(i, 1);
<a name="l1491"><span class="linenum">1491</span></a>                              }
<a name="l1492"><span class="linenum">1492</span></a>                          });
<a name="l1493"><span class="linenum">1493</span></a>  
<a name="l1494"><span class="linenum">1494</span></a>                          if (mod) {
<a name="l1495"><span class="linenum">1495</span></a>  <span class="comment">                            //Hold on to listeners in case the</span>
<a name="l1496"><span class="linenum">1496</span></a>  <span class="comment">                            //module will be attempted to be reloaded</span>
<a name="l1497"><span class="linenum">1497</span></a>  <span class="comment">                            //using a different config.</span>
<a name="l1498"><span class="linenum">1498</span></a>                              if (mod.events.defined) {
<a name="l1499"><span class="linenum">1499</span></a>                                  undefEvents[id] = mod.events;
<a name="l1500"><span class="linenum">1500</span></a>                              }
<a name="l1501"><span class="linenum">1501</span></a>  
<a name="l1502"><span class="linenum">1502</span></a>                              <a class="function" onClick="logFunction('cleanRegistry')" href="../../_functions/cleanregistry.html" onMouseOver="funcPopup(event,'cleanregistry')">cleanRegistry</a>(id);
<a name="l1503"><span class="linenum">1503</span></a>                          }
<a name="l1504"><span class="linenum">1504</span></a>                      };
<a name="l1505"><span class="linenum">1505</span></a>                  }
<a name="l1506"><span class="linenum">1506</span></a>  
<a name="l1507"><span class="linenum">1507</span></a>                  return localRequire;
<a name="l1508"><span class="linenum">1508</span></a>              },
<a name="l1509"><span class="linenum">1509</span></a>  
<a name="l1510"><span class="linenum">1510</span></a>              <span class="comment">/**</span>
<a name="l1511"><span class="linenum">1511</span></a>  <span class="comment">             * Called to enable a module if it is still in the registry</span>
<a name="l1512"><span class="linenum">1512</span></a>  <span class="comment">             * awaiting enablement. A second arg, parent, the parent module,</span>
<a name="l1513"><span class="linenum">1513</span></a>  <span class="comment">             * is passed in for context, when this method is overridden by</span>
<a name="l1514"><span class="linenum">1514</span></a>  <span class="comment">             * the optimizer. Not shown here to keep code compact.</span>
<a name="l1515"><span class="linenum">1515</span></a>  <span class="comment">             */</span>
<a name="l1516"><span class="linenum">1516</span></a>              enable: function (depMap) {
<a name="l1517"><span class="linenum">1517</span></a>                  var mod = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(registry, depMap.id);
<a name="l1518"><span class="linenum">1518</span></a>                  if (mod) {
<a name="l1519"><span class="linenum">1519</span></a>                      <a class="function" onClick="logFunction('getModule')" href="../../_functions/getmodule.html" onMouseOver="funcPopup(event,'getmodule')">getModule</a>(depMap).<a class="function" onClick="logFunction('enable')" href="../../_functions/enable.html" onMouseOver="funcPopup(event,'enable')">enable</a>();
<a name="l1520"><span class="linenum">1520</span></a>                  }
<a name="l1521"><span class="linenum">1521</span></a>              },
<a name="l1522"><span class="linenum">1522</span></a>  
<a name="l1523"><span class="linenum">1523</span></a>              <span class="comment">/**</span>
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment">             * Internal method used by environment adapters to complete a load event.</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment">             * A load event could be a script load or just a load pass from a synchronous</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="comment">             * load call.</span>
<a name="l1527"><span class="linenum">1527</span></a>  <span class="comment">             * @param {String} moduleName the name of the module to potentially complete.</span>
<a name="l1528"><span class="linenum">1528</span></a>  <span class="comment">             */</span>
<a name="l1529"><span class="linenum">1529</span></a>              completeLoad: function (moduleName) {
<a name="l1530"><span class="linenum">1530</span></a>                  var found, args, mod,
<a name="l1531"><span class="linenum">1531</span></a>                      shim = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(config.shim, moduleName) || {},
<a name="l1532"><span class="linenum">1532</span></a>                      shExports = shim.exports;
<a name="l1533"><span class="linenum">1533</span></a>  
<a name="l1534"><span class="linenum">1534</span></a>                  <a class="function" onClick="logFunction('takeGlobalQueue')" href="../../_functions/takeglobalqueue.html" onMouseOver="funcPopup(event,'takeglobalqueue')">takeGlobalQueue</a>();
<a name="l1535"><span class="linenum">1535</span></a>  
<a name="l1536"><span class="linenum">1536</span></a>                  while (defQueue.length) {
<a name="l1537"><span class="linenum">1537</span></a>                      args = defQueue.<a class="function" onClick="logFunction('shift')" href="../../_functions/shift.html" onMouseOver="funcPopup(event,'shift')">shift</a>();
<a name="l1538"><span class="linenum">1538</span></a>                      if (args[0] === null) {
<a name="l1539"><span class="linenum">1539</span></a>                          args[0] = moduleName;
<a name="l1540"><span class="linenum">1540</span></a>  <span class="comment">                        //If already found an anonymous module and bound it</span>
<a name="l1541"><span class="linenum">1541</span></a>  <span class="comment">                        //to this name, then this is some other anon module</span>
<a name="l1542"><span class="linenum">1542</span></a>  <span class="comment">                        //waiting for its completeLoad to fire.</span>
<a name="l1543"><span class="linenum">1543</span></a>                          if (found) {
<a name="l1544"><span class="linenum">1544</span></a>                              break;
<a name="l1545"><span class="linenum">1545</span></a>                          }
<a name="l1546"><span class="linenum">1546</span></a>                          found = true;
<a name="l1547"><span class="linenum">1547</span></a>                      } else if (args[0] === moduleName) {
<a name="l1548"><span class="linenum">1548</span></a>  <span class="comment">                        //Found matching define call for this script!</span>
<a name="l1549"><span class="linenum">1549</span></a>                          found = true;
<a name="l1550"><span class="linenum">1550</span></a>                      }
<a name="l1551"><span class="linenum">1551</span></a>  
<a name="l1552"><span class="linenum">1552</span></a>                      <a class="function" onClick="logFunction('callGetModule')" href="../../_functions/callgetmodule.html" onMouseOver="funcPopup(event,'callgetmodule')">callGetModule</a>(args);
<a name="l1553"><span class="linenum">1553</span></a>                  }
<a name="l1554"><span class="linenum">1554</span></a>  
<a name="l1555"><span class="linenum">1555</span></a>  <span class="comment">                //Do this after the cycle of callGetModule in case the result</span>
<a name="l1556"><span class="linenum">1556</span></a>  <span class="comment">                //of those calls/init calls changes the registry.</span>
<a name="l1557"><span class="linenum">1557</span></a>                  mod = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(registry, moduleName);
<a name="l1558"><span class="linenum">1558</span></a>  
<a name="l1559"><span class="linenum">1559</span></a>                  if (!found &amp;&amp; !<a class="function" onClick="logFunction('hasProp')" href="../../_functions/hasprop.html" onMouseOver="funcPopup(event,'hasprop')">hasProp</a>(defined, moduleName) &amp;&amp; mod &amp;&amp; !mod.inited) {
<a name="l1560"><span class="linenum">1560</span></a>                      if (config.enforceDefine &amp;&amp; (!shExports || !<a class="function" onClick="logFunction('getGlobal')" href="../../_functions/getglobal.html" onMouseOver="funcPopup(event,'getglobal')">getGlobal</a>(shExports))) {
<a name="l1561"><span class="linenum">1561</span></a>                          if (<a class="function" onClick="logFunction('hasPathFallback')" href="../../_functions/haspathfallback.html" onMouseOver="funcPopup(event,'haspathfallback')">hasPathFallback</a>(moduleName)) {
<a name="l1562"><span class="linenum">1562</span></a>                              return;
<a name="l1563"><span class="linenum">1563</span></a>                          } else {
<a name="l1564"><span class="linenum">1564</span></a>                              return <a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(<a class="function" onClick="logFunction('makeError')" href="../../_functions/makeerror.html" onMouseOver="funcPopup(event,'makeerror')">makeError</a>('nodefine',
<a name="l1565"><span class="linenum">1565</span></a>                                               'No define call for ' + moduleName,
<a name="l1566"><span class="linenum">1566</span></a>                                               null,
<a name="l1567"><span class="linenum">1567</span></a>                                               [moduleName]));
<a name="l1568"><span class="linenum">1568</span></a>                          }
<a name="l1569"><span class="linenum">1569</span></a>                      } else {
<a name="l1570"><span class="linenum">1570</span></a>  <span class="comment">                        //A script that does not call define(), so just simulate</span>
<a name="l1571"><span class="linenum">1571</span></a>  <span class="comment">                        //the call for it.</span>
<a name="l1572"><span class="linenum">1572</span></a>                          <a class="function" onClick="logFunction('callGetModule')" href="../../_functions/callgetmodule.html" onMouseOver="funcPopup(event,'callgetmodule')">callGetModule</a>([moduleName, (shim.deps || []), shim.exportsFn]);
<a name="l1573"><span class="linenum">1573</span></a>                      }
<a name="l1574"><span class="linenum">1574</span></a>                  }
<a name="l1575"><span class="linenum">1575</span></a>  
<a name="l1576"><span class="linenum">1576</span></a>                  <a class="function" onClick="logFunction('checkLoaded')" href="../../_functions/checkloaded.html" onMouseOver="funcPopup(event,'checkloaded')">checkLoaded</a>();
<a name="l1577"><span class="linenum">1577</span></a>              },
<a name="l1578"><span class="linenum">1578</span></a>  
<a name="l1579"><span class="linenum">1579</span></a>              <span class="comment">/**</span>
<a name="l1580"><span class="linenum">1580</span></a>  <span class="comment">             * Converts a module name to a file path. Supports cases where</span>
<a name="l1581"><span class="linenum">1581</span></a>  <span class="comment">             * moduleName may actually be just an URL.</span>
<a name="l1582"><span class="linenum">1582</span></a>  <span class="comment">             * Note that it **does not** call normalize on the moduleName,</span>
<a name="l1583"><span class="linenum">1583</span></a>  <span class="comment">             * it is assumed to have already been normalized. This is an</span>
<a name="l1584"><span class="linenum">1584</span></a>  <span class="comment">             * internal API, not a public one. Use toUrl for the public API.</span>
<a name="l1585"><span class="linenum">1585</span></a>  <span class="comment">             */</span>
<a name="l1586"><span class="linenum">1586</span></a>              nameToUrl: function (moduleName, ext, skipExt) {
<a name="l1587"><span class="linenum">1587</span></a>                  var paths, syms, i, parentModule, url,
<a name="l1588"><span class="linenum">1588</span></a>                      parentPath, bundleId,
<a name="l1589"><span class="linenum">1589</span></a>                      pkgMain = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(config.pkgs, moduleName);
<a name="l1590"><span class="linenum">1590</span></a>  
<a name="l1591"><span class="linenum">1591</span></a>                  if (pkgMain) {
<a name="l1592"><span class="linenum">1592</span></a>                      moduleName = pkgMain;
<a name="l1593"><span class="linenum">1593</span></a>                  }
<a name="l1594"><span class="linenum">1594</span></a>  
<a name="l1595"><span class="linenum">1595</span></a>                  bundleId = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(bundlesMap, moduleName);
<a name="l1596"><span class="linenum">1596</span></a>  
<a name="l1597"><span class="linenum">1597</span></a>                  if (bundleId) {
<a name="l1598"><span class="linenum">1598</span></a>                      return context.nameToUrl(bundleId, ext, skipExt);
<a name="l1599"><span class="linenum">1599</span></a>                  }
<a name="l1600"><span class="linenum">1600</span></a>  
<a name="l1601"><span class="linenum">1601</span></a>  <span class="comment">                //If a colon is in the URL, it indicates a protocol is used and it is just</span>
<a name="l1602"><span class="linenum">1602</span></a>  <span class="comment">                //an URL to a file, or if it starts with a slash, contains a query arg (i.e. ?)</span>
<a name="l1603"><span class="linenum">1603</span></a>  <span class="comment">                //or ends with .js, then assume the user meant to use an url and not a module id.</span>
<a name="l1604"><span class="linenum">1604</span></a>  <span class="comment">                //The slash is important for protocol-less URLs as well as full paths.</span>
<a name="l1605"><span class="linenum">1605</span></a>                  if (req.jsExtRegExp.test(moduleName)) {
<a name="l1606"><span class="linenum">1606</span></a>  <span class="comment">                    //Just a plain path, not module name lookup, so just return it.</span>
<a name="l1607"><span class="linenum">1607</span></a>  <span class="comment">                    //Add extension if it is included. This is a bit wonky, only non-.js things pass</span>
<a name="l1608"><span class="linenum">1608</span></a>  <span class="comment">                    //an extension, this method probably needs to be reworked.</span>
<a name="l1609"><span class="linenum">1609</span></a>                      url = moduleName + (ext || '');
<a name="l1610"><span class="linenum">1610</span></a>                  } else {
<a name="l1611"><span class="linenum">1611</span></a>  <span class="comment">                    //A module that needs to be converted to a path.</span>
<a name="l1612"><span class="linenum">1612</span></a>                      paths = config.paths;
<a name="l1613"><span class="linenum">1613</span></a>  
<a name="l1614"><span class="linenum">1614</span></a>                      syms = moduleName.<a class="phpfunction" onClick="logFunction('split')" href="../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('/');
<a name="l1615"><span class="linenum">1615</span></a>  <span class="comment">                    //For each module name segment, see if there is a path</span>
<a name="l1616"><span class="linenum">1616</span></a>  <span class="comment">                    //registered for it. Start with most specific name</span>
<a name="l1617"><span class="linenum">1617</span></a>  <span class="comment">                    //and work up from it.</span>
<a name="l1618"><span class="linenum">1618</span></a>                      for (i = syms.length; i &gt; 0; i -= 1) {
<a name="l1619"><span class="linenum">1619</span></a>                          parentModule = syms.slice(0, i).<a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('/');
<a name="l1620"><span class="linenum">1620</span></a>  
<a name="l1621"><span class="linenum">1621</span></a>                          parentPath = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(paths, parentModule);
<a name="l1622"><span class="linenum">1622</span></a>                          if (parentPath) {
<a name="l1623"><span class="linenum">1623</span></a>  <span class="comment">                            //If an array, it means there are a few choices,</span>
<a name="l1624"><span class="linenum">1624</span></a>  <span class="comment">                            //Choose the one that is desired</span>
<a name="l1625"><span class="linenum">1625</span></a>                              if (<a class="function" onClick="logFunction('isArray')" href="../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(parentPath)) {
<a name="l1626"><span class="linenum">1626</span></a>                                  parentPath = parentPath[0];
<a name="l1627"><span class="linenum">1627</span></a>                              }
<a name="l1628"><span class="linenum">1628</span></a>                              syms.<a class="function" onClick="logFunction('splice')" href="../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(0, i, parentPath);
<a name="l1629"><span class="linenum">1629</span></a>                              break;
<a name="l1630"><span class="linenum">1630</span></a>                          }
<a name="l1631"><span class="linenum">1631</span></a>                      }
<a name="l1632"><span class="linenum">1632</span></a>  
<a name="l1633"><span class="linenum">1633</span></a>  <span class="comment">                    //Join the path parts together, then figure out if baseUrl is needed.</span>
<a name="l1634"><span class="linenum">1634</span></a>                      url = syms.<a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('/');
<a name="l1635"><span class="linenum">1635</span></a>                      url += (ext || (/^data\:|\?/.test(url) || skipExt ? '' : '.js'));
<a name="l1636"><span class="linenum">1636</span></a>                      url = (url.charAt(0) === '/' || url.<a class="function" onClick="logFunction('match')" href="../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/^[\w\+\.\-]+:/) ? '' : config.baseUrl) + url;
<a name="l1637"><span class="linenum">1637</span></a>                  }
<a name="l1638"><span class="linenum">1638</span></a>  
<a name="l1639"><span class="linenum">1639</span></a>                  return config.urlArgs ? url +
<a name="l1640"><span class="linenum">1640</span></a>                                          ((url.<a class="function" onClick="logFunction('indexOf')" href="../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>('?') === -1 ? '?' : '&amp;') +
<a name="l1641"><span class="linenum">1641</span></a>                                           config.urlArgs) : url;
<a name="l1642"><span class="linenum">1642</span></a>              },
<a name="l1643"><span class="linenum">1643</span></a>  
<a name="l1644"><span class="linenum">1644</span></a>  <span class="comment">            //Delegates to req.load. Broken out as a separate function to</span>
<a name="l1645"><span class="linenum">1645</span></a>  <span class="comment">            //allow overriding in the optimizer.</span>
<a name="l1646"><span class="linenum">1646</span></a>              load: function (id, url) {
<a name="l1647"><span class="linenum">1647</span></a>                  req.<a class="function" onClick="logFunction('load')" href="../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>(context, id, url);
<a name="l1648"><span class="linenum">1648</span></a>              },
<a name="l1649"><span class="linenum">1649</span></a>  
<a name="l1650"><span class="linenum">1650</span></a>              <span class="comment">/**</span>
<a name="l1651"><span class="linenum">1651</span></a>  <span class="comment">             * Executes a module callback function. Broken out as a separate function</span>
<a name="l1652"><span class="linenum">1652</span></a>  <span class="comment">             * solely to allow the build system to sequence the files in the built</span>
<a name="l1653"><span class="linenum">1653</span></a>  <span class="comment">             * layer in the right sequence.</span>
<a name="l1654"><span class="linenum">1654</span></a>  <span class="comment">             *</span>
<a name="l1655"><span class="linenum">1655</span></a>  <span class="comment">             * @private</span>
<a name="l1656"><span class="linenum">1656</span></a>  <span class="comment">             */</span>
<a name="l1657"><span class="linenum">1657</span></a>              execCb: function (name, callback, args, exports) {
<a name="l1658"><span class="linenum">1658</span></a>                  return callback.<a class="function" onClick="logFunction('apply')" href="../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(exports, args);
<a name="l1659"><span class="linenum">1659</span></a>              },
<a name="l1660"><span class="linenum">1660</span></a>  
<a name="l1661"><span class="linenum">1661</span></a>              <span class="comment">/**</span>
<a name="l1662"><span class="linenum">1662</span></a>  <span class="comment">             * callback for script loads, used to check status of loading.</span>
<a name="l1663"><span class="linenum">1663</span></a>  <span class="comment">             *</span>
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment">             * @param {Event} evt the event from the browser for the script</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment">             * that was loaded.</span>
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment">             */</span>
<a name="l1667"><span class="linenum">1667</span></a>              onScriptLoad: function (evt) {
<a name="l1668"><span class="linenum">1668</span></a>  <span class="comment">                //Using currentTarget instead of target for Firefox 2.0's sake. Not</span>
<a name="l1669"><span class="linenum">1669</span></a>  <span class="comment">                //all old browsers will be supported, but this one was easy enough</span>
<a name="l1670"><span class="linenum">1670</span></a>  <span class="comment">                //to support and still makes sense.</span>
<a name="l1671"><span class="linenum">1671</span></a>                  if (evt.type === 'load' ||
<a name="l1672"><span class="linenum">1672</span></a>                          (readyRegExp.test((evt.currentTarget || evt.srcElement).readyState))) {
<a name="l1673"><span class="linenum">1673</span></a>  <span class="comment">                    //Reset interactive script so a script node is not held onto for</span>
<a name="l1674"><span class="linenum">1674</span></a>  <span class="comment">                    //to long.</span>
<a name="l1675"><span class="linenum">1675</span></a>                      interactiveScript = null;
<a name="l1676"><span class="linenum">1676</span></a>  
<a name="l1677"><span class="linenum">1677</span></a>  <span class="comment">                    //Pull out the name of the module and the context.</span>
<a name="l1678"><span class="linenum">1678</span></a>                      var data = <a class="function" onClick="logFunction('getScriptData')" href="../../_functions/getscriptdata.html" onMouseOver="funcPopup(event,'getscriptdata')">getScriptData</a>(evt);
<a name="l1679"><span class="linenum">1679</span></a>                      context.completeLoad(data.id);
<a name="l1680"><span class="linenum">1680</span></a>                  }
<a name="l1681"><span class="linenum">1681</span></a>              },
<a name="l1682"><span class="linenum">1682</span></a>  
<a name="l1683"><span class="linenum">1683</span></a>              <span class="comment">/**</span>
<a name="l1684"><span class="linenum">1684</span></a>  <span class="comment">             * Callback for script errors.</span>
<a name="l1685"><span class="linenum">1685</span></a>  <span class="comment">             */</span>
<a name="l1686"><span class="linenum">1686</span></a>              onScriptError: function (evt) {
<a name="l1687"><span class="linenum">1687</span></a>                  var data = <a class="function" onClick="logFunction('getScriptData')" href="../../_functions/getscriptdata.html" onMouseOver="funcPopup(event,'getscriptdata')">getScriptData</a>(evt);
<a name="l1688"><span class="linenum">1688</span></a>                  if (!<a class="function" onClick="logFunction('hasPathFallback')" href="../../_functions/haspathfallback.html" onMouseOver="funcPopup(event,'haspathfallback')">hasPathFallback</a>(data.id)) {
<a name="l1689"><span class="linenum">1689</span></a>                      return <a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(<a class="function" onClick="logFunction('makeError')" href="../../_functions/makeerror.html" onMouseOver="funcPopup(event,'makeerror')">makeError</a>('scripterror', 'Script error for: ' + data.id, evt, [data.id]));
<a name="l1690"><span class="linenum">1690</span></a>                  }
<a name="l1691"><span class="linenum">1691</span></a>              }
<a name="l1692"><span class="linenum">1692</span></a>          };
<a name="l1693"><span class="linenum">1693</span></a>  
<a name="l1694"><span class="linenum">1694</span></a>          context.require = context.makeRequire();
<a name="l1695"><span class="linenum">1695</span></a>          return context;
<a name="l1696"><span class="linenum">1696</span></a>      }
<a name="l1697"><span class="linenum">1697</span></a>  
<a name="l1698"><span class="linenum">1698</span></a>      <span class="comment">/**</span>
<a name="l1699"><span class="linenum">1699</span></a>  <span class="comment">     * Main entry point.</span>
<a name="l1700"><span class="linenum">1700</span></a>  <span class="comment">     *</span>
<a name="l1701"><span class="linenum">1701</span></a>  <span class="comment">     * If the only argument to require is a string, then the module that</span>
<a name="l1702"><span class="linenum">1702</span></a>  <span class="comment">     * is represented by that string is fetched for the appropriate context.</span>
<a name="l1703"><span class="linenum">1703</span></a>  <span class="comment">     *</span>
<a name="l1704"><span class="linenum">1704</span></a>  <span class="comment">     * If the first argument is an array, then it will be treated as an array</span>
<a name="l1705"><span class="linenum">1705</span></a>  <span class="comment">     * of dependency string names to fetch. An optional function callback can</span>
<a name="l1706"><span class="linenum">1706</span></a>  <span class="comment">     * be specified to execute when all of those dependencies are available.</span>
<a name="l1707"><span class="linenum">1707</span></a>  <span class="comment">     *</span>
<a name="l1708"><span class="linenum">1708</span></a>  <span class="comment">     * Make a local req variable to help Caja compliance (it assumes things</span>
<a name="l1709"><span class="linenum">1709</span></a>  <span class="comment">     * on a require that are not standardized), and to give a short</span>
<a name="l1710"><span class="linenum">1710</span></a>  <span class="comment">     * name for minification/local scope use.</span>
<a name="l1711"><span class="linenum">1711</span></a>  <span class="comment">     */</span>
<a name="l1712"><span class="linenum">1712</span></a>      req = requirejs = function (deps, callback, errback, optional) {
<a name="l1713"><span class="linenum">1713</span></a>  
<a name="l1714"><span class="linenum">1714</span></a>  <span class="comment">        //Find the right context, use default</span>
<a name="l1715"><span class="linenum">1715</span></a>          var context, config,
<a name="l1716"><span class="linenum">1716</span></a>              contextName = defContextName;
<a name="l1717"><span class="linenum">1717</span></a>  
<a name="l1718"><span class="linenum">1718</span></a>  <span class="comment">        // Determine if have config object in the call.</span>
<a name="l1719"><span class="linenum">1719</span></a>          if (!<a class="function" onClick="logFunction('isArray')" href="../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(deps) &amp;&amp; typeof deps !== 'string') {
<a name="l1720"><span class="linenum">1720</span></a>  <span class="comment">            // deps is a config object</span>
<a name="l1721"><span class="linenum">1721</span></a>              config = deps;
<a name="l1722"><span class="linenum">1722</span></a>              if (<a class="function" onClick="logFunction('isArray')" href="../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(callback)) {
<a name="l1723"><span class="linenum">1723</span></a>  <span class="comment">                // Adjust args if there are dependencies</span>
<a name="l1724"><span class="linenum">1724</span></a>                  deps = callback;
<a name="l1725"><span class="linenum">1725</span></a>                  callback = errback;
<a name="l1726"><span class="linenum">1726</span></a>                  errback = optional;
<a name="l1727"><span class="linenum">1727</span></a>              } else {
<a name="l1728"><span class="linenum">1728</span></a>                  deps = [];
<a name="l1729"><span class="linenum">1729</span></a>              }
<a name="l1730"><span class="linenum">1730</span></a>          }
<a name="l1731"><span class="linenum">1731</span></a>  
<a name="l1732"><span class="linenum">1732</span></a>          if (config &amp;&amp; config.context) {
<a name="l1733"><span class="linenum">1733</span></a>              contextName = config.context;
<a name="l1734"><span class="linenum">1734</span></a>          }
<a name="l1735"><span class="linenum">1735</span></a>  
<a name="l1736"><span class="linenum">1736</span></a>          context = <a class="function" onClick="logFunction('getOwn')" href="../../_functions/getown.html" onMouseOver="funcPopup(event,'getown')">getOwn</a>(contexts, contextName);
<a name="l1737"><span class="linenum">1737</span></a>          if (!context) {
<a name="l1738"><span class="linenum">1738</span></a>              context = contexts[contextName] = req.s.<a class="function" onClick="logFunction('newContext')" href="../../_functions/newcontext.html" onMouseOver="funcPopup(event,'newcontext')">newContext</a>(contextName);
<a name="l1739"><span class="linenum">1739</span></a>          }
<a name="l1740"><span class="linenum">1740</span></a>  
<a name="l1741"><span class="linenum">1741</span></a>          if (config) {
<a name="l1742"><span class="linenum">1742</span></a>              context.configure(config);
<a name="l1743"><span class="linenum">1743</span></a>          }
<a name="l1744"><span class="linenum">1744</span></a>  
<a name="l1745"><span class="linenum">1745</span></a>          return context.<a class="function" onClick="logFunction('require')" href="../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(deps, callback, errback);
<a name="l1746"><span class="linenum">1746</span></a>      };
<a name="l1747"><span class="linenum">1747</span></a>  
<a name="l1748"><span class="linenum">1748</span></a>      <span class="comment">/**</span>
<a name="l1749"><span class="linenum">1749</span></a>  <span class="comment">     * Support require.config() to make it easier to cooperate with other</span>
<a name="l1750"><span class="linenum">1750</span></a>  <span class="comment">     * AMD loaders on globally agreed names.</span>
<a name="l1751"><span class="linenum">1751</span></a>  <span class="comment">     */</span>
<a name="l1752"><span class="linenum">1752</span></a>      req.config = function (config) {
<a name="l1753"><span class="linenum">1753</span></a>          return req(config);
<a name="l1754"><span class="linenum">1754</span></a>      };
<a name="l1755"><span class="linenum">1755</span></a>  
<a name="l1756"><span class="linenum">1756</span></a>      <span class="comment">/**</span>
<a name="l1757"><span class="linenum">1757</span></a>  <span class="comment">     * Execute something after the current tick</span>
<a name="l1758"><span class="linenum">1758</span></a>  <span class="comment">     * of the event loop. Override for other envs</span>
<a name="l1759"><span class="linenum">1759</span></a>  <span class="comment">     * that have a better solution than setTimeout.</span>
<a name="l1760"><span class="linenum">1760</span></a>  <span class="comment">     * @param  {Function} fn function to execute later.</span>
<a name="l1761"><span class="linenum">1761</span></a>  <span class="comment">     */</span>
<a name="l1762"><span class="linenum">1762</span></a>      req.nextTick = typeof setTimeout !== 'undefined' ? function (fn) {
<a name="l1763"><span class="linenum">1763</span></a>          <a class="function" onClick="logFunction('setTimeout')" href="../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>(fn, 4);
<a name="l1764"><span class="linenum">1764</span></a>      } : function (fn) { <a class="function" onClick="logFunction('fn')" href="../../_functions/fn.html" onMouseOver="funcPopup(event,'fn')">fn</a>(); };
<a name="l1765"><span class="linenum">1765</span></a>  
<a name="l1766"><span class="linenum">1766</span></a>      <span class="comment">/**</span>
<a name="l1767"><span class="linenum">1767</span></a>  <span class="comment">     * Export require as a global, but only if it does not already exist.</span>
<a name="l1768"><span class="linenum">1768</span></a>  <span class="comment">     */</span>
<a name="l1769"><span class="linenum">1769</span></a>      if (!require) {
<a name="l1770"><span class="linenum">1770</span></a>          require = req;
<a name="l1771"><span class="linenum">1771</span></a>      }
<a name="l1772"><span class="linenum">1772</span></a>  
<a name="l1773"><span class="linenum">1773</span></a>      req.version = version;
<a name="l1774"><span class="linenum">1774</span></a>  
<a name="l1775"><span class="linenum">1775</span></a>  <span class="comment">    //Used to filter out dependencies that are already paths.</span>
<a name="l1776"><span class="linenum">1776</span></a>      req.jsExtRegExp = /^\/|:|\?|\.js$/;
<a name="l1777"><span class="linenum">1777</span></a>      req.isBrowser = isBrowser;
<a name="l1778"><span class="linenum">1778</span></a>      s = req.s = {
<a name="l1779"><span class="linenum">1779</span></a>          contexts: contexts,
<a name="l1780"><span class="linenum">1780</span></a>          newContext: newContext
<a name="l1781"><span class="linenum">1781</span></a>      };
<a name="l1782"><span class="linenum">1782</span></a>  
<a name="l1783"><span class="linenum">1783</span></a>  <span class="comment">    //Create default context.</span>
<a name="l1784"><span class="linenum">1784</span></a>      req({});
<a name="l1785"><span class="linenum">1785</span></a>  
<a name="l1786"><span class="linenum">1786</span></a>  <span class="comment">    //Exports some context-sensitive methods on global require.</span>
<a name="l1787"><span class="linenum">1787</span></a>      <a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>([
<a name="l1788"><span class="linenum">1788</span></a>          'toUrl',
<a name="l1789"><span class="linenum">1789</span></a>          'undef',
<a name="l1790"><span class="linenum">1790</span></a>          'defined',
<a name="l1791"><span class="linenum">1791</span></a>          'specified'
<a name="l1792"><span class="linenum">1792</span></a>      ], function (prop) {
<a name="l1793"><span class="linenum">1793</span></a>  <span class="comment">        //Reference from contexts instead of early binding to default context,</span>
<a name="l1794"><span class="linenum">1794</span></a>  <span class="comment">        //so that during builds, the latest instance of the default context</span>
<a name="l1795"><span class="linenum">1795</span></a>  <span class="comment">        //with its config gets used.</span>
<a name="l1796"><span class="linenum">1796</span></a>          req[prop] = function () {
<a name="l1797"><span class="linenum">1797</span></a>              var ctx = contexts[defContextName];
<a name="l1798"><span class="linenum">1798</span></a>              return ctx.require[prop].<a class="function" onClick="logFunction('apply')" href="../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(ctx, arguments);
<a name="l1799"><span class="linenum">1799</span></a>          };
<a name="l1800"><span class="linenum">1800</span></a>      });
<a name="l1801"><span class="linenum">1801</span></a>  
<a name="l1802"><span class="linenum">1802</span></a>      if (isBrowser) {
<a name="l1803"><span class="linenum">1803</span></a>          head = s.head = document.getElementsByTagName('head')[0];
<a name="l1804"><span class="linenum">1804</span></a>  <span class="comment">        //If BASE tag is in play, using appendChild is a problem for IE6.</span>
<a name="l1805"><span class="linenum">1805</span></a>  <span class="comment">        //When that browser dies, this can be removed. Details in this jQuery bug:</span>
<a name="l1806"><span class="linenum">1806</span></a>  <span class="comment">        //http://dev.jquery.com/ticket/2709</span>
<a name="l1807"><span class="linenum">1807</span></a>          baseElement = document.getElementsByTagName('base')[0];
<a name="l1808"><span class="linenum">1808</span></a>          if (baseElement) {
<a name="l1809"><span class="linenum">1809</span></a>              head = s.head = baseElement.parentNode;
<a name="l1810"><span class="linenum">1810</span></a>          }
<a name="l1811"><span class="linenum">1811</span></a>      }
<a name="l1812"><span class="linenum">1812</span></a>  
<a name="l1813"><span class="linenum">1813</span></a>      <span class="comment">/**</span>
<a name="l1814"><span class="linenum">1814</span></a>  <span class="comment">     * Any errors that require explicitly generates will be passed to this</span>
<a name="l1815"><span class="linenum">1815</span></a>  <span class="comment">     * function. Intercept/override it if you want custom error handling.</span>
<a name="l1816"><span class="linenum">1816</span></a>  <span class="comment">     * @param {Error} err the error object.</span>
<a name="l1817"><span class="linenum">1817</span></a>  <span class="comment">     */</span>
<a name="l1818"><span class="linenum">1818</span></a>      req.onError = defaultOnError;
<a name="l1819"><span class="linenum">1819</span></a>  
<a name="l1820"><span class="linenum">1820</span></a>      <span class="comment">/**</span>
<a name="l1821"><span class="linenum">1821</span></a>  <span class="comment">     * Creates the node for the load command. Only used in browser envs.</span>
<a name="l1822"><span class="linenum">1822</span></a>  <span class="comment">     */</span>
<a name="l1823"><span class="linenum">1823</span></a>      req.createNode = function (config, moduleName, url) {
<a name="l1824"><span class="linenum">1824</span></a>          var node = config.xhtml ?
<a name="l1825"><span class="linenum">1825</span></a>                  document.createElementNS('http://www.w3.org/1999/xhtml', 'html:script') :
<a name="l1826"><span class="linenum">1826</span></a>                  document.<a class="function" onClick="logFunction('createElement')" href="../../_functions/createelement.html" onMouseOver="funcPopup(event,'createelement')">createElement</a>('script');
<a name="l1827"><span class="linenum">1827</span></a>          node.type = config.scriptType || 'text/javascript';
<a name="l1828"><span class="linenum">1828</span></a>          node.charset = 'utf-8';
<a name="l1829"><span class="linenum">1829</span></a>          node.async = true;
<a name="l1830"><span class="linenum">1830</span></a>          return node;
<a name="l1831"><span class="linenum">1831</span></a>      };
<a name="l1832"><span class="linenum">1832</span></a>  
<a name="l1833"><span class="linenum">1833</span></a>      <span class="comment">/**</span>
<a name="l1834"><span class="linenum">1834</span></a>  <span class="comment">     * Does the request to load a module for the browser case.</span>
<a name="l1835"><span class="linenum">1835</span></a>  <span class="comment">     * Make this a separate function to allow other environments</span>
<a name="l1836"><span class="linenum">1836</span></a>  <span class="comment">     * to override it.</span>
<a name="l1837"><span class="linenum">1837</span></a>  <span class="comment">     *</span>
<a name="l1838"><span class="linenum">1838</span></a>  <span class="comment">     * @param {Object} context the require context to find state.</span>
<a name="l1839"><span class="linenum">1839</span></a>  <span class="comment">     * @param {String} moduleName the name of the module.</span>
<a name="l1840"><span class="linenum">1840</span></a>  <span class="comment">     * @param {Object} url the URL to the module.</span>
<a name="l1841"><span class="linenum">1841</span></a>  <span class="comment">     */</span>
<a name="l1842"><span class="linenum">1842</span></a>      req.load = function (context, moduleName, url) {
<a name="l1843"><span class="linenum">1843</span></a>          var config = (context &amp;&amp; context.config) || {},
<a name="l1844"><span class="linenum">1844</span></a>              node;
<a name="l1845"><span class="linenum">1845</span></a>          if (isBrowser) {
<a name="l1846"><span class="linenum">1846</span></a>  <span class="comment">            //In the browser so use a script tag</span>
<a name="l1847"><span class="linenum">1847</span></a>              node = req.<a class="function" onClick="logFunction('createNode')" href="../../_functions/createnode.html" onMouseOver="funcPopup(event,'createnode')">createNode</a>(config, moduleName, url);
<a name="l1848"><span class="linenum">1848</span></a>  
<a name="l1849"><span class="linenum">1849</span></a>              node.<a class="function" onClick="logFunction('setAttribute')" href="../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('data-requirecontext', context.contextName);
<a name="l1850"><span class="linenum">1850</span></a>              node.<a class="function" onClick="logFunction('setAttribute')" href="../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('data-requiremodule', moduleName);
<a name="l1851"><span class="linenum">1851</span></a>  
<a name="l1852"><span class="linenum">1852</span></a>  <span class="comment">            //Set up load listener. Test attachEvent first because IE9 has</span>
<a name="l1853"><span class="linenum">1853</span></a>  <span class="comment">            //a subtle issue in its addEventListener and script onload firings</span>
<a name="l1854"><span class="linenum">1854</span></a>  <span class="comment">            //that do not match the behavior of all other browsers with</span>
<a name="l1855"><span class="linenum">1855</span></a>  <span class="comment">            //addEventListener support, which fire the onload event for a</span>
<a name="l1856"><span class="linenum">1856</span></a>  <span class="comment">            //script right after the script execution. See:</span>
<a name="l1857"><span class="linenum">1857</span></a>  <span class="comment">            //https://connect.microsoft.com/IE/feedback/details/648057/script-onload-event-is-not-fired-immediately-after-script-execution</span>
<a name="l1858"><span class="linenum">1858</span></a>  <span class="comment">            //UNFORTUNATELY Opera implements attachEvent but does not follow the script</span>
<a name="l1859"><span class="linenum">1859</span></a>  <span class="comment">            //script execution mode.</span>
<a name="l1860"><span class="linenum">1860</span></a>              if (node.attachEvent &amp;&amp;
<a name="l1861"><span class="linenum">1861</span></a>  <span class="comment">                    //Check if node.attachEvent is artificially added by custom script or</span>
<a name="l1862"><span class="linenum">1862</span></a>  <span class="comment">                    //natively supported by browser</span>
<a name="l1863"><span class="linenum">1863</span></a>  <span class="comment">                    //read https://github.com/jrburke/requirejs/issues/187</span>
<a name="l1864"><span class="linenum">1864</span></a>  <span class="comment">                    //if we can NOT find [native code] then it must NOT natively supported.</span>
<a name="l1865"><span class="linenum">1865</span></a>  <span class="comment">                    //in IE8, node.attachEvent does not have toString()</span>
<a name="l1866"><span class="linenum">1866</span></a>  <span class="comment">                    //Note the test for &quot;[native code&quot; with no closing brace, see:</span>
<a name="l1867"><span class="linenum">1867</span></a>  <span class="comment">                    //https://github.com/jrburke/requirejs/issues/273</span>
<a name="l1868"><span class="linenum">1868</span></a>                      !(node.attachEvent.toString &amp;&amp; node.attachEvent.<a class="function" onClick="logFunction('toString')" href="../../_functions/tostring.html" onMouseOver="funcPopup(event,'tostring')">toString</a>().<a class="function" onClick="logFunction('indexOf')" href="../../_functions/indexof.html" onMouseOver="funcPopup(event,'indexof')">indexOf</a>('[native code') &lt; 0) &amp;&amp;
<a name="l1869"><span class="linenum">1869</span></a>                      !isOpera) {
<a name="l1870"><span class="linenum">1870</span></a>  <span class="comment">                //Probably IE. IE (at least 6-8) do not fire</span>
<a name="l1871"><span class="linenum">1871</span></a>  <span class="comment">                //script onload right after executing the script, so</span>
<a name="l1872"><span class="linenum">1872</span></a>  <span class="comment">                //we cannot tie the anonymous define call to a name.</span>
<a name="l1873"><span class="linenum">1873</span></a>  <span class="comment">                //However, IE reports the script as being in 'interactive'</span>
<a name="l1874"><span class="linenum">1874</span></a>  <span class="comment">                //readyState at the time of the define call.</span>
<a name="l1875"><span class="linenum">1875</span></a>                  useInteractive = true;
<a name="l1876"><span class="linenum">1876</span></a>  
<a name="l1877"><span class="linenum">1877</span></a>                  node.attachEvent('onreadystatechange', context.onScriptLoad);
<a name="l1878"><span class="linenum">1878</span></a>  <span class="comment">                //It would be great to add an error handler here to catch</span>
<a name="l1879"><span class="linenum">1879</span></a>  <span class="comment">                //404s in IE9+. However, onreadystatechange will fire before</span>
<a name="l1880"><span class="linenum">1880</span></a>  <span class="comment">                //the error handler, so that does not help. If addEventListener</span>
<a name="l1881"><span class="linenum">1881</span></a>  <span class="comment">                //is used, then IE will fire error before load, but we cannot</span>
<a name="l1882"><span class="linenum">1882</span></a>  <span class="comment">                //use that pathway given the connect.microsoft.com issue</span>
<a name="l1883"><span class="linenum">1883</span></a>  <span class="comment">                //mentioned above about not doing the 'script execute,</span>
<a name="l1884"><span class="linenum">1884</span></a>  <span class="comment">                //then fire the script load event listener before execute</span>
<a name="l1885"><span class="linenum">1885</span></a>  <span class="comment">                //next script' that other browsers do.</span>
<a name="l1886"><span class="linenum">1886</span></a>  <span class="comment">                //Best hope: IE10 fixes the issues,</span>
<a name="l1887"><span class="linenum">1887</span></a>  <span class="comment">                //and then destroys all installs of IE 6-9.</span>
<a name="l1888"><span class="linenum">1888</span></a>  <span class="comment">                //node.attachEvent('onerror', context.onScriptError);</span>
<a name="l1889"><span class="linenum">1889</span></a>              } else {
<a name="l1890"><span class="linenum">1890</span></a>                  node.addEventListener('load', context.onScriptLoad, false);
<a name="l1891"><span class="linenum">1891</span></a>                  node.addEventListener('error', context.onScriptError, false);
<a name="l1892"><span class="linenum">1892</span></a>              }
<a name="l1893"><span class="linenum">1893</span></a>              node.src = url;
<a name="l1894"><span class="linenum">1894</span></a>  
<a name="l1895"><span class="linenum">1895</span></a>  <span class="comment">            //For some cache cases in IE 6-8, the script executes before the end</span>
<a name="l1896"><span class="linenum">1896</span></a>  <span class="comment">            //of the appendChild execution, so to tie an anonymous define</span>
<a name="l1897"><span class="linenum">1897</span></a>  <span class="comment">            //call to the module name (which is stored on the node), hold on</span>
<a name="l1898"><span class="linenum">1898</span></a>  <span class="comment">            //to a reference to this node, but clear after the DOM insertion.</span>
<a name="l1899"><span class="linenum">1899</span></a>              currentlyAddingScript = node;
<a name="l1900"><span class="linenum">1900</span></a>              if (baseElement) {
<a name="l1901"><span class="linenum">1901</span></a>                  head.<a class="function" onClick="logFunction('insertBefore')" href="../../_functions/insertbefore.html" onMouseOver="funcPopup(event,'insertbefore')">insertBefore</a>(node, baseElement);
<a name="l1902"><span class="linenum">1902</span></a>              } else {
<a name="l1903"><span class="linenum">1903</span></a>                  head.appendChild(node);
<a name="l1904"><span class="linenum">1904</span></a>              }
<a name="l1905"><span class="linenum">1905</span></a>              currentlyAddingScript = null;
<a name="l1906"><span class="linenum">1906</span></a>  
<a name="l1907"><span class="linenum">1907</span></a>              return node;
<a name="l1908"><span class="linenum">1908</span></a>          } else if (isWebWorker) {
<a name="l1909"><span class="linenum">1909</span></a>              try {
<a name="l1910"><span class="linenum">1910</span></a>  <span class="comment">                //In a web worker, use importScripts. This is not a very</span>
<a name="l1911"><span class="linenum">1911</span></a>  <span class="comment">                //efficient use of importScripts, importScripts will block until</span>
<a name="l1912"><span class="linenum">1912</span></a>  <span class="comment">                //its script is downloaded and evaluated. However, if web workers</span>
<a name="l1913"><span class="linenum">1913</span></a>  <span class="comment">                //are in play, the expectation that a build has been done so that</span>
<a name="l1914"><span class="linenum">1914</span></a>  <span class="comment">                //only one script needs to be loaded anyway. This may need to be</span>
<a name="l1915"><span class="linenum">1915</span></a>  <span class="comment">                //reevaluated if other use cases become common.</span>
<a name="l1916"><span class="linenum">1916</span></a>                  importScripts(url);
<a name="l1917"><span class="linenum">1917</span></a>  
<a name="l1918"><span class="linenum">1918</span></a>  <span class="comment">                //Account for anonymous modules</span>
<a name="l1919"><span class="linenum">1919</span></a>                  context.completeLoad(moduleName);
<a name="l1920"><span class="linenum">1920</span></a>              } catch (e) {
<a name="l1921"><span class="linenum">1921</span></a>                  context.<a class="function" onClick="logFunction('onError')" href="../../_functions/onerror.html" onMouseOver="funcPopup(event,'onerror')">onError</a>(<a class="function" onClick="logFunction('makeError')" href="../../_functions/makeerror.html" onMouseOver="funcPopup(event,'makeerror')">makeError</a>('importscripts',
<a name="l1922"><span class="linenum">1922</span></a>                                  'importScripts failed for ' +
<a name="l1923"><span class="linenum">1923</span></a>                                      moduleName + ' at ' + url,
<a name="l1924"><span class="linenum">1924</span></a>                                  e,
<a name="l1925"><span class="linenum">1925</span></a>                                  [moduleName]));
<a name="l1926"><span class="linenum">1926</span></a>              }
<a name="l1927"><span class="linenum">1927</span></a>          }
<a name="l1928"><span class="linenum">1928</span></a>      };
<a name="l1929"><span class="linenum">1929</span></a>  
<a name="l1930"><span class="linenum">1930</span></a>      function <a class="function" onClick="logFunction('getInteractiveScript')" href="../../_functions/getinteractivescript.html" onMouseOver="funcPopup(event,'getinteractivescript')">getInteractiveScript</a>() {
<a name="l1931"><span class="linenum">1931</span></a>          if (interactiveScript &amp;&amp; interactiveScript.readyState === 'interactive') {
<a name="l1932"><span class="linenum">1932</span></a>              return interactiveScript;
<a name="l1933"><span class="linenum">1933</span></a>          }
<a name="l1934"><span class="linenum">1934</span></a>  
<a name="l1935"><span class="linenum">1935</span></a>          <a class="function" onClick="logFunction('eachReverse')" href="../../_functions/eachreverse.html" onMouseOver="funcPopup(event,'eachreverse')">eachReverse</a>(<a class="function" onClick="logFunction('scripts')" href="../../_functions/scripts.html" onMouseOver="funcPopup(event,'scripts')">scripts</a>(), function (script) {
<a name="l1936"><span class="linenum">1936</span></a>              if (script.readyState === 'interactive') {
<a name="l1937"><span class="linenum">1937</span></a>                  return (interactiveScript = script);
<a name="l1938"><span class="linenum">1938</span></a>              }
<a name="l1939"><span class="linenum">1939</span></a>          });
<a name="l1940"><span class="linenum">1940</span></a>          return interactiveScript;
<a name="l1941"><span class="linenum">1941</span></a>      }
<a name="l1942"><span class="linenum">1942</span></a>  
<a name="l1943"><span class="linenum">1943</span></a>  <span class="comment">    //Look for a data-main script attribute, which could also adjust the baseUrl.</span>
<a name="l1944"><span class="linenum">1944</span></a>      if (isBrowser &amp;&amp; !cfg.skipDataMain) {
<a name="l1945"><span class="linenum">1945</span></a>  <span class="comment">        //Figure out baseUrl. Get it from the script tag with require.js in it.</span>
<a name="l1946"><span class="linenum">1946</span></a>          <a class="function" onClick="logFunction('eachReverse')" href="../../_functions/eachreverse.html" onMouseOver="funcPopup(event,'eachreverse')">eachReverse</a>(<a class="function" onClick="logFunction('scripts')" href="../../_functions/scripts.html" onMouseOver="funcPopup(event,'scripts')">scripts</a>(), function (script) {
<a name="l1947"><span class="linenum">1947</span></a>  <span class="comment">            //Set the 'head' where we can append children by</span>
<a name="l1948"><span class="linenum">1948</span></a>  <span class="comment">            //using the script's parent.</span>
<a name="l1949"><span class="linenum">1949</span></a>              if (!head) {
<a name="l1950"><span class="linenum">1950</span></a>                  head = script.parentNode;
<a name="l1951"><span class="linenum">1951</span></a>              }
<a name="l1952"><span class="linenum">1952</span></a>  
<a name="l1953"><span class="linenum">1953</span></a>  <span class="comment">            //Look for a data-main attribute to set main script for the page</span>
<a name="l1954"><span class="linenum">1954</span></a>  <span class="comment">            //to load. If it is there, the path to data main becomes the</span>
<a name="l1955"><span class="linenum">1955</span></a>  <span class="comment">            //baseUrl, if it is not already set.</span>
<a name="l1956"><span class="linenum">1956</span></a>              dataMain = script.<a class="function" onClick="logFunction('getAttribute')" href="../../_functions/getattribute.html" onMouseOver="funcPopup(event,'getattribute')">getAttribute</a>('data-main');
<a name="l1957"><span class="linenum">1957</span></a>              if (dataMain) {
<a name="l1958"><span class="linenum">1958</span></a>  <span class="comment">                //Preserve dataMain in case it is a path (i.e. contains '?')</span>
<a name="l1959"><span class="linenum">1959</span></a>                  mainScript = dataMain;
<a name="l1960"><span class="linenum">1960</span></a>  
<a name="l1961"><span class="linenum">1961</span></a>  <span class="comment">                //Set final baseUrl if there is not already an explicit one.</span>
<a name="l1962"><span class="linenum">1962</span></a>                  if (!cfg.baseUrl) {
<a name="l1963"><span class="linenum">1963</span></a>  <span class="comment">                    //Pull off the directory of data-main for use as the</span>
<a name="l1964"><span class="linenum">1964</span></a>  <span class="comment">                    //baseUrl.</span>
<a name="l1965"><span class="linenum">1965</span></a>                      src = mainScript.<a class="phpfunction" onClick="logFunction('split')" href="../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('/');
<a name="l1966"><span class="linenum">1966</span></a>                      mainScript = src.<a class="function" onClick="logFunction('pop')" href="../../_functions/pop.html" onMouseOver="funcPopup(event,'pop')">pop</a>();
<a name="l1967"><span class="linenum">1967</span></a>                      subPath = src.length ? src.<a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('/')  + '/' : './';
<a name="l1968"><span class="linenum">1968</span></a>  
<a name="l1969"><span class="linenum">1969</span></a>                      cfg.baseUrl = subPath;
<a name="l1970"><span class="linenum">1970</span></a>                  }
<a name="l1971"><span class="linenum">1971</span></a>  
<a name="l1972"><span class="linenum">1972</span></a>  <span class="comment">                //Strip off any trailing .js since mainScript is now</span>
<a name="l1973"><span class="linenum">1973</span></a>  <span class="comment">                //like a module name.</span>
<a name="l1974"><span class="linenum">1974</span></a>                  mainScript = mainScript.<a class="function" onClick="logFunction('replace')" href="../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(jsSuffixRegExp, '');
<a name="l1975"><span class="linenum">1975</span></a>  
<a name="l1976"><span class="linenum">1976</span></a>  <span class="comment">                 //If mainScript is still a path, fall back to dataMain</span>
<a name="l1977"><span class="linenum">1977</span></a>                  if (req.jsExtRegExp.test(mainScript)) {
<a name="l1978"><span class="linenum">1978</span></a>                      mainScript = dataMain;
<a name="l1979"><span class="linenum">1979</span></a>                  }
<a name="l1980"><span class="linenum">1980</span></a>  
<a name="l1981"><span class="linenum">1981</span></a>  <span class="comment">                //Put the data-main script in the files to load.</span>
<a name="l1982"><span class="linenum">1982</span></a>                  cfg.deps = cfg.deps ? cfg.deps.<a class="function" onClick="logFunction('concat')" href="../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(mainScript) : [mainScript];
<a name="l1983"><span class="linenum">1983</span></a>  
<a name="l1984"><span class="linenum">1984</span></a>                  return true;
<a name="l1985"><span class="linenum">1985</span></a>              }
<a name="l1986"><span class="linenum">1986</span></a>          });
<a name="l1987"><span class="linenum">1987</span></a>      }
<a name="l1988"><span class="linenum">1988</span></a>  
<a name="l1989"><span class="linenum">1989</span></a>      <span class="comment">/**</span>
<a name="l1990"><span class="linenum">1990</span></a>  <span class="comment">     * The function that handles definitions of modules. Differs from</span>
<a name="l1991"><span class="linenum">1991</span></a>  <span class="comment">     * require() in that a string for the module should be the first argument,</span>
<a name="l1992"><span class="linenum">1992</span></a>  <span class="comment">     * and the function to execute after dependencies are loaded should</span>
<a name="l1993"><span class="linenum">1993</span></a>  <span class="comment">     * return a value to define the module corresponding to the first argument's</span>
<a name="l1994"><span class="linenum">1994</span></a>  <span class="comment">     * name.</span>
<a name="l1995"><span class="linenum">1995</span></a>  <span class="comment">     */</span>
<a name="l1996"><span class="linenum">1996</span></a>      define = function (name, deps, callback) {
<a name="l1997"><span class="linenum">1997</span></a>          var node, context;
<a name="l1998"><span class="linenum">1998</span></a>  
<a name="l1999"><span class="linenum">1999</span></a>  <span class="comment">        //Allow for anonymous modules</span>
<a name="l2000"><span class="linenum">2000</span></a>          if (typeof name !== 'string') {
<a name="l2001"><span class="linenum">2001</span></a>  <span class="comment">            //Adjust args appropriately</span>
<a name="l2002"><span class="linenum">2002</span></a>              callback = deps;
<a name="l2003"><span class="linenum">2003</span></a>              deps = name;
<a name="l2004"><span class="linenum">2004</span></a>              name = null;
<a name="l2005"><span class="linenum">2005</span></a>          }
<a name="l2006"><span class="linenum">2006</span></a>  
<a name="l2007"><span class="linenum">2007</span></a>  <span class="comment">        //This module may not have dependencies</span>
<a name="l2008"><span class="linenum">2008</span></a>          if (!<a class="function" onClick="logFunction('isArray')" href="../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(deps)) {
<a name="l2009"><span class="linenum">2009</span></a>              callback = deps;
<a name="l2010"><span class="linenum">2010</span></a>              deps = null;
<a name="l2011"><span class="linenum">2011</span></a>          }
<a name="l2012"><span class="linenum">2012</span></a>  
<a name="l2013"><span class="linenum">2013</span></a>  <span class="comment">        //If no name, and callback is a function, then figure out if it a</span>
<a name="l2014"><span class="linenum">2014</span></a>  <span class="comment">        //CommonJS thing with dependencies.</span>
<a name="l2015"><span class="linenum">2015</span></a>          if (!deps &amp;&amp; <a class="function" onClick="logFunction('isFunction')" href="../../_functions/isfunction.html" onMouseOver="funcPopup(event,'isfunction')">isFunction</a>(callback)) {
<a name="l2016"><span class="linenum">2016</span></a>              deps = [];
<a name="l2017"><span class="linenum">2017</span></a>  <span class="comment">            //Remove comments from the callback string,</span>
<a name="l2018"><span class="linenum">2018</span></a>  <span class="comment">            //look for require calls, and pull them into the dependencies,</span>
<a name="l2019"><span class="linenum">2019</span></a>  <span class="comment">            //but only if there are function args.</span>
<a name="l2020"><span class="linenum">2020</span></a>              if (callback.length) {
<a name="l2021"><span class="linenum">2021</span></a>                  callback
<a name="l2022"><span class="linenum">2022</span></a>                      .<a class="function" onClick="logFunction('toString')" href="../../_functions/tostring.html" onMouseOver="funcPopup(event,'tostring')">toString</a>()
<a name="l2023"><span class="linenum">2023</span></a>                      .<a class="function" onClick="logFunction('replace')" href="../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(commentRegExp, '')
<a name="l2024"><span class="linenum">2024</span></a>                      .<a class="function" onClick="logFunction('replace')" href="../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(cjsRequireRegExp, function (match, dep) {
<a name="l2025"><span class="linenum">2025</span></a>                          deps.<a class="function" onClick="logFunction('push')" href="../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(dep);
<a name="l2026"><span class="linenum">2026</span></a>                      });
<a name="l2027"><span class="linenum">2027</span></a>  
<a name="l2028"><span class="linenum">2028</span></a>  <span class="comment">                //May be a CommonJS thing even without require calls, but still</span>
<a name="l2029"><span class="linenum">2029</span></a>  <span class="comment">                //could use exports, and module. Avoid doing exports and module</span>
<a name="l2030"><span class="linenum">2030</span></a>  <span class="comment">                //work though if it just needs require.</span>
<a name="l2031"><span class="linenum">2031</span></a>  <span class="comment">                //REQUIRES the function to expect the CommonJS variables in the</span>
<a name="l2032"><span class="linenum">2032</span></a>  <span class="comment">                //order listed below.</span>
<a name="l2033"><span class="linenum">2033</span></a>                  deps = (callback.length === 1 ? ['require'] : ['require', 'exports', 'module']).<a class="function" onClick="logFunction('concat')" href="../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>(deps);
<a name="l2034"><span class="linenum">2034</span></a>              }
<a name="l2035"><span class="linenum">2035</span></a>          }
<a name="l2036"><span class="linenum">2036</span></a>  
<a name="l2037"><span class="linenum">2037</span></a>  <span class="comment">        //If in IE 6-8 and hit an anonymous define() call, do the interactive</span>
<a name="l2038"><span class="linenum">2038</span></a>  <span class="comment">        //work.</span>
<a name="l2039"><span class="linenum">2039</span></a>          if (useInteractive) {
<a name="l2040"><span class="linenum">2040</span></a>              node = currentlyAddingScript || <a class="function" onClick="logFunction('getInteractiveScript')" href="../../_functions/getinteractivescript.html" onMouseOver="funcPopup(event,'getinteractivescript')">getInteractiveScript</a>();
<a name="l2041"><span class="linenum">2041</span></a>              if (node) {
<a name="l2042"><span class="linenum">2042</span></a>                  if (!name) {
<a name="l2043"><span class="linenum">2043</span></a>                      name = node.<a class="function" onClick="logFunction('getAttribute')" href="../../_functions/getattribute.html" onMouseOver="funcPopup(event,'getattribute')">getAttribute</a>('data-requiremodule');
<a name="l2044"><span class="linenum">2044</span></a>                  }
<a name="l2045"><span class="linenum">2045</span></a>                  context = contexts[node.<a class="function" onClick="logFunction('getAttribute')" href="../../_functions/getattribute.html" onMouseOver="funcPopup(event,'getattribute')">getAttribute</a>('data-requirecontext')];
<a name="l2046"><span class="linenum">2046</span></a>              }
<a name="l2047"><span class="linenum">2047</span></a>          }
<a name="l2048"><span class="linenum">2048</span></a>  
<a name="l2049"><span class="linenum">2049</span></a>  <span class="comment">        //Always save off evaluating the def call until the script onload handler.</span>
<a name="l2050"><span class="linenum">2050</span></a>  <span class="comment">        //This allows multiple modules to be in a file without prematurely</span>
<a name="l2051"><span class="linenum">2051</span></a>  <span class="comment">        //tracing dependencies, and allows for anonymous module support,</span>
<a name="l2052"><span class="linenum">2052</span></a>  <span class="comment">        //where the module name is not known until the script onload event</span>
<a name="l2053"><span class="linenum">2053</span></a>  <span class="comment">        //occurs. If no context, use the global queue, and get it processed</span>
<a name="l2054"><span class="linenum">2054</span></a>  <span class="comment">        //in the onscript load callback.</span>
<a name="l2055"><span class="linenum">2055</span></a>          (context ? context.defQueue : globalDefQueue).<a class="function" onClick="logFunction('push')" href="../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>([name, deps, callback]);
<a name="l2056"><span class="linenum">2056</span></a>      };
<a name="l2057"><span class="linenum">2057</span></a>  
<a name="l2058"><span class="linenum">2058</span></a>      define.amd = {
<a name="l2059"><span class="linenum">2059</span></a>          jQuery: true
<a name="l2060"><span class="linenum">2060</span></a>      };
<a name="l2061"><span class="linenum">2061</span></a>  
<a name="l2062"><span class="linenum">2062</span></a>  
<a name="l2063"><span class="linenum">2063</span></a>      <span class="comment">/**</span>
<a name="l2064"><span class="linenum">2064</span></a>  <span class="comment">     * Executes the text. Normally just uses eval, but can be modified</span>
<a name="l2065"><span class="linenum">2065</span></a>  <span class="comment">     * to use a better, environment-specific call. Only used for transpiling</span>
<a name="l2066"><span class="linenum">2066</span></a>  <span class="comment">     * loader plugins, not for plain JS modules.</span>
<a name="l2067"><span class="linenum">2067</span></a>  <span class="comment">     * @param {String} text the text to execute/evaluate.</span>
<a name="l2068"><span class="linenum">2068</span></a>  <span class="comment">     */</span>
<a name="l2069"><span class="linenum">2069</span></a>      req.exec = function (text) {
<a name="l2070"><span class="linenum">2070</span></a>  <span class="comment">        /*jslint evil: true */</span>
<a name="l2071"><span class="linenum">2071</span></a>          return eval(text);
<a name="l2072"><span class="linenum">2072</span></a>      };
<a name="l2073"><span class="linenum">2073</span></a>  
<a name="l2074"><span class="linenum">2074</span></a>  <span class="comment">    //Set up with config info.</span>
<a name="l2075"><span class="linenum">2075</span></a>      req(cfg);
<a name="l2076"><span class="linenum">2076</span></a>  }(this));
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'scripts': ['scripts', '', [['lib/requirejs','require.js',136]], 5],
'load': ['load', 'Load the config.php file for a particular theme, and return an instance of this class. (That is, this is a factory method.) ', [['lib','outputlib.php',399],['lib/adodb','adodb-active-recordx.inc.php',747],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',94],['lib/htmlpurifier/HTMLPurifier','Language.php',69],['cache/classes','definition.php',323],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',44],['lib/mustache/src/Mustache','Loader.php',17],['lib/phpexcel/PHPExcel','IOFactory.php',181],['lib/simplepie/library/SimplePie/Cache','MySQL.php',286],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',293],['lib/mustache/src/Mustache/Cache','NoopCache.php',20],['lib/phpexcel/PHPExcel/Reader','SYLK.php',197],['lib/phpexcel/PHPExcel/Reader','Excel5.php',602],['lib/simplepie/library/SimplePie/Cache','Base.php',87],['lib/pear/HTML/QuickForm','select.php',421],['lib/simplepie/library/SimplePie/Cache','File.php',118],['calendar','lib.php',2631],['backup/cc/cc_lib','xmlbase.php',92],['mod/lesson','locallib.php',1024],['mod/lesson','locallib.php',2243],['mod/lesson','locallib.php',3191],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',337],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',39],['lib/zend/Zend/Loader','PluginLoader.php',350],['lib/mustache/src/Mustache/Loader','StringLoader.php',28],['cache/classes','config.php',128],['lib/phpexcel/PHPExcel/Reader','IReader.php',46],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',69],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',224],['lib/phpexcel/PHPExcel/Reader','CSV.php',218],['lib/phpexcel/PHPExcel','Autoloader.php',62],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',205],['lib/zend/Zend/Loader/PluginLoader','Interface.php',68],['lib/mustache/src/Mustache','Cache.php',20],['lib/simplepie/library/SimplePie/Cache','Memcache.php',123],['lib/phpunit/classes','autoloader.php',46],['grade/grading','lib.php',227],['lib/zend/Zend/Loader/Autoloader','Resource.php',428],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',41],['lib/phpexcel/PHPExcel/Reader','HTML.php',128],['lib/mustache/src/Mustache/Loader','InlineLoader.php',87],['lib/adodb','adodb-active-record.inc.php',682],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',48]], 182],
'splitprefix': ['splitprefix', '', [['lib/requirejs','require.js',389]], 2],
'makemodulemap': ['makemodulemap', 'Creates a module mapping that includes plugin prefix, module name, and path. If parentModuleMap is provided it will also normalize the name via require.normalize() ', [['lib/requirejs','require.js',399]], 11],
'isfunction': ['isfunction', '', [['lib/requirejs','require.js',41],['lib/amd/src','mustache.js',52]], 507],
'eachreverse': ['eachreverse', 'Helper function for iterating over an array backwards. If the func returns a true value, it will break out of the loop. ', [['lib/requirejs','require.js',64]], 3],
'check': ['check', 'Request a checkpoint of the currently selected mailbox (RFC 3501 [6.4.1]). ', [['lib/horde/framework/Horde/Imap/Client','Base.php',1825],['lib/zend/Zend','Uri.php',59],['lib/tcpdf/include/barcodes','qrcode.php',1851],['lib/google/src/Google/Service','Games.php',1618],['lib/password_compat/lib','password.php',293],['lib/minify/lib/HTTP','ConditionalGet.php',222]], 29],
'on': ['on', '', [['lib/requirejs','require.js',506]], 3494],
'match': ['match', 'Parse from a token, regexp or string, and move forward if match ', [['lib/lessphp','Parser.php',661],['lib/zend/Zend/Http','Cookie.php',221],['lib/phpexcel/PHPExcel/Calculation','LookupRef.php',477],['lib/horde/framework/Horde/Mail/Rfc822','List.php',244],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',121],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17319],['lib','lexer.php',69],['lib/minify/lib','JSMinPlus.php',1780],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',181],['lib/lessphp/Tree','Selector.php',67],['lib/zend/Zend/Rest','Route.php',113]], 908],
'error': ['error', '', [['lib/adodb','adodb-active-recordx.inc.php',539],['lib/horde/framework/Horde/Imap/Client','DateTime.php',69],['lib/lessphp','Parser.php',2605],['question','format.php',218],['lib/htmlpurifier/HTMLPurifier','VarParser.php',143],['lib/yuilib/3.17.2/cookie','cookie-debug.js',34],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',156],['lib/tcpdf','tcpdf_parser.php',794],['lib/lessphp/Tree','DefaultFunc.php',27],['lib/tcpdf','tcpdf.php',2915],['lib/minify/lib','FirePHP.php',416],['mod/assign/feedback/editpdf/fpdi','fpdi_pdf_parser.php',92],['lib/yuilib/3.17.2/cookie','cookie.js',34],['mod/assign/feedback/editpdf/fpdi/filters','FilterASCII85_FPDI.php',30],['lib/simplepie/library','SimplePie.php',1554],['lib/tcpdf/include','tcpdf_filters.php',467],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',10815],['lib','deprecatedlib.php',1040],['mod/assign/feedback/editpdf/fpdi/filters','FilterLZW_FPDI.php',30],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',124],['mod/assign/feedback/editpdf/fpdi','pdf_parser.php',134],['lib/simplepie/library/SimplePie','Misc.php',154],['lib/mustache/src/Mustache','Logger.php',78],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',224],['mod/assign/feedback/editpdf/fpdi/filters','FilterASCII85.php',33],['lib/google/src/Google/Logger','Abstract.php',198],['admin/tool/uploadcourse/classes','course.php',238],['mod/assign/feedback/editpdf/fpdi/filters','FilterLZW.php',35],['auth/cas/CAS','CAS.php',476],['lib/mustache/src/Mustache/Logger','AbstractLogger.php',61],['mod/lesson','format.php',334],['lib/adodb','adodb-active-record.inc.php',489]], 933],
'makeerror': ['makeerror', 'Constructs an error with a pointer to an URL with more information. ', [['lib/requirejs','require.js',157]], 8],
'settimeout': ['settimeout', 'Set the maximum request time in seconds. ', [['lib/google','curlio.php',156],['lib/phpmailer','class.smtp.php',949],['lib/google/src/Google/IO','Curl.php',123],['lib/google/src/Google/IO','Stream.php',187]], 699],
'intakedefines': ['intakedefines', '', [['lib/requirejs','require.js',1219]], 2],
'removelistener': ['removelistener', '', [['lib/requirejs','require.js',1182]], 347],
'tostring': ['tostring', 'Make a string representation of this object. ', [['lib/pear','PEAR.php',1009],['lib/horde/framework/Horde/Mime','Headers.php',169],['lib/htmlpurifier/HTMLPurifier','URI.php',213],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',27],['lib/zend/Zend','Date.php',400],['lib/horde/framework/Horde/Mime','Part.php',1133],['lib/lessphp','Output.php',40],['lib/htmlpurifier/HTMLPurifier','Length.php',95],['lib/jabber/XMPP','XMLObj.php',108],['lib/lessphp/Tree','Unit.php',40]], 595],
'isarray': ['isarray', '', [['lib/requirejs','require.js',45]], 818],
'createelement': ['createelement', 'Create an element, set its class name and optionally install the element to its parent. ', [['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel.js',298],['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel-debug.js',299],['theme/bootstrapbase/javascript','html5shiv.js',102],['lib/pear/HTML','QuickForm.php',523]], 1968],
'fetch': ['fetch', 'Fetches the available update status from the remote site ', [['lib/classes/update','checker.php',113],['lib/minify/lib/Minify/Cache','XCache.php',86],['lib/grade','grade_object.php',126],['completion/criteria','completion_criteria_unenrol.php',43],['completion/criteria','completion_criteria_grade.php',45],['lib/grade','grade_item.php',332],['lib/minify/lib/Minify/Cache','Memcache.php',97],['lib/minify/lib/Minify/Cache','APC.php',91],['completion/criteria','completion_criteria_activity.php',45],['lib/horde/framework/Horde/Imap/Client','Base.php',2373],['completion','data_object.php',152],['completion/criteria','completion_criteria_course.php',46],['completion','completion_completion.php',70],['completion/criteria','completion_criteria_role.php',43],['completion','completion_criteria_completion.php',74],['lib/grade','grade_grade.php',576],['lib/minify/lib/Minify/Cache','ZendPlatform.php',97],['completion/criteria','completion_criteria_date.php',43],['lib/grade','grade_category.php',184],['completion/criteria','completion_criteria_self.php',43],['lib/grade','grade_scale.php',89],['lib/minify/lib/Minify/Cache','File.php',90],['completion','completion_aggregation.php',68],['completion/criteria','completion_criteria_duration.php',43],['lib/grade','grade_outcome.php',182]], 192],
'push': ['push', 'Push the close HTML for a recently opened container onto the stack. ', [['lib','outputlib.php',2008],['lib/evalmath','evalmath.class.php',452],['lib/htmlpurifier/HTMLPurifier','Queue.php',43],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',62],['lib/horde/framework/Horde/Support','Memory.php',44],['lib/mustache/src/Mustache','Context.php',32],['lib/horde/framework/Horde/Support','Timer.php',33],['lib/horde/framework/Horde/Support','Stack.php',23],['webservice/amf/testclient','AMFTester.mxml',391],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',55]], 4171],
'removescript': ['removescript', '', [['lib/requirejs','require.js',356]], 2],
'substring': ['substring', '', [['lib/horde/framework/Horde/Stream','TempString.php',183],['lib/horde/framework/Horde','Stream.php',351],['lib/phpexcel/PHPExcel/Shared','String.php',564]], 551],
'indexof': ['indexof', 'IndexOf - first version of find an element in the Array given returns the index of the *first* occurance ', [['backup/cc/cc_lib/gral_lib','functions.php',97]], 1415],
'splice': ['splice', 'Splice in multiple elements at hole.  Functional specification in terms of array_splice: ', [['lib/htmlpurifier/HTMLPurifier','Zipper.php',122]], 532],
'join': ['join', 'Join a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.join) ', [['lib/google/src/Google/Service','Games.php',1715],['lib/google/src/Google/Service','Games.php',2099]], 949],
'getmodule': ['getmodule', '', [['lib/requirejs','require.js',495]], 221],
'gettime': ['gettime', '', [['lib/google/src/Google/Service','Reports.php',735],['lib/google/src/Google/Service','PlusDomains.php',2828],['lib/zend/Zend/Gdata/YouTube','VideoQuery.php',417],['lib/google/src/Google/Service','Audit.php',404],['lib/zend/Zend','Date.php',2738],['lib/google/src/Google/Service','Analytics.php',4648],['lib/zend/Zend/Gdata/Exif/Extension','Tags.php',526],['lib/zend/Zend/Gdata/Media/Extension','MediaThumbnail.php',195]], 364],
'checkloaded': ['checkloaded', '', [['lib/requirejs','require.js',634]], 3],
'localrequire': ['localrequire', '', [['lib/requirejs','require.js',1369]], 1],
'cleanregistry': ['cleanregistry', '', [['lib/requirejs','require.js',600]], 3],
'onerror': ['onerror', '', [['lib/yuilib/3.17.2/yui','yui-debug.js',5295],['lib/yuilib/3.17.2/yui','yui.js',5032],['lib/requirejs','require.js',525],['lib/yuilib/3.17.2/yui-base','yui-base.js',5020],['lib/yuilib/3.17.2/get','get-debug.js',1076],['lib/yuilib/3.17.2/yui-base','yui-base-debug.js',5283],['lib/yuilib/3.17.2/get','get.js',1060]], 13],
'bind': ['bind', 'Binds a YouTube broadcast to a stream or removes an existing binding between a broadcast and a stream. A broadcast can only be bound to one video stream. (liveBroadcasts.bind) ', [['lib/google/src/Google/Service','YouTube.php',1852],['lib/requirejs','require.js',130],['lib/adodb/drivers','adodb-oci8.inc.php',934]], 972],
'apply': ['apply', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16662]], 2571],
'breakcycle': ['breakcycle', '', [['lib/requirejs','require.js',606]], 2],
'mixin': ['mixin', 'Simple function to mix in properties from source into target, but only if target does not already have a property of the same name. ', [['lib/requirejs','require.js',103]], 3],
'getattribute': ['getattribute', 'Get a specific attribute by name ', [['auth/cas/CAS/CAS','Client.php',1195],['lib/google/src/Google/Service','AdExchangeBuyer.php',998],['lib/pear/HTML','Common.php',261],['lib/zend/Zend/Service/Amazon','Sqs.php',282],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',276],['auth/cas/CAS','CAS.php',1161]], 1046],
'eachprop': ['eachprop', 'Cycles over properties in an object and calls a function for each property value. If the function returns a truthy value, then the iteration is stopped. ', [['lib/requirejs','require.js',87]], 8],
'enable': ['enable', 'Set this plugin to enabled ', [['mod/assign','assignmentplugin.php',203],['lib','licenselib.php',90]], 33],
'concat': ['concat', 'concat ', [['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',985],['lib/adodb','adodb.inc.php',2470],['lib/adodb/drivers','adodb-pdo_mysql.inc.php',44],['lib/adodb/drivers','adodb-pdo.inc.php',178],['lib/adodb/drivers','adodb-mysqli.inc.php',455],['lib/adodb/drivers','adodb-mssql.inc.php',668],['lib/adodb/drivers','adodb-mssqlnative.inc.php',514],['lib/adodb/drivers','adodb-mysql.inc.php',430],['lib/adodb/drivers','adodb-fbsql.inc.php',54]], 962],
'insertbefore': ['insertbefore', 'Inserts a token before the current token. Cursor now points to this token.  You must reprocess after this. ', [['lib/htmlpurifier/HTMLPurifier/Strategy','MakeWellFormed.php',576],['lib/htmlpurifier/HTMLPurifier','Zipper.php',106]], 505],
'hasprop': ['hasprop', '', [['lib/requirejs','require.js',79]], 13],
'shift': ['shift', 'Shifts an element off the front of the queue. ', [['lib/htmlpurifier/HTMLPurifier','Queue.php',29]], 368],
'defaultonerror': ['defaultonerror', '', [['lib/requirejs','require.js',140]], 0],
'get': ['get', 'Gets a customer resource if one exists and is owned by the reseller. (customers.get) ', [['lib/google/src/Google/Service','Reseller.php',294],['lib/google/src/Google/Service','Reseller.php',457],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',7],['lib/google/src/Google/Service','Replicapoolupdater.php',275],['lib/zend/Zend/Gdata','Gapps.php',187],['lib/google/src/Google/Service','Fusiontables.php',658],['lib/google/src/Google/Service','Fusiontables.php',823],['lib/google/src/Google/Service','Fusiontables.php',947],['lib/google/src/Google/Service','Fusiontables.php',1141],['lib/google/src/Google/Service','Fusiontables.php',1202],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',148],['lib/htmlpurifier/HTMLPurifier','Context.php',36],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',67],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',78],['lib/lessphp','Cache.php',27],['lib/google/src/Google/Service','Blogger.php',931],['lib/google/src/Google/Service','Blogger.php',962],['lib/google/src/Google/Service','Blogger.php',1066],['lib/google/src/Google/Service','Blogger.php',1184],['lib/google/src/Google/Service','Blogger.php',1226],['lib/google/src/Google/Service','Blogger.php',1365],['lib/google/src/Google/Service','Blogger.php',1448],['lib/google/src/Google/Service','Blogger.php',1669],['lib/google/src/Google/Service','Doubleclicksearch.php',256],['lib/google/src/Google/Service','Doubleclicksearch.php',380],['lib/portfolio','plugin.php',631],['lib/google/src/Google/Service','AdExchangeBuyer.php',349],['lib/google/src/Google/Service','AdExchangeBuyer.php',419],['lib/google/src/Google/Service','AdExchangeBuyer.php',460],['lib/google/src/Google/Service','AdExchangeBuyer.php',528],['lib/google/src/Google/Service','AdExchangeBuyer.php',620],['lib/google/src/Google/Service','Manager.php',255],['lib/google/src/Google/Service','Manager.php',334],['lib/google/src/Google/Service','Reports.php',374],['lib/google/src/Google/Service','Reports.php',408],['lib/portfolio','exporter.php',134],['lib','webdavlib.php',264],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',105],['lib/simplepie/library/SimplePie/Parse','Date.php',567],['lib/google/src/Google/Service','Gmail.php',702],['lib/google/src/Google/Service','Gmail.php',859],['lib/google/src/Google/Service','Gmail.php',952],['lib/google/src/Google/Service','Gmail.php',1118],['lib/google/src/Google/Service','Gmail.php',1162],['lib/google/src/Google/Service','Plus.php',352],['lib/google/src/Google/Service','Plus.php',427],['lib/google/src/Google/Service','Plus.php',547],['lib/horde/framework/Horde/Support','ConsistentHash.php',69],['lib/testing/classes','nasty_strings.php',73],['lib/google/src/Google/Service','Mirror.php',437],['lib/google/src/Google/Service','Mirror.php',522],['lib/google/src/Google/Service','Mirror.php',562],['lib/google/src/Google/Service','Mirror.php',673],['lib/google/src/Google/Service','Mirror.php',785],['lib/google/src/Google/Service','Genomics.php',645],['lib/google/src/Google/Service','Genomics.php',744],['lib/google/src/Google/Service','Genomics.php',891],['lib/google/src/Google/Service','Genomics.php',997],['lib/google/src/Google/Service','Genomics.php',1187],['lib/google/src/Google/Service','Genomics.php',1269],['lib/google/src/Google/Service','Genomics.php',1340],['lib/google/src/Google/Service','Genomics.php',1430],['lib/google/src/Google/Service','Urlshortener.php',108],['cache/classes','interfaces.php',41],['lib/google/src/Google/Service','Dfareporting.php',421],['lib/google/src/Google/Service','Dfareporting.php',484],['lib/google/src/Google/Service','Dfareporting.php',626],['lib/google/src/Google/Service','Dfareporting.php',675],['lib/google/src/Google/Service','PlusDomains.php',467],['lib/google/src/Google/Service','PlusDomains.php',592],['lib/google/src/Google/Service','PlusDomains.php',718],['lib/google/src/Google/Service','PlusDomains.php',812],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',64],['lib/google/src/Google/Service','Licensing.php',236],['lib/google/src/Google/Service','Drive.php',1277],['lib/google/src/Google/Service','Drive.php',1313],['lib/google/src/Google/Service','Drive.php',1366],['lib/google/src/Google/Service','Drive.php',1476],['lib/google/src/Google/Service','Drive.php',1550],['lib/google/src/Google/Service','Drive.php',1706],['lib/google/src/Google/Service','Drive.php',1946],['lib/google/src/Google/Service','Drive.php',2016],['lib/google/src/Google/Service','Drive.php',2147],['lib/google/src/Google/Service','Drive.php',2241],['lib/google/src/Google/Service','Drive.php',2309],['lib/google/src/Google/Service','Drive.php',2428],['lib/google/src/Google/Service','Books.php',1343],['lib/google/src/Google/Service','Books.php',1512],['lib/google/src/Google/Service','Books.php',1564],['lib/google/src/Google/Service','Books.php',1639],['lib/google/src/Google/Service','Books.php',1819],['lib/google/src/Google/Service','Books.php',1960],['lib/google/src/Google/Service','Books.php',2077],['lib/google/src/Google/Service','Books.php',2175],['lib/google/src/Google/Service','Books.php',2207],['lib/zend/Zend/Gdata','App.php',847],['lib/google/src/Google/Service','AdExchangeSeller.php',443],['lib/google/src/Google/Service','AdExchangeSeller.php',551],['lib/google/src/Google/Service','AdExchangeSeller.php',665],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',58],['lib/google/src/Google/Cache','Memcache.php',72],['lib/google/src/Google/Service','Bigquery.php',533],['lib/google/src/Google/Service','Bigquery.php',633],['lib/google/src/Google/Service','Bigquery.php',838],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',108],['cache','disabledlib.php',55],['lib/zend/Zend/Server','Cache.php',78],['lib/google/src/Google/Service','Groupssettings.php',107],['cache/stores/memcached','lib.php',285],['lib/google/src/Google/Service','Coordinate.php',476],['lib/google/src/Google/Service','Coordinate.php',642],['lib/zend/Zend','Registry.php',130],['lib/google/src/Google/Service','Webmasters.php',314],['lib/google/src/Google/Service','Webmasters.php',403],['lib/google/src/Google/Service','Webmasters.php',479],['lib/google/src/Google/Service','Autoscaler.php',330],['lib/google/src/Google/Service','Autoscaler.php',444],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',981],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16595],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',65],['lib/google/src/Google/Service','ShoppingContent.php',567],['lib/google/src/Google/Service','ShoppingContent.php',675],['lib/google/src/Google/Service','ShoppingContent.php',749],['lib/google/src/Google/Service','ShoppingContent.php',857],['lib/google/src/Google/Service','ShoppingContent.php',985],['lib/google/src/Google/Service','ShoppingContent.php',1062],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',34],['lib/editor/tinymce/classes','plugin.php',447],['mod/lesson','locallib.php',3239],['lib/horde/framework/Horde','Variables.php',135],['lib/google/src/Google/Service','SQLAdmin.php',528],['lib/google/src/Google/Service','SQLAdmin.php',664],['lib/google/src/Google/Service','SQLAdmin.php',872],['lib/google/src/Google/Service','SQLAdmin.php',941],['lib/google/src/Google/Service','Fitness.php',363],['lib/google/src/Google/Service','Fitness.php',489],['lib/google/src/Google/Service','TagManager.php',977],['lib/google/src/Google/Service','TagManager.php',1063],['lib/google/src/Google/Service','TagManager.php',1155],['lib/google/src/Google/Service','TagManager.php',1248],['lib/google/src/Google/Service','TagManager.php',1341],['lib/google/src/Google/Service','TagManager.php',1434],['lib/google/src/Google/Service','TagManager.php',1528],['lib/google/src/Google/Service','TagManager.php',1622],['lib/google/src/Google/Service','TagManager.php',1772],['lib/google/src/Google/Service','Directory.php',1315],['lib/google/src/Google/Service','Directory.php',1383],['lib/google/src/Google/Service','Directory.php',1490],['lib/google/src/Google/Service','Directory.php',1656],['lib/google/src/Google/Service','Directory.php',1783],['lib/google/src/Google/Service','Directory.php',1853],['lib/google/src/Google/Service','Directory.php',1949],['lib/google/src/Google/Service','Directory.php',2056],['lib/google/src/Google/Service','Directory.php',2160],['lib/google/src/Google/Service','Directory.php',2218],['lib/google/src/Google/Service','Directory.php',2493],['lib/htmlpurifier/HTMLPurifier','Config.php',161],['cache/stores/static','lib.php',220],['question/engine','states.php',116],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',52],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',76],['lib/google/src/Google/Service','AppState.php',170],['lib/google/src/Google/Service','Taskqueue.php',263],['lib/google/src/Google/Service','Taskqueue.php',307],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',46],['lib/google/src/Google/Service','Container.php',364],['lib/google/src/Google/Service','Container.php',411],['lib/portfolio','caller.php',170],['lib/portfolio','caller.php',538],['lib/google/src/Google/Service','AndroidPublisher.php',1194],['lib/google/src/Google/Service','AndroidPublisher.php',1296],['lib/google/src/Google/Service','AndroidPublisher.php',1437],['lib/google/src/Google/Service','AndroidPublisher.php',1500],['lib/google/src/Google/Service','AndroidPublisher.php',1723],['lib/google/src/Google/Service','AndroidPublisher.php',1811],['lib/google/src/Google/Service','AndroidPublisher.php',1875],['lib/google/src/Google/Service','AndroidPublisher.php',1987],['lib/google/src/Google/Service','AndroidPublisher.php',2112],['lib/google/src/Google/Service','AndroidPublisher.php',2182],['lib/zend/Zend','Date.php',516],['lib/google/src/Google/Service','AdSenseHost.php',644],['lib/google/src/Google/Service','AdSenseHost.php',685],['lib/google/src/Google/Service','AdSenseHost.php',750],['lib/google/src/Google/Service','AdSenseHost.php',917],['lib/google/src/Google/Service','AdSenseHost.php',1025],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',74],['cache/stores/memcache','lib.php',312],['lib/google/src/Google/Service','Games.php',1219],['lib/google/src/Google/Service','Games.php',1338],['lib/google/src/Google/Service','Games.php',1440],['lib/google/src/Google/Service','Games.php',1698],['lib/google/src/Google/Service','Games.php',1805],['lib/google/src/Google/Service','Games.php',1947],['lib/google/src/Google/Service','Games.php',2081],['lib','filelib.php',3341],['lib','filelib.php',3589],['lib','oauthlib.php',302],['lib/google/src/Google/Service','MapsEngine.php',1529],['lib/google/src/Google/Service','MapsEngine.php',1708],['lib/google/src/Google/Service','MapsEngine.php',2005],['lib/google/src/Google/Service','MapsEngine.php',2267],['lib/google/src/Google/Service','MapsEngine.php',2359],['lib/google/src/Google/Service','MapsEngine.php',2665],['lib/google/src/Google/Service','MapsEngine.php',2926],['lib/google/src/Google/Service','MapsEngine.php',3117],['lib/minify/lib','JSMinPlus.php',1827],['lib/google/src/Google/Service','SiteVerification.php',151],['lib/horde/framework/Horde/Support','Array.php',30],['lib/google/src/Google/Service','Prediction.php',275],['cache/stores/session','lib.php',225],['cache/classes','dummystore.php',141],['lib/google/src/Google/Service','Compute.php',2828],['lib/google/src/Google/Service','Compute.php',2911],['lib/google/src/Google/Service','Compute.php',3050],['lib/google/src/Google/Service','Compute.php',3155],['lib/google/src/Google/Service','Compute.php',3240],['lib/google/src/Google/Service','Compute.php',3377],['lib/google/src/Google/Service','Compute.php',3478],['lib/google/src/Google/Service','Compute.php',3558],['lib/google/src/Google/Service','Compute.php',3676],['lib/google/src/Google/Service','Compute.php',3741],['lib/google/src/Google/Service','Compute.php',3876],['lib/google/src/Google/Service','Compute.php',3957],['lib/google/src/Google/Service','Compute.php',4132],['lib/google/src/Google/Service','Compute.php',4306],['lib/google/src/Google/Service','Compute.php',4355],['lib/google/src/Google/Service','Compute.php',4421],['lib/google/src/Google/Service','Compute.php',4486],['lib/google/src/Google/Service','Compute.php',4559],['lib/google/src/Google/Service','Compute.php',4611],['lib/google/src/Google/Service','Compute.php',4675],['lib/google/src/Google/Service','Compute.php',4756],['lib/google/src/Google/Service','Compute.php',4822],['lib/google/src/Google/Service','Compute.php',4943],['lib/google/src/Google/Service','Compute.php',5085],['lib/google/src/Google/Service','Compute.php',5244],['lib/google/src/Google/Service','Compute.php',5376],['lib/google/src/Google/Service','Compute.php',5428],['lib/horde/framework/Horde/Imap/Client','Cache.php',88],['lib/google/src/Google/Service','Calendar.php',900],['lib/google/src/Google/Service','Calendar.php',1053],['lib/google/src/Google/Service','Calendar.php',1241],['lib/google/src/Google/Service','Calendar.php',1337],['lib/google/src/Google/Service','Calendar.php',1379],['lib/google/src/Google/Service','Calendar.php',1780],['lib/google/src/Google/Service','Analytics.php',1891],['lib/google/src/Google/Service','Analytics.php',1940],['lib/google/src/Google/Service','Analytics.php',1987],['lib/google/src/Google/Service','Analytics.php',2309],['lib/google/src/Google/Service','Analytics.php',2429],['lib/google/src/Google/Service','Analytics.php',2522],['lib/google/src/Google/Service','Analytics.php',2648],['lib/google/src/Google/Service','Analytics.php',2867],['lib/google/src/Google/Service','Analytics.php',3004],['lib/google/src/Google/Service','Analytics.php',3095],['lib/google/src/Google/Service','Analytics.php',3197],['lib/google/src/Google/Service','Analytics.php',3308],['lib/google/src/Google/Service','Tasks.php',322],['lib/google/src/Google/Service','Tasks.php',441],['lib/behat/classes','behat_context_helper.php',66],['backup/cc/cc_lib/gral_lib','cssparser.php',137],['cache/classes','loaders.php',270],['cache/classes','loaders.php',1442],['cache/classes','loaders.php',1749],['cache/stores/mongodb','lib.php',252],['lib/zend/Zend/Service','Audioscrobbler.php',110],['lib/google/src/Google/Service','Oauth2.php',143],['lib/google/src/Google/Service','Oauth2.php',180],['cache/stores/file','lib.php',329],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',79],['lib/google/src/Google/Service','Storage.php',962],['lib/google/src/Google/Service','Storage.php',1078],['lib/google/src/Google/Service','Storage.php',1244],['lib/google/src/Google/Service','Storage.php',1370],['lib/google/src/Google/Service','Storage.php',1592],['lib/google/src/Google/Cache','Null.php',34],['lib/google/src/Google/Service','AdSense.php',1075],['lib/google/src/Google/Service','AdSense.php',1154],['lib/google/src/Google/Service','AdSense.php',1302],['lib/google/src/Google/Service','AdSense.php',1518],['lib/google/src/Google/Service','AdSense.php',1630],['lib/google/src/Google/Service','AdSense.php',1772],['lib/google/src/Google/Service','AdSense.php',2046],['lib/google/src/Google/Service','Pubsub.php',254],['lib/google/src/Google/Service','Pubsub.php',393],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',27],['lib/google/src/Google/Cache','File.php',45],['lib','navigationlib.php',382],['lib','navigationlib.php',833],['lib','navigationlib.php',2693],['lib','navigationlib.php',3126],['lib/google/src/Google/Service','Dns.php',299],['lib/google/src/Google/Service','Dns.php',385],['lib/google/src/Google/Service','Dns.php',434],['lib/mustache/src/Mustache','HelperCollection.php',81],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',68],['lib/google/src/Google/Service','Replicapool.php',416],['lib/google/src/Google/Service','Replicapool.php',571],['lib/google/src/Google/Service','Resourceviews.php',350],['lib/google/src/Google/Service','Resourceviews.php',435],['lib','coursecatlib.php',215],['lib/google/src/Google/Cache','Apc.php',50],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',163]], 21003],
'getown': ['getown', '', [['lib/requirejs','require.js',83]], 27],
'callgetmodule': ['callgetmodule', '', [['lib/requirejs','require.js',1175]], 3],
'takeglobalqueue': ['takeglobalqueue', 'Internal method to transfer globalQueue items to this context\'s defQueue. ', [['lib/requirejs','require.js',550]], 3],
'trimdots': ['trimdots', 'Trims the . and .. from an array of path segments. It will keep a leading path segment if a .. will become the first path segment, to help with module name lookups, which act like paths, but can be remapped. But the end result, all paths that use this function should look normalized. NOTE: this method MODIFIES the input array. ', [['lib/requirejs','require.js',225]], 1],
'call': ['call', 'Execute client WS request with token authentication ', [['webservice/rest','lib.php',69],['webservice/soap','lib.php',65],['lib/google/src/Google/Service','Resource.php',71],['webservice/xmlrpc','lib.php',63],['lib/markdown','Readme.md',68],['lib/simplepie/library/SimplePie','Registry.php',194],['lib/zend/Zend/XmlRpc','Client.php',300],['lib','flickrlib.php',254]], 4447],
'haspathfallback': ['haspathfallback', '', [['lib/requirejs','require.js',368]], 3],
'handler': ['handler', '', [['lib/yuilib/3.17.2/model','model-debug.js',907],['lib/yuilib/3.17.2/model','model.js',907]], 5],
'createnode': ['createnode', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',4002]], 37],
'init': ['init', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullpage/js','fullpage.js',162],['report/log/classes/event','user_report_viewed.php',44],['mod/wiki/classes/event','page_deleted.php',43],['mod/chat/classes/event','sessions_viewed.php',83],['mod/glossary/classes/event','category_deleted.php',37],['mod/workshop/classes/event','assessment_evaluations_reset.php',45],['lib/classes/event','tag_updated.php',49],['lib/classes/event','course_resources_list_viewed.php',41],['mod/lesson/classes/event','content_page_viewed.php',39],['mod/feedback/item/captcha','lib.php',27],['lib/classes/event','blog_association_created.php',46],['lib/classes/event','user_profile_viewed.php',47],['mod/feedback/classes/event','response_submitted.php',48],['lib/classes/event','badge_awarded.php',45],['mod/lti/classes/event','course_module_viewed.php',39],['lib/htmlpurifier/HTMLPurifier/ChildDef','StrictBlockquote.php',97],['mod/resource/classes/event','course_module_viewed.php',39],['blocks/login','block_login.php',26],['report/outline/classes/event','report_viewed.php',44],['lib/editor/tinymce/plugins/moodlemedia/tinymce/js','media.js',13],['admin/tool/xmldb/actions/move_updown_table','move_updown_table.class.php',32],['question/classes/bank','checkbox_column.php',28],['mod/assign/classes/event','extension_granted.php',86],['admin/tool/capability/classes/event','report_viewed.php',36],['blocks/participants','block_participants.php',26],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','cell.js',5],['lib/classes/event','message_viewed.php',45],['lib/classes/event','course_category_created.php',39],['admin/tool/log/store/database/classes/log','store.php',62],['blocks/feedback','block_feedback.php',32],['lib/editor/tinymce/tiny_mce/3.5.11/themes/advanced/js','about.js',3],['mod/quiz/classes/event','group_override_updated.php',45],['mod/survey/classes/event','response_submitted.php',45],['mod/book/tool/exportimscp/classes/event','book_exported.php',94],['report/loglive/classes/event','report_viewed.php',38],['mod/forum/classes/event','post_deleted.php',46],['mod/folder/classes/event','course_module_viewed.php',39],['mod/assign/classes/event','submission_duplicated.php',86],['grade/report/singleview/classes/local/screen','select.php',41],['lib/adodb','adodb.inc.php',2847],['lib/adodb','adodb.inc.php',2978],['mod/chat/classes/event','message_sent.php',77],['mod/workshop/classes/event','submission_created.php',44],['lib/classes/event','note_updated.php',47],['mod/lesson/classes/event','group_override_deleted.php',45],['mod/feedback/classes/event','response_deleted.php',48],['lib/classes/event','course_module_instance_list_viewed.php',49],['lib/tests/fixtures','stats_events.php',32],['lib/tests/fixtures','stats_events.php',39],['lib/tests/fixtures','stats_events.php',46],['lib/tests/fixtures','stats_events.php',53],['mod/assign/classes/event','submission_locked.php',87],['mod/lesson/classes/event','page_updated.php',63],['mod/forum/classes/event','discussion_subscription_deleted.php',45],['mod/quiz/classes/event','attempt_preview_started.php',45],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',71],['blocks/quiz_results','block_quiz_results.php',40],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',565],['blocks/community','block_community.php',28],['mod/lesson/classes/event','user_override_updated.php',45],['mod/quiz/classes/event','report_viewed.php',46],['admin/tool/xmldb/actions/view_structure_xml','view_structure_xml.class.php',32],['mod/workshop/allocation/random','lib.php',56],['mod/lesson/classes/event','question_answered.php',45],['lib/portfolio','plugin.php',476],['mod/forum/classes/event','discussion_viewed.php',39],['mod/workshop/classes/event','submission_viewed.php',44],['admin/tool/xmldb/actions','XMLDBCheckAction.class.php',38],['mod/assign/classes/event','submission_updated.php',49],['mod/workshop/classes/event','submission_reassessed.php',46],['mod/assign/submission/onlinetext/classes/event','submission_created.php',45],['mod/glossary/classes/event','entry_deleted.php',45],['lib/classes/event','user_created.php',39],['mod/workshop/classes/event','course_module_viewed.php',42],['admin/tool/xmldb/actions/delete_xml_file','delete_xml_file.class.php',32],['mod/data/classes/event','field_updated.php',46],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','abbr.js',1],['admin/tool/xmldb/actions/edit_key','edit_key.class.php',32],['mod/data/classes/event','template_updated.php',46],['lib/classes/event','comment_created.php',47],['lib/classes/event','cohort_deleted.php',38],['mod/scorm/classes/event','tracks_viewed.php',46],['lib/classes/event','course_viewed.php',46],['grade/report/overview/classes/event','grade_report_viewed.php',39],['admin/tool/xmldb/actions/view_structure_php','view_structure_php.class.php',33],['grade/report/user/classes/event','grade_report_viewed.php',39],['lib/classes/event','course_content_deleted.php',45],['lib/google/src/Google/Service','Spectrum.php',130],['lib/lessphp','Environment.php',56],['mod/quiz/classes/event','attempt_abandoned.php',44],['admin/tool/xmldb/actions/delete_field','delete_field.class.php',32],['blocks/mnet_hosts','block_mnet_hosts.php',26],['mod/workshop/classes/event','phase_switched.php',44],['lib/classes/event','content_viewed.php',56],['mod/scorm/classes/event','course_module_viewed.php',38],['admin/tool/xmldb/actions/check_oracle_semantics','check_oracle_semantics.class.php',37],['blocks/course_overview','block_course_overview.php',38],['lib/classes/event','course_completion_updated.php',39],['report/completion/classes/event','report_viewed.php',39],['mod/forum/classes/event','discussion_updated.php',44],['lib/classes/event','course_reset_ended.php',71],['mod/glossary/classes/event','course_module_viewed.php',38],['mod/choice/classes/event','answer_submitted.php',90],['admin/tool/xmldb/actions/view_table_php','view_table_php.class.php',33],['mod/forum/classes/event','assessable_uploaded.php',104],['admin/tool/xmldb/actions/view_structure_sql','view_structure_sql.class.php',33],['mod/wiki/classes/event','page_diff_viewed.php',44],['lib/classes/event','course_category_updated.php',42],['admin/tool/langimport/classes/event','langpack_updated.php',61],['grade/report/singleview/classes/local/screen','grade.php',126],['lib/tests','blocklib_test.php',500],['lib/classes/event','webservice_service_created.php',83],['lib/classes/event','course_created.php',46],['mod/lesson/classes/event','lesson_started.php',39],['mod/assign/classes/event','grading_table_viewed.php',71],['admin/tool/xmldb/actions/move_updown_field','move_updown_field.class.php',32],['lib/classes/event','calendar_event_deleted.php',47],['mod/feedback/classes/event','course_module_viewed.php',44],['lib/classes/event','group_created.php',83],['lib/classes','component.php',116],['blocks/mentees','block_mentees.php',27],['lib/minify/lib','FirePHP.php',221],['blocks/myprofile','block_myprofile.php',40],['lib/adodb/drivers','adodb-pdo.inc.php',538],['mod/quiz/classes/event','user_override_created.php',44],['mod/glossary/classes/event','category_updated.php',37],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','attributes.js',1],['blocks/social_activities','block_social_activities.php',26],['mod/assign/classes/event','submission_viewed.php',67],['mod/glossary/classes/event','entry_disapproved.php',37],['lib/classes/event','user_password_updated.php',62],['mod/assign/classes/event','all_submissions_downloaded.php',84],['blocks/calendar_month','block_calendar_month.php',26],['mod/choice/classes/event','course_module_viewed.php',38],['lib/classes/event','role_deleted.php',46],['admin/tool/xmldb/actions/unload_xml_file','unload_xml_file.class.php',32],['auth/cas/CAS/CAS/PGTStorage','File.php',150],['question/classes/bank','column_base.php',53],['admin/tool/log/store/legacy/tests/fixtures','event.php',39],['lib/classes/event','user_loggedinas.php',46],['mod/assign/classes/event','submission_confirmation_form_viewed.php',71],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',57],['admin/tool/xmldb/actions/move_updown_index','move_updown_index.class.php',32],['mod/lesson/classes/event','essay_attempt_viewed.php',39],['mod/forum/classes/event','discussion_moved.php',45],['admin/tool/xmldb/actions/check_indexes','check_indexes.class.php',34],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',101],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',71],['mod/survey/classes/event','report_downloaded.php',46],['mod/wiki/classes/event','page_updated.php',43],['mod/chat/classes/event','course_module_viewed.php',38],['admin/tool/xmldb/actions/view_table_xml','view_table_xml.class.php',32],['admin/tool/log/store/standard/tests/fixtures','event.php',39],['mod/assign/classes/event','submission_unlocked.php',87],['admin/tool/xmldb/actions/new_field','new_field.class.php',32],['lib/classes/event','user_list_viewed.php',47],['mod/forum/classes/event','readtracking_disabled.php',44],['lib/classes/event','comments_viewed.php',41],['lib/classes/event','cohort_member_added.php',38],['lib/classes/event','grouping_created.php',83],['mod/assign/feedback/offline','importgradeslib.php',83],['lib/classes/event','recent_activity_viewed.php',39],['lib/classes/event','role_allow_switch_updated.php',39],['blocks/navigation','block_navigation.php',55],['lib/classes/event','user_login_failed.php',45],['lib/classes/event','message_contact_added.php',39],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',126],['mod/assign/submission/file/classes/event','submission_updated.php',45],['admin/tool/xmldb/actions/new_key','new_key.class.php',32],['question/classes/bank','question_text_row.php',29],['lib/classes/event','role_allow_assign_updated.php',39],['mod/quiz/classes/event','user_override_deleted.php',44],['mod/quiz/classes/event','edit_page_viewed.php',45],['lib/classes/event','email_failed.php',40],['mod/quiz/classes/event','course_module_viewed.php',39],['lib/classes/event','tag_removed.php',49],['mod/lesson/classes/event','highscores_viewed.php',39],['lib/zend/Zend','Registry.php',77],['report/stats/classes/event','user_report_viewed.php',38],['mod/quiz/classes/event','group_override_deleted.php',45],['mod/book/classes/event','chapter_updated.php',100],['mod/lesson/classes/event','question_viewed.php',45],['blocks/site_main_menu','block_site_main_menu.php',26],['lib/simplepie/library','SimplePie.php',1198],['mod/scorm/classes/event','interactions_viewed.php',45],['lib/classes/event','course_module_updated.php',48],['admin/tool/xmldb/actions/new_table','new_table.class.php',32],['mod/forum/classes/event','discussion_subscription_created.php',45],['mod/quiz/classes/event','question_manually_graded.php',46],['lib/classes/session','file.php',53],['lib/classes/event','mnet_access_control_created.php',48],['lib/classes/event','role_assigned.php',47],['lib/classes/event','unknown_logged.php',39],['mod/scorm/classes/event','user_report_viewed.php',45],['admin/tool/monitor/classes/event','subscription_criteria_met.php',45],['blocks/blog_tags','block_blog_tags.php',32],['mod/url/classes/event','course_module_viewed.php',39],['admin/tool/xmldb/actions/check_defaults','check_defaults.class.php',34],['report/participation/classes/event','report_viewed.php',48],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',173],['lib/classes/event','user_updated.php',39],['blocks/private_files','block_private_files.php',28],['lib/classes/event','course_section_updated.php',45],['lib/classes/event','comment_deleted.php',47],['mod/assign/classes/event','marker_updated.php',98],['lib/classes/event','webservice_login_failed.php',80],['mod/assign/submission/file/classes/event','assessable_uploaded.php',113],['admin/tool/log/store/database/tests/fixtures','event.php',39],['mod/workshop/allocation/scheduled','lib.php',52],['admin/tool/xmldb/actions/edit_index','edit_index.class.php',32],['mod/lti/classes/event','unknown_service_api_called.php',64],['blocks/news_items','block_news_items.php',33],['lib/classes/event','cohort_updated.php',38],['admin/tool/xmldb/actions/template','template.class.php',31],['mod/forum/classes/event','post_updated.php',46],['mod/book/classes/event','chapter_viewed.php',97],['lib/classes/event','note_deleted.php',47],['lib/classes/event','user_loggedout.php',44],['lib/classes/event','grade_report_viewed.php',42],['blocks/messages','block_messages.php',26],['mod/assign/submission/onlinetext/classes/event','submission_updated.php',45],['mod/assign/classes/event','workflow_state_updated.php',97],['blocks/course_summary','block_course_summary.php',26],['mod/book/classes/event','chapter_deleted.php',97],['lib/classes/event','course_deleted.php',47],['admin/tool/xmldb/actions/edit_table','edit_table.class.php',36],['lib/classes/event','blog_entry_deleted.php',43],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',31],['question/classes/bank','copy_action_column.php',30],['lib/classes/event','webservice_token_created.php',83],['lib/tcpdf/include/barcodes','qrcode.php',853],['mod/forum/classes/event','course_searched.php',45],['lib/classes/event','group_updated.php',83],['admin/tool/xmldb/actions/check_foreign_keys','check_foreign_keys.class.php',38],['mod/quiz/classes/event','attempt_started.php',37],['mod/lesson/classes/event','group_override_updated.php',45],['lib/classes/event','course_module_viewed.php',40],['lib/classes/event','mnet_access_control_updated.php',48],['mod/quiz/classes/question/bank','add_action_column.php',40],['mod/wiki/classes/event','comments_viewed.php',38],['mod/lesson/classes/event','course_module_viewed.php',40],['question/classes/bank','edit_action_column.php',29],['admin/tool/xmldb/actions/new_index','new_index.class.php',32],['lib/tests/fixtures','event_fixtures.php',42],['lib/tests/fixtures','event_fixtures.php',117],['lib/tests/fixtures','event_fixtures.php',124],['lib/tests/fixtures','event_fixtures.php',131],['lib/tests/fixtures','event_fixtures.php',139],['lib/tests/fixtures','event_fixtures.php',147],['lib/tests/fixtures','event_fixtures.php',155],['lib/tests/fixtures','event_fixtures.php',162],['lib/tests/fixtures','event_fixtures.php',170],['lib/tests/fixtures','event_fixtures.php',178],['lib/tests/fixtures','event_fixtures.php',186],['lib/tests/fixtures','event_fixtures.php',193],['lib/tests/fixtures','event_fixtures.php',201],['lib/tests/fixtures','event_fixtures.php',216],['lib/tests/fixtures','event_fixtures.php',225],['lib/tests/fixtures','event_fixtures.php',238],['lib/tests/fixtures','event_fixtures.php',267],['lib/tests/fixtures','event_fixtures.php',304],['lib/tests/fixtures','event_fixtures.php',315],['lib/tests/fixtures','event_fixtures.php',338],['lib/tests/fixtures','event_fixtures.php',345],['mod/assign/submission/file/classes/event','submission_created.php',45],['admin/tool/xmldb/actions/edit_xml_file_save','edit_xml_file_save.class.php',32],['admin/tool/xmldb/actions/new_table_from_mysql','new_table_from_mysql.class.php',33],['admin/tool/xmldb/actions/get_db_directories','get_db_directories.class.php',33],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',126],['admin/tool/xmldb/actions/main_view','main_view.class.php',35],['mod/quiz/classes/event','attempt_submitted.php',44],['mod/data/classes/event','field_created.php',47],['lib/classes/event','question_category_created.php',39],['admin/tool/monitor/classes/event','rule_deleted.php',39],['admin/tool/xmldb/actions/generate_all_documentation','generate_all_documentation.class.php',33],['admin/tool/xmldb/actions/view_index_xml','view_index_xml.class.php',32],['blocks/tag_youtube','block_tag_youtube.php',29],['backup/converter/moodle1','lib.php',111],['mod/lesson/classes/event','group_override_created.php',46],['admin/tool/xmldb/actions/edit_table_save','edit_table_save.class.php',32],['mod/workshop/classes/event','assessments_reset.php',44],['mod/lesson/classes/event','lesson_resumed.php',39],['mod/assign/classes/event','feedback_viewed.php',67],['lib/classes/event','blog_entry_updated.php',42],['report/questioninstances/classes/event','report_viewed.php',44],['mod/assign/classes/event','submission_form_viewed.php',74],['admin/tool/xmldb/actions/create_xml_file','create_xml_file.class.php',31],['mod/folder/classes/event','folder_updated.php',39],['mod/assign/classes/event','submission_created.php',49],['mod/assign/classes/event','statement_accepted.php',86],['lib/classes/event','grade_deleted.php',50],['lib/classes/event','role_capabilities_updated.php',42],['lib/classes/event','blog_entries_viewed.php',53],['admin/tool/xmldb/actions/edit_key_save','edit_key_save.class.php',33],['mod/wiki/classes/event','page_viewed.php',37],['question/engine','states.php',64],['lib/classes/event','group_deleted.php',83],['mod/imscp/classes/event','course_module_viewed.php',40],['question/classes/bank','delete_action_column.php',30],['blocks/completionstatus','block_completionstatus.php',36],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/style/js','props.js',57],['lib/classes/event','webservice_token_sent.php',65],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',126],['mod/quiz/classes/event','attempt_becameoverdue.php',47],['lib/classes/event','assessable_submitted.php',46],['mod/quiz/classes/event','attempt_viewed.php',45],['mod/assign/classes/event','submission_status_updated.php',88],['mod/page/classes/event','course_module_viewed.php',38],['mod/assign/classes/event','grading_form_viewed.php',74],['lib/editor/tinymce/tiny_mce/3.5.11/themes/advanced/js','color_picker.js',63],['blocks/badges','block_badges.php',35],['lib/classes/event','course_module_completion_updated.php',39],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','row.js',3],['mod/workshop/classes/event','assessment_evaluated.php',45],['admin/tool/xmldb/actions/edit_field','edit_field.class.php',32],['mod/book/classes/event','course_module_viewed.php',57],['blocks/activity_modules','block_activity_modules.php',29],['report/log/classes/event','report_viewed.php',48],['blocks/search_forums','block_search_forums.php',26],['admin/tool/xmldb/actions/load_xml_files','load_xml_files.class.php',32],['lib/classes/event','course_module_deleted.php',47],['mod/book/classes/event','chapter_created.php',100],['mod/workshop/classes/event','submission_assessed.php',45],['lib/classes/event','cohort_created.php',38],['lib/classes/event','webservice_function_called.php',76],['mod/scorm/classes/event','sco_launched.php',45],['lib/classes/event','blog_entry_created.php',44],['lib/classes/event','user_enrolment_created.php',44],['mod/data/classes/event','record_created.php',45],['admin/tool/xmldb/actions/delete_index','delete_index.class.php',32],['mod/quiz/classes/event','attempt_summary_viewed.php',45],['mnet','environment.php',24],['lib/classes/event','user_enrolment_updated.php',44],['mod/quiz/classes/event','attempt_reviewed.php',44],['admin/tool/xmldb/actions/save_xml_file','save_xml_file.class.php',37],['mod/lesson/classes/event','page_moved.php',47],['mod/glossary/classes/event','category_created.php',37],['lib/classes/session','database.php',65],['grade','lib.php',128],['mod/lesson/classes/event','page_created.php',45],['mod/forum/classes/event','course_module_viewed.php',39],['lib/classes/event','cohort_member_removed.php',39],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','table.js',295],['lib','csvlib.class.php',216],['mod/wiki/classes/event','page_version_viewed.php',43],['lib/classes/event','role_allow_override_updated.php',39],['mod/workshop/classes/event','assessable_uploaded.php',112],['mod/survey/classes/event','course_module_viewed.php',39],['lib/classes/event','grouping_updated.php',83],['admin/tool/monitor/classes/event','rule_updated.php',39],['lib/classes/event','course_module_created.php',48],['comment','lib.php',237],['lib/classes/event','tag_added.php',49],['lib/minify/lib','JSMinPlus.php',1753],['grade/report/singleview/classes/local/screen','user.php',94],['admin/tool/langimport/classes/event','langpack_removed.php',61],['mod/feedback/item/multichoice','lib.php',32],['mod/assign/classes/event','assessable_submitted.php',118],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','cite.js',1],['mod/workshop/classes/event','submission_updated.php',44],['mod/lesson/classes/event','page_deleted.php',45],['lib/classes/event','grouping_deleted.php',90],['blocks/section_links','block_section_links.php',34],['backup/converter','convertlib.php',211],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','acronym.js',1],['lib/classes/event','tag_flagged.php',46],['mod/wiki/classes/event','page_history_viewed.php',37],['lib/classes/session','memcache.php',88],['mod/survey/classes/event','report_viewed.php',46],['lib/classes/event','tag_created.php',46],['admin/tool/xmldb/actions/move_updown_key','move_updown_key.class.php',32],['report/stats/classes/event','report_viewed.php',46],['lib/classes/event','note_created.php',47],['blocks/blog_menu','block_blog_menu.php',32],['backup/util/xml/output','memory_xml_output.class.php',51],['blocks/selfcompletion','block_selfcompletion.php',37],['admin/tool/xmldb/actions/view_reserved_words','view_reserved_words.class.php',35],['admin/tool/xmldb/actions/view_table_sql','view_table_sql.class.php',33],['auth/cas/CAS/CAS/PGTStorage','Db.php',174],['mod/data/classes/event','course_module_viewed.php',40],['lib/classes/event','course_reset_started.php',71],['mod/feedback/item/textfield','lib.php',26],['admin/tool/monitor/classes/event','subscription_created.php',39],['admin/tool/xmldb/actions/edit_xml_file','edit_xml_file.class.php',35],['mod/book/tool/print/classes/event','book_printed.php',94],['lib/classes/event','webservice_service_user_removed.php',77],['mod/data/classes/event','record_deleted.php',45],['admin/tool/xmldb/actions/view_key_xml','view_key_xml.class.php',32],['mod/choice/classes/event','answer_updated.php',90],['blocks/online_users','block_online_users.php',31],['lib/classes/event','group_member_removed.php',87],['blocks/activity_results','block_activity_results.php',51],['admin/tool/xmldb/actions/view_xml','view_xml.class.php',32],['mod/glossary/classes/event','entry_viewed.php',39],['mod/forum/classes/event','user_report_viewed.php',45],['lib/classes/event','course_category_deleted.php',50],['mod/forum/classes/event','subscription_created.php',44],['admin/tool/xmldb/actions/check_bigints','check_bigints.class.php',32],['lib/classes/event','calendar_event_created.php',47],['blocks/blog_recent','block_blog_recent.php',33],['lib/classes/event','message_contact_blocked.php',39],['mod/feedback/item/multichoicerated','lib.php',37],['lib/classes/event','webservice_service_updated.php',77],['mod/wiki/classes/event','page_version_restored.php',43],['mod/data/classes/event','template_viewed.php',45],['blocks/admin_bookmarks','block_admin_bookmarks.php',41],['lib/classes/event','course_user_report_viewed.php',46],['mod/data/classes/event','record_updated.php',45],['mod/quiz/report','attemptsreport.php',67],['mod/wiki/classes/event','page_map_viewed.php',43],['admin/tool/log/classes/log','manager.php',39],['admin/tool/xmldb/actions/edit_index_save','edit_index_save.class.php',33],['mod/wiki/classes/event','page_locks_deleted.php',43],['lib/classes/event','webservice_service_deleted.php',77],['blocks/glossary_random','block_glossary_random.php',32],['mod/workshop/allocation/manual','lib.php',55],['mod/forum/classes/event','readtracking_enabled.php',44],['question/classes/bank/search','category_condition.php',79],['blocks/course_list','block_course_list.php',29],['lib/adodb/drivers','adodb-oci8.inc.php',1377],['lib/classes/event','role_unassigned.php',47],['mod/feedback/item/label','lib.php',29],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','del.js',1],['lib/classes/event','course_restored.php',49],['mod/choice/classes/event','report_viewed.php',38],['lib/classes/event','user_deleted.php',48],['lib/classes/event','user_enrolment_deleted.php',45],['mod/book/tool/print/classes/event','chapter_printed.php',97],['mod/assign/classes/event','identities_revealed.php',84],['lib/classes/event','user_graded.php',85],['lib/classes/event','course_updated.php',49],['blocks/tags','block_tags.php',26],['lib/classes/session','memcached.php',102],['mod/forum/classes/event','post_created.php',46],['mod/data/classes/event','field_deleted.php',46],['lib/classes/event','tag_deleted.php',46],['mod/glossary/classes/event','entry_created.php',43],['admin/tool/xmldb/actions','XMLDBAction.class.php',63],['grade/report/singleview/tests/fixtures','screen.php',38],['mod/forum/classes/event','discussion_created.php',44],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/advlink/js','advlink.js',22],['blocks/recent_activity','block_recent_activity.php',43],['mod/forum/classes/event','discussion_deleted.php',45],['mod/scorm/classes/event','attempt_deleted.php',44],['blocks/calendar_upcoming','block_calendar_upcoming.php',26],['mod/lesson/classes/event','lesson_ended.php',40],['mod/feedback/item/textarea','lib.php',26],['admin/tool/xmldb/actions/load_xml_file','load_xml_file.class.php',32],['mod/forum/classes/event','subscribers_viewed.php',45],['mod/scorm/classes/event','report_viewed.php',45],['mod/feedback/item/numeric','lib.php',27],['admin/tool/xmldb/actions/delete_table','delete_table.class.php',32],['mod/data/preset/imagegallery','jstemplate.js',4],['mod/workshop/allocation','lib.php',40],['lib','graphlib.php',158],['mod/lesson/classes/event','user_override_deleted.php',44],['report/completion/classes/event','user_report_viewed.php',39],['admin/tool/langimport/classes/event','langpack_imported.php',61],['mod/forum/classes/event','subscription_deleted.php',44],['mod/lesson/classes/event','highscore_added.php',47],['mod/lesson/classes/event','essay_assessed.php',46],['lib/classes/event','message_sent.php',74],['lib/classes/event','message_contact_removed.php',39],['lib/classes/event','tag_unflagged.php',46],['mod/assign/classes/event','submission_graded.php',87],['lib','csslib.php',1493],['lib','csslib.php',1579],['lib','csslib.php',2462],['lib','csslib.php',2572],['lib','csslib.php',2593],['lib','csslib.php',2732],['lib','csslib.php',2762],['lib','csslib.php',2792],['lib','csslib.php',2822],['lib','csslib.php',2852],['lib','csslib.php',3186],['lib','csslib.php',3266],['lib','csslib.php',3309],['lib','csslib.php',3352],['lib','csslib.php',3395],['lib','csslib.php',3438],['lib','csslib.php',3525],['lib','csslib.php',3578],['lib','csslib.php',3608],['lib','csslib.php',3638],['lib','csslib.php',3668],['lib','csslib.php',3698],['lib','csslib.php',3728],['lib','csslib.php',3758],['lib','csslib.php',3788],['lib','csslib.php',3818],['lib','csslib.php',3848],['lib','csslib.php',3878],['lib','csslib.php',3908],['lib','csslib.php',3938],['lib','csslib.php',4243],['lib','csslib.php',4277],['lib','csslib.php',4328],['lib','csslib.php',4381],['lib','csslib.php',4413],['lib','csslib.php',4464],['lib','csslib.php',4515],['lib','csslib.php',4566],['lib','csslib.php',4596],['lib','csslib.php',4626],['lib','csslib.php',4656],['lib','csslib.php',4791],['lib','csslib.php',4821],['lib','csslib.php',4851],['lib','csslib.php',4881],['lib','csslib.php',4910],['lib','csslib.php',4945],['lib','csslib.php',4977],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',71],['report/outline/classes/event','activity_report_viewed.php',38],['lib/classes/event','calendar_event_updated.php',47],['mod/lesson/classes/event','user_override_created.php',44],['blocks/html','block_html.php',27],['admin/tool/xmldb/actions/view_field_xml','view_field_xml.class.php',32],['mod/wiki/classes/event','course_module_viewed.php',38],['mod/workshop/classes/event','assessment_reevaluated.php',45],['mod/feedback/item/info','lib.php',26],['lib/classes/event','assessable_uploaded.php',53],['mod/quiz/classes/event','user_override_updated.php',45],['mod/feedback/item','feedback_item_class.php',151],['lib/classes/event','webservice_service_user_added.php',77],['admin/tool/xmldb/actions/revert_changes','revert_changes.class.php',32],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','ins.js',1],['backup/util/xml/output','file_xml_output.class.php',44],['admin/tool/monitor/classes/event','subscription_deleted.php',39],['lib/classes/event','notes_viewed.php',41],['mod/glossary/classes/event','entry_updated.php',43],['blocks/comments','block_comments.php',32],['admin/tool/monitor/classes/event','rule_created.php',39],['mod/wiki/classes/event','page_version_deleted.php',43],['lib/classes/event','course_completed.php',64],['admin/tool/xmldb/actions/edit_field_save','edit_field_save.class.php',33],['mod/assign/classes/event','submission_status_viewed.php',71],['portfolio/mahara','lib.php',53],['mod/glossary/classes/event','entry_approved.php',37],['webservice/amf/testclient','AMFTester.mxml',58],['admin/tool/xmldb/actions/delete_key','delete_key.class.php',32],['mod/wiki/classes/event','page_created.php',37],['mod/quiz/classes/event','group_override_created.php',46],['blocks/settings','block_settings.php',46],['blocks/tag_flickr','block_tag_flickr.php',30],['lib/classes/event','group_member_added.php',96],['lib/classes/event','message_contact_unblocked.php',39],['mod/quiz/classes/event','attempt_deleted.php',38],['admin/tool/xmldb/actions/generate_documentation','generate_documentation.class.php',32],['lib/classes/event','user_loggedin.php',91],['blocks/rss_client','block_rss_client.php',27],['mod/lesson/classes/event','lesson_restarted.php',39]], 446],
'each': ['each', 'Helper function for iterating over an array. If the func returns a true value, it will break out of the loop. ', [['lib/requirejs','require.js',49]], 2224],
'getscriptdata': ['getscriptdata', 'Given an event from a script node, get the requirejs info from it, and then removes the event listeners on the node. ', [['lib/requirejs','require.js',1197]], 2],
'getglobal': ['getglobal', '', [['lib/requirejs','require.js',146]], 2],
'require': ['require', '', [['lib/yuilib/3.17.2/timers','timers-debug.js',27],['lib/yuilib/3.17.2/timers','timers.js',27]], 454],
'replace': ['replace', '', [['lib/adodb','adodb-active-recordx.inc.php',985],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',48],['lib/adodb','adodb.inc.php',1669],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/searchreplace/js','searchreplace.js',70],['lib/phpexcel/PHPExcel/Calculation','TextData.php',487],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',49],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',2448],['lib/google/src/Google/Utils','URITemplate.php',83],['lib/lessphp','Functions.php',373],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',34],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',61],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',70],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',55],['lib/adodb','adodb-active-record.inc.php',813]], 3262],
'newcontext': ['newcontext', '', [['lib/requirejs','require.js',197]], 2],
'fn': ['fn', '', [['lib/requirejs','require.js',1356]], 141],
'removechild': ['removechild', '', [['lib/yuilib/2in3/2.9.0/build/yui2-button','yui2-button-debug.js',2625],['lib/yuilib/2in3/2.9.0/build/yui2-button','yui2-button.js',2602],['lib/alfresco/Service','Node.php',188]], 689],
'module': ['module', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',209],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',209],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',209]], 18],
'getinteractivescript': ['getinteractivescript', '', [['lib/requirejs','require.js',1930]], 1],
'pop': ['pop', 'Pop the HTML for the next closing container from the stack. The $type must match the type passed when the container was opened, otherwise a warning will be output. ', [['lib','outputlib.php',2025],['lib/evalmath','evalmath.class.php',457],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',82],['lib/horde/framework/Horde/Support','Memory.php',58],['lib/horde/framework/Horde/Support','Array.php',53],['lib/mustache/src/Mustache','Context.php',52],['lib/horde/framework/Horde/Support','Timer.php',42],['lib/horde/framework/Horde/Support','Stack.php',28],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',64]], 293],
'normalize': ['normalize', 'Normalize all keys in an array to lower-case. ', [['lib/google/src/Google','Utils.php',105],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',72],['lib/requirejs','require.js',257],['lib/htmlpurifier/HTMLPurifier','Lexer.php',285]], 35],
'setattribute': ['setattribute', '', [['lib/google/src/Google/Service','AdExchangeBuyer.php',994],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',253]], 1842],
'date': ['date', '', [], 790],
'each': ['each', '', [], 2224],
'split': ['split', '', [], 852],
'define': ['define', '', [], 2170],
'exec': ['exec', '', [], 330]};
CLASS_DATA={
};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
