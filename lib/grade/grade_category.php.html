<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of grade_category.php</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/grade';
filename='grade_category.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/grade/</a> -> <a href="grade_category.php.source.html">grade_category.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="grade_category.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../_stats.html">Project Stats</a>]</p>
<p><b>Definition of a class to represent a grade category</b></p>
<table>
<tr><td align="right">Copyright: </td><td>2006 Nicolas Connault</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>2770 lines (111 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>1 file<br>&nbsp;<a href="../../lib/grade/grade_object.php.html">lib/grade/grade_object.php</a>
</td></tr>
</table>
<h3>Defines 1 class</h3>
<div class="inset">
<p><b>grade_category::</b> (56 methods):<br>
&nbsp;&nbsp;<a href="#build_path">build_path</a>()<br>
&nbsp;&nbsp;<a href="#fetch">fetch</a>()<br>
&nbsp;&nbsp;<a href="#fetch_all">fetch_all</a>()<br>
&nbsp;&nbsp;<a href="#update">update</a>()<br>
&nbsp;&nbsp;<a href="#delete">delete</a>()<br>
&nbsp;&nbsp;<a href="#insert">insert</a>()<br>
&nbsp;&nbsp;<a href="#insert_course_category">insert_course_category</a>()<br>
&nbsp;&nbsp;<a href="#qualifies_for_regrading">qualifies_for_regrading</a>()<br>
&nbsp;&nbsp;<a href="#force_regrading">force_regrading</a>()<br>
&nbsp;&nbsp;<a href="#pre_regrade_final_grades">pre_regrade_final_grades</a>()<br>
&nbsp;&nbsp;<a href="#generate_grades">generate_grades</a>()<br>
&nbsp;&nbsp;<a href="#aggregate_grades">aggregate_grades</a>()<br>
&nbsp;&nbsp;<a href="#set_usedinaggregation">set_usedinaggregation</a>()<br>
&nbsp;&nbsp;<a href="#aggregate_values_and_adjust_bounds">aggregate_values_and_adjust_bounds</a>()<br>
&nbsp;&nbsp;<a href="#aggregate_values">aggregate_values</a>()<br>
&nbsp;&nbsp;<a href="#auto_update_max">auto_update_max</a>()<br>
&nbsp;&nbsp;<a href="#auto_update_weights">auto_update_weights</a>()<br>
&nbsp;&nbsp;<a href="#apply_limit_rules">apply_limit_rules</a>()<br>
&nbsp;&nbsp;<a href="#can_apply_limit_rules">can_apply_limit_rules</a>()<br>
&nbsp;&nbsp;<a href="#is_extracredit_used">is_extracredit_used</a>()<br>
&nbsp;&nbsp;<a href="#aggregation_uses_extracredit">aggregation_uses_extracredit</a>()<br>
&nbsp;&nbsp;<a href="#is_aggregationcoef_used">is_aggregationcoef_used</a>()<br>
&nbsp;&nbsp;<a href="#aggregation_uses_aggregationcoef">aggregation_uses_aggregationcoef</a>()<br>
&nbsp;&nbsp;<a href="#get_coefstring">get_coefstring</a>()<br>
&nbsp;&nbsp;<a href="#fetch_course_tree">fetch_course_tree</a>()<br>
&nbsp;&nbsp;<a href="#_fetch_course_tree_recursion">_fetch_course_tree_recursion</a>()<br>
&nbsp;&nbsp;<a href="#get_children">get_children</a>()<br>
&nbsp;&nbsp;<a href="#_get_children_recursion">_get_children_recursion</a>()<br>
&nbsp;&nbsp;<a href="#load_grade_item">load_grade_item</a>()<br>
&nbsp;&nbsp;<a href="#get_grade_item">get_grade_item</a>()<br>
&nbsp;&nbsp;<a href="#load_parent_category">load_parent_category</a>()<br>
&nbsp;&nbsp;<a href="#get_parent_category">get_parent_category</a>()<br>
&nbsp;&nbsp;<a href="#get_name">get_name</a>()<br>
&nbsp;&nbsp;<a href="#get_description">get_description</a>()<br>
&nbsp;&nbsp;<a href="#set_parent">set_parent</a>()<br>
&nbsp;&nbsp;<a href="#get_final">get_final</a>()<br>
&nbsp;&nbsp;<a href="#get_sortorder">get_sortorder</a>()<br>
&nbsp;&nbsp;<a href="#get_idnumber">get_idnumber</a>()<br>
&nbsp;&nbsp;<a href="#set_sortorder">set_sortorder</a>()<br>
&nbsp;&nbsp;<a href="#move_after_sortorder">move_after_sortorder</a>()<br>
&nbsp;&nbsp;<a href="#is_course_category">is_course_category</a>()<br>
&nbsp;&nbsp;<a href="#fetch_course_category">fetch_course_category</a>()<br>
&nbsp;&nbsp;<a href="#is_editable">is_editable</a>()<br>
&nbsp;&nbsp;<a href="#is_locked">is_locked</a>()<br>
&nbsp;&nbsp;<a href="#set_locked">set_locked</a>()<br>
&nbsp;&nbsp;<a href="#set_properties">set_properties</a>()<br>
&nbsp;&nbsp;<a href="#set_hidden">set_hidden</a>()<br>
&nbsp;&nbsp;<a href="#apply_default_settings">apply_default_settings</a>()<br>
&nbsp;&nbsp;<a href="#apply_forced_settings">apply_forced_settings</a>()<br>
&nbsp;&nbsp;<a href="#updated_forced_settings">updated_forced_settings</a>()<br>
&nbsp;&nbsp;<a href="#get_default_aggregation_coefficient_values">get_default_aggregation_coefficient_values</a>()<br>
&nbsp;&nbsp;<a href="#notify_changed">notify_changed</a>()<br>
&nbsp;&nbsp;<a href="#generate_record_set_key">generate_record_set_key</a>()<br>
&nbsp;&nbsp;<a href="#retrieve_record_set">retrieve_record_set</a>()<br>
&nbsp;&nbsp;<a href="#set_record_set">set_record_set</a>()<br>
&nbsp;&nbsp;<a href="#clean_record_set">clean_record_set</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="grade_category"><b>grade_category</b></a>&nbsp;&nbsp;- <a href="../../_classes/grade_category.html"><small>X-Ref</small></a>
</p>
<b>grade_category is an object mapped to DB table {prefix}grade_categories<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="build_path" onClick="logFunction('build_path', 'grade_category.php.source.html#l163')" href="grade_category.php.source.html#l163">build_path</a>(<a href="../../_variables/grade_category.html">$grade_category</a>)&nbsp;&nbsp;
<a href="../../_functions/build_path.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Builds this category's path string based on its parents (if any) and its own id number.<BR>
This is typically done just before inserting this object in the DB for the first time,<BR>
or when a new parent is added or changed. It is a recursive function: once the calling<BR>
object no longer has a parent, the path is complete.<BR>
</b><BR><b>param:</b> grade_category $grade_category A Grade_Category object<br>
<b>return:</b> string The category's path string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="fetch" onClick="logFunction('fetch', 'grade_category.php.source.html#l184')" href="grade_category.php.source.html#l184">fetch</a>(<a href="../../_variables/params.html">$params</a>)&nbsp;&nbsp;
<a href="../../_functions/fetch.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finds and returns a grade_category instance based on params.<BR>
</b><BR><b>param:</b> array $params associative arrays varname=&gt;value<br>
<b>return:</b> grade_category The retrieved grade_category instance or false if none found.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="fetch_all" onClick="logFunction('fetch_all', 'grade_category.php.source.html#l209')" href="grade_category.php.source.html#l209">fetch_all</a>(<a href="../../_variables/params.html">$params</a>)&nbsp;&nbsp;
<a href="../../_functions/fetch_all.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finds and returns all grade_category instances based on params.<BR>
</b><BR><b>param:</b> array $params associative arrays varname=&gt;value<br>
<b>return:</b> array array of grade_category insatnces or false if none found.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update" onClick="logFunction('update', 'grade_category.php.source.html#l226')" href="grade_category.php.source.html#l226">update</a>(<a href="../../_variables/source.html">$source</a>=null)&nbsp;&nbsp;
<a href="../../_functions/update.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>In addition to update() as defined in grade_object, call force_regrading of parent categories, if applicable.<BR>
</b><BR><b>param:</b> string $source from where was the object updated (mod/forum, manual, etc.)<br>
<b>return:</b> bool success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete" onClick="logFunction('delete', 'grade_category.php.source.html#l281')" href="grade_category.php.source.html#l281">delete</a>(<a href="../../_variables/source.html">$source</a>=null)&nbsp;&nbsp;
<a href="../../_functions/delete.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>If parent::delete() is successful, send force_regrading message to parent category.<BR>
</b><BR><b>param:</b> string $source from where was the object deleted (mod/forum, manual, etc.)<br>
<b>return:</b> bool success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="insert" onClick="logFunction('insert', 'grade_category.php.source.html#l340')" href="grade_category.php.source.html#l340">insert</a>(<a href="../../_variables/source.html">$source</a>=null)&nbsp;&nbsp;
<a href="../../_functions/insert.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>In addition to the normal insert() defined in grade_object, this method sets the depth<BR>
and path for this object, and update the record accordingly.<BR>
</b><BR>We do this here instead of in the constructor as they both need to know the record's<BR>
ID number, which only gets created at insertion time.<BR>
This method also creates an associated grade_item if this wasn't done during construction.<BR>
<BR>
<b>param:</b> string $source from where was the object inserted (mod/forum, manual, etc.)<br>
<b>return:</b> int PK ID if successful, false otherwise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="insert_course_category" onClick="logFunction('insert_course_category', 'grade_category.php.source.html#l379')" href="grade_category.php.source.html#l379">insert_course_category</a>(<a href="../../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../../_functions/insert_course_category.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Internal function - used only from fetch_course_category()<BR>
Normal insert() can not be used for course category<BR>
</b><BR><b>param:</b> int $courseid The course ID<br>
<b>return:</b> int The ID of the new course category<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="qualifies_for_regrading" onClick="logFunction('qualifies_for_regrading', 'grade_category.php.source.html#l409')" href="grade_category.php.source.html#l409">qualifies_for_regrading</a>()&nbsp;&nbsp;
<a href="../../_functions/qualifies_for_regrading.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Compares the values held by this object with those of the matching record in DB, and returns<BR>
whether or not these differences are sufficient to justify an update of all parent objects.<BR>
This assumes that this object has an ID number and a matching record in DB. If not, it will return false.<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="force_regrading" onClick="logFunction('force_regrading', 'grade_category.php.source.html#l433')" href="grade_category.php.source.html#l433">force_regrading</a>()&nbsp;&nbsp;
<a href="../../_functions/force_regrading.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Marks this grade categories' associated grade item as needing regrading<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pre_regrade_final_grades" onClick="logFunction('pre_regrade_final_grades', 'grade_category.php.source.html#l441')" href="grade_category.php.source.html#l441">pre_regrade_final_grades</a>()&nbsp;&nbsp;
<a href="../../_functions/pre_regrade_final_grades.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Something that should be called before we start regrading the whole course.<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_grades" onClick="logFunction('generate_grades', 'grade_category.php.source.html#l451')" href="grade_category.php.source.html#l451">generate_grades</a>(<a href="../../_variables/userid.html">$userid</a>=null)&nbsp;&nbsp;
<a href="../../_functions/generate_grades.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generates and saves final grades in associated category grade item.<BR>
These immediate children must already have their own final grades.<BR>
The category's aggregation method is used to generate final grades.<BR>
</b><BR>Please note that category grade is either calculated or aggregated, not both at the same time.<BR>
<BR>
This method must be used ONLY from grade_item::regrade_final_grades(),<BR>
because the calculation must be done in correct order!<BR>
<BR>
Steps to follow:<BR>
1. Get final grades from immediate children<BR>
3. Aggregate these grades<BR>
4. Save them in final grades of associated category grade item<BR>
<BR>
<b>param:</b> int $userid The user ID if final grade generation should be limited to a single user<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="aggregate_grades" onClick="logFunction('aggregate_grades', 'grade_category.php.source.html#l574')" href="grade_category.php.source.html#l574">aggregate_grades</a>(<a href="../../_variables/userid.html">$userid</a>,<a href="../../_variables/items.html">$items</a>,<a href="../../_variables/grade_values.html">$grade_values</a>,<a href="../../_variables/oldgrade.html">$oldgrade</a>,<a href="../../_variables/excluded.html">$excluded</a>,<a href="../../_variables/grademinoverrides.html">$grademinoverrides</a>,<a href="../../_variables/grademaxoverrides.html">$grademaxoverrides</a>)&nbsp;&nbsp;
<a href="../../_functions/aggregate_grades.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Internal function for grade category grade aggregation<BR>
</b><BR><b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$userid The User ID<br>
<b>param:</b> array&nbsp;&nbsp;$items Grade items<br>
<b>param:</b> array&nbsp;&nbsp;$grade_values Array of grade values<br>
<b>param:</b> object $oldgrade Old grade<br>
<b>param:</b> array&nbsp;&nbsp;$excluded Excluded<br>
<b>param:</b> array&nbsp;&nbsp;$grademinoverrides User specific grademin values if different to the grade_item grademin (key is itemid)<br>
<b>param:</b> array&nbsp;&nbsp;$grademaxoverrides User specific grademax values if different to the grade_item grademax (key is itemid)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_usedinaggregation" onClick="logFunction('set_usedinaggregation', 'grade_category.php.source.html#l798')" href="grade_category.php.source.html#l798">set_usedinaggregation</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/usedweights.html">$usedweights</a>, <a href="../../_variables/novalue.html">$novalue</a>, <a href="../../_variables/dropped.html">$dropped</a>, <a href="../../_variables/extracredit.html">$extracredit</a>)&nbsp;&nbsp;
<a href="../../_functions/set_usedinaggregation.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the flags on the grade_grade items to indicate how individual grades are used<BR>
in the aggregation.<BR>
</b><BR>WARNING: This function is called a lot during gradebook recalculation, be very performance considerate.<BR>
<BR>
<b>param:</b> int $userid The user we have aggregated the grades for.<br>
<b>param:</b> array $usedweights An array with keys for each of the grade_item columns included in the aggregation. The value are the relative weight.<br>
<b>param:</b> array $novalue An array with keys for each of the grade_item columns skipped because<br>
<b>param:</b> array $dropped An array with keys for each of the grade_item columns dropped<br>
<b>param:</b> array $extracredit An array with keys for each of the grade_item columns<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="aggregate_values_and_adjust_bounds" onClick="logFunction('aggregate_values_and_adjust_bounds', 'grade_category.php.source.html#l973')" href="grade_category.php.source.html#l973">aggregate_values_and_adjust_bounds</a>(<a href="../../_variables/grade_values.html">$grade_values</a>,<a href="../../_variables/items.html">$items</a>,&amp; <a href="../../_variables/weights.html">$weights</a> = null,<a href="../../_variables/grademinoverrides.html">$grademinoverrides</a> = array()&nbsp;&nbsp;
<a href="../../_functions/aggregate_values_and_adjust_bounds.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Internal function that calculates the aggregated grade and new min/max for this grade category<BR>
</b><BR>Must be public as it is used by grade_grade::get_hiding_affected()<BR>
<BR>
<b>param:</b> array $grade_values An array of values to be aggregated<br>
<b>param:</b> array $items The array of grade_items<br>
<b>param:</b> array &amp; $weights If provided, will be filled with the normalized weights<br>
<b>param:</b> array&nbsp;&nbsp;$grademinoverrides User specific grademin values if different to the grade_item grademin (key is itemid)<br>
<b>param:</b> array&nbsp;&nbsp;$grademaxoverrides User specific grademax values if different to the grade_item grademax (key is itemid)<br>
<b>return:</b> array containing values for:<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="aggregate_values" onClick="logFunction('aggregate_values', 'grade_category.php.source.html#l1457')" href="grade_category.php.source.html#l1457">aggregate_values</a>(<a href="../../_variables/grade_values.html">$grade_values</a>, <a href="../../_variables/items.html">$items</a>)&nbsp;&nbsp;
<a href="../../_functions/aggregate_values.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Internal function that calculates the aggregated grade for this grade category<BR>
</b><BR>Must be public as it is used by grade_grade::get_hiding_affected()<BR>
<BR>
<b>param:</b> array $grade_values An array of values to be aggregated<br>
<b>param:</b> array $items The array of grade_items<br>
<b>return:</b> float The aggregate grade for this grade category<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="auto_update_max" onClick="logFunction('auto_update_max', 'grade_category.php.source.html#l1474')" href="grade_category.php.source.html#l1474">auto_update_max</a>()&nbsp;&nbsp;
<a href="../../_functions/auto_update_max.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Some aggregation types may need to update their max grade.<BR>
</b><BR>This must be executed after updating the weights as it relies on them.<BR>
<BR>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="auto_update_weights" onClick="logFunction('auto_update_weights', 'grade_category.php.source.html#l1561')" href="grade_category.php.source.html#l1561">auto_update_weights</a>()&nbsp;&nbsp;
<a href="../../_functions/auto_update_weights.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Recalculate the weights of the grade items in this category.<BR>
</b><BR>The category total is not updated here, a further call to<BR>
{@link self::auto_update_max()} is required.<BR>
<BR>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="apply_limit_rules" onClick="logFunction('apply_limit_rules', 'grade_category.php.source.html#l1740')" href="grade_category.php.source.html#l1740">apply_limit_rules</a>(&amp;<a href="../../_variables/grade_values.html">$grade_values</a>, <a href="../../_variables/items.html">$items</a>)&nbsp;&nbsp;
<a href="../../_functions/apply_limit_rules.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given an array of grade values (numerical indices) applies droplow or keephigh rules to limit the final array.<BR>
</b><BR><b>param:</b> array $grade_values itemid=&gt;$grade_value float<br>
<b>param:</b> array $items grade item objects<br>
<b>return:</b> array Limited grades.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="can_apply_limit_rules" onClick="logFunction('can_apply_limit_rules', 'grade_category.php.source.html#l1838')" href="grade_category.php.source.html#l1838">can_apply_limit_rules</a>()&nbsp;&nbsp;
<a href="../../_functions/can_apply_limit_rules.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns whether or not we can apply the limit rules.<BR>
</b><BR>There are cases where drop lowest or keep highest should not be used<BR>
at all. This method will determine whether or not this logic can be<BR>
applied considering the current setup of the category.<BR>
<BR>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_extracredit_used" onClick="logFunction('is_extracredit_used', 'grade_category.php.source.html#l1902')" href="grade_category.php.source.html#l1902">is_extracredit_used</a>()&nbsp;&nbsp;
<a href="../../_functions/is_extracredit_used.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if category uses extra credit of any kind<BR>
</b><BR><b>return:</b> bool True if extra credit used<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="aggregation_uses_extracredit" onClick="logFunction('aggregation_uses_extracredit', 'grade_category.php.source.html#l1911')" href="grade_category.php.source.html#l1911">aggregation_uses_extracredit</a>(<a href="../../_variables/aggregation.html">$aggregation</a>)&nbsp;&nbsp;
<a href="../../_functions/aggregation_uses_extracredit.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if aggregation passed is using extracredit.<BR>
</b><BR><b>param:</b> int $aggregation Aggregation const.<br>
<b>return:</b> bool True if extra credit used<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_aggregationcoef_used" onClick="logFunction('is_aggregationcoef_used', 'grade_category.php.source.html#l1923')" href="grade_category.php.source.html#l1923">is_aggregationcoef_used</a>()&nbsp;&nbsp;
<a href="../../_functions/is_aggregationcoef_used.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if category uses special aggregation coefficient<BR>
</b><BR><b>return:</b> bool True if an aggregation coefficient is being used<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="aggregation_uses_aggregationcoef" onClick="logFunction('aggregation_uses_aggregationcoef', 'grade_category.php.source.html#l1933')" href="grade_category.php.source.html#l1933">aggregation_uses_aggregationcoef</a>(<a href="../../_variables/aggregation.html">$aggregation</a>)&nbsp;&nbsp;
<a href="../../_functions/aggregation_uses_aggregationcoef.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if aggregation uses aggregationcoef<BR>
</b><BR><b>param:</b> int $aggregation Aggregation const.<br>
<b>return:</b> bool True if an aggregation coefficient is being used<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_coefstring" onClick="logFunction('get_coefstring', 'grade_category.php.source.html#l1947')" href="grade_category.php.source.html#l1947">get_coefstring</a>(<a href="../../_variables/first.html">$first</a>=true)&nbsp;&nbsp;
<a href="../../_functions/get_coefstring.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Recursive function to find which weight/extra credit field to use in the grade item form.<BR>
</b><BR><b>param:</b> string $first Whether or not this is the first item in the recursion<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="fetch_course_tree" onClick="logFunction('fetch_course_tree', 'grade_category.php.source.html#l2001')" href="grade_category.php.source.html#l2001">fetch_course_tree</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/include_category_items.html">$include_category_items</a>=false)&nbsp;&nbsp;
<a href="../../_functions/fetch_course_tree.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns tree with all grade_items and categories as elements<BR>
</b><BR><b>param:</b> int $courseid The course ID<br>
<b>param:</b> bool $include_category_items as category children<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="_fetch_course_tree_recursion" onClick="logFunction('_fetch_course_tree_recursion', 'grade_category.php.source.html#l2018')" href="grade_category.php.source.html#l2018">_fetch_course_tree_recursion</a>(<a href="../../_variables/category_array.html">$category_array</a>, &amp;<a href="../../_variables/sortorder.html">$sortorder</a>)&nbsp;&nbsp;
<a href="../../_functions/_fetch_course_tree_recursion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>An internal function that recursively sorts grade categories within a course<BR>
</b><BR><b>param:</b> array $category_array The seed of the recursion<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;$sortorder The current sortorder<br>
<b>return:</b> array An array containing 'object', 'type', 'depth' and optionally 'children'<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_children" onClick="logFunction('get_children', 'grade_category.php.source.html#l2068')" href="grade_category.php.source.html#l2068">get_children</a>(<a href="../../_variables/include_category_items.html">$include_category_items</a>=false)&nbsp;&nbsp;
<a href="../../_functions/get_children.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Fetches and returns all the children categories and/or grade_items belonging to this category.<BR>
By default only returns the immediate children (depth=1), but deeper levels can be requested,<BR>
as well as all levels (0). The elements are indexed by sort order.<BR>
</b><BR><b>param:</b> bool $include_category_items Whether or not to include category grade_items in the children array<br>
<b>return:</b> array Array of child objects (grade_category and grade_item).<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="_get_children_recursion" onClick="logFunction('_get_children_recursion', 'grade_category.php.source.html#l2182')" href="grade_category.php.source.html#l2182">_get_children_recursion</a>(<a href="../../_variables/category.html">$category</a>)&nbsp;&nbsp;
<a href="../../_functions/_get_children_recursion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Private method used to retrieve all children of this category recursively<BR>
</b><BR><b>param:</b> grade_category $category Source of current recursion<br>
<b>return:</b> array An array of child grade categories<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_grade_item" onClick="logFunction('load_grade_item', 'grade_category.php.source.html#l2223')" href="grade_category.php.source.html#l2223">load_grade_item</a>()&nbsp;&nbsp;
<a href="../../_functions/load_grade_item.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Uses {@link get_grade_item()} to load or create a grade_item, then saves it as $this-&gt;grade_item.<BR>
</b><BR><b>return:</b> grade_item<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_grade_item" onClick="logFunction('get_grade_item', 'grade_category.php.source.html#l2235')" href="grade_category.php.source.html#l2235">get_grade_item</a>()&nbsp;&nbsp;
<a href="../../_functions/get_grade_item.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Retrieves this grade categories' associated grade_item from the database<BR>
</b><BR>If no grade_item exists yet, creates one.<BR>
<BR>
<b>return:</b> grade_item<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_parent_category" onClick="logFunction('load_parent_category', 'grade_category.php.source.html#l2274')" href="grade_category.php.source.html#l2274">load_parent_category</a>()&nbsp;&nbsp;
<a href="../../_functions/load_parent_category.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Uses $this-&gt;parent to instantiate $this-&gt;parent_category based on the referenced record in the DB<BR>
</b><BR><b>return:</b> grade_category The parent category<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_parent_category" onClick="logFunction('get_parent_category', 'grade_category.php.source.html#l2286')" href="grade_category.php.source.html#l2286">get_parent_category</a>()&nbsp;&nbsp;
<a href="../../_functions/get_parent_category.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Uses $this-&gt;parent to instantiate and return a grade_category object<BR>
</b><BR><b>return:</b> grade_category Returns the parent category or null if this category has no parent<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_name" onClick="logFunction('get_name', 'grade_category.php.source.html#l2300')" href="grade_category.php.source.html#l2300">get_name</a>()&nbsp;&nbsp;
<a href="../../_functions/get_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the most descriptive field for this grade category<BR>
</b><BR><b>return:</b> string name<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_description" onClick="logFunction('get_description', 'grade_category.php.source.html#l2317')" href="grade_category.php.source.html#l2317">get_description</a>()&nbsp;&nbsp;
<a href="../../_functions/get_description.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Describe the aggregation settings for this category so the reports make more sense.<BR>
</b><BR><b>return:</b> string description<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_parent" onClick="logFunction('set_parent', 'grade_category.php.source.html#l2344')" href="grade_category.php.source.html#l2344">set_parent</a>(<a href="../../_variables/parentid.html">$parentid</a>, <a href="../../_variables/source.html">$source</a>=null)&nbsp;&nbsp;
<a href="../../_functions/set_parent.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets this category's parent id<BR>
</b><BR><b>param:</b> int $parentid The ID of the category that is the new parent to $this<br>
<b>param:</b> string $source From where was the object updated (mod/forum, manual, etc.)<br>
<b>return:</b> bool success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_final" onClick="logFunction('get_final', 'grade_category.php.source.html#l2381')" href="grade_category.php.source.html#l2381">get_final</a>(<a href="../../_variables/userid.html">$userid</a>=null)&nbsp;&nbsp;
<a href="../../_functions/get_final.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the final grade values for this grade category.<BR>
</b><BR><b>param:</b> int $userid Optional user ID to retrieve a single user's final grade<br>
<b>return:</b> mixed An array of all final_grades (stdClass objects) for this grade_item, or a single final_grade.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_sortorder" onClick="logFunction('get_sortorder', 'grade_category.php.source.html#l2392')" href="grade_category.php.source.html#l2392">get_sortorder</a>()&nbsp;&nbsp;
<a href="../../_functions/get_sortorder.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the sortorder of the grade categories' associated grade_item<BR>
</b><BR>This method is also available in grade_item for cases where the object type is not known.<BR>
<BR>
<b>return:</b> int Sort order<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_idnumber" onClick="logFunction('get_idnumber', 'grade_category.php.source.html#l2404')" href="grade_category.php.source.html#l2404">get_idnumber</a>()&nbsp;&nbsp;
<a href="../../_functions/get_idnumber.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the idnumber of the grade categories' associated grade_item.<BR>
</b><BR>This method is also available in grade_item for cases where the object type is not known.<BR>
<BR>
<b>return:</b> string idnumber<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_sortorder" onClick="logFunction('set_sortorder', 'grade_category.php.source.html#l2416')" href="grade_category.php.source.html#l2416">set_sortorder</a>(<a href="../../_variables/sortorder.html">$sortorder</a>)&nbsp;&nbsp;
<a href="../../_functions/set_sortorder.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the sortorder variable for this category.<BR>
</b><BR>This method is also available in grade_item, for cases where the object type is not know.<BR>
<BR>
<b>param:</b> int $sortorder The sortorder to assign to this category<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_after_sortorder" onClick="logFunction('move_after_sortorder', 'grade_category.php.source.html#l2428')" href="grade_category.php.source.html#l2428">move_after_sortorder</a>(<a href="../../_variables/sortorder.html">$sortorder</a>)&nbsp;&nbsp;
<a href="../../_functions/move_after_sortorder.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Move this category after the given sortorder<BR>
</b><BR>Does not change the parent<BR>
<BR>
<b>param:</b> int $sortorder to place after.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_course_category" onClick="logFunction('is_course_category', 'grade_category.php.source.html#l2441')" href="grade_category.php.source.html#l2441">is_course_category</a>()&nbsp;&nbsp;
<a href="../../_functions/is_course_category.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return true if this is the top most category that represents the total course grade.<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="fetch_course_category" onClick="logFunction('fetch_course_category', 'grade_category.php.source.html#l2451')" href="grade_category.php.source.html#l2451">fetch_course_category</a>(<a href="../../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../../_functions/fetch_course_category.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return the course level grade_category object<BR>
</b><BR><b>param:</b> int $courseid The Course ID<br>
<b>return:</b> grade_category Returns the course level grade_category instance<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_editable" onClick="logFunction('is_editable', 'grade_category.php.source.html#l2475')" href="grade_category.php.source.html#l2475">is_editable</a>()&nbsp;&nbsp;
<a href="../../_functions/is_editable.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Is grading object editable?<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_locked" onClick="logFunction('is_locked', 'grade_category.php.source.html#l2484')" href="grade_category.php.source.html#l2484">is_locked</a>()&nbsp;&nbsp;
<a href="../../_functions/is_locked.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the locked state/date of the grade categories' associated grade_item.<BR>
</b><BR>This method is also available in grade_item, for cases where the object type is not known.<BR>
<BR>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_locked" onClick="logFunction('set_locked', 'grade_category.php.source.html#l2496')" href="grade_category.php.source.html#l2496">set_locked</a>(<a href="../../_variables/lockedstate.html">$lockedstate</a>, <a href="../../_variables/cascade.html">$cascade</a>=false, <a href="../../_variables/refresh.html">$refresh</a>=true)&nbsp;&nbsp;
<a href="../../_functions/set_locked.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the grade_item's locked variable and updates the grade_item.<BR>
</b><BR>Calls set_locked() on the categories' grade_item<BR>
<BR>
<b>param:</b> int&nbsp;&nbsp;$lockedstate 0, 1 or a timestamp int(10) after which date the item will be locked.<br>
<b>param:</b> bool $cascade lock/unlock child objects too<br>
<b>param:</b> bool $refresh refresh grades when unlocking<br>
<b>return:</b> bool success if category locked (not all children mayb be locked though)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_properties" onClick="logFunction('set_properties', 'grade_category.php.source.html#l2536')" href="grade_category.php.source.html#l2536">set_properties</a>(&amp;<a href="../../_variables/instance.html">$instance</a>, <a href="../../_variables/params.html">$params</a>)&nbsp;&nbsp;
<a href="../../_functions/set_properties.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Overrides grade_object::set_properties() to add special handling for changes to category aggregation types<BR>
</b><BR><b>param:</b> stdClass $instance the object to set the properties on<br>
<b>param:</b> array|stdClass $params Either an associative array or an object containing property name, property value pairs<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_hidden" onClick="logFunction('set_hidden', 'grade_category.php.source.html#l2578')" href="grade_category.php.source.html#l2578">set_hidden</a>(<a href="../../_variables/hidden.html">$hidden</a>, <a href="../../_variables/cascade.html">$cascade</a>=false)&nbsp;&nbsp;
<a href="../../_functions/set_hidden.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the grade_item's hidden variable and updates the grade_item.<BR>
</b><BR>Overrides grade_item::set_hidden() to add cascading of the hidden value to grade items in this grade category<BR>
<BR>
<b>param:</b> int $hidden 0 mean always visible, 1 means always hidden and a number &gt; 1 is a timestamp to hide until<br>
<b>param:</b> bool $cascade apply to child objects too<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="apply_default_settings" onClick="logFunction('apply_default_settings', 'grade_category.php.source.html#l2625')" href="grade_category.php.source.html#l2625">apply_default_settings</a>()&nbsp;&nbsp;
<a href="../../_functions/apply_default_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Applies default settings on this category<BR>
</b><BR><b>return:</b> bool True if anything changed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="apply_forced_settings" onClick="logFunction('apply_forced_settings', 'grade_category.php.source.html#l2645')" href="grade_category.php.source.html#l2645">apply_forced_settings</a>()&nbsp;&nbsp;
<a href="../../_functions/apply_forced_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Applies forced settings on this category<BR>
</b><BR><b>return:</b> bool True if anything changed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="updated_forced_settings" onClick="logFunction('updated_forced_settings', 'grade_category.php.source.html#l2671')" href="grade_category.php.source.html#l2671">updated_forced_settings</a>()&nbsp;&nbsp;
<a href="../../_functions/updated_forced_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Notification of change in forced category settings.<BR>
</b><BR>Causes all course and category grade items to be marked as needing to be updated<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_default_aggregation_coefficient_values" onClick="logFunction('get_default_aggregation_coefficient_values', 'grade_category.php.source.html#l2683')" href="grade_category.php.source.html#l2683">get_default_aggregation_coefficient_values</a>(<a href="../../_variables/aggregationmethod.html">$aggregationmethod</a>)&nbsp;&nbsp;
<a href="../../_functions/get_default_aggregation_coefficient_values.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine the default aggregation values for a given aggregation method.<BR>
</b><BR><b>param:</b> int $aggregationmethod The aggregation method constant value.<br>
<b>return:</b> array Containing the keys 'aggregationcoef', 'aggregationcoef2' and 'weightoverride'.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="notify_changed" onClick="logFunction('notify_changed', 'grade_category.php.source.html#l2708')" href="grade_category.php.source.html#l2708">notify_changed</a>(<a href="../../_variables/deleted.html">$deleted</a>)&nbsp;&nbsp;
<a href="../../_functions/notify_changed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Cleans the cache.<BR>
</b><BR>We invalidate them all so it can be completely reloaded.<BR>
<BR>
Being conservative here, if there is a new grade_category we purge them, the important part<BR>
is that this is not purged when there are no changes in grade_categories.<BR>
<BR>
<b>param:</b> bool $deleted<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_record_set_key" onClick="logFunction('generate_record_set_key', 'grade_category.php.source.html#l2723')" href="grade_category.php.source.html#l2723">generate_record_set_key</a>(<a href="../../_variables/params.html">$params</a>)&nbsp;&nbsp;
<a href="../../_functions/generate_record_set_key.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generates a unique key per query.<BR>
</b><BR>Not unique between grade_object children. self::retrieve_record_set and self::set_record_set will be in charge of<BR>
selecting the appropriate cache.<BR>
<BR>
<b>param:</b> array $params An array of conditions like $fieldname =&gt; $fieldvalue<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="retrieve_record_set" onClick="logFunction('retrieve_record_set', 'grade_category.php.source.html#l2736')" href="grade_category.php.source.html#l2736">retrieve_record_set</a>(<a href="../../_variables/params.html">$params</a>)&nbsp;&nbsp;
<a href="../../_functions/retrieve_record_set.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Tries to retrieve a record set from the cache.<BR>
</b><BR><b>param:</b> array $params The query params<br>
<b>return:</b> grade_object[]|bool An array of grade_objects or false if not found.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_record_set" onClick="logFunction('set_record_set', 'grade_category.php.source.html#l2747')" href="grade_category.php.source.html#l2747">set_record_set</a>(<a href="../../_variables/params.html">$params</a>, <a href="../../_variables/records.html">$records</a>)&nbsp;&nbsp;
<a href="../../_functions/set_record_set.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets a result to the records cache, even if there were no results.<BR>
</b><BR><b>param:</b> string $params The query params<br>
<b>param:</b> grade_object[]|bool $records An array of grade_objects or false if there are no records matching the $key filters<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clean_record_set" onClick="logFunction('clean_record_set', 'grade_category.php.source.html#l2759')" href="grade_category.php.source.html#l2759">clean_record_set</a>()&nbsp;&nbsp;
<a href="../../_functions/clean_record_set.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Cleans the cache.<BR>
</b><BR>Aggressive deletion to be conservative given the gradebook design.<BR>
The key is based on the requested params, not easy nor worth to purge selectively.<BR>
<BR>
<b>return:</b> void<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
