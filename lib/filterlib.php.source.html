<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/filterlib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='filterlib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/</a> -> <a href="filterlib.php.html">filterlib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="filterlib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="filterlib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Library functions for managing text filter plugins.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_filter</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">/** The states a filter can be in, stored in the filter_active table. */</span>
<a name="l28"><span class="linenum">  28</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TEXTFILTER_ON')" href="../_constants/TEXTFILTER_ON.html" onMouseOver="constPopup(event,'TEXTFILTER_ON')">TEXTFILTER_ON</a>', 1);
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment">/** The states a filter can be in, stored in the filter_active table. */</span>
<a name="l30"><span class="linenum">  30</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TEXTFILTER_INHERIT')" href="../_constants/TEXTFILTER_INHERIT.html" onMouseOver="constPopup(event,'TEXTFILTER_INHERIT')">TEXTFILTER_INHERIT</a>', 0);
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">/** The states a filter can be in, stored in the filter_active table. */</span>
<a name="l32"><span class="linenum">  32</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TEXTFILTER_OFF')" href="../_constants/TEXTFILTER_OFF.html" onMouseOver="constPopup(event,'TEXTFILTER_OFF')">TEXTFILTER_OFF</a>', -1);
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/** The states a filter can be in, stored in the filter_active table. */</span>
<a name="l34"><span class="linenum">  34</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TEXTFILTER_DISABLED')" href="../_constants/TEXTFILTER_DISABLED.html" onMouseOver="constPopup(event,'TEXTFILTER_DISABLED')">TEXTFILTER_DISABLED</a>', -9999);
<a name="l35"><span class="linenum">  35</span></a>  
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * Define one exclusive separator that we'll use in the temp saved tags</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> *  keys. It must be something rare enough to avoid having matches with</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> *  filterobjects. MDL-18165</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> */</span>
<a name="l41"><span class="linenum">  41</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TEXTFILTER_EXCL_SEPARATOR')" href="../_constants/TEXTFILTER_EXCL_SEPARATOR.html" onMouseOver="constPopup(event,'TEXTFILTER_EXCL_SEPARATOR')">TEXTFILTER_EXCL_SEPARATOR</a>', '-%-');
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">/**</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * Class to manage the filtering of strings. It is intended that this class is</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * only used by weblib.php. Client code should probably be using the</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * format_text and format_string functions.</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> *</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment"> * This class is a singleton.</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment"> *</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment"> * @package    core_filter</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment"> */</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('filter_manager')" href="../_classes/filter_manager.html" onMouseOver="classPopup(event,'filter_manager')">filter_manager</a> {
<a name="l56"><span class="linenum">  56</span></a>      <span class="comment">/**</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     * @var array This list of active filters, by context, for filtering content.</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * An array contextid =&gt; array of filter objects.</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     */</span>
<a name="l60"><span class="linenum">  60</span></a>      protected <a class="var it35637" onMouseOver="hilite(35637)" onMouseOut="lolite()" onClick="logVariable('textfilters')" href="../_variables/textfilters.html">$textfilters</a> = array();
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>      <span class="comment">/**</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * @var array This list of active filters, by context, for filtering strings.</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * An array contextid =&gt; array of filter objects.</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     */</span>
<a name="l66"><span class="linenum">  66</span></a>      protected <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a> = array();
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">    /** @var array Exploded version of $CFG-&gt;stringfilters. */</span>
<a name="l69"><span class="linenum">  69</span></a>      protected <a class="var it35638" onMouseOver="hilite(35638)" onMouseOut="lolite()" onClick="logVariable('stringfilternames')" href="../_variables/stringfilternames.html">$stringfilternames</a> = array();
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">    /** @var object Holds the singleton instance. */</span>
<a name="l72"><span class="linenum">  72</span></a>      protected static <a class="var it1805" onMouseOver="hilite(1805)" onMouseOut="lolite()" onClick="logVariable('singletoninstance')" href="../_variables/singletoninstance.html">$singletoninstance</a>;
<a name="l73"><span class="linenum">  73</span></a>  
<a name="l74"><span class="linenum">  74</span></a>      protected function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>() {
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringfilternames')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringfilternames.html">stringfilternames</a> = <a class="function" onClick="logFunction('filter_get_string_filters')" href="../_functions/filter_get_string_filters.html" onMouseOver="funcPopup(event,'filter_get_string_filters')">filter_get_string_filters</a>();
<a name="l76"><span class="linenum">  76</span></a>      }
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>      <span class="comment">/**</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">     * @return filter_manager the singleton instance.</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">     */</span>
<a name="l81"><span class="linenum">  81</span></a>      public static function <a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>() {
<a name="l82"><span class="linenum">  82</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l83"><span class="linenum">  83</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(self::<a class="var it1805" onMouseOver="hilite(1805)" onMouseOut="lolite()" onClick="logVariable('singletoninstance')" href="../_variables/singletoninstance.html">$singletoninstance</a>)) {
<a name="l84"><span class="linenum">  84</span></a>              if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('perfdebug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/perfdebug.html">perfdebug</a>) and <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('perfdebug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/perfdebug.html">perfdebug</a> &gt; 7) {
<a name="l85"><span class="linenum">  85</span></a>                  self::<a class="var it1805" onMouseOver="hilite(1805)" onMouseOut="lolite()" onClick="logVariable('singletoninstance')" href="../_variables/singletoninstance.html">$singletoninstance</a> = <span class="keyword">new </span><a class="class" onClick="logClass('performance_measuring_filter_manager')" href="../_classes/performance_measuring_filter_manager.html" onMouseOver="classPopup(event,'performance_measuring_filter_manager')">performance_measuring_filter_manager</a>();
<a name="l86"><span class="linenum">  86</span></a>              } else {
<a name="l87"><span class="linenum">  87</span></a>                  self::<a class="var it1805" onMouseOver="hilite(1805)" onMouseOut="lolite()" onClick="logVariable('singletoninstance')" href="../_variables/singletoninstance.html">$singletoninstance</a> = new self();
<a name="l88"><span class="linenum">  88</span></a>              }
<a name="l89"><span class="linenum">  89</span></a>          }
<a name="l90"><span class="linenum">  90</span></a>          return self::<a class="var it1805" onMouseOver="hilite(1805)" onMouseOut="lolite()" onClick="logVariable('singletoninstance')" href="../_variables/singletoninstance.html">$singletoninstance</a>;
<a name="l91"><span class="linenum">  91</span></a>      }
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>      <span class="comment">/**</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     * Resets the caches, usually to be called between unit tests</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     */</span>
<a name="l96"><span class="linenum">  96</span></a>      public static function <a class="function" onClick="logFunction('reset_caches')" href="../_functions/reset_caches.html" onMouseOver="funcPopup(event,'reset_caches')">reset_caches</a>() {
<a name="l97"><span class="linenum">  97</span></a>          if (self::<a class="var it1805" onMouseOver="hilite(1805)" onMouseOut="lolite()" onClick="logVariable('singletoninstance')" href="../_variables/singletoninstance.html">$singletoninstance</a>) {
<a name="l98"><span class="linenum">  98</span></a>              self::<a class="var it1805" onMouseOver="hilite(1805)" onMouseOut="lolite()" onClick="logVariable('singletoninstance')" href="../_variables/singletoninstance.html">$singletoninstance</a>-&gt;<a class="function" onClick="logFunction('unload_all_filters')" href="../_functions/unload_all_filters.html" onMouseOver="funcPopup(event,'unload_all_filters')">unload_all_filters</a>();
<a name="l99"><span class="linenum">  99</span></a>          }
<a name="l100"><span class="linenum"> 100</span></a>          self::<a class="var it1805" onMouseOver="hilite(1805)" onMouseOut="lolite()" onClick="logVariable('singletoninstance')" href="../_variables/singletoninstance.html">$singletoninstance</a> = null;
<a name="l101"><span class="linenum"> 101</span></a>      }
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>      <span class="comment">/**</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">     * Unloads all filters and other cached information</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">     */</span>
<a name="l106"><span class="linenum"> 106</span></a>      protected function <a class="function" onClick="logFunction('unload_all_filters')" href="../_functions/unload_all_filters.html" onMouseOver="funcPopup(event,'unload_all_filters')">unload_all_filters</a>() {
<a name="l107"><span class="linenum"> 107</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('textfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/textfilters.html">textfilters</a> = array();
<a name="l108"><span class="linenum"> 108</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringfilters.html">stringfilters</a> = array();
<a name="l109"><span class="linenum"> 109</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringfilternames')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringfilternames.html">stringfilternames</a> = array();
<a name="l110"><span class="linenum"> 110</span></a>      }
<a name="l111"><span class="linenum"> 111</span></a>  
<a name="l112"><span class="linenum"> 112</span></a>      <span class="comment">/**</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     * Load all the filters required by this context.</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">     *</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     * @param object $context</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">     */</span>
<a name="l117"><span class="linenum"> 117</span></a>      protected function <a class="function" onClick="logFunction('load_filters')" href="../_functions/load_filters.html" onMouseOver="funcPopup(event,'load_filters')">load_filters</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l118"><span class="linenum"> 118</span></a>          <a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> = <a class="function" onClick="logFunction('filter_get_active_in_context')" href="../_functions/filter_get_active_in_context.html" onMouseOver="funcPopup(event,'filter_get_active_in_context')">filter_get_active_in_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l119"><span class="linenum"> 119</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('textfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/textfilters.html">textfilters</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = array();
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringfilters.html">stringfilters</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = array();
<a name="l121"><span class="linenum"> 121</span></a>          foreach (<a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> as <a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a> =&gt; <a class="var it12859" onMouseOver="hilite(12859)" onMouseOut="lolite()" onClick="logVariable('localconfig')" href="../_variables/localconfig.html">$localconfig</a>) {
<a name="l122"><span class="linenum"> 122</span></a>              <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('make_filter_object')" href="../_functions/make_filter_object.html" onMouseOver="funcPopup(event,'make_filter_object')">make_filter_object</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it12859" onMouseOver="hilite(12859)" onMouseOut="lolite()" onClick="logVariable('localconfig')" href="../_variables/localconfig.html">$localconfig</a>);
<a name="l123"><span class="linenum"> 123</span></a>              if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>)) {
<a name="l124"><span class="linenum"> 124</span></a>                  continue;
<a name="l125"><span class="linenum"> 125</span></a>              }
<a name="l126"><span class="linenum"> 126</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('textfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/textfilters.html">textfilters</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>][] = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l127"><span class="linenum"> 127</span></a>              if (<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringfilternames')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringfilternames.html">stringfilternames</a>)) {
<a name="l128"><span class="linenum"> 128</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringfilters.html">stringfilters</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>][] = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l129"><span class="linenum"> 129</span></a>              }
<a name="l130"><span class="linenum"> 130</span></a>          }
<a name="l131"><span class="linenum"> 131</span></a>      }
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>      <span class="comment">/**</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     * Factory method for creating a filter.</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     *</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     * @param string $filtername The filter name, for example 'tex'.</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * @param context $context context object.</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     * @param array $localconfig array of local configuration variables for this filter.</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * @return moodle_text_filter The filter, or null, if this type of filter is</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     *      not recognised or could not be created.</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">     */</span>
<a name="l142"><span class="linenum"> 142</span></a>      protected function <a class="function" onClick="logFunction('make_filter_object')" href="../_functions/make_filter_object.html" onMouseOver="funcPopup(event,'make_filter_object')">make_filter_object</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it12859" onMouseOver="hilite(12859)" onMouseOut="lolite()" onClick="logVariable('localconfig')" href="../_variables/localconfig.html">$localconfig</a>) {
<a name="l143"><span class="linenum"> 143</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l144"><span class="linenum"> 144</span></a>          <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> .'/filter/'. <a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a> .'/filter.php';
<a name="l145"><span class="linenum"> 145</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>)) {
<a name="l146"><span class="linenum"> 146</span></a>              return null;
<a name="l147"><span class="linenum"> 147</span></a>          }
<a name="l148"><span class="linenum"> 148</span></a>          include_once(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>);
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>          <a class="var it35640" onMouseOver="hilite(35640)" onMouseOut="lolite()" onClick="logVariable('filterclassname')" href="../_variables/filterclassname.html">$filterclassname</a> = 'filter_' . <a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>;
<a name="l151"><span class="linenum"> 151</span></a>          if (<a class="phpfunction" onClick="logFunction('class_exists')" href="../_functions/class_exists.html" onMouseOver="phpfuncPopup(event,'class_exists')">class_exists</a>(<a class="var it35640" onMouseOver="hilite(35640)" onMouseOut="lolite()" onClick="logVariable('filterclassname')" href="../_variables/filterclassname.html">$filterclassname</a>)) {
<a name="l152"><span class="linenum"> 152</span></a>              return new <a class="var it35640" onMouseOver="hilite(35640)" onMouseOut="lolite()" onClick="logVariable('filterclassname')" href="../_variables/filterclassname.html">$filterclassname</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it12859" onMouseOver="hilite(12859)" onMouseOut="lolite()" onClick="logVariable('localconfig')" href="../_variables/localconfig.html">$localconfig</a>);
<a name="l153"><span class="linenum"> 153</span></a>          }
<a name="l154"><span class="linenum"> 154</span></a>  
<a name="l155"><span class="linenum"> 155</span></a>          return null;
<a name="l156"><span class="linenum"> 156</span></a>      }
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>      <span class="comment">/**</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     * @todo Document this function</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * @param string $text</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     * @param array $filterchain</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     * @param array $options options passed to the filters</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">     * @return string $text</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">     */</span>
<a name="l165"><span class="linenum"> 165</span></a>      protected function <a class="function" onClick="logFunction('apply_filter_chain')" href="../_functions/apply_filter_chain.html" onMouseOver="funcPopup(event,'apply_filter_chain')">apply_filter_chain</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it35641" onMouseOver="hilite(35641)" onMouseOut="lolite()" onClick="logVariable('filterchain')" href="../_variables/filterchain.html">$filterchain</a>, array <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array()) {
<a name="l166"><span class="linenum"> 166</span></a>          foreach (<a class="var it35641" onMouseOver="hilite(35641)" onMouseOut="lolite()" onClick="logVariable('filterchain')" href="../_variables/filterchain.html">$filterchain</a> as <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>) {
<a name="l167"><span class="linenum"> 167</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a class="function" onClick="logFunction('filter')" href="../_functions/filter.html" onMouseOver="funcPopup(event,'filter')">filter</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l168"><span class="linenum"> 168</span></a>          }
<a name="l169"><span class="linenum"> 169</span></a>          return <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>;
<a name="l170"><span class="linenum"> 170</span></a>      }
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>      <span class="comment">/**</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     * @todo Document this function</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     * @param object $context</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     * @return object A text filter</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     */</span>
<a name="l177"><span class="linenum"> 177</span></a>      protected function <a class="function" onClick="logFunction('get_text_filters')" href="../_functions/get_text_filters.html" onMouseOver="funcPopup(event,'get_text_filters')">get_text_filters</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l178"><span class="linenum"> 178</span></a>          if (!isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('textfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/textfilters.html">textfilters</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>])) {
<a name="l179"><span class="linenum"> 179</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('load_filters')" href="../_functions/load_filters.html" onMouseOver="funcPopup(event,'load_filters')">load_filters</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l180"><span class="linenum"> 180</span></a>          }
<a name="l181"><span class="linenum"> 181</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('textfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/textfilters.html">textfilters</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>];
<a name="l182"><span class="linenum"> 182</span></a>      }
<a name="l183"><span class="linenum"> 183</span></a>  
<a name="l184"><span class="linenum"> 184</span></a>      <span class="comment">/**</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">     * @todo Document this function</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">     * @param object $context</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">     * @return object A string filter</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">     */</span>
<a name="l189"><span class="linenum"> 189</span></a>      protected function <a class="function" onClick="logFunction('get_string_filters')" href="../_functions/get_string_filters.html" onMouseOver="funcPopup(event,'get_string_filters')">get_string_filters</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l190"><span class="linenum"> 190</span></a>          if (!isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringfilters.html">stringfilters</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>])) {
<a name="l191"><span class="linenum"> 191</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('load_filters')" href="../_functions/load_filters.html" onMouseOver="funcPopup(event,'load_filters')">load_filters</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l192"><span class="linenum"> 192</span></a>          }
<a name="l193"><span class="linenum"> 193</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringfilters.html">stringfilters</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>];
<a name="l194"><span class="linenum"> 194</span></a>      }
<a name="l195"><span class="linenum"> 195</span></a>  
<a name="l196"><span class="linenum"> 196</span></a>      <span class="comment">/**</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * Filter some text</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     *</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     * @param string $text The text to filter</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">     * @param object $context</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">     * @param array $options options passed to the filters</span>
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">     * @return string resulting text</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">     */</span>
<a name="l204"><span class="linenum"> 204</span></a>      public function <a class="function" onClick="logFunction('filter_text')" href="../_functions/filter_text.html" onMouseOver="funcPopup(event,'filter_text')">filter_text</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, array <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array()) {
<a name="l205"><span class="linenum"> 205</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('apply_filter_chain')" href="../_functions/apply_filter_chain.html" onMouseOver="funcPopup(event,'apply_filter_chain')">apply_filter_chain</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_text_filters')" href="../_functions/get_text_filters.html" onMouseOver="funcPopup(event,'get_text_filters')">get_text_filters</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>), <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">        // &lt;nolink&gt; tags removed for XHTML compatibility</span>
<a name="l207"><span class="linenum"> 207</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(array('&lt;nolink&gt;', '&lt;/nolink&gt;'), '', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l208"><span class="linenum"> 208</span></a>          return <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>;
<a name="l209"><span class="linenum"> 209</span></a>      }
<a name="l210"><span class="linenum"> 210</span></a>  
<a name="l211"><span class="linenum"> 211</span></a>      <span class="comment">/**</span>
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment">     * Filter a piece of string</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">     *</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">     * @param string $string The text to filter</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">     * @param context $context</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment">     * @return string resulting string</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">     */</span>
<a name="l218"><span class="linenum"> 218</span></a>      public function <a class="function" onClick="logFunction('filter_string')" href="../_functions/filter_string.html" onMouseOver="funcPopup(event,'filter_string')">filter_string</a>(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l219"><span class="linenum"> 219</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('apply_filter_chain')" href="../_functions/apply_filter_chain.html" onMouseOver="funcPopup(event,'apply_filter_chain')">apply_filter_chain</a>(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_string_filters')" href="../_functions/get_string_filters.html" onMouseOver="funcPopup(event,'get_string_filters')">get_string_filters</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>));
<a name="l220"><span class="linenum"> 220</span></a>      }
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>      <span class="comment">/**</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     * @todo Document this function</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     * @param context $context</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * @return object A string filter</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     */</span>
<a name="l227"><span class="linenum"> 227</span></a>      public function <a class="function" onClick="logFunction('text_filtering_hash')" href="../_functions/text_filtering_hash.html" onMouseOver="funcPopup(event,'text_filtering_hash')">text_filtering_hash</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l228"><span class="linenum"> 228</span></a>          <a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_text_filters')" href="../_functions/get_text_filters.html" onMouseOver="funcPopup(event,'get_text_filters')">get_text_filters</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l229"><span class="linenum"> 229</span></a>          <a class="var it7963" onMouseOver="hilite(7963)" onMouseOut="lolite()" onClick="logVariable('hashes')" href="../_variables/hashes.html">$hashes</a> = array();
<a name="l230"><span class="linenum"> 230</span></a>          foreach (<a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> as <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>) {
<a name="l231"><span class="linenum"> 231</span></a>              <a class="var it7963" onMouseOver="hilite(7963)" onMouseOut="lolite()" onClick="logVariable('hashes')" href="../_variables/hashes.html">$hashes</a>[] = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a class="function" onClick="logFunction('hash')" href="../_functions/hash.html" onMouseOver="funcPopup(event,'hash')">hash</a>();
<a name="l232"><span class="linenum"> 232</span></a>          }
<a name="l233"><span class="linenum"> 233</span></a>          return <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('-', <a class="var it7963" onMouseOver="hilite(7963)" onMouseOut="lolite()" onClick="logVariable('hashes')" href="../_variables/hashes.html">$hashes</a>);
<a name="l234"><span class="linenum"> 234</span></a>      }
<a name="l235"><span class="linenum"> 235</span></a>  
<a name="l236"><span class="linenum"> 236</span></a>      <span class="comment">/**</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">     * Setup page with filters requirements and other prepare stuff.</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     *</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * This method is used by {@see format_text()} and {@see format_string()}</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * in order to allow filters to setup any page requirement (js, css...)</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * or perform any action needed to get them prepared before filtering itself</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     * happens by calling to each every active setup() method.</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     *</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     * Note it's executed for each piece of text filtered, so filter implementations</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     * are responsible of controlling the cardinality of the executions that may</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     * be different depending of the stuff to prepare.</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     *</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * @param moodle_page $page the page we are going to add requirements to.</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * @param context $context the context which contents are going to be filtered.</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * @since Moodle 2.3</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     */</span>
<a name="l252"><span class="linenum"> 252</span></a>      public function <a class="function" onClick="logFunction('setup_page_for_filters')" href="../_functions/setup_page_for_filters.html" onMouseOver="funcPopup(event,'setup_page_for_filters')">setup_page_for_filters</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l253"><span class="linenum"> 253</span></a>          <a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_text_filters')" href="../_functions/get_text_filters.html" onMouseOver="funcPopup(event,'get_text_filters')">get_text_filters</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l254"><span class="linenum"> 254</span></a>          foreach (<a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> as <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>) {
<a name="l255"><span class="linenum"> 255</span></a>              <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a class="function" onClick="logFunction('setup')" href="../_functions/setup.html" onMouseOver="funcPopup(event,'setup')">setup</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l256"><span class="linenum"> 256</span></a>          }
<a name="l257"><span class="linenum"> 257</span></a>      }
<a name="l258"><span class="linenum"> 258</span></a>  }
<a name="l259"><span class="linenum"> 259</span></a>  
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">/**</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment"> * Filter manager subclass that does nothing. Having this simplifies the logic</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment"> * of format_text, etc.</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment"> *</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment"> * @todo Document this class</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment"> *</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment"> * @package    core_filter</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment"> */</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('null_filter_manager')" href="../_classes/null_filter_manager.html" onMouseOver="classPopup(event,'null_filter_manager')">null_filter_manager</a> {
<a name="l271"><span class="linenum"> 271</span></a>      <span class="comment">/**</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">     * @return string</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">     */</span>
<a name="l274"><span class="linenum"> 274</span></a>      public function <a class="function" onClick="logFunction('filter_text')" href="../_functions/filter_text.html" onMouseOver="funcPopup(event,'filter_text')">filter_text</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>) {
<a name="l275"><span class="linenum"> 275</span></a>          return <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>;
<a name="l276"><span class="linenum"> 276</span></a>      }
<a name="l277"><span class="linenum"> 277</span></a>  
<a name="l278"><span class="linenum"> 278</span></a>      <span class="comment">/**</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">     * @return string</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">     */</span>
<a name="l281"><span class="linenum"> 281</span></a>      public function <a class="function" onClick="logFunction('filter_string')" href="../_functions/filter_string.html" onMouseOver="funcPopup(event,'filter_string')">filter_string</a>(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l282"><span class="linenum"> 282</span></a>          return <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>;
<a name="l283"><span class="linenum"> 283</span></a>      }
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>      <span class="comment">/**</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     * @return string</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     */</span>
<a name="l288"><span class="linenum"> 288</span></a>      public function <a class="function" onClick="logFunction('text_filtering_hash')" href="../_functions/text_filtering_hash.html" onMouseOver="funcPopup(event,'text_filtering_hash')">text_filtering_hash</a>() {
<a name="l289"><span class="linenum"> 289</span></a>          return '';
<a name="l290"><span class="linenum"> 290</span></a>      }
<a name="l291"><span class="linenum"> 291</span></a>  }
<a name="l292"><span class="linenum"> 292</span></a>  
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">/**</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment"> * Filter manager subclass that tacks how much work it does.</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment"> *</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment"> * @todo Document this class</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment"> *</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment"> * @package    core_filter</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment"> */</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('performance_measuring_filter_manager')" href="../_classes/performance_measuring_filter_manager.html" onMouseOver="classPopup(event,'performance_measuring_filter_manager')">performance_measuring_filter_manager</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('filter_manager')" href="../_classes/filter_manager.html" onMouseOver="classPopup(event,'filter_manager')">filter_manager</a> {
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">    /** @var int */</span>
<a name="l304"><span class="linenum"> 304</span></a>      protected <a class="var it35642" onMouseOver="hilite(35642)" onMouseOut="lolite()" onClick="logVariable('filterscreated')" href="../_variables/filterscreated.html">$filterscreated</a> = 0;
<a name="l305"><span class="linenum"> 305</span></a>      protected <a class="var it35643" onMouseOver="hilite(35643)" onMouseOut="lolite()" onClick="logVariable('textsfiltered')" href="../_variables/textsfiltered.html">$textsfiltered</a> = 0;
<a name="l306"><span class="linenum"> 306</span></a>      protected <a class="var it35644" onMouseOver="hilite(35644)" onMouseOut="lolite()" onClick="logVariable('stringsfiltered')" href="../_variables/stringsfiltered.html">$stringsfiltered</a> = 0;
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>      <span class="comment">/**</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     * Unloads all filters and other cached information</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     */</span>
<a name="l311"><span class="linenum"> 311</span></a>      protected function <a class="function" onClick="logFunction('unload_all_filters')" href="../_functions/unload_all_filters.html" onMouseOver="funcPopup(event,'unload_all_filters')">unload_all_filters</a>() {
<a name="l312"><span class="linenum"> 312</span></a>          parent::<a class="function" onClick="logFunction('unload_all_filters')" href="../_functions/unload_all_filters.html" onMouseOver="funcPopup(event,'unload_all_filters')">unload_all_filters</a>();
<a name="l313"><span class="linenum"> 313</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filterscreated')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/filterscreated.html">filterscreated</a> = 0;
<a name="l314"><span class="linenum"> 314</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('textsfiltered')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/textsfiltered.html">textsfiltered</a> = 0;
<a name="l315"><span class="linenum"> 315</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringsfiltered')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringsfiltered.html">stringsfiltered</a> = 0;
<a name="l316"><span class="linenum"> 316</span></a>      }
<a name="l317"><span class="linenum"> 317</span></a>  
<a name="l318"><span class="linenum"> 318</span></a>      <span class="comment">/**</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     * @param string $filtername</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">     * @param object $context</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment">     * @param mixed $localconfig</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">     * @return mixed</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">     */</span>
<a name="l324"><span class="linenum"> 324</span></a>      protected function <a class="function" onClick="logFunction('make_filter_object')" href="../_functions/make_filter_object.html" onMouseOver="funcPopup(event,'make_filter_object')">make_filter_object</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it12859" onMouseOver="hilite(12859)" onMouseOut="lolite()" onClick="logVariable('localconfig')" href="../_variables/localconfig.html">$localconfig</a>) {
<a name="l325"><span class="linenum"> 325</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filterscreated')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/filterscreated.html">filterscreated</a>++;
<a name="l326"><span class="linenum"> 326</span></a>          return parent::<a class="function" onClick="logFunction('make_filter_object')" href="../_functions/make_filter_object.html" onMouseOver="funcPopup(event,'make_filter_object')">make_filter_object</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it12859" onMouseOver="hilite(12859)" onMouseOut="lolite()" onClick="logVariable('localconfig')" href="../_variables/localconfig.html">$localconfig</a>);
<a name="l327"><span class="linenum"> 327</span></a>      }
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>      <span class="comment">/**</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">     * @param string $text</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">     * @param object $context</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">     * @param array $options options passed to the filters</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">     * @return mixed</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">     */</span>
<a name="l335"><span class="linenum"> 335</span></a>      public function <a class="function" onClick="logFunction('filter_text')" href="../_functions/filter_text.html" onMouseOver="funcPopup(event,'filter_text')">filter_text</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, array <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array()) {
<a name="l336"><span class="linenum"> 336</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('textsfiltered')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/textsfiltered.html">textsfiltered</a>++;
<a name="l337"><span class="linenum"> 337</span></a>          return parent::<a class="function" onClick="logFunction('filter_text')" href="../_functions/filter_text.html" onMouseOver="funcPopup(event,'filter_text')">filter_text</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l338"><span class="linenum"> 338</span></a>      }
<a name="l339"><span class="linenum"> 339</span></a>  
<a name="l340"><span class="linenum"> 340</span></a>      <span class="comment">/**</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">     * @param string $string</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     * @param object $context</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">     * @return mixed</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">     */</span>
<a name="l345"><span class="linenum"> 345</span></a>      public function <a class="function" onClick="logFunction('filter_string')" href="../_functions/filter_string.html" onMouseOver="funcPopup(event,'filter_string')">filter_string</a>(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l346"><span class="linenum"> 346</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringsfiltered')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringsfiltered.html">stringsfiltered</a>++;
<a name="l347"><span class="linenum"> 347</span></a>          return parent::<a class="function" onClick="logFunction('filter_string')" href="../_functions/filter_string.html" onMouseOver="funcPopup(event,'filter_string')">filter_string</a>(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l348"><span class="linenum"> 348</span></a>      }
<a name="l349"><span class="linenum"> 349</span></a>  
<a name="l350"><span class="linenum"> 350</span></a>      <span class="comment">/**</span>
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">     * @return array</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">     */</span>
<a name="l353"><span class="linenum"> 353</span></a>      public function <a class="function" onClick="logFunction('get_performance_summary')" href="../_functions/get_performance_summary.html" onMouseOver="funcPopup(event,'get_performance_summary')">get_performance_summary</a>() {
<a name="l354"><span class="linenum"> 354</span></a>          return array(array(
<a name="l355"><span class="linenum"> 355</span></a>              'contextswithfilters' =&gt; <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('textfilters')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/textfilters.html">textfilters</a>),
<a name="l356"><span class="linenum"> 356</span></a>              'filterscreated' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filterscreated')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/filterscreated.html">filterscreated</a>,
<a name="l357"><span class="linenum"> 357</span></a>              'textsfiltered' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('textsfiltered')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/textsfiltered.html">textsfiltered</a>,
<a name="l358"><span class="linenum"> 358</span></a>              'stringsfiltered' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stringsfiltered')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/stringsfiltered.html">stringsfiltered</a>,
<a name="l359"><span class="linenum"> 359</span></a>          ), array(
<a name="l360"><span class="linenum"> 360</span></a>              'contextswithfilters' =&gt; 'Contexts for which filters were loaded',
<a name="l361"><span class="linenum"> 361</span></a>              'filterscreated' =&gt; 'Filters created',
<a name="l362"><span class="linenum"> 362</span></a>              'textsfiltered' =&gt; 'Pieces of content filtered',
<a name="l363"><span class="linenum"> 363</span></a>              'stringsfiltered' =&gt; 'Strings filtered',
<a name="l364"><span class="linenum"> 364</span></a>          ));
<a name="l365"><span class="linenum"> 365</span></a>      }
<a name="l366"><span class="linenum"> 366</span></a>  }
<a name="l367"><span class="linenum"> 367</span></a>  
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">/**</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment"> * Base class for text filters. You just need to override this class and</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment"> * implement the filter method.</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment"> *</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment"> * @package    core_filter</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment"> */</span>
<a name="l376"><span class="linenum"> 376</span></a>  abstract class moodle_text_filter {
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">    /** @var object The context we are in. */</span>
<a name="l378"><span class="linenum"> 378</span></a>      protected <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>;
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">    /** @var array Any local configuration for this filter in this context. */</span>
<a name="l380"><span class="linenum"> 380</span></a>      protected <a class="var it12859" onMouseOver="hilite(12859)" onMouseOut="lolite()" onClick="logVariable('localconfig')" href="../_variables/localconfig.html">$localconfig</a>;
<a name="l381"><span class="linenum"> 381</span></a>  
<a name="l382"><span class="linenum"> 382</span></a>      <span class="comment">/**</span>
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment">     * Set any context-specific configuration for this filter.</span>
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment">     *</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">     * @param context $context The current context.</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     * @param array $localconfig Any context-specific configuration for this filter.</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     */</span>
<a name="l388"><span class="linenum"> 388</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, array <a class="var it12859" onMouseOver="hilite(12859)" onMouseOut="lolite()" onClick="logVariable('localconfig')" href="../_variables/localconfig.html">$localconfig</a>) {
<a name="l389"><span class="linenum"> 389</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a> = <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>;
<a name="l390"><span class="linenum"> 390</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('localconfig')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/localconfig.html">localconfig</a> = <a class="var it12859" onMouseOver="hilite(12859)" onMouseOut="lolite()" onClick="logVariable('localconfig')" href="../_variables/localconfig.html">$localconfig</a>;
<a name="l391"><span class="linenum"> 391</span></a>      }
<a name="l392"><span class="linenum"> 392</span></a>  
<a name="l393"><span class="linenum"> 393</span></a>      <span class="comment">/**</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">     * @return string The class name of the current class</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">     */</span>
<a name="l396"><span class="linenum"> 396</span></a>      public function <a class="function" onClick="logFunction('hash')" href="../_functions/hash.html" onMouseOver="funcPopup(event,'hash')">hash</a>() {
<a name="l397"><span class="linenum"> 397</span></a>          return __CLASS__;
<a name="l398"><span class="linenum"> 398</span></a>      }
<a name="l399"><span class="linenum"> 399</span></a>  
<a name="l400"><span class="linenum"> 400</span></a>      <span class="comment">/**</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * Setup page with filter requirements and other prepare stuff.</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     *</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     * Override this method if the filter needs to setup page</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     * requirements or needs other stuff to be executed.</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     *</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">     * Note this method is invoked from {@see setup_page_for_filters()}</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">     * for each piece of text being filtered, so it is responsible</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">     * for controlling its own execution cardinality.</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">     *</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">     * @param moodle_page $page the page we are going to add requirements to.</span>
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">     * @param context $context the context which contents are going to be filtered.</span>
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">     * @since Moodle 2.3</span>
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">     */</span>
<a name="l414"><span class="linenum"> 414</span></a>      public function <a class="function" onClick="logFunction('setup')" href="../_functions/setup.html" onMouseOver="funcPopup(event,'setup')">setup</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">        // Override me, if needed.</span>
<a name="l416"><span class="linenum"> 416</span></a>      }
<a name="l417"><span class="linenum"> 417</span></a>  
<a name="l418"><span class="linenum"> 418</span></a>      <span class="comment">/**</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">     * Override this function to actually implement the filtering.</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">     *</span>
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">     * @param $text some HTML content.</span>
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">     * @param array $options options passed to the filters</span>
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">     * @return the HTML content after the filtering has been applied.</span>
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment">     */</span>
<a name="l425"><span class="linenum"> 425</span></a>      public abstract function <a class="function" onClick="logFunction('filter')" href="../_functions/filter.html" onMouseOver="funcPopup(event,'filter')">filter</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, array <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array());
<a name="l426"><span class="linenum"> 426</span></a>  }
<a name="l427"><span class="linenum"> 427</span></a>  
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">/**</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment"> * This is just a little object to define a phrase and some instructions</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment"> * for how to process it.  Filters can create an array of these to pass</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment"> * to the filter_phrases function below.</span>
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment"> *</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment"> * @package    core</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment"> * @subpackage filter</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment"> **/</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('filterobject')" href="../_classes/filterobject.html" onMouseOver="classPopup(event,'filterobject')">filterobject</a> {
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment">    /** @var string */</span>
<a name="l440"><span class="linenum"> 440</span></a>      var <a class="var it15366" onMouseOver="hilite(15366)" onMouseOut="lolite()" onClick="logVariable('phrase')" href="../_variables/phrase.html">$phrase</a>;
<a name="l441"><span class="linenum"> 441</span></a>      var <a class="var it35645" onMouseOver="hilite(35645)" onMouseOut="lolite()" onClick="logVariable('hreftagbegin')" href="../_variables/hreftagbegin.html">$hreftagbegin</a>;
<a name="l442"><span class="linenum"> 442</span></a>      var <a class="var it35646" onMouseOver="hilite(35646)" onMouseOut="lolite()" onClick="logVariable('hreftagend')" href="../_variables/hreftagend.html">$hreftagend</a>;
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment">    /** @var bool */</span>
<a name="l444"><span class="linenum"> 444</span></a>      var <a class="var it12591" onMouseOver="hilite(12591)" onMouseOut="lolite()" onClick="logVariable('casesensitive')" href="../_variables/casesensitive.html">$casesensitive</a>;
<a name="l445"><span class="linenum"> 445</span></a>      var <a class="var it19345" onMouseOver="hilite(19345)" onMouseOut="lolite()" onClick="logVariable('fullmatch')" href="../_variables/fullmatch.html">$fullmatch</a>;
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">    /** @var mixed */</span>
<a name="l447"><span class="linenum"> 447</span></a>      var <a class="var it35647" onMouseOver="hilite(35647)" onMouseOut="lolite()" onClick="logVariable('replacementphrase')" href="../_variables/replacementphrase.html">$replacementphrase</a>;
<a name="l448"><span class="linenum"> 448</span></a>      var <a class="var it35648" onMouseOver="hilite(35648)" onMouseOut="lolite()" onClick="logVariable('work_phrase')" href="../_variables/work_phrase.html">$work_phrase</a>;
<a name="l449"><span class="linenum"> 449</span></a>      var <a class="var it35649" onMouseOver="hilite(35649)" onMouseOut="lolite()" onClick="logVariable('work_hreftagbegin')" href="../_variables/work_hreftagbegin.html">$work_hreftagbegin</a>;
<a name="l450"><span class="linenum"> 450</span></a>      var <a class="var it35650" onMouseOver="hilite(35650)" onMouseOut="lolite()" onClick="logVariable('work_hreftagend')" href="../_variables/work_hreftagend.html">$work_hreftagend</a>;
<a name="l451"><span class="linenum"> 451</span></a>      var <a class="var it35651" onMouseOver="hilite(35651)" onMouseOut="lolite()" onClick="logVariable('work_casesensitive')" href="../_variables/work_casesensitive.html">$work_casesensitive</a>;
<a name="l452"><span class="linenum"> 452</span></a>      var <a class="var it35652" onMouseOver="hilite(35652)" onMouseOut="lolite()" onClick="logVariable('work_fullmatch')" href="../_variables/work_fullmatch.html">$work_fullmatch</a>;
<a name="l453"><span class="linenum"> 453</span></a>      var <a class="var it35653" onMouseOver="hilite(35653)" onMouseOut="lolite()" onClick="logVariable('work_replacementphrase')" href="../_variables/work_replacementphrase.html">$work_replacementphrase</a>;
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment">    /** @var bool */</span>
<a name="l455"><span class="linenum"> 455</span></a>      var <a class="var it35654" onMouseOver="hilite(35654)" onMouseOut="lolite()" onClick="logVariable('work_calculated')" href="../_variables/work_calculated.html">$work_calculated</a>;
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>      <span class="comment">/**</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">     * A constructor just because I like constructing</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">     *</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">     * @param string $phrase</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">     * @param string $hreftagbegin</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">     * @param string $hreftagend</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">     * @param bool $casesensitive</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment">     * @param bool $fullmatch</span>
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment">     * @param mixed $replacementphrase</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">     */</span>
<a name="l467"><span class="linenum"> 467</span></a>      function <a class="function" onClick="logFunction('filterobject')" href="../_functions/filterobject.html" onMouseOver="funcPopup(event,'filterobject')">filterobject</a>(<a class="var it15366" onMouseOver="hilite(15366)" onMouseOut="lolite()" onClick="logVariable('phrase')" href="../_variables/phrase.html">$phrase</a>, <a class="var it35645" onMouseOver="hilite(35645)" onMouseOut="lolite()" onClick="logVariable('hreftagbegin')" href="../_variables/hreftagbegin.html">$hreftagbegin</a> = '&lt;span class=&quot;highlight&quot;&gt;',
<a name="l468"><span class="linenum"> 468</span></a>                                     <a class="var it35646" onMouseOver="hilite(35646)" onMouseOut="lolite()" onClick="logVariable('hreftagend')" href="../_variables/hreftagend.html">$hreftagend</a> = '&lt;/span&gt;',
<a name="l469"><span class="linenum"> 469</span></a>                                     <a class="var it12591" onMouseOver="hilite(12591)" onMouseOut="lolite()" onClick="logVariable('casesensitive')" href="../_variables/casesensitive.html">$casesensitive</a> = false,
<a name="l470"><span class="linenum"> 470</span></a>                                     <a class="var it19345" onMouseOver="hilite(19345)" onMouseOut="lolite()" onClick="logVariable('fullmatch')" href="../_variables/fullmatch.html">$fullmatch</a> = false,
<a name="l471"><span class="linenum"> 471</span></a>                                     <a class="var it35647" onMouseOver="hilite(35647)" onMouseOut="lolite()" onClick="logVariable('replacementphrase')" href="../_variables/replacementphrase.html">$replacementphrase</a> = NULL) {
<a name="l472"><span class="linenum"> 472</span></a>  
<a name="l473"><span class="linenum"> 473</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('phrase')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/phrase.html">phrase</a>           = <a class="var it15366" onMouseOver="hilite(15366)" onMouseOut="lolite()" onClick="logVariable('phrase')" href="../_variables/phrase.html">$phrase</a>;
<a name="l474"><span class="linenum"> 474</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('hreftagbegin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/hreftagbegin.html">hreftagbegin</a>     = <a class="var it35645" onMouseOver="hilite(35645)" onMouseOut="lolite()" onClick="logVariable('hreftagbegin')" href="../_variables/hreftagbegin.html">$hreftagbegin</a>;
<a name="l475"><span class="linenum"> 475</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('hreftagend')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/hreftagend.html">hreftagend</a>       = <a class="var it35646" onMouseOver="hilite(35646)" onMouseOut="lolite()" onClick="logVariable('hreftagend')" href="../_variables/hreftagend.html">$hreftagend</a>;
<a name="l476"><span class="linenum"> 476</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('casesensitive')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/casesensitive.html">casesensitive</a>    = <a class="var it12591" onMouseOver="hilite(12591)" onMouseOut="lolite()" onClick="logVariable('casesensitive')" href="../_variables/casesensitive.html">$casesensitive</a>;
<a name="l477"><span class="linenum"> 477</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('fullmatch')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/fullmatch.html">fullmatch</a>        = <a class="var it19345" onMouseOver="hilite(19345)" onMouseOut="lolite()" onClick="logVariable('fullmatch')" href="../_variables/fullmatch.html">$fullmatch</a>;
<a name="l478"><span class="linenum"> 478</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('replacementphrase')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/replacementphrase.html">replacementphrase</a>= <a class="var it35647" onMouseOver="hilite(35647)" onMouseOut="lolite()" onClick="logVariable('replacementphrase')" href="../_variables/replacementphrase.html">$replacementphrase</a>;
<a name="l479"><span class="linenum"> 479</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('work_calculated')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/work_calculated.html">work_calculated</a>  = false;
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>      }
<a name="l482"><span class="linenum"> 482</span></a>  }
<a name="l483"><span class="linenum"> 483</span></a>  
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">/**</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment"> * Look up the name of this filter</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment"> *</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment"> * @param string $filter the filter name</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment"> * @return string the human-readable name for this filter.</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment"> */</span>
<a name="l490"><span class="linenum"> 490</span></a>  function <a class="function" onClick="logFunction('filter_get_name')" href="../_functions/filter_get_name.html" onMouseOver="funcPopup(event,'filter_get_name')">filter_get_name</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>) {
<a name="l491"><span class="linenum"> 491</span></a>      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, 'filter/') === 0) {
<a name="l492"><span class="linenum"> 492</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Old '<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>'' parameter used in <a class="function" onClick="logFunction('filter_get_name')" href="../_functions/filter_get_name.html" onMouseOver="funcPopup(event,'filter_get_name')">filter_get_name</a>()&quot;);
<a name="l493"><span class="linenum"> 493</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, 7);
<a name="l494"><span class="linenum"> 494</span></a>      } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, '/') !== false) {
<a name="l495"><span class="linenum"> 495</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Unknown filter type ' . <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>);
<a name="l496"><span class="linenum"> 496</span></a>      }
<a name="l497"><span class="linenum"> 497</span></a>  
<a name="l498"><span class="linenum"> 498</span></a>      if (<a class="function" onClick="logFunction('get_string_manager')" href="../_functions/get_string_manager.html" onMouseOver="funcPopup(event,'get_string_manager')">get_string_manager</a>()-&gt;<a class="function" onClick="logFunction('string_exists')" href="../_functions/string_exists.html" onMouseOver="funcPopup(event,'string_exists')">string_exists</a>('filtername', 'filter_' . <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>)) {
<a name="l499"><span class="linenum"> 499</span></a>          return <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('filtername', 'filter_' . <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>);
<a name="l500"><span class="linenum"> 500</span></a>      } else {
<a name="l501"><span class="linenum"> 501</span></a>          return <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l502"><span class="linenum"> 502</span></a>      }
<a name="l503"><span class="linenum"> 503</span></a>  }
<a name="l504"><span class="linenum"> 504</span></a>  
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">/**</span>
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment"> * Get the names of all the filters installed in this Moodle.</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment"> *</span>
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment"> * @return array path =&gt; filter name from the appropriate lang file. e.g.</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment"> * array('tex' =&gt; 'TeX Notation');</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment"> * sorted in alphabetical order of name.</span>
<a name="l511"><span class="linenum"> 511</span></a>  <span class="comment"> */</span>
<a name="l512"><span class="linenum"> 512</span></a>  function <a class="function" onClick="logFunction('filter_get_all_installed')" href="../_functions/filter_get_all_installed.html" onMouseOver="funcPopup(event,'filter_get_all_installed')">filter_get_all_installed</a>() {
<a name="l513"><span class="linenum"> 513</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l514"><span class="linenum"> 514</span></a>  
<a name="l515"><span class="linenum"> 515</span></a>      <a class="var it34966" onMouseOver="hilite(34966)" onMouseOut="lolite()" onClick="logVariable('filternames')" href="../_variables/filternames.html">$filternames</a> = array();
<a name="l516"><span class="linenum"> 516</span></a>      foreach (<a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('filter') as <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a> =&gt; <a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('fulldir')" href="../_variables/fulldir.html">$fulldir</a>) {
<a name="l517"><span class="linenum"> 517</span></a>          if (<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(&quot;<a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('fulldir')" href="../_variables/fulldir.html">$fulldir</a>/filter.php&quot;)) {
<a name="l518"><span class="linenum"> 518</span></a>              <a class="var it34966" onMouseOver="hilite(34966)" onMouseOut="lolite()" onClick="logVariable('filternames')" href="../_variables/filternames.html">$filternames</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>] = <a class="function" onClick="logFunction('filter_get_name')" href="../_functions/filter_get_name.html" onMouseOver="funcPopup(event,'filter_get_name')">filter_get_name</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>);
<a name="l519"><span class="linenum"> 519</span></a>          }
<a name="l520"><span class="linenum"> 520</span></a>      }
<a name="l521"><span class="linenum"> 521</span></a>      <a class="class" onClick="logClass('core_collator')" href="../_classes/core_collator.html" onMouseOver="classPopup(event,'core_collator')">core_collator</a>::<a class="phpfunction" onClick="logFunction('asort')" href="../_functions/asort.html" onMouseOver="phpfuncPopup(event,'asort')">asort</a>(<a class="var it34966" onMouseOver="hilite(34966)" onMouseOut="lolite()" onClick="logVariable('filternames')" href="../_variables/filternames.html">$filternames</a>);
<a name="l522"><span class="linenum"> 522</span></a>      return <a class="var it34966" onMouseOver="hilite(34966)" onMouseOut="lolite()" onClick="logVariable('filternames')" href="../_variables/filternames.html">$filternames</a>;
<a name="l523"><span class="linenum"> 523</span></a>  }
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>  <span class="comment">/**</span>
<a name="l526"><span class="linenum"> 526</span></a>  <span class="comment"> * Set the global activated state for a text filter.</span>
<a name="l527"><span class="linenum"> 527</span></a>  <span class="comment"> *</span>
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment"> * @param string $filtername The filter name, for example 'tex'.</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment"> * @param int $state One of the values TEXTFILTER_ON, TEXTFILTER_OFF or TEXTFILTER_DISABLED.</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment"> * @param int $move -1 means up, 0 means the same, 1 means down</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment"> */</span>
<a name="l532"><span class="linenum"> 532</span></a>  function <a class="function" onClick="logFunction('filter_set_global_state')" href="../_functions/filter_set_global_state.html" onMouseOver="funcPopup(event,'filter_set_global_state')">filter_set_global_state</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>, <a class="var it8034" onMouseOver="hilite(8034)" onMouseOut="lolite()" onClick="logVariable('move')" href="../_variables/move.html">$move</a> = 0) {
<a name="l533"><span class="linenum"> 533</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l534"><span class="linenum"> 534</span></a>  
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">    // Check requested state is valid.</span>
<a name="l536"><span class="linenum"> 536</span></a>      if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>, array(<a class="constant" onClick="logConstant('TEXTFILTER_ON')" href="../_constants/TEXTFILTER_ON.html" onMouseOver="constPopup(event,'TEXTFILTER_ON')">TEXTFILTER_ON</a>, <a class="constant" onClick="logConstant('TEXTFILTER_OFF')" href="../_constants/TEXTFILTER_OFF.html" onMouseOver="constPopup(event,'TEXTFILTER_OFF')">TEXTFILTER_OFF</a>, <a class="constant" onClick="logConstant('TEXTFILTER_DISABLED')" href="../_constants/TEXTFILTER_DISABLED.html" onMouseOver="constPopup(event,'TEXTFILTER_DISABLED')">TEXTFILTER_DISABLED</a>))) {
<a name="l537"><span class="linenum"> 537</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(&quot;Illegal option '<a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>' passed to filter_set_global_state. &quot; .
<a name="l538"><span class="linenum"> 538</span></a>                  &quot;Must be one of <a class="constant" onClick="logConstant('TEXTFILTER_ON')" href="../_constants/TEXTFILTER_ON.html" onMouseOver="constPopup(event,'TEXTFILTER_ON')">TEXTFILTER_ON</a>, <a class="constant" onClick="logConstant('TEXTFILTER_OFF')" href="../_constants/TEXTFILTER_OFF.html" onMouseOver="constPopup(event,'TEXTFILTER_OFF')">TEXTFILTER_OFF</a> or <a class="constant" onClick="logConstant('TEXTFILTER_DISABLED')" href="../_constants/TEXTFILTER_DISABLED.html" onMouseOver="constPopup(event,'TEXTFILTER_DISABLED')">TEXTFILTER_DISABLED</a>.&quot;);
<a name="l539"><span class="linenum"> 539</span></a>      }
<a name="l540"><span class="linenum"> 540</span></a>  
<a name="l541"><span class="linenum"> 541</span></a>      if (<a class="var it8034" onMouseOver="hilite(8034)" onMouseOut="lolite()" onClick="logVariable('move')" href="../_variables/move.html">$move</a> &gt; 0) {
<a name="l542"><span class="linenum"> 542</span></a>          <a class="var it8034" onMouseOver="hilite(8034)" onMouseOut="lolite()" onClick="logVariable('move')" href="../_variables/move.html">$move</a> = 1;
<a name="l543"><span class="linenum"> 543</span></a>      } else if (<a class="var it8034" onMouseOver="hilite(8034)" onMouseOut="lolite()" onClick="logVariable('move')" href="../_variables/move.html">$move</a> &lt; 0) {
<a name="l544"><span class="linenum"> 544</span></a>          <a class="var it8034" onMouseOver="hilite(8034)" onMouseOut="lolite()" onClick="logVariable('move')" href="../_variables/move.html">$move</a> = -1;
<a name="l545"><span class="linenum"> 545</span></a>      }
<a name="l546"><span class="linenum"> 546</span></a>  
<a name="l547"><span class="linenum"> 547</span></a>      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, 'filter/') === 0) {
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">        //debugging(&quot;Old filtername '$filtername' parameter used in filter_set_global_state()&quot;, DEBUG_DEVELOPER);</span>
<a name="l549"><span class="linenum"> 549</span></a>          <a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, 7);
<a name="l550"><span class="linenum"> 550</span></a>      } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, '/') !== false) {
<a name="l551"><span class="linenum"> 551</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(&quot;Invalid filter name '<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>' used in <a class="function" onClick="logFunction('filter_set_global_state')" href="../_functions/filter_set_global_state.html" onMouseOver="funcPopup(event,'filter_set_global_state')">filter_set_global_state</a>()&quot;);
<a name="l552"><span class="linenum"> 552</span></a>      }
<a name="l553"><span class="linenum"> 553</span></a>  
<a name="l554"><span class="linenum"> 554</span></a>      <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>      <a class="var it1172" onMouseOver="hilite(1172)" onMouseOut="lolite()" onClick="logVariable('syscontext')" href="../_variables/syscontext.html">$syscontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l557"><span class="linenum"> 557</span></a>      <a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('filter_active', array('contextid' =&gt; <a class="var it1172" onMouseOver="hilite(1172)" onMouseOut="lolite()" onClick="logVariable('syscontext')" href="../_variables/syscontext.html">$syscontext</a>-&gt;<a onClick="logVariable('id')" class="var it39448" onMouseOver="hilite(39448)" onMouseOut="lolite()" href="../_variables/id.html">id</a>), 'sortorder ASC');
<a name="l558"><span class="linenum"> 558</span></a>  
<a name="l559"><span class="linenum"> 559</span></a>      <a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a> = array();
<a name="l560"><span class="linenum"> 560</span></a>      <a class="var it11329" onMouseOver="hilite(11329)" onMouseOut="lolite()" onClick="logVariable('off')" href="../_variables/off.html">$off</a> = array();
<a name="l561"><span class="linenum"> 561</span></a>  
<a name="l562"><span class="linenum"> 562</span></a>      foreach(<a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> as <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>) {
<a name="l563"><span class="linenum"> 563</span></a>          if (<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('active')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/active.html">active</a> == <a class="constant" onClick="logConstant('TEXTFILTER_DISABLED')" href="../_constants/TEXTFILTER_DISABLED.html" onMouseOver="constPopup(event,'TEXTFILTER_DISABLED')">TEXTFILTER_DISABLED</a>) {
<a name="l564"><span class="linenum"> 564</span></a>              <a class="var it11329" onMouseOver="hilite(11329)" onMouseOut="lolite()" onClick="logVariable('off')" href="../_variables/off.html">$off</a>[<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('filter')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>] = <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>;
<a name="l565"><span class="linenum"> 565</span></a>          } else {
<a name="l566"><span class="linenum"> 566</span></a>              <a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a>[<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('filter')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>] = <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>;
<a name="l567"><span class="linenum"> 567</span></a>          }
<a name="l568"><span class="linenum"> 568</span></a>      }
<a name="l569"><span class="linenum"> 569</span></a>  
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">    // Update the state or add new record.</span>
<a name="l571"><span class="linenum"> 571</span></a>      if (isset(<a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a>[<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>])) {
<a name="l572"><span class="linenum"> 572</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a> = <a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a>[<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>];
<a name="l573"><span class="linenum"> 573</span></a>          if (<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('active')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/active.html">active</a> != <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>) {
<a name="l574"><span class="linenum"> 574</span></a>              <a class="function" onClick="logFunction('add_to_config_log')" href="../_functions/add_to_config_log.html" onMouseOver="funcPopup(event,'add_to_config_log')">add_to_config_log</a>('filter_active', <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('active')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/active.html">active</a>, <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>, <a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>);
<a name="l575"><span class="linenum"> 575</span></a>  
<a name="l576"><span class="linenum"> 576</span></a>              <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('active')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/active.html">active</a> = <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>;
<a name="l577"><span class="linenum"> 577</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('filter_active', <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>);
<a name="l578"><span class="linenum"> 578</span></a>              if (<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('active')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/active.html">active</a> == <a class="constant" onClick="logConstant('TEXTFILTER_DISABLED')" href="../_constants/TEXTFILTER_DISABLED.html" onMouseOver="constPopup(event,'TEXTFILTER_DISABLED')">TEXTFILTER_DISABLED</a>) {
<a name="l579"><span class="linenum"> 579</span></a>                  unset(<a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a>[<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>]);
<a name="l580"><span class="linenum"> 580</span></a>                  <a class="var it11329" onMouseOver="hilite(11329)" onMouseOut="lolite()" onClick="logVariable('off')" href="../_variables/off.html">$off</a> = array(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('filter')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a> =&gt; <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>) + <a class="var it11329" onMouseOver="hilite(11329)" onMouseOut="lolite()" onClick="logVariable('off')" href="../_variables/off.html">$off</a>;
<a name="l581"><span class="linenum"> 581</span></a>              }
<a name="l582"><span class="linenum"> 582</span></a>  
<a name="l583"><span class="linenum"> 583</span></a>          }
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>      } else if (isset(<a class="var it11329" onMouseOver="hilite(11329)" onMouseOut="lolite()" onClick="logVariable('off')" href="../_variables/off.html">$off</a>[<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>])) {
<a name="l586"><span class="linenum"> 586</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a> = <a class="var it11329" onMouseOver="hilite(11329)" onMouseOut="lolite()" onClick="logVariable('off')" href="../_variables/off.html">$off</a>[<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>];
<a name="l587"><span class="linenum"> 587</span></a>          if (<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('active')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/active.html">active</a> != <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>) {
<a name="l588"><span class="linenum"> 588</span></a>              <a class="function" onClick="logFunction('add_to_config_log')" href="../_functions/add_to_config_log.html" onMouseOver="funcPopup(event,'add_to_config_log')">add_to_config_log</a>('filter_active', <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('active')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/active.html">active</a>, <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>, <a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>);
<a name="l589"><span class="linenum"> 589</span></a>  
<a name="l590"><span class="linenum"> 590</span></a>              <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('active')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/active.html">active</a> = <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>;
<a name="l591"><span class="linenum"> 591</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('filter_active', <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>);
<a name="l592"><span class="linenum"> 592</span></a>              if (<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('active')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/active.html">active</a> != <a class="constant" onClick="logConstant('TEXTFILTER_DISABLED')" href="../_constants/TEXTFILTER_DISABLED.html" onMouseOver="constPopup(event,'TEXTFILTER_DISABLED')">TEXTFILTER_DISABLED</a>) {
<a name="l593"><span class="linenum"> 593</span></a>                  unset(<a class="var it11329" onMouseOver="hilite(11329)" onMouseOut="lolite()" onClick="logVariable('off')" href="../_variables/off.html">$off</a>[<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>]);
<a name="l594"><span class="linenum"> 594</span></a>                  <a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('filter')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>] = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l595"><span class="linenum"> 595</span></a>              }
<a name="l596"><span class="linenum"> 596</span></a>          }
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>      } else {
<a name="l599"><span class="linenum"> 599</span></a>          <a class="function" onClick="logFunction('add_to_config_log')" href="../_functions/add_to_config_log.html" onMouseOver="funcPopup(event,'add_to_config_log')">add_to_config_log</a>('filter_active', '', <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>, <a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>);
<a name="l600"><span class="linenum"> 600</span></a>  
<a name="l601"><span class="linenum"> 601</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a> = new stdClass();
<a name="l602"><span class="linenum"> 602</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('filter')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>    = <a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>;
<a name="l603"><span class="linenum"> 603</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('contextid')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a> = <a class="var it1172" onMouseOver="hilite(1172)" onMouseOut="lolite()" onClick="logVariable('syscontext')" href="../_variables/syscontext.html">$syscontext</a>-&gt;<a onClick="logVariable('id')" class="var it39448" onMouseOver="hilite(39448)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l604"><span class="linenum"> 604</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('active')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/active.html">active</a>    = <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>;
<a name="l605"><span class="linenum"> 605</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('sortorder')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/sortorder.html">sortorder</a> = 99999;
<a name="l606"><span class="linenum"> 606</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('id')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/id.html">id</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('filter_active', <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>);
<a name="l607"><span class="linenum"> 607</span></a>  
<a name="l608"><span class="linenum"> 608</span></a>          <a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('id')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l609"><span class="linenum"> 609</span></a>          if (<a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a> == <a class="constant" onClick="logConstant('TEXTFILTER_DISABLED')" href="../_constants/TEXTFILTER_DISABLED.html" onMouseOver="constPopup(event,'TEXTFILTER_DISABLED')">TEXTFILTER_DISABLED</a>) {
<a name="l610"><span class="linenum"> 610</span></a>              <a class="var it11329" onMouseOver="hilite(11329)" onMouseOut="lolite()" onClick="logVariable('off')" href="../_variables/off.html">$off</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('filter')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>] = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l611"><span class="linenum"> 611</span></a>          } else {
<a name="l612"><span class="linenum"> 612</span></a>              <a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('filter')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>] = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l613"><span class="linenum"> 613</span></a>          }
<a name="l614"><span class="linenum"> 614</span></a>      }
<a name="l615"><span class="linenum"> 615</span></a>  
<a name="l616"><span class="linenum"> 616</span></a>  <span class="comment">    // Move only active.</span>
<a name="l617"><span class="linenum"> 617</span></a>      if (<a class="var it8034" onMouseOver="hilite(8034)" onMouseOut="lolite()" onClick="logVariable('move')" href="../_variables/move.html">$move</a> != 0 and isset(<a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('filter')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>])) {
<a name="l618"><span class="linenum"> 618</span></a>          <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> = 1;
<a name="l619"><span class="linenum"> 619</span></a>          foreach (<a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a> as <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>) {
<a name="l620"><span class="linenum"> 620</span></a>              <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('newsortorder')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/newsortorder.html">newsortorder</a> = <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>;
<a name="l621"><span class="linenum"> 621</span></a>              <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>++;
<a name="l622"><span class="linenum"> 622</span></a>          }
<a name="l623"><span class="linenum"> 623</span></a>  
<a name="l624"><span class="linenum"> 624</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('newsortorder')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/newsortorder.html">newsortorder</a> = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('newsortorder')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/newsortorder.html">newsortorder</a> + <a class="var it8034" onMouseOver="hilite(8034)" onMouseOut="lolite()" onClick="logVariable('move')" href="../_variables/move.html">$move</a>;
<a name="l625"><span class="linenum"> 625</span></a>  
<a name="l626"><span class="linenum"> 626</span></a>          foreach (<a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a> as <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>) {
<a name="l627"><span class="linenum"> 627</span></a>              if (<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('id')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('id')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l628"><span class="linenum"> 628</span></a>                  continue;
<a name="l629"><span class="linenum"> 629</span></a>              }
<a name="l630"><span class="linenum"> 630</span></a>              if (<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('newsortorder')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/newsortorder.html">newsortorder</a> == <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>-&gt;<a onClick="logVariable('newsortorder')" class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" href="../_variables/newsortorder.html">newsortorder</a>) {
<a name="l631"><span class="linenum"> 631</span></a>                  if (<a class="var it8034" onMouseOver="hilite(8034)" onMouseOut="lolite()" onClick="logVariable('move')" href="../_variables/move.html">$move</a> == 1) {
<a name="l632"><span class="linenum"> 632</span></a>                      <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('newsortorder')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/newsortorder.html">newsortorder</a> = <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('newsortorder')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/newsortorder.html">newsortorder</a> - 1;
<a name="l633"><span class="linenum"> 633</span></a>                  } else {
<a name="l634"><span class="linenum"> 634</span></a>                      <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('newsortorder')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/newsortorder.html">newsortorder</a> = <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('newsortorder')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/newsortorder.html">newsortorder</a> + 1;
<a name="l635"><span class="linenum"> 635</span></a>                  }
<a name="l636"><span class="linenum"> 636</span></a>              }
<a name="l637"><span class="linenum"> 637</span></a>          }
<a name="l638"><span class="linenum"> 638</span></a>  
<a name="l639"><span class="linenum"> 639</span></a>          <a class="class" onClick="logClass('core_collator')" href="../_classes/core_collator.html" onMouseOver="classPopup(event,'core_collator')">core_collator</a>::<a class="function" onClick="logFunction('asort_objects_by_property')" href="../_functions/asort_objects_by_property.html" onMouseOver="funcPopup(event,'asort_objects_by_property')">asort_objects_by_property</a>(<a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a>, 'newsortorder', <a class="class" onClick="logClass('core_collator')" href="../_classes/core_collator.html" onMouseOver="classPopup(event,'core_collator')">core_collator</a>::SORT_NUMERIC);
<a name="l640"><span class="linenum"> 640</span></a>      }
<a name="l641"><span class="linenum"> 641</span></a>  
<a name="l642"><span class="linenum"> 642</span></a>  <span class="comment">    // Inactive are sorted by filter name.</span>
<a name="l643"><span class="linenum"> 643</span></a>      <a class="class" onClick="logClass('core_collator')" href="../_classes/core_collator.html" onMouseOver="classPopup(event,'core_collator')">core_collator</a>::<a class="function" onClick="logFunction('asort_objects_by_property')" href="../_functions/asort_objects_by_property.html" onMouseOver="funcPopup(event,'asort_objects_by_property')">asort_objects_by_property</a>(<a class="var it11329" onMouseOver="hilite(11329)" onMouseOut="lolite()" onClick="logVariable('off')" href="../_variables/off.html">$off</a>, 'filter', <a class="class" onClick="logClass('core_collator')" href="../_classes/core_collator.html" onMouseOver="classPopup(event,'core_collator')">core_collator</a>::SORT_NATURAL);
<a name="l644"><span class="linenum"> 644</span></a>  
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment">    // Update records if necessary.</span>
<a name="l646"><span class="linenum"> 646</span></a>      <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> = 1;
<a name="l647"><span class="linenum"> 647</span></a>      foreach (<a class="var it14491" onMouseOver="hilite(14491)" onMouseOut="lolite()" onClick="logVariable('on')" href="../_variables/on.html">$on</a> as <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>) {
<a name="l648"><span class="linenum"> 648</span></a>          if (<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('sortorder')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/sortorder.html">sortorder</a> != <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>) {
<a name="l649"><span class="linenum"> 649</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('filter_active', 'sortorder', <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>, array('id'=&gt;<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('id')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l650"><span class="linenum"> 650</span></a>          }
<a name="l651"><span class="linenum"> 651</span></a>          <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>++;
<a name="l652"><span class="linenum"> 652</span></a>      }
<a name="l653"><span class="linenum"> 653</span></a>      foreach (<a class="var it11329" onMouseOver="hilite(11329)" onMouseOut="lolite()" onClick="logVariable('off')" href="../_variables/off.html">$off</a> as <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>) {
<a name="l654"><span class="linenum"> 654</span></a>          if (<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('sortorder')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/sortorder.html">sortorder</a> != <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>) {
<a name="l655"><span class="linenum"> 655</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('filter_active', 'sortorder', <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>, array('id'=&gt;<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('f')" href="../_variables/f.html">$f</a>-&gt;<a onClick="logVariable('id')" class="var it39911" onMouseOver="hilite(39911)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l656"><span class="linenum"> 656</span></a>          }
<a name="l657"><span class="linenum"> 657</span></a>          <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>++;
<a name="l658"><span class="linenum"> 658</span></a>      }
<a name="l659"><span class="linenum"> 659</span></a>  
<a name="l660"><span class="linenum"> 660</span></a>      <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l661"><span class="linenum"> 661</span></a>  }
<a name="l662"><span class="linenum"> 662</span></a>  
<a name="l663"><span class="linenum"> 663</span></a>  <span class="comment">/**</span>
<a name="l664"><span class="linenum"> 664</span></a>  <span class="comment"> * @param string $filtername The filter name, for example 'tex'.</span>
<a name="l665"><span class="linenum"> 665</span></a>  <span class="comment"> * @return boolean is this filter allowed to be used on this site. That is, the</span>
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment"> *      admin has set the global 'active' setting to On, or Off, but available.</span>
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment"> */</span>
<a name="l668"><span class="linenum"> 668</span></a>  function <a class="function" onClick="logFunction('filter_is_enabled')" href="../_functions/filter_is_enabled.html" onMouseOver="funcPopup(event,'filter_is_enabled')">filter_is_enabled</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>) {
<a name="l669"><span class="linenum"> 669</span></a>      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, 'filter/') === 0) {
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">        //debugging(&quot;Old filtername '$filtername' parameter used in filter_is_enabled()&quot;, DEBUG_DEVELOPER);</span>
<a name="l671"><span class="linenum"> 671</span></a>          <a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, 7);
<a name="l672"><span class="linenum"> 672</span></a>      } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, '/') !== false) {
<a name="l673"><span class="linenum"> 673</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(&quot;Invalid filter name '<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>' used in <a class="function" onClick="logFunction('filter_is_enabled')" href="../_functions/filter_is_enabled.html" onMouseOver="funcPopup(event,'filter_is_enabled')">filter_is_enabled</a>()&quot;);
<a name="l674"><span class="linenum"> 674</span></a>      }
<a name="l675"><span class="linenum"> 675</span></a>      return <a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it35639" onMouseOver="hilite(35639)" onMouseOut="lolite()" onClick="logVariable('filtername')" href="../_variables/filtername.html">$filtername</a>, <a class="function" onClick="logFunction('filter_get_globally_enabled')" href="../_functions/filter_get_globally_enabled.html" onMouseOver="funcPopup(event,'filter_get_globally_enabled')">filter_get_globally_enabled</a>());
<a name="l676"><span class="linenum"> 676</span></a>  }
<a name="l677"><span class="linenum"> 677</span></a>  
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">/**</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment"> * Return a list of all the filters that may be in use somewhere.</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment"> *</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment"> * @staticvar array $enabledfilters</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment"> * @return array where the keys and values are both the filter name, like 'tex'.</span>
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment"> */</span>
<a name="l684"><span class="linenum"> 684</span></a>  function <a class="function" onClick="logFunction('filter_get_globally_enabled')" href="../_functions/filter_get_globally_enabled.html" onMouseOver="funcPopup(event,'filter_get_globally_enabled')">filter_get_globally_enabled</a>() {
<a name="l685"><span class="linenum"> 685</span></a>      static <a class="var it35656" onMouseOver="hilite(35656)" onMouseOut="lolite()" onClick="logVariable('enabledfilters')" href="../_variables/enabledfilters.html">$enabledfilters</a> = null;
<a name="l686"><span class="linenum"> 686</span></a>      if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it35656" onMouseOver="hilite(35656)" onMouseOut="lolite()" onClick="logVariable('enabledfilters')" href="../_variables/enabledfilters.html">$enabledfilters</a>)) {
<a name="l687"><span class="linenum"> 687</span></a>          <a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> = <a class="function" onClick="logFunction('filter_get_global_states')" href="../_functions/filter_get_global_states.html" onMouseOver="funcPopup(event,'filter_get_global_states')">filter_get_global_states</a>();
<a name="l688"><span class="linenum"> 688</span></a>          <a class="var it35656" onMouseOver="hilite(35656)" onMouseOut="lolite()" onClick="logVariable('enabledfilters')" href="../_variables/enabledfilters.html">$enabledfilters</a> = array();
<a name="l689"><span class="linenum"> 689</span></a>          foreach (<a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> as <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a> =&gt; <a class="var it35657" onMouseOver="hilite(35657)" onMouseOut="lolite()" onClick="logVariable('filerinfo')" href="../_variables/filerinfo.html">$filerinfo</a>) {
<a name="l690"><span class="linenum"> 690</span></a>              if (<a class="var it35657" onMouseOver="hilite(35657)" onMouseOut="lolite()" onClick="logVariable('filerinfo')" href="../_variables/filerinfo.html">$filerinfo</a>-&gt;<a onClick="logVariable('active')" class="var it41037" onMouseOver="hilite(41037)" onMouseOut="lolite()" href="../_variables/active.html">active</a> != <a class="constant" onClick="logConstant('TEXTFILTER_DISABLED')" href="../_constants/TEXTFILTER_DISABLED.html" onMouseOver="constPopup(event,'TEXTFILTER_DISABLED')">TEXTFILTER_DISABLED</a>) {
<a name="l691"><span class="linenum"> 691</span></a>                  <a class="var it35656" onMouseOver="hilite(35656)" onMouseOut="lolite()" onClick="logVariable('enabledfilters')" href="../_variables/enabledfilters.html">$enabledfilters</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>] = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l692"><span class="linenum"> 692</span></a>              }
<a name="l693"><span class="linenum"> 693</span></a>          }
<a name="l694"><span class="linenum"> 694</span></a>      }
<a name="l695"><span class="linenum"> 695</span></a>      return <a class="var it35656" onMouseOver="hilite(35656)" onMouseOut="lolite()" onClick="logVariable('enabledfilters')" href="../_variables/enabledfilters.html">$enabledfilters</a>;
<a name="l696"><span class="linenum"> 696</span></a>  }
<a name="l697"><span class="linenum"> 697</span></a>  
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">/**</span>
<a name="l699"><span class="linenum"> 699</span></a>  <span class="comment"> * Return the names of the filters that should also be applied to strings</span>
<a name="l700"><span class="linenum"> 700</span></a>  <span class="comment"> * (when they are enabled).</span>
<a name="l701"><span class="linenum"> 701</span></a>  <span class="comment"> *</span>
<a name="l702"><span class="linenum"> 702</span></a>  <span class="comment"> * @return array where the keys and values are both the filter name, like 'tex'.</span>
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment"> */</span>
<a name="l704"><span class="linenum"> 704</span></a>  function <a class="function" onClick="logFunction('filter_get_string_filters')" href="../_functions/filter_get_string_filters.html" onMouseOver="funcPopup(event,'filter_get_string_filters')">filter_get_string_filters</a>() {
<a name="l705"><span class="linenum"> 705</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l706"><span class="linenum"> 706</span></a>      <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a> = array();
<a name="l707"><span class="linenum"> 707</span></a>      if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('filterall')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/filterall.html">filterall</a>) &amp;&amp; !empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('stringfilters')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/stringfilters.html">stringfilters</a>)) {
<a name="l708"><span class="linenum"> 708</span></a>          <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('stringfilters')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/stringfilters.html">stringfilters</a>);
<a name="l709"><span class="linenum"> 709</span></a>          <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a> = <a class="phpfunction" onClick="logFunction('array_combine')" href="../_functions/array_combine.html" onMouseOver="phpfuncPopup(event,'array_combine')">array_combine</a>(<a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a>, <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a>);
<a name="l710"><span class="linenum"> 710</span></a>      }
<a name="l711"><span class="linenum"> 711</span></a>      return <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a>;
<a name="l712"><span class="linenum"> 712</span></a>  }
<a name="l713"><span class="linenum"> 713</span></a>  
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">/**</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment"> * Sets whether a particular active filter should be applied to all strings by</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment"> * format_string, or just used by format_text.</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment"> *</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment"> * @param string $filter The filter name, for example 'tex'.</span>
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment"> * @param boolean $applytostrings if true, this filter will apply to format_string</span>
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment"> *      and format_text, when it is enabled.</span>
<a name="l721"><span class="linenum"> 721</span></a>  <span class="comment"> */</span>
<a name="l722"><span class="linenum"> 722</span></a>  function <a class="function" onClick="logFunction('filter_set_applies_to_strings')" href="../_functions/filter_set_applies_to_strings.html" onMouseOver="funcPopup(event,'filter_set_applies_to_strings')">filter_set_applies_to_strings</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, <a class="var it35658" onMouseOver="hilite(35658)" onMouseOut="lolite()" onClick="logVariable('applytostrings')" href="../_variables/applytostrings.html">$applytostrings</a>) {
<a name="l723"><span class="linenum"> 723</span></a>      <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a> = <a class="function" onClick="logFunction('filter_get_string_filters')" href="../_functions/filter_get_string_filters.html" onMouseOver="funcPopup(event,'filter_get_string_filters')">filter_get_string_filters</a>();
<a name="l724"><span class="linenum"> 724</span></a>      <a class="var it35659" onMouseOver="hilite(35659)" onMouseOut="lolite()" onClick="logVariable('prevfilters')" href="../_variables/prevfilters.html">$prevfilters</a> = <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a>;
<a name="l725"><span class="linenum"> 725</span></a>      <a class="var it35660" onMouseOver="hilite(35660)" onMouseOut="lolite()" onClick="logVariable('allfilters')" href="../_variables/allfilters.html">$allfilters</a> = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('filter');
<a name="l726"><span class="linenum"> 726</span></a>  
<a name="l727"><span class="linenum"> 727</span></a>      if (<a class="var it35658" onMouseOver="hilite(35658)" onMouseOut="lolite()" onClick="logVariable('applytostrings')" href="../_variables/applytostrings.html">$applytostrings</a>) {
<a name="l728"><span class="linenum"> 728</span></a>          <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>] = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l729"><span class="linenum"> 729</span></a>      } else {
<a name="l730"><span class="linenum"> 730</span></a>          unset(<a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>]);
<a name="l731"><span class="linenum"> 731</span></a>      }
<a name="l732"><span class="linenum"> 732</span></a>  
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment">    // Remove missing filters.</span>
<a name="l734"><span class="linenum"> 734</span></a>      foreach (<a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a> as <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>) {
<a name="l735"><span class="linenum"> 735</span></a>          if (!isset(<a class="var it35660" onMouseOver="hilite(35660)" onMouseOut="lolite()" onClick="logVariable('allfilters')" href="../_variables/allfilters.html">$allfilters</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>])) {
<a name="l736"><span class="linenum"> 736</span></a>              unset(<a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>]);
<a name="l737"><span class="linenum"> 737</span></a>          }
<a name="l738"><span class="linenum"> 738</span></a>      }
<a name="l739"><span class="linenum"> 739</span></a>  
<a name="l740"><span class="linenum"> 740</span></a>      if (<a class="var it35659" onMouseOver="hilite(35659)" onMouseOut="lolite()" onClick="logVariable('prevfilters')" href="../_variables/prevfilters.html">$prevfilters</a> != <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a>) {
<a name="l741"><span class="linenum"> 741</span></a>          <a class="function" onClick="logFunction('set_config')" href="../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('stringfilters', <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a>));
<a name="l742"><span class="linenum"> 742</span></a>          <a class="function" onClick="logFunction('set_config')" href="../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('filterall', !empty(<a class="var it8545" onMouseOver="hilite(8545)" onMouseOut="lolite()" onClick="logVariable('stringfilters')" href="../_variables/stringfilters.html">$stringfilters</a>));
<a name="l743"><span class="linenum"> 743</span></a>      }
<a name="l744"><span class="linenum"> 744</span></a>  }
<a name="l745"><span class="linenum"> 745</span></a>  
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment">/**</span>
<a name="l747"><span class="linenum"> 747</span></a>  <span class="comment"> * Set the local activated state for a text filter.</span>
<a name="l748"><span class="linenum"> 748</span></a>  <span class="comment"> *</span>
<a name="l749"><span class="linenum"> 749</span></a>  <span class="comment"> * @param string $filter The filter name, for example 'tex'.</span>
<a name="l750"><span class="linenum"> 750</span></a>  <span class="comment"> * @param integer $contextid The id of the context to get the local config for.</span>
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment"> * @param integer $state One of the values TEXTFILTER_ON, TEXTFILTER_OFF or TEXTFILTER_INHERIT.</span>
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment"> * @return void</span>
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment"> */</span>
<a name="l754"><span class="linenum"> 754</span></a>  function <a class="function" onClick="logFunction('filter_set_local_state')" href="../_functions/filter_set_local_state.html" onMouseOver="funcPopup(event,'filter_set_local_state')">filter_set_local_state</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>, <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>) {
<a name="l755"><span class="linenum"> 755</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l756"><span class="linenum"> 756</span></a>  
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment">    // Check requested state is valid.</span>
<a name="l758"><span class="linenum"> 758</span></a>      if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>, array(<a class="constant" onClick="logConstant('TEXTFILTER_ON')" href="../_constants/TEXTFILTER_ON.html" onMouseOver="constPopup(event,'TEXTFILTER_ON')">TEXTFILTER_ON</a>, <a class="constant" onClick="logConstant('TEXTFILTER_OFF')" href="../_constants/TEXTFILTER_OFF.html" onMouseOver="constPopup(event,'TEXTFILTER_OFF')">TEXTFILTER_OFF</a>, <a class="constant" onClick="logConstant('TEXTFILTER_INHERIT')" href="../_constants/TEXTFILTER_INHERIT.html" onMouseOver="constPopup(event,'TEXTFILTER_INHERIT')">TEXTFILTER_INHERIT</a>))) {
<a name="l759"><span class="linenum"> 759</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(&quot;Illegal option '<a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>' passed to filter_set_local_state. &quot; .
<a name="l760"><span class="linenum"> 760</span></a>                  &quot;Must be one of <a class="constant" onClick="logConstant('TEXTFILTER_ON')" href="../_constants/TEXTFILTER_ON.html" onMouseOver="constPopup(event,'TEXTFILTER_ON')">TEXTFILTER_ON</a>, <a class="constant" onClick="logConstant('TEXTFILTER_OFF')" href="../_constants/TEXTFILTER_OFF.html" onMouseOver="constPopup(event,'TEXTFILTER_OFF')">TEXTFILTER_OFF</a> or <a class="constant" onClick="logConstant('TEXTFILTER_INHERIT')" href="../_constants/TEXTFILTER_INHERIT.html" onMouseOver="constPopup(event,'TEXTFILTER_INHERIT')">TEXTFILTER_INHERIT</a>.&quot;);
<a name="l761"><span class="linenum"> 761</span></a>      }
<a name="l762"><span class="linenum"> 762</span></a>  
<a name="l763"><span class="linenum"> 763</span></a>      if (<a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a> == <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()-&gt;id) {
<a name="l764"><span class="linenum"> 764</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You cannot use filter_set_local_state ' .
<a name="l765"><span class="linenum"> 765</span></a>                  'with <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a> equal to the system context id.');
<a name="l766"><span class="linenum"> 766</span></a>      }
<a name="l767"><span class="linenum"> 767</span></a>  
<a name="l768"><span class="linenum"> 768</span></a>      if (<a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a> == <a class="constant" onClick="logConstant('TEXTFILTER_INHERIT')" href="../_constants/TEXTFILTER_INHERIT.html" onMouseOver="constPopup(event,'TEXTFILTER_INHERIT')">TEXTFILTER_INHERIT</a>) {
<a name="l769"><span class="linenum"> 769</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('filter_active', array('filter' =&gt; <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, 'contextid' =&gt; <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>));
<a name="l770"><span class="linenum"> 770</span></a>          return;
<a name="l771"><span class="linenum"> 771</span></a>      }
<a name="l772"><span class="linenum"> 772</span></a>  
<a name="l773"><span class="linenum"> 773</span></a>      <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('filter_active', array('filter' =&gt; <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, 'contextid' =&gt; <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>));
<a name="l774"><span class="linenum"> 774</span></a>      <a class="var it21950" onMouseOver="hilite(21950)" onMouseOut="lolite()" onClick="logVariable('insert')" href="../_variables/insert.html">$insert</a> = false;
<a name="l775"><span class="linenum"> 775</span></a>      if (empty(<a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>)) {
<a name="l776"><span class="linenum"> 776</span></a>          <a class="var it21950" onMouseOver="hilite(21950)" onMouseOut="lolite()" onClick="logVariable('insert')" href="../_variables/insert.html">$insert</a> = true;
<a name="l777"><span class="linenum"> 777</span></a>          <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a> = new stdClass;
<a name="l778"><span class="linenum"> 778</span></a>          <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('filter')" class="var it39948" onMouseOver="hilite(39948)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a> = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l779"><span class="linenum"> 779</span></a>          <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('contextid')" class="var it39948" onMouseOver="hilite(39948)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a> = <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>;
<a name="l780"><span class="linenum"> 780</span></a>      }
<a name="l781"><span class="linenum"> 781</span></a>  
<a name="l782"><span class="linenum"> 782</span></a>      <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('active')" class="var it39948" onMouseOver="hilite(39948)" onMouseOut="lolite()" href="../_variables/active.html">active</a> = <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>;
<a name="l783"><span class="linenum"> 783</span></a>  
<a name="l784"><span class="linenum"> 784</span></a>      if (<a class="var it21950" onMouseOver="hilite(21950)" onMouseOut="lolite()" onClick="logVariable('insert')" href="../_variables/insert.html">$insert</a>) {
<a name="l785"><span class="linenum"> 785</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('filter_active', <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>);
<a name="l786"><span class="linenum"> 786</span></a>      } else {
<a name="l787"><span class="linenum"> 787</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('filter_active', <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>);
<a name="l788"><span class="linenum"> 788</span></a>      }
<a name="l789"><span class="linenum"> 789</span></a>  }
<a name="l790"><span class="linenum"> 790</span></a>  
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">/**</span>
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment"> * Set a particular local config variable for a filter in a context.</span>
<a name="l793"><span class="linenum"> 793</span></a>  <span class="comment"> *</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment"> * @param string $filter The filter name, for example 'tex'.</span>
<a name="l795"><span class="linenum"> 795</span></a>  <span class="comment"> * @param integer $contextid The id of the context to get the local config for.</span>
<a name="l796"><span class="linenum"> 796</span></a>  <span class="comment"> * @param string $name the setting name.</span>
<a name="l797"><span class="linenum"> 797</span></a>  <span class="comment"> * @param string $value the corresponding value.</span>
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment"> */</span>
<a name="l799"><span class="linenum"> 799</span></a>  function <a class="function" onClick="logFunction('filter_set_local_config')" href="../_functions/filter_set_local_config.html" onMouseOver="funcPopup(event,'filter_set_local_config')">filter_set_local_config</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l800"><span class="linenum"> 800</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l801"><span class="linenum"> 801</span></a>      <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('filter_config', array('filter' =&gt; <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, 'contextid' =&gt; <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>, 'name' =&gt; <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>));
<a name="l802"><span class="linenum"> 802</span></a>      <a class="var it21950" onMouseOver="hilite(21950)" onMouseOut="lolite()" onClick="logVariable('insert')" href="../_variables/insert.html">$insert</a> = false;
<a name="l803"><span class="linenum"> 803</span></a>      if (empty(<a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>)) {
<a name="l804"><span class="linenum"> 804</span></a>          <a class="var it21950" onMouseOver="hilite(21950)" onMouseOut="lolite()" onClick="logVariable('insert')" href="../_variables/insert.html">$insert</a> = true;
<a name="l805"><span class="linenum"> 805</span></a>          <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a> = new stdClass;
<a name="l806"><span class="linenum"> 806</span></a>          <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('filter')" class="var it39948" onMouseOver="hilite(39948)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a> = <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>;
<a name="l807"><span class="linenum"> 807</span></a>          <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('contextid')" class="var it39948" onMouseOver="hilite(39948)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a> = <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>;
<a name="l808"><span class="linenum"> 808</span></a>          <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('name')" class="var it39948" onMouseOver="hilite(39948)" onMouseOut="lolite()" href="../_variables/name.html">name</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>;
<a name="l809"><span class="linenum"> 809</span></a>      }
<a name="l810"><span class="linenum"> 810</span></a>  
<a name="l811"><span class="linenum"> 811</span></a>      <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('value')" class="var it39948" onMouseOver="hilite(39948)" onMouseOut="lolite()" href="../_variables/value.html">value</a> = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l812"><span class="linenum"> 812</span></a>  
<a name="l813"><span class="linenum"> 813</span></a>      if (<a class="var it21950" onMouseOver="hilite(21950)" onMouseOut="lolite()" onClick="logVariable('insert')" href="../_variables/insert.html">$insert</a>) {
<a name="l814"><span class="linenum"> 814</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('filter_config', <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>);
<a name="l815"><span class="linenum"> 815</span></a>      } else {
<a name="l816"><span class="linenum"> 816</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('filter_config', <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>);
<a name="l817"><span class="linenum"> 817</span></a>      }
<a name="l818"><span class="linenum"> 818</span></a>  }
<a name="l819"><span class="linenum"> 819</span></a>  
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">/**</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment"> * Remove a particular local config variable for a filter in a context.</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment"> *</span>
<a name="l823"><span class="linenum"> 823</span></a>  <span class="comment"> * @param string $filter The filter name, for example 'tex'.</span>
<a name="l824"><span class="linenum"> 824</span></a>  <span class="comment"> * @param integer $contextid The id of the context to get the local config for.</span>
<a name="l825"><span class="linenum"> 825</span></a>  <span class="comment"> * @param string $name the setting name.</span>
<a name="l826"><span class="linenum"> 826</span></a>  <span class="comment"> */</span>
<a name="l827"><span class="linenum"> 827</span></a>  function <a class="function" onClick="logFunction('filter_unset_local_config')" href="../_functions/filter_unset_local_config.html" onMouseOver="funcPopup(event,'filter_unset_local_config')">filter_unset_local_config</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>) {
<a name="l828"><span class="linenum"> 828</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l829"><span class="linenum"> 829</span></a>      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('filter_config', array('filter' =&gt; <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, 'contextid' =&gt; <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>, 'name' =&gt; <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>));
<a name="l830"><span class="linenum"> 830</span></a>  }
<a name="l831"><span class="linenum"> 831</span></a>  
<a name="l832"><span class="linenum"> 832</span></a>  <span class="comment">/**</span>
<a name="l833"><span class="linenum"> 833</span></a>  <span class="comment"> * Get local config variables for a filter in a context. Normally (when your</span>
<a name="l834"><span class="linenum"> 834</span></a>  <span class="comment"> * filter is running) you don't need to call this, becuase the config is fetched</span>
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment"> * for you automatically. You only need this, for example, when you are getting</span>
<a name="l836"><span class="linenum"> 836</span></a>  <span class="comment"> * the config so you can show the user an editing from.</span>
<a name="l837"><span class="linenum"> 837</span></a>  <span class="comment"> *</span>
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment"> * @param string $filter The filter name, for example 'tex'.</span>
<a name="l839"><span class="linenum"> 839</span></a>  <span class="comment"> * @param integer $contextid The ID of the context to get the local config for.</span>
<a name="l840"><span class="linenum"> 840</span></a>  <span class="comment"> * @return array of name =&gt; value pairs.</span>
<a name="l841"><span class="linenum"> 841</span></a>  <span class="comment"> */</span>
<a name="l842"><span class="linenum"> 842</span></a>  function <a class="function" onClick="logFunction('filter_get_local_config')" href="../_functions/filter_get_local_config.html" onMouseOver="funcPopup(event,'filter_get_local_config')">filter_get_local_config</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>) {
<a name="l843"><span class="linenum"> 843</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l844"><span class="linenum"> 844</span></a>      return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_menu')" href="../_functions/get_records_menu.html" onMouseOver="funcPopup(event,'get_records_menu')">get_records_menu</a>('filter_config', array('filter' =&gt; <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>, 'contextid' =&gt; <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>), '', 'name,value');
<a name="l845"><span class="linenum"> 845</span></a>  }
<a name="l846"><span class="linenum"> 846</span></a>  
<a name="l847"><span class="linenum"> 847</span></a>  <span class="comment">/**</span>
<a name="l848"><span class="linenum"> 848</span></a>  <span class="comment"> * This function is for use by backup. Gets all the filter information specific</span>
<a name="l849"><span class="linenum"> 849</span></a>  <span class="comment"> * to one context.</span>
<a name="l850"><span class="linenum"> 850</span></a>  <span class="comment"> *</span>
<a name="l851"><span class="linenum"> 851</span></a>  <span class="comment"> * @param int $contextid</span>
<a name="l852"><span class="linenum"> 852</span></a>  <span class="comment"> * @return array Array with two elements. The first element is an array of objects with</span>
<a name="l853"><span class="linenum"> 853</span></a>  <span class="comment"> *      fields filter and active. These come from the filter_active table. The</span>
<a name="l854"><span class="linenum"> 854</span></a>  <span class="comment"> *      second element is an array of objects with fields filter, name and value</span>
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment"> *      from the filter_config table.</span>
<a name="l856"><span class="linenum"> 856</span></a>  <span class="comment"> */</span>
<a name="l857"><span class="linenum"> 857</span></a>  function <a class="function" onClick="logFunction('filter_get_all_local_settings')" href="../_functions/filter_get_all_local_settings.html" onMouseOver="funcPopup(event,'filter_get_all_local_settings')">filter_get_all_local_settings</a>(<a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>) {
<a name="l858"><span class="linenum"> 858</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l859"><span class="linenum"> 859</span></a>      return array(
<a name="l860"><span class="linenum"> 860</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('filter_active', array('contextid' =&gt; <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>), 'filter', 'filter,active'),
<a name="l861"><span class="linenum"> 861</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('filter_config', array('contextid' =&gt; <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>), 'filter,name', 'filter,name,value'),
<a name="l862"><span class="linenum"> 862</span></a>      );
<a name="l863"><span class="linenum"> 863</span></a>  }
<a name="l864"><span class="linenum"> 864</span></a>  
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">/**</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment"> * Get the list of active filters, in the order that they should be used</span>
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment"> * for a particular context, along with any local configuration variables.</span>
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment"> *</span>
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment"> * @param context $context a context</span>
<a name="l870"><span class="linenum"> 870</span></a>  <span class="comment"> * @return array an array where the keys are the filter names, for example</span>
<a name="l871"><span class="linenum"> 871</span></a>  <span class="comment"> *      'tex' and the values are any local</span>
<a name="l872"><span class="linenum"> 872</span></a>  <span class="comment"> *      configuration for that filter, as an array of name =&gt; value pairs</span>
<a name="l873"><span class="linenum"> 873</span></a>  <span class="comment"> *      from the filter_config table. In a lot of cases, this will be an</span>
<a name="l874"><span class="linenum"> 874</span></a>  <span class="comment"> *      empty array. So, an example return value for this function might be</span>
<a name="l875"><span class="linenum"> 875</span></a>  <span class="comment"> *      array(tex' =&gt; array())</span>
<a name="l876"><span class="linenum"> 876</span></a>  <span class="comment"> */</span>
<a name="l877"><span class="linenum"> 877</span></a>  function <a class="function" onClick="logFunction('filter_get_active_in_context')" href="../_functions/filter_get_active_in_context.html" onMouseOver="funcPopup(event,'filter_get_active_in_context')">filter_get_active_in_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l878"><span class="linenum"> 878</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>;
<a name="l879"><span class="linenum"> 879</span></a>  
<a name="l880"><span class="linenum"> 880</span></a>      if (!isset(<a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>)) {
<a name="l881"><span class="linenum"> 881</span></a>          <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a> = new stdClass();
<a name="l882"><span class="linenum"> 882</span></a>      }
<a name="l883"><span class="linenum"> 883</span></a>  
<a name="l884"><span class="linenum"> 884</span></a>  <span class="comment">    // Use cache (this is a within-request cache only) if available. See</span>
<a name="l885"><span class="linenum"> 885</span></a>  <span class="comment">    // function filter_preload_activities.</span>
<a name="l886"><span class="linenum"> 886</span></a>      if (isset(<a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('active')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/active.html">active</a>) &amp;&amp;
<a name="l887"><span class="linenum"> 887</span></a>              <a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('active')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/active.html">active</a>)) {
<a name="l888"><span class="linenum"> 888</span></a>          return <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('active')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/active.html">active</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>];
<a name="l889"><span class="linenum"> 889</span></a>      }
<a name="l890"><span class="linenum"> 890</span></a>  
<a name="l891"><span class="linenum"> 891</span></a>      <a class="var it12554" onMouseOver="hilite(12554)" onMouseOut="lolite()" onClick="logVariable('contextids')" href="../_variables/contextids.html">$contextids</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('/', ',', <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('path')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/path.html">path</a>, '/'));
<a name="l892"><span class="linenum"> 892</span></a>  
<a name="l893"><span class="linenum"> 893</span></a>  <span class="comment">    // The following SQL is tricky. It is explained on</span>
<a name="l894"><span class="linenum"> 894</span></a>  <span class="comment">    // http://docs.moodle.org/dev/Filter_enable/disable_by_context</span>
<a name="l895"><span class="linenum"> 895</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT active.filter, fc.name, fc.value
<a name="l896"><span class="linenum"> 896</span></a>           <a class="function" onClick="logFunction('FROM')" href="../_functions/from.html" onMouseOver="funcPopup(event,'from')">FROM</a> (SELECT f.filter, <a class="phpfunction" onClick="logFunction('MAX')" href="../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(f.sortorder) AS sortorder
<a name="l897"><span class="linenum"> 897</span></a>               FROM {filter_active} f
<a name="l898"><span class="linenum"> 898</span></a>               JOIN {context} ctx ON f.contextid = ctx.id
<a name="l899"><span class="linenum"> 899</span></a>               WHERE ctx.id IN (<a class="var it12554" onMouseOver="hilite(12554)" onMouseOut="lolite()" onClick="logVariable('contextids')" href="../_variables/contextids.html">$contextids</a>)
<a name="l900"><span class="linenum"> 900</span></a>               GROUP BY filter
<a name="l901"><span class="linenum"> 901</span></a>               HAVING <a class="phpfunction" onClick="logFunction('MAX')" href="../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(f.active * ctx.depth) &gt; -<a class="phpfunction" onClick="logFunction('MIN')" href="../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">MIN</a>(f.active * ctx.depth)
<a name="l902"><span class="linenum"> 902</span></a>           ) active
<a name="l903"><span class="linenum"> 903</span></a>           LEFT JOIN {filter_config} fc ON fc.filter = active.filter AND fc.contextid = <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;id
<a name="l904"><span class="linenum"> 904</span></a>           ORDER BY active.sortorder&quot;;
<a name="l905"><span class="linenum"> 905</span></a>      <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>);
<a name="l906"><span class="linenum"> 906</span></a>  
<a name="l907"><span class="linenum"> 907</span></a>  <span class="comment">    // Massage the data into the specified format to return.</span>
<a name="l908"><span class="linenum"> 908</span></a>      <a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> = array();
<a name="l909"><span class="linenum"> 909</span></a>      foreach (<a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>) {
<a name="l910"><span class="linenum"> 910</span></a>          if (!isset(<a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>])) {
<a name="l911"><span class="linenum"> 911</span></a>              <a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>] = array();
<a name="l912"><span class="linenum"> 912</span></a>          }
<a name="l913"><span class="linenum"> 913</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('name')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/name.html">name</a>)) {
<a name="l914"><span class="linenum"> 914</span></a>              <a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>][<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('name')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/name.html">name</a>] = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('value')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/value.html">value</a>;
<a name="l915"><span class="linenum"> 915</span></a>          }
<a name="l916"><span class="linenum"> 916</span></a>      }
<a name="l917"><span class="linenum"> 917</span></a>  
<a name="l918"><span class="linenum"> 918</span></a>      <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l919"><span class="linenum"> 919</span></a>  
<a name="l920"><span class="linenum"> 920</span></a>      return <a class="var it5855" onMouseOver="hilite(5855)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a>;
<a name="l921"><span class="linenum"> 921</span></a>  }
<a name="l922"><span class="linenum"> 922</span></a>  
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment">/**</span>
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment"> * Preloads the list of active filters for all activities (modules) on the course</span>
<a name="l925"><span class="linenum"> 925</span></a>  <span class="comment"> * using two database queries.</span>
<a name="l926"><span class="linenum"> 926</span></a>  <span class="comment"> *</span>
<a name="l927"><span class="linenum"> 927</span></a>  <span class="comment"> * @param course_modinfo $modinfo Course object from get_fast_modinfo</span>
<a name="l928"><span class="linenum"> 928</span></a>  <span class="comment"> */</span>
<a name="l929"><span class="linenum"> 929</span></a>  function <a class="function" onClick="logFunction('filter_preload_activities')" href="../_functions/filter_preload_activities.html" onMouseOver="funcPopup(event,'filter_preload_activities')">filter_preload_activities</a>(course_modinfo <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>) {
<a name="l930"><span class="linenum"> 930</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>;
<a name="l931"><span class="linenum"> 931</span></a>  
<a name="l932"><span class="linenum"> 932</span></a>      if (!isset(<a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>)) {
<a name="l933"><span class="linenum"> 933</span></a>          <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a> = new stdClass();
<a name="l934"><span class="linenum"> 934</span></a>      }
<a name="l935"><span class="linenum"> 935</span></a>  
<a name="l936"><span class="linenum"> 936</span></a>  <span class="comment">    // Don't repeat preload</span>
<a name="l937"><span class="linenum"> 937</span></a>      if (!isset(<a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('preloaded')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/preloaded.html">preloaded</a>)) {
<a name="l938"><span class="linenum"> 938</span></a>          <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('preloaded')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/preloaded.html">preloaded</a> = array();
<a name="l939"><span class="linenum"> 939</span></a>      }
<a name="l940"><span class="linenum"> 940</span></a>      if (!empty(<a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('preloaded')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/preloaded.html">preloaded</a>[<a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_course_id')" href="../_functions/get_course_id.html" onMouseOver="funcPopup(event,'get_course_id')">get_course_id</a>()])) {
<a name="l941"><span class="linenum"> 941</span></a>          return;
<a name="l942"><span class="linenum"> 942</span></a>      }
<a name="l943"><span class="linenum"> 943</span></a>      <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('preloaded')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/preloaded.html">preloaded</a>[<a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_course_id')" href="../_functions/get_course_id.html" onMouseOver="funcPopup(event,'get_course_id')">get_course_id</a>()] = true;
<a name="l944"><span class="linenum"> 944</span></a>  
<a name="l945"><span class="linenum"> 945</span></a>  <span class="comment">    // Get contexts for all CMs</span>
<a name="l946"><span class="linenum"> 946</span></a>      <a class="var it35661" onMouseOver="hilite(35661)" onMouseOut="lolite()" onClick="logVariable('cmcontexts')" href="../_variables/cmcontexts.html">$cmcontexts</a> = array();
<a name="l947"><span class="linenum"> 947</span></a>      <a class="var it35662" onMouseOver="hilite(35662)" onMouseOut="lolite()" onClick="logVariable('cmcontextids')" href="../_variables/cmcontextids.html">$cmcontextids</a> = array();
<a name="l948"><span class="linenum"> 948</span></a>      foreach (<a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cms')" href="../_functions/get_cms.html" onMouseOver="funcPopup(event,'get_cms')">get_cms</a>() as <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>) {
<a name="l949"><span class="linenum"> 949</span></a>          <a class="var it1591" onMouseOver="hilite(1591)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../_variables/modulecontext.html">$modulecontext</a> = <a class="class" onClick="logClass('context_module')" href="../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l950"><span class="linenum"> 950</span></a>          <a class="var it35662" onMouseOver="hilite(35662)" onMouseOut="lolite()" onClick="logVariable('cmcontextids')" href="../_variables/cmcontextids.html">$cmcontextids</a>[] = <a class="var it1591" onMouseOver="hilite(1591)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../_variables/modulecontext.html">$modulecontext</a>-&gt;<a onClick="logVariable('id')" class="var it41039" onMouseOver="hilite(41039)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l951"><span class="linenum"> 951</span></a>          <a class="var it35661" onMouseOver="hilite(35661)" onMouseOut="lolite()" onClick="logVariable('cmcontexts')" href="../_variables/cmcontexts.html">$cmcontexts</a>[] = <a class="var it1591" onMouseOver="hilite(1591)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../_variables/modulecontext.html">$modulecontext</a>;
<a name="l952"><span class="linenum"> 952</span></a>      }
<a name="l953"><span class="linenum"> 953</span></a>  
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment">    // Get course context and all other parents...</span>
<a name="l955"><span class="linenum"> 955</span></a>      <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_course_id')" href="../_functions/get_course_id.html" onMouseOver="funcPopup(event,'get_course_id')">get_course_id</a>());
<a name="l956"><span class="linenum"> 956</span></a>      <a class="var it26674" onMouseOver="hilite(26674)" onMouseOut="lolite()" onClick="logVariable('parentcontextids')" href="../_variables/parentcontextids.html">$parentcontextids</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>-&gt;<a onClick="logVariable('path')" class="var it39493" onMouseOver="hilite(39493)" onMouseOut="lolite()" href="../_variables/path.html">path</a>, 1));
<a name="l957"><span class="linenum"> 957</span></a>      <a class="var it35663" onMouseOver="hilite(35663)" onMouseOut="lolite()" onClick="logVariable('allcontextids')" href="../_variables/allcontextids.html">$allcontextids</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it35662" onMouseOver="hilite(35662)" onMouseOut="lolite()" onClick="logVariable('cmcontextids')" href="../_variables/cmcontextids.html">$cmcontextids</a>, <a class="var it26674" onMouseOver="hilite(26674)" onMouseOut="lolite()" onClick="logVariable('parentcontextids')" href="../_variables/parentcontextids.html">$parentcontextids</a>);
<a name="l958"><span class="linenum"> 958</span></a>  
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment">    // Get all filter_active rows relating to all these contexts</span>
<a name="l960"><span class="linenum"> 960</span></a>      <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a> (<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it35663" onMouseOver="hilite(35663)" onMouseOut="lolite()" onClick="logVariable('allcontextids')" href="../_variables/allcontextids.html">$allcontextids</a>);
<a name="l961"><span class="linenum"> 961</span></a>      <a class="var it35664" onMouseOver="hilite(35664)" onMouseOut="lolite()" onClick="logVariable('filteractives')" href="../_variables/filteractives.html">$filteractives</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('filter_active', &quot;contextid <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>&quot;, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l962"><span class="linenum"> 962</span></a>  
<a name="l963"><span class="linenum"> 963</span></a>  <span class="comment">    // Get all filter_config only for the cm contexts</span>
<a name="l964"><span class="linenum"> 964</span></a>      <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a> (<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it35662" onMouseOver="hilite(35662)" onMouseOut="lolite()" onClick="logVariable('cmcontextids')" href="../_variables/cmcontextids.html">$cmcontextids</a>);
<a name="l965"><span class="linenum"> 965</span></a>      <a class="var it35665" onMouseOver="hilite(35665)" onMouseOut="lolite()" onClick="logVariable('filterconfigs')" href="../_variables/filterconfigs.html">$filterconfigs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('filter_config', &quot;contextid <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>&quot;, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l966"><span class="linenum"> 966</span></a>  
<a name="l967"><span class="linenum"> 967</span></a>  <span class="comment">    // Note: I was a bit surprised that filter_config only works for the</span>
<a name="l968"><span class="linenum"> 968</span></a>  <span class="comment">    // most specific context (i.e. it does not need to be checked for course</span>
<a name="l969"><span class="linenum"> 969</span></a>  <span class="comment">    // context if we only care about CMs) however basede on code in</span>
<a name="l970"><span class="linenum"> 970</span></a>  <span class="comment">    // filter_get_active_in_context, this does seem to be correct.</span>
<a name="l971"><span class="linenum"> 971</span></a>  
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">    // Build course default active list. Initially this will be an array of</span>
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">    // filter name =&gt; active score (where an active score &gt;0 means it's active)</span>
<a name="l974"><span class="linenum"> 974</span></a>      <a class="var it35666" onMouseOver="hilite(35666)" onMouseOut="lolite()" onClick="logVariable('courseactive')" href="../_variables/courseactive.html">$courseactive</a> = array();
<a name="l975"><span class="linenum"> 975</span></a>  
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">    // Also build list of filter_active rows below course level, by contextid</span>
<a name="l977"><span class="linenum"> 977</span></a>      <a class="var it35667" onMouseOver="hilite(35667)" onMouseOut="lolite()" onClick="logVariable('remainingactives')" href="../_variables/remainingactives.html">$remainingactives</a> = array();
<a name="l978"><span class="linenum"> 978</span></a>  
<a name="l979"><span class="linenum"> 979</span></a>  <span class="comment">    // Array lists filters that are banned at top level</span>
<a name="l980"><span class="linenum"> 980</span></a>      <a class="var it35668" onMouseOver="hilite(35668)" onMouseOut="lolite()" onClick="logVariable('banned')" href="../_variables/banned.html">$banned</a> = array();
<a name="l981"><span class="linenum"> 981</span></a>  
<a name="l982"><span class="linenum"> 982</span></a>  <span class="comment">    // Add any active filters in parent contexts to the array</span>
<a name="l983"><span class="linenum"> 983</span></a>      foreach (<a class="var it35664" onMouseOver="hilite(35664)" onMouseOut="lolite()" onClick="logVariable('filteractives')" href="../_variables/filteractives.html">$filteractives</a> as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>) {
<a name="l984"><span class="linenum"> 984</span></a>          <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a> = <a class="phpfunction" onClick="logFunction('array_search')" href="../_functions/array_search.html" onMouseOver="phpfuncPopup(event,'array_search')">array_search</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('contextid')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="var it26674" onMouseOver="hilite(26674)" onMouseOut="lolite()" onClick="logVariable('parentcontextids')" href="../_variables/parentcontextids.html">$parentcontextids</a>);
<a name="l985"><span class="linenum"> 985</span></a>          if (<a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a> !== false) {
<a name="l986"><span class="linenum"> 986</span></a>  <span class="comment">            // Find entry</span>
<a name="l987"><span class="linenum"> 987</span></a>              if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>, <a class="var it35666" onMouseOver="hilite(35666)" onMouseOut="lolite()" onClick="logVariable('courseactive')" href="../_variables/courseactive.html">$courseactive</a>)) {
<a name="l988"><span class="linenum"> 988</span></a>                  <a class="var it35666" onMouseOver="hilite(35666)" onMouseOut="lolite()" onClick="logVariable('courseactive')" href="../_variables/courseactive.html">$courseactive</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>] = 0;
<a name="l989"><span class="linenum"> 989</span></a>              }
<a name="l990"><span class="linenum"> 990</span></a>  <span class="comment">            // This maths copes with reading rows in any order. Turning on/off</span>
<a name="l991"><span class="linenum"> 991</span></a>  <span class="comment">            // at site level counts 1, at next level down 4, at next level 9,</span>
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment">            // then 16, etc. This means the deepest level always wins, except</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">            // against the -9999 at top level.</span>
<a name="l994"><span class="linenum"> 994</span></a>              <a class="var it35666" onMouseOver="hilite(35666)" onMouseOut="lolite()" onClick="logVariable('courseactive')" href="../_variables/courseactive.html">$courseactive</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>] +=
<a name="l995"><span class="linenum"> 995</span></a>                  (<a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a> + 1) * (<a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a> + 1) * <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('active')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/active.html">active</a>;
<a name="l996"><span class="linenum"> 996</span></a>  
<a name="l997"><span class="linenum"> 997</span></a>              if (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('active')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/active.html">active</a> == <a class="constant" onClick="logConstant('TEXTFILTER_DISABLED')" href="../_constants/TEXTFILTER_DISABLED.html" onMouseOver="constPopup(event,'TEXTFILTER_DISABLED')">TEXTFILTER_DISABLED</a>) {
<a name="l998"><span class="linenum"> 998</span></a>                  <a class="var it35668" onMouseOver="hilite(35668)" onMouseOut="lolite()" onClick="logVariable('banned')" href="../_variables/banned.html">$banned</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>] = true;
<a name="l999"><span class="linenum"> 999</span></a>              }
<a name="l1000"><span class="linenum">1000</span></a>          } else {
<a name="l1001"><span class="linenum">1001</span></a>  <span class="comment">            // Build list of other rows indexed by contextid</span>
<a name="l1002"><span class="linenum">1002</span></a>              if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('contextid')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="var it35667" onMouseOver="hilite(35667)" onMouseOut="lolite()" onClick="logVariable('remainingactives')" href="../_variables/remainingactives.html">$remainingactives</a>)) {
<a name="l1003"><span class="linenum">1003</span></a>                  <a class="var it35667" onMouseOver="hilite(35667)" onMouseOut="lolite()" onClick="logVariable('remainingactives')" href="../_variables/remainingactives.html">$remainingactives</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('contextid')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>] = array();
<a name="l1004"><span class="linenum">1004</span></a>              }
<a name="l1005"><span class="linenum">1005</span></a>              <a class="var it35667" onMouseOver="hilite(35667)" onMouseOut="lolite()" onClick="logVariable('remainingactives')" href="../_variables/remainingactives.html">$remainingactives</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('contextid')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>][] = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>;
<a name="l1006"><span class="linenum">1006</span></a>          }
<a name="l1007"><span class="linenum">1007</span></a>      }
<a name="l1008"><span class="linenum">1008</span></a>  
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">    // Chuck away the ones that aren't active.</span>
<a name="l1010"><span class="linenum">1010</span></a>      foreach (<a class="var it35666" onMouseOver="hilite(35666)" onMouseOut="lolite()" onClick="logVariable('courseactive')" href="../_variables/courseactive.html">$courseactive</a> as <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>=&gt;<a class="var it1634" onMouseOver="hilite(1634)" onMouseOut="lolite()" onClick="logVariable('score')" href="../_variables/score.html">$score</a>) {
<a name="l1011"><span class="linenum">1011</span></a>          if (<a class="var it1634" onMouseOver="hilite(1634)" onMouseOut="lolite()" onClick="logVariable('score')" href="../_variables/score.html">$score</a> &lt;= 0) {
<a name="l1012"><span class="linenum">1012</span></a>              unset(<a class="var it35666" onMouseOver="hilite(35666)" onMouseOut="lolite()" onClick="logVariable('courseactive')" href="../_variables/courseactive.html">$courseactive</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>]);
<a name="l1013"><span class="linenum">1013</span></a>          } else {
<a name="l1014"><span class="linenum">1014</span></a>              <a class="var it35666" onMouseOver="hilite(35666)" onMouseOut="lolite()" onClick="logVariable('courseactive')" href="../_variables/courseactive.html">$courseactive</a>[<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>] = array();
<a name="l1015"><span class="linenum">1015</span></a>          }
<a name="l1016"><span class="linenum">1016</span></a>      }
<a name="l1017"><span class="linenum">1017</span></a>  
<a name="l1018"><span class="linenum">1018</span></a>  <span class="comment">    // Loop through the contexts to reconstruct filter_active lists for each</span>
<a name="l1019"><span class="linenum">1019</span></a>  <span class="comment">    // cm on the course.</span>
<a name="l1020"><span class="linenum">1020</span></a>      if (!isset(<a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('active')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/active.html">active</a>)) {
<a name="l1021"><span class="linenum">1021</span></a>          <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('active')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/active.html">active</a> = array();
<a name="l1022"><span class="linenum">1022</span></a>      }
<a name="l1023"><span class="linenum">1023</span></a>      foreach (<a class="var it35662" onMouseOver="hilite(35662)" onMouseOut="lolite()" onClick="logVariable('cmcontextids')" href="../_variables/cmcontextids.html">$cmcontextids</a> as <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>) {
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">        // Copy course list</span>
<a name="l1025"><span class="linenum">1025</span></a>          <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('active')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/active.html">active</a>[<a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>] = <a class="var it35666" onMouseOver="hilite(35666)" onMouseOut="lolite()" onClick="logVariable('courseactive')" href="../_variables/courseactive.html">$courseactive</a>;
<a name="l1026"><span class="linenum">1026</span></a>  
<a name="l1027"><span class="linenum">1027</span></a>  <span class="comment">        // Are there any changes to the active list?</span>
<a name="l1028"><span class="linenum">1028</span></a>          if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>, <a class="var it35667" onMouseOver="hilite(35667)" onMouseOut="lolite()" onClick="logVariable('remainingactives')" href="../_variables/remainingactives.html">$remainingactives</a>)) {
<a name="l1029"><span class="linenum">1029</span></a>              foreach (<a class="var it35667" onMouseOver="hilite(35667)" onMouseOut="lolite()" onClick="logVariable('remainingactives')" href="../_variables/remainingactives.html">$remainingactives</a>[<a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>] as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>) {
<a name="l1030"><span class="linenum">1030</span></a>                  if (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('active')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/active.html">active</a> &gt; 0 &amp;&amp; empty(<a class="var it35668" onMouseOver="hilite(35668)" onMouseOut="lolite()" onClick="logVariable('banned')" href="../_variables/banned.html">$banned</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>])) {
<a name="l1031"><span class="linenum">1031</span></a>  <span class="comment">                    // If it's marked active for specific context, add entry</span>
<a name="l1032"><span class="linenum">1032</span></a>  <span class="comment">                    // (doesn't matter if one exists already).</span>
<a name="l1033"><span class="linenum">1033</span></a>                      <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('active')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/active.html">active</a>[<a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>][<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>] = array();
<a name="l1034"><span class="linenum">1034</span></a>                  } else {
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment">                    // If it's marked inactive, remove entry (doesn't matter</span>
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment">                    // if it doesn't exist).</span>
<a name="l1037"><span class="linenum">1037</span></a>                      unset(<a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('active')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/active.html">active</a>[<a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>][<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>]);
<a name="l1038"><span class="linenum">1038</span></a>                  }
<a name="l1039"><span class="linenum">1039</span></a>              }
<a name="l1040"><span class="linenum">1040</span></a>          }
<a name="l1041"><span class="linenum">1041</span></a>      }
<a name="l1042"><span class="linenum">1042</span></a>  
<a name="l1043"><span class="linenum">1043</span></a>  <span class="comment">    // Process all config rows to add config data to these entries.</span>
<a name="l1044"><span class="linenum">1044</span></a>      foreach (<a class="var it35665" onMouseOver="hilite(35665)" onMouseOut="lolite()" onClick="logVariable('filterconfigs')" href="../_variables/filterconfigs.html">$filterconfigs</a> as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>) {
<a name="l1045"><span class="linenum">1045</span></a>          if (isset(<a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('active')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/active.html">active</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('contextid')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>][<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>])) {
<a name="l1046"><span class="linenum">1046</span></a>              <a class="var it28023" onMouseOver="hilite(28023)" onMouseOut="lolite()" onClick="logVariable('FILTERLIB_PRIVATE')" href="../_variables/FILTERLIB_PRIVATE.html">$FILTERLIB_PRIVATE</a>-&gt;<a onClick="logVariable('active')" class="var it41038" onMouseOver="hilite(41038)" onMouseOut="lolite()" href="../_variables/active.html">active</a>[<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('contextid')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>][<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('filter')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/filter.html">filter</a>][<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('name')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/name.html">name</a>] = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('value')" class="var it39516" onMouseOver="hilite(39516)" onMouseOut="lolite()" href="../_variables/value.html">value</a>;
<a name="l1047"><span class="linenum">1047</span></a>          }
<a name="l1048"><span class="linenum">1048</span></a>      }
<a name="l1049"><span class="linenum">1049</span></a>  }
<a name="l1050"><span class="linenum">1050</span></a>  
<a name="l1051"><span class="linenum">1051</span></a>  <span class="comment">/**</span>
<a name="l1052"><span class="linenum">1052</span></a>  <span class="comment"> * List all of the filters that are available in this context, and what the</span>
<a name="l1053"><span class="linenum">1053</span></a>  <span class="comment"> * local and inherited states of that filter are.</span>
<a name="l1054"><span class="linenum">1054</span></a>  <span class="comment"> *</span>
<a name="l1055"><span class="linenum">1055</span></a>  <span class="comment"> * @param context $context a context that is not the system context.</span>
<a name="l1056"><span class="linenum">1056</span></a>  <span class="comment"> * @return array an array with filter names, for example 'tex'</span>
<a name="l1057"><span class="linenum">1057</span></a>  <span class="comment"> *      as keys. and and the values are objects with fields:</span>
<a name="l1058"><span class="linenum">1058</span></a>  <span class="comment"> *      -&gt;filter filter name, same as the key.</span>
<a name="l1059"><span class="linenum">1059</span></a>  <span class="comment"> *      -&gt;localstate TEXTFILTER_ON/OFF/INHERIT</span>
<a name="l1060"><span class="linenum">1060</span></a>  <span class="comment"> *      -&gt;inheritedstate TEXTFILTER_ON/OFF - the state that will be used if localstate is set to TEXTFILTER_INHERIT.</span>
<a name="l1061"><span class="linenum">1061</span></a>  <span class="comment"> */</span>
<a name="l1062"><span class="linenum">1062</span></a>  function <a class="function" onClick="logFunction('filter_get_available_in_context')" href="../_functions/filter_get_available_in_context.html" onMouseOver="funcPopup(event,'filter_get_available_in_context')">filter_get_available_in_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l1063"><span class="linenum">1063</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1064"><span class="linenum">1064</span></a>  
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment">    // The complex logic is working out the active state in the parent context,</span>
<a name="l1066"><span class="linenum">1066</span></a>  <span class="comment">    // so strip the current context from the list.</span>
<a name="l1067"><span class="linenum">1067</span></a>      <a class="var it12554" onMouseOver="hilite(12554)" onMouseOut="lolite()" onClick="logVariable('contextids')" href="../_variables/contextids.html">$contextids</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('path')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/path.html">path</a>, '/'));
<a name="l1068"><span class="linenum">1068</span></a>      <a class="phpfunction" onClick="logFunction('array_pop')" href="../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it12554" onMouseOver="hilite(12554)" onMouseOut="lolite()" onClick="logVariable('contextids')" href="../_variables/contextids.html">$contextids</a>);
<a name="l1069"><span class="linenum">1069</span></a>      <a class="var it12554" onMouseOver="hilite(12554)" onMouseOut="lolite()" onClick="logVariable('contextids')" href="../_variables/contextids.html">$contextids</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it12554" onMouseOver="hilite(12554)" onMouseOut="lolite()" onClick="logVariable('contextids')" href="../_variables/contextids.html">$contextids</a>);
<a name="l1070"><span class="linenum">1070</span></a>      if (empty(<a class="var it12554" onMouseOver="hilite(12554)" onMouseOut="lolite()" onClick="logVariable('contextids')" href="../_variables/contextids.html">$contextids</a>)) {
<a name="l1071"><span class="linenum">1071</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('filter_get_available_in_context cannot be called with the system context.');
<a name="l1072"><span class="linenum">1072</span></a>      }
<a name="l1073"><span class="linenum">1073</span></a>  
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment">    // The following SQL is tricky, in the same way at the SQL in filter_get_active_in_context.</span>
<a name="l1075"><span class="linenum">1075</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT parent_states.filter,
<a name="l1076"><span class="linenum">1076</span></a>                  CASE WHEN fa.active IS NULL THEN &quot; . <a class="constant" onClick="logConstant('TEXTFILTER_INHERIT')" href="../_constants/TEXTFILTER_INHERIT.html" onMouseOver="constPopup(event,'TEXTFILTER_INHERIT')">TEXTFILTER_INHERIT</a> . &quot;
<a name="l1077"><span class="linenum">1077</span></a>                  ELSE fa.active END AS localstate,
<a name="l1078"><span class="linenum">1078</span></a>               parent_states.inheritedstate
<a name="l1079"><span class="linenum">1079</span></a>           <a class="function" onClick="logFunction('FROM')" href="../_functions/from.html" onMouseOver="funcPopup(event,'from')">FROM</a> (SELECT f.filter, <a class="phpfunction" onClick="logFunction('MAX')" href="../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(f.sortorder) AS sortorder,
<a name="l1080"><span class="linenum">1080</span></a>                      CASE WHEN <a class="phpfunction" onClick="logFunction('MAX')" href="../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(f.active * ctx.depth) &gt; -<a class="phpfunction" onClick="logFunction('MIN')" href="../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">MIN</a>(f.active * ctx.depth) THEN &quot; . <a class="constant" onClick="logConstant('TEXTFILTER_ON')" href="../_constants/TEXTFILTER_ON.html" onMouseOver="constPopup(event,'TEXTFILTER_ON')">TEXTFILTER_ON</a> . &quot;
<a name="l1081"><span class="linenum">1081</span></a>                      ELSE &quot; . <a class="constant" onClick="logConstant('TEXTFILTER_OFF')" href="../_constants/TEXTFILTER_OFF.html" onMouseOver="constPopup(event,'TEXTFILTER_OFF')">TEXTFILTER_OFF</a> . &quot; END AS inheritedstate
<a name="l1082"><span class="linenum">1082</span></a>               FROM {filter_active} f
<a name="l1083"><span class="linenum">1083</span></a>               JOIN {context} ctx ON f.contextid = ctx.id
<a name="l1084"><span class="linenum">1084</span></a>               WHERE ctx.id IN (<a class="var it12554" onMouseOver="hilite(12554)" onMouseOut="lolite()" onClick="logVariable('contextids')" href="../_variables/contextids.html">$contextids</a>)
<a name="l1085"><span class="linenum">1085</span></a>               GROUP BY f.filter
<a name="l1086"><span class="linenum">1086</span></a>               HAVING <a class="phpfunction" onClick="logFunction('MIN')" href="../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">MIN</a>(f.active) &gt; &quot; . <a class="constant" onClick="logConstant('TEXTFILTER_DISABLED')" href="../_constants/TEXTFILTER_DISABLED.html" onMouseOver="constPopup(event,'TEXTFILTER_DISABLED')">TEXTFILTER_DISABLED</a> . &quot;
<a name="l1087"><span class="linenum">1087</span></a>           ) parent_states
<a name="l1088"><span class="linenum">1088</span></a>           LEFT JOIN {filter_active} fa ON fa.filter = parent_states.filter AND fa.contextid = <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;id
<a name="l1089"><span class="linenum">1089</span></a>           ORDER BY parent_states.sortorder&quot;;
<a name="l1090"><span class="linenum">1090</span></a>      return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>);
<a name="l1091"><span class="linenum">1091</span></a>  }
<a name="l1092"><span class="linenum">1092</span></a>  
<a name="l1093"><span class="linenum">1093</span></a>  <span class="comment">/**</span>
<a name="l1094"><span class="linenum">1094</span></a>  <span class="comment"> * This function is for use by the filter administration page.</span>
<a name="l1095"><span class="linenum">1095</span></a>  <span class="comment"> *</span>
<a name="l1096"><span class="linenum">1096</span></a>  <span class="comment"> * @return array 'filtername' =&gt; object with fields 'filter' (=filtername), 'active' and 'sortorder'</span>
<a name="l1097"><span class="linenum">1097</span></a>  <span class="comment"> */</span>
<a name="l1098"><span class="linenum">1098</span></a>  function <a class="function" onClick="logFunction('filter_get_global_states')" href="../_functions/filter_get_global_states.html" onMouseOver="funcPopup(event,'filter_get_global_states')">filter_get_global_states</a>() {
<a name="l1099"><span class="linenum">1099</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1100"><span class="linenum">1100</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l1101"><span class="linenum">1101</span></a>      return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('filter_active', array('contextid' =&gt; <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>), 'sortorder', 'filter,active,sortorder');
<a name="l1102"><span class="linenum">1102</span></a>  }
<a name="l1103"><span class="linenum">1103</span></a>  
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment">/**</span>
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment"> * Delete all the data in the database relating to a filter, prior to deleting it.</span>
<a name="l1106"><span class="linenum">1106</span></a>  <span class="comment"> *</span>
<a name="l1107"><span class="linenum">1107</span></a>  <span class="comment"> * @param string $filter The filter name, for example 'tex'.</span>
<a name="l1108"><span class="linenum">1108</span></a>  <span class="comment"> */</span>
<a name="l1109"><span class="linenum">1109</span></a>  function <a class="function" onClick="logFunction('filter_delete_all_for_filter')" href="../_functions/filter_delete_all_for_filter.html" onMouseOver="funcPopup(event,'filter_delete_all_for_filter')">filter_delete_all_for_filter</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>) {
<a name="l1110"><span class="linenum">1110</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1111"><span class="linenum">1111</span></a>  
<a name="l1112"><span class="linenum">1112</span></a>      <a class="function" onClick="logFunction('unset_all_config_for_plugin')" href="../_functions/unset_all_config_for_plugin.html" onMouseOver="funcPopup(event,'unset_all_config_for_plugin')">unset_all_config_for_plugin</a>('filter_' . <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>);
<a name="l1113"><span class="linenum">1113</span></a>      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('filter_active', array('filter' =&gt; <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>));
<a name="l1114"><span class="linenum">1114</span></a>      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('filter_config', array('filter' =&gt; <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>));
<a name="l1115"><span class="linenum">1115</span></a>  }
<a name="l1116"><span class="linenum">1116</span></a>  
<a name="l1117"><span class="linenum">1117</span></a>  <span class="comment">/**</span>
<a name="l1118"><span class="linenum">1118</span></a>  <span class="comment"> * Delete all the data in the database relating to a context, used when contexts are deleted.</span>
<a name="l1119"><span class="linenum">1119</span></a>  <span class="comment"> *</span>
<a name="l1120"><span class="linenum">1120</span></a>  <span class="comment"> * @param integer $contextid The id of the context being deleted.</span>
<a name="l1121"><span class="linenum">1121</span></a>  <span class="comment"> */</span>
<a name="l1122"><span class="linenum">1122</span></a>  function <a class="function" onClick="logFunction('filter_delete_all_for_context')" href="../_functions/filter_delete_all_for_context.html" onMouseOver="funcPopup(event,'filter_delete_all_for_context')">filter_delete_all_for_context</a>(<a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>) {
<a name="l1123"><span class="linenum">1123</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1124"><span class="linenum">1124</span></a>      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('filter_active', array('contextid' =&gt; <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>));
<a name="l1125"><span class="linenum">1125</span></a>      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('filter_config', array('contextid' =&gt; <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>));
<a name="l1126"><span class="linenum">1126</span></a>  }
<a name="l1127"><span class="linenum">1127</span></a>  
<a name="l1128"><span class="linenum">1128</span></a>  <span class="comment">/**</span>
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment"> * Does this filter have a global settings page in the admin tree?</span>
<a name="l1130"><span class="linenum">1130</span></a>  <span class="comment"> * (The settings page for a filter must be called, for example, filtersettingfiltertex.)</span>
<a name="l1131"><span class="linenum">1131</span></a>  <span class="comment"> *</span>
<a name="l1132"><span class="linenum">1132</span></a>  <span class="comment"> * @param string $filter The filter name, for example 'tex'.</span>
<a name="l1133"><span class="linenum">1133</span></a>  <span class="comment"> * @return boolean Whether there should be a 'Settings' link on the config page.</span>
<a name="l1134"><span class="linenum">1134</span></a>  <span class="comment"> */</span>
<a name="l1135"><span class="linenum">1135</span></a>  function <a class="function" onClick="logFunction('filter_has_global_settings')" href="../_functions/filter_has_global_settings.html" onMouseOver="funcPopup(event,'filter_has_global_settings')">filter_has_global_settings</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>) {
<a name="l1136"><span class="linenum">1136</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1137"><span class="linenum">1137</span></a>      <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('settingspath')" href="../_variables/settingspath.html">$settingspath</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '/filter/' . <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a> . '/settings.php';
<a name="l1138"><span class="linenum">1138</span></a>      if (<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('settingspath')" href="../_variables/settingspath.html">$settingspath</a>)) {
<a name="l1139"><span class="linenum">1139</span></a>          return true;
<a name="l1140"><span class="linenum">1140</span></a>      }
<a name="l1141"><span class="linenum">1141</span></a>      <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('settingspath')" href="../_variables/settingspath.html">$settingspath</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '/filter/' . <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a> . '/filtersettings.php';
<a name="l1142"><span class="linenum">1142</span></a>      return <a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('settingspath')" href="../_variables/settingspath.html">$settingspath</a>);
<a name="l1143"><span class="linenum">1143</span></a>  }
<a name="l1144"><span class="linenum">1144</span></a>  
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment">/**</span>
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment"> * Does this filter have local (per-context) settings?</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment"> *</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment"> * @param string $filter The filter name, for example 'tex'.</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment"> * @return boolean Whether there should be a 'Settings' link on the manage filters in context page.</span>
<a name="l1150"><span class="linenum">1150</span></a>  <span class="comment"> */</span>
<a name="l1151"><span class="linenum">1151</span></a>  function <a class="function" onClick="logFunction('filter_has_local_settings')" href="../_functions/filter_has_local_settings.html" onMouseOver="funcPopup(event,'filter_has_local_settings')">filter_has_local_settings</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a>) {
<a name="l1152"><span class="linenum">1152</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1153"><span class="linenum">1153</span></a>      <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('settingspath')" href="../_variables/settingspath.html">$settingspath</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '/filter/' . <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('filter')" href="../_variables/filter.html">$filter</a> . '/filterlocalsettings.php';
<a name="l1154"><span class="linenum">1154</span></a>      return <a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('settingspath')" href="../_variables/settingspath.html">$settingspath</a>);
<a name="l1155"><span class="linenum">1155</span></a>  }
<a name="l1156"><span class="linenum">1156</span></a>  
<a name="l1157"><span class="linenum">1157</span></a>  <span class="comment">/**</span>
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment"> * Certain types of context (block and user) may not have local filter settings.</span>
<a name="l1159"><span class="linenum">1159</span></a>  <span class="comment"> * the function checks a context to see whether it may have local config.</span>
<a name="l1160"><span class="linenum">1160</span></a>  <span class="comment"> *</span>
<a name="l1161"><span class="linenum">1161</span></a>  <span class="comment"> * @param object $context a context.</span>
<a name="l1162"><span class="linenum">1162</span></a>  <span class="comment"> * @return boolean whether this context may have local filter settings.</span>
<a name="l1163"><span class="linenum">1163</span></a>  <span class="comment"> */</span>
<a name="l1164"><span class="linenum">1164</span></a>  function <a class="function" onClick="logFunction('filter_context_may_have_filter_settings')" href="../_functions/filter_context_may_have_filter_settings.html" onMouseOver="funcPopup(event,'filter_context_may_have_filter_settings')">filter_context_may_have_filter_settings</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l1165"><span class="linenum">1165</span></a>      return <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_BLOCK')" href="../_constants/CONTEXT_BLOCK.html" onMouseOver="constPopup(event,'CONTEXT_BLOCK')">CONTEXT_BLOCK</a> &amp;&amp; <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_USER')" href="../_constants/CONTEXT_USER.html" onMouseOver="constPopup(event,'CONTEXT_USER')">CONTEXT_USER</a>;
<a name="l1166"><span class="linenum">1166</span></a>  }
<a name="l1167"><span class="linenum">1167</span></a>  
<a name="l1168"><span class="linenum">1168</span></a>  <span class="comment">/**</span>
<a name="l1169"><span class="linenum">1169</span></a>  <span class="comment"> * Process phrases intelligently found within a HTML text (such as adding links).</span>
<a name="l1170"><span class="linenum">1170</span></a>  <span class="comment"> *</span>
<a name="l1171"><span class="linenum">1171</span></a>  <span class="comment"> * @staticvar array $usedpharses</span>
<a name="l1172"><span class="linenum">1172</span></a>  <span class="comment"> * @param string $text             the text that we are filtering</span>
<a name="l1173"><span class="linenum">1173</span></a>  <span class="comment"> * @param array $link_array       an array of filterobjects</span>
<a name="l1174"><span class="linenum">1174</span></a>  <span class="comment"> * @param array $ignoretagsopen   an array of opening tags that we should ignore while filtering</span>
<a name="l1175"><span class="linenum">1175</span></a>  <span class="comment"> * @param array $ignoretagsclose  an array of corresponding closing tags</span>
<a name="l1176"><span class="linenum">1176</span></a>  <span class="comment"> * @param bool $overridedefaultignore True to only use tags provided by arguments</span>
<a name="l1177"><span class="linenum">1177</span></a>  <span class="comment"> * @return string</span>
<a name="l1178"><span class="linenum">1178</span></a>  <span class="comment"> **/</span>
<a name="l1179"><span class="linenum">1179</span></a>  function <a class="function" onClick="logFunction('filter_phrases')" href="../_functions/filter_phrases.html" onMouseOver="funcPopup(event,'filter_phrases')">filter_phrases</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, &amp;<a class="var it35669" onMouseOver="hilite(35669)" onMouseOut="lolite()" onClick="logVariable('link_array')" href="../_variables/link_array.html">$link_array</a>, <a class="var it35670" onMouseOver="hilite(35670)" onMouseOut="lolite()" onClick="logVariable('ignoretagsopen')" href="../_variables/ignoretagsopen.html">$ignoretagsopen</a>=NULL, <a class="var it35671" onMouseOver="hilite(35671)" onMouseOut="lolite()" onClick="logVariable('ignoretagsclose')" href="../_variables/ignoretagsclose.html">$ignoretagsclose</a>=NULL,
<a name="l1180"><span class="linenum">1180</span></a>          <a class="var it35672" onMouseOver="hilite(35672)" onMouseOut="lolite()" onClick="logVariable('overridedefaultignore')" href="../_variables/overridedefaultignore.html">$overridedefaultignore</a>=false) {
<a name="l1181"><span class="linenum">1181</span></a>  
<a name="l1182"><span class="linenum">1182</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1183"><span class="linenum">1183</span></a>  
<a name="l1184"><span class="linenum">1184</span></a>      static <a class="var it35673" onMouseOver="hilite(35673)" onMouseOut="lolite()" onClick="logVariable('usedphrases')" href="../_variables/usedphrases.html">$usedphrases</a>;
<a name="l1185"><span class="linenum">1185</span></a>  
<a name="l1186"><span class="linenum">1186</span></a>      <a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a> = array();  <span class="comment">// To store all the enclosig tags to be completely ignored.</span>
<a name="l1187"><span class="linenum">1187</span></a>      <a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = array();        <span class="comment">// To store all the simple tags to be ignored.</span>
<a name="l1188"><span class="linenum">1188</span></a>  
<a name="l1189"><span class="linenum">1189</span></a>      if (!<a class="var it35672" onMouseOver="hilite(35672)" onMouseOut="lolite()" onClick="logVariable('overridedefaultignore')" href="../_variables/overridedefaultignore.html">$overridedefaultignore</a>) {
<a name="l1190"><span class="linenum">1190</span></a>  <span class="comment">        // A list of open/close tags that we should not replace within</span>
<a name="l1191"><span class="linenum">1191</span></a>  <span class="comment">        // Extended to include &lt;script&gt;, &lt;textarea&gt;, &lt;select&gt; and &lt;a&gt; tags</span>
<a name="l1192"><span class="linenum">1192</span></a>  <span class="comment">        // Regular expression allows tags with or without attributes</span>
<a name="l1193"><span class="linenum">1193</span></a>          <a class="var it31919" onMouseOver="hilite(31919)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsopen')" href="../_variables/filterignoretagsopen.html">$filterignoretagsopen</a>  = array('&lt;head&gt;' , '&lt;nolink&gt;' , '&lt;span class=&quot;nolink&quot;&gt;',
<a name="l1194"><span class="linenum">1194</span></a>                  '&lt;<a class="function" onClick="logFunction('script')" href="../_functions/script.html" onMouseOver="funcPopup(event,'script')">script</a>(\s[^&gt;]*?)?&gt;', '&lt;<a class="function" onClick="logFunction('textarea')" href="../_functions/textarea.html" onMouseOver="funcPopup(event,'textarea')">textarea</a>(\s[^&gt;]*?)?&gt;',
<a name="l1195"><span class="linenum">1195</span></a>                  '&lt;<a class="function" onClick="logFunction('select')" href="../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>(\s[^&gt;]*?)?&gt;', '&lt;<a class="function" onClick="logFunction('a')" href="../_functions/a.html" onMouseOver="funcPopup(event,'a')">a</a>(\s[^&gt;]*?)?&gt;');
<a name="l1196"><span class="linenum">1196</span></a>          <a class="var it31920" onMouseOver="hilite(31920)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsclose')" href="../_variables/filterignoretagsclose.html">$filterignoretagsclose</a> = array('&lt;/head&gt;', '&lt;/nolink&gt;', '&lt;/span&gt;',
<a name="l1197"><span class="linenum">1197</span></a>                   '&lt;/script&gt;', '&lt;/textarea&gt;', '&lt;/select&gt;','&lt;/a&gt;');
<a name="l1198"><span class="linenum">1198</span></a>      } else {
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment">        // Set an empty default list.</span>
<a name="l1200"><span class="linenum">1200</span></a>          <a class="var it31919" onMouseOver="hilite(31919)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsopen')" href="../_variables/filterignoretagsopen.html">$filterignoretagsopen</a> = array();
<a name="l1201"><span class="linenum">1201</span></a>          <a class="var it31920" onMouseOver="hilite(31920)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsclose')" href="../_variables/filterignoretagsclose.html">$filterignoretagsclose</a> = array();
<a name="l1202"><span class="linenum">1202</span></a>      }
<a name="l1203"><span class="linenum">1203</span></a>  
<a name="l1204"><span class="linenum">1204</span></a>  <span class="comment">    // Add the user defined ignore tags to the default list.</span>
<a name="l1205"><span class="linenum">1205</span></a>      if ( <a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it35670" onMouseOver="hilite(35670)" onMouseOut="lolite()" onClick="logVariable('ignoretagsopen')" href="../_variables/ignoretagsopen.html">$ignoretagsopen</a>) ) {
<a name="l1206"><span class="linenum">1206</span></a>          foreach (<a class="var it35670" onMouseOver="hilite(35670)" onMouseOut="lolite()" onClick="logVariable('ignoretagsopen')" href="../_variables/ignoretagsopen.html">$ignoretagsopen</a> as <a class="var it12898" onMouseOver="hilite(12898)" onMouseOut="lolite()" onClick="logVariable('open')" href="../_variables/open.html">$open</a>) {
<a name="l1207"><span class="linenum">1207</span></a>              <a class="var it31919" onMouseOver="hilite(31919)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsopen')" href="../_variables/filterignoretagsopen.html">$filterignoretagsopen</a>[] = <a class="var it12898" onMouseOver="hilite(12898)" onMouseOut="lolite()" onClick="logVariable('open')" href="../_variables/open.html">$open</a>;
<a name="l1208"><span class="linenum">1208</span></a>          }
<a name="l1209"><span class="linenum">1209</span></a>          foreach (<a class="var it35671" onMouseOver="hilite(35671)" onMouseOut="lolite()" onClick="logVariable('ignoretagsclose')" href="../_variables/ignoretagsclose.html">$ignoretagsclose</a> as <a class="var it4524" onMouseOver="hilite(4524)" onMouseOut="lolite()" onClick="logVariable('close')" href="../_variables/close.html">$close</a>) {
<a name="l1210"><span class="linenum">1210</span></a>              <a class="var it31920" onMouseOver="hilite(31920)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsclose')" href="../_variables/filterignoretagsclose.html">$filterignoretagsclose</a>[] = <a class="var it4524" onMouseOver="hilite(4524)" onMouseOut="lolite()" onClick="logVariable('close')" href="../_variables/close.html">$close</a>;
<a name="l1211"><span class="linenum">1211</span></a>          }
<a name="l1212"><span class="linenum">1212</span></a>      }
<a name="l1213"><span class="linenum">1213</span></a>  
<a name="l1214"><span class="linenum">1214</span></a>  <span class="comment">    // Invalid prefixes and suffixes for the fullmatch searches</span>
<a name="l1215"><span class="linenum">1215</span></a>  <span class="comment">    // Every &quot;word&quot; character, but the underscore, is a invalid suffix or prefix.</span>
<a name="l1216"><span class="linenum">1216</span></a>  <span class="comment">    // (nice to use this because it includes national characters (accents...) as word characters.</span>
<a name="l1217"><span class="linenum">1217</span></a>      <a class="var it35674" onMouseOver="hilite(35674)" onMouseOut="lolite()" onClick="logVariable('filterinvalidprefixes')" href="../_variables/filterinvalidprefixes.html">$filterinvalidprefixes</a> = '([^\W_])';
<a name="l1218"><span class="linenum">1218</span></a>      <a class="var it35675" onMouseOver="hilite(35675)" onMouseOut="lolite()" onClick="logVariable('filterinvalidsuffixes')" href="../_variables/filterinvalidsuffixes.html">$filterinvalidsuffixes</a> = '([^\W_])';
<a name="l1219"><span class="linenum">1219</span></a>  
<a name="l1220"><span class="linenum">1220</span></a>  <span class="comment">    // Double up some magic chars to avoid &quot;accidental matches&quot;</span>
<a name="l1221"><span class="linenum">1221</span></a>      <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/([#*%])/','\1\1',<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1222"><span class="linenum">1222</span></a>  
<a name="l1223"><span class="linenum">1223</span></a>  
<a name="l1224"><span class="linenum">1224</span></a>  <span class="comment">    //Remove everything enclosed by the ignore tags from $text</span>
<a name="l1225"><span class="linenum">1225</span></a>      <a class="function" onClick="logFunction('filter_save_ignore_tags')" href="../_functions/filter_save_ignore_tags.html" onMouseOver="funcPopup(event,'filter_save_ignore_tags')">filter_save_ignore_tags</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>,<a class="var it31919" onMouseOver="hilite(31919)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsopen')" href="../_variables/filterignoretagsopen.html">$filterignoretagsopen</a>,<a class="var it31920" onMouseOver="hilite(31920)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsclose')" href="../_variables/filterignoretagsclose.html">$filterignoretagsclose</a>,<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>);
<a name="l1226"><span class="linenum">1226</span></a>  
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment">    // Remove tags from $text</span>
<a name="l1228"><span class="linenum">1228</span></a>      <a class="function" onClick="logFunction('filter_save_tags')" href="../_functions/filter_save_tags.html" onMouseOver="funcPopup(event,'filter_save_tags')">filter_save_tags</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>,<a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>);
<a name="l1229"><span class="linenum">1229</span></a>  
<a name="l1230"><span class="linenum">1230</span></a>  <span class="comment">    // Time to cycle through each phrase to be linked</span>
<a name="l1231"><span class="linenum">1231</span></a>      <a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a> = sizeof(<a class="var it35669" onMouseOver="hilite(35669)" onMouseOut="lolite()" onClick="logVariable('link_array')" href="../_variables/link_array.html">$link_array</a>);
<a name="l1232"><span class="linenum">1232</span></a>      for (<a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a>=0; <a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a> &lt; <a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>; <a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a>++) {
<a name="l1233"><span class="linenum">1233</span></a>          <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a> =&amp; <a class="var it35669" onMouseOver="hilite(35669)" onMouseOut="lolite()" onClick="logVariable('link_array')" href="../_variables/link_array.html">$link_array</a>[<a class="var it291" onMouseOver="hilite(291)" onMouseOut="lolite()" onClick="logVariable('n')" href="../_variables/n.html">$n</a>];
<a name="l1234"><span class="linenum">1234</span></a>  
<a name="l1235"><span class="linenum">1235</span></a>  <span class="comment">        // Set some defaults if certain properties are missing</span>
<a name="l1236"><span class="linenum">1236</span></a>  <span class="comment">        // Properties may be missing if the filterobject class has not been used to construct the object</span>
<a name="l1237"><span class="linenum">1237</span></a>          if (empty(<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/phrase.html">phrase</a>)) {
<a name="l1238"><span class="linenum">1238</span></a>              continue;
<a name="l1239"><span class="linenum">1239</span></a>          }
<a name="l1240"><span class="linenum">1240</span></a>  
<a name="l1241"><span class="linenum">1241</span></a>  <span class="comment">        // Avoid integers &lt; 1000 to be linked. See bug 1446.</span>
<a name="l1242"><span class="linenum">1242</span></a>          <a class="var it35676" onMouseOver="hilite(35676)" onMouseOut="lolite()" onClick="logVariable('intcurrent')" href="../_variables/intcurrent.html">$intcurrent</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/phrase.html">phrase</a>);
<a name="l1243"><span class="linenum">1243</span></a>          if (!empty(<a class="var it35676" onMouseOver="hilite(35676)" onMouseOut="lolite()" onClick="logVariable('intcurrent')" href="../_variables/intcurrent.html">$intcurrent</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('strval')" href="../_functions/strval.html" onMouseOver="phpfuncPopup(event,'strval')">strval</a>(<a class="var it35676" onMouseOver="hilite(35676)" onMouseOut="lolite()" onClick="logVariable('intcurrent')" href="../_variables/intcurrent.html">$intcurrent</a>) == <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/phrase.html">phrase</a> &amp;&amp; <a class="var it35676" onMouseOver="hilite(35676)" onMouseOut="lolite()" onClick="logVariable('intcurrent')" href="../_variables/intcurrent.html">$intcurrent</a> &lt; 1000) {
<a name="l1244"><span class="linenum">1244</span></a>              continue;
<a name="l1245"><span class="linenum">1245</span></a>          }
<a name="l1246"><span class="linenum">1246</span></a>  
<a name="l1247"><span class="linenum">1247</span></a>  <span class="comment">        // All this work has to be done ONLY it it hasn't been done before</span>
<a name="l1248"><span class="linenum">1248</span></a>           if (!<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_calculated')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_calculated.html">work_calculated</a>) {
<a name="l1249"><span class="linenum">1249</span></a>              if (!isset(<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('hreftagbegin')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/hreftagbegin.html">hreftagbegin</a>) or !isset(<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('hreftagend')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/hreftagend.html">hreftagend</a>)) {
<a name="l1250"><span class="linenum">1250</span></a>                  <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_hreftagbegin')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_hreftagbegin.html">work_hreftagbegin</a> = '&lt;span class=&quot;highlight&quot;';
<a name="l1251"><span class="linenum">1251</span></a>                  <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_hreftagend')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_hreftagend.html">work_hreftagend</a>   = '&lt;/span&gt;';
<a name="l1252"><span class="linenum">1252</span></a>              } else {
<a name="l1253"><span class="linenum">1253</span></a>                  <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_hreftagbegin')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_hreftagbegin.html">work_hreftagbegin</a> = <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('hreftagbegin')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/hreftagbegin.html">hreftagbegin</a>;
<a name="l1254"><span class="linenum">1254</span></a>                  <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_hreftagend')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_hreftagend.html">work_hreftagend</a>   = <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('hreftagend')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/hreftagend.html">hreftagend</a>;
<a name="l1255"><span class="linenum">1255</span></a>              }
<a name="l1256"><span class="linenum">1256</span></a>  
<a name="l1257"><span class="linenum">1257</span></a>  <span class="comment">            // Double up chars to protect true duplicates</span>
<a name="l1258"><span class="linenum">1258</span></a>  <span class="comment">            // be cleared up before returning to the user.</span>
<a name="l1259"><span class="linenum">1259</span></a>              <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_hreftagbegin')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_hreftagbegin.html">work_hreftagbegin</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/([#*%])/','\1\1',<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_hreftagbegin')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_hreftagbegin.html">work_hreftagbegin</a>);
<a name="l1260"><span class="linenum">1260</span></a>  
<a name="l1261"><span class="linenum">1261</span></a>              if (empty(<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('casesensitive')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/casesensitive.html">casesensitive</a>)) {
<a name="l1262"><span class="linenum">1262</span></a>                  <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_casesensitive')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_casesensitive.html">work_casesensitive</a> = false;
<a name="l1263"><span class="linenum">1263</span></a>              } else {
<a name="l1264"><span class="linenum">1264</span></a>                  <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_casesensitive')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_casesensitive.html">work_casesensitive</a> = true;
<a name="l1265"><span class="linenum">1265</span></a>              }
<a name="l1266"><span class="linenum">1266</span></a>              if (empty(<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('fullmatch')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/fullmatch.html">fullmatch</a>)) {
<a name="l1267"><span class="linenum">1267</span></a>                  <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_fullmatch')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_fullmatch.html">work_fullmatch</a> = false;
<a name="l1268"><span class="linenum">1268</span></a>              } else {
<a name="l1269"><span class="linenum">1269</span></a>                  <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_fullmatch')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_fullmatch.html">work_fullmatch</a> = true;
<a name="l1270"><span class="linenum">1270</span></a>              }
<a name="l1271"><span class="linenum">1271</span></a>  
<a name="l1272"><span class="linenum">1272</span></a>  <span class="comment">            // Strip tags out of the phrase</span>
<a name="l1273"><span class="linenum">1273</span></a>              <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a> = <a class="phpfunction" onClick="logFunction('strip_tags')" href="../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/phrase.html">phrase</a>);
<a name="l1274"><span class="linenum">1274</span></a>  
<a name="l1275"><span class="linenum">1275</span></a>  <span class="comment">            // Double up chars that might cause a false match -- the duplicates will</span>
<a name="l1276"><span class="linenum">1276</span></a>  <span class="comment">            // be cleared up before returning to the user.</span>
<a name="l1277"><span class="linenum">1277</span></a>              <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/([#*%])/','\1\1',<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a>);
<a name="l1278"><span class="linenum">1278</span></a>  
<a name="l1279"><span class="linenum">1279</span></a>  <span class="comment">            // Set the replacement phrase properly</span>
<a name="l1280"><span class="linenum">1280</span></a>              if (<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('replacementphrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/replacementphrase.html">replacementphrase</a>) {    //We have specified a replacement phrase
<a name="l1281"><span class="linenum">1281</span></a>  <span class="comment">                // Strip tags</span>
<a name="l1282"><span class="linenum">1282</span></a>                  <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_replacementphrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_replacementphrase.html">work_replacementphrase</a> = <a class="phpfunction" onClick="logFunction('strip_tags')" href="../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('replacementphrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/replacementphrase.html">replacementphrase</a>);
<a name="l1283"><span class="linenum">1283</span></a>              } else {                                 //The replacement is the original phrase as matched below
<a name="l1284"><span class="linenum">1284</span></a>                  <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_replacementphrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_replacementphrase.html">work_replacementphrase</a> = '<a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('1')" href="../_variables/1.html">$1</a>';
<a name="l1285"><span class="linenum">1285</span></a>              }
<a name="l1286"><span class="linenum">1286</span></a>  
<a name="l1287"><span class="linenum">1287</span></a>  <span class="comment">            // Quote any regular expression characters and the delimiter in the work phrase to be searched</span>
<a name="l1288"><span class="linenum">1288</span></a>              <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a> = <a class="phpfunction" onClick="logFunction('preg_quote')" href="../_functions/preg_quote.html" onMouseOver="phpfuncPopup(event,'preg_quote')">preg_quote</a>(<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a>, '/');
<a name="l1289"><span class="linenum">1289</span></a>  
<a name="l1290"><span class="linenum">1290</span></a>  <span class="comment">            // Work calculated</span>
<a name="l1291"><span class="linenum">1291</span></a>              <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_calculated')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_calculated.html">work_calculated</a> = true;
<a name="l1292"><span class="linenum">1292</span></a>  
<a name="l1293"><span class="linenum">1293</span></a>          }
<a name="l1294"><span class="linenum">1294</span></a>  
<a name="l1295"><span class="linenum">1295</span></a>  <span class="comment">        // If $CFG-&gt;filtermatchoneperpage, avoid previously (request) linked phrases</span>
<a name="l1296"><span class="linenum">1296</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('filtermatchoneperpage')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/filtermatchoneperpage.html">filtermatchoneperpage</a>)) {
<a name="l1297"><span class="linenum">1297</span></a>              if (!empty(<a class="var it35673" onMouseOver="hilite(35673)" onMouseOut="lolite()" onClick="logVariable('usedphrases')" href="../_variables/usedphrases.html">$usedphrases</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a>,<a class="var it35673" onMouseOver="hilite(35673)" onMouseOut="lolite()" onClick="logVariable('usedphrases')" href="../_variables/usedphrases.html">$usedphrases</a>)) {
<a name="l1298"><span class="linenum">1298</span></a>                  continue;
<a name="l1299"><span class="linenum">1299</span></a>              }
<a name="l1300"><span class="linenum">1300</span></a>          }
<a name="l1301"><span class="linenum">1301</span></a>  
<a name="l1302"><span class="linenum">1302</span></a>  <span class="comment">        // Regular expression modifiers</span>
<a name="l1303"><span class="linenum">1303</span></a>          <a class="var it3788" onMouseOver="hilite(3788)" onMouseOut="lolite()" onClick="logVariable('modifiers')" href="../_variables/modifiers.html">$modifiers</a> = (<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_casesensitive')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_casesensitive.html">work_casesensitive</a>) ? 's' : 'isu'; <span class="comment">// works in unicode mode!</span>
<a name="l1304"><span class="linenum">1304</span></a>  
<a name="l1305"><span class="linenum">1305</span></a>  <span class="comment">        // Do we need to do a fullmatch?</span>
<a name="l1306"><span class="linenum">1306</span></a>  <span class="comment">        // If yes then go through and remove any non full matching entries</span>
<a name="l1307"><span class="linenum">1307</span></a>          if (<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_fullmatch')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_fullmatch.html">work_fullmatch</a>) {
<a name="l1308"><span class="linenum">1308</span></a>              <a class="var it35678" onMouseOver="hilite(35678)" onMouseOut="lolite()" onClick="logVariable('notfullmatches')" href="../_variables/notfullmatches.html">$notfullmatches</a> = array();
<a name="l1309"><span class="linenum">1309</span></a>              <a class="var it6345" onMouseOver="hilite(6345)" onMouseOut="lolite()" onClick="logVariable('regexp')" href="../_variables/regexp.html">$regexp</a> = '/'.<a class="var it35674" onMouseOver="hilite(35674)" onMouseOut="lolite()" onClick="logVariable('filterinvalidprefixes')" href="../_variables/filterinvalidprefixes.html">$filterinvalidprefixes</a>.'('.<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a>.')|('.<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a>.')'.<a class="var it35675" onMouseOver="hilite(35675)" onMouseOut="lolite()" onClick="logVariable('filterinvalidsuffixes')" href="../_variables/filterinvalidsuffixes.html">$filterinvalidsuffixes</a>.'/'.<a class="var it3788" onMouseOver="hilite(3788)" onMouseOut="lolite()" onClick="logVariable('modifiers')" href="../_variables/modifiers.html">$modifiers</a>;
<a name="l1310"><span class="linenum">1310</span></a>  
<a name="l1311"><span class="linenum">1311</span></a>              <a class="phpfunction" onClick="logFunction('preg_match_all')" href="../_functions/preg_match_all.html" onMouseOver="phpfuncPopup(event,'preg_match_all')">preg_match_all</a>(<a class="var it6345" onMouseOver="hilite(6345)" onMouseOut="lolite()" onClick="logVariable('regexp')" href="../_variables/regexp.html">$regexp</a>,<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>,<a class="var it35679" onMouseOver="hilite(35679)" onMouseOut="lolite()" onClick="logVariable('list_of_notfullmatches')" href="../_variables/list_of_notfullmatches.html">$list_of_notfullmatches</a>);
<a name="l1312"><span class="linenum">1312</span></a>  
<a name="l1313"><span class="linenum">1313</span></a>              if (<a class="var it35679" onMouseOver="hilite(35679)" onMouseOut="lolite()" onClick="logVariable('list_of_notfullmatches')" href="../_variables/list_of_notfullmatches.html">$list_of_notfullmatches</a>) {
<a name="l1314"><span class="linenum">1314</span></a>                  foreach (<a class="phpfunction" onClick="logFunction('array_unique')" href="../_functions/array_unique.html" onMouseOver="phpfuncPopup(event,'array_unique')">array_unique</a>(<a class="var it35679" onMouseOver="hilite(35679)" onMouseOut="lolite()" onClick="logVariable('list_of_notfullmatches')" href="../_variables/list_of_notfullmatches.html">$list_of_notfullmatches</a>[0]) as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>=&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l1315"><span class="linenum">1315</span></a>                      <a class="var it35678" onMouseOver="hilite(35678)" onMouseOut="lolite()" onClick="logVariable('notfullmatches')" href="../_variables/notfullmatches.html">$notfullmatches</a>['&lt;*'.<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>.'*&gt;'] = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l1316"><span class="linenum">1316</span></a>                  }
<a name="l1317"><span class="linenum">1317</span></a>                  if (!empty(<a class="var it35678" onMouseOver="hilite(35678)" onMouseOut="lolite()" onClick="logVariable('notfullmatches')" href="../_variables/notfullmatches.html">$notfullmatches</a>)) {
<a name="l1318"><span class="linenum">1318</span></a>                      <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it35678" onMouseOver="hilite(35678)" onMouseOut="lolite()" onClick="logVariable('notfullmatches')" href="../_variables/notfullmatches.html">$notfullmatches</a>,<a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it35678" onMouseOver="hilite(35678)" onMouseOut="lolite()" onClick="logVariable('notfullmatches')" href="../_variables/notfullmatches.html">$notfullmatches</a>),<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1319"><span class="linenum">1319</span></a>                  }
<a name="l1320"><span class="linenum">1320</span></a>              }
<a name="l1321"><span class="linenum">1321</span></a>          }
<a name="l1322"><span class="linenum">1322</span></a>  
<a name="l1323"><span class="linenum">1323</span></a>  <span class="comment">        // Finally we do our highlighting</span>
<a name="l1324"><span class="linenum">1324</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('filtermatchonepertext')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/filtermatchonepertext.html">filtermatchonepertext</a>) || !empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('filtermatchoneperpage')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/filtermatchoneperpage.html">filtermatchoneperpage</a>)) {
<a name="l1325"><span class="linenum">1325</span></a>              <a class="var it35681" onMouseOver="hilite(35681)" onMouseOut="lolite()" onClick="logVariable('resulttext')" href="../_variables/resulttext.html">$resulttext</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/('.<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a>.')/'.<a class="var it3788" onMouseOver="hilite(3788)" onMouseOut="lolite()" onClick="logVariable('modifiers')" href="../_variables/modifiers.html">$modifiers</a>,
<a name="l1326"><span class="linenum">1326</span></a>                                        <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_hreftagbegin')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_hreftagbegin.html">work_hreftagbegin</a>.
<a name="l1327"><span class="linenum">1327</span></a>                                        <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_replacementphrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_replacementphrase.html">work_replacementphrase</a>.
<a name="l1328"><span class="linenum">1328</span></a>                                        <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_hreftagend')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_hreftagend.html">work_hreftagend</a>, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, 1);
<a name="l1329"><span class="linenum">1329</span></a>          } else {
<a name="l1330"><span class="linenum">1330</span></a>              <a class="var it35681" onMouseOver="hilite(35681)" onMouseOut="lolite()" onClick="logVariable('resulttext')" href="../_variables/resulttext.html">$resulttext</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/('.<a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a>.')/'.<a class="var it3788" onMouseOver="hilite(3788)" onMouseOut="lolite()" onClick="logVariable('modifiers')" href="../_variables/modifiers.html">$modifiers</a>,
<a name="l1331"><span class="linenum">1331</span></a>                                        <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_hreftagbegin')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_hreftagbegin.html">work_hreftagbegin</a>.
<a name="l1332"><span class="linenum">1332</span></a>                                        <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_replacementphrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_replacementphrase.html">work_replacementphrase</a>.
<a name="l1333"><span class="linenum">1333</span></a>                                        <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_hreftagend')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_hreftagend.html">work_hreftagend</a>, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1334"><span class="linenum">1334</span></a>          }
<a name="l1335"><span class="linenum">1335</span></a>  
<a name="l1336"><span class="linenum">1336</span></a>  
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">        // If the text has changed we have to look for links again</span>
<a name="l1338"><span class="linenum">1338</span></a>          if (<a class="var it35681" onMouseOver="hilite(35681)" onMouseOut="lolite()" onClick="logVariable('resulttext')" href="../_variables/resulttext.html">$resulttext</a> != <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>) {
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">            // Set $text to $resulttext</span>
<a name="l1340"><span class="linenum">1340</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="var it35681" onMouseOver="hilite(35681)" onMouseOut="lolite()" onClick="logVariable('resulttext')" href="../_variables/resulttext.html">$resulttext</a>;
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment">            // Remove everything enclosed by the ignore tags from $text</span>
<a name="l1342"><span class="linenum">1342</span></a>              <a class="function" onClick="logFunction('filter_save_ignore_tags')" href="../_functions/filter_save_ignore_tags.html" onMouseOver="funcPopup(event,'filter_save_ignore_tags')">filter_save_ignore_tags</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>,<a class="var it31919" onMouseOver="hilite(31919)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsopen')" href="../_variables/filterignoretagsopen.html">$filterignoretagsopen</a>,<a class="var it31920" onMouseOver="hilite(31920)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsclose')" href="../_variables/filterignoretagsclose.html">$filterignoretagsclose</a>,<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>);
<a name="l1343"><span class="linenum">1343</span></a>  <span class="comment">            // Remove tags from $text</span>
<a name="l1344"><span class="linenum">1344</span></a>              <a class="function" onClick="logFunction('filter_save_tags')" href="../_functions/filter_save_tags.html" onMouseOver="funcPopup(event,'filter_save_tags')">filter_save_tags</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>,<a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>);
<a name="l1345"><span class="linenum">1345</span></a>  <span class="comment">            // If $CFG-&gt;filtermatchoneperpage, save linked phrases to request</span>
<a name="l1346"><span class="linenum">1346</span></a>              if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('filtermatchoneperpage')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/filtermatchoneperpage.html">filtermatchoneperpage</a>)) {
<a name="l1347"><span class="linenum">1347</span></a>                  <a class="var it35673" onMouseOver="hilite(35673)" onMouseOut="lolite()" onClick="logVariable('usedphrases')" href="../_variables/usedphrases.html">$usedphrases</a>[] = <a class="var it23852" onMouseOver="hilite(23852)" onMouseOut="lolite()" onClick="logVariable('linkobject')" href="../_variables/linkobject.html">$linkobject</a>-&gt;<a onClick="logVariable('work_phrase')" class="var it41040" onMouseOver="hilite(41040)" onMouseOut="lolite()" href="../_variables/work_phrase.html">work_phrase</a>;
<a name="l1348"><span class="linenum">1348</span></a>              }
<a name="l1349"><span class="linenum">1349</span></a>          }
<a name="l1350"><span class="linenum">1350</span></a>  
<a name="l1351"><span class="linenum">1351</span></a>  
<a name="l1352"><span class="linenum">1352</span></a>  <span class="comment">        // Replace the not full matches before cycling to next link object</span>
<a name="l1353"><span class="linenum">1353</span></a>          if (!empty(<a class="var it35678" onMouseOver="hilite(35678)" onMouseOut="lolite()" onClick="logVariable('notfullmatches')" href="../_variables/notfullmatches.html">$notfullmatches</a>)) {
<a name="l1354"><span class="linenum">1354</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it35678" onMouseOver="hilite(35678)" onMouseOut="lolite()" onClick="logVariable('notfullmatches')" href="../_variables/notfullmatches.html">$notfullmatches</a>),<a class="var it35678" onMouseOver="hilite(35678)" onMouseOut="lolite()" onClick="logVariable('notfullmatches')" href="../_variables/notfullmatches.html">$notfullmatches</a>,<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1355"><span class="linenum">1355</span></a>              unset(<a class="var it35678" onMouseOver="hilite(35678)" onMouseOut="lolite()" onClick="logVariable('notfullmatches')" href="../_variables/notfullmatches.html">$notfullmatches</a>);
<a name="l1356"><span class="linenum">1356</span></a>          }
<a name="l1357"><span class="linenum">1357</span></a>      }
<a name="l1358"><span class="linenum">1358</span></a>  
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">    // Rebuild the text with all the excluded areas</span>
<a name="l1360"><span class="linenum">1360</span></a>  
<a name="l1361"><span class="linenum">1361</span></a>      if (!empty(<a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>)) {
<a name="l1362"><span class="linenum">1362</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>), <a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1363"><span class="linenum">1363</span></a>      }
<a name="l1364"><span class="linenum">1364</span></a>  
<a name="l1365"><span class="linenum">1365</span></a>      if (!empty(<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>)) {
<a name="l1366"><span class="linenum">1366</span></a>          <a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a> = <a class="phpfunction" onClick="logFunction('array_reverse')" href="../_functions/array_reverse.html" onMouseOver="phpfuncPopup(event,'array_reverse')">array_reverse</a>(<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>);     <span class="comment">// Reversed so &quot;progressive&quot; str_replace() will solve some nesting problems.</span>
<a name="l1367"><span class="linenum">1367</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>),<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>,<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1368"><span class="linenum">1368</span></a>      }
<a name="l1369"><span class="linenum">1369</span></a>  
<a name="l1370"><span class="linenum">1370</span></a>  <span class="comment">    // Remove the protective doubleups</span>
<a name="l1371"><span class="linenum">1371</span></a>      <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> =  <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/([#*%])(\1)/','\1',<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1372"><span class="linenum">1372</span></a>  
<a name="l1373"><span class="linenum">1373</span></a>  <span class="comment">    // Add missing javascript for popus</span>
<a name="l1374"><span class="linenum">1374</span></a>      <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="function" onClick="logFunction('filter_add_javascript')" href="../_functions/filter_add_javascript.html" onMouseOver="funcPopup(event,'filter_add_javascript')">filter_add_javascript</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1375"><span class="linenum">1375</span></a>  
<a name="l1376"><span class="linenum">1376</span></a>  
<a name="l1377"><span class="linenum">1377</span></a>      return <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>;
<a name="l1378"><span class="linenum">1378</span></a>  }
<a name="l1379"><span class="linenum">1379</span></a>  
<a name="l1380"><span class="linenum">1380</span></a>  <span class="comment">/**</span>
<a name="l1381"><span class="linenum">1381</span></a>  <span class="comment"> * @todo Document this function</span>
<a name="l1382"><span class="linenum">1382</span></a>  <span class="comment"> * @param array $linkarray</span>
<a name="l1383"><span class="linenum">1383</span></a>  <span class="comment"> * @return array</span>
<a name="l1384"><span class="linenum">1384</span></a>  <span class="comment"> */</span>
<a name="l1385"><span class="linenum">1385</span></a>  function <a class="function" onClick="logFunction('filter_remove_duplicates')" href="../_functions/filter_remove_duplicates.html" onMouseOver="funcPopup(event,'filter_remove_duplicates')">filter_remove_duplicates</a>(<a class="var it5203" onMouseOver="hilite(5203)" onMouseOut="lolite()" onClick="logVariable('linkarray')" href="../_variables/linkarray.html">$linkarray</a>) {
<a name="l1386"><span class="linenum">1386</span></a>  
<a name="l1387"><span class="linenum">1387</span></a>      <a class="var it34319" onMouseOver="hilite(34319)" onMouseOut="lolite()" onClick="logVariable('concepts')" href="../_variables/concepts.html">$concepts</a>  = array(); <span class="comment">// keep a record of concepts as we cycle through</span>
<a name="l1388"><span class="linenum">1388</span></a>      <a class="var it35682" onMouseOver="hilite(35682)" onMouseOut="lolite()" onClick="logVariable('lconcepts')" href="../_variables/lconcepts.html">$lconcepts</a> = array(); <span class="comment">// a lower case version for case insensitive</span>
<a name="l1389"><span class="linenum">1389</span></a>  
<a name="l1390"><span class="linenum">1390</span></a>      <a class="var it35683" onMouseOver="hilite(35683)" onMouseOut="lolite()" onClick="logVariable('cleanlinks')" href="../_variables/cleanlinks.html">$cleanlinks</a> = array();
<a name="l1391"><span class="linenum">1391</span></a>  
<a name="l1392"><span class="linenum">1392</span></a>      foreach (<a class="var it5203" onMouseOver="hilite(5203)" onMouseOut="lolite()" onClick="logVariable('linkarray')" href="../_variables/linkarray.html">$linkarray</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>=&gt;<a class="var it35684" onMouseOver="hilite(35684)" onMouseOut="lolite()" onClick="logVariable('filterobject')" href="../_variables/filterobject.html">$filterobject</a>) {
<a name="l1393"><span class="linenum">1393</span></a>          if (<a class="var it35684" onMouseOver="hilite(35684)" onMouseOut="lolite()" onClick="logVariable('filterobject')" href="../_variables/filterobject.html">$filterobject</a>-&gt;<a onClick="logVariable('casesensitive')" class="var it41041" onMouseOver="hilite(41041)" onMouseOut="lolite()" href="../_variables/casesensitive.html">casesensitive</a>) {
<a name="l1394"><span class="linenum">1394</span></a>              <a class="var it10380" onMouseOver="hilite(10380)" onMouseOut="lolite()" onClick="logVariable('exists')" href="../_variables/exists.html">$exists</a> = <a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it35684" onMouseOver="hilite(35684)" onMouseOut="lolite()" onClick="logVariable('filterobject')" href="../_variables/filterobject.html">$filterobject</a>-&gt;<a onClick="logVariable('phrase')" class="var it41041" onMouseOver="hilite(41041)" onMouseOut="lolite()" href="../_variables/phrase.html">phrase</a>, <a class="var it34319" onMouseOver="hilite(34319)" onMouseOut="lolite()" onClick="logVariable('concepts')" href="../_variables/concepts.html">$concepts</a>);
<a name="l1395"><span class="linenum">1395</span></a>          } else {
<a name="l1396"><span class="linenum">1396</span></a>              <a class="var it10380" onMouseOver="hilite(10380)" onMouseOut="lolite()" onClick="logVariable('exists')" href="../_variables/exists.html">$exists</a> = <a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="phpfunction" onClick="logFunction('strtolower')" href="../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it35684" onMouseOver="hilite(35684)" onMouseOut="lolite()" onClick="logVariable('filterobject')" href="../_variables/filterobject.html">$filterobject</a>-&gt;<a onClick="logVariable('phrase')" class="var it41041" onMouseOver="hilite(41041)" onMouseOut="lolite()" href="../_variables/phrase.html">phrase</a>), <a class="var it35682" onMouseOver="hilite(35682)" onMouseOut="lolite()" onClick="logVariable('lconcepts')" href="../_variables/lconcepts.html">$lconcepts</a>);
<a name="l1397"><span class="linenum">1397</span></a>          }
<a name="l1398"><span class="linenum">1398</span></a>  
<a name="l1399"><span class="linenum">1399</span></a>          if (!<a class="var it10380" onMouseOver="hilite(10380)" onMouseOut="lolite()" onClick="logVariable('exists')" href="../_variables/exists.html">$exists</a>) {
<a name="l1400"><span class="linenum">1400</span></a>              <a class="var it35683" onMouseOver="hilite(35683)" onMouseOut="lolite()" onClick="logVariable('cleanlinks')" href="../_variables/cleanlinks.html">$cleanlinks</a>[] = <a class="var it35684" onMouseOver="hilite(35684)" onMouseOut="lolite()" onClick="logVariable('filterobject')" href="../_variables/filterobject.html">$filterobject</a>;
<a name="l1401"><span class="linenum">1401</span></a>              <a class="var it34319" onMouseOver="hilite(34319)" onMouseOut="lolite()" onClick="logVariable('concepts')" href="../_variables/concepts.html">$concepts</a>[] = <a class="var it35684" onMouseOver="hilite(35684)" onMouseOut="lolite()" onClick="logVariable('filterobject')" href="../_variables/filterobject.html">$filterobject</a>-&gt;<a onClick="logVariable('phrase')" class="var it41041" onMouseOver="hilite(41041)" onMouseOut="lolite()" href="../_variables/phrase.html">phrase</a>;
<a name="l1402"><span class="linenum">1402</span></a>              <a class="var it35682" onMouseOver="hilite(35682)" onMouseOut="lolite()" onClick="logVariable('lconcepts')" href="../_variables/lconcepts.html">$lconcepts</a>[] = <a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="phpfunction" onClick="logFunction('strtolower')" href="../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it35684" onMouseOver="hilite(35684)" onMouseOut="lolite()" onClick="logVariable('filterobject')" href="../_variables/filterobject.html">$filterobject</a>-&gt;<a onClick="logVariable('phrase')" class="var it41041" onMouseOver="hilite(41041)" onMouseOut="lolite()" href="../_variables/phrase.html">phrase</a>);
<a name="l1403"><span class="linenum">1403</span></a>          }
<a name="l1404"><span class="linenum">1404</span></a>      }
<a name="l1405"><span class="linenum">1405</span></a>  
<a name="l1406"><span class="linenum">1406</span></a>      return <a class="var it35683" onMouseOver="hilite(35683)" onMouseOut="lolite()" onClick="logVariable('cleanlinks')" href="../_variables/cleanlinks.html">$cleanlinks</a>;
<a name="l1407"><span class="linenum">1407</span></a>  }
<a name="l1408"><span class="linenum">1408</span></a>  
<a name="l1409"><span class="linenum">1409</span></a>  <span class="comment">/**</span>
<a name="l1410"><span class="linenum">1410</span></a>  <span class="comment"> * Extract open/lose tags and their contents to avoid being processed by filters.</span>
<a name="l1411"><span class="linenum">1411</span></a>  <span class="comment"> * Useful to extract pieces of code like &lt;a&gt;...&lt;/a&gt; tags. It returns the text</span>
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment"> * converted with some &lt;#xTEXTFILTER_EXCL_SEPARATORx#&gt; codes replacing the extracted text. Such extracted</span>
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment"> * texts are returned in the ignoretags array (as values), with codes as keys.</span>
<a name="l1414"><span class="linenum">1414</span></a>  <span class="comment"> *</span>
<a name="l1415"><span class="linenum">1415</span></a>  <span class="comment"> * @param string $text                  the text that we are filtering (in/out)</span>
<a name="l1416"><span class="linenum">1416</span></a>  <span class="comment"> * @param array $filterignoretagsopen  an array of open tags to start searching</span>
<a name="l1417"><span class="linenum">1417</span></a>  <span class="comment"> * @param array $filterignoretagsclose an array of close tags to end searching</span>
<a name="l1418"><span class="linenum">1418</span></a>  <span class="comment"> * @param array $ignoretags            an array of saved strings useful to rebuild the original text (in/out)</span>
<a name="l1419"><span class="linenum">1419</span></a>  <span class="comment"> **/</span>
<a name="l1420"><span class="linenum">1420</span></a>  function <a class="function" onClick="logFunction('filter_save_ignore_tags')" href="../_functions/filter_save_ignore_tags.html" onMouseOver="funcPopup(event,'filter_save_ignore_tags')">filter_save_ignore_tags</a>(&amp;<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it31919" onMouseOver="hilite(31919)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsopen')" href="../_variables/filterignoretagsopen.html">$filterignoretagsopen</a>, <a class="var it31920" onMouseOver="hilite(31920)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsclose')" href="../_variables/filterignoretagsclose.html">$filterignoretagsclose</a>, &amp;<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>) {
<a name="l1421"><span class="linenum">1421</span></a>  
<a name="l1422"><span class="linenum">1422</span></a>  <span class="comment">    // Remove everything enclosed by the ignore tags from $text</span>
<a name="l1423"><span class="linenum">1423</span></a>      foreach (<a class="var it31919" onMouseOver="hilite(31919)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsopen')" href="../_variables/filterignoretagsopen.html">$filterignoretagsopen</a> as <a class="var it35685" onMouseOver="hilite(35685)" onMouseOut="lolite()" onClick="logVariable('ikey')" href="../_variables/ikey.html">$ikey</a>=&gt;<a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('opentag')" href="../_variables/opentag.html">$opentag</a>) {
<a name="l1424"><span class="linenum">1424</span></a>          <a class="var it35687" onMouseOver="hilite(35687)" onMouseOut="lolite()" onClick="logVariable('closetag')" href="../_variables/closetag.html">$closetag</a> = <a class="var it31920" onMouseOver="hilite(31920)" onMouseOut="lolite()" onClick="logVariable('filterignoretagsclose')" href="../_variables/filterignoretagsclose.html">$filterignoretagsclose</a>[<a class="var it35685" onMouseOver="hilite(35685)" onMouseOut="lolite()" onClick="logVariable('ikey')" href="../_variables/ikey.html">$ikey</a>];
<a name="l1425"><span class="linenum">1425</span></a>  <span class="comment">        // form regular expression</span>
<a name="l1426"><span class="linenum">1426</span></a>          <a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('opentag')" href="../_variables/opentag.html">$opentag</a>  = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('/','\/',<a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('opentag')" href="../_variables/opentag.html">$opentag</a>); <span class="comment">// delimit forward slashes</span>
<a name="l1427"><span class="linenum">1427</span></a>          <a class="var it35687" onMouseOver="hilite(35687)" onMouseOut="lolite()" onClick="logVariable('closetag')" href="../_variables/closetag.html">$closetag</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('/','\/',<a class="var it35687" onMouseOver="hilite(35687)" onMouseOut="lolite()" onClick="logVariable('closetag')" href="../_variables/closetag.html">$closetag</a>); <span class="comment">// delimit forward slashes</span>
<a name="l1428"><span class="linenum">1428</span></a>          <a class="var it35688" onMouseOver="hilite(35688)" onMouseOut="lolite()" onClick="logVariable('pregexp')" href="../_variables/pregexp.html">$pregexp</a> = '/'.<a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('opentag')" href="../_variables/opentag.html">$opentag</a>.'(.*?)'.<a class="var it35687" onMouseOver="hilite(35687)" onMouseOut="lolite()" onClick="logVariable('closetag')" href="../_variables/closetag.html">$closetag</a>.'/is';
<a name="l1429"><span class="linenum">1429</span></a>  
<a name="l1430"><span class="linenum">1430</span></a>          <a class="phpfunction" onClick="logFunction('preg_match_all')" href="../_functions/preg_match_all.html" onMouseOver="phpfuncPopup(event,'preg_match_all')">preg_match_all</a>(<a class="var it35688" onMouseOver="hilite(35688)" onMouseOut="lolite()" onClick="logVariable('pregexp')" href="../_variables/pregexp.html">$pregexp</a>, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it35689" onMouseOver="hilite(35689)" onMouseOut="lolite()" onClick="logVariable('list_of_ignores')" href="../_variables/list_of_ignores.html">$list_of_ignores</a>);
<a name="l1431"><span class="linenum">1431</span></a>          foreach (<a class="phpfunction" onClick="logFunction('array_unique')" href="../_functions/array_unique.html" onMouseOver="phpfuncPopup(event,'array_unique')">array_unique</a>(<a class="var it35689" onMouseOver="hilite(35689)" onMouseOut="lolite()" onClick="logVariable('list_of_ignores')" href="../_variables/list_of_ignores.html">$list_of_ignores</a>[0]) as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>=&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l1432"><span class="linenum">1432</span></a>              <a class="var it637" onMouseOver="hilite(637)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../_variables/prefix.html">$prefix</a> = (string)(<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>) + 1);
<a name="l1433"><span class="linenum">1433</span></a>              <a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>['&lt;#'.<a class="var it637" onMouseOver="hilite(637)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../_variables/prefix.html">$prefix</a>.<a class="constant" onClick="logConstant('TEXTFILTER_EXCL_SEPARATOR')" href="../_constants/TEXTFILTER_EXCL_SEPARATOR.html" onMouseOver="constPopup(event,'TEXTFILTER_EXCL_SEPARATOR')">TEXTFILTER_EXCL_SEPARATOR</a>.<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>.'#&gt;'] = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l1434"><span class="linenum">1434</span></a>          }
<a name="l1435"><span class="linenum">1435</span></a>          if (!empty(<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>)) {
<a name="l1436"><span class="linenum">1436</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>,<a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it31921" onMouseOver="hilite(31921)" onMouseOut="lolite()" onClick="logVariable('ignoretags')" href="../_variables/ignoretags.html">$ignoretags</a>),<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1437"><span class="linenum">1437</span></a>          }
<a name="l1438"><span class="linenum">1438</span></a>      }
<a name="l1439"><span class="linenum">1439</span></a>  }
<a name="l1440"><span class="linenum">1440</span></a>  
<a name="l1441"><span class="linenum">1441</span></a>  <span class="comment">/**</span>
<a name="l1442"><span class="linenum">1442</span></a>  <span class="comment"> * Extract tags (any text enclosed by &lt; and &gt; to avoid being processed by filters.</span>
<a name="l1443"><span class="linenum">1443</span></a>  <span class="comment"> * It returns the text converted with some &lt;%xTEXTFILTER_EXCL_SEPARATORx%&gt; codes replacing the extracted text. Such extracted</span>
<a name="l1444"><span class="linenum">1444</span></a>  <span class="comment"> * texts are returned in the tags array (as values), with codes as keys.</span>
<a name="l1445"><span class="linenum">1445</span></a>  <span class="comment"> *</span>
<a name="l1446"><span class="linenum">1446</span></a>  <span class="comment"> * @param string $text   the text that we are filtering (in/out)</span>
<a name="l1447"><span class="linenum">1447</span></a>  <span class="comment"> * @param array $tags   an array of saved strings useful to rebuild the original text (in/out)</span>
<a name="l1448"><span class="linenum">1448</span></a>  <span class="comment"> **/</span>
<a name="l1449"><span class="linenum">1449</span></a>  function <a class="function" onClick="logFunction('filter_save_tags')" href="../_functions/filter_save_tags.html" onMouseOver="funcPopup(event,'filter_save_tags')">filter_save_tags</a>(&amp;<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, &amp;<a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>) {
<a name="l1450"><span class="linenum">1450</span></a>  
<a name="l1451"><span class="linenum">1451</span></a>      <a class="phpfunction" onClick="logFunction('preg_match_all')" href="../_functions/preg_match_all.html" onMouseOver="phpfuncPopup(event,'preg_match_all')">preg_match_all</a>('/&lt;([^#%*].*?)&gt;/is',<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>,<a class="var it35690" onMouseOver="hilite(35690)" onMouseOut="lolite()" onClick="logVariable('list_of_newtags')" href="../_variables/list_of_newtags.html">$list_of_newtags</a>);
<a name="l1452"><span class="linenum">1452</span></a>      foreach (<a class="phpfunction" onClick="logFunction('array_unique')" href="../_functions/array_unique.html" onMouseOver="phpfuncPopup(event,'array_unique')">array_unique</a>(<a class="var it35690" onMouseOver="hilite(35690)" onMouseOut="lolite()" onClick="logVariable('list_of_newtags')" href="../_variables/list_of_newtags.html">$list_of_newtags</a>[0]) as <a class="var it11376" onMouseOver="hilite(11376)" onMouseOut="lolite()" onClick="logVariable('ntkey')" href="../_variables/ntkey.html">$ntkey</a>=&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l1453"><span class="linenum">1453</span></a>          <a class="var it637" onMouseOver="hilite(637)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../_variables/prefix.html">$prefix</a> = (string)(<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>) + 1);
<a name="l1454"><span class="linenum">1454</span></a>          <a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>['&lt;%'.<a class="var it637" onMouseOver="hilite(637)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../_variables/prefix.html">$prefix</a>.<a class="constant" onClick="logConstant('TEXTFILTER_EXCL_SEPARATOR')" href="../_constants/TEXTFILTER_EXCL_SEPARATOR.html" onMouseOver="constPopup(event,'TEXTFILTER_EXCL_SEPARATOR')">TEXTFILTER_EXCL_SEPARATOR</a>.<a class="var it11376" onMouseOver="hilite(11376)" onMouseOut="lolite()" onClick="logVariable('ntkey')" href="../_variables/ntkey.html">$ntkey</a>.'%&gt;'] = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l1455"><span class="linenum">1455</span></a>      }
<a name="l1456"><span class="linenum">1456</span></a>      if (!empty(<a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>)) {
<a name="l1457"><span class="linenum">1457</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>,<a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it2944" onMouseOver="hilite(2944)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>),<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1458"><span class="linenum">1458</span></a>      }
<a name="l1459"><span class="linenum">1459</span></a>  }
<a name="l1460"><span class="linenum">1460</span></a>  
<a name="l1461"><span class="linenum">1461</span></a>  <span class="comment">/**</span>
<a name="l1462"><span class="linenum">1462</span></a>  <span class="comment"> * Add missing openpopup javascript to HTML files.</span>
<a name="l1463"><span class="linenum">1463</span></a>  <span class="comment"> *</span>
<a name="l1464"><span class="linenum">1464</span></a>  <span class="comment"> * @param string $text</span>
<a name="l1465"><span class="linenum">1465</span></a>  <span class="comment"> * @return string</span>
<a name="l1466"><span class="linenum">1466</span></a>  <span class="comment"> */</span>
<a name="l1467"><span class="linenum">1467</span></a>  function <a class="function" onClick="logFunction('filter_add_javascript')" href="../_functions/filter_add_javascript.html" onMouseOver="funcPopup(event,'filter_add_javascript')">filter_add_javascript</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>) {
<a name="l1468"><span class="linenum">1468</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1469"><span class="linenum">1469</span></a>  
<a name="l1470"><span class="linenum">1470</span></a>      if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, '&lt;/html&gt;') === FALSE) {
<a name="l1471"><span class="linenum">1471</span></a>          return <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>; <span class="comment">// This is not a html file.</span>
<a name="l1472"><span class="linenum">1472</span></a>      }
<a name="l1473"><span class="linenum">1473</span></a>      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, 'onclick=&quot;return openpopup') === FALSE) {
<a name="l1474"><span class="linenum">1474</span></a>          return <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>; <span class="comment">// No popup - no need to add javascript.</span>
<a name="l1475"><span class="linenum">1475</span></a>      }
<a name="l1476"><span class="linenum">1476</span></a>      <a class="var it1159" onMouseOver="hilite(1159)" onMouseOut="lolite()" onClick="logVariable('js')" href="../_variables/js.html">$js</a> =&quot;
<a name="l1477"><span class="linenum">1477</span></a>      &lt;script type=\&quot;text/javascript\&quot;&gt;
<a name="l1478"><span class="linenum">1478</span></a>      &lt;!--
<a name="l1479"><span class="linenum">1479</span></a>          function <a class="function" onClick="logFunction('openpopup')" href="../_functions/openpopup.html" onMouseOver="funcPopup(event,'openpopup')">openpopup</a>(url,name,options,fullscreen) {
<a name="l1480"><span class="linenum">1480</span></a>            fullurl = \&quot;&quot;.<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('httpswwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/httpswwwroot.html">httpswwwroot</a>.&quot;\&quot; + url;
<a name="l1481"><span class="linenum">1481</span></a>            windowobj = window.<a class="function" onClick="logFunction('open')" href="../_functions/open.html" onMouseOver="funcPopup(event,'open')">open</a>(fullurl,name,options);
<a name="l1482"><span class="linenum">1482</span></a>            if (fullscreen) {
<a name="l1483"><span class="linenum">1483</span></a>              windowobj.moveTo(0,0);
<a name="l1484"><span class="linenum">1484</span></a>              windowobj.resizeTo(screen.availWidth,screen.availHeight);
<a name="l1485"><span class="linenum">1485</span></a>            }
<a name="l1486"><span class="linenum">1486</span></a>            windowobj.<a class="function" onClick="logFunction('focus')" href="../_functions/focus.html" onMouseOver="funcPopup(event,'focus')">focus</a>();
<a name="l1487"><span class="linenum">1487</span></a>            return false;
<a name="l1488"><span class="linenum">1488</span></a>          }
<a name="l1489"><span class="linenum">1489</span></a>  <span class="comment">    // --&gt;</span>
<a name="l1490"><span class="linenum">1490</span></a>      &lt;/script&gt;&quot;;
<a name="l1491"><span class="linenum">1491</span></a>      if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, '&lt;/head&gt;') !== FALSE) {
<a name="l1492"><span class="linenum">1492</span></a>  <span class="comment">        // Try to add it into the head element.</span>
<a name="l1493"><span class="linenum">1493</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_ireplace')" href="../_functions/str_ireplace.html" onMouseOver="phpfuncPopup(event,'str_ireplace')">str_ireplace</a>('&lt;/head&gt;', <a class="var it1159" onMouseOver="hilite(1159)" onMouseOut="lolite()" onClick="logVariable('js')" href="../_variables/js.html">$js</a>.'&lt;/head&gt;', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1494"><span class="linenum">1494</span></a>          return <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>;
<a name="l1495"><span class="linenum">1495</span></a>      }
<a name="l1496"><span class="linenum">1496</span></a>  
<a name="l1497"><span class="linenum">1497</span></a>  <span class="comment">    // Last chance - try adding head element.</span>
<a name="l1498"><span class="linenum">1498</span></a>      return <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>(&quot;/&lt;html.*?&gt;/is&quot;, &quot;\\0&lt;head&gt;&quot;.<a class="var it1159" onMouseOver="hilite(1159)" onMouseOut="lolite()" onClick="logVariable('js')" href="../_variables/js.html">$js</a>.'&lt;/head&gt;', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l1499"><span class="linenum">1499</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'set_config': ['set_config', 'Set a configuration value for this plugin ', [['mod/assign','assignmentplugin.php',314],['lib/portfolio','plugin.php',515],['lib','moodlelib.php',1331],['lib','enrollib.php',1152],['lib/editor/tinymce/classes','plugin.php',84]], 985],
'filter_context_may_have_filter_settings': ['filter_context_may_have_filter_settings', 'Certain types of context (block and user) may not have local filter settings. the function checks a context to see whether it may have local config. ', [['lib','filterlib.php',1157]], 0],
'hash': ['hash', '', [['filter/censor','filter.php',47],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',288],['lib/horde/framework/Horde/Support','ConsistentHash.php',218],['mod/assign/feedback/editpdf/classes','document_services.php',72],['lib','filterlib.php',396]], 194],
'unset_all_config_for_plugin': ['unset_all_config_for_plugin', 'Remove all the config variables for a given plugin. ', [['lib','moodlelib.php',1523]], 28],
'a': ['a', '', [['lib/flowplayer','flowplayer-3.2.13.js',857]], 581],
'filter_string': ['filter_string', 'Filter a piece of string ', [['lib','filterlib.php',211],['lib','filterlib.php',281],['lib','filterlib.php',345]], 2],
'get_performance_summary': ['get_performance_summary', 'Returns information about the core_string_manager performance. ', [['lib/classes','string_manager_standard.php',397],['lib','filterlib.php',353]], 2],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',2854]], 853],
'filter_save_tags': ['filter_save_tags', 'Extract tags (any text enclosed by < and > to avoid being processed by filters. It returns the text converted with some <%xTEXTFILTER_EXCL_SEPARATORx%> codes replacing the extracted text. Such extracted texts are returned in the tags array (as values), with codes as keys. ', [['lib','filterlib.php',1441]], 3],
'openpopup': ['openpopup', '', [['lib','javascript-static.js',1164],['mod/chat','chatd.php',264],['lib','filterlib.php',1479]], 8],
'start_delegated_transaction': ['start_delegated_transaction', 'On DBs that support it, switch to transaction mode and begin a transaction you\'ll need to ensure you call allow_commit() on the returned object or your changes *will* be lost. ', [['lib/dml','moodle_database.php',2344]], 137],
'filter_text': ['filter_text', '', [['lib','deprecatedlib.php',647],['lib','filterlib.php',196],['lib','filterlib.php',274],['lib','filterlib.php',335]], 7],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required. ', [['lib/dml','pgsql_native_moodle_database.php',883],['lib/dml','oci_native_moodle_database.php',1249],['lib/dml','sqlsrv_native_moodle_database.php',978],['lib/dml','mssql_native_moodle_database.php',898],['lib/dml','mysqli_native_moodle_database.php',1177],['lib/dml/tests','dml_test.php',5427],['lib/dml','pdo_moodle_database.php',386],['question/engine/upgrade','upgradelib.php',121]], 1512],
'make_filter_object': ['make_filter_object', 'Factory method for creating a filter. ', [['lib','filterlib.php',133],['lib','filterlib.php',324]], 2],
'allow_commit': ['allow_commit', 'Commit delegated transaction. The real database commit SQL is executed only after committing all delegated transactions. ', [['lib/dml','moodle_transaction.php',78]], 127],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as a moodle_recordset using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','oci_native_moodle_database.php',1065],['lib/dml','sqlsrv_native_moodle_database.php',761],['lib/dml','mssql_native_moodle_database.php',687],['lib/dml','mysqli_native_moodle_database.php',985],['lib/dml/tests','dml_test.php',5423],['lib/dml','pdo_moodle_database.php',251]], 279],
'get_string_manager': ['get_string_manager', 'Returns current string_manager instance. ', [['lib','moodlelib.php',6481]], 147],
'get_records_select': ['get_records_select', 'Get a number of records as an array of objects which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1283]], 163],
'get_records': ['get_records', 'Get a number of records as an array of objects where all the given conditions met. ', [['lib/dml','moodle_database.php',1236],['lib','coursecatlib.php',654],['question','category_class.php',63]], 860],
'filter_get_all_installed': ['filter_get_all_installed', 'Get the names of all the filters installed in this Moodle. ', [['lib','filterlib.php',505]], 2],
'get_records_menu': ['get_records_menu', 'Get the first two columns from a number of records as an associative array where all the given conditions met. ', [['lib/dml','moodle_database.php',1326]], 69],
'filter_unset_local_config': ['filter_unset_local_config', 'Remove a particular local config variable for a filter in a context. ', [['lib','filterlib.php',820]], 1],
'filter_set_global_state': ['filter_set_global_state', 'Set the global activated state for a text filter. ', [['lib','filterlib.php',525]], 62],
'set_field': ['set_field', 'Sets the custom profile field used for testing. ', [['availability/condition/profile/tests','condition_test.php',349],['lib/dml','moodle_database.php',1688]], 462],
'filter_delete_all_for_context': ['filter_delete_all_for_context', 'Delete all the data in the database relating to a context, used when contexts are deleted. ', [['lib','filterlib.php',1117]], 3],
'apply_filter_chain': ['apply_filter_chain', '', [['lib','filterlib.php',165]], 2],
'filter_is_enabled': ['filter_is_enabled', '', [['lib','filterlib.php',668]], 9],
'filter_get_globally_enabled': ['filter_get_globally_enabled', 'Return a list of all the filters that may be in use somewhere. ', [['lib','filterlib.php',678]], 2],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'filter_remove_duplicates': ['filter_remove_duplicates', '', [['lib','filterlib.php',1385]], 1],
'asort_objects_by_property': ['asort_objects_by_property', 'Locale aware sort of objects by a property in common to all objects ', [['lib/classes','collator.php',249]], 17],
'string_exists': ['string_exists', 'Does the string actually exist? ', [['lib/classes','string_manager_standard.php',263],['lib/classes','string_manager.php',50],['lib/classes','string_manager_install.php',64]], 76],
'textarea': ['textarea', '', [['question/type/essay','renderer.php',441]], 8],
'filter_get_local_config': ['filter_get_local_config', 'Get local config variables for a filter in a context. Normally (when your filter is running) you don\'t need to call this, becuase the config is fetched for you automatically. You only need this, for example, when you are getting the config so you can show the user an editing from. ', [['lib','filterlib.php',832]], 2],
'get_string_filters': ['get_string_filters', '', [['lib','filterlib.php',189]], 1],
'focus': ['focus', 'To autofocus on first form element or first element with error. ', [['lib','formslib.php',219]], 919],
'script': ['script', 'Generate a script tag containing the the specified code. ', [['lib','outputcomponents.php',1471],['lib/minify/lib','JSMinPlus.php',745]], 80],
'load_filters': ['load_filters', 'Load all the filters required by this context. ', [['lib','filterlib.php',112]], 2],
'filter_has_local_settings': ['filter_has_local_settings', 'Does this filter have local (per-context) settings? ', [['lib','filterlib.php',1145]], 2],
'filter_set_applies_to_strings': ['filter_set_applies_to_strings', 'Sets whether a particular active filter should be applied to all strings by format_string, or just used by format_text. ', [['lib','filterlib.php',714]], 9],
'add_to_config_log': ['add_to_config_log', 'Add an entry to the config log table. ', [['lib','datalib.php',1586],['lib','adminlib.php',1789],['lib','adminlib.php',2295]], 6],
'filter_delete_all_for_filter': ['filter_delete_all_for_filter', 'Delete all the data in the database relating to a filter, prior to deleting it. ', [['lib','filterlib.php',1104]], 1],
'filter_set_local_state': ['filter_set_local_state', 'Set the local activated state for a text filter. ', [['lib','filterlib.php',746]], 22],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'filter_get_active_in_context': ['filter_get_active_in_context', 'Get the list of active filters, in the order that they should be used for a particular context, along with any local configuration variables. ', [['lib','filterlib.php',865]], 15],
'filter_preload_activities': ['filter_preload_activities', 'Preloads the list of active filters for all activities (modules) on the course using two database queries. ', [['lib','filterlib.php',923]], 3],
'setup': ['setup', '', [['lib/markdown','MarkdownExtra.php',94],['lib/phpunit/classes','database_driver_testcase.php',104],['mod/survey/tests','events_test.php',36],['lib/tests','csvclass_test.php',39],['backup/converter/moodle1/tests','moodle1_converter_test.php',41],['report/completion/tests','events_test.php',38],['filter/tex/tests','filter_test.php',43],['lib/tests','gdlib_test.php',41],['question/behaviour/immediatecbm/tests','behaviourtype_test.php',45],['mod/lesson/tests','events_test.php',40],['lib/tests','statslib_test.php',51],['mod/assign/tests','lib_test.php',42],['mod/workshop/form/numerrors/tests','lib_test.php',43],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Proprietary.php',17],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Tables.php',16],['question/type/multianswer/tests','questiontype_test.php',46],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',14],['question/behaviour/deferredfeedback/tests','behaviourtype_test.php',45],['question/engine/upgrade/tests','helper.php',100],['webservice/amf','introspector.php',59],['lib/tests','questionlib_test.php',45],['tag/tests','events_test.php',38],['mod/book/tool/exportimscp/tests','events_test.php',39],['mod/workshop/eval/best/tests','lib_test.php',43],['message/tests','messagelib_test.php',44],['lib/tests','coursecatlib_test.php',38],['lib/htmlpurifier/HTMLPurifier/HTMLModule','StyleAttribute.php',27],['lib/tests','customcontext_test.php',103],['lib/tests','lock_test.php',39],['blocks/comments/tests','events_test.php',43],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Scripting.php',41],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Forms.php',29],['mod/quiz/tests','repaginate_test.php',71],['backup/controller/tests','controller_test.php',41],['comment/tests','externallib_test.php',44],['backup/util/plan/tests','plan_test.php',39],['lib/phpunit/tests','basic_test.php',40],['calendar/tests','externallib_test.php',43],['lib/tests','medialib_test.php',39],['cache/tests','administration_helper_test.php',45],['calendar/tests','ical_test.php',40],['webservice/tests','externallib_test.php',33],['mod/book/tests','events_test.php',39],['question/type/numerical/tests','form_test.php',65],['lib/tests','blocklib_test.php',42],['mod/forum/tests','generator_test.php',39],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Tidy.php',36],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Target.php',16],['mnet/tests','events_test.php',37],['backup/util/plan/tests','task_test.php',39],['message/output/airnotifier/tests','externallib_test.php',42],['report/log/tests','events_test.php',38],['question/behaviour/informationitem/tests','behaviourtype_test.php',45],['lib/htmlpurifier/HTMLPurifier/HTMLModule','SafeObject.php',19],['availability/condition/date/tests','condition_test.php',37],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Ruby.php',18],['blog/tests','bloglib_test.php',42],['mod/wiki/tests','events_test.php',44],['mod/glossary/tests','events_test.php',38],['question/engine/tests','questionattempt_with_steps_test.php',47],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Presentation.php',24],['calendar/tests','rrule_manager_tests.php',30],['mod/forum/tests','lib_test.php',32],['question/behaviour/interactivecountback/tests','behaviourtype_test.php',45],['question/behaviour/adaptive/tests','mark_display_test.php',47],['lib/tests','eventslib_test.php',32],['availability/condition/profile/tests','condition_test.php',48],['mod/assign/tests','base_test.php',85],['lib/htmlpurifier/HTMLPurifier/HTMLModule','SafeScripting.php',17],['mod/assign/submission/file/tests','events_test.php',59],['question/tests','events_test.php',34],['question/behaviour/adaptive/tests','behaviourtype_test.php',45],['admin/tool/capability/tests','events_test.php',36],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Image.php',19],['notes/tests','events_test.php',44],['filter/algebra/tests','filter_test.php',47],['question/type/numerical/tests','questiontype_test.php',50],['admin/tool/monitor/tests','events_test.php',33],['question/type/random/tests','questiontype_test.php',42],['mod/assign/feedback/editpdf/tests','editpdf_test.php',46],['mod/forum/tests','events_test.php',38],['mod/workshop/form/rubric/tests','lib_test.php',42],['question/behaviour/missing/tests','behaviourtype_test.php',45],['mod/book/tool/print/tests','events_test.php',39],['question/type/description/tests','questiontype_test.php',44],['admin/tool/monitor/tests','rule_manager_test.php',37],['question/engine/tests','unitofwork_test.php',50],['mod/workshop/tests','events_test.php',49],['report/questioninstances/tests','events_test.php',36],['filter/mathjaxloader','filter.php',97],['lib/form/tests','datetimeselector_test.php',50],['report/loglive/tests','events_test.php',38],['calendar/tests','lib_test.php',38],['availability/condition/group/tests','condition_test.php',37],['question/type/multichoice/tests','questiontype_test.php',43],['cache/tests','cache_test.php',44],['question/type/truefalse/tests','questiontype_test.php',44],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Name.php',13],['message/tests','externallib_test.php',35],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Hypertext.php',17],['mod/workshop/allocation/random/tests','allocator_test.php',42],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Text.php',32],['mod/book/tool/importhtml/tests','locallib_test.php',41],['lib/filestorage/tests','zip_packer_test.php',40],['question/type/calculatedsimple/tests','questiontype_test.php',51],['enrol/imsenterprise/tests','imsenterprise_test.php',47],['message/tests','events_test.php',30],['lib/tests','collator_test.php',48],['question/engine/tests','questionattemptiterator_test.php',45],['admin/tool/monitor/tests','task_clean_events_test.php',35],['backup/util/dbops/tests','backup_dbops_test.php',40],['question/behaviour/immediatefeedback/tests','behaviourtype_test.php',45],['lib/tests','filterlib_test.php',45],['mod/forum/tests','subscriptions_test.php',32],['lib/form/tests','duration_test.php',47],['backup/util/factories/tests','factories_test.php',43],['question/engine/tests','helpers.php',704],['question/type/match/tests','questiontype_test.php',45],['mod/scorm/tests','events_test.php',50],['mod/feedback/tests','events_test.php',59],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Nofollow.php',18],['question/type/calculated/tests','questiontype_test.php',48],['lib/ddl/tests','ddl_test.php',32],['mod/forum/tests','maildigest_test.php',41],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Bdo.php',25],['lib/dml/tests','recordset_walk_test.php',38],['lib/tests','user_test.php',34],['tag/tests','taglib_test.php',34],['mod/assign/tests','externallib_test.php',33],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Edit.php',18],['enrol/tests','role_external_test.php',35],['report/stats/tests','events_test.php',38],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Iframe.php',26],['mod/assign/submission/onlinetext/tests','events_test.php',53],['question/type/shortanswer/tests','questiontype_test.php',48],['admin/tool/monitor/tests','eventobservers_test.php',38],['lib','tablelib.php',425],['lib/htmlpurifier/HTMLPurifier/HTMLModule','SafeEmbed.php',16],['lib/htmlpurifier/HTMLPurifier/HTMLModule','List.php',30],['question/behaviour/deferredcbm/tests','behaviourtype_test.php',46],['lib/tests','event_user_graded_test.php',44],['lib/tests','ajaxlib_test.php',32],['lib/htmlpurifier/HTMLPurifier/HTMLModule','TargetBlank.php',17],['question/engine/tests','questionattempt_test.php',50],['lib/tests','rsslib_test.php',43],['mod/folder/tests','events_test.php',30],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',71],['lib/grade/tests/fixtures','lib.php',52],['mod/workshop/form/accumulative/tests','lib_test.php',41],['availability/condition/completion/tests','condition_test.php',40],['mod/resource/tests','events_test.php',36],['rating/tests','rating_test.php',42],['mod/workshop/tests','locallib_test.php',42],['webservice/tests','events_test.php',38],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Legacy.php',29],['lib/htmlpurifier/HTMLPurifier','HTMLModule.php',273],['lib/htmlpurifier/HTMLPurifier','Definition.php',41],['course/tests','externallib_test.php',42],['lib/markdown','Markdown.php',129],['mod/forum/tests','externallib_test.php',35],['question/engine/tests','questionattemptstepiterator_test.php',44],['filter/glossary','filter.php',43],['mod/choice/tests','events_test.php',50],['admin/tool/monitor/tests','generator_test.php',39],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',23],['question/behaviour/interactive/tests','behaviourtype_test.php',45],['auth/manual/tests','manual_test.php',47],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',227],['lib','filterlib.php',400],['mod/data/tests','search_test.php',93],['availability/condition/grouping/tests','condition_test.php',37],['mod/data/tests','events_test.php',32],['lib/tests','moodle_page_test.php',40],['admin/tool/langimport/tests','events_test.php',36],['lib/dml/tests','dml_test.php',30],['lib/tests','events_test.php',32],['cache/tests','config_writer_test.php',44],['mod/forum/tests','mail_test.php',34],['backup/util/structure/tests','structure_test.php',56],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Object.php',23],['calendar/tests','events_test.php',48],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',61],['question/behaviour/manualgraded/tests','behaviourtype_test.php',45],['badges/tests','badgeslib_test.php',40],['message/tests','inbound_test.php',36],['lib/form/tests','dateselector_test.php',50],['backup/util/checks/tests','checks_test.php',42],['backup/util/plan/tests','step_test.php',39],['availability/tests','tree_test.php',38],['question/type/essay/tests','questiontype_test.php',42],['calendar/tests','calendartype_test.php',59],['availability/tests','info_test.php',39]], 140],
'reset_caches': ['reset_caches', 'Reset any caches ', [['lib/classes/update','checker.php',74],['lib/dml','moodle_database.php',1019],['lib/classes','string_manager_standard.php',594],['lib/classes','text.php',108],['lib/classes','string_manager.php',127],['repository','lib.php',2686],['lib','accesslib.php',5098],['lib','accesslib.php',5994],['lib/classes','string_manager_install.php',245],['lib/classes','filetypes.php',419],['mod/glossary/classes/local','concept_cache.php',49],['lib/classes','plugin_manager.php',95],['lib','filterlib.php',93],['lib/classes/update','deployer.php',66]], 101],
'setup_page_for_filters': ['setup_page_for_filters', 'Setup page with filters requirements and other prepare stuff. ', [['lib','filterlib.php',236]], 2],
'text_filtering_hash': ['text_filtering_hash', '', [['lib','filterlib.php',227],['lib','filterlib.php',288]], 0],
'filter_get_available_in_context': ['filter_get_available_in_context', 'List all of the filters that are available in this context, and what the local and inherited states of that filter are. ', [['lib','filterlib.php',1051]], 10],
'__construct': ['__construct', 'Constructor ', [['lib/jabber/XMPP','Log.php',67],['lib/zend/Zend/Gdata/Books','VolumeFeed.php',41],['lib/markdown','MarkdownExtra.php',51],['lib/zend/Zend/Gdata/Books/Extension','BooksCategory.php',42],['lib/horde/framework/Horde/Support','Uuid.php',23],['lib/zend/Zend/Validate','Iban.php',106],['repository/wikimedia','wikimedia.php',35],['lib/lessphp/Tree','Operation.php',19],['lib/alfresco/Service','Version.php',38],['lib/filestorage','file_exceptions.php',36],['lib/filestorage','file_exceptions.php',57],['lib/filestorage','file_exceptions.php',89],['lib/filestorage','file_exceptions.php',108],['lib/filestorage','file_exceptions.php',129],['backup/moodle2','backup_activity_task.class.php',45],['lib/htmlpurifier/HTMLPurifier','AttrCollections.php',16],['lib/phpunit/classes','database_driver_testcase.php',55],['lib/google/src/Google/Service','Reseller.php',44],['lib/horde/framework/Horde/Imap/Client/Interaction/Command','Continuation.php',42],['lib/phpunit/classes','advanced_testcase.php',45],['lib/zend/Zend/Service/DeveloperGarden/Request','RequestAbstract.php',40],['lib','outputlib.php',447],['lib','outputlib.php',2000],['repository/filesystem','lib.php',48],['lib/zend/Zend/XmlRpc/Value','Nil.php',40],['lib/lessphp/Tree','NameValue.php',21],['lib/zend/Zend/Gdata/YouTube','UserProfileEntry.php',283],['lib/zend/Zend/Gdata/Gapps','EmailListRecipientEntry.php',69],['lib/simplepie/library/SimplePie','Restriction.php',81],['lib/filebrowser','file_info_context_course.php',39],['lib/filebrowser','file_info_context_course.php',492],['lib/filebrowser','file_info_context_course.php',596],['lib/filebrowser','file_info_context_course.php',745],['lib/minify/lib/MrClay/Cli','Arg.php',82],['lib/horde/framework/Horde/Crypt/Blowfish','Mcrypt.php',47],['lib/classes/update','checker.php',50],['lib/adodb','adodb-active-recordx.inc.php',131],['lib/phpexcel/PHPExcel','Calculation.php',1721],['lib/zend/Zend/Gdata/Photos/Extension','NumPhotos.php',50],['availability/classes','info_module.php',40],['lib/zend/Zend/Gdata/Geo/Extension','GmlPos.php',49],['lib/zend/Zend/Gdata/App/Extension','Link.php',49],['lib/zend/Zend/Gdata/Photos/Extension','Access.php',51],['lib/zend/Zend/Server/Reflection','Parameter.php',58],['lib/zend/Zend/Service/DeveloperGarden/Client','ClientAbstract.php',129],['lib/horde/framework/Horde/Imap/Client','DateTime.php',29],['lib/zend/Zend/Validate/Db','Abstract.php',79],['cache/locks/file','lib.php',66],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',180],['question/type/missingtype','edit_missingtype_form.php',38],['auth/cas/CAS/CAS','Client.php',862],['lib/horde/framework/Horde/Imap/Client/Data','Envelope.php',46],['lib/zend/Zend/Gdata/Books','VolumeQuery.php',46],['lib/minify/lib/Minify/Cache','XCache.php',22],['lib/zend/Zend/XmlRpc','Request.php',92],['lib/zend/Zend/Service/Delicious','Post.php',74],['lib/zend/Zend/Gdata/Extension','FeedLink.php',53],['lib/zend/Zend/Http/Client/Adapter','Socket.php',97],['lib/grade','grade_object.php',80],['lib/zend/Zend/Gdata/YouTube','ContactFeed.php',55],['backup/util/plan','base_plan.class.php',39],['backup/util/plan','base_plan.class.php',215],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',43],['lib/google/src/Google/Auth','LoginTicket.php',35],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',84],['lib/zend/Zend/Service/DeveloperGarden/SecurityTokenServer','Cache.php',59],['question/type/randomsamatch','question.php',114],['lib/zend/Zend/Service/WindowsAzure/Storage','SignedIdentifier.php',49],['lib/zend/Zend/Amf/Parse','OutputStream.php',40],['blocks','moodleblock.class.php',111],['lib/simplepie','autoloader.php',62],['mod/scorm','renderer.php',129],['lib/zend/Zend/Gdata/Extension','Who.php',64],['lib/zend/Zend/Gdata/Gapps','EmailListQuery.php',54],['lib/zend/Zend/Service/Simpy','LinkSet.php',47],['repository/flickr_public','lib.php',49],['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',55],['lib/google/src/Google/Service','Replicapoolupdater.php',47],['admin/tool/generator/classes','site_backend.php',58],['mod/assign','assignmentplugin.php',50],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',45],['mod/lti/service/profile/classes/local/resource','profile.php',43],['lib/htmlpurifier/HTMLPurifier/AttrDef','Integer.php',36],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',138],['backup/util/structure','base_optigroup.class.php',35],['backup/util/structure','base_optigroup.class.php',169],['lib/lessphp/Tree','Anonymous.php',21],['user','renderer.php',186],['lib/zend/Zend/Service/WindowsAzure','Storage.php',170],['lib/google/src/Google','Service.php',26],['lib/lessphp/Tree','Url.php',17],['webservice','lib.php',745],['webservice','lib.php',841],['webservice','lib.php',1120],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',270],['lib/zend/Zend/Gdata/YouTube/Extension','MediaContent.php',55],['lib/horde/framework/Horde/Support','Randomid.php',26],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','DenyElementDecorator.php',21],['lib/tests','completionlib_test.php',863],['lib/zend/Zend/Service/Amazon','Accessories.php',44],['lib/zend/Zend/Validate/Barcode','Code39ext.php',47],['mod/assign/feedback/editpdf/classes','comment.php',58],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',46],['backup/moodle2','backup_settingslib.php',42],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateListRequest.php',46],['lib/zend/Zend/XmlRpc/Value','Base64.php',40],['backup/util/structure','backup_structure_processor.class.php',45],['backup/util/structure','backup_structure_processor.class.php',133],['lib/zend/Zend/Service/WindowsAzure/Storage','Blob.php',117],['lib/lessphp','Parser.php',75],['lib/zend/Zend/Service/DeveloperGarden/Response/IpLocation','LocateIPResponse.php',47],['lib/zend/Zend/Gdata','Query.php',72],['lib/zend/Zend/Service/Technorati','TagResultSet.php',57],['lib/zend/Zend/Rest/Client','Result.php',42],['lib/lessphp/Tree','Call.php',19],['lib/zend/Zend/Server/Method','Callback.php',59],['lib/minify/lib/Minify/JS','ClosureCompiler.php',38],['mod/workshop/backup/moodle1','lib.php',308],['lib/zend/Zend/Gdata/YouTube','ActivityFeed.php',54],['admin/tool/log/store/database/classes/log','store.php',47],['lib/zend/Zend/Validate','Alpha.php',65],['lib/zend/Zend/Gdata','Gapps.php',109],['lib/zend/Zend/Service/Flickr','Result.php',174],['question/type/multianswer','edit_multianswer_form.php',58],['mod/assign/feedback/file','renderable.php',44],['lib/horde/framework/Horde','Secret.php',48],['lib/zend/Zend/Gdata/Photos/Extension','AlbumId.php',51],['lib/lessphp/SourceMap','Base64VLQ.php',67],['lib/lessphp/Tree/Mixin','Call.php',14],['auth/cas/CAS/CAS','GracefullTerminationException.php',48],['lib/google/src/Google/Service','Fusiontables.php',48],['grade/report/singleview','lib.php',69],['lib/classes/lock','lock.php',55],['grade/grading/form','lib.php',82],['grade/grading/form','lib.php',766],['blog','locallib.php',71],['blog','locallib.php',581],['blog','locallib.php',849],['blog','locallib.php',894],['blog','locallib.php',953],['blog','locallib.php',1004],['blog','locallib.php',1028],['blog','locallib.php',1038],['blog','locallib.php',1050],['blog','locallib.php',1071],['lib/zend/Zend/Gdata/Exif/Extension','Flash.php',49],['backup/cc/cc_lib','cc_general.php',38],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',61],['admin/webservice','lib.php',38],['lib/zend/Zend/Validate/File','FilesSize.php',60],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',46],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',27],['repository/boxnet','lib.php',56],['lib/htmlpurifier/HTMLPurifier','Language.php',63],['lib/zend/Zend/Validate','Int.php',53],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',62],['lib/zend/Zend/Soap','Server.php',146],['lib/zend/Zend/Gdata/Photos','PhotoEntry.php',215],['lib/zend/Zend/Service/Yahoo','LocalResult.php',111],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','GetAccountBalance.php',40],['badges/lib','backpacklib.php',40],['lib/zend/Zend/Service/Yahoo','Result.php',77],['lib/form','filemanager.php',306],['lib/lessphp/Tree','Condition.php',18],['lib/pear/PEAR','Exception.php',107],['lib/zend/Zend/Gdata/YouTube/Extension','Racy.php',45],['question/classes/bank','view.php',70],['lib/adodb','adodb.inc.php',2790],['lib/adodb','adodb.inc.php',2865],['lib/zend/Zend/Gdata/App/Extension','Text.php',45],['question/engine/upgrade/tests','helper.php',45],['lib/zend/Zend/Validate/Barcode','Ean5.php',47],['blocks/private_files','renderer.php',83],['backup/util/settings/section','section_backup_setting.class.php',25],['lib/classes','useragent.php',115],['lib/zend/Zend/Gdata/Photos/Extension','CommentCount.php',51],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',38],['lib/zend/Zend/Gdata/Spreadsheets/Extension','ColCount.php',49],['lib/horde/framework/Horde/Translation/Handler','Gettext.php',34],['lib/portfolio','exceptions.php',50],['lib/zend/Zend/Gdata/Calendar/Extension','QuickAdd.php',45],['lib/xmldb','xmldb_object.php',55],['lib/zend/Zend/Service','SlideShare.php',283],['webservice/amf','introspector.php',52],['question/behaviour/adaptive','behaviour.php',310],['question/behaviour','behaviourtypebase.php',133],['admin/tool/assignmentupgrade','upgradableassignmentstable.php',49],['course','renderer.php',52],['lib/zend/Zend/Validate','Hostname.php',315],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',249],['lib/zend/Zend/Amf','Server.php',134],['enrol/imsenterprise','locallib.php',38],['enrol/imsenterprise','locallib.php',115],['lib/zend/Zend/Http','Cookie.php',98],['lib/lessphp/Tree','Extend.php',28],['lib/zend/Zend/Validate','Barcode.php',75],['lib/zend/Zend/XmlRpc/Value','BigInteger.php',47],['lib/google/src/Google/Service','DoubleClickBidManager.php',40],['lib/google/src/Google/Service','QPXExpress.php',39],['lib/zend/Zend/Server/Reflection/Function','Abstract.php',105],['lib/phpexcel/PHPExcel/Style','Color.php',72],['lib/zend/Zend/Validate/File','Hash.php',60],['backup/util/settings/root','root_backup_setting.class.php',34],['backup/cc/cc_lib','cc_converter_basiclti.php',29],['lib/zend/Zend/Gdata/Photos/Extension','QuotaCurrent.php',50],['lib/zend/Zend/Service/Nirvanix/Namespace','Base.php',76],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',54],['lib/zend/Zend/Service/Technorati','DailyCountsResult.php',60],['lib/zend/Zend/Rest','Server.php',102],['lib/zend/Zend/Gdata/Photos','UserFeed.php',106],['lib/tcpdf/include/barcodes','pdf417.php',523],['lib/minify/lib/Minify/CSS','Compressor.php',51],['lib/zend/Zend/Gdata/YouTube/Extension','VideoId.php',44],['lib/google/src/Google/Service','Blogger.php',50],['mod/workshop/allocation/random','lib.php',52],['mod/workshop/allocation/random','lib.php',727],['lib/zend/Zend/Gdata/App/Extension','Published.php',43],['lib/google/src/Google/Service','Doubleclicksearch.php',43],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Nofollow.php',16],['lib/phpexcel/PHPExcel/Shared/trend','powerBestFitClass.php',129],['lib/zend/Zend/Gdata/Photos','AlbumEntry.php',193],['lib/zend/Zend/Gdata/Docs','DocumentListFeed.php',56],['lib/zend/Zend/Gdata/App/Extension','Icon.php',43],['lib/portfolio','plugin.php',445],['lib/zend/Zend/Gdata/Extension','OpenSearchItemsPerPage.php',44],['lib/horde/framework/Horde/Exception','LastError.php',16],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','ID.php',28],['lib/zend/Zend/Service/Yahoo','WebResult.php',83],['lib/horde/framework/Horde/Imap/Client/Interaction','Client.php',34],['lib/google/src/Google/Service','AdExchangeBuyer.php',46],['lib/dtl','file_xml_database_exporter.php',36],['backup/cc','validator.php',30],['backup/cc','validator.php',116],['backup/cc','validator.php',202],['backup/cc','validator.php',230],['backup/cc','validator.php',236],['backup/cc','validator.php',242],['backup/cc','validator.php',248],['backup/cc','validator.php',254],['backup/cc','validator.php',260],['lib/zend/Zend/Gdata/YouTube/Extension','Token.php',44],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',87],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',47],['lib/xmldb','xmldb_field.php',84],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',126],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceStatusRequest.php',65],['lib/google/src/Google/Service','Manager.php',57],['lib/zend/Zend/Service/Amazon','Offer.php',79],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',35],['lib/zend/Zend/Gdata/App','FeedEntryParent.php',129],['lib/zend/Zend/Service/Technorati','KeyInfoResult.php',61],['lib/htmlpurifier/HTMLPurifier/TagTransform','Simple.php',19],['webservice/rest','lib.php',47],['lib/zend/Zend/Service/StrikeIron','Decorator.php',47],['lib/google/src/Google/Http','Batch.php',38],['lib/google/src/Google/Service','Reports.php',47],['auth/cas/CAS/CAS','OutOfSequenceBeforeAuthenticationCallException.php',47],['lib/zend/Zend/Gdata/Media/Extension','MediaKeywords.php',43],['repository/url','lib.php',46],['lib','xmlize.php',31],['mod/forum/classes','potential_subscriber_selector.php',47],['lib/filebrowser','file_info_context_system.php',37],['lib/zend/Zend/Service/Amazon','Abstract.php',74],['lib/zend/Zend/Server','Definition.php',43],['lib/minify/lib/Minify','ImportProcessor.php',48],['lib/zend/Zend/Amf/Util','BinaryStream.php',53],['lib/portfolio','exporter.php',113],['backup/cc/cc_lib','cc_converter_page.php',28],['lib/zend/Zend/Gdata/YouTube','SubscriptionFeed.php',55],['lib/alfresco/Service','SpacesStore.php',28],['repository/recent','lib.php',39],['lib/zend/Zend/Service/DeveloperGarden/IpLocation','IpAddress.php',59],['lib/zend/Zend/Validate','Regex.php',62],['lib/phpexcel/PHPExcel/Shared/trend','exponentialBestFitClass.php',135],['lib/phpexcel/PHPExcel','ReferenceHelper.php',65],['lib','webdavlib.php',84],['lib/htmlpurifier/HTMLPurifier/AttrTransform','TargetBlank.php',17],['auth/cas/CAS/CAS','AuthenticationException.php',53],['lib/zend/Zend/Gdata/Gapps','NicknameQuery.php',54],['lib/bennu','iCalendar_properties.php',28],['lib/bennu','iCalendar_properties.php',220],['lib/bennu','iCalendar_properties.php',238],['lib/bennu','iCalendar_properties.php',259],['lib/bennu','iCalendar_properties.php',275],['lib/bennu','iCalendar_properties.php',296],['lib/bennu','iCalendar_properties.php',343],['lib/bennu','iCalendar_properties.php',358],['lib/bennu','iCalendar_properties.php',376],['lib/bennu','iCalendar_properties.php',391],['lib/bennu','iCalendar_properties.php',406],['lib/bennu','iCalendar_properties.php',447],['lib/bennu','iCalendar_properties.php',462],['lib/bennu','iCalendar_properties.php',485],['lib/bennu','iCalendar_properties.php',509],['lib/bennu','iCalendar_properties.php',524],['lib/bennu','iCalendar_properties.php',555],['lib/bennu','iCalendar_properties.php',573],['lib/bennu','iCalendar_properties.php',594],['lib/bennu','iCalendar_properties.php',637],['lib/bennu','iCalendar_properties.php',680],['lib/bennu','iCalendar_properties.php',724],['lib/bennu','iCalendar_properties.php',747],['lib/bennu','iCalendar_properties.php',782],['lib/bennu','iCalendar_properties.php',808],['lib/bennu','iCalendar_properties.php',849],['lib/bennu','iCalendar_properties.php',864],['lib/bennu','iCalendar_properties.php',905],['lib/bennu','iCalendar_properties.php',938],['lib/bennu','iCalendar_properties.php',952],['lib/bennu','iCalendar_properties.php',965],['lib/bennu','iCalendar_properties.php',987],['lib/bennu','iCalendar_properties.php',1017],['lib/bennu','iCalendar_properties.php',1031],['lib/bennu','iCalendar_properties.php',1061],['lib/bennu','iCalendar_properties.php',1075],['lib/bennu','iCalendar_properties.php',1098],['lib/bennu','iCalendar_properties.php',1110],['lib/bennu','iCalendar_properties.php',1139],['lib/bennu','iCalendar_properties.php',1160],['lib/bennu','iCalendar_properties.php',1181],['lib/bennu','iCalendar_properties.php',1203],['lib/bennu','iCalendar_properties.php',1227],['lib/bennu','iCalendar_properties.php',1260],['lib/bennu','iCalendar_properties.php',1386],['lib/bennu','iCalendar_properties.php',1407],['lib/bennu','iCalendar_properties.php',1429],['lib/bennu','iCalendar_properties.php',1450],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',36],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',78],['lib/horde/framework/Horde','Domhtml.php',53],['auth/cas/CAS/CAS','OutOfSequenceBeforeProxyException.php',48],['lib/simplepie/library/SimplePie/Parse','Date.php',536],['lib/google/src/Google/Service','Customsearch.php',38],['lib/zend/Zend/Gdata/App','MediaFileSource.php',54],['backup/util/plan','restore_step.class.php',32],['backup/util/plan','restore_step.class.php',104],['lib/lessphp/Tree','Comment.php',17],['availability/tests/fixtures','mock_info.php',40],['lib/htmlpurifier/HTMLPurifier/AttrTransform','EnumToCSS.php',34],['backup/util/ui','base_ui.class.php',84],['lib/phpexcel/PHPExcel','DocumentSecurity.php',73],['lib/htmlpurifier/HTMLPurifier/AttrDef/URI','Host.php',15],['backup/cc/cc_lib','cc_converter_lti.php',29],['lib/zend/Zend/Gdata/YouTube/Extension','Position.php',44],['lib/zend/Zend/Service/WindowsAzure/Credentials','CredentialsAbstract.php',77],['lib/zend/Zend/Soap','AutoDiscover.php',94],['lib/htmlpurifier/HTMLPurifier','URI.php',58],['lib/phpexcel/PHPExcel','IOFactory.php',77],['lib/zend/Zend/Gdata/App/Extension','Email.php',43],['lib/zend/Zend/Gdata/Media/Extension','MediaHash.php',45],['lib/zend/Zend/Gdata/App/Extension','Element.php',42],['lib/google/src/Google/Service','Gmail.php',55],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Multiple.php',33],['repository/dropbox','lib.php',49],['lib/minify/lib/Minify','Source.php',43],['backup/util/dbops','backup_dbops.class.php',37],['lib/google/src/Google/Service','Plus.php',52],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',28],['lib/google/src/Google/Service','Spectrum.php',38],['files','renderer.php',1080],['lib/zend/Zend/Validate/Barcode','Ean2.php',47],['course','lib.php',2932],['lib/horde/framework/Horde/Support','ConsistentHash.php',56],['lib/zend/Zend/Service/Simpy','Watchlist.php',89],['lib/phpexcel/PHPExcel','Style.php',101],['lib/zend/Zend/Gdata/YouTube/Extension','CountHint.php',44],['lib/minify/lib/Minify/Cache','Memcache.php',22],['auth/db','auth.php',36],['lib/zend/Zend/Gdata/Gapps','UserQuery.php',54],['admin/roles/classes','assign_user_selector_base.php',40],['lib/zend/Zend/Gdata/Exif/Extension','Model.php',49],['lib/zend/Zend/Gdata/YouTube','PlaylistListFeed.php',55],['lib/zend/Zend/Gdata/Docs','DocumentListEntry.php',42],['mod/quiz/tests','repaginate_test.php',39],['question/engine','questionusage.php',78],['question/engine','questionusage.php',973],['lib/simplepie/library/SimplePie/Cache','MySQL.php',80],['lib/zend/Zend/Service/Twitter','Search.php',70],['lib/zend/Zend/Server/Method','Parameter.php',59],['lib/phpunit/classes','basic_testcase.php',39],['lib/zend/Zend/Service/WindowsAzure/Storage','BlobContainer.php',50],['lib/zend/Zend/Service/DeveloperGarden/Response/LocalSearch','LocalSearchResponse.php',50],['lib/horde/framework/Horde/Imap/Client','Ids.php',78],['mod/wiki/parser/markups','html.php',18],['lib/google/src/Google/Service','Mirror.php',49],['lib/classes/event','base.php',114],['lib/alfresco/Service','Repository.php',36],['lib/zend/Zend/Service/Technorati','CosmosResult.php',84],['backup/moodle2','backup_xml_transformer.class.php',50],['lib/phpexcel/PHPExcel/Reader/Excel5','RC4.php',42],['lib/zend/Zend/Service/Yahoo','PageDataResult.php',47],['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',99],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceTemplateRequest.php',60],['lib/phpexcel/PHPExcel/Shared/JAMA','EigenvalueDecomposition.php',775],['lib/tcpdf','tcpdf_parser.php',92],['lib/minify/lib/Minify/Cache','APC.php',19],['lib/zend/Zend/Gdata','MimeBodyString.php',49],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',55],['lib/phpexcel/PHPExcel/Calculation','FormulaParser.php',92],['lib/google/src/Google/Http','MediaFileUpload.php',73],['lib/zend/Zend/XmlRpc/Client','ServerProxy.php',54],['lib','listlib.php',82],['lib','listlib.php',485],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Background.php',20],['lib/zend/Zend/Gdata/Health','ProfileFeed.php',49],['lib/google/src/Google/Service','Genomics.php',60],['lib/google/src/Google/Service','Urlshortener.php',40],['lib/zend/Zend/Server/Reflection','Method.php',51],['lib/tests','medialib_test.php',631],['lib/htmlpurifier/HTMLPurifier/ChildDef','Required.php',23],['lib/zend/Zend/Soap/Client','DotNet.php',43],['admin/roles/classes','allow_role_page.php',37],['backup/util/dbops','restore_dbops.class.php',1755],['lib/zend/Zend/Service/Yahoo','NewsResult.php',97],['backup/util/plan','restore_task.class.php',32],['backup/util/plan','restore_task.class.php',121],['webservice/rest','locallib.php',40],['lib/simplepie/library/SimplePie','Sanitize.php',75],['lib','uploadlib.php',40],['lib/zend/Zend/Gdata','Health.php',109],['lib','questionlib.php',1269],['lib','questionlib.php',1513],['lib/dml','oci_native_moodle_recordset.php',34],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveParticipantRequest.php',53],['lib/zend/Zend/XmlRpc/Value','String.php',38],['lib/zend/Zend/Gdata/Calendar/Extension','AccessLevel.php',45],['lib/ddl','database_manager.php',48],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CreateConferenceTemplateRequest.php',60],['backup/util/xml/parser','progressive_parser.class.php',79],['backup/util/xml/parser','progressive_parser.class.php',305],['backup/util/settings','base_setting.class.php',89],['backup/util/settings','base_setting.class.php',556],['lib/dtl','database_exporter.php',55],['mod/workshop/form/accumulative','lib.php',99],['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',182],['grade/report/singleview/classes/local/ui','bulk_insert.php',40],['lib/zend/Zend/Validate','Float.php',53],['lib/zend/Zend/Gdata/Gapps/Extension','EmailList.php',59],['cache/classes','interfaces.php',473],['lib/zend/Zend/Gdata/App/Extension','Edited.php',43],['lib/zend/Zend/Gdata/Gapps','UserEntry.php',103],['lib/lessphp/Tree','Element.php',19],['lib','moodlelib.php',9143],['lib','moodlelib.php',9354],['repository/picasa','lib.php',41],['webservice/soap','lib.php',42],['lib/zend/Zend/Gdata/Calendar','EventEntry.php',71],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Border.php',18],['lib/phpexcel/PHPExcel/Shared/trend','linearBestFitClass.php',98],['backup/cc/cc_lib','cc_assesment_essay.php',25],['lib/zend/Zend/Service/WindowsAzure/RetryPolicy','RetryN.php',56],['lib/dml','moodle_temptables.php',51],['lib/zend/Zend/Gdata/Media/Extension','MediaContent.php',116],['lib/zend/Zend/Gdata/Gapps','EmailListEntry.php',80],['admin/roles/classes','allow_assign_page.php',31],['lib/zend/Zend/Gdata','Books.php',80],['lib/zend/Zend/Amf/Value','MessageHeader.php',64],['lib/zend/Zend/Validate','GreaterThan.php',59],['lib/zend/Zend/Gdata/YouTube/Extension','PlaylistId.php',44],['calendar/classes','rrule_manager.php',182],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',45],['lib/zend/Zend/Service/ReCaptcha','Response.php',53],['lib/simplepie/library/SimplePie/HTTP','Parser.php',131],['lib/phpexcel/PHPExcel/Style','NumberFormat.php',106],['lib/zend/Zend/Amf/Value/Messaging','RemotingMessage.php',58],['lib/tcpdf','tcpdf.php',1822],['lib/zend/Zend/Gdata/YouTube/Extension','Username.php',44],['lib/zend/Zend/Gdata/Photos/Extension','Version.php',51],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Input.php',14],['lib/zend/Zend/Service/WindowsAzure/Storage','Batch.php',77],['lib/mustache/src/Mustache','Engine.php',61],['lib/xmldb','xmldb_structure.php',40],['lib/zend/Zend/Gdata/Photos','TagEntry.php',61],['webservice/amf','locallib.php',41],['webservice/amf','locallib.php',60],['lib/htmlpurifier/HTMLPurifier/ChildDef','Chameleon.php',36],['lib/horde/framework/Horde/Imap/Client','Base.php',153],['question/type/numerical/tests','form_test.php',40],['lib/google/src/Google/Service','IdentityToolkit.php',38],['comment','locallib.php',39],['lib/zend/Zend/Gdata/Extension','Comments.php',50],['lib/google/src/Google/Service','Resource.php',60],['lib/horde/framework/Horde/Imap/Client/Socket','Catenate.php',37],['lib/zend/Zend/Gdata/YouTube/Extension','Recorded.php',44],['lib/zend/Zend/Amf/Request','Http.php',46],['backup/util/settings','setting_dependency.class.php',68],['backup/util/settings','setting_dependency.class.php',175],['backup/util/settings','setting_dependency.class.php',328],['backup/util/settings','setting_dependency.class.php',439],['backup/util/settings','setting_dependency.class.php',465],['backup/util/settings','setting_dependency.class.php',491],['backup/util/settings','setting_dependency.class.php',556],['question/engine/upgrade','behaviourconverters.php',78],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantDetail.php',62],['repository/s3','lib.php',39],['lib/minify/lib/MrClay','Cli.php',74],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','AlphaValue.php',6],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',67],['lib/zend/Zend/Gdata/App','HttpException.php',51],['lib/zend/Zend/Soap/Client','Common.php',40],['lib/google/src/Google/Service','Dfareporting.php',45],['lib/lessphp/Output','Mapped.php',39],['lib/classes/output','notification.php',66],['lib/google/src/Google/Service','PlusDomains.php',72],['backup/util/plan','base_task.class.php',40],['backup/util/plan','base_task.class.php',277],['lib/editor/tinymce','adminlib.php',36],['lib/zend/Zend/Service/Amazon/Ec2','Exception.php',41],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',52],['lib/simplepie/library/SimplePie','Locator.php',68],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',846],['lib/xmldb','xmldb_key.php',43],['user/filters','checkbox.php',51],['lib/phpexcel/PHPExcel/Reader','SYLK.php',75],['question/type/numerical','questiontype.php',507],['backup/cc/cc_lib','cc_converter_url.php',29],['lib/zend/Zend/Gdata/App/Extension','Control.php',50],['lib/minify/lib','FirePHP.php',189],['lib/lessphp/Tree/Mixin','Definition.php',18],['lib/zend/Zend/Service/Yahoo','LocalResultSet.php',61],['lib','ddllib.php',80],['lib','ddllib.php',93],['lib','ddllib.php',107],['lib','ddllib.php',126],['lib','ddllib.php',140],['admin/tool/langimport/classes','controller.php',48],['lib/google/src/Google/Auth','AssertionCredentials.php',53],['lib/horde/framework/Horde/Stream','String.php',27],['lib','excellib.class.php',47],['lib','excellib.class.php',155],['lib','excellib.class.php',454],['lib/horde/framework/Horde/Stream','Temp.php',25],['lib/alfresco/Service','VersionHistory.php',34],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceSchedule.php',81],['mod/quiz/classes','repaginate.php',49],['lib/zend/Zend/Validate','Isbn.php',65],['lib/zend/Zend/Service/Amazon','Image.php',55],['backup/util/ui','restore_ui_components.php',81],['backup/util/ui','restore_ui_components.php',287],['backup/util/ui','restore_ui_components.php',382],['lib/classes/lock','db_record_lock_factory.php',61],['lib/horde/framework/Horde/Stream','TempString.php',40],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',15],['lib/htmlpurifier/HTMLPurifier/ChildDef','Empty.php',22],['lib/zend/Zend/Gdata/Spreadsheets/Extension','Cell.php',76],['question/type/calculated','question.php',188],['question/type/calculated','question.php',303],['lib/horde/framework/Horde/Text','Flowed.php',75],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',25],['lib/zend/Zend/Gdata/Gapps/Extension','Login.php',111],['mod/workshop/form/rubric','lib.php',105],['cohort','locallib.php',37],['cohort','locallib.php',101],['lib/zend/Zend/XmlRpc/Value','DateTime.php',53],['lib/zend/Zend/Service/WindowsAzure/Storage','QueueMessage.php',52],['lib/htmlpurifier/HTMLPurifier','Queue.php',24],['lib/zend/Zend/Amf/Parse','Serializer.php',40],['lib/google/src/Google/Service','GroupsMigration.php',38],['lib/phpexcel/PHPExcel/Worksheet','PageSetup.php',277],['lib/zend/Zend/Gdata/Gapps','ServiceException.php',61],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',14],['lib/zend/Zend/XmlRpc','Fault.php',100],['lib/zend/Zend/Gdata','Photos.php',124],['question/type/calculated','datasetdefinitions_form.php',53],['lib/phpexcel/PHPExcel/Reader','Excel5.php',424],['question/type/shortanswer','question.php',43],['backup/util/structure','base_final_element.class.php',38],['backup/util/structure','base_final_element.class.php',239],['backup/util/structure','base_final_element.class.php',256],['lib/zend/Zend/Service','LiveDocx.php',67],['backup/util/plan','backup_plan.class.php',36],['backup/util/plan','backup_plan.class.php',130],['lib/google/src/Google/Auth','AppIdentity.php',38],['lib/zend/Zend/Gdata/Exif/Extension','FocalLength.php',49],['lib/zend/Zend/Gdata/App/Extension','Id.php',43],['lib/zend/Zend/Gdata/Books/Extension','PreviewLink.php',42],['mod/chat','locallib.php',179],['mod/chat','locallib.php',227],['lib/google/src/Google/Service','Licensing.php',38],['auth/cas/CAS/CAS/PGTStorage','File.php',105],['lib/zend/Zend/Server/Method','Definition.php',64],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetParticipantStatusRequest.php',53],['question/classes/bank','column_base.php',44],['lib/zend/Zend/XmlRpc/Server','Fault.php',67],['lib/zend/Zend/Amf/Value/Messaging','AcknowledgeMessage.php',40],['grade/report/singleview/classes/local/ui','range.php',38],['lib/zend/Zend/Gdata/Books/Extension','Viewability.php',45],['mod/book','locallib.php',405],['lib/zend/Zend/XmlRpc/Value','Array.php',39],['lib/zend/Zend/Service/Technorati','Result.php',63],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceTemplateRequest.php',46],['lib/zend/Zend/Gdata/Exif/Extension','Exposure.php',49],['lib/zend/Zend/Gdata/Exif','Feed.php',58],['question/type/randomsamatch/tests','helper.php',121],['lib/htmlpurifier/HTMLPurifier','PropertyListIterator.php',22],['question/engine/upgrade','logger.php',42],['question/engine/upgrade','logger.php',87],['lib/portfolio/formats/leap2a','lib.php',62],['lib/portfolio/formats/leap2a','lib.php',258],['lib/portfolio/formats/leap2a','lib.php',503],['lib/zend/Zend/Gdata/Spreadsheets','CellEntry.php',49],['lib/zend/Zend/Gdata/Photos/Extension','PhotoId.php',49],['lib/zend/Zend/Http/Response','Stream.php',120],['lib','modinfolib.php',429],['lib','modinfolib.php',1680],['lib','modinfolib.php',2516],['lib/dtl','database_importer.php',61],['lib/tcpdf','tcpdf_barcodes_2d.php',58],['lib/zend/Zend/Gdata/Exif/Extension','Iso.php',49],['lib/zend/Zend/Gdata/YouTube','VideoQuery.php',48],['lib/lessphp/Tree','Variable.php',20],['backup/moodle2','restore_activity_task.class.php',48],['lib/htmlpurifier/HTMLPurifier/AttrTransform','ImgSpace.php',24],['lib/google/src/Google/Signer','P12.php',33],['lib/lessphp/Tree','DetachedRuleset.php',15],['lib/zend/Zend/Gdata/YouTube','SubscriptionEntry.php',138],['lib/zend/Zend/Http/Client/Adapter','Test.php',81],['','mdeploy.php',120],['lib/ddl','sqlite_sql_generator.php',73],['lib/google/src/Google/Service','Drive.php',70],['mod/quiz/classes','admin_review_setting.php',82],['lib','pdflib.php',161],['lib/zend/Zend/Gdata/YouTube/Extension','Duration.php',45],['mod/quiz/report','attemptsreport_options.php',95],['lib/zend/Zend/Validate/File','Md5.php',60],['backup/util/helper','restore_questions_parser_processor.class.php',42],['lib/horde/framework/Horde/Imap/Client/Exception','SearchCharset.php',34],['lib/filebrowser','file_info_context_coursecat.php',39],['badges','renderer.php',972],['badges','renderer.php',1013],['badges','renderer.php',1077],['badges','renderer.php',1110],['badges','renderer.php',1136],['lib/horde/framework/Horde/Imap/Client','Socket.php',168],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',17],['lib/zend/Zend/Gdata/Gapps/Extension','Nickname.php',59],['lib/zend/Zend/Gdata/YouTube/Extension','MediaRating.php',54],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',50],['mnet/xmlrpc','serverlib.php',674],['completion','data_object.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Filter.php',15],['lib/horde/framework/Horde/Support','StringStream.php',30],['lib/simplepie/library/SimplePie','gzdecode.php',186],['lib/jabber/XMPP','Roster.php',48],['lib/classes/dml','recordset_walk.php',64],['lib','dmllib.php',69],['lib','dmllib.php',84],['lib','dmllib.php',104],['lib','dmllib.php',129],['lib','dmllib.php',159],['lib','dmllib.php',187],['lib','dmllib.php',240],['lib','dmllib.php',270],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',129],['lib/google/src/Google/Service','Books.php',57],['mod/assign/feedback/offline','importgradeslib.php',60],['lib/zend/Zend/Gdata','App.php',165],['lib/pear/Net','GeoIP.php',323],['lib/zend/Zend/Gdata/Photos/Extension','Name.php',50],['lib/google/src/Google/Service','AdExchangeSeller.php',53],['lib/zend/Zend/Gdata/Docs','Query.php',75],['lib/zend/Zend/Gdata/YouTube/Extension','Occupation.php',44],['lib/zend/Zend/Gdata/Exif/Extension','Time.php',49],['cache/tests/fixtures','lib.php',325],['lib/horde/framework/Horde/Mail/Rfc822','List.php',61],['lib/google/src/Google/Cache','Memcache.php',42],['lib/dml','sqlsrv_native_moodle_database.php',47],['backup/util/structure','backup_optigroup_element.class.php',51],['backup/cc/cc_lib','cc_converter_resource.php',28],['lib/simplepie/library/SimplePie','Caption.php',98],['mod/lti','OAuth.php',73],['mod/lti','OAuth.php',89],['mod/lti','OAuth.php',244],['mod/lti','OAuth.php',499],['lib/classes','collator.php',58],['lib/zend/Zend/Service/Delicious','PostList.php',56],['lib/classes/output','mustache_filesystem_loader.php',39],['lib/zend/Zend/Service/Amazon/Ec2','Abstract.php',91],['backup/util/xml/parser/processors','grouped_parser_processor.class.php',67],['mod/workshop/form/numerrors','lib.php',102],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateRequest.php',46],['report/log/classes','table_log.php',52],['lib/zend/Zend/Gdata/YouTube','CommentEntry.php',48],['lib/simplepie/library/SimplePie/Cache','Base.php',70],['lib/zend/Zend/Gdata/YouTube/Extension','Status.php',44],['lib/adodb','adodb-exceptions.inc.php',28],['backup/util/helper','backup_array_iterator.class.php',39],['lib/zend/Zend/Rest','Client.php',54],['lib/zend/Zend/Gdata/YouTube/Extension','Company.php',44],['question/classes/statistics/responses','analysis_for_class.php',68],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceTemplateParticipantRequest.php',53],['question/engine','lib.php',770],['question/engine','lib.php',1000],['question/engine','lib.php',1048],['lib/tcpdf','tcpdf_barcodes_1d.php',58],['lib/google/src/Google/Service','Bigquery.php',59],['backup/moodle2','restore_course_task.class.php',41],['lib/zend/Zend/Gdata/Media/Extension','MediaRestriction.php',54],['lib/htmlpurifier/HTMLPurifier','DefinitionCache.php',22],['lib/phpexcel/PHPExcel/Writer','CSV.php',86],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',73],['cache','disabledlib.php',44],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',20],['lib/mustache/src/Mustache/Exception','UnknownTemplateException.php',22],['webservice/xmlrpc','locallib.php',85],['lib/google/src/Google/Service','Freebase.php',38],['mod/lti/service/profile/classes/local/service','profile.php',41],['admin/tool/monitor/classes/output/managesubs','rules.php',56],['backup/util/settings','backup_setting.class.php',43],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',42],['lib/alfresco/Service','ContentData.php',38],['enrol/ldap','lib.php',36],['lib/zend/Zend/Validate/File','MimeType.php',112],['lib/zend/Zend/Gdata/Gbase/Extension','BaseAttribute.php',47],['lib/zend/Zend/Gdata/Gapps','NicknameEntry.php',79],['lib/minify/lib/Minify','HTML.php',49],['lib/zend/Zend/Gdata/Extension','OriginalEvent.php',56],['lib/zend/Zend/Gdata/YouTube','InboxFeed.php',55],['lib/google/src/Google/Service','Groupssettings.php',40],['availability/classes','info.php',55],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',45],['lib/tests','navigationlib_test.php',472],['lib/tests','navigationlib_test.php',530],['lib/tests','navigationlib_test.php',557],['lib/zend/Zend/Service/DeveloperGarden/Request/IpLocation','LocateIPRequest.php',58],['mod/quiz/report/statistics/classes','calculated.php',43],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',49],['cache/stores/memcached','lib.php',107],['lib/zend/Zend/Validate','Between.php',89],['lib/zend/Zend/Gdata/Media/Extension','MediaGroup.php',183],['user/selector','lib.php',85],['user/selector','lib.php',674],['lib/google/src/Google/Service','YouTube.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Length.php',23],['lib/zend/Zend/Gdata','Exif.php',51],['backup/util/helper','backup_helper.class.php',380],['backup/util/plan','backup_step.class.php',32],['backup/util/plan','backup_step.class.php',55],['backup/util/helper','restore_inforef_parser_processor.class.php',37],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',154],['lib/phpexcel/PHPExcel/CalcEngine','Logger.php',71],['lib/zend/Zend/Gdata','YouTube.php',192],['lib/zend/Zend/Gdata/Calendar/Extension','Link.php',48],['blocks','edit_form.php',47],['lib/dml','mssql_native_moodle_recordset.php',34],['mod/assign','locallib.php',149],['mod/assign','locallib.php',7411],['grade/report/user','lib.php',188],['lib/zend/Zend/Validate/Barcode','Code93ext.php',47],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','ChangeQuotaPool.php',47],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',294],['lib/horde/framework/Horde/Mail/Transport','Mail.php',53],['lib/zend/Zend/Gdata','Media.php',51],['lib/zend/Zend/Gdata/Gapps/Extension','Quota.php',59],['lib/zend/Zend/Amf/Value','ByteArray.php',38],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',22],['lib/simplepie/library/SimplePie/Cache','File.php',82],['lib/behat/form_field','behat_form_field.php',59],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',47],['backup/moodle2','restore_subplugin.class.php',45],['lib/zend/Zend/Gdata/Spreadsheets','SpreadsheetFeed.php',54],['backup/util/structure','base_processor.class.php',49],['lib/zend/Zend/Gdata/Calendar/Extension','Timezone.php',45],['lib/zend/Zend/Validate','Ip.php',56],['lib/zend/Zend/Gdata/Extension','OpenSearchTotalResults.php',44],['badges/criteria','award_criteria_activity.php',45],['lib/zend/Zend/Service/Technorati','DailyCountsResultSet.php',67],['lib/zend/Zend/XmlRpc/Value','Collection.php',40],['lib/google/src/Google/Service','Coordinate.php',47],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','LinkTypes.php',21],['lib/classes/output','mustache_pix_helper.php',43],['lib/zend/Zend/Amf/Value','MessageBody.php',81],['user/classes/output/myprofile','node.php',82],['lib/htmlpurifier/HTMLPurifier','TokenFactory.php',43],['lib/zend/Zend','Registry.php',186],['lib/lessphp/Exception','Chunk.php',19],['lib/dtl','database_mover.php',33],['lib/zend/Zend/Http','CookieJar.php',106],['lib/zend/Zend/Gdata/Extension','Transparency.php',44],['lib/zend/Zend/Gdata/Media/Extension','MediaText.php',64],['lib/phpexcel/PHPExcel/RichText','TextElement.php',43],['lib/simplepie/library/SimplePie','Enclosure.php',219],['lib/google/src/Google/Service','Webmasters.php',46],['lib/lessphp/Tree','Value.php',14],['lib/simplepie/library','SimplePie.php',611],['lib/google/src/Google/Service','Autoscaler.php',46],['lib/zend/Zend/Gdata/App','CaptchaRequiredException.php',64],['lib/behat/features/bootstrap','behat_init_context.php',45],['lib/horde/framework/Horde/Imap/Client/Socket','ClientSort.php',37],['mod/folder','renderer.php',139],['lib/google/src/Google/Service','Webfonts.php',38],['lib/zend/Zend/Gdata/DublinCore/Extension','Description.php',44],['admin/roles/classes','admins_potential_selector.php',30],['lib/zend/Zend/Soap/Client','Local.php',52],['lib/horde/framework/Horde/Imap/Client/Interaction/Server','Tagged.php',36],['lib/lessphp/Tree','Negative.php',14],['mod/quiz','override_form.php',58],['lib/classes/session','file.php',40],['lib/google/src/Google/Auth','OAuth2.php',55],['admin/roles/classes','check_users_selector.php',38],['lib/phpexcel/PHPExcel/Reader/Excel2007','Theme.php',68],['mod/lti/classes/local/ltiservice','service_base.php',63],['lib/alfresco/Service','Store.php',31],['lib/google/src/Google/Service','Audit.php',39],['lib/zend/Zend/Gdata','Gbase.php',95],['mod/wiki','pagelib.php',94],['mod/wiki','pagelib.php',381],['mod/wiki','pagelib.php',986],['mod/wiki','pagelib.php',1195],['mod/wiki','pagelib.php',2201],['mod/wiki','pagelib.php',2429],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',80],['calendar','lib.php',1968],['calendar','lib.php',2709],['lib/zend/Zend/Gdata/Photos','AlbumFeed.php',133],['lib/phpmailer','class.phpmailer.php',572],['lib/google/src/Google/Service','Datastore.php',46],['lib/google/src/Google/Service','YouTubeAnalytics.php',45],['lib/lessphp/Tree','Keyword.php',17],['lib/zend/Zend/Service/Amazon','Sqs.php',70],['backup/util/plan','backup_structure_step.class.php',38],['availability/condition/profile/classes','condition.php',73],['lib/simplepie/library/SimplePie','Rating.php',73],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Length.php',19],['lib/horde/framework/Horde/Support','Backtrace.php',20],['lib/simplepie/library/SimplePie','Author.php',81],['report/loglive/classes','table_log.php',50],['lib','completionlib.php',243],['backup/cc/cc_lib','cc_converter_quiz.php',33],['lib/zend/Zend/Gdata/Exif/Extension','Make.php',49],['lib/dml','moodle_database.php',139],['lib/lessphp/Tree','Media.php',18],['lib/horde/framework/Horde/Imap/Client','Url.php',112],['lib/classes/update','info.php',48],['backup/moodle2','backup_subplugin.class.php',44],['backup/util/ui','base_moodleform.class.php',68],['lib/zend/Zend/Gdata/DublinCore/Extension','Creator.php',44],['lib/alfresco/Service','Association.php',28],['lib/zend/Zend/Gdata/Geo/Extension','GeoRssWhere.php',62],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',57],['lib/zend/Zend/Service','Twitter.php',125],['question/classes/statistics/responses','analysis_for_actual_response.php',70],['admin/tool/log/classes/log','store.php',30],['lib/phpexcel/PHPExcel','Comment.php',101],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CommitConferenceRequest.php',46],['filter','local_settings_form.php',33],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Composite.php',25],['backup/util/plan','base_step.class.php',35],['backup/util/plan','base_step.class.php',127],['badges/classes','assertion.php',49],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateParticipantRequest.php',67],['lib/phpexcel/PHPExcel','RichText.php',45],['lib/zend/Zend/Gdata/App','Base.php',111],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',38],['lib/filestorage','file_storage.php',57],['lib/adodb/drivers','adodb-postgres64.inc.php',125],['lib/adodb/drivers','adodb-postgres64.inc.php',904],['lib/phpexcel/PHPExcel/Chart','Title.php',53],['lib/zend/Zend/Mime','Part.php',51],['lib/phpexcel/PHPExcel','Worksheet.php',335],['lib/phpexcel/PHPExcel/Worksheet','MemoryDrawing.php',78],['lib/google/src/Google/Service','Pagespeedonline.php',39],['lib/zend/Zend/Gdata/DublinCore/Extension','Language.php',44],['lib/phpexcel/PHPExcel/Worksheet','SheetView.php',77],['lib/alfresco/Service/WebService','AlfrescoWebService.php',30],['admin/tool/monitor/classes/output/managerules','renderable.php',56],['lib/google/src/Google/Service','ShoppingContent.php',47],['backup/util/xml/parser/processors','selective_exact_parser_processor.class.php',35],['lib/zend/Zend/Gdata/Spreadsheets','ListQuery.php',57],['backup/moodle2','backup_format_plugin.class.php',40],['mod/workshop/allocation/scheduled','lib.php',48],['lib','outputfactories.php',120],['lib','outputfactories.php',367],['lib/zend/Zend/Gdata/Spreadsheets','ListEntry.php',62],['repository/merlot','lib.php',37],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',29],['mod/chat','chatd.php',78],['mod/chat','chatd.php',103],['lib/lessphp/Visitor','extendFinder.php',15],['lib/zend/Zend/Gdata/YouTube/Extension','MediaGroup.php',112],['mod/quiz/report/grading','gradingsettings_form.php',44],['lib/zend/Zend/Service/Simpy','Note.php',104],['lib/zend/Zend/Gdata/Photos/Extension','Rotation.php',51],['lib/phpexcel/PHPExcel/Worksheet','RowDimension.php',89],['lib/editor/tinymce/classes','plugin.php',49],['question/type/calculatedsimple','edit_calculatedsimple_form.php',72],['lib/zend/Zend/XmlRpc/Value','Integer.php',40],['lib/zend/Zend/Validate/File','Upload.php',74],['lib/phpexcel/PHPExcel/Shared/trend','polynomialBestFitClass.php',201],['admin/roles/classes','capability_table_with_risks.php',46],['lib/zend/Zend/Gdata/Extension','EntryLink.php',52],['question/type','questiontypebase.php',55],['question/type','questiontypebase.php',1442],['lib','outputrequirementslib.php',166],['lib/google/src/Google/Service','Appsactivity.php',49],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',100],['lib/zend/Zend/Loader','Autoloader.php',446],['lib/horde/framework/Horde/Support','CombineStream.php',29],['lib/zend/Zend/Gdata','Docs.php',87],['lib/alfresco/Service/Logger','Logger.php',27],['lib/zend/Zend/Gdata/App/Extension','Logo.php',43],['lib/dml','pgsql_native_moodle_recordset.php',44],['backup/cc/cc_lib','cc_version11.php',57],['lib','weblib.php',315],['lib','weblib.php',3025],['lib','weblib.php',3325],['lib','weblib.php',3360],['lib','weblib.php',3435],['backup/cc/cc_lib','xmlbase.php',52],['backup/cc/cc_lib','cc_organization.php',47],['backup/cc/cc_lib','cc_organization.php',145],['mod/lesson','locallib.php',2007],['mod/lesson','locallib.php',2602],['lib/zend/Zend/Service/LiveDocx','MailMerge.php',61],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',101],['lib/zend/Zend/Server/Reflection','ReturnValue.php',47],['lib/minify/lib/Minify','Build.php',77],['lib/horde/framework/Horde','Variables.php',60],['auth/cas/CAS/CAS','ProxyChain.php',48],['lib/phpexcel/PHPExcel','NamedRange.php',73],['lib/zend/Zend/Gdata/Extension','OpenSearchStartIndex.php',44],['lib/horde/framework/Horde/Imap/Client/Password','Xoauth2.php',44],['lib/zend/Zend/Service/Amazon','OfferSet.php',79],['grade/export/txt','grade_export_txt.php',27],['admin/roles/classes','allow_override_page.php',31],['lib/lessphp/Tree','Assignment.php',15],['lib/zend/Zend/Gdata/Books/Extension','ThumbnailLink.php',42],['lib/zend/Zend/Gdata/YouTube/Extension','Uploaded.php',44],['lib/zend/Zend/Gdata/Extension','AttendeeStatus.php',44],['lib/tcpdf/include/barcodes','qrcode.php',631],['lib/zend/Zend/Gdata/Photos/Extension','Weight.php',51],['enrol','locallib.php',125],['enrol','locallib.php',1240],['enrol','locallib.php',1363],['enrol','locallib.php',1414],['enrol','locallib.php',1447],['lib/lessphp/Visitor','toCSS.php',13],['question/classes/statistics/questions','calculator.php',66],['mod/forum','locallib.php',55],['mod/forum','locallib.php',419],['backup/util/helper','restore_prechecks_helper.class.php',213],['grade/edit/tree','lib.php',57],['grade/edit/tree','lib.php',605],['grade/edit/tree','lib.php',638],['grade/edit/tree','lib.php',804],['lib/zend/Zend/Gdata','Geo.php',56],['lib/zend/Zend/Gdata/Books','CollectionFeed.php',41],['lib/classes','string_manager_standard.php',53],['backup/util/loggers','base_logger.class.php',42],['backup/util/loggers','base_logger.class.php',163],['admin/tool/installaddon/classes','validator.php',223],['admin/tool/generator/classes','backend.php',84],['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedAccessSignature.php',53],['lib/zend/Zend/Gdata/Spreadsheets/Extension','Custom.php',49],['availability/condition/completion/classes','condition.php',48],['question/classes/statistics/questions','calculated.php',181],['lib/lessphp/Tree','Javascript.php',20],['mod/quiz','locallib.php',1898],['lib/phpexcel/PHPExcel/Worksheet','ColumnDimension.php',89],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',62],['lib/zend/Zend/Gdata/DublinCore/Extension','Date.php',45],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',27],['lib/zend/Zend/Loader','PluginLoader.php',95],['lib/zend/Zend/Gdata/YouTube/Extension','Description.php',44],['lib/horde/framework/Horde/Imap/Client/Interaction','Command.php',72],['lib/zend/Zend/Gdata/App/Extension','Generator.php',45],['lib/zend/Zend/Gdata/DublinCore/Extension','Rights.php',44],['lib/phpexcel/PHPExcel/Style','Conditional.php',93],['repository/skydrive','lib.php',42],['lib/google/src/Google/Service','SQLAdmin.php',48],['lib/zend/Zend/Gdata/YouTube/Extension','NoEmbed.php',44],['lib/zend/Zend/Gdata/Exif/Extension','ImageUniqueId.php',49],['lib/simplepie/library/SimplePie','Item.php',82],['lib/phpexcel/PHPExcel/Writer/PDF','Core.php',214],['lib/zend/Zend/Validate/File','IsImage.php',53],['lib/zend/Zend/Date','Exception.php',39],['lib/zend/Zend/Amf/Adobe','Introspector.php',65],['lib/htmlpurifier/HTMLPurifier','URIParser.php',10],['lib/zend/Zend/Service','ReCaptcha.php',117],['lib/zend/Zend/Gdata/Health','ProfileEntry.php',61],['lib/zend/Zend/Server/Reflection','Prototype.php',45],['admin/roles/classes','allow_switch_page.php',33],['backup/util/helper','restore_logs_processor.class.php',45],['backup/util/helper','restore_logs_processor.class.php',140],['lib/google/src/Google/Service','Fitness.php',57],['filter/emoticon/tests','filter_test.php',68],['backup/util/helper','convert_helper.class.php',378],['backup/util/ui','restore_ui_stage.class.php',42],['backup/util/ui','restore_ui_stage.class.php',265],['backup/util/ui','restore_ui_stage.class.php',452],['backup/util/ui','restore_ui_stage.class.php',592],['backup/util/ui','restore_ui_stage.class.php',704],['backup/util/ui','restore_ui_stage.class.php',852],['backup/util/ui','restore_ui_stage.class.php',959],['backup/util/ui','restore_ui_stage.class.php',1100],['repository/webdav','lib.php',38],['repository/dropbox','locallib.php',46],['lib/lessphp/Exception','Parser.php',30],['lib/filestorage','tgz_packer.php',726],['lib/filestorage','tgz_packer.php',808],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','URI.php',15],['backup/converter/moodle1','lib.php',725],['backup/converter/moodle1','lib.php',865],['backup/converter/moodle1','lib.php',1145],['backup/converter/moodle1','lib.php',1190],['backup/converter/moodle1','lib.php',1480],['lib/classes/output','mustache_javascript_helper.php',40],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',58],['lib/zend/Zend/Gdata/YouTube/Extension','FirstName.php',44],['lib/zend/Zend/Service/WindowsAzure/Storage','Queue.php',83],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',32],['lib/zend/Zend/Gdata/Media/Extension','MediaDescription.php',53],['lib/google/src/Google/Service','TagManager.php',66],['lib/zend/Zend/Server','Abstract.php',89],['cache/classes','config.php',80],['lib/htmlpurifier/HTMLPurifier','Generator.php',67],['lib','outputcomponents.php',80],['lib','outputcomponents.php',204],['lib','outputcomponents.php',469],['lib','outputcomponents.php',523],['lib','outputcomponents.php',579],['lib','outputcomponents.php',655],['lib','outputcomponents.php',773],['lib','outputcomponents.php',915],['lib','outputcomponents.php',999],['lib','outputcomponents.php',2178],['lib','outputcomponents.php',2217],['lib','outputcomponents.php',2290],['lib','outputcomponents.php',2371],['lib','outputcomponents.php',2574],['lib','outputcomponents.php',2622],['lib','outputcomponents.php',2682],['lib','outputcomponents.php',2855],['lib','outputcomponents.php',3025],['lib','outputcomponents.php',3129],['lib','outputcomponents.php',3196],['lib','outputcomponents.php',3324],['lib','outputcomponents.php',3608],['lib','outputcomponents.php',3637],['lib','outputcomponents.php',3663],['lib','outputcomponents.php',3685],['lib','outputcomponents.php',3714],['lib','outputcomponents.php',3746],['lib/zend/Zend/Validate/Barcode','Code25.php',53],['lib/zend/Zend/Gdata/YouTube','CommentFeed.php',53],['lib/dtl','string_xml_database_importer.php',34],['question/engine','questionattemptstep.php',97],['question/engine','questionattemptstep.php',608],['lib/htmlpurifier/HTMLPurifier/Node','Element.php',39],['lib/simplepie/library/SimplePie','Cache.php',69],['backup/util/ui','renderer.php',813],['grade/export/xls','grade_export_xls.php',24],['lib/google/src/Google/Service','Directory.php',110],['lib/zend/Zend/Gdata/YouTube/Extension','State.php',47],['lib/phpexcel/PHPExcel/Style','Alignment.php',97],['mod/quiz/report/statistics','statistics_table.php',45],['backup/util/structure','base_nested_element.class.php',44],['backup/util/structure','base_nested_element.class.php',258],['lib/zend/Zend/Gdata/DublinCore/Extension','Title.php',44],['lib/htmlpurifier/HTMLPurifier','Config.php',100],['lib/zend/Zend/Validate/Barcode','Code93.php',67],['lib/lessphp','Functions.php',15],['lib/adodb/drivers','adodb-postgres7.inc.php',78],['lib/adodb/drivers','adodb-postgres7.inc.php',273],['lib/adodb/drivers','adodb-postgres7.inc.php',304],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetRunningConferenceRequest.php',46],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceRequest.php',74],['lib/zend/Zend/Validate','EmailAddress.php',118],['mod/workshop','locallib.php',178],['mod/workshop','locallib.php',2801],['mod/workshop','locallib.php',3236],['mod/workshop','locallib.php',3472],['mod/workshop','locallib.php',3714],['mod/workshop','locallib.php',3800],['mod/workshop','locallib.php',3885],['mod/workshop','locallib.php',3904],['lib/zend/Zend/XmlRpc/Value','Struct.php',39],['lib/zend/Zend/Gdata/Books/Extension','Embeddability.php',45],['lib/horde/framework/Horde/Mime','Mdn.php',35],['cache/stores/static','lib.php',127],['lib','blocklib.php',54],['lib','blocklib.php',152],['lib/zend/Zend/Gdata/Books/Extension','Review.php',46],['lib','componentlib.class.php',597],['lib','componentlib.class.php',821],['lib/zend/Zend/Validate/Barcode','Code39.php',66],['lib/filebrowser','file_info_context_module.php',47],['lib/phpexcel/PHPExcel/Shared/JAMA','CholeskyDecomposition.php',42],['question/engine','states.php',61],['lib/jabber/XMPP','XMLStream.php',171],['lib/jabber/XMPP','XMPP.php',101],['lib/classes/lock','lock_factory.php',39],['lib/tests','collator_test.php',310],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportPop3.php',26],['course/format','lib.php',78],['lib/ddl','sql_generator.php',175],['lib/zend/Zend/XmlRpc/Generator','GeneratorAbstract.php',35],['mod/quiz','accessmanager.php',45],['lib/zend/Zend/Amf/Value','TraitsInfo.php',53],['admin/tool/monitor/classes/output/managesubs','subs.php',51],['lib/zend/Zend/Service/Nirvanix','Response.php',43],['lib','boxlib.php',293],['repository/flickr_public','image.php',34],['lib/google/src/Google/Service','AppState.php',40],['backup/util/structure','backup_nested_element.class.php',44],['lib/filestorage','zip_archive.php',66],['lib/google/src/Google/Service','Taskqueue.php',44],['lib/zend/Zend/Server/Method','Prototype.php',49],['lib/zend/Zend/Service/Technorati','Author.php',90],['mod/workshop/form/comments','lib.php',99],['lib/phpexcel/PHPExcel/RichText','Run.php',43],['lib/phpexcel/PHPExcel/Chart','DataSeriesValues.php',89],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',32],['lib/phpexcel/PHPExcel/Writer/Excel2007','WriterPart.php',69],['lib/zend/Zend/Service/Simpy','WatchlistFilter.php',48],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceRequest.php',46],['lib/zend/Zend/Gdata/Photos','UserEntry.php',131],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',33],['lib/zend/Zend/Gdata/Spreadsheets','ListFeed.php',54],['lib/phpexcel/PHPExcel','DocumentProperties.php',131],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',62],['lib/lessphp/Tree','Paren.php',14],['lib/zend/Zend/Gdata/Photos/Extension','Thumbnail.php',50],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',62],['admin/tool/customlang','locallib.php',44],['admin/tool/customlang','locallib.php',405],['admin/tool/customlang','locallib.php',471],['backup/util/xml/parser/processors','selective_like_parser_processor.class.php',35],['lib/filebrowser','file_info_context_user.php',39],['lib/google/src/Google/Service','CivicInfo.php',40],['lib/zend/Zend/Gdata/YouTube/Extension','Private.php',44],['lib/zend/Zend/Gdata/YouTube/Extension','Music.php',44],['backup/moodle2','restore_block_task.class.php',45],['lib/zend/Zend','Gdata.php',99],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Number.php',18],['lib/simplepie','moodle_simplepie.php',50],['lib/simplepie','moodle_simplepie.php',121],['lib/phpunit/classes','hint_resultprinter.php',37],['backup/util/plan','restore_plan.class.php',43],['backup/util/plan','restore_plan.class.php',203],['admin/roles/classes','capability_table_base.php',51],['lib/htmlpurifier/HTMLPurifier','Lexer.php',152],['lib/google/src/Google/Service','Container.php',44],['lib/zend/Zend/Service/Simpy','TagSet.php',47],['lib/phpexcel/PHPExcel/Chart','Legend.php',82],['question/type/calculated/tests','helper.php',205],['lib/phpexcel/PHPExcel/Reader','CSV.php',103],['availability/classes','result.php',46],['lib/zend/Zend/XmlRpc/Value','Double.php',40],['backup/util/helper','restore_users_parser_processor.class.php',43],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',31],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',462],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',1700],['lib/horde/framework/Horde/Mime','Related.php',32],['report/log/classes','renderable.php',93],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',59],['lib/phpexcel/PHPExcel/Style','Font.php',108],['lib/htmlpurifier/HTMLPurifier/ChildDef','Table.php',57],['backup/util/settings/activity','activity_backup_setting.class.php',25],['lib/mustache/src/Mustache/Exception','UnknownHelperException.php',22],['course/tests/fixtures','course_capability_assignment.php',60],['lib/zend/Zend/Service/Amazon','ResultSet.php',68],['lib/zend/Zend/Validate','Callback.php',69],['lib/zend/Zend/Gdata/Books','CollectionEntry.php',41],['lib/zend/Zend/Gdata/DublinCore/Extension','Publisher.php',44],['lib/zend/Zend/Gdata/Spreadsheets','WorksheetEntry.php',56],['badges/lib','bakerlib.php',52],['backup/util/xml','xml_writer.class.php',57],['backup/util/xml','xml_writer.class.php',284],['lib/portfolio','caller.php',67],['lib/zend/Zend/Validate/File','Sha1.php',60],['lib/htmlpurifier/HTMLPurifier/Strategy','Core.php',8],['lib/zend/Zend/Gdata/Media','Feed.php',58],['lib/zend/Zend/Gdata/YouTube/Extension','LastName.php',44],['mod/data','locallib.php',64],['mod/data','locallib.php',431],['lib/zend/Zend/Gdata/App/Extension','Content.php',44],['lib/classes/update','checker_exception.php',37],['backup/cc/cc_lib','cc_manifest.php',45],['lib','odslib.class.php',42],['lib','odslib.class.php',121],['lib','odslib.class.php',419],['lib','odslib.class.php',824],['lib/zend/Zend/Gdata/Books/Extension','AnnotationLink.php',42],['lib/zend/Zend/Gdata/Calendar/Extension','Color.php',46],['backup/util/helper','restore_structure_parser_processor.class.php',41],['admin/tool/log/store/standard/classes/log','store.php',37],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',46],['lib/alfresco/Service','Session.php',39],['grade/report/singleview/classes/local/ui','empty_element.php',38],['enrol/database','settingslib.php',34],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',125],['lib/google/src/Google/Service','AndroidPublisher.php',51],['lib/zend/Zend/Service','StrikeIron.php',43],['lib/zend/Zend/Gdata/Books/Extension','InfoLink.php',41],['lib/lessphp/SourceMap','Generator.php',82],['filter/urltolink/tests','filter_test.php',209],['lib/horde/framework/Horde/Socket','Client.php',52],['lib/zend/Zend/Service/Amazon','Item.php',112],['repository','lib.php',116],['repository','lib.php',533],['admin/roles/classes','define_role_table_basic.php',31],['lib/phpexcel/PHPExcel','WorksheetIterator.php',54],['lib/zend/Zend/Gdata/Photos/Extension','NumPhotosRemaining.php',50],['mod/quiz','attemptlib.php',41],['mod/quiz','attemptlib.php',82],['mod/quiz','attemptlib.php',505],['mod/quiz','attemptlib.php',2058],['mod/quiz','attemptlib.php',2113],['lib/zend/Zend/Server/Reflection','Node.php',51],['lib/zend/Zend/Gdata/Media/Extension','MediaTitle.php',49],['lib/zend/Zend','Date.php',123],['lib/zend/Zend','Mime.php',290],['lib','accesslib.php',5301],['lib','accesslib.php',5846],['lib','accesslib.php',6116],['lib','accesslib.php',6357],['lib','accesslib.php',6544],['lib','accesslib.php',6776],['lib','accesslib.php',6998],['lib','accesslib.php',7240],['question/engine/tests','helpers.php',582],['question/engine/tests','helpers.php',594],['question/engine/tests','helpers.php',608],['question/engine/tests','helpers.php',623],['question/engine/tests','helpers.php',637],['question/engine/tests','helpers.php',652],['question/engine/tests','helpers.php',665],['question/engine/tests','helpers.php',676],['question/engine/tests','helpers.php',1180],['lib/zend/Zend/Validate','Ccnum.php',62],['lib/zend/Zend/Gdata/Extension','EventStatus.php',44],['lib/google/src/Google/Verifier','Pem.php',29],['lib/zend/Zend/Service/Technorati','BlogInfoResult.php',74],['admin/tool/log/classes','setting_managestores.php',30],['lib','outputactions.php',60],['lib','outputactions.php',91],['lib','outputactions.php',148],['backup/cc/cc_lib','cc_assesment_truefalse.php',27],['backup/util/ui','restore_moodleform.class.php',34],['grade/report/singleview/classes/local/ui','element.php',47],['mod/quiz/report','attemptsreport_table.php',76],['lib/lessphp/Tree','Attribute.php',16],['lib/phpexcel/PHPExcel/Style','Supervisor.php',52],['lib/zend/Zend/Gdata/Media/Extension','MediaCategory.php',50],['lib/google/src/Google/Service','AdSenseHost.php',49],['lib/zend/Zend/Gdata/Photos/Extension','Checksum.php',51],['lib/lessphp/Tree','Expression.php',16],['mod/workshop','fileinfolib.php',43],['mod/workshop','fileinfolib.php',198],['course/format','renderer.php',44],['lib/zend/Zend/XmlRpc/Value','Boolean.php',40],['blocks/rss_client','editfeed.php',36],['lib/phpexcel/PHPExcel/Worksheet','Protection.php',157],['question/type/numerical','question.php',321],['auth/cas/CAS/CAS/ProxiedService','Imap.php',51],['lib/typo3','class.t3lib_cs.php',509],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',110],['lib/zend/Zend/Gdata/Health','ProfileListEntry.php',49],['lib/htmlpurifier/HTMLPurifier/Filter','ExtractStyleBlocks.php',57],['cache/stores/memcache','lib.php',120],['lib/htmlpurifier/HTMLPurifier/AttrDef','Switch.php',29],['lib/zend/Zend/Gdata/Calendar/Extension','WebContent.php',47],['lib/zend/Zend/Gdata/Photos/Extension','Id.php',50],['lib/google/src/Google/Service','Games.php',60],['lib/zend/Zend/Validate/File','Size.php',92],['lib/classes/lock','file_lock_factory.php',57],['lib/htmlpurifier/HTMLPurifier/AttrTransform','SafeParam.php',27],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',64],['lib','filelib.php',2700],['lib','filelib.php',3560],['lib/classes/session','database.php',52],['lib/zend/Zend/Gdata/YouTube/Extension','Movies.php',44],['grade','lib.php',103],['grade','lib.php',785],['availability/condition/grouping/classes','condition.php',46],['lib/zend/Zend/Service/Technorati','SearchResult.php',84],['lib/dml','mysqli_native_moodle_recordset.php',42],['lib/zend/Zend/XmlRpc','Server.php',186],['mod/assign/feedback/editpdf/classes','annotation.php',66],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',30],['lib/htmlpurifier','HTMLPurifier.php',104],['lib/zend/Zend/Gdata/Media/Extension','MediaPlayer.php',59],['lib/phpexcel/PHPExcel','Cell.php',122],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',248],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Percentage.php',18],['lib','oauthlib.php',65],['lib','oauthlib.php',409],['backup/util/helper','restore_log_rule.class.php',62],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',108],['lib/zend/Zend/Server/Reflection','Class.php',66],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Font.php',22],['mnet/service/enrol','locallib.php',48],['mnet/service/enrol','locallib.php',466],['mnet/service/enrol','locallib.php',537],['repository/flickr','lib.php',51],['lib','csvlib.class.php',64],['lib','csvlib.class.php',398],['lib/google/src/Google/Service','MapsEngine.php',66],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',87],['lib/filestorage','tgz_extractor.php',119],['lib/zend/Zend/Soap','Client.php',142],['lib/zend/Zend/Gdata/Calendar/Extension','Hidden.php',45],['cache/classes','factory.php',149],['lib/zend/Zend/Gdata/Media/Extension','MediaCredit.php',54],['course','dnduploadlib.php',109],['course','dnduploadlib.php',407],['mod/lti/classes/local/ltiservice','resource_base.php',62],['lib/zend/Zend/Http','Response.php',132],['lib/horde/framework/Horde/Imap/Client','Exception.php',247],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceListRequest.php',63],['backup/util/ui','backup_moodleform.class.php',41],['lib/phpexcel/PHPExcel/Chart','Layout.php',143],['comment','lib.php',100],['lib/phpexcel','PHPExcel.php',354],['grade/export/ods','grade_export_ods.php',24],['auth/cas/CAS/CAS','ProxyTicketException.php',46],['lib/minify/lib','JSMinPlus.php',193],['lib/minify/lib','JSMinPlus.php',726],['lib/minify/lib','JSMinPlus.php',1638],['lib/minify/lib','JSMinPlus.php',1656],['lib/minify/lib','JSMinPlus.php',1748],['lib/zend/Zend/Gdata/YouTube/Extension','Location.php',44],['lib/lessphp/Tree','Dimension.php',15],['lib/phpexcel/PHPExcel/Worksheet','Row.php',54],['lib/phpexcel/PHPExcel/Writer','HTML.php',135],['lib/zend/Zend/Service/Technorati','TagsResultSet.php',41],['backup/moodle2','backup_theme_plugin.class.php',61],['lib/zend/Zend/Gdata','Extension.php',43],['lib/htmlpurifier/HTMLPurifier/ChildDef','Custom.php',36],['lib/google/src/Google/Service','SiteVerification.php',43],['lib/htmlpurifier/HTMLPurifier/Token','Text.php',34],['mod/forum/classes','subscriber_selector_base.php',53],['lib/zend/Zend','Auth.php',45],['lib/phpexcel/PHPExcel/Style','Borders.php',121],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CreateConferenceRequest.php',67],['lib/zend/Zend/Gdata/Calendar','ListFeed.php',54],['lib/zend/Zend/Gdata/Extension','Visibility.php',44],['webservice/xmlrpc','lib.php',42],['lib/phpexcel/PHPExcel/CachedObjectStorage','CacheBase.php',76],['lib/zend/Zend/Gdata/App','MediaEntry.php',57],['lib/horde/framework/Horde/Mime','Part.php',261],['backup/util/ui','backup_ui_stage.class.php',43],['backup/util/ui','backup_ui_stage.class.php',79],['backup/util/ui','backup_ui_stage.class.php',234],['backup/util/ui','backup_ui_stage.class.php',387],['backup/util/ui','backup_ui_stage.class.php',516],['backup/util/ui','backup_ui_stage.class.php',575],['question/classes/engine/variants','least_used_strategy.php',51],['lib/horde/framework/Horde/Support','Array.php',21],['lib/zend/Zend/Gdata/YouTube/Extension','Statistics.php',93],['lib/zend/Zend/Gdata/Photos/Extension','BytesUsed.php',50],['lib','tablelib.php',127],['lib','tablelib.php',1400],['lib','tablelib.php',1723],['lib/zend/Zend/Gdata/App/Extension','Uri.php',43],['backup/util/plan','backup_task.class.php',32],['backup/util/plan','backup_task.class.php',56],['lib/zend/Zend/Gdata/Media/Extension','MediaCopyright.php',53],['lib/zend/Zend/Gdata/DublinCore/Extension','Identifier.php',44],['backup/util/xml/parser/processors','findpaths_parser_processor.class.php',35],['lib/zend/Zend/Gdata/Gbase','Feed.php',49],['availability/condition/date/classes','condition.php',52],['backup/util/helper','restore_moodlexml_parser_processor.class.php',38],['admin/tool/generator/classes','course_backend.php',116],['lib/google/src/Google/Service','Prediction.php',51],['cache/stores/session','lib.php',131],['cache/classes','dummystore.php',62],['lib/zend/Zend/XmlRpc/Server','System.php',39],['lib/zend/Zend/Service/WindowsAzure/Storage','TableInstance.php',50],['backup/util/settings/course','course_backup_setting.class.php',25],['mod/quiz/classes/question','qubaids_for_users_attempts.php',37],['mod/lesson','override_form.php',58],['lib/zend/Zend/Service/Simpy','WatchlistSet.php',47],['lib/google/src/Google/Service','Compute.php',78],['badges/criteria','award_criteria.php',127],['lib/zend/Zend/Gdata/Calendar/Extension','Selected.php',45],['lib/minify/lib/Minify/Cache','ZendPlatform.php',23],['lib/zend/Zend/Validate','PostCode.php',65],['lib/dml','oci_native_moodle_temptables.php',40],['lib/zend/Zend/Gdata/Photos/Extension','CommentingEnabled.php',51],['lib/simplepie/library/SimplePie','Category.php',81],['auth/cas/CAS/CAS','CookieJar.php',46],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',45],['backup/util/ui','backup_ui_setting.class.php',70],['backup/util/ui','backup_ui_setting.class.php',200],['backup/util/ui','backup_ui_setting.class.php',398],['backup/util/ui','backup_ui_setting.class.php',504],['backup/util/ui','backup_ui_setting.class.php',583],['user/classes/output/myprofile','category.php',68],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',47],['mod/wiki/parser','parser.php',98],['backup/converter','convertlib.php',52],['backup/converter','convertlib.php',277],['repository/googledocs','lib.php',65],['lib/htmlpurifier/HTMLPurifier','Doctype.php',48],['lib/zend/Zend/Validate/File','Extension.php',71],['mod/imscp','locallib.php',289],['lib/classes/session','memcache.php',50],['lib/horde/framework/Horde/Imap/Client','Cache.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ImportantDecorator.php',21],['lib/zend/Zend/Service','Simpy.php',53],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',91],['lib/zend/Zend/Gdata/Gapps','EmailListRecipientQuery.php',54],['lib/zend/Zend/Gdata/YouTube','PlaylistVideoEntry.php',55],['lib/zend/Zend/Gdata/Photos','CommentEntry.php',85],['lib/horde/framework/Horde/Exception','PermissionDenied.php',15],['lib/zend/Zend/Gdata/YouTube','InboxEntry.php',92],['lib/jabber/XMPP','XMPP_Old.php',45],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',27],['backup/cc/cc_lib','cc_converter_label.php',28],['lib/phpexcel/PHPExcel/Style','Border.php',75],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateParticipantRequest.php',53],['enrol/manual','locallib.php',37],['enrol/manual','locallib.php',102],['admin/tool/assignmentupgrade','locallib.php',50],['admin/tool/assignmentupgrade','locallib.php',93],['lib/zend/Zend/Gdata/Exif/Extension','Distance.php',49],['lib/phpexcel/PHPExcel/Writer','PDF.php',46],['lib/zend/Zend/Gdata/Photos/Extension','Size.php',50],['lib/google/src/Google/Service','CloudMonitoring.php',42],['backup/util/xml/output','memory_xml_output.class.php',37],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',41],['lib/simplepie/library/SimplePie','Credit.php',81],['lib/zend/Zend/Service','Delicious.php',112],['lib/bennu','iCalendar_components.php',21],['lib/bennu','iCalendar_components.php',333],['lib/bennu','iCalendar_components.php',355],['lib/bennu','iCalendar_components.php',433],['lib/bennu','iCalendar_components.php',513],['lib/bennu','iCalendar_components.php',551],['lib/bennu','iCalendar_components.php',602],['lib/bennu','iCalendar_components.php',659],['lib/bennu','iCalendar_components.php',679],['lib','outputrenderers.php',117],['lib','outputrenderers.php',282],['lib','outputrenderers.php',405],['lib','outputrenderers.php',4280],['lib','outputrenderers.php',4533],['lib/zend/Zend/Service/Amazon','ListmaniaList.php',44],['lib/zend/Zend/Service','Flickr.php',54],['backup/util/helper','restore_decode_rule.class.php',47],['backup/util/helper','restore_decode_rule.class.php',192],['lib/mustache/src/Mustache/Exception','UnknownFilterException.php',22],['lib/google/src/Google/Logger','File.php',49],['backup','backup.class.php',146],['lib/zend/Zend/Gdata/App/Extension','Updated.php',43],['lib/zend/Zend/Gdata/YouTube','PlaylistVideoFeed.php',55],['auth/cas/CAS/CAS/PGTStorage','Db.php',122],['lib/phpexcel/PHPExcel/Chart','DataSeries.php',137],['lib/zend/Zend/Gdata/Geo','Feed.php',51],['lib/phpexcel/PHPExcel/Shared/trend','logarithmicBestFitClass.php',107],['backup/util/loggers','file_logger.class.php',35],['admin/roles/classes','admins_existing_selector.php',30],['lib/phpexcel/PHPExcel/Shared/JAMA','LUDecomposition.php',57],['lib/zend/Zend/Gdata/Extension','Reminder.php',48],['course/format/topics','renderer.php',38],['mod/lesson/classes','file_info.php',45],['question/type/calculatedmulti','edit_calculatedmulti_form.php',47],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',62],['lib/minify/lib/HTTP','Encoder.php',75],['lib/zend/Zend/Gdata/App/Extension','Name.php',43],['lib/google/src/Google/Service','Calendar.php',50],['question/type','questionbase.php',124],['question/type','questionbase.php',438],['question/type','questionbase.php',531],['question/type','questionbase.php',750],['question/type','questionbase.php',835],['question/type','questionbase.php',868],['question/type','questionbase.php',914],['question/type','questionbase.php',1013],['lib/dml','database_column_info.php',137],['lib/zend/Zend/Gdata/YouTube/Extension','Gender.php',44],['lib/zend/Zend/Service','Yahoo.php',49],['lib/zend/Zend/Service/Amazon','SimilarProduct.php',44],['lib/mustache/src/Mustache/Exception','SyntaxException.php',23],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',21],['lib/horde/framework/Horde','Stream.php',50],['lib/google/src/Google/Service','Analytics.php',76],['lib/horde/framework/Horde/Mail/Transport','Mock.php',76],['lib/xmldb','xmldb_file.php',43],['lib/zend/Zend/Gdata/YouTube','PlaylistListEntry.php',97],['lib/zend/Zend/Service/Amazon/Ec2','Response.php',78],['lib/zend/Zend/Soap/Wsdl/Strategy','Composite.php',60],['lib/google/src/Google/Service','Tasks.php',44],['lib/zend/Zend/XmlRpc','Response.php',68],['lib/horde/framework/Horde/Exception','NotFound.php',15],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',66],['lib/zend/Zend/Gdata/Books','VolumeEntry.php',131],['question','previewlib.php',122],['mod/wiki','renderer.php',537],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',62],['mod/assign','renderable.php',41],['mod/assign','renderable.php',71],['mod/assign','renderable.php',103],['mod/assign','renderable.php',139],['mod/assign','renderable.php',191],['mod/assign','renderable.php',242],['mod/assign','renderable.php',291],['mod/assign','renderable.php',393],['mod/assign','renderable.php',517],['mod/assign','renderable.php',576],['mod/assign','renderable.php',613],['mod/assign','renderable.php',653],['mod/assign','renderable.php',706],['mod/assign','renderable.php',760],['lib/mustache/src/Mustache','Autoloader.php',19],['lib/zend/Zend/Service/DeveloperGarden/Request/SmsValidation','Invalidate.php',46],['lib/zend/Zend/Service/Yahoo','ImageResult.php',97],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooter.php',183],['mod/quiz/classes/question/bank','custom_view.php',44],['lib/htmlpurifier/HTMLPurifier/Token','Tag.php',33],['lib/zend/Zend/Amf/Adobe','Auth.php',56],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','FontFamily.php',11],['auth/cas/CAS/CAS','TypeMismatchException.php',43],['grade/report/singleview/classes/local/screen','screen.php',67],['lib/zend/Zend/Amf/Parse','Deserializer.php',45],['lib/zend/Zend/Service/Delicious','SimplePost.php',56],['lib/zend/Zend/Service/Technorati','ResultSet.php',112],['cache/classes','loaders.php',196],['cache/classes','loaders.php',1211],['cache/classes','loaders.php',1606],['lib/zend/Zend/Gdata/Gbase','Entry.php',62],['lib/zend/Zend/Validate','Identical.php',64],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',65],['cache/stores/mongodb','lib.php',116],['mod/quiz/report/statistics/classes','calculator.php',39],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','FrameTarget.php',19],['lib/zend/Zend/Gdata/App/Extension','Draft.php',44],['enrol/ldap','settingslib.php',32],['enrol/ldap','settingslib.php',90],['enrol/ldap','settingslib.php',204],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceDetail.php',54],['lib/zend/Zend/Service/Yahoo','InlinkDataResult.php',47],['lib/lessphp/Tree','UnicodeDescriptor.php',14],['lib/lessphp/Tree','Directive.php',20],['lib/zend/Zend/Service/Yahoo','VideoResult.php',118],['question/type/calculated','edit_calculated_form.php',51],['lib/classes','string_manager_install.php',43],['lib/google/src/Google/Service','GamesManagement.php',50],['lib/google/src/Google/Logger','Psr.php',37],['grade/report/history/classes/output','user_button.php',40],['lib','externallib.php',129],['lib','externallib.php',426],['lib','externallib.php',457],['lib','externallib.php',488],['lib','externallib.php',517],['lib','externallib.php',649],['lib','externallib.php',684],['lib','externallib.php',782],['backup/util/ui','base_ui_stage.class.php',67],['lib/zend/Zend/Validate','CreditCard.php',136],['lib/zend/Zend/Gdata/Spreadsheets','CellQuery.php',57],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',18],['mod/quiz/accessrule','accessrulebase.php',52],['lib/mustache/src/Mustache','Context.php',20],['lib/zend/Zend/Service/DeveloperGarden/Request/VoiceButler','CallStatus.php',46],['lib/zend/Zend/Gdata/Spreadsheets','CellFeed.php',78],['backup/util/xml/parser/processors','progressive_parser_processor.class.php',57],['lib/lessphp/Tree','Color.php',15],['lib/zend/Zend/Service/StrikeIron','Base.php',56],['lib/zend/Zend/Gdata/Exif/Extension','FStop.php',49],['lib/htmlpurifier/HTMLPurifier/AttrTransform','BoolToCSS.php',24],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',44],['lib/zend/Zend/Service/Simpy','Tag.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',30],['cache/classes','helper.php',90],['lib/zend/Zend/Soap','Wsdl.php',73],['lib/htmlpurifier/HTMLPurifier/Lexer','DOMLex.php',35],['lib/zend/Zend/Validate/Barcode','Code25interleaved.php',53],['webservice/soap','locallib.php',162],['lib/lessphp/Tree','Quoted.php',20],['lib/simplepie/library/SimplePie/Cache','Memcache.php',81],['lib/zend/Zend/Gdata/YouTube','ActivityEntry.php',88],['backup/controller','restore_controller.class.php',63],['backup/controller','restore_controller.class.php',517],['lib/zend/Zend/Service','Audioscrobbler.php',65],['lib/zend/Zend/Service/Flickr','ResultSet.php',82],['lib/mustache/src/Mustache/Logger','StreamLogger.php',44],['lib/zend/Zend/XmlRpc/Request','Stdin.php',47],['lib/zend/Zend/Service/DeveloperGarden/Request/SmsValidation','Validate.php',63],['mod/glossary','locallib.php',481],['lib/google/src/Google/Logger','Abstract.php',121],['lib/horde/framework/Horde/Support','Guid.php',24],['lib/zend/Zend/Http/Client/Adapter','Curl.php',92],['lib/google/src/Google/Service','Oauth2.php',50],['lib/phpmailer','moodle_phpmailer.php',47],['lib/zend/Zend/Validate/Barcode','Intelligentmail.php',47],['repository/skydrive','microsoftliveapi.php',50],['mod/workshop/allocation/manual','lib.php',51],['lib/zend/Zend/Validate/File','Exists.php',62],['lib/xhprof','xhprof_moodle.php',788],['question/classes/bank/search','category_condition.php',60],['lib/markdown','Markdown.php',96],['grade/report/grader','lib.php',104],['lib/zend/Zend/Gdata/YouTube/Extension','Control.php',48],['lib/zend/Zend/Validate','StringLength.php',79],['question/behaviour','behaviourbase.php',50],['backup/cc/cc_lib','cc_converter_forum.php',29],['lib/zend/Zend/Gdata/Photos/Extension','Nickname.php',50],['lib/zend/Zend/Gdata/Exif/Extension','Tags.php',169],['lib/zend/Zend/Uri','Http.php',108],['lib/zend/Zend/Gdata/YouTube/Extension','Hometown.php',44],['cache/stores/file','lib.php',117],['lib/zend/Zend/Service','Amazon.php',75],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',12],['lib/zend/Zend/Gdata/Media/Extension','MediaThumbnail.php',64],['lib/zend/Zend/Service/Yahoo','Image.php',56],['lib/zend/Zend/Gdata','Feed.php',87],['lib/google/src/Google/Service','Storage.php',54],['backup/cc/cc_lib','cc_asssesment.php',290],['backup/cc/cc_lib','cc_asssesment.php',345],['backup/cc/cc_lib','cc_asssesment.php',364],['backup/cc/cc_lib','cc_asssesment.php',415],['backup/cc/cc_lib','cc_asssesment.php',476],['backup/cc/cc_lib','cc_asssesment.php',486],['backup/cc/cc_lib','cc_asssesment.php',561],['backup/cc/cc_lib','cc_asssesment.php',585],['backup/cc/cc_lib','cc_asssesment.php',635],['backup/cc/cc_lib','cc_asssesment.php',668],['backup/cc/cc_lib','cc_asssesment.php',693],['backup/cc/cc_lib','cc_asssesment.php',788],['backup/cc/cc_lib','cc_asssesment.php',814],['backup/cc/cc_lib','cc_asssesment.php',838],['backup/cc/cc_lib','cc_asssesment.php',965],['backup/cc/cc_lib','cc_asssesment.php',971],['backup/cc/cc_lib','cc_asssesment.php',986],['backup/cc/cc_lib','cc_asssesment.php',1003],['backup/cc/cc_lib','cc_asssesment.php',1017],['backup/cc/cc_lib','cc_asssesment.php',1045],['backup/cc/cc_lib','cc_asssesment.php',1186],['backup/cc/cc_lib','cc_asssesment.php',1263],['backup/cc/cc_lib','cc_asssesment.php',1317],['backup/cc/cc_lib','cc_asssesment.php',1389],['backup/cc/cc_lib','cc_asssesment.php',1451],['backup/cc/cc_lib','cc_asssesment.php',1558],['backup/cc/cc_lib','cc_asssesment.php',1620],['backup/cc/cc_lib','cc_asssesment.php',1648],['backup/cc/cc_lib','cc_asssesment.php',1716],['backup/cc/cc_lib','cc_asssesment.php',2155],['backup/cc/cc_lib','cc_asssesment.php',2264],['backup/cc/cc_lib','cc_asssesment.php',2469],['admin/tool/uploadcourse/classes','course.php',111],['lib/zend/Zend/Gdata/Extension','Where.php',52],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ListStyle.php',20],['lib/zend/Zend/Service/Amazon','S3.php',102],['lib/horde/framework/Horde/Stream','Existing.php',28],['backup/util/output','output_controller.class.php',44],['backup/cc/cc_lib','cc_version1.php',57],['question/classes/statistics/responses','analysis_for_question.php',58],['lib/zend/Zend/Service/Simpy','Link.php',104],['backup/converter/moodle1','handlerlib.php',120],['backup/converter/moodle1','handlerlib.php',1710],['backup/converter/moodle1','handlerlib.php',1902],['backup/converter/moodle1','handlerlib.php',2155],['cache','lib.php',66],['cache','lib.php',109],['cache','lib.php',138],['cache','lib.php',183],['lib/zend/Zend/Gdata','Calendar.php',77],['lib/zend/Zend/Validate','Date.php',71],['backup/util/structure','base_atom.class.php',41],['backup/util/structure','base_atom.class.php',114],['backup/util/structure','base_atom.class.php',135],['backup/util/structure','base_atom.class.php',156],['lib/xmldb','xmldb_table.php',49],['lib/htmlpurifier/HTMLPurifier','Encoder.php',10],['backup/cc','cc112moodle.php',59],['lib/zend/Zend/XmlRpc/Client','ServerIntrospection.php',43],['lib/zend/Zend/Gdata/Photos','PhotoFeed.php',147],['backup/controller','backup_controller.class.php',68],['backup/controller','backup_controller.class.php',407],['lib','adminlib.php',792],['lib','adminlib.php',1139],['lib','adminlib.php',1213],['lib','adminlib.php',1356],['lib','adminlib.php',1553],['lib','adminlib.php',1925],['lib','adminlib.php',2037],['lib','adminlib.php',2103],['lib','adminlib.php',2204],['lib','adminlib.php',2246],['lib','adminlib.php',2284],['lib','adminlib.php',2372],['lib','adminlib.php',2406],['lib','adminlib.php',2563],['lib','adminlib.php',2648],['lib','adminlib.php',2877],['lib','adminlib.php',3033],['lib','adminlib.php',3175],['lib','adminlib.php',3266],['lib','adminlib.php',3430],['lib','adminlib.php',3510],['lib','adminlib.php',3621],['lib','adminlib.php',3772],['lib','adminlib.php',4001],['lib','adminlib.php',4068],['lib','adminlib.php',4286],['lib','adminlib.php',4315],['lib','adminlib.php',4344],['lib','adminlib.php',4368],['lib','adminlib.php',4398],['lib','adminlib.php',4434],['lib','adminlib.php',4469],['lib','adminlib.php',4501],['lib','adminlib.php',4591],['lib','adminlib.php',4624],['lib','adminlib.php',4680],['lib','adminlib.php',4704],['lib','adminlib.php',4730],['lib','adminlib.php',4753],['lib','adminlib.php',4770],['lib','adminlib.php',4815],['lib','adminlib.php',4878],['lib','adminlib.php',4913],['lib','adminlib.php',4956],['lib','adminlib.php',5039],['lib','adminlib.php',5169],['lib','adminlib.php',5211],['lib','adminlib.php',5256],['lib','adminlib.php',5313],['lib','adminlib.php',5329],['lib','adminlib.php',5385],['lib','adminlib.php',5610],['lib','adminlib.php',5664],['lib','adminlib.php',5718],['lib','adminlib.php',5735],['lib','adminlib.php',5783],['lib','adminlib.php',5825],['lib','adminlib.php',5876],['lib','adminlib.php',5932],['lib','adminlib.php',6161],['lib','adminlib.php',6341],['lib','adminlib.php',6435],['lib','adminlib.php',6582],['lib','adminlib.php',7206],['lib','adminlib.php',7658],['lib','adminlib.php',7841],['lib','adminlib.php',8128],['lib','adminlib.php',8275],['lib','adminlib.php',8435],['lib','adminlib.php',8582],['lib','adminlib.php',8746],['lib','adminlib.php',8939],['lib','adminlib.php',8993],['lib','adminlib.php',9055],['lib','adminlib.php',9100],['mod/workshop/eval/best','lib.php',44],['lib/zend/Zend/Gdata/Calendar','EventQuery.php',91],['lib/zend/Zend/Service/Technorati','TagResult.php',94],['lib/google/src/Google/Cache','Null.php',26],['enrol/flatfile','adminlib.php',35],['lib/phpexcel/PHPExcel/Chart','PlotArea.php',52],['mod/quiz/report/statistics','statistics_question_table.php',49],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','AddConferenceTemplateParticipantRequest.php',53],['mod/data','lib.php',66],['mod/data','lib.php',2164],['mod/data','lib.php',2438],['mod/data','lib.php',2459],['question/classes/statistics/questions','calculated_for_subquestion.php',57],['lib/horde/framework/Horde/Crypt/Blowfish','Base.php',56],['lib/classes/session','memcached.php',51],['lib/google/src/Google/IO','Abstract.php',37],['availability/classes','info_section.php',40],['lib/zend/Zend/Gdata/YouTube/Extension','Books.php',44],['lib/phpexcel/PHPExcel/Shared/JAMA','QRDecomposition.php',48],['lib/filestorage','stored_file.php',63],['grade/report/history/classes/output','tablelog.php',72],['lib/classes','plugin_manager.php',71],['lib/google/src/Google','Model.php',32],['lib/zend/Zend/Gdata/YouTube/Extension','Relationship.php',44],['lib/horde/framework/Horde/Crypt','Blowfish.php',54],['lib/filebrowser','virtual_root_file.php',45],['auth/cas/CAS/CAS','OutOfSequenceBeforeClientException.php',47],['availability/condition/grade/classes','condition.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',188],['admin/roles/classes','check_capability_table.php',40],['lib/zend/Zend/Gdata/Media','Entry.php',60],['lib/zend/Zend/Gdata','MimeFile.php',43],['admin/tool/xmldb/actions','XMLDBAction.class.php',56],['backup/cc/cc_lib','cc_resources.php',102],['lib/zend/Zend/Loader/Autoloader','Resource.php',62],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',80],['backup/util/xml/parser/processors','simplified_parser_processor.class.php',46],['lib/simplepie/library/SimplePie','IRI.php',252],['lib/htmlpurifier/HTMLPurifier','ContentSets.php',33],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',68],['lib/htmlpurifier/HTMLPurifier/Token','Comment.php',19],['lib/zend/Zend/Gdata/Calendar/Extension','SendEventNotifications.php',44],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntity.php',66],['lib/zend/Zend/Service/DeveloperGarden/Request/LocalSearch','LocalSearchRequest.php',60],['mod/quiz/report/overview','overview_table.php',41],['lib/zend/Zend/Gdata/Photos/Extension','Client.php',51],['backup/cc/cc_lib','cc_converters.php',75],['lib/google/src/Google/Service','AdSense.php',68],['lib/zend/Zend/Gdata','Entry.php',48],['lib','filterlib.php',74],['lib','filterlib.php',382],['lib/lessphp/Tree','Alpha.php',13],['lib/zend/Zend/Gdata','DublinCore.php',51],['lib/horde/framework/Horde/Support','Stack.php',18],['lib/lessphp/Tree','Selector.php',31],['lib/zend/Zend/Service','Nirvanix.php',47],['lib/dtl','file_xml_database_importer.php',34],['mod/workshop','mod_form.php',44],['lib/zend/Zend/Service/Technorati','CosmosResultSet.php',73],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',39],['lib/zend/Zend/Gdata/YouTube/Extension','Age.php',44],['repository/s3','S3.php',176],['repository/s3','S3.php',1994],['repository/s3','S3.php',2346],['lib/lessphp/Tree','Ruleset.php',45],['lib/zend/Zend/Service/Simpy','NoteSet.php',47],['backup/util/xml/output','xml_output.class.php',52],['backup/util/xml/output','xml_output.class.php',158],['lib/google/src/Google/Service','Pubsub.php',44],['lib/alfresco/Service','Node.php',51],['lib/zend/Zend/Service','Technorati.php',79],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',39],['admin/tool/monitor/classes','subscription.php',43],['lib/zend/Zend/Gdata/App/Extension','Person.php',61],['backup/moodle2','backup_course_task.class.php',39],['grade/report/singleview/classes/local/ui','text_attribute.php',42],['lib/dml','sqlsrv_native_moodle_recordset.php',40],['lib/zend/Zend/Gdata/YouTube','ContactEntry.php',61],['lib/zend/Zend/Gdata/Extension','AttendeeType.php',44],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',17],['mod/assignment/backup/moodle1','lib.php',223],['lib/zend/Zend/Gdata/Health/Extension','Ccr.php',43],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',34],['mod/quiz','mod_form.php',48],['backup/util/structure','restore_path_element.class.php',47],['backup/util/structure','restore_path_element.class.php',128],['lib/zend/Zend/Gdata/Calendar','EventFeed.php',55],['lib/zend/Zend/Gdata/Spreadsheets','DocumentQuery.php',57],['availability/tests/fixtures','mock_condition.php',52],['lib/lessphp','Visitor.php',14],['mod/assign/feedback/editpdf/classes','widget.php',53],['lib/minify/lib/Minify/Cache','File.php',9],['lib/zend/Zend/Gdata/Exif','Entry.php',64],['grade/tests','reportlib_test.php',36],['mod/workshop/allocation','lib.php',103],['lib/zend/Zend/Service/WindowsAzure/Storage','BlobInstance.php',57],['lib/zend/Zend/Gdata/Photos/Extension','User.php',50],['admin/tool/uploadcourse/classes','tracker.php',72],['lib/zend/Zend/Service/Technorati','GetInfoResult.php',52],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',61],['lib/zend/Zend/Gdata/YouTube/Extension','Hobbies.php',44],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',31],['lib/zend/Zend/Gdata/Photos/Extension','Width.php',50],['admin/roles/classes','view_role_definition_table.php',28],['lib/phpunit/classes','arraydataset.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Sync.php',133],['lib/zend/Zend','Exception.php',34],['backup/util/xml/parser/tests','parser_test.php',797],['lib/zend/Zend/Validate/File','ImageSize.php',113],['lib/zend/Zend/Validate','Alnum.php',65],['lib/zend/Zend/Service/Flickr','Image.php',62],['lib/phpexcel/PHPExcel/Calculation','Function.php',71],['lib/horde/framework/Horde/Support','Inflector.php',115],['lib/horde/framework/Horde/Exception','Pear.php',22],['question/classes/bank','random_question_loader.php',61],['lib/phpexcel/PHPExcel/Reader','HTML.php',104],['lib/mustache/src/Mustache/Loader','InlineLoader.php',57],['lib/zend/Zend/Gdata/Photos/Extension','QuotaLimit.php',51],['admin/tool/uploadcourse/classes','processor.php',122],['lib/zend/Zend/Gdata/Spreadsheets','WorksheetFeed.php',40],['lib/lessphp/Tree','Rule.php',24],['lib/zend/Zend/Service/Amazon','EditorialReview.php',44],['lib/zend/Zend/Service/ReCaptcha','MailHide.php',86],['lib/htmlpurifier/HTMLPurifier/AttrTransform','NameSync.php',11],['lib/classes/progress','display_if_slow.php',60],['availability/condition/group/classes','condition.php',43],['lib/zend/Zend/Gdata/Photos/Extension','Location.php',50],['backup/moodle2','restore_settingslib.php',125],['lib/filebrowser','file_info.php',43],['repository/equella','lib.php',42],['lib/zend/Zend/Http','Client.php',242],['lib/alfresco/Service','ChildAssociation.php',30],['lib/zend/Zend/Gdata/DublinCore/Extension','Subject.php',44],['lib/zend/Zend/Gdata/App/Extension','Category.php',46],['badges/lib','awardlib.php',55],['admin/roles/classes','override_permissions_table_advanced.php',31],['lib/mustache/src/Mustache','Template.php',29],['backup/util/helper','restore_roles_parser_processor.class.php',39],['lib','csslib.php',1501],['lib','csslib.php',1587],['lib','csslib.php',2068],['lib','csslib.php',2136],['lib','csslib.php',2242],['lib/zend/Zend/Service/WindowsAzure/Storage','QueueInstance.php',49],['mod/lti/service/toolproxy/classes/local/service','toolproxy.php',41],['admin/roles/classes','define_role_table_advanced.php',46],['backup/moodle2','restore_section_task.class.php',42],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',44],['lib/google/src/Google','Client.php',71],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',69],['backup/moodle2','restore_plugin.class.php',43],['lib/simplepie/library/SimplePie','Registry.php',99],['backup/cc','cc2moodle.php',105],['lib/classes/lock','postgres_lock_factory.php',81],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',56],['lib/htmlpurifier/HTMLPurifier','Length.php',41],['lib/zend/Zend/Validate/File','Count.php',92],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',54],['lib/editor/atto','adminlib.php',109],['lib/google/src/Google/Service','Admin.php',40],['lib/dml','moodle_transaction.php',40],['backup/util/plan','restore_structure_step.class.php',46],['question/engine','questionattempt.php',166],['question/engine','questionattempt.php',1513],['question/engine','questionattempt.php',1599],['question/engine','questionattempt.php',1684],['lib/zend/Zend/Service/Technorati','Weblog.php',152],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantStatus.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',23],['backup/util/helper','restore_decode_content.class.php',50],['backup/util/helper','restore_decode_content.class.php',125],['lib/google/src/Google/Cache','File.php',39],['lib/google/src/Google/Http','Request.php',55],['backup/moodle2','backup_block_task.class.php',43],['lib/simplepie/library/SimplePie','Source.php',61],['lib/google/src/Google/Service','Translate.php',40],['availability/classes','capability_checker.php',49],['lib','navigationlib.php',145],['lib','navigationlib.php',1012],['lib','navigationlib.php',2814],['lib','navigationlib.php',3075],['lib','navigationlib.php',3409],['lib','navigationlib.php',4775],['lib','navigationlib.php',4956],['lib/zend/Zend/Gdata/YouTube/Extension','MediaCredit.php',64],['lib/dml','pdo_moodle_database.php',42],['lib/zend/Zend/Gdata/YouTube/Extension','ReleaseDate.php',44],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',40],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',221],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','NewParticipantRequest.php',53],['lib/zend/Zend/Gdata/Spreadsheets/Extension','RowCount.php',49],['lib/zend/Zend/Validate/File','IsCompressed.php',53],['lib/zend/Zend/Gdata/Photos/Extension','MaxPhotosPerAlbum.php',51],['lib/zend/Zend/Gdata/Extension','When.php',52],['question/classes/bank/search','hidden_condition.php',42],['report/loglive/classes','renderable.php',73],['mod/lti/classes/local/ltiservice','response.php',58],['lib/zend/Zend/Gdata/Extension','Recurrence.php',43],['lib/zend/Zend/Gdata/Books/Extension','BooksLink.php',41],['backup/util/loggers','database_logger.class.php',40],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',250],['lib/phpexcel/PHPExcel','HashTable.php',52],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',34],['lib/htmlpurifier/HTMLPurifier','Zipper.php',25],['lib/classes/update','deployer.php',42],['lib/zend/Zend/Gdata/YouTube','VideoFeed.php',53],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','GetQuotaInformation.php',40],['lib/minify/lib','CSSmin.php',43],['lib/zend/Zend/Validate/File','Crc32.php',60],['mod/feedback/item','feedback_item_class.php',20],['question/engine/upgrade','upgradelib.php',280],['question/engine/upgrade','upgradelib.php',381],['lib/simplepie/library/SimplePie','Copyright.php',73],['lib/zend/Zend/Gdata/Spreadsheets','SpreadsheetEntry.php',43],['lib/google/src/Google/Service','Dns.php',50],['lib/zend/Zend/Gdata/Gapps','Query.php',57],['lib/zend/Zend/Gdata/YouTube/Extension','School.php',44],['lib/mustache/src/Mustache','HelperCollection.php',19],['mod/assign','gradingtable.php',68],['backup/util/xml/output','file_xml_output.class.php',37],['lib','upgradelib.php',45],['lib','upgradelib.php',61],['lib','upgradelib.php',76],['lib','upgradelib.php',94],['lib','upgradelib.php',111],['lib/zend/Zend/Service','Akismet.php',77],['lib','googleapi.php',52],['lib','googleapi.php',243],['lib/zend/Zend/Service/Yahoo','ResultSet.php',84],['lib/classes/message/inbound','processing_failed_exception.php',36],['lib','portfoliolib.php',101],['lib/lessphp/Tree','Import.php',30],['lib/phpexcel/PHPExcel/Shared/JAMA','SingularValueDecomposition.php',53],['lib/tests/fixtures','test_renderer_factory.php',41],['mod/lesson','editpage_form.php',41],['grade/report','lib.php',156],['lib/zend/Zend/XmlRpc/Request','Http.php',53],['lib/filebrowser','file_info_stored.php',51],['lib/phpexcel/PHPExcel/Style','Protection.php',57],['lib/google/src/Google','Config.php',30],['lib/horde/framework/Horde/Imap/Client/Exception','ServerResponse.php',44],['lib/zend/Zend/Validate','LessThan.php',58],['grade/export','lib.php',60],['lib/zend/Zend/Gdata/YouTube/Extension','PlaylistTitle.php',44],['availability/classes','tree.php',118],['lib/htmlpurifier/HTMLPurifier/Node','Text.php',35],['question/classes/statistics/responses','analysis_for_subpart.php',50],['lib/zend/Zend/Validate','InArray.php',65],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','BackgroundPosition.php',57],['lib/zend/Zend/Gdata/Photos/Extension','Height.php',50],['lib/zend/Zend/Gdata/Gapps','Error.php',76],['backup/util/helper','restore_decode_processor.class.php',47],['backup/util/helper','restore_decode_processor.class.php',182],['lib/phpexcel/PHPExcel','Chart.php',150],['lib/google/src/Google/Service','Replicapool.php',48],['lib/zend/Zend/Gdata/Media/Extension','MediaRating.php',49],['lib/zend/Zend/Gdata/YouTube','VideoEntry.php',175],['admin/tool/installaddon/classes','pluginfo_client.php',68],['admin/tool/installaddon/classes','pluginfo_client.php',206],['lib/google/src/Google/Service','Resourceviews.php',54],['admin/tool/log/store/legacy/classes/log','store.php',33],['backup/moodle2','backup_section_task.class.php',40],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',68],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',40],['repository/youtube','lib.php',40],['lib/tcpdf/include/barcodes','datamatrix.php',229],['lib/testing/generator','component_generator_base.php',45],['lib/zend/Zend/Gdata/DublinCore/Extension','Format.php',44],['lib','badgeslib.php',133],['admin/tool/installaddon/classes','installer.php',488],['admin/tool/installaddon/classes','installer.php',745],['lib/zend/Zend/XmlRpc','Client.php',122],['lib/mustache/src/Mustache','LambdaHelper.php',24],['admin/roles/classes','permissions_table.php',38],['lib/jabber/XMPP','XMLObj.php',76],['lib','coursecatlib.php',197],['lib','coursecatlib.php',2668],['question/type','edit_question_form.php',96],['lib/zend/Zend/Gdata','MediaMimeStream.php',80],['mod/quiz/report/responses','last_responses_table.php',39],['lib/zend/Zend/Gdata/Photos/Extension','Timestamp.php',51],['lib','setuplib.php',106],['lib','setuplib.php',158],['lib','setuplib.php',174],['lib','setuplib.php',194],['lib','setuplib.php',224],['lib','setuplib.php',246],['lib','setuplib.php',262],['lib','setuplib.php',284],['lib','setuplib.php',303],['lib','setuplib.php',321],['lib/google/src/Google/Cache','Apc.php',35],['mod/lti/service/toolsettings/classes/local/service','toolsettings.php',41],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',57],['lib/lessphp/Tree','Unit.php',16],['lib/zend/Zend/Service/DeveloperGarden/Request/VoiceButler','TearDownCall.php',46],['lib/minify/lib/HTTP','ConditionalGet.php',109],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',261],['lib/htmlpurifier/HTMLPurifier','Printer.php',21],['lib/zend/Zend/Service/Amazon','CustomerReview.php',69],['lib/zend/Zend/Gdata/YouTube/Extension','QueryString.php',44],['lib/zend/Zend/Gdata/Gapps/Extension','Name.php',65],['mod/assign','adminlib.php',41],['mod/assign','adminlib.php',102],['lib/lessphp/Tree','RulesetCall.php',14],['lib/zend/Zend/Gdata/Extension','Rating.php',49],['repository/alfresco','lib.php',42],['lib/zend/Zend/Service/Technorati','SearchResultSet.php',49],['lib/zend/Zend/Gdata/Photos','UserQuery.php',71],['enrol','renderer.php',426],['enrol','renderer.php',728],['badges/criteria','award_criteria_course.php',47],['lib/zend/Zend/Gdata/Extension','RecurrenceException.php',56],['lib/phpexcel/PHPExcel/Style','Fill.php',89],['lib/zend/Zend/Service/Technorati','TagsResult.php',60],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',60],['lib/google/src/Google/Service','Exception.php',12],['lib/zend/Zend/Gdata','Spreadsheets.php',115],['lib/xmldb','xmldb_index.php',56],['question/classes/statistics/responses','analyser.php',69],['lib/htmlpurifier/HTMLPurifier/Node','Comment.php',19],['lib/zend/Zend/Gdata/Photos/Extension','Position.php',50],['lib/google/src/Google/Auth','Simple.php',32],['lib/zend/Zend/Gdata/Geo/Extension','GmlPoint.php',62],['lib/horde/framework/Horde/Crypt/Blowfish/Php','Base.php',318],['lib/horde/framework/Horde/Imap/Client/Cache','Backend.php',33],['lib/zend/Zend/Rest','Route.php',71],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceTemplateParticipantRequest.php',60],['question','category_class.php',58],['lib/classes/progress','display.php',48],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportExtension.php',33],['lib/zend/Zend/Gdata/App/Extension','Rights.php',43],['lib/adodb','adodb-active-record.inc.php',113],['lib/horde/framework/Horde/Exception','Wrapped.php',16],['lib/zend/Zend/Validate','NotEmpty.php',77],['question/type/calculated','datasetitems_form.php',72],['lib/horde/framework/Horde/Support','ObjectStub.php',29],['lib/dml','pdo_moodle_recordset.php',41],['backup/cc/cc_lib','cc_converter_folder.php',28],['lib/horde/framework/Horde/Mime','Mail.php',93],['lib/zend/Zend/Gdata/Calendar','ListEntry.php',85],['admin/tool/monitor/classes','rule.php',44],['backup/cc/cc_lib','cc_utils.php',313],['backup/cc/cc_lib','cc_utils.php',381],['backup/cc/cc_lib','cc_utils.php',437],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',69],['lib/zend/Zend/Gdata/Geo','Entry.php',55],['lib/zend/Zend/Gdata/YouTube/Extension','Link.php',48],['lib','flickrlib.php',53],['lib/zend/Zend/Gdata/YouTube/Extension','AboutMe.php',44],['lib/zend/Zend/Service/DeveloperGarden','Credential.php',54],['grade/report/overview','lib.php',76],['lib/simplepie/library/SimplePie','File.php',68],['backup/moodle2','backup_plugin.class.php',44],['lib/zend/Zend/Gdata/Extension','ExtendedProperty.php',46],['backup/cc/cc_lib','cc_assesment_sfib.php',27],['rating','lib.php',114],['rating','lib.php',1070],['lib','dtllib.php',66],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',68],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',20],['question/engine','datalib.php',68],['question/engine','datalib.php',1330],['question/engine','datalib.php',1631],['question/engine','datalib.php',1739],['question/engine','datalib.php',1869],['question/engine','datalib.php',1940],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',405]], 1047],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'open': ['open', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/searchreplace','editor_plugin_src.js',14],['lib','webdavlib.php',156],['lib/tcpdf','tcpdf.php',2931],['lib/pear/Net','GeoIP.php',400],['lib/pear/Auth','RADIUS.php',251],['lib/pear/Auth','RADIUS.php',586],['lib/pear/Auth','RADIUS.php',893],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',64],['auth/fc','fcFPP.php',42],['lib/filestorage','zip_archive.php',73],['auth/cas/CAS/CAS/ProxiedService','Imap.php',179],['lib/google/src/Google/Logger','File.php',94],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',92]], 254],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','oci_native_moodle_database.php',1102],['lib/dml','sqlsrv_native_moodle_database.php',823],['lib/dml','mssql_native_moodle_database.php',741],['lib/dml','mysqli_native_moodle_database.php',1049],['lib/dml/tests','dml_test.php',5424],['lib/dml','pdo_moodle_database.php',308]], 678],
'filter_get_global_states': ['filter_get_global_states', 'This function is for use by the filter administration page. ', [['lib','filterlib.php',1093]], 5],
'filter_save_ignore_tags': ['filter_save_ignore_tags', 'Extract open/lose tags and their contents to avoid being processed by filters. Useful to extract pieces of code like <a>...</a> tags. It returns the text converted with some <#xTEXTFILTER_EXCL_SEPARATORx#> codes replacing the extracted text. Such extracted texts are returned in the ignoretags array (as values), with codes as keys. ', [['lib','filterlib.php',1409]], 3],
'get_text_filters': ['get_text_filters', '', [['lib','filterlib.php',177]], 3],
'filter_set_local_config': ['filter_set_local_config', 'Set a particular local config variable for a filter in a context. ', [['lib','filterlib.php',791]], 27],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pgsql_native_moodle_database.php',1137],['lib/dml','oci_native_moodle_database.php',1355],['lib/dml','sqlsrv_native_moodle_database.php',1081],['lib/dml','mssql_native_moodle_database.php',1003],['lib/dml','mysqli_native_moodle_database.php',1397],['lib/dml/tests','dml_test.php',5430],['lib/dml','pdo_moodle_database.php',460]], 565],
'unload_all_filters': ['unload_all_filters', 'Unloads all filters and other cached information ', [['lib','filterlib.php',103],['lib','filterlib.php',308]], 2],
'get_plugin_list': ['get_plugin_list', 'Get list of plugins of given type. ', [['lib/classes','component.php',781],['lib','deprecatedlib.php',467],['admin/tool/monitor/classes','eventlist.php',176]], 184],
'close': ['close', 'Close the connection to the server ', [['lib/zend/Zend/Http/Client/Adapter','Socket.php',486],['lib/tests','completionlib_test.php',888],['lib/adodb','adodb.inc.php',2164],['lib/adodb','adodb.inc.php',2844],['lib/adodb','adodb.inc.php',3536],['lib','webdavlib.php',176],['admin/tool/uploaduser','locallib.php',149],['lib/dml','oci_native_moodle_recordset.php',80],['lib/tcpdf','tcpdf.php',2943],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['lib','excellib.class.php',93],['lib/zend/Zend/Http/Client/Adapter','Test.php',187],['lib/classes/dml','recordset_walk.php',153],['mod/assign/feedback/offline','importgradeslib.php',178],['lib/pear/Net','GeoIP.php',556],['backup/util/helper','backup_array_iterator.class.php',63],['lib/zend/Zend/Gdata/App','LoggingHttpClientAdapterSocket.php',109],['lib/zend/Zend/Http/Client/Adapter','Proxy.php',266],['lib/dml','mssql_native_moodle_recordset.php',87],['lib/pear/Auth','RADIUS.php',542],['lib/pear/Auth','RADIUS.php',703],['lib/pear/Auth','RADIUS.php',824],['lib/phpmailer','class.smtp.php',507],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',80],['lib/phpunit/classes','event_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Interface.php',73],['lib/dml','pgsql_native_moodle_recordset.php',104],['auth/fc','fcFPP.php',72],['lib/filestorage','zip_archive.php',183],['lib','odslib.class.php',71],['lib/horde/framework/Horde/Socket','Client.php',135],['question/engine/tests','helpers.php',1225],['grade','lib.php',323],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib','csvlib.class.php',256],['lib/google/src/Google/Logger','File.php',130],['lib/horde/framework/Horde','Stream.php',585],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpunit/classes','message_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Curl.php',460],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',109],['backup/util/helper','backup_null_iterator.class.php',53],['grade/export','lib.php',662],['lib/dml','pdo_moodle_recordset.php',79]], 1036],
'filter_add_javascript': ['filter_add_javascript', 'Add missing openpopup javascript to HTML files. ', [['lib','filterlib.php',1461]], 1],
'select': ['select', 'Create a new Zend_Service_WindowsAzure_Storage_TableEntityQuery ', [['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',455],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntityQuery.php',74],['lib','outputcomponents.php',1255],['lib/jquery/ui-1.11.4/external/jquery','jquery.js',2845]], 593],
'filterobject': ['filterobject', 'A constructor just because I like constructing ', [['lib','filterlib.php',457]], 6],
'filter_phrases': ['filter_phrases', 'Process phrases intelligently found within a HTML text (such as adding links). ', [['lib','filterlib.php',1168]], 5],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1583],['lib/dml','moodle_database.php',678]], 375],
'filter_get_name': ['filter_get_name', 'Look up the name of this filter ', [['lib','filterlib.php',484]], 4],
'from': ['from', 'From clause ', [['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntityQuery.php',84]], 226],
'filter_get_string_filters': ['filter_get_string_filters', 'Return the names of the filters that should also be applied to strings (when they are enabled). ', [['lib','filterlib.php',698]], 3],
'filter': ['filter', '', [['filter/tex','filter.php',115],['filter/algebra','filter.php',92],['filter/mediaplugin','filter.php',50],['filter/censor','filter.php',55],['lib/horde/framework/Horde/Stream/Filter','Null.php',56],['lib/horde/framework/Horde/Stream/Filter','Crc32.php',41],['lib/horde/framework/Horde/Imap/Client/Data/Format/Filter','Quote.php',28],['grade/report/singleview/classes/local/screen','grade.php',65],['lib/horde/framework/Horde/Stream/Filter','Bin2hex.php',25],['lib/htmlpurifier/HTMLPurifier/URIFilter','DisableExternalResources.php',16],['filter/emoticon','filter.php',43],['filter/data','filter.php',34],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Nmtokens.php',55],['lib/htmlpurifier/HTMLPurifier/URIFilter','DisableExternal.php',33],['lib/htmlpurifier/HTMLPurifier/URIFilter','SafeIframe.php',45],['filter/mathjaxloader','filter.php',133],['lib/horde/framework/Horde','Variables.php',315],['lib/htmlpurifier/HTMLPurifier/URIFilter','Munge.php',62],['lib/horde/framework/Horde/Imap/Client/Data/Format/Filter','String.php',42],['lib/horde/framework/Horde/Stream/Filter','Htmlspecialchars.php',30],['grade/report/singleview/classes/local/screen','filterable_items.php',38],['repository','lib.php',2149],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Class.php',31],['lib/htmlpurifier/HTMLPurifier/URIFilter','DisableResources.php',16],['filter/multilang','filter.php',43],['filter/urltolink','filter.php',39],['lib/htmlpurifier/HTMLPurifier/URIFilter','HostBlacklist.php',35],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',92],['filter/glossary','filter.php',53],['lib/htmlpurifier/HTMLPurifier/URIFilter','MakeAbsolute.php',52],['lib/horde/framework/Horde/Stream/Filter','Eol.php',85],['filter/tidy','filter.php',41],['filter/activitynames','filter.php',39],['filter/emailprotect','filter.php',34]], 265],
'filter_has_global_settings': ['filter_has_global_settings', 'Does this filter have a global settings page in the admin tree? (The settings page for a filter must be called, for example, filtersettingfiltertex.) ', [['lib','filterlib.php',1128]], 1],
'get_cms': ['get_cms', '', [['lib','modinfolib.php',218]], 32],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','moodle_database.php',1815],['lib/dml','sqlite3_pdo_moodle_database.php',337]], 778],
'filter_get_all_local_settings': ['filter_get_all_local_settings', 'This function is for use by backup. Gets all the filter information specific to one context. ', [['lib','filterlib.php',847]], 1],
'get_course_id': ['get_course_id', '', [['lib','modinfolib.php',195],['lib','modinfolib.php',1455],['backup/util/ui','restore_ui_stage.class.php',555],['lib/tests/behat','behat_data_generators.php',608],['course/tests/behat','behat_course.php',1026],['mod/assign','gradingtable.php',1333]], 10],
'is_readable': ['is_readable', '', [], 207],
'explode': ['explode', '', [], 1599],
'is_array': ['is_array', '', [], 1820],
'count': ['count', '', [], 3984],
'trim': ['trim', '', [], 1889],
'class_exists': ['class_exists', '', [], 273],
'in_array': ['in_array', '', [], 1173],
'array_pop': ['array_pop', '', [], 438],
'implode': ['implode', '', [], 1259],
'preg_quote': ['preg_quote', '', [], 207],
'array_key_exists': ['array_key_exists', '', [], 1539],
'array_search': ['array_search', '', [], 188],
'substr': ['substr', '', [], 2883],
'strtolower': ['strtolower', '', [], 922],
'stripos': ['stripos', '', [], 95],
'str_replace': ['str_replace', '', [], 1667],
'array_combine': ['array_combine', '', [], 134],
'is_null': ['is_null', '', [], 1992],
'array_keys': ['array_keys', '', [], 1152],
'array_unique': ['array_unique', '', [], 173],
'asort': ['asort', '', [], 109],
'array_merge': ['array_merge', '', [], 2320],
'strip_tags': ['strip_tags', '', [], 149],
'strval': ['strval', '', [], 114],
'array_reverse': ['array_reverse', '', [], 127],
'intval': ['intval', '', [], 484],
'define': ['define', '', [], 2170],
'max': ['max', '', [], 1096],
'strpos': ['strpos', '', [], 1623],
'defined': ['defined', '', [], 4098],
'preg_replace': ['preg_replace', '', [], 903],
'str_ireplace': ['str_ireplace', '', [], 27],
'min': ['min', '', [], 754],
'preg_match_all': ['preg_match_all', '', [], 159]};
CLASS_DATA={
'filter_manager': ['filter_manager', 'Class to manage the filtering of strings. It is intended that this class is only used by weblib.php. Client code should probably be using the format_text and format_string functions. ', [['lib','filterlib.php',44]], 13],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6106]], 929],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',214]], 867],
'null_filter_manager': ['null_filter_manager', 'Filter manager subclass that does nothing. Having this simplifies the logic of format_text, etc. ', [['lib','filterlib.php',260]], 1],
'core_collator': ['core_collator', 'A collator class with static methods that can be used for sorting. ', [['lib/classes','collator.php',28]], 130],
'filterobject': ['filterobject', 'This is just a little object to define a phrase and some instructions for how to process it.  Filters can create an array of these to pass to the filter_phrases function below. ', [['lib','filterlib.php',428]], 6],
'performance_measuring_filter_manager': ['performance_measuring_filter_manager', 'Filter manager subclass that tacks how much work it does. ', [['lib','filterlib.php',293]], 1],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6766]], 1197],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',6988]], 942],
'core_text': ['core_text', 'defines string api\'s for manipulating strings ', [['lib/classes','text.php',27]], 512],
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 485]};
CONST_DATA={
'TEXTFILTER_DISABLED': ['TEXTFILTER_DISABLED', '', [['lib','filterlib.php',34]], 34],
'TEXTFILTER_INHERIT': ['TEXTFILTER_INHERIT', '', [['lib','filterlib.php',30]], 13],
'CONTEXT_BLOCK': ['CONTEXT_BLOCK', '', [['lib','accesslib.php',156]], 99],
'TEXTFILTER_ON': ['TEXTFILTER_ON', '', [['lib','filterlib.php',28]], 59],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'TEXTFILTER_OFF': ['TEXTFILTER_OFF', '', [['lib','filterlib.php',32]], 32],
'CONTEXT_USER': ['CONTEXT_USER', '', [['lib','accesslib.php',144]], 95],
'TEXTFILTER_EXCL_SEPARATOR': ['TEXTFILTER_EXCL_SEPARATOR', '', [['lib','filterlib.php',41]], 3]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
