<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of externallib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='externallib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/</a> -> <a href="externallib.php.source.html">externallib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="externallib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>Support for external API</b></p>
<table>
<tr><td align="right">Copyright: </td><td>2009 Petr Skodak</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>878 lines (32 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>1 time</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 9 classes</h3>
<div class="inset">
<p><b>restricted_context_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>external_api::</b> (7 methods):<br>
&nbsp;&nbsp;<a href="#set_context_restriction">set_context_restriction</a>()<br>
&nbsp;&nbsp;<a href="#set_timeout">set_timeout</a>()<br>
&nbsp;&nbsp;<a href="#validate_parameters">validate_parameters</a>()<br>
&nbsp;&nbsp;<a href="#clean_returnvalue">clean_returnvalue</a>()<br>
&nbsp;&nbsp;<a href="#validate_context">validate_context</a>()<br>
&nbsp;&nbsp;<a href="#get_context_from_params">get_context_from_params</a>()<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>external_value::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>external_single_structure::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>external_multiple_structure::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>external_function_parameters::</b> (3 methods):<br>
&nbsp;&nbsp;<a href="#external_generate_token">external_generate_token</a>()<br>
&nbsp;&nbsp;<a href="#external_create_service_token">external_create_service_token</a>()<br>
&nbsp;&nbsp;<a href="#external_delete_descriptions">external_delete_descriptions</a>()<br>
</p>
<p><b>external_warnings::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>external_format_value::</b> (3 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#external_validate_format">external_validate_format</a>()<br>
&nbsp;&nbsp;<a href="#external_format_text">external_format_text</a>()<br>
</p>
<p><b>external_settings::</b> (11 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#__clone">__clone</a>()<br>
&nbsp;&nbsp;<a href="#get_instance">get_instance</a>()<br>
&nbsp;&nbsp;<a href="#set_raw">set_raw</a>()<br>
&nbsp;&nbsp;<a href="#get_raw">get_raw</a>()<br>
&nbsp;&nbsp;<a href="#set_filter">set_filter</a>()<br>
&nbsp;&nbsp;<a href="#get_filter">get_filter</a>()<br>
&nbsp;&nbsp;<a href="#set_fileurl">set_fileurl</a>()<br>
&nbsp;&nbsp;<a href="#get_fileurl">get_fileurl</a>()<br>
&nbsp;&nbsp;<a href="#set_file">set_file</a>()<br>
&nbsp;&nbsp;<a href="#get_file">get_file</a>()<br>
</p>
</div>
<h3>Defines 11 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#external_function_info">external_function_info</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="restricted_context_exception"><b>restricted_context_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/restricted_context_exception.html"><small>X-Ref</small></a>
</p>
<b>Exception indicating user is not allowed to use external function in the current context.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'externallib.php.source.html#l129')" href="externallib.php.source.html#l129">__construct</a>()&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="external_api"><b>external_api</b></a>&nbsp;&nbsp;- <a href="../_classes/external_api.html"><small>X-Ref</small></a>
</p>
<b>Base class for external api methods.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_context_restriction" onClick="logFunction('set_context_restriction', 'externallib.php.source.html#l152')" href="externallib.php.source.html#l152">set_context_restriction</a>(<a href="../_variables/context.html">$context</a>)&nbsp;&nbsp;
<a href="../_functions/set_context_restriction.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set context restriction for all following subsequent function calls.<BR>
</b><BR><b>param:</b> stdClass $context the context restriction<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_timeout" onClick="logFunction('set_timeout', 'externallib.php.source.html#l162')" href="externallib.php.source.html#l162">set_timeout</a>(<a href="../_variables/seconds.html">$seconds</a>=360)&nbsp;&nbsp;
<a href="../_functions/set_timeout.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method has to be called before every operation<BR>
that takes a longer time to finish!<BR>
</b><BR><b>param:</b> int $seconds max expected time the next operation needs<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_parameters" onClick="logFunction('validate_parameters', 'externallib.php.source.html#l174')" href="externallib.php.source.html#l174">validate_parameters</a>(external_description <a href="../_variables/description.html">$description</a>, <a href="../_variables/params.html">$params</a>)&nbsp;&nbsp;
<a href="../_functions/validate_parameters.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validates submitted function parameters, if anything is incorrect<BR>
invalid_parameter_exception is thrown.<BR>
This is a simple recursive method which is intended to be called from<BR>
each implementation method of external API.<BR>
</b><BR><b>param:</b> external_description $description description of parameters<br>
<b>param:</b> mixed $params the actual parameters<br>
<b>return:</b> mixed params with added defaults for optional items, invalid_parameters_exception thrown if any problem found<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clean_returnvalue" onClick="logFunction('clean_returnvalue', 'externallib.php.source.html#l253')" href="externallib.php.source.html#l253">clean_returnvalue</a>(external_description <a href="../_variables/description.html">$description</a>, <a href="../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../_functions/clean_returnvalue.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Clean response<BR>
If a response attribute is unknown from the description, we just ignore the attribute.<BR>
If a response attribute is incorrect, invalid_response_exception is thrown.<BR>
Note: this function is similar to validate parameters, however it is distinct because<BR>
parameters validation must be distinct from cleaning return values.<BR>
</b><BR><b>author:</b> 2010 Jerome Mouneyrac<br>
<b>param:</b> external_description $description description of the return values<br>
<b>param:</b> mixed $response the actual response<br>
<b>return:</b> mixed response with added defaults for optional items, invalid_response_exception thrown if any problem found<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_context" onClick="logFunction('validate_context', 'externallib.php.source.html#l343')" href="externallib.php.source.html#l343">validate_context</a>(<a href="../_variables/context.html">$context</a>)&nbsp;&nbsp;
<a href="../_functions/validate_context.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Makes sure user may execute functions in this context.<BR>
</b><BR><b>param:</b> stdClass $context<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_context_from_params" onClick="logFunction('get_context_from_params', 'externallib.php.source.html#l379')" href="externallib.php.source.html#l379">get_context_from_params</a>(<a href="../_variables/param.html">$param</a>)&nbsp;&nbsp;
<a href="../_functions/get_context_from_params.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get context from passed parameters.<BR>
The passed array must either contain a contextid or a combination of context level and instance id to fetch the context.<BR>
For example, the context level can be &quot;course&quot; and instanceid can be courseid.<BR>
</b><BR>See context_helper::get_all_levels() for a list of valid context levels.<BR>
<BR>
<b>param:</b> array $param<br>
<b>return:</b> context<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'externallib.php.source.html#l426')" href="externallib.php.source.html#l426">__construct</a>(<a href="../_variables/desc.html">$desc</a>, <a href="../_variables/required.html">$required</a>, <a href="../_variables/default.html">$default</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Contructor<BR>
</b><BR><b>param:</b> string $desc<br>
<b>param:</b> bool $required<br>
<b>param:</b> mixed $default<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="external_value"><b>external_value</b></a>&nbsp;&nbsp;- <a href="../_classes/external_value.html"><small>X-Ref</small></a>
</p>
<b>Scalar value description class<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'externallib.php.source.html#l457')" href="externallib.php.source.html#l457">__construct</a>(<a href="../_variables/type.html">$type</a>, <a href="../_variables/desc.html">$desc</a>='', <a href="../_variables/required.html">$required</a>=VALUE_REQUIRED,<a href="../_variables/default.html">$default</a>=null, <a href="../_variables/allownull.html">$allownull</a>=NULL_ALLOWED)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> mixed $type<br>
<b>param:</b> string $desc<br>
<b>param:</b> bool $required<br>
<b>param:</b> mixed $default<br>
<b>param:</b> bool $allownull<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="external_single_structure"><b>external_single_structure</b></a>&nbsp;&nbsp;- <a href="../_classes/external_single_structure.html"><small>X-Ref</small></a>
</p>
<b>Associative array description class<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'externallib.php.source.html#l488')" href="externallib.php.source.html#l488">__construct</a>(array <a href="../_variables/keys.html">$keys</a>, <a href="../_variables/desc.html">$desc</a>='',<a href="../_variables/required.html">$required</a>=VALUE_REQUIRED, <a href="../_variables/default.html">$default</a>=null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> array $keys<br>
<b>param:</b> string $desc<br>
<b>param:</b> bool $required<br>
<b>param:</b> array $default<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="external_multiple_structure"><b>external_multiple_structure</b></a>&nbsp;&nbsp;- <a href="../_classes/external_multiple_structure.html"><small>X-Ref</small></a>
</p>
<b>Bulk array description class.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'externallib.php.source.html#l517')" href="externallib.php.source.html#l517">__construct</a>(external_description <a href="../_variables/content.html">$content</a>, <a href="../_variables/desc.html">$desc</a>='',<a href="../_variables/required.html">$required</a>=VALUE_REQUIRED, <a href="../_variables/default.html">$default</a>=null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> external_description $content<br>
<b>param:</b> string $desc<br>
<b>param:</b> bool $required<br>
<b>param:</b> array $default<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="external_function_parameters"><b>external_function_parameters</b></a>&nbsp;&nbsp;- <a href="../_classes/external_function_parameters.html"><small>X-Ref</small></a>
</p>
<b>Description of top level - PHP function parameters.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="external_generate_token" onClick="logFunction('external_generate_token', 'externallib.php.source.html#l544')" href="externallib.php.source.html#l544">external_generate_token</a>(<a href="../_variables/tokentype.html">$tokentype</a>, <a href="../_variables/serviceorid.html">$serviceorid</a>, <a href="../_variables/userid.html">$userid</a>, <a href="../_variables/contextorid.html">$contextorid</a>, <a href="../_variables/validuntil.html">$validuntil</a>=0, <a href="../_variables/iprestriction.html">$iprestriction</a>='')&nbsp;&nbsp;
<a href="../_functions/external_generate_token.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate a token<BR>
</b><BR><b>author:</b> 2010 Jamie Pratt<br>
<b>param:</b> string $tokentype EXTERNAL_TOKEN_EMBEDDED|EXTERNAL_TOKEN_PERMANENT<br>
<b>param:</b> stdClass|int $serviceorid service linked to the token<br>
<b>param:</b> int $userid user linked to the token<br>
<b>param:</b> stdClass|int $contextorid<br>
<b>param:</b> int $validuntil date when the token expired<br>
<b>param:</b> string $iprestriction allowed ip - if 0 or empty then all ips are allowed<br>
<b>return:</b> string generated token<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="external_create_service_token" onClick="logFunction('external_create_service_token', 'externallib.php.source.html#l602')" href="externallib.php.source.html#l602">external_create_service_token</a>(<a href="../_variables/servicename.html">$servicename</a>, <a href="../_variables/context.html">$context</a>)&nbsp;&nbsp;
<a href="../_functions/external_create_service_token.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create and return a session linked token. Token to be used for html embedded client apps that want to communicate<BR>
with the Moodle server through web services. The token is linked to the current session for the current page request.<BR>
It is expected this will be called in the script generating the html page that is embedding the client app and that the<BR>
returned token will be somehow passed into the client app being embedded in the page.<BR>
</b><BR><b>param:</b> string $servicename name of the web service. Service name as defined in db/services.php<br>
<b>param:</b> int $context context within which the web service can operate.<br>
<b>return:</b> int returns token id.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="external_delete_descriptions" onClick="logFunction('external_delete_descriptions', 'externallib.php.source.html#l619')" href="externallib.php.source.html#l619">external_delete_descriptions</a>(<a href="../_variables/component.html">$component</a>)&nbsp;&nbsp;
<a href="../_functions/external_delete_descriptions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete all pre-built services (+ related tokens) and external functions information defined in the specified component.<BR>
</b><BR><b>param:</b> string $component name of component (moodle, mod_assignment, etc.)<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="external_warnings"><b>external_warnings</b></a>&nbsp;&nbsp;- <a href="../_classes/external_warnings.html"><small>X-Ref</small></a>
</p>
<b>Standard Moodle web service warnings<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'externallib.php.source.html#l649')" href="externallib.php.source.html#l649">__construct</a>(<a href="../_variables/itemdesc.html">$itemdesc</a> = 'item', <a href="../_variables/itemiddesc.html">$itemiddesc</a> = 'item id',<a href="../_variables/warningcodedesc.html">$warningcodedesc</a> = 'the warning code can be used by the client app to implement specific behaviour')&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="external_format_value"><b>external_format_value</b></a>&nbsp;&nbsp;- <a href="../_classes/external_format_value.html"><small>X-Ref</small></a>
</p>
<b>A pre-filled external_value class for text format.<BR>
</b><br>
Default is FORMAT_HTML<BR>
This should be used all the time in external xxx_params()/xxx_returns functions<BR>
as it is the standard way to implement text format param/return values.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'externallib.php.source.html#l684')" href="externallib.php.source.html#l684">__construct</a>(<a href="../_variables/textfieldname.html">$textfieldname</a>, <a href="../_variables/required.html">$required</a> = VALUE_REQUIRED)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $textfieldname Name of the text field<br>
<b>param:</b> int $required if VALUE_REQUIRED then set standard default FORMAT_HTML<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="external_validate_format" onClick="logFunction('external_validate_format', 'externallib.php.source.html#l704')" href="externallib.php.source.html#l704">external_validate_format</a>(<a href="../_variables/format.html">$format</a>)&nbsp;&nbsp;
<a href="../_functions/external_validate_format.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validate text field format against known FORMAT_XXX<BR>
</b><BR><b>param:</b> array $format the format to validate<br>
<b>return:</b> the validated format<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="external_format_text" onClick="logFunction('external_format_text', 'externallib.php.source.html#l721')" href="externallib.php.source.html#l721">external_format_text</a>(<a href="../_variables/text.html">$text</a>, <a href="../_variables/textformat.html">$textformat</a>, <a href="../_variables/contextid.html">$contextid</a>, <a href="../_variables/component.html">$component</a>, <a href="../_variables/filearea.html">$filearea</a>, <a href="../_variables/itemid.html">$itemid</a>)&nbsp;&nbsp;
<a href="../_functions/external_format_text.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Format the text to be returned properly as requested by the either the web service server,<BR>
either by an internally call.<BR>
The caller can change the format (raw, filter, file, fileurl) with the external_settings singleton<BR>
All web service servers must set this singleton when parsing the $_GET and $_POST.<BR>
</b><BR><b>param:</b> string $text The content that may contain ULRs in need of rewriting.<br>
<b>param:</b> int $textformat The text format.<br>
<b>param:</b> int $contextid This parameter and the next two identify the file area to use.<br>
<b>param:</b> string $component<br>
<b>param:</b> string $filearea helps identify the file area.<br>
<b>param:</b> int $itemid helps identify the file area.<br>
<b>return:</b> array text + textformat<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="external_settings"><b>external_settings</b></a>&nbsp;&nbsp;- <a href="../_classes/external_settings.html"><small>X-Ref</small></a>
</p>
<b>Singleton to handle the external settings.<BR>
</b><br>
We use singleton to encapsulate the &quot;logic&quot;<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'externallib.php.source.html#l782')" href="externallib.php.source.html#l782">__construct</a>()&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor - protected - can not be instanciated<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__clone" onClick="logFunction('__clone', 'externallib.php.source.html#l788')" href="externallib.php.source.html#l788">__clone</a>()&nbsp;&nbsp;
<a href="../_functions/__clone.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Clone - private - can not be cloned<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_instance" onClick="logFunction('get_instance', 'externallib.php.source.html#l794')" href="externallib.php.source.html#l794">get_instance</a>()&nbsp;&nbsp;
<a href="../_functions/get_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return only one instance<BR>
</b><BR><b>return:</b> object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_raw" onClick="logFunction('set_raw', 'externallib.php.source.html#l807')" href="externallib.php.source.html#l807">set_raw</a>(<a href="../_variables/raw.html">$raw</a>)&nbsp;&nbsp;
<a href="../_functions/set_raw.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set raw<BR>
</b><BR><b>param:</b> boolean $raw<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_raw" onClick="logFunction('get_raw', 'externallib.php.source.html#l816')" href="externallib.php.source.html#l816">get_raw</a>()&nbsp;&nbsp;
<a href="../_functions/get_raw.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get raw<BR>
</b><BR><b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_filter" onClick="logFunction('set_filter', 'externallib.php.source.html#l825')" href="externallib.php.source.html#l825">set_filter</a>(<a href="../_variables/filter.html">$filter</a>)&nbsp;&nbsp;
<a href="../_functions/set_filter.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set filter<BR>
</b><BR><b>param:</b> boolean $filter<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_filter" onClick="logFunction('get_filter', 'externallib.php.source.html#l834')" href="externallib.php.source.html#l834">get_filter</a>()&nbsp;&nbsp;
<a href="../_functions/get_filter.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get filter<BR>
</b><BR><b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_fileurl" onClick="logFunction('set_fileurl', 'externallib.php.source.html#l843')" href="externallib.php.source.html#l843">set_fileurl</a>(<a href="../_variables/fileurl.html">$fileurl</a>)&nbsp;&nbsp;
<a href="../_functions/set_fileurl.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set fileurl<BR>
</b><BR><b>param:</b> boolean $fileurl<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_fileurl" onClick="logFunction('get_fileurl', 'externallib.php.source.html#l852')" href="externallib.php.source.html#l852">get_fileurl</a>()&nbsp;&nbsp;
<a href="../_functions/get_fileurl.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get fileurl<BR>
</b><BR><b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_file" onClick="logFunction('set_file', 'externallib.php.source.html#l861')" href="externallib.php.source.html#l861">set_file</a>(<a href="../_variables/file.html">$file</a>)&nbsp;&nbsp;
<a href="../_functions/set_file.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set file<BR>
</b><BR><b>param:</b> string $file<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_file" onClick="logFunction('get_file', 'externallib.php.source.html#l870')" href="externallib.php.source.html#l870">get_file</a>()&nbsp;&nbsp;
<a href="../_functions/get_file.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get file<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="external_function_info" onClick="logFunction('external_function_info', 'externallib.php.source.html#l28')" href="externallib.php.source.html#l28">external_function_info</a>(<a href="../_variables/function.html">$function</a>, <a href="../_variables/strictness.html">$strictness</a>=MUST_EXIST)&nbsp;&nbsp;
<a href="../_functions/external_function_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns detailed function information<BR>
</b><BR><b>param:</b> string|object $function name of external function or record from external_function<br>
<b>param:</b> int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;<br>
<b>return:</b> stdClass description or false if not found or exception thrown<br>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
