<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /grade/import/csv/index.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='grade/import/csv';
filename='index.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/grade/import/csv/</a> -> <a href="index.php.html">index.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="index.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="index.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">//</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">//</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">//</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l17"><span class="linenum">  17</span></a>  
<a name="l18"><span class="linenum">  18</span></a>  require_once(&quot;../../../config.php&quot;);
<a name="l19"><span class="linenum">  19</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l20"><span class="linenum">  20</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../../grade/lib.php.html">/grade/lib.php</a>');
<a name="l21"><span class="linenum">  21</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a>. '<a class="filename" href="../../../grade/import/grade_import_form.php.html">/grade/import/grade_import_form.php</a>');
<a name="l22"><span class="linenum">  22</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../../grade/import/lib.php.html">/grade/import/lib.php</a>');
<a name="l23"><span class="linenum">  23</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../_variables/libdir.html">libdir</a> . '/csvlib.class.php');
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>            = <a class="function" onClick="logFunction('required_param')" href="../../../_functions/required_param.html" onMouseOver="funcPopup(event,'required_param')">required_param</a>('id', <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>); <span class="comment">// Course id.</span>
<a name="l26"><span class="linenum">  26</span></a>  <a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../../../_variables/separator.html">$separator</a>     = <a class="function" onClick="logFunction('optional_param')" href="../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('separator', '', <a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>);
<a name="l27"><span class="linenum">  27</span></a>  <a class="var it3013" onMouseOver="hilite(3013)" onMouseOut="lolite()" onClick="logVariable('verbosescales')" href="../../../_variables/verbosescales.html">$verbosescales</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('verbosescales', 1, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>);
<a name="l28"><span class="linenum">  28</span></a>  <a class="var it767" onMouseOver="hilite(767)" onMouseOut="lolite()" onClick="logVariable('iid')" href="../../../_variables/iid.html">$iid</a>           = <a class="function" onClick="logFunction('optional_param')" href="../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('iid', null, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l29"><span class="linenum">  29</span></a>  <a class="var it3011" onMouseOver="hilite(3011)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../../_variables/importcode.html">$importcode</a>    = <a class="function" onClick="logFunction('optional_param')" href="../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('importcode', '', <a class="constant" onClick="logConstant('PARAM_FILE')" href="../../../_constants/PARAM_FILE.html" onMouseOver="constPopup(event,'PARAM_FILE')">PARAM_FILE</a>);
<a name="l30"><span class="linenum">  30</span></a>  <a class="var it24837" onMouseOver="hilite(24837)" onMouseOut="lolite()" onClick="logVariable('forceimport')" href="../../../_variables/forceimport.html">$forceimport</a>   = <a class="function" onClick="logFunction('optional_param')" href="../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('forceimport', false, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>);
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../../grade/import/csv/index.php.html">/grade/import/csv/index.php</a>', array('id'=&gt;<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>));
<a name="l33"><span class="linenum">  33</span></a>  if (<a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../../../_variables/separator.html">$separator</a> !== '') {
<a name="l34"><span class="linenum">  34</span></a>      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('separator', <a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../../../_variables/separator.html">$separator</a>);
<a name="l35"><span class="linenum">  35</span></a>  }
<a name="l36"><span class="linenum">  36</span></a>  if (<a class="var it3013" onMouseOver="hilite(3013)" onMouseOut="lolite()" onClick="logVariable('verbosescales')" href="../../../_variables/verbosescales.html">$verbosescales</a> !== 1) {
<a name="l37"><span class="linenum">  37</span></a>      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('verbosescales', <a class="var it3013" onMouseOver="hilite(3013)" onMouseOut="lolite()" onClick="logVariable('verbosescales')" href="../../../_variables/verbosescales.html">$verbosescales</a>);
<a name="l38"><span class="linenum">  38</span></a>  }
<a name="l39"><span class="linenum">  39</span></a>  <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_url')" href="../../../_functions/set_url.html" onMouseOver="funcPopup(event,'set_url')">set_url</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../_variables/url.html">$url</a>);
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>  if (!<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id'=&gt;<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>))) {
<a name="l42"><span class="linenum">  42</span></a>      <a class="function" onClick="logFunction('print_error')" href="../../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('nocourseid');
<a name="l43"><span class="linenum">  43</span></a>  }
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>  <a class="function" onClick="logFunction('require_login')" href="../../../_functions/require_login.html" onMouseOver="funcPopup(event,'require_login')">require_login</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>);
<a name="l46"><span class="linenum">  46</span></a>  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>);
<a name="l47"><span class="linenum">  47</span></a>  <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/grade:import', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l48"><span class="linenum">  48</span></a>  <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('gradeimport/csv:view', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>  <a class="var it24838" onMouseOver="hilite(24838)" onMouseOut="lolite()" onClick="logVariable('separatemode')" href="../../../_variables/separatemode.html">$separatemode</a> = (<a class="function" onClick="logFunction('groups_get_course_groupmode')" href="../../../_functions/groups_get_course_groupmode.html" onMouseOver="funcPopup(event,'groups_get_course_groupmode')">groups_get_course_groupmode</a>(<a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../../_variables/COURSE.html">$COURSE</a>) == <a class="constant" onClick="logConstant('SEPARATEGROUPS')" href="../../../_constants/SEPARATEGROUPS.html" onMouseOver="constPopup(event,'SEPARATEGROUPS')">SEPARATEGROUPS</a> and
<a name="l51"><span class="linenum">  51</span></a>          !<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:accessallgroups', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>));
<a name="l52"><span class="linenum">  52</span></a>  <a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../_variables/currentgroup.html">$currentgroup</a> = <a class="function" onClick="logFunction('groups_get_course_group')" href="../../../_functions/groups_get_course_group.html" onMouseOver="funcPopup(event,'groups_get_course_group')">groups_get_course_group</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>);
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>  <a class="function" onClick="logFunction('print_grade_page_head')" href="../../../_functions/print_grade_page_head.html" onMouseOver="funcPopup(event,'print_grade_page_head')">print_grade_page_head</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'import', 'csv', <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('importcsv', 'grades'));
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>  <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../../../_variables/renderer.html">$renderer</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('gradeimport_csv');
<a name="l57"><span class="linenum">  57</span></a>  
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">// Get the grade items to be matched with the import mapping columns.</span>
<a name="l59"><span class="linenum">  59</span></a>  <a class="var it11504" onMouseOver="hilite(11504)" onMouseOut="lolite()" onClick="logVariable('gradeitems')" href="../../../_variables/gradeitems.html">$gradeitems</a> = <a class="class" onClick="logClass('gradeimport_csv_load_data')" href="../../../_classes/gradeimport_csv_load_data.html" onMouseOver="classPopup(event,'gradeimport_csv_load_data')">gradeimport_csv_load_data</a>::<a class="function" onClick="logFunction('fetch_grade_items')" href="../../../_functions/fetch_grade_items.html" onMouseOver="funcPopup(event,'fetch_grade_items')">fetch_grade_items</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l60"><span class="linenum">  60</span></a>  
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">// If the csv file hasn't been imported yet then look for a form submission or</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">// show the initial submission form.</span>
<a name="l63"><span class="linenum">  63</span></a>  if (!<a class="var it767" onMouseOver="hilite(767)" onMouseOut="lolite()" onClick="logVariable('iid')" href="../../../_variables/iid.html">$iid</a>) {
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">    // Set up the import form.</span>
<a name="l66"><span class="linenum">  66</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../_variables/mform.html">$mform</a> = <span class="keyword">new </span><a class="class" onClick="logClass('grade_import_form')" href="../../../_classes/grade_import_form.html" onMouseOver="classPopup(event,'grade_import_form')">grade_import_form</a>(null, array('includeseparator' =&gt; true, 'verbosescales' =&gt; <a class="var it3013" onMouseOver="hilite(3013)" onMouseOut="lolite()" onClick="logVariable('verbosescales')" href="../../../_variables/verbosescales.html">$verbosescales</a>, 'acceptedtypes' =&gt;
<a name="l67"><span class="linenum">  67</span></a>              array('.csv', '.txt')));
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">    // If the import form has been submitted.</span>
<a name="l70"><span class="linenum">  70</span></a>      if (<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../../_variables/formdata.html">$formdata</a> = <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>()) {
<a name="l71"><span class="linenum">  71</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../_variables/text.html">$text</a> = <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('get_file_content')" href="../../../_functions/get_file_content.html" onMouseOver="funcPopup(event,'get_file_content')">get_file_content</a>('userfile');
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it768" onMouseOver="hilite(768)" onMouseOut="lolite()" onClick="logVariable('csvimport')" href="../../../_variables/csvimport.html">$csvimport</a> = <span class="keyword">new </span><a class="class" onClick="logClass('gradeimport_csv_load_data')" href="../../../_classes/gradeimport_csv_load_data.html" onMouseOver="classPopup(event,'gradeimport_csv_load_data')">gradeimport_csv_load_data</a>();
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it768" onMouseOver="hilite(768)" onMouseOut="lolite()" onClick="logVariable('csvimport')" href="../../../_variables/csvimport.html">$csvimport</a>-&gt;<a class="function" onClick="logFunction('load_csv_content')" href="../../../_functions/load_csv_content.html" onMouseOver="funcPopup(event,'load_csv_content')">load_csv_content</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../_variables/text.html">$text</a>, <a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('encoding')" class="var it39622" onMouseOver="hilite(39622)" onMouseOut="lolite()" href="../../../_variables/encoding.html">encoding</a>, <a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../../../_variables/separator.html">$separator</a>, <a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('previewrows')" class="var it39622" onMouseOver="hilite(39622)" onMouseOut="lolite()" href="../../../_variables/previewrows.html">previewrows</a>);
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it24839" onMouseOver="hilite(24839)" onMouseOut="lolite()" onClick="logVariable('csvimporterror')" href="../../../_variables/csvimporterror.html">$csvimporterror</a> = <a class="var it768" onMouseOver="hilite(768)" onMouseOut="lolite()" onClick="logVariable('csvimport')" href="../../../_variables/csvimport.html">$csvimport</a>-&gt;<a class="function" onClick="logFunction('get_error')" href="../../../_functions/get_error.html" onMouseOver="funcPopup(event,'get_error')">get_error</a>();
<a name="l75"><span class="linenum">  75</span></a>          if (!empty(<a class="var it24839" onMouseOver="hilite(24839)" onMouseOut="lolite()" onClick="logVariable('csvimporterror')" href="../../../_variables/csvimporterror.html">$csvimporterror</a>)) {
<a name="l76"><span class="linenum">  76</span></a>              echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../../../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('errors')" href="../../../_functions/errors.html" onMouseOver="funcPopup(event,'errors')">errors</a>(array(<a class="var it768" onMouseOver="hilite(768)" onMouseOut="lolite()" onClick="logVariable('csvimport')" href="../../../_variables/csvimport.html">$csvimport</a>-&gt;<a class="function" onClick="logFunction('get_error')" href="../../../_functions/get_error.html" onMouseOver="funcPopup(event,'get_error')">get_error</a>()));
<a name="l77"><span class="linenum">  77</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
<a name="l78"><span class="linenum">  78</span></a>              die();
<a name="l79"><span class="linenum">  79</span></a>          }
<a name="l80"><span class="linenum">  80</span></a>          <a class="var it767" onMouseOver="hilite(767)" onMouseOut="lolite()" onClick="logVariable('iid')" href="../../../_variables/iid.html">$iid</a> = <a class="var it768" onMouseOver="hilite(768)" onMouseOut="lolite()" onClick="logVariable('csvimport')" href="../../../_variables/csvimport.html">$csvimport</a>-&gt;<a class="function" onClick="logFunction('get_iid')" href="../../../_functions/get_iid.html" onMouseOver="funcPopup(event,'get_iid')">get_iid</a>();
<a name="l81"><span class="linenum">  81</span></a>          echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../../../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('import_preview_page')" href="../../../_functions/import_preview_page.html" onMouseOver="funcPopup(event,'import_preview_page')">import_preview_page</a>(<a class="var it768" onMouseOver="hilite(768)" onMouseOut="lolite()" onClick="logVariable('csvimport')" href="../../../_variables/csvimport.html">$csvimport</a>-&gt;<a class="phpfunction" onClick="logFunction('get_headers')" href="../../../_functions/get_headers.html" onMouseOver="phpfuncPopup(event,'get_headers')">get_headers</a>(), <a class="var it768" onMouseOver="hilite(768)" onMouseOut="lolite()" onClick="logVariable('csvimport')" href="../../../_variables/csvimport.html">$csvimport</a>-&gt;<a class="function" onClick="logFunction('get_previewdata')" href="../../../_functions/get_previewdata.html" onMouseOver="funcPopup(event,'get_previewdata')">get_previewdata</a>());
<a name="l82"><span class="linenum">  82</span></a>      } else {
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">        // Display the standard upload file form.</span>
<a name="l84"><span class="linenum">  84</span></a>          echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../../../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('standard_upload_file_form')" href="../../../_functions/standard_upload_file_form.html" onMouseOver="funcPopup(event,'standard_upload_file_form')">standard_upload_file_form</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../_variables/mform.html">$mform</a>);
<a name="l85"><span class="linenum">  85</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
<a name="l86"><span class="linenum">  86</span></a>          die();
<a name="l87"><span class="linenum">  87</span></a>      }
<a name="l88"><span class="linenum">  88</span></a>  }
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">// Data has already been submitted so we can use the $iid to retrieve it.</span>
<a name="l91"><span class="linenum">  91</span></a>  <a class="var it768" onMouseOver="hilite(768)" onMouseOut="lolite()" onClick="logVariable('csvimport')" href="../../../_variables/csvimport.html">$csvimport</a> = <span class="keyword">new </span><a class="class" onClick="logClass('csv_import_reader')" href="../../../_classes/csv_import_reader.html" onMouseOver="classPopup(event,'csv_import_reader')">csv_import_reader</a>(<a class="var it767" onMouseOver="hilite(767)" onMouseOut="lolite()" onClick="logVariable('iid')" href="../../../_variables/iid.html">$iid</a>, 'grade');
<a name="l92"><span class="linenum">  92</span></a>  <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../../../_variables/header.html">$header</a> = <a class="var it768" onMouseOver="hilite(768)" onMouseOut="lolite()" onClick="logVariable('csvimport')" href="../../../_variables/csvimport.html">$csvimport</a>-&gt;<a class="function" onClick="logFunction('get_columns')" href="../../../_functions/get_columns.html" onMouseOver="funcPopup(event,'get_columns')">get_columns</a>();
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">// Get a new import code for updating to the grade book.</span>
<a name="l94"><span class="linenum">  94</span></a>  if (empty(<a class="var it3011" onMouseOver="hilite(3011)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../../_variables/importcode.html">$importcode</a>)) {
<a name="l95"><span class="linenum">  95</span></a>      <a class="var it3011" onMouseOver="hilite(3011)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../../_variables/importcode.html">$importcode</a> = <a class="function" onClick="logFunction('get_new_importcode')" href="../../../_functions/get_new_importcode.html" onMouseOver="funcPopup(event,'get_new_importcode')">get_new_importcode</a>();
<a name="l96"><span class="linenum">  96</span></a>  }
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>  <a class="var it24840" onMouseOver="hilite(24840)" onMouseOut="lolite()" onClick="logVariable('mappingformdata')" href="../../../_variables/mappingformdata.html">$mappingformdata</a> = array(
<a name="l99"><span class="linenum">  99</span></a>      'gradeitems' =&gt; <a class="var it11504" onMouseOver="hilite(11504)" onMouseOut="lolite()" onClick="logVariable('gradeitems')" href="../../../_variables/gradeitems.html">$gradeitems</a>,
<a name="l100"><span class="linenum"> 100</span></a>      'header' =&gt; <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../../../_variables/header.html">$header</a>,
<a name="l101"><span class="linenum"> 101</span></a>      'iid' =&gt; <a class="var it767" onMouseOver="hilite(767)" onMouseOut="lolite()" onClick="logVariable('iid')" href="../../../_variables/iid.html">$iid</a>,
<a name="l102"><span class="linenum"> 102</span></a>      'id' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>,
<a name="l103"><span class="linenum"> 103</span></a>      'importcode' =&gt; <a class="var it3011" onMouseOver="hilite(3011)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../../_variables/importcode.html">$importcode</a>,
<a name="l104"><span class="linenum"> 104</span></a>      'forceimport' =&gt; <a class="var it24837" onMouseOver="hilite(24837)" onMouseOut="lolite()" onClick="logVariable('forceimport')" href="../../../_variables/forceimport.html">$forceimport</a>,
<a name="l105"><span class="linenum"> 105</span></a>      'verbosescales' =&gt; <a class="var it3013" onMouseOver="hilite(3013)" onMouseOut="lolite()" onClick="logVariable('verbosescales')" href="../../../_variables/verbosescales.html">$verbosescales</a>
<a name="l106"><span class="linenum"> 106</span></a>  );
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">// we create a form to handle mapping data from the file to the database.</span>
<a name="l108"><span class="linenum"> 108</span></a>  <a class="var it15469" onMouseOver="hilite(15469)" onMouseOut="lolite()" onClick="logVariable('mform2')" href="../../../_variables/mform2.html">$mform2</a> = <span class="keyword">new </span><a class="class" onClick="logClass('grade_import_mapping_form')" href="../../../_classes/grade_import_mapping_form.html" onMouseOver="classPopup(event,'grade_import_mapping_form')">grade_import_mapping_form</a>(null, <a class="var it24840" onMouseOver="hilite(24840)" onMouseOut="lolite()" onClick="logVariable('mappingformdata')" href="../../../_variables/mappingformdata.html">$mappingformdata</a>);
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">// Here, if we have data, we process the fields and enter the information into the database.</span>
<a name="l111"><span class="linenum"> 111</span></a>  if (<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../../_variables/formdata.html">$formdata</a> = <a class="var it15469" onMouseOver="hilite(15469)" onMouseOut="lolite()" onClick="logVariable('mform2')" href="../../../_variables/mform2.html">$mform2</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>()) {
<a name="l112"><span class="linenum"> 112</span></a>      <a class="var it24841" onMouseOver="hilite(24841)" onMouseOut="lolite()" onClick="logVariable('gradeimport')" href="../../../_variables/gradeimport.html">$gradeimport</a> = <span class="keyword">new </span><a class="class" onClick="logClass('gradeimport_csv_load_data')" href="../../../_classes/gradeimport_csv_load_data.html" onMouseOver="classPopup(event,'gradeimport_csv_load_data')">gradeimport_csv_load_data</a>();
<a name="l113"><span class="linenum"> 113</span></a>      <a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../../_variables/status.html">$status</a> = <a class="var it24841" onMouseOver="hilite(24841)" onMouseOut="lolite()" onClick="logVariable('gradeimport')" href="../../../_variables/gradeimport.html">$gradeimport</a>-&gt;<a class="function" onClick="logFunction('prepare_import_grade_data')" href="../../../_functions/prepare_import_grade_data.html" onMouseOver="funcPopup(event,'prepare_import_grade_data')">prepare_import_grade_data</a>(<a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../../../_variables/header.html">$header</a>, <a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../../_variables/formdata.html">$formdata</a>, <a class="var it768" onMouseOver="hilite(768)" onMouseOut="lolite()" onClick="logVariable('csvimport')" href="../../../_variables/csvimport.html">$csvimport</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it24838" onMouseOver="hilite(24838)" onMouseOut="lolite()" onClick="logVariable('separatemode')" href="../../../_variables/separatemode.html">$separatemode</a>,
<a name="l114"><span class="linenum"> 114</span></a>              <a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../_variables/currentgroup.html">$currentgroup</a>, <a class="var it3013" onMouseOver="hilite(3013)" onMouseOut="lolite()" onClick="logVariable('verbosescales')" href="../../../_variables/verbosescales.html">$verbosescales</a>);
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">    // At this stage if things are all ok, we commit the changes from temp table.</span>
<a name="l117"><span class="linenum"> 117</span></a>      if (<a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../../_variables/status.html">$status</a>) {
<a name="l118"><span class="linenum"> 118</span></a>          <a class="function" onClick="logFunction('grade_import_commit')" href="../../../_functions/grade_import_commit.html" onMouseOver="funcPopup(event,'grade_import_commit')">grade_import_commit</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it3011" onMouseOver="hilite(3011)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../../_variables/importcode.html">$importcode</a>);
<a name="l119"><span class="linenum"> 119</span></a>      } else {
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it1210" onMouseOver="hilite(1210)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../../../_variables/errors.html">$errors</a> = <a class="var it24841" onMouseOver="hilite(24841)" onMouseOut="lolite()" onClick="logVariable('gradeimport')" href="../../../_variables/gradeimport.html">$gradeimport</a>-&gt;<a class="function" onClick="logFunction('get_gradebookerrors')" href="../../../_functions/get_gradebookerrors.html" onMouseOver="funcPopup(event,'get_gradebookerrors')">get_gradebookerrors</a>();
<a name="l121"><span class="linenum"> 121</span></a>          <a class="var it1210" onMouseOver="hilite(1210)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../../../_variables/errors.html">$errors</a>[] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('importfailed', 'grades');
<a name="l122"><span class="linenum"> 122</span></a>          echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../../../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('errors')" href="../../../_functions/errors.html" onMouseOver="funcPopup(event,'errors')">errors</a>(<a class="var it1210" onMouseOver="hilite(1210)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../../../_variables/errors.html">$errors</a>);
<a name="l123"><span class="linenum"> 123</span></a>      }
<a name="l124"><span class="linenum"> 124</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
<a name="l125"><span class="linenum"> 125</span></a>  } else {
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">    // If data hasn't been submitted then display the data mapping form.</span>
<a name="l127"><span class="linenum"> 127</span></a>      <a class="var it15469" onMouseOver="hilite(15469)" onMouseOut="lolite()" onClick="logVariable('mform2')" href="../../../_variables/mform2.html">$mform2</a>-&gt;<a class="function" onClick="logFunction('display')" href="../../../_functions/display.html" onMouseOver="funcPopup(event,'display')">display</a>();
<a name="l128"><span class="linenum"> 128</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
<a name="l129"><span class="linenum"> 129</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_renderer': ['get_renderer', 'Get the renderer for a part of Moodle for this theme. ', [['lib','outputlib.php',1790],['mod/assign','locallib.php',2734],['lib','outputfactories.php',70],['lib','outputfactories.php',292],['lib','outputfactories.php',377],['course/format','lib.php',889],['question/type/multichoice','question.php',137],['question/type/multichoice','question.php',259],['question/type','questionbase.php',275],['grade/grading/form/guide','lib.php',482],['question/behaviour','behaviourbase.php',135],['lib','pagelib.php',797],['grade/grading/form/rubric','lib.php',486],['lib/tests/fixtures','test_renderer_factory.php',49]], 339],
'get_new_importcode': ['get_new_importcode', 'Returns new improtcode for current user ', [['grade/import','lib.php',20]], 3],
'get_gradebookerrors': ['get_gradebookerrors', 'Returns the gradebookerrors parameter for this class. ', [['grade/import/csv/classes','load_data.php',628]], 9],
'set_url': ['set_url', 'Set the url specifics ', [['backup/cc/cc_lib','cc_weblink.php',50],['backup/util/ui','restore_ui_components.php',141],['mod/wiki','pagelib.php',246],['mod/wiki','pagelib.php',334],['mod/wiki','pagelib.php',421],['mod/wiki','pagelib.php',701],['mod/wiki','pagelib.php',726],['mod/wiki','pagelib.php',840],['mod/wiki','pagelib.php',884],['mod/wiki','pagelib.php',1013],['mod/wiki','pagelib.php',1117],['mod/wiki','pagelib.php',1224],['mod/wiki','pagelib.php',1467],['mod/wiki','pagelib.php',1869],['mod/wiki','pagelib.php',1937],['mod/wiki','pagelib.php',2111],['mod/wiki','pagelib.php',2172],['mod/wiki','pagelib.php',2228],['mod/wiki','pagelib.php',2293],['mod/wiki','pagelib.php',2341],['mod/wiki','pagelib.php',2389],['mod/wiki','pagelib.php',2493],['lib','outputcomponents.php',2823],['lib','pagelib.php',1198]], 574],
'errors': ['errors', '', [['backup/cc','validator.php',60],['grade/import/csv/classes/output','renderer.php',77]], 7],
'get_iid': ['get_iid', 'Returns the iid parameter for this class. ', [['grade/import/csv/classes','load_data.php',610]], 2],
'param': ['param', 'Returns a placeholder for query parameters e.g. $DB->Param(\'a\') will return - \'?\' for most databases - \':a\' for Oracle - \'$1\', \'$2\', etc. for PostgreSQL ', [['lib/adodb','adodb.inc.php',815],['lib/adodb/drivers','adodb-postgres64.inc.php',591],['lib','weblib.php',455],['lib/adodb/drivers','adodb-oci8po.inc.php',37],['lib/adodb/drivers','adodb-db2oci.inc.php',166],['lib/adodb/drivers','adodb-oci8.inc.php',1014]], 641],
'require_login': ['require_login', 'This function checks that the current user is logged in and has the required privileges ', [['lib','moodlelib.php',2444]], 635],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',884],['lib','accesslib.php',346]], 1929],
'grade_import_commit': ['grade_import_commit', 'given an import code, commits all entries in buffer tables (grade_import_value and grade_import_newitem) If this function is called, we assume that all data collected up to this point is fine and we can go ahead and commit ', [['grade/import','lib.php',35]], 6],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'print_grade_page_head': ['print_grade_page_head', 'Prints the page headers, breadcrumb trail, page heading, (optional) dropdown navigation menu and (optional) navigation tabs for any gradebook page. All gradebook pages MUST use these functions in favour of the usual print_header(), print_header_simple(), print_heading() etc. !IMPORTANT! Use of tabs.php file in gradebook pages is forbidden unless tabs are switched off at the site level for the gradebook ($CFG->grade_navmethod = GRADE_NAVMETHOD_DROPDOWN). ', [['grade','lib.php',803]], 44],
'import_preview_page': ['import_preview_page', 'A renderer for the CSV file preview. ', [['grade/import/csv/classes/output','renderer.php',58]], 2],
'prepare_import_grade_data': ['prepare_import_grade_data', 'Checks and prepares grade data for inserting into the gradebook. ', [['grade/import/csv/classes','load_data.php',412]], 9],
'standard_upload_file_form': ['standard_upload_file_form', 'A renderer for the standard upload file form. ', [['grade/import/csv/classes/output','renderer.php',36]], 2],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'require_capability': ['require_capability', 'Adds a required capability which all results will be checked against ', [['backup/util/ui','restore_ui_components.php',157],['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',891],['lib','accesslib.php',764]], 628],
'get_previewdata': ['get_previewdata', 'Returns the preview_data parameter for this class. ', [['grade/import/csv/classes','load_data.php',619]], 3],
'groups_get_course_group': ['groups_get_course_group', 'Returns group active in course, changes the group by default if \'group\' page param present ', [['lib','grouplib.php',762]], 26],
'display': ['display', '', [['mod/lesson/pagetypes','matching.php',50],['mod/lesson/pagetypes','cluster.php',39],['lib/minify/lib/Minify/Cache','XCache.php',74],['mod/quiz/report/grading','report.php',51],['question/classes/bank','view.php',451],['mod/scorm/report/objectives/classes','report.php',37],['backup/util/ui','base_ui.class.php',169],['lib/minify/lib/Minify/Cache','Memcache.php',85],['lib/minify/lib/Minify/Cache','APC.php',79],['mod/lesson/pagetypes','numerical.php',50],['mod/scorm/report/interactions/classes','report.php',31],['lib/pear/HTML','Common.php',428],['backup/util/ui','import_extensions.php',154],['mod/quiz/report/responses','report.php',51],['mod/quiz/report/statistics','report.php',51],['question/classes/bank','column_base.php',164],['backup/util/ui','restore_ui.class.php',373],['course/format/singleactivity','renderer.php',36],['mod/lesson/pagetypes','endofcluster.php',39],['user/selector','lib.php',205],['backup/util/ui','base_moodleform.class.php',365],['admin/roles/classes','capability_table_with_risks.php',132],['lib','formslib.php',913],['backup/util/ui','restore_ui_stage.class.php',355],['backup/util/ui','restore_ui_stage.class.php',497],['backup/util/ui','restore_ui_stage.class.php',1025],['backup/util/ui','restore_ui_stage.class.php',1112],['mod/lesson/pagetypes','truefalse.php',50],['repository/flickr_public','image.php',149],['mod/scorm/report/basic/classes','report.php',30],['admin/roles/classes','capability_table_base.php',71],['mod/lesson/pagetypes','endofbranch.php',39],['mod/lesson/pagetypes','essay.php',67],['mod/scorm/classes','report.php',39],['mod/quiz/report/overview','report.php',42],['backup/util/ui','backup_ui_stage.class.php',545],['backup/util/ui','backup_ui_stage.class.php',588],['lib/minify/lib/Minify/Cache','ZendPlatform.php',84],['mod/lesson/pagetypes','shortanswer.php',50],['cohort','upload_form.php',316],['mod/scorm/report/graphs/classes','report.php',36],['backup/util/ui','base_ui_stage.class.php',126],['mod/lesson/pagetypes','multichoice.php',87],['lib/minify/lib/Minify/Cache','File.php',72],['admin/roles/classes','define_role_table_advanced.php',603],['mod/lesson/pagetypes','branchtable.php',105]], 297],
'footer': ['footer', 'Returns the footer ', [['mod/lesson','renderer.php',78],['lib/tcpdf','tcpdf.php',3464],['lib','outputrenderers.php',1021],['lib','outputrenderers.php',4143],['lib','outputrenderers.php',4248]], 780],
'groups_get_course_groupmode': ['groups_get_course_groupmode', 'Returns effective groupmode used in course ', [['lib','grouplib.php',457]], 28],
'get_error': ['get_error', 'What was the last error? ', [['mod/assign','assignmentplugin.php',130],['lib','componentlib.class.php',546],['grade/import/csv/classes','load_data.php',601],['lib','csvlib.class.php',268],['lib','mathslib.php',102]], 35],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',605]], 2167],
'fetch_grade_items': ['fetch_grade_items', 'Gets all of the grade items in this course. ', [['grade/import/csv/classes','load_data.php',99]], 3],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'get_data': ['get_data', '', [['mod/feedback/item/captcha','lib.php',76],['grade/grading/form/guide','edit_form.php',142],['grade/grading/form','lib.php',841],['grade/grading/form/rubric','edit_form.php',136],['mod/feedback/item/multichoicerated','multichoicerated_form.php',93],['mod/scorm','mod_form.php',514],['lib/classes/event','base.php',564],['mod/feedback','mod_form.php',163],['mod/feedback/item/multichoice','multichoice_form.php',93],['grade/export','grade_export_form.php',206],['lib/simplepie/library/SimplePie','Parser.php',263],['lib','completionlib.php',882],['lib','formslib.php',584],['mod/workshop','locallib.php',3815],['mod/glossary','mod_form.php',203],['mod/feedback/item/textfield','textfield_form.php',57],['blocks/rss_client','editfeed.php',101],['admin/tool/filetypes','edit_form.php',97],['mod/lesson','mod_form.php',383],['admin/tool/uploaduser','user_form.php',394],['admin/webservice','forms.php',299],['mod/feedback/item/numeric','numeric_form.php',60],['mod/feedback/item/multichoice','lib.php',87],['mod/choice','mod_form.php',128],['mod/feedback/item/textarea','textarea_form.php',57],['mod/forum','mod_form.php',270],['mod/feedback/item/textfield','lib.php',89],['mod/feedback/item/multichoicerated','lib.php',92],['admin/tool/uploadcourse/classes','course.php',269],['mod/feedback/item/label','lib.php',99],['mod/feedback/item/textarea','lib.php',92],['backup/util/structure','restore_path_element.class.php',118],['mod/feedback/item/numeric','lib.php',105],['mod/feedback/item/info','lib.php',76],['mod/feedback/item','feedback_item_class.php',37],['mod/feedback/item','feedback_item_class.php',149],['lib/classes/message/inbound','address_manager.php',361],['course','editsection_form.php',96],['message/tests','inbound_test.php',632]], 364],
'get_file_content': ['get_file_content', 'Get content of uploaded file. ', [['lib','formslib.php',876],['lib','odslib.class.php',828]], 13],
'required_param': ['required_param', 'Returns a particular value for the named variable, taken from POST or GET.  If the parameter doesn\'t exist then an error is thrown because we require this variable. ', [['lib','moodlelib.php',521]], 816],
'load_csv_content': ['load_csv_content', 'Load CSV content for previewing. ', [['grade/import/csv/classes','load_data.php',63],['lib','csvlib.class.php',82]], 24],
'get_columns': ['get_columns', 'Returns detailed information about columns in table. This information is cached internally. ', [['lib/dml','pgsql_native_moodle_database.php',385],['lib/dml','oci_native_moodle_database.php',464],['lib/dml','sqlsrv_native_moodle_database.php',462],['lib/dml','sqlite3_pdo_moodle_database.php',195],['lib/dml','mssql_native_moodle_database.php',392],['lib','csvlib.class.php',190],['lib/dml','mysqli_native_moodle_database.php',572],['lib/dml/tests','dml_test.php',5417]], 108],
'print_error': ['print_error', 'Abort execution by throwing of a general exception, default exception handler displays the error message in most cases. ', [['lib','setuplib.php',449]], 1560],
'get_headers': ['get_headers', '', [], 8]};
CLASS_DATA={
'csv_import_reader': ['csv_import_reader', 'Utitily class for importing of CSV files. ', [['lib','csvlib.class.php',31]], 54],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6766]], 1197],
'grade_import_form': ['grade_import_form', '', [['grade/import','grade_import_form.php',25],['grade/import/xml','grade_import_form.php',24]], 2],
'grade_import_mapping_form': ['grade_import_mapping_form', '', [['grade/import','grade_import_form.php',83]], 1],
'gradeimport_csv_load_data': ['gradeimport_csv_load_data', 'A class for loading and preparing grade data from import. ', [['grade/import/csv/classes','load_data.php',27]], 7]};
CONST_DATA={
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 2948],
'PARAM_ALPHA': ['PARAM_ALPHA', '', [['lib','moodlelib.php',77]], 377],
'PARAM_FILE': ['PARAM_FILE', '', [['lib','moodlelib.php',133]], 122],
'SEPARATEGROUPS': ['SEPARATEGROUPS', '', [['lib','grouplib.php',34]], 158],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 502]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
