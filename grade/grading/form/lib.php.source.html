<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /grade/grading/form/lib.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='grade/grading/form';
filename='lib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/grade/grading/form/</a> -> <a href="lib.php.html">lib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Common classes used by gradingform plugintypes are defined here</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_grading</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  2011 David Mudrak &lt;david@moodle.com&gt;</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">/**</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * Class represents a grading form definition used in a particular area</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> *</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * General data about definition is stored in the standard DB table</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * grading_definitions. A separate entry is created for each grading area</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * (i.e. for each module). Plugins may define and use additional tables</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * to store additional data about definitions.</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> *</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * Advanced grading plugins must declare a class gradingform_xxxx_controller</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * extending this class and put it in lib.php in the plugin folder.</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * See {@link gradingform_rubric_controller} as an example</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> *</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * Except for overwriting abstract functions, plugin developers may want</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * to overwrite functions responsible for loading and saving of the</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * definition to include additional data stored.</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> *</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * @package    core_grading</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * @copyright  2011 David Mudrak &lt;david@moodle.com&gt;</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * @category   grading</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> */</span>
<a name="l49"><span class="linenum">  49</span></a>  abstract class gradingform_controller {
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">    /** undefined definition status */</span>
<a name="l52"><span class="linenum">  52</span></a>      const DEFINITION_STATUS_NULL = 0;
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">    /** the form is currently being edited and is not ready for usage yet */</span>
<a name="l54"><span class="linenum">  54</span></a>      const DEFINITION_STATUS_DRAFT = 10;
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">    /** the form was marked as ready for actual usage */</span>
<a name="l56"><span class="linenum">  56</span></a>      const DEFINITION_STATUS_READY = 20;
<a name="l57"><span class="linenum">  57</span></a>  
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">    /** @var stdClass the context */</span>
<a name="l59"><span class="linenum">  59</span></a>      protected <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>;
<a name="l60"><span class="linenum">  60</span></a>  
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">    /** @var string the frankenstyle name of the component */</span>
<a name="l62"><span class="linenum">  62</span></a>      protected <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../../_variables/component.html">$component</a>;
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">    /** @var string the name of the gradable area */</span>
<a name="l65"><span class="linenum">  65</span></a>      protected <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../../_variables/area.html">$area</a>;
<a name="l66"><span class="linenum">  66</span></a>  
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">    /** @var int the id of the gradable area record */</span>
<a name="l68"><span class="linenum">  68</span></a>      protected <a class="var it1948" onMouseOver="hilite(1948)" onMouseOut="lolite()" onClick="logVariable('areaid')" href="../../../_variables/areaid.html">$areaid</a>;
<a name="l69"><span class="linenum">  69</span></a>  
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">    /** @var stdClass|false the definition structure */</span>
<a name="l71"><span class="linenum">  71</span></a>      protected <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../../_variables/definition.html">$definition</a> = false;
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">    /** @var array graderange array of valid grades for this area. Use set_grade_range and get_grade_range to access this */</span>
<a name="l74"><span class="linenum">  74</span></a>      private <a class="var it29219" onMouseOver="hilite(29219)" onMouseOut="lolite()" onClick="logVariable('graderange')" href="../../../_variables/graderange.html">$graderange</a> = null;
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">    /** @var bool if decimal values are allowed as grades. */</span>
<a name="l77"><span class="linenum">  77</span></a>      private <a class="var it29220" onMouseOver="hilite(29220)" onMouseOut="lolite()" onClick="logVariable('allowgradedecimals')" href="../../../_variables/allowgradedecimals.html">$allowgradedecimals</a> = false;
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">    /** @var boolean|null cached result of function has_active_instances() */</span>
<a name="l80"><span class="linenum">  80</span></a>      protected <a class="var it29221" onMouseOver="hilite(29221)" onMouseOut="lolite()" onClick="logVariable('hasactiveinstances')" href="../../../_variables/hasactiveinstances.html">$hasactiveinstances</a> = null;
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>      <span class="comment">/**</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     * Do not instantinate this directly, use {@link grading_manager::get_controller()}</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     *</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     * @param stdClass $context the context of the form</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     * @param string $component the frankenstyle name of the component</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     * @param string $area the name of the gradable area</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     * @param int $areaid the id of the gradable area record</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     */</span>
<a name="l90"><span class="linenum">  90</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(stdClass <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../../_variables/component.html">$component</a>, <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../../_variables/area.html">$area</a>, <a class="var it1948" onMouseOver="hilite(1948)" onMouseOut="lolite()" onClick="logVariable('areaid')" href="../../../_variables/areaid.html">$areaid</a>) {
<a name="l91"><span class="linenum">  91</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/context.html">context</a>      = <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>;
<a name="l94"><span class="linenum">  94</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>)  = <a class="class" onClick="logClass('core_component')" href="../../../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('normalize_component')" href="../../../_functions/normalize_component.html" onMouseOver="funcPopup(event,'normalize_component')">normalize_component</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../../_variables/component.html">$component</a>);
<a name="l95"><span class="linenum">  95</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('component')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/component.html">component</a>    = <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>.'_'.<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>;
<a name="l96"><span class="linenum">  96</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('area')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/area.html">area</a>         = <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../../_variables/area.html">$area</a>;
<a name="l97"><span class="linenum">  97</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('areaid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/areaid.html">areaid</a>       = <a class="var it1948" onMouseOver="hilite(1948)" onMouseOut="lolite()" onClick="logVariable('areaid')" href="../../../_variables/areaid.html">$areaid</a>;
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('load_definition')" href="../../../_functions/load_definition.html" onMouseOver="funcPopup(event,'load_definition')">load_definition</a>();
<a name="l100"><span class="linenum"> 100</span></a>      }
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>      <span class="comment">/**</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">     * Returns controller context</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">     *</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">     * @return stdClass controller context</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     */</span>
<a name="l107"><span class="linenum"> 107</span></a>      public function <a class="function" onClick="logFunction('get_context')" href="../../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>() {
<a name="l108"><span class="linenum"> 108</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/context.html">context</a>;
<a name="l109"><span class="linenum"> 109</span></a>      }
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>      <span class="comment">/**</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     * Returns gradable component name</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     *</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">     * @return string gradable component name</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     */</span>
<a name="l116"><span class="linenum"> 116</span></a>      public function <a class="function" onClick="logFunction('get_component')" href="../../../_functions/get_component.html" onMouseOver="funcPopup(event,'get_component')">get_component</a>() {
<a name="l117"><span class="linenum"> 117</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('component')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/component.html">component</a>;
<a name="l118"><span class="linenum"> 118</span></a>      }
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>      <span class="comment">/**</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     * Returns gradable area name</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     *</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * @return string gradable area name</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     */</span>
<a name="l125"><span class="linenum"> 125</span></a>      public function <a class="function" onClick="logFunction('get_area')" href="../../../_functions/get_area.html" onMouseOver="funcPopup(event,'get_area')">get_area</a>() {
<a name="l126"><span class="linenum"> 126</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('area')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/area.html">area</a>;
<a name="l127"><span class="linenum"> 127</span></a>      }
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>      <span class="comment">/**</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     * Returns gradable area id</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     *</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * @return int gradable area id</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     */</span>
<a name="l134"><span class="linenum"> 134</span></a>      public function <a class="function" onClick="logFunction('get_areaid')" href="../../../_functions/get_areaid.html" onMouseOver="funcPopup(event,'get_areaid')">get_areaid</a>() {
<a name="l135"><span class="linenum"> 135</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('areaid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/areaid.html">areaid</a>;
<a name="l136"><span class="linenum"> 136</span></a>      }
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>      <span class="comment">/**</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * Is the form definition record available?</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     *</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">     * Note that this actually checks whether the process of defining the form ever started</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">     * and not whether the form definition should be considered as final.</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">     *</span>
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment">     * @return boolean</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">     */</span>
<a name="l146"><span class="linenum"> 146</span></a>      public function <a class="function" onClick="logFunction('is_form_defined')" href="../../../_functions/is_form_defined.html" onMouseOver="funcPopup(event,'is_form_defined')">is_form_defined</a>() {
<a name="l147"><span class="linenum"> 147</span></a>          return (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a> !== false);
<a name="l148"><span class="linenum"> 148</span></a>      }
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>      <span class="comment">/**</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">     * Is the grading form defined and ready for usage?</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">     *</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">     * @return boolean</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     */</span>
<a name="l155"><span class="linenum"> 155</span></a>      public function <a class="function" onClick="logFunction('is_form_available')" href="../../../_functions/is_form_available.html" onMouseOver="funcPopup(event,'is_form_available')">is_form_available</a>() {
<a name="l156"><span class="linenum"> 156</span></a>          return (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_form_defined')" href="../../../_functions/is_form_defined.html" onMouseOver="funcPopup(event,'is_form_defined')">is_form_defined</a>() &amp;&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;status == self::DEFINITION_STATUS_READY);
<a name="l157"><span class="linenum"> 157</span></a>      }
<a name="l158"><span class="linenum"> 158</span></a>  
<a name="l159"><span class="linenum"> 159</span></a>      <span class="comment">/**</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * Is the grading form saved as a shared public template?</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     *</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     * @return boolean</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">     */</span>
<a name="l164"><span class="linenum"> 164</span></a>      public function <a class="function" onClick="logFunction('is_shared_template')" href="../../../_functions/is_shared_template.html" onMouseOver="funcPopup(event,'is_shared_template')">is_shared_template</a>() {
<a name="l165"><span class="linenum"> 165</span></a>          return (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>()-&gt;id == <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()-&gt;id
<a name="l166"><span class="linenum"> 166</span></a>              and <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_component')" href="../../../_functions/get_component.html" onMouseOver="funcPopup(event,'get_component')">get_component</a>() == 'core_grading');
<a name="l167"><span class="linenum"> 167</span></a>      }
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>      <span class="comment">/**</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * Is the grading form owned by the given user?</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     *</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     * The form owner is the user who created this instance of the form.</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     *</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     * @param int $userid the user id to check, defaults to the current user</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     * @return boolean|null null if the form not defined yet, boolean otherwise</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     */</span>
<a name="l177"><span class="linenum"> 177</span></a>      public function <a class="function" onClick="logFunction('is_own_form')" href="../../../_functions/is_own_form.html" onMouseOver="funcPopup(event,'is_own_form')">is_own_form</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = null) {
<a name="l178"><span class="linenum"> 178</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_form_defined')" href="../../../_functions/is_form_defined.html" onMouseOver="funcPopup(event,'is_form_defined')">is_form_defined</a>()) {
<a name="l181"><span class="linenum"> 181</span></a>              return null;
<a name="l182"><span class="linenum"> 182</span></a>          }
<a name="l183"><span class="linenum"> 183</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>)) {
<a name="l184"><span class="linenum"> 184</span></a>              <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l185"><span class="linenum"> 185</span></a>          }
<a name="l186"><span class="linenum"> 186</span></a>          return (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;usercreated == <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>);
<a name="l187"><span class="linenum"> 187</span></a>      }
<a name="l188"><span class="linenum"> 188</span></a>  
<a name="l189"><span class="linenum"> 189</span></a>      <span class="comment">/**</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">     * Returns a message why this form is unavailable. Maybe overriden by plugins to give more details.</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">     * @see is_form_available()</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">     *</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">     * @return string</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">     */</span>
<a name="l195"><span class="linenum"> 195</span></a>      public function <a class="function" onClick="logFunction('form_unavailable_notification')" href="../../../_functions/form_unavailable_notification.html" onMouseOver="funcPopup(event,'form_unavailable_notification')">form_unavailable_notification</a>() {
<a name="l196"><span class="linenum"> 196</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_form_available')" href="../../../_functions/is_form_available.html" onMouseOver="funcPopup(event,'is_form_available')">is_form_available</a>()) {
<a name="l197"><span class="linenum"> 197</span></a>              return null;
<a name="l198"><span class="linenum"> 198</span></a>          }
<a name="l199"><span class="linenum"> 199</span></a>          return <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradingformunavailable', 'grading');
<a name="l200"><span class="linenum"> 200</span></a>      }
<a name="l201"><span class="linenum"> 201</span></a>  
<a name="l202"><span class="linenum"> 202</span></a>      <span class="comment">/**</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">     * Returns URL of a page where the grading form can be defined and edited.</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">     *</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">     * @param moodle_url $returnurl optional URL of a page where the user should be sent once they are finished with editing</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">     * @return moodle_url</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">     */</span>
<a name="l208"><span class="linenum"> 208</span></a>      public function <a class="function" onClick="logFunction('get_editor_url')" href="../../../_functions/get_editor_url.html" onMouseOver="funcPopup(event,'get_editor_url')">get_editor_url</a>(moodle_url <a class="var it1440" onMouseOver="hilite(1440)" onMouseOut="lolite()" onClick="logVariable('returnurl')" href="../../../_variables/returnurl.html">$returnurl</a> = null) {
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array('areaid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('areaid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/areaid.html">areaid</a>);
<a name="l211"><span class="linenum"> 211</span></a>  
<a name="l212"><span class="linenum"> 212</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1440" onMouseOver="hilite(1440)" onMouseOut="lolite()" onClick="logVariable('returnurl')" href="../../../_variables/returnurl.html">$returnurl</a>)) {
<a name="l213"><span class="linenum"> 213</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['returnurl'] = <a class="var it1440" onMouseOver="hilite(1440)" onMouseOut="lolite()" onClick="logVariable('returnurl')" href="../../../_variables/returnurl.html">$returnurl</a>-&gt;<a class="function" onClick="logFunction('out')" href="../../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>(false);
<a name="l214"><span class="linenum"> 214</span></a>          }
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/grade/grading/form/'.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_method_name')" href="../../../_functions/get_method_name.html" onMouseOver="funcPopup(event,'get_method_name')">get_method_name</a>().'/edit.php', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l217"><span class="linenum"> 217</span></a>      }
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>      <span class="comment">/**</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     * Extends the module settings navigation</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     *</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     * This function is called when the context for the page is an activity module with the</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     * FEATURE_ADVANCED_GRADING, the user has the permission moodle/grade:managegradingforms</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     * and there is an area with the active grading method set to the given plugin.</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     *</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     * @param settings_navigation $settingsnav {@link settings_navigation}</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     * @param navigation_node $node {@link navigation_node}</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">     */</span>
<a name="l229"><span class="linenum"> 229</span></a>      public function <a class="function" onClick="logFunction('extend_settings_navigation')" href="../../../_functions/extend_settings_navigation.html" onMouseOver="funcPopup(event,'extend_settings_navigation')">extend_settings_navigation</a>(settings_navigation <a class="var it5557" onMouseOver="hilite(5557)" onMouseOut="lolite()" onClick="logVariable('settingsnav')" href="../../../_variables/settingsnav.html">$settingsnav</a>, navigation_node <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../_variables/node.html">$node</a>=null) {
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">        // do not extend by default</span>
<a name="l231"><span class="linenum"> 231</span></a>      }
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>      <span class="comment">/**</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">     * Extends the module navigation</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     *</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">     * This function is called when the context for the page is an activity module with the</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">     * FEATURE_ADVANCED_GRADING and there is an area with the active grading method set to the given plugin.</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     *</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * @param global_navigation $navigation {@link global_navigation}</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * @param navigation_node $node {@link navigation_node}</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     */</span>
<a name="l242"><span class="linenum"> 242</span></a>      public function <a class="function" onClick="logFunction('extend_navigation')" href="../../../_functions/extend_navigation.html" onMouseOver="funcPopup(event,'extend_navigation')">extend_navigation</a>(global_navigation <a class="var it2565" onMouseOver="hilite(2565)" onMouseOut="lolite()" onClick="logVariable('navigation')" href="../../../_variables/navigation.html">$navigation</a>, navigation_node <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../_variables/node.html">$node</a>=null) {
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">        // do not extend by default</span>
<a name="l244"><span class="linenum"> 244</span></a>      }
<a name="l245"><span class="linenum"> 245</span></a>  
<a name="l246"><span class="linenum"> 246</span></a>      <span class="comment">/**</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     * Returns the grading form definition structure</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     *</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * @param boolean $force whether to force loading from DB even if it was already loaded</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * @return stdClass|false definition data or false if the form is not defined yet</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     */</span>
<a name="l252"><span class="linenum"> 252</span></a>      public function <a class="function" onClick="logFunction('get_definition')" href="../../../_functions/get_definition.html" onMouseOver="funcPopup(event,'get_definition')">get_definition</a>(<a class="var it116" onMouseOver="hilite(116)" onMouseOut="lolite()" onClick="logVariable('force')" href="../../../_variables/force.html">$force</a> = false) {
<a name="l253"><span class="linenum"> 253</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a> === false || <a class="var it116" onMouseOver="hilite(116)" onMouseOut="lolite()" onClick="logVariable('force')" href="../../../_variables/force.html">$force</a>) {
<a name="l254"><span class="linenum"> 254</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('load_definition')" href="../../../_functions/load_definition.html" onMouseOver="funcPopup(event,'load_definition')">load_definition</a>();
<a name="l255"><span class="linenum"> 255</span></a>          }
<a name="l256"><span class="linenum"> 256</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>;
<a name="l257"><span class="linenum"> 257</span></a>      }
<a name="l258"><span class="linenum"> 258</span></a>  
<a name="l259"><span class="linenum"> 259</span></a>      <span class="comment">/**</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">     * Returns the form definition suitable for cloning into another area</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">     *</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     * @param gradingform_controller $target the controller of the new copy</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     * @return stdClass definition structure to pass to the target's {@link update_definition()}</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     */</span>
<a name="l265"><span class="linenum"> 265</span></a>      public function <a class="function" onClick="logFunction('get_definition_copy')" href="../../../_functions/get_definition_copy.html" onMouseOver="funcPopup(event,'get_definition_copy')">get_definition_copy</a>(gradingform_controller <a class="var it713" onMouseOver="hilite(713)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../_variables/target.html">$target</a>) {
<a name="l266"><span class="linenum"> 266</span></a>  
<a name="l267"><span class="linenum"> 267</span></a>          if (<a class="phpfunction" onClick="logFunction('get_class')" href="../../../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>) != <a class="phpfunction" onClick="logFunction('get_class')" href="../../../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it713" onMouseOver="hilite(713)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../_variables/target.html">$target</a>)) {
<a name="l268"><span class="linenum"> 268</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('The source and copy controller mismatch');
<a name="l269"><span class="linenum"> 269</span></a>          }
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>          if (<a class="var it713" onMouseOver="hilite(713)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../_variables/target.html">$target</a>-&gt;<a class="function" onClick="logFunction('is_form_defined')" href="../../../_functions/is_form_defined.html" onMouseOver="funcPopup(event,'is_form_defined')">is_form_defined</a>()) {
<a name="l272"><span class="linenum"> 272</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('The target controller already contains a form definition');
<a name="l273"><span class="linenum"> 273</span></a>          }
<a name="l274"><span class="linenum"> 274</span></a>  
<a name="l275"><span class="linenum"> 275</span></a>          <a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../../_variables/old.html">$old</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_definition')" href="../../../_functions/get_definition.html" onMouseOver="funcPopup(event,'get_definition')">get_definition</a>();
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">        // keep our id</span>
<a name="l277"><span class="linenum"> 277</span></a>          <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../../_variables/new.html">$new</a> = new stdClass();
<a name="l278"><span class="linenum"> 278</span></a>          <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../../_variables/new.html">$new</a>-&gt;<a onClick="logVariable('copiedfromid')" class="var it43209" onMouseOver="hilite(43209)" onMouseOut="lolite()" href="../../../_variables/copiedfromid.html">copiedfromid</a> = <a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../../_variables/old.html">$old</a>-&gt;<a onClick="logVariable('id')" class="var it43210" onMouseOver="hilite(43210)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l279"><span class="linenum"> 279</span></a>          <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../../_variables/new.html">$new</a>-&gt;<a onClick="logVariable('name')" class="var it43209" onMouseOver="hilite(43209)" onMouseOut="lolite()" href="../../../_variables/name.html">name</a> = <a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../../_variables/old.html">$old</a>-&gt;<a onClick="logVariable('name')" class="var it43210" onMouseOver="hilite(43210)" onMouseOut="lolite()" href="../../../_variables/name.html">name</a>;
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">        // once we support files embedded into the description, we will want to</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">        // relink them into the new file area here (that is why we accept $target)</span>
<a name="l282"><span class="linenum"> 282</span></a>          <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../../_variables/new.html">$new</a>-&gt;<a onClick="logVariable('description')" class="var it43209" onMouseOver="hilite(43209)" onMouseOut="lolite()" href="../../../_variables/description.html">description</a> = <a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../../_variables/old.html">$old</a>-&gt;<a onClick="logVariable('description')" class="var it43210" onMouseOver="hilite(43210)" onMouseOut="lolite()" href="../../../_variables/description.html">description</a>;
<a name="l283"><span class="linenum"> 283</span></a>          <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../../_variables/new.html">$new</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43209" onMouseOver="hilite(43209)" onMouseOut="lolite()" href="../../../_variables/descriptionformat.html">descriptionformat</a> = <a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../../_variables/old.html">$old</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43210" onMouseOver="hilite(43210)" onMouseOut="lolite()" href="../../../_variables/descriptionformat.html">descriptionformat</a>;
<a name="l284"><span class="linenum"> 284</span></a>          <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../../_variables/new.html">$new</a>-&gt;<a onClick="logVariable('options')" class="var it43209" onMouseOver="hilite(43209)" onMouseOut="lolite()" href="../../../_variables/options.html">options</a> = <a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../../_variables/old.html">$old</a>-&gt;<a onClick="logVariable('options')" class="var it43210" onMouseOver="hilite(43210)" onMouseOut="lolite()" href="../../../_variables/options.html">options</a>;
<a name="l285"><span class="linenum"> 285</span></a>          <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../../_variables/new.html">$new</a>-&gt;<a onClick="logVariable('status')" class="var it43209" onMouseOver="hilite(43209)" onMouseOut="lolite()" href="../../../_variables/status.html">status</a> = <a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../../_variables/old.html">$old</a>-&gt;<a onClick="logVariable('status')" class="var it43210" onMouseOver="hilite(43210)" onMouseOut="lolite()" href="../../../_variables/status.html">status</a>;
<a name="l286"><span class="linenum"> 286</span></a>  
<a name="l287"><span class="linenum"> 287</span></a>          return <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../../_variables/new.html">$new</a>;
<a name="l288"><span class="linenum"> 288</span></a>      }
<a name="l289"><span class="linenum"> 289</span></a>  
<a name="l290"><span class="linenum"> 290</span></a>      <span class="comment">/**</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     * Saves the defintion data into the database</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">     *</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     * The implementation in this base class stores the common data into the record</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     * into the {grading_definition} table. The plugins are likely to extend this</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment">     * and save their data into own tables, too.</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     *</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     * @param stdClass $definition data containing values for the {grading_definition} table</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     * @param int|null $usermodified optional userid of the author of the definition, defaults to the current user</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">     */</span>
<a name="l300"><span class="linenum"> 300</span></a>      public function <a class="function" onClick="logFunction('update_definition')" href="../../../_functions/update_definition.html" onMouseOver="funcPopup(event,'update_definition')">update_definition</a>(stdClass <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../../_variables/definition.html">$definition</a>, <a class="var it5323" onMouseOver="hilite(5323)" onMouseOut="lolite()" onClick="logVariable('usermodified')" href="../../../_variables/usermodified.html">$usermodified</a> = null) {
<a name="l301"><span class="linenum"> 301</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l302"><span class="linenum"> 302</span></a>  
<a name="l303"><span class="linenum"> 303</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it5323" onMouseOver="hilite(5323)" onMouseOut="lolite()" onClick="logVariable('usermodified')" href="../../../_variables/usermodified.html">$usermodified</a>)) {
<a name="l304"><span class="linenum"> 304</span></a>              <a class="var it5323" onMouseOver="hilite(5323)" onMouseOut="lolite()" onClick="logVariable('usermodified')" href="../../../_variables/usermodified.html">$usermodified</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l305"><span class="linenum"> 305</span></a>          }
<a name="l306"><span class="linenum"> 306</span></a>  
<a name="l307"><span class="linenum"> 307</span></a>          if (!empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id)) {
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">            // prepare a record to be updated</span>
<a name="l309"><span class="linenum"> 309</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a> = new stdClass();
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">            // populate it with scalar values from the passed definition structure</span>
<a name="l311"><span class="linenum"> 311</span></a>              foreach (<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../../_variables/definition.html">$definition</a> as <a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('prop')" href="../../../_variables/prop.html">$prop</a> =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../../_variables/val.html">$val</a>) {
<a name="l312"><span class="linenum"> 312</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../../_variables/val.html">$val</a>) or <a class="phpfunction" onClick="logFunction('is_object')" href="../../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../../_variables/val.html">$val</a>)) {
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">                    // probably plugin's data</span>
<a name="l314"><span class="linenum"> 314</span></a>                      continue;
<a name="l315"><span class="linenum"> 315</span></a>                  }
<a name="l316"><span class="linenum"> 316</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;{<a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('prop')" href="../../../_variables/prop.html">$prop</a>} = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../../_variables/val.html">$val</a>;
<a name="l317"><span class="linenum"> 317</span></a>              }
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">            // make sure we do not override some crucial values by accident</span>
<a name="l319"><span class="linenum"> 319</span></a>              if (!empty(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>) and <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> != <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id) {
<a name="l320"><span class="linenum"> 320</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Attempting to update other definition record.');
<a name="l321"><span class="linenum"> 321</span></a>              }
<a name="l322"><span class="linenum"> 322</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id;
<a name="l323"><span class="linenum"> 323</span></a>              unset(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('areaid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/areaid.html">areaid</a>);
<a name="l324"><span class="linenum"> 324</span></a>              unset(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('method')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/method.html">method</a>);
<a name="l325"><span class="linenum"> 325</span></a>              unset(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timecreated')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timecreated.html">timecreated</a>);
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment">            // set the modification flags</span>
<a name="l327"><span class="linenum"> 327</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l328"><span class="linenum"> 328</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('usermodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/usermodified.html">usermodified</a> = <a class="var it5323" onMouseOver="hilite(5323)" onMouseOut="lolite()" onClick="logVariable('usermodified')" href="../../../_variables/usermodified.html">$usermodified</a>;
<a name="l329"><span class="linenum"> 329</span></a>  
<a name="l330"><span class="linenum"> 330</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('grading_definitions', <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>);
<a name="l331"><span class="linenum"> 331</span></a>  
<a name="l332"><span class="linenum"> 332</span></a>          } else if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a> === false) {
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">            // prepare a record to be inserted</span>
<a name="l334"><span class="linenum"> 334</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a> = new stdClass();
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">            // populate it with scalar values from the passed definition structure</span>
<a name="l336"><span class="linenum"> 336</span></a>              foreach (<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../../_variables/definition.html">$definition</a> as <a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('prop')" href="../../../_variables/prop.html">$prop</a> =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../../_variables/val.html">$val</a>) {
<a name="l337"><span class="linenum"> 337</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../../_variables/val.html">$val</a>) or <a class="phpfunction" onClick="logFunction('is_object')" href="../../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../../_variables/val.html">$val</a>)) {
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">                    // probably plugin's data</span>
<a name="l339"><span class="linenum"> 339</span></a>                      continue;
<a name="l340"><span class="linenum"> 340</span></a>                  }
<a name="l341"><span class="linenum"> 341</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;{<a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('prop')" href="../../../_variables/prop.html">$prop</a>} = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../../_variables/val.html">$val</a>;
<a name="l342"><span class="linenum"> 342</span></a>              }
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">            // make sure we do not override some crucial values by accident</span>
<a name="l344"><span class="linenum"> 344</span></a>              if (!empty(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>)) {
<a name="l345"><span class="linenum"> 345</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Attempting to create a new record while there is already one existing.');
<a name="l346"><span class="linenum"> 346</span></a>              }
<a name="l347"><span class="linenum"> 347</span></a>              unset(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l348"><span class="linenum"> 348</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('areaid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/areaid.html">areaid</a>       = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('areaid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/areaid.html">areaid</a>;
<a name="l349"><span class="linenum"> 349</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('method')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/method.html">method</a>       = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_method_name')" href="../../../_functions/get_method_name.html" onMouseOver="funcPopup(event,'get_method_name')">get_method_name</a>();
<a name="l350"><span class="linenum"> 350</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timecreated')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timecreated.html">timecreated</a>  = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l351"><span class="linenum"> 351</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('usercreated')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/usercreated.html">usercreated</a>  = <a class="var it5323" onMouseOver="hilite(5323)" onMouseOut="lolite()" onClick="logVariable('usermodified')" href="../../../_variables/usermodified.html">$usermodified</a>;
<a name="l352"><span class="linenum"> 352</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timecreated')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/timecreated.html">timecreated</a>;
<a name="l353"><span class="linenum"> 353</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('usermodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/usermodified.html">usermodified</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('usercreated')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/usercreated.html">usercreated</a>;
<a name="l354"><span class="linenum"> 354</span></a>              if (empty(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('status')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/status.html">status</a>)) {
<a name="l355"><span class="linenum"> 355</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('status')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/status.html">status</a> = self::DEFINITION_STATUS_DRAFT;
<a name="l356"><span class="linenum"> 356</span></a>              }
<a name="l357"><span class="linenum"> 357</span></a>              if (empty(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/descriptionformat.html">descriptionformat</a>)) {
<a name="l358"><span class="linenum"> 358</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../../_variables/descriptionformat.html">descriptionformat</a> = <a class="constant" onClick="logConstant('FORMAT_MOODLE')" href="../../../_constants/FORMAT_MOODLE.html" onMouseOver="constPopup(event,'FORMAT_MOODLE')">FORMAT_MOODLE</a>; <span class="comment">// field can not be empty</span>
<a name="l359"><span class="linenum"> 359</span></a>              }
<a name="l360"><span class="linenum"> 360</span></a>  
<a name="l361"><span class="linenum"> 361</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grading_definitions', <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>);
<a name="l362"><span class="linenum"> 362</span></a>  
<a name="l363"><span class="linenum"> 363</span></a>          } else {
<a name="l364"><span class="linenum"> 364</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Unknown status of the cached definition record.');
<a name="l365"><span class="linenum"> 365</span></a>          }
<a name="l366"><span class="linenum"> 366</span></a>      }
<a name="l367"><span class="linenum"> 367</span></a>  
<a name="l368"><span class="linenum"> 368</span></a>      <span class="comment">/**</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">     * Formats the definition description for display on page</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">     *</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">     * @return string</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">     */</span>
<a name="l373"><span class="linenum"> 373</span></a>      public function <a class="function" onClick="logFunction('get_formatted_description')" href="../../../_functions/get_formatted_description.html" onMouseOver="funcPopup(event,'get_formatted_description')">get_formatted_description</a>() {
<a name="l374"><span class="linenum"> 374</span></a>          if (!isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;description)) {
<a name="l375"><span class="linenum"> 375</span></a>              return '';
<a name="l376"><span class="linenum"> 376</span></a>          }
<a name="l377"><span class="linenum"> 377</span></a>          return <a class="function" onClick="logFunction('format_text')" href="../../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;description, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;descriptionformat);
<a name="l378"><span class="linenum"> 378</span></a>      }
<a name="l379"><span class="linenum"> 379</span></a>  
<a name="l380"><span class="linenum"> 380</span></a>      <span class="comment">/**</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">     * Returns the current instance (either with status ACTIVE or NEEDUPDATE) for this definition for the</span>
<a name="l382"><span class="linenum"> 382</span></a>  <span class="comment">     * specified $raterid and $itemid (if multiple raters are allowed, or only for $itemid otherwise).</span>
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment">     *</span>
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment">     * @param int $raterid</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">     * @param int $itemid</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     * @param boolean $idonly</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     * @return mixed if $idonly=true returns id of the found instance, otherwise returns the instance object</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">     */</span>
<a name="l389"><span class="linenum"> 389</span></a>      public function <a class="function" onClick="logFunction('get_current_instance')" href="../../../_functions/get_current_instance.html" onMouseOver="funcPopup(event,'get_current_instance')">get_current_instance</a>(<a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>, <a class="var it29222" onMouseOver="hilite(29222)" onMouseOut="lolite()" onClick="logVariable('idonly')" href="../../../_variables/idonly.html">$idonly</a> = false) {
<a name="l390"><span class="linenum"> 390</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l391"><span class="linenum"> 391</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l392"><span class="linenum"> 392</span></a>                  'definitionid'  =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id,
<a name="l393"><span class="linenum"> 393</span></a>                  'itemid' =&gt; <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>,
<a name="l394"><span class="linenum"> 394</span></a>                  'status1'  =&gt; gradingform_instance::INSTANCE_STATUS_ACTIVE,
<a name="l395"><span class="linenum"> 395</span></a>                  'status2'  =&gt; gradingform_instance::INSTANCE_STATUS_NEEDUPDATE);
<a name="l396"><span class="linenum"> 396</span></a>          <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../_variables/select.html">$select</a> = 'definitionid=:definitionid and itemid=:itemid and (status=:status1 or status=:status2)';
<a name="l397"><span class="linenum"> 397</span></a>          if (false) {
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">            // TODO MDL-31237 should be: if ($manager-&gt;allow_multiple_raters())</span>
<a name="l399"><span class="linenum"> 399</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../_variables/select.html">$select</a> .= ' and raterid=:raterid';
<a name="l400"><span class="linenum"> 400</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['raterid'] = <a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>;
<a name="l401"><span class="linenum"> 401</span></a>          }
<a name="l402"><span class="linenum"> 402</span></a>          if (<a class="var it29222" onMouseOver="hilite(29222)" onMouseOut="lolite()" onClick="logVariable('idonly')" href="../../../_variables/idonly.html">$idonly</a>) {
<a name="l403"><span class="linenum"> 403</span></a>              if (<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../../_variables/current.html">$current</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record_select')" href="../../../_functions/get_record_select.html" onMouseOver="funcPopup(event,'get_record_select')">get_record_select</a>('grading_instances', <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>, 'id', <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>)) {
<a name="l404"><span class="linenum"> 404</span></a>                  return <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../../_variables/current.html">$current</a>-&gt;<a onClick="logVariable('id')" class="var it43284" onMouseOver="hilite(43284)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l405"><span class="linenum"> 405</span></a>              }
<a name="l406"><span class="linenum"> 406</span></a>          } else {
<a name="l407"><span class="linenum"> 407</span></a>              if (<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../../_variables/current.html">$current</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record_select')" href="../../../_functions/get_record_select.html" onMouseOver="funcPopup(event,'get_record_select')">get_record_select</a>('grading_instances', <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>, '*', <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>)) {
<a name="l408"><span class="linenum"> 408</span></a>                  return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../../_variables/current.html">$current</a>);
<a name="l409"><span class="linenum"> 409</span></a>              }
<a name="l410"><span class="linenum"> 410</span></a>          }
<a name="l411"><span class="linenum"> 411</span></a>          return null;
<a name="l412"><span class="linenum"> 412</span></a>      }
<a name="l413"><span class="linenum"> 413</span></a>  
<a name="l414"><span class="linenum"> 414</span></a>      <span class="comment">/**</span>
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">     * Returns list of ACTIVE instances for the specified $itemid</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">     * (intentionally does not return instances with status NEEDUPDATE)</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">     *</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">     * @param int $itemid</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">     * @return array of gradingform_instance objects</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">     */</span>
<a name="l421"><span class="linenum"> 421</span></a>      public function <a class="function" onClick="logFunction('get_active_instances')" href="../../../_functions/get_active_instances.html" onMouseOver="funcPopup(event,'get_active_instances')">get_active_instances</a>(<a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>) {
<a name="l422"><span class="linenum"> 422</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l423"><span class="linenum"> 423</span></a>          <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../../_variables/conditions.html">$conditions</a> = array('definitionid'  =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id,
<a name="l424"><span class="linenum"> 424</span></a>                      'itemid' =&gt; <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>,
<a name="l425"><span class="linenum"> 425</span></a>                      'status'  =&gt; gradingform_instance::INSTANCE_STATUS_ACTIVE);
<a name="l426"><span class="linenum"> 426</span></a>          <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../../_variables/records.html">$records</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset')" href="../../../_functions/get_recordset.html" onMouseOver="funcPopup(event,'get_recordset')">get_recordset</a>('grading_instances', <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../../_variables/conditions.html">$conditions</a>);
<a name="l427"><span class="linenum"> 427</span></a>          <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../../../_variables/rv.html">$rv</a> = array();
<a name="l428"><span class="linenum"> 428</span></a>          foreach (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../../_variables/records.html">$records</a> as <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>) {
<a name="l429"><span class="linenum"> 429</span></a>              <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../../../_variables/rv.html">$rv</a>[] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>);
<a name="l430"><span class="linenum"> 430</span></a>          }
<a name="l431"><span class="linenum"> 431</span></a>          return <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../../../_variables/rv.html">$rv</a>;
<a name="l432"><span class="linenum"> 432</span></a>      }
<a name="l433"><span class="linenum"> 433</span></a>  
<a name="l434"><span class="linenum"> 434</span></a>      <span class="comment">/**</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">     * Returns an array of all active instances for this definition.</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment">     * (intentionally does not return instances with status NEEDUPDATE)</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment">     *</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment">     * @param int since only return instances with timemodified &gt;= since</span>
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment">     * @return array of gradingform_instance objects</span>
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment">     */</span>
<a name="l441"><span class="linenum"> 441</span></a>      public function <a class="function" onClick="logFunction('get_all_active_instances')" href="../../../_functions/get_all_active_instances.html" onMouseOver="funcPopup(event,'get_all_active_instances')">get_all_active_instances</a>(<a class="var it9468" onMouseOver="hilite(9468)" onMouseOut="lolite()" onClick="logVariable('since')" href="../../../_variables/since.html">$since</a> = 0) {
<a name="l442"><span class="linenum"> 442</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l443"><span class="linenum"> 443</span></a>          <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../../_variables/conditions.html">$conditions</a> = array (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id,
<a name="l444"><span class="linenum"> 444</span></a>                               gradingform_instance::INSTANCE_STATUS_ACTIVE,
<a name="l445"><span class="linenum"> 445</span></a>                               <a class="var it9468" onMouseOver="hilite(9468)" onMouseOut="lolite()" onClick="logVariable('since')" href="../../../_variables/since.html">$since</a>);
<a name="l446"><span class="linenum"> 446</span></a>          <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../../_variables/where.html">$where</a> = &quot;definitionid = ? AND status = ? AND timemodified &gt;= ?&quot;;
<a name="l447"><span class="linenum"> 447</span></a>          <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../../_variables/records.html">$records</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../../../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('grading_instances', <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../../_variables/where.html">$where</a>, <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../../_variables/conditions.html">$conditions</a>);
<a name="l448"><span class="linenum"> 448</span></a>          <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../../../_variables/rv.html">$rv</a> = array();
<a name="l449"><span class="linenum"> 449</span></a>          foreach (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../../_variables/records.html">$records</a> as <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>) {
<a name="l450"><span class="linenum"> 450</span></a>              <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../../../_variables/rv.html">$rv</a>[] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../../_variables/record.html">$record</a>);
<a name="l451"><span class="linenum"> 451</span></a>          }
<a name="l452"><span class="linenum"> 452</span></a>          return <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../../../_variables/rv.html">$rv</a>;
<a name="l453"><span class="linenum"> 453</span></a>      }
<a name="l454"><span class="linenum"> 454</span></a>  
<a name="l455"><span class="linenum"> 455</span></a>      <span class="comment">/**</span>
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment">     * Returns true if there are already people who has been graded on this definition.</span>
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">     * In this case plugins may restrict changes of the grading definition</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">     *</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">     * @return boolean</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">     */</span>
<a name="l461"><span class="linenum"> 461</span></a>      public function <a class="function" onClick="logFunction('has_active_instances')" href="../../../_functions/has_active_instances.html" onMouseOver="funcPopup(event,'has_active_instances')">has_active_instances</a>() {
<a name="l462"><span class="linenum"> 462</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l463"><span class="linenum"> 463</span></a>          if (empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id)) {
<a name="l464"><span class="linenum"> 464</span></a>              return false;
<a name="l465"><span class="linenum"> 465</span></a>          }
<a name="l466"><span class="linenum"> 466</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('hasactiveinstances')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/hasactiveinstances.html">hasactiveinstances</a> === null) {
<a name="l467"><span class="linenum"> 467</span></a>              <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../../_variables/conditions.html">$conditions</a> = array('definitionid'  =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id,
<a name="l468"><span class="linenum"> 468</span></a>                          'status'  =&gt; gradingform_instance::INSTANCE_STATUS_ACTIVE);
<a name="l469"><span class="linenum"> 469</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('hasactiveinstances')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/hasactiveinstances.html">hasactiveinstances</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('grading_instances', <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../../_variables/conditions.html">$conditions</a>);
<a name="l470"><span class="linenum"> 470</span></a>          }
<a name="l471"><span class="linenum"> 471</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('hasactiveinstances')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/hasactiveinstances.html">hasactiveinstances</a>;
<a name="l472"><span class="linenum"> 472</span></a>      }
<a name="l473"><span class="linenum"> 473</span></a>  
<a name="l474"><span class="linenum"> 474</span></a>      <span class="comment">/**</span>
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment">     * Returns the object of type gradingform_XXX_instance (where XXX is the plugin method name)</span>
<a name="l476"><span class="linenum"> 476</span></a>  <span class="comment">     *</span>
<a name="l477"><span class="linenum"> 477</span></a>  <span class="comment">     * @param mixed $instance id or row from grading_isntances table</span>
<a name="l478"><span class="linenum"> 478</span></a>  <span class="comment">     * @return gradingform_instance</span>
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">     */</span>
<a name="l480"><span class="linenum"> 480</span></a>      protected function <a class="function" onClick="logFunction('get_instance')" href="../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>(<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>) {
<a name="l481"><span class="linenum"> 481</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l482"><span class="linenum"> 482</span></a>          if (<a class="phpfunction" onClick="logFunction('is_scalar')" href="../../../_functions/is_scalar.html" onMouseOver="phpfuncPopup(event,'is_scalar')">is_scalar</a>(<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>)) {
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">            // instance id is passed as parameter</span>
<a name="l484"><span class="linenum"> 484</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('grading_instances', array('id'  =&gt; <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l485"><span class="linenum"> 485</span></a>          }
<a name="l486"><span class="linenum"> 486</span></a>          if (<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>) {
<a name="l487"><span class="linenum"> 487</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../_variables/class.html">$class</a> = 'gradingform_'. <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_method_name')" href="../../../_functions/get_method_name.html" onMouseOver="funcPopup(event,'get_method_name')">get_method_name</a>(). '_instance';
<a name="l488"><span class="linenum"> 488</span></a>              return new <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../_variables/class.html">$class</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>, <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>);
<a name="l489"><span class="linenum"> 489</span></a>          }
<a name="l490"><span class="linenum"> 490</span></a>          return null;
<a name="l491"><span class="linenum"> 491</span></a>      }
<a name="l492"><span class="linenum"> 492</span></a>  
<a name="l493"><span class="linenum"> 493</span></a>      <span class="comment">/**</span>
<a name="l494"><span class="linenum"> 494</span></a>  <span class="comment">     * This function is invoked when user (teacher) starts grading.</span>
<a name="l495"><span class="linenum"> 495</span></a>  <span class="comment">     * It creates and returns copy of the current ACTIVE instance if it exists. If this is the</span>
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment">     * first grading attempt, a new instance is created.</span>
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment">     * The status of the returned instance is INCOMPLETE</span>
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment">     *</span>
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">     * @param int $raterid</span>
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment">     * @param int $itemid</span>
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment">     * @return gradingform_instance</span>
<a name="l502"><span class="linenum"> 502</span></a>  <span class="comment">     */</span>
<a name="l503"><span class="linenum"> 503</span></a>      public function <a class="function" onClick="logFunction('create_instance')" href="../../../_functions/create_instance.html" onMouseOver="funcPopup(event,'create_instance')">create_instance</a>(<a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a> = null) {
<a name="l504"><span class="linenum"> 504</span></a>  
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">        // first find if there is already an active instance for this itemid</span>
<a name="l506"><span class="linenum"> 506</span></a>          if (<a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a> &amp;&amp; <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../../_variables/current.html">$current</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_current_instance')" href="../../../_functions/get_current_instance.html" onMouseOver="funcPopup(event,'get_current_instance')">get_current_instance</a>(<a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>)) {
<a name="l507"><span class="linenum"> 507</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../../_variables/current.html">$current</a>-&gt;<a class="phpfunction" onClick="logFunction('copy')" href="../../../_functions/copy.html" onMouseOver="phpfuncPopup(event,'copy')">copy</a>(<a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>));
<a name="l508"><span class="linenum"> 508</span></a>          } else {
<a name="l509"><span class="linenum"> 509</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../_variables/class.html">$class</a> = 'gradingform_'. <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_method_name')" href="../../../_functions/get_method_name.html" onMouseOver="funcPopup(event,'get_method_name')">get_method_name</a>(). '_instance';
<a name="l510"><span class="linenum"> 510</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../_variables/class.html">$class</a>::<a class="function" onClick="logFunction('create_new')" href="../../../_functions/create_new.html" onMouseOver="funcPopup(event,'create_new')">create_new</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id, <a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>));
<a name="l511"><span class="linenum"> 511</span></a>          }
<a name="l512"><span class="linenum"> 512</span></a>      }
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>      <span class="comment">/**</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">     * If instanceid is specified and grading instance exists and it is created by this rater for</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">     * this item, this instance is returned.</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     * Otherwise new instance is created for the specified rater and itemid</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">     *</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">     * @param int $instanceid</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">     * @param int $raterid</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">     * @param int $itemid</span>
<a name="l522"><span class="linenum"> 522</span></a>  <span class="comment">     * @return gradingform_instance</span>
<a name="l523"><span class="linenum"> 523</span></a>  <span class="comment">     */</span>
<a name="l524"><span class="linenum"> 524</span></a>      public function <a class="function" onClick="logFunction('get_or_create_instance')" href="../../../_functions/get_or_create_instance.html" onMouseOver="funcPopup(event,'get_or_create_instance')">get_or_create_instance</a>(<a class="var it1184" onMouseOver="hilite(1184)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../../../_variables/instanceid.html">$instanceid</a>, <a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>) {
<a name="l525"><span class="linenum"> 525</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l526"><span class="linenum"> 526</span></a>          if (<a class="var it1184" onMouseOver="hilite(1184)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../../../_variables/instanceid.html">$instanceid</a> &amp;&amp;
<a name="l527"><span class="linenum"> 527</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('grading_instances', array('id'  =&gt; <a class="var it1184" onMouseOver="hilite(1184)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../../../_variables/instanceid.html">$instanceid</a>, 'raterid' =&gt; <a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>, 'itemid' =&gt; <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>), '*', <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>)) {
<a name="l528"><span class="linenum"> 528</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>(<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>);
<a name="l529"><span class="linenum"> 529</span></a>          }
<a name="l530"><span class="linenum"> 530</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('create_instance')" href="../../../_functions/create_instance.html" onMouseOver="funcPopup(event,'create_instance')">create_instance</a>(<a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>);
<a name="l531"><span class="linenum"> 531</span></a>      }
<a name="l532"><span class="linenum"> 532</span></a>  
<a name="l533"><span class="linenum"> 533</span></a>      <span class="comment">/**</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">     * Returns the HTML code displaying the preview of the grading form</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">     *</span>
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">     * Plugins are forced to override this. Ideally they should delegate</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">     * the task to their own renderer.</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">     *</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">     * @param moodle_page $page the target page</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">     * @return string</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">     */</span>
<a name="l542"><span class="linenum"> 542</span></a>      abstract public function <a class="function" onClick="logFunction('render_preview')" href="../../../_functions/render_preview.html" onMouseOver="funcPopup(event,'render_preview')">render_preview</a>(moodle_page <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>);
<a name="l543"><span class="linenum"> 543</span></a>  
<a name="l544"><span class="linenum"> 544</span></a>      <span class="comment">/**</span>
<a name="l545"><span class="linenum"> 545</span></a>  <span class="comment">     * Deletes the form definition and all the associated data</span>
<a name="l546"><span class="linenum"> 546</span></a>  <span class="comment">     *</span>
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">     * @see delete_plugin_definition()</span>
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">     * @return void</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">     */</span>
<a name="l550"><span class="linenum"> 550</span></a>      public function <a class="function" onClick="logFunction('delete_definition')" href="../../../_functions/delete_definition.html" onMouseOver="funcPopup(event,'delete_definition')">delete_definition</a>() {
<a name="l551"><span class="linenum"> 551</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l552"><span class="linenum"> 552</span></a>  
<a name="l553"><span class="linenum"> 553</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_form_defined')" href="../../../_functions/is_form_defined.html" onMouseOver="funcPopup(event,'is_form_defined')">is_form_defined</a>()) {
<a name="l554"><span class="linenum"> 554</span></a>  <span class="comment">            // nothing to do</span>
<a name="l555"><span class="linenum"> 555</span></a>              return;
<a name="l556"><span class="linenum"> 556</span></a>          }
<a name="l557"><span class="linenum"> 557</span></a>  
<a name="l558"><span class="linenum"> 558</span></a>  <span class="comment">        // firstly, let the plugin delete everything from their own tables</span>
<a name="l559"><span class="linenum"> 559</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('delete_plugin_definition')" href="../../../_functions/delete_plugin_definition.html" onMouseOver="funcPopup(event,'delete_plugin_definition')">delete_plugin_definition</a>();
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">        // then, delete all instances left</span>
<a name="l561"><span class="linenum"> 561</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('grading_instances', array('definitionid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id));
<a name="l562"><span class="linenum"> 562</span></a>  <span class="comment">        // finally, delete the main definition record</span>
<a name="l563"><span class="linenum"> 563</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('grading_definitions', array('id' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a>-&gt;id));
<a name="l564"><span class="linenum"> 564</span></a>  
<a name="l565"><span class="linenum"> 565</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a> = false;
<a name="l566"><span class="linenum"> 566</span></a>      }
<a name="l567"><span class="linenum"> 567</span></a>  
<a name="l568"><span class="linenum"> 568</span></a>      <span class="comment">/**</span>
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">     * Prepare the part of the search query to append to the FROM statement</span>
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">     *</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">     * @param string $gdid the alias of grading_definitions.id column used by the caller</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">     * @return string</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment">     */</span>
<a name="l574"><span class="linenum"> 574</span></a>      public static function <a class="function" onClick="logFunction('sql_search_from_tables')" href="../../../_functions/sql_search_from_tables.html" onMouseOver="funcPopup(event,'sql_search_from_tables')">sql_search_from_tables</a>(<a class="var it29223" onMouseOver="hilite(29223)" onMouseOut="lolite()" onClick="logVariable('gdid')" href="../../../_variables/gdid.html">$gdid</a>) {
<a name="l575"><span class="linenum"> 575</span></a>          return '';
<a name="l576"><span class="linenum"> 576</span></a>      }
<a name="l577"><span class="linenum"> 577</span></a>  
<a name="l578"><span class="linenum"> 578</span></a>      <span class="comment">/**</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">     * Prepare the parts of the SQL WHERE statement to search for the given token</span>
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">     *</span>
<a name="l581"><span class="linenum"> 581</span></a>  <span class="comment">     * The returned array cosists of the list of SQL comparions and the list of</span>
<a name="l582"><span class="linenum"> 582</span></a>  <span class="comment">     * respective parameters for the comparisons. The returned chunks will be joined</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">     * with other conditions using the OR operator.</span>
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">     *</span>
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">     * @param string $token token to search for</span>
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">     * @return array</span>
<a name="l587"><span class="linenum"> 587</span></a>  <span class="comment">     */</span>
<a name="l588"><span class="linenum"> 588</span></a>      public static function <a class="function" onClick="logFunction('sql_search_where')" href="../../../_functions/sql_search_where.html" onMouseOver="funcPopup(event,'sql_search_where')">sql_search_where</a>(<a class="var it310" onMouseOver="hilite(310)" onMouseOut="lolite()" onClick="logVariable('token')" href="../../../_variables/token.html">$token</a>) {
<a name="l589"><span class="linenum"> 589</span></a>  
<a name="l590"><span class="linenum"> 590</span></a>          <a class="var it4771" onMouseOver="hilite(4771)" onMouseOut="lolite()" onClick="logVariable('subsql')" href="../../../_variables/subsql.html">$subsql</a> = array();
<a name="l591"><span class="linenum"> 591</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array();
<a name="l592"><span class="linenum"> 592</span></a>  
<a name="l593"><span class="linenum"> 593</span></a>          return array(<a class="var it4771" onMouseOver="hilite(4771)" onMouseOut="lolite()" onClick="logVariable('subsql')" href="../../../_variables/subsql.html">$subsql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l594"><span class="linenum"> 594</span></a>      }
<a name="l595"><span class="linenum"> 595</span></a>  
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment">    // //////////////////////////////////////////////////////////////////////////</span>
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>      <span class="comment">/**</span>
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment">     * Loads the form definition if it exists</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">     *</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">     * The default implementation just tries to load the record from the {grading_definitions}</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment">     * table. The plugins are likely to override this with a more complex query that loads</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment">     * all required data at once.</span>
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment">     */</span>
<a name="l605"><span class="linenum"> 605</span></a>      protected function <a class="function" onClick="logFunction('load_definition')" href="../../../_functions/load_definition.html" onMouseOver="funcPopup(event,'load_definition')">load_definition</a>() {
<a name="l606"><span class="linenum"> 606</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l607"><span class="linenum"> 607</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('definition')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/definition.html">definition</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('grading_definitions', array(
<a name="l608"><span class="linenum"> 608</span></a>              'areaid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('areaid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/areaid.html">areaid</a>,
<a name="l609"><span class="linenum"> 609</span></a>              'method' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_method_name')" href="../../../_functions/get_method_name.html" onMouseOver="funcPopup(event,'get_method_name')">get_method_name</a>()), '*', <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>);
<a name="l610"><span class="linenum"> 610</span></a>      }
<a name="l611"><span class="linenum"> 611</span></a>  
<a name="l612"><span class="linenum"> 612</span></a>      <span class="comment">/**</span>
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">     * Deletes all plugin data associated with the given form definiton</span>
<a name="l614"><span class="linenum"> 614</span></a>  <span class="comment">     *</span>
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">     * @see delete_definition()</span>
<a name="l616"><span class="linenum"> 616</span></a>  <span class="comment">     */</span>
<a name="l617"><span class="linenum"> 617</span></a>      abstract protected function <a class="function" onClick="logFunction('delete_plugin_definition')" href="../../../_functions/delete_plugin_definition.html" onMouseOver="funcPopup(event,'delete_plugin_definition')">delete_plugin_definition</a>();
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>      <span class="comment">/**</span>
<a name="l620"><span class="linenum"> 620</span></a>  <span class="comment">     * Returns the name of the grading method plugin, eg 'rubric'</span>
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">     *</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">     * @return string the name of the grading method plugin, eg 'rubric'</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment">     * @see PARAM_PLUGIN</span>
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment">     */</span>
<a name="l625"><span class="linenum"> 625</span></a>      protected function <a class="function" onClick="logFunction('get_method_name')" href="../../../_functions/get_method_name.html" onMouseOver="funcPopup(event,'get_method_name')">get_method_name</a>() {
<a name="l626"><span class="linenum"> 626</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^gradingform_([a-z][a-z0-9_]*[a-z0-9])_controller$/', <a class="phpfunction" onClick="logFunction('get_class')" href="../../../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>), <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../_variables/matches.html">$matches</a>)) {
<a name="l627"><span class="linenum"> 627</span></a>              return <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../_variables/matches.html">$matches</a>[1];
<a name="l628"><span class="linenum"> 628</span></a>          } else {
<a name="l629"><span class="linenum"> 629</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Invalid class name');
<a name="l630"><span class="linenum"> 630</span></a>          }
<a name="l631"><span class="linenum"> 631</span></a>      }
<a name="l632"><span class="linenum"> 632</span></a>  
<a name="l633"><span class="linenum"> 633</span></a>      <span class="comment">/**</span>
<a name="l634"><span class="linenum"> 634</span></a>  <span class="comment">     * Returns html code to be included in student's feedback.</span>
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment">     *</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">     * @param moodle_page $page</span>
<a name="l637"><span class="linenum"> 637</span></a>  <span class="comment">     * @param int $itemid</span>
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">     * @param array $gradinginfo result of function grade_get_grades if plugin want to use some of their info</span>
<a name="l639"><span class="linenum"> 639</span></a>  <span class="comment">     * @param string $defaultcontent default string to be returned if no active grading is found or for some reason can not be shown to a user</span>
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment">     * @param boolean $cangrade whether current user has capability to grade in this context</span>
<a name="l641"><span class="linenum"> 641</span></a>  <span class="comment">     * @return string</span>
<a name="l642"><span class="linenum"> 642</span></a>  <span class="comment">     */</span>
<a name="l643"><span class="linenum"> 643</span></a>      public function <a class="function" onClick="logFunction('render_grade')" href="../../../_functions/render_grade.html" onMouseOver="funcPopup(event,'render_grade')">render_grade</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>, <a class="var it25297" onMouseOver="hilite(25297)" onMouseOut="lolite()" onClick="logVariable('gradinginfo')" href="../../../_variables/gradinginfo.html">$gradinginfo</a>, <a class="var it18589" onMouseOver="hilite(18589)" onMouseOut="lolite()" onClick="logVariable('defaultcontent')" href="../../../_variables/defaultcontent.html">$defaultcontent</a>, <a class="var it10462" onMouseOver="hilite(10462)" onMouseOut="lolite()" onClick="logVariable('cangrade')" href="../../../_variables/cangrade.html">$cangrade</a>) {
<a name="l644"><span class="linenum"> 644</span></a>          return <a class="var it18589" onMouseOver="hilite(18589)" onMouseOut="lolite()" onClick="logVariable('defaultcontent')" href="../../../_variables/defaultcontent.html">$defaultcontent</a>;
<a name="l645"><span class="linenum"> 645</span></a>      }
<a name="l646"><span class="linenum"> 646</span></a>  
<a name="l647"><span class="linenum"> 647</span></a>      <span class="comment">/**</span>
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">     * Sets the range of grades used in this area. This is usually either range like 0-100</span>
<a name="l649"><span class="linenum"> 649</span></a>  <span class="comment">     * or the scale where keys start from 1.</span>
<a name="l650"><span class="linenum"> 650</span></a>  <span class="comment">     *</span>
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">     * Typically modules will call it:</span>
<a name="l652"><span class="linenum"> 652</span></a>  <span class="comment">     * $controller-&gt;set_grade_range(make_grades_menu($gradingtype), $gradingtype &gt; 0);</span>
<a name="l653"><span class="linenum"> 653</span></a>  <span class="comment">     * Negative $gradingtype means that scale is used and the grade must be rounded</span>
<a name="l654"><span class="linenum"> 654</span></a>  <span class="comment">     * to the nearest int. Positive $gradingtype means that range 0..$gradingtype</span>
<a name="l655"><span class="linenum"> 655</span></a>  <span class="comment">     * is used for the grades and in this case grade does not have to be rounded.</span>
<a name="l656"><span class="linenum"> 656</span></a>  <span class="comment">     *</span>
<a name="l657"><span class="linenum"> 657</span></a>  <span class="comment">     * Sometimes modules always expect grade to be rounded (like mod_assignment does).</span>
<a name="l658"><span class="linenum"> 658</span></a>  <span class="comment">     *</span>
<a name="l659"><span class="linenum"> 659</span></a>  <span class="comment">     * @param array $graderange array where first _key_ is the minimum grade and the</span>
<a name="l660"><span class="linenum"> 660</span></a>  <span class="comment">     *     last key is the maximum grade.</span>
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment">     * @param bool $allowgradedecimals if decimal values are allowed as grades.</span>
<a name="l662"><span class="linenum"> 662</span></a>  <span class="comment">     */</span>
<a name="l663"><span class="linenum"> 663</span></a>      public final function <a class="function" onClick="logFunction('set_grade_range')" href="../../../_functions/set_grade_range.html" onMouseOver="funcPopup(event,'set_grade_range')">set_grade_range</a>(array <a class="var it29219" onMouseOver="hilite(29219)" onMouseOut="lolite()" onClick="logVariable('graderange')" href="../../../_variables/graderange.html">$graderange</a>, <a class="var it29220" onMouseOver="hilite(29220)" onMouseOut="lolite()" onClick="logVariable('allowgradedecimals')" href="../../../_variables/allowgradedecimals.html">$allowgradedecimals</a> = false) {
<a name="l664"><span class="linenum"> 664</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('graderange')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/graderange.html">graderange</a> = <a class="var it29219" onMouseOver="hilite(29219)" onMouseOut="lolite()" onClick="logVariable('graderange')" href="../../../_variables/graderange.html">$graderange</a>;
<a name="l665"><span class="linenum"> 665</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('allowgradedecimals')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/allowgradedecimals.html">allowgradedecimals</a> = <a class="var it29220" onMouseOver="hilite(29220)" onMouseOut="lolite()" onClick="logVariable('allowgradedecimals')" href="../../../_variables/allowgradedecimals.html">$allowgradedecimals</a>;
<a name="l666"><span class="linenum"> 666</span></a>      }
<a name="l667"><span class="linenum"> 667</span></a>  
<a name="l668"><span class="linenum"> 668</span></a>      <span class="comment">/**</span>
<a name="l669"><span class="linenum"> 669</span></a>  <span class="comment">     * Returns the range of grades used in this area</span>
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">     *</span>
<a name="l671"><span class="linenum"> 671</span></a>  <span class="comment">     * @return array</span>
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment">     */</span>
<a name="l673"><span class="linenum"> 673</span></a>      public final function <a class="function" onClick="logFunction('get_grade_range')" href="../../../_functions/get_grade_range.html" onMouseOver="funcPopup(event,'get_grade_range')">get_grade_range</a>() {
<a name="l674"><span class="linenum"> 674</span></a>          if (empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('graderange')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/graderange.html">graderange</a>)) {
<a name="l675"><span class="linenum"> 675</span></a>              return array();
<a name="l676"><span class="linenum"> 676</span></a>          }
<a name="l677"><span class="linenum"> 677</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('graderange')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/graderange.html">graderange</a>;
<a name="l678"><span class="linenum"> 678</span></a>      }
<a name="l679"><span class="linenum"> 679</span></a>  
<a name="l680"><span class="linenum"> 680</span></a>      <span class="comment">/**</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">     * Returns if decimal values are allowed as grades</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment">     *</span>
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment">     * @return bool</span>
<a name="l684"><span class="linenum"> 684</span></a>  <span class="comment">     */</span>
<a name="l685"><span class="linenum"> 685</span></a>      public final function <a class="function" onClick="logFunction('get_allow_grade_decimals')" href="../../../_functions/get_allow_grade_decimals.html" onMouseOver="funcPopup(event,'get_allow_grade_decimals')">get_allow_grade_decimals</a>() {
<a name="l686"><span class="linenum"> 686</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('allowgradedecimals')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/allowgradedecimals.html">allowgradedecimals</a>;
<a name="l687"><span class="linenum"> 687</span></a>      }
<a name="l688"><span class="linenum"> 688</span></a>  
<a name="l689"><span class="linenum"> 689</span></a>      <span class="comment">/**</span>
<a name="l690"><span class="linenum"> 690</span></a>  <span class="comment">     * Overridden by sub classes that wish to make definition details available to web services.</span>
<a name="l691"><span class="linenum"> 691</span></a>  <span class="comment">     * When not overridden, only definition data common to all grading methods is made available.</span>
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">     * When overriding, the return value should be an array containing one or more key/value pairs.</span>
<a name="l693"><span class="linenum"> 693</span></a>  <span class="comment">     * These key/value pairs should match the definition returned by the get_definition() function.</span>
<a name="l694"><span class="linenum"> 694</span></a>  <span class="comment">     * For examples, look at:</span>
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">     *    $gradingform_rubric_controller-&gt;get_external_definition_details()</span>
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment">     *    $gradingform_guide_controller-&gt;get_external_definition_details()</span>
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment">     * @return array An array of one or more key/value pairs containing the external_multiple_structure/s</span>
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">     * corresponding to the definition returned by $controller-&gt;get_definition()</span>
<a name="l699"><span class="linenum"> 699</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l700"><span class="linenum"> 700</span></a>  <span class="comment">     */</span>
<a name="l701"><span class="linenum"> 701</span></a>      public static function <a class="function" onClick="logFunction('get_external_definition_details')" href="../../../_functions/get_external_definition_details.html" onMouseOver="funcPopup(event,'get_external_definition_details')">get_external_definition_details</a>() {
<a name="l702"><span class="linenum"> 702</span></a>          return null;
<a name="l703"><span class="linenum"> 703</span></a>      }
<a name="l704"><span class="linenum"> 704</span></a>  
<a name="l705"><span class="linenum"> 705</span></a>      <span class="comment">/**</span>
<a name="l706"><span class="linenum"> 706</span></a>  <span class="comment">     * Overridden by sub classes that wish to make instance filling details available to web services.</span>
<a name="l707"><span class="linenum"> 707</span></a>  <span class="comment">     * When not overridden, only instance filling data common to all grading methods is made available.</span>
<a name="l708"><span class="linenum"> 708</span></a>  <span class="comment">     * When overriding, the return value should be an array containing one or more key/value pairs.</span>
<a name="l709"><span class="linenum"> 709</span></a>  <span class="comment">     * These key/value pairs should match the filling data returned by the get_&lt;method&gt;_filling() function</span>
<a name="l710"><span class="linenum"> 710</span></a>  <span class="comment">     * in the gradingform_instance subclass.</span>
<a name="l711"><span class="linenum"> 711</span></a>  <span class="comment">     * For examples, look at:</span>
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">     *    $gradingform_rubric_controller-&gt;get_external_instance_filling_details()</span>
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">     *    $gradingform_guide_controller-&gt;get_external_instance_filling_details()</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     *</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     * @return array An array of one or more key/value pairs containing the external_multiple_structure/s</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * corresponding to the definition returned by $gradingform_&lt;method&gt;_instance-&gt;get_&lt;method&gt;_filling()</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment">     */</span>
<a name="l719"><span class="linenum"> 719</span></a>      public static function <a class="function" onClick="logFunction('get_external_instance_filling_details')" href="../../../_functions/get_external_instance_filling_details.html" onMouseOver="funcPopup(event,'get_external_instance_filling_details')">get_external_instance_filling_details</a>() {
<a name="l720"><span class="linenum"> 720</span></a>          return null;
<a name="l721"><span class="linenum"> 721</span></a>      }
<a name="l722"><span class="linenum"> 722</span></a>  }
<a name="l723"><span class="linenum"> 723</span></a>  
<a name="l724"><span class="linenum"> 724</span></a>  <span class="comment">/**</span>
<a name="l725"><span class="linenum"> 725</span></a>  <span class="comment"> * Class to manage one gradingform instance.</span>
<a name="l726"><span class="linenum"> 726</span></a>  <span class="comment"> *</span>
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment"> * Gradingform instance is created for each evaluation of a student, using advanced grading.</span>
<a name="l728"><span class="linenum"> 728</span></a>  <span class="comment"> * It is stored as an entry in the DB table gradingform_instance.</span>
<a name="l729"><span class="linenum"> 729</span></a>  <span class="comment"> *</span>
<a name="l730"><span class="linenum"> 730</span></a>  <span class="comment"> * One instance (usually the latest) has the status INSTANCE_STATUS_ACTIVE. Sometimes it may</span>
<a name="l731"><span class="linenum"> 731</span></a>  <span class="comment"> * happen that a teacher wants to change the definition when some students have already been</span>
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment"> * graded. In this case their instances change status to INSTANCE_STATUS_NEEDUPDATE.</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment"> *</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment"> * To support future use of AJAX for background saving of incomplete evaluations the</span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment"> * status INSTANCE_STATUS_INCOMPLETE is introduced. If 'Cancel' is pressed this entry</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment"> * is deleted.</span>
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment"> * When grade is updated the previous active instance receives status INSTANCE_STATUS_ACTIVE.</span>
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment"> *</span>
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment"> * Advanced grading plugins must declare a class gradingform_xxxx_instance</span>
<a name="l740"><span class="linenum"> 740</span></a>  <span class="comment"> * extending this class and put it in lib.php in the plugin folder.</span>
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment"> *</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment"> * The reference to an instance of this class is passed to an advanced grading form element</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment"> * included in the grading form, so this class must implement functions for rendering</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment"> * and validation of this form element. See {@link MoodleQuickForm_grading}</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment"> *</span>
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment"> * @package    core_grading</span>
<a name="l747"><span class="linenum"> 747</span></a>  <span class="comment"> * @copyright  2011 Marina Glancy</span>
<a name="l748"><span class="linenum"> 748</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l749"><span class="linenum"> 749</span></a>  <span class="comment"> * @category   grading</span>
<a name="l750"><span class="linenum"> 750</span></a>  <span class="comment"> */</span>
<a name="l751"><span class="linenum"> 751</span></a>  abstract class gradingform_instance {
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment">    /** Valid istance status */</span>
<a name="l753"><span class="linenum"> 753</span></a>      const INSTANCE_STATUS_ACTIVE = 1;
<a name="l754"><span class="linenum"> 754</span></a>  <span class="comment">    /** The grade needs to be updated by grader (usually because of changes is grading method) */</span>
<a name="l755"><span class="linenum"> 755</span></a>      const INSTANCE_STATUS_NEEDUPDATE = 2;
<a name="l756"><span class="linenum"> 756</span></a>  <span class="comment">    /** The grader started grading but did clicked neither submit nor cancel */</span>
<a name="l757"><span class="linenum"> 757</span></a>      const INSTANCE_STATUS_INCOMPLETE = 0;
<a name="l758"><span class="linenum"> 758</span></a>  <span class="comment">    /** Grader re-graded the student and this is the status for previous grade stored as history */</span>
<a name="l759"><span class="linenum"> 759</span></a>      const INSTANCE_STATUS_ARCHIVE = 3;
<a name="l760"><span class="linenum"> 760</span></a>  
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment">    /** @var stdClass record from table grading_instances */</span>
<a name="l762"><span class="linenum"> 762</span></a>      protected <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>;
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">    /** @var gradingform_controller link to the corresponding controller */</span>
<a name="l764"><span class="linenum"> 764</span></a>      protected <a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../../_variables/controller.html">$controller</a>;
<a name="l765"><span class="linenum"> 765</span></a>  
<a name="l766"><span class="linenum"> 766</span></a>      <span class="comment">/**</span>
<a name="l767"><span class="linenum"> 767</span></a>  <span class="comment">     * Creates an instance</span>
<a name="l768"><span class="linenum"> 768</span></a>  <span class="comment">     *</span>
<a name="l769"><span class="linenum"> 769</span></a>  <span class="comment">     * @param gradingform_controller $controller</span>
<a name="l770"><span class="linenum"> 770</span></a>  <span class="comment">     * @param stdClass $data</span>
<a name="l771"><span class="linenum"> 771</span></a>  <span class="comment">     */</span>
<a name="l772"><span class="linenum"> 772</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../../_variables/controller.html">$controller</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>) {
<a name="l773"><span class="linenum"> 773</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a> = (object)<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>;
<a name="l774"><span class="linenum"> 774</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('controller')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/controller.html">controller</a> = <a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../../_variables/controller.html">$controller</a>;
<a name="l775"><span class="linenum"> 775</span></a>      }
<a name="l776"><span class="linenum"> 776</span></a>  
<a name="l777"><span class="linenum"> 777</span></a>      <span class="comment">/**</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">     * Creates a new empty instance in DB and mark its status as INCOMPLETE</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment">     *</span>
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment">     * @param int $definitionid</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">     * @param int $raterid</span>
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment">     * @param int $itemid</span>
<a name="l783"><span class="linenum"> 783</span></a>  <span class="comment">     * @return int id of the created instance</span>
<a name="l784"><span class="linenum"> 784</span></a>  <span class="comment">     */</span>
<a name="l785"><span class="linenum"> 785</span></a>      public static function <a class="function" onClick="logFunction('create_new')" href="../../../_functions/create_new.html" onMouseOver="funcPopup(event,'create_new')">create_new</a>(<a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../../_variables/definitionid.html">$definitionid</a>, <a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>) {
<a name="l786"><span class="linenum"> 786</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l787"><span class="linenum"> 787</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a> = new stdClass();
<a name="l788"><span class="linenum"> 788</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('definitionid')" class="var it43004" onMouseOver="hilite(43004)" onMouseOut="lolite()" href="../../../_variables/definitionid.html">definitionid</a> = <a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../../_variables/definitionid.html">$definitionid</a>;
<a name="l789"><span class="linenum"> 789</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('raterid')" class="var it43004" onMouseOver="hilite(43004)" onMouseOut="lolite()" href="../../../_variables/raterid.html">raterid</a> = <a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>;
<a name="l790"><span class="linenum"> 790</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('itemid')" class="var it43004" onMouseOver="hilite(43004)" onMouseOut="lolite()" href="../../../_variables/itemid.html">itemid</a> = <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>;
<a name="l791"><span class="linenum"> 791</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('status')" class="var it43004" onMouseOver="hilite(43004)" onMouseOut="lolite()" href="../../../_variables/status.html">status</a> = self::INSTANCE_STATUS_INCOMPLETE;
<a name="l792"><span class="linenum"> 792</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43004" onMouseOver="hilite(43004)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l793"><span class="linenum"> 793</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it43004" onMouseOver="hilite(43004)" onMouseOut="lolite()" href="../../../_variables/feedbackformat.html">feedbackformat</a> = <a class="constant" onClick="logConstant('FORMAT_MOODLE')" href="../../../_constants/FORMAT_MOODLE.html" onMouseOver="constPopup(event,'FORMAT_MOODLE')">FORMAT_MOODLE</a>;
<a name="l794"><span class="linenum"> 794</span></a>          <a class="var it1184" onMouseOver="hilite(1184)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../../../_variables/instanceid.html">$instanceid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grading_instances', <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>);
<a name="l795"><span class="linenum"> 795</span></a>          return <a class="var it1184" onMouseOver="hilite(1184)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../../../_variables/instanceid.html">$instanceid</a>;
<a name="l796"><span class="linenum"> 796</span></a>      }
<a name="l797"><span class="linenum"> 797</span></a>  
<a name="l798"><span class="linenum"> 798</span></a>      <span class="comment">/**</span>
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment">     * Duplicates the instance before editing (optionally substitutes raterid and/or itemid with</span>
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment">     * the specified values)</span>
<a name="l801"><span class="linenum"> 801</span></a>  <span class="comment">     * Plugins may want to override this function to copy data from additional tables as well</span>
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment">     *</span>
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment">     * @param int $raterid value for raterid in the duplicate</span>
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">     * @param int $itemid value for itemid in the duplicate</span>
<a name="l805"><span class="linenum"> 805</span></a>  <span class="comment">     * @return int id of the new instance</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">     */</span>
<a name="l807"><span class="linenum"> 807</span></a>      public function <a class="function" onClick="logFunction('copy')" href="../../../_functions/copy.html" onMouseOver="funcPopup(event,'copy')">copy</a>(<a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>) {
<a name="l808"><span class="linenum"> 808</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l809"><span class="linenum"> 809</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a> = (array)<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>; <span class="comment">// Cast to array to make a copy</span>
<a name="l810"><span class="linenum"> 810</span></a>          unset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['id']);
<a name="l811"><span class="linenum"> 811</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['raterid'] = <a class="var it15435" onMouseOver="hilite(15435)" onMouseOut="lolite()" onClick="logVariable('raterid')" href="../../../_variables/raterid.html">$raterid</a>;
<a name="l812"><span class="linenum"> 812</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['itemid'] = <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>;
<a name="l813"><span class="linenum"> 813</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['timemodified'] = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l814"><span class="linenum"> 814</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['status'] = self::INSTANCE_STATUS_INCOMPLETE;
<a name="l815"><span class="linenum"> 815</span></a>          <a class="var it1184" onMouseOver="hilite(1184)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../../../_variables/instanceid.html">$instanceid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grading_instances', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>);
<a name="l816"><span class="linenum"> 816</span></a>          return <a class="var it1184" onMouseOver="hilite(1184)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../../../_variables/instanceid.html">$instanceid</a>;
<a name="l817"><span class="linenum"> 817</span></a>      }
<a name="l818"><span class="linenum"> 818</span></a>  
<a name="l819"><span class="linenum"> 819</span></a>      <span class="comment">/**</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">     * Returns the current (active or needupdate) instance for the same raterid and itemid as this</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">     * instance. This function is useful to find the status of the currently modified instance</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment">     *</span>
<a name="l823"><span class="linenum"> 823</span></a>  <span class="comment">     * @return gradingform_instance</span>
<a name="l824"><span class="linenum"> 824</span></a>  <span class="comment">     */</span>
<a name="l825"><span class="linenum"> 825</span></a>      public function <a class="function" onClick="logFunction('get_current_instance')" href="../../../_functions/get_current_instance.html" onMouseOver="funcPopup(event,'get_current_instance')">get_current_instance</a>() {
<a name="l826"><span class="linenum"> 826</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_status')" href="../../../_functions/get_status.html" onMouseOver="funcPopup(event,'get_status')">get_status</a>() == self::INSTANCE_STATUS_ACTIVE || <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_status')" href="../../../_functions/get_status.html" onMouseOver="funcPopup(event,'get_status')">get_status</a>() == self::INSTANCE_STATUS_NEEDUPDATE) {
<a name="l827"><span class="linenum"> 827</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>;
<a name="l828"><span class="linenum"> 828</span></a>          }
<a name="l829"><span class="linenum"> 829</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_controller')" href="../../../_functions/get_controller.html" onMouseOver="funcPopup(event,'get_controller')">get_controller</a>()-&gt;<a class="function" onClick="logFunction('get_current_instance')" href="../../../_functions/get_current_instance.html" onMouseOver="funcPopup(event,'get_current_instance')">get_current_instance</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;raterid, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;itemid);
<a name="l830"><span class="linenum"> 830</span></a>      }
<a name="l831"><span class="linenum"> 831</span></a>  
<a name="l832"><span class="linenum"> 832</span></a>      <span class="comment">/**</span>
<a name="l833"><span class="linenum"> 833</span></a>  <span class="comment">     * Returns the controller</span>
<a name="l834"><span class="linenum"> 834</span></a>  <span class="comment">     *</span>
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">     * @return gradingform_controller</span>
<a name="l836"><span class="linenum"> 836</span></a>  <span class="comment">     */</span>
<a name="l837"><span class="linenum"> 837</span></a>      public function <a class="function" onClick="logFunction('get_controller')" href="../../../_functions/get_controller.html" onMouseOver="funcPopup(event,'get_controller')">get_controller</a>() {
<a name="l838"><span class="linenum"> 838</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('controller')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/controller.html">controller</a>;
<a name="l839"><span class="linenum"> 839</span></a>      }
<a name="l840"><span class="linenum"> 840</span></a>  
<a name="l841"><span class="linenum"> 841</span></a>      <span class="comment">/**</span>
<a name="l842"><span class="linenum"> 842</span></a>  <span class="comment">     * Returns the specified element from object $this-&gt;data</span>
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment">     *</span>
<a name="l844"><span class="linenum"> 844</span></a>  <span class="comment">     * @param string $key</span>
<a name="l845"><span class="linenum"> 845</span></a>  <span class="comment">     * @return mixed</span>
<a name="l846"><span class="linenum"> 846</span></a>  <span class="comment">     */</span>
<a name="l847"><span class="linenum"> 847</span></a>      public function <a class="function" onClick="logFunction('get_data')" href="../../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>) {
<a name="l848"><span class="linenum"> 848</span></a>          if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>)) {
<a name="l849"><span class="linenum"> 849</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>;
<a name="l850"><span class="linenum"> 850</span></a>          }
<a name="l851"><span class="linenum"> 851</span></a>          return null;
<a name="l852"><span class="linenum"> 852</span></a>      }
<a name="l853"><span class="linenum"> 853</span></a>  
<a name="l854"><span class="linenum"> 854</span></a>      <span class="comment">/**</span>
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment">     * Returns instance id</span>
<a name="l856"><span class="linenum"> 856</span></a>  <span class="comment">     *</span>
<a name="l857"><span class="linenum"> 857</span></a>  <span class="comment">     * @return int</span>
<a name="l858"><span class="linenum"> 858</span></a>  <span class="comment">     */</span>
<a name="l859"><span class="linenum"> 859</span></a>      public function <a class="function" onClick="logFunction('get_id')" href="../../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>() {
<a name="l860"><span class="linenum"> 860</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('id');
<a name="l861"><span class="linenum"> 861</span></a>      }
<a name="l862"><span class="linenum"> 862</span></a>  
<a name="l863"><span class="linenum"> 863</span></a>      <span class="comment">/**</span>
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">     * Returns instance status</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">     *</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment">     * @return int</span>
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment">     */</span>
<a name="l868"><span class="linenum"> 868</span></a>      public function <a class="function" onClick="logFunction('get_status')" href="../../../_functions/get_status.html" onMouseOver="funcPopup(event,'get_status')">get_status</a>() {
<a name="l869"><span class="linenum"> 869</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('status');
<a name="l870"><span class="linenum"> 870</span></a>      }
<a name="l871"><span class="linenum"> 871</span></a>  
<a name="l872"><span class="linenum"> 872</span></a>      <span class="comment">/**</span>
<a name="l873"><span class="linenum"> 873</span></a>  <span class="comment">     * Marks the instance as ACTIVE and current active instance (if exists) as ARCHIVE</span>
<a name="l874"><span class="linenum"> 874</span></a>  <span class="comment">     */</span>
<a name="l875"><span class="linenum"> 875</span></a>      protected function <a class="function" onClick="logFunction('make_active')" href="../../../_functions/make_active.html" onMouseOver="funcPopup(event,'make_active')">make_active</a>() {
<a name="l876"><span class="linenum"> 876</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l877"><span class="linenum"> 877</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;status == self::INSTANCE_STATUS_ACTIVE) {
<a name="l878"><span class="linenum"> 878</span></a>  <span class="comment">            // already active</span>
<a name="l879"><span class="linenum"> 879</span></a>              return;
<a name="l880"><span class="linenum"> 880</span></a>          }
<a name="l881"><span class="linenum"> 881</span></a>          if (empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;itemid)) {
<a name="l882"><span class="linenum"> 882</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You cannot mark active the grading instance without itemid');
<a name="l883"><span class="linenum"> 883</span></a>          }
<a name="l884"><span class="linenum"> 884</span></a>          <a class="var it29224" onMouseOver="hilite(29224)" onMouseOut="lolite()" onClick="logVariable('currentid')" href="../../../_variables/currentid.html">$currentid</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_controller')" href="../../../_functions/get_controller.html" onMouseOver="funcPopup(event,'get_controller')">get_controller</a>()-&gt;<a class="function" onClick="logFunction('get_current_instance')" href="../../../_functions/get_current_instance.html" onMouseOver="funcPopup(event,'get_current_instance')">get_current_instance</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;raterid, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;itemid, true);
<a name="l885"><span class="linenum"> 885</span></a>          if (<a class="var it29224" onMouseOver="hilite(29224)" onMouseOut="lolite()" onClick="logVariable('currentid')" href="../../../_variables/currentid.html">$currentid</a> &amp;&amp; <a class="var it29224" onMouseOver="hilite(29224)" onMouseOut="lolite()" onClick="logVariable('currentid')" href="../../../_variables/currentid.html">$currentid</a> != <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>()) {
<a name="l886"><span class="linenum"> 886</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('grading_instances', array('id' =&gt; <a class="var it29224" onMouseOver="hilite(29224)" onMouseOut="lolite()" onClick="logVariable('currentid')" href="../../../_variables/currentid.html">$currentid</a>, 'status' =&gt; self::INSTANCE_STATUS_ARCHIVE));
<a name="l887"><span class="linenum"> 887</span></a>          }
<a name="l888"><span class="linenum"> 888</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('grading_instances', array('id' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>(), 'status' =&gt; self::INSTANCE_STATUS_ACTIVE));
<a name="l889"><span class="linenum"> 889</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;status = self::INSTANCE_STATUS_ACTIVE;
<a name="l890"><span class="linenum"> 890</span></a>      }
<a name="l891"><span class="linenum"> 891</span></a>  
<a name="l892"><span class="linenum"> 892</span></a>      <span class="comment">/**</span>
<a name="l893"><span class="linenum"> 893</span></a>  <span class="comment">     * Deletes this (INCOMPLETE) instance from database. This function is invoked on cancelling the</span>
<a name="l894"><span class="linenum"> 894</span></a>  <span class="comment">     * grading form and/or during cron cleanup.</span>
<a name="l895"><span class="linenum"> 895</span></a>  <span class="comment">     * Plugins using additional tables must override this method to remove additional data.</span>
<a name="l896"><span class="linenum"> 896</span></a>  <span class="comment">     * Note that if the teacher just closes the window or presses 'Back' button of the browser,</span>
<a name="l897"><span class="linenum"> 897</span></a>  <span class="comment">     * this function is not invoked.</span>
<a name="l898"><span class="linenum"> 898</span></a>  <span class="comment">     */</span>
<a name="l899"><span class="linenum"> 899</span></a>      public function <a class="function" onClick="logFunction('cancel')" href="../../../_functions/cancel.html" onMouseOver="funcPopup(event,'cancel')">cancel</a>() {
<a name="l900"><span class="linenum"> 900</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l901"><span class="linenum"> 901</span></a>  <span class="comment">        // TODO MDL-31239 throw exception if status is not INSTANCE_STATUS_INCOMPLETE</span>
<a name="l902"><span class="linenum"> 902</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('grading_instances', array('id' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>()));
<a name="l903"><span class="linenum"> 903</span></a>      }
<a name="l904"><span class="linenum"> 904</span></a>  
<a name="l905"><span class="linenum"> 905</span></a>      <span class="comment">/**</span>
<a name="l906"><span class="linenum"> 906</span></a>  <span class="comment">     * Updates the instance with the data received from grading form. This function may be</span>
<a name="l907"><span class="linenum"> 907</span></a>  <span class="comment">     * called via AJAX when grading is not yet completed, so it does not change the</span>
<a name="l908"><span class="linenum"> 908</span></a>  <span class="comment">     * status of the instance.</span>
<a name="l909"><span class="linenum"> 909</span></a>  <span class="comment">     *</span>
<a name="l910"><span class="linenum"> 910</span></a>  <span class="comment">     * @param array $elementvalue</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment">     */</span>
<a name="l912"><span class="linenum"> 912</span></a>      public function <a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(<a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>) {
<a name="l913"><span class="linenum"> 913</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l914"><span class="linenum"> 914</span></a>          <a class="var it21831" onMouseOver="hilite(21831)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../_variables/newdata.html">$newdata</a> = new stdClass();
<a name="l915"><span class="linenum"> 915</span></a>          <a class="var it21831" onMouseOver="hilite(21831)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../_variables/newdata.html">$newdata</a>-&gt;<a onClick="logVariable('id')" class="var it45347" onMouseOver="hilite(45347)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>();
<a name="l916"><span class="linenum"> 916</span></a>          <a class="var it21831" onMouseOver="hilite(21831)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../_variables/newdata.html">$newdata</a>-&gt;<a onClick="logVariable('timemodified')" class="var it45347" onMouseOver="hilite(45347)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l917"><span class="linenum"> 917</span></a>          if (isset(<a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>['itemid']) &amp;&amp; <a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>['itemid'] != <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;itemid) {
<a name="l918"><span class="linenum"> 918</span></a>              <a class="var it21831" onMouseOver="hilite(21831)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../_variables/newdata.html">$newdata</a>-&gt;<a onClick="logVariable('itemid')" class="var it45347" onMouseOver="hilite(45347)" onMouseOut="lolite()" href="../../../_variables/itemid.html">itemid</a> = <a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>['itemid'];
<a name="l919"><span class="linenum"> 919</span></a>          }
<a name="l920"><span class="linenum"> 920</span></a>  <span class="comment">        // TODO MDL-31087 also update: rawgrade, feedback, feedbackformat</span>
<a name="l921"><span class="linenum"> 921</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('grading_instances', <a class="var it21831" onMouseOver="hilite(21831)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../_variables/newdata.html">$newdata</a>);
<a name="l922"><span class="linenum"> 922</span></a>          foreach (<a class="var it21831" onMouseOver="hilite(21831)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../_variables/newdata.html">$newdata</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../_variables/value.html">$value</a>) {
<a name="l923"><span class="linenum"> 923</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/data.html">data</a>-&gt;<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../_variables/value.html">$value</a>;
<a name="l924"><span class="linenum"> 924</span></a>          }
<a name="l925"><span class="linenum"> 925</span></a>      }
<a name="l926"><span class="linenum"> 926</span></a>  
<a name="l927"><span class="linenum"> 927</span></a>      <span class="comment">/**</span>
<a name="l928"><span class="linenum"> 928</span></a>  <span class="comment">     * Calculates the grade to be pushed to the gradebook</span>
<a name="l929"><span class="linenum"> 929</span></a>  <span class="comment">     *</span>
<a name="l930"><span class="linenum"> 930</span></a>  <span class="comment">     * Returned grade must be in range $this-&gt;get_controller()-&gt;get_grade_range()</span>
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment">     * Plugins must returned grade converted to int unless</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment">     * $this-&gt;get_controller()-&gt;get_allow_grade_decimals() is true.</span>
<a name="l933"><span class="linenum"> 933</span></a>  <span class="comment">     *</span>
<a name="l934"><span class="linenum"> 934</span></a>  <span class="comment">     * @return float|int</span>
<a name="l935"><span class="linenum"> 935</span></a>  <span class="comment">     */</span>
<a name="l936"><span class="linenum"> 936</span></a>      abstract public function <a class="function" onClick="logFunction('get_grade')" href="../../../_functions/get_grade.html" onMouseOver="funcPopup(event,'get_grade')">get_grade</a>();
<a name="l937"><span class="linenum"> 937</span></a>  
<a name="l938"><span class="linenum"> 938</span></a>      <span class="comment">/**</span>
<a name="l939"><span class="linenum"> 939</span></a>  <span class="comment">     * Determines whether the submitted form was empty.</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">     *</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">     * @param array $elementvalue value of element submitted from the form</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment">     * @return boolean true if the form is empty</span>
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment">     */</span>
<a name="l944"><span class="linenum"> 944</span></a>      public function <a class="function" onClick="logFunction('is_empty_form')" href="../../../_functions/is_empty_form.html" onMouseOver="funcPopup(event,'is_empty_form')">is_empty_form</a>(<a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>) {
<a name="l945"><span class="linenum"> 945</span></a>          return false;
<a name="l946"><span class="linenum"> 946</span></a>      }
<a name="l947"><span class="linenum"> 947</span></a>  
<a name="l948"><span class="linenum"> 948</span></a>      <span class="comment">/**</span>
<a name="l949"><span class="linenum"> 949</span></a>  <span class="comment">     * Removes the attempt from the gradingform_*_fillings table.</span>
<a name="l950"><span class="linenum"> 950</span></a>  <span class="comment">     * This function is not abstract as to not break plugins that might</span>
<a name="l951"><span class="linenum"> 951</span></a>  <span class="comment">     * use advanced grading.</span>
<a name="l952"><span class="linenum"> 952</span></a>  <span class="comment">     * @param array $data the attempt data</span>
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment">     */</span>
<a name="l954"><span class="linenum"> 954</span></a>      public function <a class="function" onClick="logFunction('clear_attempt')" href="../../../_functions/clear_attempt.html" onMouseOver="funcPopup(event,'clear_attempt')">clear_attempt</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>) {
<a name="l955"><span class="linenum"> 955</span></a>  <span class="comment">        // This function is empty because the way to clear a grade</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment">        // attempt will be different depending on the grading method.</span>
<a name="l957"><span class="linenum"> 957</span></a>          return;
<a name="l958"><span class="linenum"> 958</span></a>      }
<a name="l959"><span class="linenum"> 959</span></a>  
<a name="l960"><span class="linenum"> 960</span></a>      <span class="comment">/**</span>
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment">     * Called when teacher submits the grading form:</span>
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">     * updates the instance in DB, marks it as ACTIVE and returns the grade to be pushed to the gradebook.</span>
<a name="l963"><span class="linenum"> 963</span></a>  <span class="comment">     * $itemid must be specified here (it was not required when the instance was</span>
<a name="l964"><span class="linenum"> 964</span></a>  <span class="comment">     * created, because it might not existed in draft)</span>
<a name="l965"><span class="linenum"> 965</span></a>  <span class="comment">     *</span>
<a name="l966"><span class="linenum"> 966</span></a>  <span class="comment">     * @param array $elementvalue</span>
<a name="l967"><span class="linenum"> 967</span></a>  <span class="comment">     * @param int $itemid</span>
<a name="l968"><span class="linenum"> 968</span></a>  <span class="comment">     * @return int the grade on 0-100 scale</span>
<a name="l969"><span class="linenum"> 969</span></a>  <span class="comment">     */</span>
<a name="l970"><span class="linenum"> 970</span></a>      public function <a class="function" onClick="logFunction('submit_and_get_grade')" href="../../../_functions/submit_and_get_grade.html" onMouseOver="funcPopup(event,'submit_and_get_grade')">submit_and_get_grade</a>(<a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>) {
<a name="l971"><span class="linenum"> 971</span></a>          <a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>['itemid'] = <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../../_variables/itemid.html">$itemid</a>;
<a name="l972"><span class="linenum"> 972</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_empty_form')" href="../../../_functions/is_empty_form.html" onMouseOver="funcPopup(event,'is_empty_form')">is_empty_form</a>(<a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>)) {
<a name="l973"><span class="linenum"> 973</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('clear_attempt')" href="../../../_functions/clear_attempt.html" onMouseOver="funcPopup(event,'clear_attempt')">clear_attempt</a>(<a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>);
<a name="l974"><span class="linenum"> 974</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('make_active')" href="../../../_functions/make_active.html" onMouseOver="funcPopup(event,'make_active')">make_active</a>();
<a name="l975"><span class="linenum"> 975</span></a>              return -1;
<a name="l976"><span class="linenum"> 976</span></a>          }
<a name="l977"><span class="linenum"> 977</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(<a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>);
<a name="l978"><span class="linenum"> 978</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('make_active')" href="../../../_functions/make_active.html" onMouseOver="funcPopup(event,'make_active')">make_active</a>();
<a name="l979"><span class="linenum"> 979</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_grade')" href="../../../_functions/get_grade.html" onMouseOver="funcPopup(event,'get_grade')">get_grade</a>();
<a name="l980"><span class="linenum"> 980</span></a>      }
<a name="l981"><span class="linenum"> 981</span></a>  
<a name="l982"><span class="linenum"> 982</span></a>      <span class="comment">/**</span>
<a name="l983"><span class="linenum"> 983</span></a>  <span class="comment">     * Returns html for form element of type 'grading'. If there is a form input element</span>
<a name="l984"><span class="linenum"> 984</span></a>  <span class="comment">     * it must have the name $gradingformelement-&gt;getName().</span>
<a name="l985"><span class="linenum"> 985</span></a>  <span class="comment">     * If there are more than one input elements they MUST be elements of array with</span>
<a name="l986"><span class="linenum"> 986</span></a>  <span class="comment">     * name $gradingformelement-&gt;getName().</span>
<a name="l987"><span class="linenum"> 987</span></a>  <span class="comment">     * Example: {NAME}[myelement1], {NAME}[myelement2][sub1], {NAME}[myelement2][sub2], etc.</span>
<a name="l988"><span class="linenum"> 988</span></a>  <span class="comment">     * ( {NAME} is a shortcut for $gradingformelement-&gt;getName() )</span>
<a name="l989"><span class="linenum"> 989</span></a>  <span class="comment">     * After submitting the form the value of $_POST[{NAME}] is passed to the functions</span>
<a name="l990"><span class="linenum"> 990</span></a>  <span class="comment">     * validate_grading_element() and submit_and_get_grade()</span>
<a name="l991"><span class="linenum"> 991</span></a>  <span class="comment">     *</span>
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment">     * Plugins may use $gradingformelement-&gt;getValue() to get the value passed on previous</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">     * form submit</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">     *</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">     * When forming html it is a plugin's responsibility to analyze flags</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment">     * $gradingformelement-&gt;_flagFrozen and $gradingformelement-&gt;_persistantFreeze:</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment">     *</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment">     * (_flagFrozen == false) =&gt; form element is editable</span>
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment">     *</span>
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment">     * (_flagFrozen == false &amp;&amp; _persistantFreeze == true) =&gt; form element is not editable</span>
<a name="l1001"><span class="linenum">1001</span></a>  <span class="comment">     * but all values are passed as hidden elements</span>
<a name="l1002"><span class="linenum">1002</span></a>  <span class="comment">     *</span>
<a name="l1003"><span class="linenum">1003</span></a>  <span class="comment">     * (_flagFrozen == false &amp;&amp; _persistantFreeze == false) =&gt; form element is not editable</span>
<a name="l1004"><span class="linenum">1004</span></a>  <span class="comment">     * and no values are passed as hidden elements</span>
<a name="l1005"><span class="linenum">1005</span></a>  <span class="comment">     *</span>
<a name="l1006"><span class="linenum">1006</span></a>  <span class="comment">     * Plugins are welcome to use AJAX in the form element. But it is strongly recommended</span>
<a name="l1007"><span class="linenum">1007</span></a>  <span class="comment">     * that the grading only becomes active when teacher presses 'Submit' button (the</span>
<a name="l1008"><span class="linenum">1008</span></a>  <span class="comment">     * method submit_and_get_grade() is invoked)</span>
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">     *</span>
<a name="l1010"><span class="linenum">1010</span></a>  <span class="comment">     * Also client-side JS validation may be implemented here</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment">     *</span>
<a name="l1012"><span class="linenum">1012</span></a>  <span class="comment">     * @see MoodleQuickForm_grading in lib/form/grading.php</span>
<a name="l1013"><span class="linenum">1013</span></a>  <span class="comment">     *</span>
<a name="l1014"><span class="linenum">1014</span></a>  <span class="comment">     * @param moodle_page $page</span>
<a name="l1015"><span class="linenum">1015</span></a>  <span class="comment">     * @param MoodleQuickForm_grading $gradingformelement</span>
<a name="l1016"><span class="linenum">1016</span></a>  <span class="comment">     * @return string</span>
<a name="l1017"><span class="linenum">1017</span></a>  <span class="comment">     */</span>
<a name="l1018"><span class="linenum">1018</span></a>      abstract function <a class="function" onClick="logFunction('render_grading_element')" href="../../../_functions/render_grading_element.html" onMouseOver="funcPopup(event,'render_grading_element')">render_grading_element</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>, <a class="var it29226" onMouseOver="hilite(29226)" onMouseOut="lolite()" onClick="logVariable('gradingformelement')" href="../../../_variables/gradingformelement.html">$gradingformelement</a>);
<a name="l1019"><span class="linenum">1019</span></a>  
<a name="l1020"><span class="linenum">1020</span></a>      <span class="comment">/**</span>
<a name="l1021"><span class="linenum">1021</span></a>  <span class="comment">     * Server-side validation of the data received from grading form.</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment">     *</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">     * @param mixed $elementvalue is the scalar or array received in $_POST</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">     * @return boolean true if the form data is validated and contains no errors</span>
<a name="l1025"><span class="linenum">1025</span></a>  <span class="comment">     */</span>
<a name="l1026"><span class="linenum">1026</span></a>      public function <a class="function" onClick="logFunction('validate_grading_element')" href="../../../_functions/validate_grading_element.html" onMouseOver="funcPopup(event,'validate_grading_element')">validate_grading_element</a>(<a class="var it29225" onMouseOver="hilite(29225)" onMouseOut="lolite()" onClick="logVariable('elementvalue')" href="../../../_variables/elementvalue.html">$elementvalue</a>) {
<a name="l1027"><span class="linenum">1027</span></a>          return true;
<a name="l1028"><span class="linenum">1028</span></a>      }
<a name="l1029"><span class="linenum">1029</span></a>  
<a name="l1030"><span class="linenum">1030</span></a>      <span class="comment">/**</span>
<a name="l1031"><span class="linenum">1031</span></a>  <span class="comment">     * Returns the error message displayed if validation failed.</span>
<a name="l1032"><span class="linenum">1032</span></a>  <span class="comment">     * If plugin wants to display custom message, the empty string should be returned here</span>
<a name="l1033"><span class="linenum">1033</span></a>  <span class="comment">     * and the custom message should be output in render_grading_element()</span>
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment">     *</span>
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment">     * Please note that in assignments grading in 2.2 the grading form is not validated</span>
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment">     * properly and this message is not being displayed.</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">     *</span>
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment">     * @see validate_grading_element()</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment">     * @return string</span>
<a name="l1040"><span class="linenum">1040</span></a>  <span class="comment">     */</span>
<a name="l1041"><span class="linenum">1041</span></a>      public function <a class="function" onClick="logFunction('default_validation_error_message')" href="../../../_functions/default_validation_error_message.html" onMouseOver="funcPopup(event,'default_validation_error_message')">default_validation_error_message</a>() {
<a name="l1042"><span class="linenum">1042</span></a>          return '';
<a name="l1043"><span class="linenum">1043</span></a>      }
<a name="l1044"><span class="linenum">1044</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_active_instances': ['get_active_instances', 'Returns list of ACTIVE instances for the specified $itemid (intentionally does not return instances with status NEEDUPDATE) ', [['grade/grading/form','lib.php',414]], 2],
'set_grade_range': ['set_grade_range', 'Sets the range of grades used in this area. This is usually either range like 0-100 or the scale where keys start from 1. ', [['grade/grading/form','lib.php',647]], 4],
'get_instance': ['get_instance', 'Get the DB record for the current instance. ', [['course','moodleform_mod.php',116],['question/engine','bank.php',464],['backup/util/output','output_controller.class.php',53],['repository','lib.php',1137],['backup/util/helper','restore_logs_processor.class.php',69],['grade/grading/form','lib.php',474],['mnet/service/enrol','locallib.php',57],['mod/assign','locallib.php',1224],['lib','externallib.php',1000],['blog','locallib.php',857]], 420],
'get_area': ['get_area', 'Returns grading manager area name ', [['grade/grading','lib.php',146],['cache/classes','definition.php',642],['grade/grading/form','lib.php',120]], 6],
'get_grade': ['get_grade', 'Get (or create if not exist yet) grade for this user ', [['lib/grade','grade_item.php',1265],['lib/classes/event','grade_deleted.php',81],['mod/assign','locallib.php',3195],['completion/criteria','completion_criteria_grade.php',96],['grade/grading/form/rubric','lib.php',868],['lib/classes/event','user_graded.php',72],['grade/grading/form/guide','lib.php',889]], 80],
'get_method_name': ['get_method_name', 'Returns the name of the grading method plugin, eg \'rubric\' ', [['grade/grading/form','lib.php',619]], 11],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'render_preview': ['render_preview', 'Returns the HTML code displaying the preview of the grading form ', [['grade/grading/form/rubric','lib.php',496],['grade/grading/form/guide','lib.php',502]], 8],
'validate_grading_element': ['validate_grading_element', 'Server-side validation of the data received from grading form. ', [['grade/grading/form','lib.php',1020],['grade/grading/form/rubric','lib.php',790],['grade/grading/form/guide','lib.php',789]], 3],
'get_external_definition_details': ['get_external_definition_details', 'Overridden by sub classes that wish to make definition details available to web services. When not overridden, only definition data common to all grading methods is made available. When overriding, the return value should be an array containing one or more key/value pairs. These key/value pairs should match the definition returned by the get_definition() function. For examples, look at: $gradingform_rubric_controller->get_external_definition_details() $gradingform_guide_controller->get_external_definition_details() ', [['grade/grading/form','lib.php',689],['grade/grading/form/rubric','lib.php',667],['grade/grading/form/guide','lib.php',670]], 1],
'update_definition': ['update_definition', 'Saves the defintion data into the database ', [['grade/grading/form','lib.php',290],['grade/grading/form/rubric','lib.php',92],['grade/grading/form/guide','lib.php',96]], 9],
'get_grade_range': ['get_grade_range', 'Returns the range of grades used in this area ', [['grade/grading/form','lib.php',668]], 2],
'create_new': ['create_new', 'Creates a new empty instance in DB and mark its status as INCOMPLETE ', [['grade/grading/form','lib.php',777]], 1],
'get_allow_grade_decimals': ['get_allow_grade_decimals', 'Returns if decimal values are allowed as grades ', [['grade/grading/form','lib.php',680]], 3],
'out': ['out', 'Returns the selector for use in a CSS rule ', [['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['mod/feedback/classes','responses_table.php',332],['lib','moodlelib.php',9729],['lib','weblib.php',545],['lib','tablelib.php',1594],['report/loglive/classes','table_log_ajax.php',37]], 626],
'delete_plugin_definition': ['delete_plugin_definition', 'Deletes the rubric definition and all the associated information ', [['grade/grading/form/rubric','lib.php',534],['grade/grading/form/guide','lib.php',536]], 2],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'is_form_defined': ['is_form_defined', 'Is the form definition record available? ', [['grade/grading/form','lib.php',138]], 16],
'default_validation_error_message': ['default_validation_error_message', 'Returns the error message displayed if validation failed. If plugin wants to display custom message, the empty string should be returned here and the custom message should be output in render_grading_element() ', [['grade/grading/form','lib.php',1030]], 1],
'get_component': ['get_component', 'Gets the Frankenstyle component name for this plugin. ', [['availability/classes','frontend.php',86],['lib/classes/task','task_base.php',125],['lib/filebrowser','virtual_root_file.php',191],['grade/grading','lib.php',126],['lib/filestorage','stored_file.php',661],['cache/classes','definition.php',650],['comment','lib.php',975],['grade/grading/form','lib.php',111]], 71],
'extend_navigation': ['extend_navigation', 'Extends the module navigation with the advanced grading information ', [['grade/grading','lib.php',467],['grade/grading/form','lib.php',233],['grade/grading/form/rubric','lib.php',71],['grade/grading/form/guide','lib.php',74]], 2],
'delete_definition': ['delete_definition', 'Deletes the form definition and all the associated data ', [['grade/grading/form','lib.php',544]], 3],
'sql_search_from_tables': ['sql_search_from_tables', 'Prepare the part of the search query to append to the FROM statement ', [['grade/grading/form','lib.php',568],['grade/grading/form/rubric','lib.php',602],['grade/grading/form/guide','lib.php',606]], 1],
'get_or_create_instance': ['get_or_create_instance', 'If instanceid is specified and grading instance exists and it is created by this rater for this item, this instance is returned. Otherwise new instance is created for the specified rater and itemid ', [['grade/grading/form','lib.php',514],['grade/grading/form/rubric','lib.php',554],['grade/grading/form/guide','lib.php',557]], 3],
'__construct': ['__construct', '', [['lib/adodb/drivers','adodb-odbc_mssql.inc.php',50],['lib/adodb/drivers','adodb-odbc_mssql.inc.php',359],['question/classes/statistics/responses','analyser.php',69],['auth/radius','auth.php',38],['lib/xmldb','xmldb_file.php',43],['lib/lessphp/Tree/Mixin','Definition.php',18],['cache/stores/static','lib.php',127],['lib/classes/session','file.php',40],['lib/htmlpurifier/HTMLPurifier/Lexer','DOMLex.php',35],['backup/util/ui','base_moodleform.class.php',68],['lib/simplepie/library/SimplePie','Author.php',81],['lib/filestorage','zip_archive.php',66],['backup/util/structure','restore_path_element.class.php',47],['backup/util/structure','restore_path_element.class.php',128],['lib/htmlpurifier/HTMLPurifier/ChildDef','Chameleon.php',36],['lib/phpexcel/PHPExcel','HashTable.php',44],['mod/quiz/tests','repaginate_test.php',39],['lib/form','modvisible.php',43],['lib/phpexcel/PHPExcel/Worksheet','Row.php',44],['cache','disabledlib.php',44],['lib/phpexcel/PHPExcel/Worksheet','Dimension.php',58],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',27],['question/type/ddwtos','question.php',61],['mnet/xmlrpc','client.php',25],['lib/horde/framework/Horde/Imap/Client','Url.php',112],['lib/classes','useragent.php',115],['lib/pear/HTML/QuickForm','advcheckbox.php',66],['lib/classes/update','checker_exception.php',37],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',53],['lib/jabber/XMPP','XMPP.php',101],['lib/form','radio.php',44],['lib/spout/src/Spout/Reader/XLSX/Helper','StyleHelper.php',45],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',58],['lib/phpexcel/PHPExcel/Style','Border.php',67],['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',182],['lib/adodb/drivers','adodb-oci8quercus.inc.php',31],['lib/adodb/drivers','adodb-oci8quercus.inc.php',45],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',29],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',91],['lib/phpexcel/PHPExcel','DocumentProperties.php',123],['lib/typo3','class.t3lib_cs.php',509],['mod/workshop/allocation/scheduled','lib.php',48],['lib/adodb/drivers','adodb-netezza.inc.php',53],['lib/adodb/drivers','adodb-netezza.inc.php',144],['mod/feedback/classes','complete_form.php',58],['search/classes','document.php',188],['webservice/rest','locallib.php',40],['lib/dml','mssql_native_moodle_recordset.php',34],['mod/assign/feedback/editpdf/fpdi','fpdi_pdf_parser.php',57],['lib/htmlpurifier/HTMLPurifier','TokenFactory.php',43],['backup/moodle2','backup_block_task.class.php',43],['lib/lessphp/Tree','Negative.php',14],['lib/minify/lib/Minify/Cache','APC.php',19],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',54],['lib/pear/HTML/QuickForm','header.php',33],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','InMemoryStrategy.php',26],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',51],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',110],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',60],['lib/spout/src/Spout/Reader/ODS','Sheet.php',33],['question/type/calculated/tests','helper.php',205],['lib/adodb/drivers','adodb-odbtp.inc.php',38],['lib/adodb/drivers','adodb-odbtp.inc.php',673],['lib/adodb/drivers','adodb-odbtp.inc.php',796],['lib/adodb/drivers','adodb-odbtp.inc.php',806],['lib/adodb/drivers','adodb-odbtp.inc.php',816],['lib/adodb/drivers','adodb-odbtp.inc.php',826],['lib/adodb/drivers','adodb-odbtp.inc.php',836],['enrol/lti/ims-blti','blti.php',28],['backup/cc','cc2moodle.php',105],['mod/chat','locallib.php',181],['mod/chat','locallib.php',229],['user/filters','simpleselect.php',45],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',244],['lib/dml','pdo_moodle_database.php',42],['lib/adodb/drivers','adodb-sqlite3.inc.php',36],['lib/adodb/drivers','adodb-sqlite3.inc.php',350],['lib/pear/HTML/QuickForm','static.php',44],['competency/classes/external','comment_area_exporter.php',48],['lib/lessphp/Tree','Selector.php',31],['auth/cas/CAS/CAS','TypeMismatchException.php',43],['auth/fc','fcFPP.php',33],['lib/xmldb','xmldb_key.php',43],['grade/grading/form/rubric','rubriceditor.php',56],['lib/google/src/Google/Service','Cloudlatencytest.php',40],['course','moodleform_mod.php',69],['auth/nntp','auth.php',35],['grade/report/grader','lib.php',111],['admin/tool/generator/classes','course_backend.php',116],['lib/minify/lib','FirePHP.php',189],['lib/adodb/drivers','adodb-sqlitepo.inc.php',38],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',67],['lib/phpexcel/PHPExcel/CachedObjectStorage','CacheBase.php',66],['lib/lessphp/Tree','Rule.php',24],['lib/behat/features/bootstrap','behat_init_context.php',45],['lib','dmllib.php',69],['lib','dmllib.php',84],['lib','dmllib.php',104],['lib','dmllib.php',129],['lib','dmllib.php',159],['lib','dmllib.php',187],['lib','dmllib.php',240],['lib','dmllib.php',270],['lib/google/src/Google/Service','DataTransfer.php',44],['lib/google/src/Google/Http','Batch.php',42],['backup/util/structure','base_processor.class.php',49],['admin/tool/lpmigrate/classes','framework_mapper.php',50],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',46],['lib/lessphp/Tree','NameValue.php',22],['mod/quiz/classes','admin_review_setting.php',82],['lib/htmlpurifier/HTMLPurifier','Generator.php',67],['mod/quiz/report','attemptsreport_table.php',76],['blocks/lp/classes/output','summary.php',59],['lib/google/src/Google/IO','Stream.php',45],['lib/google/src/Google/Service','Freebase.php',38],['grade/tests','reportlib_test.php',36],['search/classes','manager.php',100],['question/behaviour/adaptive','behaviour.php',310],['admin/tool/lp/classes/form','framework_autocomplete.php',48],['lib/minify/lib','JSMinPlus.php',193],['lib/minify/lib','JSMinPlus.php',726],['lib/minify/lib','JSMinPlus.php',1638],['lib/minify/lib','JSMinPlus.php',1656],['lib/minify/lib','JSMinPlus.php',1748],['lib/simplepie/library/SimplePie','Copyright.php',73],['lib/phpexcel/PHPExcel/Style','Conditional.php',93],['lib/google/src/Google/Task','Runner.php',76],['backup/util/settings/root','root_backup_setting.class.php',34],['lib','componentlib.class.php',179],['lib','componentlib.class.php',610],['lib','componentlib.class.php',834],['lib/google/src/Google/Service','AdSense.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',18],['lib/spout/src/Spout/Reader/CSV','Sheet.php',24],['lib/filebrowser','file_info_context_system.php',37],['lib/grade','grade_item.php',260],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',27],['repository/boxnet','lib.php',56],['auth/email','auth.php',34],['mod/wiki/editors','wikifiletable.php',40],['lib/google/src/Google/Service','Replicapool.php',51],['lib/dtl','database_exporter.php',55],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',34],['lib/phpexcel/PHPExcel/Writer','CSV.php',79],['lib/google/src/Google/Service','Tasks.php',44],['lib/dml','mysqli_native_moodle_recordset.php',42],['lib/google/src/Google/Service','GamesManagement.php',50],['lib/minify/lib/Minify','Source.php',43],['lib/jabber/XMPP','Roster.php',48],['lib/lessphp/Tree','Element.php',19],['lib/classes','string_manager_install.php',43],['question/type','questiontypebase.php',55],['question/type','questiontypebase.php',1442],['lib/form','filemanager.php',54],['lib/form','filemanager.php',316],['lib/htmlpurifier/HTMLPurifier/ChildDef','Custom.php',36],['backup/util/ui','renderer.php',813],['lib/simplepie/library/SimplePie','Rating.php',73],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',44],['question/classes/statistics/questions','calculator.php',66],['backup/moodle2','backup_xml_transformer.class.php',50],['lib/google/src/Google/Service','Resource.php',62],['lib/form','autocomplete.php',56],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',60],['mod/lesson/classes','file_info.php',45],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',40],['lib/google/src/Google/Service','Partners.php',43],['cache','lib.php',66],['cache','lib.php',109],['cache','lib.php',138],['cache','lib.php',183],['grade/edit/tree','lib.php',57],['grade/edit/tree','lib.php',635],['grade/edit/tree','lib.php',668],['grade/edit/tree','lib.php',834],['lib/simplepie/library/SimplePie','Cache.php',69],['mod/wiki/diff','difflib.php',277],['mod/wiki/diff','difflib.php',381],['mod/wiki/diff','difflib.php',478],['lib/pear/HTML/QuickForm','select.php',58],['lib/classes/output','mustache_javascript_helper.php',40],['lib/phpexcel/PHPExcel/Reader/Excel2007','Theme.php',68],['mod/data','export_form.php',16],['lib/pear/HTML/QuickForm','autocomplete.php',67],['question/type/shortanswer','question.php',44],['lib/google/src/Google/Service','AndroidPublisher.php',52],['lib/google/src/Google/Verifier','Pem.php',31],['lib/classes/antivirus','scanner.php',41],['lib/phpexcel/PHPExcel/Reader','Excel5.php',414],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',69],['lib/classes/output','mustache_filesystem_loader.php',39],['lib/classes/output','inplace_editable.php',107],['lib/adodb/drivers','adodb-informix.inc.php',37],['competency/classes','competency_rule.php',45],['lib/phpexcel/PHPExcel','RichText.php',37],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',59],['lib/pear/HTML/QuickForm','input.php',38],['repository/picasa','lib.php',41],['mod/feedback/classes','structure.php',48],['backup/util/plan','backup_structure_step.class.php',38],['question/classes/bank','random_question_loader.php',61],['mod/quiz/report/statistics/classes','calculated.php',43],['lib/horde/framework/Horde/Stream','String.php',27],['backup/util/helper','restore_decode_content.class.php',50],['backup/util/helper','restore_decode_content.class.php',125],['mod/workshop/backup/moodle1','lib.php',308],['lib/google/src/Google/Service','YouTubeReporting.php',47],['grade/export/txt','grade_export_txt.php',27],['lib/mustache/src/Mustache/Exception','SyntaxException.php',23],['lib/tcpdf','tcpdf_barcodes_2d.php',58],['mod/imscp','locallib.php',289],['lib/form','selectyesno.php',42],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',62],['mod/lti/service/toolsettings/classes/local/service','toolsettings.php',41],['mod/lti/service/profile/classes/local/service','profile.php',41],['repository/flickr_public','lib.php',49],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','BackgroundPosition.php',57],['admin/tool/lp/classes/output','template_cohorts_table.php',53],['lib/simplepie/library','SimplePie.php',611],['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',55],['lib/google/src/Google/Service','Reseller.php',44],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Border.php',18],['lib/testing/generator','component_generator_base.php',45],['lib/horde/framework/Horde/Translation/Handler','Gettext.php',34],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooter.php',175],['lib/classes','plugin_manager.php',91],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',28],['lib/horde/framework/Horde/Support','CombineStream.php',29],['lib/xmldb','xmldb_field.php',84],['lib/adodb/drivers','adodb-ibase.inc.php',59],['lib/adodb/drivers','adodb-ibase.inc.php',764],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',23],['admin/roles/classes','view_role_definition_table.php',28],['lib/google/src/Google/Cache','Memcache.php',44],['lib/pear/HTML/QuickForm','radio.php',48],['lib/filebrowser','file_info_context_coursecat.php',39],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',37],['mod/workshop/eval/best','lib.php',44],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',38],['grade/report','lib.php',156],['lib','csslib.php',1501],['lib','csslib.php',1587],['lib','csslib.php',2068],['lib','csslib.php',2136],['lib','csslib.php',2242],['availability/classes','info_module.php',40],['mod/book','locallib.php',414],['question/engine','datalib.php',68],['question/engine','datalib.php',1331],['question/engine','datalib.php',1632],['question/engine','datalib.php',1740],['question/engine','datalib.php',1870],['question/engine','datalib.php',1941],['webservice','lib.php',745],['webservice','lib.php',841],['lib/adodb/drivers','adodb-informix72.inc.php',59],['lib/adodb/drivers','adodb-informix72.inc.php',399],['lib/adodb','adodb-pager.inc.php',60],['user/classes/output/myprofile','category.php',68],['lib/lessphp/Visitor','extendFinder.php',15],['backup/util/settings','base_setting.class.php',89],['backup/util/settings','base_setting.class.php',556],['lib','filelib.php',2720],['lib','filelib.php',3601],['lib/phpunit/classes','database_driver_testcase.php',55],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','File.php',32],['report/competency/classes/output','report.php',56],['lib/google/src/Google/Service','Computeaccounts.php',49],['question/type','edit_question_form.php',96],['lib/filebrowser','file_info_context_user.php',39],['admin/tool/lp/classes/output','template_plans_page.php',37],['lib/phpexcel/PHPExcel','Style.php',93],['lib/minify/lib/Minify','HTML.php',49],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ListStyle.php',20],['lib/form','password.php',44],['backup','backup.class.php',146],['mod/feedback/classes','course_select_form.php',39],['lib/google/src/Google/Auth','AppIdentity.php',39],['lib/adodb','adodb-active-record.inc.php',121],['lib/phpexcel/PHPExcel','Chart.php',169],['lib/horde/framework/Horde/Mail/Rfc822','List.php',61],['admin/roles/classes','allow_switch_page.php',33],['lib/grade','grade_object.php',80],['lib/google/src/Google/IO','Exception.php',29],['auth/lti','auth.php',38],['mod/quiz/report/statistics/classes','calculator.php',39],['lib/htmlpurifier','HTMLPurifier.php',104],['admin/tool/lp/classes/output','user_competency_summary_in_plan.php',47],['mod/assign/feedback/editpdf/classes','widget.php',53],['lib/evalmath','evalmath.class.php',120],['lib/form','url.php',46],['lib/dml','pdo_moodle_recordset.php',41],['lib/htmlpurifier/HTMLPurifier/TagTransform','Simple.php',19],['backup/cc/cc_lib','xmlbase.php',52],['badges/lib','bakerlib.php',52],['lib/google/src/Google/Signer','P12.php',35],['availability/classes','info_section.php',40],['lib/form','static.php',47],['backup/converter','convertlib.php',52],['backup/converter','convertlib.php',277],['lib/google/src/Google/Service','YouTubeAnalytics.php',56],['admin/roles/classes','check_capability_table.php',40],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',14],['lib/adodb/drivers','adodb-postgres64.inc.php',127],['lib/adodb/drivers','adodb-postgres64.inc.php',919],['backup/util/helper','restore_prechecks_helper.class.php',213],['user/profile','lib.php',59],['lib/google/src/Google/Service','Admin.php',40],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',62],['lib/google/src/Google/Service','MapsEngine.php',66],['lib','listlib.php',82],['lib','listlib.php',485],['lib/phpexcel/PHPExcel/Writer','HTML.php',128],['backup/moodle2','restore_activity_task.class.php',48],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',68],['lib/simplepie/library/SimplePie','Source.php',61],['completion','data_object.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','ID.php',28],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',49],['lib/horde/framework/Horde/Support','Stack.php',18],['lib/google/src/Google/Cache','File.php',41],['lib/horde/framework/Horde/Mail/Transport','Mock.php',76],['backup/util/ui','backup_moodleform.class.php',41],['availability/condition/grouping/classes','condition.php',46],['lib/classes/session','memcache.php',50],['cache/classes','dummystore.php',62],['badges/classes','assertion.php',49],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',87],['availability/tests/fixtures','mock_condition.php',52],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',33],['mod/quiz/report','attemptsreport_options.php',95],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',39],['lib/minify/lib/Minify/CSS','Compressor.php',51],['lib/google/src/Google/Service','Dns.php',53],['question/type/calculatedmulti','edit_calculatedmulti_form.php',47],['backup/moodle2','restore_block_task.class.php',45],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',54],['lib/form','recaptcha.php',48],['lib','csvlib.class.php',64],['lib','csvlib.class.php',398],['lib/simplepie/library/SimplePie/Cache','File.php',82],['lib/phpexcel/PHPExcel/Chart','Legend.php',75],['lib/phpexcel/PHPExcel','WorksheetIterator.php',44],['cache/classes','loaders.php',196],['cache/classes','loaders.php',1189],['cache/classes','loaders.php',1586],['lib/google/src/Google/Service','Appengine.php',44],['admin/tool/lp/classes/output','template_cohorts_page.php',37],['search/classes','engine.php',77],['backup/cc/cc_lib','cc_assesment_essay.php',25],['lib/classes/progress','display.php',48],['lib/lessphp/Tree','Call.php',19],['course/format','lib.php',78],['question/type/calculated','datasetdefinitions_form.php',53],['lib/google/src/Google/Service','Translate.php',40],['enrol/database','settingslib.php',34],['lib/lessphp/Tree/Mixin','Call.php',14],['admin/tool/log/store/standard/classes/log','store.php',37],['lib/google/src/Google/Service','Urlshortener.php',40],['lib/horde/framework/Horde/Imap/Client','Socket.php',168],['lib/tests','collator_test.php',310],['lib/google/src/Google/Auth','Simple.php',31],['backup/cc/cc_lib','cc_manifest.php',45],['lib/bennu','iCalendar_properties.php',28],['lib/bennu','iCalendar_properties.php',220],['lib/bennu','iCalendar_properties.php',238],['lib/bennu','iCalendar_properties.php',259],['lib/bennu','iCalendar_properties.php',275],['lib/bennu','iCalendar_properties.php',296],['lib/bennu','iCalendar_properties.php',343],['lib/bennu','iCalendar_properties.php',358],['lib/bennu','iCalendar_properties.php',376],['lib/bennu','iCalendar_properties.php',391],['lib/bennu','iCalendar_properties.php',406],['lib/bennu','iCalendar_properties.php',447],['lib/bennu','iCalendar_properties.php',462],['lib/bennu','iCalendar_properties.php',485],['lib/bennu','iCalendar_properties.php',509],['lib/bennu','iCalendar_properties.php',524],['lib/bennu','iCalendar_properties.php',555],['lib/bennu','iCalendar_properties.php',573],['lib/bennu','iCalendar_properties.php',594],['lib/bennu','iCalendar_properties.php',637],['lib/bennu','iCalendar_properties.php',680],['lib/bennu','iCalendar_properties.php',724],['lib/bennu','iCalendar_properties.php',747],['lib/bennu','iCalendar_properties.php',782],['lib/bennu','iCalendar_properties.php',808],['lib/bennu','iCalendar_properties.php',849],['lib/bennu','iCalendar_properties.php',864],['lib/bennu','iCalendar_properties.php',905],['lib/bennu','iCalendar_properties.php',938],['lib/bennu','iCalendar_properties.php',952],['lib/bennu','iCalendar_properties.php',965],['lib/bennu','iCalendar_properties.php',987],['lib/bennu','iCalendar_properties.php',1017],['lib/bennu','iCalendar_properties.php',1031],['lib/bennu','iCalendar_properties.php',1061],['lib/bennu','iCalendar_properties.php',1075],['lib/bennu','iCalendar_properties.php',1098],['lib/bennu','iCalendar_properties.php',1110],['lib/bennu','iCalendar_properties.php',1139],['lib/bennu','iCalendar_properties.php',1160],['lib/bennu','iCalendar_properties.php',1181],['lib/bennu','iCalendar_properties.php',1203],['lib/bennu','iCalendar_properties.php',1227],['lib/bennu','iCalendar_properties.php',1260],['lib/bennu','iCalendar_properties.php',1386],['lib/bennu','iCalendar_properties.php',1407],['lib/bennu','iCalendar_properties.php',1429],['lib/bennu','iCalendar_properties.php',1450],['lib/mustache/src/Mustache/Exception','UnknownTemplateException.php',22],['lib/phpmailer','moodle_phpmailer.php',47],['availability/tests/fixtures','mock_info.php',40],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',138],['admin/tool/lp/classes/form','persistent.php',68],['lib/adodb/drivers','adodb-mysqlt.inc.php',32],['lib/adodb/drivers','adodb-mysqlt.inc.php',96],['webservice/tests','lib_test.php',213],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',35],['filter','local_settings_form.php',33],['mod/quiz/accessrule','accessrulebase.php',52],['lib/horde/framework/Horde/Exception','Wrapped.php',16],['mod/assign/feedback/editpdf/fpdi','pdf_parser.php',170],['lib/lessphp/Tree','Dimension.php',15],['lib/minify/lib/HTTP','ConditionalGet.php',109],['lib/adodb/perf','perf-oci8.inc.php',203],['lib/phpexcel','PHPExcel.php',361],['backup/util/helper','restore_questions_parser_processor.class.php',42],['backup/moodle2','backup_plugin.class.php',44],['lib/classes/antivirus','scanner_exception.php',38],['webservice/xmlrpc','lib.php',43],['report/loglive/classes','renderable.php',73],['course','dnduploadlib.php',109],['course','dnduploadlib.php',407],['lib/filebrowser','file_info.php',43],['lib/adodb/drivers','adodb-access.inc.php',34],['lib/adodb/drivers','adodb-access.inc.php',83],['mod/feedback/classes','responses_table.php',54],['lib/editor/tinymce','adminlib.php',36],['admin/tool/monitor/classes','rule.php',44],['lib/google/src/Google/Service','AdExchangeBuyer.php',55],['lib/filebrowser','virtual_root_file.php',45],['lib/phpexcel/PHPExcel/RichText','Run.php',35],['admin/tool/monitor/classes/output/managesubs','subs.php',51],['auth/cas/CAS/CAS','ProxyChain.php',48],['lib/htmlpurifier/HTMLPurifier','DefinitionCache.php',22],['lib/google/src/Google/Service','CivicInfo.php',40],['mod/feedback/classes/output','summary.php',52],['lib/minify/lib/Minify','Build.php',77],['lib/adodb/drivers','adodb-ado_mssql.inc.php',146],['lib/adodb/drivers','adodb-odbc.inc.php',44],['lib/adodb/drivers','adodb-odbc.inc.php',611],['lib','moodlelib.php',9421],['lib','moodlelib.php',9632],['user/selector','lib.php',85],['user/selector','lib.php',674],['admin/tool/lp/classes/output','plan_page.php',49],['repository/dropbox','lib.php',49],['lib/horde/framework/Horde/Mime','Part.php',261],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','CachingStrategyFactory.php',56],['lib/phpexcel/PHPExcel/Chart','Layout.php',143],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',20],['lib/phpexcel/PHPExcel/Shared/JAMA','EigenvalueDecomposition.php',777],['lib/google/src/Google/Service','Books.php',60],['lib/google/src/Google/Service','Oauth2.php',50],['admin/tool/log/classes/log','store.php',30],['admin/tool/recyclebin/classes','category_bin.php',45],['lib/phpexcel/PHPExcel/Style','Color.php',64],['lib/phpexcel/PHPExcel/Worksheet','SheetView.php',69],['lib/htmlpurifier/HTMLPurifier/Token','Text.php',34],['lib/classes/update','checker.php',50],['lib/horde/framework/Horde/Socket','Client.php',52],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',243],['lib/horde/framework/Horde/Imap/Client/Cache','Backend.php',33],['lib/phpexcel/PHPExcel/Chart','Title.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',32],['lib/adodb/drivers','adodb-text.inc.php',93],['lib/adodb/drivers','adodb-text.inc.php',379],['lib/phpexcel/PHPExcel','Calculation.php',2071],['lib/adodb/drivers','adodb-sqlite.inc.php',36],['lib/adodb/drivers','adodb-sqlite.inc.php',367],['lib/google/src/Google/Service','Analytics.php',77],['blocks/lp/classes/output','plans_to_review_page.php',48],['lib/google/src/Google/Service','Coordinate.php',48],['availability/condition/group/classes','condition.php',43],['lib/lessphp/Exception','Chunk.php',19],['lib/htmlpurifier/HTMLPurifier','PropertyListIterator.php',22],['backup/cc/cc_lib','cc_resources.php',102],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',45],['backup/util/structure','base_optigroup.class.php',35],['backup/util/structure','base_optigroup.class.php',169],['question/classes/statistics/questions','calculated.php',181],['lib/horde/framework/Horde/Imap/Client/Interaction','Command.php',72],['lib/htmlpurifier/HTMLPurifier/Strategy','Core.php',8],['lib/htmlpurifier/HTMLPurifier/Filter','ExtractStyleBlocks.php',57],['backup/cc/cc_lib','cc_converter_url.php',29],['lib/xmldb','xmldb_structure.php',40],['lib/ddl','sqlite_sql_generator.php',73],['lib/pear/HTML/QuickForm','Renderer.php',31],['backup/util/helper','restore_moodlexml_parser_processor.class.php',38],['lib/pear/HTML/QuickForm','file.php',54],['lib/minify/lib/Minify/Cache','File.php',9],['lib/pear/HTML/QuickForm','xbutton.php',39],['lib/htmlpurifier','locallib.php',134],['admin/tool/recyclebin/classes','course_bin.php',45],['backup/util/plan','backup_task.class.php',32],['backup/util/plan','backup_task.class.php',56],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',174],['backup/util/helper','backup_helper.class.php',381],['lib/form','htmleditor.php',48],['lib','oauthlib.php',65],['lib','oauthlib.php',409],['auth/cas/CAS/CAS/PGTStorage','File.php',105],['auth/cas/CAS/CAS/ProxiedService','Imap.php',51],['repository/skydrive','lib.php',42],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',57],['lib/classes/lock','postgres_lock_factory.php',81],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',260],['lib/horde/framework/Horde/Support','ConsistentHash.php',56],['lib/horde/framework/Horde/Exception','Pear.php',22],['lib/portfolio','exceptions.php',50],['backup/moodle2','restore_plugin.class.php',43],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',177],['lib/google/src/Google/Service','DoubleClickBidManager.php',40],['lib/minify/lib/Minify/JS','ClosureCompiler.php',101],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',38],['lib/form','dateselector.php',70],['lib/spout/src/Spout/Common/Helper','EncodingHelper.php',38],['report/competency/classes/output','user_course_navigation.php',51],['lib/adodb/drivers','adodb-postgres7.inc.php',98],['lib/adodb/drivers','adodb-postgres7.inc.php',311],['lib/adodb/drivers','adodb-postgres7.inc.php',342],['lib/lessphp/Tree','Alpha.php',13],['mod/lti/service/memberships/classes/local/resource','linkmemberships.php',46],['lib/tcpdf','tcpdf.php',1822],['lib/adodb/drivers','adodb-sybase.inc.php',47],['lib/adodb/drivers','adodb-sybase.inc.php',313],['lib/adodb/drivers','adodb-sybase.inc.php',394],['lib/phpexcel/PHPExcel/Chart','PlotArea.php',44],['lib/phpexcel/PHPExcel/Chart','DataSeries.php',136],['mod/lesson','editpage_form.php',41],['question/classes/statistics/responses','analysis_for_question.php',58],['lib/horde/framework/Horde','Domhtml.php',53],['lib','formslib.php',142],['lib','formslib.php',1442],['lib','formslib.php',2653],['rating','lib.php',114],['rating','lib.php',1070],['lib/phpexcel/PHPExcel/Worksheet','Column.php',44],['lib/google/src/Google/Service','Script.php',67],['lib/adodb','adodb-xmlschema.inc.php',118],['lib/adodb','adodb-xmlschema.inc.php',245],['lib/adodb','adodb-xmlschema.inc.php',637],['lib/adodb','adodb-xmlschema.inc.php',781],['lib/adodb','adodb-xmlschema.inc.php',982],['lib/adodb','adodb-xmlschema.inc.php',1295],['lib/google/src/Google/Service','DeploymentManager.php',54],['mod/quiz','attemptlib.php',41],['mod/quiz','attemptlib.php',82],['mod/quiz','attemptlib.php',546],['mod/quiz','attemptlib.php',2337],['mod/quiz','attemptlib.php',2392],['backup/cc/cc_lib','cc_converter_forum.php',29],['lib','boxlib.php',264],['lib/simplepie/library/SimplePie','Restriction.php',81],['admin/roles/classes','allow_assign_page.php',31],['lib/adodb/drivers','adodb-pdo.inc.php',90],['lib/adodb/drivers','adodb-pdo.inc.php',553],['lib/adodb/drivers','adodb-pdo.inc.php',630],['tag/classes/output','tagareacollection.php',40],['admin/tool/lp/classes','template_statistics.php',62],['lib','weblib.php',313],['lib','weblib.php',3183],['lib','weblib.php',3483],['lib','weblib.php',3518],['lib','weblib.php',3593],['backup/cc/cc_lib','cc_converter_basiclti.php',29],['lib/html2text','Html2Text.php',232],['mod/assign/feedback/editpdf/classes','annotation.php',66],['lib/pear/HTML/QuickForm/Renderer','Array.php',143],['question/engine','lib.php',774],['question/engine','lib.php',1011],['question/engine','lib.php',1059],['lib/jabber/XMPP','XMLObj.php',76],['lib/horde/framework/Horde/Exception','PermissionDenied.php',15],['lib/editor/atto','adminlib.php',109],['lib/pear/HTML/QuickForm/Renderer','Tableless.php',116],['grade/report/history/classes/output','tablelog.php',72],['lib/google/src/Google/IO','Curl.php',38],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',31],['lib/pear/HTML/QuickForm','hiddenselect.php',41],['backup/util/ui','backup_ui_setting.class.php',70],['backup/util/ui','backup_ui_setting.class.php',200],['backup/util/ui','backup_ui_setting.class.php',398],['backup/util/ui','backup_ui_setting.class.php',504],['backup/util/ui','backup_ui_setting.class.php',583],['lib/adodb/drivers','adodb-mysqlpo.inc.php',35],['lib/adodb/drivers','adodb-mysqlpo.inc.php',82],['lib/adodb/drivers','adodb-mysqlpo.inc.php',119],['lib/google/src/Google/Service','Blogger.php',50],['backup/util/xml/output','file_xml_output.class.php',37],['lib/form','tags.php',75],['admin/tool/installaddon/classes','installer.php',219],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',30],['lib/simplepie/library/SimplePie','IRI.php',252],['comment','locallib.php',39],['question/engine','states.php',61],['lib/spout/src/Spout/Reader/XLSX/Helper','CellValueFormatter.php',52],['lib/google/src/Google/Service','Dataflow.php',45],['mod/data','locallib.php',66],['mod/data','locallib.php',433],['lib/horde/framework/Horde','Variables.php',60],['backup/util/ui','base_ui.class.php',84],['lib/simplepie/library/SimplePie','Registry.php',99],['cache/locks/file','lib.php',66],['question/classes/statistics/responses','analysis_for_class.php',68],['lib/filebrowser','file_info_stored.php',51],['tag/classes/output','tagcollname.php',42],['competency/classes','persistent.php',54],['admin/tool/lp/classes/output','competency_plan_navigation.php',54],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',146],['lib/pear/HTML/QuickForm','textarea.php',48],['lib/lessphp','Visitor.php',14],['lib/google/src/Google/Service','CloudUserAccounts.php',52],['question/classes/bank','column_base.php',44],['lib/minify/lib/MrClay','Cli.php',74],['lib','outputcomponents.php',80],['lib','outputcomponents.php',204],['lib','outputcomponents.php',469],['lib','outputcomponents.php',523],['lib','outputcomponents.php',589],['lib','outputcomponents.php',665],['lib','outputcomponents.php',783],['lib','outputcomponents.php',925],['lib','outputcomponents.php',1009],['lib','outputcomponents.php',2183],['lib','outputcomponents.php',2222],['lib','outputcomponents.php',2295],['lib','outputcomponents.php',2376],['lib','outputcomponents.php',2579],['lib','outputcomponents.php',2627],['lib','outputcomponents.php',2687],['lib','outputcomponents.php',2860],['lib','outputcomponents.php',3030],['lib','outputcomponents.php',3134],['lib','outputcomponents.php',3201],['lib','outputcomponents.php',3329],['lib','outputcomponents.php',3613],['lib','outputcomponents.php',3642],['lib','outputcomponents.php',3668],['lib','outputcomponents.php',3690],['lib','outputcomponents.php',3719],['lib','outputcomponents.php',3751],['lib/google/src/Google/Service','Pagespeedonline.php',39],['lib/phpexcel/PHPExcel','Cell.php',114],['lib/dml','sqlsrv_native_moodle_recordset.php',40],['repository/wikimedia','wikimedia.php',35],['lib/phpexcel/PHPExcel/Style','Fill.php',81],['lib/google/src/Google/Service','Cloudresourcemanager.php',42],['lib/editor/tinymce/classes','plugin.php',49],['mod/wiki/parser/markups','html.php',21],['lib/simplepie/library/SimplePie/Parse','Date.php',536],['lib/horde/framework/Horde/Support','Inflector.php',115],['question/type/gapselect','question.php',55],['lib/google/src/Google','Config.php',33],['badges/criteria','award_criteria_activity.php',45],['backup/util/xml/output','xml_output.class.php',52],['backup/util/xml/output','xml_output.class.php',158],['course/format/topics','renderer.php',38],['lib/adodb/drivers','adodb-oci8po.inc.php',33],['lib/adodb/drivers','adodb-oci8po.inc.php',99],['mod/workshop/allocation/random','lib.php',52],['mod/workshop/allocation/random','lib.php',727],['backup/util/structure','base_final_element.class.php',38],['backup/util/structure','base_final_element.class.php',239],['backup/util/structure','base_final_element.class.php',256],['lib/htmlpurifier/HTMLPurifier','Zipper.php',25],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',41],['lib/mustache/src/Mustache/Exception','UnknownHelperException.php',22],['backup/util/settings/activity','activity_backup_setting.class.php',25],['lib/filestorage','tgz_packer.php',749],['lib/filestorage','tgz_packer.php',831],['tag/classes','index_builder.php',96],['lib/pear/HTML/QuickForm','reset.php',37],['lib/classes/lock','lock.php',55],['admin/roles/classes','assign_user_selector_base.php',40],['backup/util/output','output_controller.class.php',44],['question/type/randomsamatch','question.php',114],['lib/google/src/Google/Service','Customsearch.php',38],['lib/lessphp/Tree','Extend.php',28],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',215],['lib/google/src/Google/Service','TagManager.php',67],['question/type/gapselect/tests','edit_form_test.php',41],['mod/lesson','locallib.php',2004],['mod/lesson','locallib.php',2611],['backup/util/helper','restore_structure_parser_processor.class.php',41],['course','renderer.php',52],['backup/util/xml/parser/processors','selective_exact_parser_processor.class.php',35],['lib','modinfolib.php',429],['lib','modinfolib.php',1665],['lib','modinfolib.php',2492],['lib','tablelib.php',128],['lib','tablelib.php',1468],['lib','tablelib.php',1633],['lib','tablelib.php',1698],['user/filters','cohort.php',36],['user/filters','text.php',37],['lib','outputrenderers.php',120],['lib','outputrenderers.php',285],['lib','outputrenderers.php',408],['lib','outputrenderers.php',4578],['lib','outputrenderers.php',4831],['repository','lib.php',116],['repository','lib.php',533],['lib','adminlib.php',791],['lib','adminlib.php',1138],['lib','adminlib.php',1212],['lib','adminlib.php',1355],['lib','adminlib.php',1556],['lib','adminlib.php',1928],['lib','adminlib.php',2040],['lib','adminlib.php',2106],['lib','adminlib.php',2199],['lib','adminlib.php',2260],['lib','adminlib.php',2302],['lib','adminlib.php',2341],['lib','adminlib.php',2429],['lib','adminlib.php',2463],['lib','adminlib.php',2621],['lib','adminlib.php',2706],['lib','adminlib.php',2935],['lib','adminlib.php',3091],['lib','adminlib.php',3233],['lib','adminlib.php',3324],['lib','adminlib.php',3488],['lib','adminlib.php',3571],['lib','adminlib.php',3682],['lib','adminlib.php',3833],['lib','adminlib.php',4067],['lib','adminlib.php',4134],['lib','adminlib.php',4352],['lib','adminlib.php',4381],['lib','adminlib.php',4410],['lib','adminlib.php',4434],['lib','adminlib.php',4464],['lib','adminlib.php',4500],['lib','adminlib.php',4535],['lib','adminlib.php',4567],['lib','adminlib.php',4657],['lib','adminlib.php',4690],['lib','adminlib.php',4748],['lib','adminlib.php',4790],['lib','adminlib.php',4814],['lib','adminlib.php',4840],['lib','adminlib.php',4863],['lib','adminlib.php',4880],['lib','adminlib.php',4925],['lib','adminlib.php',4943],['lib','adminlib.php',5002],['lib','adminlib.php',5045],['lib','adminlib.php',5080],['lib','adminlib.php',5123],['lib','adminlib.php',5206],['lib','adminlib.php',5336],['lib','adminlib.php',5378],['lib','adminlib.php',5423],['lib','adminlib.php',5480],['lib','adminlib.php',5496],['lib','adminlib.php',5552],['lib','adminlib.php',5777],['lib','adminlib.php',5831],['lib','adminlib.php',5885],['lib','adminlib.php',5902],['lib','adminlib.php',5950],['lib','adminlib.php',5992],['lib','adminlib.php',6043],['lib','adminlib.php',6099],['lib','adminlib.php',6328],['lib','adminlib.php',6508],['lib','adminlib.php',6688],['lib','adminlib.php',6782],['lib','adminlib.php',6931],['lib','adminlib.php',7088],['lib','adminlib.php',7712],['lib','adminlib.php',8147],['lib','adminlib.php',8330],['lib','adminlib.php',8617],['lib','adminlib.php',8764],['lib','adminlib.php',8924],['lib','adminlib.php',9071],['lib','adminlib.php',9235],['lib','adminlib.php',9428],['lib','adminlib.php',9482],['lib','adminlib.php',9544],['lib','adminlib.php',9589],['lib','adminlib.php',9626],['backup/cc/cc_lib','cc_organization.php',47],['backup/cc/cc_lib','cc_organization.php',145],['lib/phpexcel/PHPExcel/Chart','DataSeriesValues.php',81],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',34],['question/type/numerical','questiontype.php',507],['auth/mnet','auth.php',35],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',68],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',29],['auth/imap','auth.php',35],['tag/classes/output','taglist.php',54],['lib','pdflib.php',161],['lib/phpexcel/PHPExcel/RichText','TextElement.php',35],['lib/dml','database_column_info.php',112],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportExtension.php',33],['mod/wiki/editors','wikieditor.php',36],['lib/lessphp/SourceMap','Base64VLQ.php',67],['repository/s3','lib.php',44],['admin/tool/uploadcourse/classes','course.php',111],['lib/google/src/Google/Service','Replicapoolupdater.php',51],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',25],['lib/bennu','iCalendar_components.php',21],['lib/bennu','iCalendar_components.php',333],['lib/bennu','iCalendar_components.php',355],['lib/bennu','iCalendar_components.php',433],['lib/bennu','iCalendar_components.php',513],['lib/bennu','iCalendar_components.php',551],['lib/bennu','iCalendar_components.php',602],['lib/bennu','iCalendar_components.php',659],['lib/bennu','iCalendar_components.php',679],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',102],['mod/feedback/item','feedback_item_class.php',28],['lib/adodb/drivers','adodb-mssql_n.inc.php',245],['lib','badgeslib.php',133],['lib/pear/HTML/QuickForm','text.php',38],['lib/simplepie/library/SimplePie','Enclosure.php',219],['calendar/classes','rrule_manager.php',182],['auth/webservice','auth.php',35],['lib','outputrequirementslib.php',171],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',44],['lib','questionlib.php',1261],['lib','questionlib.php',1505],['lib','uploadlib.php',40],['lib/spout/src/Spout/Writer/Common/Helper','ZipHelper.php',28],['lib/google/src/Google/Service','Cloudsearch.php',40],['backup/util/structure','backup_nested_element.class.php',44],['lib/spout/src/Spout/Writer/Common','Sheet.php',39],['question/behaviour','behaviourbase.php',50],['blocks/rss_client/classes/output','footer.php',47],['lib/dtl','file_xml_database_importer.php',34],['admin/roles/classes','capability_table_with_risks.php',45],['lib/adodb/drivers','adodb-mssql.inc.php',110],['lib/adodb/drivers','adodb-mssql.inc.php',870],['lib/adodb/drivers','adodb-mssql.inc.php',1077],['lib/google/src/Google/Service','Bigquery.php',62],['lib/google/src/Google/Service','ShoppingContent.php',50],['mod/lti','OAuth.php',73],['mod/lti','OAuth.php',89],['mod/lti','OAuth.php',244],['mod/lti','OAuth.php',499],['repository/equella','lib.php',42],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',80],['backup/cc/cc_lib','cc_converter_quiz.php',33],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',60],['lib/phpexcel/PHPExcel/Shared/trend','polynomialBestFitClass.php',199],['backup/util/helper','restore_decode_processor.class.php',47],['backup/util/helper','restore_decode_processor.class.php',182],['cache/classes','helper.php',90],['lib/simplepie/library/SimplePie','Credit.php',81],['lib/classes','chart_series.php',62],['lib/classes/dml','recordset_walk.php',64],['lib/google/src/Google/Service','Webmasters.php',47],['lib/tcpdf/include/barcodes','qrcode.php',631],['backup/moodle2','backup_settingslib.php',42],['backup/moodle2','backup_settingslib.php',138],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',40],['course/tests/fixtures','course_capability_assignment.php',60],['mod/forum/classes','subscriber_selector_base.php',53],['lib','blocklib.php',54],['lib','blocklib.php',152],['report/loglive/classes','table_log.php',50],['lib','navigationlib.php',147],['lib','navigationlib.php',1015],['lib','navigationlib.php',2825],['lib','navigationlib.php',3086],['lib','navigationlib.php',3412],['lib','navigationlib.php',3459],['lib','navigationlib.php',4888],['lib','navigationlib.php',5070],['lib/phpexcel/PHPExcel/Shared/JAMA','CholeskyDecomposition.php',41],['grade/report/history/classes/output','user_button.php',40],['user/filters','courserole.php',34],['lib/phpexcel/PHPExcel','IOFactory.php',69],['lib/lessphp/Tree','Color.php',15],['lib/phpexcel/PHPExcel/Worksheet','MemoryDrawing.php',70],['lib/adodb/drivers','adodb-vfp.inc.php',72],['lib/horde/framework/Horde/Support','Backtrace.php',20],['lib/google/src/Google/Service','Clouddebugger.php',50],['lib/horde/framework/Horde/Exception','NotFound.php',15],['admin/tool/lp/classes/output','user_competency_course_navigation.php',55],['lib/lessphp/Tree','UnicodeDescriptor.php',14],['lib/phpexcel/PHPExcel/Worksheet','PageSetup.php',277],['grade/report/singleview/classes/local/ui','bulk_insert.php',40],['lib','mathslib.php',45],['lib/filestorage','tgz_extractor.php',119],['lib/horde/framework/Horde/Imap/Client/Interaction/Command','Continuation.php',42],['lib/horde/framework/Horde/Imap/Client','Exception.php',247],['filter/emoticon/tests','filter_test.php',68],['mnet/xmlrpc','xmlparser.php',15],['lib/spout/src/Spout/Reader/XLSX','Sheet.php',31],['admin/roles/classes','capability_table_base.php',51],['lib/simplepie/library/SimplePie','Item.php',82],['lib/form','selectgroups.php',57],['auth/shibboleth','auth.php',38],['admin/tool/langimport/classes','controller.php',48],['lib/form','warning.php',49],['lib/filestorage','stored_file.php',63],['grade/grading/form/guide','guideeditor.php',49],['lib/pear/HTML/QuickForm','group.php',80],['backup/moodle2','restore_subplugin.class.php',45],['grade/export','lib.php',60],['grade/export','lib.php',625],['lib/phpexcel/PHPExcel/Style','NumberFormat.php',98],['backup/moodle2','backup_section_task.class.php',40],['lib/htmlpurifier/HTMLPurifier','Config.php',100],['lib','flickrlib.php',53],['mod/assign/classes/output','grading_app.php',59],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',47],['user/profile/field/menu','field.class.php',39],['lib/spout/src/Spout/Writer/Common/Internal','AbstractWorkbook.php',30],['lib/portfolio','exporter.php',113],['lib','ddllib.php',80],['lib','ddllib.php',93],['lib','ddllib.php',107],['lib','ddllib.php',126],['lib','ddllib.php',140],['lib/horde/framework/Horde/Crypt','Blowfish.php',54],['lib/horde/framework/Horde','Secret.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','Integer.php',36],['lib/classes/update','info.php',48],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',31],['lib/lessphp/Tree','Anonymous.php',21],['admin/tool/lp/classes','course_competencies_form_element.php',43],['lib/lessphp/Tree','Comment.php',17],['auth/cas/CAS/CAS','OutOfSequenceBeforeAuthenticationCallException.php',47],['question/type/calculatedsimple','edit_calculatedsimple_form.php',72],['lib/adodb/drivers','adodb-mysql.inc.php',54],['lib/adodb/drivers','adodb-mysql.inc.php',717],['lib/adodb/drivers','adodb-mysql.inc.php',880],['enrol/ldap','lib.php',43],['mod/quiz/report/statistics','statistics_table.php',45],['lib/form','listing.php',68],['lib/google/src/Google/Service','Container.php',43],['mod/quiz','accessmanager.php',45],['lib/classes/message/inbound','processing_failed_exception.php',36],['blocks/online_users/classes','fetcher.php',45],['lib/pear/HTML/QuickForm','checkbox.php',48],['auth/cas/CAS/CAS','OutOfSequenceBeforeProxyException.php',48],['mod/lti/service/toolproxy/classes/local/service','toolproxy.php',41],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','URI.php',15],['lib/classes','chart_axis.php',65],['mod/glossary/classes','entry_query_builder.php',83],['mod/feedback/item/label','lib.php',26],['lib/adodb/drivers','adodb-mssqlnative.inc.php',131],['lib/adodb/drivers','adodb-mssqlnative.inc.php',847],['lib/adodb/drivers','adodb-mssqlnative.inc.php',1099],['lib/horde/framework/Horde/Imap/Client','Ids.php',78],['lib/form','editor.php',62],['lib','environmentlib.php',1258],['mod/workshop','fileinfolib.php',43],['mod/workshop','fileinfolib.php',198],['mod/feedback/classes','templates_table.php',39],['tag/classes','manage_table.php',44],['lib/adodb/drivers','adodb-odbc_db2.inc.php',115],['lib/adodb/drivers','adodb-odbc_db2.inc.php',309],['backup/cc/cc_lib/gral_lib','cssparser.php',21],['lib/horde/framework/Horde/Support','Array.php',21],['lib/google/src/Google/Service','GroupsMigration.php',40],['admin/tool/lp/classes/output','user_evidence_list_page.php',61],['lib/google/src/Google/Service','Audit.php',39],['lib/simplepie/library/SimplePie','File.php',68],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',62],['enrol/lti/classes','manage_table.php',62],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',69],['question/type','questionbase.php',124],['question/type','questionbase.php',438],['question/type','questionbase.php',531],['question/type','questionbase.php',750],['question/type','questionbase.php',835],['question/type','questionbase.php',868],['question/type','questionbase.php',914],['question/type','questionbase.php',1013],['question/type/ddimageortext','question.php',64],['question/type/ddimageortext','question.php',122],['lib','excellib.class.php',47],['lib','excellib.class.php',155],['lib','excellib.class.php',456],['lib/minify/lib','CSSmin.php',43],['lib/dml','moodle_temptables.php',51],['lib/minify/lib/Minify/Cache','ZendPlatform.php',23],['backup/util/xml/parser','progressive_parser.class.php',79],['backup/util/xml/parser','progressive_parser.class.php',305],['blocks/rss_client/classes/output','block.php',47],['question/type/ddmarker','question.php',417],['question/type/ddmarker','question.php',469],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Percentage.php',18],['admin/tool/lp/classes/output','user_competency_summary_in_course.php',51],['backup/util/helper','convert_helper.class.php',378],['lib/classes/update','validator.php',265],['lib/lessphp/Tree','Attribute.php',16],['admin/tool/generator/classes','backend.php',84],['backup/util/loggers','file_logger.class.php',35],['lib/adodb','adodb-exceptions.inc.php',30],['lib/google/src/Google','Client.php',70],['user/filters','profilefield.php',36],['backup/util/helper','restore_inforef_parser_processor.class.php',37],['cache/tests/fixtures','lib.php',326],['mod/lti/service/profile/classes/local/resource','profile.php',43],['competency/classes','invalid_persistent_exception.php',38],['backup/util/plan','backup_plan.class.php',36],['backup/util/plan','backup_plan.class.php',130],['lib/phpexcel/PHPExcel/Writer/Excel2007','WriterPart.php',63],['backup/util/settings','setting_dependency.class.php',68],['backup/util/settings','setting_dependency.class.php',175],['backup/util/settings','setting_dependency.class.php',328],['backup/util/settings','setting_dependency.class.php',439],['backup/util/settings','setting_dependency.class.php',465],['backup/util/settings','setting_dependency.class.php',491],['backup/util/settings','setting_dependency.class.php',556],['backup/util/xml','xml_writer.class.php',57],['backup/util/xml','xml_writer.class.php',284],['enrol/imsenterprise','locallib.php',38],['enrol/imsenterprise','locallib.php',115],['lib/dml','moodle_database.php',139],['search/classes','base.php',69],['admin/tool/lp/classes/output','competency_summary.php',54],['lib','upgradelib.php',45],['lib','upgradelib.php',61],['lib','upgradelib.php',76],['lib','upgradelib.php',94],['lib','upgradelib.php',111],['lib/htmlpurifier/HTMLPurifier/AttrTransform','NameSync.php',11],['mod/workshop/form/rubric','lib.php',105],['grade','lib.php',103],['grade','lib.php',927],['grade','lib.php',1089],['grade','lib.php',2053],['grade','lib.php',2213],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',32],['lib/phpexcel/PHPExcel/Reader/Excel5','RC4.php',35],['lib/google/src/Google/Service','Datastore.php',46],['admin/tool/lpmigrate/classes','framework_processor.php',98],['lib/dtl','database_importer.php',61],['lib/horde/framework/Horde/Imap/Client/Password','Xoauth2.php',44],['badges/lib','awardlib.php',55],['backup/util/helper','backup_array_iterator.class.php',39],['admin/tool/monitor/classes','subscription.php',43],['question/type/calculated','edit_calculated_form.php',51],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','FileBasedStrategy.php',57],['lib/form','datetimeselector.php',72],['lib/horde/framework/Horde/Imap/Client','Base.php',153],['lib/classes','collator.php',58],['admin/tool/lp/classes','course_competency_statistics.php',48],['lib/google/src/Google/Service','Storage.php',57],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',28],['lib/lessphp/Tree','Paren.php',14],['mod/lti/classes','service_exception_handler.php',63],['lib/tcpdf/include/barcodes','pdf417.php',523],['mod/assign/feedback/offline','importgradeslib.php',66],['lib/filestorage','file_exceptions.php',36],['lib/filestorage','file_exceptions.php',57],['lib/filestorage','file_exceptions.php',89],['lib/filestorage','file_exceptions.php',108],['lib/filestorage','file_exceptions.php',129],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',100],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',17],['question/engine/upgrade','upgradelib.php',283],['question/engine/upgrade','upgradelib.php',384],['question/type/numerical','question.php',323],['lib/pear/PEAR','Exception.php',107],['course/format','renderer.php',44],['lib/dml','oci_native_moodle_recordset.php',34],['question/behaviour','behaviourtypebase.php',133],['lib/pear/HTML','QuickForm.php',246],['lib/pear/HTML','QuickForm.php',1979],['backup/util/structure','base_atom.class.php',41],['backup/util/structure','base_atom.class.php',114],['backup/util/structure','base_atom.class.php',135],['backup/util/structure','base_atom.class.php',156],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',39],['lib/google/src/Google/Auth','LoginTicket.php',37],['lib/adodb/drivers','adodb-csv.inc.php',41],['lib/adodb/drivers','adodb-csv.inc.php',196],['user/filters','yesno.php',33],['mod/wiki/parser','parser.php',98],['lib/htmlpurifier/HTMLPurifier/Token','Comment.php',19],['lib/phpexcel/PHPExcel/Calculation','FormulaParser.php',87],['backup/cc/cc_lib','cc_assesment_truefalse.php',27],['lib/htmlpurifier/HTMLPurifier','Encoder.php',10],['admin/tool/lpmigrate/classes/form','migrate_framework.php',45],['backup/util/xml/parser/tests','parser_test.php',797],['lib/htmlpurifier/HTMLPurifier/AttrTransform','EnumToCSS.php',34],['lib/tests','medialib_test.php',644],['lib/google/src/Google/Service','QPXExpress.php',39],['tag/classes/output','tagname.php',41],['lib/mustache/src/Mustache','Context.php',20],['lib/adodb/drivers','adodb-oracle.inc.php',32],['lib/adodb/drivers','adodb-oracle.inc.php',224],['backup/moodle2','restore_section_task.class.php',42],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Composite.php',25],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Nofollow.php',16],['mod/forum/classes/output','forum_post.php',110],['admin/tool/assignmentupgrade','locallib.php',50],['admin/tool/assignmentupgrade','locallib.php',93],['repository/googledocs','lib.php',65],['cache/stores/memcache','lib.php',120],['lib/filestorage','file_storage.php',78],['admin/tool/monitor/classes/output/managerules','renderable.php',56],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',45],['lib/form','duration.php',55],['lib','outputlib.php',480],['lib','outputlib.php',2038],['filter/tex','latex.php',13],['backup/moodle2','backup_course_task.class.php',39],['lib/adodb','adodb.inc.php',310],['lib/adodb','adodb.inc.php',3035],['lib/adodb','adodb.inc.php',3160],['lib/adodb','adodb.inc.php',3242],['lib/adodb','adodb.inc.php',4353],['lib/horde/framework/Horde/Support','Randomid.php',26],['lib/google/src/Google/Logger','File.php',51],['admin/roles/classes','allow_role_page.php',37],['mod/quiz/report/overview','overview_table.php',41],['lib/lessphp/Tree','Keyword.php',17],['lib/htmlpurifier/HTMLPurifier/Node','Comment.php',19],['question/type/ddmarker','questiontype.php',48],['mod/folder','renderer.php',159],['lib','portfoliolib.php',101],['tag/classes/output','tagcollsearchable.php',40],['webservice/soap/classes','wsdl.php',88],['lib/lessphp/Exception','Parser.php',30],['badges','renderer.php',973],['badges','renderer.php',1014],['badges','renderer.php',1078],['badges','renderer.php',1111],['badges','renderer.php',1137],['competency/classes/external','exporter.php',56],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',47],['lib/google/src/Google/Service','Genomics.php',63],['lib/phpexcel/PHPExcel/Writer','PDF.php',38],['lib/phpexcel/PHPExcel/Shared/trend','exponentialBestFitClass.php',125],['lib/google/src/Google/Service','Games.php',60],['backup/converter/moodle1','lib.php',725],['backup/converter/moodle1','lib.php',865],['backup/converter/moodle1','lib.php',1145],['backup/converter/moodle1','lib.php',1190],['backup/converter/moodle1','lib.php',1480],['backup/util/helper','restore_logs_processor.class.php',45],['backup/util/helper','restore_logs_processor.class.php',141],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Input.php',14],['lib/google/src/Google/Service','Licensing.php',40],['mod/workshop/form/comments','lib.php',99],['backup/util/settings/section','section_backup_setting.class.php',25],['lib/htmlpurifier/HTMLPurifier','Doctype.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Font.php',22],['lib/google/src/Google/Service','Fitness.php',58],['blocks/private_files','renderer.php',83],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',51],['enrol/flatfile','adminlib.php',35],['lib/xmldb','xmldb_object.php',55],['lib/google/src/Google/Service','Reports.php',47],['question/classes/statistics/responses','analysis_for_actual_response.php',70],['auth/pam','auth.php',53],['lib/horde/framework/Horde','Stream.php',50],['comment','lib.php',100],['lib/htmlpurifier/HTMLPurifier','URIParser.php',10],['lib/htmlpurifier/HTMLPurifier/Node','Text.php',35],['lib/phpexcel/PHPExcel/Worksheet','RowDimension.php',53],['lib/google/src/Google/Service','Gmail.php',64],['lib/google/src/Google/Service','Taskqueue.php',44],['lib/minify/lib/Minify','ImportProcessor.php',48],['lib/horde/framework/Horde/Mime','Related.php',32],['blocks','moodleblock.class.php',111],['lib/tcpdf','tcpdf_parser.php',92],['backup/util/plan','restore_structure_step.class.php',46],['blocks/rss_client/classes/output','channel_image.php',61],['lib/pear/HTML/QuickForm','hierselect.php',105],['question/type/numerical/tests','form_test.php',40],['badges/lib','backpacklib.php',40],['mod/workshop/allocation/manual','lib.php',51],['mod/quiz/report/responses','last_responses_table.php',39],['lib/simplepie','autoloader.php',62],['lib/spout/src/Spout/Common/Helper','StringHelper.php',21],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',121],['lib/pear/Crypt','CHAP.php',82],['lib/pear/Crypt','CHAP.php',170],['lib/pear/Crypt','CHAP.php',424],['lib/spout/src/Spout/Writer/Common/Helper','AbstractStyleHelper.php',22],['backup/util/xml/parser/processors','progressive_parser_processor.class.php',57],['mod/quiz/classes/question','qubaids_for_users_attempts.php',37],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',63],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',77],['lib/simplepie/library/SimplePie','gzdecode.php',186],['mod/wiki','renderer.php',540],['lib/adodb','adodb-active-recordx.inc.php',138],['availability/classes','result.php',46],['lib','accesslib.php',5352],['lib','accesslib.php',5897],['lib','accesslib.php',6167],['lib','accesslib.php',6408],['lib','accesslib.php',6595],['lib','accesslib.php',6827],['lib','accesslib.php',7049],['lib','accesslib.php',7291],['lib/phpexcel/PHPExcel/Shared/OLE','PPS.php',110],['grade/grading/form','lib.php',82],['grade/grading/form','lib.php',766],['question/engine','questionusage.php',78],['question/engine','questionusage.php',973],['auth/manual','auth.php',46],['question/engine/upgrade','behaviourconverters.php',78],['mod/wiki/diff','diff_nwiki.php',35],['mod/wiki/diff','diff_nwiki.php',50],['mod/wiki/diff','diff_nwiki.php',63],['mod/wiki/diff','diff_nwiki.php',76],['mod/wiki/diff','diff_nwiki.php',495],['mod/wiki/diff','diff_nwiki.php',640],['mod/wiki/diff','diff_nwiki.php',850],['mod/wiki/diff','diff_nwiki.php',901],['mod/wiki/diff','diff_nwiki.php',953],['lib/adodb/drivers','adodb-proxy.inc.php',28],['lib/classes/lock','file_lock_factory.php',57],['lib/google/src/Google/Auth','OAuth2.php',55],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',17],['lib/filebrowser','file_info_context_module.php',47],['auth/none','auth.php',34],['lib/simplepie/library/SimplePie/Cache','Base.php',70],['lib/htmlpurifier/HTMLPurifier','Queue.php',24],['lib/horde/framework/Horde/Text','Flowed.php',75],['admin/tool/log/store/legacy/classes/log','store.php',33],['lib/mustache/src/Mustache','HelperCollection.php',19],['backup/util/structure','backup_structure_processor.class.php',45],['backup/util/structure','backup_structure_processor.class.php',133],['admin/tool/lp/classes/output','related_competencies.php',47],['mod/quiz/classes/question/bank','custom_view.php',44],['files','renderer.php',1083],['lib/form','text.php',47],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',398],['backup/cc','cc112moodle.php',59],['admin/tool/cohortroles/classes/output','cohort_role_assignments_table.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Envelope.php',46],['lib/google/src/Google/Service','Logging.php',39],['lib/lessphp/Tree','Expression.php',16],['mod/lti/classes/local/ltiservice','service_base.php',63],['lib/phpexcel/PHPExcel/Reader','HTML.php',118],['search/engine/solr/classes','schema.php',60],['backup/util/xml/parser/processors','simplified_parser_processor.class.php',46],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',50],['lib/adodb/drivers','adodb-ado5.inc.php',42],['lib/adodb/drivers','adodb-ado5.inc.php',380],['mod/assign/feedback/editpdf/classes','comment.php',58],['cache/classes','interfaces.php',473],['lib/phpexcel/PHPExcel/Worksheet','Protection.php',157],['repository/merlot','lib.php',37],['lib/adodb/drivers','adodb-firebird.inc.php',69],['backup/util/settings','backup_setting.class.php',43],['lib/adodb/drivers','adodb-fbsql.inc.php',28],['lib/adodb/drivers','adodb-fbsql.inc.php',167],['mnet/xmlrpc','serverlib.php',674],['webservice/soap','lib.php',45],['admin/tool/log/store/database/classes/log','store.php',47],['lib/google/src/Google/Service','Doubleclicksearch.php',43],['lib/form','passwordunmask.php',46],['lib/lessphp/Tree','Variable.php',20],['report/log/classes','renderable.php',96],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',43],['question/classes/bank','view.php',70],['grade/report/singleview/classes/local/ui','range.php',38],['lib/simplepie/library/SimplePie/Cache','MySQL.php',80],['admin/roles/classes','define_role_table_basic.php',31],['backup/cc/cc_lib','cc_converter_resource.php',28],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',78],['blocks/rss_client','editfeed.php',36],['admin/tool/lpmigrate/classes/output','migrate_framework_results.php',55],['blocks/lp/classes/output','competencies_to_review_page.php',49],['lib/horde/framework/Horde/Crypt/Blowfish/Php','Base.php',318],['backup/util/loggers','base_logger.class.php',42],['backup/util/loggers','base_logger.class.php',187],['mod/assign/feedback/file','renderable.php',44],['backup/cc/cc_lib','cc_utils.php',313],['backup/cc/cc_lib','cc_utils.php',381],['backup/cc/cc_lib','cc_utils.php',437],['lib/adodb/drivers','adodb-db2.inc.php',66],['lib/adodb/drivers','adodb-db2.inc.php',731],['lib/adodb','adodb-xmlschema03.inc.php',136],['lib/adodb','adodb-xmlschema03.inc.php',270],['lib/adodb','adodb-xmlschema03.inc.php',678],['lib/adodb','adodb-xmlschema03.inc.php',823],['lib/adodb','adodb-xmlschema03.inc.php',1081],['lib/adodb','adodb-xmlschema03.inc.php',1399],['repository/youtube','lib.php',58],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',38],['auth/cas/CAS/CAS','GracefullTerminationException.php',48],['lib/adodb/drivers','adodb-sybase_ase.inc.php',25],['lib/adodb/drivers','adodb-sybase_ase.inc.php',115],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Background.php',20],['lib/adodb','adodb-memcache.lib.inc.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','FrameTarget.php',19],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',118],['lib/minify/lib/MrClay/Cli','Arg.php',82],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',117],['lib/simplepie','moodle_simplepie.php',50],['lib/simplepie','moodle_simplepie.php',121],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','FontFamily.php',11],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',80],['lib/spout/src/Spout/Common/Helper','FileSystemHelper.php',22],['lib/pear/HTML/QuickForm','button.php',37],['lib/google/src/Google/Service','Autoscaler.php',46],['lib/mustache/src/Mustache','Engine.php',63],['lib/google/src/Google/Http','MediaFileUpload.php',75],['lib/phpexcel/PHPExcel','Worksheet.php',327],['mod/assign','gradingtable.php',68],['lib/google/src/Google/Service','AdExchangeSeller.php',53],['question/engine/tests','helpers.php',582],['question/engine/tests','helpers.php',594],['question/engine/tests','helpers.php',608],['question/engine/tests','helpers.php',623],['question/engine/tests','helpers.php',637],['question/engine/tests','helpers.php',652],['question/engine/tests','helpers.php',665],['question/engine/tests','helpers.php',676],['question/engine/tests','helpers.php',1196],['repository/webdav','lib.php',38],['tag/classes/output','tagisstandard.php',39],['lib/google/src/Google/Service','Appsactivity.php',52],['badges/criteria','award_criteria_course.php',47],['lib','searchlib.php',53],['lib','searchlib.php',95],['lib/lessphp/Output','Mapped.php',39],['availability/classes','tree.php',118],['lib/lessphp/Tree','Javascript.php',20],['lib/horde/framework/Horde/Imap/Client','Cache.php',53],['lib/htmlpurifier/HTMLPurifier','AttrCollections.php',16],['lib/mustache/src/Mustache/Loader','InlineLoader.php',56],['repository/url','lib.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',293],['lib/lessphp/Tree','Ruleset.php',45],['tag/classes/output','tagindex.php',52],['backup/util/ui','backup_ui_stage.class.php',43],['backup/util/ui','backup_ui_stage.class.php',79],['backup/util/ui','backup_ui_stage.class.php',234],['backup/util/ui','backup_ui_stage.class.php',387],['backup/util/ui','backup_ui_stage.class.php',516],['backup/util/ui','backup_ui_stage.class.php',575],['grade/report/singleview/classes/local/screen','screen.php',67],['lib/tcpdf/include/barcodes','datamatrix.php',229],['lib/horde/framework/Horde/Imap/Client/Socket','Catenate.php',37],['lib/google/src/Google/Service','Prediction.php',51],['lib/classes/output','notification.php',101],['lib/lessphp/Tree','Unit.php',16],['backup/util/settings/course','course_backup_setting.class.php',25],['lib/spout/src/Spout/Writer','AbstractWriter.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','DenyElementDecorator.php',21],['lib','outputfactories.php',120],['lib','outputfactories.php',367],['lib','dtllib.php',66],['mod/assign','assignmentplugin.php',50],['mnet/service/enrol','locallib.php',48],['mnet/service/enrol','locallib.php',466],['mnet/service/enrol','locallib.php',537],['backup/cc/cc_lib','cc_version11.php',57],['availability/condition/completion/classes','condition.php',48],['admin/roles/classes','allow_override_page.php',31],['mod/workshop/allocation','lib.php',103],['lib/htmlpurifier/HTMLPurifier/AttrTransform','BoolToCSS.php',24],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',59],['lib/spout/src/Spout/Reader/Wrapper','SimpleXMLElement.php',23],['lib/google/src/Google/Service','SiteVerification.php',43],['lib/phpexcel/PHPExcel/Calculation','Function.php',64],['availability/classes','capability_checker.php',49],['lib/google/src/Google/Service','Drive.php',76],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',12],['lib/phpexcel/PHPExcel/Shared/JAMA','LUDecomposition.php',56],['lib','setuplib.php',67],['lib','setuplib.php',113],['lib','setuplib.php',165],['lib','setuplib.php',184],['lib','setuplib.php',199],['lib','setuplib.php',219],['lib','setuplib.php',249],['lib','setuplib.php',271],['lib','setuplib.php',287],['lib','setuplib.php',309],['lib','setuplib.php',328],['lib','setuplib.php',346],['lib/form','textarea.php',50],['webservice/soap','locallib.php',57],['availability/classes','info.php',55],['lib/tcpdf','tcpdf_barcodes_1d.php',58],['lib/spout/src/Spout/Reader/XLSX/Helper','SheetHelper.php',49],['filter/urltolink/tests','filter_test.php',209],['lib/simplepie/library/SimplePie','Category.php',81],['admin/tool/lp/classes/output','manage_competencies_page.php',65],['lib/markdown','Markdown.php',99],['mod/assign','locallib.php',160],['mod/assign','locallib.php',8131],['lib/adodb/drivers','adodb-ldap.inc.php',48],['lib/adodb/drivers','adodb-ldap.inc.php',297],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',32],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',373],['lib','odslib.class.php',42],['lib','odslib.class.php',124],['lib','odslib.class.php',422],['lib','odslib.class.php',827],['lib/horde/framework/Horde/Crypt/Blowfish','Base.php',56],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',36],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',42],['lib/lessphp/Tree','Quoted.php',20],['mod/lesson','mod_form.php',36],['blocks/rss_client/classes/output','item.php',89],['lib/google/src/Google/Service','IdentityToolkit.php',38],['lib/horde/framework/Horde/Stream','Temp.php',25],['tag/classes/output','tagflag.php',39],['admin/tool/monitor/classes/output/managesubs','rules.php',56],['lib/htmlpurifier/HTMLPurifier/ChildDef','Table.php',57],['lib/behat/form_field','behat_form_field.php',59],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',93],['lib/spout/src/Spout/Reader/ODS/Helper','CellValueFormatter.php',42],['tag/classes','collections_table.php',36],['lib/google/src/Google/Service','Spectrum.php',38],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Length.php',19],['admin/tool/lp/classes/output','user_competency_summary.php',49],['lib/phpexcel/PHPExcel','NamedRange.php',65],['lib/pear/HTML/QuickForm','image.php',36],['lib/htmlpurifier/HTMLPurifier/AttrDef/URI','Host.php',15],['lib/form','searchableselector.php',44],['lib/phpexcel/PHPExcel/Shared/JAMA','SingularValueDecomposition.php',52],['lib/adodb/drivers','adodb-oci805.inc.php',51],['lib/google/src/Google','Service.php',28],['lib/google/src/Google/IO','Abstract.php',50],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',46],['lib/form','header.php',45],['question/type/randomsamatch/tests','helper.php',121],['mod/workshop/form/accumulative','lib.php',99],['lib/phpexcel/PHPExcel/Shared/trend','linearBestFitClass.php',89],['lib/form','submit.php',41],['report/log/classes','table_log.php',45],['admin/roles/classes','admins_potential_selector.php',30],['question/classes/engine/variants','least_used_strategy.php',51],['question/engine/upgrade','logger.php',42],['question/engine/upgrade','logger.php',87],['mod/data','lib.php',68],['mod/data','lib.php',2278],['mod/data','lib.php',2552],['mod/data','lib.php',2573],['backup/util/xml/parser/processors','grouped_parser_processor.class.php',67],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportPop3.php',26],['mod/scorm','renderer.php',129],['lib/phpunit/classes','advanced_testcase.php',45],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',41],['backup/cc/cc_lib','cc_version1.php',57],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','LinkTypes.php',21],['tag/classes','areas_table.php',36],['lib/phpexcel/PHPExcel/Shared/trend','powerBestFitClass.php',125],['lib/portfolio/formats/leap2a','lib.php',62],['lib/portfolio/formats/leap2a','lib.php',258],['lib/portfolio/formats/leap2a','lib.php',503],['lib/google/src/Google/Service','Proximitybeacon.php',42],['lib/pear','PEAR.php',139],['lib/pear','PEAR.php',818],['competency/classes/external','persistent_exporter.php',42],['lib/google/src/Google/Service','Groupssettings.php',40],['lib/phpexcel/PHPExcel/Reader','CSV.php',87],['lib/horde/framework/Horde/Exception','LastError.php',16],['lib/google/src/Google/Service','Directory.php',134],['lib/google/src/Google/Service','Fusiontables.php',48],['question/type/missingtype','edit_missingtype_form.php',38],['lib/google/src/Google/Service','AdSenseHost.php',49],['lib/lessphp/Tree','Directive.php',20],['auth/ldap','auth.php',119],['auth/cas/CAS/CAS','CookieJar.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',245],['availability/condition/date/classes','condition.php',52],['lib/horde/framework/Horde/Mime','Mail.php',93],['lib','outputactions.php',60],['lib','outputactions.php',91],['lib','outputactions.php',148],['lib/horde/framework/Horde/Crypt/Blowfish','Mcrypt.php',47],['lib/classes','string_manager_standard.php',53],['repository/skydrive','microsoftliveapi.php',50],['user/filters','globalrole.php',35],['enrol/lti/ims-blti','OAuth.php',16],['enrol/lti/ims-blti','OAuth.php',32],['enrol/lti/ims-blti','OAuth.php',187],['enrol/lti/ims-blti','OAuth.php',451],['course/classes/output','course_module_name.php',46],['lib/google/src/Google/Service','Plus.php',52],['lib/horde/framework/Horde/Mime','Mdn.php',35],['lib/pear/HTML/QuickForm','html.php',36],['repository/s3','S3.php',193],['repository/s3','S3.php',2018],['repository/s3','S3.php',2374],['lib/spout/src/Spout/Reader/XLSX/Helper','SharedStringsHelper.php',39],['question/classes/bank/search','hidden_condition.php',42],['lib/htmlpurifier/HTMLPurifier/ChildDef','Empty.php',22],['lib/pear/HTML/QuickForm','element.php',73],['question/classes/statistics/responses','analysis_for_subpart.php',50],['admin/tool/log/classes','setting_managestores.php',30],['lib/google/src/Google/Service','Mirror.php',49],['lib/adodb/drivers','adodb-db2ora.inc.php',80],['lib/minify/lib/HTTP','Encoder.php',75],['mod/feedback/classes','completion.php',47],['admin/tool/uploadcourse/classes','processor.php',122],['lib/lessphp','Parser.php',78],['lib/adodb/drivers','adodb-sapdb.inc.php',36],['lib/adodb/drivers','adodb-sapdb.inc.php',179],['lib/ddl','sql_generator.php',175],['lib/google/src/Google/Service','AndroidEnterprise.php',51],['admin/tool/lp/classes/output','template_competencies_page.php',70],['lib/horde/framework/Horde/Support','ObjectStub.php',29],['mod/assignment/backup/moodle1','lib.php',223],['blocks','edit_form.php',47],['lib/simplepie/library/SimplePie/Cache','Memcache.php',81],['mod/quiz/report/statistics','statistics_question_table.php',49],['mod/workshop/form/numerrors','lib.php',102],['mod/quiz/classes','repaginate.php',49],['lib/classes/session','memcached.php',51],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','Root.php',43],['lib/phpexcel/PHPExcel/Writer/PDF','Core.php',206],['mod/workshop','mod_form.php',43],['mod/assign/feedback/editpdf/fpdi','pdf_context.php',48],['availability/condition/profile/classes','condition.php',73],['lib/horde/framework/Horde/Imap/Client','DateTime.php',29],['auth/cas/CAS/CAS','Client.php',862],['lib/xhprof','xhprof_moodle.php',788],['lib/dtl','file_xml_database_exporter.php',36],['course','lib.php',3061],['lib/adodb/drivers','adodb-mssqlpo.inc.php',54],['lib/xmldb','xmldb_table.php',49],['lib/adodb/perf','perf-postgres.inc.php',92],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Filter.php',15],['question/type/ddmarker','shapes.php',40],['question/type/ddmarker','shapes.php',203],['question/type/ddmarker','shapes.php',267],['question/type/ddmarker','shapes.php',332],['question/type/ddmarker','shapes.php',470],['mod/lti/classes/local/ltiservice','response.php',58],['backup/util/helper','restore_users_parser_processor.class.php',43],['lib/pear/HTML','Common.php',79],['mod/glossary','locallib.php',481],['lib/adodb/perf','perf-mssqlnative.inc.php',70],['lib/adodb/perf','perf-mssql.inc.php',70],['backup/util/plan','base_plan.class.php',39],['backup/util/plan','base_plan.class.php',215],['backup/util/plan','restore_task.class.php',32],['backup/util/plan','restore_task.class.php',121],['lib/classes/event','base.php',124],['lib/form','checkbox.php',46],['admin/roles/classes','permissions_table.php',38],['lib/pear/HTML/QuickForm','submit.php',37],['auth/fc','auth.php',37],['enrol/ldap','settingslib.php',32],['enrol/ldap','settingslib.php',90],['enrol/ldap','settingslib.php',204],['lib/minify/lib/Minify/Cache','Memcache.php',22],['lib/lessphp/Tree','Condition.php',18],['admin/tool/lp/classes/output','plans_page.php',59],['lib/mustache/src/Mustache','Autoloader.php',19],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',52],['lib/phpexcel/PHPExcel','Comment.php',93],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','AlphaValue.php',6],['lib/lessphp/Tree','Url.php',17],['mod/lesson','override_form.php',58],['lib/form','button.php',45],['admin/tool/lp/classes/output','manage_templates_page.php',56],['lib/google/src/Google/Service','Playmoviespartner.php',44],['backup/util/ui','base_ui_stage.class.php',67],['backup/cc/cc_lib','cc_converters.php',75],['lib/dtl','database_mover.php',33],['enrol','locallib.php',125],['enrol','locallib.php',1256],['enrol','locallib.php',1379],['enrol','locallib.php',1430],['enrol','locallib.php',1463],['lib/htmlpurifier/HTMLPurifier','URI.php',58],['backup/moodle2','restore_course_task.class.php',41],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',40],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',221],['lib','xmlize.php',31],['lib','googleapi.php',52],['lib','googleapi.php',243],['grade/report/singleview/classes/local/ui','element.php',47],['lib/html2text','lib.php',43],['user/filters','lib.php',52],['user/filters','lib.php',272],['auth/cas/CAS/CAS/PGTStorage','Db.php',122],['lib/classes/lock','db_record_lock_factory.php',61],['lib/pear/HTML/QuickForm','link.php',47],['backup/cc/cc_lib','cc_asssesment.php',290],['backup/cc/cc_lib','cc_asssesment.php',345],['backup/cc/cc_lib','cc_asssesment.php',364],['backup/cc/cc_lib','cc_asssesment.php',415],['backup/cc/cc_lib','cc_asssesment.php',476],['backup/cc/cc_lib','cc_asssesment.php',486],['backup/cc/cc_lib','cc_asssesment.php',561],['backup/cc/cc_lib','cc_asssesment.php',585],['backup/cc/cc_lib','cc_asssesment.php',635],['backup/cc/cc_lib','cc_asssesment.php',668],['backup/cc/cc_lib','cc_asssesment.php',693],['backup/cc/cc_lib','cc_asssesment.php',788],['backup/cc/cc_lib','cc_asssesment.php',814],['backup/cc/cc_lib','cc_asssesment.php',838],['backup/cc/cc_lib','cc_asssesment.php',965],['backup/cc/cc_lib','cc_asssesment.php',971],['backup/cc/cc_lib','cc_asssesment.php',986],['backup/cc/cc_lib','cc_asssesment.php',1003],['backup/cc/cc_lib','cc_asssesment.php',1017],['backup/cc/cc_lib','cc_asssesment.php',1045],['backup/cc/cc_lib','cc_asssesment.php',1186],['backup/cc/cc_lib','cc_asssesment.php',1263],['backup/cc/cc_lib','cc_asssesment.php',1317],['backup/cc/cc_lib','cc_asssesment.php',1389],['backup/cc/cc_lib','cc_asssesment.php',1451],['backup/cc/cc_lib','cc_asssesment.php',1558],['backup/cc/cc_lib','cc_asssesment.php',1620],['backup/cc/cc_lib','cc_asssesment.php',1648],['backup/cc/cc_lib','cc_asssesment.php',1716],['backup/cc/cc_lib','cc_asssesment.php',2155],['backup/cc/cc_lib','cc_asssesment.php',2264],['backup/cc/cc_lib','cc_asssesment.php',2469],['lib/phpunit/classes','hint_resultprinter.php',37],['lib/horde/framework/Horde/Mail/Transport','Mail.php',53],['auth/pop3','auth.php',35],['lib/adodb/drivers','adodb-oci8.inc.php',106],['lib/adodb/drivers','adodb-oci8.inc.php',1539],['lib/adodb/drivers','adodb-oci8.inc.php',1805],['lib/classes/session','database.php',52],['backup/util/ui','restore_ui_components.php',81],['backup/util/ui','restore_ui_components.php',287],['backup/util/ui','restore_ui_components.php',382],['question/classes/bank/search','category_condition.php',60],['lib/google/src/Google/Auth','AssertionCredentials.php',53],['backup/util/plan','restore_plan.class.php',43],['backup/util/plan','restore_plan.class.php',203],['backup/util/xml/parser/processors','findpaths_parser_processor.class.php',35],['lib/phpexcel/PHPExcel/CalcEngine','Logger.php',63],['lib/jabber/XMPP','Log.php',67],['lib/horde/framework/Horde/Imap/Client/Exception','ServerResponse.php',44],['lib/lessphp/Tree','Assignment.php',15],['lib/dtl','string_xml_database_importer.php',34],['admin/tool/lp/classes/output','manage_competency_frameworks_page.php',62],['question/type/calculated','question.php',188],['question/type/calculated','question.php',303],['repository/recent','lib.php',39],['grade/report/singleview/classes/local/ui','text_attribute.php',42],['admin/webservice','lib.php',38],['lib','coursecatlib.php',194],['lib','coursecatlib.php',2782],['lib/google/src/Google/Service','Cloudtrace.php',43],['lib','filterlib.php',73],['lib','filterlib.php',377],['lib','filterlib.php',456],['lib/classes/lock','lock_factory.php',39],['lib/filebrowser','file_info_context_course.php',39],['lib/filebrowser','file_info_context_course.php',492],['lib/filebrowser','file_info_context_course.php',596],['lib/filebrowser','file_info_context_course.php',745],['enrol','renderer.php',426],['enrol','renderer.php',723],['question/classes/statistics/questions','calculated_for_subquestion.php',57],['backup/moodle2','backup_format_plugin.class.php',40],['admin/tool/lp/classes','course_competency_rule_form_element.php',45],['auth/cas/CAS/CAS','ProxyTicketException.php',46],['lib/phpunit/classes','basic_testcase.php',39],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',49],['backup/util/dbops','backup_dbops.class.php',37],['admin/tool/customlang','locallib.php',44],['admin/tool/customlang','locallib.php',405],['admin/tool/customlang','locallib.php',471],['backup/util/structure','backup_optigroup_element.class.php',51],['mod/quiz/report/grading','gradingsettings_form.php',44],['backup/util/plan','restore_step.class.php',32],['backup/util/plan','restore_step.class.php',104],['lib/form','hidden.php',44],['repository/filesystem','lib.php',48],['backup/controller','backup_controller.class.php',68],['backup/controller','backup_controller.class.php',409],['backup/util/helper','restore_log_rule.class.php',62],['tag/classes','tag.php',77],['lib/htmlpurifier/HTMLPurifier/AttrTransform','SafeParam.php',27],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',38],['lib/spout/src/Spout/Writer/Style','StyleBuilder.php',19],['lib/dml','sqlsrv_native_moodle_database.php',53],['user/filters','date.php',40],['auth/nologin','auth.php',35],['lib/google/src/Google','Model.php',35],['lib/horde/framework/Horde/Imap/Client/Socket','ClientSort.php',37],['lib/horde/framework/Horde/Imap/Client/Exception','SearchCharset.php',34],['lib/horde/framework/Horde/Support','StringStream.php',30],['lib/adodb/drivers','adodb-mysqli.inc.php',66],['lib/adodb/drivers','adodb-mysqli.inc.php',887],['lib/adodb/drivers','adodb-mysqli.inc.php',1193],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ImportantDecorator.php',21],['lib/form','questioncategory.php',46],['lib/mustache/src/Mustache','Template.php',29],['backup/util/structure','base_nested_element.class.php',44],['backup/util/structure','base_nested_element.class.php',258],['lib/google/src/Google/Logger','Abstract.php',123],['backup/cc/cc_lib','cc_general.php',38],['lib/phpexcel/PHPExcel','ReferenceHelper.php',58],['lib/pear/HTML/QuickForm','password.php',37],['lib/dml','moodle_transaction.php',40],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef','Switch.php',29],['repository/flickr','lib.php',51],['lib/form','grading.php',57],['lib/classes/update','api.php',71],['backup/cc/cc_lib','cc_converter_lti.php',29],['backup/moodle2','backup_subplugin.class.php',44],['lib/portfolio','caller.php',67],['lib/classes/progress','display_if_slow.php',60],['lib/adodb/perf','perf-informix.inc.php',66],['lib/classes','chart_base.php',52],['lib/lessphp/Tree','Media.php',18],['lib/spout/src/Spout/Common/Escaper','XLSX.php',19],['grade/export/ods','grade_export_ods.php',24],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Length.php',23],['lib/google/src/Google/Service','Calendar.php',50],['lib/form','group.php',44],['lib/phpexcel/PHPExcel/Writer','OpenDocument.php',44],['lib/pear/HTML/QuickForm/Renderer','Object.php',75],['admin/tool/lp/classes/output','user_evidence_page.php',48],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',54],['grade/export/xls','grade_export_xls.php',24],['lib/classes/output','mustache_pix_helper.php',43],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',46],['lib/google/src/Google/Auth','ComputeEngine.php',35],['cache/stores/session','lib.php',131],['lib/mustache/src/Mustache/Logger','StreamLogger.php',44],['admin/tool/log/store/database/backup/moodle2','backup_logstore_database_nested_element.php',43],['user','renderer.php',220],['lib/htmlpurifier/HTMLPurifier/ChildDef','Required.php',23],['availability/condition/grade/classes','condition.php',46],['lib/lessphp/Tree','RulesetCall.php',14],['blocks/rss_client/classes/output','feed.php',75],['lib/form','select.php',47],['lib/htmlpurifier/HTMLPurifier','ContentSets.php',33],['lib/lessphp/Visitor','toCSS.php',13],['lib','outputfragmentrequirementslib.php',40],['backup/util/ui','restore_moodleform.class.php',34],['lib/google/src/Google/Service','Cloudbilling.php',43],['lib/google/src/Google/Service','PlusDomains.php',72],['lib','externallib.php',37],['lib','externallib.php',531],['lib','externallib.php',562],['lib','externallib.php',593],['lib','externallib.php',622],['lib','externallib.php',648],['lib','externallib.php',778],['lib','externallib.php',813],['lib','externallib.php',984],['lib','externallib.php',1177],['blog','locallib.php',71],['blog','locallib.php',564],['blog','locallib.php',847],['blog','locallib.php',892],['blog','locallib.php',965],['blog','locallib.php',1016],['blog','locallib.php',1041],['blog','locallib.php',1051],['blog','locallib.php',1063],['blog','locallib.php',1084],['lib/phpexcel/PHPExcel/Worksheet','ColumnDimension.php',53],['auth/cas','auth.php',39],['lib','lexer.php',41],['lib','lexer.php',145],['lib','lexer.php',217],['lib/phpexcel/PHPExcel/Shared/JAMA','QRDecomposition.php',48],['lib/google/src/Google/Service','Exception.php',34],['lib/htmlpurifier/HTMLPurifier','Printer.php',21],['tag/classes/output','tagcloud.php',49],['lib/google/src/Google/Service','Storagetransfer.php',44],['user/filters','select.php',46],['cache/stores/mongodb','lib.php',116],['admin/tool/lp/classes/output','course_competencies_page.php',73],['lib/google/src/Google/Cache','Null.php',28],['lib','graphlib.php',1176],['lib/phpexcel/PHPExcel/Style','Protection.php',49],['lib/google/src/Google/Service','GamesConfiguration.php',42],['repository/dropbox','locallib.php',46],['lib/phpexcel/PHPExcel/Style','Alignment.php',100],['lib/htmlpurifier/HTMLPurifier','Language.php',63],['cache/stores/file','lib.php',117],['tag/classes/output','tagareashowstandard.php',41],['question/type/multianswer','edit_multianswer_form.php',63],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',22],['mod/assign','renderable.php',41],['mod/assign','renderable.php',71],['mod/assign','renderable.php',103],['mod/assign','renderable.php',139],['mod/assign','renderable.php',191],['mod/assign','renderable.php',242],['mod/assign','renderable.php',291],['mod/assign','renderable.php',395],['mod/assign','renderable.php',531],['mod/assign','renderable.php',586],['mod/assign','renderable.php',670],['mod/assign','renderable.php',707],['mod/assign','renderable.php',747],['mod/assign','renderable.php',800],['mod/assign','renderable.php',854],['lib/form','selectwithlink.php',56],['backup/moodle2','backup_activity_task.class.php',45],['lib/phpmailer','class.phpmailer.php',633],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',39],['auth/db','auth.php',36],['lib/lessphp/Tree','Value.php',14],['lib/form','course.php',62],['question/engine','questionattemptstep.php',97],['question/engine','questionattemptstep.php',608],['cohort','locallib.php',37],['cohort','locallib.php',101],['badges/criteria','award_criteria.php',127],['lib/adodb/perf','perf-mysql.inc.php',86],['cache/stores/memcached','lib.php',133],['grade/report/singleview/classes/local/ui','empty_element.php',38],['lib/google/src/Google/Service','AppState.php',40],['lib/adodb/drivers','adodb-odbc_oracle.inc.php',107],['lib/pear/HTML/QuickForm/Renderer','Default.php',139],['tag/classes/output','tag.php',46],['question','previewlib.php',122],['backup/util/loggers','database_logger.class.php',40],['mod/forum/classes','potential_subscriber_selector.php',47],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',15],['lib/phpexcel/PHPExcel/Reader','SYLK.php',67],['lib/form','submitlink.php',47],['backup/util/dbops','restore_dbops.class.php',1788],['lib/xmldb','xmldb_index.php',56],['question','category_class.php',58],['question','category_class.php',160],['lib/google/src/Google/Service','Webfonts.php',38],['webservice/xmlrpc','locallib.php',41],['admin/roles/classes','check_users_selector.php',38],['lib/htmlpurifier/HTMLPurifier/AttrTransform','ImgSpace.php',24],['user/profile/field/checkbox','field.class.php',33],['lib/form','cancel.php',47],['lib/google/src/Google/Service','Resourceviews.php',57],['lib/phpexcel/PHPExcel/Style','Font.php',100],['lib/portfolio','plugin.php',445],['calendar','lib.php',2003],['calendar','lib.php',2774],['mod/wiki','pagelib.php',93],['mod/wiki','pagelib.php',380],['mod/wiki','pagelib.php',981],['mod/wiki','pagelib.php',1190],['mod/wiki','pagelib.php',2194],['mod/wiki','pagelib.php',2422],['tag/classes/output','tagfeed.php',43],['tag/classes/output','tagareaenabled.php',38],['backup/util/xml/parser/processors','selective_like_parser_processor.class.php',35],['mod/workshop','locallib.php',183],['mod/workshop','locallib.php',2976],['mod/workshop','locallib.php',3411],['mod/workshop','locallib.php',3647],['mod/workshop','locallib.php',3889],['mod/workshop','locallib.php',3975],['mod/workshop','locallib.php',4060],['mod/workshop','locallib.php',4079],['lib/form','advcheckbox.php',48],['backup/cc/cc_lib','cc_assesment_sfib.php',27],['cohort/classes/output','cohortidnumber.php',37],['lib/adodb/drivers','adodb-ado.inc.php',42],['lib/adodb/drivers','adodb-ado.inc.php',346],['lib/form','filepicker.php',53],['mod/assign','adminlib.php',41],['mod/assign','adminlib.php',102],['lib/tests/fixtures','test_renderer_factory.php',41],['backup/cc/cc_lib','cc_converter_label.php',28],['lib/htmlpurifier/HTMLPurifier','Lexer.php',152],['grade/report/singleview','lib.php',69],['backup/cc/cc_lib','cc_converter_page.php',28],['lib/google/src/Google/Logger','Psr.php',39],['lib/simplepie/library/SimplePie/HTTP','Parser.php',131],['backup/util/plan','backup_step.class.php',32],['backup/util/plan','backup_step.class.php',55],['lib/lessphp/Tree','Import.php',30],['lib/jabber/XMPP','XMPP_Old.php',45],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',37],['lib/google/src/Google/Service','Classroom.php',60],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',875],['admin/tool/lp/classes/external','competency_path_exporter.php',38],['cohort/classes/output','cohortname.php',37],['grade/report/overview','lib.php',76],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',66],['admin/roles/classes','admins_existing_selector.php',30],['lib/phpunit/classes','arraydataset.php',45],['question/engine','questionattempt.php',166],['question/engine','questionattempt.php',1532],['question/engine','questionattempt.php',1618],['question/engine','questionattempt.php',1703],['lib/horde/framework/Horde/Support','Uuid.php',23],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',27],['webservice/rest','lib.php',47],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',79],['backup/util/xml/output','memory_xml_output.class.php',37],['repository/flickr_public','image.php',34],['mod/lti/classes/local/ltiservice','resource_base.php',62],['admin/tool/lp/classes/output','template_plans_table.php',53],['mod/quiz','mod_form.php',48],['lib/simplepie/library/SimplePie','Caption.php',98],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Multiple.php',33],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',20],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',30],['lib/htmlpurifier/HTMLPurifier/Token','Tag.php',33],['backup/moodle2','backup_theme_plugin.class.php',61],['mod/chat','chatd.php',78],['mod/chat','chatd.php',103],['lib/phpexcel/PHPExcel','DocumentSecurity.php',65],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',21],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',45],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',49],['lib/lessphp/Tree','Operation.php',19],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',461],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',1699],['backup/cc/cc_lib','cc_converter_folder.php',28],['backup/util/helper','restore_roles_parser_processor.class.php',39],['lib/simplepie/library/SimplePie','Locator.php',68],['lib/google/src/Google/Service','SQLAdmin.php',50],['lib/lessphp/Tree','DetachedRuleset.php',15],['admin/tool/assignmentupgrade','upgradableassignmentstable.php',49],['backup/cc','validator.php',30],['backup/cc','validator.php',116],['backup/cc','validator.php',202],['backup/cc','validator.php',230],['backup/cc','validator.php',236],['backup/cc','validator.php',242],['backup/cc','validator.php',248],['backup/cc','validator.php',254],['backup/cc','validator.php',260],['lib/horde/framework/Horde/Imap/Client/Interaction','Client.php',34],['mod/quiz','override_form.php',58],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',57],['lib/htmlpurifier/HTMLPurifier','Length.php',41],['backup/util/helper','restore_decode_rule.class.php',47],['backup/util/helper','restore_decode_rule.class.php',192],['lib/horde/framework/Horde/Imap/Client/Data','Sync.php',133],['lib/phpexcel/PHPExcel/Shared/trend','logarithmicBestFitClass.php',97],['lib/adodb/perf','perf-db2.inc.php',61],['lib/phpexcel/PHPExcel/Style','Supervisor.php',44],['lib/htmlpurifier/HTMLPurifier/AttrTransform','TargetBlank.php',17],['lib/ddl','database_manager.php',48],['lib/mustache/src/Mustache/Exception','UnknownFilterException.php',22],['admin/roles/classes','define_role_table_advanced.php',46],['lib/dml','oci_native_moodle_temptables.php',40],['lib/horde/framework/Horde/Stream','Existing.php',28],['enrol/manual','locallib.php',37],['enrol/manual','locallib.php',102],['availability/classes','multiple_messages.php',56],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',55],['admin/roles/classes','override_permissions_table_advanced.php',31],['lib/pear/Net','GeoIP.php',323],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',31],['lib/form','modgrade.php',78],['admin/tool/log/store/database/backup/moodle2','restore_logstore_database_subplugin.class.php',40],['cache/classes','config.php',80],['lib/pear/HTML/QuickForm','hidden.php',37],['question/type/calculated','datasetitems_form.php',72],['lib/tests','navigationlib_test.php',554],['lib/tests','navigationlib_test.php',612],['lib/tests','navigationlib_test.php',639],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Number.php',18],['lib/tests','completionlib_test.php',882],['admin/tool/generator/classes','site_backend.php',58],['lib/jabber/XMPP','XMLStream.php',171],['lib/simplepie/library/SimplePie','Sanitize.php',75],['cache/classes','factory.php',149],['lib/minify/lib/Minify/Cache','WinCache.php',20],['user/classes/output/myprofile','node.php',82],['lib/horde/framework/Horde/Stream','TempString.php',40],['lib/adodb/drivers','adodb-borland_ibase.inc.php',83],['mod/forum','locallib.php',55],['mod/forum','locallib.php',419],['mod/lti/service/memberships/classes/local/resource','contextmemberships.php',44],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',262],['lib/classes/update','code_manager.php',57],['search/engine/solr/classes','engine.php',103],['lib/horde/framework/Horde/Imap/Client/Interaction/Server','Tagged.php',36],['lib/google/src/Google/Service','Compute.php',89],['lib/phpexcel/PHPExcel/Style','Borders.php',113],['lib','completionlib.php',243],['lib/google/src/Google/Service','Pubsub.php',44],['lib/adodb/drivers','adodb-ads.inc.php',69],['lib/adodb/drivers','adodb-ads.inc.php',657],['lib/markdown','MarkdownExtra.php',56],['lib/minify/lib/Minify/Cache','XCache.php',22],['lib/google/src/Google/Service','YouTube.php',75],['lib/lessphp','Functions.php',15],['auth/cas/CAS/CAS','AuthenticationException.php',53],['mod/quiz','locallib.php',1923],['competency/classes/external','stored_file_exporter.php',45],['user/filters','checkbox.php',51],['backup/moodle2','restore_settingslib.php',86],['backup/moodle2','restore_settingslib.php',149],['lib/htmlpurifier/HTMLPurifier/Node','Element.php',39],['lib/pear/HTML/QuickForm','date.php',260],['lib/lessphp/SourceMap','Generator.php',82],['backup/util/plan','base_step.class.php',35],['backup/util/plan','base_step.class.php',127],['mod/lti/service/memberships/classes/local/service','memberships.php',50],['lib/google/src/Google/Cache','Apc.php',37],['backup/util/ui','restore_ui_stage.class.php',42],['backup/util/ui','restore_ui_stage.class.php',265],['backup/util/ui','restore_ui_stage.class.php',452],['backup/util/ui','restore_ui_stage.class.php',592],['backup/util/ui','restore_ui_stage.class.php',704],['backup/util/ui','restore_ui_stage.class.php',852],['backup/util/ui','restore_ui_stage.class.php',959],['backup/util/ui','restore_ui_stage.class.php',1100],['lib/pear/Auth','RADIUS.php',120],['lib/pear/Auth','RADIUS.php',579],['lib/pear/Auth','RADIUS.php',672],['lib/pear/Auth','RADIUS.php',879],['lib/adodb/drivers','adodb-ado_access.inc.php',46],['admin/tool/xmldb/actions','XMLDBAction.class.php',56],['backup/converter/moodle1','handlerlib.php',120],['backup/converter/moodle1','handlerlib.php',1710],['backup/converter/moodle1','handlerlib.php',1902],['backup/converter/moodle1','handlerlib.php',2155],['backup/controller','restore_controller.class.php',63],['backup/controller','restore_controller.class.php',519],['lib/google/src/Google/Http','Request.php',58],['lib/google/src/Google/Service','Dfareporting.php',99],['lib/google/src/Google/Service','Manager.php',60],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',73],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',30],['lib/google/src/Google/Service','CloudMonitoring.php',45],['lib/editor/tinymce/plugins/spellchecker/classes','SpellChecker.php',11],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',44],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',65],['lib','webdavlib.php',84],['lib/dml','pgsql_native_moodle_recordset.php',43],['lib/horde/framework/Horde/Support','Guid.php',24],['lib/mustache/src/Mustache','LambdaHelper.php',25],['question/engine/upgrade/tests','helper.php',45],['admin/tool/uploadcourse/classes','tracker.php',72],['grade/report/user','lib.php',188],['lib/adodb/drivers','adodb-sqlanywhere.inc.php',156],['auth/cas/CAS/CAS','OutOfSequenceBeforeClientException.php',47],['backup/util/plan','base_task.class.php',40],['backup/util/plan','base_task.class.php',277],['lib/adodb/drivers','adodb-db2oci.inc.php',220]], 1102],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'is_own_form': ['is_own_form', 'Is the grading form owned by the given user? ', [['grade/grading/form','lib.php',169]], 3],
'get_current_instance': ['get_current_instance', 'Returns the current instance (either with status ACTIVE or NEEDUPDATE) for this definition for the specified $raterid and $itemid (if multiple raters are allowed, or only for $itemid otherwise). ', [['grade/grading/form','lib.php',380],['grade/grading/form','lib.php',819]], 8],
'create_instance': ['create_instance', '', [['mod/imscp/tests/generator','lib.php',38],['mod/forum/tests/generator','lib.php',67],['mod/workshop/tests/generator','lib.php',38],['lib/testing/generator','module_generator.php',210],['mod/book/tests/generator','lib.php',53],['mod/survey/tests/generator','lib.php',49],['notes/tests/generator','lib.php',52],['lib/testing/generator','repository_generator.php',106],['mod/lti/tests/generator','lib.php',40],['mod/lesson/tests/generator','lib.php',53],['mod/page/tests/generator','lib.php',39],['mod/glossary/tests/generator','lib.php',59],['lib/testing/generator','block_generator.php',100],['grade/grading/form','lib.php',493],['mod/choice/tests/generator','lib.php',38],['mod/chat/tests/generator','lib.php',53],['mod/assignment/tests/generator','lib.php',39],['mod/folder/tests/generator','lib.php',38],['mod/assign/tests','base_test.php',200],['mod/feedback/tests/generator','lib.php',38],['lib/portfolio','plugin.php',412],['mod/assign/tests/generator','lib.php',29],['mod/data/tests/generator','lib.php',39],['mod/quiz/tests/generator','lib.php',28],['mod/url/tests/generator','lib.php',38],['mod/resource/tests/generator','lib.php',37],['mod/wiki/tests/generator','lib.php',53],['mod/scorm/tests/generator','lib.php',38]], 328],
'load_definition': ['load_definition', 'Loads the form definition if it exists ', [['grade/grading/form','lib.php',598],['grade/grading/form/rubric','lib.php',293],['grade/grading/form/guide','lib.php',291]], 6],
'normalize_component': ['normalize_component', 'Normalize the component name using the "frankenstyle" names. ', [['lib','deprecatedlib.php',211],['lib/classes','component.php',1016]], 89],
'format_text': ['format_text', 'Formats a text string coming from the search engine. ', [['search/classes','document.php',606],['lib/classes','grading_external.php',182],['search/engine/solr/classes','document.php',129],['lib','weblib.php',1158],['lib','tablelib.php',860],['lib','tablelib.php',1667],['question/type','questionbase.php',345]], 322],
'clear_attempt': ['clear_attempt', 'Removes the attempt from the gradingform_*_fillings table. This function is not abstract as to not break plugins that might use advanced grading. ', [['grade/grading/form','lib.php',948],['grade/grading/form/rubric','lib.php',777],['grade/grading/form/guide','lib.php',876]], 1],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'get_status': ['get_status', '', [['backup/util/settings','base_setting.class.php',157],['completion/criteria','completion_criteria_date.php',134],['lib/filebrowser','file_info.php',348],['lib/filebrowser','virtual_root_file.php',281],['lib/filebrowser','file_info_stored.php',321],['lib/filestorage','stored_file.php',777],['completion/criteria','completion_criteria.php',249],['completion','completion_criteria_completion.php',158],['grade/grading/form','lib.php',863],['mod/workshop/allocation','lib.php',128],['completion/criteria','completion_criteria_grade.php',162],['lib/classes/plugininfo','base.php',344],['backup/controller','backup_controller.class.php',287],['completion/criteria','completion_criteria_duration.php',180],['backup/controller','restore_controller.class.php',297]], 180],
'get_formatted_description': ['get_formatted_description', 'Formats the definition description for display on page ', [['grade/grading/form','lib.php',368],['grade/grading/form/rubric','lib.php',462],['tag/classes','tag.php',1305],['grade/grading/form/guide','lib.php',468]], 8],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'get_recordset': ['get_recordset', 'Get the recordset. ', [['mod/glossary/classes','entry_query_builder.php',305],['lib/dml','moodle_database.php',1162]], 92],
'get_definition_copy': ['get_definition_copy', 'Returns the form definition suitable for cloning into another area ', [['grade/grading/form','lib.php',259],['grade/grading/form/rubric','lib.php',413],['grade/grading/form/guide','lib.php',425]], 4],
'has_active_instances': ['has_active_instances', 'Returns true if there are already people who has been graded on this definition. In this case plugins may restrict changes of the grading definition ', [['grade/grading/form','lib.php',455]], 6],
'get_id': ['get_id', 'Getter for $id. ', [['lib/classes/task','adhoc_task.php',51],['backup/converter','convertlib.php',100],['lib/filebrowser','virtual_root_file.php',290],['lib','adminlib.php',1719],['admin/tool/uploadcourse/classes','course.php',335],['lib/simplepie/library/SimplePie','Item.php',199],['lib/filestorage','stored_file.php',786],['cache/classes','definition.php',613],['grade/grading/form','lib.php',854],['question/engine','questionusage.php',120],['mod/lti/classes/local/ltiservice','service_base.php',76],['blocks/rss_client/classes/output','item.php',152],['backup/controller','backup_controller.class.php',263],['question/engine','questionattemptstep.php',136],['mod/lti/classes/local/ltiservice','resource_base.php',81]], 2250],
'get_data': ['get_data', '', [['mod/scorm','mod_form.php',526],['mod/feedback/item/multichoicerated','multichoicerated_form.php',96],['backup/util/structure','restore_path_element.class.php',118],['admin/tool/uploaduser','user_form.php',399],['mod/feedback/item/textfield','textfield_form.php',58],['admin/tool/lp/classes/form','persistent.php',202],['grade/export','grade_export_form.php',206],['mod/feedback','mod_form.php',163],['message/tests','inbound_test.php',632],['mod/feedback/item/textarea','textarea_form.php',57],['mod/survey','mod_form.php',49],['lib/simplepie/library/SimplePie','Parser.php',263],['lib','formslib.php',606],['mod/feedback/item/numeric','numeric_form.php',60],['admin/tool/uploadcourse/classes','course.php',269],['mod/feedback/item','feedback_item_class.php',52],['mod/feedback/item','feedback_item_class.php',264],['admin/webservice','forms.php',299],['grade/grading/form','lib.php',841],['blocks/rss_client','editfeed.php',101],['mod/lesson','mod_form.php',417],['grade/grading/form/guide','edit_form.php',142],['course','editsection_form.php',105],['lib/classes/event','base.php',647],['grade/grading/form/rubric','edit_form.php',136],['mod/feedback/item','feedback_item_form_class.php',112],['admin/tool/filetypes','edit_form.php',97],['mod/forum','mod_form.php',270],['mod/scorm/report/graphs/classes','report.php',49],['lib/classes/message/inbound','address_manager.php',361],['mod/workshop','locallib.php',3990],['mod/glossary','mod_form.php',203],['mod/feedback/item/captcha','lib.php',67],['lib','completionlib.php',869],['mod/feedback/item/multichoice','multichoice_form.php',93],['mod/choice','mod_form.php',121]], 388],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'get_editor_url': ['get_editor_url', 'Returns URL of a page where the grading form can be defined and edited. ', [['grade/grading/form','lib.php',202]], 4],
'is_shared_template': ['is_shared_template', 'Is the grading form saved as a shared public template? ', [['grade/grading/form','lib.php',159]], 4],
'render_grading_element': ['render_grading_element', 'Returns html for form element of type \'grading\'. ', [['grade/grading/form/rubric','lib.php',899],['grade/grading/form/guide','lib.php',921]], 2],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'sql_search_where': ['sql_search_where', 'Prepare the parts of the SQL WHERE statement to search for the given token ', [['grade/grading/form','lib.php',578],['grade/grading/form/rubric','lib.php',613],['grade/grading/form/guide','lib.php',616]], 1],
'cancel': ['cancel', 'Cancels a user\'s subscription purchase. The subscription remains valid until its expiration time. (subscriptions.cancel) ', [['lib/google/src/Google/Service','AndroidPublisher.php',2253],['lib/google/src/Google/Service','Replicapoolupdater.php',320],['lib/google/src/Google/Service','Bigquery.php',651],['lib/google/src/Google/Service','ShoppingContent.php',1711],['lib/google/src/Google/Service','Genomics.php',884],['lib/google/src/Google/Service','Games.php',2000],['grade/grading/form','lib.php',892],['lib/lessphp/Tree','Unit.php',104],['grade/grading/form/rubric','lib.php',730],['lib/google/src/Google/Service','Storagetransfer.php',365],['grade/grading/form/guide','lib.php',740]], 280],
'is_empty_form': ['is_empty_form', 'Determines whether the submitted form was empty. ', [['grade/grading/form','lib.php',938],['grade/grading/form/rubric','lib.php',759],['grade/grading/form/guide','lib.php',769]], 2],
'get_all_active_instances': ['get_all_active_instances', 'Returns an array of all active instances for this definition. (intentionally does not return instances with status NEEDUPDATE) ', [['grade/grading/form','lib.php',434]], 1],
'make_active': ['make_active', 'Marks this node as active and forces it open. ', [['lib','navigationlib.php',416],['grade/grading/form','lib.php',872]], 42],
'get_records_select': ['get_records_select', 'Load a list of records based on a select query. ', [['competency/classes','persistent.php',751],['lib/dml','moodle_database.php',1332]], 166],
'is_form_available': ['is_form_available', 'Is the grading form defined and ready for usage? ', [['grade/grading/form','lib.php',150]], 6],
'get_context': ['get_context', 'Return the course context for new modules, or the module context for existing modules. ', [['course','moodleform_mod.php',148],['availability/classes','info_module.php',72],['availability/classes','info_section.php',55],['competency/classes','user_competency_plan.php',83],['availability/tests/fixtures','mock_info.php',59],['mod/feedback/classes','responses_table.php',146],['competency/classes','competency.php',730],['competency/classes','plan.php',258],['mod/quiz','attemptlib.php',220],['competency/classes','user_competency.php',216],['grade/grading','lib.php',107],['lib','modinfolib.php',1486],['lib','badgeslib.php',157],['competency/classes/external','exporter.php',172],['comment','lib.php',994],['grade/grading/form','lib.php',102],['mod/assign','locallib.php',1307],['competency/classes','user_evidence.php',90],['competency/classes','user_competency_course.php',80],['lib/classes/event','base.php',627],['enrol','locallib.php',921],['lib','coursecatlib.php',2369],['lib','coursecatlib.php',3065],['competency/classes','course_competency_settings.php',133],['lib/tests/behat','behat_data_generators.php',769],['competency/classes','competency_framework.php',70],['competency/classes','template.php',139]], 1033],
'form_unavailable_notification': ['form_unavailable_notification', 'Returns a message why this form is unavailable. Maybe overriden by plugins to give more details. ', [['grade/grading/form','lib.php',189]], 2],
'get_definition': ['get_definition', 'Returns the cache definition. ', [['cache/classes','loaders.php',889],['grade/grading/form','lib.php',246]], 32],
'update': ['update', 'In addition to update() as defined in grade_object, handle the grade_outcome and grade_scale objects. Force regrading if necessary, rounds the float numbers using php function, the reason is we need to compare the db value with computed number to skip regrading if possible. ', [['lib/grade','grade_item.php',274],['lib/google/src/Google/Service','Tasks.php',386],['lib/google/src/Google/Service','Tasks.php',556],['lib/google/src/Google/Service','AndroidPublisher.php',1413],['lib/google/src/Google/Service','AndroidPublisher.php',1545],['lib/google/src/Google/Service','AndroidPublisher.php',1615],['lib/google/src/Google/Service','AndroidPublisher.php',1853],['lib/google/src/Google/Service','AndroidPublisher.php',1919],['lib/google/src/Google/Service','AndroidPublisher.php',2003],['lib/google/src/Google/Service','AndroidPublisher.php',2177],['lib/google/src/Google/Service','Reseller.php',344],['lib/grade','grade_category.php',226],['lib/grade','grade_scale.php',125],['lib/adodb','adodb-active-record.inc.php',1004],['lib/grade','grade_object.php',238],['lib/google/src/Google/Service','YouTubeAnalytics.php',534],['completion','data_object.php',252],['mod/lesson/pagetypes','matching.php',308],['tag/classes','collection.php',215],['lib/google/src/Google/Service','AdExchangeBuyer.php',802],['lib/google/src/Google/Service','AdExchangeBuyer.php',906],['lib/google/src/Google/Service','AdExchangeBuyer.php',1013],['lib/google/src/Google/Service','AdExchangeBuyer.php',1181],['lib/google/src/Google/Service','AdExchangeBuyer.php',1357],['lib/google/src/Google/Service','AdExchangeBuyer.php',1640],['lib/google/src/Google/Service','Books.php',2025],['lib/grade','grade_grade.php',1009],['lib/grade','grade_outcome.php',144],['lib/google/src/Google/Service','Analytics.php',2215],['lib/google/src/Google/Service','Analytics.php',2388],['lib/google/src/Google/Service','Analytics.php',2501],['lib/google/src/Google/Service','Analytics.php',2626],['lib/google/src/Google/Service','Analytics.php',2736],['lib/google/src/Google/Service','Analytics.php',2843],['lib/google/src/Google/Service','Analytics.php',2971],['lib/google/src/Google/Service','Analytics.php',3062],['lib/google/src/Google/Service','Analytics.php',3185],['lib/google/src/Google/Service','Analytics.php',3502],['lib/google/src/Google/Service','Analytics.php',3604],['lib/google/src/Google/Service','Analytics.php',3686],['lib/google/src/Google/Service','Coordinate.php',611],['lib/google/src/Google/Service','Coordinate.php',727],['lib/google/src/Google/Service','DeploymentManager.php',589],['tag/classes/output','tagareacollection.php',68],['lib','weblib.php',3312],['lib/google/src/Google/Service','Blogger.php',1349],['lib/google/src/Google/Service','Blogger.php',1647],['lib/google/src/Google/Service','Dataflow.php',350],['tag/classes/output','tagcollname.php',58],['competency/classes','persistent.php',452],['lib/google/src/Google/Service','Cloudresourcemanager.php',344],['lib/google/src/Google/Service','Cloudresourcemanager.php',555],['lib/google/src/Google/Service','TagManager.php',977],['lib/google/src/Google/Service','TagManager.php',1066],['lib/google/src/Google/Service','TagManager.php',1159],['lib/google/src/Google/Service','TagManager.php',1219],['lib/google/src/Google/Service','TagManager.php',1311],['lib/google/src/Google/Service','TagManager.php',1405],['lib/google/src/Google/Service','TagManager.php',1499],['lib/google/src/Google/Service','TagManager.php',1650],['lib/google/src/Google/Service','TagManager.php',1743],['mod/lesson','locallib.php',2691],['lib/google/src/Google/Service','Bigquery.php',621],['lib/google/src/Google/Service','Bigquery.php',953],['lib/google/src/Google/Service','ShoppingContent.php',1136],['lib/google/src/Google/Service','ShoppingContent.php',1238],['lib/google/src/Google/Service','ShoppingContent.php',1401],['lib/google/src/Google/Service','ShoppingContent.php',1534],['mod/lesson/pagetypes','truefalse.php',163],['lib/google/src/Google/Service','Clouddebugger.php',307],['lib/filestorage','stored_file.php',103],['lib/google/src/Google/Service','Container.php',366],['lib/horde/framework/Horde/Support','Array.php',70],['lib/google/src/Google/Service','Storage.php',1127],['lib/google/src/Google/Service','Storage.php',1268],['lib/google/src/Google/Service','Storage.php',1423],['lib/google/src/Google/Service','Storage.php',1564],['lib/google/src/Google/Service','Storage.php',1904],['tag/classes/output','tagname.php',56],['tag/classes/output','tagcollsearchable.php',72],['lib/google/src/Google/Service','Games.php',1508],['lib/google/src/Google/Service','Licensing.php',335],['lib/google/src/Google/Service','Fitness.php',478],['lib/google/src/Google/Service','Fitness.php',691],['lib/google/src/Google/Service','Gmail.php',833],['lib/google/src/Google/Service','Gmail.php',986],['lib/google/src/Google/Service','Taskqueue.php',398],['lib/adodb','adodb-active-recordx.inc.php',1136],['grade/grading/form','lib.php',905],['lib/google/src/Google/Service','Doubleclicksearch.php',326],['lib/google/src/Google/Service','Autoscaler.php',400],['tag/classes/output','tagisstandard.php',70],['lib/google/src/Google/Service','Prediction.php',339],['lib/google/src/Google/Service','SiteVerification.php',227],['lib/google/src/Google/Service','Drive.php',1691],['lib/google/src/Google/Service','Drive.php',1961],['lib/google/src/Google/Service','Drive.php',2208],['lib/google/src/Google/Service','Drive.php',2320],['lib/google/src/Google/Service','Drive.php',2370],['lib/google/src/Google/Service','Drive.php',2494],['lib/google/src/Google/Service','Drive.php',2582],['tag/classes/output','tagflag.php',71],['lib/google/src/Google/Service','Proximitybeacon.php',440],['lib/google/src/Google/Service','Groupssettings.php',138],['lib/google/src/Google/Service','Directory.php',1829],['lib/google/src/Google/Service','Directory.php',1889],['lib/google/src/Google/Service','Directory.php',2141],['lib/google/src/Google/Service','Directory.php',2306],['lib/google/src/Google/Service','Directory.php',2489],['lib/google/src/Google/Service','Directory.php',2597],['lib/google/src/Google/Service','Directory.php',2808],['lib/google/src/Google/Service','Directory.php',2910],['lib/google/src/Google/Service','Directory.php',3131],['lib/google/src/Google/Service','Directory.php',3317],['lib/google/src/Google/Service','Fusiontables.php',727],['lib/google/src/Google/Service','Fusiontables.php',892],['lib/google/src/Google/Service','Fusiontables.php',1094],['lib/google/src/Google/Service','Fusiontables.php',1269],['lib/google/src/Google/Service','AdSenseHost.php',846],['lib/google/src/Google/Service','AdSenseHost.php',1097],['course/classes/output','course_module_name.php',81],['lib/google/src/Google/Service','Mirror.php',496],['lib/google/src/Google/Service','Mirror.php',634],['lib/google/src/Google/Service','Mirror.php',745],['tag/classes','area.php',226],['lib/google/src/Google/Service','AndroidEnterprise.php',1064],['lib/google/src/Google/Service','AndroidEnterprise.php',1165],['lib/google/src/Google/Service','AndroidEnterprise.php',1489],['lib/google/src/Google/Service','AndroidEnterprise.php',1672],['grade/grading/form/rubric','lib.php',828],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',200],['mod/lesson/pagetypes','essay.php',158],['lib','coursecatlib.php',438],['tag/classes','tag.php',893],['lib/google/src/Google/Service','Calendar.php',1006],['lib/google/src/Google/Service','Calendar.php',1181],['lib/google/src/Google/Service','Calendar.php',1333],['lib/google/src/Google/Service','Calendar.php',1714],['lib/google/src/Google/Service','PlusDomains.php',692],['lib/google/src/Google/Service','GamesConfiguration.php',334],['lib/google/src/Google/Service','GamesConfiguration.php',473],['mod/lesson/pagetypes','branchtable.php',262],['tag/classes/output','tagareashowstandard.php',64],['lib/google/src/Google/Service','AppState.php',202],['calendar','lib.php',2206],['tag/classes/output','tagareaenabled.php',69],['cohort/classes/output','cohortidnumber.php',53],['lib/google/src/Google/Service','Classroom.php',564],['cohort/classes/output','cohortname.php',53],['lib/google/src/Google/Service','SQLAdmin.php',947],['lib/google/src/Google/Service','SQLAdmin.php',1267],['lib/google/src/Google/Service','SQLAdmin.php',1534],['grade/grading/form/guide','lib.php',836],['lib/google/src/Google/Service','Compute.php',4253],['lib/google/src/Google/Service','Compute.php',4398],['lib/google/src/Google/Service','Compute.php',4767],['lib/google/src/Google/Service','Compute.php',5348],['lib/google/src/Google/Service','Compute.php',5478],['lib/google/src/Google/Service','Compute.php',8131],['lib/google/src/Google/Service','YouTube.php',1959],['lib/google/src/Google/Service','YouTube.php',2194],['lib/google/src/Google/Service','YouTube.php',2303],['lib/google/src/Google/Service','YouTube.php',2429],['lib/google/src/Google/Service','YouTube.php',2570],['lib/google/src/Google/Service','YouTube.php',3111],['lib/google/src/Google/Service','YouTube.php',3348],['lib/google/src/Google/Service','YouTube.php',3518],['lib/google/src/Google/Service','YouTube.php',3708],['lib/google/src/Google/Service','YouTube.php',4400],['lib/google/src/Google/Service','Dfareporting.php',4752],['lib/google/src/Google/Service','Dfareporting.php',4840],['lib/google/src/Google/Service','Dfareporting.php',4973],['lib/google/src/Google/Service','Dfareporting.php',5090],['lib/google/src/Google/Service','Dfareporting.php',5204],['lib/google/src/Google/Service','Dfareporting.php',5400],['lib/google/src/Google/Service','Dfareporting.php',5656],['lib/google/src/Google/Service','Dfareporting.php',5848],['lib/google/src/Google/Service','Dfareporting.php',5970],['lib/google/src/Google/Service','Dfareporting.php',6078],['lib/google/src/Google/Service','Dfareporting.php',6196],['lib/google/src/Google/Service','Dfareporting.php',6502],['lib/google/src/Google/Service','Dfareporting.php',6704],['lib/google/src/Google/Service','Dfareporting.php',6834],['lib/google/src/Google/Service','Dfareporting.php',6912],['lib/google/src/Google/Service','Dfareporting.php',7077],['lib/google/src/Google/Service','Dfareporting.php',7476],['lib/google/src/Google/Service','Dfareporting.php',7594],['lib/google/src/Google/Service','Dfareporting.php',7744],['lib/google/src/Google/Service','Dfareporting.php',7968],['lib/google/src/Google/Service','Dfareporting.php',8075],['lib/google/src/Google/Service','Dfareporting.php',8202],['lib/google/src/Google/Service','Dfareporting.php',8394],['lib/google/src/Google/Service','Dfareporting.php',8557],['lib/google/src/Google/Service','Dfareporting.php',8861],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',72]], 498],
'extend_settings_navigation': ['extend_settings_navigation', 'Extends the settings navigation with the grading settings ', [['grade/grading','lib.php',418],['grade/grading/form','lib.php',219],['grade/grading/form/rubric','lib.php',55],['grade/grading/form/guide','lib.php',58]], 3],
'get_controller': ['get_controller', 'Returns the controller object. ', [['backup/util/ui','base_ui.class.php',302],['grade/grading','lib.php',488],['grade/grading/form','lib.php',832]], 72],
'get_external_instance_filling_details': ['get_external_instance_filling_details', 'Overridden by sub classes that wish to make instance filling details available to web services. When not overridden, only instance filling data common to all grading methods is made available. When overriding, the return value should be an array containing one or more key/value pairs. These key/value pairs should match the filling data returned by the get_<method>_filling() function in the gradingform_instance subclass. For examples, look at: $gradingform_rubric_controller->get_external_instance_filling_details() $gradingform_guide_controller->get_external_instance_filling_details() ', [['grade/grading/form','lib.php',705],['grade/grading/form/rubric','lib.php',691],['grade/grading/form/guide','lib.php',698]], 1],
'render_grade': ['render_grade', 'Returns html code to be included in student\'s feedback. ', [['grade/grading/form','lib.php',633],['grade/grading/form/rubric','lib.php',586],['grade/grading/form/guide','lib.php',590]], 2],
'get_areaid': ['get_areaid', 'Returns gradable area id ', [['grade/grading/form','lib.php',129]], 5],
'get_record_select': ['get_record_select', 'Get a single database record as an object which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1481]], 19],
'submit_and_get_grade': ['submit_and_get_grade', 'Called when teacher submits the grading form: updates the instance in DB, marks it as ACTIVE and returns the grade to be pushed to the gradebook. $itemid must be specified here (it was not required when the instance was created, because it might not existed in draft) ', [['grade/grading/form','lib.php',960]], 1],
'copy': ['copy', '', [['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',23],['lib/phpexcel','PHPExcel.php',856],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',16],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',17],['lib/yuilib/3.17.2/timers','timers.js',115],['lib/yuilib/3.17.2/timers','timers-debug.js',115],['lib/horde/framework/Horde/Imap/Client','Base.php',2848],['lib/google/src/Google/Service','Storage.php',1626],['grade/grading/form','lib.php',798],['lib/phpexcel/PHPExcel','Worksheet.php',2853],['lib/google/src/Google/Service','Drive.php',1719],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',36],['lib/google/src/Google/Service','Fusiontables.php',920],['grade/grading/form/rubric','lib.php',739],['grade/grading/form/guide','lib.php',749]], 49],
'copy': ['copy', '', [], 49],
'preg_match': ['preg_match', '', [], 1286],
'defined': ['defined', '', [], 4731],
'get_class': ['get_class', '', [], 305],
'is_object': ['is_object', '', [], 544],
'is_null': ['is_null', '', [], 2003],
'is_scalar': ['is_scalar', '', [], 30],
'is_array': ['is_array', '', [], 1608],
'time': ['time', '', [], 1959]};
CLASS_DATA={
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 511],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',239]], 1200],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'FORMAT_MOODLE': ['FORMAT_MOODLE', '', [['lib','weblib.php',42]], 506],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'IGNORE_MISSING': ['IGNORE_MISSING', '', [['lib','dmllib.php',48]], 215]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
