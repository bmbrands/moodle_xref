<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /grade/tests/lib_test.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='grade/tests';
filename='lib_test.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/grade/tests/</a> -> <a href="lib_test.php.html">lib_test.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lib_test.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lib_test.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Unit tests for grade/lib.php.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package   core_grades</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category  test</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright 2016 Jun Pataleta</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU Public License</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../grade/lib.php.html">/grade/lib.php</a>');
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">/**</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * Unit tests for grade/lib.php.</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> *</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @package   core_grades</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @category  test</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @copyright 2016 Jun Pataleta &lt;jun@moodle.com&gt;</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> */</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_grade_lib_test')" href="../../_classes/core_grade_lib_test.html" onMouseOver="classPopup(event,'core_grade_lib_test')">core_grade_lib_test</a> extends advanced_testcase {
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>      <span class="comment">/**</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * Test can_output_item.</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     */</span>
<a name="l44"><span class="linenum">  44</span></a>      public function <a class="function" onClick="logFunction('test_can_output_item')" href="../../_functions/test_can_output_item.html" onMouseOver="funcPopup(event,'test_can_output_item')">test_can_output_item</a>() {
<a name="l45"><span class="linenum">  45</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetAfterTest')" href="../../_functions/resetaftertest.html" onMouseOver="funcPopup(event,'resetaftertest')">resetAfterTest</a>();
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>          <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>();
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">        // Course level grade category.</span>
<a name="l50"><span class="linenum">  50</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>-&gt;<a class="function" onClick="logFunction('create_course')" href="../../_functions/create_course.html" onMouseOver="funcPopup(event,'create_course')">create_course</a>();
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">        // Grade tree looks something like:</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">        // - Test course    (Rendered).</span>
<a name="l53"><span class="linenum">  53</span></a>          <a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a> = <a class="class" onClick="logClass('grade_category')" href="../../_classes/grade_category.html" onMouseOver="classPopup(event,'grade_category')">grade_category</a>::<a class="function" onClick="logFunction('fetch_course_tree')" href="../../_functions/fetch_course_tree.html" onMouseOver="funcPopup(event,'fetch_course_tree')">fetch_course_tree</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l54"><span class="linenum">  54</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="class" onClick="logClass('grade_tree')" href="../../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('can_output_item')" href="../../_functions/can_output_item.html" onMouseOver="funcPopup(event,'can_output_item')">can_output_item</a>(<a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a>));
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">        // Add a grade category with default settings.</span>
<a name="l57"><span class="linenum">  57</span></a>          <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>-&gt;<a class="function" onClick="logFunction('create_grade_category')" href="../../_functions/create_grade_category.html" onMouseOver="funcPopup(event,'create_grade_category')">create_grade_category</a>(array('courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">        // Grade tree now looks something like:</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">        // - Test course n        (Rendered).</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">        // -- Grade category n    (Rendered).</span>
<a name="l61"><span class="linenum">  61</span></a>          <a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a> = <a class="class" onClick="logClass('grade_category')" href="../../_classes/grade_category.html" onMouseOver="classPopup(event,'grade_category')">grade_category</a>::<a class="function" onClick="logFunction('fetch_course_tree')" href="../../_functions/fetch_course_tree.html" onMouseOver="funcPopup(event,'fetch_course_tree')">fetch_course_tree</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l62"><span class="linenum">  62</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertNotEmpty')" href="../../_functions/assertnotempty.html" onMouseOver="funcPopup(event,'assertnotempty')">assertNotEmpty</a>(<a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a>['children']);
<a name="l63"><span class="linenum">  63</span></a>          foreach (<a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a>['children'] as <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>) {
<a name="l64"><span class="linenum">  64</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="class" onClick="logClass('grade_tree')" href="../../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('can_output_item')" href="../../_functions/can_output_item.html" onMouseOver="funcPopup(event,'can_output_item')">can_output_item</a>(<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>));
<a name="l65"><span class="linenum">  65</span></a>          }
<a name="l66"><span class="linenum">  66</span></a>  
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">        // Add a grade category with grade type = None.</span>
<a name="l68"><span class="linenum">  68</span></a>          <a class="var it9758" onMouseOver="hilite(9758)" onMouseOut="lolite()" onClick="logVariable('nototalcategory')" href="../../_variables/nototalcategory.html">$nototalcategory</a> = 'No total category';
<a name="l69"><span class="linenum">  69</span></a>          <a class="var it9759" onMouseOver="hilite(9759)" onMouseOut="lolite()" onClick="logVariable('nototalparams')" href="../../_variables/nototalparams.html">$nototalparams</a> = [
<a name="l70"><span class="linenum">  70</span></a>              'courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l71"><span class="linenum">  71</span></a>              'fullname' =&gt; <a class="var it9758" onMouseOver="hilite(9758)" onMouseOut="lolite()" onClick="logVariable('nototalcategory')" href="../../_variables/nototalcategory.html">$nototalcategory</a>,
<a name="l72"><span class="linenum">  72</span></a>              'aggregation' =&gt; <a class="constant" onClick="logConstant('GRADE_AGGREGATE_WEIGHTED_MEAN')" href="../../_constants/GRADE_AGGREGATE_WEIGHTED_MEAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_WEIGHTED_MEAN')">GRADE_AGGREGATE_WEIGHTED_MEAN</a>
<a name="l73"><span class="linenum">  73</span></a>          ];
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it9760" onMouseOver="hilite(9760)" onMouseOut="lolite()" onClick="logVariable('nototal')" href="../../_variables/nototal.html">$nototal</a> = <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>-&gt;<a class="function" onClick="logFunction('create_grade_category')" href="../../_functions/create_grade_category.html" onMouseOver="funcPopup(event,'create_grade_category')">create_grade_category</a>(<a class="var it9759" onMouseOver="hilite(9759)" onMouseOut="lolite()" onClick="logVariable('nototalparams')" href="../../_variables/nototalparams.html">$nototalparams</a>);
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it9761" onMouseOver="hilite(9761)" onMouseOut="lolite()" onClick="logVariable('catnototal')" href="../../_variables/catnototal.html">$catnototal</a> = <a class="class" onClick="logClass('grade_category')" href="../../_classes/grade_category.html" onMouseOver="classPopup(event,'grade_category')">grade_category</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('id' =&gt; <a class="var it9760" onMouseOver="hilite(9760)" onMouseOut="lolite()" onClick="logVariable('nototal')" href="../../_variables/nototal.html">$nototal</a>-&gt;<a onClick="logVariable('id')" class="var it45902" onMouseOver="hilite(45902)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">        // Set the grade type of the grade item associated to the grade category.</span>
<a name="l77"><span class="linenum">  77</span></a>          <a class="var it9762" onMouseOver="hilite(9762)" onMouseOut="lolite()" onClick="logVariable('catitemnototal')" href="../../_variables/catitemnototal.html">$catitemnototal</a> = <a class="var it9761" onMouseOver="hilite(9761)" onMouseOut="lolite()" onClick="logVariable('catnototal')" href="../../_variables/catnototal.html">$catnototal</a>-&gt;<a class="function" onClick="logFunction('load_grade_item')" href="../../_functions/load_grade_item.html" onMouseOver="funcPopup(event,'load_grade_item')">load_grade_item</a>();
<a name="l78"><span class="linenum">  78</span></a>          <a class="var it9762" onMouseOver="hilite(9762)" onMouseOut="lolite()" onClick="logVariable('catitemnototal')" href="../../_variables/catitemnototal.html">$catitemnototal</a>-&gt;<a onClick="logVariable('gradetype')" class="var it45903" onMouseOver="hilite(45903)" onMouseOut="lolite()" href="../../_variables/gradetype.html">gradetype</a> = <a class="constant" onClick="logConstant('GRADE_TYPE_NONE')" href="../../_constants/GRADE_TYPE_NONE.html" onMouseOver="constPopup(event,'GRADE_TYPE_NONE')">GRADE_TYPE_NONE</a>;
<a name="l79"><span class="linenum">  79</span></a>          <a class="var it9762" onMouseOver="hilite(9762)" onMouseOut="lolite()" onClick="logVariable('catitemnototal')" href="../../_variables/catitemnototal.html">$catitemnototal</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">        // Grade tree looks something like:</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">        // - Test course n        (Rendered).</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">        // -- Grade category n    (Rendered).</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">        // -- No total category   (Not rendered).</span>
<a name="l85"><span class="linenum">  85</span></a>          <a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a> = <a class="class" onClick="logClass('grade_category')" href="../../_classes/grade_category.html" onMouseOver="classPopup(event,'grade_category')">grade_category</a>::<a class="function" onClick="logFunction('fetch_course_tree')" href="../../_functions/fetch_course_tree.html" onMouseOver="funcPopup(event,'fetch_course_tree')">fetch_course_tree</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l86"><span class="linenum">  86</span></a>          foreach (<a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a>['children'] as <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>) {
<a name="l87"><span class="linenum">  87</span></a>              if (<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>['object']-&gt;fullname == <a class="var it9758" onMouseOver="hilite(9758)" onMouseOut="lolite()" onClick="logVariable('nototalcategory')" href="../../_variables/nototalcategory.html">$nototalcategory</a>) {
<a name="l88"><span class="linenum">  88</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertFalse(<a class="class" onClick="logClass('grade_tree')" href="../../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('can_output_item')" href="../../_functions/can_output_item.html" onMouseOver="funcPopup(event,'can_output_item')">can_output_item</a>(<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>));
<a name="l89"><span class="linenum">  89</span></a>              } else {
<a name="l90"><span class="linenum">  90</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="class" onClick="logClass('grade_tree')" href="../../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('can_output_item')" href="../../_functions/can_output_item.html" onMouseOver="funcPopup(event,'can_output_item')">can_output_item</a>(<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>));
<a name="l91"><span class="linenum">  91</span></a>              }
<a name="l92"><span class="linenum">  92</span></a>          }
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">        // Add another grade category with default settings under 'No total category'.</span>
<a name="l95"><span class="linenum">  95</span></a>          <a class="var it9763" onMouseOver="hilite(9763)" onMouseOut="lolite()" onClick="logVariable('normalinnototalparams')" href="../../_variables/normalinnototalparams.html">$normalinnototalparams</a> = [
<a name="l96"><span class="linenum">  96</span></a>              'courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l97"><span class="linenum">  97</span></a>              'fullname' =&gt; 'Normal category in no total category',
<a name="l98"><span class="linenum">  98</span></a>              'parent' =&gt; <a class="var it9760" onMouseOver="hilite(9760)" onMouseOut="lolite()" onClick="logVariable('nototal')" href="../../_variables/nototal.html">$nototal</a>-&gt;id
<a name="l99"><span class="linenum">  99</span></a>          ];
<a name="l100"><span class="linenum"> 100</span></a>          <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>-&gt;<a class="function" onClick="logFunction('create_grade_category')" href="../../_functions/create_grade_category.html" onMouseOver="funcPopup(event,'create_grade_category')">create_grade_category</a>(<a class="var it9763" onMouseOver="hilite(9763)" onMouseOut="lolite()" onClick="logVariable('normalinnototalparams')" href="../../_variables/normalinnototalparams.html">$normalinnototalparams</a>);
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">        // Grade tree looks something like:</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">        // - Test course n                           (Rendered).</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">        // -- Grade category n                       (Rendered).</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">        // -- No total category                      (Rendered).</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">        // --- Normal category in no total category  (Rendered).</span>
<a name="l107"><span class="linenum"> 107</span></a>          <a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a> = <a class="class" onClick="logClass('grade_category')" href="../../_classes/grade_category.html" onMouseOver="classPopup(event,'grade_category')">grade_category</a>::<a class="function" onClick="logFunction('fetch_course_tree')" href="../../_functions/fetch_course_tree.html" onMouseOver="funcPopup(event,'fetch_course_tree')">fetch_course_tree</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l108"><span class="linenum"> 108</span></a>          foreach (<a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a>['children'] as <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>) {
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">            // All children are now visible.</span>
<a name="l110"><span class="linenum"> 110</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="class" onClick="logClass('grade_tree')" href="../../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('can_output_item')" href="../../_functions/can_output_item.html" onMouseOver="funcPopup(event,'can_output_item')">can_output_item</a>(<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>));
<a name="l111"><span class="linenum"> 111</span></a>              if (!empty(<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>['children'])) {
<a name="l112"><span class="linenum"> 112</span></a>                  foreach (<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>['children'] as <a class="var it9764" onMouseOver="hilite(9764)" onMouseOut="lolite()" onClick="logVariable('grandchild')" href="../../_variables/grandchild.html">$grandchild</a>) {
<a name="l113"><span class="linenum"> 113</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="class" onClick="logClass('grade_tree')" href="../../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('can_output_item')" href="../../_functions/can_output_item.html" onMouseOver="funcPopup(event,'can_output_item')">can_output_item</a>(<a class="var it9764" onMouseOver="hilite(9764)" onMouseOut="lolite()" onClick="logVariable('grandchild')" href="../../_variables/grandchild.html">$grandchild</a>));
<a name="l114"><span class="linenum"> 114</span></a>                  }
<a name="l115"><span class="linenum"> 115</span></a>              }
<a name="l116"><span class="linenum"> 116</span></a>          }
<a name="l117"><span class="linenum"> 117</span></a>  
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">        // Add a grade category with grade type = None.</span>
<a name="l119"><span class="linenum"> 119</span></a>          <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('nototalcategory2')" href="../../_variables/nototalcategory2.html">$nototalcategory2</a> = 'No total category 2';
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it9766" onMouseOver="hilite(9766)" onMouseOut="lolite()" onClick="logVariable('nototal2params')" href="../../_variables/nototal2params.html">$nototal2params</a> = [
<a name="l121"><span class="linenum"> 121</span></a>              'courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l122"><span class="linenum"> 122</span></a>              'fullname' =&gt; <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('nototalcategory2')" href="../../_variables/nototalcategory2.html">$nototalcategory2</a>,
<a name="l123"><span class="linenum"> 123</span></a>              'aggregation' =&gt; <a class="constant" onClick="logConstant('GRADE_AGGREGATE_WEIGHTED_MEAN')" href="../../_constants/GRADE_AGGREGATE_WEIGHTED_MEAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_WEIGHTED_MEAN')">GRADE_AGGREGATE_WEIGHTED_MEAN</a>
<a name="l124"><span class="linenum"> 124</span></a>          ];
<a name="l125"><span class="linenum"> 125</span></a>          <a class="var it9767" onMouseOver="hilite(9767)" onMouseOut="lolite()" onClick="logVariable('nototal2')" href="../../_variables/nototal2.html">$nototal2</a> = <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>-&gt;<a class="function" onClick="logFunction('create_grade_category')" href="../../_functions/create_grade_category.html" onMouseOver="funcPopup(event,'create_grade_category')">create_grade_category</a>(<a class="var it9766" onMouseOver="hilite(9766)" onMouseOut="lolite()" onClick="logVariable('nototal2params')" href="../../_variables/nototal2params.html">$nototal2params</a>);
<a name="l126"><span class="linenum"> 126</span></a>          <a class="var it9768" onMouseOver="hilite(9768)" onMouseOut="lolite()" onClick="logVariable('catnototal2')" href="../../_variables/catnototal2.html">$catnototal2</a> = <a class="class" onClick="logClass('grade_category')" href="../../_classes/grade_category.html" onMouseOver="classPopup(event,'grade_category')">grade_category</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('id' =&gt; <a class="var it9767" onMouseOver="hilite(9767)" onMouseOut="lolite()" onClick="logVariable('nototal2')" href="../../_variables/nototal2.html">$nototal2</a>-&gt;<a onClick="logVariable('id')" class="var it45904" onMouseOver="hilite(45904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">        // Set the grade type of the grade item associated to the grade category.</span>
<a name="l128"><span class="linenum"> 128</span></a>          <a class="var it9769" onMouseOver="hilite(9769)" onMouseOut="lolite()" onClick="logVariable('catitemnototal2')" href="../../_variables/catitemnototal2.html">$catitemnototal2</a> = <a class="var it9768" onMouseOver="hilite(9768)" onMouseOut="lolite()" onClick="logVariable('catnototal2')" href="../../_variables/catnototal2.html">$catnototal2</a>-&gt;<a class="function" onClick="logFunction('load_grade_item')" href="../../_functions/load_grade_item.html" onMouseOver="funcPopup(event,'load_grade_item')">load_grade_item</a>();
<a name="l129"><span class="linenum"> 129</span></a>          <a class="var it9769" onMouseOver="hilite(9769)" onMouseOut="lolite()" onClick="logVariable('catitemnototal2')" href="../../_variables/catitemnototal2.html">$catitemnototal2</a>-&gt;<a onClick="logVariable('gradetype')" class="var it45905" onMouseOver="hilite(45905)" onMouseOut="lolite()" href="../../_variables/gradetype.html">gradetype</a> = <a class="constant" onClick="logConstant('GRADE_TYPE_NONE')" href="../../_constants/GRADE_TYPE_NONE.html" onMouseOver="constPopup(event,'GRADE_TYPE_NONE')">GRADE_TYPE_NONE</a>;
<a name="l130"><span class="linenum"> 130</span></a>          <a class="var it9769" onMouseOver="hilite(9769)" onMouseOut="lolite()" onClick="logVariable('catitemnototal2')" href="../../_variables/catitemnototal2.html">$catitemnototal2</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l131"><span class="linenum"> 131</span></a>  
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">        // Add a category with no total under 'No total category'.</span>
<a name="l133"><span class="linenum"> 133</span></a>          <a class="var it9770" onMouseOver="hilite(9770)" onMouseOut="lolite()" onClick="logVariable('nototalinnototalcategory')" href="../../_variables/nototalinnototalcategory.html">$nototalinnototalcategory</a> = 'Category with no total in no total category';
<a name="l134"><span class="linenum"> 134</span></a>          <a class="var it9771" onMouseOver="hilite(9771)" onMouseOut="lolite()" onClick="logVariable('nototalinnototalparams')" href="../../_variables/nototalinnototalparams.html">$nototalinnototalparams</a> = [
<a name="l135"><span class="linenum"> 135</span></a>              'courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l136"><span class="linenum"> 136</span></a>              'fullname' =&gt; <a class="var it9770" onMouseOver="hilite(9770)" onMouseOut="lolite()" onClick="logVariable('nototalinnototalcategory')" href="../../_variables/nototalinnototalcategory.html">$nototalinnototalcategory</a>,
<a name="l137"><span class="linenum"> 137</span></a>              'aggregation' =&gt; <a class="constant" onClick="logConstant('GRADE_AGGREGATE_WEIGHTED_MEAN')" href="../../_constants/GRADE_AGGREGATE_WEIGHTED_MEAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_WEIGHTED_MEAN')">GRADE_AGGREGATE_WEIGHTED_MEAN</a>,
<a name="l138"><span class="linenum"> 138</span></a>              'parent' =&gt; <a class="var it9767" onMouseOver="hilite(9767)" onMouseOut="lolite()" onClick="logVariable('nototal2')" href="../../_variables/nototal2.html">$nototal2</a>-&gt;id
<a name="l139"><span class="linenum"> 139</span></a>          ];
<a name="l140"><span class="linenum"> 140</span></a>          <a class="var it9772" onMouseOver="hilite(9772)" onMouseOut="lolite()" onClick="logVariable('nototalinnototal')" href="../../_variables/nototalinnototal.html">$nototalinnototal</a> = <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>-&gt;<a class="function" onClick="logFunction('create_grade_category')" href="../../_functions/create_grade_category.html" onMouseOver="funcPopup(event,'create_grade_category')">create_grade_category</a>(<a class="var it9771" onMouseOver="hilite(9771)" onMouseOut="lolite()" onClick="logVariable('nototalinnototalparams')" href="../../_variables/nototalinnototalparams.html">$nototalinnototalparams</a>);
<a name="l141"><span class="linenum"> 141</span></a>          <a class="var it9773" onMouseOver="hilite(9773)" onMouseOut="lolite()" onClick="logVariable('catnototalinnototal')" href="../../_variables/catnototalinnototal.html">$catnototalinnototal</a> = <a class="class" onClick="logClass('grade_category')" href="../../_classes/grade_category.html" onMouseOver="classPopup(event,'grade_category')">grade_category</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('id' =&gt; <a class="var it9772" onMouseOver="hilite(9772)" onMouseOut="lolite()" onClick="logVariable('nototalinnototal')" href="../../_variables/nototalinnototal.html">$nototalinnototal</a>-&gt;<a onClick="logVariable('id')" class="var it45906" onMouseOver="hilite(45906)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">        // Set the grade type of the grade item associated to the grade category.</span>
<a name="l143"><span class="linenum"> 143</span></a>          <a class="var it9774" onMouseOver="hilite(9774)" onMouseOut="lolite()" onClick="logVariable('catitemnototalinnototal')" href="../../_variables/catitemnototalinnototal.html">$catitemnototalinnototal</a> = <a class="var it9773" onMouseOver="hilite(9773)" onMouseOut="lolite()" onClick="logVariable('catnototalinnototal')" href="../../_variables/catnototalinnototal.html">$catnototalinnototal</a>-&gt;<a class="function" onClick="logFunction('load_grade_item')" href="../../_functions/load_grade_item.html" onMouseOver="funcPopup(event,'load_grade_item')">load_grade_item</a>();
<a name="l144"><span class="linenum"> 144</span></a>          <a class="var it9774" onMouseOver="hilite(9774)" onMouseOut="lolite()" onClick="logVariable('catitemnototalinnototal')" href="../../_variables/catitemnototalinnototal.html">$catitemnototalinnototal</a>-&gt;<a onClick="logVariable('gradetype')" class="var it45907" onMouseOver="hilite(45907)" onMouseOut="lolite()" href="../../_variables/gradetype.html">gradetype</a> = <a class="constant" onClick="logConstant('GRADE_TYPE_NONE')" href="../../_constants/GRADE_TYPE_NONE.html" onMouseOver="constPopup(event,'GRADE_TYPE_NONE')">GRADE_TYPE_NONE</a>;
<a name="l145"><span class="linenum"> 145</span></a>          <a class="var it9774" onMouseOver="hilite(9774)" onMouseOut="lolite()" onClick="logVariable('catitemnototalinnototal')" href="../../_variables/catitemnototalinnototal.html">$catitemnototalinnototal</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">        // Grade tree looks something like:</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">        // - Test course n                                    (Rendered).</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">        // -- Grade category n                                (Rendered).</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">        // -- No total category                               (Rendered).</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">        // --- Normal category in no total category           (Rendered).</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">        // -- No total category 2                             (Not rendered).</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">        // --- Category with no total in no total category    (Not rendered).</span>
<a name="l154"><span class="linenum"> 154</span></a>          <a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a> = <a class="class" onClick="logClass('grade_category')" href="../../_classes/grade_category.html" onMouseOver="classPopup(event,'grade_category')">grade_category</a>::<a class="function" onClick="logFunction('fetch_course_tree')" href="../../_functions/fetch_course_tree.html" onMouseOver="funcPopup(event,'fetch_course_tree')">fetch_course_tree</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l155"><span class="linenum"> 155</span></a>          foreach (<a class="var it9757" onMouseOver="hilite(9757)" onMouseOut="lolite()" onClick="logVariable('gradetree')" href="../../_variables/gradetree.html">$gradetree</a>['children'] as <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>) {
<a name="l156"><span class="linenum"> 156</span></a>              if (<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>['object']-&gt;fullname == <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('nototalcategory2')" href="../../_variables/nototalcategory2.html">$nototalcategory2</a>) {
<a name="l157"><span class="linenum"> 157</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertFalse(<a class="class" onClick="logClass('grade_tree')" href="../../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('can_output_item')" href="../../_functions/can_output_item.html" onMouseOver="funcPopup(event,'can_output_item')">can_output_item</a>(<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>));
<a name="l158"><span class="linenum"> 158</span></a>              } else {
<a name="l159"><span class="linenum"> 159</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="class" onClick="logClass('grade_tree')" href="../../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('can_output_item')" href="../../_functions/can_output_item.html" onMouseOver="funcPopup(event,'can_output_item')">can_output_item</a>(<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>));
<a name="l160"><span class="linenum"> 160</span></a>              }
<a name="l161"><span class="linenum"> 161</span></a>              if (!empty(<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>['children'])) {
<a name="l162"><span class="linenum"> 162</span></a>                  foreach (<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>['children'] as <a class="var it9764" onMouseOver="hilite(9764)" onMouseOut="lolite()" onClick="logVariable('grandchild')" href="../../_variables/grandchild.html">$grandchild</a>) {
<a name="l163"><span class="linenum"> 163</span></a>                      if (<a class="var it9764" onMouseOver="hilite(9764)" onMouseOut="lolite()" onClick="logVariable('grandchild')" href="../../_variables/grandchild.html">$grandchild</a>['object']-&gt;fullname == <a class="var it9770" onMouseOver="hilite(9770)" onMouseOut="lolite()" onClick="logVariable('nototalinnototalcategory')" href="../../_variables/nototalinnototalcategory.html">$nototalinnototalcategory</a>) {
<a name="l164"><span class="linenum"> 164</span></a>                          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertFalse(<a class="class" onClick="logClass('grade_tree')" href="../../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('can_output_item')" href="../../_functions/can_output_item.html" onMouseOver="funcPopup(event,'can_output_item')">can_output_item</a>(<a class="var it9764" onMouseOver="hilite(9764)" onMouseOut="lolite()" onClick="logVariable('grandchild')" href="../../_variables/grandchild.html">$grandchild</a>));
<a name="l165"><span class="linenum"> 165</span></a>                      } else {
<a name="l166"><span class="linenum"> 166</span></a>                          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="class" onClick="logClass('grade_tree')" href="../../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('can_output_item')" href="../../_functions/can_output_item.html" onMouseOver="funcPopup(event,'can_output_item')">can_output_item</a>(<a class="var it9764" onMouseOver="hilite(9764)" onMouseOut="lolite()" onClick="logVariable('grandchild')" href="../../_variables/grandchild.html">$grandchild</a>));
<a name="l167"><span class="linenum"> 167</span></a>                      }
<a name="l168"><span class="linenum"> 168</span></a>                  }
<a name="l169"><span class="linenum"> 169</span></a>              }
<a name="l170"><span class="linenum"> 170</span></a>          }
<a name="l171"><span class="linenum"> 171</span></a>      }
<a name="l172"><span class="linenum"> 172</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'create_grade_category': ['create_grade_category', '', [['grade/tests','report_graderlib_test.php',233],['lib/testing/generator','data_generator.php',963]], 13],
'can_output_item': ['can_output_item', 'Determines whether the grade tree item can be displayed. This is particularly targeted for grade categories that have no total (None) when rendering the grade tree. It checks if the grade tree item is of type \'category\', and makes sure that the category, or at least one of children, can be output. ', [['grade','lib.php',2396]], 14],
'fetch': ['fetch', 'Finds and returns a data_object instance based on params. ', [['completion/criteria','completion_criteria_course.php',46],['lib/minify/lib/Minify/Cache','APC.php',91],['lib/grade','grade_item.php',346],['completion/criteria','completion_criteria_date.php',43],['lib/grade','grade_category.php',184],['lib/grade','grade_scale.php',89],['lib/grade','grade_object.php',126],['completion','data_object.php',152],['completion','completion_completion.php',70],['lib/grade','grade_grade.php',635],['lib/classes/update','checker.php',117],['lib/grade','grade_outcome.php',182],['lib/minify/lib/Minify/Cache','File.php',90],['completion','completion_aggregation.php',68],['completion/criteria','completion_criteria_role.php',43],['lib/minify/lib/Minify/Cache','ZendPlatform.php',97],['lib/horde/framework/Horde/Imap/Client','Base.php',2373],['completion','completion_criteria_completion.php',74],['completion/criteria','completion_criteria_self.php',43],['completion/criteria','completion_criteria_grade.php',45],['completion/criteria','completion_criteria_unenrol.php',43],['lib/minify/lib/Minify/Cache','Memcache.php',97],['lib/classes','notification.php',93],['completion/criteria','completion_criteria_activity.php',45],['completion/criteria','completion_criteria_duration.php',43],['lib/minify/lib/Minify/Cache','WinCache.php',89],['lib/minify/lib/Minify/Cache','XCache.php',86]], 253],
'getdatagenerator': ['getdatagenerator', 'Get data generator ', [['lib/phpunit/classes','advanced_testcase.php',570]], 4450],
'assertnotempty': ['assertnotempty', '', [['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',98]], 402],
'update': ['update', 'In addition to update() as defined in grade_object, handle the grade_outcome and grade_scale objects. Force regrading if necessary, rounds the float numbers using php function, the reason is we need to compare the db value with computed number to skip regrading if possible. ', [['lib/grade','grade_item.php',274],['lib/google/src/Google/Service','Tasks.php',386],['lib/google/src/Google/Service','Tasks.php',556],['lib/google/src/Google/Service','AndroidPublisher.php',1413],['lib/google/src/Google/Service','AndroidPublisher.php',1545],['lib/google/src/Google/Service','AndroidPublisher.php',1615],['lib/google/src/Google/Service','AndroidPublisher.php',1853],['lib/google/src/Google/Service','AndroidPublisher.php',1919],['lib/google/src/Google/Service','AndroidPublisher.php',2003],['lib/google/src/Google/Service','AndroidPublisher.php',2177],['lib/google/src/Google/Service','Reseller.php',344],['lib/grade','grade_category.php',226],['lib/grade','grade_scale.php',125],['lib/adodb','adodb-active-record.inc.php',1004],['lib/grade','grade_object.php',238],['lib/google/src/Google/Service','YouTubeAnalytics.php',534],['completion','data_object.php',252],['mod/lesson/pagetypes','matching.php',308],['tag/classes','collection.php',215],['lib/google/src/Google/Service','AdExchangeBuyer.php',802],['lib/google/src/Google/Service','AdExchangeBuyer.php',906],['lib/google/src/Google/Service','AdExchangeBuyer.php',1013],['lib/google/src/Google/Service','AdExchangeBuyer.php',1181],['lib/google/src/Google/Service','AdExchangeBuyer.php',1357],['lib/google/src/Google/Service','AdExchangeBuyer.php',1640],['lib/google/src/Google/Service','Books.php',2025],['lib/grade','grade_grade.php',1009],['lib/grade','grade_outcome.php',144],['lib/google/src/Google/Service','Analytics.php',2215],['lib/google/src/Google/Service','Analytics.php',2388],['lib/google/src/Google/Service','Analytics.php',2501],['lib/google/src/Google/Service','Analytics.php',2626],['lib/google/src/Google/Service','Analytics.php',2736],['lib/google/src/Google/Service','Analytics.php',2843],['lib/google/src/Google/Service','Analytics.php',2971],['lib/google/src/Google/Service','Analytics.php',3062],['lib/google/src/Google/Service','Analytics.php',3185],['lib/google/src/Google/Service','Analytics.php',3502],['lib/google/src/Google/Service','Analytics.php',3604],['lib/google/src/Google/Service','Analytics.php',3686],['lib/google/src/Google/Service','Coordinate.php',611],['lib/google/src/Google/Service','Coordinate.php',727],['lib/google/src/Google/Service','DeploymentManager.php',589],['tag/classes/output','tagareacollection.php',68],['lib','weblib.php',3312],['lib/google/src/Google/Service','Blogger.php',1349],['lib/google/src/Google/Service','Blogger.php',1647],['lib/google/src/Google/Service','Dataflow.php',350],['tag/classes/output','tagcollname.php',58],['competency/classes','persistent.php',452],['lib/google/src/Google/Service','Cloudresourcemanager.php',344],['lib/google/src/Google/Service','Cloudresourcemanager.php',555],['lib/google/src/Google/Service','TagManager.php',977],['lib/google/src/Google/Service','TagManager.php',1066],['lib/google/src/Google/Service','TagManager.php',1159],['lib/google/src/Google/Service','TagManager.php',1219],['lib/google/src/Google/Service','TagManager.php',1311],['lib/google/src/Google/Service','TagManager.php',1405],['lib/google/src/Google/Service','TagManager.php',1499],['lib/google/src/Google/Service','TagManager.php',1650],['lib/google/src/Google/Service','TagManager.php',1743],['mod/lesson','locallib.php',2691],['lib/google/src/Google/Service','Bigquery.php',621],['lib/google/src/Google/Service','Bigquery.php',953],['lib/google/src/Google/Service','ShoppingContent.php',1136],['lib/google/src/Google/Service','ShoppingContent.php',1238],['lib/google/src/Google/Service','ShoppingContent.php',1401],['lib/google/src/Google/Service','ShoppingContent.php',1534],['mod/lesson/pagetypes','truefalse.php',163],['lib/google/src/Google/Service','Clouddebugger.php',307],['lib/filestorage','stored_file.php',103],['lib/google/src/Google/Service','Container.php',366],['lib/horde/framework/Horde/Support','Array.php',70],['lib/google/src/Google/Service','Storage.php',1127],['lib/google/src/Google/Service','Storage.php',1268],['lib/google/src/Google/Service','Storage.php',1423],['lib/google/src/Google/Service','Storage.php',1564],['lib/google/src/Google/Service','Storage.php',1904],['tag/classes/output','tagname.php',56],['tag/classes/output','tagcollsearchable.php',72],['lib/google/src/Google/Service','Games.php',1508],['lib/google/src/Google/Service','Licensing.php',335],['lib/google/src/Google/Service','Fitness.php',478],['lib/google/src/Google/Service','Fitness.php',691],['lib/google/src/Google/Service','Gmail.php',833],['lib/google/src/Google/Service','Gmail.php',986],['lib/google/src/Google/Service','Taskqueue.php',398],['lib/adodb','adodb-active-recordx.inc.php',1136],['grade/grading/form','lib.php',905],['lib/google/src/Google/Service','Doubleclicksearch.php',326],['lib/google/src/Google/Service','Autoscaler.php',400],['tag/classes/output','tagisstandard.php',70],['lib/google/src/Google/Service','Prediction.php',339],['lib/google/src/Google/Service','SiteVerification.php',227],['lib/google/src/Google/Service','Drive.php',1691],['lib/google/src/Google/Service','Drive.php',1961],['lib/google/src/Google/Service','Drive.php',2208],['lib/google/src/Google/Service','Drive.php',2320],['lib/google/src/Google/Service','Drive.php',2370],['lib/google/src/Google/Service','Drive.php',2494],['lib/google/src/Google/Service','Drive.php',2582],['tag/classes/output','tagflag.php',71],['lib/google/src/Google/Service','Proximitybeacon.php',440],['lib/google/src/Google/Service','Groupssettings.php',138],['lib/google/src/Google/Service','Directory.php',1829],['lib/google/src/Google/Service','Directory.php',1889],['lib/google/src/Google/Service','Directory.php',2141],['lib/google/src/Google/Service','Directory.php',2306],['lib/google/src/Google/Service','Directory.php',2489],['lib/google/src/Google/Service','Directory.php',2597],['lib/google/src/Google/Service','Directory.php',2808],['lib/google/src/Google/Service','Directory.php',2910],['lib/google/src/Google/Service','Directory.php',3131],['lib/google/src/Google/Service','Directory.php',3317],['lib/google/src/Google/Service','Fusiontables.php',727],['lib/google/src/Google/Service','Fusiontables.php',892],['lib/google/src/Google/Service','Fusiontables.php',1094],['lib/google/src/Google/Service','Fusiontables.php',1269],['lib/google/src/Google/Service','AdSenseHost.php',846],['lib/google/src/Google/Service','AdSenseHost.php',1097],['course/classes/output','course_module_name.php',81],['lib/google/src/Google/Service','Mirror.php',496],['lib/google/src/Google/Service','Mirror.php',634],['lib/google/src/Google/Service','Mirror.php',745],['tag/classes','area.php',226],['lib/google/src/Google/Service','AndroidEnterprise.php',1064],['lib/google/src/Google/Service','AndroidEnterprise.php',1165],['lib/google/src/Google/Service','AndroidEnterprise.php',1489],['lib/google/src/Google/Service','AndroidEnterprise.php',1672],['grade/grading/form/rubric','lib.php',828],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',200],['mod/lesson/pagetypes','essay.php',158],['lib','coursecatlib.php',438],['tag/classes','tag.php',893],['lib/google/src/Google/Service','Calendar.php',1006],['lib/google/src/Google/Service','Calendar.php',1181],['lib/google/src/Google/Service','Calendar.php',1333],['lib/google/src/Google/Service','Calendar.php',1714],['lib/google/src/Google/Service','PlusDomains.php',692],['lib/google/src/Google/Service','GamesConfiguration.php',334],['lib/google/src/Google/Service','GamesConfiguration.php',473],['mod/lesson/pagetypes','branchtable.php',262],['tag/classes/output','tagareashowstandard.php',64],['lib/google/src/Google/Service','AppState.php',202],['calendar','lib.php',2206],['tag/classes/output','tagareaenabled.php',69],['cohort/classes/output','cohortidnumber.php',53],['lib/google/src/Google/Service','Classroom.php',564],['cohort/classes/output','cohortname.php',53],['lib/google/src/Google/Service','SQLAdmin.php',947],['lib/google/src/Google/Service','SQLAdmin.php',1267],['lib/google/src/Google/Service','SQLAdmin.php',1534],['grade/grading/form/guide','lib.php',836],['lib/google/src/Google/Service','Compute.php',4253],['lib/google/src/Google/Service','Compute.php',4398],['lib/google/src/Google/Service','Compute.php',4767],['lib/google/src/Google/Service','Compute.php',5348],['lib/google/src/Google/Service','Compute.php',5478],['lib/google/src/Google/Service','Compute.php',8131],['lib/google/src/Google/Service','YouTube.php',1959],['lib/google/src/Google/Service','YouTube.php',2194],['lib/google/src/Google/Service','YouTube.php',2303],['lib/google/src/Google/Service','YouTube.php',2429],['lib/google/src/Google/Service','YouTube.php',2570],['lib/google/src/Google/Service','YouTube.php',3111],['lib/google/src/Google/Service','YouTube.php',3348],['lib/google/src/Google/Service','YouTube.php',3518],['lib/google/src/Google/Service','YouTube.php',3708],['lib/google/src/Google/Service','YouTube.php',4400],['lib/google/src/Google/Service','Dfareporting.php',4752],['lib/google/src/Google/Service','Dfareporting.php',4840],['lib/google/src/Google/Service','Dfareporting.php',4973],['lib/google/src/Google/Service','Dfareporting.php',5090],['lib/google/src/Google/Service','Dfareporting.php',5204],['lib/google/src/Google/Service','Dfareporting.php',5400],['lib/google/src/Google/Service','Dfareporting.php',5656],['lib/google/src/Google/Service','Dfareporting.php',5848],['lib/google/src/Google/Service','Dfareporting.php',5970],['lib/google/src/Google/Service','Dfareporting.php',6078],['lib/google/src/Google/Service','Dfareporting.php',6196],['lib/google/src/Google/Service','Dfareporting.php',6502],['lib/google/src/Google/Service','Dfareporting.php',6704],['lib/google/src/Google/Service','Dfareporting.php',6834],['lib/google/src/Google/Service','Dfareporting.php',6912],['lib/google/src/Google/Service','Dfareporting.php',7077],['lib/google/src/Google/Service','Dfareporting.php',7476],['lib/google/src/Google/Service','Dfareporting.php',7594],['lib/google/src/Google/Service','Dfareporting.php',7744],['lib/google/src/Google/Service','Dfareporting.php',7968],['lib/google/src/Google/Service','Dfareporting.php',8075],['lib/google/src/Google/Service','Dfareporting.php',8202],['lib/google/src/Google/Service','Dfareporting.php',8394],['lib/google/src/Google/Service','Dfareporting.php',8557],['lib/google/src/Google/Service','Dfareporting.php',8861],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',72]], 498],
'resetaftertest': ['resetaftertest', 'Reset everything after current test. ', [['lib/phpunit/classes','advanced_testcase.php',246]], 1528],
'test_can_output_item': ['test_can_output_item', 'Test can_output_item. ', [['grade/tests','lib_test.php',41]], 0],
'create_course': ['create_course', 'Creates the actual course. ', [['admin/tool/generator/classes','course_backend.php',246],['lib/testing/generator','data_generator.php',366],['enrol/ldap','lib.php',949],['course','lib.php',2654]], 1178],
'load_grade_item': ['load_grade_item', 'Uses {@link get_grade_item()} to load or create a grade_item, then saves it as $this->grade_item. ', [['lib/grade','grade_category.php',2223],['lib/grade','grade_grade.php',219]], 63],
'fetch_course_tree': ['fetch_course_tree', 'Returns tree with all grade_items and categories as elements ', [['lib/grade','grade_category.php',2001]], 7],
'defined': ['defined', '', [], 4731]};
CLASS_DATA={
'core_grade_lib_test': ['core_grade_lib_test', 'Unit tests for grade/lib.php. ', [['grade/tests','lib_test.php',31]], 0],
'grade_tree': ['grade_tree', 'This class represents a complete tree of categories, grade_items and final grades, organises as an array primarily, but which can also be converted to other formats. It has simple method calls with complex implementations, allowing for easy insertion, deletion and moving of items and categories within the tree. ', [['grade','lib.php',2182]], 28],
'grade_category': ['grade_category', 'grade_category is an object mapped to DB table {prefix}grade_categories ', [['lib/grade','grade_category.php',29]], 180]};
CONST_DATA={
'GRADE_AGGREGATE_WEIGHTED_MEAN': ['GRADE_AGGREGATE_WEIGHTED_MEAN', '', [['lib/grade','constants.php',58]], 30],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'GRADE_TYPE_NONE': ['GRADE_TYPE_NONE', '', [['lib/grade','constants.php',80]], 47]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
