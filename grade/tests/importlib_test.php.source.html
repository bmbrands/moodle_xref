<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /grade/tests/importlib_test.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='grade/tests';
filename='importlib_test.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/grade/tests/</a> -> <a href="importlib_test.php.html">importlib_test.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="importlib_test.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="importlib_test.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Unit tests for grade/import/lib.php.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package   core_grade</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category  phpunit</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright 2015 Adrian Greeve &lt;adrian@moodle.com&gt;</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU Public License</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../grade/import/lib.php.html">/grade/import/lib.php</a>');
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">/**</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * Tests grade_import_lib functions.</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> */</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_grade_import_lib_test')" href="../../_classes/core_grade_import_lib_test.html" onMouseOver="classPopup(event,'core_grade_import_lib_test')">core_grade_import_lib_test</a> extends advanced_testcase {
<a name="l35"><span class="linenum">  35</span></a>  
<a name="l36"><span class="linenum">  36</span></a>      <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     * Import grades into 'grade_import_values' table. This is done differently in the various import plugins,</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * so there is no direct API to call.</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     *</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     * @param array $data Information to be inserted into the table.</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     * @return int The insert ID of the sql statement.</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     */</span>
<a name="l43"><span class="linenum">  43</span></a>      private function <a class="function" onClick="logFunction('import_grades')" href="../../_functions/import_grades.html" onMouseOver="funcPopup(event,'import_grades')">import_grades</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>) {
<a name="l44"><span class="linenum">  44</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l45"><span class="linenum">  45</span></a>          <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a> = new stdClass();
<a name="l46"><span class="linenum">  46</span></a>          <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('importcode')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/importcode.html">importcode</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['importcode'];
<a name="l47"><span class="linenum">  47</span></a>          if (isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['itemid'])) {
<a name="l48"><span class="linenum">  48</span></a>              <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('itemid')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/itemid.html">itemid</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['itemid'];
<a name="l49"><span class="linenum">  49</span></a>          }
<a name="l50"><span class="linenum">  50</span></a>          <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('userid')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['userid'];
<a name="l51"><span class="linenum">  51</span></a>          if (isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['importer'])) {
<a name="l52"><span class="linenum">  52</span></a>              <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('importer')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/importer.html">importer</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['importer'];
<a name="l53"><span class="linenum">  53</span></a>          } else {
<a name="l54"><span class="linenum">  54</span></a>              <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('importer')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/importer.html">importer</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l55"><span class="linenum">  55</span></a>          }
<a name="l56"><span class="linenum">  56</span></a>          if (isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['finalgrade'])) {
<a name="l57"><span class="linenum">  57</span></a>              <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('finalgrade')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/finalgrade.html">finalgrade</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['finalgrade'];
<a name="l58"><span class="linenum">  58</span></a>          } else {
<a name="l59"><span class="linenum">  59</span></a>              <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('finalgrade')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/finalgrade.html">finalgrade</a> = <a class="phpfunction" onClick="logFunction('rand')" href="../../_functions/rand.html" onMouseOver="phpfuncPopup(event,'rand')">rand</a>(0, 100);
<a name="l60"><span class="linenum">  60</span></a>          }
<a name="l61"><span class="linenum">  61</span></a>          if (isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['feedback'])) {
<a name="l62"><span class="linenum">  62</span></a>              <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('feedback')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['feedback'];
<a name="l63"><span class="linenum">  63</span></a>          }
<a name="l64"><span class="linenum">  64</span></a>          if (isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['importonlyfeedback'])) {
<a name="l65"><span class="linenum">  65</span></a>              <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('importonlyfeedback')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/importonlyfeedback.html">importonlyfeedback</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['importonlyfeedback'];
<a name="l66"><span class="linenum">  66</span></a>          } else {
<a name="l67"><span class="linenum">  67</span></a>              <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('importonlyfeedback')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/importonlyfeedback.html">importonlyfeedback</a> = false;
<a name="l68"><span class="linenum">  68</span></a>          }
<a name="l69"><span class="linenum">  69</span></a>          if (isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['newgradeitem'])) {
<a name="l70"><span class="linenum">  70</span></a>              <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>-&gt;<a onClick="logVariable('newgradeitem')" class="var it45901" onMouseOver="hilite(45901)" onMouseOut="lolite()" href="../../_variables/newgradeitem.html">newgradeitem</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['newgradeitem'];
<a name="l71"><span class="linenum">  71</span></a>          }
<a name="l72"><span class="linenum">  72</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grade_import_values', <a class="var it5301" onMouseOver="hilite(5301)" onMouseOut="lolite()" onClick="logVariable('graderecord')" href="../../_variables/graderecord.html">$graderecord</a>);
<a name="l73"><span class="linenum">  73</span></a>      }
<a name="l74"><span class="linenum">  74</span></a>  
<a name="l75"><span class="linenum">  75</span></a>      <span class="comment">/**</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">     * Tests for importing grades from an external source.</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">     */</span>
<a name="l78"><span class="linenum">  78</span></a>      public function <a class="function" onClick="logFunction('test_grade_import_commit')" href="../../_functions/test_grade_import_commit.html" onMouseOver="funcPopup(event,'test_grade_import_commit')">test_grade_import_commit</a>() {
<a name="l79"><span class="linenum">  79</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l80"><span class="linenum">  80</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetAfterTest')" href="../../_functions/resetaftertest.html" onMouseOver="funcPopup(event,'resetaftertest')">resetAfterTest</a>();
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>          <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a> = <a class="function" onClick="logFunction('get_new_importcode')" href="../../_functions/get_new_importcode.html" onMouseOver="funcPopup(event,'get_new_importcode')">get_new_importcode</a>();
<a name="l83"><span class="linenum">  83</span></a>          <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>();
<a name="l84"><span class="linenum">  84</span></a>          <a class="var it686" onMouseOver="hilite(686)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../../_variables/user2.html">$user2</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>();
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_course')" href="../../_functions/create_course.html" onMouseOver="funcPopup(event,'create_course')">create_course</a>();
<a name="l87"><span class="linenum">  87</span></a>          <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_module')" href="../../_functions/create_module.html" onMouseOver="funcPopup(event,'create_module')">create_module</a>('assign', array('course' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l88"><span class="linenum">  88</span></a>          <a class="var it979" onMouseOver="hilite(979)" onMouseOut="lolite()" onClick="logVariable('itemname')" href="../../_variables/itemname.html">$itemname</a> = <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('name')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l89"><span class="linenum">  89</span></a>          <a class="var it8109" onMouseOver="hilite(8109)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../../_variables/modulecontext.html">$modulecontext</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('cmid')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">        // The generator returns a dummy object, lets get the real assign object.</span>
<a name="l91"><span class="linenum">  91</span></a>          <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it8109" onMouseOver="hilite(8109)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../../_variables/modulecontext.html">$modulecontext</a>, false, false);
<a name="l92"><span class="linenum">  92</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_course_module')" href="../../_functions/get_course_module.html" onMouseOver="funcPopup(event,'get_course_module')">get_course_module</a>();
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">        // Enrol users in the course.</span>
<a name="l95"><span class="linenum">  95</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('enrol_user')" href="../../_functions/enrol_user.html" onMouseOver="funcPopup(event,'enrol_user')">enrol_user</a>(<a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l96"><span class="linenum">  96</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('enrol_user')" href="../../_functions/enrol_user.html" onMouseOver="funcPopup(event,'enrol_user')">enrol_user</a>(<a class="var it686" onMouseOver="hilite(686)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../../_variables/user2.html">$user2</a>-&gt;<a onClick="logVariable('id')" class="var it42952" onMouseOver="hilite(42952)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">        // Enter a new grade into an existing grade item.</span>
<a name="l99"><span class="linenum">  99</span></a>          <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'itemtype' =&gt; 'mod'));
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">        // Keep this value around for a test further down.</span>
<a name="l102"><span class="linenum"> 102</span></a>          <a class="var it8110" onMouseOver="hilite(8110)" onMouseOut="lolite()" onClick="logVariable('originalgrade')" href="../../_variables/originalgrade.html">$originalgrade</a> = 55;
<a name="l103"><span class="linenum"> 103</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('import_grades')" href="../../_functions/import_grades.html" onMouseOver="funcPopup(event,'import_grades')">import_grades</a>(array(
<a name="l104"><span class="linenum"> 104</span></a>              'importcode' =&gt; <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>,
<a name="l105"><span class="linenum"> 105</span></a>              'itemid' =&gt; <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('id')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l106"><span class="linenum"> 106</span></a>              'userid' =&gt; <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l107"><span class="linenum"> 107</span></a>              'finalgrade' =&gt; <a class="var it8110" onMouseOver="hilite(8110)" onMouseOut="lolite()" onClick="logVariable('originalgrade')" href="../../_variables/originalgrade.html">$originalgrade</a>
<a name="l108"><span class="linenum"> 108</span></a>          ));
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>          <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a> = <a class="function" onClick="logFunction('grade_import_commit')" href="../../_functions/grade_import_commit.html" onMouseOver="funcPopup(event,'grade_import_commit')">grade_import_commit</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>, false, false);
<a name="l111"><span class="linenum"> 111</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>);
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">        // Get imported grade_grade.</span>
<a name="l114"><span class="linenum"> 114</span></a>          <a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a> = <a class="class" onClick="logClass('grade_grade')" href="../../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('itemid' =&gt; <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('id')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'userid' =&gt; <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l115"><span class="linenum"> 115</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it8110" onMouseOver="hilite(8110)" onMouseOut="lolite()" onClick="logVariable('originalgrade')" href="../../_variables/originalgrade.html">$originalgrade</a>, <a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a>-&gt;<a onClick="logVariable('finalgrade')" class="var it43454" onMouseOver="hilite(43454)" onMouseOut="lolite()" href="../../_variables/finalgrade.html">finalgrade</a>);
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">        // Overriden field will be a timestamp and will evaluate out to true.</span>
<a name="l117"><span class="linenum"> 117</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a>-&gt;<a class="function" onClick="logFunction('is_overridden')" href="../../_functions/is_overridden.html" onMouseOver="funcPopup(event,'is_overridden')">is_overridden</a>());
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">        // Create a new grade item and import into that.</span>
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a> = <a class="function" onClick="logFunction('get_new_importcode')" href="../../_functions/get_new_importcode.html" onMouseOver="funcPopup(event,'get_new_importcode')">get_new_importcode</a>();
<a name="l121"><span class="linenum"> 121</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = new stdClass();
<a name="l122"><span class="linenum"> 122</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('itemname')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/itemname.html">itemname</a> = '<span class="keyword">New </span><a class="class" onClick="logClass('grade')" href="../../_classes/grade.html" onMouseOver="classPopup(event,'grade')">grade</a> item';
<a name="l123"><span class="linenum"> 123</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('importcode')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/importcode.html">importcode</a> = <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>;
<a name="l124"><span class="linenum"> 124</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('importer')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/importer.html">importer</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l125"><span class="linenum"> 125</span></a>          <a class="var it986" onMouseOver="hilite(986)" onMouseOut="lolite()" onClick="logVariable('insertid')" href="../../_variables/insertid.html">$insertid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grade_import_newitem', <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>);
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>          <a class="var it3414" onMouseOver="hilite(3414)" onMouseOut="lolite()" onClick="logVariable('finalgrade')" href="../../_variables/finalgrade.html">$finalgrade</a> = 75;
<a name="l128"><span class="linenum"> 128</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('import_grades')" href="../../_functions/import_grades.html" onMouseOver="funcPopup(event,'import_grades')">import_grades</a>(array(
<a name="l129"><span class="linenum"> 129</span></a>              'importcode' =&gt; <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>,
<a name="l130"><span class="linenum"> 130</span></a>              'userid' =&gt; <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l131"><span class="linenum"> 131</span></a>              'finalgrade' =&gt; <a class="var it3414" onMouseOver="hilite(3414)" onMouseOut="lolite()" onClick="logVariable('finalgrade')" href="../../_variables/finalgrade.html">$finalgrade</a>,
<a name="l132"><span class="linenum"> 132</span></a>              'newgradeitem' =&gt; <a class="var it986" onMouseOver="hilite(986)" onMouseOut="lolite()" onClick="logVariable('insertid')" href="../../_variables/insertid.html">$insertid</a>
<a name="l133"><span class="linenum"> 133</span></a>          ));
<a name="l134"><span class="linenum"> 134</span></a>  
<a name="l135"><span class="linenum"> 135</span></a>          <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a> = <a class="function" onClick="logFunction('grade_import_commit')" href="../../_functions/grade_import_commit.html" onMouseOver="funcPopup(event,'grade_import_commit')">grade_import_commit</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>, false, false);
<a name="l136"><span class="linenum"> 136</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>);
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">        // Check that we have a new grade_item.</span>
<a name="l138"><span class="linenum"> 138</span></a>          <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'itemtype' =&gt; 'manual'));
<a name="l139"><span class="linenum"> 139</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('itemname')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/itemname.html">itemname</a>, <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('itemname')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/itemname.html">itemname</a>);
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">        // Grades were imported.</span>
<a name="l141"><span class="linenum"> 141</span></a>          <a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a> = <a class="class" onClick="logClass('grade_grade')" href="../../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('itemid' =&gt; <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('id')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'userid' =&gt; <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l142"><span class="linenum"> 142</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it3414" onMouseOver="hilite(3414)" onMouseOut="lolite()" onClick="logVariable('finalgrade')" href="../../_variables/finalgrade.html">$finalgrade</a>, <a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a>-&gt;<a onClick="logVariable('finalgrade')" class="var it43454" onMouseOver="hilite(43454)" onMouseOut="lolite()" href="../../_variables/finalgrade.html">finalgrade</a>);
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">        // As this is a new item the grade has not been overridden.</span>
<a name="l144"><span class="linenum"> 144</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertFalse(<a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a>-&gt;<a class="function" onClick="logFunction('is_overridden')" href="../../_functions/is_overridden.html" onMouseOver="funcPopup(event,'is_overridden')">is_overridden</a>());
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">        // Import feedback only.</span>
<a name="l147"><span class="linenum"> 147</span></a>          <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a> = <a class="function" onClick="logFunction('get_new_importcode')" href="../../_functions/get_new_importcode.html" onMouseOver="funcPopup(event,'get_new_importcode')">get_new_importcode</a>();
<a name="l148"><span class="linenum"> 148</span></a>          <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'itemtype' =&gt; 'mod'));
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>          <a class="var it8112" onMouseOver="hilite(8112)" onMouseOut="lolite()" onClick="logVariable('originalfeedback')" href="../../_variables/originalfeedback.html">$originalfeedback</a> = 'feedback can be useful';
<a name="l151"><span class="linenum"> 151</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('import_grades')" href="../../_functions/import_grades.html" onMouseOver="funcPopup(event,'import_grades')">import_grades</a>(array(
<a name="l152"><span class="linenum"> 152</span></a>              'importcode' =&gt; <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>,
<a name="l153"><span class="linenum"> 153</span></a>              'userid' =&gt; <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l154"><span class="linenum"> 154</span></a>              'itemid' =&gt; <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('id')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l155"><span class="linenum"> 155</span></a>              'feedback' =&gt; <a class="var it8112" onMouseOver="hilite(8112)" onMouseOut="lolite()" onClick="logVariable('originalfeedback')" href="../../_variables/originalfeedback.html">$originalfeedback</a>,
<a name="l156"><span class="linenum"> 156</span></a>              'importonlyfeedback' =&gt; true
<a name="l157"><span class="linenum"> 157</span></a>          ));
<a name="l158"><span class="linenum"> 158</span></a>  
<a name="l159"><span class="linenum"> 159</span></a>          <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a> = <a class="function" onClick="logFunction('grade_import_commit')" href="../../_functions/grade_import_commit.html" onMouseOver="funcPopup(event,'grade_import_commit')">grade_import_commit</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>, true, false);
<a name="l160"><span class="linenum"> 160</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>);
<a name="l161"><span class="linenum"> 161</span></a>          <a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a> = <a class="class" onClick="logClass('grade_grade')" href="../../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('itemid' =&gt; <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('id')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'userid' =&gt; <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">        // The final grade should be the same as the first record further up. We are only altering the feedback.</span>
<a name="l163"><span class="linenum"> 163</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it8110" onMouseOver="hilite(8110)" onMouseOut="lolite()" onClick="logVariable('originalgrade')" href="../../_variables/originalgrade.html">$originalgrade</a>, <a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a>-&gt;<a onClick="logVariable('finalgrade')" class="var it43454" onMouseOver="hilite(43454)" onMouseOut="lolite()" href="../../_variables/finalgrade.html">finalgrade</a>);
<a name="l164"><span class="linenum"> 164</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a>-&gt;<a class="function" onClick="logFunction('is_overridden')" href="../../_functions/is_overridden.html" onMouseOver="funcPopup(event,'is_overridden')">is_overridden</a>());
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">        // Import grades only.</span>
<a name="l167"><span class="linenum"> 167</span></a>          <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a> = <a class="function" onClick="logFunction('get_new_importcode')" href="../../_functions/get_new_importcode.html" onMouseOver="funcPopup(event,'get_new_importcode')">get_new_importcode</a>();
<a name="l168"><span class="linenum"> 168</span></a>          <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'itemtype' =&gt; 'mod'));
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>          <a class="var it3414" onMouseOver="hilite(3414)" onMouseOut="lolite()" onClick="logVariable('finalgrade')" href="../../_variables/finalgrade.html">$finalgrade</a> = 60;
<a name="l171"><span class="linenum"> 171</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('import_grades')" href="../../_functions/import_grades.html" onMouseOver="funcPopup(event,'import_grades')">import_grades</a>(array(
<a name="l172"><span class="linenum"> 172</span></a>              'importcode' =&gt; <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>,
<a name="l173"><span class="linenum"> 173</span></a>              'userid' =&gt; <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l174"><span class="linenum"> 174</span></a>              'itemid' =&gt; <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('id')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l175"><span class="linenum"> 175</span></a>              'finalgrade' =&gt; <a class="var it3414" onMouseOver="hilite(3414)" onMouseOut="lolite()" onClick="logVariable('finalgrade')" href="../../_variables/finalgrade.html">$finalgrade</a>,
<a name="l176"><span class="linenum"> 176</span></a>              'feedback' =&gt; 'feedback can still be useful'
<a name="l177"><span class="linenum"> 177</span></a>          ));
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>          <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a> = <a class="function" onClick="logFunction('grade_import_commit')" href="../../_functions/grade_import_commit.html" onMouseOver="funcPopup(event,'grade_import_commit')">grade_import_commit</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>, false, false);
<a name="l180"><span class="linenum"> 180</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>);
<a name="l181"><span class="linenum"> 181</span></a>          <a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a> = <a class="class" onClick="logClass('grade_grade')" href="../../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('itemid' =&gt; <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('id')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'userid' =&gt; <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l182"><span class="linenum"> 182</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it3414" onMouseOver="hilite(3414)" onMouseOut="lolite()" onClick="logVariable('finalgrade')" href="../../_variables/finalgrade.html">$finalgrade</a>, <a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a>-&gt;<a onClick="logVariable('finalgrade')" class="var it43454" onMouseOver="hilite(43454)" onMouseOut="lolite()" href="../../_variables/finalgrade.html">finalgrade</a>);
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">        // The final feedback should not have changed.</span>
<a name="l184"><span class="linenum"> 184</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it8112" onMouseOver="hilite(8112)" onMouseOut="lolite()" onClick="logVariable('originalfeedback')" href="../../_variables/originalfeedback.html">$originalfeedback</a>, <a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it43454" onMouseOver="hilite(43454)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>);
<a name="l185"><span class="linenum"> 185</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it8111" onMouseOver="hilite(8111)" onMouseOut="lolite()" onClick="logVariable('gradegrade')" href="../../_variables/gradegrade.html">$gradegrade</a>-&gt;<a class="function" onClick="logFunction('is_overridden')" href="../../_functions/is_overridden.html" onMouseOver="funcPopup(event,'is_overridden')">is_overridden</a>());
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">        // Check that printing of import status is correct.</span>
<a name="l188"><span class="linenum"> 188</span></a>          <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a> = <a class="function" onClick="logFunction('get_new_importcode')" href="../../_functions/get_new_importcode.html" onMouseOver="funcPopup(event,'get_new_importcode')">get_new_importcode</a>();
<a name="l189"><span class="linenum"> 189</span></a>          <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'itemtype' =&gt; 'mod'));
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('import_grades')" href="../../_functions/import_grades.html" onMouseOver="funcPopup(event,'import_grades')">import_grades</a>(array(
<a name="l192"><span class="linenum"> 192</span></a>              'importcode' =&gt; <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>,
<a name="l193"><span class="linenum"> 193</span></a>              'userid' =&gt; <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l194"><span class="linenum"> 194</span></a>              'itemid' =&gt; <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;id
<a name="l195"><span class="linenum"> 195</span></a>          ));
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a> . '<a class="filename" href="../../grade/index.php.html">/grade/index.php</a>';
<a name="l198"><span class="linenum"> 198</span></a>          <a class="var it8113" onMouseOver="hilite(8113)" onMouseOut="lolite()" onClick="logVariable('expectedresponse')" href="../../_variables/expectedresponse.html">$expectedresponse</a> = &quot;++ Grade import success ++
<a name="l199"><span class="linenum"> 199</span></a>  &lt;div class=\&quot;continuebutton\&quot;&gt;&lt;form method=\&quot;get\&quot; action=\&quot;<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>\&quot;&gt;&lt;div&gt;&lt;input type=\&quot;submit\&quot; value=\&quot;Continue\&quot; /&gt;&lt;input type=\&quot;hidden\&quot; name=\&quot;id\&quot; value=\&quot;<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>\&quot; /&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&quot;;
<a name="l200"><span class="linenum"> 200</span></a>  
<a name="l201"><span class="linenum"> 201</span></a>          <a class="phpfunction" onClick="logFunction('ob_start')" href="../../_functions/ob_start.html" onMouseOver="phpfuncPopup(event,'ob_start')">ob_start</a>();
<a name="l202"><span class="linenum"> 202</span></a>          <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a> = <a class="function" onClick="logFunction('grade_import_commit')" href="../../_functions/grade_import_commit.html" onMouseOver="funcPopup(event,'grade_import_commit')">grade_import_commit</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8106" onMouseOver="hilite(8106)" onMouseOut="lolite()" onClick="logVariable('importcode')" href="../../_variables/importcode.html">$importcode</a>);
<a name="l203"><span class="linenum"> 203</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = <a class="phpfunction" onClick="logFunction('ob_get_contents')" href="../../_functions/ob_get_contents.html" onMouseOver="phpfuncPopup(event,'ob_get_contents')">ob_get_contents</a>();
<a name="l204"><span class="linenum"> 204</span></a>          <a class="phpfunction" onClick="logFunction('ob_end_clean')" href="../../_functions/ob_end_clean.html" onMouseOver="phpfuncPopup(event,'ob_end_clean')">ob_end_clean</a>();
<a name="l205"><span class="linenum"> 205</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>);
<a name="l206"><span class="linenum"> 206</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it8113" onMouseOver="hilite(8113)" onMouseOut="lolite()" onClick="logVariable('expectedresponse')" href="../../_variables/expectedresponse.html">$expectedresponse</a>, <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>);
<a name="l207"><span class="linenum"> 207</span></a>      }
<a name="l208"><span class="linenum"> 208</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'create_course': ['create_course', 'Creates the actual course. ', [['admin/tool/generator/classes','course_backend.php',246],['lib/testing/generator','data_generator.php',366],['enrol/ldap','lib.php',949],['course','lib.php',2654]], 1178],
'assertequals': ['assertequals', 'Asserts that two variables are equal. ', [['lib/tests','completionlib_test.php',68]], 12471],
'test_grade_import_commit': ['test_grade_import_commit', 'Tests for importing grades from an external source. ', [['grade/tests','importlib_test.php',75]], 0],
'create_user': ['create_user', 'Create a test user ', [['lib/testing/generator','data_generator.php',137]], 1376],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'import_grades': ['import_grades', 'Import grades into \'grade_import_values\' table. This is done differently in the various import plugins, so there is no direct API to call. ', [['grade/tests','importlib_test.php',36]], 5],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'get_course_module': ['get_course_module', 'Gets the course-module object. Intended for use by conditions. ', [['availability/classes','info_module.php',63],['course','externallib.php',2379],['mod/assign','locallib.php',1286]], 238],
'create_module': ['create_module', 'Create a test activity module. ', [['lib/testing/generator','data_generator.php',481],['course','lib.php',3522]], 762],
'enrol_user': ['enrol_user', 'Enrol user into course via enrol instance. ', [['enrol/flatfile','lib.php',144],['lib','enrollib.php',1270],['lib/testing/generator','data_generator.php',891],['enrol/lti/classes','helper.php',233],['enrol/self','externallib.php',122],['enrol/mnet','enrol.php',115],['enrol/guest','lib.php',60]], 745],
'getdatagenerator': ['getdatagenerator', 'Get data generator ', [['lib/phpunit/classes','advanced_testcase.php',570]], 4450],
'is_overridden': ['is_overridden', 'Checks if grade overridden ', [['lib/grade','grade_grade.php',281]], 16],
'fetch': ['fetch', 'Finds and returns a data_object instance based on params. ', [['completion/criteria','completion_criteria_course.php',46],['lib/minify/lib/Minify/Cache','APC.php',91],['lib/grade','grade_item.php',346],['completion/criteria','completion_criteria_date.php',43],['lib/grade','grade_category.php',184],['lib/grade','grade_scale.php',89],['lib/grade','grade_object.php',126],['completion','data_object.php',152],['completion','completion_completion.php',70],['lib/grade','grade_grade.php',635],['lib/classes/update','checker.php',117],['lib/grade','grade_outcome.php',182],['lib/minify/lib/Minify/Cache','File.php',90],['completion','completion_aggregation.php',68],['completion/criteria','completion_criteria_role.php',43],['lib/minify/lib/Minify/Cache','ZendPlatform.php',97],['lib/horde/framework/Horde/Imap/Client','Base.php',2373],['completion','completion_criteria_completion.php',74],['completion/criteria','completion_criteria_self.php',43],['completion/criteria','completion_criteria_grade.php',45],['completion/criteria','completion_criteria_unenrol.php',43],['lib/minify/lib/Minify/Cache','Memcache.php',97],['lib/classes','notification.php',93],['completion/criteria','completion_criteria_activity.php',45],['completion/criteria','completion_criteria_duration.php',43],['lib/minify/lib/Minify/Cache','WinCache.php',89],['lib/minify/lib/Minify/Cache','XCache.php',86]], 253],
'grade_import_commit': ['grade_import_commit', 'given an import code, commits all entries in buffer tables (grade_import_value and grade_import_newitem) If this function is called, we assume that all data collected up to this point is fine and we can go ahead and commit ', [['grade/import','lib.php',35]], 11],
'get_new_importcode': ['get_new_importcode', 'Returns new improtcode for current user ', [['grade/import','lib.php',20]], 8],
'resetaftertest': ['resetaftertest', 'Reset everything after current test. ', [['lib/phpunit/classes','advanced_testcase.php',246]], 1528],
'rand': ['rand', '', [], 99],
'defined': ['defined', '', [], 4731],
'ob_end_clean': ['ob_end_clean', '', [], 76],
'ob_start': ['ob_start', '', [], 101],
'ob_get_contents': ['ob_get_contents', '', [], 62]};
CLASS_DATA={
'grade_item': ['grade_item', 'Class representing a grade item. ', [['lib/grade','grade_item.php',29]], 246],
'grade': ['grade', 'The screen with a list of users. ', [['grade/report/singleview/classes/local/screen','grade.php',38]], 16],
'grade_grade': ['grade_grade', 'grade_grades is an object mapped to DB table {prefix}grade_grades ', [['lib/grade','grade_grade.php',30]], 154],
'core_grade_import_lib_test': ['core_grade_import_lib_test', 'Tests grade_import_lib functions. ', [['grade/tests','importlib_test.php',31]], 0],
'assign': ['assign', 'Standard base class for mod_assign (assignment types). ', [['mod/assign','locallib.php',82]], 76],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
