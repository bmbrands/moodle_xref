<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /grade/edit/outcome/course.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='grade/edit/outcome';
filename='course.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/grade/edit/outcome/</a> -> <a href="course.php.html">course.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="course.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="course.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * A page for selecting outcomes for use in a course</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package   core_grades</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright 2007 Petr Skoda</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  require_once '../../../config.php';
<a name="l26"><span class="linenum">  26</span></a>  require_once <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../../grade/lib.php.html">/grade/lib.php</a>';
<a name="l27"><span class="linenum">  27</span></a>  require_once <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../_variables/libdir.html">libdir</a>.'/gradelib.php';
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a> = <a class="function" onClick="logFunction('required_param')" href="../../../_functions/required_param.html" onMouseOver="funcPopup(event,'required_param')">required_param</a>('id', <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_url')" href="../../../_functions/set_url.html" onMouseOver="funcPopup(event,'set_url')">set_url</a>('<a class="filename" href="../../../grade/edit/outcome/course.php.html">/grade/edit/outcome/course.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>));
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">/// Make sure they can even access this course</span>
<a name="l36"><span class="linenum">  36</span></a>  <a class="function" onClick="logFunction('require_login')" href="../../../_functions/require_login.html" onMouseOver="funcPopup(event,'require_login')">require_login</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>);
<a name="l37"><span class="linenum">  37</span></a>  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l38"><span class="linenum">  38</span></a>  <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/course:update', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">/// return tracking object</span>
<a name="l41"><span class="linenum">  41</span></a>  <a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../../../_variables/gpr.html">$gpr</a> = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_return')" href="../../../_classes/grade_plugin_return.html" onMouseOver="classPopup(event,'grade_plugin_return')">grade_plugin_return</a>(array('type'=&gt;'edit', 'plugin'=&gt;'outcomes', 'courseid'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>));
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">// first of all fix the state of outcomes_course table</span>
<a name="l44"><span class="linenum">  44</span></a>  <a class="var it5166" onMouseOver="hilite(5166)" onMouseOut="lolite()" onClick="logVariable('standardoutcomes')" href="../../../_variables/standardoutcomes.html">$standardoutcomes</a>    = <a class="class" onClick="logClass('grade_outcome')" href="../../../_classes/grade_outcome.html" onMouseOver="classPopup(event,'grade_outcome')">grade_outcome</a>::<a class="function" onClick="logFunction('fetch_all_global')" href="../../../_functions/fetch_all_global.html" onMouseOver="funcPopup(event,'fetch_all_global')">fetch_all_global</a>();
<a name="l45"><span class="linenum">  45</span></a>  <a class="var it5165" onMouseOver="hilite(5165)" onMouseOut="lolite()" onClick="logVariable('co_custom')" href="../../../_variables/co_custom.html">$co_custom</a>           = <a class="class" onClick="logClass('grade_outcome')" href="../../../_classes/grade_outcome.html" onMouseOver="classPopup(event,'grade_outcome')">grade_outcome</a>::<a class="function" onClick="logFunction('fetch_all_local')" href="../../../_functions/fetch_all_local.html" onMouseOver="funcPopup(event,'fetch_all_local')">fetch_all_local</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>);
<a name="l46"><span class="linenum">  46</span></a>  <a class="var it5164" onMouseOver="hilite(5164)" onMouseOut="lolite()" onClick="logVariable('co_standard_used')" href="../../../_variables/co_standard_used.html">$co_standard_used</a>    = array();
<a name="l47"><span class="linenum">  47</span></a>  <a class="var it5163" onMouseOver="hilite(5163)" onMouseOut="lolite()" onClick="logVariable('co_standard_notused')" href="../../../_variables/co_standard_notused.html">$co_standard_notused</a> = array();
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>  if (<a class="var it27399" onMouseOver="hilite(27399)" onMouseOut="lolite()" onClick="logVariable('courseused')" href="../../../_variables/courseused.html">$courseused</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('grade_outcomes_courses', array('courseid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>), '', 'outcomeid')) {
<a name="l50"><span class="linenum">  50</span></a>      <a class="var it27399" onMouseOver="hilite(27399)" onMouseOut="lolite()" onClick="logVariable('courseused')" href="../../../_variables/courseused.html">$courseused</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it27399" onMouseOver="hilite(27399)" onMouseOut="lolite()" onClick="logVariable('courseused')" href="../../../_variables/courseused.html">$courseused</a>);
<a name="l51"><span class="linenum">  51</span></a>  } else {
<a name="l52"><span class="linenum">  52</span></a>      <a class="var it27399" onMouseOver="hilite(27399)" onMouseOut="lolite()" onClick="logVariable('courseused')" href="../../../_variables/courseused.html">$courseused</a> = array();
<a name="l53"><span class="linenum">  53</span></a>  }
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">// fix wrong entries in outcomes_courses</span>
<a name="l56"><span class="linenum">  56</span></a>  foreach (<a class="var it27399" onMouseOver="hilite(27399)" onMouseOut="lolite()" onClick="logVariable('courseused')" href="../../../_variables/courseused.html">$courseused</a> as <a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>) {
<a name="l57"><span class="linenum">  57</span></a>      if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>, <a class="var it5166" onMouseOver="hilite(5166)" onMouseOut="lolite()" onClick="logVariable('standardoutcomes')" href="../../../_variables/standardoutcomes.html">$standardoutcomes</a>) and !<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>, <a class="var it5165" onMouseOver="hilite(5165)" onMouseOut="lolite()" onClick="logVariable('co_custom')" href="../../../_variables/co_custom.html">$co_custom</a>)) {
<a name="l58"><span class="linenum">  58</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('grade_outcomes_courses', array('outcomeid' =&gt; <a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>, 'courseid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>));
<a name="l59"><span class="linenum">  59</span></a>      }
<a name="l60"><span class="linenum">  60</span></a>  }
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">// fix local custom outcomes missing in outcomes_course</span>
<a name="l63"><span class="linenum">  63</span></a>  foreach(<a class="var it5165" onMouseOver="hilite(5165)" onMouseOut="lolite()" onClick="logVariable('co_custom')" href="../../../_variables/co_custom.html">$co_custom</a> as <a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>=&gt;<a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../../_variables/outcome.html">$outcome</a>) {
<a name="l64"><span class="linenum">  64</span></a>      if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>, <a class="var it27399" onMouseOver="hilite(27399)" onMouseOut="lolite()" onClick="logVariable('courseused')" href="../../../_variables/courseused.html">$courseused</a>)) {
<a name="l65"><span class="linenum">  65</span></a>          <a class="var it27399" onMouseOver="hilite(27399)" onMouseOut="lolite()" onClick="logVariable('courseused')" href="../../../_variables/courseused.html">$courseused</a>[<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>] = <a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>;
<a name="l66"><span class="linenum">  66</span></a>          <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a> = new stdClass();
<a name="l67"><span class="linenum">  67</span></a>          <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a>-&gt;<a onClick="logVariable('courseid')" class="var it40072" onMouseOver="hilite(40072)" onMouseOut="lolite()" href="../../../_variables/courseid.html">courseid</a> = <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>;
<a name="l68"><span class="linenum">  68</span></a>          <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a>-&gt;<a onClick="logVariable('outcomeid')" class="var it40072" onMouseOver="hilite(40072)" onMouseOut="lolite()" href="../../../_variables/outcomeid.html">outcomeid</a> = <a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>;
<a name="l69"><span class="linenum">  69</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grade_outcomes_courses', <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a>);
<a name="l70"><span class="linenum">  70</span></a>      }
<a name="l71"><span class="linenum">  71</span></a>  }
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">// now check all used standard outcomes are in outcomes_course too</span>
<a name="l74"><span class="linenum">  74</span></a>  <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>);
<a name="l75"><span class="linenum">  75</span></a>  <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../_variables/sql.html">$sql</a> = &quot;SELECT DISTINCT outcomeid
<a name="l76"><span class="linenum">  76</span></a>            FROM {grade_items}
<a name="l77"><span class="linenum">  77</span></a>           WHERE courseid=? and outcomeid IS NOT NULL&quot;;
<a name="l78"><span class="linenum">  78</span></a>  if (<a class="var it27401" onMouseOver="hilite(27401)" onMouseOut="lolite()" onClick="logVariable('realused')" href="../../../_variables/realused.html">$realused</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>)) {
<a name="l79"><span class="linenum">  79</span></a>      <a class="var it27401" onMouseOver="hilite(27401)" onMouseOut="lolite()" onClick="logVariable('realused')" href="../../../_variables/realused.html">$realused</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it27401" onMouseOver="hilite(27401)" onMouseOut="lolite()" onClick="logVariable('realused')" href="../../../_variables/realused.html">$realused</a>);
<a name="l80"><span class="linenum">  80</span></a>      foreach (<a class="var it27401" onMouseOver="hilite(27401)" onMouseOut="lolite()" onClick="logVariable('realused')" href="../../../_variables/realused.html">$realused</a> as <a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>) {
<a name="l81"><span class="linenum">  81</span></a>          if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>, <a class="var it5166" onMouseOver="hilite(5166)" onMouseOut="lolite()" onClick="logVariable('standardoutcomes')" href="../../../_variables/standardoutcomes.html">$standardoutcomes</a>)) {
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>              <a class="var it5164" onMouseOver="hilite(5164)" onMouseOut="lolite()" onClick="logVariable('co_standard_used')" href="../../../_variables/co_standard_used.html">$co_standard_used</a>[<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>] = <a class="var it5166" onMouseOver="hilite(5166)" onMouseOut="lolite()" onClick="logVariable('standardoutcomes')" href="../../../_variables/standardoutcomes.html">$standardoutcomes</a>[<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>];
<a name="l84"><span class="linenum">  84</span></a>              unset(<a class="var it5166" onMouseOver="hilite(5166)" onMouseOut="lolite()" onClick="logVariable('standardoutcomes')" href="../../../_variables/standardoutcomes.html">$standardoutcomes</a>[<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>]);
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>              if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>, <a class="var it27399" onMouseOver="hilite(27399)" onMouseOut="lolite()" onClick="logVariable('courseused')" href="../../../_variables/courseused.html">$courseused</a>)) {
<a name="l87"><span class="linenum">  87</span></a>                  <a class="var it27399" onMouseOver="hilite(27399)" onMouseOut="lolite()" onClick="logVariable('courseused')" href="../../../_variables/courseused.html">$courseused</a>[<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>] = <a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>;
<a name="l88"><span class="linenum">  88</span></a>                  <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a> = new stdClass();
<a name="l89"><span class="linenum">  89</span></a>                  <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a>-&gt;<a onClick="logVariable('courseid')" class="var it40072" onMouseOver="hilite(40072)" onMouseOut="lolite()" href="../../../_variables/courseid.html">courseid</a> = <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>;
<a name="l90"><span class="linenum">  90</span></a>                  <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a>-&gt;<a onClick="logVariable('outcomeid')" class="var it40072" onMouseOver="hilite(40072)" onMouseOut="lolite()" href="../../../_variables/outcomeid.html">outcomeid</a> = <a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>;
<a name="l91"><span class="linenum">  91</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grade_outcomes_courses', <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a>);
<a name="l92"><span class="linenum">  92</span></a>              }
<a name="l93"><span class="linenum">  93</span></a>          }
<a name="l94"><span class="linenum">  94</span></a>      }
<a name="l95"><span class="linenum">  95</span></a>  }
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">// find all unused standard course outcomes - candidates for removal</span>
<a name="l98"><span class="linenum">  98</span></a>  foreach (<a class="var it5166" onMouseOver="hilite(5166)" onMouseOut="lolite()" onClick="logVariable('standardoutcomes')" href="../../../_variables/standardoutcomes.html">$standardoutcomes</a> as <a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>=&gt;<a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../../_variables/outcome.html">$outcome</a>) {
<a name="l99"><span class="linenum">  99</span></a>      if (<a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>, <a class="var it27399" onMouseOver="hilite(27399)" onMouseOut="lolite()" onClick="logVariable('courseused')" href="../../../_variables/courseused.html">$courseused</a>)) {
<a name="l100"><span class="linenum"> 100</span></a>          <a class="var it5163" onMouseOver="hilite(5163)" onMouseOut="lolite()" onClick="logVariable('co_standard_notused')" href="../../../_variables/co_standard_notused.html">$co_standard_notused</a>[<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>] = <a class="var it5166" onMouseOver="hilite(5166)" onMouseOut="lolite()" onClick="logVariable('standardoutcomes')" href="../../../_variables/standardoutcomes.html">$standardoutcomes</a>[<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>];
<a name="l101"><span class="linenum"> 101</span></a>          unset(<a class="var it5166" onMouseOver="hilite(5166)" onMouseOut="lolite()" onClick="logVariable('standardoutcomes')" href="../../../_variables/standardoutcomes.html">$standardoutcomes</a>[<a class="var it14053" onMouseOver="hilite(14053)" onMouseOut="lolite()" onClick="logVariable('oid')" href="../../../_variables/oid.html">$oid</a>]);
<a name="l102"><span class="linenum"> 102</span></a>      }
<a name="l103"><span class="linenum"> 103</span></a>  }
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">/// form processing</span>
<a name="l107"><span class="linenum"> 107</span></a>  if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a> = <a class="function" onClick="logFunction('data_submitted')" href="../../../_functions/data_submitted.html" onMouseOver="funcPopup(event,'data_submitted')">data_submitted</a>() and <a class="function" onClick="logFunction('confirm_sesskey')" href="../../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>()) {
<a name="l108"><span class="linenum"> 108</span></a>      <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/grade:manageoutcomes', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l109"><span class="linenum"> 109</span></a>      if (!empty(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('add')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../_variables/add.html">add</a>) &amp;&amp; !empty(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('addoutcomes')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../_variables/addoutcomes.html">addoutcomes</a>)) {
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">    /// add all selected to course list</span>
<a name="l111"><span class="linenum"> 111</span></a>          foreach (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('addoutcomes')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../_variables/addoutcomes.html">addoutcomes</a> as <a class="var it7499" onMouseOver="hilite(7499)" onMouseOut="lolite()" onClick="logVariable('add')" href="../../../_variables/add.html">$add</a>) {
<a name="l112"><span class="linenum"> 112</span></a>              <a class="var it7499" onMouseOver="hilite(7499)" onMouseOut="lolite()" onClick="logVariable('add')" href="../../../_variables/add.html">$add</a> = <a class="function" onClick="logFunction('clean_param')" href="../../../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it7499" onMouseOver="hilite(7499)" onMouseOut="lolite()" onClick="logVariable('add')" href="../../../_variables/add.html">$add</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l113"><span class="linenum"> 113</span></a>              if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it7499" onMouseOver="hilite(7499)" onMouseOut="lolite()" onClick="logVariable('add')" href="../../../_variables/add.html">$add</a>, <a class="var it5166" onMouseOver="hilite(5166)" onMouseOut="lolite()" onClick="logVariable('standardoutcomes')" href="../../../_variables/standardoutcomes.html">$standardoutcomes</a>)) {
<a name="l114"><span class="linenum"> 114</span></a>                  continue;
<a name="l115"><span class="linenum"> 115</span></a>              }
<a name="l116"><span class="linenum"> 116</span></a>              <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a> = new stdClass();
<a name="l117"><span class="linenum"> 117</span></a>              <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a>-&gt;<a onClick="logVariable('courseid')" class="var it40072" onMouseOver="hilite(40072)" onMouseOut="lolite()" href="../../../_variables/courseid.html">courseid</a> = <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>;
<a name="l118"><span class="linenum"> 118</span></a>              <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a>-&gt;<a onClick="logVariable('outcomeid')" class="var it40072" onMouseOver="hilite(40072)" onMouseOut="lolite()" href="../../../_variables/outcomeid.html">outcomeid</a> = <a class="var it7499" onMouseOver="hilite(7499)" onMouseOut="lolite()" onClick="logVariable('add')" href="../../../_variables/add.html">$add</a>;
<a name="l119"><span class="linenum"> 119</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grade_outcomes_courses', <a class="var it27400" onMouseOver="hilite(27400)" onMouseOut="lolite()" onClick="logVariable('goc')" href="../../../_variables/goc.html">$goc</a>);
<a name="l120"><span class="linenum"> 120</span></a>          }
<a name="l121"><span class="linenum"> 121</span></a>  
<a name="l122"><span class="linenum"> 122</span></a>      } else if (!empty(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('remove')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../_variables/remove.html">remove</a>) &amp;&amp; !empty(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('removeoutcomes')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../_variables/removeoutcomes.html">removeoutcomes</a>)) {
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">    /// remove all selected from course outcomes list</span>
<a name="l124"><span class="linenum"> 124</span></a>          foreach (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('removeoutcomes')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../_variables/removeoutcomes.html">removeoutcomes</a> as <a class="var it9515" onMouseOver="hilite(9515)" onMouseOut="lolite()" onClick="logVariable('remove')" href="../../../_variables/remove.html">$remove</a>) {
<a name="l125"><span class="linenum"> 125</span></a>              <a class="var it9515" onMouseOver="hilite(9515)" onMouseOut="lolite()" onClick="logVariable('remove')" href="../../../_variables/remove.html">$remove</a> = <a class="function" onClick="logFunction('clean_param')" href="../../../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it9515" onMouseOver="hilite(9515)" onMouseOut="lolite()" onClick="logVariable('remove')" href="../../../_variables/remove.html">$remove</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l126"><span class="linenum"> 126</span></a>              if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it9515" onMouseOver="hilite(9515)" onMouseOut="lolite()" onClick="logVariable('remove')" href="../../../_variables/remove.html">$remove</a>, <a class="var it5163" onMouseOver="hilite(5163)" onMouseOut="lolite()" onClick="logVariable('co_standard_notused')" href="../../../_variables/co_standard_notused.html">$co_standard_notused</a>)) {
<a name="l127"><span class="linenum"> 127</span></a>                  continue;
<a name="l128"><span class="linenum"> 128</span></a>              }
<a name="l129"><span class="linenum"> 129</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('grade_outcomes_courses', array('courseid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>, 'outcomeid' =&gt; <a class="var it9515" onMouseOver="hilite(9515)" onMouseOut="lolite()" onClick="logVariable('remove')" href="../../../_variables/remove.html">$remove</a>));
<a name="l130"><span class="linenum"> 130</span></a>          }
<a name="l131"><span class="linenum"> 131</span></a>      }
<a name="l132"><span class="linenum"> 132</span></a>      <a class="function" onClick="logFunction('redirect')" href="../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>('course.php?id='.<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../_variables/courseid.html">$courseid</a>); <span class="comment">// we must redirect to get fresh data</span>
<a name="l133"><span class="linenum"> 133</span></a>  }
<a name="l134"><span class="linenum"> 134</span></a>  
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">/// Print header</span>
<a name="l136"><span class="linenum"> 136</span></a>  <a class="function" onClick="logFunction('print_grade_page_head')" href="../../../_functions/print_grade_page_head.html" onMouseOver="funcPopup(event,'print_grade_page_head')">print_grade_page_head</a>(<a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../../_variables/COURSE.html">$COURSE</a>-&gt;<a onClick="logVariable('id')" class="var it39504" onMouseOver="hilite(39504)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'outcome', 'course');
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>  <span class="keyword">require</span> <a class="filename" href="../../../grade/edit/outcome/course_form.html.html" onMouseOver="reqPopup(event, 'course_form.html', '../../../grade/edit/outcome/course_form.html')">('course_form.html')</a>;
<a name="l139"><span class="linenum"> 139</span></a>  
<a name="l140"><span class="linenum"> 140</span></a>  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
<a name="l141"><span class="linenum"> 141</span></a>  
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'data_submitted': ['data_submitted', 'Determine if there is data waiting to be processed from a form ', [['lib','weblib.php',904]], 83],
'fetch_all_local': ['fetch_all_local', 'Static function returning all local course scales ', [['lib/grade','grade_scale.php',251],['lib/grade','grade_outcome.php',230]], 8],
'set_url': ['set_url', 'Set the url specifics ', [['backup/cc/cc_lib','cc_weblink.php',50],['backup/util/ui','restore_ui_components.php',141],['mod/wiki','pagelib.php',246],['mod/wiki','pagelib.php',334],['mod/wiki','pagelib.php',421],['mod/wiki','pagelib.php',701],['mod/wiki','pagelib.php',726],['mod/wiki','pagelib.php',840],['mod/wiki','pagelib.php',884],['mod/wiki','pagelib.php',1013],['mod/wiki','pagelib.php',1117],['mod/wiki','pagelib.php',1224],['mod/wiki','pagelib.php',1467],['mod/wiki','pagelib.php',1869],['mod/wiki','pagelib.php',1937],['mod/wiki','pagelib.php',2111],['mod/wiki','pagelib.php',2172],['mod/wiki','pagelib.php',2228],['mod/wiki','pagelib.php',2293],['mod/wiki','pagelib.php',2341],['mod/wiki','pagelib.php',2389],['mod/wiki','pagelib.php',2493],['lib','outputcomponents.php',2823],['lib','pagelib.php',1198]], 574],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required. ', [['lib/dml','pgsql_native_moodle_database.php',883],['lib/dml','oci_native_moodle_database.php',1249],['lib/dml','sqlsrv_native_moodle_database.php',978],['lib/dml','mssql_native_moodle_database.php',898],['lib/dml','mysqli_native_moodle_database.php',1177],['lib/dml/tests','dml_test.php',5427],['lib/dml','pdo_moodle_database.php',386],['question/engine/upgrade','upgradelib.php',121]], 1512],
'require_login': ['require_login', 'This function checks that the current user is logged in and has the required privileges ', [['lib','moodlelib.php',2444]], 635],
'print_grade_page_head': ['print_grade_page_head', 'Prints the page headers, breadcrumb trail, page heading, (optional) dropdown navigation menu and (optional) navigation tabs for any gradebook page. All gradebook pages MUST use these functions in favour of the usual print_header(), print_header_simple(), print_heading() etc. !IMPORTANT! Use of tabs.php file in gradebook pages is forbidden unless tabs are switched off at the site level for the gradebook ($CFG->grade_navmethod = GRADE_NAVMETHOD_DROPDOWN). ', [['grade','lib.php',803]], 44],
'get_records': ['get_records', 'Get a number of records as an array of objects where all the given conditions met. ', [['lib/dml','moodle_database.php',1236],['lib','coursecatlib.php',654],['question','category_class.php',63]], 860],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'require_capability': ['require_capability', 'Adds a required capability which all results will be checked against ', [['backup/util/ui','restore_ui_components.php',157],['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',891],['lib','accesslib.php',764]], 628],
'confirm_sesskey': ['confirm_sesskey', 'Check the sesskey and return true of false for whether it is valid. (You might like to imagine this function is called sesskey_is_valid().) ', [['lib','sessionlib.php',52]], 315],
'fetch_all_global': ['fetch_all_global', 'Static function returning all global scales ', [['lib/grade','grade_scale.php',242],['lib/grade','grade_outcome.php',217]], 10],
'footer': ['footer', 'Returns the footer ', [['mod/lesson','renderer.php',78],['lib/tcpdf','tcpdf.php',3464],['lib','outputrenderers.php',1021],['lib','outputrenderers.php',4143],['lib','outputrenderers.php',4248]], 780],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',768]], 607],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','oci_native_moodle_database.php',1102],['lib/dml','sqlsrv_native_moodle_database.php',823],['lib/dml','mssql_native_moodle_database.php',741],['lib/dml','mysqli_native_moodle_database.php',1049],['lib/dml/tests','dml_test.php',5424],['lib/dml','pdo_moodle_database.php',308]], 678],
'required_param': ['required_param', 'Returns a particular value for the named variable, taken from POST or GET.  If the parameter doesn\'t exist then an error is thrown because we require this variable. ', [['lib','moodlelib.php',521]], 816],
'redirect': ['redirect', 'Redirect the browser ', [['','mdeploy.php',1474],['lib','weblib.php',2514]], 948],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','moodle_database.php',1815],['lib/dml','sqlite3_pdo_moodle_database.php',337]], 778],
'in_array': ['in_array', '', [], 1173],
'array_key_exists': ['array_key_exists', '', [], 1539],
'array_keys': ['array_keys', '', [], 1152]};
CLASS_DATA={
'grade_outcome': ['grade_outcome', 'Class representing a grade outcome. ', [['lib/grade','grade_outcome.php',30]], 39],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6766]], 1197],
'grade_plugin_return': ['grade_plugin_return', 'Utility class used for return tracking when using edit and other forms in grade plugins ', [['grade','lib.php',927]], 25]};
CONST_DATA={
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 2948],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1252]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
