<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /grade/lib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='grade';
filename='lib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/grade/</a> -> <a href="lib.php.html">lib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Functions used by gradebook plugins and reports.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package   core_grades</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright 2009 Petr Skoda and Nicolas Connault</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a> . '/gradelib.php');
<a name="l26"><span class="linenum">  26</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../grade/export/lib.php.html">/grade/export/lib.php</a>');
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * This class iterates over all users that are graded in a course.</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * Returns detailed info about users and their grades.</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> *</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @author Petr Skoda &lt;skodak@moodle.org&gt;</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> */</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('graded_users_iterator')" href="../_classes/graded_users_iterator.html" onMouseOver="classPopup(event,'graded_users_iterator')">graded_users_iterator</a> {
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>      <span class="comment">/**</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * The couse whose users we are interested in</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     */</span>
<a name="l40"><span class="linenum">  40</span></a>      protected <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>;
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>      <span class="comment">/**</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * An array of grade items or null if only user data was requested</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     */</span>
<a name="l45"><span class="linenum">  45</span></a>      protected <a class="var it6045" onMouseOver="hilite(6045)" onMouseOut="lolite()" onClick="logVariable('grade_items')" href="../_variables/grade_items.html">$grade_items</a>;
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>      <span class="comment">/**</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * The group ID we are interested in. 0 means all groups.</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     */</span>
<a name="l50"><span class="linenum">  50</span></a>      protected <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>;
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>      <span class="comment">/**</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     * A recordset of graded users</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     */</span>
<a name="l55"><span class="linenum">  55</span></a>      protected <a class="var it30060" onMouseOver="hilite(30060)" onMouseOut="lolite()" onClick="logVariable('users_rs')" href="../_variables/users_rs.html">$users_rs</a>;
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>      <span class="comment">/**</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * A recordset of user grades (grade_grade instances)</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     */</span>
<a name="l60"><span class="linenum">  60</span></a>      protected <a class="var it30061" onMouseOver="hilite(30061)" onMouseOut="lolite()" onClick="logVariable('grades_rs')" href="../_variables/grades_rs.html">$grades_rs</a>;
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>      <span class="comment">/**</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * Array used when moving to next user while iterating through the grades recordset</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     */</span>
<a name="l65"><span class="linenum">  65</span></a>      protected <a class="var it30062" onMouseOver="hilite(30062)" onMouseOut="lolite()" onClick="logVariable('gradestack')" href="../_variables/gradestack.html">$gradestack</a>;
<a name="l66"><span class="linenum">  66</span></a>  
<a name="l67"><span class="linenum">  67</span></a>      <span class="comment">/**</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     * The first field of the users table by which the array of users will be sorted</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     */</span>
<a name="l70"><span class="linenum">  70</span></a>      protected <a class="var it30063" onMouseOver="hilite(30063)" onMouseOut="lolite()" onClick="logVariable('sortfield1')" href="../_variables/sortfield1.html">$sortfield1</a>;
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>      <span class="comment">/**</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     * Should sortfield1 be ASC or DESC</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">     */</span>
<a name="l75"><span class="linenum">  75</span></a>      protected <a class="var it30064" onMouseOver="hilite(30064)" onMouseOut="lolite()" onClick="logVariable('sortorder1')" href="../_variables/sortorder1.html">$sortorder1</a>;
<a name="l76"><span class="linenum">  76</span></a>  
<a name="l77"><span class="linenum">  77</span></a>      <span class="comment">/**</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">     * The second field of the users table by which the array of users will be sorted</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">     */</span>
<a name="l80"><span class="linenum">  80</span></a>      protected <a class="var it30065" onMouseOver="hilite(30065)" onMouseOut="lolite()" onClick="logVariable('sortfield2')" href="../_variables/sortfield2.html">$sortfield2</a>;
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>      <span class="comment">/**</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     * Should sortfield2 be ASC or DESC</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     */</span>
<a name="l85"><span class="linenum">  85</span></a>      protected <a class="var it30066" onMouseOver="hilite(30066)" onMouseOut="lolite()" onClick="logVariable('sortorder2')" href="../_variables/sortorder2.html">$sortorder2</a>;
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>      <span class="comment">/**</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     * Should users whose enrolment has been suspended be ignored?</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     */</span>
<a name="l90"><span class="linenum">  90</span></a>      protected <a class="var it2289" onMouseOver="hilite(2289)" onMouseOut="lolite()" onClick="logVariable('onlyactive')" href="../_variables/onlyactive.html">$onlyactive</a> = false;
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>      <span class="comment">/**</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">     * Enable user custom fields</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     */</span>
<a name="l95"><span class="linenum">  95</span></a>      protected <a class="var it30067" onMouseOver="hilite(30067)" onMouseOut="lolite()" onClick="logVariable('allowusercustomfields')" href="../_variables/allowusercustomfields.html">$allowusercustomfields</a> = false;
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>      <span class="comment">/**</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">     * List of suspended users in course. This includes users whose enrolment status is suspended</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">     * or enrolment has expired or not started.</span>
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">     */</span>
<a name="l101"><span class="linenum"> 101</span></a>      protected <a class="var it17776" onMouseOver="hilite(17776)" onMouseOut="lolite()" onClick="logVariable('suspendedusers')" href="../_variables/suspendedusers.html">$suspendedusers</a> = array();
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>      <span class="comment">/**</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">     * Constructor</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">     *</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     * @param object $course A course object</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">     * @param array  $grade_items array of grade items, if not specified only user info returned</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">     * @param int    $groupid iterate only group users if present</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">     * @param string $sortfield1 The first field of the users table by which the array of users will be sorted</span>
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">     * @param string $sortorder1 The order in which the first sorting field will be sorted (ASC or DESC)</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">     * @param string $sortfield2 The second field of the users table by which the array of users will be sorted</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     * @param string $sortorder2 The order in which the second sorting field will be sorted (ASC or DESC)</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     */</span>
<a name="l114"><span class="linenum"> 114</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it6045" onMouseOver="hilite(6045)" onMouseOut="lolite()" onClick="logVariable('grade_items')" href="../_variables/grade_items.html">$grade_items</a>=null, <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>=0,
<a name="l115"><span class="linenum"> 115</span></a>                                            <a class="var it30063" onMouseOver="hilite(30063)" onMouseOut="lolite()" onClick="logVariable('sortfield1')" href="../_variables/sortfield1.html">$sortfield1</a>='lastname', <a class="var it30064" onMouseOver="hilite(30064)" onMouseOut="lolite()" onClick="logVariable('sortorder1')" href="../_variables/sortorder1.html">$sortorder1</a>='ASC',
<a name="l116"><span class="linenum"> 116</span></a>                                            <a class="var it30065" onMouseOver="hilite(30065)" onMouseOut="lolite()" onClick="logVariable('sortfield2')" href="../_variables/sortfield2.html">$sortfield2</a>='firstname', <a class="var it30066" onMouseOver="hilite(30066)" onMouseOut="lolite()" onClick="logVariable('sortorder2')" href="../_variables/sortorder2.html">$sortorder2</a>='ASC') {
<a name="l117"><span class="linenum"> 117</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('course')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/course.html">course</a>      = <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>;
<a name="l118"><span class="linenum"> 118</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grade_items')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grade_items.html">grade_items</a> = <a class="var it6045" onMouseOver="hilite(6045)" onMouseOut="lolite()" onClick="logVariable('grade_items')" href="../_variables/grade_items.html">$grade_items</a>;
<a name="l119"><span class="linenum"> 119</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('groupid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/groupid.html">groupid</a>     = <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>;
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortfield1')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortfield1.html">sortfield1</a>  = <a class="var it30063" onMouseOver="hilite(30063)" onMouseOut="lolite()" onClick="logVariable('sortfield1')" href="../_variables/sortfield1.html">$sortfield1</a>;
<a name="l121"><span class="linenum"> 121</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortorder1')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortorder1.html">sortorder1</a>  = <a class="var it30064" onMouseOver="hilite(30064)" onMouseOut="lolite()" onClick="logVariable('sortorder1')" href="../_variables/sortorder1.html">$sortorder1</a>;
<a name="l122"><span class="linenum"> 122</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortfield2')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortfield2.html">sortfield2</a>  = <a class="var it30065" onMouseOver="hilite(30065)" onMouseOut="lolite()" onClick="logVariable('sortfield2')" href="../_variables/sortfield2.html">$sortfield2</a>;
<a name="l123"><span class="linenum"> 123</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortorder2')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortorder2.html">sortorder2</a>  = <a class="var it30066" onMouseOver="hilite(30066)" onMouseOut="lolite()" onClick="logVariable('sortorder2')" href="../_variables/sortorder2.html">$sortorder2</a>;
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gradestack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/gradestack.html">gradestack</a>  = array();
<a name="l126"><span class="linenum"> 126</span></a>      }
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>      <span class="comment">/**</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     * Initialise the iterator</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     *</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * @return boolean success</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     */</span>
<a name="l133"><span class="linenum"> 133</span></a>      public function <a class="function" onClick="logFunction('init')" href="../_functions/init.html" onMouseOver="funcPopup(event,'init')">init</a>() {
<a name="l134"><span class="linenum"> 134</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>          <a class="function" onClick="logFunction('export_verify_grades')" href="../_functions/export_verify_grades.html" onMouseOver="funcPopup(event,'export_verify_grades')">export_verify_grades</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('course')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/course.html">course</a>-&gt;id);
<a name="l139"><span class="linenum"> 139</span></a>          <a class="var it10010" onMouseOver="hilite(10010)" onMouseOut="lolite()" onClick="logVariable('course_item')" href="../_variables/course_item.html">$course_item</a> = <a class="class" onClick="logClass('grade_item')" href="../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch_course_item')" href="../_functions/fetch_course_item.html" onMouseOver="funcPopup(event,'fetch_course_item')">fetch_course_item</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('course')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/course.html">course</a>-&gt;id);
<a name="l140"><span class="linenum"> 140</span></a>          if (<a class="var it10010" onMouseOver="hilite(10010)" onMouseOut="lolite()" onClick="logVariable('course_item')" href="../_variables/course_item.html">$course_item</a>-&gt;<a onClick="logVariable('needsupdate')" class="var it39609" onMouseOver="hilite(39609)" onMouseOut="lolite()" href="../_variables/needsupdate.html">needsupdate</a>) {
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">            // Can not calculate all final grades - sorry.</span>
<a name="l142"><span class="linenum"> 142</span></a>              return false;
<a name="l143"><span class="linenum"> 143</span></a>          }
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>          <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('course')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/course.html">course</a>-&gt;id);
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>          <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it7804" onMouseOver="hilite(7804)" onMouseOut="lolite()" onClick="logVariable('relatedctxsql')" href="../_variables/relatedctxsql.html">$relatedctxsql</a>, <a class="var it7805" onMouseOver="hilite(7805)" onMouseOut="lolite()" onClick="logVariable('relatedctxparams')" href="../_variables/relatedctxparams.html">$relatedctxparams</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>-&gt;<a class="function" onClick="logFunction('get_parent_context_ids')" href="../_functions/get_parent_context_ids.html" onMouseOver="funcPopup(event,'get_parent_context_ids')">get_parent_context_ids</a>(true), <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>, 'relatedctx');
<a name="l148"><span class="linenum"> 148</span></a>          <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it30068" onMouseOver="hilite(30068)" onMouseOut="lolite()" onClick="logVariable('gradebookroles_sql')" href="../_variables/gradebookroles_sql.html">$gradebookroles_sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('gradebookroles')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/gradebookroles.html">gradebookroles</a>), <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>, 'grbr');
<a name="l149"><span class="linenum"> 149</span></a>          <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it18752" onMouseOver="hilite(18752)" onMouseOut="lolite()" onClick="logVariable('enrolledsql')" href="../_variables/enrolledsql.html">$enrolledsql</a>, <a class="var it18753" onMouseOver="hilite(18753)" onMouseOut="lolite()" onClick="logVariable('enrolledparams')" href="../_variables/enrolledparams.html">$enrolledparams</a>) = <a class="function" onClick="logFunction('get_enrolled_sql')" href="../_functions/get_enrolled_sql.html" onMouseOver="funcPopup(event,'get_enrolled_sql')">get_enrolled_sql</a>(<a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>, '', 0, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('onlyactive')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/onlyactive.html">onlyactive</a>);
<a name="l150"><span class="linenum"> 150</span></a>  
<a name="l151"><span class="linenum"> 151</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>, <a class="var it18753" onMouseOver="hilite(18753)" onMouseOut="lolite()" onClick="logVariable('enrolledparams')" href="../_variables/enrolledparams.html">$enrolledparams</a>, <a class="var it7805" onMouseOver="hilite(7805)" onMouseOut="lolite()" onClick="logVariable('relatedctxparams')" href="../_variables/relatedctxparams.html">$relatedctxparams</a>);
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('groupid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/groupid.html">groupid</a>) {
<a name="l154"><span class="linenum"> 154</span></a>              <a class="var it10002" onMouseOver="hilite(10002)" onMouseOut="lolite()" onClick="logVariable('groupsql')" href="../_variables/groupsql.html">$groupsql</a> = &quot;INNER JOIN {groups_members} gm ON gm.userid = u.id&quot;;
<a name="l155"><span class="linenum"> 155</span></a>              <a class="var it10003" onMouseOver="hilite(10003)" onMouseOut="lolite()" onClick="logVariable('groupwheresql')" href="../_variables/groupwheresql.html">$groupwheresql</a> = &quot;AND gm.groupid = :groupid&quot;;
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">            // $params contents: gradebookroles</span>
<a name="l157"><span class="linenum"> 157</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['groupid'] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('groupid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/groupid.html">groupid</a>;
<a name="l158"><span class="linenum"> 158</span></a>          } else {
<a name="l159"><span class="linenum"> 159</span></a>              <a class="var it10002" onMouseOver="hilite(10002)" onMouseOut="lolite()" onClick="logVariable('groupsql')" href="../_variables/groupsql.html">$groupsql</a> = &quot;&quot;;
<a name="l160"><span class="linenum"> 160</span></a>              <a class="var it10003" onMouseOver="hilite(10003)" onMouseOut="lolite()" onClick="logVariable('groupwheresql')" href="../_variables/groupwheresql.html">$groupwheresql</a> = &quot;&quot;;
<a name="l161"><span class="linenum"> 161</span></a>          }
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>          if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortfield1')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortfield1.html">sortfield1</a>)) {
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">            // We must do some sorting even if not specified.</span>
<a name="l165"><span class="linenum"> 165</span></a>              <a class="var it30069" onMouseOver="hilite(30069)" onMouseOut="lolite()" onClick="logVariable('ofields')" href="../_variables/ofields.html">$ofields</a> = &quot;, u.id AS usrt&quot;;
<a name="l166"><span class="linenum"> 166</span></a>              <a class="var it2283" onMouseOver="hilite(2283)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a>   = &quot;usrt ASC&quot;;
<a name="l167"><span class="linenum"> 167</span></a>  
<a name="l168"><span class="linenum"> 168</span></a>          } else {
<a name="l169"><span class="linenum"> 169</span></a>              <a class="var it30069" onMouseOver="hilite(30069)" onMouseOut="lolite()" onClick="logVariable('ofields')" href="../_variables/ofields.html">$ofields</a> = &quot;, u.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortfield1')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortfield1.html">sortfield1</a> AS usrt1&quot;;
<a name="l170"><span class="linenum"> 170</span></a>              <a class="var it2283" onMouseOver="hilite(2283)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a>   = &quot;usrt1 <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortorder1')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortorder1.html">sortorder1</a>&quot;;
<a name="l171"><span class="linenum"> 171</span></a>              if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortfield2')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortfield2.html">sortfield2</a>)) {
<a name="l172"><span class="linenum"> 172</span></a>                  <a class="var it30069" onMouseOver="hilite(30069)" onMouseOut="lolite()" onClick="logVariable('ofields')" href="../_variables/ofields.html">$ofields</a> .= &quot;, u.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortfield2')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortfield2.html">sortfield2</a> AS usrt2&quot;;
<a name="l173"><span class="linenum"> 173</span></a>                  <a class="var it2283" onMouseOver="hilite(2283)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a>   .= &quot;, usrt2 <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortorder2')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortorder2.html">sortorder2</a>&quot;;
<a name="l174"><span class="linenum"> 174</span></a>              }
<a name="l175"><span class="linenum"> 175</span></a>              if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortfield1')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortfield1.html">sortfield1</a> != 'id' and <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sortfield2')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/sortfield2.html">sortfield2</a> != 'id') {
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">                // User order MUST be the same in both queries,</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">                // must include the only unique user-&gt;id if not already present.</span>
<a name="l178"><span class="linenum"> 178</span></a>                  <a class="var it30069" onMouseOver="hilite(30069)" onMouseOut="lolite()" onClick="logVariable('ofields')" href="../_variables/ofields.html">$ofields</a> .= &quot;, u.id AS usrt&quot;;
<a name="l179"><span class="linenum"> 179</span></a>                  <a class="var it2283" onMouseOver="hilite(2283)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a>   .= &quot;, usrt ASC&quot;;
<a name="l180"><span class="linenum"> 180</span></a>              }
<a name="l181"><span class="linenum"> 181</span></a>          }
<a name="l182"><span class="linenum"> 182</span></a>  
<a name="l183"><span class="linenum"> 183</span></a>          <a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a> = 'u.*';
<a name="l184"><span class="linenum"> 184</span></a>          <a class="var it30070" onMouseOver="hilite(30070)" onMouseOut="lolite()" onClick="logVariable('customfieldssql')" href="../_variables/customfieldssql.html">$customfieldssql</a> = '';
<a name="l185"><span class="linenum"> 185</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('allowusercustomfields')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/allowusercustomfields.html">allowusercustomfields</a> &amp;&amp; !empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('grade_export_customprofilefields')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/grade_export_customprofilefields.html">grade_export_customprofilefields</a>)) {
<a name="l186"><span class="linenum"> 186</span></a>              <a class="var it30072" onMouseOver="hilite(30072)" onMouseOut="lolite()" onClick="logVariable('customfieldscount')" href="../_variables/customfieldscount.html">$customfieldscount</a> = 0;
<a name="l187"><span class="linenum"> 187</span></a>              <a class="var it30073" onMouseOver="hilite(30073)" onMouseOut="lolite()" onClick="logVariable('customfieldsarray')" href="../_variables/customfieldsarray.html">$customfieldsarray</a> = grade_helper::<a class="function" onClick="logFunction('get_user_profile_fields')" href="../_functions/get_user_profile_fields.html" onMouseOver="funcPopup(event,'get_user_profile_fields')">get_user_profile_fields</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('course')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/course.html">course</a>-&gt;id, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('allowusercustomfields')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/allowusercustomfields.html">allowusercustomfields</a>);
<a name="l188"><span class="linenum"> 188</span></a>              foreach (<a class="var it30073" onMouseOver="hilite(30073)" onMouseOut="lolite()" onClick="logVariable('customfieldsarray')" href="../_variables/customfieldsarray.html">$customfieldsarray</a> as <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>) {
<a name="l189"><span class="linenum"> 189</span></a>                  if (!empty(<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('customid')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/customid.html">customid</a>)) {
<a name="l190"><span class="linenum"> 190</span></a>                      <a class="var it30070" onMouseOver="hilite(30070)" onMouseOut="lolite()" onClick="logVariable('customfieldssql')" href="../_variables/customfieldssql.html">$customfieldssql</a> .= &quot;
<a name="l191"><span class="linenum"> 191</span></a>                              LEFT <a class="function" onClick="logFunction('JOIN')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">JOIN</a> (SELECT * FROM {user_info_data}
<a name="l192"><span class="linenum"> 192</span></a>                                  WHERE fieldid = :cf<a class="var it30072" onMouseOver="hilite(30072)" onMouseOut="lolite()" onClick="logVariable('customfieldscount')" href="../_variables/customfieldscount.html">$customfieldscount</a>) cf<a class="var it30072" onMouseOver="hilite(30072)" onMouseOut="lolite()" onClick="logVariable('customfieldscount')" href="../_variables/customfieldscount.html">$customfieldscount</a>
<a name="l193"><span class="linenum"> 193</span></a>                              ON u.id = cf<a class="var it30072" onMouseOver="hilite(30072)" onMouseOut="lolite()" onClick="logVariable('customfieldscount')" href="../_variables/customfieldscount.html">$customfieldscount</a>.userid&quot;;
<a name="l194"><span class="linenum"> 194</span></a>                      <a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a> .= &quot;, cf<a class="var it30072" onMouseOver="hilite(30072)" onMouseOut="lolite()" onClick="logVariable('customfieldscount')" href="../_variables/customfieldscount.html">$customfieldscount</a>.data AS customfield_{<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('shortname')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>}&quot;;
<a name="l195"><span class="linenum"> 195</span></a>                      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['cf'.<a class="var it30072" onMouseOver="hilite(30072)" onMouseOut="lolite()" onClick="logVariable('customfieldscount')" href="../_variables/customfieldscount.html">$customfieldscount</a>] = <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('customid')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/customid.html">customid</a>;
<a name="l196"><span class="linenum"> 196</span></a>                      <a class="var it30072" onMouseOver="hilite(30072)" onMouseOut="lolite()" onClick="logVariable('customfieldscount')" href="../_variables/customfieldscount.html">$customfieldscount</a>++;
<a name="l197"><span class="linenum"> 197</span></a>                  }
<a name="l198"><span class="linenum"> 198</span></a>              }
<a name="l199"><span class="linenum"> 199</span></a>          }
<a name="l200"><span class="linenum"> 200</span></a>  
<a name="l201"><span class="linenum"> 201</span></a>          <a class="var it30075" onMouseOver="hilite(30075)" onMouseOut="lolite()" onClick="logVariable('users_sql')" href="../_variables/users_sql.html">$users_sql</a> = &quot;SELECT <a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a> <a class="var it30069" onMouseOver="hilite(30069)" onMouseOut="lolite()" onClick="logVariable('ofields')" href="../_variables/ofields.html">$ofields</a>
<a name="l202"><span class="linenum"> 202</span></a>                          FROM {user} u
<a name="l203"><span class="linenum"> 203</span></a>                          <a class="function" onClick="logFunction('JOIN')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">JOIN</a> (<a class="var it18752" onMouseOver="hilite(18752)" onMouseOut="lolite()" onClick="logVariable('enrolledsql')" href="../_variables/enrolledsql.html">$enrolledsql</a>) je ON je.id = u.id
<a name="l204"><span class="linenum"> 204</span></a>                               <a class="var it10002" onMouseOver="hilite(10002)" onMouseOut="lolite()" onClick="logVariable('groupsql')" href="../_variables/groupsql.html">$groupsql</a> <a class="var it30070" onMouseOver="hilite(30070)" onMouseOut="lolite()" onClick="logVariable('customfieldssql')" href="../_variables/customfieldssql.html">$customfieldssql</a>
<a name="l205"><span class="linenum"> 205</span></a>                          <a class="function" onClick="logFunction('JOIN')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">JOIN</a> (
<a name="l206"><span class="linenum"> 206</span></a>                                    SELECT DISTINCT ra.userid
<a name="l207"><span class="linenum"> 207</span></a>                                      FROM {role_assignments} ra
<a name="l208"><span class="linenum"> 208</span></a>                                     WHERE ra.roleid <a class="var it30068" onMouseOver="hilite(30068)" onMouseOut="lolite()" onClick="logVariable('gradebookroles_sql')" href="../_variables/gradebookroles_sql.html">$gradebookroles_sql</a>
<a name="l209"><span class="linenum"> 209</span></a>                                       AND ra.contextid <a class="var it7804" onMouseOver="hilite(7804)" onMouseOut="lolite()" onClick="logVariable('relatedctxsql')" href="../_variables/relatedctxsql.html">$relatedctxsql</a>
<a name="l210"><span class="linenum"> 210</span></a>                               ) rainner ON rainner.userid = u.id
<a name="l211"><span class="linenum"> 211</span></a>                           WHERE u.deleted = 0
<a name="l212"><span class="linenum"> 212</span></a>                               <a class="var it10003" onMouseOver="hilite(10003)" onMouseOut="lolite()" onClick="logVariable('groupwheresql')" href="../_variables/groupwheresql.html">$groupwheresql</a>
<a name="l213"><span class="linenum"> 213</span></a>                      ORDER BY <a class="var it2283" onMouseOver="hilite(2283)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a>&quot;;
<a name="l214"><span class="linenum"> 214</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('users_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/users_rs.html">users_rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it30075" onMouseOver="hilite(30075)" onMouseOut="lolite()" onClick="logVariable('users_sql')" href="../_variables/users_sql.html">$users_sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>          if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('onlyactive')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/onlyactive.html">onlyactive</a>) {
<a name="l217"><span class="linenum"> 217</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('course')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/course.html">course</a>-&gt;id);
<a name="l218"><span class="linenum"> 218</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('suspendedusers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/suspendedusers.html">suspendedusers</a> = <a class="function" onClick="logFunction('get_suspended_userids')" href="../_functions/get_suspended_userids.html" onMouseOver="funcPopup(event,'get_suspended_userids')">get_suspended_userids</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l219"><span class="linenum"> 219</span></a>          } else {
<a name="l220"><span class="linenum"> 220</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('suspendedusers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/suspendedusers.html">suspendedusers</a> = array();
<a name="l221"><span class="linenum"> 221</span></a>          }
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grade_items')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grade_items.html">grade_items</a>)) {
<a name="l224"><span class="linenum"> 224</span></a>              <a class="var it15371" onMouseOver="hilite(15371)" onMouseOut="lolite()" onClick="logVariable('itemids')" href="../_variables/itemids.html">$itemids</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grade_items')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grade_items.html">grade_items</a>);
<a name="l225"><span class="linenum"> 225</span></a>              <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it22565" onMouseOver="hilite(22565)" onMouseOut="lolite()" onClick="logVariable('itemidsql')" href="../_variables/itemidsql.html">$itemidsql</a>, <a class="var it30076" onMouseOver="hilite(30076)" onMouseOut="lolite()" onClick="logVariable('grades_params')" href="../_variables/grades_params.html">$grades_params</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it15371" onMouseOver="hilite(15371)" onMouseOut="lolite()" onClick="logVariable('itemids')" href="../_variables/itemids.html">$itemids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>, 'items');
<a name="l226"><span class="linenum"> 226</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>, <a class="var it30076" onMouseOver="hilite(30076)" onMouseOut="lolite()" onClick="logVariable('grades_params')" href="../_variables/grades_params.html">$grades_params</a>);
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>              <a class="var it30077" onMouseOver="hilite(30077)" onMouseOut="lolite()" onClick="logVariable('grades_sql')" href="../_variables/grades_sql.html">$grades_sql</a> = &quot;SELECT g.* <a class="var it30069" onMouseOver="hilite(30069)" onMouseOut="lolite()" onClick="logVariable('ofields')" href="../_variables/ofields.html">$ofields</a>
<a name="l229"><span class="linenum"> 229</span></a>                               FROM {grade_grades} g
<a name="l230"><span class="linenum"> 230</span></a>                               JOIN {user} u ON g.userid = u.id
<a name="l231"><span class="linenum"> 231</span></a>                               <a class="function" onClick="logFunction('JOIN')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">JOIN</a> (<a class="var it18752" onMouseOver="hilite(18752)" onMouseOut="lolite()" onClick="logVariable('enrolledsql')" href="../_variables/enrolledsql.html">$enrolledsql</a>) je ON je.id = u.id
<a name="l232"><span class="linenum"> 232</span></a>                                    <a class="var it10002" onMouseOver="hilite(10002)" onMouseOut="lolite()" onClick="logVariable('groupsql')" href="../_variables/groupsql.html">$groupsql</a>
<a name="l233"><span class="linenum"> 233</span></a>                               <a class="function" onClick="logFunction('JOIN')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">JOIN</a> (
<a name="l234"><span class="linenum"> 234</span></a>                                        SELECT DISTINCT ra.userid
<a name="l235"><span class="linenum"> 235</span></a>                                          FROM {role_assignments} ra
<a name="l236"><span class="linenum"> 236</span></a>                                         WHERE ra.roleid <a class="var it30068" onMouseOver="hilite(30068)" onMouseOut="lolite()" onClick="logVariable('gradebookroles_sql')" href="../_variables/gradebookroles_sql.html">$gradebookroles_sql</a>
<a name="l237"><span class="linenum"> 237</span></a>                                           AND ra.contextid <a class="var it7804" onMouseOver="hilite(7804)" onMouseOut="lolite()" onClick="logVariable('relatedctxsql')" href="../_variables/relatedctxsql.html">$relatedctxsql</a>
<a name="l238"><span class="linenum"> 238</span></a>                                    ) rainner ON rainner.userid = u.id
<a name="l239"><span class="linenum"> 239</span></a>                                WHERE u.deleted = 0
<a name="l240"><span class="linenum"> 240</span></a>                                AND g.itemid <a class="var it22565" onMouseOver="hilite(22565)" onMouseOut="lolite()" onClick="logVariable('itemidsql')" href="../_variables/itemidsql.html">$itemidsql</a>
<a name="l241"><span class="linenum"> 241</span></a>                                <a class="var it10003" onMouseOver="hilite(10003)" onMouseOut="lolite()" onClick="logVariable('groupwheresql')" href="../_variables/groupwheresql.html">$groupwheresql</a>
<a name="l242"><span class="linenum"> 242</span></a>                           ORDER BY <a class="var it2283" onMouseOver="hilite(2283)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a>, g.itemid ASC&quot;;
<a name="l243"><span class="linenum"> 243</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grades_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grades_rs.html">grades_rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it30077" onMouseOver="hilite(30077)" onMouseOut="lolite()" onClick="logVariable('grades_sql')" href="../_variables/grades_sql.html">$grades_sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l244"><span class="linenum"> 244</span></a>          } else {
<a name="l245"><span class="linenum"> 245</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grades_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grades_rs.html">grades_rs</a> = false;
<a name="l246"><span class="linenum"> 246</span></a>          }
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>          return true;
<a name="l249"><span class="linenum"> 249</span></a>      }
<a name="l250"><span class="linenum"> 250</span></a>  
<a name="l251"><span class="linenum"> 251</span></a>      <span class="comment">/**</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     * Returns information about the next user</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     * @return mixed array of user info, all grades and feedback or null when no more users found</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">     */</span>
<a name="l255"><span class="linenum"> 255</span></a>      public function <a class="function" onClick="logFunction('next_user')" href="../_functions/next_user.html" onMouseOver="funcPopup(event,'next_user')">next_user</a>() {
<a name="l256"><span class="linenum"> 256</span></a>          if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('users_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/users_rs.html">users_rs</a>) {
<a name="l257"><span class="linenum"> 257</span></a>              return false; <span class="comment">// no users present</span>
<a name="l258"><span class="linenum"> 258</span></a>          }
<a name="l259"><span class="linenum"> 259</span></a>  
<a name="l260"><span class="linenum"> 260</span></a>          if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('users_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/users_rs.html">users_rs</a>-&gt;<a class="function" onClick="logFunction('valid')" href="../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>()) {
<a name="l261"><span class="linenum"> 261</span></a>              if (<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_pop')" href="../_functions/_pop.html" onMouseOver="funcPopup(event,'_pop')">_pop</a>()) {
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">                // this is not good - user or grades updated between the two reads above :-(</span>
<a name="l263"><span class="linenum"> 263</span></a>              }
<a name="l264"><span class="linenum"> 264</span></a>  
<a name="l265"><span class="linenum"> 265</span></a>              return false; <span class="comment">// no more users</span>
<a name="l266"><span class="linenum"> 266</span></a>          } else {
<a name="l267"><span class="linenum"> 267</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('users_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/users_rs.html">users_rs</a>-&gt;<a class="phpfunction" onClick="logFunction('current')" href="../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>();
<a name="l268"><span class="linenum"> 268</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('users_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/users_rs.html">users_rs</a>-&gt;<a class="phpfunction" onClick="logFunction('next')" href="../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>();
<a name="l269"><span class="linenum"> 269</span></a>          }
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">        // find grades of this user</span>
<a name="l272"><span class="linenum"> 272</span></a>          <a class="var it10031" onMouseOver="hilite(10031)" onMouseOut="lolite()" onClick="logVariable('grade_records')" href="../_variables/grade_records.html">$grade_records</a> = array();
<a name="l273"><span class="linenum"> 273</span></a>          while (true) {
<a name="l274"><span class="linenum"> 274</span></a>              if (!<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_pop')" href="../_functions/_pop.html" onMouseOver="funcPopup(event,'_pop')">_pop</a>()) {
<a name="l275"><span class="linenum"> 275</span></a>                  break; <span class="comment">// no more grades</span>
<a name="l276"><span class="linenum"> 276</span></a>              }
<a name="l277"><span class="linenum"> 277</span></a>  
<a name="l278"><span class="linenum"> 278</span></a>              if (empty(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a>-&gt;<a onClick="logVariable('userid')" class="var it39467" onMouseOver="hilite(39467)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>)) {
<a name="l279"><span class="linenum"> 279</span></a>                  break;
<a name="l280"><span class="linenum"> 280</span></a>              }
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>              if (<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a>-&gt;<a onClick="logVariable('userid')" class="var it39467" onMouseOver="hilite(39467)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a> != <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">                // grade of the next user, we have all for this user</span>
<a name="l284"><span class="linenum"> 284</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_push')" href="../_functions/_push.html" onMouseOver="funcPopup(event,'_push')">_push</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a>);
<a name="l285"><span class="linenum"> 285</span></a>                  break;
<a name="l286"><span class="linenum"> 286</span></a>              }
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>              <a class="var it10031" onMouseOver="hilite(10031)" onMouseOut="lolite()" onClick="logVariable('grade_records')" href="../_variables/grade_records.html">$grade_records</a>[<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a>-&gt;<a onClick="logVariable('itemid')" class="var it39467" onMouseOver="hilite(39467)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>] = <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a>;
<a name="l289"><span class="linenum"> 289</span></a>          }
<a name="l290"><span class="linenum"> 290</span></a>  
<a name="l291"><span class="linenum"> 291</span></a>          <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../_variables/grades.html">$grades</a> = array();
<a name="l292"><span class="linenum"> 292</span></a>          <a class="var it4219" onMouseOver="hilite(4219)" onMouseOut="lolite()" onClick="logVariable('feedbacks')" href="../_variables/feedbacks.html">$feedbacks</a> = array();
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grade_items')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grade_items.html">grade_items</a>)) {
<a name="l295"><span class="linenum"> 295</span></a>              foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grade_items')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grade_items.html">grade_items</a> as <a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>) {
<a name="l296"><span class="linenum"> 296</span></a>                  if (!isset(<a class="var it4219" onMouseOver="hilite(4219)" onMouseOut="lolite()" onClick="logVariable('feedbacks')" href="../_variables/feedbacks.html">$feedbacks</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>])) {
<a name="l297"><span class="linenum"> 297</span></a>                      <a class="var it4219" onMouseOver="hilite(4219)" onMouseOut="lolite()" onClick="logVariable('feedbacks')" href="../_variables/feedbacks.html">$feedbacks</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = new stdClass();
<a name="l298"><span class="linenum"> 298</span></a>                  }
<a name="l299"><span class="linenum"> 299</span></a>                  if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it10031" onMouseOver="hilite(10031)" onMouseOut="lolite()" onClick="logVariable('grade_records')" href="../_variables/grade_records.html">$grade_records</a>)) {
<a name="l300"><span class="linenum"> 300</span></a>                      <a class="var it4219" onMouseOver="hilite(4219)" onMouseOut="lolite()" onClick="logVariable('feedbacks')" href="../_variables/feedbacks.html">$feedbacks</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]-&gt;feedback       = <a class="var it10031" onMouseOver="hilite(10031)" onMouseOut="lolite()" onClick="logVariable('grade_records')" href="../_variables/grade_records.html">$grade_records</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]-&gt;feedback;
<a name="l301"><span class="linenum"> 301</span></a>                      <a class="var it4219" onMouseOver="hilite(4219)" onMouseOut="lolite()" onClick="logVariable('feedbacks')" href="../_variables/feedbacks.html">$feedbacks</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]-&gt;feedbackformat = <a class="var it10031" onMouseOver="hilite(10031)" onMouseOut="lolite()" onClick="logVariable('grade_records')" href="../_variables/grade_records.html">$grade_records</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]-&gt;feedbackformat;
<a name="l302"><span class="linenum"> 302</span></a>                      unset(<a class="var it10031" onMouseOver="hilite(10031)" onMouseOut="lolite()" onClick="logVariable('grade_records')" href="../_variables/grade_records.html">$grade_records</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]-&gt;feedback);
<a name="l303"><span class="linenum"> 303</span></a>                      unset(<a class="var it10031" onMouseOver="hilite(10031)" onMouseOut="lolite()" onClick="logVariable('grade_records')" href="../_variables/grade_records.html">$grade_records</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]-&gt;feedbackformat);
<a name="l304"><span class="linenum"> 304</span></a>                      <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../_variables/grades.html">$grades</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_grade')" href="../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>(<a class="var it10031" onMouseOver="hilite(10031)" onMouseOut="lolite()" onClick="logVariable('grade_records')" href="../_variables/grade_records.html">$grade_records</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>], false);
<a name="l305"><span class="linenum"> 305</span></a>                  } else {
<a name="l306"><span class="linenum"> 306</span></a>                      <a class="var it4219" onMouseOver="hilite(4219)" onMouseOut="lolite()" onClick="logVariable('feedbacks')" href="../_variables/feedbacks.html">$feedbacks</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]-&gt;feedback       = '';
<a name="l307"><span class="linenum"> 307</span></a>                      <a class="var it4219" onMouseOver="hilite(4219)" onMouseOut="lolite()" onClick="logVariable('feedbacks')" href="../_variables/feedbacks.html">$feedbacks</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]-&gt;feedbackformat = <a class="constant" onClick="logConstant('FORMAT_MOODLE')" href="../_constants/FORMAT_MOODLE.html" onMouseOver="constPopup(event,'FORMAT_MOODLE')">FORMAT_MOODLE</a>;
<a name="l308"><span class="linenum"> 308</span></a>                      <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../_variables/grades.html">$grades</a>[<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] =
<a name="l309"><span class="linenum"> 309</span></a>                          <span class="keyword">new </span><a class="class" onClick="logClass('grade_grade')" href="../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>(array('userid'=&gt;<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'itemid'=&gt;<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>), false);
<a name="l310"><span class="linenum"> 310</span></a>                  }
<a name="l311"><span class="linenum"> 311</span></a>              }
<a name="l312"><span class="linenum"> 312</span></a>          }
<a name="l313"><span class="linenum"> 313</span></a>  
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">        // Set user suspended status.</span>
<a name="l315"><span class="linenum"> 315</span></a>          <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('suspendedenrolment')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/suspendedenrolment.html">suspendedenrolment</a> = isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('suspendedusers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/suspendedusers.html">suspendedusers</a>[<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]);
<a name="l316"><span class="linenum"> 316</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = new stdClass();
<a name="l317"><span class="linenum"> 317</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('user')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/user.html">user</a>      = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>;
<a name="l318"><span class="linenum"> 318</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('grades')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/grades.html">grades</a>    = <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../_variables/grades.html">$grades</a>;
<a name="l319"><span class="linenum"> 319</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('feedbacks')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/feedbacks.html">feedbacks</a> = <a class="var it4219" onMouseOver="hilite(4219)" onMouseOut="lolite()" onClick="logVariable('feedbacks')" href="../_variables/feedbacks.html">$feedbacks</a>;
<a name="l320"><span class="linenum"> 320</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l321"><span class="linenum"> 321</span></a>      }
<a name="l322"><span class="linenum"> 322</span></a>  
<a name="l323"><span class="linenum"> 323</span></a>      <span class="comment">/**</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">     * Close the iterator, do not forget to call this function</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">     */</span>
<a name="l326"><span class="linenum"> 326</span></a>      public function <a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>() {
<a name="l327"><span class="linenum"> 327</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('users_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/users_rs.html">users_rs</a>) {
<a name="l328"><span class="linenum"> 328</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('users_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/users_rs.html">users_rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l329"><span class="linenum"> 329</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('users_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/users_rs.html">users_rs</a> = null;
<a name="l330"><span class="linenum"> 330</span></a>          }
<a name="l331"><span class="linenum"> 331</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grades_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grades_rs.html">grades_rs</a>) {
<a name="l332"><span class="linenum"> 332</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grades_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grades_rs.html">grades_rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l333"><span class="linenum"> 333</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grades_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grades_rs.html">grades_rs</a> = null;
<a name="l334"><span class="linenum"> 334</span></a>          }
<a name="l335"><span class="linenum"> 335</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gradestack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/gradestack.html">gradestack</a> = array();
<a name="l336"><span class="linenum"> 336</span></a>      }
<a name="l337"><span class="linenum"> 337</span></a>  
<a name="l338"><span class="linenum"> 338</span></a>      <span class="comment">/**</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">     * Should all enrolled users be exported or just those with an active enrolment?</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">     *</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">     * @param bool $onlyactive True to limit the export to users with an active enrolment</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     */</span>
<a name="l343"><span class="linenum"> 343</span></a>      public function <a class="function" onClick="logFunction('require_active_enrolment')" href="../_functions/require_active_enrolment.html" onMouseOver="funcPopup(event,'require_active_enrolment')">require_active_enrolment</a>(<a class="var it2289" onMouseOver="hilite(2289)" onMouseOut="lolite()" onClick="logVariable('onlyactive')" href="../_variables/onlyactive.html">$onlyactive</a> = true) {
<a name="l344"><span class="linenum"> 344</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('users_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/users_rs.html">users_rs</a>)) {
<a name="l345"><span class="linenum"> 345</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Calling <a class="function" onClick="logFunction('require_active_enrolment')" href="../_functions/require_active_enrolment.html" onMouseOver="funcPopup(event,'require_active_enrolment')">require_active_enrolment</a>() has no effect unless you call <a class="function" onClick="logFunction('init')" href="../_functions/init.html" onMouseOver="funcPopup(event,'init')">init</a>() again', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l346"><span class="linenum"> 346</span></a>          }
<a name="l347"><span class="linenum"> 347</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('onlyactive')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/onlyactive.html">onlyactive</a>  = <a class="var it2289" onMouseOver="hilite(2289)" onMouseOut="lolite()" onClick="logVariable('onlyactive')" href="../_variables/onlyactive.html">$onlyactive</a>;
<a name="l348"><span class="linenum"> 348</span></a>      }
<a name="l349"><span class="linenum"> 349</span></a>  
<a name="l350"><span class="linenum"> 350</span></a>      <span class="comment">/**</span>
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">     * Allow custom fields to be included</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">     *</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">     * @param bool $allow Whether to allow custom fields or not</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">     * @return void</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment">     */</span>
<a name="l356"><span class="linenum"> 356</span></a>      public function <a class="function" onClick="logFunction('allow_user_custom_fields')" href="../_functions/allow_user_custom_fields.html" onMouseOver="funcPopup(event,'allow_user_custom_fields')">allow_user_custom_fields</a>(<a class="var it6421" onMouseOver="hilite(6421)" onMouseOut="lolite()" onClick="logVariable('allow')" href="../_variables/allow.html">$allow</a> = true) {
<a name="l357"><span class="linenum"> 357</span></a>          if (<a class="var it6421" onMouseOver="hilite(6421)" onMouseOut="lolite()" onClick="logVariable('allow')" href="../_variables/allow.html">$allow</a>) {
<a name="l358"><span class="linenum"> 358</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('allowusercustomfields')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/allowusercustomfields.html">allowusercustomfields</a> = true;
<a name="l359"><span class="linenum"> 359</span></a>          } else {
<a name="l360"><span class="linenum"> 360</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('allowusercustomfields')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/allowusercustomfields.html">allowusercustomfields</a> = false;
<a name="l361"><span class="linenum"> 361</span></a>          }
<a name="l362"><span class="linenum"> 362</span></a>      }
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>      <span class="comment">/**</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">     * Add a grade_grade instance to the grade stack</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">     *</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">     * @param grade_grade $grade Grade object</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">     *</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">     * @return void</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">     */</span>
<a name="l371"><span class="linenum"> 371</span></a>      private function <a class="function" onClick="logFunction('_push')" href="../_functions/_push.html" onMouseOver="funcPopup(event,'_push')">_push</a>(<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>) {
<a name="l372"><span class="linenum"> 372</span></a>          <a class="phpfunction" onClick="logFunction('array_push')" href="../_functions/array_push.html" onMouseOver="phpfuncPopup(event,'array_push')">array_push</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gradestack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/gradestack.html">gradestack</a>, <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>);
<a name="l373"><span class="linenum"> 373</span></a>      }
<a name="l374"><span class="linenum"> 374</span></a>  
<a name="l375"><span class="linenum"> 375</span></a>  
<a name="l376"><span class="linenum"> 376</span></a>      <span class="comment">/**</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     * Remove a grade_grade instance from the grade stack</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">     *</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">     * @return grade_grade current grade object</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">     */</span>
<a name="l381"><span class="linenum"> 381</span></a>      private function <a class="function" onClick="logFunction('_pop')" href="../_functions/_pop.html" onMouseOver="funcPopup(event,'_pop')">_pop</a>() {
<a name="l382"><span class="linenum"> 382</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l383"><span class="linenum"> 383</span></a>          if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gradestack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/gradestack.html">gradestack</a>)) {
<a name="l384"><span class="linenum"> 384</span></a>              if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grades_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grades_rs.html">grades_rs</a>) || !<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grades_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grades_rs.html">grades_rs</a>-&gt;<a class="function" onClick="logFunction('valid')" href="../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>()) {
<a name="l385"><span class="linenum"> 385</span></a>                  return null; <span class="comment">// no grades present</span>
<a name="l386"><span class="linenum"> 386</span></a>              }
<a name="l387"><span class="linenum"> 387</span></a>  
<a name="l388"><span class="linenum"> 388</span></a>              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grades_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grades_rs.html">grades_rs</a>-&gt;<a class="phpfunction" onClick="logFunction('current')" href="../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>();
<a name="l389"><span class="linenum"> 389</span></a>  
<a name="l390"><span class="linenum"> 390</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('grades_rs')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/grades_rs.html">grades_rs</a>-&gt;<a class="phpfunction" onClick="logFunction('next')" href="../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>();
<a name="l391"><span class="linenum"> 391</span></a>  
<a name="l392"><span class="linenum"> 392</span></a>              return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a>;
<a name="l393"><span class="linenum"> 393</span></a>          } else {
<a name="l394"><span class="linenum"> 394</span></a>              return <a class="phpfunction" onClick="logFunction('array_pop')" href="../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gradestack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/gradestack.html">gradestack</a>);
<a name="l395"><span class="linenum"> 395</span></a>          }
<a name="l396"><span class="linenum"> 396</span></a>      }
<a name="l397"><span class="linenum"> 397</span></a>  }
<a name="l398"><span class="linenum"> 398</span></a>  
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment">/**</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment"> * Print a selection popup form of the graded users in a course.</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment"> *</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment"> * @deprecated since 2.0</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment"> *</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment"> * @param int    $course id of the course</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment"> * @param string $actionpage The page receiving the data from the popoup form</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment"> * @param int    $userid   id of the currently selected user (or 'all' if they are all selected)</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment"> * @param int    $groupid id of requested group, 0 means all</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment"> * @param int    $includeall bool include all option</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment"> * @param bool   $return If true, will return the HTML, otherwise, will print directly</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment"> * @return null</span>
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment"> */</span>
<a name="l412"><span class="linenum"> 412</span></a>  function <a class="function" onClick="logFunction('print_graded_users_selector')" href="../_functions/print_graded_users_selector.html" onMouseOver="funcPopup(event,'print_graded_users_selector')">print_graded_users_selector</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it30078" onMouseOver="hilite(30078)" onMouseOut="lolite()" onClick="logVariable('actionpage')" href="../_variables/actionpage.html">$actionpage</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0, <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>=0, <a class="var it5217" onMouseOver="hilite(5217)" onMouseOut="lolite()" onClick="logVariable('includeall')" href="../_variables/includeall.html">$includeall</a>=true, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l413"><span class="linenum"> 413</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l414"><span class="linenum"> 414</span></a>      return <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="function" onClick="logFunction('grade_get_graded_users_select')" href="../_functions/grade_get_graded_users_select.html" onMouseOver="funcPopup(event,'grade_get_graded_users_select')">grade_get_graded_users_select</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it30078" onMouseOver="hilite(30078)" onMouseOut="lolite()" onClick="logVariable('actionpage')" href="../_variables/actionpage.html">$actionpage</a>, 0, <a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it30078" onMouseOver="hilite(30078)" onMouseOut="lolite()" onClick="logVariable('actionpage')" href="../_variables/actionpage.html">$actionpage</a>, '/')), <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>, <a class="var it5217" onMouseOver="hilite(5217)" onMouseOut="lolite()" onClick="logVariable('includeall')" href="../_variables/includeall.html">$includeall</a>));
<a name="l415"><span class="linenum"> 415</span></a>  }
<a name="l416"><span class="linenum"> 416</span></a>  
<a name="l417"><span class="linenum"> 417</span></a>  function <a class="function" onClick="logFunction('grade_get_graded_users_select')" href="../_functions/grade_get_graded_users_select.html" onMouseOver="funcPopup(event,'grade_get_graded_users_select')">grade_get_graded_users_select</a>(<a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../_variables/report.html">$report</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>, <a class="var it5217" onMouseOver="hilite(5217)" onMouseOut="lolite()" onClick="logVariable('includeall')" href="../_variables/includeall.html">$includeall</a>) {
<a name="l418"><span class="linenum"> 418</span></a>      global <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l419"><span class="linenum"> 419</span></a>  
<a name="l420"><span class="linenum"> 420</span></a>      if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>)) {
<a name="l421"><span class="linenum"> 421</span></a>          <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l422"><span class="linenum"> 422</span></a>      }
<a name="l423"><span class="linenum"> 423</span></a>      <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l424"><span class="linenum"> 424</span></a>      <a class="var it17773" onMouseOver="hilite(17773)" onMouseOut="lolite()" onClick="logVariable('defaultgradeshowactiveenrol')" href="../_variables/defaultgradeshowactiveenrol.html">$defaultgradeshowactiveenrol</a> = !empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('grade_report_showonlyactiveenrol')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/grade_report_showonlyactiveenrol.html">grade_report_showonlyactiveenrol</a>);
<a name="l425"><span class="linenum"> 425</span></a>      <a class="var it17775" onMouseOver="hilite(17775)" onMouseOut="lolite()" onClick="logVariable('showonlyactiveenrol')" href="../_variables/showonlyactiveenrol.html">$showonlyactiveenrol</a> = <a class="function" onClick="logFunction('get_user_preferences')" href="../_functions/get_user_preferences.html" onMouseOver="funcPopup(event,'get_user_preferences')">get_user_preferences</a>('grade_report_showonlyactiveenrol', <a class="var it17773" onMouseOver="hilite(17773)" onMouseOut="lolite()" onClick="logVariable('defaultgradeshowactiveenrol')" href="../_variables/defaultgradeshowactiveenrol.html">$defaultgradeshowactiveenrol</a>);
<a name="l426"><span class="linenum"> 426</span></a>      <a class="var it17775" onMouseOver="hilite(17775)" onMouseOut="lolite()" onClick="logVariable('showonlyactiveenrol')" href="../_variables/showonlyactiveenrol.html">$showonlyactiveenrol</a> = <a class="var it17775" onMouseOver="hilite(17775)" onMouseOut="lolite()" onClick="logVariable('showonlyactiveenrol')" href="../_variables/showonlyactiveenrol.html">$showonlyactiveenrol</a> || !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:viewsuspendedusers', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>);
<a name="l427"><span class="linenum"> 427</span></a>      <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a> = array(); <span class="comment">// Will be a list of userid =&gt; user name</span>
<a name="l428"><span class="linenum"> 428</span></a>      <a class="var it30079" onMouseOver="hilite(30079)" onMouseOut="lolite()" onClick="logVariable('menususpendedusers')" href="../_variables/menususpendedusers.html">$menususpendedusers</a> = array(); <span class="comment">// Suspended users go to a separate optgroup.</span>
<a name="l429"><span class="linenum"> 429</span></a>      <a class="var it13365" onMouseOver="hilite(13365)" onMouseOut="lolite()" onClick="logVariable('gui')" href="../_variables/gui.html">$gui</a> = <span class="keyword">new </span><a class="class" onClick="logClass('graded_users_iterator')" href="../_classes/graded_users_iterator.html" onMouseOver="classPopup(event,'graded_users_iterator')">graded_users_iterator</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, null, <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>);
<a name="l430"><span class="linenum"> 430</span></a>      <a class="var it13365" onMouseOver="hilite(13365)" onMouseOut="lolite()" onClick="logVariable('gui')" href="../_variables/gui.html">$gui</a>-&gt;<a class="function" onClick="logFunction('require_active_enrolment')" href="../_functions/require_active_enrolment.html" onMouseOver="funcPopup(event,'require_active_enrolment')">require_active_enrolment</a>(<a class="var it17775" onMouseOver="hilite(17775)" onMouseOut="lolite()" onClick="logVariable('showonlyactiveenrol')" href="../_variables/showonlyactiveenrol.html">$showonlyactiveenrol</a>);
<a name="l431"><span class="linenum"> 431</span></a>      <a class="var it13365" onMouseOver="hilite(13365)" onMouseOut="lolite()" onClick="logVariable('gui')" href="../_variables/gui.html">$gui</a>-&gt;<a class="function" onClick="logFunction('init')" href="../_functions/init.html" onMouseOver="funcPopup(event,'init')">init</a>();
<a name="l432"><span class="linenum"> 432</span></a>      <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('selectauser', 'grades');
<a name="l433"><span class="linenum"> 433</span></a>      if (<a class="var it5217" onMouseOver="hilite(5217)" onMouseOut="lolite()" onClick="logVariable('includeall')" href="../_variables/includeall.html">$includeall</a>) {
<a name="l434"><span class="linenum"> 434</span></a>          <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>[0] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('allusers', 'grades');
<a name="l435"><span class="linenum"> 435</span></a>          <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('selectalloroneuser', 'grades');
<a name="l436"><span class="linenum"> 436</span></a>      }
<a name="l437"><span class="linenum"> 437</span></a>      while (<a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../_variables/userdata.html">$userdata</a> = <a class="var it13365" onMouseOver="hilite(13365)" onMouseOut="lolite()" onClick="logVariable('gui')" href="../_variables/gui.html">$gui</a>-&gt;<a class="function" onClick="logFunction('next_user')" href="../_functions/next_user.html" onMouseOver="funcPopup(event,'next_user')">next_user</a>()) {
<a name="l438"><span class="linenum"> 438</span></a>          <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('user')" class="var it40090" onMouseOver="hilite(40090)" onMouseOut="lolite()" href="../_variables/user.html">user</a>;
<a name="l439"><span class="linenum"> 439</span></a>          <a class="var it4030" onMouseOver="hilite(4030)" onMouseOut="lolite()" onClick="logVariable('userfullname')" href="../_variables/userfullname.html">$userfullname</a> = <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l440"><span class="linenum"> 440</span></a>          if (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('suspendedenrolment')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/suspendedenrolment.html">suspendedenrolment</a>) {
<a name="l441"><span class="linenum"> 441</span></a>              <a class="var it30079" onMouseOver="hilite(30079)" onMouseOut="lolite()" onClick="logVariable('menususpendedusers')" href="../_variables/menususpendedusers.html">$menususpendedusers</a>[<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it4030" onMouseOver="hilite(4030)" onMouseOut="lolite()" onClick="logVariable('userfullname')" href="../_variables/userfullname.html">$userfullname</a>;
<a name="l442"><span class="linenum"> 442</span></a>          } else {
<a name="l443"><span class="linenum"> 443</span></a>              <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>[<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it4030" onMouseOver="hilite(4030)" onMouseOut="lolite()" onClick="logVariable('userfullname')" href="../_variables/userfullname.html">$userfullname</a>;
<a name="l444"><span class="linenum"> 444</span></a>          }
<a name="l445"><span class="linenum"> 445</span></a>      }
<a name="l446"><span class="linenum"> 446</span></a>      <a class="var it13365" onMouseOver="hilite(13365)" onMouseOut="lolite()" onClick="logVariable('gui')" href="../_variables/gui.html">$gui</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l447"><span class="linenum"> 447</span></a>  
<a name="l448"><span class="linenum"> 448</span></a>      if (<a class="var it5217" onMouseOver="hilite(5217)" onMouseOut="lolite()" onClick="logVariable('includeall')" href="../_variables/includeall.html">$includeall</a>) {
<a name="l449"><span class="linenum"> 449</span></a>          <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>[0] .= &quot; (&quot; . (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>) + <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it30079" onMouseOver="hilite(30079)" onMouseOut="lolite()" onClick="logVariable('menususpendedusers')" href="../_variables/menususpendedusers.html">$menususpendedusers</a>) - 1) . &quot;)&quot;;
<a name="l450"><span class="linenum"> 450</span></a>      }
<a name="l451"><span class="linenum"> 451</span></a>  
<a name="l452"><span class="linenum"> 452</span></a>      if (!empty(<a class="var it30079" onMouseOver="hilite(30079)" onMouseOut="lolite()" onClick="logVariable('menususpendedusers')" href="../_variables/menususpendedusers.html">$menususpendedusers</a>)) {
<a name="l453"><span class="linenum"> 453</span></a>          <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>[] = array(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('suspendedusers') =&gt; <a class="var it30079" onMouseOver="hilite(30079)" onMouseOut="lolite()" onClick="logVariable('menususpendedusers')" href="../_variables/menususpendedusers.html">$menususpendedusers</a>);
<a name="l454"><span class="linenum"> 454</span></a>      }
<a name="l455"><span class="linenum"> 455</span></a>      <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_select')" href="../_classes/single_select.html" onMouseOver="classPopup(event,'single_select')">single_select</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/grade/report/'.<a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../_variables/report.html">$report</a>.'<a class="filename" href="../index.php.html">/index.php</a>', array('id'=&gt;<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)), 'userid', <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l456"><span class="linenum"> 456</span></a>      <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('label')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/label.html">label</a> = <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a>;
<a name="l457"><span class="linenum"> 457</span></a>      <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('formid')" class="var it40227" onMouseOver="hilite(40227)" onMouseOut="lolite()" href="../_variables/formid.html">formid</a> = 'choosegradeuser';
<a name="l458"><span class="linenum"> 458</span></a>      return <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>;
<a name="l459"><span class="linenum"> 459</span></a>  }
<a name="l460"><span class="linenum"> 460</span></a>  
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">/**</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment"> * Hide warning about changed grades during upgrade to 2.8.</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment"> *</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment"> * @param int $courseid The current course id.</span>
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment"> */</span>
<a name="l466"><span class="linenum"> 466</span></a>  function <a class="function" onClick="logFunction('hide_natural_aggregation_upgrade_notice')" href="../_functions/hide_natural_aggregation_upgrade_notice.html" onMouseOver="funcPopup(event,'hide_natural_aggregation_upgrade_notice')">hide_natural_aggregation_upgrade_notice</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l467"><span class="linenum"> 467</span></a>      <a class="function" onClick="logFunction('unset_config')" href="../_functions/unset_config.html" onMouseOver="funcPopup(event,'unset_config')">unset_config</a>('show_sumofgrades_upgrade_' . <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l468"><span class="linenum"> 468</span></a>  }
<a name="l469"><span class="linenum"> 469</span></a>  
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">/**</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment"> * Hide warning about changed grades during upgrade to 2.8.</span>
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment"> *</span>
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment"> * @param int $courseid The current course id.</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment"> */</span>
<a name="l475"><span class="linenum"> 475</span></a>  function <a class="function" onClick="logFunction('hide_aggregatesubcats_upgrade_notice')" href="../_functions/hide_aggregatesubcats_upgrade_notice.html" onMouseOver="funcPopup(event,'hide_aggregatesubcats_upgrade_notice')">hide_aggregatesubcats_upgrade_notice</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l476"><span class="linenum"> 476</span></a>      <a class="function" onClick="logFunction('unset_config')" href="../_functions/unset_config.html" onMouseOver="funcPopup(event,'unset_config')">unset_config</a>('show_aggregatesubcats_upgrade_' . <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l477"><span class="linenum"> 477</span></a>  }
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">/**</span>
<a name="l480"><span class="linenum"> 480</span></a>  <span class="comment"> * Print warning about changed grades during upgrade to 2.8.</span>
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment"> *</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment"> * @param int $courseid The current course id.</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment"> * @param context $context The course context.</span>
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment"> * @param string $thispage The relative path for the current page. E.g. /grade/report/user/index.php</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment"> * @param boolean $return return as string</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment"> *</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment"> * @return nothing or string if $return true</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment"> */</span>
<a name="l489"><span class="linenum"> 489</span></a>  function <a class="function" onClick="logFunction('print_natural_aggregation_upgrade_notice')" href="../_functions/print_natural_aggregation_upgrade_notice.html" onMouseOver="funcPopup(event,'print_natural_aggregation_upgrade_notice')">print_natural_aggregation_upgrade_notice</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it27095" onMouseOver="hilite(27095)" onMouseOut="lolite()" onClick="logVariable('thispage')" href="../_variables/thispage.html">$thispage</a>, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l490"><span class="linenum"> 490</span></a>      global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l491"><span class="linenum"> 491</span></a>      <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> = '';
<a name="l492"><span class="linenum"> 492</span></a>  
<a name="l493"><span class="linenum"> 493</span></a>      <a class="var it30080" onMouseOver="hilite(30080)" onMouseOut="lolite()" onClick="logVariable('hidesubcatswarning')" href="../_variables/hidesubcatswarning.html">$hidesubcatswarning</a> = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('seenaggregatesubcatsupgradedgrades', false, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>) &amp;&amp; <a class="function" onClick="logFunction('confirm_sesskey')" href="../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>();
<a name="l494"><span class="linenum"> 494</span></a>      <a class="var it30081" onMouseOver="hilite(30081)" onMouseOut="lolite()" onClick="logVariable('showsubcatswarning')" href="../_variables/showsubcatswarning.html">$showsubcatswarning</a> = <a class="function" onClick="logFunction('get_config')" href="../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('core', 'show_aggregatesubcats_upgrade_' . <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l495"><span class="linenum"> 495</span></a>      <a class="var it30082" onMouseOver="hilite(30082)" onMouseOut="lolite()" onClick="logVariable('hidenaturalwarning')" href="../_variables/hidenaturalwarning.html">$hidenaturalwarning</a> = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('seensumofgradesupgradedgrades', false, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>) &amp;&amp; <a class="function" onClick="logFunction('confirm_sesskey')" href="../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>();
<a name="l496"><span class="linenum"> 496</span></a>      <a class="var it30083" onMouseOver="hilite(30083)" onMouseOut="lolite()" onClick="logVariable('shownaturalwarning')" href="../_variables/shownaturalwarning.html">$shownaturalwarning</a> = <a class="function" onClick="logFunction('get_config')" href="../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('core', 'show_sumofgrades_upgrade_' . <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l497"><span class="linenum"> 497</span></a>  
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment">    // Do not do anything if they are not a teacher.</span>
<a name="l499"><span class="linenum"> 499</span></a>      if (<a class="var it30080" onMouseOver="hilite(30080)" onMouseOut="lolite()" onClick="logVariable('hidesubcatswarning')" href="../_variables/hidesubcatswarning.html">$hidesubcatswarning</a> || <a class="var it30081" onMouseOver="hilite(30081)" onMouseOut="lolite()" onClick="logVariable('showsubcatswarning')" href="../_variables/showsubcatswarning.html">$showsubcatswarning</a> || <a class="var it30082" onMouseOver="hilite(30082)" onMouseOut="lolite()" onClick="logVariable('hidenaturalwarning')" href="../_variables/hidenaturalwarning.html">$hidenaturalwarning</a> || <a class="var it30083" onMouseOver="hilite(30083)" onMouseOut="lolite()" onClick="logVariable('shownaturalwarning')" href="../_variables/shownaturalwarning.html">$shownaturalwarning</a>) {
<a name="l500"><span class="linenum"> 500</span></a>          if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l501"><span class="linenum"> 501</span></a>              return '';
<a name="l502"><span class="linenum"> 502</span></a>          }
<a name="l503"><span class="linenum"> 503</span></a>      }
<a name="l504"><span class="linenum"> 504</span></a>  
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">    // Hide the warning if the user told it to go away.</span>
<a name="l506"><span class="linenum"> 506</span></a>      if (<a class="var it30082" onMouseOver="hilite(30082)" onMouseOut="lolite()" onClick="logVariable('hidenaturalwarning')" href="../_variables/hidenaturalwarning.html">$hidenaturalwarning</a>) {
<a name="l507"><span class="linenum"> 507</span></a>          <a class="function" onClick="logFunction('hide_natural_aggregation_upgrade_notice')" href="../_functions/hide_natural_aggregation_upgrade_notice.html" onMouseOver="funcPopup(event,'hide_natural_aggregation_upgrade_notice')">hide_natural_aggregation_upgrade_notice</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l508"><span class="linenum"> 508</span></a>      }
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">    // Hide the warning if the user told it to go away.</span>
<a name="l510"><span class="linenum"> 510</span></a>      if (<a class="var it30080" onMouseOver="hilite(30080)" onMouseOut="lolite()" onClick="logVariable('hidesubcatswarning')" href="../_variables/hidesubcatswarning.html">$hidesubcatswarning</a>) {
<a name="l511"><span class="linenum"> 511</span></a>          <a class="function" onClick="logFunction('hide_aggregatesubcats_upgrade_notice')" href="../_functions/hide_aggregatesubcats_upgrade_notice.html" onMouseOver="funcPopup(event,'hide_aggregatesubcats_upgrade_notice')">hide_aggregatesubcats_upgrade_notice</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l512"><span class="linenum"> 512</span></a>      }
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>      if (!<a class="var it30082" onMouseOver="hilite(30082)" onMouseOut="lolite()" onClick="logVariable('hidenaturalwarning')" href="../_variables/hidenaturalwarning.html">$hidenaturalwarning</a> &amp;&amp; <a class="var it30083" onMouseOver="hilite(30083)" onMouseOut="lolite()" onClick="logVariable('shownaturalwarning')" href="../_variables/shownaturalwarning.html">$shownaturalwarning</a>) {
<a name="l515"><span class="linenum"> 515</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('sumofgradesupgradedgrades', 'grades');
<a name="l516"><span class="linenum"> 516</span></a>          <a class="var it30084" onMouseOver="hilite(30084)" onMouseOut="lolite()" onClick="logVariable('hidemessage')" href="../_variables/hidemessage.html">$hidemessage</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('upgradedgradeshidemessage', 'grades');
<a name="l517"><span class="linenum"> 517</span></a>          <a class="var it5256" onMouseOver="hilite(5256)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../_variables/urlparams.html">$urlparams</a> = array( 'id' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>,
<a name="l518"><span class="linenum"> 518</span></a>                              'seensumofgradesupgradedgrades' =&gt; true,
<a name="l519"><span class="linenum"> 519</span></a>                              'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>());
<a name="l520"><span class="linenum"> 520</span></a>          <a class="var it30085" onMouseOver="hilite(30085)" onMouseOut="lolite()" onClick="logVariable('goawayurl')" href="../_variables/goawayurl.html">$goawayurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it27095" onMouseOver="hilite(27095)" onMouseOut="lolite()" onClick="logVariable('thispage')" href="../_variables/thispage.html">$thispage</a>, <a class="var it5256" onMouseOver="hilite(5256)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../_variables/urlparams.html">$urlparams</a>);
<a name="l521"><span class="linenum"> 521</span></a>          <a class="var it30086" onMouseOver="hilite(30086)" onMouseOut="lolite()" onClick="logVariable('goawaybutton')" href="../_variables/goawaybutton.html">$goawaybutton</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<a class="var it30085" onMouseOver="hilite(30085)" onMouseOut="lolite()" onClick="logVariable('goawayurl')" href="../_variables/goawayurl.html">$goawayurl</a>, <a class="var it30084" onMouseOver="hilite(30084)" onMouseOut="lolite()" onClick="logVariable('hidemessage')" href="../_variables/hidemessage.html">$hidemessage</a>, 'get');
<a name="l522"><span class="linenum"> 522</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, 'notifysuccess');
<a name="l523"><span class="linenum"> 523</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="var it30086" onMouseOver="hilite(30086)" onMouseOut="lolite()" onClick="logVariable('goawaybutton')" href="../_variables/goawaybutton.html">$goawaybutton</a>;
<a name="l524"><span class="linenum"> 524</span></a>      }
<a name="l525"><span class="linenum"> 525</span></a>  
<a name="l526"><span class="linenum"> 526</span></a>      if (!<a class="var it30080" onMouseOver="hilite(30080)" onMouseOut="lolite()" onClick="logVariable('hidesubcatswarning')" href="../_variables/hidesubcatswarning.html">$hidesubcatswarning</a> &amp;&amp; <a class="var it30081" onMouseOver="hilite(30081)" onMouseOut="lolite()" onClick="logVariable('showsubcatswarning')" href="../_variables/showsubcatswarning.html">$showsubcatswarning</a>) {
<a name="l527"><span class="linenum"> 527</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('aggregatesubcatsupgradedgrades', 'grades');
<a name="l528"><span class="linenum"> 528</span></a>          <a class="var it30084" onMouseOver="hilite(30084)" onMouseOut="lolite()" onClick="logVariable('hidemessage')" href="../_variables/hidemessage.html">$hidemessage</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('upgradedgradeshidemessage', 'grades');
<a name="l529"><span class="linenum"> 529</span></a>          <a class="var it5256" onMouseOver="hilite(5256)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../_variables/urlparams.html">$urlparams</a> = array( 'id' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>,
<a name="l530"><span class="linenum"> 530</span></a>                              'seenaggregatesubcatsupgradedgrades' =&gt; true,
<a name="l531"><span class="linenum"> 531</span></a>                              'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>());
<a name="l532"><span class="linenum"> 532</span></a>          <a class="var it30085" onMouseOver="hilite(30085)" onMouseOut="lolite()" onClick="logVariable('goawayurl')" href="../_variables/goawayurl.html">$goawayurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it27095" onMouseOver="hilite(27095)" onMouseOut="lolite()" onClick="logVariable('thispage')" href="../_variables/thispage.html">$thispage</a>, <a class="var it5256" onMouseOver="hilite(5256)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../_variables/urlparams.html">$urlparams</a>);
<a name="l533"><span class="linenum"> 533</span></a>          <a class="var it30086" onMouseOver="hilite(30086)" onMouseOut="lolite()" onClick="logVariable('goawaybutton')" href="../_variables/goawaybutton.html">$goawaybutton</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<a class="var it30085" onMouseOver="hilite(30085)" onMouseOut="lolite()" onClick="logVariable('goawayurl')" href="../_variables/goawayurl.html">$goawayurl</a>, <a class="var it30084" onMouseOver="hilite(30084)" onMouseOut="lolite()" onClick="logVariable('hidemessage')" href="../_variables/hidemessage.html">$hidemessage</a>, 'get');
<a name="l534"><span class="linenum"> 534</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, 'notifysuccess');
<a name="l535"><span class="linenum"> 535</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> .= <a class="var it30086" onMouseOver="hilite(30086)" onMouseOut="lolite()" onClick="logVariable('goawaybutton')" href="../_variables/goawaybutton.html">$goawaybutton</a>;
<a name="l536"><span class="linenum"> 536</span></a>      }
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>      if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l539"><span class="linenum"> 539</span></a>          return <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>;
<a name="l540"><span class="linenum"> 540</span></a>      } else {
<a name="l541"><span class="linenum"> 541</span></a>          echo <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>;
<a name="l542"><span class="linenum"> 542</span></a>      }
<a name="l543"><span class="linenum"> 543</span></a>  }
<a name="l544"><span class="linenum"> 544</span></a>  
<a name="l545"><span class="linenum"> 545</span></a>  <span class="comment">/**</span>
<a name="l546"><span class="linenum"> 546</span></a>  <span class="comment"> * Print grading plugin selection popup form.</span>
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment"> *</span>
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment"> * @param array   $plugin_info An array of plugins containing information for the selector</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment"> * @param boolean $return return as string</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment"> *</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment"> * @return nothing or string if $return true</span>
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment"> */</span>
<a name="l553"><span class="linenum"> 553</span></a>  function <a class="function" onClick="logFunction('print_grade_plugin_selector')" href="../_functions/print_grade_plugin_selector.html" onMouseOver="funcPopup(event,'print_grade_plugin_selector')">print_grade_plugin_selector</a>(<a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>, <a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>, <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l554"><span class="linenum"> 554</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>      <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a> = array();
<a name="l557"><span class="linenum"> 557</span></a>      <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> = 0;
<a name="l558"><span class="linenum"> 558</span></a>      <a class="var it4666" onMouseOver="hilite(4666)" onMouseOut="lolite()" onClick="logVariable('active')" href="../_variables/active.html">$active</a> = '';
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>      foreach (<a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a> as <a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a> =&gt; <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>) {
<a name="l561"><span class="linenum"> 561</span></a>          if (<a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a> == 'strings') {
<a name="l562"><span class="linenum"> 562</span></a>              continue;
<a name="l563"><span class="linenum"> 563</span></a>          }
<a name="l564"><span class="linenum"> 564</span></a>  
<a name="l565"><span class="linenum"> 565</span></a>          <a class="var it30091" onMouseOver="hilite(30091)" onMouseOut="lolite()" onClick="logVariable('first_plugin')" href="../_variables/first_plugin.html">$first_plugin</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>);
<a name="l566"><span class="linenum"> 566</span></a>  
<a name="l567"><span class="linenum"> 567</span></a>          <a class="var it7294" onMouseOver="hilite(7294)" onMouseOut="lolite()" onClick="logVariable('sectionname')" href="../_variables/sectionname.html">$sectionname</a> = <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['strings'][<a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a>];
<a name="l568"><span class="linenum"> 568</span></a>          <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a> = array();
<a name="l569"><span class="linenum"> 569</span></a>  
<a name="l570"><span class="linenum"> 570</span></a>          foreach (<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a> as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>) {
<a name="l571"><span class="linenum"> 571</span></a>              <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('link')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/link.html">link</a>-&gt;<a class="function" onClick="logFunction('out')" href="../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>(false);
<a name="l572"><span class="linenum"> 572</span></a>              <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>[<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>] = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('string')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/string.html">string</a>;
<a name="l573"><span class="linenum"> 573</span></a>              <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>++;
<a name="l574"><span class="linenum"> 574</span></a>              if (<a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a> === <a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a> and <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('id')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/id.html">id</a> === <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>) {
<a name="l575"><span class="linenum"> 575</span></a>                  <a class="var it4666" onMouseOver="hilite(4666)" onMouseOut="lolite()" onClick="logVariable('active')" href="../_variables/active.html">$active</a> = <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>;
<a name="l576"><span class="linenum"> 576</span></a>              }
<a name="l577"><span class="linenum"> 577</span></a>          }
<a name="l578"><span class="linenum"> 578</span></a>  
<a name="l579"><span class="linenum"> 579</span></a>          if (<a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>) {
<a name="l580"><span class="linenum"> 580</span></a>              <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>[] = array(<a class="var it7294" onMouseOver="hilite(7294)" onMouseOut="lolite()" onClick="logVariable('sectionname')" href="../_variables/sectionname.html">$sectionname</a>=&gt;<a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>);
<a name="l581"><span class="linenum"> 581</span></a>          }
<a name="l582"><span class="linenum"> 582</span></a>      }
<a name="l583"><span class="linenum"> 583</span></a>  
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">    // finally print/return the popup form</span>
<a name="l585"><span class="linenum"> 585</span></a>      if (<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> &gt; 1) {
<a name="l586"><span class="linenum"> 586</span></a>          <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a> = <span class="keyword">new </span><a class="class" onClick="logClass('url_select')" href="../_classes/url_select.html" onMouseOver="classPopup(event,'url_select')">url_select</a>(<a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>, <a class="var it4666" onMouseOver="hilite(4666)" onMouseOut="lolite()" onClick="logVariable('active')" href="../_variables/active.html">$active</a>, null, 'choosepluginreport');
<a name="l587"><span class="linenum"> 587</span></a>          <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>-&gt;<a class="function" onClick="logFunction('set_label')" href="../_functions/set_label.html" onMouseOver="funcPopup(event,'set_label')">set_label</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradereport', 'grades'), array('class' =&gt; 'accesshide'));
<a name="l588"><span class="linenum"> 588</span></a>          if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l589"><span class="linenum"> 589</span></a>              return <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>);
<a name="l590"><span class="linenum"> 590</span></a>          } else {
<a name="l591"><span class="linenum"> 591</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>);
<a name="l592"><span class="linenum"> 592</span></a>          }
<a name="l593"><span class="linenum"> 593</span></a>      } else {
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment">        // only one option - no plugin selector needed</span>
<a name="l595"><span class="linenum"> 595</span></a>          return '';
<a name="l596"><span class="linenum"> 596</span></a>      }
<a name="l597"><span class="linenum"> 597</span></a>  }
<a name="l598"><span class="linenum"> 598</span></a>  
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment">/**</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment"> * Print grading plugin selection tab-based navigation.</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment"> *</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment"> * @param string  $active_type type of plugin on current page - import, export, report or edit</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment"> * @param string  $active_plugin active plugin type - grader, user, cvs, ...</span>
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment"> * @param array   $plugin_info Array of plugins</span>
<a name="l605"><span class="linenum"> 605</span></a>  <span class="comment"> * @param boolean $return return as string</span>
<a name="l606"><span class="linenum"> 606</span></a>  <span class="comment"> *</span>
<a name="l607"><span class="linenum"> 607</span></a>  <span class="comment"> * @return nothing or string if $return true</span>
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment"> */</span>
<a name="l609"><span class="linenum"> 609</span></a>  function <a class="function" onClick="logFunction('grade_print_tabs')" href="../_functions/grade_print_tabs.html" onMouseOver="funcPopup(event,'grade_print_tabs')">grade_print_tabs</a>(<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>, <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>, <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l610"><span class="linenum"> 610</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>;
<a name="l611"><span class="linenum"> 611</span></a>  
<a name="l612"><span class="linenum"> 612</span></a>      if (!isset(<a class="var it622" onMouseOver="hilite(622)" onMouseOut="lolite()" onClick="logVariable('currenttab')" href="../_variables/currenttab.html">$currenttab</a>)) { //TODO: this is weird
<a name="l613"><span class="linenum"> 613</span></a>          <a class="var it622" onMouseOver="hilite(622)" onMouseOut="lolite()" onClick="logVariable('currenttab')" href="../_variables/currenttab.html">$currenttab</a> = '';
<a name="l614"><span class="linenum"> 614</span></a>      }
<a name="l615"><span class="linenum"> 615</span></a>  
<a name="l616"><span class="linenum"> 616</span></a>      <a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a> = array();
<a name="l617"><span class="linenum"> 617</span></a>      <a class="var it30092" onMouseOver="hilite(30092)" onMouseOut="lolite()" onClick="logVariable('top_row')" href="../_variables/top_row.html">$top_row</a>  = array();
<a name="l618"><span class="linenum"> 618</span></a>      <a class="var it30093" onMouseOver="hilite(30093)" onMouseOut="lolite()" onClick="logVariable('bottom_row')" href="../_variables/bottom_row.html">$bottom_row</a> = array();
<a name="l619"><span class="linenum"> 619</span></a>      <a class="var it4431" onMouseOver="hilite(4431)" onMouseOut="lolite()" onClick="logVariable('inactive')" href="../_variables/inactive.html">$inactive</a> = array(<a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>);
<a name="l620"><span class="linenum"> 620</span></a>      <a class="var it4429" onMouseOver="hilite(4429)" onMouseOut="lolite()" onClick="logVariable('activated')" href="../_variables/activated.html">$activated</a> = array(<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>);
<a name="l621"><span class="linenum"> 621</span></a>  
<a name="l622"><span class="linenum"> 622</span></a>      <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> = 0;
<a name="l623"><span class="linenum"> 623</span></a>      <a class="var it4666" onMouseOver="hilite(4666)" onMouseOut="lolite()" onClick="logVariable('active')" href="../_variables/active.html">$active</a> = '';
<a name="l624"><span class="linenum"> 624</span></a>  
<a name="l625"><span class="linenum"> 625</span></a>      foreach (<a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a> as <a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a> =&gt; <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>) {
<a name="l626"><span class="linenum"> 626</span></a>          if (<a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a> == 'strings') {
<a name="l627"><span class="linenum"> 627</span></a>              continue;
<a name="l628"><span class="linenum"> 628</span></a>          }
<a name="l629"><span class="linenum"> 629</span></a>  
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">        // If $plugins is actually the definition of a child-less parent link:</span>
<a name="l631"><span class="linenum"> 631</span></a>          if (!empty(<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>-&gt;<a onClick="logVariable('id')" class="var it41532" onMouseOver="hilite(41532)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l632"><span class="linenum"> 632</span></a>              <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a> = <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>-&gt;<a onClick="logVariable('string')" class="var it41532" onMouseOver="hilite(41532)" onMouseOut="lolite()" href="../_variables/string.html">string</a>;
<a name="l633"><span class="linenum"> 633</span></a>              if (!empty(<a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>[<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>]-&gt;parent)) {
<a name="l634"><span class="linenum"> 634</span></a>                  <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a> = <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>[<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>]-&gt;parent-&gt;string;
<a name="l635"><span class="linenum"> 635</span></a>              }
<a name="l636"><span class="linenum"> 636</span></a>  
<a name="l637"><span class="linenum"> 637</span></a>              <a class="var it30092" onMouseOver="hilite(30092)" onMouseOut="lolite()" onClick="logVariable('top_row')" href="../_variables/top_row.html">$top_row</a>[] = <span class="keyword">new </span><a class="class" onClick="logClass('tabobject')" href="../_classes/tabobject.html" onMouseOver="classPopup(event,'tabobject')">tabobject</a>(<a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a>, <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>-&gt;<a onClick="logVariable('link')" class="var it41532" onMouseOver="hilite(41532)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>);
<a name="l638"><span class="linenum"> 638</span></a>              continue;
<a name="l639"><span class="linenum"> 639</span></a>          }
<a name="l640"><span class="linenum"> 640</span></a>  
<a name="l641"><span class="linenum"> 641</span></a>          <a class="var it30091" onMouseOver="hilite(30091)" onMouseOut="lolite()" onClick="logVariable('first_plugin')" href="../_variables/first_plugin.html">$first_plugin</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>);
<a name="l642"><span class="linenum"> 642</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it30091" onMouseOver="hilite(30091)" onMouseOut="lolite()" onClick="logVariable('first_plugin')" href="../_variables/first_plugin.html">$first_plugin</a>-&gt;<a onClick="logVariable('link')" class="var it41533" onMouseOver="hilite(41533)" onMouseOut="lolite()" href="../_variables/link.html">link</a>;
<a name="l643"><span class="linenum"> 643</span></a>  
<a name="l644"><span class="linenum"> 644</span></a>          if (<a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a> == 'report') {
<a name="l645"><span class="linenum"> 645</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.'/grade/report/index.php?id='.<a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>-&gt;<a onClick="logVariable('id')" class="var it39504" onMouseOver="hilite(39504)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l646"><span class="linenum"> 646</span></a>          }
<a name="l647"><span class="linenum"> 647</span></a>  
<a name="l648"><span class="linenum"> 648</span></a>          <a class="var it30092" onMouseOver="hilite(30092)" onMouseOut="lolite()" onClick="logVariable('top_row')" href="../_variables/top_row.html">$top_row</a>[] = <span class="keyword">new </span><a class="class" onClick="logClass('tabobject')" href="../_classes/tabobject.html" onMouseOver="classPopup(event,'tabobject')">tabobject</a>(<a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['strings'][<a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a>]);
<a name="l649"><span class="linenum"> 649</span></a>  
<a name="l650"><span class="linenum"> 650</span></a>          if (<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a> == <a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a>) {
<a name="l651"><span class="linenum"> 651</span></a>              foreach (<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a> as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>) {
<a name="l652"><span class="linenum"> 652</span></a>                  <a class="var it30093" onMouseOver="hilite(30093)" onMouseOut="lolite()" onClick="logVariable('bottom_row')" href="../_variables/bottom_row.html">$bottom_row</a>[] = <span class="keyword">new </span><a class="class" onClick="logClass('tabobject')" href="../_classes/tabobject.html" onMouseOver="classPopup(event,'tabobject')">tabobject</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('id')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('link')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('string')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/string.html">string</a>);
<a name="l653"><span class="linenum"> 653</span></a>                  if (<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('id')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>) {
<a name="l654"><span class="linenum"> 654</span></a>                      <a class="var it4431" onMouseOver="hilite(4431)" onMouseOut="lolite()" onClick="logVariable('inactive')" href="../_variables/inactive.html">$inactive</a> = array(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('id')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l655"><span class="linenum"> 655</span></a>                  }
<a name="l656"><span class="linenum"> 656</span></a>              }
<a name="l657"><span class="linenum"> 657</span></a>          }
<a name="l658"><span class="linenum"> 658</span></a>      }
<a name="l659"><span class="linenum"> 659</span></a>  
<a name="l660"><span class="linenum"> 660</span></a>      <a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>[] = <a class="var it30092" onMouseOver="hilite(30092)" onMouseOut="lolite()" onClick="logVariable('top_row')" href="../_variables/top_row.html">$top_row</a>;
<a name="l661"><span class="linenum"> 661</span></a>      <a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>[] = <a class="var it30093" onMouseOver="hilite(30093)" onMouseOut="lolite()" onClick="logVariable('bottom_row')" href="../_variables/bottom_row.html">$bottom_row</a>;
<a name="l662"><span class="linenum"> 662</span></a>  
<a name="l663"><span class="linenum"> 663</span></a>      if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l664"><span class="linenum"> 664</span></a>          return <a class="function" onClick="logFunction('print_tabs')" href="../_functions/print_tabs.html" onMouseOver="funcPopup(event,'print_tabs')">print_tabs</a>(<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>, <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>, <a class="var it4431" onMouseOver="hilite(4431)" onMouseOut="lolite()" onClick="logVariable('inactive')" href="../_variables/inactive.html">$inactive</a>, <a class="var it4429" onMouseOver="hilite(4429)" onMouseOut="lolite()" onClick="logVariable('activated')" href="../_variables/activated.html">$activated</a>, true);
<a name="l665"><span class="linenum"> 665</span></a>      } else {
<a name="l666"><span class="linenum"> 666</span></a>          <a class="function" onClick="logFunction('print_tabs')" href="../_functions/print_tabs.html" onMouseOver="funcPopup(event,'print_tabs')">print_tabs</a>(<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>, <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>, <a class="var it4431" onMouseOver="hilite(4431)" onMouseOut="lolite()" onClick="logVariable('inactive')" href="../_variables/inactive.html">$inactive</a>, <a class="var it4429" onMouseOver="hilite(4429)" onMouseOut="lolite()" onClick="logVariable('activated')" href="../_variables/activated.html">$activated</a>);
<a name="l667"><span class="linenum"> 667</span></a>      }
<a name="l668"><span class="linenum"> 668</span></a>  }
<a name="l669"><span class="linenum"> 669</span></a>  
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">/**</span>
<a name="l671"><span class="linenum"> 671</span></a>  <span class="comment"> * grade_get_plugin_info</span>
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment"> *</span>
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment"> * @param int    $courseid The course id</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment"> * @param string $active_type type of plugin on current page - import, export, report or edit</span>
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment"> * @param string $active_plugin active plugin type - grader, user, cvs, ...</span>
<a name="l676"><span class="linenum"> 676</span></a>  <span class="comment"> *</span>
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment"> * @return array</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment"> */</span>
<a name="l679"><span class="linenum"> 679</span></a>  function <a class="function" onClick="logFunction('grade_get_plugin_info')" href="../_functions/grade_get_plugin_info.html" onMouseOver="funcPopup(event,'grade_get_plugin_info')">grade_get_plugin_info</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>, <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>) {
<a name="l680"><span class="linenum"> 680</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>;
<a name="l681"><span class="linenum"> 681</span></a>  
<a name="l682"><span class="linenum"> 682</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l683"><span class="linenum"> 683</span></a>  
<a name="l684"><span class="linenum"> 684</span></a>      <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a> = array();
<a name="l685"><span class="linenum"> 685</span></a>      <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> = 0;
<a name="l686"><span class="linenum"> 686</span></a>      <a class="var it4666" onMouseOver="hilite(4666)" onMouseOut="lolite()" onClick="logVariable('active')" href="../_variables/active.html">$active</a> = '';
<a name="l687"><span class="linenum"> 687</span></a>      <a class="var it30094" onMouseOver="hilite(30094)" onMouseOut="lolite()" onClick="logVariable('url_prefix')" href="../_variables/url_prefix.html">$url_prefix</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/grade/';
<a name="l688"><span class="linenum"> 688</span></a>  
<a name="l689"><span class="linenum"> 689</span></a>  <span class="comment">    // Language strings</span>
<a name="l690"><span class="linenum"> 690</span></a>      <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['strings'] = grade_helper::<a class="function" onClick="logFunction('get_plugin_strings')" href="../_functions/get_plugin_strings.html" onMouseOver="funcPopup(event,'get_plugin_strings')">get_plugin_strings</a>();
<a name="l691"><span class="linenum"> 691</span></a>  
<a name="l692"><span class="linenum"> 692</span></a>      if (<a class="var it1891" onMouseOver="hilite(1891)" onMouseOut="lolite()" onClick="logVariable('reports')" href="../_variables/reports.html">$reports</a> = grade_helper::<a class="function" onClick="logFunction('get_plugins_reports')" href="../_functions/get_plugins_reports.html" onMouseOver="funcPopup(event,'get_plugins_reports')">get_plugins_reports</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l693"><span class="linenum"> 693</span></a>          <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['report'] = <a class="var it1891" onMouseOver="hilite(1891)" onMouseOut="lolite()" onClick="logVariable('reports')" href="../_variables/reports.html">$reports</a>;
<a name="l694"><span class="linenum"> 694</span></a>      }
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>      if (<a class="var it16" onMouseOver="hilite(16)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../_variables/settings.html">$settings</a> = grade_helper::<a class="function" onClick="logFunction('get_info_manage_settings')" href="../_functions/get_info_manage_settings.html" onMouseOver="funcPopup(event,'get_info_manage_settings')">get_info_manage_settings</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l697"><span class="linenum"> 697</span></a>          <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['settings'] = <a class="var it16" onMouseOver="hilite(16)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../_variables/settings.html">$settings</a>;
<a name="l698"><span class="linenum"> 698</span></a>      }
<a name="l699"><span class="linenum"> 699</span></a>  
<a name="l700"><span class="linenum"> 700</span></a>      if (<a class="var it1939" onMouseOver="hilite(1939)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../_variables/scale.html">$scale</a> = grade_helper::<a class="function" onClick="logFunction('get_info_scales')" href="../_functions/get_info_scales.html" onMouseOver="funcPopup(event,'get_info_scales')">get_info_scales</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l701"><span class="linenum"> 701</span></a>          <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['scale'] = array('view'=&gt;<a class="var it1939" onMouseOver="hilite(1939)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../_variables/scale.html">$scale</a>);
<a name="l702"><span class="linenum"> 702</span></a>      }
<a name="l703"><span class="linenum"> 703</span></a>  
<a name="l704"><span class="linenum"> 704</span></a>      if (<a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a> = grade_helper::<a class="function" onClick="logFunction('get_info_outcomes')" href="../_functions/get_info_outcomes.html" onMouseOver="funcPopup(event,'get_info_outcomes')">get_info_outcomes</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l705"><span class="linenum"> 705</span></a>          <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['outcome'] = <a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a>;
<a name="l706"><span class="linenum"> 706</span></a>      }
<a name="l707"><span class="linenum"> 707</span></a>  
<a name="l708"><span class="linenum"> 708</span></a>      if (<a class="var it3696" onMouseOver="hilite(3696)" onMouseOut="lolite()" onClick="logVariable('letters')" href="../_variables/letters.html">$letters</a> = grade_helper::<a class="function" onClick="logFunction('get_info_letters')" href="../_functions/get_info_letters.html" onMouseOver="funcPopup(event,'get_info_letters')">get_info_letters</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l709"><span class="linenum"> 709</span></a>          <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['letter'] = <a class="var it3696" onMouseOver="hilite(3696)" onMouseOut="lolite()" onClick="logVariable('letters')" href="../_variables/letters.html">$letters</a>;
<a name="l710"><span class="linenum"> 710</span></a>      }
<a name="l711"><span class="linenum"> 711</span></a>  
<a name="l712"><span class="linenum"> 712</span></a>      if (<a class="var it5099" onMouseOver="hilite(5099)" onMouseOut="lolite()" onClick="logVariable('imports')" href="../_variables/imports.html">$imports</a> = grade_helper::<a class="function" onClick="logFunction('get_plugins_import')" href="../_functions/get_plugins_import.html" onMouseOver="funcPopup(event,'get_plugins_import')">get_plugins_import</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l713"><span class="linenum"> 713</span></a>          <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['import'] = <a class="var it5099" onMouseOver="hilite(5099)" onMouseOut="lolite()" onClick="logVariable('imports')" href="../_variables/imports.html">$imports</a>;
<a name="l714"><span class="linenum"> 714</span></a>      }
<a name="l715"><span class="linenum"> 715</span></a>  
<a name="l716"><span class="linenum"> 716</span></a>      if (<a class="var it30095" onMouseOver="hilite(30095)" onMouseOut="lolite()" onClick="logVariable('exports')" href="../_variables/exports.html">$exports</a> = grade_helper::<a class="function" onClick="logFunction('get_plugins_export')" href="../_functions/get_plugins_export.html" onMouseOver="funcPopup(event,'get_plugins_export')">get_plugins_export</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l717"><span class="linenum"> 717</span></a>          <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['export'] = <a class="var it30095" onMouseOver="hilite(30095)" onMouseOut="lolite()" onClick="logVariable('exports')" href="../_variables/exports.html">$exports</a>;
<a name="l718"><span class="linenum"> 718</span></a>      }
<a name="l719"><span class="linenum"> 719</span></a>  
<a name="l720"><span class="linenum"> 720</span></a>      foreach (<a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a> as <a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a> =&gt; <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>) {
<a name="l721"><span class="linenum"> 721</span></a>          if (!empty(<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>-&gt;<a onClick="logVariable('id')" class="var it41532" onMouseOver="hilite(41532)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) &amp;&amp; <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a> == <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>-&gt;<a onClick="logVariable('id')" class="var it41532" onMouseOver="hilite(41532)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l722"><span class="linenum"> 722</span></a>              <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['strings']['active_plugin_str'] = <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>-&gt;<a onClick="logVariable('string')" class="var it41532" onMouseOver="hilite(41532)" onMouseOut="lolite()" href="../_variables/string.html">string</a>;
<a name="l723"><span class="linenum"> 723</span></a>              break;
<a name="l724"><span class="linenum"> 724</span></a>          }
<a name="l725"><span class="linenum"> 725</span></a>          foreach (<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a> as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>) {
<a name="l726"><span class="linenum"> 726</span></a>              if (<a class="phpfunction" onClick="logFunction('is_a')" href="../_functions/is_a.html" onMouseOver="phpfuncPopup(event,'is_a')">is_a</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>, 'grade_plugin_info')) {
<a name="l727"><span class="linenum"> 727</span></a>                  if (<a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a> == <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('id')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l728"><span class="linenum"> 728</span></a>                      <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['strings']['active_plugin_str'] = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('string')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/string.html">string</a>;
<a name="l729"><span class="linenum"> 729</span></a>                  }
<a name="l730"><span class="linenum"> 730</span></a>              }
<a name="l731"><span class="linenum"> 731</span></a>          }
<a name="l732"><span class="linenum"> 732</span></a>      }
<a name="l733"><span class="linenum"> 733</span></a>  
<a name="l734"><span class="linenum"> 734</span></a>      foreach (<a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a> as <a class="var it30090" onMouseOver="hilite(30090)" onMouseOut="lolite()" onClick="logVariable('plugin_type')" href="../_variables/plugin_type.html">$plugin_type</a> =&gt; <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>) {
<a name="l735"><span class="linenum"> 735</span></a>          if (!empty(<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>-&gt;<a onClick="logVariable('id')" class="var it41532" onMouseOver="hilite(41532)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) &amp;&amp; <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a> == <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>-&gt;<a onClick="logVariable('id')" class="var it41532" onMouseOver="hilite(41532)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l736"><span class="linenum"> 736</span></a>              <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['strings']['active_plugin_str'] = <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a>-&gt;<a onClick="logVariable('string')" class="var it41532" onMouseOver="hilite(41532)" onMouseOut="lolite()" href="../_variables/string.html">string</a>;
<a name="l737"><span class="linenum"> 737</span></a>              break;
<a name="l738"><span class="linenum"> 738</span></a>          }
<a name="l739"><span class="linenum"> 739</span></a>          foreach (<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../_variables/plugins.html">$plugins</a> as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>) {
<a name="l740"><span class="linenum"> 740</span></a>              if (<a class="phpfunction" onClick="logFunction('is_a')" href="../_functions/is_a.html" onMouseOver="phpfuncPopup(event,'is_a')">is_a</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>, 'grade_plugin_info')) {
<a name="l741"><span class="linenum"> 741</span></a>                  if (<a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a> == <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('id')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l742"><span class="linenum"> 742</span></a>                      <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['strings']['active_plugin_str'] = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a onClick="logVariable('string')" class="var it39450" onMouseOver="hilite(39450)" onMouseOut="lolite()" href="../_variables/string.html">string</a>;
<a name="l743"><span class="linenum"> 743</span></a>                  }
<a name="l744"><span class="linenum"> 744</span></a>              }
<a name="l745"><span class="linenum"> 745</span></a>          }
<a name="l746"><span class="linenum"> 746</span></a>      }
<a name="l747"><span class="linenum"> 747</span></a>  
<a name="l748"><span class="linenum"> 748</span></a>      return <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>;
<a name="l749"><span class="linenum"> 749</span></a>  }
<a name="l750"><span class="linenum"> 750</span></a>  
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">/**</span>
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment"> * A simple class containing info about grade plugins.</span>
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment"> * Can be subclassed for special rules</span>
<a name="l754"><span class="linenum"> 754</span></a>  <span class="comment"> *</span>
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment"> * @package core_grades</span>
<a name="l756"><span class="linenum"> 756</span></a>  <span class="comment"> * @copyright 2009 Nicolas Connault</span>
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l758"><span class="linenum"> 758</span></a>  <span class="comment"> */</span>
<a name="l759"><span class="linenum"> 759</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a> {
<a name="l760"><span class="linenum"> 760</span></a>      <span class="comment">/**</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment">     * A unique id for this plugin</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment">     *</span>
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">     * @var mixed</span>
<a name="l764"><span class="linenum"> 764</span></a>  <span class="comment">     */</span>
<a name="l765"><span class="linenum"> 765</span></a>      public <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>;
<a name="l766"><span class="linenum"> 766</span></a>      <span class="comment">/**</span>
<a name="l767"><span class="linenum"> 767</span></a>  <span class="comment">     * A URL to access this plugin</span>
<a name="l768"><span class="linenum"> 768</span></a>  <span class="comment">     *</span>
<a name="l769"><span class="linenum"> 769</span></a>  <span class="comment">     * @var mixed</span>
<a name="l770"><span class="linenum"> 770</span></a>  <span class="comment">     */</span>
<a name="l771"><span class="linenum"> 771</span></a>      public <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>;
<a name="l772"><span class="linenum"> 772</span></a>      <span class="comment">/**</span>
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment">     * The name of this plugin</span>
<a name="l774"><span class="linenum"> 774</span></a>  <span class="comment">     *</span>
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment">     * @var mixed</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">     */</span>
<a name="l777"><span class="linenum"> 777</span></a>      public <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>;
<a name="l778"><span class="linenum"> 778</span></a>      <span class="comment">/**</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment">     * Another grade_plugin_info object, parent of the current one</span>
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment">     *</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">     * @var mixed</span>
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment">     */</span>
<a name="l783"><span class="linenum"> 783</span></a>      public <a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a>;
<a name="l784"><span class="linenum"> 784</span></a>  
<a name="l785"><span class="linenum"> 785</span></a>      <span class="comment">/**</span>
<a name="l786"><span class="linenum"> 786</span></a>  <span class="comment">     * Constructor</span>
<a name="l787"><span class="linenum"> 787</span></a>  <span class="comment">     *</span>
<a name="l788"><span class="linenum"> 788</span></a>  <span class="comment">     * @param int $id A unique id for this plugin</span>
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment">     * @param string $link A URL to access this plugin</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">     * @param string $string The name of this plugin</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">     * @param object $parent Another grade_plugin_info object, parent of the current one</span>
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment">     *</span>
<a name="l793"><span class="linenum"> 793</span></a>  <span class="comment">     * @return void</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment">     */</span>
<a name="l795"><span class="linenum"> 795</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, <a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a>=null) {
<a name="l796"><span class="linenum"> 796</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/id.html">id</a> = <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>;
<a name="l797"><span class="linenum"> 797</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('link')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/link.html">link</a> = <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>;
<a name="l798"><span class="linenum"> 798</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('string')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/string.html">string</a> = <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>;
<a name="l799"><span class="linenum"> 799</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parent')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/parent.html">parent</a> = <a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a>;
<a name="l800"><span class="linenum"> 800</span></a>      }
<a name="l801"><span class="linenum"> 801</span></a>  }
<a name="l802"><span class="linenum"> 802</span></a>  
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment">/**</span>
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment"> * Prints the page headers, breadcrumb trail, page heading, (optional) dropdown navigation menu and</span>
<a name="l805"><span class="linenum"> 805</span></a>  <span class="comment"> * (optional) navigation tabs for any gradebook page. All gradebook pages MUST use these functions</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment"> * in favour of the usual print_header(), print_header_simple(), print_heading() etc.</span>
<a name="l807"><span class="linenum"> 807</span></a>  <span class="comment"> * !IMPORTANT! Use of tabs.php file in gradebook pages is forbidden unless tabs are switched off at</span>
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment"> * the site level for the gradebook ($CFG-&gt;grade_navmethod = GRADE_NAVMETHOD_DROPDOWN).</span>
<a name="l809"><span class="linenum"> 809</span></a>  <span class="comment"> *</span>
<a name="l810"><span class="linenum"> 810</span></a>  <span class="comment"> * @param int     $courseid Course id</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment"> * @param string  $active_type The type of the current page (report, settings,</span>
<a name="l812"><span class="linenum"> 812</span></a>  <span class="comment"> *                             import, export, scales, outcomes, letters)</span>
<a name="l813"><span class="linenum"> 813</span></a>  <span class="comment"> * @param string  $active_plugin The plugin of the current page (grader, fullview etc...)</span>
<a name="l814"><span class="linenum"> 814</span></a>  <span class="comment"> * @param string  $heading The heading of the page. Tries to guess if none is given</span>
<a name="l815"><span class="linenum"> 815</span></a>  <span class="comment"> * @param boolean $return Whether to return (true) or echo (false) the HTML generated by this function</span>
<a name="l816"><span class="linenum"> 816</span></a>  <span class="comment"> * @param string  $bodytags Additional attributes that will be added to the &lt;body&gt; tag</span>
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment"> * @param string  $buttons Additional buttons to display on the page</span>
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment"> * @param boolean $shownavigation should the gradebook navigation drop down (or tabs) be shown?</span>
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment"> * @param string  $headerhelpidentifier The help string identifier if required.</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment"> * @param string  $headerhelpcomponent The component for the help string.</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment"> * @param stdClass $user The user object for use with the user context header.</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment"> *</span>
<a name="l823"><span class="linenum"> 823</span></a>  <span class="comment"> * @return string HTML code or nothing if $return == false</span>
<a name="l824"><span class="linenum"> 824</span></a>  <span class="comment"> */</span>
<a name="l825"><span class="linenum"> 825</span></a>  function <a class="function" onClick="logFunction('print_grade_page_head')" href="../_functions/print_grade_page_head.html" onMouseOver="funcPopup(event,'print_grade_page_head')">print_grade_page_head</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>, <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>=null,
<a name="l826"><span class="linenum"> 826</span></a>                                 <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a> = false, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false,
<a name="l827"><span class="linenum"> 827</span></a>                                 <a class="var it6743" onMouseOver="hilite(6743)" onMouseOut="lolite()" onClick="logVariable('buttons')" href="../_variables/buttons.html">$buttons</a>=false, <a class="var it30096" onMouseOver="hilite(30096)" onMouseOut="lolite()" onClick="logVariable('shownavigation')" href="../_variables/shownavigation.html">$shownavigation</a>=true, <a class="var it30097" onMouseOver="hilite(30097)" onMouseOut="lolite()" onClick="logVariable('headerhelpidentifier')" href="../_variables/headerhelpidentifier.html">$headerhelpidentifier</a> = null, <a class="var it30098" onMouseOver="hilite(30098)" onMouseOut="lolite()" onClick="logVariable('headerhelpcomponent')" href="../_variables/headerhelpcomponent.html">$headerhelpcomponent</a> = null,
<a name="l828"><span class="linenum"> 828</span></a>                                 <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = null) {
<a name="l829"><span class="linenum"> 829</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l830"><span class="linenum"> 830</span></a>  
<a name="l831"><span class="linenum"> 831</span></a>      if (<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a> === 'preferences') {
<a name="l832"><span class="linenum"> 832</span></a>  <span class="comment">        // In Moodle 2.8 report preferences were moved under 'settings'. Allow backward compatibility for 3rd party grade reports.</span>
<a name="l833"><span class="linenum"> 833</span></a>          <a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a> = 'settings';
<a name="l834"><span class="linenum"> 834</span></a>      }
<a name="l835"><span class="linenum"> 835</span></a>  
<a name="l836"><span class="linenum"> 836</span></a>      <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a> = <a class="function" onClick="logFunction('grade_get_plugin_info')" href="../_functions/grade_get_plugin_info.html" onMouseOver="funcPopup(event,'grade_get_plugin_info')">grade_get_plugin_info</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>, <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>);
<a name="l837"><span class="linenum"> 837</span></a>  
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment">    // Determine the string of the active plugin</span>
<a name="l839"><span class="linenum"> 839</span></a>      <a class="var it30099" onMouseOver="hilite(30099)" onMouseOut="lolite()" onClick="logVariable('stractive_plugin')" href="../_variables/stractive_plugin.html">$stractive_plugin</a> = (<a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>) ? <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['strings']['active_plugin_str'] : <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>;
<a name="l840"><span class="linenum"> 840</span></a>      <a class="var it30100" onMouseOver="hilite(30100)" onMouseOut="lolite()" onClick="logVariable('stractive_type')" href="../_variables/stractive_type.html">$stractive_type</a> = <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>['strings'][<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>];
<a name="l841"><span class="linenum"> 841</span></a>  
<a name="l842"><span class="linenum"> 842</span></a>      if (empty(<a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>[<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>]-&gt;id) || !empty(<a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>[<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>]-&gt;parent)) {
<a name="l843"><span class="linenum"> 843</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('course')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/course.html">course</a>-&gt;fullname.': ' . <a class="var it30100" onMouseOver="hilite(30100)" onMouseOut="lolite()" onClick="logVariable('stractive_type')" href="../_variables/stractive_type.html">$stractive_type</a> . ': ' . <a class="var it30099" onMouseOver="hilite(30099)" onMouseOut="lolite()" onClick="logVariable('stractive_plugin')" href="../_variables/stractive_plugin.html">$stractive_plugin</a>;
<a name="l844"><span class="linenum"> 844</span></a>      } else {
<a name="l845"><span class="linenum"> 845</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('course')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/course.html">course</a>-&gt;fullname.': ' . <a class="var it30099" onMouseOver="hilite(30099)" onMouseOut="lolite()" onClick="logVariable('stractive_plugin')" href="../_variables/stractive_plugin.html">$stractive_plugin</a>;
<a name="l846"><span class="linenum"> 846</span></a>      }
<a name="l847"><span class="linenum"> 847</span></a>  
<a name="l848"><span class="linenum"> 848</span></a>      if (<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a> == 'report') {
<a name="l849"><span class="linenum"> 849</span></a>          <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_pagelayout')" href="../_functions/set_pagelayout.html" onMouseOver="funcPopup(event,'set_pagelayout')">set_pagelayout</a>('report');
<a name="l850"><span class="linenum"> 850</span></a>      } else {
<a name="l851"><span class="linenum"> 851</span></a>          <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_pagelayout')" href="../_functions/set_pagelayout.html" onMouseOver="funcPopup(event,'set_pagelayout')">set_pagelayout</a>('admin');
<a name="l852"><span class="linenum"> 852</span></a>      }
<a name="l853"><span class="linenum"> 853</span></a>      <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('grades') . ': ' . <a class="var it30100" onMouseOver="hilite(30100)" onMouseOut="lolite()" onClick="logVariable('stractive_type')" href="../_variables/stractive_type.html">$stractive_type</a>);
<a name="l854"><span class="linenum"> 854</span></a>      <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>);
<a name="l855"><span class="linenum"> 855</span></a>      if (<a class="var it6743" onMouseOver="hilite(6743)" onMouseOut="lolite()" onClick="logVariable('buttons')" href="../_variables/buttons.html">$buttons</a> instanceof single_button) {
<a name="l856"><span class="linenum"> 856</span></a>          <a class="var it6743" onMouseOver="hilite(6743)" onMouseOut="lolite()" onClick="logVariable('buttons')" href="../_variables/buttons.html">$buttons</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('render')" href="../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it6743" onMouseOver="hilite(6743)" onMouseOut="lolite()" onClick="logVariable('buttons')" href="../_variables/buttons.html">$buttons</a>);
<a name="l857"><span class="linenum"> 857</span></a>      }
<a name="l858"><span class="linenum"> 858</span></a>      <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_button')" href="../_functions/set_button.html" onMouseOver="funcPopup(event,'set_button')">set_button</a>(<a class="var it6743" onMouseOver="hilite(6743)" onMouseOut="lolite()" onClick="logVariable('buttons')" href="../_variables/buttons.html">$buttons</a>);
<a name="l859"><span class="linenum"> 859</span></a>      if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> != <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l860"><span class="linenum"> 860</span></a>          <a class="function" onClick="logFunction('grade_extend_settings')" href="../_functions/grade_extend_settings.html" onMouseOver="funcPopup(event,'grade_extend_settings')">grade_extend_settings</a>(<a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l861"><span class="linenum"> 861</span></a>      }
<a name="l862"><span class="linenum"> 862</span></a>  
<a name="l863"><span class="linenum"> 863</span></a>      <a class="var it30101" onMouseOver="hilite(30101)" onMouseOut="lolite()" onClick="logVariable('returnval')" href="../_variables/returnval.html">$returnval</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>();
<a name="l864"><span class="linenum"> 864</span></a>  
<a name="l865"><span class="linenum"> 865</span></a>      if (!<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l866"><span class="linenum"> 866</span></a>          echo <a class="var it30101" onMouseOver="hilite(30101)" onMouseOut="lolite()" onClick="logVariable('returnval')" href="../_variables/returnval.html">$returnval</a>;
<a name="l867"><span class="linenum"> 867</span></a>      }
<a name="l868"><span class="linenum"> 868</span></a>  
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment">    // Guess heading if not given explicitly</span>
<a name="l870"><span class="linenum"> 870</span></a>      if (!<a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>) {
<a name="l871"><span class="linenum"> 871</span></a>          <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a> = <a class="var it30099" onMouseOver="hilite(30099)" onMouseOut="lolite()" onClick="logVariable('stractive_plugin')" href="../_variables/stractive_plugin.html">$stractive_plugin</a>;
<a name="l872"><span class="linenum"> 872</span></a>      }
<a name="l873"><span class="linenum"> 873</span></a>  
<a name="l874"><span class="linenum"> 874</span></a>      if (<a class="var it30096" onMouseOver="hilite(30096)" onMouseOut="lolite()" onClick="logVariable('shownavigation')" href="../_variables/shownavigation.html">$shownavigation</a>) {
<a name="l875"><span class="linenum"> 875</span></a>          <a class="var it30102" onMouseOver="hilite(30102)" onMouseOut="lolite()" onClick="logVariable('navselector')" href="../_variables/navselector.html">$navselector</a> = null;
<a name="l876"><span class="linenum"> 876</span></a>          if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> != <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a> &amp;&amp;
<a name="l877"><span class="linenum"> 877</span></a>                  (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('grade_navmethod')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/grade_navmethod.html">grade_navmethod</a> == <a class="constant" onClick="logConstant('GRADE_NAVMETHOD_COMBO')" href="../_constants/GRADE_NAVMETHOD_COMBO.html" onMouseOver="constPopup(event,'GRADE_NAVMETHOD_COMBO')">GRADE_NAVMETHOD_COMBO</a> || <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('grade_navmethod')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/grade_navmethod.html">grade_navmethod</a> == <a class="constant" onClick="logConstant('GRADE_NAVMETHOD_DROPDOWN')" href="../_constants/GRADE_NAVMETHOD_DROPDOWN.html" onMouseOver="constPopup(event,'GRADE_NAVMETHOD_DROPDOWN')">GRADE_NAVMETHOD_DROPDOWN</a>)) {
<a name="l878"><span class="linenum"> 878</span></a>  <span class="comment">            // It's absolutely essential that this grade plugin selector is shown after the user header. Just ask Fred.</span>
<a name="l879"><span class="linenum"> 879</span></a>              <a class="var it30102" onMouseOver="hilite(30102)" onMouseOut="lolite()" onClick="logVariable('navselector')" href="../_variables/navselector.html">$navselector</a> = <a class="function" onClick="logFunction('print_grade_plugin_selector')" href="../_functions/print_grade_plugin_selector.html" onMouseOver="funcPopup(event,'print_grade_plugin_selector')">print_grade_plugin_selector</a>(<a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>, <a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>, <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>, true);
<a name="l880"><span class="linenum"> 880</span></a>              if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l881"><span class="linenum"> 881</span></a>                  <a class="var it30101" onMouseOver="hilite(30101)" onMouseOut="lolite()" onClick="logVariable('returnval')" href="../_variables/returnval.html">$returnval</a> .= <a class="var it30102" onMouseOver="hilite(30102)" onMouseOut="lolite()" onClick="logVariable('navselector')" href="../_variables/navselector.html">$navselector</a>;
<a name="l882"><span class="linenum"> 882</span></a>              } else if (!isset(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l883"><span class="linenum"> 883</span></a>                  echo <a class="var it30102" onMouseOver="hilite(30102)" onMouseOut="lolite()" onClick="logVariable('navselector')" href="../_variables/navselector.html">$navselector</a>;
<a name="l884"><span class="linenum"> 884</span></a>              }
<a name="l885"><span class="linenum"> 885</span></a>          }
<a name="l886"><span class="linenum"> 886</span></a>  
<a name="l887"><span class="linenum"> 887</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l888"><span class="linenum"> 888</span></a>  <span class="comment">        // Add a help dialogue box if provided.</span>
<a name="l889"><span class="linenum"> 889</span></a>          if (isset(<a class="var it30097" onMouseOver="hilite(30097)" onMouseOut="lolite()" onClick="logVariable('headerhelpidentifier')" href="../_variables/headerhelpidentifier.html">$headerhelpidentifier</a>)) {
<a name="l890"><span class="linenum"> 890</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading_with_help')" href="../_functions/heading_with_help.html" onMouseOver="funcPopup(event,'heading_with_help')">heading_with_help</a>(<a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>, <a class="var it30097" onMouseOver="hilite(30097)" onMouseOut="lolite()" onClick="logVariable('headerhelpidentifier')" href="../_variables/headerhelpidentifier.html">$headerhelpidentifier</a>, <a class="var it30098" onMouseOver="hilite(30098)" onMouseOut="lolite()" onClick="logVariable('headerhelpcomponent')" href="../_variables/headerhelpcomponent.html">$headerhelpcomponent</a>);
<a name="l891"><span class="linenum"> 891</span></a>          } else {
<a name="l892"><span class="linenum"> 892</span></a>              if (isset(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l893"><span class="linenum"> 893</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('context_header')" href="../_functions/context_header.html" onMouseOver="funcPopup(event,'context_header')">context_header</a>(
<a name="l894"><span class="linenum"> 894</span></a>                          array(
<a name="l895"><span class="linenum"> 895</span></a>                              'heading' =&gt; <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>),
<a name="l896"><span class="linenum"> 896</span></a>                              'user' =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>,
<a name="l897"><span class="linenum"> 897</span></a>                              'usercontext' =&gt; <a class="class" onClick="logClass('context_user')" href="../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)
<a name="l898"><span class="linenum"> 898</span></a>                          ), 2
<a name="l899"><span class="linenum"> 899</span></a>                      ) . <a class="var it30102" onMouseOver="hilite(30102)" onMouseOut="lolite()" onClick="logVariable('navselector')" href="../_variables/navselector.html">$navselector</a>;
<a name="l900"><span class="linenum"> 900</span></a>              } else {
<a name="l901"><span class="linenum"> 901</span></a>                  <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>);
<a name="l902"><span class="linenum"> 902</span></a>              }
<a name="l903"><span class="linenum"> 903</span></a>          }
<a name="l904"><span class="linenum"> 904</span></a>  
<a name="l905"><span class="linenum"> 905</span></a>          if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l906"><span class="linenum"> 906</span></a>              <a class="var it30101" onMouseOver="hilite(30101)" onMouseOut="lolite()" onClick="logVariable('returnval')" href="../_variables/returnval.html">$returnval</a> .= <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l907"><span class="linenum"> 907</span></a>          } else {
<a name="l908"><span class="linenum"> 908</span></a>              echo <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l909"><span class="linenum"> 909</span></a>          }
<a name="l910"><span class="linenum"> 910</span></a>  
<a name="l911"><span class="linenum"> 911</span></a>          if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> != <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a> &amp;&amp;
<a name="l912"><span class="linenum"> 912</span></a>                  (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('grade_navmethod')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/grade_navmethod.html">grade_navmethod</a> == <a class="constant" onClick="logConstant('GRADE_NAVMETHOD_COMBO')" href="../_constants/GRADE_NAVMETHOD_COMBO.html" onMouseOver="constPopup(event,'GRADE_NAVMETHOD_COMBO')">GRADE_NAVMETHOD_COMBO</a> || <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('grade_navmethod')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/grade_navmethod.html">grade_navmethod</a> == <a class="constant" onClick="logConstant('GRADE_NAVMETHOD_TABS')" href="../_constants/GRADE_NAVMETHOD_TABS.html" onMouseOver="constPopup(event,'GRADE_NAVMETHOD_TABS')">GRADE_NAVMETHOD_TABS</a>)) {
<a name="l913"><span class="linenum"> 913</span></a>              <a class="var it30101" onMouseOver="hilite(30101)" onMouseOut="lolite()" onClick="logVariable('returnval')" href="../_variables/returnval.html">$returnval</a> .= <a class="function" onClick="logFunction('grade_print_tabs')" href="../_functions/grade_print_tabs.html" onMouseOver="funcPopup(event,'grade_print_tabs')">grade_print_tabs</a>(<a class="var it30088" onMouseOver="hilite(30088)" onMouseOut="lolite()" onClick="logVariable('active_type')" href="../_variables/active_type.html">$active_type</a>, <a class="var it30089" onMouseOver="hilite(30089)" onMouseOut="lolite()" onClick="logVariable('active_plugin')" href="../_variables/active_plugin.html">$active_plugin</a>, <a class="var it30087" onMouseOver="hilite(30087)" onMouseOut="lolite()" onClick="logVariable('plugin_info')" href="../_variables/plugin_info.html">$plugin_info</a>, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>);
<a name="l914"><span class="linenum"> 914</span></a>          }
<a name="l915"><span class="linenum"> 915</span></a>      }
<a name="l916"><span class="linenum"> 916</span></a>  
<a name="l917"><span class="linenum"> 917</span></a>      <a class="var it30101" onMouseOver="hilite(30101)" onMouseOut="lolite()" onClick="logVariable('returnval')" href="../_variables/returnval.html">$returnval</a> .= <a class="function" onClick="logFunction('print_natural_aggregation_upgrade_notice')" href="../_functions/print_natural_aggregation_upgrade_notice.html" onMouseOver="funcPopup(event,'print_natural_aggregation_upgrade_notice')">print_natural_aggregation_upgrade_notice</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>,
<a name="l918"><span class="linenum"> 918</span></a>                                                             <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>),
<a name="l919"><span class="linenum"> 919</span></a>                                                             <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('url')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/url.html">url</a>,
<a name="l920"><span class="linenum"> 920</span></a>                                                             <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>);
<a name="l921"><span class="linenum"> 921</span></a>  
<a name="l922"><span class="linenum"> 922</span></a>      if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l923"><span class="linenum"> 923</span></a>          return <a class="var it30101" onMouseOver="hilite(30101)" onMouseOut="lolite()" onClick="logVariable('returnval')" href="../_variables/returnval.html">$returnval</a>;
<a name="l924"><span class="linenum"> 924</span></a>      }
<a name="l925"><span class="linenum"> 925</span></a>  }
<a name="l926"><span class="linenum"> 926</span></a>  
<a name="l927"><span class="linenum"> 927</span></a>  <span class="comment">/**</span>
<a name="l928"><span class="linenum"> 928</span></a>  <span class="comment"> * Utility class used for return tracking when using edit and other forms in grade plugins</span>
<a name="l929"><span class="linenum"> 929</span></a>  <span class="comment"> *</span>
<a name="l930"><span class="linenum"> 930</span></a>  <span class="comment"> * @package core_grades</span>
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment"> * @copyright 2009 Nicolas Connault</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l933"><span class="linenum"> 933</span></a>  <span class="comment"> */</span>
<a name="l934"><span class="linenum"> 934</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('grade_plugin_return')" href="../_classes/grade_plugin_return.html" onMouseOver="classPopup(event,'grade_plugin_return')">grade_plugin_return</a> {
<a name="l935"><span class="linenum"> 935</span></a>      public <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>;
<a name="l936"><span class="linenum"> 936</span></a>      public <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>;
<a name="l937"><span class="linenum"> 937</span></a>      public <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>;
<a name="l938"><span class="linenum"> 938</span></a>      public <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>;
<a name="l939"><span class="linenum"> 939</span></a>      public <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>;
<a name="l940"><span class="linenum"> 940</span></a>  
<a name="l941"><span class="linenum"> 941</span></a>      <span class="comment">/**</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment">     * Constructor</span>
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment">     *</span>
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment">     * @param array $params - associative array with return parameters, if null parameter are taken from _GET or _POST</span>
<a name="l945"><span class="linenum"> 945</span></a>  <span class="comment">     */</span>
<a name="l946"><span class="linenum"> 946</span></a>      public function <a class="function" onClick="logFunction('grade_plugin_return')" href="../_functions/grade_plugin_return.html" onMouseOver="funcPopup(event,'grade_plugin_return')">grade_plugin_return</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = null) {
<a name="l947"><span class="linenum"> 947</span></a>          if (empty(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>)) {
<a name="l948"><span class="linenum"> 948</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/type.html">type</a>     = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('gpr_type', null, <a class="constant" onClick="logConstant('PARAM_SAFEDIR')" href="../_constants/PARAM_SAFEDIR.html" onMouseOver="constPopup(event,'PARAM_SAFEDIR')">PARAM_SAFEDIR</a>);
<a name="l949"><span class="linenum"> 949</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>   = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('gpr_plugin', null, <a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>);
<a name="l950"><span class="linenum"> 950</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a> = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('gpr_courseid', null, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l951"><span class="linenum"> 951</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>   = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('gpr_userid', null, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l952"><span class="linenum"> 952</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>     = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('gpr_page', null, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l953"><span class="linenum"> 953</span></a>  
<a name="l954"><span class="linenum"> 954</span></a>          } else {
<a name="l955"><span class="linenum"> 955</span></a>              foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>=&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l956"><span class="linenum"> 956</span></a>                  if (property_exists(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>, <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>)) {
<a name="l957"><span class="linenum"> 957</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l958"><span class="linenum"> 958</span></a>                  }
<a name="l959"><span class="linenum"> 959</span></a>              }
<a name="l960"><span class="linenum"> 960</span></a>          }
<a name="l961"><span class="linenum"> 961</span></a>      }
<a name="l962"><span class="linenum"> 962</span></a>  
<a name="l963"><span class="linenum"> 963</span></a>      <span class="comment">/**</span>
<a name="l964"><span class="linenum"> 964</span></a>  <span class="comment">     * Returns return parameters as options array suitable for buttons.</span>
<a name="l965"><span class="linenum"> 965</span></a>  <span class="comment">     * @return array options</span>
<a name="l966"><span class="linenum"> 966</span></a>  <span class="comment">     */</span>
<a name="l967"><span class="linenum"> 967</span></a>      public function <a class="function" onClick="logFunction('get_options')" href="../_functions/get_options.html" onMouseOver="funcPopup(event,'get_options')">get_options</a>() {
<a name="l968"><span class="linenum"> 968</span></a>          if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/type.html">type</a>)) {
<a name="l969"><span class="linenum"> 969</span></a>              return array();
<a name="l970"><span class="linenum"> 970</span></a>          }
<a name="l971"><span class="linenum"> 971</span></a>  
<a name="l972"><span class="linenum"> 972</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array();
<a name="l973"><span class="linenum"> 973</span></a>  
<a name="l974"><span class="linenum"> 974</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>)) {
<a name="l975"><span class="linenum"> 975</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['plugin'] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>;
<a name="l976"><span class="linenum"> 976</span></a>          }
<a name="l977"><span class="linenum"> 977</span></a>  
<a name="l978"><span class="linenum"> 978</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>)) {
<a name="l979"><span class="linenum"> 979</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['id'] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>;
<a name="l980"><span class="linenum"> 980</span></a>          }
<a name="l981"><span class="linenum"> 981</span></a>  
<a name="l982"><span class="linenum"> 982</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>)) {
<a name="l983"><span class="linenum"> 983</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userid'] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>;
<a name="l984"><span class="linenum"> 984</span></a>          }
<a name="l985"><span class="linenum"> 985</span></a>  
<a name="l986"><span class="linenum"> 986</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>)) {
<a name="l987"><span class="linenum"> 987</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['page'] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>;
<a name="l988"><span class="linenum"> 988</span></a>          }
<a name="l989"><span class="linenum"> 989</span></a>  
<a name="l990"><span class="linenum"> 990</span></a>          return <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>;
<a name="l991"><span class="linenum"> 991</span></a>      }
<a name="l992"><span class="linenum"> 992</span></a>  
<a name="l993"><span class="linenum"> 993</span></a>      <span class="comment">/**</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">     * Returns return url</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">     *</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment">     * @param string $default default url when params not set</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment">     * @param array  $extras Extra URL parameters</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment">     *</span>
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment">     * @return string url</span>
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment">     */</span>
<a name="l1001"><span class="linenum">1001</span></a>      public function <a class="function" onClick="logFunction('get_return_url')" href="../_functions/get_return_url.html" onMouseOver="funcPopup(event,'get_return_url')">get_return_url</a>(<a class="var it1163" onMouseOver="hilite(1163)" onMouseOut="lolite()" onClick="logVariable('default')" href="../_variables/default.html">$default</a>, <a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('extras')" href="../_variables/extras.html">$extras</a>=null) {
<a name="l1002"><span class="linenum">1002</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1003"><span class="linenum">1003</span></a>  
<a name="l1004"><span class="linenum">1004</span></a>          if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/type.html">type</a>) or empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>)) {
<a name="l1005"><span class="linenum">1005</span></a>              return <a class="var it1163" onMouseOver="hilite(1163)" onMouseOut="lolite()" onClick="logVariable('default')" href="../_variables/default.html">$default</a>;
<a name="l1006"><span class="linenum">1006</span></a>          }
<a name="l1007"><span class="linenum">1007</span></a>  
<a name="l1008"><span class="linenum">1008</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.'/grade/'.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/type.html">type</a>.'/'.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>.'<a class="filename" href="../index.php.html">/index.php</a>';
<a name="l1009"><span class="linenum">1009</span></a>          <a class="var it30104" onMouseOver="hilite(30104)" onMouseOut="lolite()" onClick="logVariable('glue')" href="../_variables/glue.html">$glue</a> = '?';
<a name="l1010"><span class="linenum">1010</span></a>  
<a name="l1011"><span class="linenum">1011</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>)) {
<a name="l1012"><span class="linenum">1012</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> .= <a class="var it30104" onMouseOver="hilite(30104)" onMouseOut="lolite()" onClick="logVariable('glue')" href="../_variables/glue.html">$glue</a>.'id='.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>;
<a name="l1013"><span class="linenum">1013</span></a>              <a class="var it30104" onMouseOver="hilite(30104)" onMouseOut="lolite()" onClick="logVariable('glue')" href="../_variables/glue.html">$glue</a> = '&amp;amp;';
<a name="l1014"><span class="linenum">1014</span></a>          }
<a name="l1015"><span class="linenum">1015</span></a>  
<a name="l1016"><span class="linenum">1016</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>)) {
<a name="l1017"><span class="linenum">1017</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> .= <a class="var it30104" onMouseOver="hilite(30104)" onMouseOut="lolite()" onClick="logVariable('glue')" href="../_variables/glue.html">$glue</a>.'userid='.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>;
<a name="l1018"><span class="linenum">1018</span></a>              <a class="var it30104" onMouseOver="hilite(30104)" onMouseOut="lolite()" onClick="logVariable('glue')" href="../_variables/glue.html">$glue</a> = '&amp;amp;';
<a name="l1019"><span class="linenum">1019</span></a>          }
<a name="l1020"><span class="linenum">1020</span></a>  
<a name="l1021"><span class="linenum">1021</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>)) {
<a name="l1022"><span class="linenum">1022</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> .= <a class="var it30104" onMouseOver="hilite(30104)" onMouseOut="lolite()" onClick="logVariable('glue')" href="../_variables/glue.html">$glue</a>.'page='.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>;
<a name="l1023"><span class="linenum">1023</span></a>              <a class="var it30104" onMouseOver="hilite(30104)" onMouseOut="lolite()" onClick="logVariable('glue')" href="../_variables/glue.html">$glue</a> = '&amp;amp;';
<a name="l1024"><span class="linenum">1024</span></a>          }
<a name="l1025"><span class="linenum">1025</span></a>  
<a name="l1026"><span class="linenum">1026</span></a>          if (!empty(<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('extras')" href="../_variables/extras.html">$extras</a>)) {
<a name="l1027"><span class="linenum">1027</span></a>              foreach (<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('extras')" href="../_variables/extras.html">$extras</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>=&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l1028"><span class="linenum">1028</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> .= <a class="var it30104" onMouseOver="hilite(30104)" onMouseOut="lolite()" onClick="logVariable('glue')" href="../_variables/glue.html">$glue</a>.<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>.'='.<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l1029"><span class="linenum">1029</span></a>                  <a class="var it30104" onMouseOver="hilite(30104)" onMouseOut="lolite()" onClick="logVariable('glue')" href="../_variables/glue.html">$glue</a> = '&amp;amp;';
<a name="l1030"><span class="linenum">1030</span></a>              }
<a name="l1031"><span class="linenum">1031</span></a>          }
<a name="l1032"><span class="linenum">1032</span></a>  
<a name="l1033"><span class="linenum">1033</span></a>          return <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>;
<a name="l1034"><span class="linenum">1034</span></a>      }
<a name="l1035"><span class="linenum">1035</span></a>  
<a name="l1036"><span class="linenum">1036</span></a>      <span class="comment">/**</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">     * Returns string with hidden return tracking form elements.</span>
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment">     * @return string</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment">     */</span>
<a name="l1040"><span class="linenum">1040</span></a>      public function <a class="function" onClick="logFunction('get_form_fields')" href="../_functions/get_form_fields.html" onMouseOver="funcPopup(event,'get_form_fields')">get_form_fields</a>() {
<a name="l1041"><span class="linenum">1041</span></a>          if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/type.html">type</a>)) {
<a name="l1042"><span class="linenum">1042</span></a>              return '';
<a name="l1043"><span class="linenum">1043</span></a>          }
<a name="l1044"><span class="linenum">1044</span></a>  
<a name="l1045"><span class="linenum">1045</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>  = '&lt;input type=&quot;hidden&quot; name=&quot;gpr_type&quot; value=&quot;'.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/type.html">type</a>.'&quot; /&gt;';
<a name="l1046"><span class="linenum">1046</span></a>  
<a name="l1047"><span class="linenum">1047</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>)) {
<a name="l1048"><span class="linenum">1048</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> .= '&lt;input type=&quot;hidden&quot; name=&quot;gpr_plugin&quot; value=&quot;'.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>.'&quot; /&gt;';
<a name="l1049"><span class="linenum">1049</span></a>          }
<a name="l1050"><span class="linenum">1050</span></a>  
<a name="l1051"><span class="linenum">1051</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>)) {
<a name="l1052"><span class="linenum">1052</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> .= '&lt;input type=&quot;hidden&quot; name=&quot;gpr_courseid&quot; value=&quot;'.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>.'&quot; /&gt;';
<a name="l1053"><span class="linenum">1053</span></a>          }
<a name="l1054"><span class="linenum">1054</span></a>  
<a name="l1055"><span class="linenum">1055</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>)) {
<a name="l1056"><span class="linenum">1056</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> .= '&lt;input type=&quot;hidden&quot; name=&quot;gpr_userid&quot; value=&quot;'.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>.'&quot; /&gt;';
<a name="l1057"><span class="linenum">1057</span></a>          }
<a name="l1058"><span class="linenum">1058</span></a>  
<a name="l1059"><span class="linenum">1059</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>)) {
<a name="l1060"><span class="linenum">1060</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> .= '&lt;input type=&quot;hidden&quot; name=&quot;gpr_page&quot; value=&quot;'.<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>.'&quot; /&gt;';
<a name="l1061"><span class="linenum">1061</span></a>          }
<a name="l1062"><span class="linenum">1062</span></a>      }
<a name="l1063"><span class="linenum">1063</span></a>  
<a name="l1064"><span class="linenum">1064</span></a>      <span class="comment">/**</span>
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment">     * Add hidden elements into mform</span>
<a name="l1066"><span class="linenum">1066</span></a>  <span class="comment">     *</span>
<a name="l1067"><span class="linenum">1067</span></a>  <span class="comment">     * @param object &amp;$mform moodle form object</span>
<a name="l1068"><span class="linenum">1068</span></a>  <span class="comment">     *</span>
<a name="l1069"><span class="linenum">1069</span></a>  <span class="comment">     * @return void</span>
<a name="l1070"><span class="linenum">1070</span></a>  <span class="comment">     */</span>
<a name="l1071"><span class="linenum">1071</span></a>      public function <a class="function" onClick="logFunction('add_mform_elements')" href="../_functions/add_mform_elements.html" onMouseOver="funcPopup(event,'add_mform_elements')">add_mform_elements</a>(&amp;<a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>) {
<a name="l1072"><span class="linenum">1072</span></a>          if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/type.html">type</a>)) {
<a name="l1073"><span class="linenum">1073</span></a>              return;
<a name="l1074"><span class="linenum">1074</span></a>          }
<a name="l1075"><span class="linenum">1075</span></a>  
<a name="l1076"><span class="linenum">1076</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('hidden', 'gpr_type', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/type.html">type</a>);
<a name="l1077"><span class="linenum">1077</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('gpr_type', <a class="constant" onClick="logConstant('PARAM_SAFEDIR')" href="../_constants/PARAM_SAFEDIR.html" onMouseOver="constPopup(event,'PARAM_SAFEDIR')">PARAM_SAFEDIR</a>);
<a name="l1078"><span class="linenum">1078</span></a>  
<a name="l1079"><span class="linenum">1079</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>)) {
<a name="l1080"><span class="linenum">1080</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('hidden', 'gpr_plugin', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>);
<a name="l1081"><span class="linenum">1081</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('gpr_plugin', <a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>);
<a name="l1082"><span class="linenum">1082</span></a>          }
<a name="l1083"><span class="linenum">1083</span></a>  
<a name="l1084"><span class="linenum">1084</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>)) {
<a name="l1085"><span class="linenum">1085</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('hidden', 'gpr_courseid', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>);
<a name="l1086"><span class="linenum">1086</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('gpr_courseid', <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l1087"><span class="linenum">1087</span></a>          }
<a name="l1088"><span class="linenum">1088</span></a>  
<a name="l1089"><span class="linenum">1089</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>)) {
<a name="l1090"><span class="linenum">1090</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('hidden', 'gpr_userid', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>);
<a name="l1091"><span class="linenum">1091</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('gpr_userid', <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l1092"><span class="linenum">1092</span></a>          }
<a name="l1093"><span class="linenum">1093</span></a>  
<a name="l1094"><span class="linenum">1094</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>)) {
<a name="l1095"><span class="linenum">1095</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('hidden', 'gpr_page', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>);
<a name="l1096"><span class="linenum">1096</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('gpr_page', <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l1097"><span class="linenum">1097</span></a>          }
<a name="l1098"><span class="linenum">1098</span></a>      }
<a name="l1099"><span class="linenum">1099</span></a>  
<a name="l1100"><span class="linenum">1100</span></a>      <span class="comment">/**</span>
<a name="l1101"><span class="linenum">1101</span></a>  <span class="comment">     * Add return tracking params into url</span>
<a name="l1102"><span class="linenum">1102</span></a>  <span class="comment">     *</span>
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment">     * @param moodle_url $url A URL</span>
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment">     *</span>
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment">     * @return string $url with return tracking params</span>
<a name="l1106"><span class="linenum">1106</span></a>  <span class="comment">     */</span>
<a name="l1107"><span class="linenum">1107</span></a>      public function <a class="function" onClick="logFunction('add_url_params')" href="../_functions/add_url_params.html" onMouseOver="funcPopup(event,'add_url_params')">add_url_params</a>(moodle_url <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>) {
<a name="l1108"><span class="linenum">1108</span></a>          if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/type.html">type</a>)) {
<a name="l1109"><span class="linenum">1109</span></a>              return <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>;
<a name="l1110"><span class="linenum">1110</span></a>          }
<a name="l1111"><span class="linenum">1111</span></a>  
<a name="l1112"><span class="linenum">1112</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('gpr_type', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/type.html">type</a>);
<a name="l1113"><span class="linenum">1113</span></a>  
<a name="l1114"><span class="linenum">1114</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>)) {
<a name="l1115"><span class="linenum">1115</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('gpr_plugin', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>);
<a name="l1116"><span class="linenum">1116</span></a>          }
<a name="l1117"><span class="linenum">1117</span></a>  
<a name="l1118"><span class="linenum">1118</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>)) {
<a name="l1119"><span class="linenum">1119</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('gpr_courseid' ,<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>);
<a name="l1120"><span class="linenum">1120</span></a>          }
<a name="l1121"><span class="linenum">1121</span></a>  
<a name="l1122"><span class="linenum">1122</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>)) {
<a name="l1123"><span class="linenum">1123</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('gpr_userid', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('userid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>);
<a name="l1124"><span class="linenum">1124</span></a>          }
<a name="l1125"><span class="linenum">1125</span></a>  
<a name="l1126"><span class="linenum">1126</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>)) {
<a name="l1127"><span class="linenum">1127</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('gpr_page', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/page.html">page</a>);
<a name="l1128"><span class="linenum">1128</span></a>          }
<a name="l1129"><span class="linenum">1129</span></a>  
<a name="l1130"><span class="linenum">1130</span></a>          return <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>;
<a name="l1131"><span class="linenum">1131</span></a>      }
<a name="l1132"><span class="linenum">1132</span></a>  }
<a name="l1133"><span class="linenum">1133</span></a>  
<a name="l1134"><span class="linenum">1134</span></a>  <span class="comment">/**</span>
<a name="l1135"><span class="linenum">1135</span></a>  <span class="comment"> * Function central to gradebook for building and printing the navigation (breadcrumb trail).</span>
<a name="l1136"><span class="linenum">1136</span></a>  <span class="comment"> *</span>
<a name="l1137"><span class="linenum">1137</span></a>  <span class="comment"> * @param string $path The path of the calling script (using __FILE__?)</span>
<a name="l1138"><span class="linenum">1138</span></a>  <span class="comment"> * @param string $pagename The language string to use as the last part of the navigation (non-link)</span>
<a name="l1139"><span class="linenum">1139</span></a>  <span class="comment"> * @param mixed  $id Either a plain integer (assuming the key is 'id') or</span>
<a name="l1140"><span class="linenum">1140</span></a>  <span class="comment"> *                   an array of keys and values (e.g courseid =&gt; $courseid, itemid...)</span>
<a name="l1141"><span class="linenum">1141</span></a>  <span class="comment"> *</span>
<a name="l1142"><span class="linenum">1142</span></a>  <span class="comment"> * @return string</span>
<a name="l1143"><span class="linenum">1143</span></a>  <span class="comment"> */</span>
<a name="l1144"><span class="linenum">1144</span></a>  function <a class="function" onClick="logFunction('grade_build_nav')" href="../_functions/grade_build_nav.html" onMouseOver="funcPopup(event,'grade_build_nav')">grade_build_nav</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, <a class="var it4915" onMouseOver="hilite(4915)" onMouseOut="lolite()" onClick="logVariable('pagename')" href="../_variables/pagename.html">$pagename</a>=null, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>=null) {
<a name="l1145"><span class="linenum">1145</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l1146"><span class="linenum">1146</span></a>  
<a name="l1147"><span class="linenum">1147</span></a>      <a class="var it9481" onMouseOver="hilite(9481)" onMouseOut="lolite()" onClick="logVariable('strgrades')" href="../_variables/strgrades.html">$strgrades</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('grades', 'grades');
<a name="l1148"><span class="linenum">1148</span></a>  
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment">    // Parse the path and build navlinks from its elements</span>
<a name="l1150"><span class="linenum">1150</span></a>      <a class="var it30105" onMouseOver="hilite(30105)" onMouseOut="lolite()" onClick="logVariable('dirroot_length')" href="../_variables/dirroot_length.html">$dirroot_length</a> = <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>) + 1; <span class="comment">// Add 1 for the first slash</span>
<a name="l1151"><span class="linenum">1151</span></a>      <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, <a class="var it30105" onMouseOver="hilite(30105)" onMouseOut="lolite()" onClick="logVariable('dirroot_length')" href="../_variables/dirroot_length.html">$dirroot_length</a>);
<a name="l1152"><span class="linenum">1152</span></a>      <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('\\', '/', <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>);
<a name="l1153"><span class="linenum">1153</span></a>  
<a name="l1154"><span class="linenum">1154</span></a>      <a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>);
<a name="l1155"><span class="linenum">1155</span></a>  
<a name="l1156"><span class="linenum">1156</span></a>      <a class="var it30107" onMouseOver="hilite(30107)" onMouseOut="lolite()" onClick="logVariable('path_elements_count')" href="../_variables/path_elements_count.html">$path_elements_count</a> = <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a>);
<a name="l1157"><span class="linenum">1157</span></a>  
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment">    // First link is always 'grade'</span>
<a name="l1159"><span class="linenum">1159</span></a>      <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it9481" onMouseOver="hilite(9481)" onMouseOut="lolite()" onClick="logVariable('strgrades')" href="../_variables/strgrades.html">$strgrades</a>, <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/index.php.html">/grade/index.php</a>', array('id'=&gt;<a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>-&gt;<a onClick="logVariable('id')" class="var it39504" onMouseOver="hilite(39504)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)));
<a name="l1160"><span class="linenum">1160</span></a>  
<a name="l1161"><span class="linenum">1161</span></a>      <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = null;
<a name="l1162"><span class="linenum">1162</span></a>      <a class="var it30108" onMouseOver="hilite(30108)" onMouseOut="lolite()" onClick="logVariable('numberofelements')" href="../_variables/numberofelements.html">$numberofelements</a> = 3;
<a name="l1163"><span class="linenum">1163</span></a>  
<a name="l1164"><span class="linenum">1164</span></a>  <span class="comment">    // Prepare URL params string</span>
<a name="l1165"><span class="linenum">1165</span></a>      <a class="var it21743" onMouseOver="hilite(21743)" onMouseOut="lolite()" onClick="logVariable('linkparams')" href="../_variables/linkparams.html">$linkparams</a> = array();
<a name="l1166"><span class="linenum">1166</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>)) {
<a name="l1167"><span class="linenum">1167</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>)) {
<a name="l1168"><span class="linenum">1168</span></a>              foreach (<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> as <a class="var it30109" onMouseOver="hilite(30109)" onMouseOut="lolite()" onClick="logVariable('idkey')" href="../_variables/idkey.html">$idkey</a> =&gt; <a class="var it30110" onMouseOver="hilite(30110)" onMouseOut="lolite()" onClick="logVariable('idvalue')" href="../_variables/idvalue.html">$idvalue</a>) {
<a name="l1169"><span class="linenum">1169</span></a>                  <a class="var it21743" onMouseOver="hilite(21743)" onMouseOut="lolite()" onClick="logVariable('linkparams')" href="../_variables/linkparams.html">$linkparams</a>[<a class="var it30109" onMouseOver="hilite(30109)" onMouseOut="lolite()" onClick="logVariable('idkey')" href="../_variables/idkey.html">$idkey</a>] = <a class="var it30110" onMouseOver="hilite(30110)" onMouseOut="lolite()" onClick="logVariable('idvalue')" href="../_variables/idvalue.html">$idvalue</a>;
<a name="l1170"><span class="linenum">1170</span></a>              }
<a name="l1171"><span class="linenum">1171</span></a>          } else {
<a name="l1172"><span class="linenum">1172</span></a>              <a class="var it21743" onMouseOver="hilite(21743)" onMouseOut="lolite()" onClick="logVariable('linkparams')" href="../_variables/linkparams.html">$linkparams</a>['id'] = <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>;
<a name="l1173"><span class="linenum">1173</span></a>          }
<a name="l1174"><span class="linenum">1174</span></a>      }
<a name="l1175"><span class="linenum">1175</span></a>  
<a name="l1176"><span class="linenum">1176</span></a>      <a class="var it30111" onMouseOver="hilite(30111)" onMouseOut="lolite()" onClick="logVariable('navlink4')" href="../_variables/navlink4.html">$navlink4</a> = null;
<a name="l1177"><span class="linenum">1177</span></a>  
<a name="l1178"><span class="linenum">1178</span></a>  <span class="comment">    // Remove file extensions from filenames</span>
<a name="l1179"><span class="linenum">1179</span></a>      foreach (<a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> =&gt; <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../_variables/filename.html">$filename</a>) {
<a name="l1180"><span class="linenum">1180</span></a>          <a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>] = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('.php', '', <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../_variables/filename.html">$filename</a>);
<a name="l1181"><span class="linenum">1181</span></a>      }
<a name="l1182"><span class="linenum">1182</span></a>  
<a name="l1183"><span class="linenum">1183</span></a>  <span class="comment">    // Second level links</span>
<a name="l1184"><span class="linenum">1184</span></a>      switch (<a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a>[1]) {
<a name="l1185"><span class="linenum">1185</span></a>          case 'edit': // No link
<a name="l1186"><span class="linenum">1186</span></a>              if (<a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a>[3] != '<a class="filename" href="../index.php.html">index.php</a>') {
<a name="l1187"><span class="linenum">1187</span></a>                  <a class="var it30108" onMouseOver="hilite(30108)" onMouseOut="lolite()" onClick="logVariable('numberofelements')" href="../_variables/numberofelements.html">$numberofelements</a> = 4;
<a name="l1188"><span class="linenum">1188</span></a>              }
<a name="l1189"><span class="linenum">1189</span></a>              break;
<a name="l1190"><span class="linenum">1190</span></a>          case 'import': // No link
<a name="l1191"><span class="linenum">1191</span></a>              break;
<a name="l1192"><span class="linenum">1192</span></a>          case 'export': // No link
<a name="l1193"><span class="linenum">1193</span></a>              break;
<a name="l1194"><span class="linenum">1194</span></a>          case 'report':
<a name="l1195"><span class="linenum">1195</span></a>  <span class="comment">            // $id is required for this link. Do not print it if $id isn't given</span>
<a name="l1196"><span class="linenum">1196</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>)) {
<a name="l1197"><span class="linenum">1197</span></a>                  <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/report/index.php.html">/grade/report/index.php</a>', <a class="var it21743" onMouseOver="hilite(21743)" onMouseOut="lolite()" onClick="logVariable('linkparams')" href="../_variables/linkparams.html">$linkparams</a>);
<a name="l1198"><span class="linenum">1198</span></a>              }
<a name="l1199"><span class="linenum">1199</span></a>  
<a name="l1200"><span class="linenum">1200</span></a>              if (<a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a>[2] == 'grader') {
<a name="l1201"><span class="linenum">1201</span></a>                  <a class="var it30108" onMouseOver="hilite(30108)" onMouseOut="lolite()" onClick="logVariable('numberofelements')" href="../_variables/numberofelements.html">$numberofelements</a> = 4;
<a name="l1202"><span class="linenum">1202</span></a>              }
<a name="l1203"><span class="linenum">1203</span></a>              break;
<a name="l1204"><span class="linenum">1204</span></a>  
<a name="l1205"><span class="linenum">1205</span></a>          default:
<a name="l1206"><span class="linenum">1206</span></a>  <span class="comment">            // If this element isn't among the ones already listed above, it isn't supported, throw an error.</span>
<a name="l1207"><span class="linenum">1207</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;<a class="function" onClick="logFunction('grade_build_nav')" href="../_functions/grade_build_nav.html" onMouseOver="funcPopup(event,'grade_build_nav')">grade_build_nav</a>() doesn't support &quot;. <a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a>[1] .
<a name="l1208"><span class="linenum">1208</span></a>                      &quot; as the second path element after 'grade'.&quot;);
<a name="l1209"><span class="linenum">1209</span></a>              return false;
<a name="l1210"><span class="linenum">1210</span></a>      }
<a name="l1211"><span class="linenum">1211</span></a>      <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a>[1], 'grades'), <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>);
<a name="l1212"><span class="linenum">1212</span></a>  
<a name="l1213"><span class="linenum">1213</span></a>  <span class="comment">    // Third level links</span>
<a name="l1214"><span class="linenum">1214</span></a>      if (empty(<a class="var it4915" onMouseOver="hilite(4915)" onMouseOut="lolite()" onClick="logVariable('pagename')" href="../_variables/pagename.html">$pagename</a>)) {
<a name="l1215"><span class="linenum">1215</span></a>          <a class="var it4915" onMouseOver="hilite(4915)" onMouseOut="lolite()" onClick="logVariable('pagename')" href="../_variables/pagename.html">$pagename</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a>[2], 'grades');
<a name="l1216"><span class="linenum">1216</span></a>      }
<a name="l1217"><span class="linenum">1217</span></a>  
<a name="l1218"><span class="linenum">1218</span></a>      switch (<a class="var it30108" onMouseOver="hilite(30108)" onMouseOut="lolite()" onClick="logVariable('numberofelements')" href="../_variables/numberofelements.html">$numberofelements</a>) {
<a name="l1219"><span class="linenum">1219</span></a>          case 3:
<a name="l1220"><span class="linenum">1220</span></a>              <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it4915" onMouseOver="hilite(4915)" onMouseOut="lolite()" onClick="logVariable('pagename')" href="../_variables/pagename.html">$pagename</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>);
<a name="l1221"><span class="linenum">1221</span></a>              break;
<a name="l1222"><span class="linenum">1222</span></a>          case 4:
<a name="l1223"><span class="linenum">1223</span></a>              if (<a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a>[2] == 'grader' AND <a class="var it30106" onMouseOver="hilite(30106)" onMouseOut="lolite()" onClick="logVariable('path_elements')" href="../_variables/path_elements.html">$path_elements</a>[3] != '<a class="filename" href="../index.php.html">index.php</a>') {
<a name="l1224"><span class="linenum">1224</span></a>                  <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pluginname', 'gradereport_grader'), <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/report/grader/index.php.html">/grade/report/grader/index.php</a>', <a class="var it21743" onMouseOver="hilite(21743)" onMouseOut="lolite()" onClick="logVariable('linkparams')" href="../_variables/linkparams.html">$linkparams</a>));
<a name="l1225"><span class="linenum">1225</span></a>              }
<a name="l1226"><span class="linenum">1226</span></a>              <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it4915" onMouseOver="hilite(4915)" onMouseOut="lolite()" onClick="logVariable('pagename')" href="../_variables/pagename.html">$pagename</a>);
<a name="l1227"><span class="linenum">1227</span></a>              break;
<a name="l1228"><span class="linenum">1228</span></a>      }
<a name="l1229"><span class="linenum">1229</span></a>  
<a name="l1230"><span class="linenum">1230</span></a>      return '';
<a name="l1231"><span class="linenum">1231</span></a>  }
<a name="l1232"><span class="linenum">1232</span></a>  
<a name="l1233"><span class="linenum">1233</span></a>  <span class="comment">/**</span>
<a name="l1234"><span class="linenum">1234</span></a>  <span class="comment"> * General structure representing grade items in course</span>
<a name="l1235"><span class="linenum">1235</span></a>  <span class="comment"> *</span>
<a name="l1236"><span class="linenum">1236</span></a>  <span class="comment"> * @package core_grades</span>
<a name="l1237"><span class="linenum">1237</span></a>  <span class="comment"> * @copyright 2009 Nicolas Connault</span>
<a name="l1238"><span class="linenum">1238</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1239"><span class="linenum">1239</span></a>  <span class="comment"> */</span>
<a name="l1240"><span class="linenum">1240</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('grade_structure')" href="../_classes/grade_structure.html" onMouseOver="classPopup(event,'grade_structure')">grade_structure</a> {
<a name="l1241"><span class="linenum">1241</span></a>      public <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>;
<a name="l1242"><span class="linenum">1242</span></a>  
<a name="l1243"><span class="linenum">1243</span></a>      public <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>;
<a name="l1244"><span class="linenum">1244</span></a>  
<a name="l1245"><span class="linenum">1245</span></a>      <span class="comment">/**</span>
<a name="l1246"><span class="linenum">1246</span></a>  <span class="comment">    * Reference to modinfo for current course (for performance, to save</span>
<a name="l1247"><span class="linenum">1247</span></a>  <span class="comment">    * retrieving it from courseid every time). Not actually set except for</span>
<a name="l1248"><span class="linenum">1248</span></a>  <span class="comment">    * the grade_tree type.</span>
<a name="l1249"><span class="linenum">1249</span></a>  <span class="comment">    * @var course_modinfo</span>
<a name="l1250"><span class="linenum">1250</span></a>  <span class="comment">    */</span>
<a name="l1251"><span class="linenum">1251</span></a>      public <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>;
<a name="l1252"><span class="linenum">1252</span></a>  
<a name="l1253"><span class="linenum">1253</span></a>      <span class="comment">/**</span>
<a name="l1254"><span class="linenum">1254</span></a>  <span class="comment">     * 1D array of grade items only</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment">     */</span>
<a name="l1256"><span class="linenum">1256</span></a>      public <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a>;
<a name="l1257"><span class="linenum">1257</span></a>  
<a name="l1258"><span class="linenum">1258</span></a>      <span class="comment">/**</span>
<a name="l1259"><span class="linenum">1259</span></a>  <span class="comment">     * Returns icon of element</span>
<a name="l1260"><span class="linenum">1260</span></a>  <span class="comment">     *</span>
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment">     * @param array &amp;$element An array representing an element in the grade_tree</span>
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">     * @param bool  $spacerifnone return spacer if no icon found</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment">     *</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment">     * @return string icon or spacer</span>
<a name="l1265"><span class="linenum">1265</span></a>  <span class="comment">     */</span>
<a name="l1266"><span class="linenum">1266</span></a>      public function <a class="function" onClick="logFunction('get_element_icon')" href="../_functions/get_element_icon.html" onMouseOver="funcPopup(event,'get_element_icon')">get_element_icon</a>(&amp;<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it30112" onMouseOver="hilite(30112)" onMouseOut="lolite()" onClick="logVariable('spacerifnone')" href="../_variables/spacerifnone.html">$spacerifnone</a>=false) {
<a name="l1267"><span class="linenum">1267</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1268"><span class="linenum">1268</span></a>          require_once <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>.'/filelib.php';
<a name="l1269"><span class="linenum">1269</span></a>  
<a name="l1270"><span class="linenum">1270</span></a>          <a class="var it30113" onMouseOver="hilite(30113)" onMouseOut="lolite()" onClick="logVariable('outputstr')" href="../_variables/outputstr.html">$outputstr</a> = '';
<a name="l1271"><span class="linenum">1271</span></a>  
<a name="l1272"><span class="linenum">1272</span></a>  <span class="comment">        // Object holding pix_icon information before instantiation.</span>
<a name="l1273"><span class="linenum">1273</span></a>          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = new stdClass();
<a name="l1274"><span class="linenum">1274</span></a>          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('attributes')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a> = array(
<a name="l1275"><span class="linenum">1275</span></a>              'class' =&gt; 'icon itemicon'
<a name="l1276"><span class="linenum">1276</span></a>          );
<a name="l1277"><span class="linenum">1277</span></a>          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('component')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/component.html">component</a> = 'moodle';
<a name="l1278"><span class="linenum">1278</span></a>  
<a name="l1279"><span class="linenum">1279</span></a>          <a class="var it16974" onMouseOver="hilite(16974)" onMouseOut="lolite()" onClick="logVariable('none')" href="../_variables/none.html">$none</a> = true;
<a name="l1280"><span class="linenum">1280</span></a>          switch (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type']) {
<a name="l1281"><span class="linenum">1281</span></a>              case 'item':
<a name="l1282"><span class="linenum">1282</span></a>              case 'courseitem':
<a name="l1283"><span class="linenum">1283</span></a>              case 'categoryitem':
<a name="l1284"><span class="linenum">1284</span></a>                  <a class="var it16974" onMouseOver="hilite(16974)" onMouseOut="lolite()" onClick="logVariable('none')" href="../_variables/none.html">$none</a> = false;
<a name="l1285"><span class="linenum">1285</span></a>  
<a name="l1286"><span class="linenum">1286</span></a>                  <a class="var it30114" onMouseOver="hilite(30114)" onMouseOut="lolite()" onClick="logVariable('is_course')" href="../_variables/is_course.html">$is_course</a>   = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('is_course_item')" href="../_functions/is_course_item.html" onMouseOver="funcPopup(event,'is_course_item')">is_course_item</a>();
<a name="l1287"><span class="linenum">1287</span></a>                  <a class="var it30115" onMouseOver="hilite(30115)" onMouseOut="lolite()" onClick="logVariable('is_category')" href="../_variables/is_category.html">$is_category</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('is_category_item')" href="../_functions/is_category_item.html" onMouseOver="funcPopup(event,'is_category_item')">is_category_item</a>();
<a name="l1288"><span class="linenum">1288</span></a>                  <a class="var it30116" onMouseOver="hilite(30116)" onMouseOut="lolite()" onClick="logVariable('is_scale')" href="../_variables/is_scale.html">$is_scale</a>    = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;gradetype == <a class="constant" onClick="logConstant('GRADE_TYPE_SCALE')" href="../_constants/GRADE_TYPE_SCALE.html" onMouseOver="constPopup(event,'GRADE_TYPE_SCALE')">GRADE_TYPE_SCALE</a>;
<a name="l1289"><span class="linenum">1289</span></a>                  <a class="var it30117" onMouseOver="hilite(30117)" onMouseOut="lolite()" onClick="logVariable('is_value')" href="../_variables/is_value.html">$is_value</a>    = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;gradetype == <a class="constant" onClick="logConstant('GRADE_TYPE_VALUE')" href="../_constants/GRADE_TYPE_VALUE.html" onMouseOver="constPopup(event,'GRADE_TYPE_VALUE')">GRADE_TYPE_VALUE</a>;
<a name="l1290"><span class="linenum">1290</span></a>                  <a class="var it30118" onMouseOver="hilite(30118)" onMouseOut="lolite()" onClick="logVariable('is_outcome')" href="../_variables/is_outcome.html">$is_outcome</a>  = !empty(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;outcomeid);
<a name="l1291"><span class="linenum">1291</span></a>  
<a name="l1292"><span class="linenum">1292</span></a>                  if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('is_calculated')" href="../_functions/is_calculated.html" onMouseOver="funcPopup(event,'is_calculated')">is_calculated</a>()) {
<a name="l1293"><span class="linenum">1293</span></a>                      <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('pix')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a> = 'i/calc';
<a name="l1294"><span class="linenum">1294</span></a>                      <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('title')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/title.html">title</a> = <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('calculatedgrade', 'grades'));
<a name="l1295"><span class="linenum">1295</span></a>  
<a name="l1296"><span class="linenum">1296</span></a>                  } else if ((<a class="var it30114" onMouseOver="hilite(30114)" onMouseOut="lolite()" onClick="logVariable('is_course')" href="../_variables/is_course.html">$is_course</a> or <a class="var it30115" onMouseOver="hilite(30115)" onMouseOut="lolite()" onClick="logVariable('is_category')" href="../_variables/is_category.html">$is_category</a>) and (<a class="var it30116" onMouseOver="hilite(30116)" onMouseOut="lolite()" onClick="logVariable('is_scale')" href="../_variables/is_scale.html">$is_scale</a> or <a class="var it30117" onMouseOver="hilite(30117)" onMouseOut="lolite()" onClick="logVariable('is_value')" href="../_variables/is_value.html">$is_value</a>)) {
<a name="l1297"><span class="linenum">1297</span></a>                      if (<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('get_item_category')" href="../_functions/get_item_category.html" onMouseOver="funcPopup(event,'get_item_category')">get_item_category</a>()) {
<a name="l1298"><span class="linenum">1298</span></a>                          <a class="var it30119" onMouseOver="hilite(30119)" onMouseOut="lolite()" onClick="logVariable('aggrstrings')" href="../_variables/aggrstrings.html">$aggrstrings</a> = grade_helper::<a class="function" onClick="logFunction('get_aggregation_strings')" href="../_functions/get_aggregation_strings.html" onMouseOver="funcPopup(event,'get_aggregation_strings')">get_aggregation_strings</a>();
<a name="l1299"><span class="linenum">1299</span></a>                          <a class="var it30120" onMouseOver="hilite(30120)" onMouseOut="lolite()" onClick="logVariable('stragg')" href="../_variables/stragg.html">$stragg</a> = <a class="var it30119" onMouseOver="hilite(30119)" onMouseOut="lolite()" onClick="logVariable('aggrstrings')" href="../_variables/aggrstrings.html">$aggrstrings</a>[<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('aggregation')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/aggregation.html">aggregation</a>];
<a name="l1300"><span class="linenum">1300</span></a>  
<a name="l1301"><span class="linenum">1301</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('pix')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a> = 'i/calc';
<a name="l1302"><span class="linenum">1302</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('title')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/title.html">title</a> = <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it30120" onMouseOver="hilite(30120)" onMouseOut="lolite()" onClick="logVariable('stragg')" href="../_variables/stragg.html">$stragg</a>);
<a name="l1303"><span class="linenum">1303</span></a>  
<a name="l1304"><span class="linenum">1304</span></a>                          switch (<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('aggregation')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/aggregation.html">aggregation</a>) {
<a name="l1305"><span class="linenum">1305</span></a>                              case <a class="constant" onClick="logConstant('GRADE_AGGREGATE_MEAN')" href="../_constants/GRADE_AGGREGATE_MEAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_MEAN')">GRADE_AGGREGATE_MEAN</a>:
<a name="l1306"><span class="linenum">1306</span></a>                              case <a class="constant" onClick="logConstant('GRADE_AGGREGATE_MEDIAN')" href="../_constants/GRADE_AGGREGATE_MEDIAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_MEDIAN')">GRADE_AGGREGATE_MEDIAN</a>:
<a name="l1307"><span class="linenum">1307</span></a>                              case <a class="constant" onClick="logConstant('GRADE_AGGREGATE_WEIGHTED_MEAN')" href="../_constants/GRADE_AGGREGATE_WEIGHTED_MEAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_WEIGHTED_MEAN')">GRADE_AGGREGATE_WEIGHTED_MEAN</a>:
<a name="l1308"><span class="linenum">1308</span></a>                              case <a class="constant" onClick="logConstant('GRADE_AGGREGATE_WEIGHTED_MEAN2')" href="../_constants/GRADE_AGGREGATE_WEIGHTED_MEAN2.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_WEIGHTED_MEAN2')">GRADE_AGGREGATE_WEIGHTED_MEAN2</a>:
<a name="l1309"><span class="linenum">1309</span></a>                              case <a class="constant" onClick="logConstant('GRADE_AGGREGATE_EXTRACREDIT_MEAN')" href="../_constants/GRADE_AGGREGATE_EXTRACREDIT_MEAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_EXTRACREDIT_MEAN')">GRADE_AGGREGATE_EXTRACREDIT_MEAN</a>:
<a name="l1310"><span class="linenum">1310</span></a>                                  <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('pix')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a> = 'i/agg_mean';
<a name="l1311"><span class="linenum">1311</span></a>                                  break;
<a name="l1312"><span class="linenum">1312</span></a>                              case <a class="constant" onClick="logConstant('GRADE_AGGREGATE_SUM')" href="../_constants/GRADE_AGGREGATE_SUM.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_SUM')">GRADE_AGGREGATE_SUM</a>:
<a name="l1313"><span class="linenum">1313</span></a>                                  <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('pix')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a> = 'i/agg_sum';
<a name="l1314"><span class="linenum">1314</span></a>                                  break;
<a name="l1315"><span class="linenum">1315</span></a>                          }
<a name="l1316"><span class="linenum">1316</span></a>                      }
<a name="l1317"><span class="linenum">1317</span></a>  
<a name="l1318"><span class="linenum">1318</span></a>                  } else if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;itemtype == 'mod') {
<a name="l1319"><span class="linenum">1319</span></a>  <span class="comment">                    // Prevent outcomes displaying the same icon as the activity they are attached to.</span>
<a name="l1320"><span class="linenum">1320</span></a>                      if (<a class="var it30118" onMouseOver="hilite(30118)" onMouseOut="lolite()" onClick="logVariable('is_outcome')" href="../_variables/is_outcome.html">$is_outcome</a>) {
<a name="l1321"><span class="linenum">1321</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('pix')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a> = 'i/outcomes';
<a name="l1322"><span class="linenum">1322</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('title')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/title.html">title</a> = <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('outcome', 'grades'));
<a name="l1323"><span class="linenum">1323</span></a>                      } else {
<a name="l1324"><span class="linenum">1324</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('pix')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a> = 'icon';
<a name="l1325"><span class="linenum">1325</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('component')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/component.html">component</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;itemmodule;
<a name="l1326"><span class="linenum">1326</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('title')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/title.html">title</a> = <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;itemmodule));
<a name="l1327"><span class="linenum">1327</span></a>                      }
<a name="l1328"><span class="linenum">1328</span></a>                  } else if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;itemtype == 'manual') {
<a name="l1329"><span class="linenum">1329</span></a>                      if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('is_outcome_item')" href="../_functions/is_outcome_item.html" onMouseOver="funcPopup(event,'is_outcome_item')">is_outcome_item</a>()) {
<a name="l1330"><span class="linenum">1330</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('pix')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a> = 'i/outcomes';
<a name="l1331"><span class="linenum">1331</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('title')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/title.html">title</a> = <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('outcome', 'grades'));
<a name="l1332"><span class="linenum">1332</span></a>                      } else {
<a name="l1333"><span class="linenum">1333</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('pix')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a> = 'i/manual_item';
<a name="l1334"><span class="linenum">1334</span></a>                          <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('title')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/title.html">title</a> = <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('manualitem', 'grades'));
<a name="l1335"><span class="linenum">1335</span></a>                      }
<a name="l1336"><span class="linenum">1336</span></a>                  }
<a name="l1337"><span class="linenum">1337</span></a>                  break;
<a name="l1338"><span class="linenum">1338</span></a>  
<a name="l1339"><span class="linenum">1339</span></a>              case 'category':
<a name="l1340"><span class="linenum">1340</span></a>                  <a class="var it16974" onMouseOver="hilite(16974)" onMouseOut="lolite()" onClick="logVariable('none')" href="../_variables/none.html">$none</a> = false;
<a name="l1341"><span class="linenum">1341</span></a>                  <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('pix')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a> = 'i/folder';
<a name="l1342"><span class="linenum">1342</span></a>                  <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('title')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/title.html">title</a> = <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('category', 'grades'));
<a name="l1343"><span class="linenum">1343</span></a>                  break;
<a name="l1344"><span class="linenum">1344</span></a>          }
<a name="l1345"><span class="linenum">1345</span></a>  
<a name="l1346"><span class="linenum">1346</span></a>          if (<a class="var it16974" onMouseOver="hilite(16974)" onMouseOut="lolite()" onClick="logVariable('none')" href="../_variables/none.html">$none</a>) {
<a name="l1347"><span class="linenum">1347</span></a>              if (<a class="var it30112" onMouseOver="hilite(30112)" onMouseOut="lolite()" onClick="logVariable('spacerifnone')" href="../_variables/spacerifnone.html">$spacerifnone</a>) {
<a name="l1348"><span class="linenum">1348</span></a>                  <a class="var it30113" onMouseOver="hilite(30113)" onMouseOut="lolite()" onClick="logVariable('outputstr')" href="../_variables/outputstr.html">$outputstr</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('spacer')" href="../_functions/spacer.html" onMouseOver="funcPopup(event,'spacer')">spacer</a>() . ' ';
<a name="l1349"><span class="linenum">1349</span></a>              }
<a name="l1350"><span class="linenum">1350</span></a>          } else {
<a name="l1351"><span class="linenum">1351</span></a>              <a class="var it30113" onMouseOver="hilite(30113)" onMouseOut="lolite()" onClick="logVariable('outputstr')" href="../_variables/outputstr.html">$outputstr</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('pix')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/pix.html">pix</a>, <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('title')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/title.html">title</a>, <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('component')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/component.html">component</a>, <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>-&gt;<a onClick="logVariable('attributes')" class="var it41106" onMouseOver="hilite(41106)" onMouseOut="lolite()" href="../_variables/attributes.html">attributes</a>);
<a name="l1352"><span class="linenum">1352</span></a>          }
<a name="l1353"><span class="linenum">1353</span></a>  
<a name="l1354"><span class="linenum">1354</span></a>          return <a class="var it30113" onMouseOver="hilite(30113)" onMouseOut="lolite()" onClick="logVariable('outputstr')" href="../_variables/outputstr.html">$outputstr</a>;
<a name="l1355"><span class="linenum">1355</span></a>      }
<a name="l1356"><span class="linenum">1356</span></a>  
<a name="l1357"><span class="linenum">1357</span></a>      <span class="comment">/**</span>
<a name="l1358"><span class="linenum">1358</span></a>  <span class="comment">     * Returns name of element optionally with icon and link</span>
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">     *</span>
<a name="l1360"><span class="linenum">1360</span></a>  <span class="comment">     * @param array &amp;$element An array representing an element in the grade_tree</span>
<a name="l1361"><span class="linenum">1361</span></a>  <span class="comment">     * @param bool  $withlink Whether or not this header has a link</span>
<a name="l1362"><span class="linenum">1362</span></a>  <span class="comment">     * @param bool  $icon Whether or not to display an icon with this header</span>
<a name="l1363"><span class="linenum">1363</span></a>  <span class="comment">     * @param bool  $spacerifnone return spacer if no icon found</span>
<a name="l1364"><span class="linenum">1364</span></a>  <span class="comment">     * @param bool  $withdescription Show description if defined by this item.</span>
<a name="l1365"><span class="linenum">1365</span></a>  <span class="comment">     * @param bool  $fulltotal If the item is a category total, returns $categoryname.&quot;total&quot;</span>
<a name="l1366"><span class="linenum">1366</span></a>  <span class="comment">     *                         instead of &quot;Category total&quot; or &quot;Course total&quot;</span>
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment">     *</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment">     * @return string header</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment">     */</span>
<a name="l1370"><span class="linenum">1370</span></a>      public function <a class="function" onClick="logFunction('get_element_header')" href="../_functions/get_element_header.html" onMouseOver="funcPopup(event,'get_element_header')">get_element_header</a>(&amp;<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it30121" onMouseOver="hilite(30121)" onMouseOut="lolite()" onClick="logVariable('withlink')" href="../_variables/withlink.html">$withlink</a> = false, <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = true, <a class="var it30112" onMouseOver="hilite(30112)" onMouseOut="lolite()" onClick="logVariable('spacerifnone')" href="../_variables/spacerifnone.html">$spacerifnone</a> = false,
<a name="l1371"><span class="linenum">1371</span></a>          <a class="var it30122" onMouseOver="hilite(30122)" onMouseOut="lolite()" onClick="logVariable('withdescription')" href="../_variables/withdescription.html">$withdescription</a> = false, <a class="var it10013" onMouseOver="hilite(10013)" onMouseOut="lolite()" onClick="logVariable('fulltotal')" href="../_variables/fulltotal.html">$fulltotal</a> = false) {
<a name="l1372"><span class="linenum">1372</span></a>          <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> = '';
<a name="l1373"><span class="linenum">1373</span></a>  
<a name="l1374"><span class="linenum">1374</span></a>          if (<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>) {
<a name="l1375"><span class="linenum">1375</span></a>              <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_element_icon')" href="../_functions/get_element_icon.html" onMouseOver="funcPopup(event,'get_element_icon')">get_element_icon</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it30112" onMouseOver="hilite(30112)" onMouseOut="lolite()" onClick="logVariable('spacerifnone')" href="../_variables/spacerifnone.html">$spacerifnone</a>);
<a name="l1376"><span class="linenum">1376</span></a>          }
<a name="l1377"><span class="linenum">1377</span></a>  
<a name="l1378"><span class="linenum">1378</span></a>          <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> .= <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('get_name')" href="../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>(<a class="var it10013" onMouseOver="hilite(10013)" onMouseOut="lolite()" onClick="logVariable('fulltotal')" href="../_variables/fulltotal.html">$fulltotal</a>);
<a name="l1379"><span class="linenum">1379</span></a>  
<a name="l1380"><span class="linenum">1380</span></a>          if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] != 'item' and <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] != 'categoryitem' and
<a name="l1381"><span class="linenum">1381</span></a>              <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] != 'courseitem') {
<a name="l1382"><span class="linenum">1382</span></a>              return <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a>;
<a name="l1383"><span class="linenum">1383</span></a>          }
<a name="l1384"><span class="linenum">1384</span></a>  
<a name="l1385"><span class="linenum">1385</span></a>          if (<a class="var it30121" onMouseOver="hilite(30121)" onMouseOut="lolite()" onClick="logVariable('withlink')" href="../_variables/withlink.html">$withlink</a> &amp;&amp; <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_activity_link')" href="../_functions/get_activity_link.html" onMouseOver="funcPopup(event,'get_activity_link')">get_activity_link</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>)) {
<a name="l1386"><span class="linenum">1386</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l1387"><span class="linenum">1387</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('name')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../_variables/name.html">name</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;itemmodule);
<a name="l1388"><span class="linenum">1388</span></a>              <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('linktoactivity', 'grades', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l1389"><span class="linenum">1389</span></a>  
<a name="l1390"><span class="linenum">1390</span></a>              <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a>, array('title' =&gt; <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>));
<a name="l1391"><span class="linenum">1391</span></a>          } else {
<a name="l1392"><span class="linenum">1392</span></a>              <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a>);
<a name="l1393"><span class="linenum">1393</span></a>          }
<a name="l1394"><span class="linenum">1394</span></a>  
<a name="l1395"><span class="linenum">1395</span></a>          if (<a class="var it30122" onMouseOver="hilite(30122)" onMouseOut="lolite()" onClick="logVariable('withdescription')" href="../_variables/withdescription.html">$withdescription</a>) {
<a name="l1396"><span class="linenum">1396</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('desc')" href="../_variables/desc.html">$desc</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('get_description')" href="../_functions/get_description.html" onMouseOver="funcPopup(event,'get_description')">get_description</a>();
<a name="l1397"><span class="linenum">1397</span></a>              if (!empty(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('desc')" href="../_variables/desc.html">$desc</a>)) {
<a name="l1398"><span class="linenum">1398</span></a>                  <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> .= '&lt;div class=&quot;gradeitemdescription&quot;&gt;' . <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('desc')" href="../_variables/desc.html">$desc</a>) . '&lt;/div&gt;&lt;div class=&quot;gradeitemdescriptionfiller&quot;&gt;&lt;/div&gt;';
<a name="l1399"><span class="linenum">1399</span></a>              }
<a name="l1400"><span class="linenum">1400</span></a>          }
<a name="l1401"><span class="linenum">1401</span></a>  
<a name="l1402"><span class="linenum">1402</span></a>          return <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a>;
<a name="l1403"><span class="linenum">1403</span></a>      }
<a name="l1404"><span class="linenum">1404</span></a>  
<a name="l1405"><span class="linenum">1405</span></a>      private function <a class="function" onClick="logFunction('get_activity_link')" href="../_functions/get_activity_link.html" onMouseOver="funcPopup(event,'get_activity_link')">get_activity_link</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>) {
<a name="l1406"><span class="linenum">1406</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1407"><span class="linenum">1407</span></a>  <span class="comment">        /** @var array static cache of the grade.php file existence flags */</span>
<a name="l1408"><span class="linenum">1408</span></a>          static <a class="var it30123" onMouseOver="hilite(30123)" onMouseOut="lolite()" onClick="logVariable('hasgradephp')" href="../_variables/hasgradephp.html">$hasgradephp</a> = array();
<a name="l1409"><span class="linenum">1409</span></a>  
<a name="l1410"><span class="linenum">1410</span></a>          <a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../_variables/itemtype.html">$itemtype</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;itemtype;
<a name="l1411"><span class="linenum">1411</span></a>          <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;itemmodule;
<a name="l1412"><span class="linenum">1412</span></a>          <a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../_variables/iteminstance.html">$iteminstance</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;iteminstance;
<a name="l1413"><span class="linenum">1413</span></a>          <a class="var it5026" onMouseOver="hilite(5026)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../_variables/itemnumber.html">$itemnumber</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;itemnumber;
<a name="l1414"><span class="linenum">1414</span></a>  
<a name="l1415"><span class="linenum">1415</span></a>  <span class="comment">        // Links only for module items that have valid instance, module and are</span>
<a name="l1416"><span class="linenum">1416</span></a>  <span class="comment">        // called from grade_tree with valid modinfo</span>
<a name="l1417"><span class="linenum">1417</span></a>          if (<a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../_variables/itemtype.html">$itemtype</a> != 'mod' || !<a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../_variables/iteminstance.html">$iteminstance</a> || !<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a> || !<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('modinfo')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/modinfo.html">modinfo</a>) {
<a name="l1418"><span class="linenum">1418</span></a>              return null;
<a name="l1419"><span class="linenum">1419</span></a>          }
<a name="l1420"><span class="linenum">1420</span></a>  
<a name="l1421"><span class="linenum">1421</span></a>  <span class="comment">        // Get $cm efficiently and with visibility information using modinfo</span>
<a name="l1422"><span class="linenum">1422</span></a>          <a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('modinfo')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/modinfo.html">modinfo</a>-&gt;<a class="function" onClick="logFunction('get_instances')" href="../_functions/get_instances.html" onMouseOver="funcPopup(event,'get_instances')">get_instances</a>();
<a name="l1423"><span class="linenum">1423</span></a>          if (empty(<a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a>[<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a>][<a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../_variables/iteminstance.html">$iteminstance</a>])) {
<a name="l1424"><span class="linenum">1424</span></a>              return null;
<a name="l1425"><span class="linenum">1425</span></a>          }
<a name="l1426"><span class="linenum">1426</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a> = <a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a>[<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a>][<a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../_variables/iteminstance.html">$iteminstance</a>];
<a name="l1427"><span class="linenum">1427</span></a>  
<a name="l1428"><span class="linenum">1428</span></a>  <span class="comment">        // Do not add link if activity is not visible to the current user</span>
<a name="l1429"><span class="linenum">1429</span></a>          if (!<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('uservisible')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/uservisible.html">uservisible</a>) {
<a name="l1430"><span class="linenum">1430</span></a>              return null;
<a name="l1431"><span class="linenum">1431</span></a>          }
<a name="l1432"><span class="linenum">1432</span></a>  
<a name="l1433"><span class="linenum">1433</span></a>          if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a>, <a class="var it30123" onMouseOver="hilite(30123)" onMouseOut="lolite()" onClick="logVariable('hasgradephp')" href="../_variables/hasgradephp.html">$hasgradephp</a>)) {
<a name="l1434"><span class="linenum">1434</span></a>              if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '/mod/' . <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a> . '/grade.php')) {
<a name="l1435"><span class="linenum">1435</span></a>                  <a class="var it30123" onMouseOver="hilite(30123)" onMouseOut="lolite()" onClick="logVariable('hasgradephp')" href="../_variables/hasgradephp.html">$hasgradephp</a>[<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a>] = true;
<a name="l1436"><span class="linenum">1436</span></a>              } else {
<a name="l1437"><span class="linenum">1437</span></a>                  <a class="var it30123" onMouseOver="hilite(30123)" onMouseOut="lolite()" onClick="logVariable('hasgradephp')" href="../_variables/hasgradephp.html">$hasgradephp</a>[<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a>] = false;
<a name="l1438"><span class="linenum">1438</span></a>              }
<a name="l1439"><span class="linenum">1439</span></a>          }
<a name="l1440"><span class="linenum">1440</span></a>  
<a name="l1441"><span class="linenum">1441</span></a>  <span class="comment">        // If module has grade.php, link to that, otherwise view.php</span>
<a name="l1442"><span class="linenum">1442</span></a>          if (<a class="var it30123" onMouseOver="hilite(30123)" onMouseOut="lolite()" onClick="logVariable('hasgradephp')" href="../_variables/hasgradephp.html">$hasgradephp</a>[<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a>]) {
<a name="l1443"><span class="linenum">1443</span></a>              <a class="var it626" onMouseOver="hilite(626)" onMouseOut="lolite()" onClick="logVariable('args')" href="../_variables/args.html">$args</a> = array('id' =&gt; <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'itemnumber' =&gt; <a class="var it5026" onMouseOver="hilite(5026)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../_variables/itemnumber.html">$itemnumber</a>);
<a name="l1444"><span class="linenum">1444</span></a>              if (isset(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['userid'])) {
<a name="l1445"><span class="linenum">1445</span></a>                  <a class="var it626" onMouseOver="hilite(626)" onMouseOut="lolite()" onClick="logVariable('args')" href="../_variables/args.html">$args</a>['userid'] = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['userid'];
<a name="l1446"><span class="linenum">1446</span></a>              }
<a name="l1447"><span class="linenum">1447</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/mod/' . <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a> . '/grade.php', <a class="var it626" onMouseOver="hilite(626)" onMouseOut="lolite()" onClick="logVariable('args')" href="../_variables/args.html">$args</a>);
<a name="l1448"><span class="linenum">1448</span></a>          } else {
<a name="l1449"><span class="linenum">1449</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/mod/' . <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../_variables/itemmodule.html">$itemmodule</a> . '/view.php', array('id' =&gt; <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l1450"><span class="linenum">1450</span></a>          }
<a name="l1451"><span class="linenum">1451</span></a>      }
<a name="l1452"><span class="linenum">1452</span></a>  
<a name="l1453"><span class="linenum">1453</span></a>      <span class="comment">/**</span>
<a name="l1454"><span class="linenum">1454</span></a>  <span class="comment">     * Returns URL of a page that is supposed to contain detailed grade analysis</span>
<a name="l1455"><span class="linenum">1455</span></a>  <span class="comment">     *</span>
<a name="l1456"><span class="linenum">1456</span></a>  <span class="comment">     * At the moment, only activity modules are supported. The method generates link</span>
<a name="l1457"><span class="linenum">1457</span></a>  <span class="comment">     * to the module's file grade.php with the parameters id (cmid), itemid, itemnumber,</span>
<a name="l1458"><span class="linenum">1458</span></a>  <span class="comment">     * gradeid and userid. If the grade.php does not exist, null is returned.</span>
<a name="l1459"><span class="linenum">1459</span></a>  <span class="comment">     *</span>
<a name="l1460"><span class="linenum">1460</span></a>  <span class="comment">     * @return moodle_url|null URL or null if unable to construct it</span>
<a name="l1461"><span class="linenum">1461</span></a>  <span class="comment">     */</span>
<a name="l1462"><span class="linenum">1462</span></a>      public function <a class="function" onClick="logFunction('get_grade_analysis_url')" href="../_functions/get_grade_analysis_url.html" onMouseOver="funcPopup(event,'get_grade_analysis_url')">get_grade_analysis_url</a>(grade_grade <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>) {
<a name="l1463"><span class="linenum">1463</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1464"><span class="linenum">1464</span></a>  <span class="comment">        /** @var array static cache of the grade.php file existence flags */</span>
<a name="l1465"><span class="linenum">1465</span></a>          static <a class="var it30123" onMouseOver="hilite(30123)" onMouseOut="lolite()" onClick="logVariable('hasgradephp')" href="../_variables/hasgradephp.html">$hasgradephp</a> = array();
<a name="l1466"><span class="linenum">1466</span></a>  
<a name="l1467"><span class="linenum">1467</span></a>          if (empty(<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('grade_item')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/grade_item.html">grade_item</a>) or !(<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('grade_item')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/grade_item.html">grade_item</a> instanceof grade_item)) {
<a name="l1468"><span class="linenum">1468</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Passed grade without the associated grade item');
<a name="l1469"><span class="linenum">1469</span></a>          }
<a name="l1470"><span class="linenum">1470</span></a>          <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a> = <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('grade_item')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/grade_item.html">grade_item</a>;
<a name="l1471"><span class="linenum">1471</span></a>  
<a name="l1472"><span class="linenum">1472</span></a>          if (!<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a class="function" onClick="logFunction('is_external_item')" href="../_functions/is_external_item.html" onMouseOver="funcPopup(event,'is_external_item')">is_external_item</a>()) {
<a name="l1473"><span class="linenum">1473</span></a>  <span class="comment">            // at the moment, only activity modules are supported</span>
<a name="l1474"><span class="linenum">1474</span></a>              return null;
<a name="l1475"><span class="linenum">1475</span></a>          }
<a name="l1476"><span class="linenum">1476</span></a>          if (<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemtype')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemtype.html">itemtype</a> !== 'mod') {
<a name="l1477"><span class="linenum">1477</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Unknown external itemtype: '.<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemtype')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemtype.html">itemtype</a>);
<a name="l1478"><span class="linenum">1478</span></a>          }
<a name="l1479"><span class="linenum">1479</span></a>          if (empty(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('iteminstance')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/iteminstance.html">iteminstance</a>) or empty(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a>) or empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('modinfo')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/modinfo.html">modinfo</a>)) {
<a name="l1480"><span class="linenum">1480</span></a>              return null;
<a name="l1481"><span class="linenum">1481</span></a>          }
<a name="l1482"><span class="linenum">1482</span></a>  
<a name="l1483"><span class="linenum">1483</span></a>          if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a>, <a class="var it30123" onMouseOver="hilite(30123)" onMouseOut="lolite()" onClick="logVariable('hasgradephp')" href="../_variables/hasgradephp.html">$hasgradephp</a>)) {
<a name="l1484"><span class="linenum">1484</span></a>              if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '/mod/' . <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a> . '/grade.php')) {
<a name="l1485"><span class="linenum">1485</span></a>                  <a class="var it30123" onMouseOver="hilite(30123)" onMouseOut="lolite()" onClick="logVariable('hasgradephp')" href="../_variables/hasgradephp.html">$hasgradephp</a>[<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a>] = true;
<a name="l1486"><span class="linenum">1486</span></a>              } else {
<a name="l1487"><span class="linenum">1487</span></a>                  <a class="var it30123" onMouseOver="hilite(30123)" onMouseOut="lolite()" onClick="logVariable('hasgradephp')" href="../_variables/hasgradephp.html">$hasgradephp</a>[<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a>] = false;
<a name="l1488"><span class="linenum">1488</span></a>              }
<a name="l1489"><span class="linenum">1489</span></a>          }
<a name="l1490"><span class="linenum">1490</span></a>  
<a name="l1491"><span class="linenum">1491</span></a>          if (!<a class="var it30123" onMouseOver="hilite(30123)" onMouseOut="lolite()" onClick="logVariable('hasgradephp')" href="../_variables/hasgradephp.html">$hasgradephp</a>[<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a>]) {
<a name="l1492"><span class="linenum">1492</span></a>              return null;
<a name="l1493"><span class="linenum">1493</span></a>          }
<a name="l1494"><span class="linenum">1494</span></a>  
<a name="l1495"><span class="linenum">1495</span></a>          <a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('modinfo')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/modinfo.html">modinfo</a>-&gt;<a class="function" onClick="logFunction('get_instances')" href="../_functions/get_instances.html" onMouseOver="funcPopup(event,'get_instances')">get_instances</a>();
<a name="l1496"><span class="linenum">1496</span></a>          if (empty(<a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a>[<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a>][<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('iteminstance')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/iteminstance.html">iteminstance</a>])) {
<a name="l1497"><span class="linenum">1497</span></a>              return null;
<a name="l1498"><span class="linenum">1498</span></a>          }
<a name="l1499"><span class="linenum">1499</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a> = <a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a>[<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a>][<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('iteminstance')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/iteminstance.html">iteminstance</a>];
<a name="l1500"><span class="linenum">1500</span></a>          if (!<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('uservisible')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/uservisible.html">uservisible</a>) {
<a name="l1501"><span class="linenum">1501</span></a>              return null;
<a name="l1502"><span class="linenum">1502</span></a>          }
<a name="l1503"><span class="linenum">1503</span></a>  
<a name="l1504"><span class="linenum">1504</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/mod/'.<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a>.'/grade.php', array(
<a name="l1505"><span class="linenum">1505</span></a>              'id'         =&gt; <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>,
<a name="l1506"><span class="linenum">1506</span></a>              'itemid'     =&gt; <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('id')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/id.html">id</a>,
<a name="l1507"><span class="linenum">1507</span></a>              'itemnumber' =&gt; <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemnumber')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../_variables/itemnumber.html">itemnumber</a>,
<a name="l1508"><span class="linenum">1508</span></a>              'gradeid'    =&gt; <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/id.html">id</a>,
<a name="l1509"><span class="linenum">1509</span></a>              'userid'     =&gt; <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('userid')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>,
<a name="l1510"><span class="linenum">1510</span></a>          ));
<a name="l1511"><span class="linenum">1511</span></a>  
<a name="l1512"><span class="linenum">1512</span></a>          return <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>;
<a name="l1513"><span class="linenum">1513</span></a>      }
<a name="l1514"><span class="linenum">1514</span></a>  
<a name="l1515"><span class="linenum">1515</span></a>      <span class="comment">/**</span>
<a name="l1516"><span class="linenum">1516</span></a>  <span class="comment">     * Returns an action icon leading to the grade analysis page</span>
<a name="l1517"><span class="linenum">1517</span></a>  <span class="comment">     *</span>
<a name="l1518"><span class="linenum">1518</span></a>  <span class="comment">     * @param grade_grade $grade</span>
<a name="l1519"><span class="linenum">1519</span></a>  <span class="comment">     * @return string</span>
<a name="l1520"><span class="linenum">1520</span></a>  <span class="comment">     */</span>
<a name="l1521"><span class="linenum">1521</span></a>      public function <a class="function" onClick="logFunction('get_grade_analysis_icon')" href="../_functions/get_grade_analysis_icon.html" onMouseOver="funcPopup(event,'get_grade_analysis_icon')">get_grade_analysis_icon</a>(grade_grade <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>) {
<a name="l1522"><span class="linenum">1522</span></a>          global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1523"><span class="linenum">1523</span></a>  
<a name="l1524"><span class="linenum">1524</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_grade_analysis_url')" href="../_functions/get_grade_analysis_url.html" onMouseOver="funcPopup(event,'get_grade_analysis_url')">get_grade_analysis_url</a>(<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>);
<a name="l1525"><span class="linenum">1525</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>)) {
<a name="l1526"><span class="linenum">1526</span></a>              return '';
<a name="l1527"><span class="linenum">1527</span></a>          }
<a name="l1528"><span class="linenum">1528</span></a>  
<a name="l1529"><span class="linenum">1529</span></a>          return <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('action_icon')" href="../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/preview',
<a name="l1530"><span class="linenum">1530</span></a>              <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradeanalysis', 'core_grades')));
<a name="l1531"><span class="linenum">1531</span></a>      }
<a name="l1532"><span class="linenum">1532</span></a>  
<a name="l1533"><span class="linenum">1533</span></a>      <span class="comment">/**</span>
<a name="l1534"><span class="linenum">1534</span></a>  <span class="comment">     * Returns the grade eid - the grade may not exist yet.</span>
<a name="l1535"><span class="linenum">1535</span></a>  <span class="comment">     *</span>
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment">     * @param grade_grade $grade_grade A grade_grade object</span>
<a name="l1537"><span class="linenum">1537</span></a>  <span class="comment">     *</span>
<a name="l1538"><span class="linenum">1538</span></a>  <span class="comment">     * @return string eid</span>
<a name="l1539"><span class="linenum">1539</span></a>  <span class="comment">     */</span>
<a name="l1540"><span class="linenum">1540</span></a>      public function <a class="function" onClick="logFunction('get_grade_eid')" href="../_functions/get_grade_eid.html" onMouseOver="funcPopup(event,'get_grade_eid')">get_grade_eid</a>(<a class="var it6048" onMouseOver="hilite(6048)" onMouseOut="lolite()" onClick="logVariable('grade_grade')" href="../_variables/grade_grade.html">$grade_grade</a>) {
<a name="l1541"><span class="linenum">1541</span></a>          if (empty(<a class="var it6048" onMouseOver="hilite(6048)" onMouseOut="lolite()" onClick="logVariable('grade_grade')" href="../_variables/grade_grade.html">$grade_grade</a>-&gt;<a onClick="logVariable('id')" class="var it39508" onMouseOver="hilite(39508)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l1542"><span class="linenum">1542</span></a>              return 'n'.<a class="var it6048" onMouseOver="hilite(6048)" onMouseOut="lolite()" onClick="logVariable('grade_grade')" href="../_variables/grade_grade.html">$grade_grade</a>-&gt;<a onClick="logVariable('itemid')" class="var it39508" onMouseOver="hilite(39508)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>.'u'.<a class="var it6048" onMouseOver="hilite(6048)" onMouseOut="lolite()" onClick="logVariable('grade_grade')" href="../_variables/grade_grade.html">$grade_grade</a>-&gt;<a onClick="logVariable('userid')" class="var it39508" onMouseOver="hilite(39508)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>;
<a name="l1543"><span class="linenum">1543</span></a>          } else {
<a name="l1544"><span class="linenum">1544</span></a>              return 'g'.<a class="var it6048" onMouseOver="hilite(6048)" onMouseOut="lolite()" onClick="logVariable('grade_grade')" href="../_variables/grade_grade.html">$grade_grade</a>-&gt;<a onClick="logVariable('id')" class="var it39508" onMouseOver="hilite(39508)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l1545"><span class="linenum">1545</span></a>          }
<a name="l1546"><span class="linenum">1546</span></a>      }
<a name="l1547"><span class="linenum">1547</span></a>  
<a name="l1548"><span class="linenum">1548</span></a>      <span class="comment">/**</span>
<a name="l1549"><span class="linenum">1549</span></a>  <span class="comment">     * Returns the grade_item eid</span>
<a name="l1550"><span class="linenum">1550</span></a>  <span class="comment">     * @param grade_item $grade_item A grade_item object</span>
<a name="l1551"><span class="linenum">1551</span></a>  <span class="comment">     * @return string eid</span>
<a name="l1552"><span class="linenum">1552</span></a>  <span class="comment">     */</span>
<a name="l1553"><span class="linenum">1553</span></a>      public function <a class="function" onClick="logFunction('get_item_eid')" href="../_functions/get_item_eid.html" onMouseOver="funcPopup(event,'get_item_eid')">get_item_eid</a>(<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>) {
<a name="l1554"><span class="linenum">1554</span></a>          return 'ig'.<a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a onClick="logVariable('id')" class="var it39507" onMouseOver="hilite(39507)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l1555"><span class="linenum">1555</span></a>      }
<a name="l1556"><span class="linenum">1556</span></a>  
<a name="l1557"><span class="linenum">1557</span></a>      <span class="comment">/**</span>
<a name="l1558"><span class="linenum">1558</span></a>  <span class="comment">     * Given a grade_tree element, returns an array of parameters</span>
<a name="l1559"><span class="linenum">1559</span></a>  <span class="comment">     * used to build an icon for that element.</span>
<a name="l1560"><span class="linenum">1560</span></a>  <span class="comment">     *</span>
<a name="l1561"><span class="linenum">1561</span></a>  <span class="comment">     * @param array $element An array representing an element in the grade_tree</span>
<a name="l1562"><span class="linenum">1562</span></a>  <span class="comment">     *</span>
<a name="l1563"><span class="linenum">1563</span></a>  <span class="comment">     * @return array</span>
<a name="l1564"><span class="linenum">1564</span></a>  <span class="comment">     */</span>
<a name="l1565"><span class="linenum">1565</span></a>      public function <a class="function" onClick="logFunction('get_params_for_iconstr')" href="../_functions/get_params_for_iconstr.html" onMouseOver="funcPopup(event,'get_params_for_iconstr')">get_params_for_iconstr</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>) {
<a name="l1566"><span class="linenum">1566</span></a>          <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a> = new stdClass();
<a name="l1567"><span class="linenum">1567</span></a>          <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>-&gt;<a onClick="logVariable('category')" class="var it41534" onMouseOver="hilite(41534)" onMouseOut="lolite()" href="../_variables/category.html">category</a> = '';
<a name="l1568"><span class="linenum">1568</span></a>          <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>-&gt;<a onClick="logVariable('itemname')" class="var it41534" onMouseOver="hilite(41534)" onMouseOut="lolite()" href="../_variables/itemname.html">itemname</a> = '';
<a name="l1569"><span class="linenum">1569</span></a>          <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it41534" onMouseOver="hilite(41534)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a> = '';
<a name="l1570"><span class="linenum">1570</span></a>  
<a name="l1571"><span class="linenum">1571</span></a>          if (!<a class="phpfunction" onClick="logFunction('method_exists')" href="../_functions/method_exists.html" onMouseOver="phpfuncPopup(event,'method_exists')">method_exists</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object'], 'get_name')) {
<a name="l1572"><span class="linenum">1572</span></a>              return <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>;
<a name="l1573"><span class="linenum">1573</span></a>          }
<a name="l1574"><span class="linenum">1574</span></a>  
<a name="l1575"><span class="linenum">1575</span></a>          <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>-&gt;<a onClick="logVariable('itemname')" class="var it41534" onMouseOver="hilite(41534)" onMouseOut="lolite()" href="../_variables/itemname.html">itemname</a> = <a class="function" onClick="logFunction('html_to_text')" href="../_functions/html_to_text.html" onMouseOver="funcPopup(event,'html_to_text')">html_to_text</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('get_name')" href="../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>());
<a name="l1576"><span class="linenum">1576</span></a>  
<a name="l1577"><span class="linenum">1577</span></a>  <span class="comment">        // If element name is categorytotal, get the name of the parent category</span>
<a name="l1578"><span class="linenum">1578</span></a>          if (<a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>-&gt;<a onClick="logVariable('itemname')" class="var it41534" onMouseOver="hilite(41534)" onMouseOut="lolite()" href="../_variables/itemname.html">itemname</a> == <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('categorytotal', 'grades')) {
<a name="l1579"><span class="linenum">1579</span></a>              <a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('get_parent_category')" href="../_functions/get_parent_category.html" onMouseOver="funcPopup(event,'get_parent_category')">get_parent_category</a>();
<a name="l1580"><span class="linenum">1580</span></a>              <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>-&gt;<a onClick="logVariable('category')" class="var it41534" onMouseOver="hilite(41534)" onMouseOut="lolite()" href="../_variables/category.html">category</a> = <a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a>-&gt;<a class="function" onClick="logFunction('get_name')" href="../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>() . ' ';
<a name="l1581"><span class="linenum">1581</span></a>          } else {
<a name="l1582"><span class="linenum">1582</span></a>              <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>-&gt;<a onClick="logVariable('category')" class="var it41534" onMouseOver="hilite(41534)" onMouseOut="lolite()" href="../_variables/category.html">category</a> = '';
<a name="l1583"><span class="linenum">1583</span></a>          }
<a name="l1584"><span class="linenum">1584</span></a>  
<a name="l1585"><span class="linenum">1585</span></a>          <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it41534" onMouseOver="hilite(41534)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a> = null;
<a name="l1586"><span class="linenum">1586</span></a>          if (isset(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;itemmodule)) {
<a name="l1587"><span class="linenum">1587</span></a>              <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it41534" onMouseOver="hilite(41534)" onMouseOut="lolite()" href="../_variables/itemmodule.html">itemmodule</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;itemmodule;
<a name="l1588"><span class="linenum">1588</span></a>          }
<a name="l1589"><span class="linenum">1589</span></a>          return <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>;
<a name="l1590"><span class="linenum">1590</span></a>      }
<a name="l1591"><span class="linenum">1591</span></a>  
<a name="l1592"><span class="linenum">1592</span></a>      <span class="comment">/**</span>
<a name="l1593"><span class="linenum">1593</span></a>  <span class="comment">     * Return a reset icon for the given element.</span>
<a name="l1594"><span class="linenum">1594</span></a>  <span class="comment">     *</span>
<a name="l1595"><span class="linenum">1595</span></a>  <span class="comment">     * @param array  $element An array representing an element in the grade_tree</span>
<a name="l1596"><span class="linenum">1596</span></a>  <span class="comment">     * @param object $gpr A grade_plugin_return object</span>
<a name="l1597"><span class="linenum">1597</span></a>  <span class="comment">     * @param bool $returnactionmenulink return the instance of action_menu_link instead of string</span>
<a name="l1598"><span class="linenum">1598</span></a>  <span class="comment">     * @return string|action_menu_link</span>
<a name="l1599"><span class="linenum">1599</span></a>  <span class="comment">     */</span>
<a name="l1600"><span class="linenum">1600</span></a>      public function <a class="function" onClick="logFunction('get_reset_icon')" href="../_functions/get_reset_icon.html" onMouseOver="funcPopup(event,'get_reset_icon')">get_reset_icon</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>, <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> = false) {
<a name="l1601"><span class="linenum">1601</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1602"><span class="linenum">1602</span></a>  
<a name="l1603"><span class="linenum">1603</span></a>  <span class="comment">        // Limit to category items set to use the natural weights aggregation method, and users</span>
<a name="l1604"><span class="linenum">1604</span></a>  <span class="comment">        // with the capability to manage grades.</span>
<a name="l1605"><span class="linenum">1605</span></a>          if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] != 'category' || <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;aggregation != <a class="constant" onClick="logConstant('GRADE_AGGREGATE_SUM')" href="../_constants/GRADE_AGGREGATE_SUM.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_SUM')">GRADE_AGGREGATE_SUM</a> ||
<a name="l1606"><span class="linenum">1606</span></a>                  !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>)) {
<a name="l1607"><span class="linenum">1607</span></a>              return <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> ? null : '';
<a name="l1608"><span class="linenum">1608</span></a>          }
<a name="l1609"><span class="linenum">1609</span></a>  
<a name="l1610"><span class="linenum">1610</span></a>          <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('resetweights', 'grades', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_params_for_iconstr')" href="../_functions/get_params_for_iconstr.html" onMouseOver="funcPopup(event,'get_params_for_iconstr')">get_params_for_iconstr</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>));
<a name="l1611"><span class="linenum">1611</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/tree/action.php.html">/grade/edit/tree/action.php</a>', array(
<a name="l1612"><span class="linenum">1612</span></a>              'id' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>,
<a name="l1613"><span class="linenum">1613</span></a>              'action' =&gt; 'resetweights',
<a name="l1614"><span class="linenum">1614</span></a>              'eid' =&gt; <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['eid'],
<a name="l1615"><span class="linenum">1615</span></a>              'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(),
<a name="l1616"><span class="linenum">1616</span></a>          ));
<a name="l1617"><span class="linenum">1617</span></a>  
<a name="l1618"><span class="linenum">1618</span></a>          if (<a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a>) {
<a name="l1619"><span class="linenum">1619</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('action_menu_link_secondary')" href="../_classes/action_menu_link_secondary.html" onMouseOver="classPopup(event,'action_menu_link_secondary')">action_menu_link_secondary</a>(<a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>-&gt;<a class="function" onClick="logFunction('add_url_params')" href="../_functions/add_url_params.html" onMouseOver="funcPopup(event,'add_url_params')">add_url_params</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>), <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/reset', <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>),
<a name="l1620"><span class="linenum">1620</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('resetweightsshort', 'grades'));
<a name="l1621"><span class="linenum">1621</span></a>          } else {
<a name="l1622"><span class="linenum">1622</span></a>              return <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('action_icon')" href="../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>(<a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>-&gt;<a class="function" onClick="logFunction('add_url_params')" href="../_functions/add_url_params.html" onMouseOver="funcPopup(event,'add_url_params')">add_url_params</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>), <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/reset', <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>));
<a name="l1623"><span class="linenum">1623</span></a>          }
<a name="l1624"><span class="linenum">1624</span></a>      }
<a name="l1625"><span class="linenum">1625</span></a>  
<a name="l1626"><span class="linenum">1626</span></a>      <span class="comment">/**</span>
<a name="l1627"><span class="linenum">1627</span></a>  <span class="comment">     * Return edit icon for give element</span>
<a name="l1628"><span class="linenum">1628</span></a>  <span class="comment">     *</span>
<a name="l1629"><span class="linenum">1629</span></a>  <span class="comment">     * @param array  $element An array representing an element in the grade_tree</span>
<a name="l1630"><span class="linenum">1630</span></a>  <span class="comment">     * @param object $gpr A grade_plugin_return object</span>
<a name="l1631"><span class="linenum">1631</span></a>  <span class="comment">     * @param bool $returnactionmenulink return the instance of action_menu_link instead of string</span>
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment">     * @return string|action_menu_link</span>
<a name="l1633"><span class="linenum">1633</span></a>  <span class="comment">     */</span>
<a name="l1634"><span class="linenum">1634</span></a>      public function <a class="function" onClick="logFunction('get_edit_icon')" href="../_functions/get_edit_icon.html" onMouseOver="funcPopup(event,'get_edit_icon')">get_edit_icon</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>, <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> = false) {
<a name="l1635"><span class="linenum">1635</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1636"><span class="linenum">1636</span></a>  
<a name="l1637"><span class="linenum">1637</span></a>          if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>)) {
<a name="l1638"><span class="linenum">1638</span></a>              if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] == 'grade' and <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:edit', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>)) {
<a name="l1639"><span class="linenum">1639</span></a>  <span class="comment">                // oki - let them override grade</span>
<a name="l1640"><span class="linenum">1640</span></a>              } else {
<a name="l1641"><span class="linenum">1641</span></a>                  return <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> ? null : '';
<a name="l1642"><span class="linenum">1642</span></a>              }
<a name="l1643"><span class="linenum">1643</span></a>          }
<a name="l1644"><span class="linenum">1644</span></a>  
<a name="l1645"><span class="linenum">1645</span></a>          static <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('strfeedback')" href="../_variables/strfeedback.html">$strfeedback</a>   = null;
<a name="l1646"><span class="linenum">1646</span></a>          static <a class="var it30125" onMouseOver="hilite(30125)" onMouseOut="lolite()" onClick="logVariable('streditgrade')" href="../_variables/streditgrade.html">$streditgrade</a> = null;
<a name="l1647"><span class="linenum">1647</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it30125" onMouseOver="hilite(30125)" onMouseOut="lolite()" onClick="logVariable('streditgrade')" href="../_variables/streditgrade.html">$streditgrade</a>)) {
<a name="l1648"><span class="linenum">1648</span></a>              <a class="var it30125" onMouseOver="hilite(30125)" onMouseOut="lolite()" onClick="logVariable('streditgrade')" href="../_variables/streditgrade.html">$streditgrade</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editgrade', 'grades');
<a name="l1649"><span class="linenum">1649</span></a>              <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('strfeedback')" href="../_variables/strfeedback.html">$strfeedback</a>  = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('feedback');
<a name="l1650"><span class="linenum">1650</span></a>          }
<a name="l1651"><span class="linenum">1651</span></a>  
<a name="l1652"><span class="linenum">1652</span></a>          <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_params_for_iconstr')" href="../_functions/get_params_for_iconstr.html" onMouseOver="funcPopup(event,'get_params_for_iconstr')">get_params_for_iconstr</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>);
<a name="l1653"><span class="linenum">1653</span></a>  
<a name="l1654"><span class="linenum">1654</span></a>          <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object'];
<a name="l1655"><span class="linenum">1655</span></a>  
<a name="l1656"><span class="linenum">1656</span></a>          switch (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type']) {
<a name="l1657"><span class="linenum">1657</span></a>              case 'item':
<a name="l1658"><span class="linenum">1658</span></a>              case 'categoryitem':
<a name="l1659"><span class="linenum">1659</span></a>              case 'courseitem':
<a name="l1660"><span class="linenum">1660</span></a>                  <a class="var it11285" onMouseOver="hilite(11285)" onMouseOut="lolite()" onClick="logVariable('stredit')" href="../_variables/stredit.html">$stredit</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editverbose', 'grades', <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>);
<a name="l1661"><span class="linenum">1661</span></a>                  if (empty(<a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('outcomeid')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/outcomeid.html">outcomeid</a>) || empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('enableoutcomes')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/enableoutcomes.html">enableoutcomes</a>)) {
<a name="l1662"><span class="linenum">1662</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/tree/item.php.html">/grade/edit/tree/item.php</a>',
<a name="l1663"><span class="linenum">1663</span></a>                              array('courseid' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>, 'id' =&gt; <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('id')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l1664"><span class="linenum">1664</span></a>                  } else {
<a name="l1665"><span class="linenum">1665</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/tree/outcomeitem.php.html">/grade/edit/tree/outcomeitem.php</a>',
<a name="l1666"><span class="linenum">1666</span></a>                              array('courseid' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>, 'id' =&gt; <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('id')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l1667"><span class="linenum">1667</span></a>                  }
<a name="l1668"><span class="linenum">1668</span></a>                  break;
<a name="l1669"><span class="linenum">1669</span></a>  
<a name="l1670"><span class="linenum">1670</span></a>              case 'category':
<a name="l1671"><span class="linenum">1671</span></a>                  <a class="var it11285" onMouseOver="hilite(11285)" onMouseOut="lolite()" onClick="logVariable('stredit')" href="../_variables/stredit.html">$stredit</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editverbose', 'grades', <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>);
<a name="l1672"><span class="linenum">1672</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/tree/category.php.html">/grade/edit/tree/category.php</a>',
<a name="l1673"><span class="linenum">1673</span></a>                          array('courseid' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>, 'id' =&gt; <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('id')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l1674"><span class="linenum">1674</span></a>                  break;
<a name="l1675"><span class="linenum">1675</span></a>  
<a name="l1676"><span class="linenum">1676</span></a>              case 'grade':
<a name="l1677"><span class="linenum">1677</span></a>                  <a class="var it11285" onMouseOver="hilite(11285)" onMouseOut="lolite()" onClick="logVariable('stredit')" href="../_variables/stredit.html">$stredit</a> = <a class="var it30125" onMouseOver="hilite(30125)" onMouseOut="lolite()" onClick="logVariable('streditgrade')" href="../_variables/streditgrade.html">$streditgrade</a>;
<a name="l1678"><span class="linenum">1678</span></a>                  if (empty(<a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('id')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l1679"><span class="linenum">1679</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/tree/grade.php.html">/grade/edit/tree/grade.php</a>',
<a name="l1680"><span class="linenum">1680</span></a>                              array('courseid' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>, 'itemid' =&gt; <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('itemid')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>, 'userid' =&gt; <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('userid')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>));
<a name="l1681"><span class="linenum">1681</span></a>                  } else {
<a name="l1682"><span class="linenum">1682</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/tree/grade.php.html">/grade/edit/tree/grade.php</a>',
<a name="l1683"><span class="linenum">1683</span></a>                              array('courseid' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>, 'id' =&gt; <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('id')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l1684"><span class="linenum">1684</span></a>                  }
<a name="l1685"><span class="linenum">1685</span></a>                  if (!empty(<a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('feedback')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/feedback.html">feedback</a>)) {
<a name="l1686"><span class="linenum">1686</span></a>                      <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../_variables/feedback.html">$feedback</a> = <a class="function" onClick="logFunction('addslashes_js')" href="../_functions/addslashes_js.html" onMouseOver="funcPopup(event,'addslashes_js')">addslashes_js</a>(<a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('feedback')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/feedback.html">feedback</a>, <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/feedbackformat.html">feedbackformat</a>)));
<a name="l1687"><span class="linenum">1687</span></a>                  }
<a name="l1688"><span class="linenum">1688</span></a>                  break;
<a name="l1689"><span class="linenum">1689</span></a>  
<a name="l1690"><span class="linenum">1690</span></a>              default:
<a name="l1691"><span class="linenum">1691</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = null;
<a name="l1692"><span class="linenum">1692</span></a>          }
<a name="l1693"><span class="linenum">1693</span></a>  
<a name="l1694"><span class="linenum">1694</span></a>          if (<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>) {
<a name="l1695"><span class="linenum">1695</span></a>              if (<a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a>) {
<a name="l1696"><span class="linenum">1696</span></a>                  return <span class="keyword">new </span><a class="class" onClick="logClass('action_menu_link_secondary')" href="../_classes/action_menu_link_secondary.html" onMouseOver="classPopup(event,'action_menu_link_secondary')">action_menu_link_secondary</a>(<a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>-&gt;<a class="function" onClick="logFunction('add_url_params')" href="../_functions/add_url_params.html" onMouseOver="funcPopup(event,'add_url_params')">add_url_params</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>),
<a name="l1697"><span class="linenum">1697</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/edit', <a class="var it11285" onMouseOver="hilite(11285)" onMouseOut="lolite()" onClick="logVariable('stredit')" href="../_variables/stredit.html">$stredit</a>),
<a name="l1698"><span class="linenum">1698</span></a>                      <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editsettings'));
<a name="l1699"><span class="linenum">1699</span></a>              } else {
<a name="l1700"><span class="linenum">1700</span></a>                  return <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('action_icon')" href="../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>(<a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>-&gt;<a class="function" onClick="logFunction('add_url_params')" href="../_functions/add_url_params.html" onMouseOver="funcPopup(event,'add_url_params')">add_url_params</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>), <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/edit', <a class="var it11285" onMouseOver="hilite(11285)" onMouseOut="lolite()" onClick="logVariable('stredit')" href="../_variables/stredit.html">$stredit</a>));
<a name="l1701"><span class="linenum">1701</span></a>              }
<a name="l1702"><span class="linenum">1702</span></a>  
<a name="l1703"><span class="linenum">1703</span></a>          } else {
<a name="l1704"><span class="linenum">1704</span></a>              return <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> ? null : '';
<a name="l1705"><span class="linenum">1705</span></a>          }
<a name="l1706"><span class="linenum">1706</span></a>      }
<a name="l1707"><span class="linenum">1707</span></a>  
<a name="l1708"><span class="linenum">1708</span></a>      <span class="comment">/**</span>
<a name="l1709"><span class="linenum">1709</span></a>  <span class="comment">     * Return hiding icon for give element</span>
<a name="l1710"><span class="linenum">1710</span></a>  <span class="comment">     *</span>
<a name="l1711"><span class="linenum">1711</span></a>  <span class="comment">     * @param array  $element An array representing an element in the grade_tree</span>
<a name="l1712"><span class="linenum">1712</span></a>  <span class="comment">     * @param object $gpr A grade_plugin_return object</span>
<a name="l1713"><span class="linenum">1713</span></a>  <span class="comment">     * @param bool $returnactionmenulink return the instance of action_menu_link instead of string</span>
<a name="l1714"><span class="linenum">1714</span></a>  <span class="comment">     * @return string|action_menu_link</span>
<a name="l1715"><span class="linenum">1715</span></a>  <span class="comment">     */</span>
<a name="l1716"><span class="linenum">1716</span></a>      public function <a class="function" onClick="logFunction('get_hiding_icon')" href="../_functions/get_hiding_icon.html" onMouseOver="funcPopup(event,'get_hiding_icon')">get_hiding_icon</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>, <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> = false) {
<a name="l1717"><span class="linenum">1717</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1718"><span class="linenum">1718</span></a>  
<a name="l1719"><span class="linenum">1719</span></a>          if (!<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('can_control_visibility')" href="../_functions/can_control_visibility.html" onMouseOver="funcPopup(event,'can_control_visibility')">can_control_visibility</a>()) {
<a name="l1720"><span class="linenum">1720</span></a>              return <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> ? null : '';
<a name="l1721"><span class="linenum">1721</span></a>          }
<a name="l1722"><span class="linenum">1722</span></a>  
<a name="l1723"><span class="linenum">1723</span></a>          if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>) and
<a name="l1724"><span class="linenum">1724</span></a>              !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:hide', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>)) {
<a name="l1725"><span class="linenum">1725</span></a>              return <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> ? null : '';
<a name="l1726"><span class="linenum">1726</span></a>          }
<a name="l1727"><span class="linenum">1727</span></a>  
<a name="l1728"><span class="linenum">1728</span></a>          <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_params_for_iconstr')" href="../_functions/get_params_for_iconstr.html" onMouseOver="funcPopup(event,'get_params_for_iconstr')">get_params_for_iconstr</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>);
<a name="l1729"><span class="linenum">1729</span></a>          <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('strshow')" href="../_variables/strshow.html">$strshow</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('showverbose', 'grades', <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>);
<a name="l1730"><span class="linenum">1730</span></a>          <a class="var it4922" onMouseOver="hilite(4922)" onMouseOut="lolite()" onClick="logVariable('strhide')" href="../_variables/strhide.html">$strhide</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hideverbose', 'grades', <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>);
<a name="l1731"><span class="linenum">1731</span></a>  
<a name="l1732"><span class="linenum">1732</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/tree/action.php.html">/grade/edit/tree/action.php</a>', array('id' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>, 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(), 'eid' =&gt; <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['eid']));
<a name="l1733"><span class="linenum">1733</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>-&gt;<a class="function" onClick="logFunction('add_url_params')" href="../_functions/add_url_params.html" onMouseOver="funcPopup(event,'add_url_params')">add_url_params</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l1734"><span class="linenum">1734</span></a>  
<a name="l1735"><span class="linenum">1735</span></a>          if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('is_hidden')" href="../_functions/is_hidden.html" onMouseOver="funcPopup(event,'is_hidden')">is_hidden</a>()) {
<a name="l1736"><span class="linenum">1736</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'show';
<a name="l1737"><span class="linenum">1737</span></a>              <a class="var it12382" onMouseOver="hilite(12382)" onMouseOut="lolite()" onClick="logVariable('tooltip')" href="../_variables/tooltip.html">$tooltip</a> = <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('strshow')" href="../_variables/strshow.html">$strshow</a>;
<a name="l1738"><span class="linenum">1738</span></a>  
<a name="l1739"><span class="linenum">1739</span></a>  <span class="comment">            // Change the icon and add a tooltip showing the date</span>
<a name="l1740"><span class="linenum">1740</span></a>              if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] != 'category' and <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('get_hidden')" href="../_functions/get_hidden.html" onMouseOver="funcPopup(event,'get_hidden')">get_hidden</a>() &gt; 1) {
<a name="l1741"><span class="linenum">1741</span></a>                  <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'hiddenuntil';
<a name="l1742"><span class="linenum">1742</span></a>                  <a class="var it12382" onMouseOver="hilite(12382)" onMouseOut="lolite()" onClick="logVariable('tooltip')" href="../_variables/tooltip.html">$tooltip</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hiddenuntildate', 'grades',
<a name="l1743"><span class="linenum">1743</span></a>                          <a class="function" onClick="logFunction('userdate')" href="../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('get_hidden')" href="../_functions/get_hidden.html" onMouseOver="funcPopup(event,'get_hidden')">get_hidden</a>()));
<a name="l1744"><span class="linenum">1744</span></a>              }
<a name="l1745"><span class="linenum">1745</span></a>  
<a name="l1746"><span class="linenum">1746</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('action', 'show');
<a name="l1747"><span class="linenum">1747</span></a>  
<a name="l1748"><span class="linenum">1748</span></a>              if (<a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a>) {
<a name="l1749"><span class="linenum">1749</span></a>                  <a class="var it4411" onMouseOver="hilite(4411)" onMouseOut="lolite()" onClick="logVariable('hideicon')" href="../_variables/hideicon.html">$hideicon</a> = <span class="keyword">new </span><a class="class" onClick="logClass('action_menu_link_secondary')" href="../_classes/action_menu_link_secondary.html" onMouseOver="classPopup(event,'action_menu_link_secondary')">action_menu_link_secondary</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/'.<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>, <a class="var it12382" onMouseOver="hilite(12382)" onMouseOut="lolite()" onClick="logVariable('tooltip')" href="../_variables/tooltip.html">$tooltip</a>), <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('show'));
<a name="l1750"><span class="linenum">1750</span></a>              } else {
<a name="l1751"><span class="linenum">1751</span></a>                  <a class="var it4411" onMouseOver="hilite(4411)" onMouseOut="lolite()" onClick="logVariable('hideicon')" href="../_variables/hideicon.html">$hideicon</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('action_icon')" href="../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/'.<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>, <a class="var it12382" onMouseOver="hilite(12382)" onMouseOut="lolite()" onClick="logVariable('tooltip')" href="../_variables/tooltip.html">$tooltip</a>, 'moodle', array('alt'=&gt;<a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('strshow')" href="../_variables/strshow.html">$strshow</a>, 'class'=&gt;'smallicon')));
<a name="l1752"><span class="linenum">1752</span></a>              }
<a name="l1753"><span class="linenum">1753</span></a>  
<a name="l1754"><span class="linenum">1754</span></a>          } else {
<a name="l1755"><span class="linenum">1755</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('action', 'hide');
<a name="l1756"><span class="linenum">1756</span></a>              if (<a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a>) {
<a name="l1757"><span class="linenum">1757</span></a>                  <a class="var it4411" onMouseOver="hilite(4411)" onMouseOut="lolite()" onClick="logVariable('hideicon')" href="../_variables/hideicon.html">$hideicon</a> = <span class="keyword">new </span><a class="class" onClick="logClass('action_menu_link_secondary')" href="../_classes/action_menu_link_secondary.html" onMouseOver="classPopup(event,'action_menu_link_secondary')">action_menu_link_secondary</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/hide', <a class="var it4922" onMouseOver="hilite(4922)" onMouseOut="lolite()" onClick="logVariable('strhide')" href="../_variables/strhide.html">$strhide</a>), <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hide'));
<a name="l1758"><span class="linenum">1758</span></a>              } else {
<a name="l1759"><span class="linenum">1759</span></a>                  <a class="var it4411" onMouseOver="hilite(4411)" onMouseOut="lolite()" onClick="logVariable('hideicon')" href="../_variables/hideicon.html">$hideicon</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('action_icon')" href="../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/hide', <a class="var it4922" onMouseOver="hilite(4922)" onMouseOut="lolite()" onClick="logVariable('strhide')" href="../_variables/strhide.html">$strhide</a>));
<a name="l1760"><span class="linenum">1760</span></a>              }
<a name="l1761"><span class="linenum">1761</span></a>          }
<a name="l1762"><span class="linenum">1762</span></a>  
<a name="l1763"><span class="linenum">1763</span></a>          return <a class="var it4411" onMouseOver="hilite(4411)" onMouseOut="lolite()" onClick="logVariable('hideicon')" href="../_variables/hideicon.html">$hideicon</a>;
<a name="l1764"><span class="linenum">1764</span></a>      }
<a name="l1765"><span class="linenum">1765</span></a>  
<a name="l1766"><span class="linenum">1766</span></a>      <span class="comment">/**</span>
<a name="l1767"><span class="linenum">1767</span></a>  <span class="comment">     * Return locking icon for given element</span>
<a name="l1768"><span class="linenum">1768</span></a>  <span class="comment">     *</span>
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment">     * @param array  $element An array representing an element in the grade_tree</span>
<a name="l1770"><span class="linenum">1770</span></a>  <span class="comment">     * @param object $gpr A grade_plugin_return object</span>
<a name="l1771"><span class="linenum">1771</span></a>  <span class="comment">     *</span>
<a name="l1772"><span class="linenum">1772</span></a>  <span class="comment">     * @return string</span>
<a name="l1773"><span class="linenum">1773</span></a>  <span class="comment">     */</span>
<a name="l1774"><span class="linenum">1774</span></a>      public function <a class="function" onClick="logFunction('get_locking_icon')" href="../_functions/get_locking_icon.html" onMouseOver="funcPopup(event,'get_locking_icon')">get_locking_icon</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>) {
<a name="l1775"><span class="linenum">1775</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1776"><span class="linenum">1776</span></a>  
<a name="l1777"><span class="linenum">1777</span></a>          <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_params_for_iconstr')" href="../_functions/get_params_for_iconstr.html" onMouseOver="funcPopup(event,'get_params_for_iconstr')">get_params_for_iconstr</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>);
<a name="l1778"><span class="linenum">1778</span></a>          <a class="var it11290" onMouseOver="hilite(11290)" onMouseOut="lolite()" onClick="logVariable('strunlock')" href="../_variables/strunlock.html">$strunlock</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('unlockverbose', 'grades', <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>);
<a name="l1779"><span class="linenum">1779</span></a>          <a class="var it30126" onMouseOver="hilite(30126)" onMouseOut="lolite()" onClick="logVariable('strlock')" href="../_variables/strlock.html">$strlock</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('lockverbose', 'grades', <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>);
<a name="l1780"><span class="linenum">1780</span></a>  
<a name="l1781"><span class="linenum">1781</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/tree/action.php.html">/grade/edit/tree/action.php</a>', array('id' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>, 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(), 'eid' =&gt; <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['eid']));
<a name="l1782"><span class="linenum">1782</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>-&gt;<a class="function" onClick="logFunction('add_url_params')" href="../_functions/add_url_params.html" onMouseOver="funcPopup(event,'add_url_params')">add_url_params</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l1783"><span class="linenum">1783</span></a>  
<a name="l1784"><span class="linenum">1784</span></a>  <span class="comment">        // Don't allow an unlocking action for a grade whose grade item is locked: just print a state icon</span>
<a name="l1785"><span class="linenum">1785</span></a>          if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] == 'grade' &amp;&amp; <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;grade_item-&gt;<a class="function" onClick="logFunction('is_locked')" href="../_functions/is_locked.html" onMouseOver="funcPopup(event,'is_locked')">is_locked</a>()) {
<a name="l1786"><span class="linenum">1786</span></a>              <a class="var it30127" onMouseOver="hilite(30127)" onMouseOut="lolite()" onClick="logVariable('strparamobj')" href="../_variables/strparamobj.html">$strparamobj</a> = new stdClass();
<a name="l1787"><span class="linenum">1787</span></a>              <a class="var it30127" onMouseOver="hilite(30127)" onMouseOut="lolite()" onClick="logVariable('strparamobj')" href="../_variables/strparamobj.html">$strparamobj</a>-&gt;<a onClick="logVariable('itemname')" class="var it41535" onMouseOver="hilite(41535)" onMouseOut="lolite()" href="../_variables/itemname.html">itemname</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;grade_item-&gt;itemname;
<a name="l1788"><span class="linenum">1788</span></a>              <a class="var it30128" onMouseOver="hilite(30128)" onMouseOut="lolite()" onClick="logVariable('strnonunlockable')" href="../_variables/strnonunlockable.html">$strnonunlockable</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('nonunlockableverbose', 'grades', <a class="var it30127" onMouseOver="hilite(30127)" onMouseOut="lolite()" onClick="logVariable('strparamobj')" href="../_variables/strparamobj.html">$strparamobj</a>);
<a name="l1789"><span class="linenum">1789</span></a>  
<a name="l1790"><span class="linenum">1790</span></a>              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/locked', <a class="var it30128" onMouseOver="hilite(30128)" onMouseOut="lolite()" onClick="logVariable('strnonunlockable')" href="../_variables/strnonunlockable.html">$strnonunlockable</a>),
<a name="l1791"><span class="linenum">1791</span></a>                      array('class' =&gt; 'action-icon'));
<a name="l1792"><span class="linenum">1792</span></a>  
<a name="l1793"><span class="linenum">1793</span></a>          } else if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('is_locked')" href="../_functions/is_locked.html" onMouseOver="funcPopup(event,'is_locked')">is_locked</a>()) {
<a name="l1794"><span class="linenum">1794</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'unlock';
<a name="l1795"><span class="linenum">1795</span></a>              <a class="var it12382" onMouseOver="hilite(12382)" onMouseOut="lolite()" onClick="logVariable('tooltip')" href="../_variables/tooltip.html">$tooltip</a> = <a class="var it11290" onMouseOver="hilite(11290)" onMouseOut="lolite()" onClick="logVariable('strunlock')" href="../_variables/strunlock.html">$strunlock</a>;
<a name="l1796"><span class="linenum">1796</span></a>  
<a name="l1797"><span class="linenum">1797</span></a>  <span class="comment">            // Change the icon and add a tooltip showing the date</span>
<a name="l1798"><span class="linenum">1798</span></a>              if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] != 'category' and <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('get_locktime')" href="../_functions/get_locktime.html" onMouseOver="funcPopup(event,'get_locktime')">get_locktime</a>() &gt; 1) {
<a name="l1799"><span class="linenum">1799</span></a>                  <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'locktime';
<a name="l1800"><span class="linenum">1800</span></a>                  <a class="var it12382" onMouseOver="hilite(12382)" onMouseOut="lolite()" onClick="logVariable('tooltip')" href="../_variables/tooltip.html">$tooltip</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('locktimedate', 'grades',
<a name="l1801"><span class="linenum">1801</span></a>                          <a class="function" onClick="logFunction('userdate')" href="../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;<a class="function" onClick="logFunction('get_locktime')" href="../_functions/get_locktime.html" onMouseOver="funcPopup(event,'get_locktime')">get_locktime</a>()));
<a name="l1802"><span class="linenum">1802</span></a>              }
<a name="l1803"><span class="linenum">1803</span></a>  
<a name="l1804"><span class="linenum">1804</span></a>              if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>) and !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:unlock', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>)) {
<a name="l1805"><span class="linenum">1805</span></a>                  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> = '';
<a name="l1806"><span class="linenum">1806</span></a>              } else {
<a name="l1807"><span class="linenum">1807</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('action', 'unlock');
<a name="l1808"><span class="linenum">1808</span></a>                  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('action_icon')" href="../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/'.<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>, <a class="var it12382" onMouseOver="hilite(12382)" onMouseOut="lolite()" onClick="logVariable('tooltip')" href="../_variables/tooltip.html">$tooltip</a>, 'moodle', array('alt'=&gt;<a class="var it11290" onMouseOver="hilite(11290)" onMouseOut="lolite()" onClick="logVariable('strunlock')" href="../_variables/strunlock.html">$strunlock</a>, 'class'=&gt;'smallicon')));
<a name="l1809"><span class="linenum">1809</span></a>              }
<a name="l1810"><span class="linenum">1810</span></a>  
<a name="l1811"><span class="linenum">1811</span></a>          } else {
<a name="l1812"><span class="linenum">1812</span></a>              if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>) and !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:lock', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>)) {
<a name="l1813"><span class="linenum">1813</span></a>                  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> = '';
<a name="l1814"><span class="linenum">1814</span></a>              } else {
<a name="l1815"><span class="linenum">1815</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('action', 'lock');
<a name="l1816"><span class="linenum">1816</span></a>                  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('action_icon')" href="../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/lock', <a class="var it30126" onMouseOver="hilite(30126)" onMouseOut="lolite()" onClick="logVariable('strlock')" href="../_variables/strlock.html">$strlock</a>));
<a name="l1817"><span class="linenum">1817</span></a>              }
<a name="l1818"><span class="linenum">1818</span></a>          }
<a name="l1819"><span class="linenum">1819</span></a>  
<a name="l1820"><span class="linenum">1820</span></a>          return <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>;
<a name="l1821"><span class="linenum">1821</span></a>      }
<a name="l1822"><span class="linenum">1822</span></a>  
<a name="l1823"><span class="linenum">1823</span></a>      <span class="comment">/**</span>
<a name="l1824"><span class="linenum">1824</span></a>  <span class="comment">     * Return calculation icon for given element</span>
<a name="l1825"><span class="linenum">1825</span></a>  <span class="comment">     *</span>
<a name="l1826"><span class="linenum">1826</span></a>  <span class="comment">     * @param array  $element An array representing an element in the grade_tree</span>
<a name="l1827"><span class="linenum">1827</span></a>  <span class="comment">     * @param object $gpr A grade_plugin_return object</span>
<a name="l1828"><span class="linenum">1828</span></a>  <span class="comment">     * @param bool $returnactionmenulink return the instance of action_menu_link instead of string</span>
<a name="l1829"><span class="linenum">1829</span></a>  <span class="comment">     * @return string|action_menu_link</span>
<a name="l1830"><span class="linenum">1830</span></a>  <span class="comment">     */</span>
<a name="l1831"><span class="linenum">1831</span></a>      public function <a class="function" onClick="logFunction('get_calculation_icon')" href="../_functions/get_calculation_icon.html" onMouseOver="funcPopup(event,'get_calculation_icon')">get_calculation_icon</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>, <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> = false) {
<a name="l1832"><span class="linenum">1832</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1833"><span class="linenum">1833</span></a>          if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>)) {
<a name="l1834"><span class="linenum">1834</span></a>              return <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> ? null : '';
<a name="l1835"><span class="linenum">1835</span></a>          }
<a name="l1836"><span class="linenum">1836</span></a>  
<a name="l1837"><span class="linenum">1837</span></a>          <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>   = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'];
<a name="l1838"><span class="linenum">1838</span></a>          <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object'];
<a name="l1839"><span class="linenum">1839</span></a>  
<a name="l1840"><span class="linenum">1840</span></a>          if (<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> == 'item' or <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> == 'courseitem' or <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> == 'categoryitem') {
<a name="l1841"><span class="linenum">1841</span></a>              <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_params_for_iconstr')" href="../_functions/get_params_for_iconstr.html" onMouseOver="funcPopup(event,'get_params_for_iconstr')">get_params_for_iconstr</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>);
<a name="l1842"><span class="linenum">1842</span></a>              <a class="var it30129" onMouseOver="hilite(30129)" onMouseOut="lolite()" onClick="logVariable('streditcalculation')" href="../_variables/streditcalculation.html">$streditcalculation</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editcalculationverbose', 'grades', <a class="var it7935" onMouseOver="hilite(7935)" onMouseOut="lolite()" onClick="logVariable('strparams')" href="../_variables/strparams.html">$strparams</a>);
<a name="l1843"><span class="linenum">1843</span></a>  
<a name="l1844"><span class="linenum">1844</span></a>              <a class="var it30116" onMouseOver="hilite(30116)" onMouseOut="lolite()" onClick="logVariable('is_scale')" href="../_variables/is_scale.html">$is_scale</a> = <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('gradetype')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/gradetype.html">gradetype</a> == <a class="constant" onClick="logConstant('GRADE_TYPE_SCALE')" href="../_constants/GRADE_TYPE_SCALE.html" onMouseOver="constPopup(event,'GRADE_TYPE_SCALE')">GRADE_TYPE_SCALE</a>;
<a name="l1845"><span class="linenum">1845</span></a>              <a class="var it30117" onMouseOver="hilite(30117)" onMouseOut="lolite()" onClick="logVariable('is_value')" href="../_variables/is_value.html">$is_value</a> = <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('gradetype')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/gradetype.html">gradetype</a> == <a class="constant" onClick="logConstant('GRADE_TYPE_VALUE')" href="../_constants/GRADE_TYPE_VALUE.html" onMouseOver="constPopup(event,'GRADE_TYPE_VALUE')">GRADE_TYPE_VALUE</a>;
<a name="l1846"><span class="linenum">1846</span></a>  
<a name="l1847"><span class="linenum">1847</span></a>  <span class="comment">            // show calculation icon only when calculation possible</span>
<a name="l1848"><span class="linenum">1848</span></a>              if (!<a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a class="function" onClick="logFunction('is_external_item')" href="../_functions/is_external_item.html" onMouseOver="funcPopup(event,'is_external_item')">is_external_item</a>() and (<a class="var it30116" onMouseOver="hilite(30116)" onMouseOut="lolite()" onClick="logVariable('is_scale')" href="../_variables/is_scale.html">$is_scale</a> or <a class="var it30117" onMouseOver="hilite(30117)" onMouseOut="lolite()" onClick="logVariable('is_value')" href="../_variables/is_value.html">$is_value</a>)) {
<a name="l1849"><span class="linenum">1849</span></a>                  if (<a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a class="function" onClick="logFunction('is_calculated')" href="../_functions/is_calculated.html" onMouseOver="funcPopup(event,'is_calculated')">is_calculated</a>()) {
<a name="l1850"><span class="linenum">1850</span></a>                      <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = 't/calc';
<a name="l1851"><span class="linenum">1851</span></a>                  } else {
<a name="l1852"><span class="linenum">1852</span></a>                      <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a> = 't/calc_off';
<a name="l1853"><span class="linenum">1853</span></a>                  }
<a name="l1854"><span class="linenum">1854</span></a>  
<a name="l1855"><span class="linenum">1855</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/tree/calculation.php.html">/grade/edit/tree/calculation.php</a>', array('courseid' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>, 'id' =&gt; <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('id')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l1856"><span class="linenum">1856</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it5768" onMouseOver="hilite(5768)" onMouseOut="lolite()" onClick="logVariable('gpr')" href="../_variables/gpr.html">$gpr</a>-&gt;<a class="function" onClick="logFunction('add_url_params')" href="../_functions/add_url_params.html" onMouseOver="funcPopup(event,'add_url_params')">add_url_params</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l1857"><span class="linenum">1857</span></a>                  if (<a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a>) {
<a name="l1858"><span class="linenum">1858</span></a>                      return <span class="keyword">new </span><a class="class" onClick="logClass('action_menu_link_secondary')" href="../_classes/action_menu_link_secondary.html" onMouseOver="classPopup(event,'action_menu_link_secondary')">action_menu_link_secondary</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>,
<a name="l1859"><span class="linenum">1859</span></a>                          <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>, <a class="var it30129" onMouseOver="hilite(30129)" onMouseOut="lolite()" onClick="logVariable('streditcalculation')" href="../_variables/streditcalculation.html">$streditcalculation</a>),
<a name="l1860"><span class="linenum">1860</span></a>                          <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editcalculation', 'grades'));
<a name="l1861"><span class="linenum">1861</span></a>                  } else {
<a name="l1862"><span class="linenum">1862</span></a>                      return <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('action_icon')" href="../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../_variables/icon.html">$icon</a>, <a class="var it30129" onMouseOver="hilite(30129)" onMouseOut="lolite()" onClick="logVariable('streditcalculation')" href="../_variables/streditcalculation.html">$streditcalculation</a>));
<a name="l1863"><span class="linenum">1863</span></a>                  }
<a name="l1864"><span class="linenum">1864</span></a>              }
<a name="l1865"><span class="linenum">1865</span></a>          }
<a name="l1866"><span class="linenum">1866</span></a>  
<a name="l1867"><span class="linenum">1867</span></a>          return <a class="var it30124" onMouseOver="hilite(30124)" onMouseOut="lolite()" onClick="logVariable('returnactionmenulink')" href="../_variables/returnactionmenulink.html">$returnactionmenulink</a> ? null : '';
<a name="l1868"><span class="linenum">1868</span></a>      }
<a name="l1869"><span class="linenum">1869</span></a>  }
<a name="l1870"><span class="linenum">1870</span></a>  
<a name="l1871"><span class="linenum">1871</span></a>  <span class="comment">/**</span>
<a name="l1872"><span class="linenum">1872</span></a>  <span class="comment"> * Flat structure similar to grade tree.</span>
<a name="l1873"><span class="linenum">1873</span></a>  <span class="comment"> *</span>
<a name="l1874"><span class="linenum">1874</span></a>  <span class="comment"> * @uses grade_structure</span>
<a name="l1875"><span class="linenum">1875</span></a>  <span class="comment"> * @package core_grades</span>
<a name="l1876"><span class="linenum">1876</span></a>  <span class="comment"> * @copyright 2009 Nicolas Connault</span>
<a name="l1877"><span class="linenum">1877</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1878"><span class="linenum">1878</span></a>  <span class="comment"> */</span>
<a name="l1879"><span class="linenum">1879</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('grade_seq')" href="../_classes/grade_seq.html" onMouseOver="classPopup(event,'grade_seq')">grade_seq</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('grade_structure')" href="../_classes/grade_structure.html" onMouseOver="classPopup(event,'grade_structure')">grade_structure</a> {
<a name="l1880"><span class="linenum">1880</span></a>  
<a name="l1881"><span class="linenum">1881</span></a>      <span class="comment">/**</span>
<a name="l1882"><span class="linenum">1882</span></a>  <span class="comment">     * 1D array of elements</span>
<a name="l1883"><span class="linenum">1883</span></a>  <span class="comment">     */</span>
<a name="l1884"><span class="linenum">1884</span></a>      public <a class="var it222" onMouseOver="hilite(222)" onMouseOut="lolite()" onClick="logVariable('elements')" href="../_variables/elements.html">$elements</a>;
<a name="l1885"><span class="linenum">1885</span></a>  
<a name="l1886"><span class="linenum">1886</span></a>      <span class="comment">/**</span>
<a name="l1887"><span class="linenum">1887</span></a>  <span class="comment">     * Constructor, retrieves and stores array of all grade_category and grade_item</span>
<a name="l1888"><span class="linenum">1888</span></a>  <span class="comment">     * objects for the given courseid. Full objects are instantiated. Ordering sequence is fixed if needed.</span>
<a name="l1889"><span class="linenum">1889</span></a>  <span class="comment">     *</span>
<a name="l1890"><span class="linenum">1890</span></a>  <span class="comment">     * @param int  $courseid The course id</span>
<a name="l1891"><span class="linenum">1891</span></a>  <span class="comment">     * @param bool $category_grade_last category grade item is the last child</span>
<a name="l1892"><span class="linenum">1892</span></a>  <span class="comment">     * @param bool $nooutcomes Whether or not outcomes should be included</span>
<a name="l1893"><span class="linenum">1893</span></a>  <span class="comment">     */</span>
<a name="l1894"><span class="linenum">1894</span></a>      public function <a class="function" onClick="logFunction('grade_seq')" href="../_functions/grade_seq.html" onMouseOver="funcPopup(event,'grade_seq')">grade_seq</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it30130" onMouseOver="hilite(30130)" onMouseOut="lolite()" onClick="logVariable('category_grade_last')" href="../_variables/category_grade_last.html">$category_grade_last</a>=false, <a class="var it30131" onMouseOver="hilite(30131)" onMouseOut="lolite()" onClick="logVariable('nooutcomes')" href="../_variables/nooutcomes.html">$nooutcomes</a>=false) {
<a name="l1895"><span class="linenum">1895</span></a>          global <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1896"><span class="linenum">1896</span></a>  
<a name="l1897"><span class="linenum">1897</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>   = <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>;
<a name="l1898"><span class="linenum">1898</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>    = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l1899"><span class="linenum">1899</span></a>  
<a name="l1900"><span class="linenum">1900</span></a>  <span class="comment">        // get course grade tree</span>
<a name="l1901"><span class="linenum">1901</span></a>          <a class="var it29031" onMouseOver="hilite(29031)" onMouseOut="lolite()" onClick="logVariable('top_element')" href="../_variables/top_element.html">$top_element</a> = <a class="class" onClick="logClass('grade_category')" href="../_classes/grade_category.html" onMouseOver="classPopup(event,'grade_category')">grade_category</a>::<a class="function" onClick="logFunction('fetch_course_tree')" href="../_functions/fetch_course_tree.html" onMouseOver="funcPopup(event,'fetch_course_tree')">fetch_course_tree</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, true);
<a name="l1902"><span class="linenum">1902</span></a>  
<a name="l1903"><span class="linenum">1903</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('elements')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/elements.html">elements</a> = <a class="class" onClick="logClass('grade_seq')" href="../_classes/grade_seq.html" onMouseOver="classPopup(event,'grade_seq')">grade_seq</a>::<a class="function" onClick="logFunction('flatten')" href="../_functions/flatten.html" onMouseOver="funcPopup(event,'flatten')">flatten</a>(<a class="var it29031" onMouseOver="hilite(29031)" onMouseOut="lolite()" onClick="logVariable('top_element')" href="../_variables/top_element.html">$top_element</a>, <a class="var it30130" onMouseOver="hilite(30130)" onMouseOut="lolite()" onClick="logVariable('category_grade_last')" href="../_variables/category_grade_last.html">$category_grade_last</a>, <a class="var it30131" onMouseOver="hilite(30131)" onMouseOut="lolite()" onClick="logVariable('nooutcomes')" href="../_variables/nooutcomes.html">$nooutcomes</a>);
<a name="l1904"><span class="linenum">1904</span></a>  
<a name="l1905"><span class="linenum">1905</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('elements')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/elements.html">elements</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>=&gt;<a class="var it1136" onMouseOver="hilite(1136)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../_variables/unused.html">$unused</a>) {
<a name="l1906"><span class="linenum">1906</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('items')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/items.html">items</a>[<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('elements')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/elements.html">elements</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>]['object']-&gt;id] =&amp; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('elements')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/elements.html">elements</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>]['object'];
<a name="l1907"><span class="linenum">1907</span></a>          }
<a name="l1908"><span class="linenum">1908</span></a>      }
<a name="l1909"><span class="linenum">1909</span></a>  
<a name="l1910"><span class="linenum">1910</span></a>      <span class="comment">/**</span>
<a name="l1911"><span class="linenum">1911</span></a>  <span class="comment">     * Static recursive helper - makes the grade_item for category the last children</span>
<a name="l1912"><span class="linenum">1912</span></a>  <span class="comment">     *</span>
<a name="l1913"><span class="linenum">1913</span></a>  <span class="comment">     * @param array &amp;$element The seed of the recursion</span>
<a name="l1914"><span class="linenum">1914</span></a>  <span class="comment">     * @param bool $category_grade_last category grade item is the last child</span>
<a name="l1915"><span class="linenum">1915</span></a>  <span class="comment">     * @param bool $nooutcomes Whether or not outcomes should be included</span>
<a name="l1916"><span class="linenum">1916</span></a>  <span class="comment">     *</span>
<a name="l1917"><span class="linenum">1917</span></a>  <span class="comment">     * @return array</span>
<a name="l1918"><span class="linenum">1918</span></a>  <span class="comment">     */</span>
<a name="l1919"><span class="linenum">1919</span></a>      public function <a class="function" onClick="logFunction('flatten')" href="../_functions/flatten.html" onMouseOver="funcPopup(event,'flatten')">flatten</a>(&amp;<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it30130" onMouseOver="hilite(30130)" onMouseOut="lolite()" onClick="logVariable('category_grade_last')" href="../_variables/category_grade_last.html">$category_grade_last</a>, <a class="var it30131" onMouseOver="hilite(30131)" onMouseOut="lolite()" onClick="logVariable('nooutcomes')" href="../_variables/nooutcomes.html">$nooutcomes</a>) {
<a name="l1920"><span class="linenum">1920</span></a>          if (empty(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'])) {
<a name="l1921"><span class="linenum">1921</span></a>              return array();
<a name="l1922"><span class="linenum">1922</span></a>          }
<a name="l1923"><span class="linenum">1923</span></a>          <a class="var it1701" onMouseOver="hilite(1701)" onMouseOut="lolite()" onClick="logVariable('children')" href="../_variables/children.html">$children</a> = array();
<a name="l1924"><span class="linenum">1924</span></a>  
<a name="l1925"><span class="linenum">1925</span></a>          foreach (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'] as <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>=&gt;<a class="var it1136" onMouseOver="hilite(1136)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../_variables/unused.html">$unused</a>) {
<a name="l1926"><span class="linenum">1926</span></a>              if (<a class="var it30131" onMouseOver="hilite(30131)" onMouseOut="lolite()" onClick="logVariable('nooutcomes')" href="../_variables/nooutcomes.html">$nooutcomes</a> and <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] != 'category' and
<a name="l1927"><span class="linenum">1927</span></a>                  <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>]['object']-&gt;<a class="function" onClick="logFunction('is_outcome_item')" href="../_functions/is_outcome_item.html" onMouseOver="funcPopup(event,'is_outcome_item')">is_outcome_item</a>()) {
<a name="l1928"><span class="linenum">1928</span></a>                  continue;
<a name="l1929"><span class="linenum">1929</span></a>              }
<a name="l1930"><span class="linenum">1930</span></a>              <a class="var it1701" onMouseOver="hilite(1701)" onMouseOut="lolite()" onClick="logVariable('children')" href="../_variables/children.html">$children</a>[] = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>];
<a name="l1931"><span class="linenum">1931</span></a>          }
<a name="l1932"><span class="linenum">1932</span></a>          unset(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children']);
<a name="l1933"><span class="linenum">1933</span></a>  
<a name="l1934"><span class="linenum">1934</span></a>          if (<a class="var it30130" onMouseOver="hilite(30130)" onMouseOut="lolite()" onClick="logVariable('category_grade_last')" href="../_variables/category_grade_last.html">$category_grade_last</a> and <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it1701" onMouseOver="hilite(1701)" onMouseOut="lolite()" onClick="logVariable('children')" href="../_variables/children.html">$children</a>) &gt; 1) {
<a name="l1935"><span class="linenum">1935</span></a>              <a class="var it30132" onMouseOver="hilite(30132)" onMouseOut="lolite()" onClick="logVariable('cat_item')" href="../_variables/cat_item.html">$cat_item</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it1701" onMouseOver="hilite(1701)" onMouseOut="lolite()" onClick="logVariable('children')" href="../_variables/children.html">$children</a>);
<a name="l1936"><span class="linenum">1936</span></a>              <a class="phpfunction" onClick="logFunction('array_push')" href="../_functions/array_push.html" onMouseOver="phpfuncPopup(event,'array_push')">array_push</a>(<a class="var it1701" onMouseOver="hilite(1701)" onMouseOut="lolite()" onClick="logVariable('children')" href="../_variables/children.html">$children</a>, <a class="var it30132" onMouseOver="hilite(30132)" onMouseOut="lolite()" onClick="logVariable('cat_item')" href="../_variables/cat_item.html">$cat_item</a>);
<a name="l1937"><span class="linenum">1937</span></a>          }
<a name="l1938"><span class="linenum">1938</span></a>  
<a name="l1939"><span class="linenum">1939</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l1940"><span class="linenum">1940</span></a>          foreach (<a class="var it1701" onMouseOver="hilite(1701)" onMouseOut="lolite()" onClick="logVariable('children')" href="../_variables/children.html">$children</a> as <a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>) {
<a name="l1941"><span class="linenum">1941</span></a>              if (<a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>['type'] == 'category') {
<a name="l1942"><span class="linenum">1942</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> + <a class="class" onClick="logClass('grade_seq')" href="../_classes/grade_seq.html" onMouseOver="classPopup(event,'grade_seq')">grade_seq</a>::<a class="function" onClick="logFunction('flatten')" href="../_functions/flatten.html" onMouseOver="funcPopup(event,'flatten')">flatten</a>(<a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>, <a class="var it30130" onMouseOver="hilite(30130)" onMouseOut="lolite()" onClick="logVariable('category_grade_last')" href="../_variables/category_grade_last.html">$category_grade_last</a>, <a class="var it30131" onMouseOver="hilite(30131)" onMouseOut="lolite()" onClick="logVariable('nooutcomes')" href="../_variables/nooutcomes.html">$nooutcomes</a>);
<a name="l1943"><span class="linenum">1943</span></a>              } else {
<a name="l1944"><span class="linenum">1944</span></a>                  <a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>['eid'] = 'i'.<a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>['object']-&gt;id;
<a name="l1945"><span class="linenum">1945</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[<a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>['object']-&gt;id] = <a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>;
<a name="l1946"><span class="linenum">1946</span></a>              }
<a name="l1947"><span class="linenum">1947</span></a>          }
<a name="l1948"><span class="linenum">1948</span></a>  
<a name="l1949"><span class="linenum">1949</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1950"><span class="linenum">1950</span></a>      }
<a name="l1951"><span class="linenum">1951</span></a>  
<a name="l1952"><span class="linenum">1952</span></a>      <span class="comment">/**</span>
<a name="l1953"><span class="linenum">1953</span></a>  <span class="comment">     * Parses the array in search of a given eid and returns a element object with</span>
<a name="l1954"><span class="linenum">1954</span></a>  <span class="comment">     * information about the element it has found.</span>
<a name="l1955"><span class="linenum">1955</span></a>  <span class="comment">     *</span>
<a name="l1956"><span class="linenum">1956</span></a>  <span class="comment">     * @param int $eid Gradetree Element ID</span>
<a name="l1957"><span class="linenum">1957</span></a>  <span class="comment">     *</span>
<a name="l1958"><span class="linenum">1958</span></a>  <span class="comment">     * @return object element</span>
<a name="l1959"><span class="linenum">1959</span></a>  <span class="comment">     */</span>
<a name="l1960"><span class="linenum">1960</span></a>      public function <a class="function" onClick="logFunction('locate_element')" href="../_functions/locate_element.html" onMouseOver="funcPopup(event,'locate_element')">locate_element</a>(<a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>) {
<a name="l1961"><span class="linenum">1961</span></a>  <span class="comment">        // it is a grade - construct a new object</span>
<a name="l1962"><span class="linenum">1962</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>, 'n') === 0) {
<a name="l1963"><span class="linenum">1963</span></a>              if (!<a class="phpfunction" onClick="logFunction('preg_match')" href="../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/<a class="function" onClick="logFunction('n')" href="../_functions/n.html" onMouseOver="funcPopup(event,'n')">n</a>(\d+)u(\d+)/', <a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>, <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>)) {
<a name="l1964"><span class="linenum">1964</span></a>                  return null;
<a name="l1965"><span class="linenum">1965</span></a>              }
<a name="l1966"><span class="linenum">1966</span></a>  
<a name="l1967"><span class="linenum">1967</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a> = <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[1];
<a name="l1968"><span class="linenum">1968</span></a>              <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[2];
<a name="l1969"><span class="linenum">1969</span></a>  
<a name="l1970"><span class="linenum">1970</span></a>  <span class="comment">            //extra security check - the grade item must be in this tree</span>
<a name="l1971"><span class="linenum">1971</span></a>              if (!<a class="var it30133" onMouseOver="hilite(30133)" onMouseOut="lolite()" onClick="logVariable('item_el')" href="../_variables/item_el.html">$item_el</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('locate_element')" href="../_functions/locate_element.html" onMouseOver="funcPopup(event,'locate_element')">locate_element</a>('ig'.<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>)) {
<a name="l1972"><span class="linenum">1972</span></a>                  return null;
<a name="l1973"><span class="linenum">1973</span></a>              }
<a name="l1974"><span class="linenum">1974</span></a>  
<a name="l1975"><span class="linenum">1975</span></a>  <span class="comment">            // $gradea-&gt;id may be null - means does not exist yet</span>
<a name="l1976"><span class="linenum">1976</span></a>              <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a> = <span class="keyword">new </span><a class="class" onClick="logClass('grade_grade')" href="../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>(array('itemid'=&gt;<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, 'userid'=&gt;<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>));
<a name="l1977"><span class="linenum">1977</span></a>  
<a name="l1978"><span class="linenum">1978</span></a>              <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('grade_item')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/grade_item.html">grade_item</a> =&amp; <a class="var it30133" onMouseOver="hilite(30133)" onMouseOut="lolite()" onClick="logVariable('item_el')" href="../_variables/item_el.html">$item_el</a>['object']; <span class="comment">// this may speedup grade_grade methods!</span>
<a name="l1979"><span class="linenum">1979</span></a>              return array('eid'=&gt;'n'.<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>.'u'.<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>,'object'=&gt;<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>, 'type'=&gt;'grade');
<a name="l1980"><span class="linenum">1980</span></a>  
<a name="l1981"><span class="linenum">1981</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>, 'g') === 0) {
<a name="l1982"><span class="linenum">1982</span></a>              <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = (int) <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>, 1);
<a name="l1983"><span class="linenum">1983</span></a>              if (!<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a> = <a class="class" onClick="logClass('grade_grade')" href="../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>::<a class="function" onClick="logFunction('fetch')" href="../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('id'=&gt;<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>))) {
<a name="l1984"><span class="linenum">1984</span></a>                  return null;
<a name="l1985"><span class="linenum">1985</span></a>              }
<a name="l1986"><span class="linenum">1986</span></a>  <span class="comment">            //extra security check - the grade item must be in this tree</span>
<a name="l1987"><span class="linenum">1987</span></a>              if (!<a class="var it30133" onMouseOver="hilite(30133)" onMouseOut="lolite()" onClick="logVariable('item_el')" href="../_variables/item_el.html">$item_el</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('locate_element')" href="../_functions/locate_element.html" onMouseOver="funcPopup(event,'locate_element')">locate_element</a>('ig'.<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('itemid')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>)) {
<a name="l1988"><span class="linenum">1988</span></a>                  return null;
<a name="l1989"><span class="linenum">1989</span></a>              }
<a name="l1990"><span class="linenum">1990</span></a>              <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('grade_item')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/grade_item.html">grade_item</a> =&amp; <a class="var it30133" onMouseOver="hilite(30133)" onMouseOut="lolite()" onClick="logVariable('item_el')" href="../_variables/item_el.html">$item_el</a>['object']; <span class="comment">// this may speedup grade_grade methods!</span>
<a name="l1991"><span class="linenum">1991</span></a>              return array('eid'=&gt;'g'.<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>,'object'=&gt;<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>, 'type'=&gt;'grade');
<a name="l1992"><span class="linenum">1992</span></a>          }
<a name="l1993"><span class="linenum">1993</span></a>  
<a name="l1994"><span class="linenum">1994</span></a>  <span class="comment">        // it is a category or item</span>
<a name="l1995"><span class="linenum">1995</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('elements')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/elements.html">elements</a> as <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>) {
<a name="l1996"><span class="linenum">1996</span></a>              if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['eid'] == <a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>) {
<a name="l1997"><span class="linenum">1997</span></a>                  return <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>;
<a name="l1998"><span class="linenum">1998</span></a>              }
<a name="l1999"><span class="linenum">1999</span></a>          }
<a name="l2000"><span class="linenum">2000</span></a>  
<a name="l2001"><span class="linenum">2001</span></a>          return null;
<a name="l2002"><span class="linenum">2002</span></a>      }
<a name="l2003"><span class="linenum">2003</span></a>  }
<a name="l2004"><span class="linenum">2004</span></a>  
<a name="l2005"><span class="linenum">2005</span></a>  <span class="comment">/**</span>
<a name="l2006"><span class="linenum">2006</span></a>  <span class="comment"> * This class represents a complete tree of categories, grade_items and final grades,</span>
<a name="l2007"><span class="linenum">2007</span></a>  <span class="comment"> * organises as an array primarily, but which can also be converted to other formats.</span>
<a name="l2008"><span class="linenum">2008</span></a>  <span class="comment"> * It has simple method calls with complex implementations, allowing for easy insertion,</span>
<a name="l2009"><span class="linenum">2009</span></a>  <span class="comment"> * deletion and moving of items and categories within the tree.</span>
<a name="l2010"><span class="linenum">2010</span></a>  <span class="comment"> *</span>
<a name="l2011"><span class="linenum">2011</span></a>  <span class="comment"> * @uses grade_structure</span>
<a name="l2012"><span class="linenum">2012</span></a>  <span class="comment"> * @package core_grades</span>
<a name="l2013"><span class="linenum">2013</span></a>  <span class="comment"> * @copyright 2009 Nicolas Connault</span>
<a name="l2014"><span class="linenum">2014</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l2015"><span class="linenum">2015</span></a>  <span class="comment"> */</span>
<a name="l2016"><span class="linenum">2016</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('grade_structure')" href="../_classes/grade_structure.html" onMouseOver="classPopup(event,'grade_structure')">grade_structure</a> {
<a name="l2017"><span class="linenum">2017</span></a>  
<a name="l2018"><span class="linenum">2018</span></a>      <span class="comment">/**</span>
<a name="l2019"><span class="linenum">2019</span></a>  <span class="comment">     * The basic representation of the tree as a hierarchical, 3-tiered array.</span>
<a name="l2020"><span class="linenum">2020</span></a>  <span class="comment">     * @var object $top_element</span>
<a name="l2021"><span class="linenum">2021</span></a>  <span class="comment">     */</span>
<a name="l2022"><span class="linenum">2022</span></a>      public <a class="var it29031" onMouseOver="hilite(29031)" onMouseOut="lolite()" onClick="logVariable('top_element')" href="../_variables/top_element.html">$top_element</a>;
<a name="l2023"><span class="linenum">2023</span></a>  
<a name="l2024"><span class="linenum">2024</span></a>      <span class="comment">/**</span>
<a name="l2025"><span class="linenum">2025</span></a>  <span class="comment">     * 2D array of grade items and categories</span>
<a name="l2026"><span class="linenum">2026</span></a>  <span class="comment">     * @var array $levels</span>
<a name="l2027"><span class="linenum">2027</span></a>  <span class="comment">     */</span>
<a name="l2028"><span class="linenum">2028</span></a>      public <a class="var it1631" onMouseOver="hilite(1631)" onMouseOut="lolite()" onClick="logVariable('levels')" href="../_variables/levels.html">$levels</a>;
<a name="l2029"><span class="linenum">2029</span></a>  
<a name="l2030"><span class="linenum">2030</span></a>      <span class="comment">/**</span>
<a name="l2031"><span class="linenum">2031</span></a>  <span class="comment">     * Grade items</span>
<a name="l2032"><span class="linenum">2032</span></a>  <span class="comment">     * @var array $items</span>
<a name="l2033"><span class="linenum">2033</span></a>  <span class="comment">     */</span>
<a name="l2034"><span class="linenum">2034</span></a>      public <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a>;
<a name="l2035"><span class="linenum">2035</span></a>  
<a name="l2036"><span class="linenum">2036</span></a>      <span class="comment">/**</span>
<a name="l2037"><span class="linenum">2037</span></a>  <span class="comment">     * Constructor, retrieves and stores a hierarchical array of all grade_category and grade_item</span>
<a name="l2038"><span class="linenum">2038</span></a>  <span class="comment">     * objects for the given courseid. Full objects are instantiated. Ordering sequence is fixed if needed.</span>
<a name="l2039"><span class="linenum">2039</span></a>  <span class="comment">     *</span>
<a name="l2040"><span class="linenum">2040</span></a>  <span class="comment">     * @param int   $courseid The Course ID</span>
<a name="l2041"><span class="linenum">2041</span></a>  <span class="comment">     * @param bool  $fillers include fillers and colspans, make the levels var &quot;rectangular&quot;</span>
<a name="l2042"><span class="linenum">2042</span></a>  <span class="comment">     * @param bool  $category_grade_last category grade item is the last child</span>
<a name="l2043"><span class="linenum">2043</span></a>  <span class="comment">     * @param array $collapsed array of collapsed categories</span>
<a name="l2044"><span class="linenum">2044</span></a>  <span class="comment">     * @param bool  $nooutcomes Whether or not outcomes should be included</span>
<a name="l2045"><span class="linenum">2045</span></a>  <span class="comment">     */</span>
<a name="l2046"><span class="linenum">2046</span></a>      public function <a class="function" onClick="logFunction('grade_tree')" href="../_functions/grade_tree.html" onMouseOver="funcPopup(event,'grade_tree')">grade_tree</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it13176" onMouseOver="hilite(13176)" onMouseOut="lolite()" onClick="logVariable('fillers')" href="../_variables/fillers.html">$fillers</a>=true, <a class="var it30130" onMouseOver="hilite(30130)" onMouseOut="lolite()" onClick="logVariable('category_grade_last')" href="../_variables/category_grade_last.html">$category_grade_last</a>=false,
<a name="l2047"><span class="linenum">2047</span></a>                                 <a class="var it13431" onMouseOver="hilite(13431)" onMouseOut="lolite()" onClick="logVariable('collapsed')" href="../_variables/collapsed.html">$collapsed</a>=null, <a class="var it30131" onMouseOver="hilite(30131)" onMouseOut="lolite()" onClick="logVariable('nooutcomes')" href="../_variables/nooutcomes.html">$nooutcomes</a>=false) {
<a name="l2048"><span class="linenum">2048</span></a>          global <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2049"><span class="linenum">2049</span></a>  
<a name="l2050"><span class="linenum">2050</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>   = <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>;
<a name="l2051"><span class="linenum">2051</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('levels')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/levels.html">levels</a>     = array();
<a name="l2052"><span class="linenum">2052</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/context.html">context</a>    = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l2053"><span class="linenum">2053</span></a>  
<a name="l2054"><span class="linenum">2054</span></a>          if (!empty(<a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>-&gt;<a onClick="logVariable('id')" class="var it39504" onMouseOver="hilite(39504)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) &amp;&amp; <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>-&gt;<a onClick="logVariable('id')" class="var it39504" onMouseOver="hilite(39504)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>) {
<a name="l2055"><span class="linenum">2055</span></a>              <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>;
<a name="l2056"><span class="linenum">2056</span></a>          } else {
<a name="l2057"><span class="linenum">2057</span></a>              <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('courseid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>));
<a name="l2058"><span class="linenum">2058</span></a>          }
<a name="l2059"><span class="linenum">2059</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('modinfo')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/modinfo.html">modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l2060"><span class="linenum">2060</span></a>  
<a name="l2061"><span class="linenum">2061</span></a>  <span class="comment">        // get course grade tree</span>
<a name="l2062"><span class="linenum">2062</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('top_element')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/top_element.html">top_element</a> = <a class="class" onClick="logClass('grade_category')" href="../_classes/grade_category.html" onMouseOver="classPopup(event,'grade_category')">grade_category</a>::<a class="function" onClick="logFunction('fetch_course_tree')" href="../_functions/fetch_course_tree.html" onMouseOver="funcPopup(event,'fetch_course_tree')">fetch_course_tree</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, true);
<a name="l2063"><span class="linenum">2063</span></a>  
<a name="l2064"><span class="linenum">2064</span></a>  <span class="comment">        // collapse the categories if requested</span>
<a name="l2065"><span class="linenum">2065</span></a>          if (!empty(<a class="var it13431" onMouseOver="hilite(13431)" onMouseOut="lolite()" onClick="logVariable('collapsed')" href="../_variables/collapsed.html">$collapsed</a>)) {
<a name="l2066"><span class="linenum">2066</span></a>              <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('category_collapse')" href="../_functions/category_collapse.html" onMouseOver="funcPopup(event,'category_collapse')">category_collapse</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('top_element')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/top_element.html">top_element</a>, <a class="var it13431" onMouseOver="hilite(13431)" onMouseOut="lolite()" onClick="logVariable('collapsed')" href="../_variables/collapsed.html">$collapsed</a>);
<a name="l2067"><span class="linenum">2067</span></a>          }
<a name="l2068"><span class="linenum">2068</span></a>  
<a name="l2069"><span class="linenum">2069</span></a>  <span class="comment">        // no otucomes if requested</span>
<a name="l2070"><span class="linenum">2070</span></a>          if (!empty(<a class="var it30131" onMouseOver="hilite(30131)" onMouseOut="lolite()" onClick="logVariable('nooutcomes')" href="../_variables/nooutcomes.html">$nooutcomes</a>)) {
<a name="l2071"><span class="linenum">2071</span></a>              <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('no_outcomes')" href="../_functions/no_outcomes.html" onMouseOver="funcPopup(event,'no_outcomes')">no_outcomes</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('top_element')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/top_element.html">top_element</a>);
<a name="l2072"><span class="linenum">2072</span></a>          }
<a name="l2073"><span class="linenum">2073</span></a>  
<a name="l2074"><span class="linenum">2074</span></a>  <span class="comment">        // move category item to last position in category</span>
<a name="l2075"><span class="linenum">2075</span></a>          if (<a class="var it30130" onMouseOver="hilite(30130)" onMouseOut="lolite()" onClick="logVariable('category_grade_last')" href="../_variables/category_grade_last.html">$category_grade_last</a>) {
<a name="l2076"><span class="linenum">2076</span></a>              <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('category_grade_last')" href="../_functions/category_grade_last.html" onMouseOver="funcPopup(event,'category_grade_last')">category_grade_last</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('top_element')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/top_element.html">top_element</a>);
<a name="l2077"><span class="linenum">2077</span></a>          }
<a name="l2078"><span class="linenum">2078</span></a>  
<a name="l2079"><span class="linenum">2079</span></a>          if (<a class="var it13176" onMouseOver="hilite(13176)" onMouseOut="lolite()" onClick="logVariable('fillers')" href="../_variables/fillers.html">$fillers</a>) {
<a name="l2080"><span class="linenum">2080</span></a>  <span class="comment">            // inject fake categories == fillers</span>
<a name="l2081"><span class="linenum">2081</span></a>              <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('inject_fillers')" href="../_functions/inject_fillers.html" onMouseOver="funcPopup(event,'inject_fillers')">inject_fillers</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('top_element')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/top_element.html">top_element</a>, 0);
<a name="l2082"><span class="linenum">2082</span></a>  <span class="comment">            // add colspans to categories and fillers</span>
<a name="l2083"><span class="linenum">2083</span></a>              <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('inject_colspans')" href="../_functions/inject_colspans.html" onMouseOver="funcPopup(event,'inject_colspans')">inject_colspans</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('top_element')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/top_element.html">top_element</a>);
<a name="l2084"><span class="linenum">2084</span></a>          }
<a name="l2085"><span class="linenum">2085</span></a>  
<a name="l2086"><span class="linenum">2086</span></a>          <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('fill_levels')" href="../_functions/fill_levels.html" onMouseOver="funcPopup(event,'fill_levels')">fill_levels</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('levels')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/levels.html">levels</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('top_element')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/top_element.html">top_element</a>, 0);
<a name="l2087"><span class="linenum">2087</span></a>  
<a name="l2088"><span class="linenum">2088</span></a>      }
<a name="l2089"><span class="linenum">2089</span></a>  
<a name="l2090"><span class="linenum">2090</span></a>      <span class="comment">/**</span>
<a name="l2091"><span class="linenum">2091</span></a>  <span class="comment">     * Static recursive helper - removes items from collapsed categories</span>
<a name="l2092"><span class="linenum">2092</span></a>  <span class="comment">     *</span>
<a name="l2093"><span class="linenum">2093</span></a>  <span class="comment">     * @param array &amp;$element The seed of the recursion</span>
<a name="l2094"><span class="linenum">2094</span></a>  <span class="comment">     * @param array $collapsed array of collapsed categories</span>
<a name="l2095"><span class="linenum">2095</span></a>  <span class="comment">     *</span>
<a name="l2096"><span class="linenum">2096</span></a>  <span class="comment">     * @return void</span>
<a name="l2097"><span class="linenum">2097</span></a>  <span class="comment">     */</span>
<a name="l2098"><span class="linenum">2098</span></a>      public function <a class="function" onClick="logFunction('category_collapse')" href="../_functions/category_collapse.html" onMouseOver="funcPopup(event,'category_collapse')">category_collapse</a>(&amp;<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it13431" onMouseOver="hilite(13431)" onMouseOut="lolite()" onClick="logVariable('collapsed')" href="../_variables/collapsed.html">$collapsed</a>) {
<a name="l2099"><span class="linenum">2099</span></a>          if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] != 'category') {
<a name="l2100"><span class="linenum">2100</span></a>              return;
<a name="l2101"><span class="linenum">2101</span></a>          }
<a name="l2102"><span class="linenum">2102</span></a>          if (empty(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children']) or <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children']) &lt; 2) {
<a name="l2103"><span class="linenum">2103</span></a>              return;
<a name="l2104"><span class="linenum">2104</span></a>          }
<a name="l2105"><span class="linenum">2105</span></a>  
<a name="l2106"><span class="linenum">2106</span></a>          if (<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;id, <a class="var it13431" onMouseOver="hilite(13431)" onMouseOut="lolite()" onClick="logVariable('collapsed')" href="../_variables/collapsed.html">$collapsed</a>['aggregatesonly'])) {
<a name="l2107"><span class="linenum">2107</span></a>              <a class="var it30134" onMouseOver="hilite(30134)" onMouseOut="lolite()" onClick="logVariable('category_item')" href="../_variables/category_item.html">$category_item</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children']); <span class="comment">//keep only category item</span>
<a name="l2108"><span class="linenum">2108</span></a>              <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'] = array(<a class="phpfunction" onClick="logFunction('key')" href="../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'])=&gt;<a class="var it30134" onMouseOver="hilite(30134)" onMouseOut="lolite()" onClick="logVariable('category_item')" href="../_variables/category_item.html">$category_item</a>);
<a name="l2109"><span class="linenum">2109</span></a>  
<a name="l2110"><span class="linenum">2110</span></a>          } else {
<a name="l2111"><span class="linenum">2111</span></a>              if (<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;id, <a class="var it13431" onMouseOver="hilite(13431)" onMouseOut="lolite()" onClick="logVariable('collapsed')" href="../_variables/collapsed.html">$collapsed</a>['gradesonly'])) { // Remove category item
<a name="l2112"><span class="linenum">2112</span></a>                  <a class="phpfunction" onClick="logFunction('reset')" href="../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children']);
<a name="l2113"><span class="linenum">2113</span></a>                  <a class="var it30135" onMouseOver="hilite(30135)" onMouseOut="lolite()" onClick="logVariable('first_key')" href="../_variables/first_key.html">$first_key</a> = <a class="phpfunction" onClick="logFunction('key')" href="../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children']);
<a name="l2114"><span class="linenum">2114</span></a>                  unset(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it30135" onMouseOver="hilite(30135)" onMouseOut="lolite()" onClick="logVariable('first_key')" href="../_variables/first_key.html">$first_key</a>]);
<a name="l2115"><span class="linenum">2115</span></a>              }
<a name="l2116"><span class="linenum">2116</span></a>              foreach (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'] as <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>=&gt;<a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>) { // Recurse through the element's children
<a name="l2117"><span class="linenum">2117</span></a>                  <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('category_collapse')" href="../_functions/category_collapse.html" onMouseOver="funcPopup(event,'category_collapse')">category_collapse</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>], <a class="var it13431" onMouseOver="hilite(13431)" onMouseOut="lolite()" onClick="logVariable('collapsed')" href="../_variables/collapsed.html">$collapsed</a>);
<a name="l2118"><span class="linenum">2118</span></a>              }
<a name="l2119"><span class="linenum">2119</span></a>          }
<a name="l2120"><span class="linenum">2120</span></a>      }
<a name="l2121"><span class="linenum">2121</span></a>  
<a name="l2122"><span class="linenum">2122</span></a>      <span class="comment">/**</span>
<a name="l2123"><span class="linenum">2123</span></a>  <span class="comment">     * Static recursive helper - removes all outcomes</span>
<a name="l2124"><span class="linenum">2124</span></a>  <span class="comment">     *</span>
<a name="l2125"><span class="linenum">2125</span></a>  <span class="comment">     * @param array &amp;$element The seed of the recursion</span>
<a name="l2126"><span class="linenum">2126</span></a>  <span class="comment">     *</span>
<a name="l2127"><span class="linenum">2127</span></a>  <span class="comment">     * @return void</span>
<a name="l2128"><span class="linenum">2128</span></a>  <span class="comment">     */</span>
<a name="l2129"><span class="linenum">2129</span></a>      public function <a class="function" onClick="logFunction('no_outcomes')" href="../_functions/no_outcomes.html" onMouseOver="funcPopup(event,'no_outcomes')">no_outcomes</a>(&amp;<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>) {
<a name="l2130"><span class="linenum">2130</span></a>          if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] != 'category') {
<a name="l2131"><span class="linenum">2131</span></a>              return;
<a name="l2132"><span class="linenum">2132</span></a>          }
<a name="l2133"><span class="linenum">2133</span></a>          foreach (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'] as <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>=&gt;<a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>) {
<a name="l2134"><span class="linenum">2134</span></a>              if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>]['type'] == 'item'
<a name="l2135"><span class="linenum">2135</span></a>                and <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>]['object']-&gt;<a class="function" onClick="logFunction('is_outcome_item')" href="../_functions/is_outcome_item.html" onMouseOver="funcPopup(event,'is_outcome_item')">is_outcome_item</a>()) {
<a name="l2136"><span class="linenum">2136</span></a>                  unset(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>]);
<a name="l2137"><span class="linenum">2137</span></a>  
<a name="l2138"><span class="linenum">2138</span></a>              } else if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>]['type'] == 'category') {
<a name="l2139"><span class="linenum">2139</span></a>                  <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('no_outcomes')" href="../_functions/no_outcomes.html" onMouseOver="funcPopup(event,'no_outcomes')">no_outcomes</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>]);
<a name="l2140"><span class="linenum">2140</span></a>              }
<a name="l2141"><span class="linenum">2141</span></a>          }
<a name="l2142"><span class="linenum">2142</span></a>      }
<a name="l2143"><span class="linenum">2143</span></a>  
<a name="l2144"><span class="linenum">2144</span></a>      <span class="comment">/**</span>
<a name="l2145"><span class="linenum">2145</span></a>  <span class="comment">     * Static recursive helper - makes the grade_item for category the last children</span>
<a name="l2146"><span class="linenum">2146</span></a>  <span class="comment">     *</span>
<a name="l2147"><span class="linenum">2147</span></a>  <span class="comment">     * @param array &amp;$element The seed of the recursion</span>
<a name="l2148"><span class="linenum">2148</span></a>  <span class="comment">     *</span>
<a name="l2149"><span class="linenum">2149</span></a>  <span class="comment">     * @return void</span>
<a name="l2150"><span class="linenum">2150</span></a>  <span class="comment">     */</span>
<a name="l2151"><span class="linenum">2151</span></a>      public function <a class="function" onClick="logFunction('category_grade_last')" href="../_functions/category_grade_last.html" onMouseOver="funcPopup(event,'category_grade_last')">category_grade_last</a>(&amp;<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>) {
<a name="l2152"><span class="linenum">2152</span></a>          if (empty(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'])) {
<a name="l2153"><span class="linenum">2153</span></a>              return;
<a name="l2154"><span class="linenum">2154</span></a>          }
<a name="l2155"><span class="linenum">2155</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children']) &lt; 2) {
<a name="l2156"><span class="linenum">2156</span></a>              return;
<a name="l2157"><span class="linenum">2157</span></a>          }
<a name="l2158"><span class="linenum">2158</span></a>          <a class="var it30136" onMouseOver="hilite(30136)" onMouseOut="lolite()" onClick="logVariable('first_item')" href="../_variables/first_item.html">$first_item</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children']);
<a name="l2159"><span class="linenum">2159</span></a>          if (<a class="var it30136" onMouseOver="hilite(30136)" onMouseOut="lolite()" onClick="logVariable('first_item')" href="../_variables/first_item.html">$first_item</a>['type'] == 'categoryitem' or <a class="var it30136" onMouseOver="hilite(30136)" onMouseOut="lolite()" onClick="logVariable('first_item')" href="../_variables/first_item.html">$first_item</a>['type'] == 'courseitem') {
<a name="l2160"><span class="linenum">2160</span></a>  <span class="comment">            // the category item might have been already removed</span>
<a name="l2161"><span class="linenum">2161</span></a>              <a class="var it2283" onMouseOver="hilite(2283)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a> = <a class="phpfunction" onClick="logFunction('key')" href="../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children']);
<a name="l2162"><span class="linenum">2162</span></a>              unset(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it2283" onMouseOver="hilite(2283)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a>]);
<a name="l2163"><span class="linenum">2163</span></a>              <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it2283" onMouseOver="hilite(2283)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a>] =&amp; <a class="var it30136" onMouseOver="hilite(30136)" onMouseOut="lolite()" onClick="logVariable('first_item')" href="../_variables/first_item.html">$first_item</a>;
<a name="l2164"><span class="linenum">2164</span></a>          }
<a name="l2165"><span class="linenum">2165</span></a>          foreach (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'] as <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a> =&gt; <a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>) {
<a name="l2166"><span class="linenum">2166</span></a>              <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('category_grade_last')" href="../_functions/category_grade_last.html" onMouseOver="funcPopup(event,'category_grade_last')">category_grade_last</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>]);
<a name="l2167"><span class="linenum">2167</span></a>          }
<a name="l2168"><span class="linenum">2168</span></a>      }
<a name="l2169"><span class="linenum">2169</span></a>  
<a name="l2170"><span class="linenum">2170</span></a>      <span class="comment">/**</span>
<a name="l2171"><span class="linenum">2171</span></a>  <span class="comment">     * Static recursive helper - fills the levels array, useful when accessing tree elements of one level</span>
<a name="l2172"><span class="linenum">2172</span></a>  <span class="comment">     *</span>
<a name="l2173"><span class="linenum">2173</span></a>  <span class="comment">     * @param array &amp;$levels The levels of the grade tree through which to recurse</span>
<a name="l2174"><span class="linenum">2174</span></a>  <span class="comment">     * @param array &amp;$element The seed of the recursion</span>
<a name="l2175"><span class="linenum">2175</span></a>  <span class="comment">     * @param int   $depth How deep are we?</span>
<a name="l2176"><span class="linenum">2176</span></a>  <span class="comment">     * @return void</span>
<a name="l2177"><span class="linenum">2177</span></a>  <span class="comment">     */</span>
<a name="l2178"><span class="linenum">2178</span></a>      public function <a class="function" onClick="logFunction('fill_levels')" href="../_functions/fill_levels.html" onMouseOver="funcPopup(event,'fill_levels')">fill_levels</a>(&amp;<a class="var it1631" onMouseOver="hilite(1631)" onMouseOut="lolite()" onClick="logVariable('levels')" href="../_variables/levels.html">$levels</a>, &amp;<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>) {
<a name="l2179"><span class="linenum">2179</span></a>          if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>, <a class="var it1631" onMouseOver="hilite(1631)" onMouseOut="lolite()" onClick="logVariable('levels')" href="../_variables/levels.html">$levels</a>)) {
<a name="l2180"><span class="linenum">2180</span></a>              <a class="var it1631" onMouseOver="hilite(1631)" onMouseOut="lolite()" onClick="logVariable('levels')" href="../_variables/levels.html">$levels</a>[<a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>] = array();
<a name="l2181"><span class="linenum">2181</span></a>          }
<a name="l2182"><span class="linenum">2182</span></a>  
<a name="l2183"><span class="linenum">2183</span></a>  <span class="comment">        // prepare unique identifier</span>
<a name="l2184"><span class="linenum">2184</span></a>          if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] == 'category') {
<a name="l2185"><span class="linenum">2185</span></a>              <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['eid'] = 'cg'.<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;id;
<a name="l2186"><span class="linenum">2186</span></a>          } else if (<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'], array('item', 'courseitem', 'categoryitem'))) {
<a name="l2187"><span class="linenum">2187</span></a>              <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['eid'] = 'ig'.<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;id;
<a name="l2188"><span class="linenum">2188</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('items')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/items.html">items</a>[<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;id] =&amp; <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object'];
<a name="l2189"><span class="linenum">2189</span></a>          }
<a name="l2190"><span class="linenum">2190</span></a>  
<a name="l2191"><span class="linenum">2191</span></a>          <a class="var it1631" onMouseOver="hilite(1631)" onMouseOut="lolite()" onClick="logVariable('levels')" href="../_variables/levels.html">$levels</a>[<a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>][] =&amp; <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>;
<a name="l2192"><span class="linenum">2192</span></a>          <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>++;
<a name="l2193"><span class="linenum">2193</span></a>          if (empty(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'])) {
<a name="l2194"><span class="linenum">2194</span></a>              return;
<a name="l2195"><span class="linenum">2195</span></a>          }
<a name="l2196"><span class="linenum">2196</span></a>          <a class="var it1476" onMouseOver="hilite(1476)" onMouseOut="lolite()" onClick="logVariable('prev')" href="../_variables/prev.html">$prev</a> = 0;
<a name="l2197"><span class="linenum">2197</span></a>          foreach (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'] as <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>=&gt;<a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>) {
<a name="l2198"><span class="linenum">2198</span></a>              <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('fill_levels')" href="../_functions/fill_levels.html" onMouseOver="funcPopup(event,'fill_levels')">fill_levels</a>(<a class="var it1631" onMouseOver="hilite(1631)" onMouseOut="lolite()" onClick="logVariable('levels')" href="../_variables/levels.html">$levels</a>, <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>], <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>);
<a name="l2199"><span class="linenum">2199</span></a>              <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>]['prev'] = <a class="var it1476" onMouseOver="hilite(1476)" onMouseOut="lolite()" onClick="logVariable('prev')" href="../_variables/prev.html">$prev</a>;
<a name="l2200"><span class="linenum">2200</span></a>              <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>]['next'] = 0;
<a name="l2201"><span class="linenum">2201</span></a>              if (<a class="var it1476" onMouseOver="hilite(1476)" onMouseOut="lolite()" onClick="logVariable('prev')" href="../_variables/prev.html">$prev</a>) {
<a name="l2202"><span class="linenum">2202</span></a>                  <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it1476" onMouseOver="hilite(1476)" onMouseOut="lolite()" onClick="logVariable('prev')" href="../_variables/prev.html">$prev</a>]['next'] = <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>;
<a name="l2203"><span class="linenum">2203</span></a>              }
<a name="l2204"><span class="linenum">2204</span></a>              <a class="var it1476" onMouseOver="hilite(1476)" onMouseOut="lolite()" onClick="logVariable('prev')" href="../_variables/prev.html">$prev</a> = <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a>;
<a name="l2205"><span class="linenum">2205</span></a>          }
<a name="l2206"><span class="linenum">2206</span></a>      }
<a name="l2207"><span class="linenum">2207</span></a>  
<a name="l2208"><span class="linenum">2208</span></a>      <span class="comment">/**</span>
<a name="l2209"><span class="linenum">2209</span></a>  <span class="comment">     * Static recursive helper - makes full tree (all leafes are at the same level)</span>
<a name="l2210"><span class="linenum">2210</span></a>  <span class="comment">     *</span>
<a name="l2211"><span class="linenum">2211</span></a>  <span class="comment">     * @param array &amp;$element The seed of the recursion</span>
<a name="l2212"><span class="linenum">2212</span></a>  <span class="comment">     * @param int   $depth How deep are we?</span>
<a name="l2213"><span class="linenum">2213</span></a>  <span class="comment">     *</span>
<a name="l2214"><span class="linenum">2214</span></a>  <span class="comment">     * @return int</span>
<a name="l2215"><span class="linenum">2215</span></a>  <span class="comment">     */</span>
<a name="l2216"><span class="linenum">2216</span></a>      public function <a class="function" onClick="logFunction('inject_fillers')" href="../_functions/inject_fillers.html" onMouseOver="funcPopup(event,'inject_fillers')">inject_fillers</a>(&amp;<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>) {
<a name="l2217"><span class="linenum">2217</span></a>          <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>++;
<a name="l2218"><span class="linenum">2218</span></a>  
<a name="l2219"><span class="linenum">2219</span></a>          if (empty(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'])) {
<a name="l2220"><span class="linenum">2220</span></a>              return <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>;
<a name="l2221"><span class="linenum">2221</span></a>          }
<a name="l2222"><span class="linenum">2222</span></a>          <a class="var it30137" onMouseOver="hilite(30137)" onMouseOut="lolite()" onClick="logVariable('chdepths')" href="../_variables/chdepths.html">$chdepths</a> = array();
<a name="l2223"><span class="linenum">2223</span></a>          <a class="var it30138" onMouseOver="hilite(30138)" onMouseOut="lolite()" onClick="logVariable('chids')" href="../_variables/chids.html">$chids</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children']);
<a name="l2224"><span class="linenum">2224</span></a>          <a class="var it30139" onMouseOver="hilite(30139)" onMouseOut="lolite()" onClick="logVariable('last_child')" href="../_variables/last_child.html">$last_child</a>  = <a class="phpfunction" onClick="logFunction('end')" href="../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it30138" onMouseOver="hilite(30138)" onMouseOut="lolite()" onClick="logVariable('chids')" href="../_variables/chids.html">$chids</a>);
<a name="l2225"><span class="linenum">2225</span></a>          <a class="var it30140" onMouseOver="hilite(30140)" onMouseOut="lolite()" onClick="logVariable('first_child')" href="../_variables/first_child.html">$first_child</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it30138" onMouseOver="hilite(30138)" onMouseOut="lolite()" onClick="logVariable('chids')" href="../_variables/chids.html">$chids</a>);
<a name="l2226"><span class="linenum">2226</span></a>  
<a name="l2227"><span class="linenum">2227</span></a>          foreach (<a class="var it30138" onMouseOver="hilite(30138)" onMouseOut="lolite()" onClick="logVariable('chids')" href="../_variables/chids.html">$chids</a> as <a class="var it8021" onMouseOver="hilite(8021)" onMouseOut="lolite()" onClick="logVariable('chid')" href="../_variables/chid.html">$chid</a>) {
<a name="l2228"><span class="linenum">2228</span></a>              <a class="var it30137" onMouseOver="hilite(30137)" onMouseOut="lolite()" onClick="logVariable('chdepths')" href="../_variables/chdepths.html">$chdepths</a>[<a class="var it8021" onMouseOver="hilite(8021)" onMouseOut="lolite()" onClick="logVariable('chid')" href="../_variables/chid.html">$chid</a>] = <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('inject_fillers')" href="../_functions/inject_fillers.html" onMouseOver="funcPopup(event,'inject_fillers')">inject_fillers</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it8021" onMouseOver="hilite(8021)" onMouseOut="lolite()" onClick="logVariable('chid')" href="../_variables/chid.html">$chid</a>], <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>);
<a name="l2229"><span class="linenum">2229</span></a>          }
<a name="l2230"><span class="linenum">2230</span></a>          <a class="phpfunction" onClick="logFunction('arsort')" href="../_functions/arsort.html" onMouseOver="phpfuncPopup(event,'arsort')">arsort</a>(<a class="var it30137" onMouseOver="hilite(30137)" onMouseOut="lolite()" onClick="logVariable('chdepths')" href="../_variables/chdepths.html">$chdepths</a>);
<a name="l2231"><span class="linenum">2231</span></a>  
<a name="l2232"><span class="linenum">2232</span></a>          <a class="var it18939" onMouseOver="hilite(18939)" onMouseOut="lolite()" onClick="logVariable('maxdepth')" href="../_variables/maxdepth.html">$maxdepth</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it30137" onMouseOver="hilite(30137)" onMouseOut="lolite()" onClick="logVariable('chdepths')" href="../_variables/chdepths.html">$chdepths</a>);
<a name="l2233"><span class="linenum">2233</span></a>          foreach (<a class="var it30137" onMouseOver="hilite(30137)" onMouseOut="lolite()" onClick="logVariable('chdepths')" href="../_variables/chdepths.html">$chdepths</a> as <a class="var it8021" onMouseOver="hilite(8021)" onMouseOut="lolite()" onClick="logVariable('chid')" href="../_variables/chid.html">$chid</a>=&gt;<a class="var it30141" onMouseOver="hilite(30141)" onMouseOut="lolite()" onClick="logVariable('chd')" href="../_variables/chd.html">$chd</a>) {
<a name="l2234"><span class="linenum">2234</span></a>              if (<a class="var it30141" onMouseOver="hilite(30141)" onMouseOut="lolite()" onClick="logVariable('chd')" href="../_variables/chd.html">$chd</a> == <a class="var it18939" onMouseOver="hilite(18939)" onMouseOut="lolite()" onClick="logVariable('maxdepth')" href="../_variables/maxdepth.html">$maxdepth</a>) {
<a name="l2235"><span class="linenum">2235</span></a>                  continue;
<a name="l2236"><span class="linenum">2236</span></a>              }
<a name="l2237"><span class="linenum">2237</span></a>              for (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>=0; <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> &lt; <a class="var it18939" onMouseOver="hilite(18939)" onMouseOut="lolite()" onClick="logVariable('maxdepth')" href="../_variables/maxdepth.html">$maxdepth</a>-<a class="var it30141" onMouseOver="hilite(30141)" onMouseOut="lolite()" onClick="logVariable('chd')" href="../_variables/chd.html">$chd</a>; <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>++) {
<a name="l2238"><span class="linenum">2238</span></a>                  if (<a class="var it8021" onMouseOver="hilite(8021)" onMouseOut="lolite()" onClick="logVariable('chid')" href="../_variables/chid.html">$chid</a> == <a class="var it30140" onMouseOver="hilite(30140)" onMouseOut="lolite()" onClick="logVariable('first_child')" href="../_variables/first_child.html">$first_child</a>) {
<a name="l2239"><span class="linenum">2239</span></a>                      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'fillerfirst';
<a name="l2240"><span class="linenum">2240</span></a>                  } else if (<a class="var it8021" onMouseOver="hilite(8021)" onMouseOut="lolite()" onClick="logVariable('chid')" href="../_variables/chid.html">$chid</a> == <a class="var it30139" onMouseOver="hilite(30139)" onMouseOut="lolite()" onClick="logVariable('last_child')" href="../_variables/last_child.html">$last_child</a>) {
<a name="l2241"><span class="linenum">2241</span></a>                      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'fillerlast';
<a name="l2242"><span class="linenum">2242</span></a>                  } else {
<a name="l2243"><span class="linenum">2243</span></a>                      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'filler';
<a name="l2244"><span class="linenum">2244</span></a>                  }
<a name="l2245"><span class="linenum">2245</span></a>                  <a class="var it30142" onMouseOver="hilite(30142)" onMouseOut="lolite()" onClick="logVariable('oldchild')" href="../_variables/oldchild.html">$oldchild</a> =&amp; <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it8021" onMouseOver="hilite(8021)" onMouseOut="lolite()" onClick="logVariable('chid')" href="../_variables/chid.html">$chid</a>];
<a name="l2246"><span class="linenum">2246</span></a>                  <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it8021" onMouseOver="hilite(8021)" onMouseOut="lolite()" onClick="logVariable('chid')" href="../_variables/chid.html">$chid</a>] = array('object'=&gt;'filler', 'type'=&gt;<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>,
<a name="l2247"><span class="linenum">2247</span></a>                                                      'eid'=&gt;'', 'depth'=&gt;<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['object']-&gt;depth,
<a name="l2248"><span class="linenum">2248</span></a>                                                      'children'=&gt;array(<a class="var it30142" onMouseOver="hilite(30142)" onMouseOut="lolite()" onClick="logVariable('oldchild')" href="../_variables/oldchild.html">$oldchild</a>));
<a name="l2249"><span class="linenum">2249</span></a>              }
<a name="l2250"><span class="linenum">2250</span></a>          }
<a name="l2251"><span class="linenum">2251</span></a>  
<a name="l2252"><span class="linenum">2252</span></a>          return <a class="var it18939" onMouseOver="hilite(18939)" onMouseOut="lolite()" onClick="logVariable('maxdepth')" href="../_variables/maxdepth.html">$maxdepth</a>;
<a name="l2253"><span class="linenum">2253</span></a>      }
<a name="l2254"><span class="linenum">2254</span></a>  
<a name="l2255"><span class="linenum">2255</span></a>      <span class="comment">/**</span>
<a name="l2256"><span class="linenum">2256</span></a>  <span class="comment">     * Static recursive helper - add colspan information into categories</span>
<a name="l2257"><span class="linenum">2257</span></a>  <span class="comment">     *</span>
<a name="l2258"><span class="linenum">2258</span></a>  <span class="comment">     * @param array &amp;$element The seed of the recursion</span>
<a name="l2259"><span class="linenum">2259</span></a>  <span class="comment">     *</span>
<a name="l2260"><span class="linenum">2260</span></a>  <span class="comment">     * @return int</span>
<a name="l2261"><span class="linenum">2261</span></a>  <span class="comment">     */</span>
<a name="l2262"><span class="linenum">2262</span></a>      public function <a class="function" onClick="logFunction('inject_colspans')" href="../_functions/inject_colspans.html" onMouseOver="funcPopup(event,'inject_colspans')">inject_colspans</a>(&amp;<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>) {
<a name="l2263"><span class="linenum">2263</span></a>          if (empty(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'])) {
<a name="l2264"><span class="linenum">2264</span></a>              return 1;
<a name="l2265"><span class="linenum">2265</span></a>          }
<a name="l2266"><span class="linenum">2266</span></a>          <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> = 0;
<a name="l2267"><span class="linenum">2267</span></a>          foreach (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'] as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>=&gt;<a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>) {
<a name="l2268"><span class="linenum">2268</span></a>              <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> += <a class="class" onClick="logClass('grade_tree')" href="../_classes/grade_tree.html" onMouseOver="classPopup(event,'grade_tree')">grade_tree</a>::<a class="function" onClick="logFunction('inject_colspans')" href="../_functions/inject_colspans.html" onMouseOver="funcPopup(event,'inject_colspans')">inject_colspans</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['children'][<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>]);
<a name="l2269"><span class="linenum">2269</span></a>          }
<a name="l2270"><span class="linenum">2270</span></a>          <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['colspan'] = <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>;
<a name="l2271"><span class="linenum">2271</span></a>          return <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>;
<a name="l2272"><span class="linenum">2272</span></a>      }
<a name="l2273"><span class="linenum">2273</span></a>  
<a name="l2274"><span class="linenum">2274</span></a>      <span class="comment">/**</span>
<a name="l2275"><span class="linenum">2275</span></a>  <span class="comment">     * Parses the array in search of a given eid and returns a element object with</span>
<a name="l2276"><span class="linenum">2276</span></a>  <span class="comment">     * information about the element it has found.</span>
<a name="l2277"><span class="linenum">2277</span></a>  <span class="comment">     * @param int $eid Gradetree Element ID</span>
<a name="l2278"><span class="linenum">2278</span></a>  <span class="comment">     * @return object element</span>
<a name="l2279"><span class="linenum">2279</span></a>  <span class="comment">     */</span>
<a name="l2280"><span class="linenum">2280</span></a>      public function <a class="function" onClick="logFunction('locate_element')" href="../_functions/locate_element.html" onMouseOver="funcPopup(event,'locate_element')">locate_element</a>(<a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>) {
<a name="l2281"><span class="linenum">2281</span></a>  <span class="comment">        // it is a grade - construct a new object</span>
<a name="l2282"><span class="linenum">2282</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>, 'n') === 0) {
<a name="l2283"><span class="linenum">2283</span></a>              if (!<a class="phpfunction" onClick="logFunction('preg_match')" href="../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/<a class="function" onClick="logFunction('n')" href="../_functions/n.html" onMouseOver="funcPopup(event,'n')">n</a>(\d+)u(\d+)/', <a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>, <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>)) {
<a name="l2284"><span class="linenum">2284</span></a>                  return null;
<a name="l2285"><span class="linenum">2285</span></a>              }
<a name="l2286"><span class="linenum">2286</span></a>  
<a name="l2287"><span class="linenum">2287</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a> = <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[1];
<a name="l2288"><span class="linenum">2288</span></a>              <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[2];
<a name="l2289"><span class="linenum">2289</span></a>  
<a name="l2290"><span class="linenum">2290</span></a>  <span class="comment">            //extra security check - the grade item must be in this tree</span>
<a name="l2291"><span class="linenum">2291</span></a>              if (!<a class="var it30133" onMouseOver="hilite(30133)" onMouseOut="lolite()" onClick="logVariable('item_el')" href="../_variables/item_el.html">$item_el</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('locate_element')" href="../_functions/locate_element.html" onMouseOver="funcPopup(event,'locate_element')">locate_element</a>('ig'.<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>)) {
<a name="l2292"><span class="linenum">2292</span></a>                  return null;
<a name="l2293"><span class="linenum">2293</span></a>              }
<a name="l2294"><span class="linenum">2294</span></a>  
<a name="l2295"><span class="linenum">2295</span></a>  <span class="comment">            // $gradea-&gt;id may be null - means does not exist yet</span>
<a name="l2296"><span class="linenum">2296</span></a>              <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a> = <span class="keyword">new </span><a class="class" onClick="logClass('grade_grade')" href="../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>(array('itemid'=&gt;<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, 'userid'=&gt;<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>));
<a name="l2297"><span class="linenum">2297</span></a>  
<a name="l2298"><span class="linenum">2298</span></a>              <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('grade_item')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/grade_item.html">grade_item</a> =&amp; <a class="var it30133" onMouseOver="hilite(30133)" onMouseOut="lolite()" onClick="logVariable('item_el')" href="../_variables/item_el.html">$item_el</a>['object']; <span class="comment">// this may speedup grade_grade methods!</span>
<a name="l2299"><span class="linenum">2299</span></a>              return array('eid'=&gt;'n'.<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>.'u'.<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>,'object'=&gt;<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>, 'type'=&gt;'grade');
<a name="l2300"><span class="linenum">2300</span></a>  
<a name="l2301"><span class="linenum">2301</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>, 'g') === 0) {
<a name="l2302"><span class="linenum">2302</span></a>              <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = (int) <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>, 1);
<a name="l2303"><span class="linenum">2303</span></a>              if (!<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a> = <a class="class" onClick="logClass('grade_grade')" href="../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>::<a class="function" onClick="logFunction('fetch')" href="../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('id'=&gt;<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>))) {
<a name="l2304"><span class="linenum">2304</span></a>                  return null;
<a name="l2305"><span class="linenum">2305</span></a>              }
<a name="l2306"><span class="linenum">2306</span></a>  <span class="comment">            //extra security check - the grade item must be in this tree</span>
<a name="l2307"><span class="linenum">2307</span></a>              if (!<a class="var it30133" onMouseOver="hilite(30133)" onMouseOut="lolite()" onClick="logVariable('item_el')" href="../_variables/item_el.html">$item_el</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('locate_element')" href="../_functions/locate_element.html" onMouseOver="funcPopup(event,'locate_element')">locate_element</a>('ig'.<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('itemid')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>)) {
<a name="l2308"><span class="linenum">2308</span></a>                  return null;
<a name="l2309"><span class="linenum">2309</span></a>              }
<a name="l2310"><span class="linenum">2310</span></a>              <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('grade_item')" class="var it39944" onMouseOver="hilite(39944)" onMouseOut="lolite()" href="../_variables/grade_item.html">grade_item</a> =&amp; <a class="var it30133" onMouseOver="hilite(30133)" onMouseOut="lolite()" onClick="logVariable('item_el')" href="../_variables/item_el.html">$item_el</a>['object']; <span class="comment">// this may speedup grade_grade methods!</span>
<a name="l2311"><span class="linenum">2311</span></a>              return array('eid'=&gt;'g'.<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>,'object'=&gt;<a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../_variables/grade.html">$grade</a>, 'type'=&gt;'grade');
<a name="l2312"><span class="linenum">2312</span></a>          }
<a name="l2313"><span class="linenum">2313</span></a>  
<a name="l2314"><span class="linenum">2314</span></a>  <span class="comment">        // it is a category or item</span>
<a name="l2315"><span class="linenum">2315</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('levels')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/levels.html">levels</a> as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>) {
<a name="l2316"><span class="linenum">2316</span></a>              foreach (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a> as <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>) {
<a name="l2317"><span class="linenum">2317</span></a>                  if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['type'] == 'filler') {
<a name="l2318"><span class="linenum">2318</span></a>                      continue;
<a name="l2319"><span class="linenum">2319</span></a>                  }
<a name="l2320"><span class="linenum">2320</span></a>                  if (<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['eid'] == <a class="var it6318" onMouseOver="hilite(6318)" onMouseOut="lolite()" onClick="logVariable('eid')" href="../_variables/eid.html">$eid</a>) {
<a name="l2321"><span class="linenum">2321</span></a>                      return <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>;
<a name="l2322"><span class="linenum">2322</span></a>                  }
<a name="l2323"><span class="linenum">2323</span></a>              }
<a name="l2324"><span class="linenum">2324</span></a>          }
<a name="l2325"><span class="linenum">2325</span></a>  
<a name="l2326"><span class="linenum">2326</span></a>          return null;
<a name="l2327"><span class="linenum">2327</span></a>      }
<a name="l2328"><span class="linenum">2328</span></a>  
<a name="l2329"><span class="linenum">2329</span></a>      <span class="comment">/**</span>
<a name="l2330"><span class="linenum">2330</span></a>  <span class="comment">     * Returns a well-formed XML representation of the grade-tree using recursion.</span>
<a name="l2331"><span class="linenum">2331</span></a>  <span class="comment">     *</span>
<a name="l2332"><span class="linenum">2332</span></a>  <span class="comment">     * @param array  $root The current element in the recursion. If null, starts at the top of the tree.</span>
<a name="l2333"><span class="linenum">2333</span></a>  <span class="comment">     * @param string $tabs The control character to use for tabs</span>
<a name="l2334"><span class="linenum">2334</span></a>  <span class="comment">     *</span>
<a name="l2335"><span class="linenum">2335</span></a>  <span class="comment">     * @return string $xml</span>
<a name="l2336"><span class="linenum">2336</span></a>  <span class="comment">     */</span>
<a name="l2337"><span class="linenum">2337</span></a>      public function <a class="function" onClick="logFunction('exporttoxml')" href="../_functions/exporttoxml.html" onMouseOver="funcPopup(event,'exporttoxml')">exporttoxml</a>(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>=null, <a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>=&quot;\t&quot;) {
<a name="l2338"><span class="linenum">2338</span></a>          <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a> = null;
<a name="l2339"><span class="linenum">2339</span></a>          <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a> = false;
<a name="l2340"><span class="linenum">2340</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>)) {
<a name="l2341"><span class="linenum">2341</span></a>              <a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('top_element')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/top_element.html">top_element</a>;
<a name="l2342"><span class="linenum">2342</span></a>              <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a> = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;' . &quot;\n&quot;;
<a name="l2343"><span class="linenum">2343</span></a>              <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a> .= &quot;&lt;gradetree&gt;\n&quot;;
<a name="l2344"><span class="linenum">2344</span></a>              <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a> = true;
<a name="l2345"><span class="linenum">2345</span></a>          }
<a name="l2346"><span class="linenum">2346</span></a>  
<a name="l2347"><span class="linenum">2347</span></a>          <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'undefined';
<a name="l2348"><span class="linenum">2348</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object']-&gt;table, 'grade_categories') !== false) {
<a name="l2349"><span class="linenum">2349</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'category';
<a name="l2350"><span class="linenum">2350</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object']-&gt;table, 'grade_items') !== false) {
<a name="l2351"><span class="linenum">2351</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'item';
<a name="l2352"><span class="linenum">2352</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object']-&gt;table, 'grade_outcomes') !== false) {
<a name="l2353"><span class="linenum">2353</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = 'outcome';
<a name="l2354"><span class="linenum">2354</span></a>          }
<a name="l2355"><span class="linenum">2355</span></a>  
<a name="l2356"><span class="linenum">2356</span></a>          <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a> .= &quot;<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>&lt;element type=\&quot;<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>\&quot;&gt;\n&quot;;
<a name="l2357"><span class="linenum">2357</span></a>          foreach (<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object'] as <a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../_variables/var.html">$var</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l2358"><span class="linenum">2358</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_object')" href="../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) &amp;&amp; !<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) &amp;&amp; !empty(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>)) {
<a name="l2359"><span class="linenum">2359</span></a>                  <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a> .= &quot;<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>\t&lt;<a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../_variables/var.html">$var</a>&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>&lt;/<a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../_variables/var.html">$var</a>&gt;\n&quot;;
<a name="l2360"><span class="linenum">2360</span></a>              }
<a name="l2361"><span class="linenum">2361</span></a>          }
<a name="l2362"><span class="linenum">2362</span></a>  
<a name="l2363"><span class="linenum">2363</span></a>          if (!empty(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['children'])) {
<a name="l2364"><span class="linenum">2364</span></a>              <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a> .= &quot;<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>\t&lt;children&gt;\n&quot;;
<a name="l2365"><span class="linenum">2365</span></a>              foreach (<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['children'] as <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a> =&gt; <a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>) {
<a name="l2366"><span class="linenum">2366</span></a>                  <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('exportToXML')" href="../_functions/exporttoxml.html" onMouseOver="funcPopup(event,'exporttoxml')">exportToXML</a>(<a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>, <a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>.&quot;\t\t&quot;);
<a name="l2367"><span class="linenum">2367</span></a>              }
<a name="l2368"><span class="linenum">2368</span></a>              <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a> .= &quot;<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>\t&lt;/children&gt;\n&quot;;
<a name="l2369"><span class="linenum">2369</span></a>          }
<a name="l2370"><span class="linenum">2370</span></a>  
<a name="l2371"><span class="linenum">2371</span></a>          <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a> .= &quot;<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>&lt;/element&gt;\n&quot;;
<a name="l2372"><span class="linenum">2372</span></a>  
<a name="l2373"><span class="linenum">2373</span></a>          if (<a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a>) {
<a name="l2374"><span class="linenum">2374</span></a>              <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a> .= &quot;&lt;/gradetree&gt;&quot;;
<a name="l2375"><span class="linenum">2375</span></a>          }
<a name="l2376"><span class="linenum">2376</span></a>  
<a name="l2377"><span class="linenum">2377</span></a>          return <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>;
<a name="l2378"><span class="linenum">2378</span></a>      }
<a name="l2379"><span class="linenum">2379</span></a>  
<a name="l2380"><span class="linenum">2380</span></a>      <span class="comment">/**</span>
<a name="l2381"><span class="linenum">2381</span></a>  <span class="comment">     * Returns a JSON representation of the grade-tree using recursion.</span>
<a name="l2382"><span class="linenum">2382</span></a>  <span class="comment">     *</span>
<a name="l2383"><span class="linenum">2383</span></a>  <span class="comment">     * @param array $root The current element in the recursion. If null, starts at the top of the tree.</span>
<a name="l2384"><span class="linenum">2384</span></a>  <span class="comment">     * @param string $tabs Tab characters used to indent the string nicely for humans to enjoy</span>
<a name="l2385"><span class="linenum">2385</span></a>  <span class="comment">     *</span>
<a name="l2386"><span class="linenum">2386</span></a>  <span class="comment">     * @return string</span>
<a name="l2387"><span class="linenum">2387</span></a>  <span class="comment">     */</span>
<a name="l2388"><span class="linenum">2388</span></a>      public function <a class="function" onClick="logFunction('exporttojson')" href="../_functions/exporttojson.html" onMouseOver="funcPopup(event,'exporttojson')">exporttojson</a>(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>=null, <a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>=&quot;\t&quot;) {
<a name="l2389"><span class="linenum">2389</span></a>          <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> = null;
<a name="l2390"><span class="linenum">2390</span></a>          <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a> = false;
<a name="l2391"><span class="linenum">2391</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>)) {
<a name="l2392"><span class="linenum">2392</span></a>              <a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('top_element')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/top_element.html">top_element</a>;
<a name="l2393"><span class="linenum">2393</span></a>              <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a> = true;
<a name="l2394"><span class="linenum">2394</span></a>          }
<a name="l2395"><span class="linenum">2395</span></a>  
<a name="l2396"><span class="linenum">2396</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> = '';
<a name="l2397"><span class="linenum">2397</span></a>  
<a name="l2398"><span class="linenum">2398</span></a>  
<a name="l2399"><span class="linenum">2399</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object']-&gt;table, 'grade_categories') !== false) {
<a name="l2400"><span class="linenum">2400</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> = <a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object']-&gt;fullname;
<a name="l2401"><span class="linenum">2401</span></a>              if (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> == '?') {
<a name="l2402"><span class="linenum">2402</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> = <a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object']-&gt;<a class="function" onClick="logFunction('get_name')" href="../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>();
<a name="l2403"><span class="linenum">2403</span></a>              }
<a name="l2404"><span class="linenum">2404</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object']-&gt;table, 'grade_items') !== false) {
<a name="l2405"><span class="linenum">2405</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> = <a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object']-&gt;itemname;
<a name="l2406"><span class="linenum">2406</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object']-&gt;table, 'grade_outcomes') !== false) {
<a name="l2407"><span class="linenum">2407</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> = <a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object']-&gt;itemname;
<a name="l2408"><span class="linenum">2408</span></a>          }
<a name="l2409"><span class="linenum">2409</span></a>  
<a name="l2410"><span class="linenum">2410</span></a>          <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> .= &quot;<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a> {\n&quot;;
<a name="l2411"><span class="linenum">2411</span></a>          <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> .= &quot;<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>\t \&quot;type\&quot;: \&quot;{<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['type']}\&quot;,\n&quot;;
<a name="l2412"><span class="linenum">2412</span></a>          <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> .= &quot;<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>\t \&quot;name\&quot;: \&quot;<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>\&quot;,\n&quot;;
<a name="l2413"><span class="linenum">2413</span></a>  
<a name="l2414"><span class="linenum">2414</span></a>          foreach (<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['object'] as <a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../_variables/var.html">$var</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l2415"><span class="linenum">2415</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_object')" href="../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) &amp;&amp; !<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) &amp;&amp; !empty(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>)) {
<a name="l2416"><span class="linenum">2416</span></a>                  <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> .= &quot;<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>\t \&quot;<a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../_variables/var.html">$var</a>\&quot;: \&quot;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>\&quot;,\n&quot;;
<a name="l2417"><span class="linenum">2417</span></a>              }
<a name="l2418"><span class="linenum">2418</span></a>          }
<a name="l2419"><span class="linenum">2419</span></a>  
<a name="l2420"><span class="linenum">2420</span></a>          <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a>, 0, <a class="phpfunction" onClick="logFunction('strrpos')" href="../_functions/strrpos.html" onMouseOver="phpfuncPopup(event,'strrpos')">strrpos</a>(<a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a>, ','));
<a name="l2421"><span class="linenum">2421</span></a>  
<a name="l2422"><span class="linenum">2422</span></a>          if (!empty(<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['children'])) {
<a name="l2423"><span class="linenum">2423</span></a>              <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> .= &quot;,\n<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>\t\&quot;children\&quot;: [\n&quot;;
<a name="l2424"><span class="linenum">2424</span></a>              foreach (<a class="var it2788" onMouseOver="hilite(2788)" onMouseOut="lolite()" onClick="logVariable('root')" href="../_variables/root.html">$root</a>['children'] as <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../_variables/sortorder.html">$sortorder</a> =&gt; <a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>) {
<a name="l2425"><span class="linenum">2425</span></a>                  <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('exportToJSON')" href="../_functions/exporttojson.html" onMouseOver="funcPopup(event,'exporttojson')">exportToJSON</a>(<a class="var it579" onMouseOver="hilite(579)" onMouseOut="lolite()" onClick="logVariable('child')" href="../_variables/child.html">$child</a>, <a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>.&quot;\t\t&quot;);
<a name="l2426"><span class="linenum">2426</span></a>              }
<a name="l2427"><span class="linenum">2427</span></a>              <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a>, 0, <a class="phpfunction" onClick="logFunction('strrpos')" href="../_functions/strrpos.html" onMouseOver="phpfuncPopup(event,'strrpos')">strrpos</a>(<a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a>, ','));
<a name="l2428"><span class="linenum">2428</span></a>              <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> .= &quot;\n<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>\t]\n&quot;;
<a name="l2429"><span class="linenum">2429</span></a>          }
<a name="l2430"><span class="linenum">2430</span></a>  
<a name="l2431"><span class="linenum">2431</span></a>          if (<a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a>) {
<a name="l2432"><span class="linenum">2432</span></a>              <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> .= &quot;\n}&quot;;
<a name="l2433"><span class="linenum">2433</span></a>          } else {
<a name="l2434"><span class="linenum">2434</span></a>              <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a> .= &quot;\n<a class="var it8048" onMouseOver="hilite(8048)" onMouseOut="lolite()" onClick="logVariable('tabs')" href="../_variables/tabs.html">$tabs</a>},\n&quot;;
<a name="l2435"><span class="linenum">2435</span></a>          }
<a name="l2436"><span class="linenum">2436</span></a>  
<a name="l2437"><span class="linenum">2437</span></a>          return <a class="var it3204" onMouseOver="hilite(3204)" onMouseOut="lolite()" onClick="logVariable('json')" href="../_variables/json.html">$json</a>;
<a name="l2438"><span class="linenum">2438</span></a>      }
<a name="l2439"><span class="linenum">2439</span></a>  
<a name="l2440"><span class="linenum">2440</span></a>      <span class="comment">/**</span>
<a name="l2441"><span class="linenum">2441</span></a>  <span class="comment">     * Returns the array of levels</span>
<a name="l2442"><span class="linenum">2442</span></a>  <span class="comment">     *</span>
<a name="l2443"><span class="linenum">2443</span></a>  <span class="comment">     * @return array</span>
<a name="l2444"><span class="linenum">2444</span></a>  <span class="comment">     */</span>
<a name="l2445"><span class="linenum">2445</span></a>      public function <a class="function" onClick="logFunction('get_levels')" href="../_functions/get_levels.html" onMouseOver="funcPopup(event,'get_levels')">get_levels</a>() {
<a name="l2446"><span class="linenum">2446</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('levels')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/levels.html">levels</a>;
<a name="l2447"><span class="linenum">2447</span></a>      }
<a name="l2448"><span class="linenum">2448</span></a>  
<a name="l2449"><span class="linenum">2449</span></a>      <span class="comment">/**</span>
<a name="l2450"><span class="linenum">2450</span></a>  <span class="comment">     * Returns the array of grade items</span>
<a name="l2451"><span class="linenum">2451</span></a>  <span class="comment">     *</span>
<a name="l2452"><span class="linenum">2452</span></a>  <span class="comment">     * @return array</span>
<a name="l2453"><span class="linenum">2453</span></a>  <span class="comment">     */</span>
<a name="l2454"><span class="linenum">2454</span></a>      public function <a class="function" onClick="logFunction('get_items')" href="../_functions/get_items.html" onMouseOver="funcPopup(event,'get_items')">get_items</a>() {
<a name="l2455"><span class="linenum">2455</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('items')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/items.html">items</a>;
<a name="l2456"><span class="linenum">2456</span></a>      }
<a name="l2457"><span class="linenum">2457</span></a>  
<a name="l2458"><span class="linenum">2458</span></a>      <span class="comment">/**</span>
<a name="l2459"><span class="linenum">2459</span></a>  <span class="comment">     * Returns a specific Grade Item</span>
<a name="l2460"><span class="linenum">2460</span></a>  <span class="comment">     *</span>
<a name="l2461"><span class="linenum">2461</span></a>  <span class="comment">     * @param int $itemid The ID of the grade_item object</span>
<a name="l2462"><span class="linenum">2462</span></a>  <span class="comment">     *</span>
<a name="l2463"><span class="linenum">2463</span></a>  <span class="comment">     * @return grade_item</span>
<a name="l2464"><span class="linenum">2464</span></a>  <span class="comment">     */</span>
<a name="l2465"><span class="linenum">2465</span></a>      public function <a class="function" onClick="logFunction('get_item')" href="../_functions/get_item.html" onMouseOver="funcPopup(event,'get_item')">get_item</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>) {
<a name="l2466"><span class="linenum">2466</span></a>          if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('items')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/items.html">items</a>)) {
<a name="l2467"><span class="linenum">2467</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('items')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/items.html">items</a>[<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>];
<a name="l2468"><span class="linenum">2468</span></a>          } else {
<a name="l2469"><span class="linenum">2469</span></a>              return false;
<a name="l2470"><span class="linenum">2470</span></a>          }
<a name="l2471"><span class="linenum">2471</span></a>      }
<a name="l2472"><span class="linenum">2472</span></a>  }
<a name="l2473"><span class="linenum">2473</span></a>  
<a name="l2474"><span class="linenum">2474</span></a>  <span class="comment">/**</span>
<a name="l2475"><span class="linenum">2475</span></a>  <span class="comment"> * Local shortcut function for creating an edit/delete button for a grade_* object.</span>
<a name="l2476"><span class="linenum">2476</span></a>  <span class="comment"> * @param string $type 'edit' or 'delete'</span>
<a name="l2477"><span class="linenum">2477</span></a>  <span class="comment"> * @param int $courseid The Course ID</span>
<a name="l2478"><span class="linenum">2478</span></a>  <span class="comment"> * @param grade_* $object The grade_* object</span>
<a name="l2479"><span class="linenum">2479</span></a>  <span class="comment"> * @return string html</span>
<a name="l2480"><span class="linenum">2480</span></a>  <span class="comment"> */</span>
<a name="l2481"><span class="linenum">2481</span></a>  function <a class="function" onClick="logFunction('grade_button')" href="../_functions/grade_button.html" onMouseOver="funcPopup(event,'grade_button')">grade_button</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>) {
<a name="l2482"><span class="linenum">2482</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l2483"><span class="linenum">2483</span></a>      if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/grade_(.*)/', <a class="phpfunction" onClick="logFunction('get_class')" href="../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>), <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>)) {
<a name="l2484"><span class="linenum">2484</span></a>          <a class="var it30143" onMouseOver="hilite(30143)" onMouseOut="lolite()" onClick="logVariable('objectidstring')" href="../_variables/objectidstring.html">$objectidstring</a> = <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[1] . 'id';
<a name="l2485"><span class="linenum">2485</span></a>      } else {
<a name="l2486"><span class="linenum">2486</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('grade_button')" href="../_functions/grade_button.html" onMouseOver="funcPopup(event,'grade_button')">grade_button</a>() only accepts grade_* objects as third parameter!');
<a name="l2487"><span class="linenum">2487</span></a>      }
<a name="l2488"><span class="linenum">2488</span></a>  
<a name="l2489"><span class="linenum">2489</span></a>      <a class="var it4923" onMouseOver="hilite(4923)" onMouseOut="lolite()" onClick="logVariable('strdelete')" href="../_variables/strdelete.html">$strdelete</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('delete');
<a name="l2490"><span class="linenum">2490</span></a>      <a class="var it11285" onMouseOver="hilite(11285)" onMouseOut="lolite()" onClick="logVariable('stredit')" href="../_variables/stredit.html">$stredit</a>   = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('edit');
<a name="l2491"><span class="linenum">2491</span></a>  
<a name="l2492"><span class="linenum">2492</span></a>      if (<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> == 'delete') {
<a name="l2493"><span class="linenum">2493</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../index.php.html">index.php</a>', array('id' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it30143" onMouseOver="hilite(30143)" onMouseOut="lolite()" onClick="logVariable('objectidstring')" href="../_variables/objectidstring.html">$objectidstring</a> =&gt; <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('id')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'action' =&gt; 'delete', 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l2494"><span class="linenum">2494</span></a>      } else if (<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> == 'edit') {
<a name="l2495"><span class="linenum">2495</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('edit.php', array('courseid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, 'id' =&gt; <a class="var it3210" onMouseOver="hilite(3210)" onMouseOut="lolite()" onClick="logVariable('object')" href="../_variables/object.html">$object</a>-&gt;<a onClick="logVariable('id')" class="var it39578" onMouseOver="hilite(39578)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l2496"><span class="linenum">2496</span></a>      }
<a name="l2497"><span class="linenum">2497</span></a>  
<a name="l2498"><span class="linenum">2498</span></a>      return <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('action_icon')" href="../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('t/'.<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>, ${'str'.<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>}, '', array('class' =&gt; 'iconsmall')));
<a name="l2499"><span class="linenum">2499</span></a>  
<a name="l2500"><span class="linenum">2500</span></a>  }
<a name="l2501"><span class="linenum">2501</span></a>  
<a name="l2502"><span class="linenum">2502</span></a>  <span class="comment">/**</span>
<a name="l2503"><span class="linenum">2503</span></a>  <span class="comment"> * This method adds settings to the settings block for the grade system and its</span>
<a name="l2504"><span class="linenum">2504</span></a>  <span class="comment"> * plugins</span>
<a name="l2505"><span class="linenum">2505</span></a>  <span class="comment"> *</span>
<a name="l2506"><span class="linenum">2506</span></a>  <span class="comment"> * @global moodle_page $PAGE</span>
<a name="l2507"><span class="linenum">2507</span></a>  <span class="comment"> */</span>
<a name="l2508"><span class="linenum">2508</span></a>  function <a class="function" onClick="logFunction('grade_extend_settings')" href="../_functions/grade_extend_settings.html" onMouseOver="funcPopup(event,'grade_extend_settings')">grade_extend_settings</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('plugininfo')" href="../_variables/plugininfo.html">$plugininfo</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l2509"><span class="linenum">2509</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l2510"><span class="linenum">2510</span></a>  
<a name="l2511"><span class="linenum">2511</span></a>      <a class="var it30144" onMouseOver="hilite(30144)" onMouseOut="lolite()" onClick="logVariable('gradenode')" href="../_variables/gradenode.html">$gradenode</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('settingsnav')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/settingsnav.html">settingsnav</a>-&gt;<a class="function" onClick="logFunction('prepend')" href="../_functions/prepend.html" onMouseOver="funcPopup(event,'prepend')">prepend</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradeadministration', 'grades'), null, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_CONTAINER);
<a name="l2512"><span class="linenum">2512</span></a>  
<a name="l2513"><span class="linenum">2513</span></a>      <a class="var it7268" onMouseOver="hilite(7268)" onMouseOut="lolite()" onClick="logVariable('strings')" href="../_variables/strings.html">$strings</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('plugininfo')" href="../_variables/plugininfo.html">$plugininfo</a>);
<a name="l2514"><span class="linenum">2514</span></a>  
<a name="l2515"><span class="linenum">2515</span></a>      if (<a class="var it1891" onMouseOver="hilite(1891)" onMouseOut="lolite()" onClick="logVariable('reports')" href="../_variables/reports.html">$reports</a> = grade_helper::<a class="function" onClick="logFunction('get_plugins_reports')" href="../_functions/get_plugins_reports.html" onMouseOver="funcPopup(event,'get_plugins_reports')">get_plugins_reports</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l2516"><span class="linenum">2516</span></a>          foreach (<a class="var it1891" onMouseOver="hilite(1891)" onMouseOut="lolite()" onClick="logVariable('reports')" href="../_variables/reports.html">$reports</a> as <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../_variables/report.html">$report</a>) {
<a name="l2517"><span class="linenum">2517</span></a>              <a class="var it30144" onMouseOver="hilite(30144)" onMouseOut="lolite()" onClick="logVariable('gradenode')" href="../_variables/gradenode.html">$gradenode</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../_variables/report.html">$report</a>-&gt;<a onClick="logVariable('string')" class="var it39540" onMouseOver="hilite(39540)" onMouseOut="lolite()" href="../_variables/string.html">string</a>, <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../_variables/report.html">$report</a>-&gt;<a onClick="logVariable('link')" class="var it39540" onMouseOver="hilite(39540)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING, null, <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../_variables/report.html">$report</a>-&gt;<a onClick="logVariable('id')" class="var it39540" onMouseOver="hilite(39540)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('i/report', ''));
<a name="l2518"><span class="linenum">2518</span></a>          }
<a name="l2519"><span class="linenum">2519</span></a>      }
<a name="l2520"><span class="linenum">2520</span></a>  
<a name="l2521"><span class="linenum">2521</span></a>      if (<a class="var it16" onMouseOver="hilite(16)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../_variables/settings.html">$settings</a> = grade_helper::<a class="function" onClick="logFunction('get_info_manage_settings')" href="../_functions/get_info_manage_settings.html" onMouseOver="funcPopup(event,'get_info_manage_settings')">get_info_manage_settings</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l2522"><span class="linenum">2522</span></a>          <a class="var it23035" onMouseOver="hilite(23035)" onMouseOut="lolite()" onClick="logVariable('settingsnode')" href="../_variables/settingsnode.html">$settingsnode</a> = <a class="var it30144" onMouseOver="hilite(30144)" onMouseOut="lolite()" onClick="logVariable('gradenode')" href="../_variables/gradenode.html">$gradenode</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it7268" onMouseOver="hilite(7268)" onMouseOut="lolite()" onClick="logVariable('strings')" href="../_variables/strings.html">$strings</a>['settings'], null, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_CONTAINER);
<a name="l2523"><span class="linenum">2523</span></a>          foreach (<a class="var it16" onMouseOver="hilite(16)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../_variables/settings.html">$settings</a> as <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('setting')" href="../_variables/setting.html">$setting</a>) {
<a name="l2524"><span class="linenum">2524</span></a>              <a class="var it23035" onMouseOver="hilite(23035)" onMouseOut="lolite()" onClick="logVariable('settingsnode')" href="../_variables/settingsnode.html">$settingsnode</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('setting')" href="../_variables/setting.html">$setting</a>-&gt;<a onClick="logVariable('string')" class="var it39684" onMouseOver="hilite(39684)" onMouseOut="lolite()" href="../_variables/string.html">string</a>, <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('setting')" href="../_variables/setting.html">$setting</a>-&gt;<a onClick="logVariable('link')" class="var it39684" onMouseOver="hilite(39684)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING, null, <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('setting')" href="../_variables/setting.html">$setting</a>-&gt;<a onClick="logVariable('id')" class="var it39684" onMouseOver="hilite(39684)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('i/settings', ''));
<a name="l2525"><span class="linenum">2525</span></a>          }
<a name="l2526"><span class="linenum">2526</span></a>      }
<a name="l2527"><span class="linenum">2527</span></a>  
<a name="l2528"><span class="linenum">2528</span></a>      if (<a class="var it5099" onMouseOver="hilite(5099)" onMouseOut="lolite()" onClick="logVariable('imports')" href="../_variables/imports.html">$imports</a> = grade_helper::<a class="function" onClick="logFunction('get_plugins_import')" href="../_functions/get_plugins_import.html" onMouseOver="funcPopup(event,'get_plugins_import')">get_plugins_import</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l2529"><span class="linenum">2529</span></a>          <a class="var it30145" onMouseOver="hilite(30145)" onMouseOut="lolite()" onClick="logVariable('importnode')" href="../_variables/importnode.html">$importnode</a> = <a class="var it30144" onMouseOver="hilite(30144)" onMouseOut="lolite()" onClick="logVariable('gradenode')" href="../_variables/gradenode.html">$gradenode</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it7268" onMouseOver="hilite(7268)" onMouseOut="lolite()" onClick="logVariable('strings')" href="../_variables/strings.html">$strings</a>['import'], null, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_CONTAINER);
<a name="l2530"><span class="linenum">2530</span></a>          foreach (<a class="var it5099" onMouseOver="hilite(5099)" onMouseOut="lolite()" onClick="logVariable('imports')" href="../_variables/imports.html">$imports</a> as <a class="var it30146" onMouseOver="hilite(30146)" onMouseOut="lolite()" onClick="logVariable('import')" href="../_variables/import.html">$import</a>) {
<a name="l2531"><span class="linenum">2531</span></a>              <a class="var it30145" onMouseOver="hilite(30145)" onMouseOut="lolite()" onClick="logVariable('importnode')" href="../_variables/importnode.html">$importnode</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it30146" onMouseOver="hilite(30146)" onMouseOut="lolite()" onClick="logVariable('import')" href="../_variables/import.html">$import</a>-&gt;<a onClick="logVariable('string')" class="var it41536" onMouseOver="hilite(41536)" onMouseOut="lolite()" href="../_variables/string.html">string</a>, <a class="var it30146" onMouseOver="hilite(30146)" onMouseOut="lolite()" onClick="logVariable('import')" href="../_variables/import.html">$import</a>-&gt;<a onClick="logVariable('link')" class="var it41536" onMouseOver="hilite(41536)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING, null, <a class="var it30146" onMouseOver="hilite(30146)" onMouseOut="lolite()" onClick="logVariable('import')" href="../_variables/import.html">$import</a>-&gt;<a onClick="logVariable('id')" class="var it41536" onMouseOver="hilite(41536)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('i/import', ''));
<a name="l2532"><span class="linenum">2532</span></a>          }
<a name="l2533"><span class="linenum">2533</span></a>      }
<a name="l2534"><span class="linenum">2534</span></a>  
<a name="l2535"><span class="linenum">2535</span></a>      if (<a class="var it30095" onMouseOver="hilite(30095)" onMouseOut="lolite()" onClick="logVariable('exports')" href="../_variables/exports.html">$exports</a> = grade_helper::<a class="function" onClick="logFunction('get_plugins_export')" href="../_functions/get_plugins_export.html" onMouseOver="funcPopup(event,'get_plugins_export')">get_plugins_export</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l2536"><span class="linenum">2536</span></a>          <a class="var it30147" onMouseOver="hilite(30147)" onMouseOut="lolite()" onClick="logVariable('exportnode')" href="../_variables/exportnode.html">$exportnode</a> = <a class="var it30144" onMouseOver="hilite(30144)" onMouseOut="lolite()" onClick="logVariable('gradenode')" href="../_variables/gradenode.html">$gradenode</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it7268" onMouseOver="hilite(7268)" onMouseOut="lolite()" onClick="logVariable('strings')" href="../_variables/strings.html">$strings</a>['export'], null, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_CONTAINER);
<a name="l2537"><span class="linenum">2537</span></a>          foreach (<a class="var it30095" onMouseOver="hilite(30095)" onMouseOut="lolite()" onClick="logVariable('exports')" href="../_variables/exports.html">$exports</a> as <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('export')" href="../_variables/export.html">$export</a>) {
<a name="l2538"><span class="linenum">2538</span></a>              <a class="var it30147" onMouseOver="hilite(30147)" onMouseOut="lolite()" onClick="logVariable('exportnode')" href="../_variables/exportnode.html">$exportnode</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('export')" href="../_variables/export.html">$export</a>-&gt;<a onClick="logVariable('string')" class="var it41537" onMouseOver="hilite(41537)" onMouseOut="lolite()" href="../_variables/string.html">string</a>, <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('export')" href="../_variables/export.html">$export</a>-&gt;<a onClick="logVariable('link')" class="var it41537" onMouseOver="hilite(41537)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING, null, <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('export')" href="../_variables/export.html">$export</a>-&gt;<a onClick="logVariable('id')" class="var it41537" onMouseOver="hilite(41537)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('i/export', ''));
<a name="l2539"><span class="linenum">2539</span></a>          }
<a name="l2540"><span class="linenum">2540</span></a>      }
<a name="l2541"><span class="linenum">2541</span></a>  
<a name="l2542"><span class="linenum">2542</span></a>      if (<a class="var it3696" onMouseOver="hilite(3696)" onMouseOut="lolite()" onClick="logVariable('letters')" href="../_variables/letters.html">$letters</a> = grade_helper::<a class="function" onClick="logFunction('get_info_letters')" href="../_functions/get_info_letters.html" onMouseOver="funcPopup(event,'get_info_letters')">get_info_letters</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l2543"><span class="linenum">2543</span></a>          <a class="var it3696" onMouseOver="hilite(3696)" onMouseOut="lolite()" onClick="logVariable('letters')" href="../_variables/letters.html">$letters</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it3696" onMouseOver="hilite(3696)" onMouseOut="lolite()" onClick="logVariable('letters')" href="../_variables/letters.html">$letters</a>);
<a name="l2544"><span class="linenum">2544</span></a>          <a class="var it30144" onMouseOver="hilite(30144)" onMouseOut="lolite()" onClick="logVariable('gradenode')" href="../_variables/gradenode.html">$gradenode</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it7268" onMouseOver="hilite(7268)" onMouseOut="lolite()" onClick="logVariable('strings')" href="../_variables/strings.html">$strings</a>['letter'], <a class="var it3696" onMouseOver="hilite(3696)" onMouseOut="lolite()" onClick="logVariable('letters')" href="../_variables/letters.html">$letters</a>-&gt;<a onClick="logVariable('link')" class="var it41538" onMouseOver="hilite(41538)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING, null, <a class="var it3696" onMouseOver="hilite(3696)" onMouseOut="lolite()" onClick="logVariable('letters')" href="../_variables/letters.html">$letters</a>-&gt;<a onClick="logVariable('id')" class="var it41538" onMouseOver="hilite(41538)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('i/settings', ''));
<a name="l2545"><span class="linenum">2545</span></a>      }
<a name="l2546"><span class="linenum">2546</span></a>  
<a name="l2547"><span class="linenum">2547</span></a>      if (<a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a> = grade_helper::<a class="function" onClick="logFunction('get_info_outcomes')" href="../_functions/get_info_outcomes.html" onMouseOver="funcPopup(event,'get_info_outcomes')">get_info_outcomes</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l2548"><span class="linenum">2548</span></a>          <a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a>);
<a name="l2549"><span class="linenum">2549</span></a>          <a class="var it30144" onMouseOver="hilite(30144)" onMouseOut="lolite()" onClick="logVariable('gradenode')" href="../_variables/gradenode.html">$gradenode</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it7268" onMouseOver="hilite(7268)" onMouseOut="lolite()" onClick="logVariable('strings')" href="../_variables/strings.html">$strings</a>['outcome'], <a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a>-&gt;<a onClick="logVariable('link')" class="var it41539" onMouseOver="hilite(41539)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING, null, <a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a>-&gt;<a onClick="logVariable('id')" class="var it41539" onMouseOver="hilite(41539)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('i/outcomes', ''));
<a name="l2550"><span class="linenum">2550</span></a>      }
<a name="l2551"><span class="linenum">2551</span></a>  
<a name="l2552"><span class="linenum">2552</span></a>      if (<a class="var it3693" onMouseOver="hilite(3693)" onMouseOut="lolite()" onClick="logVariable('scales')" href="../_variables/scales.html">$scales</a> = grade_helper::<a class="function" onClick="logFunction('get_info_scales')" href="../_functions/get_info_scales.html" onMouseOver="funcPopup(event,'get_info_scales')">get_info_scales</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l2553"><span class="linenum">2553</span></a>          <a class="var it30144" onMouseOver="hilite(30144)" onMouseOut="lolite()" onClick="logVariable('gradenode')" href="../_variables/gradenode.html">$gradenode</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it7268" onMouseOver="hilite(7268)" onMouseOut="lolite()" onClick="logVariable('strings')" href="../_variables/strings.html">$strings</a>['scale'], <a class="var it3693" onMouseOver="hilite(3693)" onMouseOut="lolite()" onClick="logVariable('scales')" href="../_variables/scales.html">$scales</a>-&gt;<a onClick="logVariable('link')" class="var it41540" onMouseOver="hilite(41540)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING, null, <a class="var it3693" onMouseOver="hilite(3693)" onMouseOut="lolite()" onClick="logVariable('scales')" href="../_variables/scales.html">$scales</a>-&gt;<a onClick="logVariable('id')" class="var it41540" onMouseOver="hilite(41540)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <span class="keyword">new </span><a class="class" onClick="logClass('pix_icon')" href="../_classes/pix_icon.html" onMouseOver="classPopup(event,'pix_icon')">pix_icon</a>('i/scales', ''));
<a name="l2554"><span class="linenum">2554</span></a>      }
<a name="l2555"><span class="linenum">2555</span></a>  
<a name="l2556"><span class="linenum">2556</span></a>      if (<a class="var it30144" onMouseOver="hilite(30144)" onMouseOut="lolite()" onClick="logVariable('gradenode')" href="../_variables/gradenode.html">$gradenode</a>-&gt;<a class="function" onClick="logFunction('contains_active_node')" href="../_functions/contains_active_node.html" onMouseOver="funcPopup(event,'contains_active_node')">contains_active_node</a>()) {
<a name="l2557"><span class="linenum">2557</span></a>  <span class="comment">        // If the gradenode is active include the settings base node (gradeadministration) in</span>
<a name="l2558"><span class="linenum">2558</span></a>  <span class="comment">        // the navbar, typcially this is ignored.</span>
<a name="l2559"><span class="linenum">2559</span></a>          <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;includesettingsbase = true;
<a name="l2560"><span class="linenum">2560</span></a>  
<a name="l2561"><span class="linenum">2561</span></a>  <span class="comment">        // If we can get the course admin node make sure it is closed by default</span>
<a name="l2562"><span class="linenum">2562</span></a>  <span class="comment">        // as in this case the gradenode will be opened</span>
<a name="l2563"><span class="linenum">2563</span></a>          if (<a class="var it7269" onMouseOver="hilite(7269)" onMouseOut="lolite()" onClick="logVariable('coursenode')" href="../_variables/coursenode.html">$coursenode</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('settingsnav')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/settingsnav.html">settingsnav</a>-&gt;<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('courseadmin', <a class="class" onClick="logClass('navigation_node')" href="../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_COURSE)){
<a name="l2564"><span class="linenum">2564</span></a>              <a class="var it7269" onMouseOver="hilite(7269)" onMouseOut="lolite()" onClick="logVariable('coursenode')" href="../_variables/coursenode.html">$coursenode</a>-&gt;<a class="function" onClick="logFunction('make_inactive')" href="../_functions/make_inactive.html" onMouseOver="funcPopup(event,'make_inactive')">make_inactive</a>();
<a name="l2565"><span class="linenum">2565</span></a>              <a class="var it7269" onMouseOver="hilite(7269)" onMouseOut="lolite()" onClick="logVariable('coursenode')" href="../_variables/coursenode.html">$coursenode</a>-&gt;<a onClick="logVariable('forceopen')" class="var it41084" onMouseOver="hilite(41084)" onMouseOut="lolite()" href="../_variables/forceopen.html">forceopen</a> = false;
<a name="l2566"><span class="linenum">2566</span></a>          }
<a name="l2567"><span class="linenum">2567</span></a>      }
<a name="l2568"><span class="linenum">2568</span></a>  }
<a name="l2569"><span class="linenum">2569</span></a>  
<a name="l2570"><span class="linenum">2570</span></a>  <span class="comment">/**</span>
<a name="l2571"><span class="linenum">2571</span></a>  <span class="comment"> * Grade helper class</span>
<a name="l2572"><span class="linenum">2572</span></a>  <span class="comment"> *</span>
<a name="l2573"><span class="linenum">2573</span></a>  <span class="comment"> * This class provides several helpful functions that work irrespective of any</span>
<a name="l2574"><span class="linenum">2574</span></a>  <span class="comment"> * current state.</span>
<a name="l2575"><span class="linenum">2575</span></a>  <span class="comment"> *</span>
<a name="l2576"><span class="linenum">2576</span></a>  <span class="comment"> * @copyright 2010 Sam Hemelryk</span>
<a name="l2577"><span class="linenum">2577</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l2578"><span class="linenum">2578</span></a>  <span class="comment"> */</span>
<a name="l2579"><span class="linenum">2579</span></a>  abstract class grade_helper {
<a name="l2580"><span class="linenum">2580</span></a>      <span class="comment">/**</span>
<a name="l2581"><span class="linenum">2581</span></a>  <span class="comment">     * Cached manage settings info {@see get_info_settings}</span>
<a name="l2582"><span class="linenum">2582</span></a>  <span class="comment">     * @var grade_plugin_info|false</span>
<a name="l2583"><span class="linenum">2583</span></a>  <span class="comment">     */</span>
<a name="l2584"><span class="linenum">2584</span></a>      protected static <a class="var it30148" onMouseOver="hilite(30148)" onMouseOut="lolite()" onClick="logVariable('managesetting')" href="../_variables/managesetting.html">$managesetting</a> = null;
<a name="l2585"><span class="linenum">2585</span></a>      <span class="comment">/**</span>
<a name="l2586"><span class="linenum">2586</span></a>  <span class="comment">     * Cached grade report plugins {@see get_plugins_reports}</span>
<a name="l2587"><span class="linenum">2587</span></a>  <span class="comment">     * @var array|false</span>
<a name="l2588"><span class="linenum">2588</span></a>  <span class="comment">     */</span>
<a name="l2589"><span class="linenum">2589</span></a>      protected static <a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a> = null;
<a name="l2590"><span class="linenum">2590</span></a>      <span class="comment">/**</span>
<a name="l2591"><span class="linenum">2591</span></a>  <span class="comment">     * Cached grade report plugins preferences {@see get_info_scales}</span>
<a name="l2592"><span class="linenum">2592</span></a>  <span class="comment">     * @var array|false</span>
<a name="l2593"><span class="linenum">2593</span></a>  <span class="comment">     */</span>
<a name="l2594"><span class="linenum">2594</span></a>      protected static <a class="var it30150" onMouseOver="hilite(30150)" onMouseOut="lolite()" onClick="logVariable('gradereportpreferences')" href="../_variables/gradereportpreferences.html">$gradereportpreferences</a> = null;
<a name="l2595"><span class="linenum">2595</span></a>      <span class="comment">/**</span>
<a name="l2596"><span class="linenum">2596</span></a>  <span class="comment">     * Cached scale info {@see get_info_scales}</span>
<a name="l2597"><span class="linenum">2597</span></a>  <span class="comment">     * @var grade_plugin_info|false</span>
<a name="l2598"><span class="linenum">2598</span></a>  <span class="comment">     */</span>
<a name="l2599"><span class="linenum">2599</span></a>      protected static <a class="var it30151" onMouseOver="hilite(30151)" onMouseOut="lolite()" onClick="logVariable('scaleinfo')" href="../_variables/scaleinfo.html">$scaleinfo</a> = null;
<a name="l2600"><span class="linenum">2600</span></a>      <span class="comment">/**</span>
<a name="l2601"><span class="linenum">2601</span></a>  <span class="comment">     * Cached outcome info {@see get_info_outcomes}</span>
<a name="l2602"><span class="linenum">2602</span></a>  <span class="comment">     * @var grade_plugin_info|false</span>
<a name="l2603"><span class="linenum">2603</span></a>  <span class="comment">     */</span>
<a name="l2604"><span class="linenum">2604</span></a>      protected static <a class="var it30152" onMouseOver="hilite(30152)" onMouseOut="lolite()" onClick="logVariable('outcomeinfo')" href="../_variables/outcomeinfo.html">$outcomeinfo</a> = null;
<a name="l2605"><span class="linenum">2605</span></a>      <span class="comment">/**</span>
<a name="l2606"><span class="linenum">2606</span></a>  <span class="comment">     * Cached leftter info {@see get_info_letters}</span>
<a name="l2607"><span class="linenum">2607</span></a>  <span class="comment">     * @var grade_plugin_info|false</span>
<a name="l2608"><span class="linenum">2608</span></a>  <span class="comment">     */</span>
<a name="l2609"><span class="linenum">2609</span></a>      protected static <a class="var it30153" onMouseOver="hilite(30153)" onMouseOut="lolite()" onClick="logVariable('letterinfo')" href="../_variables/letterinfo.html">$letterinfo</a> = null;
<a name="l2610"><span class="linenum">2610</span></a>      <span class="comment">/**</span>
<a name="l2611"><span class="linenum">2611</span></a>  <span class="comment">     * Cached grade import plugins {@see get_plugins_import}</span>
<a name="l2612"><span class="linenum">2612</span></a>  <span class="comment">     * @var array|false</span>
<a name="l2613"><span class="linenum">2613</span></a>  <span class="comment">     */</span>
<a name="l2614"><span class="linenum">2614</span></a>      protected static <a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a> = null;
<a name="l2615"><span class="linenum">2615</span></a>      <span class="comment">/**</span>
<a name="l2616"><span class="linenum">2616</span></a>  <span class="comment">     * Cached grade export plugins {@see get_plugins_export}</span>
<a name="l2617"><span class="linenum">2617</span></a>  <span class="comment">     * @var array|false</span>
<a name="l2618"><span class="linenum">2618</span></a>  <span class="comment">     */</span>
<a name="l2619"><span class="linenum">2619</span></a>      protected static <a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a> = null;
<a name="l2620"><span class="linenum">2620</span></a>      <span class="comment">/**</span>
<a name="l2621"><span class="linenum">2621</span></a>  <span class="comment">     * Cached grade plugin strings</span>
<a name="l2622"><span class="linenum">2622</span></a>  <span class="comment">     * @var array</span>
<a name="l2623"><span class="linenum">2623</span></a>  <span class="comment">     */</span>
<a name="l2624"><span class="linenum">2624</span></a>      protected static <a class="var it30156" onMouseOver="hilite(30156)" onMouseOut="lolite()" onClick="logVariable('pluginstrings')" href="../_variables/pluginstrings.html">$pluginstrings</a> = null;
<a name="l2625"><span class="linenum">2625</span></a>      <span class="comment">/**</span>
<a name="l2626"><span class="linenum">2626</span></a>  <span class="comment">     * Cached grade aggregation strings</span>
<a name="l2627"><span class="linenum">2627</span></a>  <span class="comment">     * @var array</span>
<a name="l2628"><span class="linenum">2628</span></a>  <span class="comment">     */</span>
<a name="l2629"><span class="linenum">2629</span></a>      protected static <a class="var it30157" onMouseOver="hilite(30157)" onMouseOut="lolite()" onClick="logVariable('aggregationstrings')" href="../_variables/aggregationstrings.html">$aggregationstrings</a> = null;
<a name="l2630"><span class="linenum">2630</span></a>  
<a name="l2631"><span class="linenum">2631</span></a>      <span class="comment">/**</span>
<a name="l2632"><span class="linenum">2632</span></a>  <span class="comment">     * Gets strings commonly used by the describe plugins</span>
<a name="l2633"><span class="linenum">2633</span></a>  <span class="comment">     *</span>
<a name="l2634"><span class="linenum">2634</span></a>  <span class="comment">     * report =&gt; get_string('view'),</span>
<a name="l2635"><span class="linenum">2635</span></a>  <span class="comment">     * scale =&gt; get_string('scales'),</span>
<a name="l2636"><span class="linenum">2636</span></a>  <span class="comment">     * outcome =&gt; get_string('outcomes', 'grades'),</span>
<a name="l2637"><span class="linenum">2637</span></a>  <span class="comment">     * letter =&gt; get_string('letters', 'grades'),</span>
<a name="l2638"><span class="linenum">2638</span></a>  <span class="comment">     * export =&gt; get_string('export', 'grades'),</span>
<a name="l2639"><span class="linenum">2639</span></a>  <span class="comment">     * import =&gt; get_string('import'),</span>
<a name="l2640"><span class="linenum">2640</span></a>  <span class="comment">     * settings =&gt; get_string('settings')</span>
<a name="l2641"><span class="linenum">2641</span></a>  <span class="comment">     *</span>
<a name="l2642"><span class="linenum">2642</span></a>  <span class="comment">     * @return array</span>
<a name="l2643"><span class="linenum">2643</span></a>  <span class="comment">     */</span>
<a name="l2644"><span class="linenum">2644</span></a>      public static function <a class="function" onClick="logFunction('get_plugin_strings')" href="../_functions/get_plugin_strings.html" onMouseOver="funcPopup(event,'get_plugin_strings')">get_plugin_strings</a>() {
<a name="l2645"><span class="linenum">2645</span></a>          if (self::<a class="var it30156" onMouseOver="hilite(30156)" onMouseOut="lolite()" onClick="logVariable('pluginstrings')" href="../_variables/pluginstrings.html">$pluginstrings</a> === null) {
<a name="l2646"><span class="linenum">2646</span></a>              self::<a class="var it30156" onMouseOver="hilite(30156)" onMouseOut="lolite()" onClick="logVariable('pluginstrings')" href="../_variables/pluginstrings.html">$pluginstrings</a> = array(
<a name="l2647"><span class="linenum">2647</span></a>                  'report' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('view'),
<a name="l2648"><span class="linenum">2648</span></a>                  'scale' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('scales'),
<a name="l2649"><span class="linenum">2649</span></a>                  'outcome' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('outcomes', 'grades'),
<a name="l2650"><span class="linenum">2650</span></a>                  'letter' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('letters', 'grades'),
<a name="l2651"><span class="linenum">2651</span></a>                  'export' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('export', 'grades'),
<a name="l2652"><span class="linenum">2652</span></a>                  'import' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('import'),
<a name="l2653"><span class="linenum">2653</span></a>                  'settings' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('edittree', 'grades')
<a name="l2654"><span class="linenum">2654</span></a>              );
<a name="l2655"><span class="linenum">2655</span></a>          }
<a name="l2656"><span class="linenum">2656</span></a>          return self::<a class="var it30156" onMouseOver="hilite(30156)" onMouseOut="lolite()" onClick="logVariable('pluginstrings')" href="../_variables/pluginstrings.html">$pluginstrings</a>;
<a name="l2657"><span class="linenum">2657</span></a>      }
<a name="l2658"><span class="linenum">2658</span></a>  
<a name="l2659"><span class="linenum">2659</span></a>      <span class="comment">/**</span>
<a name="l2660"><span class="linenum">2660</span></a>  <span class="comment">     * Gets strings describing the available aggregation methods.</span>
<a name="l2661"><span class="linenum">2661</span></a>  <span class="comment">     *</span>
<a name="l2662"><span class="linenum">2662</span></a>  <span class="comment">     * @return array</span>
<a name="l2663"><span class="linenum">2663</span></a>  <span class="comment">     */</span>
<a name="l2664"><span class="linenum">2664</span></a>      public static function <a class="function" onClick="logFunction('get_aggregation_strings')" href="../_functions/get_aggregation_strings.html" onMouseOver="funcPopup(event,'get_aggregation_strings')">get_aggregation_strings</a>() {
<a name="l2665"><span class="linenum">2665</span></a>          if (self::<a class="var it30157" onMouseOver="hilite(30157)" onMouseOut="lolite()" onClick="logVariable('aggregationstrings')" href="../_variables/aggregationstrings.html">$aggregationstrings</a> === null) {
<a name="l2666"><span class="linenum">2666</span></a>              self::<a class="var it30157" onMouseOver="hilite(30157)" onMouseOut="lolite()" onClick="logVariable('aggregationstrings')" href="../_variables/aggregationstrings.html">$aggregationstrings</a> = array(
<a name="l2667"><span class="linenum">2667</span></a>                  <a class="constant" onClick="logConstant('GRADE_AGGREGATE_MEAN')" href="../_constants/GRADE_AGGREGATE_MEAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_MEAN')">GRADE_AGGREGATE_MEAN</a>             =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('aggregatemean', 'grades'),
<a name="l2668"><span class="linenum">2668</span></a>                  <a class="constant" onClick="logConstant('GRADE_AGGREGATE_WEIGHTED_MEAN')" href="../_constants/GRADE_AGGREGATE_WEIGHTED_MEAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_WEIGHTED_MEAN')">GRADE_AGGREGATE_WEIGHTED_MEAN</a>    =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('aggregateweightedmean', 'grades'),
<a name="l2669"><span class="linenum">2669</span></a>                  <a class="constant" onClick="logConstant('GRADE_AGGREGATE_WEIGHTED_MEAN2')" href="../_constants/GRADE_AGGREGATE_WEIGHTED_MEAN2.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_WEIGHTED_MEAN2')">GRADE_AGGREGATE_WEIGHTED_MEAN2</a>   =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('aggregateweightedmean2', 'grades'),
<a name="l2670"><span class="linenum">2670</span></a>                  <a class="constant" onClick="logConstant('GRADE_AGGREGATE_EXTRACREDIT_MEAN')" href="../_constants/GRADE_AGGREGATE_EXTRACREDIT_MEAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_EXTRACREDIT_MEAN')">GRADE_AGGREGATE_EXTRACREDIT_MEAN</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('aggregateextracreditmean', 'grades'),
<a name="l2671"><span class="linenum">2671</span></a>                  <a class="constant" onClick="logConstant('GRADE_AGGREGATE_MEDIAN')" href="../_constants/GRADE_AGGREGATE_MEDIAN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_MEDIAN')">GRADE_AGGREGATE_MEDIAN</a>           =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('aggregatemedian', 'grades'),
<a name="l2672"><span class="linenum">2672</span></a>                  <a class="constant" onClick="logConstant('GRADE_AGGREGATE_MIN')" href="../_constants/GRADE_AGGREGATE_MIN.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_MIN')">GRADE_AGGREGATE_MIN</a>              =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('aggregatemin', 'grades'),
<a name="l2673"><span class="linenum">2673</span></a>                  <a class="constant" onClick="logConstant('GRADE_AGGREGATE_MAX')" href="../_constants/GRADE_AGGREGATE_MAX.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_MAX')">GRADE_AGGREGATE_MAX</a>              =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('aggregatemax', 'grades'),
<a name="l2674"><span class="linenum">2674</span></a>                  <a class="constant" onClick="logConstant('GRADE_AGGREGATE_MODE')" href="../_constants/GRADE_AGGREGATE_MODE.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_MODE')">GRADE_AGGREGATE_MODE</a>             =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('aggregatemode', 'grades'),
<a name="l2675"><span class="linenum">2675</span></a>                  <a class="constant" onClick="logConstant('GRADE_AGGREGATE_SUM')" href="../_constants/GRADE_AGGREGATE_SUM.html" onMouseOver="constPopup(event,'GRADE_AGGREGATE_SUM')">GRADE_AGGREGATE_SUM</a>              =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('aggregatesum', 'grades')
<a name="l2676"><span class="linenum">2676</span></a>              );
<a name="l2677"><span class="linenum">2677</span></a>          }
<a name="l2678"><span class="linenum">2678</span></a>          return self::<a class="var it30157" onMouseOver="hilite(30157)" onMouseOut="lolite()" onClick="logVariable('aggregationstrings')" href="../_variables/aggregationstrings.html">$aggregationstrings</a>;
<a name="l2679"><span class="linenum">2679</span></a>      }
<a name="l2680"><span class="linenum">2680</span></a>  
<a name="l2681"><span class="linenum">2681</span></a>      <span class="comment">/**</span>
<a name="l2682"><span class="linenum">2682</span></a>  <span class="comment">     * Get grade_plugin_info object for managing settings if the user can</span>
<a name="l2683"><span class="linenum">2683</span></a>  <span class="comment">     *</span>
<a name="l2684"><span class="linenum">2684</span></a>  <span class="comment">     * @param int $courseid</span>
<a name="l2685"><span class="linenum">2685</span></a>  <span class="comment">     * @return grade_plugin_info[]</span>
<a name="l2686"><span class="linenum">2686</span></a>  <span class="comment">     */</span>
<a name="l2687"><span class="linenum">2687</span></a>      public static function <a class="function" onClick="logFunction('get_info_manage_settings')" href="../_functions/get_info_manage_settings.html" onMouseOver="funcPopup(event,'get_info_manage_settings')">get_info_manage_settings</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l2688"><span class="linenum">2688</span></a>          if (self::<a class="var it30148" onMouseOver="hilite(30148)" onMouseOut="lolite()" onClick="logVariable('managesetting')" href="../_variables/managesetting.html">$managesetting</a> !== null) {
<a name="l2689"><span class="linenum">2689</span></a>              return self::<a class="var it30148" onMouseOver="hilite(30148)" onMouseOut="lolite()" onClick="logVariable('managesetting')" href="../_variables/managesetting.html">$managesetting</a>;
<a name="l2690"><span class="linenum">2690</span></a>          }
<a name="l2691"><span class="linenum">2691</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l2692"><span class="linenum">2692</span></a>          self::<a class="var it30148" onMouseOver="hilite(30148)" onMouseOut="lolite()" onClick="logVariable('managesetting')" href="../_variables/managesetting.html">$managesetting</a> = array();
<a name="l2693"><span class="linenum">2693</span></a>          if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> != <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a> &amp;&amp; <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l2694"><span class="linenum">2694</span></a>              self::<a class="var it30148" onMouseOver="hilite(30148)" onMouseOut="lolite()" onClick="logVariable('managesetting')" href="../_variables/managesetting.html">$managesetting</a>['categoriesanditems'] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('setup',
<a name="l2695"><span class="linenum">2695</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/tree/index.php.html">/grade/edit/tree/index.php</a>', array('id' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)),
<a name="l2696"><span class="linenum">2696</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('categoriesanditems', 'grades'));
<a name="l2697"><span class="linenum">2697</span></a>              self::<a class="var it30148" onMouseOver="hilite(30148)" onMouseOut="lolite()" onClick="logVariable('managesetting')" href="../_variables/managesetting.html">$managesetting</a>['coursesettings'] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('coursesettings',
<a name="l2698"><span class="linenum">2698</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/settings/index.php.html">/grade/edit/settings/index.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)),
<a name="l2699"><span class="linenum">2699</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('coursegradesettings', 'grades'));
<a name="l2700"><span class="linenum">2700</span></a>          }
<a name="l2701"><span class="linenum">2701</span></a>          if (self::<a class="var it30150" onMouseOver="hilite(30150)" onMouseOut="lolite()" onClick="logVariable('gradereportpreferences')" href="../_variables/gradereportpreferences.html">$gradereportpreferences</a> === null) {
<a name="l2702"><span class="linenum">2702</span></a>              self::<a class="function" onClick="logFunction('get_plugins_reports')" href="../_functions/get_plugins_reports.html" onMouseOver="funcPopup(event,'get_plugins_reports')">get_plugins_reports</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l2703"><span class="linenum">2703</span></a>          }
<a name="l2704"><span class="linenum">2704</span></a>          if (self::<a class="var it30150" onMouseOver="hilite(30150)" onMouseOut="lolite()" onClick="logVariable('gradereportpreferences')" href="../_variables/gradereportpreferences.html">$gradereportpreferences</a>) {
<a name="l2705"><span class="linenum">2705</span></a>              self::<a class="var it30148" onMouseOver="hilite(30148)" onMouseOut="lolite()" onClick="logVariable('managesetting')" href="../_variables/managesetting.html">$managesetting</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(self::<a class="var it30148" onMouseOver="hilite(30148)" onMouseOut="lolite()" onClick="logVariable('managesetting')" href="../_variables/managesetting.html">$managesetting</a>, self::<a class="var it30150" onMouseOver="hilite(30150)" onMouseOut="lolite()" onClick="logVariable('gradereportpreferences')" href="../_variables/gradereportpreferences.html">$gradereportpreferences</a>);
<a name="l2706"><span class="linenum">2706</span></a>          }
<a name="l2707"><span class="linenum">2707</span></a>          return self::<a class="var it30148" onMouseOver="hilite(30148)" onMouseOut="lolite()" onClick="logVariable('managesetting')" href="../_variables/managesetting.html">$managesetting</a>;
<a name="l2708"><span class="linenum">2708</span></a>      }
<a name="l2709"><span class="linenum">2709</span></a>      <span class="comment">/**</span>
<a name="l2710"><span class="linenum">2710</span></a>  <span class="comment">     * Returns an array of plugin reports as grade_plugin_info objects</span>
<a name="l2711"><span class="linenum">2711</span></a>  <span class="comment">     *</span>
<a name="l2712"><span class="linenum">2712</span></a>  <span class="comment">     * @param int $courseid</span>
<a name="l2713"><span class="linenum">2713</span></a>  <span class="comment">     * @return array</span>
<a name="l2714"><span class="linenum">2714</span></a>  <span class="comment">     */</span>
<a name="l2715"><span class="linenum">2715</span></a>      public static function <a class="function" onClick="logFunction('get_plugins_reports')" href="../_functions/get_plugins_reports.html" onMouseOver="funcPopup(event,'get_plugins_reports')">get_plugins_reports</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l2716"><span class="linenum">2716</span></a>          global <a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>;
<a name="l2717"><span class="linenum">2717</span></a>  
<a name="l2718"><span class="linenum">2718</span></a>          if (self::<a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a> !== null) {
<a name="l2719"><span class="linenum">2719</span></a>              return self::<a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a>;
<a name="l2720"><span class="linenum">2720</span></a>          }
<a name="l2721"><span class="linenum">2721</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l2722"><span class="linenum">2722</span></a>          <a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a> = array();
<a name="l2723"><span class="linenum">2723</span></a>          <a class="var it30158" onMouseOver="hilite(30158)" onMouseOut="lolite()" onClick="logVariable('gradepreferences')" href="../_variables/gradepreferences.html">$gradepreferences</a> = array();
<a name="l2724"><span class="linenum">2724</span></a>          foreach (<a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('gradereport') as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a> =&gt; <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('plugindir')" href="../_variables/plugindir.html">$plugindir</a>) {
<a name="l2725"><span class="linenum">2725</span></a>  <span class="comment">            //some reports make no sense if we're not within a course</span>
<a name="l2726"><span class="linenum">2726</span></a>              if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>==<a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>-&gt;<a onClick="logVariable('id')" class="var it39635" onMouseOver="hilite(39635)" onMouseOut="lolite()" href="../_variables/id.html">id</a> &amp;&amp; (<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>=='grader' || <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>=='user')) {
<a name="l2727"><span class="linenum">2727</span></a>                  continue;
<a name="l2728"><span class="linenum">2728</span></a>              }
<a name="l2729"><span class="linenum">2729</span></a>  
<a name="l2730"><span class="linenum">2730</span></a>  <span class="comment">            // Remove ones we can't see</span>
<a name="l2731"><span class="linenum">2731</span></a>              if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('gradereport/'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>.':view', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l2732"><span class="linenum">2732</span></a>                  continue;
<a name="l2733"><span class="linenum">2733</span></a>              }
<a name="l2734"><span class="linenum">2734</span></a>  
<a name="l2735"><span class="linenum">2735</span></a>              <a class="var it5558" onMouseOver="hilite(5558)" onMouseOut="lolite()" onClick="logVariable('pluginstr')" href="../_variables/pluginstr.html">$pluginstr</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pluginname', 'gradereport_'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>);
<a name="l2736"><span class="linenum">2736</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/grade/report/'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>.'<a class="filename" href="../index.php.html">/index.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2737"><span class="linenum">2737</span></a>              <a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a>[<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it5558" onMouseOver="hilite(5558)" onMouseOut="lolite()" onClick="logVariable('pluginstr')" href="../_variables/pluginstr.html">$pluginstr</a>);
<a name="l2738"><span class="linenum">2738</span></a>  
<a name="l2739"><span class="linenum">2739</span></a>  <span class="comment">            // Add link to preferences tab if such a page exists</span>
<a name="l2740"><span class="linenum">2740</span></a>              if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('plugindir')" href="../_variables/plugindir.html">$plugindir</a>.'/preferences.php')) {
<a name="l2741"><span class="linenum">2741</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/grade/report/'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>.'/preferences.php', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2742"><span class="linenum">2742</span></a>                  <a class="var it30158" onMouseOver="hilite(30158)" onMouseOut="lolite()" onClick="logVariable('gradepreferences')" href="../_variables/gradepreferences.html">$gradepreferences</a>[<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>,
<a name="l2743"><span class="linenum">2743</span></a>                      <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('preferences', 'grades') . ': ' . <a class="var it5558" onMouseOver="hilite(5558)" onMouseOut="lolite()" onClick="logVariable('pluginstr')" href="../_variables/pluginstr.html">$pluginstr</a>);
<a name="l2744"><span class="linenum">2744</span></a>              }
<a name="l2745"><span class="linenum">2745</span></a>          }
<a name="l2746"><span class="linenum">2746</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a>) == 0) {
<a name="l2747"><span class="linenum">2747</span></a>              <a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a> = false;
<a name="l2748"><span class="linenum">2748</span></a>              <a class="var it30158" onMouseOver="hilite(30158)" onMouseOut="lolite()" onClick="logVariable('gradepreferences')" href="../_variables/gradepreferences.html">$gradepreferences</a> = false;
<a name="l2749"><span class="linenum">2749</span></a>          } else if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it30158" onMouseOver="hilite(30158)" onMouseOut="lolite()" onClick="logVariable('gradepreferences')" href="../_variables/gradepreferences.html">$gradepreferences</a>) == 0) {
<a name="l2750"><span class="linenum">2750</span></a>              <a class="var it30158" onMouseOver="hilite(30158)" onMouseOut="lolite()" onClick="logVariable('gradepreferences')" href="../_variables/gradepreferences.html">$gradepreferences</a> = false;
<a name="l2751"><span class="linenum">2751</span></a>              <a class="phpfunction" onClick="logFunction('asort')" href="../_functions/asort.html" onMouseOver="phpfuncPopup(event,'asort')">asort</a>(<a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a>);
<a name="l2752"><span class="linenum">2752</span></a>          } else {
<a name="l2753"><span class="linenum">2753</span></a>              <a class="phpfunction" onClick="logFunction('asort')" href="../_functions/asort.html" onMouseOver="phpfuncPopup(event,'asort')">asort</a>(<a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a>);
<a name="l2754"><span class="linenum">2754</span></a>              <a class="phpfunction" onClick="logFunction('asort')" href="../_functions/asort.html" onMouseOver="phpfuncPopup(event,'asort')">asort</a>(<a class="var it30158" onMouseOver="hilite(30158)" onMouseOut="lolite()" onClick="logVariable('gradepreferences')" href="../_variables/gradepreferences.html">$gradepreferences</a>);
<a name="l2755"><span class="linenum">2755</span></a>          }
<a name="l2756"><span class="linenum">2756</span></a>          self::<a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a> = <a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a>;
<a name="l2757"><span class="linenum">2757</span></a>          self::<a class="var it30150" onMouseOver="hilite(30150)" onMouseOut="lolite()" onClick="logVariable('gradereportpreferences')" href="../_variables/gradereportpreferences.html">$gradereportpreferences</a> = <a class="var it30158" onMouseOver="hilite(30158)" onMouseOut="lolite()" onClick="logVariable('gradepreferences')" href="../_variables/gradepreferences.html">$gradepreferences</a>;
<a name="l2758"><span class="linenum">2758</span></a>          return self::<a class="var it30149" onMouseOver="hilite(30149)" onMouseOut="lolite()" onClick="logVariable('gradereports')" href="../_variables/gradereports.html">$gradereports</a>;
<a name="l2759"><span class="linenum">2759</span></a>      }
<a name="l2760"><span class="linenum">2760</span></a>  
<a name="l2761"><span class="linenum">2761</span></a>      <span class="comment">/**</span>
<a name="l2762"><span class="linenum">2762</span></a>  <span class="comment">     * Get information on scales</span>
<a name="l2763"><span class="linenum">2763</span></a>  <span class="comment">     * @param int $courseid</span>
<a name="l2764"><span class="linenum">2764</span></a>  <span class="comment">     * @return grade_plugin_info</span>
<a name="l2765"><span class="linenum">2765</span></a>  <span class="comment">     */</span>
<a name="l2766"><span class="linenum">2766</span></a>      public static function <a class="function" onClick="logFunction('get_info_scales')" href="../_functions/get_info_scales.html" onMouseOver="funcPopup(event,'get_info_scales')">get_info_scales</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l2767"><span class="linenum">2767</span></a>          if (self::<a class="var it30151" onMouseOver="hilite(30151)" onMouseOut="lolite()" onClick="logVariable('scaleinfo')" href="../_variables/scaleinfo.html">$scaleinfo</a> !== null) {
<a name="l2768"><span class="linenum">2768</span></a>              return self::<a class="var it30151" onMouseOver="hilite(30151)" onMouseOut="lolite()" onClick="logVariable('scaleinfo')" href="../_variables/scaleinfo.html">$scaleinfo</a>;
<a name="l2769"><span class="linenum">2769</span></a>          }
<a name="l2770"><span class="linenum">2770</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:managescales', <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>))) {
<a name="l2771"><span class="linenum">2771</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/scale/index.php.html">/grade/edit/scale/index.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2772"><span class="linenum">2772</span></a>              self::<a class="var it30151" onMouseOver="hilite(30151)" onMouseOut="lolite()" onClick="logVariable('scaleinfo')" href="../_variables/scaleinfo.html">$scaleinfo</a> = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('scale', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('view'));
<a name="l2773"><span class="linenum">2773</span></a>          } else {
<a name="l2774"><span class="linenum">2774</span></a>              self::<a class="var it30151" onMouseOver="hilite(30151)" onMouseOut="lolite()" onClick="logVariable('scaleinfo')" href="../_variables/scaleinfo.html">$scaleinfo</a> = false;
<a name="l2775"><span class="linenum">2775</span></a>          }
<a name="l2776"><span class="linenum">2776</span></a>          return self::<a class="var it30151" onMouseOver="hilite(30151)" onMouseOut="lolite()" onClick="logVariable('scaleinfo')" href="../_variables/scaleinfo.html">$scaleinfo</a>;
<a name="l2777"><span class="linenum">2777</span></a>      }
<a name="l2778"><span class="linenum">2778</span></a>      <span class="comment">/**</span>
<a name="l2779"><span class="linenum">2779</span></a>  <span class="comment">     * Get information on outcomes</span>
<a name="l2780"><span class="linenum">2780</span></a>  <span class="comment">     * @param int $courseid</span>
<a name="l2781"><span class="linenum">2781</span></a>  <span class="comment">     * @return grade_plugin_info</span>
<a name="l2782"><span class="linenum">2782</span></a>  <span class="comment">     */</span>
<a name="l2783"><span class="linenum">2783</span></a>      public static function <a class="function" onClick="logFunction('get_info_outcomes')" href="../_functions/get_info_outcomes.html" onMouseOver="funcPopup(event,'get_info_outcomes')">get_info_outcomes</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l2784"><span class="linenum">2784</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>;
<a name="l2785"><span class="linenum">2785</span></a>  
<a name="l2786"><span class="linenum">2786</span></a>          if (self::<a class="var it30152" onMouseOver="hilite(30152)" onMouseOut="lolite()" onClick="logVariable('outcomeinfo')" href="../_variables/outcomeinfo.html">$outcomeinfo</a> !== null) {
<a name="l2787"><span class="linenum">2787</span></a>              return self::<a class="var it30152" onMouseOver="hilite(30152)" onMouseOut="lolite()" onClick="logVariable('outcomeinfo')" href="../_variables/outcomeinfo.html">$outcomeinfo</a>;
<a name="l2788"><span class="linenum">2788</span></a>          }
<a name="l2789"><span class="linenum">2789</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l2790"><span class="linenum">2790</span></a>          <a class="var it2540" onMouseOver="hilite(2540)" onMouseOut="lolite()" onClick="logVariable('canmanage')" href="../_variables/canmanage.html">$canmanage</a> = <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l2791"><span class="linenum">2791</span></a>          <a class="var it30159" onMouseOver="hilite(30159)" onMouseOut="lolite()" onClick="logVariable('canupdate')" href="../_variables/canupdate.html">$canupdate</a> = <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:update', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l2792"><span class="linenum">2792</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('enableoutcomes')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/enableoutcomes.html">enableoutcomes</a>) &amp;&amp; (<a class="var it2540" onMouseOver="hilite(2540)" onMouseOut="lolite()" onClick="logVariable('canmanage')" href="../_variables/canmanage.html">$canmanage</a> || <a class="var it30159" onMouseOver="hilite(30159)" onMouseOut="lolite()" onClick="logVariable('canupdate')" href="../_variables/canupdate.html">$canupdate</a>)) {
<a name="l2793"><span class="linenum">2793</span></a>              <a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a> = array();
<a name="l2794"><span class="linenum">2794</span></a>              if (<a class="var it30159" onMouseOver="hilite(30159)" onMouseOut="lolite()" onClick="logVariable('canupdate')" href="../_variables/canupdate.html">$canupdate</a>) {
<a name="l2795"><span class="linenum">2795</span></a>                  if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>!=<a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>-&gt;<a onClick="logVariable('id')" class="var it39635" onMouseOver="hilite(39635)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l2796"><span class="linenum">2796</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/outcome/course.php.html">/grade/edit/outcome/course.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2797"><span class="linenum">2797</span></a>                      <a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a>['course'] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('course', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('outcomescourse', 'grades'));
<a name="l2798"><span class="linenum">2798</span></a>                  }
<a name="l2799"><span class="linenum">2799</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/outcome/index.php.html">/grade/edit/outcome/index.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2800"><span class="linenum">2800</span></a>                  <a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a>['edit'] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('edit', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editoutcomes', 'grades'));
<a name="l2801"><span class="linenum">2801</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/outcome/import.php.html">/grade/edit/outcome/import.php</a>', array('courseid'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2802"><span class="linenum">2802</span></a>                  <a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a>['import'] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('import', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('importoutcomes', 'grades'));
<a name="l2803"><span class="linenum">2803</span></a>              } else {
<a name="l2804"><span class="linenum">2804</span></a>                  if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>!=<a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>-&gt;<a onClick="logVariable('id')" class="var it39635" onMouseOver="hilite(39635)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l2805"><span class="linenum">2805</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/outcome/course.php.html">/grade/edit/outcome/course.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2806"><span class="linenum">2806</span></a>                      <a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a>['edit'] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('edit', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('outcomescourse', 'grades'));
<a name="l2807"><span class="linenum">2807</span></a>                  }
<a name="l2808"><span class="linenum">2808</span></a>              }
<a name="l2809"><span class="linenum">2809</span></a>              self::<a class="var it30152" onMouseOver="hilite(30152)" onMouseOut="lolite()" onClick="logVariable('outcomeinfo')" href="../_variables/outcomeinfo.html">$outcomeinfo</a> = <a class="var it3695" onMouseOver="hilite(3695)" onMouseOut="lolite()" onClick="logVariable('outcomes')" href="../_variables/outcomes.html">$outcomes</a>;
<a name="l2810"><span class="linenum">2810</span></a>          } else {
<a name="l2811"><span class="linenum">2811</span></a>              self::<a class="var it30152" onMouseOver="hilite(30152)" onMouseOut="lolite()" onClick="logVariable('outcomeinfo')" href="../_variables/outcomeinfo.html">$outcomeinfo</a> = false;
<a name="l2812"><span class="linenum">2812</span></a>          }
<a name="l2813"><span class="linenum">2813</span></a>          return self::<a class="var it30152" onMouseOver="hilite(30152)" onMouseOut="lolite()" onClick="logVariable('outcomeinfo')" href="../_variables/outcomeinfo.html">$outcomeinfo</a>;
<a name="l2814"><span class="linenum">2814</span></a>      }
<a name="l2815"><span class="linenum">2815</span></a>      <span class="comment">/**</span>
<a name="l2816"><span class="linenum">2816</span></a>  <span class="comment">     * Get information on letters</span>
<a name="l2817"><span class="linenum">2817</span></a>  <span class="comment">     * @param int $courseid</span>
<a name="l2818"><span class="linenum">2818</span></a>  <span class="comment">     * @return array</span>
<a name="l2819"><span class="linenum">2819</span></a>  <span class="comment">     */</span>
<a name="l2820"><span class="linenum">2820</span></a>      public static function <a class="function" onClick="logFunction('get_info_letters')" href="../_functions/get_info_letters.html" onMouseOver="funcPopup(event,'get_info_letters')">get_info_letters</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l2821"><span class="linenum">2821</span></a>          global <a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>;
<a name="l2822"><span class="linenum">2822</span></a>          if (self::<a class="var it30153" onMouseOver="hilite(30153)" onMouseOut="lolite()" onClick="logVariable('letterinfo')" href="../_variables/letterinfo.html">$letterinfo</a> !== null) {
<a name="l2823"><span class="linenum">2823</span></a>              return self::<a class="var it30153" onMouseOver="hilite(30153)" onMouseOut="lolite()" onClick="logVariable('letterinfo')" href="../_variables/letterinfo.html">$letterinfo</a>;
<a name="l2824"><span class="linenum">2824</span></a>          }
<a name="l2825"><span class="linenum">2825</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l2826"><span class="linenum">2826</span></a>          <a class="var it2540" onMouseOver="hilite(2540)" onMouseOut="lolite()" onClick="logVariable('canmanage')" href="../_variables/canmanage.html">$canmanage</a> = <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l2827"><span class="linenum">2827</span></a>          <a class="var it30160" onMouseOver="hilite(30160)" onMouseOut="lolite()" onClick="logVariable('canmanageletters')" href="../_variables/canmanageletters.html">$canmanageletters</a> = <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manageletters', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l2828"><span class="linenum">2828</span></a>          if (<a class="var it2540" onMouseOver="hilite(2540)" onMouseOut="lolite()" onClick="logVariable('canmanage')" href="../_variables/canmanage.html">$canmanage</a> || <a class="var it30160" onMouseOver="hilite(30160)" onMouseOut="lolite()" onClick="logVariable('canmanageletters')" href="../_variables/canmanageletters.html">$canmanageletters</a>) {
<a name="l2829"><span class="linenum">2829</span></a>  <span class="comment">            // Redirect to system context when report is accessed from admin settings MDL-31633</span>
<a name="l2830"><span class="linenum">2830</span></a>              if (<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('instanceid')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a> == <a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>-&gt;<a onClick="logVariable('id')" class="var it39635" onMouseOver="hilite(39635)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l2831"><span class="linenum">2831</span></a>                  <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('param')" href="../_variables/param.html">$param</a> = array('edit' =&gt; 1);
<a name="l2832"><span class="linenum">2832</span></a>              } else {
<a name="l2833"><span class="linenum">2833</span></a>                  <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('param')" href="../_variables/param.html">$param</a> = array('edit' =&gt; 1,'id' =&gt; <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l2834"><span class="linenum">2834</span></a>              }
<a name="l2835"><span class="linenum">2835</span></a>              self::<a class="var it30153" onMouseOver="hilite(30153)" onMouseOut="lolite()" onClick="logVariable('letterinfo')" href="../_variables/letterinfo.html">$letterinfo</a> = array(
<a name="l2836"><span class="linenum">2836</span></a>                  'view' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('view', <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/letter/index.php.html">/grade/edit/letter/index.php</a>', array('id'=&gt;<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)), <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('view')),
<a name="l2837"><span class="linenum">2837</span></a>                  'edit' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('edit', <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/edit/letter/index.php.html">/grade/edit/letter/index.php</a>', <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('param')" href="../_variables/param.html">$param</a>), <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('edit'))
<a name="l2838"><span class="linenum">2838</span></a>              );
<a name="l2839"><span class="linenum">2839</span></a>          } else {
<a name="l2840"><span class="linenum">2840</span></a>              self::<a class="var it30153" onMouseOver="hilite(30153)" onMouseOut="lolite()" onClick="logVariable('letterinfo')" href="../_variables/letterinfo.html">$letterinfo</a> = false;
<a name="l2841"><span class="linenum">2841</span></a>          }
<a name="l2842"><span class="linenum">2842</span></a>          return self::<a class="var it30153" onMouseOver="hilite(30153)" onMouseOut="lolite()" onClick="logVariable('letterinfo')" href="../_variables/letterinfo.html">$letterinfo</a>;
<a name="l2843"><span class="linenum">2843</span></a>      }
<a name="l2844"><span class="linenum">2844</span></a>      <span class="comment">/**</span>
<a name="l2845"><span class="linenum">2845</span></a>  <span class="comment">     * Get information import plugins</span>
<a name="l2846"><span class="linenum">2846</span></a>  <span class="comment">     * @param int $courseid</span>
<a name="l2847"><span class="linenum">2847</span></a>  <span class="comment">     * @return array</span>
<a name="l2848"><span class="linenum">2848</span></a>  <span class="comment">     */</span>
<a name="l2849"><span class="linenum">2849</span></a>      public static function <a class="function" onClick="logFunction('get_plugins_import')" href="../_functions/get_plugins_import.html" onMouseOver="funcPopup(event,'get_plugins_import')">get_plugins_import</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l2850"><span class="linenum">2850</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2851"><span class="linenum">2851</span></a>  
<a name="l2852"><span class="linenum">2852</span></a>          if (self::<a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a> !== null) {
<a name="l2853"><span class="linenum">2853</span></a>              return self::<a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a>;
<a name="l2854"><span class="linenum">2854</span></a>          }
<a name="l2855"><span class="linenum">2855</span></a>          <a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a> = array();
<a name="l2856"><span class="linenum">2856</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l2857"><span class="linenum">2857</span></a>  
<a name="l2858"><span class="linenum">2858</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:import', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l2859"><span class="linenum">2859</span></a>              foreach (<a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('gradeimport') as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a> =&gt; <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('plugindir')" href="../_variables/plugindir.html">$plugindir</a>) {
<a name="l2860"><span class="linenum">2860</span></a>                  if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('gradeimport/'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>.':view', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l2861"><span class="linenum">2861</span></a>                      continue;
<a name="l2862"><span class="linenum">2862</span></a>                  }
<a name="l2863"><span class="linenum">2863</span></a>                  <a class="var it5558" onMouseOver="hilite(5558)" onMouseOut="lolite()" onClick="logVariable('pluginstr')" href="../_variables/pluginstr.html">$pluginstr</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pluginname', 'gradeimport_'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>);
<a name="l2864"><span class="linenum">2864</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/grade/import/'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>.'<a class="filename" href="../index.php.html">/index.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2865"><span class="linenum">2865</span></a>                  <a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a>[<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it5558" onMouseOver="hilite(5558)" onMouseOut="lolite()" onClick="logVariable('pluginstr')" href="../_variables/pluginstr.html">$pluginstr</a>);
<a name="l2866"><span class="linenum">2866</span></a>              }
<a name="l2867"><span class="linenum">2867</span></a>  
<a name="l2868"><span class="linenum">2868</span></a>  <span class="comment">            // Show key manager if grade publishing is enabled and the user has xml publishing capability.</span>
<a name="l2869"><span class="linenum">2869</span></a>  <span class="comment">            // XML is the only grade import plugin that has publishing feature.</span>
<a name="l2870"><span class="linenum">2870</span></a>              if (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('gradepublishing')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/gradepublishing.html">gradepublishing</a> &amp;&amp; <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('gradeimport/xml:publish', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l2871"><span class="linenum">2871</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/import/keymanager.php.html">/grade/import/keymanager.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2872"><span class="linenum">2872</span></a>                  <a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a>['keymanager'] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('keymanager', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('keymanager', 'grades'));
<a name="l2873"><span class="linenum">2873</span></a>              }
<a name="l2874"><span class="linenum">2874</span></a>          }
<a name="l2875"><span class="linenum">2875</span></a>  
<a name="l2876"><span class="linenum">2876</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a>) &gt; 0) {
<a name="l2877"><span class="linenum">2877</span></a>              <a class="phpfunction" onClick="logFunction('asort')" href="../_functions/asort.html" onMouseOver="phpfuncPopup(event,'asort')">asort</a>(<a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a>);
<a name="l2878"><span class="linenum">2878</span></a>              self::<a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a> = <a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a>;
<a name="l2879"><span class="linenum">2879</span></a>          } else {
<a name="l2880"><span class="linenum">2880</span></a>              self::<a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a> = false;
<a name="l2881"><span class="linenum">2881</span></a>          }
<a name="l2882"><span class="linenum">2882</span></a>          return self::<a class="var it30154" onMouseOver="hilite(30154)" onMouseOut="lolite()" onClick="logVariable('importplugins')" href="../_variables/importplugins.html">$importplugins</a>;
<a name="l2883"><span class="linenum">2883</span></a>      }
<a name="l2884"><span class="linenum">2884</span></a>      <span class="comment">/**</span>
<a name="l2885"><span class="linenum">2885</span></a>  <span class="comment">     * Get information export plugins</span>
<a name="l2886"><span class="linenum">2886</span></a>  <span class="comment">     * @param int $courseid</span>
<a name="l2887"><span class="linenum">2887</span></a>  <span class="comment">     * @return array</span>
<a name="l2888"><span class="linenum">2888</span></a>  <span class="comment">     */</span>
<a name="l2889"><span class="linenum">2889</span></a>      public static function <a class="function" onClick="logFunction('get_plugins_export')" href="../_functions/get_plugins_export.html" onMouseOver="funcPopup(event,'get_plugins_export')">get_plugins_export</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l2890"><span class="linenum">2890</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2891"><span class="linenum">2891</span></a>  
<a name="l2892"><span class="linenum">2892</span></a>          if (self::<a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a> !== null) {
<a name="l2893"><span class="linenum">2893</span></a>              return self::<a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a>;
<a name="l2894"><span class="linenum">2894</span></a>          }
<a name="l2895"><span class="linenum">2895</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l2896"><span class="linenum">2896</span></a>          <a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a> = array();
<a name="l2897"><span class="linenum">2897</span></a>          <a class="var it30161" onMouseOver="hilite(30161)" onMouseOut="lolite()" onClick="logVariable('canpublishgrades')" href="../_variables/canpublishgrades.html">$canpublishgrades</a> = 0;
<a name="l2898"><span class="linenum">2898</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:export', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l2899"><span class="linenum">2899</span></a>              foreach (<a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('gradeexport') as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a> =&gt; <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('plugindir')" href="../_variables/plugindir.html">$plugindir</a>) {
<a name="l2900"><span class="linenum">2900</span></a>                  if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('gradeexport/'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>.':view', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l2901"><span class="linenum">2901</span></a>                      continue;
<a name="l2902"><span class="linenum">2902</span></a>                  }
<a name="l2903"><span class="linenum">2903</span></a>  <span class="comment">                // All the grade export plugins has grade publishing capabilities.</span>
<a name="l2904"><span class="linenum">2904</span></a>                  if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('gradeexport/'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>.':publish', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l2905"><span class="linenum">2905</span></a>                      <a class="var it30161" onMouseOver="hilite(30161)" onMouseOut="lolite()" onClick="logVariable('canpublishgrades')" href="../_variables/canpublishgrades.html">$canpublishgrades</a>++;
<a name="l2906"><span class="linenum">2906</span></a>                  }
<a name="l2907"><span class="linenum">2907</span></a>  
<a name="l2908"><span class="linenum">2908</span></a>                  <a class="var it5558" onMouseOver="hilite(5558)" onMouseOut="lolite()" onClick="logVariable('pluginstr')" href="../_variables/pluginstr.html">$pluginstr</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pluginname', 'gradeexport_'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>);
<a name="l2909"><span class="linenum">2909</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/grade/export/'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>.'<a class="filename" href="../index.php.html">/index.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2910"><span class="linenum">2910</span></a>                  <a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a>[<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it5558" onMouseOver="hilite(5558)" onMouseOut="lolite()" onClick="logVariable('pluginstr')" href="../_variables/pluginstr.html">$pluginstr</a>);
<a name="l2911"><span class="linenum">2911</span></a>              }
<a name="l2912"><span class="linenum">2912</span></a>  
<a name="l2913"><span class="linenum">2913</span></a>  <span class="comment">            // Show key manager if grade publishing is enabled and the user has at least one grade publishing capability.</span>
<a name="l2914"><span class="linenum">2914</span></a>              if (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('gradepublishing')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/gradepublishing.html">gradepublishing</a> &amp;&amp; <a class="var it30161" onMouseOver="hilite(30161)" onMouseOut="lolite()" onClick="logVariable('canpublishgrades')" href="../_variables/canpublishgrades.html">$canpublishgrades</a> != 0) {
<a name="l2915"><span class="linenum">2915</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../grade/export/keymanager.php.html">/grade/export/keymanager.php</a>', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2916"><span class="linenum">2916</span></a>                  <a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a>['keymanager'] = <span class="keyword">new </span><a class="class" onClick="logClass('grade_plugin_info')" href="../_classes/grade_plugin_info.html" onMouseOver="classPopup(event,'grade_plugin_info')">grade_plugin_info</a>('keymanager', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('keymanager', 'grades'));
<a name="l2917"><span class="linenum">2917</span></a>              }
<a name="l2918"><span class="linenum">2918</span></a>          }
<a name="l2919"><span class="linenum">2919</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a>) &gt; 0) {
<a name="l2920"><span class="linenum">2920</span></a>              <a class="phpfunction" onClick="logFunction('asort')" href="../_functions/asort.html" onMouseOver="phpfuncPopup(event,'asort')">asort</a>(<a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a>);
<a name="l2921"><span class="linenum">2921</span></a>              self::<a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a> = <a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a>;
<a name="l2922"><span class="linenum">2922</span></a>          } else {
<a name="l2923"><span class="linenum">2923</span></a>              self::<a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a> = false;
<a name="l2924"><span class="linenum">2924</span></a>          }
<a name="l2925"><span class="linenum">2925</span></a>          return self::<a class="var it30155" onMouseOver="hilite(30155)" onMouseOut="lolite()" onClick="logVariable('exportplugins')" href="../_variables/exportplugins.html">$exportplugins</a>;
<a name="l2926"><span class="linenum">2926</span></a>      }
<a name="l2927"><span class="linenum">2927</span></a>  
<a name="l2928"><span class="linenum">2928</span></a>      <span class="comment">/**</span>
<a name="l2929"><span class="linenum">2929</span></a>  <span class="comment">     * Returns the value of a field from a user record</span>
<a name="l2930"><span class="linenum">2930</span></a>  <span class="comment">     *</span>
<a name="l2931"><span class="linenum">2931</span></a>  <span class="comment">     * @param stdClass $user object</span>
<a name="l2932"><span class="linenum">2932</span></a>  <span class="comment">     * @param stdClass $field object</span>
<a name="l2933"><span class="linenum">2933</span></a>  <span class="comment">     * @return string value of the field</span>
<a name="l2934"><span class="linenum">2934</span></a>  <span class="comment">     */</span>
<a name="l2935"><span class="linenum">2935</span></a>      public static function <a class="function" onClick="logFunction('get_user_field_value')" href="../_functions/get_user_field_value.html" onMouseOver="funcPopup(event,'get_user_field_value')">get_user_field_value</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>) {
<a name="l2936"><span class="linenum">2936</span></a>          if (!empty(<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('customid')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/customid.html">customid</a>)) {
<a name="l2937"><span class="linenum">2937</span></a>              <a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../_variables/fieldname.html">$fieldname</a> = 'customfield_' . <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('shortname')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>;
<a name="l2938"><span class="linenum">2938</span></a>              if (!empty(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;{<a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../_variables/fieldname.html">$fieldname</a>}) || <a class="phpfunction" onClick="logFunction('is_numeric')" href="../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;{<a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../_variables/fieldname.html">$fieldname</a>})) {
<a name="l2939"><span class="linenum">2939</span></a>                  <a class="var it9626" onMouseOver="hilite(9626)" onMouseOut="lolite()" onClick="logVariable('fieldvalue')" href="../_variables/fieldvalue.html">$fieldvalue</a> = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;{<a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../_variables/fieldname.html">$fieldname</a>};
<a name="l2940"><span class="linenum">2940</span></a>              } else {
<a name="l2941"><span class="linenum">2941</span></a>                  <a class="var it9626" onMouseOver="hilite(9626)" onMouseOut="lolite()" onClick="logVariable('fieldvalue')" href="../_variables/fieldvalue.html">$fieldvalue</a> = <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('default')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/default.html">default</a>;
<a name="l2942"><span class="linenum">2942</span></a>              }
<a name="l2943"><span class="linenum">2943</span></a>          } else {
<a name="l2944"><span class="linenum">2944</span></a>              <a class="var it9626" onMouseOver="hilite(9626)" onMouseOut="lolite()" onClick="logVariable('fieldvalue')" href="../_variables/fieldvalue.html">$fieldvalue</a> = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;{<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('shortname')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>};
<a name="l2945"><span class="linenum">2945</span></a>          }
<a name="l2946"><span class="linenum">2946</span></a>          return <a class="var it9626" onMouseOver="hilite(9626)" onMouseOut="lolite()" onClick="logVariable('fieldvalue')" href="../_variables/fieldvalue.html">$fieldvalue</a>;
<a name="l2947"><span class="linenum">2947</span></a>      }
<a name="l2948"><span class="linenum">2948</span></a>  
<a name="l2949"><span class="linenum">2949</span></a>      <span class="comment">/**</span>
<a name="l2950"><span class="linenum">2950</span></a>  <span class="comment">     * Returns an array of user profile fields to be included in export</span>
<a name="l2951"><span class="linenum">2951</span></a>  <span class="comment">     *</span>
<a name="l2952"><span class="linenum">2952</span></a>  <span class="comment">     * @param int $courseid</span>
<a name="l2953"><span class="linenum">2953</span></a>  <span class="comment">     * @param bool $includecustomfields</span>
<a name="l2954"><span class="linenum">2954</span></a>  <span class="comment">     * @return array An array of stdClass instances with customid, shortname, datatype, default and fullname fields</span>
<a name="l2955"><span class="linenum">2955</span></a>  <span class="comment">     */</span>
<a name="l2956"><span class="linenum">2956</span></a>      public static function <a class="function" onClick="logFunction('get_user_profile_fields')" href="../_functions/get_user_profile_fields.html" onMouseOver="funcPopup(event,'get_user_profile_fields')">get_user_profile_fields</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it30162" onMouseOver="hilite(30162)" onMouseOut="lolite()" onClick="logVariable('includecustomfields')" href="../_variables/includecustomfields.html">$includecustomfields</a> = false) {
<a name="l2957"><span class="linenum">2957</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2958"><span class="linenum">2958</span></a>  
<a name="l2959"><span class="linenum">2959</span></a>  <span class="comment">        // Gets the fields that have to be hidden</span>
<a name="l2960"><span class="linenum">2960</span></a>          <a class="var it11630" onMouseOver="hilite(11630)" onMouseOut="lolite()" onClick="logVariable('hiddenfields')" href="../_variables/hiddenfields.html">$hiddenfields</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('trim', <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('hiddenuserfields')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/hiddenuserfields.html">hiddenuserfields</a>));
<a name="l2961"><span class="linenum">2961</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l2962"><span class="linenum">2962</span></a>          <a class="var it30163" onMouseOver="hilite(30163)" onMouseOut="lolite()" onClick="logVariable('canseehiddenfields')" href="../_variables/canseehiddenfields.html">$canseehiddenfields</a> = <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:viewhiddenuserfields', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l2963"><span class="linenum">2963</span></a>          if (<a class="var it30163" onMouseOver="hilite(30163)" onMouseOut="lolite()" onClick="logVariable('canseehiddenfields')" href="../_variables/canseehiddenfields.html">$canseehiddenfields</a>) {
<a name="l2964"><span class="linenum">2964</span></a>              <a class="var it11630" onMouseOver="hilite(11630)" onMouseOut="lolite()" onClick="logVariable('hiddenfields')" href="../_variables/hiddenfields.html">$hiddenfields</a> = array();
<a name="l2965"><span class="linenum">2965</span></a>          }
<a name="l2966"><span class="linenum">2966</span></a>  
<a name="l2967"><span class="linenum">2967</span></a>          <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = array();
<a name="l2968"><span class="linenum">2968</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../user/lib.php.html">/user/lib.php</a>');                <span class="comment">// Loads user_get_default_fields()</span>
<a name="l2969"><span class="linenum">2969</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../user/profile/lib.php.html">/user/profile/lib.php</a>');        <span class="comment">// Loads constants, such as PROFILE_VISIBLE_ALL</span>
<a name="l2970"><span class="linenum">2970</span></a>          <a class="var it30164" onMouseOver="hilite(30164)" onMouseOut="lolite()" onClick="logVariable('userdefaultfields')" href="../_variables/userdefaultfields.html">$userdefaultfields</a> = <a class="function" onClick="logFunction('user_get_default_fields')" href="../_functions/user_get_default_fields.html" onMouseOver="funcPopup(event,'user_get_default_fields')">user_get_default_fields</a>();
<a name="l2971"><span class="linenum">2971</span></a>  
<a name="l2972"><span class="linenum">2972</span></a>  <span class="comment">        // Sets the list of profile fields</span>
<a name="l2973"><span class="linenum">2973</span></a>          <a class="var it30165" onMouseOver="hilite(30165)" onMouseOut="lolite()" onClick="logVariable('userprofilefields')" href="../_variables/userprofilefields.html">$userprofilefields</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('trim', <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('grade_export_userprofilefields')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/grade_export_userprofilefields.html">grade_export_userprofilefields</a>));
<a name="l2974"><span class="linenum">2974</span></a>          if (!empty(<a class="var it30165" onMouseOver="hilite(30165)" onMouseOut="lolite()" onClick="logVariable('userprofilefields')" href="../_variables/userprofilefields.html">$userprofilefields</a>)) {
<a name="l2975"><span class="linenum">2975</span></a>              foreach (<a class="var it30165" onMouseOver="hilite(30165)" onMouseOut="lolite()" onClick="logVariable('userprofilefields')" href="../_variables/userprofilefields.html">$userprofilefields</a> as <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>) {
<a name="l2976"><span class="linenum">2976</span></a>                  <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>);
<a name="l2977"><span class="linenum">2977</span></a>                  if (<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>, <a class="var it11630" onMouseOver="hilite(11630)" onMouseOut="lolite()" onClick="logVariable('hiddenfields')" href="../_variables/hiddenfields.html">$hiddenfields</a>) || !<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>, <a class="var it30164" onMouseOver="hilite(30164)" onMouseOut="lolite()" onClick="logVariable('userdefaultfields')" href="../_variables/userdefaultfields.html">$userdefaultfields</a>)) {
<a name="l2978"><span class="linenum">2978</span></a>                      continue;
<a name="l2979"><span class="linenum">2979</span></a>                  }
<a name="l2980"><span class="linenum">2980</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a> = new stdClass();
<a name="l2981"><span class="linenum">2981</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('customid')" class="var it39461" onMouseOver="hilite(39461)" onMouseOut="lolite()" href="../_variables/customid.html">customid</a>  = 0;
<a name="l2982"><span class="linenum">2982</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('shortname')" class="var it39461" onMouseOver="hilite(39461)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a> = <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>;
<a name="l2983"><span class="linenum">2983</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('fullname')" class="var it39461" onMouseOver="hilite(39461)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>  = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>);
<a name="l2984"><span class="linenum">2984</span></a>                  <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>[] = <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>;
<a name="l2985"><span class="linenum">2985</span></a>              }
<a name="l2986"><span class="linenum">2986</span></a>          }
<a name="l2987"><span class="linenum">2987</span></a>  
<a name="l2988"><span class="linenum">2988</span></a>  <span class="comment">        // Sets the list of custom profile fields</span>
<a name="l2989"><span class="linenum">2989</span></a>          <a class="var it22061" onMouseOver="hilite(22061)" onMouseOut="lolite()" onClick="logVariable('customprofilefields')" href="../_variables/customprofilefields.html">$customprofilefields</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('trim', <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('grade_export_customprofilefields')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/grade_export_customprofilefields.html">grade_export_customprofilefields</a>));
<a name="l2990"><span class="linenum">2990</span></a>          if (<a class="var it30162" onMouseOver="hilite(30162)" onMouseOut="lolite()" onClick="logVariable('includecustomfields')" href="../_variables/includecustomfields.html">$includecustomfields</a> &amp;&amp; !empty(<a class="var it22061" onMouseOver="hilite(22061)" onMouseOut="lolite()" onClick="logVariable('customprofilefields')" href="../_variables/customprofilefields.html">$customprofilefields</a>)) {
<a name="l2991"><span class="linenum">2991</span></a>              <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it30167" onMouseOver="hilite(30167)" onMouseOut="lolite()" onClick="logVariable('wherefields')" href="../_variables/wherefields.html">$wherefields</a>, <a class="var it22174" onMouseOver="hilite(22174)" onMouseOut="lolite()" onClick="logVariable('whereparams')" href="../_variables/whereparams.html">$whereparams</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it22061" onMouseOver="hilite(22061)" onMouseOut="lolite()" onClick="logVariable('customprofilefields')" href="../_variables/customprofilefields.html">$customprofilefields</a>);
<a name="l2992"><span class="linenum">2992</span></a>              <a class="var it6067" onMouseOver="hilite(6067)" onMouseOut="lolite()" onClick="logVariable('customfields')" href="../_variables/customfields.html">$customfields</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;SELECT f.*
<a name="l2993"><span class="linenum">2993</span></a>                                                      FROM {user_info_field} f
<a name="l2994"><span class="linenum">2994</span></a>                                                      JOIN {user_info_category} c ON f.categoryid=c.id
<a name="l2995"><span class="linenum">2995</span></a>                                                      WHERE f.shortname <a class="var it30167" onMouseOver="hilite(30167)" onMouseOut="lolite()" onClick="logVariable('wherefields')" href="../_variables/wherefields.html">$wherefields</a>
<a name="l2996"><span class="linenum">2996</span></a>                                                      ORDER BY c.sortorder ASC, f.sortorder ASC&quot;, <a class="var it22174" onMouseOver="hilite(22174)" onMouseOut="lolite()" onClick="logVariable('whereparams')" href="../_variables/whereparams.html">$whereparams</a>);
<a name="l2997"><span class="linenum">2997</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it6067" onMouseOver="hilite(6067)" onMouseOut="lolite()" onClick="logVariable('customfields')" href="../_variables/customfields.html">$customfields</a>)) {
<a name="l2998"><span class="linenum">2998</span></a>                  continue;
<a name="l2999"><span class="linenum">2999</span></a>              }
<a name="l3000"><span class="linenum">3000</span></a>  
<a name="l3001"><span class="linenum">3001</span></a>              foreach (<a class="var it6067" onMouseOver="hilite(6067)" onMouseOut="lolite()" onClick="logVariable('customfields')" href="../_variables/customfields.html">$customfields</a> as <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>) {
<a name="l3002"><span class="linenum">3002</span></a>  <span class="comment">                // Make sure we can display this custom field</span>
<a name="l3003"><span class="linenum">3003</span></a>                  if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('shortname')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>, <a class="var it22061" onMouseOver="hilite(22061)" onMouseOut="lolite()" onClick="logVariable('customprofilefields')" href="../_variables/customprofilefields.html">$customprofilefields</a>)) {
<a name="l3004"><span class="linenum">3004</span></a>                      continue;
<a name="l3005"><span class="linenum">3005</span></a>                  } else if (<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('shortname')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>, <a class="var it11630" onMouseOver="hilite(11630)" onMouseOut="lolite()" onClick="logVariable('hiddenfields')" href="../_variables/hiddenfields.html">$hiddenfields</a>)) {
<a name="l3006"><span class="linenum">3006</span></a>                      continue;
<a name="l3007"><span class="linenum">3007</span></a>                  } else if (<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('visible')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/visible.html">visible</a> != <a class="constant" onClick="logConstant('PROFILE_VISIBLE_ALL')" href="../_constants/PROFILE_VISIBLE_ALL.html" onMouseOver="constPopup(event,'PROFILE_VISIBLE_ALL')">PROFILE_VISIBLE_ALL</a> &amp;&amp; !<a class="var it30163" onMouseOver="hilite(30163)" onMouseOut="lolite()" onClick="logVariable('canseehiddenfields')" href="../_variables/canseehiddenfields.html">$canseehiddenfields</a>) {
<a name="l3008"><span class="linenum">3008</span></a>                      continue;
<a name="l3009"><span class="linenum">3009</span></a>                  }
<a name="l3010"><span class="linenum">3010</span></a>  
<a name="l3011"><span class="linenum">3011</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a> = new stdClass();
<a name="l3012"><span class="linenum">3012</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('customid')" class="var it39461" onMouseOver="hilite(39461)" onMouseOut="lolite()" href="../_variables/customid.html">customid</a>  = <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('id')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l3013"><span class="linenum">3013</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('shortname')" class="var it39461" onMouseOver="hilite(39461)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a> = <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('shortname')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>;
<a name="l3014"><span class="linenum">3014</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('fullname')" class="var it39461" onMouseOver="hilite(39461)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>  = <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('name')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/name.html">name</a>);
<a name="l3015"><span class="linenum">3015</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('datatype')" class="var it39461" onMouseOver="hilite(39461)" onMouseOut="lolite()" href="../_variables/datatype.html">datatype</a>  = <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('datatype')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/datatype.html">datatype</a>;
<a name="l3016"><span class="linenum">3016</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('default')" class="var it39461" onMouseOver="hilite(39461)" onMouseOut="lolite()" href="../_variables/default.html">default</a>   = <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>-&gt;<a onClick="logVariable('defaultdata')" class="var it39671" onMouseOver="hilite(39671)" onMouseOut="lolite()" href="../_variables/defaultdata.html">defaultdata</a>;
<a name="l3017"><span class="linenum">3017</span></a>                  <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>[] = <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../_variables/obj.html">$obj</a>;
<a name="l3018"><span class="linenum">3018</span></a>              }
<a name="l3019"><span class="linenum">3019</span></a>          }
<a name="l3020"><span class="linenum">3020</span></a>  
<a name="l3021"><span class="linenum">3021</span></a>          return <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>;
<a name="l3022"><span class="linenum">3022</span></a>      }
<a name="l3023"><span class="linenum">3023</span></a>  
<a name="l3024"><span class="linenum">3024</span></a>      <span class="comment">/**</span>
<a name="l3025"><span class="linenum">3025</span></a>  <span class="comment">     * This helper method gets a snapshot of all the weights for a course.</span>
<a name="l3026"><span class="linenum">3026</span></a>  <span class="comment">     * It is used as a quick method to see if any wieghts have been automatically adjusted.</span>
<a name="l3027"><span class="linenum">3027</span></a>  <span class="comment">     * @param int $courseid</span>
<a name="l3028"><span class="linenum">3028</span></a>  <span class="comment">     * @return array of itemid -&gt; aggregationcoef2</span>
<a name="l3029"><span class="linenum">3029</span></a>  <span class="comment">     */</span>
<a name="l3030"><span class="linenum">3030</span></a>      public static function <a class="function" onClick="logFunction('fetch_all_natural_weights_for_course')" href="../_functions/fetch_all_natural_weights_for_course.html" onMouseOver="funcPopup(event,'fetch_all_natural_weights_for_course')">fetch_all_natural_weights_for_course</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l3031"><span class="linenum">3031</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l3032"><span class="linenum">3032</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l3033"><span class="linenum">3033</span></a>  
<a name="l3034"><span class="linenum">3034</span></a>          <a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('grade_items', array('courseid'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>), 'id', 'id, aggregationcoef2');
<a name="l3035"><span class="linenum">3035</span></a>          foreach (<a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a> as <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>) {
<a name="l3036"><span class="linenum">3036</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('aggregationcoef2')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../_variables/aggregationcoef2.html">aggregationcoef2</a>;
<a name="l3037"><span class="linenum">3037</span></a>          }
<a name="l3038"><span class="linenum">3038</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l3039"><span class="linenum">3039</span></a>      }
<a name="l3040"><span class="linenum">3040</span></a>  }
<a name="l3041"><span class="linenum">3041</span></a>  
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'render': ['render', 'Render TeX string into gif/png ', [['filter/tex','latex.php',78],['lib/adodb','adodb-pager.inc.php',239],['lib/htmlpurifier/HTMLPurifier/Printer','CSSDefinition.php',14],['lib/mustache/src/Mustache','Engine.php',202],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',768],['lib/htmlpurifier/HTMLPurifier/Printer','HTMLDefinition.php',15],['lib','formslib.php',926],['question/engine/tests','helpers.php',797],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullscreen','fullscreen.htm',82],['lib','outputrenderers.php',167],['lib','outputrenderers.php',299],['mod/quiz/classes/question/bank','custom_view.php',133],['question/behaviour','behaviourbase.php',97],['lib/mustache/src/Mustache','Template.php',57],['question/engine','questionattempt.php',815],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',85],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',235],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',298],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',391],['lib','portfoliolib.php',241],['lib/phpexcel/PHPExcel','Chart.php',527],['lib/mustache/src/Mustache','LambdaHelper.php',36]], 757],
'get_aggregation_strings': ['get_aggregation_strings', 'Gets strings describing the available aggregation methods. ', [['grade','lib.php',2659]], 3],
'get_suspended_userids': ['get_suspended_userids', 'Given context and array of users, returns array of user ids whose enrolment status is suspended, or enrolment has expired or not started. ', [['lib','accesslib.php',7521]], 8],
'get_config': ['get_config', 'Get a configuration value for this plugin ', [['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546],['question/engine','bank.php',109],['lib','moodlelib.php',1404],['lib','enrollib.php',1141],['lib/editor/tinymce/classes','plugin.php',73],['admin/tool/log/classes/helper','store.php',63]], 847],
'print_graded_users_selector': ['print_graded_users_selector', 'Print a selection popup form of the graded users in a course. ', [['grade','lib.php',399]], 0],
'is_locked': ['is_locked', 'Returns the locked state of this grade_item (if the grade_item is locked OR no specific $userid is given) or the locked state of a specific grade within this item if a specific $userid is given and the grade_item is unlocked. ', [['lib/grade','grade_item.php',476],['backup/util/settings','setting_dependency.class.php',187],['backup/util/settings','setting_dependency.class.php',340],['backup/util/settings','setting_dependency.class.php',534],['backup/util/settings','setting_dependency.class.php',598],['user/profile','lib.php',354],['lib/grade','grade_grade.php',265],['lib/grade','grade_category.php',2312],['lib','badgeslib.php',317]], 57],
'inject_fillers': ['inject_fillers', 'Static recursive helper - makes full tree (all leafes are at the same level) ', [['grade','lib.php',2208]], 2],
'category_collapse': ['category_collapse', 'Static recursive helper - removes items from collapsed categories ', [['grade','lib.php',2090]], 2],
'get_calculation_icon': ['get_calculation_icon', 'Return calculation icon for given element ', [['grade','lib.php',1823]], 2],
'get_user_field_value': ['get_user_field_value', 'Returns the value of a field from a user record ', [['grade','lib.php',2928]], 4],
'grade_build_nav': ['grade_build_nav', 'Function central to gradebook for building and printing the navigation (breadcrumb trail). ', [['grade','lib.php',1134]], 3],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1318]], 854],
'get_item': ['get_item', 'Get a single item from the feed ', [['lib/simplepie/library','SimplePie.php',2788],['grade','lib.php',2458],['lib/simplepie/library/SimplePie','Source.php',99]], 6],
'addelement': ['addelement', 'Adds a custom element to your HTML definition ', [['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',124],['lib/zend/Zend/Soap','Wsdl.php',641],['lib/htmlpurifier/HTMLPurifier','HTMLModule.php',130],['lib/pear/HTML','QuickForm.php',582]], 3296],
'get_info_outcomes': ['get_info_outcomes', 'Get information on outcomes ', [['grade','lib.php',2778]], 2],
'user_get_default_fields': ['user_get_default_fields', 'Returns the list of default \'displayable\' fields ', [['user','lib.php',213]], 2],
'no_outcomes': ['no_outcomes', 'Static recursive helper - removes all outcomes ', [['grade','lib.php',2122]], 2],
'get_instances': ['get_instances', 'Helper method to convert db records to instances. ', [['admin/tool/monitor/classes','subscription_manager.php',366],['lib','modinfolib.php',235],['admin/tool/monitor/classes','rule_manager.php',276],['repository','lib.php',991]], 35],
'can_control_visibility': ['can_control_visibility', 'Returns whether the grade object can control the visibility of the grades. ', [['lib/grade','grade_object.php',455],['lib/grade','grade_item.php',2180]], 9],
'get_description': ['get_description', 'Returns description of what happened. ', [['report/log/classes/event','user_report_viewed.php',63],['mod/wiki/classes/event','page_deleted.php',63],['mod/forum/classes/message/inbound','reply_handler.php',41],['mod/chat/classes/event','sessions_viewed.php',45],['mod/glossary/classes/event','category_deleted.php',55],['mod/workshop/classes/event','assessment_evaluations_reset.php',55],['lib/classes/event','tag_updated.php',67],['lib/classes/event','course_resources_list_viewed.php',51],['mod/lesson/classes/event','content_page_viewed.php',66],['lib/classes/event','blog_association_created.php',65],['lib/classes/event','user_profile_viewed.php',65],['mod/feedback/classes/event','response_submitted.php',69],['lib/classes/event','badge_awarded.php',63],['report/outline/classes/event','report_viewed.php',63],['mod/assign/classes/event','extension_granted.php',67],['admin/tool/capability/classes/event','report_viewed.php',56],['lib/classes/event','message_viewed.php',72],['lib/classes/event','course_category_created.php',66],['mod/quiz/classes/event','group_override_updated.php',63],['mod/survey/classes/event','response_submitted.php',62],['lib/classes/event','blog_comment_created.php',47],['mod/book/tool/exportimscp/classes/event','book_exported.php',57],['report/loglive/classes/event','report_viewed.php',57],['mod/forum/classes/event','post_deleted.php',57],['mod/assign/classes/event','submission_duplicated.php',67],['mod/chat/classes/event','message_sent.php',38],['mod/workshop/classes/event','submission_created.php',53],['lib/classes/event','note_updated.php',65],['mod/lesson/classes/event','group_override_deleted.php',63],['mod/feedback/classes/event','response_deleted.php',66],['lib/classes/event','course_module_instance_list_viewed.php',65],['mod/assign/classes/event','submission_locked.php',68],['mod/lesson/classes/event','page_updated.php',90],['mod/forum/classes/event','discussion_subscription_deleted.php',56],['mod/quiz/classes/event','attempt_preview_started.php',63],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',88],['mod/lesson/classes/event','user_override_updated.php',63],['mod/quiz/classes/event','report_viewed.php',65],['mod/lesson/classes/event','question_answered.php',72],['lib','authlib.php',519],['mod/forum/classes/event','discussion_viewed.php',50],['mod/workshop/classes/event','submission_viewed.php',53],['mod/data/classes/event','comment_created.php',46],['mod/workshop/classes/event','submission_reassessed.php',57],['mod/assign/submission/onlinetext/classes/event','submission_created.php',53],['mod/glossary/classes/event','entry_deleted.php',63],['mod/glossary/classes/event','comment_created.php',46],['lib/classes/event','user_created.php',57],['mod/data/classes/event','field_updated.php',66],['mod/data/classes/event','template_updated.php',65],['lib/classes/event','comment_created.php',67],['lib/classes/event','cohort_deleted.php',58],['lib/grade','grade_item.php',1305],['mod/scorm/classes/event','tracks_viewed.php',54],['lib/classes/event','course_viewed.php',56],['lib/classes/event','course_content_deleted.php',63],['mod/quiz/classes/event','attempt_abandoned.php',53],['mod/workshop/classes/event','phase_switched.php',55],['lib/classes/event','base.php',298],['lib/classes/event','content_viewed.php',89],['lib/classes/event','course_completion_updated.php',56],['report/completion/classes/event','report_viewed.php',58],['mod/forum/classes/event','discussion_updated.php',55],['lib/classes/event','course_reset_ended.php',44],['mod/choice/classes/event','answer_submitted.php',46],['mod/forum/classes/event','assessable_uploaded.php',46],['mod/wiki/classes/event','page_diff_viewed.php',64],['lib/classes/event','course_category_updated.php',69],['admin/tool/langimport/classes/event','langpack_updated.php',71],['lib/classes/event','webservice_service_created.php',44],['lib/classes/event','course_created.php',64],['mod/lesson/classes/event','lesson_started.php',66],['mod/assign/classes/event','grading_table_viewed.php',88],['lib/classes/event','calendar_event_deleted.php',67],['lib/classes/event','group_created.php',38],['mod/quiz/classes/event','user_override_created.php',62],['mod/glossary/classes/event','category_updated.php',55],['mod/assign/classes/event','submission_viewed.php',85],['mod/glossary/classes/event','entry_disapproved.php',55],['lib/classes/event','user_password_updated.php',79],['mod/assign/classes/event','all_submissions_downloaded.php',65],['lib/classes/event','role_deleted.php',64],['admin/tool/log/store/legacy/tests/fixtures','event.php',35],['lib/classes/event','user_loggedinas.php',66],['mod/assign/classes/event','submission_confirmation_form_viewed.php',88],['mod/lesson/classes/event','essay_attempt_viewed.php',67],['mod/forum/classes/event','discussion_moved.php',56],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',45],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',88],['mod/survey/classes/event','report_downloaded.php',64],['mod/wiki/classes/event','page_updated.php',63],['admin/tool/log/store/standard/tests/fixtures','event.php',35],['mod/assign/classes/event','submission_unlocked.php',68],['lib/classes/event','user_list_viewed.php',65],['mod/forum/classes/event','readtracking_disabled.php',54],['lib/classes/event','comments_viewed.php',60],['lib/classes/event','cohort_member_added.php',58],['lib/classes/event','grouping_created.php',38],['lib/classes/event','recent_activity_viewed.php',58],['lib/classes/event','role_allow_switch_updated.php',56],['mod/assign/submission/comments/classes/event','comment_deleted.php',46],['admin/tool/messageinbound/classes/message/inbound','invalid_recipient_handler.php',51],['lib/classes/event','user_login_failed.php',65],['lib/classes/event','message_contact_added.php',66],['mod/assign/submission/file/classes/event','submission_updated.php',53],['lib/classes/event','role_allow_assign_updated.php',56],['mod/quiz/classes/event','user_override_deleted.php',62],['mod/quiz/classes/event','edit_page_viewed.php',62],['lib/classes/event','email_failed.php',57],['lib/classes/event','tag_removed.php',67],['mod/lesson/classes/event','highscores_viewed.php',66],['report/stats/classes/event','user_report_viewed.php',57],['mod/quiz/classes/event','group_override_deleted.php',63],['mod/book/classes/event','chapter_updated.php',59],['lib/simplepie/library/SimplePie','Enclosure.php',434],['lib/classes/log','reader.php',39],['mod/lesson/classes/event','question_viewed.php',72],['lib/simplepie/library','SimplePie.php',2407],['mod/scorm/classes/event','interactions_viewed.php',53],['lib/classes/event','course_module_updated.php',66],['mod/forum/classes/event','discussion_subscription_created.php',56],['mod/quiz/classes/event','question_manually_graded.php',64],['lib/classes/event','mnet_access_control_created.php',75],['lib/classes/event','role_assigned.php',65],['calendar','lib.php',2116],['lib/classes/event','unknown_logged.php',47],['availability/condition/profile/classes','condition.php',187],['mod/scorm/classes/event','user_report_viewed.php',53],['admin/tool/monitor/classes/event','subscription_criteria_met.php',64],['report/participation/classes/event','report_viewed.php',67],['mod/data/classes/event','comment_deleted.php',46],['lib/classes/event','user_updated.php',57],['lib/classes/event','course_section_updated.php',65],['lib/classes/event','comment_deleted.php',67],['mod/assign/classes/event','marker_updated.php',79],['lib/classes/event','webservice_login_failed.php',53],['mod/assign/submission/file/classes/event','assessable_uploaded.php',46],['admin/tool/log/store/database/tests/fixtures','event.php',35],['mod/lti/classes/event','unknown_service_api_called.php',73],['lib/classes/event','cohort_updated.php',58],['mod/forum/classes/event','post_updated.php',57],['mod/book/classes/event','chapter_viewed.php',59],['lib/classes/event','note_deleted.php',65],['lib/classes/event','user_loggedout.php',63],['lib/classes/event','grade_report_viewed.php',63],['mod/assign/submission/onlinetext/classes/event','submission_updated.php',53],['mod/assign/classes/event','workflow_state_updated.php',78],['mod/book/classes/event','chapter_deleted.php',59],['lib/classes/event','course_deleted.php',65],['lib/classes/event','blog_entry_deleted.php',84],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',39],['lib/classes/event','webservice_token_created.php',44],['mod/forum/classes/event','course_searched.php',55],['lib/classes/event','group_updated.php',38],['mod/quiz/classes/event','attempt_started.php',46],['mod/lesson/classes/event','group_override_updated.php',63],['lib/classes/event','course_module_viewed.php',52],['availability/condition/completion/classes','condition.php',154],['lib/classes/event','mnet_access_control_updated.php',75],['mod/wiki/classes/event','comments_viewed.php',48],['lib/classes/message/inbound','private_files_handler.php',47],['lib/tests/fixtures','event_fixtures.php',38],['lib/tests/fixtures','event_fixtures.php',263],['mod/assign/submission/file/classes/event','submission_created.php',53],['lib/simplepie/library/SimplePie','Item.php',308],['mod/quiz/classes/event','attempt_submitted.php',53],['mod/data/classes/event','field_created.php',67],['lib/classes/event','question_category_created.php',57],['admin/tool/monitor/classes/event','rule_deleted.php',59],['lib/classes/event','blog_comment_deleted.php',47],['mod/lesson/classes/event','group_override_created.php',64],['mod/workshop/classes/event','assessments_reset.php',54],['mod/wiki/classes/event','comment_created.php',47],['mod/lesson/classes/event','lesson_resumed.php',66],['mod/assign/classes/event','feedback_viewed.php',85],['lib/classes/event','blog_entry_updated.php',83],['report/questioninstances/classes/event','report_viewed.php',64],['mod/assign/classes/event','submission_form_viewed.php',91],['mod/folder/classes/event','folder_updated.php',57],['mod/assign/classes/event','statement_accepted.php',67],['lib/classes/event','grade_deleted.php',103],['lib/classes/event','role_capabilities_updated.php',60],['lib/classes/event','blog_entries_viewed.php',71],['lib/tests','messageinbound_test.php',172],['mod/wiki/classes/event','page_viewed.php',57],['lib/classes/event','group_deleted.php',38],['lib/classes/event','webservice_token_sent.php',38],['mod/quiz/classes/event','attempt_becameoverdue.php',56],['mod/quiz/classes/event','attempt_viewed.php',63],['mod/assign/classes/event','submission_status_updated.php',69],['mod/assign/classes/event','grading_form_viewed.php',91],['lib/classes/event','course_module_completion_updated.php',57],['mod/workshop/classes/event','assessment_evaluated.php',56],['report/log/classes/event','report_viewed.php',67],['lib/classes/event','course_module_deleted.php',65],['mod/book/classes/event','chapter_created.php',59],['mod/workshop/classes/event','submission_assessed.php',56],['lib/classes/event','cohort_created.php',58],['lib/classes/event','webservice_function_called.php',49],['mod/scorm/classes/event','sco_launched.php',54],['mod/wiki/classes/event','comment_deleted.php',47],['lib/classes/event','blog_entry_created.php',85],['lib/classes/event','user_enrolment_created.php',62],['mod/data/classes/event','record_created.php',65],['mod/quiz/classes/event','attempt_summary_viewed.php',65],['lib/classes/event','user_enrolment_updated.php',62],['mod/quiz/classes/event','attempt_reviewed.php',62],['mod/glossary/classes/event','comment_deleted.php',46],['mod/lesson/classes/event','page_moved.php',74],['mod/glossary/classes/event','category_created.php',55],['availability/condition/grouping/classes','condition.php',124],['mod/lesson/classes/event','page_created.php',72],['lib/classes/event','cohort_member_removed.php',59],['mod/wiki/classes/event','page_version_viewed.php',63],['lib/classes/event','role_allow_override_updated.php',56],['mod/workshop/classes/event','assessable_uploaded.php',46],['lib/classes/event','grouping_updated.php',38],['admin/tool/monitor/classes/event','rule_updated.php',59],['lib/classes/event','course_module_created.php',95],['lib/classes/event','tag_added.php',67],['admin/tool/langimport/classes/event','langpack_removed.php',71],['mod/assign/classes/event','assessable_submitted.php',74],['mod/workshop/classes/event','submission_updated.php',53],['mod/lesson/classes/event','page_deleted.php',72],['availability/condition/date/classes','condition.php',136],['lib/classes/event','grouping_deleted.php',45],['mod/assign/submission/comments/classes/event','comment_created.php',46],['lib/classes/event','tag_flagged.php',64],['mod/wiki/classes/event','page_history_viewed.php',57],['mod/survey/classes/event','report_viewed.php',64],['lib/classes/event','tag_created.php',64],['report/stats/classes/event','report_viewed.php',65],['lib/classes/event','note_created.php',65],['lib/classes/event','course_reset_started.php',44],['admin/tool/monitor/classes/event','subscription_created.php',59],['mod/book/tool/print/classes/event','book_printed.php',57],['lib/classes/event','webservice_service_user_removed.php',38],['mod/data/classes/event','record_deleted.php',65],['mod/choice/classes/event','answer_updated.php',46],['message/tests/fixtures','inbound_fixtures.php',35],['lib/classes/event','group_member_removed.php',38],['mod/glossary/classes/event','entry_viewed.php',57],['mod/forum/classes/event','user_report_viewed.php',55],['lib/classes/event','course_category_deleted.php',68],['mod/forum/classes/event','subscription_created.php',55],['lib/classes/event','calendar_event_created.php',67],['lib/classes/event','message_contact_blocked.php',66],['lib/classes/event','webservice_service_updated.php',38],['mod/wiki/classes/event','page_version_restored.php',63],['mod/data/classes/event','template_viewed.php',64],['lib/classes/event','course_user_report_viewed.php',56],['mod/data/classes/event','record_updated.php',65],['mod/wiki/classes/event','page_map_viewed.php',63],['mod/wiki/classes/event','page_locks_deleted.php',63],['lib/classes/event','webservice_service_deleted.php',38],['lib/grade','grade_category.php',2145],['mod/forum/classes/event','readtracking_enabled.php',54],['lib/classes/event','role_unassigned.php',62],['lib/classes/event','course_restored.php',67],['mod/choice/classes/event','report_viewed.php',56],['lib/classes/event','user_deleted.php',66],['lib/classes/event','user_enrolment_deleted.php',63],['mod/book/tool/print/classes/event','chapter_printed.php',59],['mod/assign/classes/event','identities_revealed.php',65],['lib/classes/event','user_graded.php',105],['lib/classes/event','course_updated.php',67],['admin/tool/log/classes/helper','reader.php',53],['mod/forum/classes/event','post_created.php',57],['mod/data/classes/event','field_deleted.php',66],['lib/classes/event','tag_deleted.php',64],['availability/condition/grade/classes','condition.php',123],['mod/glossary/classes/event','entry_created.php',61],['mod/forum/classes/event','discussion_created.php',55],['mod/forum/classes/event','discussion_deleted.php',56],['mod/scorm/classes/event','attempt_deleted.php',52],['mod/lesson/classes/event','lesson_ended.php',67],['lib/grade','grade_scale.php',331],['admin/tool/monitor/classes','subscription.php',133],['mod/forum/classes/event','subscribers_viewed.php',55],['mod/scorm/classes/event','report_viewed.php',53],['availability/tests/fixtures','mock_condition.php',82],['mod/lesson/classes/event','user_override_deleted.php',62],['report/completion/classes/event','user_report_viewed.php',58],['admin/tool/langimport/classes/event','langpack_imported.php',71],['mod/forum/classes/event','subscription_deleted.php',55],['mod/lesson/classes/event','highscore_added.php',74],['mod/lesson/classes/event','essay_assessed.php',57],['availability/condition/group/classes','condition.php',93],['lib/classes/event','message_sent.php',100],['lib/classes/event','message_contact_removed.php',66],['lib/classes/event','tag_unflagged.php',64],['mod/assign/classes/event','submission_graded.php',68],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',88],['report/outline/classes/event','activity_report_viewed.php',57],['lib/classes/event','calendar_event_updated.php',67],['mod/lesson/classes/event','user_override_created.php',62],['mod/workshop/classes/event','assessment_reevaluated.php',56],['lib/simplepie/library/SimplePie','Source.php',459],['mod/quiz/classes/event','user_override_updated.php',63],['lib/classes/event','webservice_service_user_added.php',38],['admin/tool/monitor/classes/event','subscription_deleted.php',59],['lib/classes/event','notes_viewed.php',58],['mod/glossary/classes/event','entry_updated.php',61],['admin/tool/monitor/classes/event','rule_created.php',59],['mod/wiki/classes/event','page_version_deleted.php',63],['lib/classes/event','course_completed.php',82],['mod/assign/classes/event','submission_status_viewed.php',90],['mod/glossary/classes/event','entry_approved.php',55],['mod/wiki/classes/event','page_created.php',57],['mod/quiz/classes/event','group_override_created.php',64],['lib/classes/event','group_member_added.php',45],['lib/classes/event','message_contact_unblocked.php',66],['mod/quiz/classes/event','attempt_deleted.php',56],['lib/classes/event','user_loggedin.php',45],['admin/tool/monitor/classes','rule.php',249],['mod/lesson/classes/event','lesson_restarted.php',66],['lib/grade','grade_outcome.php',291]], 70],
'get_activity_link': ['get_activity_link', '', [['grade','lib.php',1405]], 1],
'notification': ['notification', 'Output a notification (that is, a status message about something that has just happened). ', [['lib','outputrenderers.php',2762],['lib','outputrenderers.php',4128],['lib','outputrenderers.php',4201]], 495],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',2854]], 853],
'get_grade_analysis_url': ['get_grade_analysis_url', 'Returns URL of a page that is supposed to contain detailed grade analysis ', [['grade','lib.php',1453]], 1],
'spacer': ['spacer', 'Creates and returns a spacer image with optional line break. ', [['lib','outputrenderers.php',2340]], 28],
'set_button': ['set_button', 'Specify a fragment of HTML that goes where the \'Turn editing on\' button normally goes. ', [['lib','pagelib.php',1283]], 26],
'grade_get_plugin_info': ['grade_get_plugin_info', 'grade_get_plugin_info ', [['grade','lib.php',670]], 1],
'strlen': ['strlen', 'Multibyte safe strlen() function, uses mbstring or iconv for UTF-8, falls back to typo3. ', [['lib/classes','text.php',281],['lib/typo3','class.t3lib_cs.php',1520]], 1698],
'make_inactive': ['make_inactive', 'Marks a node as inactive and recusised back to the base of the tree doing the same to all parents. ', [['lib','navigationlib.php',431]], 11],
'set_pagelayout': ['set_pagelayout', 'Sets the layout to use for this page. ', [['lib','pagelib.php',1063]], 277],
'get_plugin_strings': ['get_plugin_strings', 'Gets strings commonly used by the describe plugins ', [['grade','lib.php',2631]], 1],
'fullname': ['fullname', 'Returns a persons full name ', [['lib','moodlelib.php',3234],['mod/assign','locallib.php',3440]], 532],
'param': ['param', 'Returns a placeholder for query parameters e.g. $DB->Param(\'a\') will return - \'?\' for most databases - \':a\' for Oracle - \'$1\', \'$2\', etc. for PostgreSQL ', [['lib/adodb','adodb.inc.php',815],['lib/adodb/drivers','adodb-postgres64.inc.php',591],['lib','weblib.php',455],['lib/adodb/drivers','adodb-oci8po.inc.php',37],['lib/adodb/drivers','adodb-db2oci.inc.php',166],['lib/adodb/drivers','adodb-oci8.inc.php',1014]], 641],
'context_header': ['context_header', 'Either returns the parent version of the header bar, or a version with the logo replacing the header. ', [['theme/clean/classes','core_renderer.php',28],['lib','outputrenderers.php',3924]], 12],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',884],['lib','accesslib.php',346]], 1929],
'exporttoxml': ['exporttoxml', 'Returns a well-formed XML representation of the grade-tree using recursion. ', [['grade','lib.php',2329]], 1],
'category_grade_last': ['category_grade_last', 'Static recursive helper - makes the grade_item for category the last children ', [['grade','lib.php',2144]], 2],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'print_tabs': ['print_tabs', 'Returns a string containing a nested list, suitable for formatting into tabs with CSS. ', [['lib','weblib.php',2784]], 12],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as a moodle_recordset using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','oci_native_moodle_database.php',1065],['lib/dml','sqlsrv_native_moodle_database.php',761],['lib/dml','mssql_native_moodle_database.php',687],['lib/dml','mysqli_native_moodle_database.php',985],['lib/dml/tests','dml_test.php',5423],['lib/dml','pdo_moodle_database.php',251]], 279],
'add_mform_elements': ['add_mform_elements', 'Add hidden elements into mform ', [['grade','lib.php',1064]], 7],
'grade_extend_settings': ['grade_extend_settings', 'This method adds settings to the settings block for the grade system and its plugins ', [['grade','lib.php',2502]], 1],
'flatten': ['flatten', '', [['lib/lessphp','VisitorReplacing.php',53],['grade','lib.php',1910],['lib/htmlpurifier/HTMLPurifier','Arborize.php',39]], 14],
'get_element_icon': ['get_element_icon', 'Returns icon of element ', [['grade','lib.php',1258]], 3],
'print_grade_page_head': ['print_grade_page_head', 'Prints the page headers, breadcrumb trail, page heading, (optional) dropdown navigation menu and (optional) navigation tabs for any gradebook page. All gradebook pages MUST use these functions in favour of the usual print_header(), print_header_simple(), print_heading() etc. !IMPORTANT! Use of tabs.php file in gradebook pages is forbidden unless tabs are switched off at the site level for the gradebook ($CFG->grade_navmethod = GRADE_NAVMETHOD_DROPDOWN). ', [['grade','lib.php',803]], 44],
'get_grade_analysis_icon': ['get_grade_analysis_icon', 'Returns an action icon leading to the grade analysis page ', [['grade','lib.php',1515]], 3],
'heading_with_help': ['heading_with_help', 'Centered heading with attached help button (same title text) and optional icon attached. ', [['lib','outputrenderers.php',2218]], 39],
'get_records': ['get_records', 'Get a number of records as an array of objects where all the given conditions met. ', [['lib/dml','moodle_database.php',1236],['lib','coursecatlib.php',654],['question','category_class.php',63]], 860],
'userdate': ['userdate', 'Also in ADORecordSet. ', [['lib/adodb','adodb.inc.php',2607],['lib/adodb','adodb.inc.php',3271],['lib','moodlelib.php',2150]], 496],
'hide_aggregatesubcats_upgrade_notice': ['hide_aggregatesubcats_upgrade_notice', 'Hide warning about changed grades during upgrade to 2.8. ', [['grade','lib.php',470]], 1],
'get_plugins_export': ['get_plugins_export', 'Get information export plugins ', [['grade','lib.php',2884]], 4],
'get_params_for_iconstr': ['get_params_for_iconstr', 'Given a grade_tree element, returns an array of parameters used to build an icon for that element. ', [['grade','lib.php',1557]], 5],
'get_user_profile_fields': ['get_user_profile_fields', 'Returns an array of user profile fields to be included in export ', [['grade','lib.php',2949]], 5],
'fetch_all_natural_weights_for_course': ['fetch_all_natural_weights_for_course', 'This helper method gets a snapshot of all the weights for a course. It is used as a quick method to see if any wieghts have been automatically adjusted. ', [['grade','lib.php',3024]], 4],
'fetch': ['fetch', 'Fetches the available update status from the remote site ', [['lib/classes/update','checker.php',113],['lib/minify/lib/Minify/Cache','XCache.php',86],['lib/grade','grade_object.php',126],['completion/criteria','completion_criteria_unenrol.php',43],['completion/criteria','completion_criteria_grade.php',45],['lib/grade','grade_item.php',332],['lib/minify/lib/Minify/Cache','Memcache.php',97],['lib/minify/lib/Minify/Cache','APC.php',91],['completion/criteria','completion_criteria_activity.php',45],['lib/horde/framework/Horde/Imap/Client','Base.php',2373],['completion','data_object.php',152],['completion/criteria','completion_criteria_course.php',46],['completion','completion_completion.php',70],['completion/criteria','completion_criteria_role.php',43],['completion','completion_criteria_completion.php',74],['lib/grade','grade_grade.php',576],['lib/minify/lib/Minify/Cache','ZendPlatform.php',97],['completion/criteria','completion_criteria_date.php',43],['lib/grade','grade_category.php',184],['completion/criteria','completion_criteria_self.php',43],['lib/grade','grade_scale.php',89],['lib/minify/lib/Minify/Cache','File.php',90],['completion','completion_aggregation.php',68],['completion/criteria','completion_criteria_duration.php',43],['lib/grade','grade_outcome.php',182]], 192],
'grade_button': ['grade_button', 'Local shortcut function for creating an edit/delete button for a grade_* object. ', [['grade','lib.php',2474]], 9],
'get_hidden': ['get_hidden', 'Check a grade item hidden status. ', [['lib/grade','grade_object.php',435],['lib/grade','grade_grade.php',536]], 3],
'grade_get_graded_users_select': ['grade_get_graded_users_select', '', [['grade','lib.php',417]], 3],
'get_info_scales': ['get_info_scales', 'Get information on scales ', [['grade','lib.php',2761]], 2],
'prepend': ['prepend', 'In CSS content, prepend a path to relative URIs ', [['lib/minify/lib/Minify/CSS','UriRewriter.php',79],['lib','navigationlib.php',3338],['lib','navigationlib.php',3563]], 96],
'get_parent_category': ['get_parent_category', 'Returns the grade_category object this grade_item belongs to (referenced by categoryid) or category attached to category item. ', [['lib/grade','grade_item.php',868],['lib/grade','grade_category.php',2114]], 28],
'join': ['join', 'Join a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.join) ', [['lib/google/src/Google/Service','Games.php',1715],['lib/google/src/Google/Service','Games.php',2099]], 949],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'next_user': ['next_user', 'Returns information about the next user ', [['grade','lib.php',251]], 9],
'locate_element': ['locate_element', 'Parses the array in search of a given eid and returns a element object with information about the element it has found. ', [['grade','lib.php',1952],['grade','lib.php',2274]], 10],
'set_title': ['set_title', '', [['backup/cc/cc_lib','cc_basiclti.php',57],['backup/cc/cc_lib','cc_weblink.php',41],['backup/cc/cc_lib','cc_metadata.php',225],['backup/cc/cc_lib','cc_forum.php',39],['mod/wiki','pagelib.php',216],['lib','outputcomponents.php',2815],['backup/cc/cc_lib','cc_asssesment.php',595],['backup/cc/cc_lib','cc_asssesment.php',843],['backup/cc/cc_lib','cc_asssesment.php',1060],['backup/cc/cc_lib','cc_asssesment.php',1829],['lib','pagelib.php',1128],['backup/cc/cc_lib','cc_page.php',38]], 445],
'get_parent_context_ids': ['get_parent_context_ids', 'Returns parent contexts of this context in reversed order, i.e. parent first, then grand parent, etc. ', [['lib','accesslib.php',5674]], 58],
'is_outcome_item': ['is_outcome_item', 'Is this an outcome item? ', [['lib/grade','grade_item.php',948]], 15],
'fill_levels': ['fill_levels', 'Static recursive helper - fills the levels array, useful when accessing tree elements of one level ', [['grade','lib.php',2170]], 2],
'get_options': ['get_options', 'Add appropriate criteria elements to the form ', [['badges/criteria','award_criteria_overall.php',160],['admin/webservice','lib.php',112],['mod/forum/classes','potential_subscriber_selector.php',59],['mod/data/field/textarea','field.class.php',31],['admin/roles/classes','assign_user_selector_base.php',53],['cohort','locallib.php',86],['cohort','locallib.php',150],['user/selector','lib.php',356],['user/selector','lib.php',689],['badges/criteria','award_criteria_activity.php',104],['admin/roles/classes','admins_potential_selector.php',85],['admin/roles/classes','check_users_selector.php',147],['mod/workshop','locallib.php',3822],['repository','lib.php',179],['grade','lib.php',963],['mnet/service/enrol','locallib.php',519],['mnet/service/enrol','locallib.php',607],['mod/forum/classes','subscriber_selector_base.php',72],['enrol/manual','locallib.php',87],['enrol/manual','locallib.php',151],['badges/criteria','award_criteria_manual.php',58],['admin/roles/classes','admins_existing_selector.php',92],['grade/grading/form/guide','lib.php',363],['badges/criteria','award_criteria_courseset.php',145],['lib','adminlib.php',8599],['grade/grading/form/rubric','lib.php',368],['badges/criteria','award_criteria_profile.php',42],['badges/lib','awardlib.php',82],['badges/criteria','award_criteria_course.php',117]], 40],
'inject_colspans': ['inject_colspans', 'Static recursive helper - add colspan information into categories ', [['grade','lib.php',2255]], 2],
'pix_icon': ['pix_icon', 'Return HTML for a pix_icon. ', [['lib','outputrenderers.php',2074]], 449],
'contains_active_node': ['contains_active_node', 'Checks if this node or any of its children contain the active node. ', [['lib','navigationlib.php',504]], 19],
'get_return_url': ['get_return_url', '', [['mod/chat','locallib.php',147],['mod/forum','locallib.php',143],['lib/portfolio','caller.php',526],['grade','lib.php',993]], 30],
'get_info_manage_settings': ['get_info_manage_settings', 'Get grade_plugin_info object for managing settings if the user can ', [['grade','lib.php',2681]], 2],
'confirm_sesskey': ['confirm_sesskey', 'Check the sesskey and return true of false for whether it is valid. (You might like to imagine this function is called sesskey_is_valid().) ', [['lib','sessionlib.php',52]], 315],
'is_course_item': ['is_course_item', 'Is the grade item associated with course? ', [['lib/grade','grade_item.php',930]], 29],
'add_url_params': ['add_url_params', 'Add return tracking params into url ', [['grade','lib.php',1100]], 11],
'is_external_item': ['is_external_item', 'Is the grade item external - associated with module, plugin or something else? ', [['lib/grade','grade_item.php',957]], 7],
'get_grade_eid': ['get_grade_eid', 'Returns the grade eid - the grade may not exist yet. ', [['grade','lib.php',1533]], 1],
'sesskey': ['sesskey', 'Makes sure that $USER->sesskey exists, if $USER itself exists. It sets a new sesskey if one does not already exist, but does not overwrite existing sesskeys. Returns the sesskey string if $USER exists, or boolean false if not. ', [['lib','sessionlib.php',28]], 631],
'addslashes_js': ['addslashes_js', 'Does proper javascript quoting. ', [['lib','weblib.php',122]], 13],
'get_levels': ['get_levels', 'Returns the array of levels ', [['grade','lib.php',2440]], 2],
'get_locktime': ['get_locktime', 'Set the locktime for this grade item. ', [['lib/grade','grade_item.php',581],['lib/grade','grade_grade.php',485]], 5],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1063],['lib/zend/Zend/Service','Technorati.php',228]], 1254],
'get_item_category': ['get_item_category', 'Returns the grade_category for a grade category grade item ', [['lib/grade','grade_item.php',896]], 10],
'action_icon': ['action_icon', 'Renders an action_icon. ', [['course/classes','management_renderer.php',987],['lib','outputrenderers.php',1657]], 105],
'get_edit_icon': ['get_edit_icon', 'Return edit icon for give element ', [['grade','lib.php',1626]], 2],
'add': ['add', '', [['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',454],['blog','locallib.php',242],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',11],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',31],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',428],['backup/cc','validator.php',51],['lib/google/src/Google/Http','Batch.php',47],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',37],['lib/horde/framework/Horde/Support','ConsistentHash.php',148],['lib/horde/framework/Horde/Imap/Client','Ids.php',155],['lib/zend/Zend/Service/Simpy','WatchlistFilterSet.php',47],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',109],['lib/lessphp/Output','Mapped.php',50],['lib/horde/framework/Horde/Stream','TempString.php',118],['lib','licenselib.php',32],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',207],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',29],['lib/horde/framework/Horde/Mail/Rfc822','List.php',116],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3450],['lib/google/src/Google/Service','Webmasters.php',375],['lib/horde/framework/Horde','Variables.php',297],['lib','outputcomponents.php',2700],['lib','outputcomponents.php',3375],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',14],['lib/zend/Zend','Date.php',1081],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',33],['comment','lib.php',675],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',86],['lib/horde/framework/Horde','Stream.php',116],['backup/cc/cc_lib/gral_lib','cssparser.php',111],['lib/lessphp','Output.php',18],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',50],['lib','adminlib.php',736],['lib','adminlib.php',895],['lib','adminlib.php',1447],['lib','csslib.php',1508],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',95],['lib','navigationlib.php',302],['lib','navigationlib.php',758],['lib','navigationlib.php',3288],['lib','navigationlib.php',3542],['lib/phpexcel/PHPExcel','HashTable.php',85],['lib/mustache/src/Mustache','HelperCollection.php',56],['lib/horde/framework/Horde/Mail/Rfc822','GroupList.php',25],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',27],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',80],['backup/cc/cc_lib','cc_utils.php',395],['backup/cc/cc_lib','cc_utils.php',454]], 5988],
'get_form_fields': ['get_form_fields', 'Returns string with hidden return tracking form elements. ', [['grade','lib.php',1036]], 0],
'get_locking_icon': ['get_locking_icon', 'Return locking icon for given element ', [['grade','lib.php',1766]], 1],
'get': ['get', 'Gets a customer resource if one exists and is owned by the reseller. (customers.get) ', [['lib/google/src/Google/Service','Reseller.php',294],['lib/google/src/Google/Service','Reseller.php',457],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',7],['lib/google/src/Google/Service','Replicapoolupdater.php',275],['lib/zend/Zend/Gdata','Gapps.php',187],['lib/google/src/Google/Service','Fusiontables.php',658],['lib/google/src/Google/Service','Fusiontables.php',823],['lib/google/src/Google/Service','Fusiontables.php',947],['lib/google/src/Google/Service','Fusiontables.php',1141],['lib/google/src/Google/Service','Fusiontables.php',1202],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',148],['lib/htmlpurifier/HTMLPurifier','Context.php',36],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',67],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',78],['lib/lessphp','Cache.php',27],['lib/google/src/Google/Service','Blogger.php',931],['lib/google/src/Google/Service','Blogger.php',962],['lib/google/src/Google/Service','Blogger.php',1066],['lib/google/src/Google/Service','Blogger.php',1184],['lib/google/src/Google/Service','Blogger.php',1226],['lib/google/src/Google/Service','Blogger.php',1365],['lib/google/src/Google/Service','Blogger.php',1448],['lib/google/src/Google/Service','Blogger.php',1669],['lib/google/src/Google/Service','Doubleclicksearch.php',256],['lib/google/src/Google/Service','Doubleclicksearch.php',380],['lib/portfolio','plugin.php',631],['lib/google/src/Google/Service','AdExchangeBuyer.php',349],['lib/google/src/Google/Service','AdExchangeBuyer.php',419],['lib/google/src/Google/Service','AdExchangeBuyer.php',460],['lib/google/src/Google/Service','AdExchangeBuyer.php',528],['lib/google/src/Google/Service','AdExchangeBuyer.php',620],['lib/google/src/Google/Service','Manager.php',255],['lib/google/src/Google/Service','Manager.php',334],['lib/google/src/Google/Service','Reports.php',374],['lib/google/src/Google/Service','Reports.php',408],['lib/portfolio','exporter.php',134],['lib','webdavlib.php',264],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',105],['lib/simplepie/library/SimplePie/Parse','Date.php',567],['lib/google/src/Google/Service','Gmail.php',702],['lib/google/src/Google/Service','Gmail.php',859],['lib/google/src/Google/Service','Gmail.php',952],['lib/google/src/Google/Service','Gmail.php',1118],['lib/google/src/Google/Service','Gmail.php',1162],['lib/google/src/Google/Service','Plus.php',352],['lib/google/src/Google/Service','Plus.php',427],['lib/google/src/Google/Service','Plus.php',547],['lib/horde/framework/Horde/Support','ConsistentHash.php',69],['lib/testing/classes','nasty_strings.php',73],['lib/google/src/Google/Service','Mirror.php',437],['lib/google/src/Google/Service','Mirror.php',522],['lib/google/src/Google/Service','Mirror.php',562],['lib/google/src/Google/Service','Mirror.php',673],['lib/google/src/Google/Service','Mirror.php',785],['lib/google/src/Google/Service','Genomics.php',645],['lib/google/src/Google/Service','Genomics.php',744],['lib/google/src/Google/Service','Genomics.php',891],['lib/google/src/Google/Service','Genomics.php',997],['lib/google/src/Google/Service','Genomics.php',1187],['lib/google/src/Google/Service','Genomics.php',1269],['lib/google/src/Google/Service','Genomics.php',1340],['lib/google/src/Google/Service','Genomics.php',1430],['lib/google/src/Google/Service','Urlshortener.php',108],['cache/classes','interfaces.php',41],['lib/google/src/Google/Service','Dfareporting.php',421],['lib/google/src/Google/Service','Dfareporting.php',484],['lib/google/src/Google/Service','Dfareporting.php',626],['lib/google/src/Google/Service','Dfareporting.php',675],['lib/google/src/Google/Service','PlusDomains.php',467],['lib/google/src/Google/Service','PlusDomains.php',592],['lib/google/src/Google/Service','PlusDomains.php',718],['lib/google/src/Google/Service','PlusDomains.php',812],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',64],['lib/google/src/Google/Service','Licensing.php',236],['lib/google/src/Google/Service','Drive.php',1277],['lib/google/src/Google/Service','Drive.php',1313],['lib/google/src/Google/Service','Drive.php',1366],['lib/google/src/Google/Service','Drive.php',1476],['lib/google/src/Google/Service','Drive.php',1550],['lib/google/src/Google/Service','Drive.php',1706],['lib/google/src/Google/Service','Drive.php',1946],['lib/google/src/Google/Service','Drive.php',2016],['lib/google/src/Google/Service','Drive.php',2147],['lib/google/src/Google/Service','Drive.php',2241],['lib/google/src/Google/Service','Drive.php',2309],['lib/google/src/Google/Service','Drive.php',2428],['lib/google/src/Google/Service','Books.php',1343],['lib/google/src/Google/Service','Books.php',1512],['lib/google/src/Google/Service','Books.php',1564],['lib/google/src/Google/Service','Books.php',1639],['lib/google/src/Google/Service','Books.php',1819],['lib/google/src/Google/Service','Books.php',1960],['lib/google/src/Google/Service','Books.php',2077],['lib/google/src/Google/Service','Books.php',2175],['lib/google/src/Google/Service','Books.php',2207],['lib/zend/Zend/Gdata','App.php',847],['lib/google/src/Google/Service','AdExchangeSeller.php',443],['lib/google/src/Google/Service','AdExchangeSeller.php',551],['lib/google/src/Google/Service','AdExchangeSeller.php',665],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',58],['lib/google/src/Google/Cache','Memcache.php',72],['lib/google/src/Google/Service','Bigquery.php',533],['lib/google/src/Google/Service','Bigquery.php',633],['lib/google/src/Google/Service','Bigquery.php',838],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',108],['cache','disabledlib.php',55],['lib/zend/Zend/Server','Cache.php',78],['lib/google/src/Google/Service','Groupssettings.php',107],['cache/stores/memcached','lib.php',285],['lib/google/src/Google/Service','Coordinate.php',476],['lib/google/src/Google/Service','Coordinate.php',642],['lib/zend/Zend','Registry.php',130],['lib/google/src/Google/Service','Webmasters.php',314],['lib/google/src/Google/Service','Webmasters.php',403],['lib/google/src/Google/Service','Webmasters.php',479],['lib/google/src/Google/Service','Autoscaler.php',330],['lib/google/src/Google/Service','Autoscaler.php',444],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',981],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16595],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',65],['lib/google/src/Google/Service','ShoppingContent.php',567],['lib/google/src/Google/Service','ShoppingContent.php',675],['lib/google/src/Google/Service','ShoppingContent.php',749],['lib/google/src/Google/Service','ShoppingContent.php',857],['lib/google/src/Google/Service','ShoppingContent.php',985],['lib/google/src/Google/Service','ShoppingContent.php',1062],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',34],['lib/editor/tinymce/classes','plugin.php',447],['mod/lesson','locallib.php',3239],['lib/horde/framework/Horde','Variables.php',135],['lib/google/src/Google/Service','SQLAdmin.php',528],['lib/google/src/Google/Service','SQLAdmin.php',664],['lib/google/src/Google/Service','SQLAdmin.php',872],['lib/google/src/Google/Service','SQLAdmin.php',941],['lib/google/src/Google/Service','Fitness.php',363],['lib/google/src/Google/Service','Fitness.php',489],['lib/google/src/Google/Service','TagManager.php',977],['lib/google/src/Google/Service','TagManager.php',1063],['lib/google/src/Google/Service','TagManager.php',1155],['lib/google/src/Google/Service','TagManager.php',1248],['lib/google/src/Google/Service','TagManager.php',1341],['lib/google/src/Google/Service','TagManager.php',1434],['lib/google/src/Google/Service','TagManager.php',1528],['lib/google/src/Google/Service','TagManager.php',1622],['lib/google/src/Google/Service','TagManager.php',1772],['lib/google/src/Google/Service','Directory.php',1315],['lib/google/src/Google/Service','Directory.php',1383],['lib/google/src/Google/Service','Directory.php',1490],['lib/google/src/Google/Service','Directory.php',1656],['lib/google/src/Google/Service','Directory.php',1783],['lib/google/src/Google/Service','Directory.php',1853],['lib/google/src/Google/Service','Directory.php',1949],['lib/google/src/Google/Service','Directory.php',2056],['lib/google/src/Google/Service','Directory.php',2160],['lib/google/src/Google/Service','Directory.php',2218],['lib/google/src/Google/Service','Directory.php',2493],['lib/htmlpurifier/HTMLPurifier','Config.php',161],['cache/stores/static','lib.php',220],['question/engine','states.php',116],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',52],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',76],['lib/google/src/Google/Service','AppState.php',170],['lib/google/src/Google/Service','Taskqueue.php',263],['lib/google/src/Google/Service','Taskqueue.php',307],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',46],['lib/google/src/Google/Service','Container.php',364],['lib/google/src/Google/Service','Container.php',411],['lib/portfolio','caller.php',170],['lib/portfolio','caller.php',538],['lib/google/src/Google/Service','AndroidPublisher.php',1194],['lib/google/src/Google/Service','AndroidPublisher.php',1296],['lib/google/src/Google/Service','AndroidPublisher.php',1437],['lib/google/src/Google/Service','AndroidPublisher.php',1500],['lib/google/src/Google/Service','AndroidPublisher.php',1723],['lib/google/src/Google/Service','AndroidPublisher.php',1811],['lib/google/src/Google/Service','AndroidPublisher.php',1875],['lib/google/src/Google/Service','AndroidPublisher.php',1987],['lib/google/src/Google/Service','AndroidPublisher.php',2112],['lib/google/src/Google/Service','AndroidPublisher.php',2182],['lib/zend/Zend','Date.php',516],['lib/google/src/Google/Service','AdSenseHost.php',644],['lib/google/src/Google/Service','AdSenseHost.php',685],['lib/google/src/Google/Service','AdSenseHost.php',750],['lib/google/src/Google/Service','AdSenseHost.php',917],['lib/google/src/Google/Service','AdSenseHost.php',1025],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',74],['cache/stores/memcache','lib.php',312],['lib/google/src/Google/Service','Games.php',1219],['lib/google/src/Google/Service','Games.php',1338],['lib/google/src/Google/Service','Games.php',1440],['lib/google/src/Google/Service','Games.php',1698],['lib/google/src/Google/Service','Games.php',1805],['lib/google/src/Google/Service','Games.php',1947],['lib/google/src/Google/Service','Games.php',2081],['lib','filelib.php',3341],['lib','filelib.php',3589],['lib','oauthlib.php',302],['lib/google/src/Google/Service','MapsEngine.php',1529],['lib/google/src/Google/Service','MapsEngine.php',1708],['lib/google/src/Google/Service','MapsEngine.php',2005],['lib/google/src/Google/Service','MapsEngine.php',2267],['lib/google/src/Google/Service','MapsEngine.php',2359],['lib/google/src/Google/Service','MapsEngine.php',2665],['lib/google/src/Google/Service','MapsEngine.php',2926],['lib/google/src/Google/Service','MapsEngine.php',3117],['lib/minify/lib','JSMinPlus.php',1827],['lib/google/src/Google/Service','SiteVerification.php',151],['lib/horde/framework/Horde/Support','Array.php',30],['lib/google/src/Google/Service','Prediction.php',275],['cache/stores/session','lib.php',225],['cache/classes','dummystore.php',141],['lib/google/src/Google/Service','Compute.php',2828],['lib/google/src/Google/Service','Compute.php',2911],['lib/google/src/Google/Service','Compute.php',3050],['lib/google/src/Google/Service','Compute.php',3155],['lib/google/src/Google/Service','Compute.php',3240],['lib/google/src/Google/Service','Compute.php',3377],['lib/google/src/Google/Service','Compute.php',3478],['lib/google/src/Google/Service','Compute.php',3558],['lib/google/src/Google/Service','Compute.php',3676],['lib/google/src/Google/Service','Compute.php',3741],['lib/google/src/Google/Service','Compute.php',3876],['lib/google/src/Google/Service','Compute.php',3957],['lib/google/src/Google/Service','Compute.php',4132],['lib/google/src/Google/Service','Compute.php',4306],['lib/google/src/Google/Service','Compute.php',4355],['lib/google/src/Google/Service','Compute.php',4421],['lib/google/src/Google/Service','Compute.php',4486],['lib/google/src/Google/Service','Compute.php',4559],['lib/google/src/Google/Service','Compute.php',4611],['lib/google/src/Google/Service','Compute.php',4675],['lib/google/src/Google/Service','Compute.php',4756],['lib/google/src/Google/Service','Compute.php',4822],['lib/google/src/Google/Service','Compute.php',4943],['lib/google/src/Google/Service','Compute.php',5085],['lib/google/src/Google/Service','Compute.php',5244],['lib/google/src/Google/Service','Compute.php',5376],['lib/google/src/Google/Service','Compute.php',5428],['lib/horde/framework/Horde/Imap/Client','Cache.php',88],['lib/google/src/Google/Service','Calendar.php',900],['lib/google/src/Google/Service','Calendar.php',1053],['lib/google/src/Google/Service','Calendar.php',1241],['lib/google/src/Google/Service','Calendar.php',1337],['lib/google/src/Google/Service','Calendar.php',1379],['lib/google/src/Google/Service','Calendar.php',1780],['lib/google/src/Google/Service','Analytics.php',1891],['lib/google/src/Google/Service','Analytics.php',1940],['lib/google/src/Google/Service','Analytics.php',1987],['lib/google/src/Google/Service','Analytics.php',2309],['lib/google/src/Google/Service','Analytics.php',2429],['lib/google/src/Google/Service','Analytics.php',2522],['lib/google/src/Google/Service','Analytics.php',2648],['lib/google/src/Google/Service','Analytics.php',2867],['lib/google/src/Google/Service','Analytics.php',3004],['lib/google/src/Google/Service','Analytics.php',3095],['lib/google/src/Google/Service','Analytics.php',3197],['lib/google/src/Google/Service','Analytics.php',3308],['lib/google/src/Google/Service','Tasks.php',322],['lib/google/src/Google/Service','Tasks.php',441],['lib/behat/classes','behat_context_helper.php',66],['backup/cc/cc_lib/gral_lib','cssparser.php',137],['cache/classes','loaders.php',270],['cache/classes','loaders.php',1442],['cache/classes','loaders.php',1749],['cache/stores/mongodb','lib.php',252],['lib/zend/Zend/Service','Audioscrobbler.php',110],['lib/google/src/Google/Service','Oauth2.php',143],['lib/google/src/Google/Service','Oauth2.php',180],['cache/stores/file','lib.php',329],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',79],['lib/google/src/Google/Service','Storage.php',962],['lib/google/src/Google/Service','Storage.php',1078],['lib/google/src/Google/Service','Storage.php',1244],['lib/google/src/Google/Service','Storage.php',1370],['lib/google/src/Google/Service','Storage.php',1592],['lib/google/src/Google/Cache','Null.php',34],['lib/google/src/Google/Service','AdSense.php',1075],['lib/google/src/Google/Service','AdSense.php',1154],['lib/google/src/Google/Service','AdSense.php',1302],['lib/google/src/Google/Service','AdSense.php',1518],['lib/google/src/Google/Service','AdSense.php',1630],['lib/google/src/Google/Service','AdSense.php',1772],['lib/google/src/Google/Service','AdSense.php',2046],['lib/google/src/Google/Service','Pubsub.php',254],['lib/google/src/Google/Service','Pubsub.php',393],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',27],['lib/google/src/Google/Cache','File.php',45],['lib','navigationlib.php',382],['lib','navigationlib.php',833],['lib','navigationlib.php',2693],['lib','navigationlib.php',3126],['lib/google/src/Google/Service','Dns.php',299],['lib/google/src/Google/Service','Dns.php',385],['lib/google/src/Google/Service','Dns.php',434],['lib/mustache/src/Mustache','HelperCollection.php',81],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',68],['lib/google/src/Google/Service','Replicapool.php',416],['lib/google/src/Google/Service','Replicapool.php',571],['lib/google/src/Google/Service','Resourceviews.php',350],['lib/google/src/Google/Service','Resourceviews.php',435],['lib','coursecatlib.php',215],['lib/google/src/Google/Cache','Apc.php',50],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',163]], 21003],
'export_verify_grades': ['export_verify_grades', 'Verify that there is a valid set of grades to export. ', [['grade/export','lib.php',670]], 5],
'get_name': ['get_name', 'Return localised event name. ', [['report/log/classes/event','user_report_viewed.php',54],['mod/wiki/classes/event','page_deleted.php',54],['mod/forum/classes/message/inbound','reply_handler.php',50],['mod/chat/classes/event','sessions_viewed.php',65],['mod/glossary/classes/event','category_deleted.php',46],['mod/workshop/classes/event','assessment_evaluations_reset.php',75],['lib/classes/event','tag_updated.php',58],['lib/classes/event','course_resources_list_viewed.php',60],['mod/lesson/classes/event','content_page_viewed.php',48],['lib/classes/event','blog_association_created.php',56],['lib/classes/event','user_profile_viewed.php',56],['mod/feedback/classes/event','response_submitted.php',60],['backup/util/plan','base_plan.class.php',50],['lib/classes/event','badge_awarded.php',54],['report/outline/classes/event','report_viewed.php',54],['question/classes/bank','checkbox_column.php',32],['mod/assign/classes/event','extension_granted.php',77],['admin/tool/capability/classes/event','report_viewed.php',47],['portfolio/picasa','lib.php',33],['lib/classes/event','message_viewed.php',54],['lib/classes/event','course_category_created.php',48],['mod/quiz/classes/event','group_override_updated.php',54],['lib/classes/task','context_cleanup_task.php',32],['mod/survey/classes/event','response_submitted.php',53],['mod/book/tool/exportimscp/classes/event','book_exported.php',76],['cache/classes','definition.php',604],['report/loglive/classes/event','report_viewed.php',48],['mod/forum/classes/event','post_deleted.php',67],['mod/assign/classes/event','submission_duplicated.php',77],['mod/chat/classes/event','message_sent.php',59],['mod/workshop/classes/event','submission_created.php',63],['lib/classes/event','note_updated.php',56],['mod/lesson/classes/event','group_override_deleted.php',54],['mod/feedback/classes/event','response_deleted.php',57],['lib/classes/event','course_module_instance_list_viewed.php',75],['mod/assign/classes/event','submission_locked.php',78],['enrol/imsenterprise/classes/task','cron_task.php',34],['mod/lesson/classes/event','page_updated.php',72],['admin/tool/messageinbound/classes/task','cleanup_task.php',38],['mod/forum/classes/event','discussion_subscription_deleted.php',66],['mod/quiz/classes/event','attempt_preview_started.php',54],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',79],['mod/lesson/classes/event','user_override_updated.php',54],['lib/classes/task','calendar_cron_task.php',31],['mod/quiz/classes/event','report_viewed.php',56],['mod/lesson/classes/event','question_answered.php',54],['lib/portfolio','plugin.php',120],['mod/forum/classes/event','discussion_viewed.php',60],['mod/workshop/classes/event','submission_viewed.php',63],['lib/classes/task','registration_cron_task.php',31],['mod/assign/submission/file','locallib.php',44],['mod/assign/classes/event','submission_updated.php',57],['mod/workshop/classes/event','submission_reassessed.php',77],['mod/glossary/classes/event','entry_deleted.php',54],['lib/classes/task','portfolio_cron_task.php',31],['lib/classes/event','user_created.php',48],['question/classes/bank','preview_action_column.php',26],['mod/data/classes/event','field_updated.php',57],['mod/assign/submission/onlinetext','locallib.php',40],['mod/data/classes/event','template_updated.php',56],['lib/classes/event','comment_created.php',58],['lib/classes/event','cohort_deleted.php',49],['lib/grade','grade_item.php',1274],['mod/scorm/classes/event','tracks_viewed.php',64],['lib/classes/task','file_temp_cleanup_task.php',31],['lib/classes/event','course_viewed.php',75],['grade/report/overview/classes/event','grade_report_viewed.php',48],['lib/classes/task','stats_cron_task.php',31],['grade/report/user/classes/event','grade_report_viewed.php',48],['lib/classes/event','course_content_deleted.php',54],['lib/classes/task','backup_cleanup_task.php',31],['grade/report/singleview/classes/event','grade_report_viewed.php',39],['mod/quiz/classes/event','attempt_abandoned.php',63],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',31],['mod/workshop/classes/event','phase_switched.php',75],['lib/classes/event','base.php',282],['grade/report/history/classes/event','grade_report_viewed.php',39],['lib/classes/event','content_viewed.php',80],['backup/util/ui','backup_ui.class.php',194],['lib/classes/event','course_completion_updated.php',47],['report/completion/classes/event','report_viewed.php',49],['lib/dml','pgsql_native_moodle_database.php',88],['backup/util/settings','base_setting.class.php',145],['lib/classes/task','messaging_cleanup_task.php',31],['question/classes/bank','modifier_name_column.php',27],['mod/forum/classes/event','discussion_updated.php',65],['lib/classes/event','course_reset_ended.php',53],['mod/choice/classes/event','answer_submitted.php',72],['mod/forum/classes/event','assessable_uploaded.php',86],['mod/wiki/classes/event','page_diff_viewed.php',55],['lib/classes/event','course_category_updated.php',51],['admin/tool/langimport/classes/event','langpack_updated.php',80],['lib/classes/task','session_cleanup_task.php',31],['lib/classes/task','completion_cron_task.php',31],['lib/classes/event','webservice_service_created.php',65],['lib/classes/event','course_created.php',55],['lib/dml','oci_native_moodle_database.php',94],['mod/lesson/classes/event','lesson_started.php',48],['mod/assign/classes/event','grading_table_viewed.php',79],['lib/classes/event','calendar_event_deleted.php',58],['backup/util/plan','base_task.class.php',58],['lib/classes/event','group_created.php',65],['mod/quiz/classes/event','user_override_created.php',53],['mod/glossary/classes/event','category_updated.php',46],['repository/coursefiles','lib.php',183],['mod/assign/classes/event','submission_viewed.php',76],['mod/glossary/classes/event','entry_disapproved.php',46],['lib/classes/event','user_password_updated.php',70],['mod/assign/classes/event','all_submissions_downloaded.php',75],['lib/dml','mariadb_native_moodle_database.php',41],['lib/classes/event','role_deleted.php',55],['admin/tool/log/store/legacy/tests/fixtures','event.php',31],['backup/util/ui','restore_ui.class.php',349],['lib/classes/event','user_loggedinas.php',57],['mod/assign/classes/event','submission_confirmation_form_viewed.php',79],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',62],['lib','modinfolib.php',1285],['mod/lesson/classes/event','essay_attempt_viewed.php',48],['mod/forum/classes/event','discussion_moved.php',66],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',83],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',79],['mod/survey/classes/event','report_downloaded.php',55],['mod/wiki/classes/event','page_updated.php',54],['admin/tool/log/store/standard/tests/fixtures','event.php',31],['mod/assign/classes/event','submission_unlocked.php',78],['lib/classes/event','user_list_viewed.php',56],['mod/forum/classes/event','readtracking_disabled.php',64],['lib/classes/event','comments_viewed.php',51],['lib/classes/event','cohort_member_added.php',49],['lib/classes/event','grouping_created.php',65],['lib/classes/event','recent_activity_viewed.php',49],['lib/classes/event','role_allow_switch_updated.php',47],['lib/dml','sqlsrv_native_moodle_database.php',102],['admin/tool/messageinbound/classes/message/inbound','invalid_recipient_handler.php',60],['mod/lti','OAuth.php',122],['mod/lti','OAuth.php',149],['mod/lti','OAuth.php',173],['question/classes/bank','question_name_column.php',28],['lib/classes/event','user_login_failed.php',56],['lib/classes/event','message_contact_added.php',48],['lib','enrollib.php',1075],['question/classes/bank','question_text_row.php',35],['lib/classes/event','role_allow_assign_updated.php',47],['mod/quiz/classes/event','user_override_deleted.php',53],['user/selector','lib.php',309],['mod/quiz/classes/event','edit_page_viewed.php',53],['lib/classes/event','email_failed.php',48],['portfolio/flickr','lib.php',41],['admin/tool/langimport/classes/task','update_langpacks_task.php',35],['lib/classes/event','tag_removed.php',58],['mod/lesson/classes/event','highscores_viewed.php',48],['report/stats/classes/event','user_report_viewed.php',48],['mod/quiz/classes/event','group_override_deleted.php',54],['mod/book/classes/event','chapter_updated.php',79],['lib/classes/log','reader.php',30],['mod/lesson/classes/event','question_viewed.php',54],['mod/scorm/classes/event','interactions_viewed.php',63],['lib/classes/event','course_module_updated.php',57],['mod/forum/classes/event','discussion_subscription_created.php',66],['lib/classes/task','plagiarism_cron_task.php',31],['mod/quiz/classes/event','question_manually_graded.php',55],['lib/classes/event','mnet_access_control_created.php',57],['lib/classes/event','role_assigned.php',56],['admin/tool/messageinbound/classes/task','pickup_task.php',38],['mod/lti/classes/local/ltiservice','service_base.php',87],['lib/classes/event','unknown_logged.php',43],['lib/simplepie/library/SimplePie','Author.php',106],['mod/scorm/classes/event','user_report_viewed.php',62],['admin/tool/monitor/classes/event','subscription_criteria_met.php',55],['mod/forum/classes/task','cron_task.php',30],['report/participation/classes/event','report_viewed.php',58],['lib/classes/event','user_updated.php',48],['backup/util/plan','base_step.class.php',49],['lib/classes/event','course_section_updated.php',56],['lib/classes/event','comment_deleted.php',58],['mod/assign/classes/event','marker_updated.php',89],['lib/classes/event','webservice_login_failed.php',71],['mod/assign/submission/file/classes/event','assessable_uploaded.php',85],['admin/tool/log/store/database/tests/fixtures','event.php',31],['mod/lti/classes/event','unknown_service_api_called.php',82],['lib/classes/event','cohort_updated.php',49],['mod/assign/submission/comments','locallib.php',39],['lib/editor/tinymce/classes','plugin.php',101],['mod/forum/classes/event','post_updated.php',67],['mod/book/classes/event','chapter_viewed.php',79],['portfolio/download','lib.php',9],['lib/classes/event','note_deleted.php',56],['lib/classes/event','user_loggedout.php',54],['lib/classes/event','grade_report_viewed.php',54],['lib/classes/task','file_trash_cleanup_task.php',31],['mod/assign/classes/event','workflow_state_updated.php',88],['mod/book/classes/event','chapter_deleted.php',79],['lib/classes/event','course_deleted.php',56],['lib/classes/event','blog_entry_deleted.php',53],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',35],['question/classes/bank','copy_action_column.php',35],['mod/assign/feedback/editpdf','locallib.php',43],['lib/classes/event','webservice_token_created.php',65],['lib/tests/fixtures','task_fixtures.php',35],['lib/tests/fixtures','task_fixtures.php',44],['lib/tests/fixtures','task_fixtures.php',53],['mod/forum/classes/event','course_searched.php',66],['lib/classes/event','group_updated.php',65],['mod/quiz/classes/event','attempt_started.php',56],['mod/lesson/classes/event','group_override_updated.php',54],['lib/classes/event','course_module_viewed.php',62],['lib/classes/event','mnet_access_control_updated.php',57],['mod/quiz/classes/question/bank','add_action_column.php',45],['question/classes/bank','edit_action_column.php',35],['lib/classes/message/inbound','private_files_handler.php',56],['lib/tests/fixtures','event_fixtures.php',34],['lib/classes/task','password_reset_cleanup_task.php',31],['mod/quiz/classes/event','attempt_submitted.php',63],['mod/data/classes/event','field_created.php',58],['lib/classes/task','automated_backup_task.php',31],['lib/classes/event','question_category_created.php',48],['admin/tool/monitor/classes/event','rule_deleted.php',50],['backup/util/ui','restore_ui_stage.class.php',75],['backup/converter/moodle1','lib.php',1033],['mod/lesson/classes/event','group_override_created.php',55],['mod/workshop/classes/event','assessments_reset.php',74],['mod/lesson/classes/event','lesson_resumed.php',48],['mod/assign/classes/event','feedback_viewed.php',76],['grade/report/outcomes/classes/event','grade_report_viewed.php',39],['lib/classes/event','blog_entry_updated.php',74],['report/questioninstances/classes/event','report_viewed.php',55],['mod/assign/classes/event','submission_form_viewed.php',82],['mod/folder/classes/event','folder_updated.php',48],['mod/assign/classes/event','submission_created.php',57],['mod/assign/classes/event','statement_accepted.php',77],['lib/classes/event','grade_deleted.php',94],['lib/classes/event','role_capabilities_updated.php',51],['lib/classes/event','blog_entries_viewed.php',62],['lib/tests','messageinbound_test.php',170],['mod/wiki/classes/event','page_viewed.php',48],['lib/classes/event','group_deleted.php',65],['question/classes/bank','delete_action_column.php',36],['lib/classes/event','webservice_token_sent.php',56],['mod/quiz/classes/event','attempt_becameoverdue.php',66],['lib/classes/task','create_contexts_task.php',31],['mod/quiz/classes/event','attempt_viewed.php',54],['mod/assign/classes/event','submission_status_updated.php',79],['mod/assign/classes/event','grading_form_viewed.php',82],['calendar/tests','calendartype_test_example.php',32],['lib/classes/event','course_module_completion_updated.php',48],['mod/assign/feedback/file','locallib.php',45],['mod/workshop/classes/event','assessment_evaluated.php',66],['report/log/classes/event','report_viewed.php',58],['lib/classes/event','course_module_deleted.php',56],['lib/dml','mssql_native_moodle_database.php',83],['repository','lib.php',1884],['mod/book/classes/event','chapter_created.php',79],['mod/quiz/classes/question/bank','question_name_text_column.php',37],['mod/workshop/classes/event','submission_assessed.php',76],['lib/classes/event','cohort_created.php',49],['lib/classes/event','webservice_function_called.php',67],['mod/scorm/classes/event','sco_launched.php',64],['lib/classes/event','blog_entry_created.php',76],['lib/classes/event','user_enrolment_created.php',53],['mod/data/classes/event','record_created.php',56],['mod/quiz/classes/event','attempt_summary_viewed.php',56],['lib/classes/event','user_enrolment_updated.php',53],['admin/tool/log/store/standard/classes/task','cleanup_task.php',31],['mod/quiz/classes/event','attempt_reviewed.php',53],['lib/classes/task','cache_cleanup_task.php',31],['mod/lesson/classes/event','page_moved.php',56],['mod/glossary/classes/event','category_created.php',46],['mod/lesson/classes/event','page_created.php',54],['lib/classes/event','cohort_member_removed.php',50],['grade/report/singleview/classes/local/ui','unique_name.php',38],['mod/wiki/classes/event','page_version_viewed.php',54],['lib/classes/task','badges_cron_task.php',31],['lib/classes/event','role_allow_override_updated.php',47],['lib/classes/task','cache_cron_task.php',31],['mod/workshop/classes/event','assessable_uploaded.php',93],['lib/classes/event','grouping_updated.php',65],['admin/tool/monitor/classes/event','rule_updated.php',50],['lib/classes/event','course_module_created.php',86],['lib/classes/event','tag_added.php',58],['admin/tool/langimport/classes/event','langpack_removed.php',89],['mod/assign/classes/event','assessable_submitted.php',109],['mod/workshop/classes/event','submission_updated.php',63],['mod/lesson/classes/event','page_deleted.php',54],['lib/classes/event','grouping_deleted.php',72],['backup/util/ui','backup_ui_setting.class.php',86],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',56],['backup/converter','convertlib.php',109],['lib/classes/event','tag_flagged.php',55],['mod/wiki/classes/event','page_history_viewed.php',48],['lib/classes/task','question_cron_task.php',31],['mod/survey/classes/event','report_viewed.php',55],['lib/classes/event','tag_created.php',55],['report/stats/classes/event','report_viewed.php',56],['lib/classes/event','note_created.php',56],['lib/simplepie/library/SimplePie','Credit.php',139],['lib/bennu','iCalendar_components.php',37],['lib/dml','mysqli_native_moodle_database.php',352],['lib/classes/event','course_reset_started.php',53],['admin/tool/monitor/classes/event','subscription_created.php',50],['mod/book/tool/print/classes/event','book_printed.php',76],['lib/classes/event','webservice_service_user_removed.php',59],['mod/data/classes/event','record_deleted.php',56],['mod/choice/classes/event','answer_updated.php',72],['message/tests/fixtures','inbound_fixtures.php',41],['lib/classes/event','group_member_removed.php',69],['mod/glossary/classes/event','entry_viewed.php',48],['mod/forum/classes/event','user_report_viewed.php',65],['lib/classes/event','course_category_deleted.php',59],['lib/classes/task','events_cron_task.php',31],['mod/forum/classes/event','subscription_created.php',65],['lib/classes/event','calendar_event_created.php',58],['lib/classes/event','message_contact_blocked.php',48],['lib/classes/event','webservice_service_updated.php',59],['backup/util/ui','base_ui_stage.class.php',110],['mod/wiki/classes/event','page_version_restored.php',54],['lib/classes/task','delete_unconfirmed_users_task.php',31],['mod/data/classes/event','template_viewed.php',55],['lib/classes/event','course_user_report_viewed.php',66],['mod/data/classes/event','record_updated.php',56],['mod/wiki/classes/event','page_map_viewed.php',54],['mod/wiki/classes/event','page_locks_deleted.php',54],['lib/classes/event','webservice_service_deleted.php',59],['lib/grade','grade_category.php',2128],['mod/forum/classes/event','readtracking_enabled.php',64],['mod/assign/feedback/comments','locallib.php',36],['question/behaviour','behaviourbase.php',83],['calendar/type/gregorian/classes','structure.php',29],['lib/classes/event','role_unassigned.php',53],['lib/classes/task','tag_cron_task.php',31],['lib/classes/task','blog_cron_task.php',31],['lib/classes/event','course_restored.php',58],['backup/util/structure','base_atom.class.php',71],['portfolio/boxnet','lib.php',14],['mod/choice/classes/event','report_viewed.php',47],['lib/classes/event','user_deleted.php',57],['lib/classes/event','user_enrolment_deleted.php',54],['lib/classes/task','send_failed_login_notifications_task.php',34],['mod/book/tool/print/classes/event','chapter_printed.php',79],['mod/assign/classes/event','identities_revealed.php',75],['lib/classes/event','user_graded.php',96],['lib/classes/event','course_updated.php',58],['admin/tool/log/classes/helper','reader.php',41],['mod/forum/classes/event','post_created.php',67],['mod/data/classes/event','field_deleted.php',57],['lib/classes/event','tag_deleted.php',55],['mod/glossary/classes/event','entry_created.php',52],['mod/forum/classes/event','discussion_created.php',65],['mod/forum/classes/event','discussion_deleted.php',66],['mod/scorm/classes/event','attempt_deleted.php',62],['mod/lesson/classes/event','lesson_ended.php',49],['lib/grade','grade_scale.php',156],['admin/tool/monitor/classes','subscription.php',123],['mod/forum/classes/event','subscribers_viewed.php',65],['backup/util/structure','restore_path_element.class.php',98],['mod/scorm/classes/event','report_viewed.php',63],['lib/classes/task','grade_cron_task.php',31],['grade/report/grader/classes/event','grade_report_viewed.php',39],['lib/dml/tests','dml_test.php',5409],['mod/lesson/classes/event','user_override_deleted.php',53],['report/completion/classes/event','user_report_viewed.php',49],['admin/tool/langimport/classes/event','langpack_imported.php',80],['mod/forum/classes/event','subscription_deleted.php',65],['mod/assign/feedback/offline','locallib.php',42],['mod/lesson/classes/event','highscore_added.php',56],['mod/lesson/classes/event','essay_assessed.php',78],['lib/classes/event','message_sent.php',82],['lib/classes/event','message_contact_removed.php',48],['lib/classes/event','tag_unflagged.php',55],['mod/assign/classes/event','submission_graded.php',78],['lib','csslib.php',2155],['lib','csslib.php',2283],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',79],['report/outline/classes/event','activity_report_viewed.php',48],['lib/classes/event','calendar_event_updated.php',58],['mod/lesson/classes/event','user_override_created.php',53],['lib/classes/task','legacy_plugin_cron_task.php',33],['portfolio/googledocs','lib.php',54],['mod/workshop/classes/event','assessment_reevaluated.php',76],['lib/dml','pdo_moodle_database.php',113],['lib','medialib.php',345],['mod/quiz/classes/event','user_override_updated.php',54],['lib/classes/event','webservice_service_user_added.php',59],['admin/tool/monitor/classes/event','subscription_deleted.php',50],['lib/classes/event','notes_viewed.php',49],['mod/glossary/classes/event','entry_updated.php',52],['admin/tool/monitor/classes/event','rule_created.php',50],['lib/classes/task','check_for_updates_task.php',31],['mod/wiki/classes/event','page_version_deleted.php',54],['lib/classes/event','course_completed.php',73],['mod/assign/classes/event','submission_status_viewed.php',81],['portfolio/mahara','lib.php',61],['mod/glossary/classes/event','entry_approved.php',46],['mod/wiki/classes/event','page_created.php',48],['mod/quiz/classes/event','group_override_created.php',55],['lib/classes/task','delete_incomplete_users_task.php',31],['question/classes/bank','creator_name_column.php',28],['lib/classes/event','group_member_added.php',78],['lib/classes/event','message_contact_unblocked.php',48],['mod/quiz/classes/event','attempt_deleted.php',47],['lib/classes/task','send_new_user_passwords_task.php',31],['lib/classes/event','user_loggedin.php',64],['admin/tool/monitor/classes/task','clean_events.php',32],['question/classes/bank','question_type_column.php',26],['admin/tool/monitor/classes','rule.php',239],['mod/lesson/classes/event','lesson_restarted.php',48],['lib/grade','grade_outcome.php',272]], 409],
'get_fast_modinfo': ['get_fast_modinfo', 'Returns reference to full info about modules in course (including visibility). Cached and as fast as possible (0 or 1 db query). ', [['lib','modinfolib.php',2001]], 277],
'fetch_course_tree': ['fetch_course_tree', 'Returns tree with all grade_items and categories as elements ', [['lib/grade','grade_category.php',1825]], 2],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'out': ['out', 'Returns the string ', [['lib','moodlelib.php',9451],['lib','weblib.php',547],['lib','tablelib.php',1526],['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['report/loglive/classes','table_log_ajax.php',37]], 549],
'is_hidden': ['is_hidden', 'Returns the current hidden state of this grade_item ', [['lib/grade','grade_object.php',415],['lib/grade','grade_grade.php',503],['lib','adminlib.php',709],['lib','adminlib.php',996],['lib','adminlib.php',1306],['lib','adminlib.php',1503]], 55],
'span': ['span', 'Creates a <span> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1841]], 119],
'get_items': ['get_items', 'Get all items from the feed ', [['lib/simplepie/library','SimplePie.php',2813],['admin/tool/customlang','locallib.php',413],['grade','lib.php',2449],['lib','navigationlib.php',3146]], 16],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',605]], 2167],
'unset_config': ['unset_config', 'Removes a key from global configuration. ', [['lib','moodlelib.php',1499]], 89],
'is_category_item': ['is_category_item', 'Is the grade item associated with category? ', [['lib/grade','grade_item.php',921]], 28],
'get_reset_icon': ['get_reset_icon', 'Return a reset icon for the given element. ', [['grade','lib.php',1592]], 1],
'get_plugins_import': ['get_plugins_import', 'Get information import plugins ', [['grade','lib.php',2844]], 4],
'grade_print_tabs': ['grade_print_tabs', 'Print grading plugin selection tab-based navigation. ', [['grade','lib.php',599]], 1],
'n': ['n', '', [['lib/flowplayer','flowplayer-3.2.13.js',40],['lib/phpexcel/PHPExcel/Calculation','Functions.php',503]], 628],
'get_hiding_icon': ['get_hiding_icon', 'Return hiding icon for give element ', [['grade','lib.php',1708]], 2],
'hide_natural_aggregation_upgrade_notice': ['hide_natural_aggregation_upgrade_notice', 'Hide warning about changed grades during upgrade to 2.8. ', [['grade','lib.php',461]], 1],
'valid': ['valid', '', [['lib/tests','completionlib_test.php',884],['lib/adodb','adodb.inc.php',2798],['lib/adodb','adodb.inc.php',2874],['lib/google/src/Google','Collection.php',43],['lib/zend/Zend/Server','Definition.php',258],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',378],['lib/horde/framework/Horde','Domhtml.php',331],['question/engine','questionusage.php',999],['lib/horde/framework/Horde/Imap/Client','Ids.php',419],['lib/dml','oci_native_moodle_recordset.php',76],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',329],['lib/classes/dml','recordset_walk.php',127],['lib/horde/framework/Horde/Mail/Rfc822','List.php',439],['lib/zend/Zend/Service/Delicious','PostList.php',217],['backup/util/helper','backup_array_iterator.class.php',59],['lib/dml','mssql_native_moodle_recordset.php',83],['lib/dml','pgsql_native_moodle_recordset.php',100],['backup/cc/cc_lib','cc_version11.php',47],['lib/filestorage','zip_archive.php',514],['lib/zend/Zend/Service/Amazon','ResultSet.php',161],['lib/phpexcel/PHPExcel','WorksheetIterator.php',109],['question/engine/tests','helpers.php',1221],['lib/dml','mysqli_native_moodle_recordset.php',82],['lib/zend/Zend/Gdata/App','Feed.php',177],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',140],['lib/zend/Zend/Service/Technorati','ResultSet.php',240],['lib/zend/Zend/Service/Flickr','ResultSet.php',178],['lib/zend/Zend/Uri','Http.php',270],['backup/cc/cc_lib','cc_asssesment.php',58],['backup/cc/cc_lib','cc_version1.php',47],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',182],['lib/dml','sqlsrv_native_moodle_recordset.php',129],['question/engine','questionattempt.php',1624],['question/engine','questionattempt.php',1743],['lib/zend/Zend/Service/Yahoo','ResultSet.php',186],['backup/util/helper','backup_null_iterator.class.php',49],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',119],['lib/dml','pdo_moodle_recordset.php',75]], 69],
'init': ['init', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullpage/js','fullpage.js',162],['report/log/classes/event','user_report_viewed.php',44],['mod/wiki/classes/event','page_deleted.php',43],['mod/chat/classes/event','sessions_viewed.php',83],['mod/glossary/classes/event','category_deleted.php',37],['mod/workshop/classes/event','assessment_evaluations_reset.php',45],['lib/classes/event','tag_updated.php',49],['lib/classes/event','course_resources_list_viewed.php',41],['mod/lesson/classes/event','content_page_viewed.php',39],['mod/feedback/item/captcha','lib.php',27],['lib/classes/event','blog_association_created.php',46],['lib/classes/event','user_profile_viewed.php',47],['mod/feedback/classes/event','response_submitted.php',48],['lib/classes/event','badge_awarded.php',45],['mod/lti/classes/event','course_module_viewed.php',39],['lib/htmlpurifier/HTMLPurifier/ChildDef','StrictBlockquote.php',97],['mod/resource/classes/event','course_module_viewed.php',39],['blocks/login','block_login.php',26],['report/outline/classes/event','report_viewed.php',44],['lib/editor/tinymce/plugins/moodlemedia/tinymce/js','media.js',13],['admin/tool/xmldb/actions/move_updown_table','move_updown_table.class.php',32],['question/classes/bank','checkbox_column.php',28],['mod/assign/classes/event','extension_granted.php',86],['admin/tool/capability/classes/event','report_viewed.php',36],['blocks/participants','block_participants.php',26],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','cell.js',5],['lib/classes/event','message_viewed.php',45],['lib/classes/event','course_category_created.php',39],['admin/tool/log/store/database/classes/log','store.php',62],['blocks/feedback','block_feedback.php',32],['lib/editor/tinymce/tiny_mce/3.5.11/themes/advanced/js','about.js',3],['mod/quiz/classes/event','group_override_updated.php',45],['mod/survey/classes/event','response_submitted.php',45],['mod/book/tool/exportimscp/classes/event','book_exported.php',94],['report/loglive/classes/event','report_viewed.php',38],['mod/forum/classes/event','post_deleted.php',46],['mod/folder/classes/event','course_module_viewed.php',39],['mod/assign/classes/event','submission_duplicated.php',86],['grade/report/singleview/classes/local/screen','select.php',41],['lib/adodb','adodb.inc.php',2847],['lib/adodb','adodb.inc.php',2978],['mod/chat/classes/event','message_sent.php',77],['mod/workshop/classes/event','submission_created.php',44],['lib/classes/event','note_updated.php',47],['mod/lesson/classes/event','group_override_deleted.php',45],['mod/feedback/classes/event','response_deleted.php',48],['lib/classes/event','course_module_instance_list_viewed.php',49],['lib/tests/fixtures','stats_events.php',32],['lib/tests/fixtures','stats_events.php',39],['lib/tests/fixtures','stats_events.php',46],['lib/tests/fixtures','stats_events.php',53],['mod/assign/classes/event','submission_locked.php',87],['mod/lesson/classes/event','page_updated.php',63],['mod/forum/classes/event','discussion_subscription_deleted.php',45],['mod/quiz/classes/event','attempt_preview_started.php',45],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',71],['blocks/quiz_results','block_quiz_results.php',40],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',565],['blocks/community','block_community.php',28],['mod/lesson/classes/event','user_override_updated.php',45],['mod/quiz/classes/event','report_viewed.php',46],['admin/tool/xmldb/actions/view_structure_xml','view_structure_xml.class.php',32],['mod/workshop/allocation/random','lib.php',56],['mod/lesson/classes/event','question_answered.php',45],['lib/portfolio','plugin.php',476],['mod/forum/classes/event','discussion_viewed.php',39],['mod/workshop/classes/event','submission_viewed.php',44],['admin/tool/xmldb/actions','XMLDBCheckAction.class.php',38],['mod/assign/classes/event','submission_updated.php',49],['mod/workshop/classes/event','submission_reassessed.php',46],['mod/assign/submission/onlinetext/classes/event','submission_created.php',45],['mod/glossary/classes/event','entry_deleted.php',45],['lib/classes/event','user_created.php',39],['mod/workshop/classes/event','course_module_viewed.php',42],['admin/tool/xmldb/actions/delete_xml_file','delete_xml_file.class.php',32],['mod/data/classes/event','field_updated.php',46],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','abbr.js',1],['admin/tool/xmldb/actions/edit_key','edit_key.class.php',32],['mod/data/classes/event','template_updated.php',46],['lib/classes/event','comment_created.php',47],['lib/classes/event','cohort_deleted.php',38],['mod/scorm/classes/event','tracks_viewed.php',46],['lib/classes/event','course_viewed.php',46],['grade/report/overview/classes/event','grade_report_viewed.php',39],['admin/tool/xmldb/actions/view_structure_php','view_structure_php.class.php',33],['grade/report/user/classes/event','grade_report_viewed.php',39],['lib/classes/event','course_content_deleted.php',45],['lib/google/src/Google/Service','Spectrum.php',130],['lib/lessphp','Environment.php',56],['mod/quiz/classes/event','attempt_abandoned.php',44],['admin/tool/xmldb/actions/delete_field','delete_field.class.php',32],['blocks/mnet_hosts','block_mnet_hosts.php',26],['mod/workshop/classes/event','phase_switched.php',44],['lib/classes/event','content_viewed.php',56],['mod/scorm/classes/event','course_module_viewed.php',38],['admin/tool/xmldb/actions/check_oracle_semantics','check_oracle_semantics.class.php',37],['blocks/course_overview','block_course_overview.php',38],['lib/classes/event','course_completion_updated.php',39],['report/completion/classes/event','report_viewed.php',39],['mod/forum/classes/event','discussion_updated.php',44],['lib/classes/event','course_reset_ended.php',71],['mod/glossary/classes/event','course_module_viewed.php',38],['mod/choice/classes/event','answer_submitted.php',90],['admin/tool/xmldb/actions/view_table_php','view_table_php.class.php',33],['mod/forum/classes/event','assessable_uploaded.php',104],['admin/tool/xmldb/actions/view_structure_sql','view_structure_sql.class.php',33],['mod/wiki/classes/event','page_diff_viewed.php',44],['lib/classes/event','course_category_updated.php',42],['admin/tool/langimport/classes/event','langpack_updated.php',61],['grade/report/singleview/classes/local/screen','grade.php',126],['lib/tests','blocklib_test.php',500],['lib/classes/event','webservice_service_created.php',83],['lib/classes/event','course_created.php',46],['mod/lesson/classes/event','lesson_started.php',39],['mod/assign/classes/event','grading_table_viewed.php',71],['admin/tool/xmldb/actions/move_updown_field','move_updown_field.class.php',32],['lib/classes/event','calendar_event_deleted.php',47],['mod/feedback/classes/event','course_module_viewed.php',44],['lib/classes/event','group_created.php',83],['lib/classes','component.php',116],['blocks/mentees','block_mentees.php',27],['lib/minify/lib','FirePHP.php',221],['blocks/myprofile','block_myprofile.php',40],['lib/adodb/drivers','adodb-pdo.inc.php',538],['mod/quiz/classes/event','user_override_created.php',44],['mod/glossary/classes/event','category_updated.php',37],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','attributes.js',1],['blocks/social_activities','block_social_activities.php',26],['mod/assign/classes/event','submission_viewed.php',67],['mod/glossary/classes/event','entry_disapproved.php',37],['lib/classes/event','user_password_updated.php',62],['mod/assign/classes/event','all_submissions_downloaded.php',84],['blocks/calendar_month','block_calendar_month.php',26],['mod/choice/classes/event','course_module_viewed.php',38],['lib/classes/event','role_deleted.php',46],['admin/tool/xmldb/actions/unload_xml_file','unload_xml_file.class.php',32],['auth/cas/CAS/CAS/PGTStorage','File.php',150],['question/classes/bank','column_base.php',53],['admin/tool/log/store/legacy/tests/fixtures','event.php',39],['lib/classes/event','user_loggedinas.php',46],['mod/assign/classes/event','submission_confirmation_form_viewed.php',71],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',57],['admin/tool/xmldb/actions/move_updown_index','move_updown_index.class.php',32],['mod/lesson/classes/event','essay_attempt_viewed.php',39],['mod/forum/classes/event','discussion_moved.php',45],['admin/tool/xmldb/actions/check_indexes','check_indexes.class.php',34],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',101],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',71],['mod/survey/classes/event','report_downloaded.php',46],['mod/wiki/classes/event','page_updated.php',43],['mod/chat/classes/event','course_module_viewed.php',38],['admin/tool/xmldb/actions/view_table_xml','view_table_xml.class.php',32],['admin/tool/log/store/standard/tests/fixtures','event.php',39],['mod/assign/classes/event','submission_unlocked.php',87],['admin/tool/xmldb/actions/new_field','new_field.class.php',32],['lib/classes/event','user_list_viewed.php',47],['mod/forum/classes/event','readtracking_disabled.php',44],['lib/classes/event','comments_viewed.php',41],['lib/classes/event','cohort_member_added.php',38],['lib/classes/event','grouping_created.php',83],['mod/assign/feedback/offline','importgradeslib.php',83],['lib/classes/event','recent_activity_viewed.php',39],['lib/classes/event','role_allow_switch_updated.php',39],['blocks/navigation','block_navigation.php',55],['lib/classes/event','user_login_failed.php',45],['lib/classes/event','message_contact_added.php',39],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',126],['mod/assign/submission/file/classes/event','submission_updated.php',45],['admin/tool/xmldb/actions/new_key','new_key.class.php',32],['question/classes/bank','question_text_row.php',29],['lib/classes/event','role_allow_assign_updated.php',39],['mod/quiz/classes/event','user_override_deleted.php',44],['mod/quiz/classes/event','edit_page_viewed.php',45],['lib/classes/event','email_failed.php',40],['mod/quiz/classes/event','course_module_viewed.php',39],['lib/classes/event','tag_removed.php',49],['mod/lesson/classes/event','highscores_viewed.php',39],['lib/zend/Zend','Registry.php',77],['report/stats/classes/event','user_report_viewed.php',38],['mod/quiz/classes/event','group_override_deleted.php',45],['mod/book/classes/event','chapter_updated.php',100],['mod/lesson/classes/event','question_viewed.php',45],['blocks/site_main_menu','block_site_main_menu.php',26],['lib/simplepie/library','SimplePie.php',1198],['mod/scorm/classes/event','interactions_viewed.php',45],['lib/classes/event','course_module_updated.php',48],['admin/tool/xmldb/actions/new_table','new_table.class.php',32],['mod/forum/classes/event','discussion_subscription_created.php',45],['mod/quiz/classes/event','question_manually_graded.php',46],['lib/classes/session','file.php',53],['lib/classes/event','mnet_access_control_created.php',48],['lib/classes/event','role_assigned.php',47],['lib/classes/event','unknown_logged.php',39],['mod/scorm/classes/event','user_report_viewed.php',45],['admin/tool/monitor/classes/event','subscription_criteria_met.php',45],['blocks/blog_tags','block_blog_tags.php',32],['mod/url/classes/event','course_module_viewed.php',39],['admin/tool/xmldb/actions/check_defaults','check_defaults.class.php',34],['report/participation/classes/event','report_viewed.php',48],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',173],['lib/classes/event','user_updated.php',39],['blocks/private_files','block_private_files.php',28],['lib/classes/event','course_section_updated.php',45],['lib/classes/event','comment_deleted.php',47],['mod/assign/classes/event','marker_updated.php',98],['lib/classes/event','webservice_login_failed.php',80],['mod/assign/submission/file/classes/event','assessable_uploaded.php',113],['admin/tool/log/store/database/tests/fixtures','event.php',39],['mod/workshop/allocation/scheduled','lib.php',52],['admin/tool/xmldb/actions/edit_index','edit_index.class.php',32],['mod/lti/classes/event','unknown_service_api_called.php',64],['blocks/news_items','block_news_items.php',33],['lib/classes/event','cohort_updated.php',38],['admin/tool/xmldb/actions/template','template.class.php',31],['mod/forum/classes/event','post_updated.php',46],['mod/book/classes/event','chapter_viewed.php',97],['lib/classes/event','note_deleted.php',47],['lib/classes/event','user_loggedout.php',44],['lib/classes/event','grade_report_viewed.php',42],['blocks/messages','block_messages.php',26],['mod/assign/submission/onlinetext/classes/event','submission_updated.php',45],['mod/assign/classes/event','workflow_state_updated.php',97],['blocks/course_summary','block_course_summary.php',26],['mod/book/classes/event','chapter_deleted.php',97],['lib/classes/event','course_deleted.php',47],['admin/tool/xmldb/actions/edit_table','edit_table.class.php',36],['lib/classes/event','blog_entry_deleted.php',43],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',31],['question/classes/bank','copy_action_column.php',30],['lib/classes/event','webservice_token_created.php',83],['lib/tcpdf/include/barcodes','qrcode.php',853],['mod/forum/classes/event','course_searched.php',45],['lib/classes/event','group_updated.php',83],['admin/tool/xmldb/actions/check_foreign_keys','check_foreign_keys.class.php',38],['mod/quiz/classes/event','attempt_started.php',37],['mod/lesson/classes/event','group_override_updated.php',45],['lib/classes/event','course_module_viewed.php',40],['lib/classes/event','mnet_access_control_updated.php',48],['mod/quiz/classes/question/bank','add_action_column.php',40],['mod/wiki/classes/event','comments_viewed.php',38],['mod/lesson/classes/event','course_module_viewed.php',40],['question/classes/bank','edit_action_column.php',29],['admin/tool/xmldb/actions/new_index','new_index.class.php',32],['lib/tests/fixtures','event_fixtures.php',42],['lib/tests/fixtures','event_fixtures.php',117],['lib/tests/fixtures','event_fixtures.php',124],['lib/tests/fixtures','event_fixtures.php',131],['lib/tests/fixtures','event_fixtures.php',139],['lib/tests/fixtures','event_fixtures.php',147],['lib/tests/fixtures','event_fixtures.php',155],['lib/tests/fixtures','event_fixtures.php',162],['lib/tests/fixtures','event_fixtures.php',170],['lib/tests/fixtures','event_fixtures.php',178],['lib/tests/fixtures','event_fixtures.php',186],['lib/tests/fixtures','event_fixtures.php',193],['lib/tests/fixtures','event_fixtures.php',201],['lib/tests/fixtures','event_fixtures.php',216],['lib/tests/fixtures','event_fixtures.php',225],['lib/tests/fixtures','event_fixtures.php',238],['lib/tests/fixtures','event_fixtures.php',267],['lib/tests/fixtures','event_fixtures.php',304],['lib/tests/fixtures','event_fixtures.php',315],['lib/tests/fixtures','event_fixtures.php',338],['lib/tests/fixtures','event_fixtures.php',345],['mod/assign/submission/file/classes/event','submission_created.php',45],['admin/tool/xmldb/actions/edit_xml_file_save','edit_xml_file_save.class.php',32],['admin/tool/xmldb/actions/new_table_from_mysql','new_table_from_mysql.class.php',33],['admin/tool/xmldb/actions/get_db_directories','get_db_directories.class.php',33],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',126],['admin/tool/xmldb/actions/main_view','main_view.class.php',35],['mod/quiz/classes/event','attempt_submitted.php',44],['mod/data/classes/event','field_created.php',47],['lib/classes/event','question_category_created.php',39],['admin/tool/monitor/classes/event','rule_deleted.php',39],['admin/tool/xmldb/actions/generate_all_documentation','generate_all_documentation.class.php',33],['admin/tool/xmldb/actions/view_index_xml','view_index_xml.class.php',32],['blocks/tag_youtube','block_tag_youtube.php',29],['backup/converter/moodle1','lib.php',111],['mod/lesson/classes/event','group_override_created.php',46],['admin/tool/xmldb/actions/edit_table_save','edit_table_save.class.php',32],['mod/workshop/classes/event','assessments_reset.php',44],['mod/lesson/classes/event','lesson_resumed.php',39],['mod/assign/classes/event','feedback_viewed.php',67],['lib/classes/event','blog_entry_updated.php',42],['report/questioninstances/classes/event','report_viewed.php',44],['mod/assign/classes/event','submission_form_viewed.php',74],['admin/tool/xmldb/actions/create_xml_file','create_xml_file.class.php',31],['mod/folder/classes/event','folder_updated.php',39],['mod/assign/classes/event','submission_created.php',49],['mod/assign/classes/event','statement_accepted.php',86],['lib/classes/event','grade_deleted.php',50],['lib/classes/event','role_capabilities_updated.php',42],['lib/classes/event','blog_entries_viewed.php',53],['admin/tool/xmldb/actions/edit_key_save','edit_key_save.class.php',33],['mod/wiki/classes/event','page_viewed.php',37],['question/engine','states.php',64],['lib/classes/event','group_deleted.php',83],['mod/imscp/classes/event','course_module_viewed.php',40],['question/classes/bank','delete_action_column.php',30],['blocks/completionstatus','block_completionstatus.php',36],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/style/js','props.js',57],['lib/classes/event','webservice_token_sent.php',65],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',126],['mod/quiz/classes/event','attempt_becameoverdue.php',47],['lib/classes/event','assessable_submitted.php',46],['mod/quiz/classes/event','attempt_viewed.php',45],['mod/assign/classes/event','submission_status_updated.php',88],['mod/page/classes/event','course_module_viewed.php',38],['mod/assign/classes/event','grading_form_viewed.php',74],['lib/editor/tinymce/tiny_mce/3.5.11/themes/advanced/js','color_picker.js',63],['blocks/badges','block_badges.php',35],['lib/classes/event','course_module_completion_updated.php',39],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','row.js',3],['mod/workshop/classes/event','assessment_evaluated.php',45],['admin/tool/xmldb/actions/edit_field','edit_field.class.php',32],['mod/book/classes/event','course_module_viewed.php',57],['blocks/activity_modules','block_activity_modules.php',29],['report/log/classes/event','report_viewed.php',48],['blocks/search_forums','block_search_forums.php',26],['admin/tool/xmldb/actions/load_xml_files','load_xml_files.class.php',32],['lib/classes/event','course_module_deleted.php',47],['mod/book/classes/event','chapter_created.php',100],['mod/workshop/classes/event','submission_assessed.php',45],['lib/classes/event','cohort_created.php',38],['lib/classes/event','webservice_function_called.php',76],['mod/scorm/classes/event','sco_launched.php',45],['lib/classes/event','blog_entry_created.php',44],['lib/classes/event','user_enrolment_created.php',44],['mod/data/classes/event','record_created.php',45],['admin/tool/xmldb/actions/delete_index','delete_index.class.php',32],['mod/quiz/classes/event','attempt_summary_viewed.php',45],['mnet','environment.php',24],['lib/classes/event','user_enrolment_updated.php',44],['mod/quiz/classes/event','attempt_reviewed.php',44],['admin/tool/xmldb/actions/save_xml_file','save_xml_file.class.php',37],['mod/lesson/classes/event','page_moved.php',47],['mod/glossary/classes/event','category_created.php',37],['lib/classes/session','database.php',65],['grade','lib.php',128],['mod/lesson/classes/event','page_created.php',45],['mod/forum/classes/event','course_module_viewed.php',39],['lib/classes/event','cohort_member_removed.php',39],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','table.js',295],['lib','csvlib.class.php',216],['mod/wiki/classes/event','page_version_viewed.php',43],['lib/classes/event','role_allow_override_updated.php',39],['mod/workshop/classes/event','assessable_uploaded.php',112],['mod/survey/classes/event','course_module_viewed.php',39],['lib/classes/event','grouping_updated.php',83],['admin/tool/monitor/classes/event','rule_updated.php',39],['lib/classes/event','course_module_created.php',48],['comment','lib.php',237],['lib/classes/event','tag_added.php',49],['lib/minify/lib','JSMinPlus.php',1753],['grade/report/singleview/classes/local/screen','user.php',94],['admin/tool/langimport/classes/event','langpack_removed.php',61],['mod/feedback/item/multichoice','lib.php',32],['mod/assign/classes/event','assessable_submitted.php',118],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','cite.js',1],['mod/workshop/classes/event','submission_updated.php',44],['mod/lesson/classes/event','page_deleted.php',45],['lib/classes/event','grouping_deleted.php',90],['blocks/section_links','block_section_links.php',34],['backup/converter','convertlib.php',211],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','acronym.js',1],['lib/classes/event','tag_flagged.php',46],['mod/wiki/classes/event','page_history_viewed.php',37],['lib/classes/session','memcache.php',88],['mod/survey/classes/event','report_viewed.php',46],['lib/classes/event','tag_created.php',46],['admin/tool/xmldb/actions/move_updown_key','move_updown_key.class.php',32],['report/stats/classes/event','report_viewed.php',46],['lib/classes/event','note_created.php',47],['blocks/blog_menu','block_blog_menu.php',32],['backup/util/xml/output','memory_xml_output.class.php',51],['blocks/selfcompletion','block_selfcompletion.php',37],['admin/tool/xmldb/actions/view_reserved_words','view_reserved_words.class.php',35],['admin/tool/xmldb/actions/view_table_sql','view_table_sql.class.php',33],['auth/cas/CAS/CAS/PGTStorage','Db.php',174],['mod/data/classes/event','course_module_viewed.php',40],['lib/classes/event','course_reset_started.php',71],['mod/feedback/item/textfield','lib.php',26],['admin/tool/monitor/classes/event','subscription_created.php',39],['admin/tool/xmldb/actions/edit_xml_file','edit_xml_file.class.php',35],['mod/book/tool/print/classes/event','book_printed.php',94],['lib/classes/event','webservice_service_user_removed.php',77],['mod/data/classes/event','record_deleted.php',45],['admin/tool/xmldb/actions/view_key_xml','view_key_xml.class.php',32],['mod/choice/classes/event','answer_updated.php',90],['blocks/online_users','block_online_users.php',31],['lib/classes/event','group_member_removed.php',87],['blocks/activity_results','block_activity_results.php',51],['admin/tool/xmldb/actions/view_xml','view_xml.class.php',32],['mod/glossary/classes/event','entry_viewed.php',39],['mod/forum/classes/event','user_report_viewed.php',45],['lib/classes/event','course_category_deleted.php',50],['mod/forum/classes/event','subscription_created.php',44],['admin/tool/xmldb/actions/check_bigints','check_bigints.class.php',32],['lib/classes/event','calendar_event_created.php',47],['blocks/blog_recent','block_blog_recent.php',33],['lib/classes/event','message_contact_blocked.php',39],['mod/feedback/item/multichoicerated','lib.php',37],['lib/classes/event','webservice_service_updated.php',77],['mod/wiki/classes/event','page_version_restored.php',43],['mod/data/classes/event','template_viewed.php',45],['blocks/admin_bookmarks','block_admin_bookmarks.php',41],['lib/classes/event','course_user_report_viewed.php',46],['mod/data/classes/event','record_updated.php',45],['mod/quiz/report','attemptsreport.php',67],['mod/wiki/classes/event','page_map_viewed.php',43],['admin/tool/log/classes/log','manager.php',39],['admin/tool/xmldb/actions/edit_index_save','edit_index_save.class.php',33],['mod/wiki/classes/event','page_locks_deleted.php',43],['lib/classes/event','webservice_service_deleted.php',77],['blocks/glossary_random','block_glossary_random.php',32],['mod/workshop/allocation/manual','lib.php',55],['mod/forum/classes/event','readtracking_enabled.php',44],['question/classes/bank/search','category_condition.php',79],['blocks/course_list','block_course_list.php',29],['lib/adodb/drivers','adodb-oci8.inc.php',1377],['lib/classes/event','role_unassigned.php',47],['mod/feedback/item/label','lib.php',29],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','del.js',1],['lib/classes/event','course_restored.php',49],['mod/choice/classes/event','report_viewed.php',38],['lib/classes/event','user_deleted.php',48],['lib/classes/event','user_enrolment_deleted.php',45],['mod/book/tool/print/classes/event','chapter_printed.php',97],['mod/assign/classes/event','identities_revealed.php',84],['lib/classes/event','user_graded.php',85],['lib/classes/event','course_updated.php',49],['blocks/tags','block_tags.php',26],['lib/classes/session','memcached.php',102],['mod/forum/classes/event','post_created.php',46],['mod/data/classes/event','field_deleted.php',46],['lib/classes/event','tag_deleted.php',46],['mod/glossary/classes/event','entry_created.php',43],['admin/tool/xmldb/actions','XMLDBAction.class.php',63],['grade/report/singleview/tests/fixtures','screen.php',38],['mod/forum/classes/event','discussion_created.php',44],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/advlink/js','advlink.js',22],['blocks/recent_activity','block_recent_activity.php',43],['mod/forum/classes/event','discussion_deleted.php',45],['mod/scorm/classes/event','attempt_deleted.php',44],['blocks/calendar_upcoming','block_calendar_upcoming.php',26],['mod/lesson/classes/event','lesson_ended.php',40],['mod/feedback/item/textarea','lib.php',26],['admin/tool/xmldb/actions/load_xml_file','load_xml_file.class.php',32],['mod/forum/classes/event','subscribers_viewed.php',45],['mod/scorm/classes/event','report_viewed.php',45],['mod/feedback/item/numeric','lib.php',27],['admin/tool/xmldb/actions/delete_table','delete_table.class.php',32],['mod/data/preset/imagegallery','jstemplate.js',4],['mod/workshop/allocation','lib.php',40],['lib','graphlib.php',158],['mod/lesson/classes/event','user_override_deleted.php',44],['report/completion/classes/event','user_report_viewed.php',39],['admin/tool/langimport/classes/event','langpack_imported.php',61],['mod/forum/classes/event','subscription_deleted.php',44],['mod/lesson/classes/event','highscore_added.php',47],['mod/lesson/classes/event','essay_assessed.php',46],['lib/classes/event','message_sent.php',74],['lib/classes/event','message_contact_removed.php',39],['lib/classes/event','tag_unflagged.php',46],['mod/assign/classes/event','submission_graded.php',87],['lib','csslib.php',1493],['lib','csslib.php',1579],['lib','csslib.php',2462],['lib','csslib.php',2572],['lib','csslib.php',2593],['lib','csslib.php',2732],['lib','csslib.php',2762],['lib','csslib.php',2792],['lib','csslib.php',2822],['lib','csslib.php',2852],['lib','csslib.php',3186],['lib','csslib.php',3266],['lib','csslib.php',3309],['lib','csslib.php',3352],['lib','csslib.php',3395],['lib','csslib.php',3438],['lib','csslib.php',3525],['lib','csslib.php',3578],['lib','csslib.php',3608],['lib','csslib.php',3638],['lib','csslib.php',3668],['lib','csslib.php',3698],['lib','csslib.php',3728],['lib','csslib.php',3758],['lib','csslib.php',3788],['lib','csslib.php',3818],['lib','csslib.php',3848],['lib','csslib.php',3878],['lib','csslib.php',3908],['lib','csslib.php',3938],['lib','csslib.php',4243],['lib','csslib.php',4277],['lib','csslib.php',4328],['lib','csslib.php',4381],['lib','csslib.php',4413],['lib','csslib.php',4464],['lib','csslib.php',4515],['lib','csslib.php',4566],['lib','csslib.php',4596],['lib','csslib.php',4626],['lib','csslib.php',4656],['lib','csslib.php',4791],['lib','csslib.php',4821],['lib','csslib.php',4851],['lib','csslib.php',4881],['lib','csslib.php',4910],['lib','csslib.php',4945],['lib','csslib.php',4977],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',71],['report/outline/classes/event','activity_report_viewed.php',38],['lib/classes/event','calendar_event_updated.php',47],['mod/lesson/classes/event','user_override_created.php',44],['blocks/html','block_html.php',27],['admin/tool/xmldb/actions/view_field_xml','view_field_xml.class.php',32],['mod/wiki/classes/event','course_module_viewed.php',38],['mod/workshop/classes/event','assessment_reevaluated.php',45],['mod/feedback/item/info','lib.php',26],['lib/classes/event','assessable_uploaded.php',53],['mod/quiz/classes/event','user_override_updated.php',45],['mod/feedback/item','feedback_item_class.php',151],['lib/classes/event','webservice_service_user_added.php',77],['admin/tool/xmldb/actions/revert_changes','revert_changes.class.php',32],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','ins.js',1],['backup/util/xml/output','file_xml_output.class.php',44],['admin/tool/monitor/classes/event','subscription_deleted.php',39],['lib/classes/event','notes_viewed.php',41],['mod/glossary/classes/event','entry_updated.php',43],['blocks/comments','block_comments.php',32],['admin/tool/monitor/classes/event','rule_created.php',39],['mod/wiki/classes/event','page_version_deleted.php',43],['lib/classes/event','course_completed.php',64],['admin/tool/xmldb/actions/edit_field_save','edit_field_save.class.php',33],['mod/assign/classes/event','submission_status_viewed.php',71],['portfolio/mahara','lib.php',53],['mod/glossary/classes/event','entry_approved.php',37],['webservice/amf/testclient','AMFTester.mxml',58],['admin/tool/xmldb/actions/delete_key','delete_key.class.php',32],['mod/wiki/classes/event','page_created.php',37],['mod/quiz/classes/event','group_override_created.php',46],['blocks/settings','block_settings.php',46],['blocks/tag_flickr','block_tag_flickr.php',30],['lib/classes/event','group_member_added.php',96],['lib/classes/event','message_contact_unblocked.php',39],['mod/quiz/classes/event','attempt_deleted.php',38],['admin/tool/xmldb/actions/generate_documentation','generate_documentation.class.php',32],['lib/classes/event','user_loggedin.php',91],['blocks/rss_client','block_rss_client.php',27],['mod/lesson/classes/event','lesson_restarted.php',39]], 446],
'__construct': ['__construct', 'Constructor ', [['lib/jabber/XMPP','Log.php',67],['lib/zend/Zend/Gdata/Books','VolumeFeed.php',41],['lib/markdown','MarkdownExtra.php',51],['lib/zend/Zend/Gdata/Books/Extension','BooksCategory.php',42],['lib/horde/framework/Horde/Support','Uuid.php',23],['lib/zend/Zend/Validate','Iban.php',106],['repository/wikimedia','wikimedia.php',35],['lib/lessphp/Tree','Operation.php',19],['lib/alfresco/Service','Version.php',38],['lib/filestorage','file_exceptions.php',36],['lib/filestorage','file_exceptions.php',57],['lib/filestorage','file_exceptions.php',89],['lib/filestorage','file_exceptions.php',108],['lib/filestorage','file_exceptions.php',129],['backup/moodle2','backup_activity_task.class.php',45],['lib/htmlpurifier/HTMLPurifier','AttrCollections.php',16],['lib/phpunit/classes','database_driver_testcase.php',55],['lib/google/src/Google/Service','Reseller.php',44],['lib/horde/framework/Horde/Imap/Client/Interaction/Command','Continuation.php',42],['lib/phpunit/classes','advanced_testcase.php',45],['lib/zend/Zend/Service/DeveloperGarden/Request','RequestAbstract.php',40],['lib','outputlib.php',447],['lib','outputlib.php',2000],['repository/filesystem','lib.php',48],['lib/zend/Zend/XmlRpc/Value','Nil.php',40],['lib/lessphp/Tree','NameValue.php',21],['lib/zend/Zend/Gdata/YouTube','UserProfileEntry.php',283],['lib/zend/Zend/Gdata/Gapps','EmailListRecipientEntry.php',69],['lib/simplepie/library/SimplePie','Restriction.php',81],['lib/filebrowser','file_info_context_course.php',39],['lib/filebrowser','file_info_context_course.php',492],['lib/filebrowser','file_info_context_course.php',596],['lib/filebrowser','file_info_context_course.php',745],['lib/minify/lib/MrClay/Cli','Arg.php',82],['lib/horde/framework/Horde/Crypt/Blowfish','Mcrypt.php',47],['lib/classes/update','checker.php',50],['lib/adodb','adodb-active-recordx.inc.php',131],['lib/phpexcel/PHPExcel','Calculation.php',1721],['lib/zend/Zend/Gdata/Photos/Extension','NumPhotos.php',50],['availability/classes','info_module.php',40],['lib/zend/Zend/Gdata/Geo/Extension','GmlPos.php',49],['lib/zend/Zend/Gdata/App/Extension','Link.php',49],['lib/zend/Zend/Gdata/Photos/Extension','Access.php',51],['lib/zend/Zend/Server/Reflection','Parameter.php',58],['lib/zend/Zend/Service/DeveloperGarden/Client','ClientAbstract.php',129],['lib/horde/framework/Horde/Imap/Client','DateTime.php',29],['lib/zend/Zend/Validate/Db','Abstract.php',79],['cache/locks/file','lib.php',66],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',180],['question/type/missingtype','edit_missingtype_form.php',38],['auth/cas/CAS/CAS','Client.php',862],['lib/horde/framework/Horde/Imap/Client/Data','Envelope.php',46],['lib/zend/Zend/Gdata/Books','VolumeQuery.php',46],['lib/minify/lib/Minify/Cache','XCache.php',22],['lib/zend/Zend/XmlRpc','Request.php',92],['lib/zend/Zend/Service/Delicious','Post.php',74],['lib/zend/Zend/Gdata/Extension','FeedLink.php',53],['lib/zend/Zend/Http/Client/Adapter','Socket.php',97],['lib/grade','grade_object.php',80],['lib/zend/Zend/Gdata/YouTube','ContactFeed.php',55],['backup/util/plan','base_plan.class.php',39],['backup/util/plan','base_plan.class.php',215],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',43],['lib/google/src/Google/Auth','LoginTicket.php',35],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',84],['lib/zend/Zend/Service/DeveloperGarden/SecurityTokenServer','Cache.php',59],['question/type/randomsamatch','question.php',114],['lib/zend/Zend/Service/WindowsAzure/Storage','SignedIdentifier.php',49],['lib/zend/Zend/Amf/Parse','OutputStream.php',40],['blocks','moodleblock.class.php',111],['lib/simplepie','autoloader.php',62],['mod/scorm','renderer.php',129],['lib/zend/Zend/Gdata/Extension','Who.php',64],['lib/zend/Zend/Gdata/Gapps','EmailListQuery.php',54],['lib/zend/Zend/Service/Simpy','LinkSet.php',47],['repository/flickr_public','lib.php',49],['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',55],['lib/google/src/Google/Service','Replicapoolupdater.php',47],['admin/tool/generator/classes','site_backend.php',58],['mod/assign','assignmentplugin.php',50],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',45],['mod/lti/service/profile/classes/local/resource','profile.php',43],['lib/htmlpurifier/HTMLPurifier/AttrDef','Integer.php',36],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',138],['backup/util/structure','base_optigroup.class.php',35],['backup/util/structure','base_optigroup.class.php',169],['lib/lessphp/Tree','Anonymous.php',21],['user','renderer.php',186],['lib/zend/Zend/Service/WindowsAzure','Storage.php',170],['lib/google/src/Google','Service.php',26],['lib/lessphp/Tree','Url.php',17],['webservice','lib.php',745],['webservice','lib.php',841],['webservice','lib.php',1120],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',270],['lib/zend/Zend/Gdata/YouTube/Extension','MediaContent.php',55],['lib/horde/framework/Horde/Support','Randomid.php',26],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','DenyElementDecorator.php',21],['lib/tests','completionlib_test.php',863],['lib/zend/Zend/Service/Amazon','Accessories.php',44],['lib/zend/Zend/Validate/Barcode','Code39ext.php',47],['mod/assign/feedback/editpdf/classes','comment.php',58],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',46],['backup/moodle2','backup_settingslib.php',42],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateListRequest.php',46],['lib/zend/Zend/XmlRpc/Value','Base64.php',40],['backup/util/structure','backup_structure_processor.class.php',45],['backup/util/structure','backup_structure_processor.class.php',133],['lib/zend/Zend/Service/WindowsAzure/Storage','Blob.php',117],['lib/lessphp','Parser.php',75],['lib/zend/Zend/Service/DeveloperGarden/Response/IpLocation','LocateIPResponse.php',47],['lib/zend/Zend/Gdata','Query.php',72],['lib/zend/Zend/Service/Technorati','TagResultSet.php',57],['lib/zend/Zend/Rest/Client','Result.php',42],['lib/lessphp/Tree','Call.php',19],['lib/zend/Zend/Server/Method','Callback.php',59],['lib/minify/lib/Minify/JS','ClosureCompiler.php',38],['mod/workshop/backup/moodle1','lib.php',308],['lib/zend/Zend/Gdata/YouTube','ActivityFeed.php',54],['admin/tool/log/store/database/classes/log','store.php',47],['lib/zend/Zend/Validate','Alpha.php',65],['lib/zend/Zend/Gdata','Gapps.php',109],['lib/zend/Zend/Service/Flickr','Result.php',174],['question/type/multianswer','edit_multianswer_form.php',58],['mod/assign/feedback/file','renderable.php',44],['lib/horde/framework/Horde','Secret.php',48],['lib/zend/Zend/Gdata/Photos/Extension','AlbumId.php',51],['lib/lessphp/SourceMap','Base64VLQ.php',67],['lib/lessphp/Tree/Mixin','Call.php',14],['auth/cas/CAS/CAS','GracefullTerminationException.php',48],['lib/google/src/Google/Service','Fusiontables.php',48],['grade/report/singleview','lib.php',69],['lib/classes/lock','lock.php',55],['grade/grading/form','lib.php',82],['grade/grading/form','lib.php',766],['blog','locallib.php',71],['blog','locallib.php',581],['blog','locallib.php',849],['blog','locallib.php',894],['blog','locallib.php',953],['blog','locallib.php',1004],['blog','locallib.php',1028],['blog','locallib.php',1038],['blog','locallib.php',1050],['blog','locallib.php',1071],['lib/zend/Zend/Gdata/Exif/Extension','Flash.php',49],['backup/cc/cc_lib','cc_general.php',38],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',61],['admin/webservice','lib.php',38],['lib/zend/Zend/Validate/File','FilesSize.php',60],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',46],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',27],['repository/boxnet','lib.php',56],['lib/htmlpurifier/HTMLPurifier','Language.php',63],['lib/zend/Zend/Validate','Int.php',53],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',62],['lib/zend/Zend/Soap','Server.php',146],['lib/zend/Zend/Gdata/Photos','PhotoEntry.php',215],['lib/zend/Zend/Service/Yahoo','LocalResult.php',111],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','GetAccountBalance.php',40],['badges/lib','backpacklib.php',40],['lib/zend/Zend/Service/Yahoo','Result.php',77],['lib/form','filemanager.php',306],['lib/lessphp/Tree','Condition.php',18],['lib/pear/PEAR','Exception.php',107],['lib/zend/Zend/Gdata/YouTube/Extension','Racy.php',45],['question/classes/bank','view.php',70],['lib/adodb','adodb.inc.php',2790],['lib/adodb','adodb.inc.php',2865],['lib/zend/Zend/Gdata/App/Extension','Text.php',45],['question/engine/upgrade/tests','helper.php',45],['lib/zend/Zend/Validate/Barcode','Ean5.php',47],['blocks/private_files','renderer.php',83],['backup/util/settings/section','section_backup_setting.class.php',25],['lib/classes','useragent.php',115],['lib/zend/Zend/Gdata/Photos/Extension','CommentCount.php',51],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',38],['lib/zend/Zend/Gdata/Spreadsheets/Extension','ColCount.php',49],['lib/horde/framework/Horde/Translation/Handler','Gettext.php',34],['lib/portfolio','exceptions.php',50],['lib/zend/Zend/Gdata/Calendar/Extension','QuickAdd.php',45],['lib/xmldb','xmldb_object.php',55],['lib/zend/Zend/Service','SlideShare.php',283],['webservice/amf','introspector.php',52],['question/behaviour/adaptive','behaviour.php',310],['question/behaviour','behaviourtypebase.php',133],['admin/tool/assignmentupgrade','upgradableassignmentstable.php',49],['course','renderer.php',52],['lib/zend/Zend/Validate','Hostname.php',315],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',249],['lib/zend/Zend/Amf','Server.php',134],['enrol/imsenterprise','locallib.php',38],['enrol/imsenterprise','locallib.php',115],['lib/zend/Zend/Http','Cookie.php',98],['lib/lessphp/Tree','Extend.php',28],['lib/zend/Zend/Validate','Barcode.php',75],['lib/zend/Zend/XmlRpc/Value','BigInteger.php',47],['lib/google/src/Google/Service','DoubleClickBidManager.php',40],['lib/google/src/Google/Service','QPXExpress.php',39],['lib/zend/Zend/Server/Reflection/Function','Abstract.php',105],['lib/phpexcel/PHPExcel/Style','Color.php',72],['lib/zend/Zend/Validate/File','Hash.php',60],['backup/util/settings/root','root_backup_setting.class.php',34],['backup/cc/cc_lib','cc_converter_basiclti.php',29],['lib/zend/Zend/Gdata/Photos/Extension','QuotaCurrent.php',50],['lib/zend/Zend/Service/Nirvanix/Namespace','Base.php',76],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',54],['lib/zend/Zend/Service/Technorati','DailyCountsResult.php',60],['lib/zend/Zend/Rest','Server.php',102],['lib/zend/Zend/Gdata/Photos','UserFeed.php',106],['lib/tcpdf/include/barcodes','pdf417.php',523],['lib/minify/lib/Minify/CSS','Compressor.php',51],['lib/zend/Zend/Gdata/YouTube/Extension','VideoId.php',44],['lib/google/src/Google/Service','Blogger.php',50],['mod/workshop/allocation/random','lib.php',52],['mod/workshop/allocation/random','lib.php',727],['lib/zend/Zend/Gdata/App/Extension','Published.php',43],['lib/google/src/Google/Service','Doubleclicksearch.php',43],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Nofollow.php',16],['lib/phpexcel/PHPExcel/Shared/trend','powerBestFitClass.php',129],['lib/zend/Zend/Gdata/Photos','AlbumEntry.php',193],['lib/zend/Zend/Gdata/Docs','DocumentListFeed.php',56],['lib/zend/Zend/Gdata/App/Extension','Icon.php',43],['lib/portfolio','plugin.php',445],['lib/zend/Zend/Gdata/Extension','OpenSearchItemsPerPage.php',44],['lib/horde/framework/Horde/Exception','LastError.php',16],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','ID.php',28],['lib/zend/Zend/Service/Yahoo','WebResult.php',83],['lib/horde/framework/Horde/Imap/Client/Interaction','Client.php',34],['lib/google/src/Google/Service','AdExchangeBuyer.php',46],['lib/dtl','file_xml_database_exporter.php',36],['backup/cc','validator.php',30],['backup/cc','validator.php',116],['backup/cc','validator.php',202],['backup/cc','validator.php',230],['backup/cc','validator.php',236],['backup/cc','validator.php',242],['backup/cc','validator.php',248],['backup/cc','validator.php',254],['backup/cc','validator.php',260],['lib/zend/Zend/Gdata/YouTube/Extension','Token.php',44],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',87],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',47],['lib/xmldb','xmldb_field.php',84],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',126],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceStatusRequest.php',65],['lib/google/src/Google/Service','Manager.php',57],['lib/zend/Zend/Service/Amazon','Offer.php',79],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',35],['lib/zend/Zend/Gdata/App','FeedEntryParent.php',129],['lib/zend/Zend/Service/Technorati','KeyInfoResult.php',61],['lib/htmlpurifier/HTMLPurifier/TagTransform','Simple.php',19],['webservice/rest','lib.php',47],['lib/zend/Zend/Service/StrikeIron','Decorator.php',47],['lib/google/src/Google/Http','Batch.php',38],['lib/google/src/Google/Service','Reports.php',47],['auth/cas/CAS/CAS','OutOfSequenceBeforeAuthenticationCallException.php',47],['lib/zend/Zend/Gdata/Media/Extension','MediaKeywords.php',43],['repository/url','lib.php',46],['lib','xmlize.php',31],['mod/forum/classes','potential_subscriber_selector.php',47],['lib/filebrowser','file_info_context_system.php',37],['lib/zend/Zend/Service/Amazon','Abstract.php',74],['lib/zend/Zend/Server','Definition.php',43],['lib/minify/lib/Minify','ImportProcessor.php',48],['lib/zend/Zend/Amf/Util','BinaryStream.php',53],['lib/portfolio','exporter.php',113],['backup/cc/cc_lib','cc_converter_page.php',28],['lib/zend/Zend/Gdata/YouTube','SubscriptionFeed.php',55],['lib/alfresco/Service','SpacesStore.php',28],['repository/recent','lib.php',39],['lib/zend/Zend/Service/DeveloperGarden/IpLocation','IpAddress.php',59],['lib/zend/Zend/Validate','Regex.php',62],['lib/phpexcel/PHPExcel/Shared/trend','exponentialBestFitClass.php',135],['lib/phpexcel/PHPExcel','ReferenceHelper.php',65],['lib','webdavlib.php',84],['lib/htmlpurifier/HTMLPurifier/AttrTransform','TargetBlank.php',17],['auth/cas/CAS/CAS','AuthenticationException.php',53],['lib/zend/Zend/Gdata/Gapps','NicknameQuery.php',54],['lib/bennu','iCalendar_properties.php',28],['lib/bennu','iCalendar_properties.php',220],['lib/bennu','iCalendar_properties.php',238],['lib/bennu','iCalendar_properties.php',259],['lib/bennu','iCalendar_properties.php',275],['lib/bennu','iCalendar_properties.php',296],['lib/bennu','iCalendar_properties.php',343],['lib/bennu','iCalendar_properties.php',358],['lib/bennu','iCalendar_properties.php',376],['lib/bennu','iCalendar_properties.php',391],['lib/bennu','iCalendar_properties.php',406],['lib/bennu','iCalendar_properties.php',447],['lib/bennu','iCalendar_properties.php',462],['lib/bennu','iCalendar_properties.php',485],['lib/bennu','iCalendar_properties.php',509],['lib/bennu','iCalendar_properties.php',524],['lib/bennu','iCalendar_properties.php',555],['lib/bennu','iCalendar_properties.php',573],['lib/bennu','iCalendar_properties.php',594],['lib/bennu','iCalendar_properties.php',637],['lib/bennu','iCalendar_properties.php',680],['lib/bennu','iCalendar_properties.php',724],['lib/bennu','iCalendar_properties.php',747],['lib/bennu','iCalendar_properties.php',782],['lib/bennu','iCalendar_properties.php',808],['lib/bennu','iCalendar_properties.php',849],['lib/bennu','iCalendar_properties.php',864],['lib/bennu','iCalendar_properties.php',905],['lib/bennu','iCalendar_properties.php',938],['lib/bennu','iCalendar_properties.php',952],['lib/bennu','iCalendar_properties.php',965],['lib/bennu','iCalendar_properties.php',987],['lib/bennu','iCalendar_properties.php',1017],['lib/bennu','iCalendar_properties.php',1031],['lib/bennu','iCalendar_properties.php',1061],['lib/bennu','iCalendar_properties.php',1075],['lib/bennu','iCalendar_properties.php',1098],['lib/bennu','iCalendar_properties.php',1110],['lib/bennu','iCalendar_properties.php',1139],['lib/bennu','iCalendar_properties.php',1160],['lib/bennu','iCalendar_properties.php',1181],['lib/bennu','iCalendar_properties.php',1203],['lib/bennu','iCalendar_properties.php',1227],['lib/bennu','iCalendar_properties.php',1260],['lib/bennu','iCalendar_properties.php',1386],['lib/bennu','iCalendar_properties.php',1407],['lib/bennu','iCalendar_properties.php',1429],['lib/bennu','iCalendar_properties.php',1450],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',36],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',78],['lib/horde/framework/Horde','Domhtml.php',53],['auth/cas/CAS/CAS','OutOfSequenceBeforeProxyException.php',48],['lib/simplepie/library/SimplePie/Parse','Date.php',536],['lib/google/src/Google/Service','Customsearch.php',38],['lib/zend/Zend/Gdata/App','MediaFileSource.php',54],['backup/util/plan','restore_step.class.php',32],['backup/util/plan','restore_step.class.php',104],['lib/lessphp/Tree','Comment.php',17],['availability/tests/fixtures','mock_info.php',40],['lib/htmlpurifier/HTMLPurifier/AttrTransform','EnumToCSS.php',34],['backup/util/ui','base_ui.class.php',84],['lib/phpexcel/PHPExcel','DocumentSecurity.php',73],['lib/htmlpurifier/HTMLPurifier/AttrDef/URI','Host.php',15],['backup/cc/cc_lib','cc_converter_lti.php',29],['lib/zend/Zend/Gdata/YouTube/Extension','Position.php',44],['lib/zend/Zend/Service/WindowsAzure/Credentials','CredentialsAbstract.php',77],['lib/zend/Zend/Soap','AutoDiscover.php',94],['lib/htmlpurifier/HTMLPurifier','URI.php',58],['lib/phpexcel/PHPExcel','IOFactory.php',77],['lib/zend/Zend/Gdata/App/Extension','Email.php',43],['lib/zend/Zend/Gdata/Media/Extension','MediaHash.php',45],['lib/zend/Zend/Gdata/App/Extension','Element.php',42],['lib/google/src/Google/Service','Gmail.php',55],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Multiple.php',33],['repository/dropbox','lib.php',49],['lib/minify/lib/Minify','Source.php',43],['backup/util/dbops','backup_dbops.class.php',37],['lib/google/src/Google/Service','Plus.php',52],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',28],['lib/google/src/Google/Service','Spectrum.php',38],['files','renderer.php',1080],['lib/zend/Zend/Validate/Barcode','Ean2.php',47],['course','lib.php',2932],['lib/horde/framework/Horde/Support','ConsistentHash.php',56],['lib/zend/Zend/Service/Simpy','Watchlist.php',89],['lib/phpexcel/PHPExcel','Style.php',101],['lib/zend/Zend/Gdata/YouTube/Extension','CountHint.php',44],['lib/minify/lib/Minify/Cache','Memcache.php',22],['auth/db','auth.php',36],['lib/zend/Zend/Gdata/Gapps','UserQuery.php',54],['admin/roles/classes','assign_user_selector_base.php',40],['lib/zend/Zend/Gdata/Exif/Extension','Model.php',49],['lib/zend/Zend/Gdata/YouTube','PlaylistListFeed.php',55],['lib/zend/Zend/Gdata/Docs','DocumentListEntry.php',42],['mod/quiz/tests','repaginate_test.php',39],['question/engine','questionusage.php',78],['question/engine','questionusage.php',973],['lib/simplepie/library/SimplePie/Cache','MySQL.php',80],['lib/zend/Zend/Service/Twitter','Search.php',70],['lib/zend/Zend/Server/Method','Parameter.php',59],['lib/phpunit/classes','basic_testcase.php',39],['lib/zend/Zend/Service/WindowsAzure/Storage','BlobContainer.php',50],['lib/zend/Zend/Service/DeveloperGarden/Response/LocalSearch','LocalSearchResponse.php',50],['lib/horde/framework/Horde/Imap/Client','Ids.php',78],['mod/wiki/parser/markups','html.php',18],['lib/google/src/Google/Service','Mirror.php',49],['lib/classes/event','base.php',114],['lib/alfresco/Service','Repository.php',36],['lib/zend/Zend/Service/Technorati','CosmosResult.php',84],['backup/moodle2','backup_xml_transformer.class.php',50],['lib/phpexcel/PHPExcel/Reader/Excel5','RC4.php',42],['lib/zend/Zend/Service/Yahoo','PageDataResult.php',47],['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',99],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceTemplateRequest.php',60],['lib/phpexcel/PHPExcel/Shared/JAMA','EigenvalueDecomposition.php',775],['lib/tcpdf','tcpdf_parser.php',92],['lib/minify/lib/Minify/Cache','APC.php',19],['lib/zend/Zend/Gdata','MimeBodyString.php',49],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',55],['lib/phpexcel/PHPExcel/Calculation','FormulaParser.php',92],['lib/google/src/Google/Http','MediaFileUpload.php',73],['lib/zend/Zend/XmlRpc/Client','ServerProxy.php',54],['lib','listlib.php',82],['lib','listlib.php',485],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Background.php',20],['lib/zend/Zend/Gdata/Health','ProfileFeed.php',49],['lib/google/src/Google/Service','Genomics.php',60],['lib/google/src/Google/Service','Urlshortener.php',40],['lib/zend/Zend/Server/Reflection','Method.php',51],['lib/tests','medialib_test.php',631],['lib/htmlpurifier/HTMLPurifier/ChildDef','Required.php',23],['lib/zend/Zend/Soap/Client','DotNet.php',43],['admin/roles/classes','allow_role_page.php',37],['backup/util/dbops','restore_dbops.class.php',1755],['lib/zend/Zend/Service/Yahoo','NewsResult.php',97],['backup/util/plan','restore_task.class.php',32],['backup/util/plan','restore_task.class.php',121],['webservice/rest','locallib.php',40],['lib/simplepie/library/SimplePie','Sanitize.php',75],['lib','uploadlib.php',40],['lib/zend/Zend/Gdata','Health.php',109],['lib','questionlib.php',1269],['lib','questionlib.php',1513],['lib/dml','oci_native_moodle_recordset.php',34],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveParticipantRequest.php',53],['lib/zend/Zend/XmlRpc/Value','String.php',38],['lib/zend/Zend/Gdata/Calendar/Extension','AccessLevel.php',45],['lib/ddl','database_manager.php',48],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CreateConferenceTemplateRequest.php',60],['backup/util/xml/parser','progressive_parser.class.php',79],['backup/util/xml/parser','progressive_parser.class.php',305],['backup/util/settings','base_setting.class.php',89],['backup/util/settings','base_setting.class.php',556],['lib/dtl','database_exporter.php',55],['mod/workshop/form/accumulative','lib.php',99],['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',182],['grade/report/singleview/classes/local/ui','bulk_insert.php',40],['lib/zend/Zend/Validate','Float.php',53],['lib/zend/Zend/Gdata/Gapps/Extension','EmailList.php',59],['cache/classes','interfaces.php',473],['lib/zend/Zend/Gdata/App/Extension','Edited.php',43],['lib/zend/Zend/Gdata/Gapps','UserEntry.php',103],['lib/lessphp/Tree','Element.php',19],['lib','moodlelib.php',9143],['lib','moodlelib.php',9354],['repository/picasa','lib.php',41],['webservice/soap','lib.php',42],['lib/zend/Zend/Gdata/Calendar','EventEntry.php',71],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Border.php',18],['lib/phpexcel/PHPExcel/Shared/trend','linearBestFitClass.php',98],['backup/cc/cc_lib','cc_assesment_essay.php',25],['lib/zend/Zend/Service/WindowsAzure/RetryPolicy','RetryN.php',56],['lib/dml','moodle_temptables.php',51],['lib/zend/Zend/Gdata/Media/Extension','MediaContent.php',116],['lib/zend/Zend/Gdata/Gapps','EmailListEntry.php',80],['admin/roles/classes','allow_assign_page.php',31],['lib/zend/Zend/Gdata','Books.php',80],['lib/zend/Zend/Amf/Value','MessageHeader.php',64],['lib/zend/Zend/Validate','GreaterThan.php',59],['lib/zend/Zend/Gdata/YouTube/Extension','PlaylistId.php',44],['calendar/classes','rrule_manager.php',182],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',45],['lib/zend/Zend/Service/ReCaptcha','Response.php',53],['lib/simplepie/library/SimplePie/HTTP','Parser.php',131],['lib/phpexcel/PHPExcel/Style','NumberFormat.php',106],['lib/zend/Zend/Amf/Value/Messaging','RemotingMessage.php',58],['lib/tcpdf','tcpdf.php',1822],['lib/zend/Zend/Gdata/YouTube/Extension','Username.php',44],['lib/zend/Zend/Gdata/Photos/Extension','Version.php',51],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Input.php',14],['lib/zend/Zend/Service/WindowsAzure/Storage','Batch.php',77],['lib/mustache/src/Mustache','Engine.php',61],['lib/xmldb','xmldb_structure.php',40],['lib/zend/Zend/Gdata/Photos','TagEntry.php',61],['webservice/amf','locallib.php',41],['webservice/amf','locallib.php',60],['lib/htmlpurifier/HTMLPurifier/ChildDef','Chameleon.php',36],['lib/horde/framework/Horde/Imap/Client','Base.php',153],['question/type/numerical/tests','form_test.php',40],['lib/google/src/Google/Service','IdentityToolkit.php',38],['comment','locallib.php',39],['lib/zend/Zend/Gdata/Extension','Comments.php',50],['lib/google/src/Google/Service','Resource.php',60],['lib/horde/framework/Horde/Imap/Client/Socket','Catenate.php',37],['lib/zend/Zend/Gdata/YouTube/Extension','Recorded.php',44],['lib/zend/Zend/Amf/Request','Http.php',46],['backup/util/settings','setting_dependency.class.php',68],['backup/util/settings','setting_dependency.class.php',175],['backup/util/settings','setting_dependency.class.php',328],['backup/util/settings','setting_dependency.class.php',439],['backup/util/settings','setting_dependency.class.php',465],['backup/util/settings','setting_dependency.class.php',491],['backup/util/settings','setting_dependency.class.php',556],['question/engine/upgrade','behaviourconverters.php',78],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantDetail.php',62],['repository/s3','lib.php',39],['lib/minify/lib/MrClay','Cli.php',74],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','AlphaValue.php',6],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',67],['lib/zend/Zend/Gdata/App','HttpException.php',51],['lib/zend/Zend/Soap/Client','Common.php',40],['lib/google/src/Google/Service','Dfareporting.php',45],['lib/lessphp/Output','Mapped.php',39],['lib/classes/output','notification.php',66],['lib/google/src/Google/Service','PlusDomains.php',72],['backup/util/plan','base_task.class.php',40],['backup/util/plan','base_task.class.php',277],['lib/editor/tinymce','adminlib.php',36],['lib/zend/Zend/Service/Amazon/Ec2','Exception.php',41],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',52],['lib/simplepie/library/SimplePie','Locator.php',68],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',846],['lib/xmldb','xmldb_key.php',43],['user/filters','checkbox.php',51],['lib/phpexcel/PHPExcel/Reader','SYLK.php',75],['question/type/numerical','questiontype.php',507],['backup/cc/cc_lib','cc_converter_url.php',29],['lib/zend/Zend/Gdata/App/Extension','Control.php',50],['lib/minify/lib','FirePHP.php',189],['lib/lessphp/Tree/Mixin','Definition.php',18],['lib/zend/Zend/Service/Yahoo','LocalResultSet.php',61],['lib','ddllib.php',80],['lib','ddllib.php',93],['lib','ddllib.php',107],['lib','ddllib.php',126],['lib','ddllib.php',140],['admin/tool/langimport/classes','controller.php',48],['lib/google/src/Google/Auth','AssertionCredentials.php',53],['lib/horde/framework/Horde/Stream','String.php',27],['lib','excellib.class.php',47],['lib','excellib.class.php',155],['lib','excellib.class.php',454],['lib/horde/framework/Horde/Stream','Temp.php',25],['lib/alfresco/Service','VersionHistory.php',34],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceSchedule.php',81],['mod/quiz/classes','repaginate.php',49],['lib/zend/Zend/Validate','Isbn.php',65],['lib/zend/Zend/Service/Amazon','Image.php',55],['backup/util/ui','restore_ui_components.php',81],['backup/util/ui','restore_ui_components.php',287],['backup/util/ui','restore_ui_components.php',382],['lib/classes/lock','db_record_lock_factory.php',61],['lib/horde/framework/Horde/Stream','TempString.php',40],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',15],['lib/htmlpurifier/HTMLPurifier/ChildDef','Empty.php',22],['lib/zend/Zend/Gdata/Spreadsheets/Extension','Cell.php',76],['question/type/calculated','question.php',188],['question/type/calculated','question.php',303],['lib/horde/framework/Horde/Text','Flowed.php',75],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',25],['lib/zend/Zend/Gdata/Gapps/Extension','Login.php',111],['mod/workshop/form/rubric','lib.php',105],['cohort','locallib.php',37],['cohort','locallib.php',101],['lib/zend/Zend/XmlRpc/Value','DateTime.php',53],['lib/zend/Zend/Service/WindowsAzure/Storage','QueueMessage.php',52],['lib/htmlpurifier/HTMLPurifier','Queue.php',24],['lib/zend/Zend/Amf/Parse','Serializer.php',40],['lib/google/src/Google/Service','GroupsMigration.php',38],['lib/phpexcel/PHPExcel/Worksheet','PageSetup.php',277],['lib/zend/Zend/Gdata/Gapps','ServiceException.php',61],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',14],['lib/zend/Zend/XmlRpc','Fault.php',100],['lib/zend/Zend/Gdata','Photos.php',124],['question/type/calculated','datasetdefinitions_form.php',53],['lib/phpexcel/PHPExcel/Reader','Excel5.php',424],['question/type/shortanswer','question.php',43],['backup/util/structure','base_final_element.class.php',38],['backup/util/structure','base_final_element.class.php',239],['backup/util/structure','base_final_element.class.php',256],['lib/zend/Zend/Service','LiveDocx.php',67],['backup/util/plan','backup_plan.class.php',36],['backup/util/plan','backup_plan.class.php',130],['lib/google/src/Google/Auth','AppIdentity.php',38],['lib/zend/Zend/Gdata/Exif/Extension','FocalLength.php',49],['lib/zend/Zend/Gdata/App/Extension','Id.php',43],['lib/zend/Zend/Gdata/Books/Extension','PreviewLink.php',42],['mod/chat','locallib.php',179],['mod/chat','locallib.php',227],['lib/google/src/Google/Service','Licensing.php',38],['auth/cas/CAS/CAS/PGTStorage','File.php',105],['lib/zend/Zend/Server/Method','Definition.php',64],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetParticipantStatusRequest.php',53],['question/classes/bank','column_base.php',44],['lib/zend/Zend/XmlRpc/Server','Fault.php',67],['lib/zend/Zend/Amf/Value/Messaging','AcknowledgeMessage.php',40],['grade/report/singleview/classes/local/ui','range.php',38],['lib/zend/Zend/Gdata/Books/Extension','Viewability.php',45],['mod/book','locallib.php',405],['lib/zend/Zend/XmlRpc/Value','Array.php',39],['lib/zend/Zend/Service/Technorati','Result.php',63],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceTemplateRequest.php',46],['lib/zend/Zend/Gdata/Exif/Extension','Exposure.php',49],['lib/zend/Zend/Gdata/Exif','Feed.php',58],['question/type/randomsamatch/tests','helper.php',121],['lib/htmlpurifier/HTMLPurifier','PropertyListIterator.php',22],['question/engine/upgrade','logger.php',42],['question/engine/upgrade','logger.php',87],['lib/portfolio/formats/leap2a','lib.php',62],['lib/portfolio/formats/leap2a','lib.php',258],['lib/portfolio/formats/leap2a','lib.php',503],['lib/zend/Zend/Gdata/Spreadsheets','CellEntry.php',49],['lib/zend/Zend/Gdata/Photos/Extension','PhotoId.php',49],['lib/zend/Zend/Http/Response','Stream.php',120],['lib','modinfolib.php',429],['lib','modinfolib.php',1680],['lib','modinfolib.php',2516],['lib/dtl','database_importer.php',61],['lib/tcpdf','tcpdf_barcodes_2d.php',58],['lib/zend/Zend/Gdata/Exif/Extension','Iso.php',49],['lib/zend/Zend/Gdata/YouTube','VideoQuery.php',48],['lib/lessphp/Tree','Variable.php',20],['backup/moodle2','restore_activity_task.class.php',48],['lib/htmlpurifier/HTMLPurifier/AttrTransform','ImgSpace.php',24],['lib/google/src/Google/Signer','P12.php',33],['lib/lessphp/Tree','DetachedRuleset.php',15],['lib/zend/Zend/Gdata/YouTube','SubscriptionEntry.php',138],['lib/zend/Zend/Http/Client/Adapter','Test.php',81],['','mdeploy.php',120],['lib/ddl','sqlite_sql_generator.php',73],['lib/google/src/Google/Service','Drive.php',70],['mod/quiz/classes','admin_review_setting.php',82],['lib','pdflib.php',161],['lib/zend/Zend/Gdata/YouTube/Extension','Duration.php',45],['mod/quiz/report','attemptsreport_options.php',95],['lib/zend/Zend/Validate/File','Md5.php',60],['backup/util/helper','restore_questions_parser_processor.class.php',42],['lib/horde/framework/Horde/Imap/Client/Exception','SearchCharset.php',34],['lib/filebrowser','file_info_context_coursecat.php',39],['badges','renderer.php',972],['badges','renderer.php',1013],['badges','renderer.php',1077],['badges','renderer.php',1110],['badges','renderer.php',1136],['lib/horde/framework/Horde/Imap/Client','Socket.php',168],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',17],['lib/zend/Zend/Gdata/Gapps/Extension','Nickname.php',59],['lib/zend/Zend/Gdata/YouTube/Extension','MediaRating.php',54],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',50],['mnet/xmlrpc','serverlib.php',674],['completion','data_object.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Filter.php',15],['lib/horde/framework/Horde/Support','StringStream.php',30],['lib/simplepie/library/SimplePie','gzdecode.php',186],['lib/jabber/XMPP','Roster.php',48],['lib/classes/dml','recordset_walk.php',64],['lib','dmllib.php',69],['lib','dmllib.php',84],['lib','dmllib.php',104],['lib','dmllib.php',129],['lib','dmllib.php',159],['lib','dmllib.php',187],['lib','dmllib.php',240],['lib','dmllib.php',270],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',129],['lib/google/src/Google/Service','Books.php',57],['mod/assign/feedback/offline','importgradeslib.php',60],['lib/zend/Zend/Gdata','App.php',165],['lib/pear/Net','GeoIP.php',323],['lib/zend/Zend/Gdata/Photos/Extension','Name.php',50],['lib/google/src/Google/Service','AdExchangeSeller.php',53],['lib/zend/Zend/Gdata/Docs','Query.php',75],['lib/zend/Zend/Gdata/YouTube/Extension','Occupation.php',44],['lib/zend/Zend/Gdata/Exif/Extension','Time.php',49],['cache/tests/fixtures','lib.php',325],['lib/horde/framework/Horde/Mail/Rfc822','List.php',61],['lib/google/src/Google/Cache','Memcache.php',42],['lib/dml','sqlsrv_native_moodle_database.php',47],['backup/util/structure','backup_optigroup_element.class.php',51],['backup/cc/cc_lib','cc_converter_resource.php',28],['lib/simplepie/library/SimplePie','Caption.php',98],['mod/lti','OAuth.php',73],['mod/lti','OAuth.php',89],['mod/lti','OAuth.php',244],['mod/lti','OAuth.php',499],['lib/classes','collator.php',58],['lib/zend/Zend/Service/Delicious','PostList.php',56],['lib/classes/output','mustache_filesystem_loader.php',39],['lib/zend/Zend/Service/Amazon/Ec2','Abstract.php',91],['backup/util/xml/parser/processors','grouped_parser_processor.class.php',67],['mod/workshop/form/numerrors','lib.php',102],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateRequest.php',46],['report/log/classes','table_log.php',52],['lib/zend/Zend/Gdata/YouTube','CommentEntry.php',48],['lib/simplepie/library/SimplePie/Cache','Base.php',70],['lib/zend/Zend/Gdata/YouTube/Extension','Status.php',44],['lib/adodb','adodb-exceptions.inc.php',28],['backup/util/helper','backup_array_iterator.class.php',39],['lib/zend/Zend/Rest','Client.php',54],['lib/zend/Zend/Gdata/YouTube/Extension','Company.php',44],['question/classes/statistics/responses','analysis_for_class.php',68],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceTemplateParticipantRequest.php',53],['question/engine','lib.php',770],['question/engine','lib.php',1000],['question/engine','lib.php',1048],['lib/tcpdf','tcpdf_barcodes_1d.php',58],['lib/google/src/Google/Service','Bigquery.php',59],['backup/moodle2','restore_course_task.class.php',41],['lib/zend/Zend/Gdata/Media/Extension','MediaRestriction.php',54],['lib/htmlpurifier/HTMLPurifier','DefinitionCache.php',22],['lib/phpexcel/PHPExcel/Writer','CSV.php',86],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',73],['cache','disabledlib.php',44],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',20],['lib/mustache/src/Mustache/Exception','UnknownTemplateException.php',22],['webservice/xmlrpc','locallib.php',85],['lib/google/src/Google/Service','Freebase.php',38],['mod/lti/service/profile/classes/local/service','profile.php',41],['admin/tool/monitor/classes/output/managesubs','rules.php',56],['backup/util/settings','backup_setting.class.php',43],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',42],['lib/alfresco/Service','ContentData.php',38],['enrol/ldap','lib.php',36],['lib/zend/Zend/Validate/File','MimeType.php',112],['lib/zend/Zend/Gdata/Gbase/Extension','BaseAttribute.php',47],['lib/zend/Zend/Gdata/Gapps','NicknameEntry.php',79],['lib/minify/lib/Minify','HTML.php',49],['lib/zend/Zend/Gdata/Extension','OriginalEvent.php',56],['lib/zend/Zend/Gdata/YouTube','InboxFeed.php',55],['lib/google/src/Google/Service','Groupssettings.php',40],['availability/classes','info.php',55],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',45],['lib/tests','navigationlib_test.php',472],['lib/tests','navigationlib_test.php',530],['lib/tests','navigationlib_test.php',557],['lib/zend/Zend/Service/DeveloperGarden/Request/IpLocation','LocateIPRequest.php',58],['mod/quiz/report/statistics/classes','calculated.php',43],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',49],['cache/stores/memcached','lib.php',107],['lib/zend/Zend/Validate','Between.php',89],['lib/zend/Zend/Gdata/Media/Extension','MediaGroup.php',183],['user/selector','lib.php',85],['user/selector','lib.php',674],['lib/google/src/Google/Service','YouTube.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Length.php',23],['lib/zend/Zend/Gdata','Exif.php',51],['backup/util/helper','backup_helper.class.php',380],['backup/util/plan','backup_step.class.php',32],['backup/util/plan','backup_step.class.php',55],['backup/util/helper','restore_inforef_parser_processor.class.php',37],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',154],['lib/phpexcel/PHPExcel/CalcEngine','Logger.php',71],['lib/zend/Zend/Gdata','YouTube.php',192],['lib/zend/Zend/Gdata/Calendar/Extension','Link.php',48],['blocks','edit_form.php',47],['lib/dml','mssql_native_moodle_recordset.php',34],['mod/assign','locallib.php',149],['mod/assign','locallib.php',7411],['grade/report/user','lib.php',188],['lib/zend/Zend/Validate/Barcode','Code93ext.php',47],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','ChangeQuotaPool.php',47],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',294],['lib/horde/framework/Horde/Mail/Transport','Mail.php',53],['lib/zend/Zend/Gdata','Media.php',51],['lib/zend/Zend/Gdata/Gapps/Extension','Quota.php',59],['lib/zend/Zend/Amf/Value','ByteArray.php',38],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',22],['lib/simplepie/library/SimplePie/Cache','File.php',82],['lib/behat/form_field','behat_form_field.php',59],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',47],['backup/moodle2','restore_subplugin.class.php',45],['lib/zend/Zend/Gdata/Spreadsheets','SpreadsheetFeed.php',54],['backup/util/structure','base_processor.class.php',49],['lib/zend/Zend/Gdata/Calendar/Extension','Timezone.php',45],['lib/zend/Zend/Validate','Ip.php',56],['lib/zend/Zend/Gdata/Extension','OpenSearchTotalResults.php',44],['badges/criteria','award_criteria_activity.php',45],['lib/zend/Zend/Service/Technorati','DailyCountsResultSet.php',67],['lib/zend/Zend/XmlRpc/Value','Collection.php',40],['lib/google/src/Google/Service','Coordinate.php',47],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','LinkTypes.php',21],['lib/classes/output','mustache_pix_helper.php',43],['lib/zend/Zend/Amf/Value','MessageBody.php',81],['user/classes/output/myprofile','node.php',82],['lib/htmlpurifier/HTMLPurifier','TokenFactory.php',43],['lib/zend/Zend','Registry.php',186],['lib/lessphp/Exception','Chunk.php',19],['lib/dtl','database_mover.php',33],['lib/zend/Zend/Http','CookieJar.php',106],['lib/zend/Zend/Gdata/Extension','Transparency.php',44],['lib/zend/Zend/Gdata/Media/Extension','MediaText.php',64],['lib/phpexcel/PHPExcel/RichText','TextElement.php',43],['lib/simplepie/library/SimplePie','Enclosure.php',219],['lib/google/src/Google/Service','Webmasters.php',46],['lib/lessphp/Tree','Value.php',14],['lib/simplepie/library','SimplePie.php',611],['lib/google/src/Google/Service','Autoscaler.php',46],['lib/zend/Zend/Gdata/App','CaptchaRequiredException.php',64],['lib/behat/features/bootstrap','behat_init_context.php',45],['lib/horde/framework/Horde/Imap/Client/Socket','ClientSort.php',37],['mod/folder','renderer.php',139],['lib/google/src/Google/Service','Webfonts.php',38],['lib/zend/Zend/Gdata/DublinCore/Extension','Description.php',44],['admin/roles/classes','admins_potential_selector.php',30],['lib/zend/Zend/Soap/Client','Local.php',52],['lib/horde/framework/Horde/Imap/Client/Interaction/Server','Tagged.php',36],['lib/lessphp/Tree','Negative.php',14],['mod/quiz','override_form.php',58],['lib/classes/session','file.php',40],['lib/google/src/Google/Auth','OAuth2.php',55],['admin/roles/classes','check_users_selector.php',38],['lib/phpexcel/PHPExcel/Reader/Excel2007','Theme.php',68],['mod/lti/classes/local/ltiservice','service_base.php',63],['lib/alfresco/Service','Store.php',31],['lib/google/src/Google/Service','Audit.php',39],['lib/zend/Zend/Gdata','Gbase.php',95],['mod/wiki','pagelib.php',94],['mod/wiki','pagelib.php',381],['mod/wiki','pagelib.php',986],['mod/wiki','pagelib.php',1195],['mod/wiki','pagelib.php',2201],['mod/wiki','pagelib.php',2429],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',80],['calendar','lib.php',1968],['calendar','lib.php',2709],['lib/zend/Zend/Gdata/Photos','AlbumFeed.php',133],['lib/phpmailer','class.phpmailer.php',572],['lib/google/src/Google/Service','Datastore.php',46],['lib/google/src/Google/Service','YouTubeAnalytics.php',45],['lib/lessphp/Tree','Keyword.php',17],['lib/zend/Zend/Service/Amazon','Sqs.php',70],['backup/util/plan','backup_structure_step.class.php',38],['availability/condition/profile/classes','condition.php',73],['lib/simplepie/library/SimplePie','Rating.php',73],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Length.php',19],['lib/horde/framework/Horde/Support','Backtrace.php',20],['lib/simplepie/library/SimplePie','Author.php',81],['report/loglive/classes','table_log.php',50],['lib','completionlib.php',243],['backup/cc/cc_lib','cc_converter_quiz.php',33],['lib/zend/Zend/Gdata/Exif/Extension','Make.php',49],['lib/dml','moodle_database.php',139],['lib/lessphp/Tree','Media.php',18],['lib/horde/framework/Horde/Imap/Client','Url.php',112],['lib/classes/update','info.php',48],['backup/moodle2','backup_subplugin.class.php',44],['backup/util/ui','base_moodleform.class.php',68],['lib/zend/Zend/Gdata/DublinCore/Extension','Creator.php',44],['lib/alfresco/Service','Association.php',28],['lib/zend/Zend/Gdata/Geo/Extension','GeoRssWhere.php',62],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',57],['lib/zend/Zend/Service','Twitter.php',125],['question/classes/statistics/responses','analysis_for_actual_response.php',70],['admin/tool/log/classes/log','store.php',30],['lib/phpexcel/PHPExcel','Comment.php',101],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CommitConferenceRequest.php',46],['filter','local_settings_form.php',33],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Composite.php',25],['backup/util/plan','base_step.class.php',35],['backup/util/plan','base_step.class.php',127],['badges/classes','assertion.php',49],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateParticipantRequest.php',67],['lib/phpexcel/PHPExcel','RichText.php',45],['lib/zend/Zend/Gdata/App','Base.php',111],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',38],['lib/filestorage','file_storage.php',57],['lib/adodb/drivers','adodb-postgres64.inc.php',125],['lib/adodb/drivers','adodb-postgres64.inc.php',904],['lib/phpexcel/PHPExcel/Chart','Title.php',53],['lib/zend/Zend/Mime','Part.php',51],['lib/phpexcel/PHPExcel','Worksheet.php',335],['lib/phpexcel/PHPExcel/Worksheet','MemoryDrawing.php',78],['lib/google/src/Google/Service','Pagespeedonline.php',39],['lib/zend/Zend/Gdata/DublinCore/Extension','Language.php',44],['lib/phpexcel/PHPExcel/Worksheet','SheetView.php',77],['lib/alfresco/Service/WebService','AlfrescoWebService.php',30],['admin/tool/monitor/classes/output/managerules','renderable.php',56],['lib/google/src/Google/Service','ShoppingContent.php',47],['backup/util/xml/parser/processors','selective_exact_parser_processor.class.php',35],['lib/zend/Zend/Gdata/Spreadsheets','ListQuery.php',57],['backup/moodle2','backup_format_plugin.class.php',40],['mod/workshop/allocation/scheduled','lib.php',48],['lib','outputfactories.php',120],['lib','outputfactories.php',367],['lib/zend/Zend/Gdata/Spreadsheets','ListEntry.php',62],['repository/merlot','lib.php',37],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',29],['mod/chat','chatd.php',78],['mod/chat','chatd.php',103],['lib/lessphp/Visitor','extendFinder.php',15],['lib/zend/Zend/Gdata/YouTube/Extension','MediaGroup.php',112],['mod/quiz/report/grading','gradingsettings_form.php',44],['lib/zend/Zend/Service/Simpy','Note.php',104],['lib/zend/Zend/Gdata/Photos/Extension','Rotation.php',51],['lib/phpexcel/PHPExcel/Worksheet','RowDimension.php',89],['lib/editor/tinymce/classes','plugin.php',49],['question/type/calculatedsimple','edit_calculatedsimple_form.php',72],['lib/zend/Zend/XmlRpc/Value','Integer.php',40],['lib/zend/Zend/Validate/File','Upload.php',74],['lib/phpexcel/PHPExcel/Shared/trend','polynomialBestFitClass.php',201],['admin/roles/classes','capability_table_with_risks.php',46],['lib/zend/Zend/Gdata/Extension','EntryLink.php',52],['question/type','questiontypebase.php',55],['question/type','questiontypebase.php',1442],['lib','outputrequirementslib.php',166],['lib/google/src/Google/Service','Appsactivity.php',49],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',100],['lib/zend/Zend/Loader','Autoloader.php',446],['lib/horde/framework/Horde/Support','CombineStream.php',29],['lib/zend/Zend/Gdata','Docs.php',87],['lib/alfresco/Service/Logger','Logger.php',27],['lib/zend/Zend/Gdata/App/Extension','Logo.php',43],['lib/dml','pgsql_native_moodle_recordset.php',44],['backup/cc/cc_lib','cc_version11.php',57],['lib','weblib.php',315],['lib','weblib.php',3025],['lib','weblib.php',3325],['lib','weblib.php',3360],['lib','weblib.php',3435],['backup/cc/cc_lib','xmlbase.php',52],['backup/cc/cc_lib','cc_organization.php',47],['backup/cc/cc_lib','cc_organization.php',145],['mod/lesson','locallib.php',2007],['mod/lesson','locallib.php',2602],['lib/zend/Zend/Service/LiveDocx','MailMerge.php',61],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',101],['lib/zend/Zend/Server/Reflection','ReturnValue.php',47],['lib/minify/lib/Minify','Build.php',77],['lib/horde/framework/Horde','Variables.php',60],['auth/cas/CAS/CAS','ProxyChain.php',48],['lib/phpexcel/PHPExcel','NamedRange.php',73],['lib/zend/Zend/Gdata/Extension','OpenSearchStartIndex.php',44],['lib/horde/framework/Horde/Imap/Client/Password','Xoauth2.php',44],['lib/zend/Zend/Service/Amazon','OfferSet.php',79],['grade/export/txt','grade_export_txt.php',27],['admin/roles/classes','allow_override_page.php',31],['lib/lessphp/Tree','Assignment.php',15],['lib/zend/Zend/Gdata/Books/Extension','ThumbnailLink.php',42],['lib/zend/Zend/Gdata/YouTube/Extension','Uploaded.php',44],['lib/zend/Zend/Gdata/Extension','AttendeeStatus.php',44],['lib/tcpdf/include/barcodes','qrcode.php',631],['lib/zend/Zend/Gdata/Photos/Extension','Weight.php',51],['enrol','locallib.php',125],['enrol','locallib.php',1240],['enrol','locallib.php',1363],['enrol','locallib.php',1414],['enrol','locallib.php',1447],['lib/lessphp/Visitor','toCSS.php',13],['question/classes/statistics/questions','calculator.php',66],['mod/forum','locallib.php',55],['mod/forum','locallib.php',419],['backup/util/helper','restore_prechecks_helper.class.php',213],['grade/edit/tree','lib.php',57],['grade/edit/tree','lib.php',605],['grade/edit/tree','lib.php',638],['grade/edit/tree','lib.php',804],['lib/zend/Zend/Gdata','Geo.php',56],['lib/zend/Zend/Gdata/Books','CollectionFeed.php',41],['lib/classes','string_manager_standard.php',53],['backup/util/loggers','base_logger.class.php',42],['backup/util/loggers','base_logger.class.php',163],['admin/tool/installaddon/classes','validator.php',223],['admin/tool/generator/classes','backend.php',84],['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedAccessSignature.php',53],['lib/zend/Zend/Gdata/Spreadsheets/Extension','Custom.php',49],['availability/condition/completion/classes','condition.php',48],['question/classes/statistics/questions','calculated.php',181],['lib/lessphp/Tree','Javascript.php',20],['mod/quiz','locallib.php',1898],['lib/phpexcel/PHPExcel/Worksheet','ColumnDimension.php',89],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',62],['lib/zend/Zend/Gdata/DublinCore/Extension','Date.php',45],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',27],['lib/zend/Zend/Loader','PluginLoader.php',95],['lib/zend/Zend/Gdata/YouTube/Extension','Description.php',44],['lib/horde/framework/Horde/Imap/Client/Interaction','Command.php',72],['lib/zend/Zend/Gdata/App/Extension','Generator.php',45],['lib/zend/Zend/Gdata/DublinCore/Extension','Rights.php',44],['lib/phpexcel/PHPExcel/Style','Conditional.php',93],['repository/skydrive','lib.php',42],['lib/google/src/Google/Service','SQLAdmin.php',48],['lib/zend/Zend/Gdata/YouTube/Extension','NoEmbed.php',44],['lib/zend/Zend/Gdata/Exif/Extension','ImageUniqueId.php',49],['lib/simplepie/library/SimplePie','Item.php',82],['lib/phpexcel/PHPExcel/Writer/PDF','Core.php',214],['lib/zend/Zend/Validate/File','IsImage.php',53],['lib/zend/Zend/Date','Exception.php',39],['lib/zend/Zend/Amf/Adobe','Introspector.php',65],['lib/htmlpurifier/HTMLPurifier','URIParser.php',10],['lib/zend/Zend/Service','ReCaptcha.php',117],['lib/zend/Zend/Gdata/Health','ProfileEntry.php',61],['lib/zend/Zend/Server/Reflection','Prototype.php',45],['admin/roles/classes','allow_switch_page.php',33],['backup/util/helper','restore_logs_processor.class.php',45],['backup/util/helper','restore_logs_processor.class.php',140],['lib/google/src/Google/Service','Fitness.php',57],['filter/emoticon/tests','filter_test.php',68],['backup/util/helper','convert_helper.class.php',378],['backup/util/ui','restore_ui_stage.class.php',42],['backup/util/ui','restore_ui_stage.class.php',265],['backup/util/ui','restore_ui_stage.class.php',452],['backup/util/ui','restore_ui_stage.class.php',592],['backup/util/ui','restore_ui_stage.class.php',704],['backup/util/ui','restore_ui_stage.class.php',852],['backup/util/ui','restore_ui_stage.class.php',959],['backup/util/ui','restore_ui_stage.class.php',1100],['repository/webdav','lib.php',38],['repository/dropbox','locallib.php',46],['lib/lessphp/Exception','Parser.php',30],['lib/filestorage','tgz_packer.php',726],['lib/filestorage','tgz_packer.php',808],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','URI.php',15],['backup/converter/moodle1','lib.php',725],['backup/converter/moodle1','lib.php',865],['backup/converter/moodle1','lib.php',1145],['backup/converter/moodle1','lib.php',1190],['backup/converter/moodle1','lib.php',1480],['lib/classes/output','mustache_javascript_helper.php',40],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',58],['lib/zend/Zend/Gdata/YouTube/Extension','FirstName.php',44],['lib/zend/Zend/Service/WindowsAzure/Storage','Queue.php',83],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',32],['lib/zend/Zend/Gdata/Media/Extension','MediaDescription.php',53],['lib/google/src/Google/Service','TagManager.php',66],['lib/zend/Zend/Server','Abstract.php',89],['cache/classes','config.php',80],['lib/htmlpurifier/HTMLPurifier','Generator.php',67],['lib','outputcomponents.php',80],['lib','outputcomponents.php',204],['lib','outputcomponents.php',469],['lib','outputcomponents.php',523],['lib','outputcomponents.php',579],['lib','outputcomponents.php',655],['lib','outputcomponents.php',773],['lib','outputcomponents.php',915],['lib','outputcomponents.php',999],['lib','outputcomponents.php',2178],['lib','outputcomponents.php',2217],['lib','outputcomponents.php',2290],['lib','outputcomponents.php',2371],['lib','outputcomponents.php',2574],['lib','outputcomponents.php',2622],['lib','outputcomponents.php',2682],['lib','outputcomponents.php',2855],['lib','outputcomponents.php',3025],['lib','outputcomponents.php',3129],['lib','outputcomponents.php',3196],['lib','outputcomponents.php',3324],['lib','outputcomponents.php',3608],['lib','outputcomponents.php',3637],['lib','outputcomponents.php',3663],['lib','outputcomponents.php',3685],['lib','outputcomponents.php',3714],['lib','outputcomponents.php',3746],['lib/zend/Zend/Validate/Barcode','Code25.php',53],['lib/zend/Zend/Gdata/YouTube','CommentFeed.php',53],['lib/dtl','string_xml_database_importer.php',34],['question/engine','questionattemptstep.php',97],['question/engine','questionattemptstep.php',608],['lib/htmlpurifier/HTMLPurifier/Node','Element.php',39],['lib/simplepie/library/SimplePie','Cache.php',69],['backup/util/ui','renderer.php',813],['grade/export/xls','grade_export_xls.php',24],['lib/google/src/Google/Service','Directory.php',110],['lib/zend/Zend/Gdata/YouTube/Extension','State.php',47],['lib/phpexcel/PHPExcel/Style','Alignment.php',97],['mod/quiz/report/statistics','statistics_table.php',45],['backup/util/structure','base_nested_element.class.php',44],['backup/util/structure','base_nested_element.class.php',258],['lib/zend/Zend/Gdata/DublinCore/Extension','Title.php',44],['lib/htmlpurifier/HTMLPurifier','Config.php',100],['lib/zend/Zend/Validate/Barcode','Code93.php',67],['lib/lessphp','Functions.php',15],['lib/adodb/drivers','adodb-postgres7.inc.php',78],['lib/adodb/drivers','adodb-postgres7.inc.php',273],['lib/adodb/drivers','adodb-postgres7.inc.php',304],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetRunningConferenceRequest.php',46],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceRequest.php',74],['lib/zend/Zend/Validate','EmailAddress.php',118],['mod/workshop','locallib.php',178],['mod/workshop','locallib.php',2801],['mod/workshop','locallib.php',3236],['mod/workshop','locallib.php',3472],['mod/workshop','locallib.php',3714],['mod/workshop','locallib.php',3800],['mod/workshop','locallib.php',3885],['mod/workshop','locallib.php',3904],['lib/zend/Zend/XmlRpc/Value','Struct.php',39],['lib/zend/Zend/Gdata/Books/Extension','Embeddability.php',45],['lib/horde/framework/Horde/Mime','Mdn.php',35],['cache/stores/static','lib.php',127],['lib','blocklib.php',54],['lib','blocklib.php',152],['lib/zend/Zend/Gdata/Books/Extension','Review.php',46],['lib','componentlib.class.php',597],['lib','componentlib.class.php',821],['lib/zend/Zend/Validate/Barcode','Code39.php',66],['lib/filebrowser','file_info_context_module.php',47],['lib/phpexcel/PHPExcel/Shared/JAMA','CholeskyDecomposition.php',42],['question/engine','states.php',61],['lib/jabber/XMPP','XMLStream.php',171],['lib/jabber/XMPP','XMPP.php',101],['lib/classes/lock','lock_factory.php',39],['lib/tests','collator_test.php',310],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportPop3.php',26],['course/format','lib.php',78],['lib/ddl','sql_generator.php',175],['lib/zend/Zend/XmlRpc/Generator','GeneratorAbstract.php',35],['mod/quiz','accessmanager.php',45],['lib/zend/Zend/Amf/Value','TraitsInfo.php',53],['admin/tool/monitor/classes/output/managesubs','subs.php',51],['lib/zend/Zend/Service/Nirvanix','Response.php',43],['lib','boxlib.php',293],['repository/flickr_public','image.php',34],['lib/google/src/Google/Service','AppState.php',40],['backup/util/structure','backup_nested_element.class.php',44],['lib/filestorage','zip_archive.php',66],['lib/google/src/Google/Service','Taskqueue.php',44],['lib/zend/Zend/Server/Method','Prototype.php',49],['lib/zend/Zend/Service/Technorati','Author.php',90],['mod/workshop/form/comments','lib.php',99],['lib/phpexcel/PHPExcel/RichText','Run.php',43],['lib/phpexcel/PHPExcel/Chart','DataSeriesValues.php',89],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',32],['lib/phpexcel/PHPExcel/Writer/Excel2007','WriterPart.php',69],['lib/zend/Zend/Service/Simpy','WatchlistFilter.php',48],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceRequest.php',46],['lib/zend/Zend/Gdata/Photos','UserEntry.php',131],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',33],['lib/zend/Zend/Gdata/Spreadsheets','ListFeed.php',54],['lib/phpexcel/PHPExcel','DocumentProperties.php',131],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',62],['lib/lessphp/Tree','Paren.php',14],['lib/zend/Zend/Gdata/Photos/Extension','Thumbnail.php',50],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',62],['admin/tool/customlang','locallib.php',44],['admin/tool/customlang','locallib.php',405],['admin/tool/customlang','locallib.php',471],['backup/util/xml/parser/processors','selective_like_parser_processor.class.php',35],['lib/filebrowser','file_info_context_user.php',39],['lib/google/src/Google/Service','CivicInfo.php',40],['lib/zend/Zend/Gdata/YouTube/Extension','Private.php',44],['lib/zend/Zend/Gdata/YouTube/Extension','Music.php',44],['backup/moodle2','restore_block_task.class.php',45],['lib/zend/Zend','Gdata.php',99],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Number.php',18],['lib/simplepie','moodle_simplepie.php',50],['lib/simplepie','moodle_simplepie.php',121],['lib/phpunit/classes','hint_resultprinter.php',37],['backup/util/plan','restore_plan.class.php',43],['backup/util/plan','restore_plan.class.php',203],['admin/roles/classes','capability_table_base.php',51],['lib/htmlpurifier/HTMLPurifier','Lexer.php',152],['lib/google/src/Google/Service','Container.php',44],['lib/zend/Zend/Service/Simpy','TagSet.php',47],['lib/phpexcel/PHPExcel/Chart','Legend.php',82],['question/type/calculated/tests','helper.php',205],['lib/phpexcel/PHPExcel/Reader','CSV.php',103],['availability/classes','result.php',46],['lib/zend/Zend/XmlRpc/Value','Double.php',40],['backup/util/helper','restore_users_parser_processor.class.php',43],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',31],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',462],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',1700],['lib/horde/framework/Horde/Mime','Related.php',32],['report/log/classes','renderable.php',93],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',59],['lib/phpexcel/PHPExcel/Style','Font.php',108],['lib/htmlpurifier/HTMLPurifier/ChildDef','Table.php',57],['backup/util/settings/activity','activity_backup_setting.class.php',25],['lib/mustache/src/Mustache/Exception','UnknownHelperException.php',22],['course/tests/fixtures','course_capability_assignment.php',60],['lib/zend/Zend/Service/Amazon','ResultSet.php',68],['lib/zend/Zend/Validate','Callback.php',69],['lib/zend/Zend/Gdata/Books','CollectionEntry.php',41],['lib/zend/Zend/Gdata/DublinCore/Extension','Publisher.php',44],['lib/zend/Zend/Gdata/Spreadsheets','WorksheetEntry.php',56],['badges/lib','bakerlib.php',52],['backup/util/xml','xml_writer.class.php',57],['backup/util/xml','xml_writer.class.php',284],['lib/portfolio','caller.php',67],['lib/zend/Zend/Validate/File','Sha1.php',60],['lib/htmlpurifier/HTMLPurifier/Strategy','Core.php',8],['lib/zend/Zend/Gdata/Media','Feed.php',58],['lib/zend/Zend/Gdata/YouTube/Extension','LastName.php',44],['mod/data','locallib.php',64],['mod/data','locallib.php',431],['lib/zend/Zend/Gdata/App/Extension','Content.php',44],['lib/classes/update','checker_exception.php',37],['backup/cc/cc_lib','cc_manifest.php',45],['lib','odslib.class.php',42],['lib','odslib.class.php',121],['lib','odslib.class.php',419],['lib','odslib.class.php',824],['lib/zend/Zend/Gdata/Books/Extension','AnnotationLink.php',42],['lib/zend/Zend/Gdata/Calendar/Extension','Color.php',46],['backup/util/helper','restore_structure_parser_processor.class.php',41],['admin/tool/log/store/standard/classes/log','store.php',37],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',46],['lib/alfresco/Service','Session.php',39],['grade/report/singleview/classes/local/ui','empty_element.php',38],['enrol/database','settingslib.php',34],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',125],['lib/google/src/Google/Service','AndroidPublisher.php',51],['lib/zend/Zend/Service','StrikeIron.php',43],['lib/zend/Zend/Gdata/Books/Extension','InfoLink.php',41],['lib/lessphp/SourceMap','Generator.php',82],['filter/urltolink/tests','filter_test.php',209],['lib/horde/framework/Horde/Socket','Client.php',52],['lib/zend/Zend/Service/Amazon','Item.php',112],['repository','lib.php',116],['repository','lib.php',533],['admin/roles/classes','define_role_table_basic.php',31],['lib/phpexcel/PHPExcel','WorksheetIterator.php',54],['lib/zend/Zend/Gdata/Photos/Extension','NumPhotosRemaining.php',50],['mod/quiz','attemptlib.php',41],['mod/quiz','attemptlib.php',82],['mod/quiz','attemptlib.php',505],['mod/quiz','attemptlib.php',2058],['mod/quiz','attemptlib.php',2113],['lib/zend/Zend/Server/Reflection','Node.php',51],['lib/zend/Zend/Gdata/Media/Extension','MediaTitle.php',49],['lib/zend/Zend','Date.php',123],['lib/zend/Zend','Mime.php',290],['lib','accesslib.php',5301],['lib','accesslib.php',5846],['lib','accesslib.php',6116],['lib','accesslib.php',6357],['lib','accesslib.php',6544],['lib','accesslib.php',6776],['lib','accesslib.php',6998],['lib','accesslib.php',7240],['question/engine/tests','helpers.php',582],['question/engine/tests','helpers.php',594],['question/engine/tests','helpers.php',608],['question/engine/tests','helpers.php',623],['question/engine/tests','helpers.php',637],['question/engine/tests','helpers.php',652],['question/engine/tests','helpers.php',665],['question/engine/tests','helpers.php',676],['question/engine/tests','helpers.php',1180],['lib/zend/Zend/Validate','Ccnum.php',62],['lib/zend/Zend/Gdata/Extension','EventStatus.php',44],['lib/google/src/Google/Verifier','Pem.php',29],['lib/zend/Zend/Service/Technorati','BlogInfoResult.php',74],['admin/tool/log/classes','setting_managestores.php',30],['lib','outputactions.php',60],['lib','outputactions.php',91],['lib','outputactions.php',148],['backup/cc/cc_lib','cc_assesment_truefalse.php',27],['backup/util/ui','restore_moodleform.class.php',34],['grade/report/singleview/classes/local/ui','element.php',47],['mod/quiz/report','attemptsreport_table.php',76],['lib/lessphp/Tree','Attribute.php',16],['lib/phpexcel/PHPExcel/Style','Supervisor.php',52],['lib/zend/Zend/Gdata/Media/Extension','MediaCategory.php',50],['lib/google/src/Google/Service','AdSenseHost.php',49],['lib/zend/Zend/Gdata/Photos/Extension','Checksum.php',51],['lib/lessphp/Tree','Expression.php',16],['mod/workshop','fileinfolib.php',43],['mod/workshop','fileinfolib.php',198],['course/format','renderer.php',44],['lib/zend/Zend/XmlRpc/Value','Boolean.php',40],['blocks/rss_client','editfeed.php',36],['lib/phpexcel/PHPExcel/Worksheet','Protection.php',157],['question/type/numerical','question.php',321],['auth/cas/CAS/CAS/ProxiedService','Imap.php',51],['lib/typo3','class.t3lib_cs.php',509],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',110],['lib/zend/Zend/Gdata/Health','ProfileListEntry.php',49],['lib/htmlpurifier/HTMLPurifier/Filter','ExtractStyleBlocks.php',57],['cache/stores/memcache','lib.php',120],['lib/htmlpurifier/HTMLPurifier/AttrDef','Switch.php',29],['lib/zend/Zend/Gdata/Calendar/Extension','WebContent.php',47],['lib/zend/Zend/Gdata/Photos/Extension','Id.php',50],['lib/google/src/Google/Service','Games.php',60],['lib/zend/Zend/Validate/File','Size.php',92],['lib/classes/lock','file_lock_factory.php',57],['lib/htmlpurifier/HTMLPurifier/AttrTransform','SafeParam.php',27],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',64],['lib','filelib.php',2700],['lib','filelib.php',3560],['lib/classes/session','database.php',52],['lib/zend/Zend/Gdata/YouTube/Extension','Movies.php',44],['grade','lib.php',103],['grade','lib.php',785],['availability/condition/grouping/classes','condition.php',46],['lib/zend/Zend/Service/Technorati','SearchResult.php',84],['lib/dml','mysqli_native_moodle_recordset.php',42],['lib/zend/Zend/XmlRpc','Server.php',186],['mod/assign/feedback/editpdf/classes','annotation.php',66],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',30],['lib/htmlpurifier','HTMLPurifier.php',104],['lib/zend/Zend/Gdata/Media/Extension','MediaPlayer.php',59],['lib/phpexcel/PHPExcel','Cell.php',122],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',248],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Percentage.php',18],['lib','oauthlib.php',65],['lib','oauthlib.php',409],['backup/util/helper','restore_log_rule.class.php',62],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',108],['lib/zend/Zend/Server/Reflection','Class.php',66],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Font.php',22],['mnet/service/enrol','locallib.php',48],['mnet/service/enrol','locallib.php',466],['mnet/service/enrol','locallib.php',537],['repository/flickr','lib.php',51],['lib','csvlib.class.php',64],['lib','csvlib.class.php',398],['lib/google/src/Google/Service','MapsEngine.php',66],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',87],['lib/filestorage','tgz_extractor.php',119],['lib/zend/Zend/Soap','Client.php',142],['lib/zend/Zend/Gdata/Calendar/Extension','Hidden.php',45],['cache/classes','factory.php',149],['lib/zend/Zend/Gdata/Media/Extension','MediaCredit.php',54],['course','dnduploadlib.php',109],['course','dnduploadlib.php',407],['mod/lti/classes/local/ltiservice','resource_base.php',62],['lib/zend/Zend/Http','Response.php',132],['lib/horde/framework/Horde/Imap/Client','Exception.php',247],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceListRequest.php',63],['backup/util/ui','backup_moodleform.class.php',41],['lib/phpexcel/PHPExcel/Chart','Layout.php',143],['comment','lib.php',100],['lib/phpexcel','PHPExcel.php',354],['grade/export/ods','grade_export_ods.php',24],['auth/cas/CAS/CAS','ProxyTicketException.php',46],['lib/minify/lib','JSMinPlus.php',193],['lib/minify/lib','JSMinPlus.php',726],['lib/minify/lib','JSMinPlus.php',1638],['lib/minify/lib','JSMinPlus.php',1656],['lib/minify/lib','JSMinPlus.php',1748],['lib/zend/Zend/Gdata/YouTube/Extension','Location.php',44],['lib/lessphp/Tree','Dimension.php',15],['lib/phpexcel/PHPExcel/Worksheet','Row.php',54],['lib/phpexcel/PHPExcel/Writer','HTML.php',135],['lib/zend/Zend/Service/Technorati','TagsResultSet.php',41],['backup/moodle2','backup_theme_plugin.class.php',61],['lib/zend/Zend/Gdata','Extension.php',43],['lib/htmlpurifier/HTMLPurifier/ChildDef','Custom.php',36],['lib/google/src/Google/Service','SiteVerification.php',43],['lib/htmlpurifier/HTMLPurifier/Token','Text.php',34],['mod/forum/classes','subscriber_selector_base.php',53],['lib/zend/Zend','Auth.php',45],['lib/phpexcel/PHPExcel/Style','Borders.php',121],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CreateConferenceRequest.php',67],['lib/zend/Zend/Gdata/Calendar','ListFeed.php',54],['lib/zend/Zend/Gdata/Extension','Visibility.php',44],['webservice/xmlrpc','lib.php',42],['lib/phpexcel/PHPExcel/CachedObjectStorage','CacheBase.php',76],['lib/zend/Zend/Gdata/App','MediaEntry.php',57],['lib/horde/framework/Horde/Mime','Part.php',261],['backup/util/ui','backup_ui_stage.class.php',43],['backup/util/ui','backup_ui_stage.class.php',79],['backup/util/ui','backup_ui_stage.class.php',234],['backup/util/ui','backup_ui_stage.class.php',387],['backup/util/ui','backup_ui_stage.class.php',516],['backup/util/ui','backup_ui_stage.class.php',575],['question/classes/engine/variants','least_used_strategy.php',51],['lib/horde/framework/Horde/Support','Array.php',21],['lib/zend/Zend/Gdata/YouTube/Extension','Statistics.php',93],['lib/zend/Zend/Gdata/Photos/Extension','BytesUsed.php',50],['lib','tablelib.php',127],['lib','tablelib.php',1400],['lib','tablelib.php',1723],['lib/zend/Zend/Gdata/App/Extension','Uri.php',43],['backup/util/plan','backup_task.class.php',32],['backup/util/plan','backup_task.class.php',56],['lib/zend/Zend/Gdata/Media/Extension','MediaCopyright.php',53],['lib/zend/Zend/Gdata/DublinCore/Extension','Identifier.php',44],['backup/util/xml/parser/processors','findpaths_parser_processor.class.php',35],['lib/zend/Zend/Gdata/Gbase','Feed.php',49],['availability/condition/date/classes','condition.php',52],['backup/util/helper','restore_moodlexml_parser_processor.class.php',38],['admin/tool/generator/classes','course_backend.php',116],['lib/google/src/Google/Service','Prediction.php',51],['cache/stores/session','lib.php',131],['cache/classes','dummystore.php',62],['lib/zend/Zend/XmlRpc/Server','System.php',39],['lib/zend/Zend/Service/WindowsAzure/Storage','TableInstance.php',50],['backup/util/settings/course','course_backup_setting.class.php',25],['mod/quiz/classes/question','qubaids_for_users_attempts.php',37],['mod/lesson','override_form.php',58],['lib/zend/Zend/Service/Simpy','WatchlistSet.php',47],['lib/google/src/Google/Service','Compute.php',78],['badges/criteria','award_criteria.php',127],['lib/zend/Zend/Gdata/Calendar/Extension','Selected.php',45],['lib/minify/lib/Minify/Cache','ZendPlatform.php',23],['lib/zend/Zend/Validate','PostCode.php',65],['lib/dml','oci_native_moodle_temptables.php',40],['lib/zend/Zend/Gdata/Photos/Extension','CommentingEnabled.php',51],['lib/simplepie/library/SimplePie','Category.php',81],['auth/cas/CAS/CAS','CookieJar.php',46],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',45],['backup/util/ui','backup_ui_setting.class.php',70],['backup/util/ui','backup_ui_setting.class.php',200],['backup/util/ui','backup_ui_setting.class.php',398],['backup/util/ui','backup_ui_setting.class.php',504],['backup/util/ui','backup_ui_setting.class.php',583],['user/classes/output/myprofile','category.php',68],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',47],['mod/wiki/parser','parser.php',98],['backup/converter','convertlib.php',52],['backup/converter','convertlib.php',277],['repository/googledocs','lib.php',65],['lib/htmlpurifier/HTMLPurifier','Doctype.php',48],['lib/zend/Zend/Validate/File','Extension.php',71],['mod/imscp','locallib.php',289],['lib/classes/session','memcache.php',50],['lib/horde/framework/Horde/Imap/Client','Cache.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ImportantDecorator.php',21],['lib/zend/Zend/Service','Simpy.php',53],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',91],['lib/zend/Zend/Gdata/Gapps','EmailListRecipientQuery.php',54],['lib/zend/Zend/Gdata/YouTube','PlaylistVideoEntry.php',55],['lib/zend/Zend/Gdata/Photos','CommentEntry.php',85],['lib/horde/framework/Horde/Exception','PermissionDenied.php',15],['lib/zend/Zend/Gdata/YouTube','InboxEntry.php',92],['lib/jabber/XMPP','XMPP_Old.php',45],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',27],['backup/cc/cc_lib','cc_converter_label.php',28],['lib/phpexcel/PHPExcel/Style','Border.php',75],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateParticipantRequest.php',53],['enrol/manual','locallib.php',37],['enrol/manual','locallib.php',102],['admin/tool/assignmentupgrade','locallib.php',50],['admin/tool/assignmentupgrade','locallib.php',93],['lib/zend/Zend/Gdata/Exif/Extension','Distance.php',49],['lib/phpexcel/PHPExcel/Writer','PDF.php',46],['lib/zend/Zend/Gdata/Photos/Extension','Size.php',50],['lib/google/src/Google/Service','CloudMonitoring.php',42],['backup/util/xml/output','memory_xml_output.class.php',37],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',41],['lib/simplepie/library/SimplePie','Credit.php',81],['lib/zend/Zend/Service','Delicious.php',112],['lib/bennu','iCalendar_components.php',21],['lib/bennu','iCalendar_components.php',333],['lib/bennu','iCalendar_components.php',355],['lib/bennu','iCalendar_components.php',433],['lib/bennu','iCalendar_components.php',513],['lib/bennu','iCalendar_components.php',551],['lib/bennu','iCalendar_components.php',602],['lib/bennu','iCalendar_components.php',659],['lib/bennu','iCalendar_components.php',679],['lib','outputrenderers.php',117],['lib','outputrenderers.php',282],['lib','outputrenderers.php',405],['lib','outputrenderers.php',4280],['lib','outputrenderers.php',4533],['lib/zend/Zend/Service/Amazon','ListmaniaList.php',44],['lib/zend/Zend/Service','Flickr.php',54],['backup/util/helper','restore_decode_rule.class.php',47],['backup/util/helper','restore_decode_rule.class.php',192],['lib/mustache/src/Mustache/Exception','UnknownFilterException.php',22],['lib/google/src/Google/Logger','File.php',49],['backup','backup.class.php',146],['lib/zend/Zend/Gdata/App/Extension','Updated.php',43],['lib/zend/Zend/Gdata/YouTube','PlaylistVideoFeed.php',55],['auth/cas/CAS/CAS/PGTStorage','Db.php',122],['lib/phpexcel/PHPExcel/Chart','DataSeries.php',137],['lib/zend/Zend/Gdata/Geo','Feed.php',51],['lib/phpexcel/PHPExcel/Shared/trend','logarithmicBestFitClass.php',107],['backup/util/loggers','file_logger.class.php',35],['admin/roles/classes','admins_existing_selector.php',30],['lib/phpexcel/PHPExcel/Shared/JAMA','LUDecomposition.php',57],['lib/zend/Zend/Gdata/Extension','Reminder.php',48],['course/format/topics','renderer.php',38],['mod/lesson/classes','file_info.php',45],['question/type/calculatedmulti','edit_calculatedmulti_form.php',47],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',62],['lib/minify/lib/HTTP','Encoder.php',75],['lib/zend/Zend/Gdata/App/Extension','Name.php',43],['lib/google/src/Google/Service','Calendar.php',50],['question/type','questionbase.php',124],['question/type','questionbase.php',438],['question/type','questionbase.php',531],['question/type','questionbase.php',750],['question/type','questionbase.php',835],['question/type','questionbase.php',868],['question/type','questionbase.php',914],['question/type','questionbase.php',1013],['lib/dml','database_column_info.php',137],['lib/zend/Zend/Gdata/YouTube/Extension','Gender.php',44],['lib/zend/Zend/Service','Yahoo.php',49],['lib/zend/Zend/Service/Amazon','SimilarProduct.php',44],['lib/mustache/src/Mustache/Exception','SyntaxException.php',23],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',21],['lib/horde/framework/Horde','Stream.php',50],['lib/google/src/Google/Service','Analytics.php',76],['lib/horde/framework/Horde/Mail/Transport','Mock.php',76],['lib/xmldb','xmldb_file.php',43],['lib/zend/Zend/Gdata/YouTube','PlaylistListEntry.php',97],['lib/zend/Zend/Service/Amazon/Ec2','Response.php',78],['lib/zend/Zend/Soap/Wsdl/Strategy','Composite.php',60],['lib/google/src/Google/Service','Tasks.php',44],['lib/zend/Zend/XmlRpc','Response.php',68],['lib/horde/framework/Horde/Exception','NotFound.php',15],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',66],['lib/zend/Zend/Gdata/Books','VolumeEntry.php',131],['question','previewlib.php',122],['mod/wiki','renderer.php',537],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',62],['mod/assign','renderable.php',41],['mod/assign','renderable.php',71],['mod/assign','renderable.php',103],['mod/assign','renderable.php',139],['mod/assign','renderable.php',191],['mod/assign','renderable.php',242],['mod/assign','renderable.php',291],['mod/assign','renderable.php',393],['mod/assign','renderable.php',517],['mod/assign','renderable.php',576],['mod/assign','renderable.php',613],['mod/assign','renderable.php',653],['mod/assign','renderable.php',706],['mod/assign','renderable.php',760],['lib/mustache/src/Mustache','Autoloader.php',19],['lib/zend/Zend/Service/DeveloperGarden/Request/SmsValidation','Invalidate.php',46],['lib/zend/Zend/Service/Yahoo','ImageResult.php',97],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooter.php',183],['mod/quiz/classes/question/bank','custom_view.php',44],['lib/htmlpurifier/HTMLPurifier/Token','Tag.php',33],['lib/zend/Zend/Amf/Adobe','Auth.php',56],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','FontFamily.php',11],['auth/cas/CAS/CAS','TypeMismatchException.php',43],['grade/report/singleview/classes/local/screen','screen.php',67],['lib/zend/Zend/Amf/Parse','Deserializer.php',45],['lib/zend/Zend/Service/Delicious','SimplePost.php',56],['lib/zend/Zend/Service/Technorati','ResultSet.php',112],['cache/classes','loaders.php',196],['cache/classes','loaders.php',1211],['cache/classes','loaders.php',1606],['lib/zend/Zend/Gdata/Gbase','Entry.php',62],['lib/zend/Zend/Validate','Identical.php',64],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',65],['cache/stores/mongodb','lib.php',116],['mod/quiz/report/statistics/classes','calculator.php',39],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','FrameTarget.php',19],['lib/zend/Zend/Gdata/App/Extension','Draft.php',44],['enrol/ldap','settingslib.php',32],['enrol/ldap','settingslib.php',90],['enrol/ldap','settingslib.php',204],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceDetail.php',54],['lib/zend/Zend/Service/Yahoo','InlinkDataResult.php',47],['lib/lessphp/Tree','UnicodeDescriptor.php',14],['lib/lessphp/Tree','Directive.php',20],['lib/zend/Zend/Service/Yahoo','VideoResult.php',118],['question/type/calculated','edit_calculated_form.php',51],['lib/classes','string_manager_install.php',43],['lib/google/src/Google/Service','GamesManagement.php',50],['lib/google/src/Google/Logger','Psr.php',37],['grade/report/history/classes/output','user_button.php',40],['lib','externallib.php',129],['lib','externallib.php',426],['lib','externallib.php',457],['lib','externallib.php',488],['lib','externallib.php',517],['lib','externallib.php',649],['lib','externallib.php',684],['lib','externallib.php',782],['backup/util/ui','base_ui_stage.class.php',67],['lib/zend/Zend/Validate','CreditCard.php',136],['lib/zend/Zend/Gdata/Spreadsheets','CellQuery.php',57],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',18],['mod/quiz/accessrule','accessrulebase.php',52],['lib/mustache/src/Mustache','Context.php',20],['lib/zend/Zend/Service/DeveloperGarden/Request/VoiceButler','CallStatus.php',46],['lib/zend/Zend/Gdata/Spreadsheets','CellFeed.php',78],['backup/util/xml/parser/processors','progressive_parser_processor.class.php',57],['lib/lessphp/Tree','Color.php',15],['lib/zend/Zend/Service/StrikeIron','Base.php',56],['lib/zend/Zend/Gdata/Exif/Extension','FStop.php',49],['lib/htmlpurifier/HTMLPurifier/AttrTransform','BoolToCSS.php',24],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',44],['lib/zend/Zend/Service/Simpy','Tag.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',30],['cache/classes','helper.php',90],['lib/zend/Zend/Soap','Wsdl.php',73],['lib/htmlpurifier/HTMLPurifier/Lexer','DOMLex.php',35],['lib/zend/Zend/Validate/Barcode','Code25interleaved.php',53],['webservice/soap','locallib.php',162],['lib/lessphp/Tree','Quoted.php',20],['lib/simplepie/library/SimplePie/Cache','Memcache.php',81],['lib/zend/Zend/Gdata/YouTube','ActivityEntry.php',88],['backup/controller','restore_controller.class.php',63],['backup/controller','restore_controller.class.php',517],['lib/zend/Zend/Service','Audioscrobbler.php',65],['lib/zend/Zend/Service/Flickr','ResultSet.php',82],['lib/mustache/src/Mustache/Logger','StreamLogger.php',44],['lib/zend/Zend/XmlRpc/Request','Stdin.php',47],['lib/zend/Zend/Service/DeveloperGarden/Request/SmsValidation','Validate.php',63],['mod/glossary','locallib.php',481],['lib/google/src/Google/Logger','Abstract.php',121],['lib/horde/framework/Horde/Support','Guid.php',24],['lib/zend/Zend/Http/Client/Adapter','Curl.php',92],['lib/google/src/Google/Service','Oauth2.php',50],['lib/phpmailer','moodle_phpmailer.php',47],['lib/zend/Zend/Validate/Barcode','Intelligentmail.php',47],['repository/skydrive','microsoftliveapi.php',50],['mod/workshop/allocation/manual','lib.php',51],['lib/zend/Zend/Validate/File','Exists.php',62],['lib/xhprof','xhprof_moodle.php',788],['question/classes/bank/search','category_condition.php',60],['lib/markdown','Markdown.php',96],['grade/report/grader','lib.php',104],['lib/zend/Zend/Gdata/YouTube/Extension','Control.php',48],['lib/zend/Zend/Validate','StringLength.php',79],['question/behaviour','behaviourbase.php',50],['backup/cc/cc_lib','cc_converter_forum.php',29],['lib/zend/Zend/Gdata/Photos/Extension','Nickname.php',50],['lib/zend/Zend/Gdata/Exif/Extension','Tags.php',169],['lib/zend/Zend/Uri','Http.php',108],['lib/zend/Zend/Gdata/YouTube/Extension','Hometown.php',44],['cache/stores/file','lib.php',117],['lib/zend/Zend/Service','Amazon.php',75],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',12],['lib/zend/Zend/Gdata/Media/Extension','MediaThumbnail.php',64],['lib/zend/Zend/Service/Yahoo','Image.php',56],['lib/zend/Zend/Gdata','Feed.php',87],['lib/google/src/Google/Service','Storage.php',54],['backup/cc/cc_lib','cc_asssesment.php',290],['backup/cc/cc_lib','cc_asssesment.php',345],['backup/cc/cc_lib','cc_asssesment.php',364],['backup/cc/cc_lib','cc_asssesment.php',415],['backup/cc/cc_lib','cc_asssesment.php',476],['backup/cc/cc_lib','cc_asssesment.php',486],['backup/cc/cc_lib','cc_asssesment.php',561],['backup/cc/cc_lib','cc_asssesment.php',585],['backup/cc/cc_lib','cc_asssesment.php',635],['backup/cc/cc_lib','cc_asssesment.php',668],['backup/cc/cc_lib','cc_asssesment.php',693],['backup/cc/cc_lib','cc_asssesment.php',788],['backup/cc/cc_lib','cc_asssesment.php',814],['backup/cc/cc_lib','cc_asssesment.php',838],['backup/cc/cc_lib','cc_asssesment.php',965],['backup/cc/cc_lib','cc_asssesment.php',971],['backup/cc/cc_lib','cc_asssesment.php',986],['backup/cc/cc_lib','cc_asssesment.php',1003],['backup/cc/cc_lib','cc_asssesment.php',1017],['backup/cc/cc_lib','cc_asssesment.php',1045],['backup/cc/cc_lib','cc_asssesment.php',1186],['backup/cc/cc_lib','cc_asssesment.php',1263],['backup/cc/cc_lib','cc_asssesment.php',1317],['backup/cc/cc_lib','cc_asssesment.php',1389],['backup/cc/cc_lib','cc_asssesment.php',1451],['backup/cc/cc_lib','cc_asssesment.php',1558],['backup/cc/cc_lib','cc_asssesment.php',1620],['backup/cc/cc_lib','cc_asssesment.php',1648],['backup/cc/cc_lib','cc_asssesment.php',1716],['backup/cc/cc_lib','cc_asssesment.php',2155],['backup/cc/cc_lib','cc_asssesment.php',2264],['backup/cc/cc_lib','cc_asssesment.php',2469],['admin/tool/uploadcourse/classes','course.php',111],['lib/zend/Zend/Gdata/Extension','Where.php',52],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ListStyle.php',20],['lib/zend/Zend/Service/Amazon','S3.php',102],['lib/horde/framework/Horde/Stream','Existing.php',28],['backup/util/output','output_controller.class.php',44],['backup/cc/cc_lib','cc_version1.php',57],['question/classes/statistics/responses','analysis_for_question.php',58],['lib/zend/Zend/Service/Simpy','Link.php',104],['backup/converter/moodle1','handlerlib.php',120],['backup/converter/moodle1','handlerlib.php',1710],['backup/converter/moodle1','handlerlib.php',1902],['backup/converter/moodle1','handlerlib.php',2155],['cache','lib.php',66],['cache','lib.php',109],['cache','lib.php',138],['cache','lib.php',183],['lib/zend/Zend/Gdata','Calendar.php',77],['lib/zend/Zend/Validate','Date.php',71],['backup/util/structure','base_atom.class.php',41],['backup/util/structure','base_atom.class.php',114],['backup/util/structure','base_atom.class.php',135],['backup/util/structure','base_atom.class.php',156],['lib/xmldb','xmldb_table.php',49],['lib/htmlpurifier/HTMLPurifier','Encoder.php',10],['backup/cc','cc112moodle.php',59],['lib/zend/Zend/XmlRpc/Client','ServerIntrospection.php',43],['lib/zend/Zend/Gdata/Photos','PhotoFeed.php',147],['backup/controller','backup_controller.class.php',68],['backup/controller','backup_controller.class.php',407],['lib','adminlib.php',792],['lib','adminlib.php',1139],['lib','adminlib.php',1213],['lib','adminlib.php',1356],['lib','adminlib.php',1553],['lib','adminlib.php',1925],['lib','adminlib.php',2037],['lib','adminlib.php',2103],['lib','adminlib.php',2204],['lib','adminlib.php',2246],['lib','adminlib.php',2284],['lib','adminlib.php',2372],['lib','adminlib.php',2406],['lib','adminlib.php',2563],['lib','adminlib.php',2648],['lib','adminlib.php',2877],['lib','adminlib.php',3033],['lib','adminlib.php',3175],['lib','adminlib.php',3266],['lib','adminlib.php',3430],['lib','adminlib.php',3510],['lib','adminlib.php',3621],['lib','adminlib.php',3772],['lib','adminlib.php',4001],['lib','adminlib.php',4068],['lib','adminlib.php',4286],['lib','adminlib.php',4315],['lib','adminlib.php',4344],['lib','adminlib.php',4368],['lib','adminlib.php',4398],['lib','adminlib.php',4434],['lib','adminlib.php',4469],['lib','adminlib.php',4501],['lib','adminlib.php',4591],['lib','adminlib.php',4624],['lib','adminlib.php',4680],['lib','adminlib.php',4704],['lib','adminlib.php',4730],['lib','adminlib.php',4753],['lib','adminlib.php',4770],['lib','adminlib.php',4815],['lib','adminlib.php',4878],['lib','adminlib.php',4913],['lib','adminlib.php',4956],['lib','adminlib.php',5039],['lib','adminlib.php',5169],['lib','adminlib.php',5211],['lib','adminlib.php',5256],['lib','adminlib.php',5313],['lib','adminlib.php',5329],['lib','adminlib.php',5385],['lib','adminlib.php',5610],['lib','adminlib.php',5664],['lib','adminlib.php',5718],['lib','adminlib.php',5735],['lib','adminlib.php',5783],['lib','adminlib.php',5825],['lib','adminlib.php',5876],['lib','adminlib.php',5932],['lib','adminlib.php',6161],['lib','adminlib.php',6341],['lib','adminlib.php',6435],['lib','adminlib.php',6582],['lib','adminlib.php',7206],['lib','adminlib.php',7658],['lib','adminlib.php',7841],['lib','adminlib.php',8128],['lib','adminlib.php',8275],['lib','adminlib.php',8435],['lib','adminlib.php',8582],['lib','adminlib.php',8746],['lib','adminlib.php',8939],['lib','adminlib.php',8993],['lib','adminlib.php',9055],['lib','adminlib.php',9100],['mod/workshop/eval/best','lib.php',44],['lib/zend/Zend/Gdata/Calendar','EventQuery.php',91],['lib/zend/Zend/Service/Technorati','TagResult.php',94],['lib/google/src/Google/Cache','Null.php',26],['enrol/flatfile','adminlib.php',35],['lib/phpexcel/PHPExcel/Chart','PlotArea.php',52],['mod/quiz/report/statistics','statistics_question_table.php',49],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','AddConferenceTemplateParticipantRequest.php',53],['mod/data','lib.php',66],['mod/data','lib.php',2164],['mod/data','lib.php',2438],['mod/data','lib.php',2459],['question/classes/statistics/questions','calculated_for_subquestion.php',57],['lib/horde/framework/Horde/Crypt/Blowfish','Base.php',56],['lib/classes/session','memcached.php',51],['lib/google/src/Google/IO','Abstract.php',37],['availability/classes','info_section.php',40],['lib/zend/Zend/Gdata/YouTube/Extension','Books.php',44],['lib/phpexcel/PHPExcel/Shared/JAMA','QRDecomposition.php',48],['lib/filestorage','stored_file.php',63],['grade/report/history/classes/output','tablelog.php',72],['lib/classes','plugin_manager.php',71],['lib/google/src/Google','Model.php',32],['lib/zend/Zend/Gdata/YouTube/Extension','Relationship.php',44],['lib/horde/framework/Horde/Crypt','Blowfish.php',54],['lib/filebrowser','virtual_root_file.php',45],['auth/cas/CAS/CAS','OutOfSequenceBeforeClientException.php',47],['availability/condition/grade/classes','condition.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',188],['admin/roles/classes','check_capability_table.php',40],['lib/zend/Zend/Gdata/Media','Entry.php',60],['lib/zend/Zend/Gdata','MimeFile.php',43],['admin/tool/xmldb/actions','XMLDBAction.class.php',56],['backup/cc/cc_lib','cc_resources.php',102],['lib/zend/Zend/Loader/Autoloader','Resource.php',62],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',80],['backup/util/xml/parser/processors','simplified_parser_processor.class.php',46],['lib/simplepie/library/SimplePie','IRI.php',252],['lib/htmlpurifier/HTMLPurifier','ContentSets.php',33],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',68],['lib/htmlpurifier/HTMLPurifier/Token','Comment.php',19],['lib/zend/Zend/Gdata/Calendar/Extension','SendEventNotifications.php',44],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntity.php',66],['lib/zend/Zend/Service/DeveloperGarden/Request/LocalSearch','LocalSearchRequest.php',60],['mod/quiz/report/overview','overview_table.php',41],['lib/zend/Zend/Gdata/Photos/Extension','Client.php',51],['backup/cc/cc_lib','cc_converters.php',75],['lib/google/src/Google/Service','AdSense.php',68],['lib/zend/Zend/Gdata','Entry.php',48],['lib','filterlib.php',74],['lib','filterlib.php',382],['lib/lessphp/Tree','Alpha.php',13],['lib/zend/Zend/Gdata','DublinCore.php',51],['lib/horde/framework/Horde/Support','Stack.php',18],['lib/lessphp/Tree','Selector.php',31],['lib/zend/Zend/Service','Nirvanix.php',47],['lib/dtl','file_xml_database_importer.php',34],['mod/workshop','mod_form.php',44],['lib/zend/Zend/Service/Technorati','CosmosResultSet.php',73],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',39],['lib/zend/Zend/Gdata/YouTube/Extension','Age.php',44],['repository/s3','S3.php',176],['repository/s3','S3.php',1994],['repository/s3','S3.php',2346],['lib/lessphp/Tree','Ruleset.php',45],['lib/zend/Zend/Service/Simpy','NoteSet.php',47],['backup/util/xml/output','xml_output.class.php',52],['backup/util/xml/output','xml_output.class.php',158],['lib/google/src/Google/Service','Pubsub.php',44],['lib/alfresco/Service','Node.php',51],['lib/zend/Zend/Service','Technorati.php',79],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',39],['admin/tool/monitor/classes','subscription.php',43],['lib/zend/Zend/Gdata/App/Extension','Person.php',61],['backup/moodle2','backup_course_task.class.php',39],['grade/report/singleview/classes/local/ui','text_attribute.php',42],['lib/dml','sqlsrv_native_moodle_recordset.php',40],['lib/zend/Zend/Gdata/YouTube','ContactEntry.php',61],['lib/zend/Zend/Gdata/Extension','AttendeeType.php',44],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',17],['mod/assignment/backup/moodle1','lib.php',223],['lib/zend/Zend/Gdata/Health/Extension','Ccr.php',43],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',34],['mod/quiz','mod_form.php',48],['backup/util/structure','restore_path_element.class.php',47],['backup/util/structure','restore_path_element.class.php',128],['lib/zend/Zend/Gdata/Calendar','EventFeed.php',55],['lib/zend/Zend/Gdata/Spreadsheets','DocumentQuery.php',57],['availability/tests/fixtures','mock_condition.php',52],['lib/lessphp','Visitor.php',14],['mod/assign/feedback/editpdf/classes','widget.php',53],['lib/minify/lib/Minify/Cache','File.php',9],['lib/zend/Zend/Gdata/Exif','Entry.php',64],['grade/tests','reportlib_test.php',36],['mod/workshop/allocation','lib.php',103],['lib/zend/Zend/Service/WindowsAzure/Storage','BlobInstance.php',57],['lib/zend/Zend/Gdata/Photos/Extension','User.php',50],['admin/tool/uploadcourse/classes','tracker.php',72],['lib/zend/Zend/Service/Technorati','GetInfoResult.php',52],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',61],['lib/zend/Zend/Gdata/YouTube/Extension','Hobbies.php',44],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',31],['lib/zend/Zend/Gdata/Photos/Extension','Width.php',50],['admin/roles/classes','view_role_definition_table.php',28],['lib/phpunit/classes','arraydataset.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Sync.php',133],['lib/zend/Zend','Exception.php',34],['backup/util/xml/parser/tests','parser_test.php',797],['lib/zend/Zend/Validate/File','ImageSize.php',113],['lib/zend/Zend/Validate','Alnum.php',65],['lib/zend/Zend/Service/Flickr','Image.php',62],['lib/phpexcel/PHPExcel/Calculation','Function.php',71],['lib/horde/framework/Horde/Support','Inflector.php',115],['lib/horde/framework/Horde/Exception','Pear.php',22],['question/classes/bank','random_question_loader.php',61],['lib/phpexcel/PHPExcel/Reader','HTML.php',104],['lib/mustache/src/Mustache/Loader','InlineLoader.php',57],['lib/zend/Zend/Gdata/Photos/Extension','QuotaLimit.php',51],['admin/tool/uploadcourse/classes','processor.php',122],['lib/zend/Zend/Gdata/Spreadsheets','WorksheetFeed.php',40],['lib/lessphp/Tree','Rule.php',24],['lib/zend/Zend/Service/Amazon','EditorialReview.php',44],['lib/zend/Zend/Service/ReCaptcha','MailHide.php',86],['lib/htmlpurifier/HTMLPurifier/AttrTransform','NameSync.php',11],['lib/classes/progress','display_if_slow.php',60],['availability/condition/group/classes','condition.php',43],['lib/zend/Zend/Gdata/Photos/Extension','Location.php',50],['backup/moodle2','restore_settingslib.php',125],['lib/filebrowser','file_info.php',43],['repository/equella','lib.php',42],['lib/zend/Zend/Http','Client.php',242],['lib/alfresco/Service','ChildAssociation.php',30],['lib/zend/Zend/Gdata/DublinCore/Extension','Subject.php',44],['lib/zend/Zend/Gdata/App/Extension','Category.php',46],['badges/lib','awardlib.php',55],['admin/roles/classes','override_permissions_table_advanced.php',31],['lib/mustache/src/Mustache','Template.php',29],['backup/util/helper','restore_roles_parser_processor.class.php',39],['lib','csslib.php',1501],['lib','csslib.php',1587],['lib','csslib.php',2068],['lib','csslib.php',2136],['lib','csslib.php',2242],['lib/zend/Zend/Service/WindowsAzure/Storage','QueueInstance.php',49],['mod/lti/service/toolproxy/classes/local/service','toolproxy.php',41],['admin/roles/classes','define_role_table_advanced.php',46],['backup/moodle2','restore_section_task.class.php',42],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',44],['lib/google/src/Google','Client.php',71],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',69],['backup/moodle2','restore_plugin.class.php',43],['lib/simplepie/library/SimplePie','Registry.php',99],['backup/cc','cc2moodle.php',105],['lib/classes/lock','postgres_lock_factory.php',81],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',56],['lib/htmlpurifier/HTMLPurifier','Length.php',41],['lib/zend/Zend/Validate/File','Count.php',92],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',54],['lib/editor/atto','adminlib.php',109],['lib/google/src/Google/Service','Admin.php',40],['lib/dml','moodle_transaction.php',40],['backup/util/plan','restore_structure_step.class.php',46],['question/engine','questionattempt.php',166],['question/engine','questionattempt.php',1513],['question/engine','questionattempt.php',1599],['question/engine','questionattempt.php',1684],['lib/zend/Zend/Service/Technorati','Weblog.php',152],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantStatus.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',23],['backup/util/helper','restore_decode_content.class.php',50],['backup/util/helper','restore_decode_content.class.php',125],['lib/google/src/Google/Cache','File.php',39],['lib/google/src/Google/Http','Request.php',55],['backup/moodle2','backup_block_task.class.php',43],['lib/simplepie/library/SimplePie','Source.php',61],['lib/google/src/Google/Service','Translate.php',40],['availability/classes','capability_checker.php',49],['lib','navigationlib.php',145],['lib','navigationlib.php',1012],['lib','navigationlib.php',2814],['lib','navigationlib.php',3075],['lib','navigationlib.php',3409],['lib','navigationlib.php',4775],['lib','navigationlib.php',4956],['lib/zend/Zend/Gdata/YouTube/Extension','MediaCredit.php',64],['lib/dml','pdo_moodle_database.php',42],['lib/zend/Zend/Gdata/YouTube/Extension','ReleaseDate.php',44],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',40],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',221],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','NewParticipantRequest.php',53],['lib/zend/Zend/Gdata/Spreadsheets/Extension','RowCount.php',49],['lib/zend/Zend/Validate/File','IsCompressed.php',53],['lib/zend/Zend/Gdata/Photos/Extension','MaxPhotosPerAlbum.php',51],['lib/zend/Zend/Gdata/Extension','When.php',52],['question/classes/bank/search','hidden_condition.php',42],['report/loglive/classes','renderable.php',73],['mod/lti/classes/local/ltiservice','response.php',58],['lib/zend/Zend/Gdata/Extension','Recurrence.php',43],['lib/zend/Zend/Gdata/Books/Extension','BooksLink.php',41],['backup/util/loggers','database_logger.class.php',40],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',250],['lib/phpexcel/PHPExcel','HashTable.php',52],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',34],['lib/htmlpurifier/HTMLPurifier','Zipper.php',25],['lib/classes/update','deployer.php',42],['lib/zend/Zend/Gdata/YouTube','VideoFeed.php',53],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','GetQuotaInformation.php',40],['lib/minify/lib','CSSmin.php',43],['lib/zend/Zend/Validate/File','Crc32.php',60],['mod/feedback/item','feedback_item_class.php',20],['question/engine/upgrade','upgradelib.php',280],['question/engine/upgrade','upgradelib.php',381],['lib/simplepie/library/SimplePie','Copyright.php',73],['lib/zend/Zend/Gdata/Spreadsheets','SpreadsheetEntry.php',43],['lib/google/src/Google/Service','Dns.php',50],['lib/zend/Zend/Gdata/Gapps','Query.php',57],['lib/zend/Zend/Gdata/YouTube/Extension','School.php',44],['lib/mustache/src/Mustache','HelperCollection.php',19],['mod/assign','gradingtable.php',68],['backup/util/xml/output','file_xml_output.class.php',37],['lib','upgradelib.php',45],['lib','upgradelib.php',61],['lib','upgradelib.php',76],['lib','upgradelib.php',94],['lib','upgradelib.php',111],['lib/zend/Zend/Service','Akismet.php',77],['lib','googleapi.php',52],['lib','googleapi.php',243],['lib/zend/Zend/Service/Yahoo','ResultSet.php',84],['lib/classes/message/inbound','processing_failed_exception.php',36],['lib','portfoliolib.php',101],['lib/lessphp/Tree','Import.php',30],['lib/phpexcel/PHPExcel/Shared/JAMA','SingularValueDecomposition.php',53],['lib/tests/fixtures','test_renderer_factory.php',41],['mod/lesson','editpage_form.php',41],['grade/report','lib.php',156],['lib/zend/Zend/XmlRpc/Request','Http.php',53],['lib/filebrowser','file_info_stored.php',51],['lib/phpexcel/PHPExcel/Style','Protection.php',57],['lib/google/src/Google','Config.php',30],['lib/horde/framework/Horde/Imap/Client/Exception','ServerResponse.php',44],['lib/zend/Zend/Validate','LessThan.php',58],['grade/export','lib.php',60],['lib/zend/Zend/Gdata/YouTube/Extension','PlaylistTitle.php',44],['availability/classes','tree.php',118],['lib/htmlpurifier/HTMLPurifier/Node','Text.php',35],['question/classes/statistics/responses','analysis_for_subpart.php',50],['lib/zend/Zend/Validate','InArray.php',65],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','BackgroundPosition.php',57],['lib/zend/Zend/Gdata/Photos/Extension','Height.php',50],['lib/zend/Zend/Gdata/Gapps','Error.php',76],['backup/util/helper','restore_decode_processor.class.php',47],['backup/util/helper','restore_decode_processor.class.php',182],['lib/phpexcel/PHPExcel','Chart.php',150],['lib/google/src/Google/Service','Replicapool.php',48],['lib/zend/Zend/Gdata/Media/Extension','MediaRating.php',49],['lib/zend/Zend/Gdata/YouTube','VideoEntry.php',175],['admin/tool/installaddon/classes','pluginfo_client.php',68],['admin/tool/installaddon/classes','pluginfo_client.php',206],['lib/google/src/Google/Service','Resourceviews.php',54],['admin/tool/log/store/legacy/classes/log','store.php',33],['backup/moodle2','backup_section_task.class.php',40],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',68],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',40],['repository/youtube','lib.php',40],['lib/tcpdf/include/barcodes','datamatrix.php',229],['lib/testing/generator','component_generator_base.php',45],['lib/zend/Zend/Gdata/DublinCore/Extension','Format.php',44],['lib','badgeslib.php',133],['admin/tool/installaddon/classes','installer.php',488],['admin/tool/installaddon/classes','installer.php',745],['lib/zend/Zend/XmlRpc','Client.php',122],['lib/mustache/src/Mustache','LambdaHelper.php',24],['admin/roles/classes','permissions_table.php',38],['lib/jabber/XMPP','XMLObj.php',76],['lib','coursecatlib.php',197],['lib','coursecatlib.php',2668],['question/type','edit_question_form.php',96],['lib/zend/Zend/Gdata','MediaMimeStream.php',80],['mod/quiz/report/responses','last_responses_table.php',39],['lib/zend/Zend/Gdata/Photos/Extension','Timestamp.php',51],['lib','setuplib.php',106],['lib','setuplib.php',158],['lib','setuplib.php',174],['lib','setuplib.php',194],['lib','setuplib.php',224],['lib','setuplib.php',246],['lib','setuplib.php',262],['lib','setuplib.php',284],['lib','setuplib.php',303],['lib','setuplib.php',321],['lib/google/src/Google/Cache','Apc.php',35],['mod/lti/service/toolsettings/classes/local/service','toolsettings.php',41],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',57],['lib/lessphp/Tree','Unit.php',16],['lib/zend/Zend/Service/DeveloperGarden/Request/VoiceButler','TearDownCall.php',46],['lib/minify/lib/HTTP','ConditionalGet.php',109],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',261],['lib/htmlpurifier/HTMLPurifier','Printer.php',21],['lib/zend/Zend/Service/Amazon','CustomerReview.php',69],['lib/zend/Zend/Gdata/YouTube/Extension','QueryString.php',44],['lib/zend/Zend/Gdata/Gapps/Extension','Name.php',65],['mod/assign','adminlib.php',41],['mod/assign','adminlib.php',102],['lib/lessphp/Tree','RulesetCall.php',14],['lib/zend/Zend/Gdata/Extension','Rating.php',49],['repository/alfresco','lib.php',42],['lib/zend/Zend/Service/Technorati','SearchResultSet.php',49],['lib/zend/Zend/Gdata/Photos','UserQuery.php',71],['enrol','renderer.php',426],['enrol','renderer.php',728],['badges/criteria','award_criteria_course.php',47],['lib/zend/Zend/Gdata/Extension','RecurrenceException.php',56],['lib/phpexcel/PHPExcel/Style','Fill.php',89],['lib/zend/Zend/Service/Technorati','TagsResult.php',60],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',60],['lib/google/src/Google/Service','Exception.php',12],['lib/zend/Zend/Gdata','Spreadsheets.php',115],['lib/xmldb','xmldb_index.php',56],['question/classes/statistics/responses','analyser.php',69],['lib/htmlpurifier/HTMLPurifier/Node','Comment.php',19],['lib/zend/Zend/Gdata/Photos/Extension','Position.php',50],['lib/google/src/Google/Auth','Simple.php',32],['lib/zend/Zend/Gdata/Geo/Extension','GmlPoint.php',62],['lib/horde/framework/Horde/Crypt/Blowfish/Php','Base.php',318],['lib/horde/framework/Horde/Imap/Client/Cache','Backend.php',33],['lib/zend/Zend/Rest','Route.php',71],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceTemplateParticipantRequest.php',60],['question','category_class.php',58],['lib/classes/progress','display.php',48],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportExtension.php',33],['lib/zend/Zend/Gdata/App/Extension','Rights.php',43],['lib/adodb','adodb-active-record.inc.php',113],['lib/horde/framework/Horde/Exception','Wrapped.php',16],['lib/zend/Zend/Validate','NotEmpty.php',77],['question/type/calculated','datasetitems_form.php',72],['lib/horde/framework/Horde/Support','ObjectStub.php',29],['lib/dml','pdo_moodle_recordset.php',41],['backup/cc/cc_lib','cc_converter_folder.php',28],['lib/horde/framework/Horde/Mime','Mail.php',93],['lib/zend/Zend/Gdata/Calendar','ListEntry.php',85],['admin/tool/monitor/classes','rule.php',44],['backup/cc/cc_lib','cc_utils.php',313],['backup/cc/cc_lib','cc_utils.php',381],['backup/cc/cc_lib','cc_utils.php',437],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',69],['lib/zend/Zend/Gdata/Geo','Entry.php',55],['lib/zend/Zend/Gdata/YouTube/Extension','Link.php',48],['lib','flickrlib.php',53],['lib/zend/Zend/Gdata/YouTube/Extension','AboutMe.php',44],['lib/zend/Zend/Service/DeveloperGarden','Credential.php',54],['grade/report/overview','lib.php',76],['lib/simplepie/library/SimplePie','File.php',68],['backup/moodle2','backup_plugin.class.php',44],['lib/zend/Zend/Gdata/Extension','ExtendedProperty.php',46],['backup/cc/cc_lib','cc_assesment_sfib.php',27],['rating','lib.php',114],['rating','lib.php',1070],['lib','dtllib.php',66],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',68],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',20],['question/engine','datalib.php',68],['question/engine','datalib.php',1330],['question/engine','datalib.php',1631],['question/engine','datalib.php',1739],['question/engine','datalib.php',1869],['question/engine','datalib.php',1940],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',405]], 1047],
'grade_tree': ['grade_tree', 'Constructor, retrieves and stores a hierarchical array of all grade_category and grade_item objects for the given courseid. Full objects are instantiated. Ordering sequence is fixed if needed. ', [['grade','lib.php',2036]], 5],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','oci_native_moodle_database.php',1102],['lib/dml','sqlsrv_native_moodle_database.php',823],['lib/dml','mssql_native_moodle_database.php',741],['lib/dml','mysqli_native_moodle_database.php',1049],['lib/dml/tests','dml_test.php',5424],['lib/dml','pdo_moodle_database.php',308]], 678],
'is_calculated': ['is_calculated', 'Checks if grade calculated. Returns this object\'s calculation. ', [['lib/grade','grade_item.php',1024]], 14],
'html_to_text': ['html_to_text', 'Given HTML text, make it into plain text using external function ', [['lib','weblib.php',1841],['question/type','questionbase.php',367]], 52],
'heading': ['heading', 'Get the heading for this page. ', [['grade/report/singleview/classes/local/screen','grade.php',283],['grade/report/singleview/classes/local/screen','user.php',281],['lib','outputrenderers.php',2957],['lib','outputrenderers.php',4080],['lib','outputrenderers.php',4254],['grade/report/singleview/classes/local/screen','screen.php',197]], 763],
'get_user_preferences': ['get_user_preferences', 'Used to fetch user preference(s) ', [['lib','moodlelib.php',1969]], 177],
'require_active_enrolment': ['require_active_enrolment', 'Should all enrolled users be exported or just those with an active enrolment? ', [['grade','lib.php',338]], 10],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 988],
'set_label': ['set_label', 'Sets select\'s label ', [['lib','outputcomponents.php',829],['lib','outputcomponents.php',951],['backup/util/ui','backup_ui_setting.class.php',143],['backup/cc/cc_lib','cc_asssesment.php',378],['backup/cc/cc_lib','cc_asssesment.php',492],['backup/cc/cc_lib','cc_asssesment.php',1725]], 46],
'get_element_header': ['get_element_header', 'Returns name of element optionally with icon and link ', [['grade','lib.php',1357]], 5],
'fetch_course_item': ['fetch_course_item', 'Returns the grade item associated with the course ', [['lib/grade','grade_item.php',999]], 16],
'get_plugin_list': ['get_plugin_list', 'Get list of plugins of given type. ', [['lib/classes','component.php',781],['lib','deprecatedlib.php',467],['admin/tool/monitor/classes','eventlist.php',176]], 184],
'exporttojson': ['exporttojson', 'Returns a JSON representation of the grade-tree using recursion. ', [['grade','lib.php',2380]], 1],
'close': ['close', 'Close the connection to the server ', [['lib/zend/Zend/Http/Client/Adapter','Socket.php',486],['lib/tests','completionlib_test.php',888],['lib/adodb','adodb.inc.php',2164],['lib/adodb','adodb.inc.php',2844],['lib/adodb','adodb.inc.php',3536],['lib','webdavlib.php',176],['admin/tool/uploaduser','locallib.php',149],['lib/dml','oci_native_moodle_recordset.php',80],['lib/tcpdf','tcpdf.php',2943],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['lib','excellib.class.php',93],['lib/zend/Zend/Http/Client/Adapter','Test.php',187],['lib/classes/dml','recordset_walk.php',153],['mod/assign/feedback/offline','importgradeslib.php',178],['lib/pear/Net','GeoIP.php',556],['backup/util/helper','backup_array_iterator.class.php',63],['lib/zend/Zend/Gdata/App','LoggingHttpClientAdapterSocket.php',109],['lib/zend/Zend/Http/Client/Adapter','Proxy.php',266],['lib/dml','mssql_native_moodle_recordset.php',87],['lib/pear/Auth','RADIUS.php',542],['lib/pear/Auth','RADIUS.php',703],['lib/pear/Auth','RADIUS.php',824],['lib/phpmailer','class.smtp.php',507],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',80],['lib/phpunit/classes','event_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Interface.php',73],['lib/dml','pgsql_native_moodle_recordset.php',104],['auth/fc','fcFPP.php',72],['lib/filestorage','zip_archive.php',183],['lib','odslib.class.php',71],['lib/horde/framework/Horde/Socket','Client.php',135],['question/engine/tests','helpers.php',1225],['grade','lib.php',323],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib','csvlib.class.php',256],['lib/google/src/Google/Logger','File.php',130],['lib/horde/framework/Horde','Stream.php',585],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpunit/classes','message_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Curl.php',460],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',109],['backup/util/helper','backup_null_iterator.class.php',53],['grade/export','lib.php',662],['lib/dml','pdo_moodle_recordset.php',79]], 1036],
'get_plugins_reports': ['get_plugins_reports', 'Returns an array of plugin reports as grade_plugin_info objects ', [['grade','lib.php',2709]], 3],
'get_info_letters': ['get_info_letters', 'Get information on letters ', [['grade','lib.php',2815]], 2],
'print_grade_plugin_selector': ['print_grade_plugin_selector', 'Print grading plugin selection popup form. ', [['grade','lib.php',545]], 1],
'_push': ['_push', 'Add a grade_grade instance to the grade stack ', [['grade','lib.php',364]], 1],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1583],['lib/dml','moodle_database.php',678]], 375],
'single_button': ['single_button', 'Returns a form with a single button. ', [['lib','outputrenderers.php',1735]], 298],
'print_natural_aggregation_upgrade_notice': ['print_natural_aggregation_upgrade_notice', 'Print warning about changed grades during upgrade to 2.8. ', [['grade','lib.php',479]], 1],
'get_enrolled_sql': ['get_enrolled_sql', 'Returns array with sql code and parameters returning all ids of users enrolled into course. ', [['lib','accesslib.php',2246]], 48],
'_pop': ['_pop', 'Remove a grade_grade instance from the grade stack ', [['grade','lib.php',376]], 2],
'get_item_eid': ['get_item_eid', 'Returns the grade_item eid ', [['grade','lib.php',1548]], 1],
'grade_seq': ['grade_seq', 'Constructor, retrieves and stores array of all grade_category and grade_item objects for the given courseid. Full objects are instantiated. Ordering sequence is fixed if needed. ', [['grade','lib.php',1886]], 2],
'allow_user_custom_fields': ['allow_user_custom_fields', 'Allow custom fields to be included ', [['grade','lib.php',350]], 4],
'grade_plugin_return': ['grade_plugin_return', 'Constructor ', [['grade','lib.php',941]], 25],
'set_heading': ['set_heading', 'Sets the heading to use for the page. This is normally used as the main heading at the top of the content. ', [['lib','pagelib.php',1141]], 419],
'explode': ['explode', '', [], 1599],
'is_array': ['is_array', '', [], 1820],
'key': ['key', '', [], 198],
'count': ['count', '', [], 3984],
'trim': ['trim', '', [], 1889],
'in_array': ['in_array', '', [], 1173],
'array_shift': ['array_shift', '', [], 607],
'array_pop': ['array_pop', '', [], 438],
'array_map': ['array_map', '', [], 149],
'next': ['next', '', [], 565],
'array_key_exists': ['array_key_exists', '', [], 1539],
'substr': ['substr', '', [], 2883],
'arsort': ['arsort', '', [], 15],
'str_replace': ['str_replace', '', [], 1667],
'is_null': ['is_null', '', [], 1992],
'file_exists': ['file_exists', '', [], 873],
'array_keys': ['array_keys', '', [], 1152],
'is_numeric': ['is_numeric', '', [], 723],
'asort': ['asort', '', [], 109],
'settype': ['settype', '', [], 1490],
'get_class': ['get_class', '', [], 332],
'array_merge': ['array_merge', '', [], 2320],
'is_a': ['is_a', '', [], 41],
'array_push': ['array_push', '', [], 214],
'strpos': ['strpos', '', [], 1623],
'strrpos': ['strrpos', '', [], 87],
'preg_match': ['preg_match', '', [], 1317],
'end': ['end', '', [], 432],
'method_exists': ['method_exists', '', [], 279],
'reset': ['reset', '', [], 1070],
'current': ['current', '', [], 156],
'link': ['link', '', [], 635],
'is_object': ['is_object', '', [], 508],
'header': ['header', '', [], 1294]};
CLASS_DATA={
'action_menu_link_secondary': ['action_menu_link_secondary', 'A secondary action menu action ', [['lib','outputcomponents.php',3676]], 42],
'grade_tree': ['grade_tree', 'This class represents a complete tree of categories, grade_items and final grades, organises as an array primarily, but which can also be converted to other formats. It has simple method calls with complex implementations, allowing for easy insertion, deletion and moving of items and categories within the tree. ', [['grade','lib.php',2005]], 17],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',214]], 867],
'grade_item': ['grade_item', 'Class representing a grade item. ', [['lib/grade','grade_item.php',29]], 206],
'grade_structure': ['grade_structure', 'General structure representing grade items in course ', [['grade','lib.php',1233]], 3],
'navigation_node': ['navigation_node', 'This class is used to represent a node in a navigation tree ', [['lib','navigationlib.php',34]], 338],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6766]], 1197],
'grade_grade': ['grade_grade', 'grade_grades is an object mapped to DB table {prefix}grade_grades ', [['lib/grade','grade_grade.php',30]], 129],
'graded_users_iterator': ['graded_users_iterator', 'This class iterates over all users that are graded in a course. Returns detailed info about users and their grades. ', [['grade','lib.php',28]], 8],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6347]], 288],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1052]], 4832],
'url_select': ['url_select', 'Simple URL selection widget description. ', [['lib','outputcomponents.php',842]], 8],
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 485],
'grade_plugin_info': ['grade_plugin_info', 'A simple class containing info about grade plugins. Can be subclassed for special rules ', [['grade','lib.php',751]], 15],
'grade_seq': ['grade_seq', 'Flat structure similar to grade tree. ', [['grade','lib.php',1871]], 4],
'pix_icon': ['pix_icon', 'Data structure representing an icon. ', [['lib','outputcomponents.php',497]], 247],
'grade_plugin_return': ['grade_plugin_return', 'Utility class used for return tracking when using edit and other forms in grade plugins ', [['grade','lib.php',927]], 25],
'tabobject': ['tabobject', 'Stores one tab ', [['lib','outputcomponents.php',2997]], 72],
'grade_category': ['grade_category', 'grade_category is an object mapped to DB table {prefix}grade_categories ', [['lib/grade','grade_category.php',29]], 144],
'single_select': ['single_select', 'Simple form with just one select field that gets submitted automatically. ', [['lib','outputcomponents.php',687]], 49]};
CONST_DATA={
'GRADE_NAVMETHOD_DROPDOWN': ['GRADE_NAVMETHOD_DROPDOWN', '', [['lib/grade','constants.php',245]], 3],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 2948],
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 554],
'GRADE_AGGREGATE_MEAN': ['GRADE_AGGREGATE_MEAN', '', [['lib/grade','constants.php',33]], 20],
'GRADE_AGGREGATE_SUM': ['GRADE_AGGREGATE_SUM', '', [['lib/grade','constants.php',73]], 47],
'GRADE_NAVMETHOD_TABS': ['GRADE_NAVMETHOD_TABS', '', [['lib/grade','constants.php',250]], 3],
'FORMAT_MOODLE': ['FORMAT_MOODLE', '', [['lib','weblib.php',42]], 378],
'PROFILE_VISIBLE_ALL': ['PROFILE_VISIBLE_ALL', '', [['user/profile','lib.php',25]], 5],
'GRADE_NAVMETHOD_COMBO': ['GRADE_NAVMETHOD_COMBO', '', [['lib/grade','constants.php',255]], 4],
'SITEID': ['SITEID', '', [['admin/cli','install.php',217],['','install.php',244],['lib/db','install.php',87],['lib','setup.php',748]], 612],
'GRADE_AGGREGATE_WEIGHTED_MEAN': ['GRADE_AGGREGATE_WEIGHTED_MEAN', '', [['lib/grade','constants.php',58]], 19],
'GRADE_AGGREGATE_EXTRACREDIT_MEAN': ['GRADE_AGGREGATE_EXTRACREDIT_MEAN', '', [['lib/grade','constants.php',68]], 16],
'PARAM_SAFEDIR': ['PARAM_SAFEDIR', '', [['lib','moodlelib.php',203]], 49],
'SQL_PARAMS_NAMED': ['SQL_PARAMS_NAMED', '', [['lib/dml','moodle_database.php',32]], 271],
'GRADE_AGGREGATE_WEIGHTED_MEAN2': ['GRADE_AGGREGATE_WEIGHTED_MEAN2', '', [['lib/grade','constants.php',63]], 27],
'GRADE_AGGREGATE_MAX': ['GRADE_AGGREGATE_MAX', '', [['lib/grade','constants.php',48]], 12],
'GRADE_AGGREGATE_MODE': ['GRADE_AGGREGATE_MODE', '', [['lib/grade','constants.php',53]], 10],
'GRADE_AGGREGATE_MEDIAN': ['GRADE_AGGREGATE_MEDIAN', '', [['lib/grade','constants.php',38]], 13],
'GRADE_TYPE_SCALE': ['GRADE_TYPE_SCALE', '', [['lib/grade','constants.php',90]], 63],
'GRADE_AGGREGATE_MIN': ['GRADE_AGGREGATE_MIN', '', [['lib/grade','constants.php',43]], 10],
'PARAM_PLUGIN': ['PARAM_PLUGIN', '', [['lib','moodlelib.php',324]], 118],
'GRADE_TYPE_VALUE': ['GRADE_TYPE_VALUE', '', [['lib/grade','constants.php',85]], 71],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 502]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
