<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /admin/roles/manage.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='admin/roles';
filename='manage.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/admin/roles/</a> -> <a href="manage.php.html">manage.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="manage.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="manage.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Lets the user define and edit roles.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * Responds to actions:</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> *   [blank]   - list roles.</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> *   delete    - delete a role (with are-you-sure)</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> *   moveup    - change the sort order</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> *   movedown  - change the sort order</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> *</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * For all but the first two of those, you also need a roleid parameter, and</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * possibly some other data.</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> *</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * @package    core_role</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas (http://dougiamas.com)</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> */</span>
<a name="l33"><span class="linenum">  33</span></a>  
<a name="l34"><span class="linenum">  34</span></a>  require_once(<a class="phpfunction" onClick="logFunction('dirname')" href="../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(__FILE__) . '/../../config.php');
<a name="l35"><span class="linenum">  35</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/adminlib.php');
<a name="l36"><span class="linenum">  36</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '/' . <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('admin')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/admin.html">admin</a> . '/roles/lib.php');
<a name="l37"><span class="linenum">  37</span></a>  
<a name="l38"><span class="linenum">  38</span></a>  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('action', '', <a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>);
<a name="l39"><span class="linenum">  39</span></a>  if (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a>) {
<a name="l40"><span class="linenum">  40</span></a>      <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a> = <a class="function" onClick="logFunction('required_param')" href="../../_functions/required_param.html" onMouseOver="funcPopup(event,'required_param')">required_param</a>('roleid', <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l41"><span class="linenum">  41</span></a>  } else {
<a name="l42"><span class="linenum">  42</span></a>      <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a> = 0;
<a name="l43"><span class="linenum">  43</span></a>  }
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">// Get the base URL for this and related pages into a convenient variable.</span>
<a name="l46"><span class="linenum">  46</span></a>  <a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a> . '/' . <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('admin')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/admin.html">admin</a> . '/roles/manage.php';
<a name="l47"><span class="linenum">  47</span></a>  <a class="var it22407" onMouseOver="hilite(22407)" onMouseOut="lolite()" onClick="logVariable('defineurl')" href="../../_variables/defineurl.html">$defineurl</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a> . '/' . <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('admin')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/admin.html">admin</a> . '/roles/define.php';
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">// Check access permissions.</span>
<a name="l50"><span class="linenum">  50</span></a>  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../../_variables/systemcontext.html">$systemcontext</a> = <a class="class" onClick="logClass('context_system')" href="../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l51"><span class="linenum">  51</span></a>  <a class="function" onClick="logFunction('require_login')" href="../../_functions/require_login.html" onMouseOver="funcPopup(event,'require_login')">require_login</a>();
<a name="l52"><span class="linenum">  52</span></a>  <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/role:manage', <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../../_variables/systemcontext.html">$systemcontext</a>);
<a name="l53"><span class="linenum">  53</span></a>  <a class="function" onClick="logFunction('admin_externalpage_setup')" href="../../_functions/admin_externalpage_setup.html" onMouseOver="funcPopup(event,'admin_externalpage_setup')">admin_externalpage_setup</a>('defineroles');
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">// Get some basic data we are going to need.</span>
<a name="l56"><span class="linenum">  56</span></a>  <a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('roles')" href="../../_variables/roles.html">$roles</a> = <a class="function" onClick="logFunction('role_fix_names')" href="../../_functions/role_fix_names.html" onMouseOver="funcPopup(event,'role_fix_names')">role_fix_names</a>(<a class="function" onClick="logFunction('get_all_roles')" href="../../_functions/get_all_roles.html" onMouseOver="funcPopup(event,'get_all_roles')">get_all_roles</a>(), <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../../_variables/systemcontext.html">$systemcontext</a>, <a class="constant" onClick="logConstant('ROLENAME_ORIGINAL')" href="../../_constants/ROLENAME_ORIGINAL.html" onMouseOver="constPopup(event,'ROLENAME_ORIGINAL')">ROLENAME_ORIGINAL</a>);
<a name="l57"><span class="linenum">  57</span></a>  
<a name="l58"><span class="linenum">  58</span></a>  <a class="var it22408" onMouseOver="hilite(22408)" onMouseOut="lolite()" onClick="logVariable('undeletableroles')" href="../../_variables/undeletableroles.html">$undeletableroles</a> = array();
<a name="l59"><span class="linenum">  59</span></a>  <a class="var it22408" onMouseOver="hilite(22408)" onMouseOut="lolite()" onClick="logVariable('undeletableroles')" href="../../_variables/undeletableroles.html">$undeletableroles</a>[<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('notloggedinroleid')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/notloggedinroleid.html">notloggedinroleid</a>] = 1;
<a name="l60"><span class="linenum">  60</span></a>  <a class="var it22408" onMouseOver="hilite(22408)" onMouseOut="lolite()" onClick="logVariable('undeletableroles')" href="../../_variables/undeletableroles.html">$undeletableroles</a>[<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('guestroleid')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/guestroleid.html">guestroleid</a>] = 1;
<a name="l61"><span class="linenum">  61</span></a>  <a class="var it22408" onMouseOver="hilite(22408)" onMouseOut="lolite()" onClick="logVariable('undeletableroles')" href="../../_variables/undeletableroles.html">$undeletableroles</a>[<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('defaultuserroleid')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/defaultuserroleid.html">defaultuserroleid</a>] = 1;
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">// Process submitted data.</span>
<a name="l64"><span class="linenum">  64</span></a>  <a class="var it525" onMouseOver="hilite(525)" onMouseOut="lolite()" onClick="logVariable('confirmed')" href="../../_variables/confirmed.html">$confirmed</a> = (<a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('confirm', false, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>) &amp;&amp; <a class="function" onClick="logFunction('data_submitted')" href="../../_functions/data_submitted.html" onMouseOver="funcPopup(event,'data_submitted')">data_submitted</a>() &amp;&amp; <a class="function" onClick="logFunction('confirm_sesskey')" href="../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>());
<a name="l65"><span class="linenum">  65</span></a>  switch (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a>) {
<a name="l66"><span class="linenum">  66</span></a>      case 'delete':
<a name="l67"><span class="linenum">  67</span></a>          if (isset(<a class="var it22408" onMouseOver="hilite(22408)" onMouseOut="lolite()" onClick="logVariable('undeletableroles')" href="../../_variables/undeletableroles.html">$undeletableroles</a>[<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>])) {
<a name="l68"><span class="linenum">  68</span></a>              <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('cannotdeletethisrole', '', <a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a>);
<a name="l69"><span class="linenum">  69</span></a>          }
<a name="l70"><span class="linenum">  70</span></a>          if (!<a class="var it525" onMouseOver="hilite(525)" onMouseOut="lolite()" onClick="logVariable('confirmed')" href="../../_variables/confirmed.html">$confirmed</a>) {
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">            // Show confirmation.</span>
<a name="l72"><span class="linenum">  72</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="phpfunction" onClick="logFunction('header')" href="../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>();
<a name="l73"><span class="linenum">  73</span></a>              <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('optionsyes')" href="../../_variables/optionsyes.html">$optionsyes</a> = array('action'=&gt;'delete', 'roleid'=&gt;<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>, 'sesskey'=&gt;<a class="function" onClick="logFunction('sesskey')" href="../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(), 'confirm'=&gt;1);
<a name="l74"><span class="linenum">  74</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = new stdClass();
<a name="l75"><span class="linenum">  75</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('id')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>;
<a name="l76"><span class="linenum">  76</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('name')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = <a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('roles')" href="../../_variables/roles.html">$roles</a>[<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>]-&gt;name;
<a name="l77"><span class="linenum">  77</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('shortname')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/shortname.html">shortname</a> = <a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('roles')" href="../../_variables/roles.html">$roles</a>[<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>]-&gt;shortname;
<a name="l78"><span class="linenum">  78</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('count')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/count.html">count</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_select')" href="../../_functions/count_records_select.html" onMouseOver="funcPopup(event,'count_records_select')">count_records_select</a>('role_assignments',
<a name="l79"><span class="linenum">  79</span></a>                  'roleid = ?', array(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>), '<a class="phpfunction" onClick="logFunction('COUNT')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(DISTINCT userid)');
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>              <a class="var it4982" onMouseOver="hilite(4982)" onMouseOut="lolite()" onClick="logVariable('formcontinue')" href="../../_variables/formcontinue.html">$formcontinue</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_button')" href="../../_classes/single_button.html" onMouseOver="classPopup(event,'single_button')">single_button</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a>, <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('optionsyes')" href="../../_variables/optionsyes.html">$optionsyes</a>), <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('yes'));
<a name="l82"><span class="linenum">  82</span></a>              <a class="var it4983" onMouseOver="hilite(4983)" onMouseOut="lolite()" onClick="logVariable('formcancel')" href="../../_variables/formcancel.html">$formcancel</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_button')" href="../../_classes/single_button.html" onMouseOver="classPopup(event,'single_button')">single_button</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a>), <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('no'), 'get');
<a name="l83"><span class="linenum">  83</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('confirm')" href="../../_functions/confirm.html" onMouseOver="funcPopup(event,'confirm')">confirm</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('deleterolesure', 'core_role', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>), <a class="var it4982" onMouseOver="hilite(4982)" onMouseOut="lolite()" onClick="logVariable('formcontinue')" href="../../_variables/formcontinue.html">$formcontinue</a>, <a class="var it4983" onMouseOver="hilite(4983)" onMouseOut="lolite()" onClick="logVariable('formcancel')" href="../../_variables/formcancel.html">$formcancel</a>);
<a name="l84"><span class="linenum">  84</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
<a name="l85"><span class="linenum">  85</span></a>              die;
<a name="l86"><span class="linenum">  86</span></a>          }
<a name="l87"><span class="linenum">  87</span></a>          if (!<a class="function" onClick="logFunction('delete_role')" href="../../_functions/delete_role.html" onMouseOver="funcPopup(event,'delete_role')">delete_role</a>(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>)) {
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">            // The delete failed, but mark the context dirty in case.</span>
<a name="l89"><span class="linenum">  89</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../../_variables/systemcontext.html">$systemcontext</a>-&gt;<a class="function" onClick="logFunction('mark_dirty')" href="../../_functions/mark_dirty.html" onMouseOver="funcPopup(event,'mark_dirty')">mark_dirty</a>();
<a name="l90"><span class="linenum">  90</span></a>              <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('cannotdeleterolewithid', 'error', <a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a>, <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>);
<a name="l91"><span class="linenum">  91</span></a>          }
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">        // Deleted a role sitewide...</span>
<a name="l93"><span class="linenum">  93</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../../_variables/systemcontext.html">$systemcontext</a>-&gt;<a class="function" onClick="logFunction('mark_dirty')" href="../../_functions/mark_dirty.html" onMouseOver="funcPopup(event,'mark_dirty')">mark_dirty</a>();
<a name="l94"><span class="linenum">  94</span></a>          <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a>);
<a name="l95"><span class="linenum">  95</span></a>          break;
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>      case 'moveup':
<a name="l98"><span class="linenum">  98</span></a>          if (<a class="function" onClick="logFunction('confirm_sesskey')" href="../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>()) {
<a name="l99"><span class="linenum">  99</span></a>              <a class="var it22410" onMouseOver="hilite(22410)" onMouseOut="lolite()" onClick="logVariable('prevrole')" href="../../_variables/prevrole.html">$prevrole</a> = null;
<a name="l100"><span class="linenum"> 100</span></a>              <a class="var it22411" onMouseOver="hilite(22411)" onMouseOut="lolite()" onClick="logVariable('thisrole')" href="../../_variables/thisrole.html">$thisrole</a> = null;
<a name="l101"><span class="linenum"> 101</span></a>              foreach (<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('roles')" href="../../_variables/roles.html">$roles</a> as <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>) {
<a name="l102"><span class="linenum"> 102</span></a>                  if (<a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('id')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>) {
<a name="l103"><span class="linenum"> 103</span></a>                      <a class="var it22411" onMouseOver="hilite(22411)" onMouseOut="lolite()" onClick="logVariable('thisrole')" href="../../_variables/thisrole.html">$thisrole</a> = <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>;
<a name="l104"><span class="linenum"> 104</span></a>                      break;
<a name="l105"><span class="linenum"> 105</span></a>                  } else {
<a name="l106"><span class="linenum"> 106</span></a>                      <a class="var it22410" onMouseOver="hilite(22410)" onMouseOut="lolite()" onClick="logVariable('prevrole')" href="../../_variables/prevrole.html">$prevrole</a> = <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>;
<a name="l107"><span class="linenum"> 107</span></a>                  }
<a name="l108"><span class="linenum"> 108</span></a>              }
<a name="l109"><span class="linenum"> 109</span></a>              if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it22411" onMouseOver="hilite(22411)" onMouseOut="lolite()" onClick="logVariable('thisrole')" href="../../_variables/thisrole.html">$thisrole</a>) || <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it22410" onMouseOver="hilite(22410)" onMouseOut="lolite()" onClick="logVariable('prevrole')" href="../../_variables/prevrole.html">$prevrole</a>)) {
<a name="l110"><span class="linenum"> 110</span></a>                  <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('cannotmoverolewithid', 'error', '', <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>);
<a name="l111"><span class="linenum"> 111</span></a>              }
<a name="l112"><span class="linenum"> 112</span></a>              if (!<a class="function" onClick="logFunction('switch_roles')" href="../../_functions/switch_roles.html" onMouseOver="funcPopup(event,'switch_roles')">switch_roles</a>(<a class="var it22411" onMouseOver="hilite(22411)" onMouseOut="lolite()" onClick="logVariable('thisrole')" href="../../_variables/thisrole.html">$thisrole</a>, <a class="var it22410" onMouseOver="hilite(22410)" onMouseOut="lolite()" onClick="logVariable('prevrole')" href="../../_variables/prevrole.html">$prevrole</a>)) {
<a name="l113"><span class="linenum"> 113</span></a>                  <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('cannotmoverolewithid', 'error', '', <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>);
<a name="l114"><span class="linenum"> 114</span></a>              }
<a name="l115"><span class="linenum"> 115</span></a>          }
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>          <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a>);
<a name="l118"><span class="linenum"> 118</span></a>          break;
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>      case 'movedown':
<a name="l121"><span class="linenum"> 121</span></a>          if (<a class="function" onClick="logFunction('confirm_sesskey')" href="../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>()) {
<a name="l122"><span class="linenum"> 122</span></a>              <a class="var it22411" onMouseOver="hilite(22411)" onMouseOut="lolite()" onClick="logVariable('thisrole')" href="../../_variables/thisrole.html">$thisrole</a> = null;
<a name="l123"><span class="linenum"> 123</span></a>              <a class="var it22412" onMouseOver="hilite(22412)" onMouseOut="lolite()" onClick="logVariable('nextrole')" href="../../_variables/nextrole.html">$nextrole</a> = null;
<a name="l124"><span class="linenum"> 124</span></a>              foreach (<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('roles')" href="../../_variables/roles.html">$roles</a> as <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>) {
<a name="l125"><span class="linenum"> 125</span></a>                  if (<a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('id')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>) {
<a name="l126"><span class="linenum"> 126</span></a>                      <a class="var it22411" onMouseOver="hilite(22411)" onMouseOut="lolite()" onClick="logVariable('thisrole')" href="../../_variables/thisrole.html">$thisrole</a> = <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>;
<a name="l127"><span class="linenum"> 127</span></a>                  } else if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it22411" onMouseOver="hilite(22411)" onMouseOut="lolite()" onClick="logVariable('thisrole')" href="../../_variables/thisrole.html">$thisrole</a>)) {
<a name="l128"><span class="linenum"> 128</span></a>                      <a class="var it22412" onMouseOver="hilite(22412)" onMouseOut="lolite()" onClick="logVariable('nextrole')" href="../../_variables/nextrole.html">$nextrole</a> = <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>;
<a name="l129"><span class="linenum"> 129</span></a>                      break;
<a name="l130"><span class="linenum"> 130</span></a>                  }
<a name="l131"><span class="linenum"> 131</span></a>              }
<a name="l132"><span class="linenum"> 132</span></a>              if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it22412" onMouseOver="hilite(22412)" onMouseOut="lolite()" onClick="logVariable('nextrole')" href="../../_variables/nextrole.html">$nextrole</a>)) {
<a name="l133"><span class="linenum"> 133</span></a>                  <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('cannotmoverolewithid', 'error', '', <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>);
<a name="l134"><span class="linenum"> 134</span></a>              }
<a name="l135"><span class="linenum"> 135</span></a>              if (!<a class="function" onClick="logFunction('switch_roles')" href="../../_functions/switch_roles.html" onMouseOver="funcPopup(event,'switch_roles')">switch_roles</a>(<a class="var it22411" onMouseOver="hilite(22411)" onMouseOut="lolite()" onClick="logVariable('thisrole')" href="../../_variables/thisrole.html">$thisrole</a>, <a class="var it22412" onMouseOver="hilite(22412)" onMouseOut="lolite()" onClick="logVariable('nextrole')" href="../../_variables/nextrole.html">$nextrole</a>)) {
<a name="l136"><span class="linenum"> 136</span></a>                  <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('cannotmoverolewithid', 'error', '', <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>);
<a name="l137"><span class="linenum"> 137</span></a>              }
<a name="l138"><span class="linenum"> 138</span></a>          }
<a name="l139"><span class="linenum"> 139</span></a>  
<a name="l140"><span class="linenum"> 140</span></a>          <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a>);
<a name="l141"><span class="linenum"> 141</span></a>          break;
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>  }
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">// Print the page header and tabs.</span>
<a name="l146"><span class="linenum"> 146</span></a>  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="phpfunction" onClick="logFunction('header')" href="../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>();
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>  <a class="var it622" onMouseOver="hilite(622)" onMouseOut="lolite()" onClick="logVariable('currenttab')" href="../../_variables/currenttab.html">$currenttab</a> = 'manage';
<a name="l149"><span class="linenum"> 149</span></a>  <span class="keyword">require</span> <a class="filename" href="../../admin/roles/managetabs.php.html" onMouseOver="reqPopup(event, 'managetabs.php', '../../admin/roles/managetabs.php')">('managetabs.php')</a>;
<a name="l150"><span class="linenum"> 150</span></a>  
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">// Initialise table.</span>
<a name="l152"><span class="linenum"> 152</span></a>  <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> = <span class="keyword">new </span><a class="class" onClick="logClass('html_table')" href="../../_classes/html_table.html" onMouseOver="classPopup(event,'html_table')">html_table</a>();
<a name="l153"><span class="linenum"> 153</span></a>  <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a onClick="logVariable('colclasses')" class="var it39441" onMouseOver="hilite(39441)" onMouseOut="lolite()" href="../../_variables/colclasses.html">colclasses</a> = array('leftalign', 'leftalign', 'leftalign', 'leftalign');
<a name="l154"><span class="linenum"> 154</span></a>  <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a onClick="logVariable('id')" class="var it39441" onMouseOver="hilite(39441)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = 'roles';
<a name="l155"><span class="linenum"> 155</span></a>  <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a onClick="logVariable('attributes')" class="var it39441" onMouseOver="hilite(39441)" onMouseOut="lolite()" href="../../_variables/attributes.html">attributes</a>['class'] = 'admintable generaltable';
<a name="l156"><span class="linenum"> 156</span></a>  <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a onClick="logVariable('head')" class="var it39441" onMouseOver="hilite(39441)" onMouseOut="lolite()" href="../../_variables/head.html">head</a> = array(
<a name="l157"><span class="linenum"> 157</span></a>      <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('role') . ' ' . <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('help_icon')" href="../../_functions/help_icon.html" onMouseOver="funcPopup(event,'help_icon')">help_icon</a>('roles', 'core_role'),
<a name="l158"><span class="linenum"> 158</span></a>      <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('description'),
<a name="l159"><span class="linenum"> 159</span></a>      <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('roleshortname', 'core_role'),
<a name="l160"><span class="linenum"> 160</span></a>      <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('edit')
<a name="l161"><span class="linenum"> 161</span></a>  );
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">// Get some strings outside the loop.</span>
<a name="l164"><span class="linenum"> 164</span></a>  <a class="var it11285" onMouseOver="hilite(11285)" onMouseOut="lolite()" onClick="logVariable('stredit')" href="../../_variables/stredit.html">$stredit</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('edit');
<a name="l165"><span class="linenum"> 165</span></a>  <a class="var it4923" onMouseOver="hilite(4923)" onMouseOut="lolite()" onClick="logVariable('strdelete')" href="../../_variables/strdelete.html">$strdelete</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('delete');
<a name="l166"><span class="linenum"> 166</span></a>  <a class="var it12004" onMouseOver="hilite(12004)" onMouseOut="lolite()" onClick="logVariable('strmoveup')" href="../../_variables/strmoveup.html">$strmoveup</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('moveup');
<a name="l167"><span class="linenum"> 167</span></a>  <a class="var it12005" onMouseOver="hilite(12005)" onMouseOut="lolite()" onClick="logVariable('strmovedown')" href="../../_variables/strmovedown.html">$strmovedown</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('movedown');
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">// Print a list of roles with edit/copy/delete/reorder icons.</span>
<a name="l170"><span class="linenum"> 170</span></a>  <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a onClick="logVariable('data')" class="var it39441" onMouseOver="hilite(39441)" onMouseOut="lolite()" href="../../_variables/data.html">data</a> = array();
<a name="l171"><span class="linenum"> 171</span></a>  <a class="var it22413" onMouseOver="hilite(22413)" onMouseOut="lolite()" onClick="logVariable('firstrole')" href="../../_variables/firstrole.html">$firstrole</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('roles')" href="../../_variables/roles.html">$roles</a>);
<a name="l172"><span class="linenum"> 172</span></a>  <a class="var it22414" onMouseOver="hilite(22414)" onMouseOut="lolite()" onClick="logVariable('lastrole')" href="../../_variables/lastrole.html">$lastrole</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('roles')" href="../../_variables/roles.html">$roles</a>);
<a name="l173"><span class="linenum"> 173</span></a>  foreach (<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('roles')" href="../../_variables/roles.html">$roles</a> as <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>) {
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">    // Basic data.</span>
<a name="l175"><span class="linenum"> 175</span></a>      <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a> = array(
<a name="l176"><span class="linenum"> 176</span></a>          '&lt;a href=&quot;' . <a class="var it22407" onMouseOver="hilite(22407)" onMouseOut="lolite()" onClick="logVariable('defineurl')" href="../../_variables/defineurl.html">$defineurl</a> . '?action=view&amp;amp;roleid=' . <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('id')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> . '&quot;&gt;' . <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('localname')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/localname.html">localname</a> . '&lt;/a&gt;',
<a name="l177"><span class="linenum"> 177</span></a>          <a class="function" onClick="logFunction('role_get_description')" href="../../_functions/role_get_description.html" onMouseOver="funcPopup(event,'role_get_description')">role_get_description</a>(<a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>),
<a name="l178"><span class="linenum"> 178</span></a>          <a class="function" onClick="logFunction('s')" href="../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('shortname')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/shortname.html">shortname</a>),
<a name="l179"><span class="linenum"> 179</span></a>          '',
<a name="l180"><span class="linenum"> 180</span></a>      );
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">    // Move up.</span>
<a name="l183"><span class="linenum"> 183</span></a>      if (<a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('sortorder')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/sortorder.html">sortorder</a> != <a class="var it22413" onMouseOver="hilite(22413)" onMouseOut="lolite()" onClick="logVariable('firstrole')" href="../../_variables/firstrole.html">$firstrole</a>-&gt;<a onClick="logVariable('sortorder')" class="var it40649" onMouseOver="hilite(40649)" onMouseOut="lolite()" href="../../_variables/sortorder.html">sortorder</a>) {
<a name="l184"><span class="linenum"> 184</span></a>          <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>[3] .= <a class="function" onClick="logFunction('get_action_icon')" href="../../_functions/get_action_icon.html" onMouseOver="funcPopup(event,'get_action_icon')">get_action_icon</a>(<a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a> . '?action=moveup&amp;amp;roleid=' . <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('id')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> . '&amp;amp;sesskey=' . <a class="function" onClick="logFunction('sesskey')" href="../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(), 'up', <a class="var it12004" onMouseOver="hilite(12004)" onMouseOut="lolite()" onClick="logVariable('strmoveup')" href="../../_variables/strmoveup.html">$strmoveup</a>, <a class="var it12004" onMouseOver="hilite(12004)" onMouseOut="lolite()" onClick="logVariable('strmoveup')" href="../../_variables/strmoveup.html">$strmoveup</a>);
<a name="l185"><span class="linenum"> 185</span></a>      } else {
<a name="l186"><span class="linenum"> 186</span></a>          <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>[3] .= <a class="function" onClick="logFunction('get_spacer')" href="../../_functions/get_spacer.html" onMouseOver="funcPopup(event,'get_spacer')">get_spacer</a>();
<a name="l187"><span class="linenum"> 187</span></a>      }
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">    // Move down.</span>
<a name="l189"><span class="linenum"> 189</span></a>      if (<a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('sortorder')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/sortorder.html">sortorder</a> != <a class="var it22414" onMouseOver="hilite(22414)" onMouseOut="lolite()" onClick="logVariable('lastrole')" href="../../_variables/lastrole.html">$lastrole</a>-&gt;<a onClick="logVariable('sortorder')" class="var it40650" onMouseOver="hilite(40650)" onMouseOut="lolite()" href="../../_variables/sortorder.html">sortorder</a>) {
<a name="l190"><span class="linenum"> 190</span></a>          <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>[3] .= <a class="function" onClick="logFunction('get_action_icon')" href="../../_functions/get_action_icon.html" onMouseOver="funcPopup(event,'get_action_icon')">get_action_icon</a>(<a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a> . '?action=movedown&amp;amp;roleid=' . <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('id')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> . '&amp;amp;sesskey=' . <a class="function" onClick="logFunction('sesskey')" href="../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(), 'down', <a class="var it12005" onMouseOver="hilite(12005)" onMouseOut="lolite()" onClick="logVariable('strmovedown')" href="../../_variables/strmovedown.html">$strmovedown</a>, <a class="var it12005" onMouseOver="hilite(12005)" onMouseOut="lolite()" onClick="logVariable('strmovedown')" href="../../_variables/strmovedown.html">$strmovedown</a>);
<a name="l191"><span class="linenum"> 191</span></a>      } else {
<a name="l192"><span class="linenum"> 192</span></a>          <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>[3] .= <a class="function" onClick="logFunction('get_spacer')" href="../../_functions/get_spacer.html" onMouseOver="funcPopup(event,'get_spacer')">get_spacer</a>();
<a name="l193"><span class="linenum"> 193</span></a>      }
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">    // Edit.</span>
<a name="l195"><span class="linenum"> 195</span></a>      <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>[3] .= <a class="function" onClick="logFunction('get_action_icon')" href="../../_functions/get_action_icon.html" onMouseOver="funcPopup(event,'get_action_icon')">get_action_icon</a>(<a class="var it22407" onMouseOver="hilite(22407)" onMouseOut="lolite()" onClick="logVariable('defineurl')" href="../../_variables/defineurl.html">$defineurl</a> . '?action=edit&amp;amp;roleid=' . <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('id')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l196"><span class="linenum"> 196</span></a>              'edit', <a class="var it11285" onMouseOver="hilite(11285)" onMouseOut="lolite()" onClick="logVariable('stredit')" href="../../_variables/stredit.html">$stredit</a>, <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editxrole', 'core_role', <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('localname')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/localname.html">localname</a>));
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">    // Delete.</span>
<a name="l198"><span class="linenum"> 198</span></a>      if (isset(<a class="var it22408" onMouseOver="hilite(22408)" onMouseOut="lolite()" onClick="logVariable('undeletableroles')" href="../../_variables/undeletableroles.html">$undeletableroles</a>[<a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('id')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>])) {
<a name="l199"><span class="linenum"> 199</span></a>          <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>[3] .= <a class="function" onClick="logFunction('get_spacer')" href="../../_functions/get_spacer.html" onMouseOver="funcPopup(event,'get_spacer')">get_spacer</a>();
<a name="l200"><span class="linenum"> 200</span></a>      } else {
<a name="l201"><span class="linenum"> 201</span></a>          <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>[3] .= <a class="function" onClick="logFunction('get_action_icon')" href="../../_functions/get_action_icon.html" onMouseOver="funcPopup(event,'get_action_icon')">get_action_icon</a>(<a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../../_variables/baseurl.html">$baseurl</a> . '?action=delete&amp;amp;roleid=' . <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('id')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l202"><span class="linenum"> 202</span></a>                'delete', <a class="var it4923" onMouseOver="hilite(4923)" onMouseOut="lolite()" onClick="logVariable('strdelete')" href="../../_variables/strdelete.html">$strdelete</a>, <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('deletexrole', 'core_role', <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('role')" href="../../_variables/role.html">$role</a>-&gt;<a onClick="logVariable('localname')" class="var it39449" onMouseOver="hilite(39449)" onMouseOut="lolite()" href="../../_variables/localname.html">localname</a>));
<a name="l203"><span class="linenum"> 203</span></a>      }
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>      <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a onClick="logVariable('data')" class="var it39441" onMouseOver="hilite(39441)" onMouseOut="lolite()" href="../../_variables/data.html">data</a>[] = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>;
<a name="l206"><span class="linenum"> 206</span></a>  }
<a name="l207"><span class="linenum"> 207</span></a>  echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('table')" href="../../_functions/table.html" onMouseOver="funcPopup(event,'table')">table</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>);
<a name="l208"><span class="linenum"> 208</span></a>  
<a name="l209"><span class="linenum"> 209</span></a>  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('container_start')" href="../../_functions/container_start.html" onMouseOver="funcPopup(event,'container_start')">container_start</a>('buttons');
<a name="l210"><span class="linenum"> 210</span></a>  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it22407" onMouseOver="hilite(22407)" onMouseOut="lolite()" onClick="logVariable('defineurl')" href="../../_variables/defineurl.html">$defineurl</a>, array('action' =&gt; 'add')), <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addrole', 'core_role'), 'get');
<a name="l211"><span class="linenum"> 211</span></a>  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('container_end')" href="../../_functions/container_end.html" onMouseOver="funcPopup(event,'container_end')">container_end</a>();
<a name="l212"><span class="linenum"> 212</span></a>  
<a name="l213"><span class="linenum"> 213</span></a>  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
<a name="l214"><span class="linenum"> 214</span></a>  die;
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>  function <a class="function" onClick="logFunction('get_action_icon')" href="../../_functions/get_action_icon.html" onMouseOver="funcPopup(event,'get_action_icon')">get_action_icon</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../_variables/icon.html">$icon</a>, <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../../_variables/alt.html">$alt</a>, <a class="var it12382" onMouseOver="hilite(12382)" onMouseOut="lolite()" onClick="logVariable('tooltip')" href="../../_variables/tooltip.html">$tooltip</a>) {
<a name="l217"><span class="linenum"> 217</span></a>      global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l218"><span class="linenum"> 218</span></a>      return '&lt;a title=&quot;' . <a class="var it12382" onMouseOver="hilite(12382)" onMouseOut="lolite()" onClick="logVariable('tooltip')" href="../../_variables/tooltip.html">$tooltip</a> . '&quot; href=&quot;'. <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> . '&quot;&gt;' .
<a name="l219"><span class="linenum"> 219</span></a>              '&lt;img src=&quot;' . <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('t/' . <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../_variables/icon.html">$icon</a>) . '&quot; class=&quot;iconsmall&quot; alt=&quot;' . <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../../_variables/alt.html">$alt</a> . '&quot; /&gt;&lt;/a&gt; ';
<a name="l220"><span class="linenum"> 220</span></a>  }
<a name="l221"><span class="linenum"> 221</span></a>  function <a class="function" onClick="logFunction('get_spacer')" href="../../_functions/get_spacer.html" onMouseOver="funcPopup(event,'get_spacer')">get_spacer</a>() {
<a name="l222"><span class="linenum"> 222</span></a>      global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l223"><span class="linenum"> 223</span></a>      return '&lt;img src=&quot;' . <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('spacer') . '&quot; class=&quot;iconsmall&quot; alt=&quot;&quot; /&gt; ';
<a name="l224"><span class="linenum"> 224</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_all_roles': ['get_all_roles', 'Gets all of the roles this course can contain. ', [['enrol','locallib.php',573],['lib','accesslib.php',3203]], 47],
'help_icon': ['help_icon', 'Returns HTML to display a help icon. ', [['lib','outputrenderers.php',2254]], 80],
'data_submitted': ['data_submitted', 'Determine if there is data waiting to be processed from a form ', [['lib','weblib.php',904]], 83],
'switch_roles': ['switch_roles', 'Switch the sort order of two roles (used in admin/roles/manage.php). ', [['lib','accesslib.php',4752]], 2],
'container_start': ['container_start', 'Outputs the opening section of a container. ', [['lib','outputrenderers.php',3023]], 113],
'require_login': ['require_login', 'This function checks that the current user is logged in and has the required privileges ', [['lib','moodlelib.php',2444]], 635],
'mark_dirty': ['mark_dirty', 'Mark a context as dirty (with timestamp) so as to force reloading of the context. ', [['lib','accesslib.php',5792]], 42],
'container_end': ['container_end', 'Outputs the closing section of a container. ', [['lib','outputrenderers.php',3036]], 113],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'table': ['table', '', [['lib/adodb','adodb-perf.inc.php',232],['lib/minify/lib','FirePHP.php',454],['lib','outputcomponents.php',1492]], 255],
'require_capability': ['require_capability', 'Adds a required capability which all results will be checked against ', [['backup/util/ui','restore_ui_components.php',157],['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',891],['lib','accesslib.php',764]], 628],
'get_action_icon': ['get_action_icon', '', [['admin/roles','manage.php',216]], 4],
'confirm_sesskey': ['confirm_sesskey', 'Check the sesskey and return true of false for whether it is valid. (You might like to imagine this function is called sesskey_is_valid().) ', [['lib','sessionlib.php',52]], 315],
'role_get_description': ['role_get_description', 'Returns localised role description if available. If the name is empty it tries to find the default role name using hardcoded list of default role names or other methods in the future. ', [['lib','accesslib.php',4583]], 2],
'role_fix_names': ['role_fix_names', 'Prepare list of roles for display, apply aliases and localise default role names. ', [['lib','accesslib.php',4625]], 42],
'sesskey': ['sesskey', 'Makes sure that $USER->sesskey exists, if $USER itself exists. It sets a new sesskey if one does not already exist, but does not overwrite existing sesskeys. Returns the sesskey string if $USER exists, or boolean false if not. ', [['lib','sessionlib.php',28]], 631],
'footer': ['footer', 'Returns the footer ', [['mod/lesson','renderer.php',78],['lib/tcpdf','tcpdf.php',3464],['lib','outputrenderers.php',1021],['lib','outputrenderers.php',4143],['lib','outputrenderers.php',4248]], 780],
'get_spacer': ['get_spacer', '', [['admin/roles','manage.php',221]], 3],
'pix_url': ['pix_url', 'Return the URL for an image ', [['lib','outputlib.php',1356],['lib','outputrenderers.php',234]], 406],
'count_records_select': ['count_records_select', 'Count the records in a table which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1730]], 52],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',605]], 2167],
'admin_externalpage_setup': ['admin_externalpage_setup', 'Initialise admin page - this function does require login and permission checks specified in page definition. ', [['lib','adminlib.php',6627]], 144],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 988],
'required_param': ['required_param', 'Returns a particular value for the named variable, taken from POST or GET.  If the parameter doesn\'t exist then an error is thrown because we require this variable. ', [['lib','moodlelib.php',521]], 816],
'redirect': ['redirect', 'Redirect the browser ', [['','mdeploy.php',1474],['lib','weblib.php',2514]], 948],
'delete_role': ['delete_role', 'Function that deletes a role and cleanups up after it ', [['lib','accesslib.php',1497]], 2],
'print_error': ['print_error', 'Abort execution by throwing of a general exception, default exception handler displays the error message in most cases. ', [['lib','setuplib.php',449]], 1560],
'single_button': ['single_button', 'Returns a form with a single button. ', [['lib','outputrenderers.php',1735]], 298],
'confirm': ['confirm', 'Print a message along with button choices for Continue/Cancel ', [['lib','outputrenderers.php',1697]], 167],
'count': ['count', '', [], 3984],
'dirname': ['dirname', '', [], 1071],
'is_null': ['is_null', '', [], 1992],
'end': ['end', '', [], 432],
'reset': ['reset', '', [], 1070],
'header': ['header', '', [], 1294]};
CLASS_DATA={
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6106]], 929],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'single_button': ['single_button', 'Data structure representing a simple form with only one button. ', [['lib','outputcomponents.php',594]], 113],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1052]], 4832],
'html_table': ['html_table', 'Holds all the information required to render a <table> by {@link core_renderer::table()} ', [['lib','outputcomponents.php',2006]], 224]};
CONST_DATA={
'ROLENAME_ORIGINAL': ['ROLENAME_ORIGINAL', '', [['lib','accesslib.php',172]], 19],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 2948],
'PARAM_ALPHA': ['PARAM_ALPHA', '', [['lib','moodlelib.php',77]], 377],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 502]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
