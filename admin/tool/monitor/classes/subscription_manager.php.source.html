<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /admin/tool/monitor/classes/subscription_manager.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='admin/tool/monitor/classes';
filename='subscription_manager.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/admin/tool/monitor/classes/</a> -> <a href="subscription_manager.php.html">subscription_manager.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="subscription_manager.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="subscription_manager.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Class to manage subscriptions.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    tool_monitor</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  2014 onwards Ankit Agarwal &lt;ankit.agrr@gmail.com&gt;</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  namespace tool_monitor;
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment">/**</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * Class to manage subscriptions.</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> *</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @since      Moodle 2.8</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @package    tool_monitor</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @copyright  2014 onwards Ankit Agarwal &lt;ankit.agrr@gmail.com&gt;</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> */</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('subscription_manager')" href="../../../../_classes/subscription_manager.html" onMouseOver="classPopup(event,'subscription_manager')">subscription_manager</a> {
<a name="l38"><span class="linenum">  38</span></a>  
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">    /** @const Period of time, in days, after which an inactive subscription will be removed completely.*/</span>
<a name="l40"><span class="linenum">  40</span></a>      const INACTIVE_SUBSCRIPTION_LIFESPAN_IN_DAYS = 30;
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>      <span class="comment">/**</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * Subscribe a user to a given rule.</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     *</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * @param int $ruleid  Rule id.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * @param int $courseid Course id.</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * @param int $cmid Course module id.</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * @param int $userid User who is subscribing, defaults to $USER.</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     *</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     * @return bool|int returns id of the created subscription.</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">     */</span>
<a name="l52"><span class="linenum">  52</span></a>      public static function <a class="function" onClick="logFunction('create_subscription')" href="../../../../_functions/create_subscription.html" onMouseOver="funcPopup(event,'create_subscription')">create_subscription</a>(<a class="var it10030" onMouseOver="hilite(10030)" onMouseOut="lolite()" onClick="logVariable('ruleid')" href="../../../../_variables/ruleid.html">$ruleid</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>, <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../../../_variables/cmid.html">$cmid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> = 0) {
<a name="l53"><span class="linenum">  53</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>;
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>          <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a> = new \stdClass();
<a name="l56"><span class="linenum">  56</span></a>          <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('ruleid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/ruleid.html">ruleid</a> = <a class="var it10030" onMouseOver="hilite(10030)" onMouseOut="lolite()" onClick="logVariable('ruleid')" href="../../../../_variables/ruleid.html">$ruleid</a>;
<a name="l57"><span class="linenum">  57</span></a>          <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a> = <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>;
<a name="l58"><span class="linenum">  58</span></a>          <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('cmid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/cmid.html">cmid</a> = <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../../../_variables/cmid.html">$cmid</a>;
<a name="l59"><span class="linenum">  59</span></a>          <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('userid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/userid.html">userid</a> = empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>) ? <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a> : <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>;
<a name="l60"><span class="linenum">  60</span></a>          if (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../../../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('tool_monitor_subscriptions', (array)<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>)) {
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">            // Subscription already exists.</span>
<a name="l62"><span class="linenum">  62</span></a>              return false;
<a name="l63"><span class="linenum">  63</span></a>          }
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>          <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('timecreated')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/timecreated.html">timecreated</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l66"><span class="linenum">  66</span></a>          <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('id')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('tool_monitor_subscriptions', <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>);
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">        // Trigger a subscription created event.</span>
<a name="l69"><span class="linenum">  69</span></a>          if (<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('id')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>) {
<a name="l70"><span class="linenum">  70</span></a>              if (!empty(<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>)) {
<a name="l71"><span class="linenum">  71</span></a>                  <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a> = <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>;
<a name="l72"><span class="linenum">  72</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a> = \<a class="class" onClick="logClass('context_course')" href="../../../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>);
<a name="l73"><span class="linenum">  73</span></a>              } else {
<a name="l74"><span class="linenum">  74</span></a>                  <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a> = 0;
<a name="l75"><span class="linenum">  75</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a> = \<a class="class" onClick="logClass('context_system')" href="../../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l76"><span class="linenum">  76</span></a>              }
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a> = array(
<a name="l79"><span class="linenum">  79</span></a>                  'objectid' =&gt; <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('id')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>,
<a name="l80"><span class="linenum">  80</span></a>                  'courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>,
<a name="l81"><span class="linenum">  81</span></a>                  'context' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a>
<a name="l82"><span class="linenum">  82</span></a>              );
<a name="l83"><span class="linenum">  83</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a> = \tool_monitor\event\<a class="class" onClick="logClass('subscription_created')" href="../../../../_classes/subscription_created.html" onMouseOver="classPopup(event,'subscription_created')">subscription_created</a>::<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>);
<a name="l84"><span class="linenum">  84</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../../../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">            // Let's invalidate the cache.</span>
<a name="l87"><span class="linenum">  87</span></a>              <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a> = \<a class="class" onClick="logClass('cache')" href="../../../../_classes/cache.html" onMouseOver="classPopup(event,'cache')">cache</a>::<a class="function" onClick="logFunction('make')" href="../../../../_functions/make.html" onMouseOver="funcPopup(event,'make')">make</a>('tool_monitor', 'eventsubscriptions');
<a name="l88"><span class="linenum">  88</span></a>              <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a>-&gt;<a class="function" onClick="logFunction('delete')" href="../../../../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>);
<a name="l89"><span class="linenum">  89</span></a>          }
<a name="l90"><span class="linenum">  90</span></a>  
<a name="l91"><span class="linenum">  91</span></a>          return <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('id')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l92"><span class="linenum">  92</span></a>      }
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>      <span class="comment">/**</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     * Delete a subscription.</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     *</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">     * @param subscription|int $subscriptionorid an instance of subscription class or id.</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">     * @param bool $checkuser Check if the subscription belongs to current user before deleting.</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">     *</span>
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">     * @return bool</span>
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">     * @throws \coding_exception if $checkuser is true and the subscription doesn't belong to the current user.</span>
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">     */</span>
<a name="l103"><span class="linenum"> 103</span></a>      public static function <a class="function" onClick="logFunction('delete_subscription')" href="../../../../_functions/delete_subscription.html" onMouseOver="funcPopup(event,'delete_subscription')">delete_subscription</a>(<a class="var it39067" onMouseOver="hilite(39067)" onMouseOut="lolite()" onClick="logVariable('subscriptionorid')" href="../../../../_variables/subscriptionorid.html">$subscriptionorid</a>, <a class="var it40537" onMouseOver="hilite(40537)" onMouseOut="lolite()" onClick="logVariable('checkuser')" href="../../../../_variables/checkuser.html">$checkuser</a> = true) {
<a name="l104"><span class="linenum"> 104</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>;
<a name="l105"><span class="linenum"> 105</span></a>          if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it39067" onMouseOver="hilite(39067)" onMouseOut="lolite()" onClick="logVariable('subscriptionorid')" href="../../../../_variables/subscriptionorid.html">$subscriptionorid</a>)) {
<a name="l106"><span class="linenum"> 106</span></a>              <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a> = <a class="var it39067" onMouseOver="hilite(39067)" onMouseOut="lolite()" onClick="logVariable('subscriptionorid')" href="../../../../_variables/subscriptionorid.html">$subscriptionorid</a>;
<a name="l107"><span class="linenum"> 107</span></a>          } else {
<a name="l108"><span class="linenum"> 108</span></a>              <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a> = self::<a class="function" onClick="logFunction('get_subscription')" href="../../../../_functions/get_subscription.html" onMouseOver="funcPopup(event,'get_subscription')">get_subscription</a>(<a class="var it39067" onMouseOver="hilite(39067)" onMouseOut="lolite()" onClick="logVariable('subscriptionorid')" href="../../../../_variables/subscriptionorid.html">$subscriptionorid</a>);
<a name="l109"><span class="linenum"> 109</span></a>          }
<a name="l110"><span class="linenum"> 110</span></a>          if (<a class="var it40537" onMouseOver="hilite(40537)" onMouseOut="lolite()" onClick="logVariable('checkuser')" href="../../../../_variables/checkuser.html">$checkuser</a> &amp;&amp; <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('userid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/userid.html">userid</a> != <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>) {
<a name="l111"><span class="linenum"> 111</span></a>              throw new \coding_exception('Invalid subscription supplied');
<a name="l112"><span class="linenum"> 112</span></a>          }
<a name="l113"><span class="linenum"> 113</span></a>  
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">        // Store the subscription before we delete it.</span>
<a name="l115"><span class="linenum"> 115</span></a>          <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('tool_monitor_subscriptions', array('id' =&gt; <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('id')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>));
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>          <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('tool_monitor_subscriptions', array('id' =&gt; <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('id')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>));
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">        // If successful trigger a subscription_deleted event.</span>
<a name="l120"><span class="linenum"> 120</span></a>          if (<a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a>) {
<a name="l121"><span class="linenum"> 121</span></a>              if (!empty(<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>)) {
<a name="l122"><span class="linenum"> 122</span></a>                  <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a> = <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>;
<a name="l123"><span class="linenum"> 123</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a> = \<a class="class" onClick="logClass('context_course')" href="../../../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>);
<a name="l124"><span class="linenum"> 124</span></a>              } else {
<a name="l125"><span class="linenum"> 125</span></a>                  <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a> = 0;
<a name="l126"><span class="linenum"> 126</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a> = \<a class="class" onClick="logClass('context_system')" href="../../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l127"><span class="linenum"> 127</span></a>              }
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a> = array(
<a name="l130"><span class="linenum"> 130</span></a>                  'objectid' =&gt; <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('id')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>,
<a name="l131"><span class="linenum"> 131</span></a>                  'courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>,
<a name="l132"><span class="linenum"> 132</span></a>                  'context' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a>
<a name="l133"><span class="linenum"> 133</span></a>              );
<a name="l134"><span class="linenum"> 134</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a> = \tool_monitor\event\<a class="class" onClick="logClass('subscription_deleted')" href="../../../../_classes/subscription_deleted.html" onMouseOver="classPopup(event,'subscription_deleted')">subscription_deleted</a>::<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>);
<a name="l135"><span class="linenum"> 135</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('tool_monitor_subscriptions', <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>);
<a name="l136"><span class="linenum"> 136</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../../../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">            // Let's invalidate the cache.</span>
<a name="l139"><span class="linenum"> 139</span></a>              <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a> = \<a class="class" onClick="logClass('cache')" href="../../../../_classes/cache.html" onMouseOver="classPopup(event,'cache')">cache</a>::<a class="function" onClick="logFunction('make')" href="../../../../_functions/make.html" onMouseOver="funcPopup(event,'make')">make</a>('tool_monitor', 'eventsubscriptions');
<a name="l140"><span class="linenum"> 140</span></a>              <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a>-&gt;<a class="function" onClick="logFunction('delete')" href="../../../../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>);
<a name="l141"><span class="linenum"> 141</span></a>          }
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>          return <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a>;
<a name="l144"><span class="linenum"> 144</span></a>      }
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>      <span class="comment">/**</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     * Delete all subscriptions for a user.</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     *</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     * @param int $userid user id.</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     *</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">     * @return mixed</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">     */</span>
<a name="l153"><span class="linenum"> 153</span></a>      public static function <a class="function" onClick="logFunction('delete_user_subscriptions')" href="../../../../_functions/delete_user_subscriptions.html" onMouseOver="funcPopup(event,'delete_user_subscriptions')">delete_user_subscriptions</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>) {
<a name="l154"><span class="linenum"> 154</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l155"><span class="linenum"> 155</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('tool_monitor_subscriptions', array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>));
<a name="l156"><span class="linenum"> 156</span></a>      }
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>      <span class="comment">/**</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     * Delete all subscriptions for a course module.</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     *</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     * @param int $cmid cm id.</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     *</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">     * @return mixed</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">     */</span>
<a name="l165"><span class="linenum"> 165</span></a>      public static function <a class="function" onClick="logFunction('delete_cm_subscriptions')" href="../../../../_functions/delete_cm_subscriptions.html" onMouseOver="funcPopup(event,'delete_cm_subscriptions')">delete_cm_subscriptions</a>(<a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../../../_variables/cmid.html">$cmid</a>) {
<a name="l166"><span class="linenum"> 166</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l167"><span class="linenum"> 167</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('tool_monitor_subscriptions', array('cmid' =&gt; <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../../../_variables/cmid.html">$cmid</a>));
<a name="l168"><span class="linenum"> 168</span></a>      }
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>      <span class="comment">/**</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * Delete all subscribers for a given rule.</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     *</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     * @param int $ruleid rule id.</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     * @param \context|null $coursecontext the context of the course - this is passed when we</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     *      can not get the context via \context_course as the course has been deleted.</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     *</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">     * @return bool</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     */</span>
<a name="l179"><span class="linenum"> 179</span></a>      public static function <a class="function" onClick="logFunction('remove_all_subscriptions_for_rule')" href="../../../../_functions/remove_all_subscriptions_for_rule.html" onMouseOver="funcPopup(event,'remove_all_subscriptions_for_rule')">remove_all_subscriptions_for_rule</a>(<a class="var it10030" onMouseOver="hilite(10030)" onMouseOut="lolite()" onClick="logVariable('ruleid')" href="../../../../_variables/ruleid.html">$ruleid</a>, <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../../../_variables/coursecontext.html">$coursecontext</a> = null) {
<a name="l180"><span class="linenum"> 180</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">        // Store all the subscriptions we have to delete.</span>
<a name="l183"><span class="linenum"> 183</span></a>          <a class="var it8229" onMouseOver="hilite(8229)" onMouseOut="lolite()" onClick="logVariable('subscriptions')" href="../../../../_variables/subscriptions.html">$subscriptions</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset')" href="../../../../_functions/get_recordset.html" onMouseOver="funcPopup(event,'get_recordset')">get_recordset</a>('tool_monitor_subscriptions', array('ruleid' =&gt; <a class="var it10030" onMouseOver="hilite(10030)" onMouseOut="lolite()" onClick="logVariable('ruleid')" href="../../../../_variables/ruleid.html">$ruleid</a>));
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">        // Now delete them.</span>
<a name="l186"><span class="linenum"> 186</span></a>          <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('tool_monitor_subscriptions', array('ruleid' =&gt; <a class="var it10030" onMouseOver="hilite(10030)" onMouseOut="lolite()" onClick="logVariable('ruleid')" href="../../../../_variables/ruleid.html">$ruleid</a>));
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">        // If successful and there were subscriptions that were deleted trigger a subscription deleted event.</span>
<a name="l189"><span class="linenum"> 189</span></a>          if (<a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a> &amp;&amp; <a class="var it8229" onMouseOver="hilite(8229)" onMouseOut="lolite()" onClick="logVariable('subscriptions')" href="../../../../_variables/subscriptions.html">$subscriptions</a>) {
<a name="l190"><span class="linenum"> 190</span></a>              foreach (<a class="var it8229" onMouseOver="hilite(8229)" onMouseOut="lolite()" onClick="logVariable('subscriptions')" href="../../../../_variables/subscriptions.html">$subscriptions</a> as <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>) {
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">                // It is possible that we are deleting rules associated with a deleted course, so we should be</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">                // passing the context as the second parameter.</span>
<a name="l193"><span class="linenum"> 193</span></a>                  if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l194"><span class="linenum"> 194</span></a>                      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a> = <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../../../_variables/coursecontext.html">$coursecontext</a>;
<a name="l195"><span class="linenum"> 195</span></a>                      <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a> = <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>;
<a name="l196"><span class="linenum"> 196</span></a>                  } else if (!empty(<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>) &amp;&amp; (<a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../../../_variables/coursecontext.html">$coursecontext</a> =
<a name="l197"><span class="linenum"> 197</span></a>                          \<a class="class" onClick="logClass('context_course')" href="../../../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>, <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>))) {
<a name="l198"><span class="linenum"> 198</span></a>                      <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a> = <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('courseid')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>;
<a name="l199"><span class="linenum"> 199</span></a>                      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a> = <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../../../_variables/coursecontext.html">$coursecontext</a>;
<a name="l200"><span class="linenum"> 200</span></a>                  } else {
<a name="l201"><span class="linenum"> 201</span></a>                      <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a> = 0;
<a name="l202"><span class="linenum"> 202</span></a>                      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a> = \<a class="class" onClick="logClass('context_system')" href="../../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l203"><span class="linenum"> 203</span></a>                  }
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a> = array(
<a name="l206"><span class="linenum"> 206</span></a>                      'objectid' =&gt; <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('id')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>,
<a name="l207"><span class="linenum"> 207</span></a>                      'courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>,
<a name="l208"><span class="linenum"> 208</span></a>                      'context' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a>
<a name="l209"><span class="linenum"> 209</span></a>                  );
<a name="l210"><span class="linenum"> 210</span></a>                  <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a> = \tool_monitor\event\<a class="class" onClick="logClass('subscription_deleted')" href="../../../../_classes/subscription_deleted.html" onMouseOver="classPopup(event,'subscription_deleted')">subscription_deleted</a>::<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>);
<a name="l211"><span class="linenum"> 211</span></a>                  <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('tool_monitor_subscriptions', <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>);
<a name="l212"><span class="linenum"> 212</span></a>                  <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../../../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">                // Let's invalidate the cache.</span>
<a name="l215"><span class="linenum"> 215</span></a>                  <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a> = \<a class="class" onClick="logClass('cache')" href="../../../../_classes/cache.html" onMouseOver="classPopup(event,'cache')">cache</a>::<a class="function" onClick="logFunction('make')" href="../../../../_functions/make.html" onMouseOver="funcPopup(event,'make')">make</a>('tool_monitor', 'eventsubscriptions');
<a name="l216"><span class="linenum"> 216</span></a>                  <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a>-&gt;<a class="function" onClick="logFunction('delete')" href="../../../../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>);
<a name="l217"><span class="linenum"> 217</span></a>              }
<a name="l218"><span class="linenum"> 218</span></a>          }
<a name="l219"><span class="linenum"> 219</span></a>  
<a name="l220"><span class="linenum"> 220</span></a>          <a class="var it8229" onMouseOver="hilite(8229)" onMouseOut="lolite()" onClick="logVariable('subscriptions')" href="../../../../_variables/subscriptions.html">$subscriptions</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>          return <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a>;
<a name="l223"><span class="linenum"> 223</span></a>      }
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>      <span class="comment">/**</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     * Get a subscription instance for an given subscription id.</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     *</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">     * @param subscription|int $subscriptionorid an instance of subscription class or id.</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">     *</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">     * @return subscription returns a instance of subscription class.</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     */</span>
<a name="l232"><span class="linenum"> 232</span></a>      public static function <a class="function" onClick="logFunction('get_subscription')" href="../../../../_functions/get_subscription.html" onMouseOver="funcPopup(event,'get_subscription')">get_subscription</a>(<a class="var it39067" onMouseOver="hilite(39067)" onMouseOut="lolite()" onClick="logVariable('subscriptionorid')" href="../../../../_variables/subscriptionorid.html">$subscriptionorid</a>) {
<a name="l233"><span class="linenum"> 233</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l234"><span class="linenum"> 234</span></a>  
<a name="l235"><span class="linenum"> 235</span></a>          if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it39067" onMouseOver="hilite(39067)" onMouseOut="lolite()" onClick="logVariable('subscriptionorid')" href="../../../../_variables/subscriptionorid.html">$subscriptionorid</a>)) {
<a name="l236"><span class="linenum"> 236</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('subscription')" href="../../../../_classes/subscription.html" onMouseOver="classPopup(event,'subscription')">subscription</a>(<a class="var it39067" onMouseOver="hilite(39067)" onMouseOut="lolite()" onClick="logVariable('subscriptionorid')" href="../../../../_variables/subscriptionorid.html">$subscriptionorid</a>);
<a name="l237"><span class="linenum"> 237</span></a>          }
<a name="l238"><span class="linenum"> 238</span></a>  
<a name="l239"><span class="linenum"> 239</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> = self::<a class="function" onClick="logFunction('get_subscription_join_rule_sql')" href="../../../../_functions/get_subscription_join_rule_sql.html" onMouseOver="funcPopup(event,'get_subscription_join_rule_sql')">get_subscription_join_rule_sql</a>();
<a name="l240"><span class="linenum"> 240</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> .= &quot;WHERE s.id = :id&quot;;
<a name="l241"><span class="linenum"> 241</span></a>          <a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('sub')" href="../../../../_variables/sub.html">$sub</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record_sql')" href="../../../../_functions/get_record_sql.html" onMouseOver="funcPopup(event,'get_record_sql')">get_record_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, array('id' =&gt; <a class="var it39067" onMouseOver="hilite(39067)" onMouseOut="lolite()" onClick="logVariable('subscriptionorid')" href="../../../../_variables/subscriptionorid.html">$subscriptionorid</a>), <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l242"><span class="linenum"> 242</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('subscription')" href="../../../../_classes/subscription.html" onMouseOver="classPopup(event,'subscription')">subscription</a>(<a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('sub')" href="../../../../_variables/sub.html">$sub</a>);
<a name="l243"><span class="linenum"> 243</span></a>      }
<a name="l244"><span class="linenum"> 244</span></a>  
<a name="l245"><span class="linenum"> 245</span></a>      <span class="comment">/**</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     * Get an array of subscriptions for a given user in a given course.</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     *</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * @param int $courseid course id.</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * @param int $limitfrom Limit from which to fetch rules.</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * @param int $limitto  Limit to which rules need to be fetched.</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     * @param int $userid Id of the user for which the subscription needs to be fetched. Defaults to $USER;</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     * @param string $order Order to sort the subscriptions.</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     *</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">     * @return array list of subscriptions</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">     */</span>
<a name="l256"><span class="linenum"> 256</span></a>      public static function <a class="function" onClick="logFunction('get_user_subscriptions_for_course')" href="../../../../_functions/get_user_subscriptions_for_course.html" onMouseOver="funcPopup(event,'get_user_subscriptions_for_course')">get_user_subscriptions_for_course</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../../../_variables/limitfrom.html">$limitfrom</a> = 0, <a class="var it29581" onMouseOver="hilite(29581)" onMouseOut="lolite()" onClick="logVariable('limitto')" href="../../../../_variables/limitto.html">$limitto</a> = 0, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> = 0,
<a name="l257"><span class="linenum"> 257</span></a>              <a class="var it6270" onMouseOver="hilite(6270)" onMouseOut="lolite()" onClick="logVariable('order')" href="../../../../_variables/order.html">$order</a> = 's.timecreated DESC' ) {
<a name="l258"><span class="linenum"> 258</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>;
<a name="l259"><span class="linenum"> 259</span></a>          if (<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> == 0) {
<a name="l260"><span class="linenum"> 260</span></a>              <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l261"><span class="linenum"> 261</span></a>          }
<a name="l262"><span class="linenum"> 262</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> = self::<a class="function" onClick="logFunction('get_subscription_join_rule_sql')" href="../../../../_functions/get_subscription_join_rule_sql.html" onMouseOver="funcPopup(event,'get_subscription_join_rule_sql')">get_subscription_join_rule_sql</a>();
<a name="l263"><span class="linenum"> 263</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> .= &quot;WHERE s.courseid = :courseid AND s.userid = :userid ORDER BY <a class="var it6270" onMouseOver="hilite(6270)" onMouseOut="lolite()" onClick="logVariable('order')" href="../../../../_variables/order.html">$order</a>&quot;;
<a name="l264"><span class="linenum"> 264</span></a>  
<a name="l265"><span class="linenum"> 265</span></a>          return self::<a class="function" onClick="logFunction('get_instances')" href="../../../../_functions/get_instances.html" onMouseOver="funcPopup(event,'get_instances')">get_instances</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, array('courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>, 'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>), <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../../../_variables/limitfrom.html">$limitfrom</a>,
<a name="l266"><span class="linenum"> 266</span></a>                  <a class="var it29581" onMouseOver="hilite(29581)" onMouseOut="lolite()" onClick="logVariable('limitto')" href="../../../../_variables/limitto.html">$limitto</a>));
<a name="l267"><span class="linenum"> 267</span></a>      }
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>      <span class="comment">/**</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">     * Get count of subscriptions for a given user in a given course.</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">     *</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">     * @param int $courseid course id.</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">     * @param int $userid Id of the user for which the subscription needs to be fetched. Defaults to $USER;</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">     *</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">     * @return int number of subscriptions</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     */</span>
<a name="l277"><span class="linenum"> 277</span></a>      public static function <a class="function" onClick="logFunction('count_user_subscriptions_for_course')" href="../../../../_functions/count_user_subscriptions_for_course.html" onMouseOver="funcPopup(event,'count_user_subscriptions_for_course')">count_user_subscriptions_for_course</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> = 0) {
<a name="l278"><span class="linenum"> 278</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>;
<a name="l279"><span class="linenum"> 279</span></a>          if (<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> == 0) {
<a name="l280"><span class="linenum"> 280</span></a>              <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l281"><span class="linenum"> 281</span></a>          }
<a name="l282"><span class="linenum"> 282</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> = self::<a class="function" onClick="logFunction('get_subscription_join_rule_sql')" href="../../../../_functions/get_subscription_join_rule_sql.html" onMouseOver="funcPopup(event,'get_subscription_join_rule_sql')">get_subscription_join_rule_sql</a>(true);
<a name="l283"><span class="linenum"> 283</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> .= &quot;WHERE s.courseid = :courseid AND s.userid = :userid&quot;;
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_sql')" href="../../../../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, array('courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>, 'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>));
<a name="l286"><span class="linenum"> 286</span></a>      }
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>      <span class="comment">/**</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">     * Get an array of subscriptions for a given user.</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">     *</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     * @param int $limitfrom Limit from which to fetch rules.</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">     * @param int $limitto  Limit to which rules need to be fetched.</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     * @param int $userid Id of the user for which the subscription needs to be fetched. Defaults to $USER;</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     * @param string $order Order to sort the subscriptions.</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment">     *</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     * @return array list of subscriptions</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     */</span>
<a name="l298"><span class="linenum"> 298</span></a>      public static function <a class="function" onClick="logFunction('get_user_subscriptions')" href="../../../../_functions/get_user_subscriptions.html" onMouseOver="funcPopup(event,'get_user_subscriptions')">get_user_subscriptions</a>(<a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../../../_variables/limitfrom.html">$limitfrom</a> = 0, <a class="var it29581" onMouseOver="hilite(29581)" onMouseOut="lolite()" onClick="logVariable('limitto')" href="../../../../_variables/limitto.html">$limitto</a> = 0, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> = 0,
<a name="l299"><span class="linenum"> 299</span></a>                                                               <a class="var it6270" onMouseOver="hilite(6270)" onMouseOut="lolite()" onClick="logVariable('order')" href="../../../../_variables/order.html">$order</a> = 's.courseid ASC, r.name' ) {
<a name="l300"><span class="linenum"> 300</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>;
<a name="l301"><span class="linenum"> 301</span></a>          if (<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> == 0) {
<a name="l302"><span class="linenum"> 302</span></a>              <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l303"><span class="linenum"> 303</span></a>          }
<a name="l304"><span class="linenum"> 304</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> = self::<a class="function" onClick="logFunction('get_subscription_join_rule_sql')" href="../../../../_functions/get_subscription_join_rule_sql.html" onMouseOver="funcPopup(event,'get_subscription_join_rule_sql')">get_subscription_join_rule_sql</a>();
<a name="l305"><span class="linenum"> 305</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> .= &quot;WHERE s.userid = :userid ORDER BY <a class="var it6270" onMouseOver="hilite(6270)" onMouseOut="lolite()" onClick="logVariable('order')" href="../../../../_variables/order.html">$order</a>&quot;;
<a name="l306"><span class="linenum"> 306</span></a>  
<a name="l307"><span class="linenum"> 307</span></a>          return self::<a class="function" onClick="logFunction('get_instances')" href="../../../../_functions/get_instances.html" onMouseOver="funcPopup(event,'get_instances')">get_instances</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>), <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it29581" onMouseOver="hilite(29581)" onMouseOut="lolite()" onClick="logVariable('limitto')" href="../../../../_variables/limitto.html">$limitto</a>));
<a name="l308"><span class="linenum"> 308</span></a>      }
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>      <span class="comment">/**</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * Get count of subscriptions for a given user.</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     *</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     * @param int $userid Id of the user for which the subscription needs to be fetched. Defaults to $USER;</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     *</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     * @return int number of subscriptions</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     */</span>
<a name="l317"><span class="linenum"> 317</span></a>      public static function <a class="function" onClick="logFunction('count_user_subscriptions')" href="../../../../_functions/count_user_subscriptions.html" onMouseOver="funcPopup(event,'count_user_subscriptions')">count_user_subscriptions</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> = 0) {
<a name="l318"><span class="linenum"> 318</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>;;
<a name="l319"><span class="linenum"> 319</span></a>          if (<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> == 0) {
<a name="l320"><span class="linenum"> 320</span></a>              <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l321"><span class="linenum"> 321</span></a>          }
<a name="l322"><span class="linenum"> 322</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> = self::<a class="function" onClick="logFunction('get_subscription_join_rule_sql')" href="../../../../_functions/get_subscription_join_rule_sql.html" onMouseOver="funcPopup(event,'get_subscription_join_rule_sql')">get_subscription_join_rule_sql</a>(true);
<a name="l323"><span class="linenum"> 323</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> .= &quot;WHERE s.userid = :userid&quot;;
<a name="l324"><span class="linenum"> 324</span></a>  
<a name="l325"><span class="linenum"> 325</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_sql')" href="../../../../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>));
<a name="l326"><span class="linenum"> 326</span></a>      }
<a name="l327"><span class="linenum"> 327</span></a>  
<a name="l328"><span class="linenum"> 328</span></a>      <span class="comment">/**</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     * Return a list of subscriptions for a given event.</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">     *</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">     * @param \stdClass $event the event object.</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">     *</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">     * @return array</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">     */</span>
<a name="l335"><span class="linenum"> 335</span></a>      public static function <a class="function" onClick="logFunction('get_subscriptions_by_event')" href="../../../../_functions/get_subscriptions_by_event.html" onMouseOver="funcPopup(event,'get_subscriptions_by_event')">get_subscriptions_by_event</a>(\stdClass <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>) {
<a name="l336"><span class="linenum"> 336</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l337"><span class="linenum"> 337</span></a>  
<a name="l338"><span class="linenum"> 338</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> = self::<a class="function" onClick="logFunction('get_subscription_join_rule_sql')" href="../../../../_functions/get_subscription_join_rule_sql.html" onMouseOver="funcPopup(event,'get_subscription_join_rule_sql')">get_subscription_join_rule_sql</a>();
<a name="l339"><span class="linenum"> 339</span></a>          if (<a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../../../../_variables/contextlevel.html">contextlevel</a> == <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../../../../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a> &amp;&amp; <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('contextinstanceid')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../../../../_variables/contextinstanceid.html">contextinstanceid</a> != 0) {
<a name="l340"><span class="linenum"> 340</span></a>              <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> .= &quot;WHERE r.eventname = :eventname AND s.courseid = :courseid AND (s.cmid = :cmid OR s.cmid = 0)&quot;;
<a name="l341"><span class="linenum"> 341</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a> = array('eventname' =&gt; <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('eventname')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../../../../_variables/eventname.html">eventname</a>, 'courseid' =&gt; <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('courseid')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>, 'cmid' =&gt; <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('contextinstanceid')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../../../../_variables/contextinstanceid.html">contextinstanceid</a>);
<a name="l342"><span class="linenum"> 342</span></a>          } else {
<a name="l343"><span class="linenum"> 343</span></a>              <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> .= &quot;WHERE r.eventname = :eventname AND (s.courseid = :courseid OR s.courseid = 0)&quot;;
<a name="l344"><span class="linenum"> 344</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a> = array('eventname' =&gt; <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('eventname')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../../../../_variables/eventname.html">eventname</a>, 'courseid' =&gt; <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../../../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('courseid')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../../../../_variables/courseid.html">courseid</a>);
<a name="l345"><span class="linenum"> 345</span></a>          }
<a name="l346"><span class="linenum"> 346</span></a>          return self::<a class="function" onClick="logFunction('get_instances')" href="../../../../_functions/get_instances.html" onMouseOver="funcPopup(event,'get_instances')">get_instances</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>));
<a name="l347"><span class="linenum"> 347</span></a>      }
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>      <span class="comment">/**</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">     * Return sql to join rule and subscription table.</span>
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">     *</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">     * @param bool $count Weather if this is a count query or not.</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">     *</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">     * @return string the sql.</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment">     */</span>
<a name="l356"><span class="linenum"> 356</span></a>      protected static function <a class="function" onClick="logFunction('get_subscription_join_rule_sql')" href="../../../../_functions/get_subscription_join_rule_sql.html" onMouseOver="funcPopup(event,'get_subscription_join_rule_sql')">get_subscription_join_rule_sql</a>(<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> = false) {
<a name="l357"><span class="linenum"> 357</span></a>          if (<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>) {
<a name="l358"><span class="linenum"> 358</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../../_variables/select.html">$select</a> = &quot;SELECT <a class="phpfunction" onClick="logFunction('COUNT')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(s.id) &quot;;
<a name="l359"><span class="linenum"> 359</span></a>          } else {
<a name="l360"><span class="linenum"> 360</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../../_variables/select.html">$select</a> = &quot;SELECT s.*, r.description, r.descriptionformat, r.name, r.userid as ruleuserid, r.courseid as rulecourseid,
<a name="l361"><span class="linenum"> 361</span></a>              r.plugin, r.eventname, r.template, r.templateformat, r.frequency, r.timewindow&quot;;
<a name="l362"><span class="linenum"> 362</span></a>          }
<a name="l363"><span class="linenum"> 363</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> = <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../../_variables/select.html">$select</a> . &quot;
<a name="l364"><span class="linenum"> 364</span></a>                    FROM {tool_monitor_rules} r
<a name="l365"><span class="linenum"> 365</span></a>                    JOIN {tool_monitor_subscriptions} s
<a name="l366"><span class="linenum"> 366</span></a>                          ON r.id = s.ruleid &quot;;
<a name="l367"><span class="linenum"> 367</span></a>          return <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>;
<a name="l368"><span class="linenum"> 368</span></a>      }
<a name="l369"><span class="linenum"> 369</span></a>  
<a name="l370"><span class="linenum"> 370</span></a>      <span class="comment">/**</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">     * Helper method to convert db records to instances.</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">     *</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">     * @param array $arr of subscriptions.</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">     *</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">     * @return array of subscriptions as instances.</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     */</span>
<a name="l377"><span class="linenum"> 377</span></a>      protected static function <a class="function" onClick="logFunction('get_instances')" href="../../../../_functions/get_instances.html" onMouseOver="funcPopup(event,'get_instances')">get_instances</a>(<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a>) {
<a name="l378"><span class="linenum"> 378</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = array();
<a name="l379"><span class="linenum"> 379</span></a>          foreach (<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a> =&gt; <a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('sub')" href="../../../../_variables/sub.html">$sub</a>) {
<a name="l380"><span class="linenum"> 380</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('subscription')" href="../../../../_classes/subscription.html" onMouseOver="classPopup(event,'subscription')">subscription</a>(<a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('sub')" href="../../../../_variables/sub.html">$sub</a>);
<a name="l381"><span class="linenum"> 381</span></a>          }
<a name="l382"><span class="linenum"> 382</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l383"><span class="linenum"> 383</span></a>      }
<a name="l384"><span class="linenum"> 384</span></a>  
<a name="l385"><span class="linenum"> 385</span></a>      <span class="comment">/**</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     * Get count of subscriptions for a given rule.</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     *</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">     * @param int $ruleid rule id of the subscription.</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">     *</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">     * @return int number of subscriptions</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">     */</span>
<a name="l392"><span class="linenum"> 392</span></a>      public static function <a class="function" onClick="logFunction('count_rule_subscriptions')" href="../../../../_functions/count_rule_subscriptions.html" onMouseOver="funcPopup(event,'count_rule_subscriptions')">count_rule_subscriptions</a>(<a class="var it10030" onMouseOver="hilite(10030)" onMouseOut="lolite()" onClick="logVariable('ruleid')" href="../../../../_variables/ruleid.html">$ruleid</a>) {
<a name="l393"><span class="linenum"> 393</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l394"><span class="linenum"> 394</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> = self::<a class="function" onClick="logFunction('get_subscription_join_rule_sql')" href="../../../../_functions/get_subscription_join_rule_sql.html" onMouseOver="funcPopup(event,'get_subscription_join_rule_sql')">get_subscription_join_rule_sql</a>(true);
<a name="l395"><span class="linenum"> 395</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> .= &quot;WHERE s.ruleid = :ruleid&quot;;
<a name="l396"><span class="linenum"> 396</span></a>  
<a name="l397"><span class="linenum"> 397</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_sql')" href="../../../../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, array('ruleid' =&gt; <a class="var it10030" onMouseOver="hilite(10030)" onMouseOut="lolite()" onClick="logVariable('ruleid')" href="../../../../_variables/ruleid.html">$ruleid</a>));
<a name="l398"><span class="linenum"> 398</span></a>      }
<a name="l399"><span class="linenum"> 399</span></a>  
<a name="l400"><span class="linenum"> 400</span></a>      <span class="comment">/**</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * Returns true if an event in a particular course has a subscription.</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     *</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     * @param string $eventname the name of the event</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     * @param int $courseid the course id</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     * @return bool returns true if the event has subscriptions in a given course, false otherwise.</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">     */</span>
<a name="l407"><span class="linenum"> 407</span></a>      public static function <a class="function" onClick="logFunction('event_has_subscriptions')" href="../../../../_functions/event_has_subscriptions.html" onMouseOver="funcPopup(event,'event_has_subscriptions')">event_has_subscriptions</a>(<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../../../../_variables/eventname.html">$eventname</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>) {
<a name="l408"><span class="linenum"> 408</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l409"><span class="linenum"> 409</span></a>  
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">        // Check if we can return these from cache.</span>
<a name="l411"><span class="linenum"> 411</span></a>          <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a> = \<a class="class" onClick="logClass('cache')" href="../../../../_classes/cache.html" onMouseOver="classPopup(event,'cache')">cache</a>::<a class="function" onClick="logFunction('make')" href="../../../../_functions/make.html" onMouseOver="funcPopup(event,'make')">make</a>('tool_monitor', 'eventsubscriptions');
<a name="l412"><span class="linenum"> 412</span></a>  
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">        // The SQL we will be using to fill the cache if it is empty.</span>
<a name="l414"><span class="linenum"> 414</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> = &quot;SELECT DISTINCT(r.eventname)
<a name="l415"><span class="linenum"> 415</span></a>                    FROM {tool_monitor_subscriptions} s
<a name="l416"><span class="linenum"> 416</span></a>              INNER JOIN {tool_monitor_rules} r
<a name="l417"><span class="linenum"> 417</span></a>                      ON s.ruleid = r.id
<a name="l418"><span class="linenum"> 418</span></a>                   WHERE s.courseid = :courseid&quot;;
<a name="l419"><span class="linenum"> 419</span></a>  
<a name="l420"><span class="linenum"> 420</span></a>          <a class="var it40538" onMouseOver="hilite(40538)" onMouseOut="lolite()" onClick="logVariable('sitesubscriptions')" href="../../../../_variables/sitesubscriptions.html">$sitesubscriptions</a> = <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a>-&gt;<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(0);
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">        // If we do not have the site subscriptions in the cache then return them from the DB.</span>
<a name="l422"><span class="linenum"> 422</span></a>          if (<a class="var it40538" onMouseOver="hilite(40538)" onMouseOut="lolite()" onClick="logVariable('sitesubscriptions')" href="../../../../_variables/sitesubscriptions.html">$sitesubscriptions</a> === false) {
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">            // Set the array for the cache.</span>
<a name="l424"><span class="linenum"> 424</span></a>              <a class="var it40538" onMouseOver="hilite(40538)" onMouseOut="lolite()" onClick="logVariable('sitesubscriptions')" href="../../../../_variables/sitesubscriptions.html">$sitesubscriptions</a> = array();
<a name="l425"><span class="linenum"> 425</span></a>              if (<a class="var it8229" onMouseOver="hilite(8229)" onMouseOut="lolite()" onClick="logVariable('subscriptions')" href="../../../../_variables/subscriptions.html">$subscriptions</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, array('courseid' =&gt; 0))) {
<a name="l426"><span class="linenum"> 426</span></a>                  foreach (<a class="var it8229" onMouseOver="hilite(8229)" onMouseOut="lolite()" onClick="logVariable('subscriptions')" href="../../../../_variables/subscriptions.html">$subscriptions</a> as <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>) {
<a name="l427"><span class="linenum"> 427</span></a>                      <a class="var it40538" onMouseOver="hilite(40538)" onMouseOut="lolite()" onClick="logVariable('sitesubscriptions')" href="../../../../_variables/sitesubscriptions.html">$sitesubscriptions</a>[<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('eventname')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/eventname.html">eventname</a>] = true;
<a name="l428"><span class="linenum"> 428</span></a>                  }
<a name="l429"><span class="linenum"> 429</span></a>              }
<a name="l430"><span class="linenum"> 430</span></a>              <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a>-&gt;<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>(0, <a class="var it40538" onMouseOver="hilite(40538)" onMouseOut="lolite()" onClick="logVariable('sitesubscriptions')" href="../../../../_variables/sitesubscriptions.html">$sitesubscriptions</a>);
<a name="l431"><span class="linenum"> 431</span></a>          }
<a name="l432"><span class="linenum"> 432</span></a>  
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">        // Check if a subscription exists for this event site wide.</span>
<a name="l434"><span class="linenum"> 434</span></a>          if (isset(<a class="var it40538" onMouseOver="hilite(40538)" onMouseOut="lolite()" onClick="logVariable('sitesubscriptions')" href="../../../../_variables/sitesubscriptions.html">$sitesubscriptions</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../../../../_variables/eventname.html">$eventname</a>])) {
<a name="l435"><span class="linenum"> 435</span></a>              return true;
<a name="l436"><span class="linenum"> 436</span></a>          }
<a name="l437"><span class="linenum"> 437</span></a>  
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment">        // If the course id is for the site, and we reached here then there is no site wide subscription for this event.</span>
<a name="l439"><span class="linenum"> 439</span></a>          if (empty(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>)) {
<a name="l440"><span class="linenum"> 440</span></a>              return false;
<a name="l441"><span class="linenum"> 441</span></a>          }
<a name="l442"><span class="linenum"> 442</span></a>  
<a name="l443"><span class="linenum"> 443</span></a>          <a class="var it40539" onMouseOver="hilite(40539)" onMouseOut="lolite()" onClick="logVariable('coursesubscriptions')" href="../../../../_variables/coursesubscriptions.html">$coursesubscriptions</a> = <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a>-&gt;<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>);
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">        // If we do not have the course subscriptions in the cache then return them from the DB.</span>
<a name="l445"><span class="linenum"> 445</span></a>          if (<a class="var it40539" onMouseOver="hilite(40539)" onMouseOut="lolite()" onClick="logVariable('coursesubscriptions')" href="../../../../_variables/coursesubscriptions.html">$coursesubscriptions</a> === false) {
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">            // Set the array for the cache.</span>
<a name="l447"><span class="linenum"> 447</span></a>              <a class="var it40539" onMouseOver="hilite(40539)" onMouseOut="lolite()" onClick="logVariable('coursesubscriptions')" href="../../../../_variables/coursesubscriptions.html">$coursesubscriptions</a> = array();
<a name="l448"><span class="linenum"> 448</span></a>              if (<a class="var it8229" onMouseOver="hilite(8229)" onMouseOut="lolite()" onClick="logVariable('subscriptions')" href="../../../../_variables/subscriptions.html">$subscriptions</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, array('courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>))) {
<a name="l449"><span class="linenum"> 449</span></a>                  foreach (<a class="var it8229" onMouseOver="hilite(8229)" onMouseOut="lolite()" onClick="logVariable('subscriptions')" href="../../../../_variables/subscriptions.html">$subscriptions</a> as <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>) {
<a name="l450"><span class="linenum"> 450</span></a>                      <a class="var it40539" onMouseOver="hilite(40539)" onMouseOut="lolite()" onClick="logVariable('coursesubscriptions')" href="../../../../_variables/coursesubscriptions.html">$coursesubscriptions</a>[<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('eventname')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/eventname.html">eventname</a>] = true;
<a name="l451"><span class="linenum"> 451</span></a>                  }
<a name="l452"><span class="linenum"> 452</span></a>              }
<a name="l453"><span class="linenum"> 453</span></a>              <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../../../../_variables/cache.html">$cache</a>-&gt;<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../../../_variables/courseid.html">$courseid</a>, <a class="var it40539" onMouseOver="hilite(40539)" onMouseOut="lolite()" onClick="logVariable('coursesubscriptions')" href="../../../../_variables/coursesubscriptions.html">$coursesubscriptions</a>);
<a name="l454"><span class="linenum"> 454</span></a>          }
<a name="l455"><span class="linenum"> 455</span></a>  
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment">        // Check if a subscription exists for this event in this course.</span>
<a name="l457"><span class="linenum"> 457</span></a>          if (isset(<a class="var it40539" onMouseOver="hilite(40539)" onMouseOut="lolite()" onClick="logVariable('coursesubscriptions')" href="../../../../_variables/coursesubscriptions.html">$coursesubscriptions</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../../../../_variables/eventname.html">$eventname</a>])) {
<a name="l458"><span class="linenum"> 458</span></a>              return true;
<a name="l459"><span class="linenum"> 459</span></a>          }
<a name="l460"><span class="linenum"> 460</span></a>  
<a name="l461"><span class="linenum"> 461</span></a>          return false;
<a name="l462"><span class="linenum"> 462</span></a>      }
<a name="l463"><span class="linenum"> 463</span></a>  
<a name="l464"><span class="linenum"> 464</span></a>      <span class="comment">/**</span>
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment">     * Activates a group of subscriptions based on an input array of ids.</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">     *</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">     * @since 3.2.0</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">     * @param array $ids of subscription ids.</span>
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">     * @return bool true if the operation was successful, false otherwise.</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">     */</span>
<a name="l471"><span class="linenum"> 471</span></a>      public static function <a class="function" onClick="logFunction('activate_subscriptions')" href="../../../../_functions/activate_subscriptions.html" onMouseOver="funcPopup(event,'activate_subscriptions')">activate_subscriptions</a>(array <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('ids')" href="../../../../_variables/ids.html">$ids</a>) {
<a name="l472"><span class="linenum"> 472</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l473"><span class="linenum"> 473</span></a>          if (!empty(<a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('ids')" href="../../../../_variables/ids.html">$ids</a>)) {
<a name="l474"><span class="linenum"> 474</span></a>              <a class="function" onClick="logFunction('list')" href="../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>) = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('ids')" href="../../../../_variables/ids.html">$ids</a>);
<a name="l475"><span class="linenum"> 475</span></a>              <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field_select')" href="../../../../_functions/set_field_select.html" onMouseOver="funcPopup(event,'set_field_select')">set_field_select</a>('tool_monitor_subscriptions', 'inactivedate', '0', 'id ' . <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>);
<a name="l476"><span class="linenum"> 476</span></a>              return <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a>;
<a name="l477"><span class="linenum"> 477</span></a>          }
<a name="l478"><span class="linenum"> 478</span></a>          return false;
<a name="l479"><span class="linenum"> 479</span></a>      }
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>      <span class="comment">/**</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">     * Deactivates a group of subscriptions based on an input array of ids.</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">     *</span>
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">     * @since 3.2.0</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment">     * @param array $ids of subscription ids.</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">     * @return bool true if the operation was successful, false otherwise.</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">     */</span>
<a name="l488"><span class="linenum"> 488</span></a>      public static function <a class="function" onClick="logFunction('deactivate_subscriptions')" href="../../../../_functions/deactivate_subscriptions.html" onMouseOver="funcPopup(event,'deactivate_subscriptions')">deactivate_subscriptions</a>(array <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('ids')" href="../../../../_variables/ids.html">$ids</a>) {
<a name="l489"><span class="linenum"> 489</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l490"><span class="linenum"> 490</span></a>          if (!empty(<a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('ids')" href="../../../../_variables/ids.html">$ids</a>)) {
<a name="l491"><span class="linenum"> 491</span></a>              <a class="var it20940" onMouseOver="hilite(20940)" onMouseOut="lolite()" onClick="logVariable('inactivedate')" href="../../../../_variables/inactivedate.html">$inactivedate</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l492"><span class="linenum"> 492</span></a>              <a class="function" onClick="logFunction('list')" href="../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>) = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('ids')" href="../../../../_variables/ids.html">$ids</a>);
<a name="l493"><span class="linenum"> 493</span></a>              <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field_select')" href="../../../../_functions/set_field_select.html" onMouseOver="funcPopup(event,'set_field_select')">set_field_select</a>('tool_monitor_subscriptions', 'inactivedate', <a class="var it20940" onMouseOver="hilite(20940)" onMouseOut="lolite()" onClick="logVariable('inactivedate')" href="../../../../_variables/inactivedate.html">$inactivedate</a>, 'id ' . <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>,
<a name="l494"><span class="linenum"> 494</span></a>                                               <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>);
<a name="l495"><span class="linenum"> 495</span></a>              return <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a>;
<a name="l496"><span class="linenum"> 496</span></a>          }
<a name="l497"><span class="linenum"> 497</span></a>          return false;
<a name="l498"><span class="linenum"> 498</span></a>      }
<a name="l499"><span class="linenum"> 499</span></a>  
<a name="l500"><span class="linenum"> 500</span></a>      <span class="comment">/**</span>
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment">     * Deletes subscriptions which have been inactive for a period of time.</span>
<a name="l502"><span class="linenum"> 502</span></a>  <span class="comment">     *</span>
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">     * @since 3.2.0</span>
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">     * @param int $userid if provided, only this user's stale subscriptions will be deleted.</span>
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">     * @return bool true if the operation was successful, false otherwise.</span>
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">     */</span>
<a name="l507"><span class="linenum"> 507</span></a>      public static function <a class="function" onClick="logFunction('delete_stale_subscriptions')" href="../../../../_functions/delete_stale_subscriptions.html" onMouseOver="funcPopup(event,'delete_stale_subscriptions')">delete_stale_subscriptions</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a> = 0) {
<a name="l508"><span class="linenum"> 508</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">        // Get the expiry duration, in days.</span>
<a name="l510"><span class="linenum"> 510</span></a>          <a class="var it40540" onMouseOver="hilite(40540)" onMouseOut="lolite()" onClick="logVariable('cutofftime')" href="../../../../_variables/cutofftime.html">$cutofftime</a> = <a class="phpfunction" onClick="logFunction('strtotime')" href="../../../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(&quot;-&quot; . self::INACTIVE_SUBSCRIPTION_LIFESPAN_IN_DAYS . &quot; days&quot;, <a class="phpfunction" onClick="logFunction('time')" href="../../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>());
<a name="l511"><span class="linenum"> 511</span></a>  
<a name="l512"><span class="linenum"> 512</span></a>          if (!empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>)) {
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment">            // Remove any stale subscriptions for the desired user only.</span>
<a name="l514"><span class="linenum"> 514</span></a>              <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records_select')" href="../../../../_functions/delete_records_select.html" onMouseOver="funcPopup(event,'delete_records_select')">delete_records_select</a>('tool_monitor_subscriptions',
<a name="l515"><span class="linenum"> 515</span></a>                                                    'userid = ? AND inactivedate &lt; ? AND inactivedate &lt;&gt; 0',
<a name="l516"><span class="linenum"> 516</span></a>                                                    array(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>, <a class="var it40540" onMouseOver="hilite(40540)" onMouseOut="lolite()" onClick="logVariable('cutofftime')" href="../../../../_variables/cutofftime.html">$cutofftime</a>));
<a name="l517"><span class="linenum"> 517</span></a>  
<a name="l518"><span class="linenum"> 518</span></a>          } else {
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">            // Remove all stale subscriptions.</span>
<a name="l520"><span class="linenum"> 520</span></a>              <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records_select')" href="../../../../_functions/delete_records_select.html" onMouseOver="funcPopup(event,'delete_records_select')">delete_records_select</a>('tool_monitor_subscriptions',
<a name="l521"><span class="linenum"> 521</span></a>                                                    'inactivedate &lt; ? AND inactivedate &lt;&gt; 0',
<a name="l522"><span class="linenum"> 522</span></a>                                                    array(<a class="var it40540" onMouseOver="hilite(40540)" onMouseOut="lolite()" onClick="logVariable('cutofftime')" href="../../../../_variables/cutofftime.html">$cutofftime</a>));
<a name="l523"><span class="linenum"> 523</span></a>          }
<a name="l524"><span class="linenum"> 524</span></a>          return <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../../../_variables/success.html">$success</a>;
<a name="l525"><span class="linenum"> 525</span></a>      }
<a name="l526"><span class="linenum"> 526</span></a>  
<a name="l527"><span class="linenum"> 527</span></a>      <span class="comment">/**</span>
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment">     * Check whether a subscription is active.</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">     *</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment">     * @since 3.2.0</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">     * @param \tool_monitor\subscription $subscription instance.</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">     * @return bool true if the subscription is active, false otherwise.</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     */</span>
<a name="l534"><span class="linenum"> 534</span></a>      public static function <a class="function" onClick="logFunction('subscription_is_active')" href="../../../../_functions/subscription_is_active.html" onMouseOver="funcPopup(event,'subscription_is_active')">subscription_is_active</a>(subscription <a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>) {
<a name="l535"><span class="linenum"> 535</span></a>          return empty(<a class="var it1800" onMouseOver="hilite(1800)" onMouseOut="lolite()" onClick="logVariable('subscription')" href="../../../../_variables/subscription.html">$subscription</a>-&gt;<a onClick="logVariable('inactivedate')" class="var it44636" onMouseOver="hilite(44636)" onMouseOut="lolite()" href="../../../../_variables/inactivedate.html">inactivedate</a>);
<a name="l536"><span class="linenum"> 536</span></a>      }
<a name="l537"><span class="linenum"> 537</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'add_record_snapshot': ['add_record_snapshot', 'Add cached data that will be most probably used in event observers. ', [['lib/classes/event','base.php',840]], 332],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'delete_cm_subscriptions': ['delete_cm_subscriptions', 'Delete all subscriptions for a course module. ', [['admin/tool/monitor/classes','subscription_manager.php',158]], 1],
'get_record_sql': ['get_record_sql', 'Get a single database record as an object using a SQL statement. ', [['lib/dml','oci_native_moodle_database.php',1076],['lib/dml','moodle_database.php',1506]], 157],
'get_subscription': ['get_subscription', 'Get a subscription instance for an given subscription id. ', [['admin/tool/monitor/classes','subscription_manager.php',225]], 4],
'get_subscription_join_rule_sql': ['get_subscription_join_rule_sql', 'Return sql to join rule and subscription table. ', [['admin/tool/monitor/classes','subscription_manager.php',349]], 7],
'delete_records_select': ['delete_records_select', '', [['lib/dml','pdo_moodle_database.php',208],['lib/dml','oci_native_moodle_database.php',1495],['lib/dml','pgsql_native_moodle_database.php',1162],['lib/dml','mssql_native_moodle_database.php',1146],['lib/dml','mysqli_native_moodle_database.php',1477],['lib/dml','sqlsrv_native_moodle_database.php',1220],['lib/dml/tests','dml_test.php',5553]], 163],
'close': ['close', 'Close archive, write changes to disk. ', [['lib/filestorage','zip_archive.php',183],['lib/dml','mssql_native_moodle_recordset.php',87],['auth/fc','fcFPP.php',78],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib/spout/src/Spout/Reader','ReaderInterface.php',30],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',81],['lib/dml','pdo_moodle_recordset.php',79],['lib','csvlib.class.php',256],['lib/horde/framework/Horde/Socket','Client.php',135],['backup/util/helper','backup_null_iterator.class.php',53],['admin/tool/uploaduser','locallib.php',149],['lib/tcpdf','tcpdf.php',2943],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpmailer','class.smtp.php',582],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/classes/dml','recordset_walk.php',153],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',84],['grade/export','lib.php',689],['lib','excellib.class.php',93],['backup/util/loggers','file_logger.class.php',69],['grade','lib.php',324],['backup/util/helper','backup_array_iterator.class.php',63],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['mod/assign/feedback/offline','importgradeslib.php',204],['lib/dml','oci_native_moodle_recordset.php',80],['lib/adodb','adodb.inc.php',2361],['lib/adodb','adodb.inc.php',3090],['lib/adodb','adodb.inc.php',3870],['lib/google/src/Google/Logger','File.php',132],['lib/phpunit/classes','event_sink.php',39],['lib/horde/framework/Horde','Stream.php',585],['backup/util/loggers','base_logger.class.php',89],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',71],['question/engine/tests','helpers.php',1241],['lib/spout/src/Spout/Writer','AbstractWriter.php',312],['lib','odslib.class.php',71],['lib/spout/src/Spout/Writer/Common/Internal','WorksheetInterface.php',34],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',214],['lib/spout/src/Spout/Writer','WriterInterface.php',84],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',174],['lib/spout/src/Spout/Reader','AbstractReader.php',183],['lib/phpunit/classes','message_sink.php',39],['lib/spout/src/Spout/Writer/Common/Internal','WorkbookInterface.php',65],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',95],['lib/pear/Net','GeoIP.php',556],['lib/tests','completionlib_test.php',907],['lib/pear/Auth','RADIUS.php',550],['lib/pear/Auth','RADIUS.php',710],['lib/pear/Auth','RADIUS.php',829],['lib','webdavlib.php',176],['lib/dml','pgsql_native_moodle_recordset.php',107]], 1128],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1635],['lib/dml','moodle_database.php',711]], 438],
'delete': ['delete', 'Deletes an item from the cache store. ', [['cache/stores/static','lib.php',374],['cache','disabledlib.php',102],['lib/google/src/Google/Service','AdSense.php',1258],['lib/google/src/Google/Service','AdSense.php',1730],['lib/grade','grade_item.php',396],['lib/google/src/Google/Service','Replicapool.php',378],['lib/google/src/Google/Service','Tasks.php',310],['lib/google/src/Google/Service','Tasks.php',428],['lib/google/src/Google/Service','AndroidPublisher.php',1230],['lib/google/src/Google/Service','AndroidPublisher.php',1310],['lib/google/src/Google/Service','AndroidPublisher.php',1668],['lib/google/src/Google/Service','AndroidPublisher.php',1763],['lib/google/src/Google/Service','AndroidPublisher.php',2083],['lib/google/src/Google/Service','YouTubeReporting.php',255],['lib/google/src/Google/Service','Reseller.php',441],['lib/google/src/Google/Cache','Memcache.php',144],['lib','filelib.php',3481],['lib/google/src/Google/Service','Computeaccounts.php',418],['lib/google/src/Google/Service','Computeaccounts.php',497],['lib/google/src/Google/Service','Computeaccounts.php',668],['lib/grade','grade_category.php',281],['lib/grade','grade_scale.php',136],['lib/adodb','adodb-active-record.inc.php',901],['lib/grade','grade_object.php',270],['lib/google/src/Google/Service','YouTubeAnalytics.php',352],['lib/google/src/Google/Service','YouTubeAnalytics.php',447],['lib/google/src/Google/Service','MapsEngine.php',1693],['lib/google/src/Google/Service','MapsEngine.php',1991],['lib/google/src/Google/Service','MapsEngine.php',2344],['lib/google/src/Google/Service','MapsEngine.php',2651],['lib/google/src/Google/Service','MapsEngine.php',2912],['completion','data_object.php',273],['lib/google/src/Google/Cache','File.php',115],['cache/classes','dummystore.php',198],['lib/google/src/Google/Service','Dns.php',378],['cache/classes','loaders.php',792],['cache/classes','loaders.php',1471],['cache/classes','loaders.php',1841],['lib/google/src/Google/Service','Appengine.php',352],['lib/google/src/Google/Service','Appengine.php',455],['tag/classes','collection.php',260],['lib/filebrowser','file_info.php',418],['lib/google/src/Google/Service','AdExchangeBuyer.php',938],['lib/google/src/Google/Service','AdExchangeBuyer.php',1137],['lib/google/src/Google/Service','AdExchangeBuyer.php',1561],['lib/filebrowser','virtual_root_file.php',69],['lib/google/src/Google/Service','Books.php',1946],['lib/grade','grade_grade.php',1024],['lib/grade','grade_outcome.php',97],['lib/google/src/Google/Service','Analytics.php',2165],['lib/google/src/Google/Service','Analytics.php',2534],['lib/google/src/Google/Service','Analytics.php',2655],['lib/google/src/Google/Service','Analytics.php',2872],['lib/google/src/Google/Service','Analytics.php',3001],['lib/google/src/Google/Service','Analytics.php',3092],['lib/google/src/Google/Service','Analytics.php',3406],['lib/google/src/Google/Service','Analytics.php',3631],['lib/google/src/Google/Service','DeploymentManager.php',452],['lib/google/src/Google/Service','Blogger.php',1065],['lib/google/src/Google/Service','Blogger.php',1227],['lib/google/src/Google/Service','Blogger.php',1451],['lib/filebrowser','file_info_stored.php',631],['competency/classes','persistent.php',510],['lib/google/src/Google/Service','CloudUserAccounts.php',528],['lib/google/src/Google/Service','CloudUserAccounts.php',628],['lib/google/src/Google/Service','CloudUserAccounts.php',893],['lib/google/src/Google/Service','Cloudresourcemanager.php',390],['lib/htmlpurifier/HTMLPurifier','Zipper.php',89],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',960],['lib/google/src/Google/Service','TagManager.php',1022],['lib/google/src/Google/Service','TagManager.php',1113],['lib/google/src/Google/Service','TagManager.php',1265],['lib/google/src/Google/Service','TagManager.php',1358],['lib/google/src/Google/Service','TagManager.php',1452],['lib/google/src/Google/Service','TagManager.php',1546],['lib/google/src/Google/Service','TagManager.php',1696],['mod/lesson','locallib.php',1037],['mod/lesson','locallib.php',2271],['repository','lib.php',427],['repository','lib.php',1962],['admin/tool/uploadcourse/classes','course.php',226],['lib','badgeslib.php',640],['lib/google/src/Google/Service','Bigquery.php',531],['lib/google/src/Google/Service','Bigquery.php',863],['lib/google/src/Google/Service','ShoppingContent.php',1050],['lib/google/src/Google/Service','ShoppingContent.php',1448],['lib/google/src/Google/Service','ShoppingContent.php',1970],['lib/google/src/Google/Service','Webmasters.php',355],['lib/google/src/Google/Service','Webmasters.php',449],['lib/google/src/Google/Service','Clouddebugger.php',384],['lib/filestorage','stored_file.php',323],['lib/google/src/Google/Service','Container.php',309],['lib/google/src/Google/Service','Storage.php',1042],['lib/google/src/Google/Service','Storage.php',1157],['lib/google/src/Google/Service','Storage.php',1332],['lib/google/src/Google/Service','Storage.php',1454],['lib/google/src/Google/Service','Storage.php',1681],['cache/stores/memcache','lib.php',401],['lib/google/src/Google/Service','Genomics.php',646],['lib/google/src/Google/Service','Genomics.php',735],['lib/google/src/Google/Service','Genomics.php',903],['lib/google/src/Google/Service','Genomics.php',971],['lib/google/src/Google/Service','Genomics.php',1326],['lib/google/src/Google/Service','Genomics.php',1443],['lib/google/src/Google/Service','Licensing.php',224],['lib/google/src/Google/Service','Fitness.php',400],['lib/google/src/Google/Service','Fitness.php',512],['lib/google/src/Google/Service','Fitness.php',647],['comment','lib.php',790],['lib/google/src/Google/Service','Gmail.php',763],['lib/google/src/Google/Service','Gmail.php',921],['lib/google/src/Google/Service','Gmail.php',1014],['lib/google/src/Google/Service','Gmail.php',1234],['lib/google/src/Google/Service','Taskqueue.php',293],['lib/adodb','adodb-active-recordx.inc.php',1016],['lib','accesslib.php',5580],['cache/classes','interfaces.php',161],['lib/google/src/Google/Service','Autoscaler.php',315],['lib/google/src/Google/Service','Autoscaler.php',429],['lib/google/src/Google/Service','Prediction.php',262],['lib/google/src/Google/Service','SiteVerification.php',139],['lib/google/src/Google/Service','Drive.php',1522],['lib/google/src/Google/Service','Drive.php',1603],['lib/google/src/Google/Service','Drive.php',1748],['lib/google/src/Google/Service','Drive.php',2040],['lib/google/src/Google/Service','Drive.php',2110],['lib/google/src/Google/Service','Drive.php',2240],['lib/google/src/Google/Service','Drive.php',2403],['lib/google/src/Google/Service','Drive.php',2523],['lib/google/src/Google/Service','Proximitybeacon.php',522],['lib/google/src/Google/Service','Directory.php',1683],['lib/google/src/Google/Service','Directory.php',1916],['lib/google/src/Google/Service','Directory.php',1989],['lib/google/src/Google/Service','Directory.php',2059],['lib/google/src/Google/Service','Directory.php',2169],['lib/google/src/Google/Service','Directory.php',2224],['lib/google/src/Google/Service','Directory.php',2351],['lib/google/src/Google/Service','Directory.php',2420],['lib/google/src/Google/Service','Directory.php',2517],['lib/google/src/Google/Service','Directory.php',2652],['lib/google/src/Google/Service','Directory.php',2731],['lib/google/src/Google/Service','Directory.php',2836],['lib/google/src/Google/Service','Directory.php',2938],['lib/google/src/Google/Service','Directory.php',2999],['lib/google/src/Google/Service','Directory.php',3199],['lib/google/src/Google/Service','Directory.php',3274],['lib/google/src/Google/Service','Fusiontables.php',645],['lib/google/src/Google/Service','Fusiontables.php',812],['lib/google/src/Google/Service','Fusiontables.php',937],['lib/google/src/Google/Service','Fusiontables.php',1126],['lib/google/src/Google/Service','Fusiontables.php',1188],['lib/google/src/Google/Service','AdSenseHost.php',734],['lib/google/src/Google/Service','AdSenseHost.php',1010],['lib/google/src/Google/Service','AdSenseHost.php',1168],['lib/google/src/Google/Service','Mirror.php',425],['lib/google/src/Google/Service','Mirror.php',593],['lib/google/src/Google/Service','Mirror.php',661],['lib/google/src/Google/Service','Mirror.php',772],['tag/classes','area.php',187],['lib/google/src/Google/Service','AndroidEnterprise.php',988],['lib/google/src/Google/Service','AndroidEnterprise.php',1092],['lib/google/src/Google/Service','AndroidEnterprise.php',1280],['lib/google/src/Google/Service','AndroidEnterprise.php',1415],['lib/google/src/Google/Service','AndroidEnterprise.php',1597],['course','lib.php',3263],['mnet','peer.php',118],['search/tests/fixtures','mock_search_engine.php',48],['lib/google/src/Google/Service','Calendar.php',903],['lib/google/src/Google/Service','Calendar.php',1071],['lib/google/src/Google/Service','Calendar.php',1269],['lib/google/src/Google/Service','Calendar.php',1412],['cache/stores/session','lib.php',417],['blog','locallib.php',322],['lib/google/src/Google/Service','Storagetransfer.php',381],['cache/stores/mongodb','lib.php',361],['lib/google/src/Google/Cache','Null.php',53],['lib/google/src/Google/Service','GamesConfiguration.php',251],['lib/google/src/Google/Service','GamesConfiguration.php',390],['cache/stores/file','lib.php',393],['badges/criteria','award_criteria.php',330],['cache/stores/memcached','lib.php',402],['lib/google/src/Google/Service','AppState.php',154],['lib/google/src/Google/Service','Resourceviews.php',423],['lib/portfolio','plugin.php',692],['calendar','lib.php',2423],['lib/google/src/Google/Service','Classroom.php',466],['lib/google/src/Google/Service','Classroom.php',615],['lib/google/src/Google/Service','Classroom.php',701],['lib/google/src/Google/Service','Classroom.php',806],['lib/google/src/Google/Service','Classroom.php',934],['lib/google/src/Google/Service','SQLAdmin.php',786],['lib/google/src/Google/Service','SQLAdmin.php',856],['lib/google/src/Google/Service','SQLAdmin.php',1023],['lib/google/src/Google/Service','SQLAdmin.php',1368],['lib/google/src/Google/Service','SQLAdmin.php',1483],['badges/criteria','award_criteria_manual.php',220],['search/engine/solr/classes','engine.php',1045],['lib/google/src/Google/Service','Compute.php',4021],['lib/google/src/Google/Service','Compute.php',4149],['lib/google/src/Google/Service','Compute.php',4284],['lib/google/src/Google/Service','Compute.php',4571],['lib/google/src/Google/Service','Compute.php',4671],['lib/google/src/Google/Service','Compute.php',4829],['lib/google/src/Google/Service','Compute.php',4942],['lib/google/src/Google/Service','Compute.php',5033],['lib/google/src/Google/Service','Compute.php',5174],['lib/google/src/Google/Service','Compute.php',5248],['lib/google/src/Google/Service','Compute.php',5378],['lib/google/src/Google/Service','Compute.php',5508],['lib/google/src/Google/Service','Compute.php',5683],['lib/google/src/Google/Service','Compute.php',5984],['lib/google/src/Google/Service','Compute.php',6156],['lib/google/src/Google/Service','Compute.php',6316],['lib/google/src/Google/Service','Compute.php',6717],['lib/google/src/Google/Service','Compute.php',6898],['lib/google/src/Google/Service','Compute.php',7037],['lib/google/src/Google/Service','Compute.php',7128],['lib/google/src/Google/Service','Compute.php',7208],['lib/google/src/Google/Service','Compute.php',7299],['lib/google/src/Google/Service','Compute.php',7409],['lib/google/src/Google/Service','Compute.php',7570],['lib/google/src/Google/Service','Compute.php',7734],['lib/google/src/Google/Service','Compute.php',7938],['lib/google/src/Google/Service','Compute.php',8035],['lib/google/src/Google/Service','Compute.php',8210],['lib/google/src/Google/Service','Compute.php',8305],['lib/google/src/Google/Service','Pubsub.php',240],['lib/google/src/Google/Service','Pubsub.php',379],['lib/google/src/Google/Service','YouTube.php',1810],['lib/google/src/Google/Service','YouTube.php',2061],['lib/google/src/Google/Service','YouTube.php',2459],['lib/google/src/Google/Service','YouTube.php',2889],['lib/google/src/Google/Service','YouTube.php',3187],['lib/google/src/Google/Service','YouTube.php',3419],['lib/google/src/Google/Service','YouTube.php',3559],['lib/google/src/Google/Service','YouTube.php',3928],['lib/google/src/Google/Service','YouTube.php',4158],['lib/google/src/Google/Cache','Apc.php',105],['lib/google/src/Google/Service','Dfareporting.php',5000],['lib/google/src/Google/Service','Dfareporting.php',5566],['lib/google/src/Google/Service','Dfareporting.php',5753],['lib/google/src/Google/Service','Dfareporting.php',5877],['lib/google/src/Google/Service','Dfareporting.php',6397],['lib/google/src/Google/Service','Dfareporting.php',6578],['lib/google/src/Google/Service','Dfareporting.php',6731],['lib/google/src/Google/Service','Dfareporting.php',6996],['lib/google/src/Google/Service','Dfareporting.php',7503],['lib/google/src/Google/Service','Dfareporting.php',8102],['lib/google/src/Google/Service','Dfareporting.php',8768],['lib/google/src/Google/Service','Manager.php',244],['lib/google/src/Google/Service','Manager.php',324],['lib/google/src/Google/Service','CloudMonitoring.php',274],['lib','webdavlib.php',691]], 317],
'count_user_subscriptions': ['count_user_subscriptions', 'Get count of subscriptions for a given user. ', [['admin/tool/monitor/classes','subscription_manager.php',310]], 2],
'remove_all_subscriptions_for_rule': ['remove_all_subscriptions_for_rule', 'Delete all subscribers for a given rule. ', [['admin/tool/monitor/classes','subscription_manager.php',170]], 2],
'delete_user_subscriptions': ['delete_user_subscriptions', 'Delete all subscriptions for a user. ', [['admin/tool/monitor/classes','subscription_manager.php',146]], 1],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'get_user_subscriptions': ['get_user_subscriptions', 'Get an array of subscriptions for a given user. ', [['admin/tool/monitor/classes','subscription_manager.php',288]], 1],
'count_records_sql': ['count_records_sql', 'Get the result of a SQL SELECT COUNT(...) query. ', [['lib/dml','moodle_database.php',1796]], 155],
'make': ['make', 'Runs the entire \'make\' process. ', [['admin/tool/generator/classes','course_backend.php',202],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',38],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',33],['mod/quiz/accessrule/numattempts','rule.php',40],['cache/classes','loaders.php',163],['mod/quiz/accessrule','accessrulebase.php',63],['backup/util/ui','backup_ui_setting.class.php',234],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',60],['mod/quiz/accessrule/timelimit','rule.php',41],['mod/quiz/accessrule/openclosedate','rule.php',40],['lib/yuilib/2in3/2.9.0/build/yui2-logger','yui2-logger.js',655],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',52],['mod/quiz/accessrule/password','rule.php',40],['admin/tool/assignmentupgrade','locallib.php',110],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',64],['mod/quiz/accessrule/delaybetweenattempts','rule.php',40],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',96],['lib/htmlpurifier/HTMLPurifier','AttrDef.php',67],['mod/quiz/accessrule/ipaddress','rule.php',40],['mod/quiz/accessrule/securewindow','rule.php',55],['mod/quiz/accessrule/safebrowser','rule.php',40],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',42],['lib/yuilib/2in3/2.9.0/build/yui2-logger','yui2-logger-debug.js',655],['lib/htmlpurifier/HTMLPurifier','Length.php',52],['admin/tool/generator/classes','site_backend.php',89]], 198],
'get_user_subscriptions_for_course': ['get_user_subscriptions_for_course', 'Get an array of subscriptions for a given user in a given course. ', [['admin/tool/monitor/classes','subscription_manager.php',245]], 2],
'subscription_is_active': ['subscription_is_active', 'Check whether a subscription is active. ', [['admin/tool/monitor/classes','subscription_manager.php',527]], 32],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'get': ['get', 'Retrieves a variable reference from the context. ', [['lib/htmlpurifier/HTMLPurifier','Context.php',36],['cache/stores/static','lib.php',220],['cache','disabledlib.php',55],['search/classes','document.php',299],['lib/lessphp','Cache.php',27],['lib/google/src/Google/Service','DataTransfer.php',162],['lib/google/src/Google/Service','DataTransfer.php',208],['lib/minify/lib','JSMinPlus.php',1827],['lib/google/src/Google/Service','AdSense.php',1076],['lib/google/src/Google/Service','AdSense.php',1155],['lib/google/src/Google/Service','AdSense.php',1303],['lib/google/src/Google/Service','AdSense.php',1519],['lib/google/src/Google/Service','AdSense.php',1631],['lib/google/src/Google/Service','AdSense.php',1773],['lib/google/src/Google/Service','AdSense.php',2047],['lib/google/src/Google/Service','Replicapool.php',420],['lib/google/src/Google/Service','Replicapool.php',575],['lib/google/src/Google/Service','Tasks.php',323],['lib/google/src/Google/Service','Tasks.php',442],['lib/google/src/Google/Service','Partners.php',362],['lib/google/src/Google/Service','AndroidPublisher.php',1247],['lib/google/src/Google/Service','AndroidPublisher.php',1349],['lib/google/src/Google/Service','AndroidPublisher.php',1510],['lib/google/src/Google/Service','AndroidPublisher.php',1573],['lib/google/src/Google/Service','AndroidPublisher.php',1796],['lib/google/src/Google/Service','AndroidPublisher.php',1884],['lib/google/src/Google/Service','AndroidPublisher.php',1948],['lib/google/src/Google/Service','AndroidPublisher.php',2098],['lib/google/src/Google/Service','AndroidPublisher.php',2223],['lib/google/src/Google/Service','AndroidPublisher.php',2293],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',146],['lib/google/src/Google/Service','YouTubeReporting.php',273],['lib/google/src/Google/Service','YouTubeReporting.php',326],['lib/google/src/Google/Service','Reseller.php',295],['lib/google/src/Google/Service','Reseller.php',458],['lib/google/src/Google/Cache','Memcache.php',74],['lib','filelib.php',3382],['lib','filelib.php',3630],['lib/google/src/Google/Service','Computeaccounts.php',432],['lib/google/src/Google/Service','Computeaccounts.php',512],['lib/google/src/Google/Service','Computeaccounts.php',683],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',64],['lib/google/src/Google/Service','MapsEngine.php',1530],['lib/google/src/Google/Service','MapsEngine.php',1709],['lib/google/src/Google/Service','MapsEngine.php',2006],['lib/google/src/Google/Service','MapsEngine.php',2268],['lib/google/src/Google/Service','MapsEngine.php',2360],['lib/google/src/Google/Service','MapsEngine.php',2666],['lib/google/src/Google/Service','MapsEngine.php',2927],['lib/google/src/Google/Service','MapsEngine.php',3118],['lib/google/src/Google/Cache','File.php',47],['cache/classes','dummystore.php',141],['lib/google/src/Google/Service','Dns.php',307],['lib/google/src/Google/Service','Dns.php',393],['lib/google/src/Google/Service','Dns.php',444],['cache/classes','loaders.php',278],['cache/classes','loaders.php',1422],['cache/classes','loaders.php',1731],['lib/google/src/Google/Service','Appengine.php',320],['lib/google/src/Google/Service','Appengine.php',368],['lib/google/src/Google/Service','Appengine.php',472],['lib/google/src/Google/Service','Appengine.php',525],['lib/google/src/Google/Service','Urlshortener.php',109],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',74],['lib/google/src/Google/Service','AdExchangeBuyer.php',759],['lib/google/src/Google/Service','AdExchangeBuyer.php',829],['lib/google/src/Google/Service','AdExchangeBuyer.php',870],['lib/google/src/Google/Service','AdExchangeBuyer.php',952],['lib/google/src/Google/Service','AdExchangeBuyer.php',1041],['lib/google/src/Google/Service','AdExchangeBuyer.php',1111],['lib/google/src/Google/Service','AdExchangeBuyer.php',1251],['lib/google/src/Google/Service','AdExchangeBuyer.php',1293],['lib/google/src/Google/Service','AdExchangeBuyer.php',1417],['lib/google/src/Google/Service','AdExchangeBuyer.php',1471],['lib/google/src/Google/Service','AdExchangeBuyer.php',1576],['lib/google/src/Google/Service','Books.php',1456],['lib/google/src/Google/Service','Books.php',1625],['lib/google/src/Google/Service','Books.php',1677],['lib/google/src/Google/Service','Books.php',1752],['lib/google/src/Google/Service','Books.php',2086],['lib/google/src/Google/Service','Books.php',2205],['lib/google/src/Google/Service','Books.php',2262],['lib/google/src/Google/Service','Books.php',2345],['lib/google/src/Google/Service','Books.php',2418],['lib/google/src/Google/Service','Books.php',2450],['lib/google/src/Google/Service','Oauth2.php',165],['lib/google/src/Google/Service','Oauth2.php',202],['lib/google/src/Google/Service','Analytics.php',1988],['lib/google/src/Google/Service','Analytics.php',2037],['lib/google/src/Google/Service','Analytics.php',2084],['lib/google/src/Google/Service','Analytics.php',2308],['lib/google/src/Google/Service','Analytics.php',2422],['lib/google/src/Google/Service','Analytics.php',2550],['lib/google/src/Google/Service','Analytics.php',2670],['lib/google/src/Google/Service','Analytics.php',2763],['lib/google/src/Google/Service','Analytics.php',2889],['lib/google/src/Google/Service','Analytics.php',3108],['lib/google/src/Google/Service','Analytics.php',3245],['lib/google/src/Google/Service','Analytics.php',3336],['lib/google/src/Google/Service','Analytics.php',3422],['lib/google/src/Google/Service','Analytics.php',3533],['lib/google/src/Google/Service','Coordinate.php',509],['lib/google/src/Google/Service','Coordinate.php',689],['lib','oauthlib.php',302],['lib/horde/framework/Horde/Support','ConsistentHash.php',69],['lib/google/src/Google/Service','DeploymentManager.php',468],['lib/google/src/Google/Service','DeploymentManager.php',632],['lib/google/src/Google/Service','DeploymentManager.php',693],['lib/google/src/Google/Service','DeploymentManager.php',752],['lib/google/src/Google/Service','Blogger.php',945],['lib/google/src/Google/Service','Blogger.php',976],['lib/google/src/Google/Service','Blogger.php',1080],['lib/google/src/Google/Service','Blogger.php',1199],['lib/google/src/Google/Service','Blogger.php',1241],['lib/google/src/Google/Service','Blogger.php',1382],['lib/google/src/Google/Service','Blogger.php',1465],['lib/google/src/Google/Service','Blogger.php',1686],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',981],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16595],['question/engine','states.php',116],['lib/google/src/Google/Service','Dataflow.php',292],['lib/horde/framework/Horde','Variables.php',135],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',58],['competency/classes','persistent.php',86],['lib/google/src/Google/Service','CloudUserAccounts.php',542],['lib/google/src/Google/Service','CloudUserAccounts.php',643],['lib/google/src/Google/Service','CloudUserAccounts.php',908],['lib/google/src/Google/Service','Cloudresourcemanager.php',248],['lib/google/src/Google/Service','Cloudresourcemanager.php',427],['lib/editor/tinymce/classes','plugin.php',447],['lib/simplepie/library/SimplePie/Parse','Date.php',567],['lib/google/src/Google/Service','TagManager.php',950],['lib/google/src/Google/Service','TagManager.php',1036],['lib/google/src/Google/Service','TagManager.php',1128],['lib/google/src/Google/Service','TagManager.php',1280],['lib/google/src/Google/Service','TagManager.php',1373],['lib/google/src/Google/Service','TagManager.php',1467],['lib/google/src/Google/Service','TagManager.php',1561],['lib/google/src/Google/Service','TagManager.php',1711],['mod/lesson','locallib.php',3248],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',163],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',34],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',68],['lib/google/src/Google/Service','Replicapoolupdater.php',338],['lib/google/src/Google/Service','Replicapoolupdater.php',489],['lib/google/src/Google/Service','Bigquery.php',552],['lib/google/src/Google/Service','Bigquery.php',668],['lib/google/src/Google/Service','Bigquery.php',879],['lib/google/src/Google/Service','ShoppingContent.php',1066],['lib/google/src/Google/Service','ShoppingContent.php',1183],['lib/google/src/Google/Service','ShoppingContent.php',1283],['lib/google/src/Google/Service','ShoppingContent.php',1346],['lib/google/src/Google/Service','ShoppingContent.php',1464],['lib/google/src/Google/Service','ShoppingContent.php',1578],['lib/google/src/Google/Service','ShoppingContent.php',1773],['lib/google/src/Google/Service','ShoppingContent.php',1986],['lib/google/src/Google/Service','ShoppingContent.php',2063],['lib/google/src/Google/Service','Webmasters.php',371],['lib/google/src/Google/Service','Webmasters.php',464],['lib/google/src/Google/Service','Webmasters.php',540],['lib','navigationlib.php',384],['lib','navigationlib.php',836],['lib','navigationlib.php',2704],['lib','navigationlib.php',3139],['lib/google/src/Google/Service','Clouddebugger.php',399],['lib/htmlpurifier/HTMLPurifier','Config.php',161],['lib/portfolio','exporter.php',134],['lib/google/src/Google/Service','Container.php',329],['lib/google/src/Google/Service','Container.php',396],['backup/cc/cc_lib/gral_lib','cssparser.php',147],['lib/horde/framework/Horde/Support','Array.php',30],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',46],['lib/google/src/Google/Service','Storage.php',1059],['lib/google/src/Google/Service','Storage.php',1175],['lib/google/src/Google/Service','Storage.php',1349],['lib/google/src/Google/Service','Storage.php',1476],['lib/google/src/Google/Service','Storage.php',1709],['cache/stores/memcache','lib.php',312],['lib/google/src/Google/Service','Genomics.php',660],['lib/google/src/Google/Service','Genomics.php',749],['lib/google/src/Google/Service','Genomics.php',918],['lib/google/src/Google/Service','Genomics.php',1007],['lib/google/src/Google/Service','Genomics.php',1185],['lib/google/src/Google/Service','Genomics.php',1268],['lib/google/src/Google/Service','Genomics.php',1340],['lib/google/src/Google/Service','Genomics.php',1475],['lib/google/src/Google/Service','Games.php',1220],['lib/google/src/Google/Service','Games.php',1339],['lib/google/src/Google/Service','Games.php',1441],['lib/google/src/Google/Service','Games.php',1699],['lib/google/src/Google/Service','Games.php',1806],['lib/google/src/Google/Service','Games.php',1948],['lib/google/src/Google/Service','Games.php',2082],['lib/google/src/Google/Service','Licensing.php',239],['lib/google/src/Google/Service','Fitness.php',417],['lib/google/src/Google/Service','Fitness.php',543],['lib/google/src/Google/Service','Reports.php',375],['lib/google/src/Google/Service','Reports.php',409],['lib/google/src/Google/Service','Gmail.php',779],['lib/google/src/Google/Service','Gmail.php',937],['lib/google/src/Google/Service','Gmail.php',1030],['lib/google/src/Google/Service','Gmail.php',1206],['lib/google/src/Google/Service','Gmail.php',1250],['lib/google/src/Google/Service','Taskqueue.php',264],['lib/google/src/Google/Service','Taskqueue.php',308],['lib/mustache/src/Mustache','HelperCollection.php',81],['cache/classes','interfaces.php',41],['lib/google/src/Google/Service','Doubleclicksearch.php',257],['lib/google/src/Google/Service','Doubleclicksearch.php',381],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',105],['lib/google/src/Google/Service','Autoscaler.php',331],['lib/google/src/Google/Service','Autoscaler.php',445],['lib/google/src/Google/Service','AdExchangeSeller.php',444],['lib/google/src/Google/Service','AdExchangeSeller.php',552],['lib/google/src/Google/Service','AdExchangeSeller.php',666],['lib/horde/framework/Horde/Imap/Client','Cache.php',88],['lib/google/src/Google/Service','Prediction.php',276],['lib/behat/classes','behat_context_helper.php',63],['lib/google/src/Google/Service','SiteVerification.php',152],['lib/google/src/Google/Service','Drive.php',1333],['lib/google/src/Google/Service','Drive.php',1369],['lib/google/src/Google/Service','Drive.php',1422],['lib/google/src/Google/Service','Drive.php',1536],['lib/google/src/Google/Service','Drive.php',1617],['lib/google/src/Google/Service','Drive.php',1792],['lib/google/src/Google/Service','Drive.php',2054],['lib/google/src/Google/Service','Drive.php',2124],['lib/google/src/Google/Service','Drive.php',2256],['lib/google/src/Google/Service','Drive.php',2350],['lib/google/src/Google/Service','Drive.php',2418],['lib/google/src/Google/Service','Drive.php',2537],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',79],['lib/google/src/Google/Service','Proximitybeacon.php',348],['lib/google/src/Google/Service','Groupssettings.php',108],['lib/google/src/Google/Service','Directory.php',1698],['lib/google/src/Google/Service','Directory.php',1766],['lib/google/src/Google/Service','Directory.php',1860],['lib/google/src/Google/Service','Directory.php',1930],['lib/google/src/Google/Service','Directory.php',2003],['lib/google/src/Google/Service','Directory.php',2072],['lib/google/src/Google/Service','Directory.php',2238],['lib/google/src/Google/Service','Directory.php',2365],['lib/google/src/Google/Service','Directory.php',2435],['lib/google/src/Google/Service','Directory.php',2531],['lib/google/src/Google/Service','Directory.php',2666],['lib/google/src/Google/Service','Directory.php',2745],['lib/google/src/Google/Service','Directory.php',2850],['lib/google/src/Google/Service','Directory.php',2954],['lib/google/src/Google/Service','Directory.php',3012],['lib/google/src/Google/Service','Directory.php',3287],['lib/google/src/Google/Service','Fusiontables.php',659],['lib/google/src/Google/Service','Fusiontables.php',826],['lib/google/src/Google/Service','Fusiontables.php',950],['lib/google/src/Google/Service','Fusiontables.php',1141],['lib/google/src/Google/Service','Fusiontables.php',1202],['lib/google/src/Google/Service','AdSenseHost.php',645],['lib/google/src/Google/Service','AdSenseHost.php',686],['lib/google/src/Google/Service','AdSenseHost.php',751],['lib/google/src/Google/Service','AdSenseHost.php',918],['lib/google/src/Google/Service','AdSenseHost.php',1026],['lib/google/src/Google/Service','Plus.php',343],['lib/google/src/Google/Service','Plus.php',418],['lib/google/src/Google/Service','Plus.php',525],['lib/google/src/Google/Service','Mirror.php',438],['lib/google/src/Google/Service','Mirror.php',523],['lib/google/src/Google/Service','Mirror.php',563],['lib/google/src/Google/Service','Mirror.php',674],['lib/google/src/Google/Service','Mirror.php',786],['lib/google/src/Google/Service','AndroidEnterprise.php',1002],['lib/google/src/Google/Service','AndroidEnterprise.php',1109],['lib/google/src/Google/Service','AndroidEnterprise.php',1196],['lib/google/src/Google/Service','AndroidEnterprise.php',1312],['lib/google/src/Google/Service','AndroidEnterprise.php',1432],['lib/google/src/Google/Service','AndroidEnterprise.php',1524],['lib/google/src/Google/Service','AndroidEnterprise.php',1616],['lib/google/src/Google/Service','AndroidEnterprise.php',1705],['lib/google/src/Google/Service','AndroidEnterprise.php',1777],['lib/google/src/Google/Service','AndroidEnterprise.php',1879],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',76],['lib/testing/classes','nasty_strings.php',73],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',52],['lib/google/src/Google/Service','Playmoviespartner.php',411],['lib/google/src/Google/Service','Playmoviespartner.php',475],['lib/google/src/Google/Service','Playmoviespartner.php',580],['lib','coursecatlib.php',212],['lib/google/src/Google/Service','Cloudtrace.php',217],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',7],['tag/classes','tag.php',190],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',65],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',27],['competency/classes','url.php',55],['lib/portfolio','caller.php',170],['lib/portfolio','caller.php',538],['lib/google/src/Google/Service','Calendar.php',919],['lib/google/src/Google/Service','Calendar.php',1086],['lib/google/src/Google/Service','Calendar.php',1285],['lib/google/src/Google/Service','Calendar.php',1387],['lib/google/src/Google/Service','Calendar.php',1431],['lib/google/src/Google/Service','Calendar.php',1873],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',78],['cache/stores/session','lib.php',225],['lib/google/src/Google/Service','Cloudbilling.php',162],['lib/google/src/Google/Service','PlusDomains.php',468],['lib/google/src/Google/Service','PlusDomains.php',593],['lib/google/src/Google/Service','PlusDomains.php',719],['lib/google/src/Google/Service','PlusDomains.php',813],['lib/google/src/Google/Service','Storagetransfer.php',248],['lib/google/src/Google/Service','Storagetransfer.php',295],['lib/google/src/Google/Service','Storagetransfer.php',396],['cache/stores/mongodb','lib.php',252],['lib/google/src/Google/Cache','Null.php',36],['lib/google/src/Google/Service','GamesConfiguration.php',265],['lib/google/src/Google/Service','GamesConfiguration.php',404],['cache/stores/file','lib.php',330],['cache/stores/memcached','lib.php',319],['lib/google/src/Google/Service','AppState.php',171],['lib/google/src/Google/Service','Resourceviews.php',354],['lib/google/src/Google/Service','Resourceviews.php',439],['lib/portfolio','plugin.php',631],['lib/google/src/Google/Service','Classroom.php',484],['lib/google/src/Google/Service','Classroom.php',724],['lib/google/src/Google/Service','Classroom.php',830],['lib/google/src/Google/Service','Classroom.php',951],['lib/google/src/Google/Service','Classroom.php',1010],['lib/google/src/Google/Service','SQLAdmin.php',804],['lib/google/src/Google/Service','SQLAdmin.php',874],['lib/google/src/Google/Service','SQLAdmin.php',1076],['lib/google/src/Google/Service','SQLAdmin.php',1298],['lib/google/src/Google/Service','SQLAdmin.php',1387],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',67],['lib/google/src/Google/Service','Compute.php',4037],['lib/google/src/Google/Service','Compute.php',4166],['lib/google/src/Google/Service','Compute.php',4299],['lib/google/src/Google/Service','Compute.php',4460],['lib/google/src/Google/Service','Compute.php',4590],['lib/google/src/Google/Service','Compute.php',4686],['lib/google/src/Google/Service','Compute.php',4845],['lib/google/src/Google/Service','Compute.php',4957],['lib/google/src/Google/Service','Compute.php',5048],['lib/google/src/Google/Service','Compute.php',5188],['lib/google/src/Google/Service','Compute.php',5264],['lib/google/src/Google/Service','Compute.php',5394],['lib/google/src/Google/Service','Compute.php',5542],['lib/google/src/Google/Service','Compute.php',5726],['lib/google/src/Google/Service','Compute.php',6001],['lib/google/src/Google/Service','Compute.php',6171],['lib/google/src/Google/Service','Compute.php',6369],['lib/google/src/Google/Service','Compute.php',6595],['lib/google/src/Google/Service','Compute.php',6655],['lib/google/src/Google/Service','Compute.php',6732],['lib/google/src/Google/Service','Compute.php',6808],['lib/google/src/Google/Service','Compute.php',6914],['lib/google/src/Google/Service','Compute.php',6977],['lib/google/src/Google/Service','Compute.php',7052],['lib/google/src/Google/Service','Compute.php',7148],['lib/google/src/Google/Service','Compute.php',7223],['lib/google/src/Google/Service','Compute.php',7315],['lib/google/src/Google/Service','Compute.php',7425],['lib/google/src/Google/Service','Compute.php',7586],['lib/google/src/Google/Service','Compute.php',7750],['lib/google/src/Google/Service','Compute.php',7955],['lib/google/src/Google/Service','Compute.php',8050],['lib/google/src/Google/Service','Compute.php',8226],['lib/google/src/Google/Service','Compute.php',8321],['lib/google/src/Google/Service','Compute.php',8384],['lib/google/src/Google/Service','Pubsub.php',255],['lib/google/src/Google/Service','Pubsub.php',394],['lib/google/src/Google/Cache','Apc.php',52],['lib/google/src/Google/Service','Dfareporting.php',4559],['lib/google/src/Google/Service','Dfareporting.php',4587],['lib/google/src/Google/Service','Dfareporting.php',4629],['lib/google/src/Google/Service','Dfareporting.php',4671],['lib/google/src/Google/Service','Dfareporting.php',4779],['lib/google/src/Google/Service','Dfareporting.php',4867],['lib/google/src/Google/Service','Dfareporting.php',5014],['lib/google/src/Google/Service','Dfareporting.php',5117],['lib/google/src/Google/Service','Dfareporting.php',5308],['lib/google/src/Google/Service','Dfareporting.php',5427],['lib/google/src/Google/Service','Dfareporting.php',5525],['lib/google/src/Google/Service','Dfareporting.php',5580],['lib/google/src/Google/Service','Dfareporting.php',5683],['lib/google/src/Google/Service','Dfareporting.php',5769],['lib/google/src/Google/Service','Dfareporting.php',5891],['lib/google/src/Google/Service','Dfareporting.php',5997],['lib/google/src/Google/Service','Dfareporting.php',6105],['lib/google/src/Google/Service','Dfareporting.php',6255],['lib/google/src/Google/Service','Dfareporting.php',6314],['lib/google/src/Google/Service','Dfareporting.php',6411],['lib/google/src/Google/Service','Dfareporting.php',6529],['lib/google/src/Google/Service','Dfareporting.php',6609],['lib/google/src/Google/Service','Dfareporting.php',6746],['lib/google/src/Google/Service','Dfareporting.php',6862],['lib/google/src/Google/Service','Dfareporting.php',6940],['lib/google/src/Google/Service','Dfareporting.php',7011],['lib/google/src/Google/Service','Dfareporting.php',7131],['lib/google/src/Google/Service','Dfareporting.php',7172],['lib/google/src/Google/Service','Dfareporting.php',7214],['lib/google/src/Google/Service','Dfareporting.php',7256],['lib/google/src/Google/Service','Dfareporting.php',7320],['lib/google/src/Google/Service','Dfareporting.php',7378],['lib/google/src/Google/Service','Dfareporting.php',7517],['lib/google/src/Google/Service','Dfareporting.php',7640],['lib/google/src/Google/Service','Dfareporting.php',7771],['lib/google/src/Google/Service','Dfareporting.php',7812],['lib/google/src/Google/Service','Dfareporting.php',7853],['lib/google/src/Google/Service','Dfareporting.php',7935],['lib/google/src/Google/Service','Dfareporting.php',7995],['lib/google/src/Google/Service','Dfareporting.php',8116],['lib/google/src/Google/Service','Dfareporting.php',8258],['lib/google/src/Google/Service','Dfareporting.php',8307],['lib/google/src/Google/Service','Dfareporting.php',8421],['lib/google/src/Google/Service','Dfareporting.php',8482],['lib/google/src/Google/Service','Dfareporting.php',8584],['lib/google/src/Google/Service','Dfareporting.php',8643],['lib/google/src/Google/Service','Dfareporting.php',8682],['lib/google/src/Google/Service','Dfareporting.php',8724],['lib/google/src/Google/Service','Dfareporting.php',8782],['lib/google/src/Google/Service','Manager.php',259],['lib/google/src/Google/Service','Manager.php',338],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',108],['lib','webdavlib.php',264]], 21532],
'trigger': ['trigger', '', [['lib/evalmath','evalmath.class.php',448],['lib/classes/event','base.php',765]], 964],
'create_subscription': ['create_subscription', 'Function to create a dummy subscription. ', [['mod/forum/tests/generator','lib.php',88],['admin/tool/monitor/tests/generator','lib.php',106],['admin/tool/monitor/classes','subscription_manager.php',42]], 45],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'event_has_subscriptions': ['event_has_subscriptions', 'Returns true if an event in a particular course has a subscription. ', [['admin/tool/monitor/classes','subscription_manager.php',400]], 1],
'deactivate_subscriptions': ['deactivate_subscriptions', 'Deactivates a group of subscriptions based on an input array of ids. ', [['admin/tool/monitor/classes','subscription_manager.php',481]], 1],
'delete_stale_subscriptions': ['delete_stale_subscriptions', 'Deletes subscriptions which have been inactive for a period of time. ', [['admin/tool/monitor/classes','subscription_manager.php',500]], 1],
'count_rule_subscriptions': ['count_rule_subscriptions', 'Get count of subscriptions for a given rule. ', [['admin/tool/monitor/classes','subscription_manager.php',385]], 4],
'get_subscriptions_by_event': ['get_subscriptions_by_event', 'Return a list of subscriptions for a given event. ', [['admin/tool/monitor/classes','subscription_manager.php',328]], 1],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'delete_subscription': ['delete_subscription', 'Delete a subscription. ', [['admin/tool/monitor/classes','subscription_manager.php',94]], 3],
'get_instances': ['get_instances', 'Obtains all module instances on this course. ', [['lib','modinfolib.php',235],['repository','lib.php',993],['admin/tool/monitor/classes','rule_manager.php',276],['admin/tool/monitor/classes','subscription_manager.php',370]], 33],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'count_user_subscriptions_for_course': ['count_user_subscriptions_for_course', 'Get count of subscriptions for a given user in a given course. ', [['admin/tool/monitor/classes','subscription_manager.php',269]], 0],
'get_recordset': ['get_recordset', 'Get the recordset. ', [['mod/glossary/classes','entry_query_builder.php',305],['lib/dml','moodle_database.php',1162]], 92],
'set_field_select': ['set_field_select', 'Set a single field in every table row where the select statement evaluates to true. ', [['lib/dml','pdo_moodle_database.php',492],['lib/dml','oci_native_moodle_database.php',1436],['lib/dml','pgsql_native_moodle_database.php',1121],['lib/dml','mssql_native_moodle_database.php',1097],['lib/dml','mysqli_native_moodle_database.php',1435],['lib/dml','sqlsrv_native_moodle_database.php',1178],['lib/dml/tests','dml_test.php',5552]], 67],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects. ', [['lib/dml','pdo_moodle_database.php',309],['lib/dml','oci_native_moodle_database.php',1145],['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','mssql_native_moodle_database.php',805],['lib/dml','mysqli_native_moodle_database.php',1057],['lib/dml','sqlsrv_native_moodle_database.php',890],['lib/dml/tests','dml_test.php',5545]], 700],
'set': ['set', 'Sets an item in the cache given its key and data value. ', [['cache/stores/static','lib.php',265],['cache','disabledlib.php',81],['search/classes','document.php',241],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',331],['lib/google/src/Google/Cache','Memcache.php',113],['lib','filelib.php',3656],['lib/adodb','adodb-active-record.inc.php',646],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',85],['lib/google/src/Google/Cache','File.php',93],['cache/classes','dummystore.php',170],['cache/classes','loaders.php',496],['cache/classes','loaders.php',1350],['cache/classes','loaders.php',1797],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',47],['lib/horde/framework/Horde','Variables.php',189],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',39],['competency/classes','persistent.php',111],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',203],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',51],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',41],['lib/google/src/Google/Service','ShoppingContent.php',1643],['lib','navigationlib.php',5131],['lib/google/src/Google/Service','Clouddebugger.php',445],['lib/htmlpurifier/HTMLPurifier','Config.php',289],['lib/portfolio','exporter.php',154],['grade/report/singleview/classes/local/ui','finalgrade.php',129],['cache/stores/memcache','lib.php',358],['lib/adodb','adodb-active-recordx.inc.php',676],['cache/classes','interfaces.php',68],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',167],['lib/horde/framework/Horde/Imap/Client','Cache.php',127],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',60],['grade/report/singleview/classes/local/ui','exclude.php',90],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',24],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',114],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',41],['lib/portfolio','caller.php',187],['cache/stores/session','lib.php',290],['cache/stores/mongodb','lib.php',305],['lib/google/src/Google/Cache','Null.php',44],['grade/report/singleview/classes/local/ui','override.php',95],['cache/stores/file','lib.php',426],['lib/phpmailer','class.phpmailer.php',3554],['grade/report/singleview/classes/local/ui','feedback.php',102],['cache/stores/memcached','lib.php',354],['lib/portfolio','plugin.php',647],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',31],['lib/google/src/Google/Service','YouTube.php',4048],['lib/google/src/Google/Service','YouTube.php',4458],['lib/google/src/Google/Cache','Apc.php',82],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',162],['lib/pear/Net/GeoIP','Location.php',125]], 4904],
'activate_subscriptions': ['activate_subscriptions', 'Activates a group of subscriptions based on an input array of ids. ', [['admin/tool/monitor/classes','subscription_manager.php',464]], 1],
'defined': ['defined', '', [], 4731],
'strtotime': ['strtotime', '', [], 245],
'is_object': ['is_object', '', [], 544],
'is_null': ['is_null', '', [], 2003],
'count': ['count', '', [], 4095],
'time': ['time', '', [], 1959]};
CLASS_DATA={
'cache': ['cache', 'The main cache class. ', [['cache/classes','loaders.php',31]], 284],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6817]], 1323],
'subscription_manager': ['subscription_manager', 'Class to manage subscriptions. ', [['admin/tool/monitor/classes','subscription_manager.php',29]], 61],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147],
'subscription_created': ['subscription_created', 'The mod_forum subscription created event class. ', [['mod/forum/classes/event','subscription_created.php',29],['admin/tool/monitor/classes/event','subscription_created.php',29]], 6],
'subscription': ['subscription', 'Class represents a single subscription instance (i.e with all the subscription info). ', [['admin/tool/monitor/classes','subscription.php',29]], 4],
'subscription_deleted': ['subscription_deleted', 'The mod_forum subscription deleted event class. ', [['mod/forum/classes/event','subscription_deleted.php',29],['admin/tool/monitor/classes/event','subscription_deleted.php',29]], 7]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'CONTEXT_MODULE': ['CONTEXT_MODULE', '', [['lib','accesslib.php',150]], 466],
'IGNORE_MISSING': ['IGNORE_MISSING', '', [['lib','dmllib.php',48]], 215],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
