<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /admin/mnet/services.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='admin/mnet';
filename='services.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/admin/mnet/</a> -> <a href="services.php.html">services.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="services.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="services.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">//</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">//</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">//</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l17"><span class="linenum">  17</span></a>  
<a name="l18"><span class="linenum">  18</span></a>  
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment">/**</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * This page is for configuring which services are published/subscribed on a host</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> *</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @package    core</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @subpackage mnet</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @copyright  2010 Penny Leach</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> */</span>
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <a class="function" onClick="logFunction('require')" href="../../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(__DIR__.'/../../config.php');
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/adminlib.php');
<a name="l30"><span class="linenum">  30</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../admin/mnet/services_form.php.html">/admin/mnet/services_form.php</a>');
<a name="l31"><span class="linenum">  31</span></a>  <a class="var it1357" onMouseOver="hilite(1357)" onMouseOut="lolite()" onClick="logVariable('mnet')" href="../../_variables/mnet.html">$mnet</a> = <a class="function" onClick="logFunction('get_mnet_environment')" href="../../_functions/get_mnet_environment.html" onMouseOver="funcPopup(event,'get_mnet_environment')">get_mnet_environment</a>();
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <a class="function" onClick="logFunction('require_login')" href="../../_functions/require_login.html" onMouseOver="funcPopup(event,'require_login')">require_login</a>();
<a name="l34"><span class="linenum">  34</span></a>  <a class="function" onClick="logFunction('admin_externalpage_setup')" href="../../_functions/admin_externalpage_setup.html" onMouseOver="funcPopup(event,'admin_externalpage_setup')">admin_externalpage_setup</a>('mnetpeers');
<a name="l35"><span class="linenum">  35</span></a>  
<a name="l36"><span class="linenum">  36</span></a>  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l37"><span class="linenum">  37</span></a>  <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, true, &quot;nopermissions&quot;);
<a name="l38"><span class="linenum">  38</span></a>  
<a name="l39"><span class="linenum">  39</span></a>  <a class="var it896" onMouseOver="hilite(896)" onMouseOut="lolite()" onClick="logVariable('hostid')" href="../../_variables/hostid.html">$hostid</a> = <a class="function" onClick="logFunction('required_param')" href="../../_functions/required_param.html" onMouseOver="funcPopup(event,'required_param')">required_param</a>('hostid', <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>  <a class="var it1361" onMouseOver="hilite(1361)" onMouseOut="lolite()" onClick="logVariable('mnet_peer')" href="../../_variables/mnet_peer.html">$mnet_peer</a> = <span class="keyword">new </span><a class="class" onClick="logClass('mnet_peer')" href="../../_classes/mnet_peer.html" onMouseOver="classPopup(event,'mnet_peer')">mnet_peer</a>();
<a name="l42"><span class="linenum">  42</span></a>  <a class="var it1361" onMouseOver="hilite(1361)" onMouseOut="lolite()" onClick="logVariable('mnet_peer')" href="../../_variables/mnet_peer.html">$mnet_peer</a>-&gt;<a class="function" onClick="logFunction('set_id')" href="../../_functions/set_id.html" onMouseOver="funcPopup(event,'set_id')">set_id</a>(<a class="var it896" onMouseOver="hilite(896)" onMouseOut="lolite()" onClick="logVariable('hostid')" href="../../_variables/hostid.html">$hostid</a>);
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>  <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a> = <span class="keyword">new </span><a class="class" onClick="logClass('mnet_services_form')" href="../../_classes/mnet_services_form.html" onMouseOver="classPopup(event,'mnet_services_form')">mnet_services_form</a>(null, array('peer' =&gt; <a class="var it1361" onMouseOver="hilite(1361)" onMouseOut="lolite()" onClick="logVariable('mnet_peer')" href="../../_variables/mnet_peer.html">$mnet_peer</a>));
<a name="l45"><span class="linenum">  45</span></a>  if (<a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a> = <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>()) {
<a name="l46"><span class="linenum">  46</span></a>      if (!isset(<a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('publish')" class="var it43216" onMouseOver="hilite(43216)" onMouseOut="lolite()" href="../../_variables/publish.html">publish</a>)) {
<a name="l47"><span class="linenum">  47</span></a>          <a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('publish')" class="var it43216" onMouseOver="hilite(43216)" onMouseOut="lolite()" href="../../_variables/publish.html">publish</a> = array();
<a name="l48"><span class="linenum">  48</span></a>      }
<a name="l49"><span class="linenum">  49</span></a>      if (!isset(<a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('subscribe')" class="var it43216" onMouseOver="hilite(43216)" onMouseOut="lolite()" href="../../_variables/subscribe.html">subscribe</a>)) {
<a name="l50"><span class="linenum">  50</span></a>          <a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('subscribe')" class="var it43216" onMouseOver="hilite(43216)" onMouseOut="lolite()" href="../../_variables/subscribe.html">subscribe</a> = array();
<a name="l51"><span class="linenum">  51</span></a>      }
<a name="l52"><span class="linenum">  52</span></a>      foreach(<a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('exists')" class="var it43216" onMouseOver="hilite(43216)" onMouseOut="lolite()" href="../../_variables/exists.html">exists</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l53"><span class="linenum">  53</span></a>          <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>   = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('mnet_host2service', array('hostid'=&gt;<a class="var it896" onMouseOver="hilite(896)" onMouseOut="lolite()" onClick="logVariable('hostid')" href="../../_variables/hostid.html">$hostid</a>, 'serviceid'=&gt;<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>));
<a name="l54"><span class="linenum">  54</span></a>          <a class="var it20017" onMouseOver="hilite(20017)" onMouseOut="lolite()" onClick="logVariable('publish')" href="../../_variables/publish.html">$publish</a>        = (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, <a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('publish')" class="var it43216" onMouseOver="hilite(43216)" onMouseOut="lolite()" href="../../_variables/publish.html">publish</a>)) ? <a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('publish')" class="var it43216" onMouseOver="hilite(43216)" onMouseOut="lolite()" href="../../_variables/publish.html">publish</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] : 0;
<a name="l55"><span class="linenum">  55</span></a>          <a class="var it5353" onMouseOver="hilite(5353)" onMouseOut="lolite()" onClick="logVariable('subscribe')" href="../../_variables/subscribe.html">$subscribe</a>      = (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, <a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('subscribe')" class="var it43216" onMouseOver="hilite(43216)" onMouseOut="lolite()" href="../../_variables/subscribe.html">subscribe</a>)) ? <a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('subscribe')" class="var it43216" onMouseOver="hilite(43216)" onMouseOut="lolite()" href="../../_variables/subscribe.html">subscribe</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] : 0;
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>          if (<a class="var it20017" onMouseOver="hilite(20017)" onMouseOut="lolite()" onClick="logVariable('publish')" href="../../_variables/publish.html">$publish</a> != 1 &amp;&amp; <a class="var it5353" onMouseOver="hilite(5353)" onMouseOut="lolite()" onClick="logVariable('subscribe')" href="../../_variables/subscribe.html">$subscribe</a> != 1) {
<a name="l58"><span class="linenum">  58</span></a>              if (false == <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>) {
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">                // We don't have or need a record - do nothing!</span>
<a name="l60"><span class="linenum">  60</span></a>              } else {
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">                // We don't need the record - delete it</span>
<a name="l62"><span class="linenum">  62</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('mnet_host2service', array('hostid' =&gt; <a class="var it896" onMouseOver="hilite(896)" onMouseOut="lolite()" onClick="logVariable('hostid')" href="../../_variables/hostid.html">$hostid</a>, 'serviceid'=&gt;<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>));
<a name="l63"><span class="linenum">  63</span></a>              }
<a name="l64"><span class="linenum">  64</span></a>          } elseif (false == <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a> &amp;&amp; (<a class="var it20017" onMouseOver="hilite(20017)" onMouseOut="lolite()" onClick="logVariable('publish')" href="../../_variables/publish.html">$publish</a> == 1 || <a class="var it5353" onMouseOver="hilite(5353)" onMouseOut="lolite()" onClick="logVariable('subscribe')" href="../../_variables/subscribe.html">$subscribe</a> == 1)) {
<a name="l65"><span class="linenum">  65</span></a>              <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a> = new stdClass();
<a name="l66"><span class="linenum">  66</span></a>              <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>-&gt;<a onClick="logVariable('hostid')" class="var it45252" onMouseOver="hilite(45252)" onMouseOut="lolite()" href="../../_variables/hostid.html">hostid</a> = <a class="var it896" onMouseOver="hilite(896)" onMouseOut="lolite()" onClick="logVariable('hostid')" href="../../_variables/hostid.html">$hostid</a>;
<a name="l67"><span class="linenum">  67</span></a>              <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>-&gt;<a onClick="logVariable('serviceid')" class="var it45252" onMouseOver="hilite(45252)" onMouseOut="lolite()" href="../../_variables/serviceid.html">serviceid</a> = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>;
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>              <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>-&gt;<a onClick="logVariable('publish')" class="var it45252" onMouseOver="hilite(45252)" onMouseOut="lolite()" href="../../_variables/publish.html">publish</a> = <a class="var it20017" onMouseOver="hilite(20017)" onMouseOut="lolite()" onClick="logVariable('publish')" href="../../_variables/publish.html">$publish</a>;
<a name="l70"><span class="linenum">  70</span></a>              <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>-&gt;<a onClick="logVariable('subscribe')" class="var it45252" onMouseOver="hilite(45252)" onMouseOut="lolite()" href="../../_variables/subscribe.html">subscribe</a> = <a class="var it5353" onMouseOver="hilite(5353)" onMouseOut="lolite()" onClick="logVariable('subscribe')" href="../../_variables/subscribe.html">$subscribe</a>;
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>              <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>-&gt;<a onClick="logVariable('id')" class="var it45252" onMouseOver="hilite(45252)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('mnet_host2service', <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>);
<a name="l73"><span class="linenum">  73</span></a>          } elseif (<a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>-&gt;<a onClick="logVariable('publish')" class="var it45252" onMouseOver="hilite(45252)" onMouseOut="lolite()" href="../../_variables/publish.html">publish</a> != <a class="var it20017" onMouseOver="hilite(20017)" onMouseOut="lolite()" onClick="logVariable('publish')" href="../../_variables/publish.html">$publish</a> || <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>-&gt;<a onClick="logVariable('subscribe')" class="var it45252" onMouseOver="hilite(45252)" onMouseOut="lolite()" href="../../_variables/subscribe.html">subscribe</a> != <a class="var it5353" onMouseOver="hilite(5353)" onMouseOut="lolite()" onClick="logVariable('subscribe')" href="../../_variables/subscribe.html">$subscribe</a>) {
<a name="l74"><span class="linenum">  74</span></a>              <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>-&gt;<a onClick="logVariable('publish')" class="var it45252" onMouseOver="hilite(45252)" onMouseOut="lolite()" href="../../_variables/publish.html">publish</a>   = <a class="var it20017" onMouseOver="hilite(20017)" onMouseOut="lolite()" onClick="logVariable('publish')" href="../../_variables/publish.html">$publish</a>;
<a name="l75"><span class="linenum">  75</span></a>              <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>-&gt;<a onClick="logVariable('subscribe')" class="var it45252" onMouseOver="hilite(45252)" onMouseOut="lolite()" href="../../_variables/subscribe.html">subscribe</a> = <a class="var it5353" onMouseOver="hilite(5353)" onMouseOut="lolite()" onClick="logVariable('subscribe')" href="../../_variables/subscribe.html">$subscribe</a>;
<a name="l76"><span class="linenum">  76</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('mnet_host2service', <a class="var it20018" onMouseOver="hilite(20018)" onMouseOut="lolite()" onClick="logVariable('host2service')" href="../../_variables/host2service.html">$host2service</a>);
<a name="l77"><span class="linenum">  77</span></a>          }
<a name="l78"><span class="linenum">  78</span></a>      }
<a name="l79"><span class="linenum">  79</span></a>      <a class="var it9509" onMouseOver="hilite(9509)" onMouseOut="lolite()" onClick="logVariable('redirecturl')" href="../../_variables/redirecturl.html">$redirecturl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/admin/mnet/services.php?hostid=' . <a class="var it896" onMouseOver="hilite(896)" onMouseOut="lolite()" onClick="logVariable('hostid')" href="../../_variables/hostid.html">$hostid</a>);
<a name="l80"><span class="linenum">  80</span></a>      <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it9509" onMouseOver="hilite(9509)" onMouseOut="lolite()" onClick="logVariable('redirecturl')" href="../../_variables/redirecturl.html">$redirecturl</a>, <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('changessaved'));
<a name="l81"><span class="linenum">  81</span></a>  }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>  echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="phpfunction" onClick="logFunction('header')" href="../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>();
<a name="l84"><span class="linenum">  84</span></a>  <a class="var it1248" onMouseOver="hilite(1248)" onMouseOut="lolite()" onClick="logVariable('currenttab')" href="../../_variables/currenttab.html">$currenttab</a> = 'mnetservices';
<a name="l85"><span class="linenum">  85</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../admin/mnet/tabs.php.html">/admin/mnet/tabs.php</a>');
<a name="l86"><span class="linenum">  86</span></a>  echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>();
<a name="l87"><span class="linenum">  87</span></a>  <a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a> = <a class="function" onClick="logFunction('mnet_get_service_info')" href="../../_functions/mnet_get_service_info.html" onMouseOver="funcPopup(event,'mnet_get_service_info')">mnet_get_service_info</a>(<a class="var it1361" onMouseOver="hilite(1361)" onMouseOut="lolite()" onClick="logVariable('mnet_peer')" href="../../_variables/mnet_peer.html">$mnet_peer</a>, false); <span class="comment">// basic data only</span>
<a name="l88"><span class="linenum">  88</span></a>  <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('set_data')" href="../../_functions/set_data.html" onMouseOver="funcPopup(event,'set_data')">set_data</a>(<a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>);
<a name="l89"><span class="linenum">  89</span></a>  <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('display')" href="../../_functions/display.html" onMouseOver="funcPopup(event,'display')">display</a>();
<a name="l90"><span class="linenum">  90</span></a>  echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>  echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'require_login': ['require_login', 'This function checks that the current user is logged in and has the required privileges ', [['lib','moodlelib.php',2449]], 636],
'box_end': ['box_end', 'Outputs the closing section of a box. ', [['lib','outputrenderers.php',3117]], 257],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'set_id': ['set_id', 'Setter for $id. ', [['lib/classes/task','adhoc_task.php',43],['lib/classes/message/inbound','handler.php',100],['blocks/rss_client/classes/output','item.php',140],['mnet','peer.php',253]], 26],
'required_param': ['required_param', 'Returns a particular value for the named variable, taken from POST or GET.  If the parameter doesn\'t exist then an error is thrown because we require this variable. ', [['lib','moodlelib.php',525]], 815],
'require': ['require', '', [['lib/yuilib/3.17.2/timers','timers.js',27],['lib/yuilib/3.17.2/timers','timers-debug.js',27]], 615],
'display': ['display', 'Displays the form ', [['backup/util/ui','base_moodleform.class.php',365],['mod/feedback/classes','complete_form.php',536],['lib/minify/lib/Minify/Cache','APC.php',79],['mod/lesson/pagetypes','numerical.php',50],['mod/scorm/report/interactions/classes','report.php',31],['mod/scorm/report/basic/classes','report.php',30],['backup/util/ui','restore_ui.class.php',375],['mod/scorm/report/objectives/classes','report.php',37],['mod/lesson/pagetypes','endofcluster.php',39],['mod/lesson/pagetypes','matching.php',50],['mod/feedback/classes','responses_table.php',344],['user/selector','lib.php',205],['lib/minify/lib/Minify/Cache','File.php',72],['lib','formslib.php',935],['backup/util/ui','base_ui.class.php',169],['mod/lesson/pagetypes','multichoice.php',87],['question/classes/bank','column_base.php',164],['cohort','upload_form.php',316],['mod/quiz/report/statistics','report.php',51],['admin/roles/classes','capability_table_with_risks.php',131],['mod/lesson/pagetypes','truefalse.php',50],['admin/roles/classes','capability_table_base.php',71],['mod/quiz/report/overview','report.php',42],['mod/feedback/classes','templates_table.php',62],['lib/minify/lib/Minify/Cache','ZendPlatform.php',84],['mod/lesson/pagetypes','endofbranch.php',39],['mod/scorm/classes','report.php',39],['backup/util/ui','import_extensions.php',154],['question/classes/bank','view.php',451],['backup/util/ui','backup_ui_stage.class.php',545],['backup/util/ui','backup_ui_stage.class.php',588],['mod/quiz/report/grading','report.php',51],['mod/lesson/pagetypes','shortanswer.php',50],['lib/pear/HTML','Common.php',438],['mod/lesson/pagetypes','essay.php',67],['lib/minify/lib/Minify/Cache','Memcache.php',85],['backup/util/ui','base_ui_stage.class.php',126],['mod/scorm/report/graphs/classes','report.php',127],['mod/lesson/pagetypes','branchtable.php',105],['repository/flickr_public','image.php',149],['admin/roles/classes','define_role_table_advanced.php',612],['mod/quiz/report/responses','report.php',51],['mod/lesson/pagetypes','cluster.php',39],['lib/minify/lib/Minify/Cache','WinCache.php',79],['lib/minify/lib/Minify/Cache','XCache.php',74],['course/format/singleactivity','renderer.php',36],['backup/util/ui','restore_ui_stage.class.php',355],['backup/util/ui','restore_ui_stage.class.php',497],['backup/util/ui','restore_ui_stage.class.php',1025],['backup/util/ui','restore_ui_stage.class.php',1112]], 320],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'mnet_get_service_info': ['mnet_get_service_info', 'return an array information about services enabled for the given peer. in two modes, fulldata or very basic data. ', [['mnet','lib.php',698]], 2],
'box_start': ['box_start', 'Outputs the opening section of a box. ', [['lib','outputrenderers.php',3102]], 259],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'redirect': ['redirect', '', [['enrol/lti/ims-blti','blti.php',230],['lib','weblib.php',2659]], 999],
'admin_externalpage_setup': ['admin_externalpage_setup', 'Initialise admin page - this function does require login and permission checks specified in page definition. ', [['lib','adminlib.php',7133]], 144],
'get_data': ['get_data', '', [['mod/scorm','mod_form.php',526],['mod/feedback/item/multichoicerated','multichoicerated_form.php',96],['backup/util/structure','restore_path_element.class.php',118],['admin/tool/uploaduser','user_form.php',399],['mod/feedback/item/textfield','textfield_form.php',58],['admin/tool/lp/classes/form','persistent.php',202],['grade/export','grade_export_form.php',206],['mod/feedback','mod_form.php',163],['message/tests','inbound_test.php',632],['mod/feedback/item/textarea','textarea_form.php',57],['mod/survey','mod_form.php',49],['lib/simplepie/library/SimplePie','Parser.php',263],['lib','formslib.php',606],['mod/feedback/item/numeric','numeric_form.php',60],['admin/tool/uploadcourse/classes','course.php',269],['mod/feedback/item','feedback_item_class.php',52],['mod/feedback/item','feedback_item_class.php',264],['admin/webservice','forms.php',299],['grade/grading/form','lib.php',841],['blocks/rss_client','editfeed.php',101],['mod/lesson','mod_form.php',417],['grade/grading/form/guide','edit_form.php',142],['course','editsection_form.php',105],['lib/classes/event','base.php',647],['grade/grading/form/rubric','edit_form.php',136],['mod/feedback/item','feedback_item_form_class.php',112],['admin/tool/filetypes','edit_form.php',97],['mod/forum','mod_form.php',270],['mod/scorm/report/graphs/classes','report.php',49],['lib/classes/message/inbound','address_manager.php',361],['mod/workshop','locallib.php',3990],['mod/glossary','mod_form.php',203],['mod/feedback/item/captcha','lib.php',67],['lib','completionlib.php',869],['mod/feedback/item/multichoice','multichoice_form.php',93],['mod/choice','mod_form.php',121]], 388],
'set_data': ['set_data', '', [['mod/scorm','mod_form.php',456],['mod/feedback/item/multichoicerated','multichoicerated_form.php',84],['backup/util/structure','restore_path_element.class.php',95],['course','moodleform_mod.php',458],['blocks/html','edit_form.php',53],['question/type','edit_question_form.php',450],['question/type/random','edit_random_form.php',68],['lib','formslib.php',456],['question/type/missingtype','edit_missingtype_form.php',52],['badges','edit_form.php',137],['blocks','edit_form.php',255],['course','editsection_form.php',88],['admin/tool/filetypes','edit_form.php',83],['question','category_form.php',73],['lib/classes/message/inbound','address_manager.php',146],['question/type/multianswer','edit_multianswer_form.php',262],['cache','forms.php',242],['question/type/calculated','datasetitems_form.php',360],['mod/feedback/item/multichoice','multichoice_form.php',79]], 235],
'footer': ['footer', 'This method is used to render the page footer. It is automatically called by AddPage() and could be overwritten in your own inherited class. ', [['lib/tcpdf','tcpdf.php',3464],['lib','outputrenderers.php',1034],['lib','outputrenderers.php',4427],['lib','outputrenderers.php',4546],['mod/lesson','renderer.php',78]], 810],
'get_mnet_environment': ['get_mnet_environment', 'helper function to load up and initialise the mnet environment this must be called before you use mnet functions. ', [['lib','moodlelib.php',9446]], 14],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'header': ['header', '', [], 1355],
'array_key_exists': ['array_key_exists', '', [], 1445]};
CLASS_DATA={
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088],
'mnet_services_form': ['mnet_services_form', '', [['admin/mnet','services_form.php',34]], 1],
'mnet_peer': ['mnet_peer', '', [['mnet','peer.php',13]], 28],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147]};
CONST_DATA={
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
