<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of lib.php</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='user/selector';
filename='lib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/user/selector/</a> -> <a href="lib.php.source.html">lib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="lib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../_stats.html">Project Stats</a>]</p>
<p><b>Code for ajax user selectors.</b></p>
<table>
<tr><td align="right">Copyright: </td><td>1999 onwards Martin Dougiamas  http://dougiamas.com</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>919 lines (35 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>8 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 2 classes</h3>
<div class="inset">
<p><b>group_members_selector::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#find_users">find_users</a>()<br>
</p>
<p><b>group_non_members_selector::</b> (4 methods):<br>
&nbsp;&nbsp;<a href="#output_user">output_user</a>()<br>
&nbsp;&nbsp;<a href="#get_js_module">get_js_module</a>()<br>
&nbsp;&nbsp;<a href="#print_user_summaries">print_user_summaries</a>()<br>
&nbsp;&nbsp;<a href="#find_users">find_users</a>()<br>
</p>
</div>
<h3>Defines 4 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#exclude">exclude</a>()<br>
&nbsp;&nbsp;<a href="#clear_exclusions">clear_exclusions</a>()<br>
&nbsp;&nbsp;<a href="#get_exclusions">get_exclusions</a>()<br>
&nbsp;&nbsp;<a href="#get_selected_users">get_selected_users</a>()<br>
&nbsp;&nbsp;<a href="#get_selected_user">get_selected_user</a>()<br>
&nbsp;&nbsp;<a href="#invalidate_selected_users">invalidate_selected_users</a>()<br>
&nbsp;&nbsp;<a href="#display">display</a>()<br>
&nbsp;&nbsp;<a href="#set_rows">set_rows</a>()<br>
&nbsp;&nbsp;<a href="#get_rows">get_rows</a>()<br>
&nbsp;&nbsp;<a href="#set_multiselect">set_multiselect</a>()<br>
&nbsp;&nbsp;<a href="#is_multiselect">is_multiselect</a>()<br>
&nbsp;&nbsp;<a href="#get_name">get_name</a>()<br>
&nbsp;&nbsp;<a href="#set_extra_fields">set_extra_fields</a>()<br>
&nbsp;&nbsp;<a href="#get_options">get_options</a>()<br>
&nbsp;&nbsp;<a href="#is_validating">is_validating</a>()<br>
&nbsp;&nbsp;<a href="#load_selected_users">load_selected_users</a>()<br>
&nbsp;&nbsp;<a href="#required_fields_sql">required_fields_sql</a>()<br>
&nbsp;&nbsp;<a href="#search_sql">search_sql</a>()<br>
&nbsp;&nbsp;<a href="#too_many_results">too_many_results</a>()<br>
&nbsp;&nbsp;<a href="#output_options">output_options</a>()<br>
&nbsp;&nbsp;<a href="#output_optgroup">output_optgroup</a>()<br>
&nbsp;&nbsp;<a href="#output_user">output_user</a>()<br>
&nbsp;&nbsp;<a href="#search_button_caption">search_button_caption</a>()<br>
&nbsp;&nbsp;<a href="#initialise_option">initialise_option</a>()<br>
&nbsp;&nbsp;<a href="#option_checkbox">option_checkbox</a>()<br>
&nbsp;&nbsp;<a href="#initialise_javascript">initialise_javascript</a>()<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#get_options">get_options</a>()<br>
&nbsp;&nbsp;<a href="#convert_array_format">convert_array_format</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="group_members_selector"><b>group_members_selector</b></a>&nbsp;&nbsp;- <a href="../../_classes/group_members_selector.html"><small>X-Ref</small></a>
</p>
<b>User selector subclass for the list of users who are in a certain group.<BR>
</b><br>
Used on the add group memebers page.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_users" onClick="logFunction('find_users', 'lib.php.source.html#l745')" href="lib.php.source.html#l745">find_users</a>(<a href="../../_variables/search.html">$search</a>)&nbsp;&nbsp;
<a href="../../_functions/find_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finds users to display in this control.<BR>
</b><BR><b>param:</b> string $search<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="group_non_members_selector"><b>group_non_members_selector</b></a>&nbsp;&nbsp;- <a href="../../_classes/group_non_members_selector.html"><small>X-Ref</small></a>
</p>
<b>User selector subclass for the list of users who are not in a certain group.<BR>
</b><br>
Used on the add group members page.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="output_user" onClick="logFunction('output_user', 'lib.php.source.html#l778')" href="lib.php.source.html#l778">output_user</a>(<a href="../../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../../_functions/output_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Output user.<BR>
</b><BR><b>param:</b> stdClass $user<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_js_module" onClick="logFunction('get_js_module', 'lib.php.source.html#l788')" href="lib.php.source.html#l788">get_js_module</a>()&nbsp;&nbsp;
<a href="../../_functions/get_js_module.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the user selector JavaScript module<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="print_user_summaries" onClick="logFunction('print_user_summaries', 'lib.php.source.html#l796')" href="lib.php.source.html#l796">print_user_summaries</a>(<a href="../../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../../_functions/print_user_summaries.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a global JS variable (userSummaries) that is used by the group selector<BR>
to print related information when the user clicks on a user in the groups UI.<BR>
</b><BR>Used by /group/clientlib.js<BR>
<BR>
<b>param:</b> int $courseid<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_users" onClick="logFunction('find_users', 'lib.php.source.html#l845')" href="lib.php.source.html#l845">find_users</a>(<a href="../../_variables/search.html">$search</a>)&nbsp;&nbsp;
<a href="../../_functions/find_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finds users to display in this control.<BR>
</b><BR><b>param:</b> string $search<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'lib.php.source.html#l85')" href="lib.php.source.html#l85">__construct</a>(<a href="../../_variables/name.html">$name</a>, <a href="../../_variables/options.html">$options</a> = array()&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor. Each subclass must have a constructor with this signature.<BR>
</b><BR><b>param:</b> string $name the control name/id for use in the HTML.<br>
<b>param:</b> array $options other options needed to construct this selector.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="exclude" onClick="logFunction('exclude', 'lib.php.source.html#l130')" href="lib.php.source.html#l130">exclude</a>(<a href="../../_variables/arrayofuserids.html">$arrayofuserids</a>)&nbsp;&nbsp;
<a href="../../_functions/exclude.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>All to the list of user ids that this control will not select.<BR>
</b><BR>For example, on the role assign page, we do not list the users who already have the role in question.<BR>
<BR>
<b>param:</b> array $arrayofuserids the user ids to exclude.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clear_exclusions" onClick="logFunction('clear_exclusions', 'lib.php.source.html#l141')" href="lib.php.source.html#l141">clear_exclusions</a>()&nbsp;&nbsp;
<a href="../../_functions/clear_exclusions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Clear the list of excluded user ids.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_exclusions" onClick="logFunction('get_exclusions', 'lib.php.source.html#l148')" href="lib.php.source.html#l148">get_exclusions</a>()&nbsp;&nbsp;
<a href="../../_functions/get_exclusions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the list of user ids that this control will not select.<BR>
</b><BR><b>return:</b> array the list of user ids that this control will not select.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_selected_users" onClick="logFunction('get_selected_users', 'lib.php.source.html#l157')" href="lib.php.source.html#l157">get_selected_users</a>()&nbsp;&nbsp;
<a href="../../_functions/get_selected_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>The users that were selected.<BR>
</b><BR>This is a more sophisticated version of optional_param($this-&gt;name, array(), PARAM_INT) that validates the<BR>
returned list of ids against the rules for this user selector.<BR>
<BR>
<b>return:</b> array of user objects.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_selected_user" onClick="logFunction('get_selected_user', 'lib.php.source.html#l173')" href="lib.php.source.html#l173">get_selected_user</a>()&nbsp;&nbsp;
<a href="../../_functions/get_selected_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Convenience method for when multiselect is false (throws an exception if not).<BR>
</b><BR><b>return:</b> object the selected user object, or null if none.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="invalidate_selected_users" onClick="logFunction('invalidate_selected_users', 'lib.php.source.html#l193')" href="lib.php.source.html#l193">invalidate_selected_users</a>()&nbsp;&nbsp;
<a href="../../_functions/invalidate_selected_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Invalidates the list of selected users.<BR>
</b><BR>If you update the database in such a way that it is likely to change the<BR>
list of users that this component is allowed to select from, then you<BR>
must call this method. For example, on the role assign page, after you have<BR>
assigned some roles to some users, you should call this.<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="display" onClick="logFunction('display', 'lib.php.source.html#l205')" href="lib.php.source.html#l205">display</a>(<a href="../../_variables/return.html">$return</a> = false)&nbsp;&nbsp;
<a href="../../_functions/display.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Output this user_selector as HTML.<BR>
</b><BR><b>param:</b> boolean $return if true, return the HTML as a string instead of outputting it.<br>
<b>return:</b> mixed if $return is true, returns the HTML as a string, otherwise returns nothing.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_rows" onClick="logFunction('set_rows', 'lib.php.source.html#l273')" href="lib.php.source.html#l273">set_rows</a>(<a href="../../_variables/numrows.html">$numrows</a>)&nbsp;&nbsp;
<a href="../../_functions/set_rows.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>The height this control will be displayed, in rows.<BR>
</b><BR><b>param:</b> integer $numrows the desired height.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_rows" onClick="logFunction('get_rows', 'lib.php.source.html#l282')" href="lib.php.source.html#l282">get_rows</a>()&nbsp;&nbsp;
<a href="../../_functions/get_rows.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the number of rows to display in this control.<BR>
</b><BR><b>return:</b> integer the height this control will be displayed, in rows.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_multiselect" onClick="logFunction('set_multiselect', 'lib.php.source.html#l291')" href="lib.php.source.html#l291">set_multiselect</a>(<a href="../../_variables/multiselect.html">$multiselect</a>)&nbsp;&nbsp;
<a href="../../_functions/set_multiselect.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Whether this control will allow selection of many, or just one user.<BR>
</b><BR><b>param:</b> boolean $multiselect true = allow multiple selection.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_multiselect" onClick="logFunction('is_multiselect', 'lib.php.source.html#l300')" href="lib.php.source.html#l300">is_multiselect</a>()&nbsp;&nbsp;
<a href="../../_functions/is_multiselect.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true is multiselect should be allowed.<BR>
</b><BR><b>return:</b> boolean whether this control will allow selection of more than one user.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_name" onClick="logFunction('get_name', 'lib.php.source.html#l309')" href="lib.php.source.html#l309">get_name</a>()&nbsp;&nbsp;
<a href="../../_functions/get_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the id/name of this control.<BR>
</b><BR><b>return:</b> string the id/name that this control will have in the HTML.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_extra_fields" onClick="logFunction('set_extra_fields', 'lib.php.source.html#l318')" href="lib.php.source.html#l318">set_extra_fields</a>(<a href="../../_variables/fields.html">$fields</a>)&nbsp;&nbsp;
<a href="../../_functions/set_extra_fields.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the user fields that are displayed in the selector in addition to the user's name.<BR>
</b><BR><b>param:</b> array $fields a list of field names that exist in the user table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_options" onClick="logFunction('get_options', 'lib.php.source.html#l356')" href="lib.php.source.html#l356">get_options</a>()&nbsp;&nbsp;
<a href="../../_functions/get_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Note: this function must be implemented if you use the search ajax field<BR>
(e.g. set $options['file'] = '/admin/filecontainingyourclass.php';)<BR>
</b><BR><b>return:</b> array the options needed to recreate this user_selector.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_validating" onClick="logFunction('is_validating', 'lib.php.source.html#l373')" href="lib.php.source.html#l373">is_validating</a>()&nbsp;&nbsp;
<a href="../../_functions/is_validating.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if this control is validating a list of users.<BR>
</b><BR><b>return:</b> boolean if true, we are validating a list of selected users,<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_selected_users" onClick="logFunction('load_selected_users', 'lib.php.source.html#l383')" href="lib.php.source.html#l383">load_selected_users</a>()&nbsp;&nbsp;
<a href="../../_functions/load_selected_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the list of users that were selected by doing optional_param then validating the result.<BR>
</b><BR><b>return:</b> array of user objects.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="required_fields_sql" onClick="logFunction('required_fields_sql', 'lib.php.source.html#l423')" href="lib.php.source.html#l423">required_fields_sql</a>(<a href="../../_variables/u.html">$u</a>)&nbsp;&nbsp;
<a href="../../_functions/required_fields_sql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns SQL to select required fields.<BR>
</b><BR><b>param:</b> string $u the table alias for the user table in the query being<br>
<b>return:</b> string fragment of SQL to go in the select list of the query.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="search_sql" onClick="logFunction('search_sql', 'lib.php.source.html#l445')" href="lib.php.source.html#l445">search_sql</a>(<a href="../../_variables/search.html">$search</a>, <a href="../../_variables/u.html">$u</a>)&nbsp;&nbsp;
<a href="../../_functions/search_sql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array with SQL to perform a search and the params that go into it.<BR>
</b><BR><b>param:</b> string $search the text to search for.<br>
<b>param:</b> string $u the table alias for the user table in the query being<br>
<b>return:</b> array an array with two elements, a fragment of SQL to go in the<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="too_many_results" onClick="logFunction('too_many_results', 'lib.php.source.html#l460')" href="lib.php.source.html#l460">too_many_results</a>(<a href="../../_variables/search.html">$search</a>, <a href="../../_variables/count.html">$count</a>)&nbsp;&nbsp;
<a href="../../_functions/too_many_results.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Used to generate a nice message when there are too many users to show.<BR>
</b><BR>The message includes the number of users that currently match, and the<BR>
text of the message depends on whether the search term is non-blank.<BR>
<BR>
<b>param:</b> string $search the search term, as passed in to the find users method.<br>
<b>param:</b> int $count the number of users that currently match.<br>
<b>return:</b> array in the right format to return from the find_users method.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="output_options" onClick="logFunction('output_options', 'lib.php.source.html#l483')" href="lib.php.source.html#l483">output_options</a>(<a href="../../_variables/groupedusers.html">$groupedusers</a>, <a href="../../_variables/search.html">$search</a>)&nbsp;&nbsp;
<a href="../../_functions/output_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Output the list of &lt;optgroup&gt;s and &lt;options&gt;s that go inside the select.<BR>
</b><BR>This method should do the same as the JavaScript method<BR>
user_selector.prototype.handle_response.<BR>
<BR>
<b>param:</b> array $groupedusers an array, as returned by find_users.<br>
<b>param:</b> string $search<br>
<b>return:</b> string HTML code.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="output_optgroup" onClick="logFunction('output_optgroup', 'lib.php.source.html#l532')" href="lib.php.source.html#l532">output_optgroup</a>(<a href="../../_variables/groupname.html">$groupname</a>, <a href="../../_variables/users.html">$users</a>, <a href="../../_variables/select.html">$select</a>)&nbsp;&nbsp;
<a href="../../_functions/output_optgroup.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Output one particular optgroup. Used by the preceding function output_options.<BR>
</b><BR><b>param:</b> string $groupname the label for this optgroup.<br>
<b>param:</b> array $users the users to put in this optgroup.<br>
<b>param:</b> boolean $select if true, select the users in this group.<br>
<b>return:</b> string HTML code.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="output_user" onClick="logFunction('output_user', 'lib.php.source.html#l567')" href="lib.php.source.html#l567">output_user</a>(<a href="../../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../../_functions/output_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Convert a user object to a string suitable for displaying as an option in the list box.<BR>
</b><BR><b>param:</b> object $user the user to display.<br>
<b>return:</b> string a string representation of the user.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="search_button_caption" onClick="logFunction('search_button_caption', 'lib.php.source.html#l585')" href="lib.php.source.html#l585">search_button_caption</a>()&nbsp;&nbsp;
<a href="../../_functions/search_button_caption.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the string to use for the search button caption.<BR>
</b><BR><b>return:</b> string the caption for the search button.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise_option" onClick="logFunction('initialise_option', 'lib.php.source.html#l594')" href="lib.php.source.html#l594">initialise_option</a>(<a href="../../_variables/name.html">$name</a>, <a href="../../_variables/default.html">$default</a>)&nbsp;&nbsp;
<a href="../../_functions/initialise_option.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialise one of the option checkboxes, either from&nbsp;&nbsp;the request, or failing that from the<BR>
user_preferences table, or finally from the given default.<BR>
</b><BR><b>param:</b> string $name<br>
<b>param:</b> mixed $default<br>
<b>return:</b> mixed|null|string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="option_checkbox" onClick="logFunction('option_checkbox', 'lib.php.source.html#l612')" href="lib.php.source.html#l612">option_checkbox</a>(<a href="../../_variables/name.html">$name</a>, <a href="../../_variables/on.html">$on</a>, <a href="../../_variables/label.html">$label</a>)&nbsp;&nbsp;
<a href="../../_functions/option_checkbox.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Output one of the options checkboxes.<BR>
</b><BR><b>param:</b> string $name<br>
<b>param:</b> string $on<br>
<b>param:</b> string $label<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise_javascript" onClick="logFunction('initialise_javascript', 'lib.php.source.html#l636')" href="lib.php.source.html#l636">initialise_javascript</a>(<a href="../../_variables/search.html">$search</a>)&nbsp;&nbsp;
<a href="../../_functions/initialise_javascript.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialises JS for this control.<BR>
</b><BR><b>param:</b> string $search<br>
<b>return:</b> string any HTML needed here.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'lib.php.source.html#l674')" href="lib.php.source.html#l674">__construct</a>(<a href="../../_variables/name.html">$name</a>, <a href="../../_variables/options.html">$options</a>)&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor.<BR>
</b><BR><b>param:</b> string $name control name<br>
<b>param:</b> array $options should have two elements with keys groupid and courseid.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_options" onClick="logFunction('get_options', 'lib.php.source.html#l689')" href="lib.php.source.html#l689">get_options</a>()&nbsp;&nbsp;
<a href="../../_functions/get_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns options for this selector.<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="convert_array_format" onClick="logFunction('convert_array_format', 'lib.php.source.html#l700')" href="lib.php.source.html#l700">convert_array_format</a>(<a href="../../_variables/roles.html">$roles</a>, <a href="../../_variables/search.html">$search</a>)&nbsp;&nbsp;
<a href="../../_functions/convert_array_format.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates an organised array from given data.<BR>
</b><BR><b>param:</b> array $roles array in the format returned by groups_calculate_role_people.<br>
<b>param:</b> string $search<br>
<b>return:</b> array array in the format find_users is supposed to return.<br>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
