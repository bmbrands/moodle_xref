<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /user/externallib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='user';
filename='externallib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/user/</a> -> <a href="externallib.php.html">externallib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="externallib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="externallib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * External user API</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_user</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category   external</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2009 Petr Skodak</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>/externallib.php&quot;);
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * User external functions</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> *</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * @package    core_user</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @category   external</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @copyright  2011 Jerome Mouneyrac</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @since Moodle 2.2</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> */</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l38"><span class="linenum">  38</span></a>  
<a name="l39"><span class="linenum">  39</span></a>      <span class="comment">/**</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     *</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     */</span>
<a name="l45"><span class="linenum">  45</span></a>      public static function <a class="function" onClick="logFunction('create_users_parameters')" href="../_functions/create_users_parameters.html" onMouseOver="funcPopup(event,'create_users_parameters')">create_users_parameters</a>() {
<a name="l46"><span class="linenum">  46</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l49"><span class="linenum">  49</span></a>              array(
<a name="l50"><span class="linenum">  50</span></a>                  'users' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l51"><span class="linenum">  51</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l52"><span class="linenum">  52</span></a>                          array(
<a name="l53"><span class="linenum">  53</span></a>                              'username' =&gt;
<a name="l54"><span class="linenum">  54</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('username'), 'Username policy is defined in Moodle security config.'),
<a name="l55"><span class="linenum">  55</span></a>                              'password' =&gt;
<a name="l56"><span class="linenum">  56</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('password'), 'Plain text password consisting of any characters', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l57"><span class="linenum">  57</span></a>                              'createpassword' =&gt;
<a name="l58"><span class="linenum">  58</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if password should be created and mailed to user.',
<a name="l59"><span class="linenum">  59</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l60"><span class="linenum">  60</span></a>                              'firstname' =&gt;
<a name="l61"><span class="linenum">  61</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('firstname'), 'The first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(s) of the user'),
<a name="l62"><span class="linenum">  62</span></a>                              'lastname' =&gt;
<a name="l63"><span class="linenum">  63</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('lastname'), 'The family name of the user'),
<a name="l64"><span class="linenum">  64</span></a>                              'email' =&gt;
<a name="l65"><span class="linenum">  65</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('email'), 'A valid and unique email address'),
<a name="l66"><span class="linenum">  66</span></a>                              'auth' =&gt;
<a name="l67"><span class="linenum">  67</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('auth'), 'Auth plugins include manual, ldap, imap, etc', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>,
<a name="l68"><span class="linenum">  68</span></a>                                      'manual', <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_null')" href="../_functions/get_property_null.html" onMouseOver="funcPopup(event,'get_property_null')">get_property_null</a>('auth')),
<a name="l69"><span class="linenum">  69</span></a>                              'idnumber' =&gt;
<a name="l70"><span class="linenum">  70</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('idnumber'), 'An arbitrary ID code number perhaps from the institution',
<a name="l71"><span class="linenum">  71</span></a>                                      <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l72"><span class="linenum">  72</span></a>                              'lang' =&gt;
<a name="l73"><span class="linenum">  73</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('lang'), 'Language code such as &quot;en&quot;, must exist on server', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>,
<a name="l74"><span class="linenum">  74</span></a>                                      <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_default')" href="../_functions/get_property_default.html" onMouseOver="funcPopup(event,'get_property_default')">get_property_default</a>('lang'), <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_null')" href="../_functions/get_property_null.html" onMouseOver="funcPopup(event,'get_property_null')">get_property_null</a>('lang')),
<a name="l75"><span class="linenum">  75</span></a>                              'calendartype' =&gt;
<a name="l76"><span class="linenum">  76</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('calendartype'), 'Calendar type such as &quot;gregorian&quot;, must exist on server',
<a name="l77"><span class="linenum">  77</span></a>                                      <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('calendartype')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/calendartype.html">calendartype</a>, <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l78"><span class="linenum">  78</span></a>                              'theme' =&gt;
<a name="l79"><span class="linenum">  79</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('theme'), 'Theme name such as &quot;standard&quot;, must exist on server',
<a name="l80"><span class="linenum">  80</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l81"><span class="linenum">  81</span></a>                              'timezone' =&gt;
<a name="l82"><span class="linenum">  82</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('timezone'), 'Timezone code such as Australia/Perth, or 99 for default',
<a name="l83"><span class="linenum">  83</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l84"><span class="linenum">  84</span></a>                              'mailformat' =&gt;
<a name="l85"><span class="linenum">  85</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('mailformat'), 'Mail format code is 0 for plain text, 1 for HTML etc',
<a name="l86"><span class="linenum">  86</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l87"><span class="linenum">  87</span></a>                              'description' =&gt;
<a name="l88"><span class="linenum">  88</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('description'), 'User profile description, no HTML', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l89"><span class="linenum">  89</span></a>                              'city' =&gt;
<a name="l90"><span class="linenum">  90</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('city'), 'Home city of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l91"><span class="linenum">  91</span></a>                              'country' =&gt;
<a name="l92"><span class="linenum">  92</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('country'), 'Home country code of the user, such as AU or CZ', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l93"><span class="linenum">  93</span></a>                              'firstnamephonetic' =&gt;
<a name="l94"><span class="linenum">  94</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('firstnamephonetic'), 'The first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(s) phonetically of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l95"><span class="linenum">  95</span></a>                              'lastnamephonetic' =&gt;
<a name="l96"><span class="linenum">  96</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('lastnamephonetic'), 'The family name phonetically of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l97"><span class="linenum">  97</span></a>                              'middlename' =&gt;
<a name="l98"><span class="linenum">  98</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('middlename'), 'The middle name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l99"><span class="linenum">  99</span></a>                              'alternatename' =&gt;
<a name="l100"><span class="linenum"> 100</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('alternatename'), 'The alternate name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l101"><span class="linenum"> 101</span></a>                              'preferences' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l102"><span class="linenum"> 102</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l103"><span class="linenum"> 103</span></a>                                      array(
<a name="l104"><span class="linenum"> 104</span></a>                                          'type'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the preference'),
<a name="l105"><span class="linenum"> 105</span></a>                                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the preference')
<a name="l106"><span class="linenum"> 106</span></a>                                      )
<a name="l107"><span class="linenum"> 107</span></a>                                  ), 'User preferences', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l108"><span class="linenum"> 108</span></a>                              'customfields' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l109"><span class="linenum"> 109</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l110"><span class="linenum"> 110</span></a>                                      array(
<a name="l111"><span class="linenum"> 111</span></a>                                          'type'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the custom field'),
<a name="l112"><span class="linenum"> 112</span></a>                                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the custom field')
<a name="l113"><span class="linenum"> 113</span></a>                                      )
<a name="l114"><span class="linenum"> 114</span></a>                                  ), 'User custom <a class="function" onClick="logFunction('fields')" href="../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a> (also known as user profil fields)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>)
<a name="l115"><span class="linenum"> 115</span></a>                          )
<a name="l116"><span class="linenum"> 116</span></a>                      )
<a name="l117"><span class="linenum"> 117</span></a>                  )
<a name="l118"><span class="linenum"> 118</span></a>              )
<a name="l119"><span class="linenum"> 119</span></a>          );
<a name="l120"><span class="linenum"> 120</span></a>      }
<a name="l121"><span class="linenum"> 121</span></a>  
<a name="l122"><span class="linenum"> 122</span></a>      <span class="comment">/**</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * Create one or more users.</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     *</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     * @throws invalid_parameter_exception</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">     * @param array $users An array of users to create.</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">     * @return array An array of arrays</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     */</span>
<a name="l130"><span class="linenum"> 130</span></a>      public static function <a class="function" onClick="logFunction('create_users')" href="../_functions/create_users.html" onMouseOver="funcPopup(event,'create_users')">create_users</a>(<a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>) {
<a name="l131"><span class="linenum"> 131</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l132"><span class="linenum"> 132</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../lib/weblib.php.html">/lib/weblib.php</a>");
<a name="l133"><span class="linenum"> 133</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l134"><span class="linenum"> 134</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../user/profile/lib.php.html">/user/profile/lib.php</a>"); <span class="comment">// Required for customfields related function.</span>
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">        // Ensure the current user is allowed to run this function.</span>
<a name="l137"><span class="linenum"> 137</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l138"><span class="linenum"> 138</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l139"><span class="linenum"> 139</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/user:create', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l140"><span class="linenum"> 140</span></a>  
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">        // Do basic automatic PARAM checks on incoming data, using params description.</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">        // If any problems are found then exceptions are thrown with helpful error messages.</span>
<a name="l143"><span class="linenum"> 143</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('create_users_parameters')" href="../_functions/create_users_parameters.html" onMouseOver="funcPopup(event,'create_users_parameters')">create_users_parameters</a>(), array('users' =&gt; <a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>));
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>          <a class="var it17919" onMouseOver="hilite(17919)" onMouseOut="lolite()" onClick="logVariable('availableauths')" href="../_variables/availableauths.html">$availableauths</a>  = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('auth');
<a name="l146"><span class="linenum"> 146</span></a>          unset(<a class="var it17919" onMouseOver="hilite(17919)" onMouseOut="lolite()" onClick="logVariable('availableauths')" href="../_variables/availableauths.html">$availableauths</a>['mnet']);       <span class="comment">// These would need mnethostid too.</span>
<a name="l147"><span class="linenum"> 147</span></a>          unset(<a class="var it17919" onMouseOver="hilite(17919)" onMouseOut="lolite()" onClick="logVariable('availableauths')" href="../_variables/availableauths.html">$availableauths</a>['webservice']); <span class="comment">// We do not want new webservice users for now.</span>
<a name="l148"><span class="linenum"> 148</span></a>  
<a name="l149"><span class="linenum"> 149</span></a>          <a class="var it17920" onMouseOver="hilite(17920)" onMouseOut="lolite()" onClick="logVariable('availablethemes')" href="../_variables/availablethemes.html">$availablethemes</a> = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('theme');
<a name="l150"><span class="linenum"> 150</span></a>          <a class="var it5120" onMouseOver="hilite(5120)" onMouseOut="lolite()" onClick="logVariable('availablelangs')" href="../_variables/availablelangs.html">$availablelangs</a>  = <a class="function" onClick="logFunction('get_string_manager')" href="../_functions/get_string_manager.html" onMouseOver="funcPopup(event,'get_string_manager')">get_string_manager</a>()-&gt;<a class="function" onClick="logFunction('get_list_of_translations')" href="../_functions/get_list_of_translations.html" onMouseOver="funcPopup(event,'get_list_of_translations')">get_list_of_translations</a>();
<a name="l151"><span class="linenum"> 151</span></a>  
<a name="l152"><span class="linenum"> 152</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>          <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a> = array();
<a name="l155"><span class="linenum"> 155</span></a>          <a class="var it3327" onMouseOver="hilite(3327)" onMouseOut="lolite()" onClick="logVariable('createpassword')" href="../_variables/createpassword.html">$createpassword</a> = false;
<a name="l156"><span class="linenum"> 156</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['users'] as <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">            // Make sure that the username doesn't already exist.</span>
<a name="l158"><span class="linenum"> 158</span></a>              if (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('user', array('username' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['username'], 'mnethostid' =&gt; <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('mnet_localhost_id')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/mnet_localhost_id.html">mnet_localhost_id</a>))) {
<a name="l159"><span class="linenum"> 159</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Username already exists: '.<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['username']);
<a name="l160"><span class="linenum"> 160</span></a>              }
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">            // Make sure auth is valid.</span>
<a name="l163"><span class="linenum"> 163</span></a>              if (empty(<a class="var it17919" onMouseOver="hilite(17919)" onMouseOut="lolite()" onClick="logVariable('availableauths')" href="../_variables/availableauths.html">$availableauths</a>[<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['auth']])) {
<a name="l164"><span class="linenum"> 164</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid authentication type: '.<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['auth']);
<a name="l165"><span class="linenum"> 165</span></a>              }
<a name="l166"><span class="linenum"> 166</span></a>  
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">            // Make sure lang is valid.</span>
<a name="l168"><span class="linenum"> 168</span></a>              if (empty(<a class="var it5120" onMouseOver="hilite(5120)" onMouseOut="lolite()" onClick="logVariable('availablelangs')" href="../_variables/availablelangs.html">$availablelangs</a>[<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['lang']])) {
<a name="l169"><span class="linenum"> 169</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid language code: '.<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['lang']);
<a name="l170"><span class="linenum"> 170</span></a>              }
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">            // Make sure lang is valid.</span>
<a name="l173"><span class="linenum"> 173</span></a>              if (!empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['theme']) &amp;&amp; empty(<a class="var it17920" onMouseOver="hilite(17920)" onMouseOut="lolite()" onClick="logVariable('availablethemes')" href="../_variables/availablethemes.html">$availablethemes</a>[<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['theme']])) { // Theme is <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>,
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">                                                                                     // so no default value</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">                                                                                     // We need to test if the client sent it</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">                                                                                     // =&gt; !empty($user['theme']).</span>
<a name="l177"><span class="linenum"> 177</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid theme: '.<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['theme']);
<a name="l178"><span class="linenum"> 178</span></a>              }
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">            // Make sure we have a password or have to create one.</span>
<a name="l181"><span class="linenum"> 181</span></a>              if (empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['password']) &amp;&amp; empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['createpassword'])) {
<a name="l182"><span class="linenum"> 182</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid password: you must provide a password, or set createpassword.');
<a name="l183"><span class="linenum"> 183</span></a>              }
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>              <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['confirmed'] = true;
<a name="l186"><span class="linenum"> 186</span></a>              <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['mnethostid'] = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('mnet_localhost_id')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/mnet_localhost_id.html">mnet_localhost_id</a>;
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">            // Start of user info validation.</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">            // Make sure we validate current user info as handled by current GUI. See user/editadvanced_form.php func validation().</span>
<a name="l190"><span class="linenum"> 190</span></a>              if (!<a class="function" onClick="logFunction('validate_email')" href="../_functions/validate_email.html" onMouseOver="funcPopup(event,'validate_email')">validate_email</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['email'])) {
<a name="l191"><span class="linenum"> 191</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Email address is invalid: '.<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['email']);
<a name="l192"><span class="linenum"> 192</span></a>              } else if (empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('allowaccountssameemail')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/allowaccountssameemail.html">allowaccountssameemail</a>) &amp;&amp;
<a name="l193"><span class="linenum"> 193</span></a>                      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('user', array('email' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['email'], 'mnethostid' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['mnethostid']))) {
<a name="l194"><span class="linenum"> 194</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Email address already exists: '.<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['email']);
<a name="l195"><span class="linenum"> 195</span></a>              }
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">            // End of user info validation.</span>
<a name="l197"><span class="linenum"> 197</span></a>  
<a name="l198"><span class="linenum"> 198</span></a>              <a class="var it3327" onMouseOver="hilite(3327)" onMouseOut="lolite()" onClick="logVariable('createpassword')" href="../_variables/createpassword.html">$createpassword</a> = !empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['createpassword']);
<a name="l199"><span class="linenum"> 199</span></a>              unset(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['createpassword']);
<a name="l200"><span class="linenum"> 200</span></a>              if (<a class="var it3327" onMouseOver="hilite(3327)" onMouseOut="lolite()" onClick="logVariable('createpassword')" href="../_variables/createpassword.html">$createpassword</a>) {
<a name="l201"><span class="linenum"> 201</span></a>                  <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['password'] = '';
<a name="l202"><span class="linenum"> 202</span></a>                  <a class="var it17921" onMouseOver="hilite(17921)" onMouseOut="lolite()" onClick="logVariable('updatepassword')" href="../_variables/updatepassword.html">$updatepassword</a> = false;
<a name="l203"><span class="linenum"> 203</span></a>              } else {
<a name="l204"><span class="linenum"> 204</span></a>                  <a class="var it17921" onMouseOver="hilite(17921)" onMouseOut="lolite()" onClick="logVariable('updatepassword')" href="../_variables/updatepassword.html">$updatepassword</a> = true;
<a name="l205"><span class="linenum"> 205</span></a>              }
<a name="l206"><span class="linenum"> 206</span></a>  
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">            // Create the user data now!</span>
<a name="l208"><span class="linenum"> 208</span></a>              <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id'] = <a class="function" onClick="logFunction('user_create_user')" href="../_functions/user_create_user.html" onMouseOver="funcPopup(event,'user_create_user')">user_create_user</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it17921" onMouseOver="hilite(17921)" onMouseOut="lolite()" onClick="logVariable('updatepassword')" href="../_variables/updatepassword.html">$updatepassword</a>, false);
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment">            // Custom fields.</span>
<a name="l211"><span class="linenum"> 211</span></a>              if (!empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['customfields'])) {
<a name="l212"><span class="linenum"> 212</span></a>                  foreach (<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['customfields'] as <a class="var it15394" onMouseOver="hilite(15394)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>) {
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">                    // Profile_save_data() saves profile file it's expecting a user with the correct id,</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">                    // and custom field to be named profile_field_&quot;shortname&quot;.</span>
<a name="l215"><span class="linenum"> 215</span></a>                      <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>[&quot;profile_field_&quot;.<a class="var it15394" onMouseOver="hilite(15394)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>['type']] = <a class="var it15394" onMouseOver="hilite(15394)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>['value'];
<a name="l216"><span class="linenum"> 216</span></a>                  }
<a name="l217"><span class="linenum"> 217</span></a>                  <a class="function" onClick="logFunction('profile_save_data')" href="../_functions/profile_save_data.html" onMouseOver="funcPopup(event,'profile_save_data')">profile_save_data</a>((object) <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l218"><span class="linenum"> 218</span></a>              }
<a name="l219"><span class="linenum"> 219</span></a>  
<a name="l220"><span class="linenum"> 220</span></a>              if (<a class="var it3327" onMouseOver="hilite(3327)" onMouseOut="lolite()" onClick="logVariable('createpassword')" href="../_variables/createpassword.html">$createpassword</a>) {
<a name="l221"><span class="linenum"> 221</span></a>                  <a class="var it14172" onMouseOver="hilite(14172)" onMouseOut="lolite()" onClick="logVariable('userobject')" href="../_variables/userobject.html">$userobject</a> = (object)<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>;
<a name="l222"><span class="linenum"> 222</span></a>                  <a class="function" onClick="logFunction('setnew_password_and_mail')" href="../_functions/setnew_password_and_mail.html" onMouseOver="funcPopup(event,'setnew_password_and_mail')">setnew_password_and_mail</a>(<a class="var it14172" onMouseOver="hilite(14172)" onMouseOut="lolite()" onClick="logVariable('userobject')" href="../_variables/userobject.html">$userobject</a>);
<a name="l223"><span class="linenum"> 223</span></a>                  <a class="function" onClick="logFunction('unset_user_preference')" href="../_functions/unset_user_preference.html" onMouseOver="funcPopup(event,'unset_user_preference')">unset_user_preference</a>('create_password', <a class="var it14172" onMouseOver="hilite(14172)" onMouseOut="lolite()" onClick="logVariable('userobject')" href="../_variables/userobject.html">$userobject</a>);
<a name="l224"><span class="linenum"> 224</span></a>                  <a class="function" onClick="logFunction('set_user_preference')" href="../_functions/set_user_preference.html" onMouseOver="funcPopup(event,'set_user_preference')">set_user_preference</a>('auth_forcepasswordchange', 1, <a class="var it14172" onMouseOver="hilite(14172)" onMouseOut="lolite()" onClick="logVariable('userobject')" href="../_variables/userobject.html">$userobject</a>);
<a name="l225"><span class="linenum"> 225</span></a>              }
<a name="l226"><span class="linenum"> 226</span></a>  
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">            // Trigger event.</span>
<a name="l228"><span class="linenum"> 228</span></a>              \core\event\<a class="class" onClick="logClass('user_created')" href="../_classes/user_created.html" onMouseOver="classPopup(event,'user_created')">user_created</a>::<a class="function" onClick="logFunction('create_from_userid')" href="../_functions/create_from_userid.html" onMouseOver="funcPopup(event,'create_from_userid')">create_from_userid</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id'])-&gt;<a class="function" onClick="logFunction('trigger')" href="../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">            // Preferences.</span>
<a name="l231"><span class="linenum"> 231</span></a>              if (!empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['preferences'])) {
<a name="l232"><span class="linenum"> 232</span></a>                  foreach (<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['preferences'] as <a class="var it11341" onMouseOver="hilite(11341)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>) {
<a name="l233"><span class="linenum"> 233</span></a>                      <a class="function" onClick="logFunction('set_user_preference')" href="../_functions/set_user_preference.html" onMouseOver="funcPopup(event,'set_user_preference')">set_user_preference</a>(<a class="var it11341" onMouseOver="hilite(11341)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>['type'], <a class="var it11341" onMouseOver="hilite(11341)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>['value'], <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id']);
<a name="l234"><span class="linenum"> 234</span></a>                  }
<a name="l235"><span class="linenum"> 235</span></a>              }
<a name="l236"><span class="linenum"> 236</span></a>  
<a name="l237"><span class="linenum"> 237</span></a>              <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>[] = array('id' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id'], 'username' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['username']);
<a name="l238"><span class="linenum"> 238</span></a>          }
<a name="l239"><span class="linenum"> 239</span></a>  
<a name="l240"><span class="linenum"> 240</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>          return <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>;
<a name="l243"><span class="linenum"> 243</span></a>      }
<a name="l244"><span class="linenum"> 244</span></a>  
<a name="l245"><span class="linenum"> 245</span></a>      <span class="comment">/**</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     *</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * @return external_description</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     */</span>
<a name="l251"><span class="linenum"> 251</span></a>      public static function <a class="function" onClick="logFunction('create_users_returns')" href="../_functions/create_users_returns.html" onMouseOver="funcPopup(event,'create_users_returns')">create_users_returns</a>() {
<a name="l252"><span class="linenum"> 252</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l253"><span class="linenum"> 253</span></a>              <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l254"><span class="linenum"> 254</span></a>                  array(
<a name="l255"><span class="linenum"> 255</span></a>                      'id'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('id'), 'user id'),
<a name="l256"><span class="linenum"> 256</span></a>                      'username' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('username'), 'user name'),
<a name="l257"><span class="linenum"> 257</span></a>                  )
<a name="l258"><span class="linenum"> 258</span></a>              )
<a name="l259"><span class="linenum"> 259</span></a>          );
<a name="l260"><span class="linenum"> 260</span></a>      }
<a name="l261"><span class="linenum"> 261</span></a>  
<a name="l262"><span class="linenum"> 262</span></a>  
<a name="l263"><span class="linenum"> 263</span></a>      <span class="comment">/**</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     *</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment">     */</span>
<a name="l269"><span class="linenum"> 269</span></a>      public static function <a class="function" onClick="logFunction('delete_users_parameters')" href="../_functions/delete_users_parameters.html" onMouseOver="funcPopup(event,'delete_users_parameters')">delete_users_parameters</a>() {
<a name="l270"><span class="linenum"> 270</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l271"><span class="linenum"> 271</span></a>              array(
<a name="l272"><span class="linenum"> 272</span></a>                  'userids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(<span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('id'), 'user ID')),
<a name="l273"><span class="linenum"> 273</span></a>              )
<a name="l274"><span class="linenum"> 274</span></a>          );
<a name="l275"><span class="linenum"> 275</span></a>      }
<a name="l276"><span class="linenum"> 276</span></a>  
<a name="l277"><span class="linenum"> 277</span></a>      <span class="comment">/**</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     * Delete users</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">     *</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">     * @param array $userids</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">     * @return null</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     */</span>
<a name="l285"><span class="linenum"> 285</span></a>      public static function <a class="function" onClick="logFunction('delete_users')" href="../_functions/delete_users.html" onMouseOver="funcPopup(event,'delete_users')">delete_users</a>(<a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>) {
<a name="l286"><span class="linenum"> 286</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l287"><span class="linenum"> 287</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l288"><span class="linenum"> 288</span></a>  
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">        // Ensure the current user is allowed to run this function.</span>
<a name="l290"><span class="linenum"> 290</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l291"><span class="linenum"> 291</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/user:delete', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l292"><span class="linenum"> 292</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('delete_users_parameters')" href="../_functions/delete_users_parameters.html" onMouseOver="funcPopup(event,'delete_users_parameters')">delete_users_parameters</a>(), array('userids' =&gt; <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>));
<a name="l295"><span class="linenum"> 295</span></a>  
<a name="l296"><span class="linenum"> 296</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l297"><span class="linenum"> 297</span></a>  
<a name="l298"><span class="linenum"> 298</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userids'] as <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) {
<a name="l299"><span class="linenum"> 299</span></a>              <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('id' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, 'deleted' =&gt; 0), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">            // Must not allow deleting of admins or self!!!</span>
<a name="l301"><span class="linenum"> 301</span></a>              if (<a class="function" onClick="logFunction('is_siteadmin')" href="../_functions/is_siteadmin.html" onMouseOver="funcPopup(event,'is_siteadmin')">is_siteadmin</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l302"><span class="linenum"> 302</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('useradminodelete', 'error');
<a name="l303"><span class="linenum"> 303</span></a>              }
<a name="l304"><span class="linenum"> 304</span></a>              if (<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l305"><span class="linenum"> 305</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('usernotdeletederror', 'error');
<a name="l306"><span class="linenum"> 306</span></a>              }
<a name="l307"><span class="linenum"> 307</span></a>              <a class="function" onClick="logFunction('user_delete_user')" href="../_functions/user_delete_user.html" onMouseOver="funcPopup(event,'user_delete_user')">user_delete_user</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l308"><span class="linenum"> 308</span></a>          }
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l311"><span class="linenum"> 311</span></a>  
<a name="l312"><span class="linenum"> 312</span></a>          return null;
<a name="l313"><span class="linenum"> 313</span></a>      }
<a name="l314"><span class="linenum"> 314</span></a>  
<a name="l315"><span class="linenum"> 315</span></a>      <span class="comment">/**</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     *</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">     * @return null</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">     */</span>
<a name="l321"><span class="linenum"> 321</span></a>      public static function <a class="function" onClick="logFunction('delete_users_returns')" href="../_functions/delete_users_returns.html" onMouseOver="funcPopup(event,'delete_users_returns')">delete_users_returns</a>() {
<a name="l322"><span class="linenum"> 322</span></a>          return null;
<a name="l323"><span class="linenum"> 323</span></a>      }
<a name="l324"><span class="linenum"> 324</span></a>  
<a name="l325"><span class="linenum"> 325</span></a>  
<a name="l326"><span class="linenum"> 326</span></a>      <span class="comment">/**</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     *</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">     */</span>
<a name="l332"><span class="linenum"> 332</span></a>      public static function <a class="function" onClick="logFunction('update_users_parameters')" href="../_functions/update_users_parameters.html" onMouseOver="funcPopup(event,'update_users_parameters')">update_users_parameters</a>() {
<a name="l333"><span class="linenum"> 333</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l334"><span class="linenum"> 334</span></a>              array(
<a name="l335"><span class="linenum"> 335</span></a>                  'users' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l336"><span class="linenum"> 336</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l337"><span class="linenum"> 337</span></a>                          array(
<a name="l338"><span class="linenum"> 338</span></a>                              'id' =&gt;
<a name="l339"><span class="linenum"> 339</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('id'), 'ID of the user'),
<a name="l340"><span class="linenum"> 340</span></a>                              'username' =&gt;
<a name="l341"><span class="linenum"> 341</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('username'), 'Username policy is defined in Moodle security config.',
<a name="l342"><span class="linenum"> 342</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '', <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l343"><span class="linenum"> 343</span></a>                              'password' =&gt;
<a name="l344"><span class="linenum"> 344</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('password'), 'Plain text password consisting of any characters', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>,
<a name="l345"><span class="linenum"> 345</span></a>                                      '', <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l346"><span class="linenum"> 346</span></a>                              'firstname' =&gt;
<a name="l347"><span class="linenum"> 347</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('firstname'), 'The first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(s) of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '',
<a name="l348"><span class="linenum"> 348</span></a>                                      <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l349"><span class="linenum"> 349</span></a>                              'lastname' =&gt;
<a name="l350"><span class="linenum"> 350</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('lastname'), 'The family name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l351"><span class="linenum"> 351</span></a>                              'email' =&gt;
<a name="l352"><span class="linenum"> 352</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('email'), 'A valid and unique email address', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '',
<a name="l353"><span class="linenum"> 353</span></a>                                      <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l354"><span class="linenum"> 354</span></a>                              'auth' =&gt;
<a name="l355"><span class="linenum"> 355</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('auth'), 'Auth plugins include manual, ldap, imap, etc', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '',
<a name="l356"><span class="linenum"> 356</span></a>                                      <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l357"><span class="linenum"> 357</span></a>                              'idnumber' =&gt;
<a name="l358"><span class="linenum"> 358</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('idnumber'), 'An arbitrary ID code number perhaps from the institution',
<a name="l359"><span class="linenum"> 359</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l360"><span class="linenum"> 360</span></a>                              'lang' =&gt;
<a name="l361"><span class="linenum"> 361</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('lang'), 'Language code such as &quot;en&quot;, must exist on server',
<a name="l362"><span class="linenum"> 362</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '', <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l363"><span class="linenum"> 363</span></a>                              'calendartype' =&gt;
<a name="l364"><span class="linenum"> 364</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('calendartype'), 'Calendar type such as &quot;gregorian&quot;, must exist on server',
<a name="l365"><span class="linenum"> 365</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '', <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l366"><span class="linenum"> 366</span></a>                              'theme' =&gt;
<a name="l367"><span class="linenum"> 367</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('theme'), 'Theme name such as &quot;standard&quot;, must exist on server',
<a name="l368"><span class="linenum"> 368</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l369"><span class="linenum"> 369</span></a>                              'timezone' =&gt;
<a name="l370"><span class="linenum"> 370</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('timezone'), 'Timezone code such as Australia/Perth, or 99 for default',
<a name="l371"><span class="linenum"> 371</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l372"><span class="linenum"> 372</span></a>                              'mailformat' =&gt;
<a name="l373"><span class="linenum"> 373</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('mailformat'), 'Mail format code is 0 for plain text, 1 for HTML etc',
<a name="l374"><span class="linenum"> 374</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l375"><span class="linenum"> 375</span></a>                              'description' =&gt;
<a name="l376"><span class="linenum"> 376</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('description'), 'User profile description, no HTML', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l377"><span class="linenum"> 377</span></a>                              'city' =&gt;
<a name="l378"><span class="linenum"> 378</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('city'), 'Home city of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l379"><span class="linenum"> 379</span></a>                              'country' =&gt;
<a name="l380"><span class="linenum"> 380</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('country'), 'Home country code of the user, such as AU or CZ', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l381"><span class="linenum"> 381</span></a>                              'firstnamephonetic' =&gt;
<a name="l382"><span class="linenum"> 382</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('firstnamephonetic'), 'The first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(s) phonetically of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l383"><span class="linenum"> 383</span></a>                              'lastnamephonetic' =&gt;
<a name="l384"><span class="linenum"> 384</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('lastnamephonetic'), 'The family name phonetically of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l385"><span class="linenum"> 385</span></a>                              'middlename' =&gt;
<a name="l386"><span class="linenum"> 386</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('middlename'), 'The middle name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l387"><span class="linenum"> 387</span></a>                              'alternatename' =&gt;
<a name="l388"><span class="linenum"> 388</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('alternatename'), 'The alternate name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l389"><span class="linenum"> 389</span></a>                              'userpicture' =&gt;
<a name="l390"><span class="linenum"> 390</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The itemid where the <span class="keyword">new </span><a class="class" onClick="logClass('user')" href="../_classes/user.html" onMouseOver="classPopup(event,'user')">user</a> picture '.
<a name="l391"><span class="linenum"> 391</span></a>                                      'has been uploaded to, 0 to delete', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l392"><span class="linenum"> 392</span></a>                              'customfields' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l393"><span class="linenum"> 393</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l394"><span class="linenum"> 394</span></a>                                      array(
<a name="l395"><span class="linenum"> 395</span></a>                                          'type'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the custom field'),
<a name="l396"><span class="linenum"> 396</span></a>                                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the custom field')
<a name="l397"><span class="linenum"> 397</span></a>                                      )
<a name="l398"><span class="linenum"> 398</span></a>                                  ), 'User custom <a class="function" onClick="logFunction('fields')" href="../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a> (also known as user profil fields)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l399"><span class="linenum"> 399</span></a>                              'preferences' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l400"><span class="linenum"> 400</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l401"><span class="linenum"> 401</span></a>                                      array(
<a name="l402"><span class="linenum"> 402</span></a>                                          'type'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the preference'),
<a name="l403"><span class="linenum"> 403</span></a>                                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the preference')
<a name="l404"><span class="linenum"> 404</span></a>                                      )
<a name="l405"><span class="linenum"> 405</span></a>                                  ), 'User preferences', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l406"><span class="linenum"> 406</span></a>                          )
<a name="l407"><span class="linenum"> 407</span></a>                      )
<a name="l408"><span class="linenum"> 408</span></a>                  )
<a name="l409"><span class="linenum"> 409</span></a>              )
<a name="l410"><span class="linenum"> 410</span></a>          );
<a name="l411"><span class="linenum"> 411</span></a>      }
<a name="l412"><span class="linenum"> 412</span></a>  
<a name="l413"><span class="linenum"> 413</span></a>      <span class="comment">/**</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">     * Update users</span>
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">     *</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">     * @param array $users</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">     * @return null</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">     */</span>
<a name="l420"><span class="linenum"> 420</span></a>      public static function <a class="function" onClick="logFunction('update_users')" href="../_functions/update_users.html" onMouseOver="funcPopup(event,'update_users')">update_users</a>(<a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>) {
<a name="l421"><span class="linenum"> 421</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l422"><span class="linenum"> 422</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l423"><span class="linenum"> 423</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../user/profile/lib.php.html">/user/profile/lib.php</a>"); <span class="comment">// Required for customfields related function.</span>
<a name="l424"><span class="linenum"> 424</span></a>  
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">        // Ensure the current user is allowed to run this function.</span>
<a name="l426"><span class="linenum"> 426</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l427"><span class="linenum"> 427</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/user:update', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l428"><span class="linenum"> 428</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l429"><span class="linenum"> 429</span></a>  
<a name="l430"><span class="linenum"> 430</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('update_users_parameters')" href="../_functions/update_users_parameters.html" onMouseOver="funcPopup(event,'update_users_parameters')">update_users_parameters</a>(), array('users' =&gt; <a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>));
<a name="l431"><span class="linenum"> 431</span></a>  
<a name="l432"><span class="linenum"> 432</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('filemanageroptions')" href="../_variables/filemanageroptions.html">$filemanageroptions</a> = array('maxbytes' =&gt; <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('maxbytes')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/maxbytes.html">maxbytes</a>,
<a name="l433"><span class="linenum"> 433</span></a>                  'subdirs'        =&gt; 0,
<a name="l434"><span class="linenum"> 434</span></a>                  'maxfiles'       =&gt; 1,
<a name="l435"><span class="linenum"> 435</span></a>                  'accepted_types' =&gt; 'web_image');
<a name="l436"><span class="linenum"> 436</span></a>  
<a name="l437"><span class="linenum"> 437</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['users'] as <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l440"><span class="linenum"> 440</span></a>              <a class="function" onClick="logFunction('user_update_user')" href="../_functions/user_update_user.html" onMouseOver="funcPopup(event,'user_update_user')">user_update_user</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, true, false);
<a name="l441"><span class="linenum"> 441</span></a>  
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">            // Update user picture if it was specified for this user.</span>
<a name="l443"><span class="linenum"> 443</span></a>              if (empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('disableuserimages')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/disableuserimages.html">disableuserimages</a>) &amp;&amp; isset(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['userpicture'])) {
<a name="l444"><span class="linenum"> 444</span></a>                  <a class="var it14172" onMouseOver="hilite(14172)" onMouseOut="lolite()" onClick="logVariable('userobject')" href="../_variables/userobject.html">$userobject</a> = (object)<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>;
<a name="l445"><span class="linenum"> 445</span></a>  
<a name="l446"><span class="linenum"> 446</span></a>                  <a class="var it14172" onMouseOver="hilite(14172)" onMouseOut="lolite()" onClick="logVariable('userobject')" href="../_variables/userobject.html">$userobject</a>-&gt;<a onClick="logVariable('deletepicture')" class="var it43515" onMouseOver="hilite(43515)" onMouseOut="lolite()" href="../_variables/deletepicture.html">deletepicture</a> = null;
<a name="l447"><span class="linenum"> 447</span></a>  
<a name="l448"><span class="linenum"> 448</span></a>                  if (<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['userpicture'] == 0) {
<a name="l449"><span class="linenum"> 449</span></a>                      <a class="var it14172" onMouseOver="hilite(14172)" onMouseOut="lolite()" onClick="logVariable('userobject')" href="../_variables/userobject.html">$userobject</a>-&gt;<a onClick="logVariable('deletepicture')" class="var it43515" onMouseOver="hilite(43515)" onMouseOut="lolite()" href="../_variables/deletepicture.html">deletepicture</a> = true;
<a name="l450"><span class="linenum"> 450</span></a>                  } else {
<a name="l451"><span class="linenum"> 451</span></a>                      <a class="var it14172" onMouseOver="hilite(14172)" onMouseOut="lolite()" onClick="logVariable('userobject')" href="../_variables/userobject.html">$userobject</a>-&gt;<a onClick="logVariable('imagefile')" class="var it43515" onMouseOver="hilite(43515)" onMouseOut="lolite()" href="../_variables/imagefile.html">imagefile</a> = <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['userpicture'];
<a name="l452"><span class="linenum"> 452</span></a>                  }
<a name="l453"><span class="linenum"> 453</span></a>  
<a name="l454"><span class="linenum"> 454</span></a>                  <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('update_picture')" href="../_functions/update_picture.html" onMouseOver="funcPopup(event,'update_picture')">update_picture</a>(<a class="var it14172" onMouseOver="hilite(14172)" onMouseOut="lolite()" onClick="logVariable('userobject')" href="../_variables/userobject.html">$userobject</a>, <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('filemanageroptions')" href="../_variables/filemanageroptions.html">$filemanageroptions</a>);
<a name="l455"><span class="linenum"> 455</span></a>              }
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">            // Update user custom fields.</span>
<a name="l458"><span class="linenum"> 458</span></a>              if (!empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['customfields'])) {
<a name="l459"><span class="linenum"> 459</span></a>  
<a name="l460"><span class="linenum"> 460</span></a>                  foreach (<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['customfields'] as <a class="var it15394" onMouseOver="hilite(15394)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>) {
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">                    // Profile_save_data() saves profile file it's expecting a user with the correct id,</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">                    // and custom field to be named profile_field_&quot;shortname&quot;.</span>
<a name="l463"><span class="linenum"> 463</span></a>                      <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>[&quot;profile_field_&quot;.<a class="var it15394" onMouseOver="hilite(15394)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>['type']] = <a class="var it15394" onMouseOver="hilite(15394)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>['value'];
<a name="l464"><span class="linenum"> 464</span></a>                  }
<a name="l465"><span class="linenum"> 465</span></a>                  <a class="function" onClick="logFunction('profile_save_data')" href="../_functions/profile_save_data.html" onMouseOver="funcPopup(event,'profile_save_data')">profile_save_data</a>((object) <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l466"><span class="linenum"> 466</span></a>              }
<a name="l467"><span class="linenum"> 467</span></a>  
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">            // Trigger event.</span>
<a name="l469"><span class="linenum"> 469</span></a>              \core\event\<a class="class" onClick="logClass('user_updated')" href="../_classes/user_updated.html" onMouseOver="classPopup(event,'user_updated')">user_updated</a>::<a class="function" onClick="logFunction('create_from_userid')" href="../_functions/create_from_userid.html" onMouseOver="funcPopup(event,'create_from_userid')">create_from_userid</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id'])-&gt;<a class="function" onClick="logFunction('trigger')" href="../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l470"><span class="linenum"> 470</span></a>  
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment">            // Preferences.</span>
<a name="l472"><span class="linenum"> 472</span></a>              if (!empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['preferences'])) {
<a name="l473"><span class="linenum"> 473</span></a>                  foreach (<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['preferences'] as <a class="var it11341" onMouseOver="hilite(11341)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>) {
<a name="l474"><span class="linenum"> 474</span></a>                      <a class="function" onClick="logFunction('set_user_preference')" href="../_functions/set_user_preference.html" onMouseOver="funcPopup(event,'set_user_preference')">set_user_preference</a>(<a class="var it11341" onMouseOver="hilite(11341)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>['type'], <a class="var it11341" onMouseOver="hilite(11341)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>['value'], <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id']);
<a name="l475"><span class="linenum"> 475</span></a>                  }
<a name="l476"><span class="linenum"> 476</span></a>              }
<a name="l477"><span class="linenum"> 477</span></a>          }
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>          return null;
<a name="l482"><span class="linenum"> 482</span></a>      }
<a name="l483"><span class="linenum"> 483</span></a>  
<a name="l484"><span class="linenum"> 484</span></a>      <span class="comment">/**</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">     *</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">     * @return null</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment">     */</span>
<a name="l490"><span class="linenum"> 490</span></a>      public static function <a class="function" onClick="logFunction('update_users_returns')" href="../_functions/update_users_returns.html" onMouseOver="funcPopup(event,'update_users_returns')">update_users_returns</a>() {
<a name="l491"><span class="linenum"> 491</span></a>          return null;
<a name="l492"><span class="linenum"> 492</span></a>      }
<a name="l493"><span class="linenum"> 493</span></a>  
<a name="l494"><span class="linenum"> 494</span></a>      <span class="comment">/**</span>
<a name="l495"><span class="linenum"> 495</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment">     *</span>
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment">     * @since Moodle 2.4</span>
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">     */</span>
<a name="l500"><span class="linenum"> 500</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_field_parameters')" href="../_functions/get_users_by_field_parameters.html" onMouseOver="funcPopup(event,'get_users_by_field_parameters')">get_users_by_field_parameters</a>() {
<a name="l501"><span class="linenum"> 501</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l502"><span class="linenum"> 502</span></a>              array(
<a name="l503"><span class="linenum"> 503</span></a>                  'field' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'the search field can be
<a name="l504"><span class="linenum"> 504</span></a>                      \'id\' or \'idnumber\' or \'username\' or \'email\''),
<a name="l505"><span class="linenum"> 505</span></a>                  'values' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l506"><span class="linenum"> 506</span></a>                          <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the value to match'))
<a name="l507"><span class="linenum"> 507</span></a>              )
<a name="l508"><span class="linenum"> 508</span></a>          );
<a name="l509"><span class="linenum"> 509</span></a>      }
<a name="l510"><span class="linenum"> 510</span></a>  
<a name="l511"><span class="linenum"> 511</span></a>      <span class="comment">/**</span>
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment">     * Get user information for a unique field.</span>
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment">     *</span>
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">     * @throws coding_exception</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">     * @throws invalid_parameter_exception</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">     * @param string $field</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     * @param array $values</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">     * @return array An array of arrays containg user profiles.</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">     * @since Moodle 2.4</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">     */</span>
<a name="l521"><span class="linenum"> 521</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_field')" href="../_functions/get_users_by_field.html" onMouseOver="funcPopup(event,'get_users_by_field')">get_users_by_field</a>(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>, <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>) {
<a name="l522"><span class="linenum"> 522</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l523"><span class="linenum"> 523</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_users_by_field_parameters')" href="../_functions/get_users_by_field_parameters.html" onMouseOver="funcPopup(event,'get_users_by_field_parameters')">get_users_by_field_parameters</a>(),
<a name="l526"><span class="linenum"> 526</span></a>                  array('field' =&gt; <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>, 'values' =&gt; <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>));
<a name="l527"><span class="linenum"> 527</span></a>  
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment">        // This array will keep all the users that are allowed to be searched,</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">        // according to the current user's privileges.</span>
<a name="l530"><span class="linenum"> 530</span></a>          <a class="var it17924" onMouseOver="hilite(17924)" onMouseOut="lolite()" onClick="logVariable('cleanedvalues')" href="../_variables/cleanedvalues.html">$cleanedvalues</a> = array();
<a name="l531"><span class="linenum"> 531</span></a>  
<a name="l532"><span class="linenum"> 532</span></a>          switch (<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>) {
<a name="l533"><span class="linenum"> 533</span></a>              case 'id':
<a name="l534"><span class="linenum"> 534</span></a>                  <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('id');
<a name="l535"><span class="linenum"> 535</span></a>                  break;
<a name="l536"><span class="linenum"> 536</span></a>              case 'idnumber':
<a name="l537"><span class="linenum"> 537</span></a>                  <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('idnumber');
<a name="l538"><span class="linenum"> 538</span></a>                  break;
<a name="l539"><span class="linenum"> 539</span></a>              case 'username':
<a name="l540"><span class="linenum"> 540</span></a>                  <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('username');
<a name="l541"><span class="linenum"> 541</span></a>                  break;
<a name="l542"><span class="linenum"> 542</span></a>              case 'email':
<a name="l543"><span class="linenum"> 543</span></a>                  <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('email');
<a name="l544"><span class="linenum"> 544</span></a>                  break;
<a name="l545"><span class="linenum"> 545</span></a>              default:
<a name="l546"><span class="linenum"> 546</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('invalid field parameter',
<a name="l547"><span class="linenum"> 547</span></a>                          'The search field \'' . <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a> . '\' is not supported, look at the web service documentation');
<a name="l548"><span class="linenum"> 548</span></a>          }
<a name="l549"><span class="linenum"> 549</span></a>  
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">        // Clean the values.</span>
<a name="l551"><span class="linenum"> 551</span></a>          foreach (<a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a> as <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l552"><span class="linenum"> 552</span></a>              <a class="var it12435" onMouseOver="hilite(12435)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a> = <a class="function" onClick="logFunction('clean_param')" href="../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>, <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a>);
<a name="l553"><span class="linenum"> 553</span></a>              if ( <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a> != <a class="var it12435" onMouseOver="hilite(12435)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a>) {
<a name="l554"><span class="linenum"> 554</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('The field \'' . <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a> .
<a name="l555"><span class="linenum"> 555</span></a>                          '\' value is invalid: ' . <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a> . '(cleaned value: '.<a class="var it12435" onMouseOver="hilite(12435)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a>.')');
<a name="l556"><span class="linenum"> 556</span></a>              }
<a name="l557"><span class="linenum"> 557</span></a>              <a class="var it17924" onMouseOver="hilite(17924)" onMouseOut="lolite()" onClick="logVariable('cleanedvalues')" href="../_variables/cleanedvalues.html">$cleanedvalues</a>[] = <a class="var it12435" onMouseOver="hilite(12435)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a>;
<a name="l558"><span class="linenum"> 558</span></a>          }
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">        // Retrieve the users.</span>
<a name="l561"><span class="linenum"> 561</span></a>          <a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_list')" href="../_functions/get_records_list.html" onMouseOver="funcPopup(event,'get_records_list')">get_records_list</a>('user', <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>, <a class="var it17924" onMouseOver="hilite(17924)" onMouseOut="lolite()" onClick="logVariable('cleanedvalues')" href="../_variables/cleanedvalues.html">$cleanedvalues</a>, 'id');
<a name="l562"><span class="linenum"> 562</span></a>  
<a name="l563"><span class="linenum"> 563</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l564"><span class="linenum"> 564</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l565"><span class="linenum"> 565</span></a>  
<a name="l566"><span class="linenum"> 566</span></a>  <span class="comment">        // Finally retrieve each users information.</span>
<a name="l567"><span class="linenum"> 567</span></a>          <a class="var it17925" onMouseOver="hilite(17925)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a> = array();
<a name="l568"><span class="linenum"> 568</span></a>          foreach (<a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> as <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l569"><span class="linenum"> 569</span></a>              <a class="var it10665" onMouseOver="hilite(10665)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a> = <a class="function" onClick="logFunction('user_get_user_details_courses')" href="../_functions/user_get_user_details_courses.html" onMouseOver="funcPopup(event,'user_get_user_details_courses')">user_get_user_details_courses</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l570"><span class="linenum"> 570</span></a>  
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">            // Return the user only if the searched field is returned.</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">            // Otherwise it means that the $USER was not allowed to search the returned user.</span>
<a name="l573"><span class="linenum"> 573</span></a>              if (!empty(<a class="var it10665" onMouseOver="hilite(10665)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>) and !empty(<a class="var it10665" onMouseOver="hilite(10665)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>[<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>])) {
<a name="l574"><span class="linenum"> 574</span></a>                  <a class="var it17925" onMouseOver="hilite(17925)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a>[] = <a class="var it10665" onMouseOver="hilite(10665)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>;
<a name="l575"><span class="linenum"> 575</span></a>              }
<a name="l576"><span class="linenum"> 576</span></a>          }
<a name="l577"><span class="linenum"> 577</span></a>  
<a name="l578"><span class="linenum"> 578</span></a>          return <a class="var it17925" onMouseOver="hilite(17925)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a>;
<a name="l579"><span class="linenum"> 579</span></a>      }
<a name="l580"><span class="linenum"> 580</span></a>  
<a name="l581"><span class="linenum"> 581</span></a>      <span class="comment">/**</span>
<a name="l582"><span class="linenum"> 582</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">     *</span>
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">     * @return external_multiple_structure</span>
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">     * @since Moodle 2.4</span>
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">     */</span>
<a name="l587"><span class="linenum"> 587</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_field_returns')" href="../_functions/get_users_by_field_returns.html" onMouseOver="funcPopup(event,'get_users_by_field_returns')">get_users_by_field_returns</a>() {
<a name="l588"><span class="linenum"> 588</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('user_description')" href="../_functions/user_description.html" onMouseOver="funcPopup(event,'user_description')">user_description</a>());
<a name="l589"><span class="linenum"> 589</span></a>      }
<a name="l590"><span class="linenum"> 590</span></a>  
<a name="l591"><span class="linenum"> 591</span></a>  
<a name="l592"><span class="linenum"> 592</span></a>      <span class="comment">/**</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">     * Returns description of get_users() parameters.</span>
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment">     *</span>
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l597"><span class="linenum"> 597</span></a>  <span class="comment">     */</span>
<a name="l598"><span class="linenum"> 598</span></a>      public static function <a class="function" onClick="logFunction('get_users_parameters')" href="../_functions/get_users_parameters.html" onMouseOver="funcPopup(event,'get_users_parameters')">get_users_parameters</a>() {
<a name="l599"><span class="linenum"> 599</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l600"><span class="linenum"> 600</span></a>              array(
<a name="l601"><span class="linenum"> 601</span></a>                  'criteria' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l602"><span class="linenum"> 602</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l603"><span class="linenum"> 603</span></a>                          array(
<a name="l604"><span class="linenum"> 604</span></a>                              'key' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'the user column to search, expected keys (value format) are:
<a name="l605"><span class="linenum"> 605</span></a>                                  &quot;id&quot; (int) matching user id,
<a name="l606"><span class="linenum"> 606</span></a>                                  &quot;lastname&quot; (string) user last <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a> (Note: you can use % for searching but it may be considerably slower!),
<a name="l607"><span class="linenum"> 607</span></a>                                  &quot;firstname&quot; (string) user first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a> (Note: you can use % for searching but it may be considerably slower!),
<a name="l608"><span class="linenum"> 608</span></a>                                  &quot;idnumber&quot; (string) matching user idnumber,
<a name="l609"><span class="linenum"> 609</span></a>                                  &quot;username&quot; (string) matching user username,
<a name="l610"><span class="linenum"> 610</span></a>                                  &quot;email&quot; (string) user email (Note: you can use % for searching but it may be considerably slower!),
<a name="l611"><span class="linenum"> 611</span></a>                                  &quot;auth&quot; (string) matching user auth plugin'),
<a name="l612"><span class="linenum"> 612</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the value to search')
<a name="l613"><span class="linenum"> 613</span></a>                          )
<a name="l614"><span class="linenum"> 614</span></a>                      ), 'the key/value pairs to be considered in user search. Values can not be empty.
<a name="l615"><span class="linenum"> 615</span></a>                          Specify different keys only once (fullname =&gt; \'user1\', auth =&gt; \'manual\', ...) -
<a name="l616"><span class="linenum"> 616</span></a>                          key occurences are forbidden.
<a name="l617"><span class="linenum"> 617</span></a>                          The search is executed with AND operator on the criterias. Invalid criterias (keys) are ignored,
<a name="l618"><span class="linenum"> 618</span></a>                          the search is still executed on the valid criterias.
<a name="l619"><span class="linenum"> 619</span></a>                          You can search without criteria, but the function is not designed for it.
<a name="l620"><span class="linenum"> 620</span></a>                          It could very slow or timeout. The function is designed to search some specific users.'
<a name="l621"><span class="linenum"> 621</span></a>                  )
<a name="l622"><span class="linenum"> 622</span></a>              )
<a name="l623"><span class="linenum"> 623</span></a>          );
<a name="l624"><span class="linenum"> 624</span></a>      }
<a name="l625"><span class="linenum"> 625</span></a>  
<a name="l626"><span class="linenum"> 626</span></a>      <span class="comment">/**</span>
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">     * Retrieve matching user.</span>
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">     *</span>
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">     * @param array $criteria the allowed array keys are id/lastname/firstname/idnumber/username/email/auth.</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">     * @return array An array of arrays containing user profiles.</span>
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">     */</span>
<a name="l634"><span class="linenum"> 634</span></a>      public static function <a class="function" onClick="logFunction('get_users')" href="../_functions/get_users.html" onMouseOver="funcPopup(event,'get_users')">get_users</a>(<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a> = array()) {
<a name="l635"><span class="linenum"> 635</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l636"><span class="linenum"> 636</span></a>  
<a name="l637"><span class="linenum"> 637</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l638"><span class="linenum"> 638</span></a>  
<a name="l639"><span class="linenum"> 639</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_users_parameters')" href="../_functions/get_users_parameters.html" onMouseOver="funcPopup(event,'get_users_parameters')">get_users_parameters</a>(),
<a name="l640"><span class="linenum"> 640</span></a>                  array('criteria' =&gt; <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>));
<a name="l641"><span class="linenum"> 641</span></a>  
<a name="l642"><span class="linenum"> 642</span></a>  <span class="comment">        // Validate the criteria and retrieve the users.</span>
<a name="l643"><span class="linenum"> 643</span></a>          <a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> = array();
<a name="l644"><span class="linenum"> 644</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l645"><span class="linenum"> 645</span></a>          <a class="var it6048" onMouseOver="hilite(6048)" onMouseOut="lolite()" onClick="logVariable('sqlparams')" href="../_variables/sqlparams.html">$sqlparams</a> = array();
<a name="l646"><span class="linenum"> 646</span></a>          <a class="var it17926" onMouseOver="hilite(17926)" onMouseOut="lolite()" onClick="logVariable('usedkeys')" href="../_variables/usedkeys.html">$usedkeys</a> = array();
<a name="l647"><span class="linenum"> 647</span></a>  
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">        // Do not retrieve deleted users.</span>
<a name="l649"><span class="linenum"> 649</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = ' deleted = 0';
<a name="l650"><span class="linenum"> 650</span></a>  
<a name="l651"><span class="linenum"> 651</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['criteria'] as <a class="var it17927" onMouseOver="hilite(17927)" onMouseOut="lolite()" onClick="logVariable('criteriaindex')" href="../_variables/criteriaindex.html">$criteriaindex</a> =&gt; <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>) {
<a name="l652"><span class="linenum"> 652</span></a>  
<a name="l653"><span class="linenum"> 653</span></a>  <span class="comment">            // Check that the criteria has never been used.</span>
<a name="l654"><span class="linenum"> 654</span></a>              if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'], <a class="var it17926" onMouseOver="hilite(17926)" onMouseOut="lolite()" onClick="logVariable('usedkeys')" href="../_variables/usedkeys.html">$usedkeys</a>)) {
<a name="l655"><span class="linenum"> 655</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('keyalreadyset', '', '', null, 'The key ' . <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'] . ' can only be sent once');
<a name="l656"><span class="linenum"> 656</span></a>              } else {
<a name="l657"><span class="linenum"> 657</span></a>                  <a class="var it17926" onMouseOver="hilite(17926)" onMouseOut="lolite()" onClick="logVariable('usedkeys')" href="../_variables/usedkeys.html">$usedkeys</a>[<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']] = true;
<a name="l658"><span class="linenum"> 658</span></a>              }
<a name="l659"><span class="linenum"> 659</span></a>  
<a name="l660"><span class="linenum"> 660</span></a>              <a class="var it17928" onMouseOver="hilite(17928)" onMouseOut="lolite()" onClick="logVariable('invalidcriteria')" href="../_variables/invalidcriteria.html">$invalidcriteria</a> = false;
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment">            // Clean the parameters.</span>
<a name="l662"><span class="linenum"> 662</span></a>              <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>;
<a name="l663"><span class="linenum"> 663</span></a>              switch (<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']) {
<a name="l664"><span class="linenum"> 664</span></a>                  case 'id':
<a name="l665"><span class="linenum"> 665</span></a>                      <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('id');
<a name="l666"><span class="linenum"> 666</span></a>                      break;
<a name="l667"><span class="linenum"> 667</span></a>                  case 'idnumber':
<a name="l668"><span class="linenum"> 668</span></a>                      <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('idnumber');
<a name="l669"><span class="linenum"> 669</span></a>                      break;
<a name="l670"><span class="linenum"> 670</span></a>                  case 'username':
<a name="l671"><span class="linenum"> 671</span></a>                      <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('username');
<a name="l672"><span class="linenum"> 672</span></a>                      break;
<a name="l673"><span class="linenum"> 673</span></a>                  case 'email':
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">                    // We use PARAM_RAW to allow searches with %.</span>
<a name="l675"><span class="linenum"> 675</span></a>                      <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('email');
<a name="l676"><span class="linenum"> 676</span></a>                      break;
<a name="l677"><span class="linenum"> 677</span></a>                  case 'auth':
<a name="l678"><span class="linenum"> 678</span></a>                      <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('auth');
<a name="l679"><span class="linenum"> 679</span></a>                      break;
<a name="l680"><span class="linenum"> 680</span></a>                  case 'lastname':
<a name="l681"><span class="linenum"> 681</span></a>                  case 'firstname':
<a name="l682"><span class="linenum"> 682</span></a>                      <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('firstname');
<a name="l683"><span class="linenum"> 683</span></a>                      break;
<a name="l684"><span class="linenum"> 684</span></a>                  default:
<a name="l685"><span class="linenum"> 685</span></a>  <span class="comment">                    // Send back a warning that this search key is not supported in this version.</span>
<a name="l686"><span class="linenum"> 686</span></a>  <span class="comment">                    // This warning will make the function extandable without breaking clients.</span>
<a name="l687"><span class="linenum"> 687</span></a>                      <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>[] = array(
<a name="l688"><span class="linenum"> 688</span></a>                          'item' =&gt; <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'],
<a name="l689"><span class="linenum"> 689</span></a>                          'warningcode' =&gt; 'invalidfieldparameter',
<a name="l690"><span class="linenum"> 690</span></a>                          'message' =&gt;
<a name="l691"><span class="linenum"> 691</span></a>                              'The search key \'' . <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'] . '\' is not supported, look at the web service documentation'
<a name="l692"><span class="linenum"> 692</span></a>                      );
<a name="l693"><span class="linenum"> 693</span></a>  <span class="comment">                    // Do not add this invalid criteria to the created SQL request.</span>
<a name="l694"><span class="linenum"> 694</span></a>                      <a class="var it17928" onMouseOver="hilite(17928)" onMouseOut="lolite()" onClick="logVariable('invalidcriteria')" href="../_variables/invalidcriteria.html">$invalidcriteria</a> = true;
<a name="l695"><span class="linenum"> 695</span></a>                      unset(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['criteria'][<a class="var it17927" onMouseOver="hilite(17927)" onMouseOut="lolite()" onClick="logVariable('criteriaindex')" href="../_variables/criteriaindex.html">$criteriaindex</a>]);
<a name="l696"><span class="linenum"> 696</span></a>                      break;
<a name="l697"><span class="linenum"> 697</span></a>              }
<a name="l698"><span class="linenum"> 698</span></a>  
<a name="l699"><span class="linenum"> 699</span></a>              if (!<a class="var it17928" onMouseOver="hilite(17928)" onMouseOut="lolite()" onClick="logVariable('invalidcriteria')" href="../_variables/invalidcriteria.html">$invalidcriteria</a>) {
<a name="l700"><span class="linenum"> 700</span></a>                  <a class="var it12435" onMouseOver="hilite(12435)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a> = <a class="function" onClick="logFunction('clean_param')" href="../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['value'], <a class="var it12395" onMouseOver="hilite(12395)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a>);
<a name="l701"><span class="linenum"> 701</span></a>  
<a name="l702"><span class="linenum"> 702</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= ' AND ';
<a name="l703"><span class="linenum"> 703</span></a>  
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">                // Create the SQL.</span>
<a name="l705"><span class="linenum"> 705</span></a>                  switch (<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']) {
<a name="l706"><span class="linenum"> 706</span></a>                      case 'id':
<a name="l707"><span class="linenum"> 707</span></a>                      case 'idnumber':
<a name="l708"><span class="linenum"> 708</span></a>                      case 'username':
<a name="l709"><span class="linenum"> 709</span></a>                      case 'auth':
<a name="l710"><span class="linenum"> 710</span></a>                          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'] . ' = :' . <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'];
<a name="l711"><span class="linenum"> 711</span></a>                          <a class="var it6048" onMouseOver="hilite(6048)" onMouseOut="lolite()" onClick="logVariable('sqlparams')" href="../_variables/sqlparams.html">$sqlparams</a>[<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']] = <a class="var it12435" onMouseOver="hilite(12435)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a>;
<a name="l712"><span class="linenum"> 712</span></a>                          break;
<a name="l713"><span class="linenum"> 713</span></a>                      case 'email':
<a name="l714"><span class="linenum"> 714</span></a>                      case 'lastname':
<a name="l715"><span class="linenum"> 715</span></a>                      case 'firstname':
<a name="l716"><span class="linenum"> 716</span></a>                          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_like')" href="../_functions/sql_like.html" onMouseOver="funcPopup(event,'sql_like')">sql_like</a>(<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'], ':' . <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'], false);
<a name="l717"><span class="linenum"> 717</span></a>                          <a class="var it6048" onMouseOver="hilite(6048)" onMouseOut="lolite()" onClick="logVariable('sqlparams')" href="../_variables/sqlparams.html">$sqlparams</a>[<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']] = <a class="var it12435" onMouseOver="hilite(12435)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a>;
<a name="l718"><span class="linenum"> 718</span></a>                          break;
<a name="l719"><span class="linenum"> 719</span></a>                      default:
<a name="l720"><span class="linenum"> 720</span></a>                          break;
<a name="l721"><span class="linenum"> 721</span></a>                  }
<a name="l722"><span class="linenum"> 722</span></a>              }
<a name="l723"><span class="linenum"> 723</span></a>          }
<a name="l724"><span class="linenum"> 724</span></a>  
<a name="l725"><span class="linenum"> 725</span></a>          <a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('user', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it6048" onMouseOver="hilite(6048)" onMouseOut="lolite()" onClick="logVariable('sqlparams')" href="../_variables/sqlparams.html">$sqlparams</a>, 'id ASC');
<a name="l726"><span class="linenum"> 726</span></a>  
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">        // Finally retrieve each users information.</span>
<a name="l728"><span class="linenum"> 728</span></a>          <a class="var it17925" onMouseOver="hilite(17925)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a> = array();
<a name="l729"><span class="linenum"> 729</span></a>          foreach (<a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> as <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l730"><span class="linenum"> 730</span></a>              <a class="var it10665" onMouseOver="hilite(10665)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a> = <a class="function" onClick="logFunction('user_get_user_details_courses')" href="../_functions/user_get_user_details_courses.html" onMouseOver="funcPopup(event,'user_get_user_details_courses')">user_get_user_details_courses</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l731"><span class="linenum"> 731</span></a>  
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment">            // Return the user only if all the searched fields are returned.</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment">            // Otherwise it means that the $USER was not allowed to search the returned user.</span>
<a name="l734"><span class="linenum"> 734</span></a>              if (!empty(<a class="var it10665" onMouseOver="hilite(10665)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>)) {
<a name="l735"><span class="linenum"> 735</span></a>                  <a class="var it17929" onMouseOver="hilite(17929)" onMouseOut="lolite()" onClick="logVariable('validuser')" href="../_variables/validuser.html">$validuser</a> = true;
<a name="l736"><span class="linenum"> 736</span></a>  
<a name="l737"><span class="linenum"> 737</span></a>                  foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['criteria'] as <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>) {
<a name="l738"><span class="linenum"> 738</span></a>                      if (empty(<a class="var it10665" onMouseOver="hilite(10665)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>[<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']])) {
<a name="l739"><span class="linenum"> 739</span></a>                          <a class="var it17929" onMouseOver="hilite(17929)" onMouseOut="lolite()" onClick="logVariable('validuser')" href="../_variables/validuser.html">$validuser</a> = false;
<a name="l740"><span class="linenum"> 740</span></a>                      }
<a name="l741"><span class="linenum"> 741</span></a>                  }
<a name="l742"><span class="linenum"> 742</span></a>  
<a name="l743"><span class="linenum"> 743</span></a>                  if (<a class="var it17929" onMouseOver="hilite(17929)" onMouseOut="lolite()" onClick="logVariable('validuser')" href="../_variables/validuser.html">$validuser</a>) {
<a name="l744"><span class="linenum"> 744</span></a>                      <a class="var it17925" onMouseOver="hilite(17925)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a>[] = <a class="var it10665" onMouseOver="hilite(10665)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>;
<a name="l745"><span class="linenum"> 745</span></a>                  }
<a name="l746"><span class="linenum"> 746</span></a>              }
<a name="l747"><span class="linenum"> 747</span></a>          }
<a name="l748"><span class="linenum"> 748</span></a>  
<a name="l749"><span class="linenum"> 749</span></a>          return array('users' =&gt; <a class="var it17925" onMouseOver="hilite(17925)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a>, 'warnings' =&gt; <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>);
<a name="l750"><span class="linenum"> 750</span></a>      }
<a name="l751"><span class="linenum"> 751</span></a>  
<a name="l752"><span class="linenum"> 752</span></a>      <span class="comment">/**</span>
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment">     * Returns description of get_users result value.</span>
<a name="l754"><span class="linenum"> 754</span></a>  <span class="comment">     *</span>
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment">     * @return external_description</span>
<a name="l756"><span class="linenum"> 756</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment">     */</span>
<a name="l758"><span class="linenum"> 758</span></a>      public static function <a class="function" onClick="logFunction('get_users_returns')" href="../_functions/get_users_returns.html" onMouseOver="funcPopup(event,'get_users_returns')">get_users_returns</a>() {
<a name="l759"><span class="linenum"> 759</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l760"><span class="linenum"> 760</span></a>              array('users' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l761"><span class="linenum"> 761</span></a>                                  self::<a class="function" onClick="logFunction('user_description')" href="../_functions/user_description.html" onMouseOver="funcPopup(event,'user_description')">user_description</a>()
<a name="l762"><span class="linenum"> 762</span></a>                               ),
<a name="l763"><span class="linenum"> 763</span></a>                    'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>('always set to \'key\'', 'faulty key name')
<a name="l764"><span class="linenum"> 764</span></a>              )
<a name="l765"><span class="linenum"> 765</span></a>          );
<a name="l766"><span class="linenum"> 766</span></a>      }
<a name="l767"><span class="linenum"> 767</span></a>  
<a name="l768"><span class="linenum"> 768</span></a>      <span class="comment">/**</span>
<a name="l769"><span class="linenum"> 769</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l770"><span class="linenum"> 770</span></a>  <span class="comment">     *</span>
<a name="l771"><span class="linenum"> 771</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l772"><span class="linenum"> 772</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment">     */</span>
<a name="l774"><span class="linenum"> 774</span></a>      public static function <a class="function" onClick="logFunction('get_course_user_profiles_parameters')" href="../_functions/get_course_user_profiles_parameters.html" onMouseOver="funcPopup(event,'get_course_user_profiles_parameters')">get_course_user_profiles_parameters</a>() {
<a name="l775"><span class="linenum"> 775</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l776"><span class="linenum"> 776</span></a>              array(
<a name="l777"><span class="linenum"> 777</span></a>                  'userlist' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l778"><span class="linenum"> 778</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l779"><span class="linenum"> 779</span></a>                          array(
<a name="l780"><span class="linenum"> 780</span></a>                              'userid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('id'), 'userid'),
<a name="l781"><span class="linenum"> 781</span></a>                              'courseid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'courseid'),
<a name="l782"><span class="linenum"> 782</span></a>                          )
<a name="l783"><span class="linenum"> 783</span></a>                      )
<a name="l784"><span class="linenum"> 784</span></a>                  )
<a name="l785"><span class="linenum"> 785</span></a>              )
<a name="l786"><span class="linenum"> 786</span></a>          );
<a name="l787"><span class="linenum"> 787</span></a>      }
<a name="l788"><span class="linenum"> 788</span></a>  
<a name="l789"><span class="linenum"> 789</span></a>      <span class="comment">/**</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">     * Get course participant's details</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">     *</span>
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment">     * @param array $userlist  array of user ids and according course ids</span>
<a name="l793"><span class="linenum"> 793</span></a>  <span class="comment">     * @return array An array of arrays describing course participants</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l795"><span class="linenum"> 795</span></a>  <span class="comment">     */</span>
<a name="l796"><span class="linenum"> 796</span></a>      public static function <a class="function" onClick="logFunction('get_course_user_profiles')" href="../_functions/get_course_user_profiles.html" onMouseOver="funcPopup(event,'get_course_user_profiles')">get_course_user_profiles</a>(<a class="var it1811" onMouseOver="hilite(1811)" onMouseOut="lolite()" onClick="logVariable('userlist')" href="../_variables/userlist.html">$userlist</a>) {
<a name="l797"><span class="linenum"> 797</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l798"><span class="linenum"> 798</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l799"><span class="linenum"> 799</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_course_user_profiles_parameters')" href="../_functions/get_course_user_profiles_parameters.html" onMouseOver="funcPopup(event,'get_course_user_profiles_parameters')">get_course_user_profiles_parameters</a>(), array('userlist' =&gt; <a class="var it1811" onMouseOver="hilite(1811)" onMouseOut="lolite()" onClick="logVariable('userlist')" href="../_variables/userlist.html">$userlist</a>));
<a name="l800"><span class="linenum"> 800</span></a>  
<a name="l801"><span class="linenum"> 801</span></a>          <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a> = array();
<a name="l802"><span class="linenum"> 802</span></a>          <a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../_variables/courseids.html">$courseids</a> = array();
<a name="l803"><span class="linenum"> 803</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userlist'] as <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l804"><span class="linenum"> 804</span></a>              <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>[] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>['userid'];
<a name="l805"><span class="linenum"> 805</span></a>              <a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../_variables/courseids.html">$courseids</a>[<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>['userid']] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>['courseid'];
<a name="l806"><span class="linenum"> 806</span></a>          }
<a name="l807"><span class="linenum"> 807</span></a>  
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">        // Cache all courses.</span>
<a name="l809"><span class="linenum"> 809</span></a>          <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = array();
<a name="l810"><span class="linenum"> 810</span></a>          <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it17930" onMouseOver="hilite(17930)" onMouseOut="lolite()" onClick="logVariable('sqlcourseids')" href="../_variables/sqlcourseids.html">$sqlcourseids</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>) = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="phpfunction" onClick="logFunction('array_unique')" href="../_functions/array_unique.html" onMouseOver="phpfuncPopup(event,'array_unique')">array_unique</a>(<a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../_variables/courseids.html">$courseids</a>), <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l811"><span class="linenum"> 811</span></a>          <a class="var it17931" onMouseOver="hilite(17931)" onMouseOut="lolite()" onClick="logVariable('cselect')" href="../_variables/cselect.html">$cselect</a> = ', ' . <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>('ctx');
<a name="l812"><span class="linenum"> 812</span></a>          <a class="var it17932" onMouseOver="hilite(17932)" onMouseOut="lolite()" onClick="logVariable('cjoin')" href="../_variables/cjoin.html">$cjoin</a> = &quot;LEFT JOIN {context} ctx <a class="function" onClick="logFunction('ON')" href="../_functions/on.html" onMouseOver="funcPopup(event,'on')">ON</a> (ctx.instanceid = c.id AND ctx.contextlevel = :contextlevel)&quot;;
<a name="l813"><span class="linenum"> 813</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['contextlevel'] = <a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a>;
<a name="l814"><span class="linenum"> 814</span></a>          <a class="var it4194" onMouseOver="hilite(4194)" onMouseOut="lolite()" onClick="logVariable('coursesql')" href="../_variables/coursesql.html">$coursesql</a> = &quot;SELECT c.* <a class="var it17931" onMouseOver="hilite(17931)" onMouseOut="lolite()" onClick="logVariable('cselect')" href="../_variables/cselect.html">$cselect</a>
<a name="l815"><span class="linenum"> 815</span></a>                          FROM {course} c <a class="var it17932" onMouseOver="hilite(17932)" onMouseOut="lolite()" onClick="logVariable('cjoin')" href="../_variables/cjoin.html">$cjoin</a>
<a name="l816"><span class="linenum"> 816</span></a>                         WHERE c.id <a class="var it17930" onMouseOver="hilite(17930)" onMouseOut="lolite()" onClick="logVariable('sqlcourseids')" href="../_variables/sqlcourseids.html">$sqlcourseids</a>&quot;;
<a name="l817"><span class="linenum"> 817</span></a>          <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it4194" onMouseOver="hilite(4194)" onMouseOut="lolite()" onClick="logVariable('coursesql')" href="../_variables/coursesql.html">$coursesql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l818"><span class="linenum"> 818</span></a>          foreach (<a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> as <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">            // Adding course contexts to cache.</span>
<a name="l820"><span class="linenum"> 820</span></a>              <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">            // Cache courses.</span>
<a name="l822"><span class="linenum"> 822</span></a>              <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>;
<a name="l823"><span class="linenum"> 823</span></a>          }
<a name="l824"><span class="linenum"> 824</span></a>          <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l825"><span class="linenum"> 825</span></a>  
<a name="l826"><span class="linenum"> 826</span></a>          <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it15792" onMouseOver="hilite(15792)" onMouseOut="lolite()" onClick="logVariable('sqluserids')" href="../_variables/sqluserids.html">$sqluserids</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>) = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l827"><span class="linenum"> 827</span></a>          <a class="var it15793" onMouseOver="hilite(15793)" onMouseOut="lolite()" onClick="logVariable('uselect')" href="../_variables/uselect.html">$uselect</a> = ', ' . <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>('ctx');
<a name="l828"><span class="linenum"> 828</span></a>          <a class="var it15794" onMouseOver="hilite(15794)" onMouseOut="lolite()" onClick="logVariable('ujoin')" href="../_variables/ujoin.html">$ujoin</a> = &quot;LEFT JOIN {context} ctx <a class="function" onClick="logFunction('ON')" href="../_functions/on.html" onMouseOver="funcPopup(event,'on')">ON</a> (ctx.instanceid = u.id AND ctx.contextlevel = :contextlevel)&quot;;
<a name="l829"><span class="linenum"> 829</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['contextlevel'] = <a class="constant" onClick="logConstant('CONTEXT_USER')" href="../_constants/CONTEXT_USER.html" onMouseOver="constPopup(event,'CONTEXT_USER')">CONTEXT_USER</a>;
<a name="l830"><span class="linenum"> 830</span></a>          <a class="var it5330" onMouseOver="hilite(5330)" onMouseOut="lolite()" onClick="logVariable('usersql')" href="../_variables/usersql.html">$usersql</a> = &quot;SELECT u.* <a class="var it15793" onMouseOver="hilite(15793)" onMouseOut="lolite()" onClick="logVariable('uselect')" href="../_variables/uselect.html">$uselect</a>
<a name="l831"><span class="linenum"> 831</span></a>                        FROM {user} u <a class="var it15794" onMouseOver="hilite(15794)" onMouseOut="lolite()" onClick="logVariable('ujoin')" href="../_variables/ujoin.html">$ujoin</a>
<a name="l832"><span class="linenum"> 832</span></a>                       WHERE u.id <a class="var it15792" onMouseOver="hilite(15792)" onMouseOut="lolite()" onClick="logVariable('sqluserids')" href="../_variables/sqluserids.html">$sqluserids</a>&quot;;
<a name="l833"><span class="linenum"> 833</span></a>          <a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it5330" onMouseOver="hilite(5330)" onMouseOut="lolite()" onClick="logVariable('usersql')" href="../_variables/usersql.html">$usersql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l834"><span class="linenum"> 834</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l835"><span class="linenum"> 835</span></a>          foreach (<a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> as <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l836"><span class="linenum"> 836</span></a>              if (!empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('deleted')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/deleted.html">deleted</a>)) {
<a name="l837"><span class="linenum"> 837</span></a>                  continue;
<a name="l838"><span class="linenum"> 838</span></a>              }
<a name="l839"><span class="linenum"> 839</span></a>              <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l840"><span class="linenum"> 840</span></a>              <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../_variables/courseids.html">$courseids</a>[<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]];
<a name="l841"><span class="linenum"> 841</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../_variables/courseids.html">$courseids</a>[<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>], <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>);
<a name="l842"><span class="linenum"> 842</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l843"><span class="linenum"> 843</span></a>              if (<a class="var it17933" onMouseOver="hilite(17933)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a> = <a class="function" onClick="logFunction('user_get_user_details')" href="../_functions/user_get_user_details.html" onMouseOver="funcPopup(event,'user_get_user_details')">user_get_user_details</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>)) {
<a name="l844"><span class="linenum"> 844</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[] = <a class="var it17933" onMouseOver="hilite(17933)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>;
<a name="l845"><span class="linenum"> 845</span></a>              }
<a name="l846"><span class="linenum"> 846</span></a>          }
<a name="l847"><span class="linenum"> 847</span></a>  
<a name="l848"><span class="linenum"> 848</span></a>          <a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l849"><span class="linenum"> 849</span></a>  
<a name="l850"><span class="linenum"> 850</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l851"><span class="linenum"> 851</span></a>      }
<a name="l852"><span class="linenum"> 852</span></a>  
<a name="l853"><span class="linenum"> 853</span></a>      <span class="comment">/**</span>
<a name="l854"><span class="linenum"> 854</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment">     *</span>
<a name="l856"><span class="linenum"> 856</span></a>  <span class="comment">     * @return external_description</span>
<a name="l857"><span class="linenum"> 857</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l858"><span class="linenum"> 858</span></a>  <span class="comment">     */</span>
<a name="l859"><span class="linenum"> 859</span></a>      public static function <a class="function" onClick="logFunction('get_course_user_profiles_returns')" href="../_functions/get_course_user_profiles_returns.html" onMouseOver="funcPopup(event,'get_course_user_profiles_returns')">get_course_user_profiles_returns</a>() {
<a name="l860"><span class="linenum"> 860</span></a>          <a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a> = array(
<a name="l861"><span class="linenum"> 861</span></a>              'groups' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l862"><span class="linenum"> 862</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l863"><span class="linenum"> 863</span></a>                      array(
<a name="l864"><span class="linenum"> 864</span></a>                          'id'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'group id'),
<a name="l865"><span class="linenum"> 865</span></a>                          'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'group name'),
<a name="l866"><span class="linenum"> 866</span></a>                          'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'group description'),
<a name="l867"><span class="linenum"> 867</span></a>                          'descriptionformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('description'),
<a name="l868"><span class="linenum"> 868</span></a>                      )
<a name="l869"><span class="linenum"> 869</span></a>                  ), 'user groups', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l870"><span class="linenum"> 870</span></a>              'roles' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l871"><span class="linenum"> 871</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l872"><span class="linenum"> 872</span></a>                      array(
<a name="l873"><span class="linenum"> 873</span></a>                          'roleid'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'role id'),
<a name="l874"><span class="linenum"> 874</span></a>                          'name'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'role name'),
<a name="l875"><span class="linenum"> 875</span></a>                          'shortname'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'role shortname'),
<a name="l876"><span class="linenum"> 876</span></a>                          'sortorder'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'role sortorder')
<a name="l877"><span class="linenum"> 877</span></a>                      )
<a name="l878"><span class="linenum"> 878</span></a>                  ), 'user roles', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l879"><span class="linenum"> 879</span></a>              'enrolledcourses' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l880"><span class="linenum"> 880</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l881"><span class="linenum"> 881</span></a>                      array(
<a name="l882"><span class="linenum"> 882</span></a>                          'id'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Id of the course'),
<a name="l883"><span class="linenum"> 883</span></a>                          'fullname'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Fullname of the course'),
<a name="l884"><span class="linenum"> 884</span></a>                          'shortname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Shortname of the course')
<a name="l885"><span class="linenum"> 885</span></a>                      )
<a name="l886"><span class="linenum"> 886</span></a>                  ), 'Courses where the user is enrolled - limited by which courses the user is able to see', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>)
<a name="l887"><span class="linenum"> 887</span></a>          );
<a name="l888"><span class="linenum"> 888</span></a>  
<a name="l889"><span class="linenum"> 889</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('user_description')" href="../_functions/user_description.html" onMouseOver="funcPopup(event,'user_description')">user_description</a>(<a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a>));
<a name="l890"><span class="linenum"> 890</span></a>      }
<a name="l891"><span class="linenum"> 891</span></a>  
<a name="l892"><span class="linenum"> 892</span></a>      <span class="comment">/**</span>
<a name="l893"><span class="linenum"> 893</span></a>  <span class="comment">     * Create user return value description.</span>
<a name="l894"><span class="linenum"> 894</span></a>  <span class="comment">     *</span>
<a name="l895"><span class="linenum"> 895</span></a>  <span class="comment">     * @param array $additionalfields some additional field</span>
<a name="l896"><span class="linenum"> 896</span></a>  <span class="comment">     * @return single_structure_description</span>
<a name="l897"><span class="linenum"> 897</span></a>  <span class="comment">     */</span>
<a name="l898"><span class="linenum"> 898</span></a>      public static function <a class="function" onClick="logFunction('user_description')" href="../_functions/user_description.html" onMouseOver="funcPopup(event,'user_description')">user_description</a>(<a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a> = array()) {
<a name="l899"><span class="linenum"> 899</span></a>          <a class="var it4004" onMouseOver="hilite(4004)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a> = array(
<a name="l900"><span class="linenum"> 900</span></a>              'id'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('id'), 'ID of the user'),
<a name="l901"><span class="linenum"> 901</span></a>              'username'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('username'), 'The username', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l902"><span class="linenum"> 902</span></a>              'firstname'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('firstname'), 'The first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(s) of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l903"><span class="linenum"> 903</span></a>              'lastname'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('lastname'), 'The family name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l904"><span class="linenum"> 904</span></a>              'fullname'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('firstname'), 'The fullname of the user'),
<a name="l905"><span class="linenum"> 905</span></a>              'email'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('email'), 'An email address - allow email as root@localhost', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l906"><span class="linenum"> 906</span></a>              'address'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('address'), 'Postal address', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l907"><span class="linenum"> 907</span></a>              'phone1'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('phone1'), 'Phone 1', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l908"><span class="linenum"> 908</span></a>              'phone2'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('phone2'), 'Phone 2', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l909"><span class="linenum"> 909</span></a>              'icq'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('icq'), 'icq number', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l910"><span class="linenum"> 910</span></a>              'skype'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('skype'), 'skype id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l911"><span class="linenum"> 911</span></a>              'yahoo'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('yahoo'), 'yahoo id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l912"><span class="linenum"> 912</span></a>              'aim'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('aim'), 'aim id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l913"><span class="linenum"> 913</span></a>              'msn'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('msn'), 'msn number', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l914"><span class="linenum"> 914</span></a>              'department'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('department'), 'department', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l915"><span class="linenum"> 915</span></a>              'institution' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('institution'), 'institution', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l916"><span class="linenum"> 916</span></a>              'idnumber'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('idnumber'), 'An arbitrary ID code number perhaps from the institution', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l917"><span class="linenum"> 917</span></a>              'interests'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'user interests (separated by commas)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l918"><span class="linenum"> 918</span></a>              'firstaccess' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('firstaccess'), 'first access to the site (0 if never)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l919"><span class="linenum"> 919</span></a>              'lastaccess'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('lastaccess'), 'last access to the site (0 if never)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l920"><span class="linenum"> 920</span></a>              'auth'        =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('auth'), 'Auth plugins include manual, ldap, imap, etc', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l921"><span class="linenum"> 921</span></a>              'confirmed'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('confirmed'), 'Active user: 1 if confirmed, 0 otherwise', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l922"><span class="linenum"> 922</span></a>              'lang'        =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('lang'), 'Language code such as &quot;en&quot;, must exist on server', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l923"><span class="linenum"> 923</span></a>              'calendartype' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('calendartype'), 'Calendar type such as &quot;gregorian&quot;, must exist on server', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l924"><span class="linenum"> 924</span></a>              'theme'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('theme'), 'Theme name such as &quot;standard&quot;, must exist on server', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l925"><span class="linenum"> 925</span></a>              'timezone'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('timezone'), 'Timezone code such as Australia/Perth, or 99 for default', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l926"><span class="linenum"> 926</span></a>              'mailformat'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('mailformat'), 'Mail format code is 0 for plain text, 1 for HTML etc', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l927"><span class="linenum"> 927</span></a>              'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('description'), 'User profile description', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l928"><span class="linenum"> 928</span></a>              'descriptionformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('descriptionformat'), <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l929"><span class="linenum"> 929</span></a>              'city'        =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('city'), 'Home city of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l930"><span class="linenum"> 930</span></a>              'url'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('url'), 'URL of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l931"><span class="linenum"> 931</span></a>              'country'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_property_type')" href="../_functions/get_property_type.html" onMouseOver="funcPopup(event,'get_property_type')">get_property_type</a>('country'), 'Home country code of the user, such as AU or CZ', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l932"><span class="linenum"> 932</span></a>              'profileimageurlsmall' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'User image profile URL - small version'),
<a name="l933"><span class="linenum"> 933</span></a>              'profileimageurl' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'User image profile URL - big version'),
<a name="l934"><span class="linenum"> 934</span></a>              'customfields' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l935"><span class="linenum"> 935</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l936"><span class="linenum"> 936</span></a>                      array(
<a name="l937"><span class="linenum"> 937</span></a>                          'type'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The type of the custom field - text field, checkbox...'),
<a name="l938"><span class="linenum"> 938</span></a>                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the custom field'),
<a name="l939"><span class="linenum"> 939</span></a>                          'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The name of the custom field'),
<a name="l940"><span class="linenum"> 940</span></a>                          'shortname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The shortname of the custom field - to be able to build the field class in the code'),
<a name="l941"><span class="linenum"> 941</span></a>                      )
<a name="l942"><span class="linenum"> 942</span></a>                  ), 'User custom <a class="function" onClick="logFunction('fields')" href="../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a> (also known as user profile fields)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l943"><span class="linenum"> 943</span></a>              'preferences' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l944"><span class="linenum"> 944</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l945"><span class="linenum"> 945</span></a>                      array(
<a name="l946"><span class="linenum"> 946</span></a>                          'name'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the preferences'),
<a name="l947"><span class="linenum"> 947</span></a>                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the custom field'),
<a name="l948"><span class="linenum"> 948</span></a>                      )
<a name="l949"><span class="linenum"> 949</span></a>              ), 'Users preferences', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>)
<a name="l950"><span class="linenum"> 950</span></a>          );
<a name="l951"><span class="linenum"> 951</span></a>          if (!empty(<a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a>)) {
<a name="l952"><span class="linenum"> 952</span></a>              <a class="var it4004" onMouseOver="hilite(4004)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4004" onMouseOver="hilite(4004)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a>, <a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a>);
<a name="l953"><span class="linenum"> 953</span></a>          }
<a name="l954"><span class="linenum"> 954</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it4004" onMouseOver="hilite(4004)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a>);
<a name="l955"><span class="linenum"> 955</span></a>      }
<a name="l956"><span class="linenum"> 956</span></a>  
<a name="l957"><span class="linenum"> 957</span></a>      <span class="comment">/**</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment">     *</span>
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">     */</span>
<a name="l963"><span class="linenum"> 963</span></a>      public static function <a class="function" onClick="logFunction('add_user_private_files_parameters')" href="../_functions/add_user_private_files_parameters.html" onMouseOver="funcPopup(event,'add_user_private_files_parameters')">add_user_private_files_parameters</a>() {
<a name="l964"><span class="linenum"> 964</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l965"><span class="linenum"> 965</span></a>              array(
<a name="l966"><span class="linenum"> 966</span></a>                  'draftid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'draft area id')
<a name="l967"><span class="linenum"> 967</span></a>              )
<a name="l968"><span class="linenum"> 968</span></a>          );
<a name="l969"><span class="linenum"> 969</span></a>      }
<a name="l970"><span class="linenum"> 970</span></a>  
<a name="l971"><span class="linenum"> 971</span></a>      <span class="comment">/**</span>
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">     * Copy files from a draft area to users private files area.</span>
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">     *</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment">     * @throws invalid_parameter_exception</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment">     * @param int $draftid Id of a draft area containing files.</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">     * @return array An array of warnings</span>
<a name="l977"><span class="linenum"> 977</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l978"><span class="linenum"> 978</span></a>  <span class="comment">     */</span>
<a name="l979"><span class="linenum"> 979</span></a>      public static function <a class="function" onClick="logFunction('add_user_private_files')" href="../_functions/add_user_private_files.html" onMouseOver="funcPopup(event,'add_user_private_files')">add_user_private_files</a>(<a class="var it2102" onMouseOver="hilite(2102)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../_variables/draftid.html">$draftid</a>) {
<a name="l980"><span class="linenum"> 980</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l981"><span class="linenum"> 981</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a> . &quot;/filelib.php&quot;);
<a name="l982"><span class="linenum"> 982</span></a>  
<a name="l983"><span class="linenum"> 983</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('add_user_private_files_parameters')" href="../_functions/add_user_private_files_parameters.html" onMouseOver="funcPopup(event,'add_user_private_files_parameters')">add_user_private_files_parameters</a>(), array('draftid' =&gt; <a class="var it2102" onMouseOver="hilite(2102)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../_variables/draftid.html">$draftid</a>));
<a name="l984"><span class="linenum"> 984</span></a>  
<a name="l985"><span class="linenum"> 985</span></a>          if (<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l986"><span class="linenum"> 986</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Guest users cannot upload files');
<a name="l987"><span class="linenum"> 987</span></a>          }
<a name="l988"><span class="linenum"> 988</span></a>  
<a name="l989"><span class="linenum"> 989</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_user')" href="../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l990"><span class="linenum"> 990</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/user:manageownfiles', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l991"><span class="linenum"> 991</span></a>  
<a name="l992"><span class="linenum"> 992</span></a>          <a class="var it1055" onMouseOver="hilite(1055)" onMouseOut="lolite()" onClick="logVariable('maxbytes')" href="../_variables/maxbytes.html">$maxbytes</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('userquota')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/userquota.html">userquota</a>;
<a name="l993"><span class="linenum"> 993</span></a>          <a class="var it17934" onMouseOver="hilite(17934)" onMouseOut="lolite()" onClick="logVariable('maxareabytes')" href="../_variables/maxareabytes.html">$maxareabytes</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('userquota')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/userquota.html">userquota</a>;
<a name="l994"><span class="linenum"> 994</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/user:ignoreuserquota', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l995"><span class="linenum"> 995</span></a>              <a class="var it1055" onMouseOver="hilite(1055)" onMouseOut="lolite()" onClick="logVariable('maxbytes')" href="../_variables/maxbytes.html">$maxbytes</a> = <a class="constant" onClick="logConstant('USER_CAN_IGNORE_FILE_SIZE_LIMITS')" href="../_constants/USER_CAN_IGNORE_FILE_SIZE_LIMITS.html" onMouseOver="constPopup(event,'USER_CAN_IGNORE_FILE_SIZE_LIMITS')">USER_CAN_IGNORE_FILE_SIZE_LIMITS</a>;
<a name="l996"><span class="linenum"> 996</span></a>              <a class="var it17934" onMouseOver="hilite(17934)" onMouseOut="lolite()" onClick="logVariable('maxareabytes')" href="../_variables/maxareabytes.html">$maxareabytes</a> = <a class="constant" onClick="logConstant('FILE_AREA_MAX_BYTES_UNLIMITED')" href="../_constants/FILE_AREA_MAX_BYTES_UNLIMITED.html" onMouseOver="constPopup(event,'FILE_AREA_MAX_BYTES_UNLIMITED')">FILE_AREA_MAX_BYTES_UNLIMITED</a>;
<a name="l997"><span class="linenum"> 997</span></a>          }
<a name="l998"><span class="linenum"> 998</span></a>  
<a name="l999"><span class="linenum"> 999</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array('subdirs' =&gt; 1,
<a name="l1000"><span class="linenum">1000</span></a>                           'maxbytes' =&gt; <a class="var it1055" onMouseOver="hilite(1055)" onMouseOut="lolite()" onClick="logVariable('maxbytes')" href="../_variables/maxbytes.html">$maxbytes</a>,
<a name="l1001"><span class="linenum">1001</span></a>                           'maxfiles' =&gt; -1,
<a name="l1002"><span class="linenum">1002</span></a>                           'areamaxbytes' =&gt; <a class="var it17934" onMouseOver="hilite(17934)" onMouseOut="lolite()" onClick="logVariable('maxareabytes')" href="../_variables/maxareabytes.html">$maxareabytes</a>);
<a name="l1003"><span class="linenum">1003</span></a>  
<a name="l1004"><span class="linenum">1004</span></a>          <a class="function" onClick="logFunction('file_merge_files_from_draft_area_into_filearea')" href="../_functions/file_merge_files_from_draft_area_into_filearea.html" onMouseOver="funcPopup(event,'file_merge_files_from_draft_area_into_filearea')">file_merge_files_from_draft_area_into_filearea</a>(<a class="var it2102" onMouseOver="hilite(2102)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../_variables/draftid.html">$draftid</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'user', 'private', 0, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l1005"><span class="linenum">1005</span></a>  
<a name="l1006"><span class="linenum">1006</span></a>          return null;
<a name="l1007"><span class="linenum">1007</span></a>      }
<a name="l1008"><span class="linenum">1008</span></a>  
<a name="l1009"><span class="linenum">1009</span></a>      <span class="comment">/**</span>
<a name="l1010"><span class="linenum">1010</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment">     *</span>
<a name="l1012"><span class="linenum">1012</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1013"><span class="linenum">1013</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l1014"><span class="linenum">1014</span></a>  <span class="comment">     */</span>
<a name="l1015"><span class="linenum">1015</span></a>      public static function <a class="function" onClick="logFunction('add_user_private_files_returns')" href="../_functions/add_user_private_files_returns.html" onMouseOver="funcPopup(event,'add_user_private_files_returns')">add_user_private_files_returns</a>() {
<a name="l1016"><span class="linenum">1016</span></a>          return null;
<a name="l1017"><span class="linenum">1017</span></a>      }
<a name="l1018"><span class="linenum">1018</span></a>  
<a name="l1019"><span class="linenum">1019</span></a>      <span class="comment">/**</span>
<a name="l1020"><span class="linenum">1020</span></a>  <span class="comment">     * Returns description of method parameters.</span>
<a name="l1021"><span class="linenum">1021</span></a>  <span class="comment">     *</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">     */</span>
<a name="l1025"><span class="linenum">1025</span></a>      public static function <a class="function" onClick="logFunction('add_user_device_parameters')" href="../_functions/add_user_device_parameters.html" onMouseOver="funcPopup(event,'add_user_device_parameters')">add_user_device_parameters</a>() {
<a name="l1026"><span class="linenum">1026</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1027"><span class="linenum">1027</span></a>              array(
<a name="l1028"><span class="linenum">1028</span></a>                  'appid'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'the app id, usually something like com.moodle.moodlemobile'),
<a name="l1029"><span class="linenum">1029</span></a>                  'name'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'the device name, \'occam\' or \'iPhone\' etc.'),
<a name="l1030"><span class="linenum">1030</span></a>                  'model'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'the device model \'Nexus4\' or \'iPad1,1\' etc.'),
<a name="l1031"><span class="linenum">1031</span></a>                  'platform'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'the device platform \'iOS\' or \'Android\' etc.'),
<a name="l1032"><span class="linenum">1032</span></a>                  'version'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'the device version \'6.1.2\' or \'4.2.2\' etc.'),
<a name="l1033"><span class="linenum">1033</span></a>                  'pushid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the device PUSH token/key/identifier/registration id'),
<a name="l1034"><span class="linenum">1034</span></a>                  'uuid'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the device UUID')
<a name="l1035"><span class="linenum">1035</span></a>              )
<a name="l1036"><span class="linenum">1036</span></a>          );
<a name="l1037"><span class="linenum">1037</span></a>      }
<a name="l1038"><span class="linenum">1038</span></a>  
<a name="l1039"><span class="linenum">1039</span></a>      <span class="comment">/**</span>
<a name="l1040"><span class="linenum">1040</span></a>  <span class="comment">     * Add a user device in Moodle database (for PUSH notifications usually).</span>
<a name="l1041"><span class="linenum">1041</span></a>  <span class="comment">     *</span>
<a name="l1042"><span class="linenum">1042</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l1043"><span class="linenum">1043</span></a>  <span class="comment">     * @param string $appid The app id, usually something like com.moodle.moodlemobile.</span>
<a name="l1044"><span class="linenum">1044</span></a>  <span class="comment">     * @param string $name The device name, occam or iPhone etc.</span>
<a name="l1045"><span class="linenum">1045</span></a>  <span class="comment">     * @param string $model The device model Nexus4 or iPad1.1 etc.</span>
<a name="l1046"><span class="linenum">1046</span></a>  <span class="comment">     * @param string $platform The device platform iOs or Android etc.</span>
<a name="l1047"><span class="linenum">1047</span></a>  <span class="comment">     * @param string $version The device version 6.1.2 or 4.2.2 etc.</span>
<a name="l1048"><span class="linenum">1048</span></a>  <span class="comment">     * @param string $pushid The device PUSH token/key/identifier/registration id.</span>
<a name="l1049"><span class="linenum">1049</span></a>  <span class="comment">     * @param string $uuid The device UUID.</span>
<a name="l1050"><span class="linenum">1050</span></a>  <span class="comment">     * @return array List of possible warnings.</span>
<a name="l1051"><span class="linenum">1051</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1052"><span class="linenum">1052</span></a>  <span class="comment">     */</span>
<a name="l1053"><span class="linenum">1053</span></a>      public static function <a class="function" onClick="logFunction('add_user_device')" href="../_functions/add_user_device.html" onMouseOver="funcPopup(event,'add_user_device')">add_user_device</a>(<a class="var it17935" onMouseOver="hilite(17935)" onMouseOut="lolite()" onClick="logVariable('appid')" href="../_variables/appid.html">$appid</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it17936" onMouseOver="hilite(17936)" onMouseOut="lolite()" onClick="logVariable('model')" href="../_variables/model.html">$model</a>, <a class="var it13238" onMouseOver="hilite(13238)" onMouseOut="lolite()" onClick="logVariable('platform')" href="../_variables/platform.html">$platform</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17937" onMouseOver="hilite(17937)" onMouseOut="lolite()" onClick="logVariable('pushid')" href="../_variables/pushid.html">$pushid</a>, <a class="var it15424" onMouseOver="hilite(15424)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a>) {
<a name="l1054"><span class="linenum">1054</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1055"><span class="linenum">1055</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l1056"><span class="linenum">1056</span></a>  
<a name="l1057"><span class="linenum">1057</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('add_user_device_parameters')" href="../_functions/add_user_device_parameters.html" onMouseOver="funcPopup(event,'add_user_device_parameters')">add_user_device_parameters</a>(),
<a name="l1058"><span class="linenum">1058</span></a>                  array('appid' =&gt; <a class="var it17935" onMouseOver="hilite(17935)" onMouseOut="lolite()" onClick="logVariable('appid')" href="../_variables/appid.html">$appid</a>,
<a name="l1059"><span class="linenum">1059</span></a>                        'name' =&gt; <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>,
<a name="l1060"><span class="linenum">1060</span></a>                        'model' =&gt; <a class="var it17936" onMouseOver="hilite(17936)" onMouseOut="lolite()" onClick="logVariable('model')" href="../_variables/model.html">$model</a>,
<a name="l1061"><span class="linenum">1061</span></a>                        'platform' =&gt; <a class="var it13238" onMouseOver="hilite(13238)" onMouseOut="lolite()" onClick="logVariable('platform')" href="../_variables/platform.html">$platform</a>,
<a name="l1062"><span class="linenum">1062</span></a>                        'version' =&gt; <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>,
<a name="l1063"><span class="linenum">1063</span></a>                        'pushid' =&gt; <a class="var it17937" onMouseOver="hilite(17937)" onMouseOut="lolite()" onClick="logVariable('pushid')" href="../_variables/pushid.html">$pushid</a>,
<a name="l1064"><span class="linenum">1064</span></a>                        'uuid' =&gt; <a class="var it15424" onMouseOver="hilite(15424)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a>
<a name="l1065"><span class="linenum">1065</span></a>                        ));
<a name="l1066"><span class="linenum">1066</span></a>  
<a name="l1067"><span class="linenum">1067</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l1068"><span class="linenum">1068</span></a>  
<a name="l1069"><span class="linenum">1069</span></a>  <span class="comment">        // Prevent duplicate keys for users.</span>
<a name="l1070"><span class="linenum">1070</span></a>          if (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user_devices', array('pushid' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['pushid'], 'userid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l1071"><span class="linenum">1071</span></a>              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>['warning'][] = array(
<a name="l1072"><span class="linenum">1072</span></a>                  'item' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['pushid'],
<a name="l1073"><span class="linenum">1073</span></a>                  'warningcode' =&gt; 'existingkeyforthisuser',
<a name="l1074"><span class="linenum">1074</span></a>                  'message' =&gt; 'This key is already stored for this user'
<a name="l1075"><span class="linenum">1075</span></a>              );
<a name="l1076"><span class="linenum">1076</span></a>              return <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>;
<a name="l1077"><span class="linenum">1077</span></a>          }
<a name="l1078"><span class="linenum">1078</span></a>  
<a name="l1079"><span class="linenum">1079</span></a>  <span class="comment">        // Notice that we can have multiple devices because previously it was allowed to have repeated ones.</span>
<a name="l1080"><span class="linenum">1080</span></a>  <span class="comment">        // Since we don't have a clear way to decide which one is the more appropiate, we update all.</span>
<a name="l1081"><span class="linenum">1081</span></a>          if (<a class="var it17938" onMouseOver="hilite(17938)" onMouseOut="lolite()" onClick="logVariable('userdevices')" href="../_variables/userdevices.html">$userdevices</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('user_devices', array('uuid' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['uuid'],
<a name="l1082"><span class="linenum">1082</span></a>                  'appid' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['appid'], 'userid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l1083"><span class="linenum">1083</span></a>  
<a name="l1084"><span class="linenum">1084</span></a>              foreach (<a class="var it17938" onMouseOver="hilite(17938)" onMouseOut="lolite()" onClick="logVariable('userdevices')" href="../_variables/userdevices.html">$userdevices</a> as <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>) {
<a name="l1085"><span class="linenum">1085</span></a>                  <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('version')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/version.html">version</a>    = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['version'];   <span class="comment">// Maybe the user upgraded the device.</span>
<a name="l1086"><span class="linenum">1086</span></a>                  <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('pushid')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/pushid.html">pushid</a>     = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['pushid'];
<a name="l1087"><span class="linenum">1087</span></a>                  <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/timemodified.html">timemodified</a>  = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l1088"><span class="linenum">1088</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('user_devices', <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>);
<a name="l1089"><span class="linenum">1089</span></a>              }
<a name="l1090"><span class="linenum">1090</span></a>  
<a name="l1091"><span class="linenum">1091</span></a>          } else {
<a name="l1092"><span class="linenum">1092</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a> = new stdclass;
<a name="l1093"><span class="linenum">1093</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('userid')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>     = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l1094"><span class="linenum">1094</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('appid')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/appid.html">appid</a>      = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['appid'];
<a name="l1095"><span class="linenum">1095</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('name')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/name.html">name</a>       = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['name'];
<a name="l1096"><span class="linenum">1096</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('model')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/model.html">model</a>      = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['model'];
<a name="l1097"><span class="linenum">1097</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('platform')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/platform.html">platform</a>   = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['platform'];
<a name="l1098"><span class="linenum">1098</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('version')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/version.html">version</a>    = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['version'];
<a name="l1099"><span class="linenum">1099</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('pushid')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/pushid.html">pushid</a>     = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['pushid'];
<a name="l1100"><span class="linenum">1100</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('uuid')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/uuid.html">uuid</a>       = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['uuid'];
<a name="l1101"><span class="linenum">1101</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('timecreated')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/timecreated.html">timecreated</a>  = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l1102"><span class="linenum">1102</span></a>              <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/timemodified.html">timemodified</a> = <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('timecreated')" class="var it43516" onMouseOver="hilite(43516)" onMouseOut="lolite()" href="../_variables/timecreated.html">timecreated</a>;
<a name="l1103"><span class="linenum">1103</span></a>  
<a name="l1104"><span class="linenum">1104</span></a>              if (!<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('user_devices', <a class="var it17939" onMouseOver="hilite(17939)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>)) {
<a name="l1105"><span class="linenum">1105</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;There was a problem saving in the database the device with key: &quot; . <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['pushid']);
<a name="l1106"><span class="linenum">1106</span></a>              }
<a name="l1107"><span class="linenum">1107</span></a>          }
<a name="l1108"><span class="linenum">1108</span></a>  
<a name="l1109"><span class="linenum">1109</span></a>          return <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>;
<a name="l1110"><span class="linenum">1110</span></a>      }
<a name="l1111"><span class="linenum">1111</span></a>  
<a name="l1112"><span class="linenum">1112</span></a>      <span class="comment">/**</span>
<a name="l1113"><span class="linenum">1113</span></a>  <span class="comment">     * Returns description of method result value.</span>
<a name="l1114"><span class="linenum">1114</span></a>  <span class="comment">     *</span>
<a name="l1115"><span class="linenum">1115</span></a>  <span class="comment">     * @return external_multiple_structure</span>
<a name="l1116"><span class="linenum">1116</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1117"><span class="linenum">1117</span></a>  <span class="comment">     */</span>
<a name="l1118"><span class="linenum">1118</span></a>      public static function <a class="function" onClick="logFunction('add_user_device_returns')" href="../_functions/add_user_device_returns.html" onMouseOver="funcPopup(event,'add_user_device_returns')">add_user_device_returns</a>() {
<a name="l1119"><span class="linenum">1119</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1120"><span class="linenum">1120</span></a>             <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l1121"><span class="linenum">1121</span></a>          );
<a name="l1122"><span class="linenum">1122</span></a>      }
<a name="l1123"><span class="linenum">1123</span></a>  
<a name="l1124"><span class="linenum">1124</span></a>      <span class="comment">/**</span>
<a name="l1125"><span class="linenum">1125</span></a>  <span class="comment">     * Returns description of method parameters.</span>
<a name="l1126"><span class="linenum">1126</span></a>  <span class="comment">     *</span>
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1128"><span class="linenum">1128</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">     */</span>
<a name="l1130"><span class="linenum">1130</span></a>      public static function <a class="function" onClick="logFunction('remove_user_device_parameters')" href="../_functions/remove_user_device_parameters.html" onMouseOver="funcPopup(event,'remove_user_device_parameters')">remove_user_device_parameters</a>() {
<a name="l1131"><span class="linenum">1131</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1132"><span class="linenum">1132</span></a>              array(
<a name="l1133"><span class="linenum">1133</span></a>                  'uuid'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the device UUID'),
<a name="l1134"><span class="linenum">1134</span></a>                  'appid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>,
<a name="l1135"><span class="linenum">1135</span></a>                                                  'the app id, if empty devices matching the UUID for the user will be removed',
<a name="l1136"><span class="linenum">1136</span></a>                                                  <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l1137"><span class="linenum">1137</span></a>              )
<a name="l1138"><span class="linenum">1138</span></a>          );
<a name="l1139"><span class="linenum">1139</span></a>      }
<a name="l1140"><span class="linenum">1140</span></a>  
<a name="l1141"><span class="linenum">1141</span></a>      <span class="comment">/**</span>
<a name="l1142"><span class="linenum">1142</span></a>  <span class="comment">     * Remove a user device from the Moodle database (for PUSH notifications usually).</span>
<a name="l1143"><span class="linenum">1143</span></a>  <span class="comment">     *</span>
<a name="l1144"><span class="linenum">1144</span></a>  <span class="comment">     * @param string $uuid The device UUID.</span>
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment">     * @param string $appid The app id, opitonal parameter. If empty all the devices fmatching the UUID or the user will be removed.</span>
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment">     * @return array List of possible warnings and removal status.</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment">     */</span>
<a name="l1149"><span class="linenum">1149</span></a>      public static function <a class="function" onClick="logFunction('remove_user_device')" href="../_functions/remove_user_device.html" onMouseOver="funcPopup(event,'remove_user_device')">remove_user_device</a>(<a class="var it15424" onMouseOver="hilite(15424)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a>, <a class="var it17935" onMouseOver="hilite(17935)" onMouseOut="lolite()" onClick="logVariable('appid')" href="../_variables/appid.html">$appid</a> = &quot;&quot;) {
<a name="l1150"><span class="linenum">1150</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1151"><span class="linenum">1151</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l1152"><span class="linenum">1152</span></a>  
<a name="l1153"><span class="linenum">1153</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('remove_user_device_parameters')" href="../_functions/remove_user_device_parameters.html" onMouseOver="funcPopup(event,'remove_user_device_parameters')">remove_user_device_parameters</a>(), array('uuid' =&gt; <a class="var it15424" onMouseOver="hilite(15424)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a>, 'appid' =&gt; <a class="var it17935" onMouseOver="hilite(17935)" onMouseOut="lolite()" onClick="logVariable('appid')" href="../_variables/appid.html">$appid</a>));
<a name="l1154"><span class="linenum">1154</span></a>  
<a name="l1155"><span class="linenum">1155</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l1156"><span class="linenum">1156</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1157"><span class="linenum">1157</span></a>  
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment">        // Warnings array, it can be empty at the end but is mandatory.</span>
<a name="l1159"><span class="linenum">1159</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l1160"><span class="linenum">1160</span></a>  
<a name="l1161"><span class="linenum">1161</span></a>          <a class="var it17940" onMouseOver="hilite(17940)" onMouseOut="lolite()" onClick="logVariable('removed')" href="../_variables/removed.html">$removed</a> = <a class="function" onClick="logFunction('user_remove_user_device')" href="../_functions/user_remove_user_device.html" onMouseOver="funcPopup(event,'user_remove_user_device')">user_remove_user_device</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['uuid'], <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['appid']);
<a name="l1162"><span class="linenum">1162</span></a>  
<a name="l1163"><span class="linenum">1163</span></a>          if (!<a class="var it17940" onMouseOver="hilite(17940)" onMouseOut="lolite()" onClick="logVariable('removed')" href="../_variables/removed.html">$removed</a>) {
<a name="l1164"><span class="linenum">1164</span></a>              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>[] = array(
<a name="l1165"><span class="linenum">1165</span></a>                  'item' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['uuid'],
<a name="l1166"><span class="linenum">1166</span></a>                  'warningcode' =&gt; 'devicedoesnotexist',
<a name="l1167"><span class="linenum">1167</span></a>                  'message' =&gt; 'The device doesn\'t exists in the database'
<a name="l1168"><span class="linenum">1168</span></a>              );
<a name="l1169"><span class="linenum">1169</span></a>          }
<a name="l1170"><span class="linenum">1170</span></a>  
<a name="l1171"><span class="linenum">1171</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array(
<a name="l1172"><span class="linenum">1172</span></a>              'removed' =&gt; <a class="var it17940" onMouseOver="hilite(17940)" onMouseOut="lolite()" onClick="logVariable('removed')" href="../_variables/removed.html">$removed</a>,
<a name="l1173"><span class="linenum">1173</span></a>              'warnings' =&gt; <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>
<a name="l1174"><span class="linenum">1174</span></a>          );
<a name="l1175"><span class="linenum">1175</span></a>  
<a name="l1176"><span class="linenum">1176</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1177"><span class="linenum">1177</span></a>      }
<a name="l1178"><span class="linenum">1178</span></a>  
<a name="l1179"><span class="linenum">1179</span></a>      <span class="comment">/**</span>
<a name="l1180"><span class="linenum">1180</span></a>  <span class="comment">     * Returns description of method result value.</span>
<a name="l1181"><span class="linenum">1181</span></a>  <span class="comment">     *</span>
<a name="l1182"><span class="linenum">1182</span></a>  <span class="comment">     * @return external_multiple_structure</span>
<a name="l1183"><span class="linenum">1183</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1184"><span class="linenum">1184</span></a>  <span class="comment">     */</span>
<a name="l1185"><span class="linenum">1185</span></a>      public static function <a class="function" onClick="logFunction('remove_user_device_returns')" href="../_functions/remove_user_device_returns.html" onMouseOver="funcPopup(event,'remove_user_device_returns')">remove_user_device_returns</a>() {
<a name="l1186"><span class="linenum">1186</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1187"><span class="linenum">1187</span></a>              array(
<a name="l1188"><span class="linenum">1188</span></a>                  'removed' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if removed, false if not removed because it doesn\'t exists'),
<a name="l1189"><span class="linenum">1189</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1190"><span class="linenum">1190</span></a>              )
<a name="l1191"><span class="linenum">1191</span></a>          );
<a name="l1192"><span class="linenum">1192</span></a>      }
<a name="l1193"><span class="linenum">1193</span></a>  
<a name="l1194"><span class="linenum">1194</span></a>      <span class="comment">/**</span>
<a name="l1195"><span class="linenum">1195</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1196"><span class="linenum">1196</span></a>  <span class="comment">     *</span>
<a name="l1197"><span class="linenum">1197</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1198"><span class="linenum">1198</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment">     */</span>
<a name="l1200"><span class="linenum">1200</span></a>      public static function <a class="function" onClick="logFunction('view_user_list_parameters')" href="../_functions/view_user_list_parameters.html" onMouseOver="funcPopup(event,'view_user_list_parameters')">view_user_list_parameters</a>() {
<a name="l1201"><span class="linenum">1201</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1202"><span class="linenum">1202</span></a>              array(
<a name="l1203"><span class="linenum">1203</span></a>                  'courseid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of the course, 0 for site')
<a name="l1204"><span class="linenum">1204</span></a>              )
<a name="l1205"><span class="linenum">1205</span></a>          );
<a name="l1206"><span class="linenum">1206</span></a>      }
<a name="l1207"><span class="linenum">1207</span></a>  
<a name="l1208"><span class="linenum">1208</span></a>      <span class="comment">/**</span>
<a name="l1209"><span class="linenum">1209</span></a>  <span class="comment">     * Trigger the user_list_viewed event.</span>
<a name="l1210"><span class="linenum">1210</span></a>  <span class="comment">     *</span>
<a name="l1211"><span class="linenum">1211</span></a>  <span class="comment">     * @param int $courseid id of course</span>
<a name="l1212"><span class="linenum">1212</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l1213"><span class="linenum">1213</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1214"><span class="linenum">1214</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l1215"><span class="linenum">1215</span></a>  <span class="comment">     */</span>
<a name="l1216"><span class="linenum">1216</span></a>      public static function <a class="function" onClick="logFunction('view_user_list')" href="../_functions/view_user_list.html" onMouseOver="funcPopup(event,'view_user_list')">view_user_list</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l1217"><span class="linenum">1217</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1218"><span class="linenum">1218</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l1219"><span class="linenum">1219</span></a>  
<a name="l1220"><span class="linenum">1220</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_user_list_parameters')" href="../_functions/view_user_list_parameters.html" onMouseOver="funcPopup(event,'view_user_list_parameters')">view_user_list_parameters</a>(),
<a name="l1221"><span class="linenum">1221</span></a>                                              array(
<a name="l1222"><span class="linenum">1222</span></a>                                                  'courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>
<a name="l1223"><span class="linenum">1223</span></a>                                              ));
<a name="l1224"><span class="linenum">1224</span></a>  
<a name="l1225"><span class="linenum">1225</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l1226"><span class="linenum">1226</span></a>  
<a name="l1227"><span class="linenum">1227</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid'])) {
<a name="l1228"><span class="linenum">1228</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid'] = <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>;
<a name="l1229"><span class="linenum">1229</span></a>          }
<a name="l1230"><span class="linenum">1230</span></a>  
<a name="l1231"><span class="linenum">1231</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="function" onClick="logFunction('get_course')" href="../_functions/get_course.html" onMouseOver="funcPopup(event,'get_course')">get_course</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid']);
<a name="l1232"><span class="linenum">1232</span></a>  
<a name="l1233"><span class="linenum">1233</span></a>          if (<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1234"><span class="linenum">1234</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l1235"><span class="linenum">1235</span></a>          } else {
<a name="l1236"><span class="linenum">1236</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1237"><span class="linenum">1237</span></a>          }
<a name="l1238"><span class="linenum">1238</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1239"><span class="linenum">1239</span></a>  
<a name="l1240"><span class="linenum">1240</span></a>          if (<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1241"><span class="linenum">1241</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:viewparticipants', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1242"><span class="linenum">1242</span></a>          } else {
<a name="l1243"><span class="linenum">1243</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/course:viewparticipants', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1244"><span class="linenum">1244</span></a>          }
<a name="l1245"><span class="linenum">1245</span></a>  
<a name="l1246"><span class="linenum">1246</span></a>          <a class="function" onClick="logFunction('user_list_view')" href="../_functions/user_list_view.html" onMouseOver="funcPopup(event,'user_list_view')">user_list_view</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1247"><span class="linenum">1247</span></a>  
<a name="l1248"><span class="linenum">1248</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l1249"><span class="linenum">1249</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['status'] = true;
<a name="l1250"><span class="linenum">1250</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>;
<a name="l1251"><span class="linenum">1251</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1252"><span class="linenum">1252</span></a>      }
<a name="l1253"><span class="linenum">1253</span></a>  
<a name="l1254"><span class="linenum">1254</span></a>      <span class="comment">/**</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment">     *</span>
<a name="l1257"><span class="linenum">1257</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1258"><span class="linenum">1258</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1259"><span class="linenum">1259</span></a>  <span class="comment">     */</span>
<a name="l1260"><span class="linenum">1260</span></a>      public static function <a class="function" onClick="logFunction('view_user_list_returns')" href="../_functions/view_user_list_returns.html" onMouseOver="funcPopup(event,'view_user_list_returns')">view_user_list_returns</a>() {
<a name="l1261"><span class="linenum">1261</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1262"><span class="linenum">1262</span></a>              array(
<a name="l1263"><span class="linenum">1263</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l1264"><span class="linenum">1264</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l1265"><span class="linenum">1265</span></a>              )
<a name="l1266"><span class="linenum">1266</span></a>          );
<a name="l1267"><span class="linenum">1267</span></a>      }
<a name="l1268"><span class="linenum">1268</span></a>  
<a name="l1269"><span class="linenum">1269</span></a>      <span class="comment">/**</span>
<a name="l1270"><span class="linenum">1270</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1271"><span class="linenum">1271</span></a>  <span class="comment">     *</span>
<a name="l1272"><span class="linenum">1272</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1273"><span class="linenum">1273</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1274"><span class="linenum">1274</span></a>  <span class="comment">     */</span>
<a name="l1275"><span class="linenum">1275</span></a>      public static function <a class="function" onClick="logFunction('view_user_profile_parameters')" href="../_functions/view_user_profile_parameters.html" onMouseOver="funcPopup(event,'view_user_profile_parameters')">view_user_profile_parameters</a>() {
<a name="l1276"><span class="linenum">1276</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1277"><span class="linenum">1277</span></a>              array(
<a name="l1278"><span class="linenum">1278</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of the user, 0 for current user', <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>),
<a name="l1279"><span class="linenum">1279</span></a>                  'courseid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of the course, default site course', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0)
<a name="l1280"><span class="linenum">1280</span></a>              )
<a name="l1281"><span class="linenum">1281</span></a>          );
<a name="l1282"><span class="linenum">1282</span></a>      }
<a name="l1283"><span class="linenum">1283</span></a>  
<a name="l1284"><span class="linenum">1284</span></a>      <span class="comment">/**</span>
<a name="l1285"><span class="linenum">1285</span></a>  <span class="comment">     * Trigger the user profile viewed event.</span>
<a name="l1286"><span class="linenum">1286</span></a>  <span class="comment">     *</span>
<a name="l1287"><span class="linenum">1287</span></a>  <span class="comment">     * @param int $userid id of user</span>
<a name="l1288"><span class="linenum">1288</span></a>  <span class="comment">     * @param int $courseid id of course</span>
<a name="l1289"><span class="linenum">1289</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l1290"><span class="linenum">1290</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1291"><span class="linenum">1291</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l1292"><span class="linenum">1292</span></a>  <span class="comment">     */</span>
<a name="l1293"><span class="linenum">1293</span></a>      public static function <a class="function" onClick="logFunction('view_user_profile')" href="../_functions/view_user_profile.html" onMouseOver="funcPopup(event,'view_user_profile')">view_user_profile</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = 0) {
<a name="l1294"><span class="linenum">1294</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l1295"><span class="linenum">1295</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/profile/lib.php.html">/user/profile/lib.php</a>");
<a name="l1296"><span class="linenum">1296</span></a>  
<a name="l1297"><span class="linenum">1297</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_user_profile_parameters')" href="../_functions/view_user_profile_parameters.html" onMouseOver="funcPopup(event,'view_user_profile_parameters')">view_user_profile_parameters</a>(),
<a name="l1298"><span class="linenum">1298</span></a>                                              array(
<a name="l1299"><span class="linenum">1299</span></a>                                                  'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>,
<a name="l1300"><span class="linenum">1300</span></a>                                                  'courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>
<a name="l1301"><span class="linenum">1301</span></a>                                              ));
<a name="l1302"><span class="linenum">1302</span></a>  
<a name="l1303"><span class="linenum">1303</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l1304"><span class="linenum">1304</span></a>  
<a name="l1305"><span class="linenum">1305</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userid'])) {
<a name="l1306"><span class="linenum">1306</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userid'] = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l1307"><span class="linenum">1307</span></a>          }
<a name="l1308"><span class="linenum">1308</span></a>  
<a name="l1309"><span class="linenum">1309</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid'])) {
<a name="l1310"><span class="linenum">1310</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid'] = <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>;
<a name="l1311"><span class="linenum">1311</span></a>          }
<a name="l1312"><span class="linenum">1312</span></a>  
<a name="l1313"><span class="linenum">1313</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="function" onClick="logFunction('get_course')" href="../_functions/get_course.html" onMouseOver="funcPopup(event,'get_course')">get_course</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid']);
<a name="l1314"><span class="linenum">1314</span></a>          <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_user')" href="../_functions/get_user.html" onMouseOver="funcPopup(event,'get_user')">get_user</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userid'], '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1315"><span class="linenum">1315</span></a>          <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('require_active_user')" href="../_functions/require_active_user.html" onMouseOver="funcPopup(event,'require_active_user')">require_active_user</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l1316"><span class="linenum">1316</span></a>  
<a name="l1317"><span class="linenum">1317</span></a>          if (<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1318"><span class="linenum">1318</span></a>              <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();;
<a name="l1319"><span class="linenum">1319</span></a>          } else {
<a name="l1320"><span class="linenum">1320</span></a>              <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1321"><span class="linenum">1321</span></a>          }
<a name="l1322"><span class="linenum">1322</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>);
<a name="l1323"><span class="linenum">1323</span></a>  
<a name="l1324"><span class="linenum">1324</span></a>          <a class="var it12913" onMouseOver="hilite(12913)" onMouseOut="lolite()" onClick="logVariable('currentuser')" href="../_variables/currentuser.html">$currentuser</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l1325"><span class="linenum">1325</span></a>          <a class="var it639" onMouseOver="hilite(639)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a> = <a class="class" onClick="logClass('context_user')" href="../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1326"><span class="linenum">1326</span></a>  
<a name="l1327"><span class="linenum">1327</span></a>          if (!<a class="var it12913" onMouseOver="hilite(12913)" onMouseOut="lolite()" onClick="logVariable('currentuser')" href="../_variables/currentuser.html">$currentuser</a> and
<a name="l1328"><span class="linenum">1328</span></a>                  !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/user:viewdetails', <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>) and
<a name="l1329"><span class="linenum">1329</span></a>                  !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/user:viewdetails', <a class="var it639" onMouseOver="hilite(639)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a>)) {
<a name="l1330"><span class="linenum">1330</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannotviewprofile');
<a name="l1331"><span class="linenum">1331</span></a>          }
<a name="l1332"><span class="linenum">1332</span></a>  
<a name="l1333"><span class="linenum">1333</span></a>  <span class="comment">        // Case like user/profile.php.</span>
<a name="l1334"><span class="linenum">1334</span></a>          if (<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1335"><span class="linenum">1335</span></a>              <a class="function" onClick="logFunction('profile_view')" href="../_functions/profile_view.html" onMouseOver="funcPopup(event,'profile_view')">profile_view</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it639" onMouseOver="hilite(639)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a>);
<a name="l1336"><span class="linenum">1336</span></a>          } else {
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">            // Case like user/view.php.</span>
<a name="l1338"><span class="linenum">1338</span></a>              if (!<a class="var it12913" onMouseOver="hilite(12913)" onMouseOut="lolite()" onClick="logVariable('currentuser')" href="../_variables/currentuser.html">$currentuser</a> and !<a class="function" onClick="logFunction('can_access_course')" href="../_functions/can_access_course.html" onMouseOver="funcPopup(event,'can_access_course')">can_access_course</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, '', true)) {
<a name="l1339"><span class="linenum">1339</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('notenrolledprofile');
<a name="l1340"><span class="linenum">1340</span></a>              }
<a name="l1341"><span class="linenum">1341</span></a>  
<a name="l1342"><span class="linenum">1342</span></a>              <a class="function" onClick="logFunction('profile_view')" href="../_functions/profile_view.html" onMouseOver="funcPopup(event,'profile_view')">profile_view</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l1343"><span class="linenum">1343</span></a>          }
<a name="l1344"><span class="linenum">1344</span></a>  
<a name="l1345"><span class="linenum">1345</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l1346"><span class="linenum">1346</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['status'] = true;
<a name="l1347"><span class="linenum">1347</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>;
<a name="l1348"><span class="linenum">1348</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1349"><span class="linenum">1349</span></a>      }
<a name="l1350"><span class="linenum">1350</span></a>  
<a name="l1351"><span class="linenum">1351</span></a>      <span class="comment">/**</span>
<a name="l1352"><span class="linenum">1352</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1353"><span class="linenum">1353</span></a>  <span class="comment">     *</span>
<a name="l1354"><span class="linenum">1354</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1355"><span class="linenum">1355</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1356"><span class="linenum">1356</span></a>  <span class="comment">     */</span>
<a name="l1357"><span class="linenum">1357</span></a>      public static function <a class="function" onClick="logFunction('view_user_profile_returns')" href="../_functions/view_user_profile_returns.html" onMouseOver="funcPopup(event,'view_user_profile_returns')">view_user_profile_returns</a>() {
<a name="l1358"><span class="linenum">1358</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1359"><span class="linenum">1359</span></a>              array(
<a name="l1360"><span class="linenum">1360</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l1361"><span class="linenum">1361</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l1362"><span class="linenum">1362</span></a>              )
<a name="l1363"><span class="linenum">1363</span></a>          );
<a name="l1364"><span class="linenum">1364</span></a>      }
<a name="l1365"><span class="linenum">1365</span></a>  
<a name="l1366"><span class="linenum">1366</span></a>      <span class="comment">/**</span>
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment">     *</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1370"><span class="linenum">1370</span></a>  <span class="comment">     * @since Moodle 3.2</span>
<a name="l1371"><span class="linenum">1371</span></a>  <span class="comment">     */</span>
<a name="l1372"><span class="linenum">1372</span></a>      public static function <a class="function" onClick="logFunction('get_user_preferences_parameters')" href="../_functions/get_user_preferences_parameters.html" onMouseOver="funcPopup(event,'get_user_preferences_parameters')">get_user_preferences_parameters</a>() {
<a name="l1373"><span class="linenum">1373</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1374"><span class="linenum">1374</span></a>              array(
<a name="l1375"><span class="linenum">1375</span></a>                  'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'preference name, empty for all', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l1376"><span class="linenum">1376</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of the user, default to current user', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0)
<a name="l1377"><span class="linenum">1377</span></a>              )
<a name="l1378"><span class="linenum">1378</span></a>          );
<a name="l1379"><span class="linenum">1379</span></a>      }
<a name="l1380"><span class="linenum">1380</span></a>  
<a name="l1381"><span class="linenum">1381</span></a>      <span class="comment">/**</span>
<a name="l1382"><span class="linenum">1382</span></a>  <span class="comment">     * Return user preferences.</span>
<a name="l1383"><span class="linenum">1383</span></a>  <span class="comment">     *</span>
<a name="l1384"><span class="linenum">1384</span></a>  <span class="comment">     * @param string $name preference name, empty for all</span>
<a name="l1385"><span class="linenum">1385</span></a>  <span class="comment">     * @param int $userid id of the user, 0 for current user</span>
<a name="l1386"><span class="linenum">1386</span></a>  <span class="comment">     * @return array of warnings and preferences</span>
<a name="l1387"><span class="linenum">1387</span></a>  <span class="comment">     * @since Moodle 3.2</span>
<a name="l1388"><span class="linenum">1388</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l1389"><span class="linenum">1389</span></a>  <span class="comment">     */</span>
<a name="l1390"><span class="linenum">1390</span></a>      public static function <a class="function" onClick="logFunction('get_user_preferences')" href="../_functions/get_user_preferences.html" onMouseOver="funcPopup(event,'get_user_preferences')">get_user_preferences</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> = '', <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = 0) {
<a name="l1391"><span class="linenum">1391</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l1392"><span class="linenum">1392</span></a>  
<a name="l1393"><span class="linenum">1393</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_user_preferences_parameters')" href="../_functions/get_user_preferences_parameters.html" onMouseOver="funcPopup(event,'get_user_preferences_parameters')">get_user_preferences_parameters</a>(),
<a name="l1394"><span class="linenum">1394</span></a>                                              array(
<a name="l1395"><span class="linenum">1395</span></a>                                                  'name' =&gt; <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>,
<a name="l1396"><span class="linenum">1396</span></a>                                                  'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>
<a name="l1397"><span class="linenum">1397</span></a>                                              ));
<a name="l1398"><span class="linenum">1398</span></a>          <a class="var it4779" onMouseOver="hilite(4779)" onMouseOut="lolite()" onClick="logVariable('preferences')" href="../_variables/preferences.html">$preferences</a> = array();
<a name="l1399"><span class="linenum">1399</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l1400"><span class="linenum">1400</span></a>  
<a name="l1401"><span class="linenum">1401</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l1402"><span class="linenum">1402</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1403"><span class="linenum">1403</span></a>  
<a name="l1404"><span class="linenum">1404</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['name'])) {
<a name="l1405"><span class="linenum">1405</span></a>              <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> = null;
<a name="l1406"><span class="linenum">1406</span></a>          }
<a name="l1407"><span class="linenum">1407</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userid'])) {
<a name="l1408"><span class="linenum">1408</span></a>              <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = null;
<a name="l1409"><span class="linenum">1409</span></a>          } else {
<a name="l1410"><span class="linenum">1410</span></a>              <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_user')" href="../_functions/get_user.html" onMouseOver="funcPopup(event,'get_user')">get_user</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userid'], '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1411"><span class="linenum">1411</span></a>              <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('require_active_user')" href="../_functions/require_active_user.html" onMouseOver="funcPopup(event,'require_active_user')">require_active_user</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l1412"><span class="linenum">1412</span></a>              if (<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a> != <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment">                // Only admins can retrieve other users preferences.</span>
<a name="l1414"><span class="linenum">1414</span></a>                  <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1415"><span class="linenum">1415</span></a>              }
<a name="l1416"><span class="linenum">1416</span></a>          }
<a name="l1417"><span class="linenum">1417</span></a>  
<a name="l1418"><span class="linenum">1418</span></a>          <a class="var it17941" onMouseOver="hilite(17941)" onMouseOut="lolite()" onClick="logVariable('userpreferences')" href="../_variables/userpreferences.html">$userpreferences</a> = <a class="function" onClick="logFunction('get_user_preferences')" href="../_functions/get_user_preferences.html" onMouseOver="funcPopup(event,'get_user_preferences')">get_user_preferences</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, null, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l1419"><span class="linenum">1419</span></a>  <span class="comment">        // Check if we received just one preference.</span>
<a name="l1420"><span class="linenum">1420</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it17941" onMouseOver="hilite(17941)" onMouseOut="lolite()" onClick="logVariable('userpreferences')" href="../_variables/userpreferences.html">$userpreferences</a>)) {
<a name="l1421"><span class="linenum">1421</span></a>              <a class="var it17941" onMouseOver="hilite(17941)" onMouseOut="lolite()" onClick="logVariable('userpreferences')" href="../_variables/userpreferences.html">$userpreferences</a> = array(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> =&gt; <a class="var it17941" onMouseOver="hilite(17941)" onMouseOut="lolite()" onClick="logVariable('userpreferences')" href="../_variables/userpreferences.html">$userpreferences</a>);
<a name="l1422"><span class="linenum">1422</span></a>          }
<a name="l1423"><span class="linenum">1423</span></a>  
<a name="l1424"><span class="linenum">1424</span></a>          foreach (<a class="var it17941" onMouseOver="hilite(17941)" onMouseOut="lolite()" onClick="logVariable('userpreferences')" href="../_variables/userpreferences.html">$userpreferences</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l1425"><span class="linenum">1425</span></a>              <a class="var it4779" onMouseOver="hilite(4779)" onMouseOut="lolite()" onClick="logVariable('preferences')" href="../_variables/preferences.html">$preferences</a>[] = array(
<a name="l1426"><span class="linenum">1426</span></a>                  'name' =&gt; <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>,
<a name="l1427"><span class="linenum">1427</span></a>                  'value' =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>,
<a name="l1428"><span class="linenum">1428</span></a>              );
<a name="l1429"><span class="linenum">1429</span></a>          }
<a name="l1430"><span class="linenum">1430</span></a>  
<a name="l1431"><span class="linenum">1431</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l1432"><span class="linenum">1432</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['preferences'] = <a class="var it4779" onMouseOver="hilite(4779)" onMouseOut="lolite()" onClick="logVariable('preferences')" href="../_variables/preferences.html">$preferences</a>;
<a name="l1433"><span class="linenum">1433</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>;
<a name="l1434"><span class="linenum">1434</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1435"><span class="linenum">1435</span></a>      }
<a name="l1436"><span class="linenum">1436</span></a>  
<a name="l1437"><span class="linenum">1437</span></a>      <span class="comment">/**</span>
<a name="l1438"><span class="linenum">1438</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1439"><span class="linenum">1439</span></a>  <span class="comment">     *</span>
<a name="l1440"><span class="linenum">1440</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1441"><span class="linenum">1441</span></a>  <span class="comment">     * @since Moodle 3.2</span>
<a name="l1442"><span class="linenum">1442</span></a>  <span class="comment">     */</span>
<a name="l1443"><span class="linenum">1443</span></a>      public static function <a class="function" onClick="logFunction('get_user_preferences_returns')" href="../_functions/get_user_preferences_returns.html" onMouseOver="funcPopup(event,'get_user_preferences_returns')">get_user_preferences_returns</a>() {
<a name="l1444"><span class="linenum">1444</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1445"><span class="linenum">1445</span></a>              array(
<a name="l1446"><span class="linenum">1446</span></a>                  'preferences' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1447"><span class="linenum">1447</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1448"><span class="linenum">1448</span></a>                          array(
<a name="l1449"><span class="linenum">1449</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The name of the preference'),
<a name="l1450"><span class="linenum">1450</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the preference'),
<a name="l1451"><span class="linenum">1451</span></a>                          )
<a name="l1452"><span class="linenum">1452</span></a>                      ),
<a name="l1453"><span class="linenum">1453</span></a>                      'User custom <a class="function" onClick="logFunction('fields')" href="../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a> (also known as user profile fields)'
<a name="l1454"><span class="linenum">1454</span></a>                  ),
<a name="l1455"><span class="linenum">1455</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l1456"><span class="linenum">1456</span></a>              )
<a name="l1457"><span class="linenum">1457</span></a>          );
<a name="l1458"><span class="linenum">1458</span></a>      }
<a name="l1459"><span class="linenum">1459</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_course': ['get_course', 'Get the course id. ', [['course','moodleform_mod.php',132],['search/classes','engine.php',102],['course/format','lib.php',231],['mod/quiz','attemptlib.php',180],['mod/quiz','attemptlib.php',722],['tag/classes','index_builder.php',296],['lib','modinfolib.php',180],['lib','modinfolib.php',1424],['lib','modinfolib.php',2706],['lib','datalib.php',568],['availability/classes','info.php',70],['mod/assign','locallib.php',1316],['admin/tool/uploadcourse/classes','processor.php',232],['enrol','locallib.php',912],['search/tests/fixtures','mock_search_engine.php',56]], 302],
'update_users': ['update_users', 'Update users ', [['user','externallib.php',413]], 6],
'validate_email': ['validate_email', 'Validates an email to make sure it makes sense. ', [['lib','weblib.php',1085]], 16],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'get_user_preferences': ['get_user_preferences', 'Used to fetch user preference(s) ', [['lib','moodlelib.php',1974],['user','externallib.php',1381]], 188],
'get_property_default': ['get_property_default', 'Get the property default. ', [['lib/classes','user.php',613]], 29],
'get_preload_record_columns_sql': ['get_preload_record_columns_sql', 'Returns all fields necessary for context preloading from user $rec. ', [['lib','accesslib.php',6066]], 56],
'get_plugin_list': ['get_plugin_list', 'Use when listing real plugins of one type. ', [['lib','deprecatedlib.php',150],['lib/classes','component.php',796],['admin/tool/monitor/classes','eventlist.php',176]], 191],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'add_user_device': ['add_user_device', 'Add a user device in Moodle database (for PUSH notifications usually). ', [['user','externallib.php',1039]], 6],
'remove_user_device': ['remove_user_device', 'Remove a user device from the Moodle database (for PUSH notifications usually). ', [['user','externallib.php',1141]], 4],
'view_user_list_parameters': ['view_user_list_parameters', 'Returns description of method parameters ', [['user','externallib.php',1194]], 1],
'user_description': ['user_description', 'Create user return value description. ', [['user','externallib.php',892]], 6],
'get_user': ['get_user', 'Returns user data checking the internal static cache. ', [['search/classes','engine.php',119],['lib/classes','user.php',55]], 53],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as an moodle_recordset.  $sql must be a complete SQL query. Since this method is a little less readable, use of it should be restricted to code where it\'s possible there might be large datasets being returned.  For known small datasets use get_records_sql - it leads to simpler code. ', [['lib/dml','pdo_moodle_database.php',252],['lib/dml','oci_native_moodle_database.php',1106],['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','mssql_native_moodle_database.php',736],['lib/dml','mysqli_native_moodle_database.php',993],['lib/dml','sqlsrv_native_moodle_database.php',811],['lib/dml/tests','dml_test.php',5544]], 283],
'user_list_view': ['user_list_view', 'Trigger user_list_viewed event. ', [['user','lib.php',1043]], 3],
'get_records_list': ['get_records_list', 'Get a number of records as an array of objects where one field match one list of values. ', [['lib/dml','moodle_database.php',1310]], 34],
'add_user_device_parameters': ['add_user_device_parameters', 'Returns description of method parameters. ', [['user','externallib.php',1019]], 1],
'add_user_private_files_returns': ['add_user_private_files_returns', 'Returns description of method result value ', [['user','externallib.php',1009]], 0],
'unset_user_preference': ['unset_user_preference', 'Unsets a preference completely by deleting it from the database ', [['lib','moodlelib.php',1924]], 35],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1923]], 260],
'get_string_manager': ['get_string_manager', 'Returns current string_manager instance. ', [['lib','moodlelib.php',6678]], 163],
'get_course_user_profiles_returns': ['get_course_user_profiles_returns', 'Returns description of method result value ', [['user','externallib.php',853]], 2],
'preload_from_record': ['preload_from_record', 'Preloads context information from db record and strips the cached info. ', [['lib','accesslib.php',5250],['lib','accesslib.php',6079]], 61],
'get_users_by_field': ['get_users_by_field', 'Get user information for a unique field. ', [['user','externallib.php',511]], 3],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'update_picture': ['update_picture', 'Updates the provided users profile picture based upon the expected fields returned from the edit or edit_advanced forms. ', [['lib/classes','user.php',283]], 5],
'delete_users_parameters': ['delete_users_parameters', 'Returns description of method parameters ', [['user','externallib.php',263]], 1],
'get_course_user_profiles': ['get_course_user_profiles', 'Get course participant\'s details ', [['user','externallib.php',789]], 2],
'get_users_parameters': ['get_users_parameters', 'Returns description of get_users() parameters. ', [['user','externallib.php',592]], 1],
'require_active_user': ['require_active_user', 'Check if the given user is an active user in the site. ', [['lib/classes','user.php',247]], 29],
'create_from_userid': ['create_from_userid', 'Create instance of event. ', [['lib/classes/event','user_created.php',117],['lib/classes/event','user_updated.php',117]], 17],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1635],['lib/dml','moodle_database.php',711]], 438],
'create_users': ['create_users', 'Creates a number of user accounts and enrols them on the course. Note: Existing user accounts that were created by this system are reused if available. ', [['admin/tool/generator/classes','course_backend.php',267],['user','externallib.php',122]], 3],
'get_list_of_translations': ['get_list_of_translations', 'Returns localised list of installed translations ', [['lib/classes','string_manager_install.php',209],['lib/classes','string_manager_standard.php',504],['lib/classes','string_manager.php',102]], 23],
'update_users_returns': ['update_users_returns', 'Returns description of method result value ', [['user','externallib.php',484]], 0],
'get_user_preferences_returns': ['get_user_preferences_returns', 'Returns description of method result value ', [['user','externallib.php',1437]], 4],
'is_siteadmin': ['is_siteadmin', 'Check if the user is an admin at the site level. ', [['lib','accesslib.php',602]], 95],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',769]], 635],
'delete_users_returns': ['delete_users_returns', 'Returns description of method result value ', [['user','externallib.php',315]], 0],
'view_user_profile_parameters': ['view_user_profile_parameters', 'Returns description of method parameters ', [['user','externallib.php',1269]], 1],
'allow_commit': ['allow_commit', 'Commit delegated transaction. The real database commit SQL is executed only after committing all delegated transactions. ', [['lib/dml','moodle_transaction.php',78]], 135],
'create_users_returns': ['create_users_returns', 'Returns description of method result value ', [['user','externallib.php',245]], 1],
'sql_like': ['sql_like', 'Returns \'LIKE\' part of a query. ', [['lib/dml','oci_native_moodle_database.php',1575],['lib/dml','pgsql_native_moodle_database.php',1188],['lib/dml','mssql_native_moodle_database.php',1224],['lib/dml','mysqli_native_moodle_database.php',1514],['lib/dml','moodle_database.php',2053],['lib/dml','sqlsrv_native_moodle_database.php',1291]], 159],
'file_merge_files_from_draft_area_into_filearea': ['file_merge_files_from_draft_area_into_filearea', 'Add files from a draft area into a final area. ', [['lib','filelib.php',2565]], 8],
'close': ['close', 'Close archive, write changes to disk. ', [['lib/filestorage','zip_archive.php',183],['lib/dml','mssql_native_moodle_recordset.php',87],['auth/fc','fcFPP.php',78],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib/spout/src/Spout/Reader','ReaderInterface.php',30],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',81],['lib/dml','pdo_moodle_recordset.php',79],['lib','csvlib.class.php',256],['lib/horde/framework/Horde/Socket','Client.php',135],['backup/util/helper','backup_null_iterator.class.php',53],['admin/tool/uploaduser','locallib.php',149],['lib/tcpdf','tcpdf.php',2943],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpmailer','class.smtp.php',582],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/classes/dml','recordset_walk.php',153],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',84],['grade/export','lib.php',689],['lib','excellib.class.php',93],['backup/util/loggers','file_logger.class.php',69],['grade','lib.php',324],['backup/util/helper','backup_array_iterator.class.php',63],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['mod/assign/feedback/offline','importgradeslib.php',204],['lib/dml','oci_native_moodle_recordset.php',80],['lib/adodb','adodb.inc.php',2361],['lib/adodb','adodb.inc.php',3090],['lib/adodb','adodb.inc.php',3870],['lib/google/src/Google/Logger','File.php',132],['lib/phpunit/classes','event_sink.php',39],['lib/horde/framework/Horde','Stream.php',585],['backup/util/loggers','base_logger.class.php',89],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',71],['question/engine/tests','helpers.php',1241],['lib/spout/src/Spout/Writer','AbstractWriter.php',312],['lib','odslib.class.php',71],['lib/spout/src/Spout/Writer/Common/Internal','WorksheetInterface.php',34],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',214],['lib/spout/src/Spout/Writer','WriterInterface.php',84],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',174],['lib/spout/src/Spout/Reader','AbstractReader.php',183],['lib/phpunit/classes','message_sink.php',39],['lib/spout/src/Spout/Writer/Common/Internal','WorkbookInterface.php',65],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',95],['lib/pear/Net','GeoIP.php',556],['lib/tests','completionlib_test.php',907],['lib/pear/Auth','RADIUS.php',550],['lib/pear/Auth','RADIUS.php',710],['lib/pear/Auth','RADIUS.php',829],['lib','webdavlib.php',176],['lib/dml','pgsql_native_moodle_recordset.php',107]], 1128],
'add_user_private_files': ['add_user_private_files', 'Copy files from a draft area to users private files area. ', [['user','externallib.php',971]], 1],
'fields': ['fields', '', [['lib/adodb/drivers','adodb-odbtp.inc.php',720],['lib/adodb/drivers','adodb-sqlite3.inc.php',403],['mod/quiz/classes','admin_review_setting.php',65],['lib/adodb/drivers','adodb-ibase.inc.php',865],['lib/adodb/drivers','adodb-postgres64.inc.php',968],['lib/adodb/drivers','adodb-odbc.inc.php',644],['lib/adodb/drivers','adodb-sqlite.inc.php',420],['lib/adodb/drivers','adodb-pdo.inc.php',742],['lib','outputcomponents.php',235],['lib/adodb/drivers','adodb-oci8po.inc.php',104],['lib/adodb/drivers','adodb-mssql.inc.php',906],['lib/adodb/drivers','adodb-mysql.inc.php',774],['lib/adodb/drivers','adodb-mssqlnative.inc.php',895],['lib/adodb/drivers','adodb-oracle.inc.php',267],['lib/adodb','adodb.inc.php',3781],['lib/adodb','adodb.inc.php',4459],['lib/adodb/drivers','adodb-ado5.inc.php',412],['lib/adodb/drivers','adodb-db2.inc.php',756],['lib/adodb/drivers','adodb-oci8.inc.php',1701],['lib/adodb/drivers','adodb-mysqli.inc.php',973],['lib/adodb/drivers','adodb-ado.inc.php',375],['lib/adodb/drivers','adodb-ads.inc.php',690]], 156],
'get_users_returns': ['get_users_returns', 'Returns description of get_users result value. ', [['user','externallib.php',752]], 1],
'delete_users': ['delete_users', 'Delete users ', [['user','externallib.php',277]], 2],
'profile_view': ['profile_view', 'Trigger a user profile viewed event. ', [['user/profile','lib.php',635]], 6],
'on': ['on', '', [['lib/requirejs','require.js',508],['lib/jquery','jquery-3.1.0.js',4809]], 3823],
'user_remove_user_device': ['user_remove_user_device', 'Remove a user device from the Moodle database (for PUSH notifications usually). ', [['user','lib.php',1018]], 1],
'get_property_type': ['get_property_type', 'Get the parameter type of the property. ', [['lib/classes','user.php',554]], 139],
'user_update_user': ['user_update_user', 'Update a user with a user object (will compare against the ID) ', [['user','lib.php',121]], 31],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'user_create_user': ['user_create_user', 'Creates a user ', [['user','lib.php',25]], 15],
'remove_user_device_returns': ['remove_user_device_returns', 'Returns description of method result value. ', [['user','externallib.php',1179]], 4],
'start_delegated_transaction': ['start_delegated_transaction', 'On DBs that support it, switch to transaction mode and begin a transaction you\'ll need to ensure you call allow_commit() on the returned object or your changes *will* be lost. ', [['lib/dml','moodle_database.php',2393]], 145],
'view_user_profile': ['view_user_profile', 'Trigger the user profile viewed event. ', [['user','externallib.php',1284]], 0],
'add_user_private_files_parameters': ['add_user_private_files_parameters', 'Returns description of method parameters ', [['user','externallib.php',957]], 1],
'profile_save_data': ['profile_save_data', 'Saves profile data for a user. ', [['user/profile','lib.php',489]], 11],
'can_access_course': ['can_access_course', 'Checks if current user has access to the course ', [['tag/classes','index_builder.php',335],['lib','accesslib.php',2130]], 19],
'get_property_null': ['get_property_null', 'Discover if the property is NULL_ALLOWED or NULL_NOT_ALLOWED. ', [['lib/classes','user.php',572]], 10],
'setnew_password_and_mail': ['setnew_password_and_mail', 'Sets specified user\'s password and send the new password to the user via email. ', [['lib','moodlelib.php',5897]], 5],
'view_user_profile_returns': ['view_user_profile_returns', 'Returns description of method result value ', [['user','externallib.php',1351]], 0],
'get_user_preferences_parameters': ['get_user_preferences_parameters', 'Returns description of method parameters ', [['user','externallib.php',1366]], 1],
'get_course_user_profiles_parameters': ['get_course_user_profiles_parameters', 'Returns description of method parameters ', [['user','externallib.php',768]], 1],
'create_users_parameters': ['create_users_parameters', 'Returns description of method parameters ', [['user','externallib.php',39]], 1],
'user_get_user_details': ['user_get_user_details', 'Give user record from mdl_user, build an array contains all user details. ', [['user','lib.php',238]], 8],
'get_records_select': ['get_records_select', 'Load a list of records based on a select query. ', [['competency/classes','persistent.php',751],['lib/dml','moodle_database.php',1332]], 166],
'remove_user_device_parameters': ['remove_user_device_parameters', 'Returns description of method parameters. ', [['user','externallib.php',1124]], 1],
'get_users': ['get_users', 'Retrieve matching user. ', [['user','externallib.php',626],['blocks/online_users/classes','fetcher.php',143],['lib','datalib.php',381],['enrol','locallib.php',217],['grade/report/history/classes','helper.php',82]], 19],
'user_delete_user': ['user_delete_user', 'Marks user deleted in internal user database and notifies the auth plugin. Also unenrols user from all roles and does other cleanup. ', [['user','lib.php',198]], 1],
'set_user_preference': ['set_user_preference', 'Sets a preference for the specified user. ', [['lib','moodlelib.php',1827]], 172],
'get_users_by_field_parameters': ['get_users_by_field_parameters', 'Returns description of method parameters ', [['user','externallib.php',494]], 1],
'view_user_list': ['view_user_list', 'Trigger the user_list_viewed event. ', [['user','externallib.php',1208]], 0],
'add_user_device_returns': ['add_user_device_returns', 'Returns description of method result value. ', [['user','externallib.php',1112]], 3],
'get_users_by_field_returns': ['get_users_by_field_returns', 'Returns description of method result value ', [['user','externallib.php',581]], 3],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'trigger': ['trigger', '', [['lib/evalmath','evalmath.class.php',448],['lib/classes/event','base.php',765]], 964],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',448]], 256],
'update_users_parameters': ['update_users_parameters', 'Returns description of method parameters ', [['user','externallib.php',326]], 1],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',279]], 340],
'user_get_user_details_courses': ['user_get_user_details_courses', 'Tries to obtain user details, either recurring directly to the user\'s system profile or through one of the user\'s course enrollments (course profile). ', [['user','lib.php',557]], 4],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'view_user_list_returns': ['view_user_list_returns', 'Returns description of method result value ', [['user','externallib.php',1254]], 0],
'is_array': ['is_array', '', [], 1608],
'array_merge': ['array_merge', '', [], 2944],
'array_unique': ['array_unique', '', [], 171],
'time': ['time', '', [], 1959],
'name': ['name', '', [], 118],
'array_key_exists': ['array_key_exists', '', [], 1445]};
CLASS_DATA={
'core_user': ['core_user', 'User class to access user details. ', [['lib/classes','user.php',27]], 457],
'invalid_parameter_exception': ['invalid_parameter_exception', 'Exception indicating malformed parameter problem. This exception is not supposed to be thrown when processing user submitted data in forms. It is more suitable for WS and other low level stuff. ', [['lib','setuplib.php',259]], 88],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',546]], 2505],
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',609]], 350],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6398]], 414],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147],
'user_created': ['user_created', 'Event when new user profile is created. ', [['lib/classes/event','user_created.php',29]], 8],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6817]], 1323],
'user_updated': ['user_updated', 'Event when user profile is updated. ', [['lib/classes/event','user_updated.php',29]], 9],
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',638]], 344],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',239]], 1200],
'user': ['user', 'Search area for Users for whom I have access to view profile. ', [['user/classes/search','user.php',31],['grade/report/singleview/classes/local/screen','user.php',40]], 27],
'external_warnings': ['external_warnings', 'Standard Moodle web service warnings ', [['lib','externallib.php',768]], 150],
'core_user_external': ['core_user_external', 'User external functions ', [['user','externallib.php',28]], 52],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',75]], 606],
'external_format_value': ['external_format_value', 'A pre-filled external_value class for text format. ', [['lib','externallib.php',799]], 70],
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',580]], 460],
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 511],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808],
'context_helper': ['context_helper', 'Context maintenance and helper methods. ', [['lib','accesslib.php',5875]], 203]};
CONST_DATA={
'IGNORE_MISSING': ['IGNORE_MISSING', '', [['lib','dmllib.php',48]], 215],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 542],
'SITEID': ['SITEID', '', [['admin/cli','install.php',219],['lib/db','install.php',87],['','install.php',242],['lib','setup.php',755]], 608],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921],
'FILE_AREA_MAX_BYTES_UNLIMITED': ['FILE_AREA_MAX_BYTES_UNLIMITED', '', [['lib','filelib.php',35]], 17],
'USER_CAN_IGNORE_FILE_SIZE_LIMITS': ['USER_CAN_IGNORE_FILE_SIZE_LIMITS', '', [['lib','moodlelib.php',507]], 10],
'VALUE_REQUIRED': ['VALUE_REQUIRED', '', [['lib','moodlelib.php',332]], 144],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'PARAM_ALPHA': ['PARAM_ALPHA', '', [['lib','moodlelib.php',77]], 398],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'CONTEXT_COURSE': ['CONTEXT_COURSE', '', [['lib','accesslib.php',148]], 441],
'PARAM_URL': ['PARAM_URL', '', [['lib','moodlelib.php',239]], 165],
'NULL_NOT_ALLOWED': ['NULL_NOT_ALLOWED', '', [['lib','moodlelib.php',347]], 88],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 304],
'SQL_PARAMS_NAMED': ['SQL_PARAMS_NAMED', '', [['lib/dml','moodle_database.php',32]], 315],
'PARAM_NOTAGS': ['PARAM_NOTAGS', '', [['lib','moodlelib.php',172]], 217],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 802],
'CONTEXT_USER': ['CONTEXT_USER', '', [['lib','accesslib.php',144]], 123],
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 761],
'PARAM_ALPHANUMEXT': ['PARAM_ALPHANUMEXT', '', [['lib','moodlelib.php',93]], 200]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
