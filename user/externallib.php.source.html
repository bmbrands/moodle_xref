<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /user/externallib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='user';
filename='externallib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/user/</a> -> <a href="externallib.php.html">externallib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="externallib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="externallib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * External user API</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_user</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category   external</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2009 Petr Skodak</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>/externallib.php&quot;);
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * User external functions</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> *</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * @package    core_user</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @category   external</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @copyright  2011 Jerome Mouneyrac</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @since Moodle 2.2</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> */</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l38"><span class="linenum">  38</span></a>  
<a name="l39"><span class="linenum">  39</span></a>      <span class="comment">/**</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     *</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     */</span>
<a name="l45"><span class="linenum">  45</span></a>      public static function <a class="function" onClick="logFunction('create_users_parameters')" href="../_functions/create_users_parameters.html" onMouseOver="funcPopup(event,'create_users_parameters')">create_users_parameters</a>() {
<a name="l46"><span class="linenum">  46</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l49"><span class="linenum">  49</span></a>              array(
<a name="l50"><span class="linenum">  50</span></a>                  'users' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l51"><span class="linenum">  51</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l52"><span class="linenum">  52</span></a>                          array(
<a name="l53"><span class="linenum">  53</span></a>                              'username' =&gt;
<a name="l54"><span class="linenum">  54</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_USERNAME')" href="../_constants/PARAM_USERNAME.html" onMouseOver="constPopup(event,'PARAM_USERNAME')">PARAM_USERNAME</a>, 'Username policy is defined in Moodle security config.'),
<a name="l55"><span class="linenum">  55</span></a>                              'password' =&gt;
<a name="l56"><span class="linenum">  56</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Plain text password consisting of any characters'),
<a name="l57"><span class="linenum">  57</span></a>                              'firstname' =&gt;
<a name="l58"><span class="linenum">  58</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(s) of the user'),
<a name="l59"><span class="linenum">  59</span></a>                              'lastname' =&gt;
<a name="l60"><span class="linenum">  60</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The family name of the user'),
<a name="l61"><span class="linenum">  61</span></a>                              'email' =&gt;
<a name="l62"><span class="linenum">  62</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_EMAIL')" href="../_constants/PARAM_EMAIL.html" onMouseOver="constPopup(event,'PARAM_EMAIL')">PARAM_EMAIL</a>, 'A valid and unique email address'),
<a name="l63"><span class="linenum">  63</span></a>                              'auth' =&gt;
<a name="l64"><span class="linenum">  64</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'Auth plugins include manual, ldap, imap, etc', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>,
<a name="l65"><span class="linenum">  65</span></a>                                      'manual', <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l66"><span class="linenum">  66</span></a>                              'idnumber' =&gt;
<a name="l67"><span class="linenum">  67</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'An arbitrary ID code number perhaps from the institution',
<a name="l68"><span class="linenum">  68</span></a>                                      <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l69"><span class="linenum">  69</span></a>                              'lang' =&gt;
<a name="l70"><span class="linenum">  70</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_SAFEDIR')" href="../_constants/PARAM_SAFEDIR.html" onMouseOver="constPopup(event,'PARAM_SAFEDIR')">PARAM_SAFEDIR</a>, 'Language code such as &quot;en&quot;, must exist on server', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>,
<a name="l71"><span class="linenum">  71</span></a>                                      <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('lang')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/lang.html">lang</a>, <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l72"><span class="linenum">  72</span></a>                              'calendartype' =&gt;
<a name="l73"><span class="linenum">  73</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'Calendar type such as &quot;gregorian&quot;, must exist on server',
<a name="l74"><span class="linenum">  74</span></a>                                      <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('calendartype')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/calendartype.html">calendartype</a>, <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l75"><span class="linenum">  75</span></a>                              'theme' =&gt;
<a name="l76"><span class="linenum">  76</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'Theme name such as &quot;standard&quot;, must exist on server',
<a name="l77"><span class="linenum">  77</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l78"><span class="linenum">  78</span></a>                              'timezone' =&gt;
<a name="l79"><span class="linenum">  79</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TIMEZONE')" href="../_constants/PARAM_TIMEZONE.html" onMouseOver="constPopup(event,'PARAM_TIMEZONE')">PARAM_TIMEZONE</a>, 'Timezone code such as Australia/Perth, or 99 for default',
<a name="l80"><span class="linenum">  80</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l81"><span class="linenum">  81</span></a>                              'mailformat' =&gt;
<a name="l82"><span class="linenum">  82</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Mail format code is 0 for plain text, 1 for HTML etc',
<a name="l83"><span class="linenum">  83</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l84"><span class="linenum">  84</span></a>                              'description' =&gt;
<a name="l85"><span class="linenum">  85</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'User profile description, no HTML', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l86"><span class="linenum">  86</span></a>                              'city' =&gt;
<a name="l87"><span class="linenum">  87</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'Home city of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l88"><span class="linenum">  88</span></a>                              'country' =&gt;
<a name="l89"><span class="linenum">  89</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'Home country code of the user, such as AU or CZ', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l90"><span class="linenum">  90</span></a>                              'firstnamephonetic' =&gt;
<a name="l91"><span class="linenum">  91</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(s) phonetically of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l92"><span class="linenum">  92</span></a>                              'lastnamephonetic' =&gt;
<a name="l93"><span class="linenum">  93</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The family name phonetically of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l94"><span class="linenum">  94</span></a>                              'middlename' =&gt;
<a name="l95"><span class="linenum">  95</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The middle name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l96"><span class="linenum">  96</span></a>                              'alternatename' =&gt;
<a name="l97"><span class="linenum">  97</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The alternate name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l98"><span class="linenum">  98</span></a>                              'preferences' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l99"><span class="linenum">  99</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l100"><span class="linenum"> 100</span></a>                                      array(
<a name="l101"><span class="linenum"> 101</span></a>                                          'type'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the preference'),
<a name="l102"><span class="linenum"> 102</span></a>                                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the preference')
<a name="l103"><span class="linenum"> 103</span></a>                                      )
<a name="l104"><span class="linenum"> 104</span></a>                                  ), 'User preferences', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l105"><span class="linenum"> 105</span></a>                              'customfields' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l106"><span class="linenum"> 106</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l107"><span class="linenum"> 107</span></a>                                      array(
<a name="l108"><span class="linenum"> 108</span></a>                                          'type'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the custom field'),
<a name="l109"><span class="linenum"> 109</span></a>                                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the custom field')
<a name="l110"><span class="linenum"> 110</span></a>                                      )
<a name="l111"><span class="linenum"> 111</span></a>                                  ), 'User custom <a class="function" onClick="logFunction('fields')" href="../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a> (also known as user profil fields)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>)
<a name="l112"><span class="linenum"> 112</span></a>                          )
<a name="l113"><span class="linenum"> 113</span></a>                      )
<a name="l114"><span class="linenum"> 114</span></a>                  )
<a name="l115"><span class="linenum"> 115</span></a>              )
<a name="l116"><span class="linenum"> 116</span></a>          );
<a name="l117"><span class="linenum"> 117</span></a>      }
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>      <span class="comment">/**</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     * Create one or more users.</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     *</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * @throws invalid_parameter_exception</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * @param array $users An array of users to create.</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     * @return array An array of arrays</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">     */</span>
<a name="l127"><span class="linenum"> 127</span></a>      public static function <a class="function" onClick="logFunction('create_users')" href="../_functions/create_users.html" onMouseOver="funcPopup(event,'create_users')">create_users</a>(<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>) {
<a name="l128"><span class="linenum"> 128</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l129"><span class="linenum"> 129</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../lib/weblib.php.html">/lib/weblib.php</a>");
<a name="l130"><span class="linenum"> 130</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l131"><span class="linenum"> 131</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../user/profile/lib.php.html">/user/profile/lib.php</a>"); <span class="comment">// Required for customfields related function.</span>
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">        // Ensure the current user is allowed to run this function.</span>
<a name="l134"><span class="linenum"> 134</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l135"><span class="linenum"> 135</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l136"><span class="linenum"> 136</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/user:create', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">        // Do basic automatic PARAM checks on incoming data, using params description.</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">        // If any problems are found then exceptions are thrown with helpful error messages.</span>
<a name="l140"><span class="linenum"> 140</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('create_users_parameters')" href="../_functions/create_users_parameters.html" onMouseOver="funcPopup(event,'create_users_parameters')">create_users_parameters</a>(), array('users' =&gt; <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>));
<a name="l141"><span class="linenum"> 141</span></a>  
<a name="l142"><span class="linenum"> 142</span></a>          <a class="var it2952" onMouseOver="hilite(2952)" onMouseOut="lolite()" onClick="logVariable('availableauths')" href="../_variables/availableauths.html">$availableauths</a>  = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('auth');
<a name="l143"><span class="linenum"> 143</span></a>          unset(<a class="var it2952" onMouseOver="hilite(2952)" onMouseOut="lolite()" onClick="logVariable('availableauths')" href="../_variables/availableauths.html">$availableauths</a>['mnet']);       <span class="comment">// These would need mnethostid too.</span>
<a name="l144"><span class="linenum"> 144</span></a>          unset(<a class="var it2952" onMouseOver="hilite(2952)" onMouseOut="lolite()" onClick="logVariable('availableauths')" href="../_variables/availableauths.html">$availableauths</a>['webservice']); <span class="comment">// We do not want new webservice users for now.</span>
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>          <a class="var it2953" onMouseOver="hilite(2953)" onMouseOut="lolite()" onClick="logVariable('availablethemes')" href="../_variables/availablethemes.html">$availablethemes</a> = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('theme');
<a name="l147"><span class="linenum"> 147</span></a>          <a class="var it2954" onMouseOver="hilite(2954)" onMouseOut="lolite()" onClick="logVariable('availablelangs')" href="../_variables/availablelangs.html">$availablelangs</a>  = <a class="function" onClick="logFunction('get_string_manager')" href="../_functions/get_string_manager.html" onMouseOver="funcPopup(event,'get_string_manager')">get_string_manager</a>()-&gt;<a class="function" onClick="logFunction('get_list_of_translations')" href="../_functions/get_list_of_translations.html" onMouseOver="funcPopup(event,'get_list_of_translations')">get_list_of_translations</a>();
<a name="l148"><span class="linenum"> 148</span></a>  
<a name="l149"><span class="linenum"> 149</span></a>          <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l150"><span class="linenum"> 150</span></a>  
<a name="l151"><span class="linenum"> 151</span></a>          <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a> = array();
<a name="l152"><span class="linenum"> 152</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['users'] as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">            // Make sure that the username doesn't already exist.</span>
<a name="l154"><span class="linenum"> 154</span></a>              if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('user', array('username' =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['username'], 'mnethostid' =&gt; <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('mnet_localhost_id')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/mnet_localhost_id.html">mnet_localhost_id</a>))) {
<a name="l155"><span class="linenum"> 155</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Username already exists: '.<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['username']);
<a name="l156"><span class="linenum"> 156</span></a>              }
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">            // Make sure auth is valid.</span>
<a name="l159"><span class="linenum"> 159</span></a>              if (empty(<a class="var it2952" onMouseOver="hilite(2952)" onMouseOut="lolite()" onClick="logVariable('availableauths')" href="../_variables/availableauths.html">$availableauths</a>[<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['auth']])) {
<a name="l160"><span class="linenum"> 160</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid authentication type: '.<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['auth']);
<a name="l161"><span class="linenum"> 161</span></a>              }
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">            // Make sure lang is valid.</span>
<a name="l164"><span class="linenum"> 164</span></a>              if (empty(<a class="var it2954" onMouseOver="hilite(2954)" onMouseOut="lolite()" onClick="logVariable('availablelangs')" href="../_variables/availablelangs.html">$availablelangs</a>[<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['lang']])) {
<a name="l165"><span class="linenum"> 165</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid language code: '.<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['lang']);
<a name="l166"><span class="linenum"> 166</span></a>              }
<a name="l167"><span class="linenum"> 167</span></a>  
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">            // Make sure lang is valid.</span>
<a name="l169"><span class="linenum"> 169</span></a>              if (!empty(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['theme']) &amp;&amp; empty(<a class="var it2953" onMouseOver="hilite(2953)" onMouseOut="lolite()" onClick="logVariable('availablethemes')" href="../_variables/availablethemes.html">$availablethemes</a>[<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['theme']])) { // Theme is <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>,
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">                                                                                     // so no default value</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">                                                                                     // We need to test if the client sent it</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">                                                                                     // =&gt; !empty($user['theme']).</span>
<a name="l173"><span class="linenum"> 173</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid theme: '.<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['theme']);
<a name="l174"><span class="linenum"> 174</span></a>              }
<a name="l175"><span class="linenum"> 175</span></a>  
<a name="l176"><span class="linenum"> 176</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['confirmed'] = true;
<a name="l177"><span class="linenum"> 177</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['mnethostid'] = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('mnet_localhost_id')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/mnet_localhost_id.html">mnet_localhost_id</a>;
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment">            // Start of user info validation.</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">            // Make sure we validate current user info as handled by current GUI. See user/editadvanced_form.php func validation().</span>
<a name="l181"><span class="linenum"> 181</span></a>              if (!<a class="function" onClick="logFunction('validate_email')" href="../_functions/validate_email.html" onMouseOver="funcPopup(event,'validate_email')">validate_email</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['email'])) {
<a name="l182"><span class="linenum"> 182</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Email address is invalid: '.<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['email']);
<a name="l183"><span class="linenum"> 183</span></a>              } else if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('user', array('email' =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['email'], 'mnethostid' =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['mnethostid']))) {
<a name="l184"><span class="linenum"> 184</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Email address already exists: '.<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['email']);
<a name="l185"><span class="linenum"> 185</span></a>              }
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">            // End of user info validation.</span>
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">            // Create the user data now!</span>
<a name="l189"><span class="linenum"> 189</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id'] = <a class="function" onClick="logFunction('user_create_user')" href="../_functions/user_create_user.html" onMouseOver="funcPopup(event,'user_create_user')">user_create_user</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, true, false);
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">            // Custom fields.</span>
<a name="l192"><span class="linenum"> 192</span></a>              if (!empty(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['customfields'])) {
<a name="l193"><span class="linenum"> 193</span></a>                  foreach (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['customfields'] as <a class="var it2956" onMouseOver="hilite(2956)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>) {
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">                    // Profile_save_data() saves profile file it's expecting a user with the correct id,</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">                    // and custom field to be named profile_field_&quot;shortname&quot;.</span>
<a name="l196"><span class="linenum"> 196</span></a>                      <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>[&quot;profile_field_&quot;.<a class="var it2956" onMouseOver="hilite(2956)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>['type']] = <a class="var it2956" onMouseOver="hilite(2956)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>['value'];
<a name="l197"><span class="linenum"> 197</span></a>                  }
<a name="l198"><span class="linenum"> 198</span></a>                  <a class="function" onClick="logFunction('profile_save_data')" href="../_functions/profile_save_data.html" onMouseOver="funcPopup(event,'profile_save_data')">profile_save_data</a>((object) <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l199"><span class="linenum"> 199</span></a>              }
<a name="l200"><span class="linenum"> 200</span></a>  
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">            // Trigger event.</span>
<a name="l202"><span class="linenum"> 202</span></a>              \core\event\<a class="class" onClick="logClass('user_created')" href="../_classes/user_created.html" onMouseOver="classPopup(event,'user_created')">user_created</a>::<a class="function" onClick="logFunction('create_from_userid')" href="../_functions/create_from_userid.html" onMouseOver="funcPopup(event,'create_from_userid')">create_from_userid</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id'])-&gt;<a class="function" onClick="logFunction('trigger')" href="../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">            // Preferences.</span>
<a name="l205"><span class="linenum"> 205</span></a>              if (!empty(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['preferences'])) {
<a name="l206"><span class="linenum"> 206</span></a>                  foreach (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['preferences'] as <a class="var it1027" onMouseOver="hilite(1027)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>) {
<a name="l207"><span class="linenum"> 207</span></a>                      <a class="function" onClick="logFunction('set_user_preference')" href="../_functions/set_user_preference.html" onMouseOver="funcPopup(event,'set_user_preference')">set_user_preference</a>(<a class="var it1027" onMouseOver="hilite(1027)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>['type'], <a class="var it1027" onMouseOver="hilite(1027)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>['value'], <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id']);
<a name="l208"><span class="linenum"> 208</span></a>                  }
<a name="l209"><span class="linenum"> 209</span></a>              }
<a name="l210"><span class="linenum"> 210</span></a>  
<a name="l211"><span class="linenum"> 211</span></a>              <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>[] = array('id' =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id'], 'username' =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['username']);
<a name="l212"><span class="linenum"> 212</span></a>          }
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>          <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>          return <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>;
<a name="l217"><span class="linenum"> 217</span></a>      }
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>      <span class="comment">/**</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     *</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     * @return external_description</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     */</span>
<a name="l225"><span class="linenum"> 225</span></a>      public static function <a class="function" onClick="logFunction('create_users_returns')" href="../_functions/create_users_returns.html" onMouseOver="funcPopup(event,'create_users_returns')">create_users_returns</a>() {
<a name="l226"><span class="linenum"> 226</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l227"><span class="linenum"> 227</span></a>              <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l228"><span class="linenum"> 228</span></a>                  array(
<a name="l229"><span class="linenum"> 229</span></a>                      'id'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id'),
<a name="l230"><span class="linenum"> 230</span></a>                      'username' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_USERNAME')" href="../_constants/PARAM_USERNAME.html" onMouseOver="constPopup(event,'PARAM_USERNAME')">PARAM_USERNAME</a>, 'user name'),
<a name="l231"><span class="linenum"> 231</span></a>                  )
<a name="l232"><span class="linenum"> 232</span></a>              )
<a name="l233"><span class="linenum"> 233</span></a>          );
<a name="l234"><span class="linenum"> 234</span></a>      }
<a name="l235"><span class="linenum"> 235</span></a>  
<a name="l236"><span class="linenum"> 236</span></a>  
<a name="l237"><span class="linenum"> 237</span></a>      <span class="comment">/**</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     *</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     */</span>
<a name="l243"><span class="linenum"> 243</span></a>      public static function <a class="function" onClick="logFunction('delete_users_parameters')" href="../_functions/delete_users_parameters.html" onMouseOver="funcPopup(event,'delete_users_parameters')">delete_users_parameters</a>() {
<a name="l244"><span class="linenum"> 244</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l245"><span class="linenum"> 245</span></a>              array(
<a name="l246"><span class="linenum"> 246</span></a>                  'userids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(<span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user ID')),
<a name="l247"><span class="linenum"> 247</span></a>              )
<a name="l248"><span class="linenum"> 248</span></a>          );
<a name="l249"><span class="linenum"> 249</span></a>      }
<a name="l250"><span class="linenum"> 250</span></a>  
<a name="l251"><span class="linenum"> 251</span></a>      <span class="comment">/**</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     * Delete users</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     *</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">     * @param array $userids</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">     * @return null</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">     */</span>
<a name="l259"><span class="linenum"> 259</span></a>      public static function <a class="function" onClick="logFunction('delete_users')" href="../_functions/delete_users.html" onMouseOver="funcPopup(event,'delete_users')">delete_users</a>(<a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>) {
<a name="l260"><span class="linenum"> 260</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l261"><span class="linenum"> 261</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l262"><span class="linenum"> 262</span></a>  
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">        // Ensure the current user is allowed to run this function.</span>
<a name="l264"><span class="linenum"> 264</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l265"><span class="linenum"> 265</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/user:delete', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l266"><span class="linenum"> 266</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('delete_users_parameters')" href="../_functions/delete_users_parameters.html" onMouseOver="funcPopup(event,'delete_users_parameters')">delete_users_parameters</a>(), array('userids' =&gt; <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>));
<a name="l269"><span class="linenum"> 269</span></a>  
<a name="l270"><span class="linenum"> 270</span></a>          <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l271"><span class="linenum"> 271</span></a>  
<a name="l272"><span class="linenum"> 272</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userids'] as <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) {
<a name="l273"><span class="linenum"> 273</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('id' =&gt; <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, 'deleted' =&gt; 0), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">            // Must not allow deleting of admins or self!!!</span>
<a name="l275"><span class="linenum"> 275</span></a>              if (<a class="function" onClick="logFunction('is_siteadmin')" href="../_functions/is_siteadmin.html" onMouseOver="funcPopup(event,'is_siteadmin')">is_siteadmin</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l276"><span class="linenum"> 276</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('useradminodelete', 'error');
<a name="l277"><span class="linenum"> 277</span></a>              }
<a name="l278"><span class="linenum"> 278</span></a>              if (<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l279"><span class="linenum"> 279</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('usernotdeletederror', 'error');
<a name="l280"><span class="linenum"> 280</span></a>              }
<a name="l281"><span class="linenum"> 281</span></a>              <a class="function" onClick="logFunction('user_delete_user')" href="../_functions/user_delete_user.html" onMouseOver="funcPopup(event,'user_delete_user')">user_delete_user</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l282"><span class="linenum"> 282</span></a>          }
<a name="l283"><span class="linenum"> 283</span></a>  
<a name="l284"><span class="linenum"> 284</span></a>          <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l285"><span class="linenum"> 285</span></a>  
<a name="l286"><span class="linenum"> 286</span></a>          return null;
<a name="l287"><span class="linenum"> 287</span></a>      }
<a name="l288"><span class="linenum"> 288</span></a>  
<a name="l289"><span class="linenum"> 289</span></a>      <span class="comment">/**</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     *</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">     * @return null</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     */</span>
<a name="l295"><span class="linenum"> 295</span></a>      public static function <a class="function" onClick="logFunction('delete_users_returns')" href="../_functions/delete_users_returns.html" onMouseOver="funcPopup(event,'delete_users_returns')">delete_users_returns</a>() {
<a name="l296"><span class="linenum"> 296</span></a>          return null;
<a name="l297"><span class="linenum"> 297</span></a>      }
<a name="l298"><span class="linenum"> 298</span></a>  
<a name="l299"><span class="linenum"> 299</span></a>  
<a name="l300"><span class="linenum"> 300</span></a>      <span class="comment">/**</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     *</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">     */</span>
<a name="l306"><span class="linenum"> 306</span></a>      public static function <a class="function" onClick="logFunction('update_users_parameters')" href="../_functions/update_users_parameters.html" onMouseOver="funcPopup(event,'update_users_parameters')">update_users_parameters</a>() {
<a name="l307"><span class="linenum"> 307</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l308"><span class="linenum"> 308</span></a>              array(
<a name="l309"><span class="linenum"> 309</span></a>                  'users' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l310"><span class="linenum"> 310</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l311"><span class="linenum"> 311</span></a>                          array(
<a name="l312"><span class="linenum"> 312</span></a>                              'id' =&gt;
<a name="l313"><span class="linenum"> 313</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'ID of the user'),
<a name="l314"><span class="linenum"> 314</span></a>                              'username' =&gt;
<a name="l315"><span class="linenum"> 315</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_USERNAME')" href="../_constants/PARAM_USERNAME.html" onMouseOver="constPopup(event,'PARAM_USERNAME')">PARAM_USERNAME</a>, 'Username policy is defined in Moodle security config.',
<a name="l316"><span class="linenum"> 316</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '', <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l317"><span class="linenum"> 317</span></a>                              'password' =&gt;
<a name="l318"><span class="linenum"> 318</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Plain text password consisting of any characters', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>,
<a name="l319"><span class="linenum"> 319</span></a>                                      '', <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l320"><span class="linenum"> 320</span></a>                              'firstname' =&gt;
<a name="l321"><span class="linenum"> 321</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(s) of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '',
<a name="l322"><span class="linenum"> 322</span></a>                                      <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l323"><span class="linenum"> 323</span></a>                              'lastname' =&gt;
<a name="l324"><span class="linenum"> 324</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The family name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l325"><span class="linenum"> 325</span></a>                              'email' =&gt;
<a name="l326"><span class="linenum"> 326</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_EMAIL')" href="../_constants/PARAM_EMAIL.html" onMouseOver="constPopup(event,'PARAM_EMAIL')">PARAM_EMAIL</a>, 'A valid and unique email address', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '',
<a name="l327"><span class="linenum"> 327</span></a>                                      <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l328"><span class="linenum"> 328</span></a>                              'auth' =&gt;
<a name="l329"><span class="linenum"> 329</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'Auth plugins include manual, ldap, imap, etc', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '',
<a name="l330"><span class="linenum"> 330</span></a>                                      <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l331"><span class="linenum"> 331</span></a>                              'idnumber' =&gt;
<a name="l332"><span class="linenum"> 332</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'An arbitrary ID code number perhaps from the institution',
<a name="l333"><span class="linenum"> 333</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l334"><span class="linenum"> 334</span></a>                              'lang' =&gt;
<a name="l335"><span class="linenum"> 335</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_SAFEDIR')" href="../_constants/PARAM_SAFEDIR.html" onMouseOver="constPopup(event,'PARAM_SAFEDIR')">PARAM_SAFEDIR</a>, 'Language code such as &quot;en&quot;, must exist on server',
<a name="l336"><span class="linenum"> 336</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '', <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l337"><span class="linenum"> 337</span></a>                              'calendartype' =&gt;
<a name="l338"><span class="linenum"> 338</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'Calendar type such as &quot;gregorian&quot;, must exist on server',
<a name="l339"><span class="linenum"> 339</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, '', <a class="constant" onClick="logConstant('NULL_NOT_ALLOWED')" href="../_constants/NULL_NOT_ALLOWED.html" onMouseOver="constPopup(event,'NULL_NOT_ALLOWED')">NULL_NOT_ALLOWED</a>),
<a name="l340"><span class="linenum"> 340</span></a>                              'theme' =&gt;
<a name="l341"><span class="linenum"> 341</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'Theme name such as &quot;standard&quot;, must exist on server',
<a name="l342"><span class="linenum"> 342</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l343"><span class="linenum"> 343</span></a>                              'timezone' =&gt;
<a name="l344"><span class="linenum"> 344</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TIMEZONE')" href="../_constants/PARAM_TIMEZONE.html" onMouseOver="constPopup(event,'PARAM_TIMEZONE')">PARAM_TIMEZONE</a>, 'Timezone code such as Australia/Perth, or 99 for default',
<a name="l345"><span class="linenum"> 345</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l346"><span class="linenum"> 346</span></a>                              'mailformat' =&gt;
<a name="l347"><span class="linenum"> 347</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Mail format code is 0 for plain text, 1 for HTML etc',
<a name="l348"><span class="linenum"> 348</span></a>                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l349"><span class="linenum"> 349</span></a>                              'description' =&gt;
<a name="l350"><span class="linenum"> 350</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'User profile description, no HTML', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l351"><span class="linenum"> 351</span></a>                              'city' =&gt;
<a name="l352"><span class="linenum"> 352</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'Home city of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l353"><span class="linenum"> 353</span></a>                              'country' =&gt;
<a name="l354"><span class="linenum"> 354</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'Home country code of the user, such as AU or CZ', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l355"><span class="linenum"> 355</span></a>                              'firstnamephonetic' =&gt;
<a name="l356"><span class="linenum"> 356</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(s) phonetically of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l357"><span class="linenum"> 357</span></a>                              'lastnamephonetic' =&gt;
<a name="l358"><span class="linenum"> 358</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The family name phonetically of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l359"><span class="linenum"> 359</span></a>                              'middlename' =&gt;
<a name="l360"><span class="linenum"> 360</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The middle name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l361"><span class="linenum"> 361</span></a>                              'alternatename' =&gt;
<a name="l362"><span class="linenum"> 362</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The alternate name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l363"><span class="linenum"> 363</span></a>                              'customfields' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l364"><span class="linenum"> 364</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l365"><span class="linenum"> 365</span></a>                                      array(
<a name="l366"><span class="linenum"> 366</span></a>                                          'type'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the custom field'),
<a name="l367"><span class="linenum"> 367</span></a>                                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the custom field')
<a name="l368"><span class="linenum"> 368</span></a>                                      )
<a name="l369"><span class="linenum"> 369</span></a>                                  ), 'User custom <a class="function" onClick="logFunction('fields')" href="../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a> (also known as user profil fields)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l370"><span class="linenum"> 370</span></a>                              'preferences' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l371"><span class="linenum"> 371</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l372"><span class="linenum"> 372</span></a>                                      array(
<a name="l373"><span class="linenum"> 373</span></a>                                          'type'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the preference'),
<a name="l374"><span class="linenum"> 374</span></a>                                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the preference')
<a name="l375"><span class="linenum"> 375</span></a>                                      )
<a name="l376"><span class="linenum"> 376</span></a>                                  ), 'User preferences', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l377"><span class="linenum"> 377</span></a>                          )
<a name="l378"><span class="linenum"> 378</span></a>                      )
<a name="l379"><span class="linenum"> 379</span></a>                  )
<a name="l380"><span class="linenum"> 380</span></a>              )
<a name="l381"><span class="linenum"> 381</span></a>          );
<a name="l382"><span class="linenum"> 382</span></a>      }
<a name="l383"><span class="linenum"> 383</span></a>  
<a name="l384"><span class="linenum"> 384</span></a>      <span class="comment">/**</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">     * Update users</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     *</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     * @param array $users</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">     * @return null</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">     */</span>
<a name="l391"><span class="linenum"> 391</span></a>      public static function <a class="function" onClick="logFunction('update_users')" href="../_functions/update_users.html" onMouseOver="funcPopup(event,'update_users')">update_users</a>(<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>) {
<a name="l392"><span class="linenum"> 392</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l393"><span class="linenum"> 393</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l394"><span class="linenum"> 394</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../user/profile/lib.php.html">/user/profile/lib.php</a>"); <span class="comment">// Required for customfields related function.</span>
<a name="l395"><span class="linenum"> 395</span></a>  
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">        // Ensure the current user is allowed to run this function.</span>
<a name="l397"><span class="linenum"> 397</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l398"><span class="linenum"> 398</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/user:update', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l399"><span class="linenum"> 399</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l400"><span class="linenum"> 400</span></a>  
<a name="l401"><span class="linenum"> 401</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('update_users_parameters')" href="../_functions/update_users_parameters.html" onMouseOver="funcPopup(event,'update_users_parameters')">update_users_parameters</a>(), array('users' =&gt; <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>));
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>          <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l404"><span class="linenum"> 404</span></a>  
<a name="l405"><span class="linenum"> 405</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['users'] as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l406"><span class="linenum"> 406</span></a>              <a class="function" onClick="logFunction('user_update_user')" href="../_functions/user_update_user.html" onMouseOver="funcPopup(event,'user_update_user')">user_update_user</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, true, false);
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">            // Update user custom fields.</span>
<a name="l408"><span class="linenum"> 408</span></a>              if (!empty(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['customfields'])) {
<a name="l409"><span class="linenum"> 409</span></a>  
<a name="l410"><span class="linenum"> 410</span></a>                  foreach (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['customfields'] as <a class="var it2956" onMouseOver="hilite(2956)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>) {
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">                    // Profile_save_data() saves profile file it's expecting a user with the correct id,</span>
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">                    // and custom field to be named profile_field_&quot;shortname&quot;.</span>
<a name="l413"><span class="linenum"> 413</span></a>                      <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>[&quot;profile_field_&quot;.<a class="var it2956" onMouseOver="hilite(2956)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>['type']] = <a class="var it2956" onMouseOver="hilite(2956)" onMouseOut="lolite()" onClick="logVariable('customfield')" href="../_variables/customfield.html">$customfield</a>['value'];
<a name="l414"><span class="linenum"> 414</span></a>                  }
<a name="l415"><span class="linenum"> 415</span></a>                  <a class="function" onClick="logFunction('profile_save_data')" href="../_functions/profile_save_data.html" onMouseOver="funcPopup(event,'profile_save_data')">profile_save_data</a>((object) <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l416"><span class="linenum"> 416</span></a>              }
<a name="l417"><span class="linenum"> 417</span></a>  
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">            // Trigger event.</span>
<a name="l419"><span class="linenum"> 419</span></a>              \core\event\<a class="class" onClick="logClass('user_updated')" href="../_classes/user_updated.html" onMouseOver="classPopup(event,'user_updated')">user_updated</a>::<a class="function" onClick="logFunction('create_from_userid')" href="../_functions/create_from_userid.html" onMouseOver="funcPopup(event,'create_from_userid')">create_from_userid</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id'])-&gt;<a class="function" onClick="logFunction('trigger')" href="../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">            // Preferences.</span>
<a name="l422"><span class="linenum"> 422</span></a>              if (!empty(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['preferences'])) {
<a name="l423"><span class="linenum"> 423</span></a>                  foreach (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['preferences'] as <a class="var it1027" onMouseOver="hilite(1027)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>) {
<a name="l424"><span class="linenum"> 424</span></a>                      <a class="function" onClick="logFunction('set_user_preference')" href="../_functions/set_user_preference.html" onMouseOver="funcPopup(event,'set_user_preference')">set_user_preference</a>(<a class="var it1027" onMouseOver="hilite(1027)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>['type'], <a class="var it1027" onMouseOver="hilite(1027)" onMouseOut="lolite()" onClick="logVariable('preference')" href="../_variables/preference.html">$preference</a>['value'], <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>['id']);
<a name="l425"><span class="linenum"> 425</span></a>                  }
<a name="l426"><span class="linenum"> 426</span></a>              }
<a name="l427"><span class="linenum"> 427</span></a>          }
<a name="l428"><span class="linenum"> 428</span></a>  
<a name="l429"><span class="linenum"> 429</span></a>          <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l430"><span class="linenum"> 430</span></a>  
<a name="l431"><span class="linenum"> 431</span></a>          return null;
<a name="l432"><span class="linenum"> 432</span></a>      }
<a name="l433"><span class="linenum"> 433</span></a>  
<a name="l434"><span class="linenum"> 434</span></a>      <span class="comment">/**</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment">     *</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment">     * @return null</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment">     */</span>
<a name="l440"><span class="linenum"> 440</span></a>      public static function <a class="function" onClick="logFunction('update_users_returns')" href="../_functions/update_users_returns.html" onMouseOver="funcPopup(event,'update_users_returns')">update_users_returns</a>() {
<a name="l441"><span class="linenum"> 441</span></a>          return null;
<a name="l442"><span class="linenum"> 442</span></a>      }
<a name="l443"><span class="linenum"> 443</span></a>  
<a name="l444"><span class="linenum"> 444</span></a>      <span class="comment">/**</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">     *</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">     * @since Moodle 2.4</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">     */</span>
<a name="l450"><span class="linenum"> 450</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_field_parameters')" href="../_functions/get_users_by_field_parameters.html" onMouseOver="funcPopup(event,'get_users_by_field_parameters')">get_users_by_field_parameters</a>() {
<a name="l451"><span class="linenum"> 451</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l452"><span class="linenum"> 452</span></a>              array(
<a name="l453"><span class="linenum"> 453</span></a>                  'field' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'the search field can be
<a name="l454"><span class="linenum"> 454</span></a>                      \'id\' or \'idnumber\' or \'username\' or \'email\''),
<a name="l455"><span class="linenum"> 455</span></a>                  'values' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l456"><span class="linenum"> 456</span></a>                          <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the value to match'))
<a name="l457"><span class="linenum"> 457</span></a>              )
<a name="l458"><span class="linenum"> 458</span></a>          );
<a name="l459"><span class="linenum"> 459</span></a>      }
<a name="l460"><span class="linenum"> 460</span></a>  
<a name="l461"><span class="linenum"> 461</span></a>      <span class="comment">/**</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">     * Get user information for a unique field.</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">     *</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment">     * @throws coding_exception</span>
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment">     * @throws invalid_parameter_exception</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">     * @param string $field</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">     * @param array $values</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">     * @return array An array of arrays containg user profiles.</span>
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">     * @since Moodle 2.4</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">     */</span>
<a name="l471"><span class="linenum"> 471</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_field')" href="../_functions/get_users_by_field.html" onMouseOver="funcPopup(event,'get_users_by_field')">get_users_by_field</a>(<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>, <a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>) {
<a name="l472"><span class="linenum"> 472</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l473"><span class="linenum"> 473</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l474"><span class="linenum"> 474</span></a>  
<a name="l475"><span class="linenum"> 475</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_users_by_field_parameters')" href="../_functions/get_users_by_field_parameters.html" onMouseOver="funcPopup(event,'get_users_by_field_parameters')">get_users_by_field_parameters</a>(),
<a name="l476"><span class="linenum"> 476</span></a>                  array('field' =&gt; <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>, 'values' =&gt; <a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>));
<a name="l477"><span class="linenum"> 477</span></a>  
<a name="l478"><span class="linenum"> 478</span></a>  <span class="comment">        // This array will keep all the users that are allowed to be searched,</span>
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">        // according to the current user's privileges.</span>
<a name="l480"><span class="linenum"> 480</span></a>          <a class="var it2957" onMouseOver="hilite(2957)" onMouseOut="lolite()" onClick="logVariable('cleanedvalues')" href="../_variables/cleanedvalues.html">$cleanedvalues</a> = array();
<a name="l481"><span class="linenum"> 481</span></a>  
<a name="l482"><span class="linenum"> 482</span></a>          switch (<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>) {
<a name="l483"><span class="linenum"> 483</span></a>              case 'id':
<a name="l484"><span class="linenum"> 484</span></a>                  <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>;
<a name="l485"><span class="linenum"> 485</span></a>                  break;
<a name="l486"><span class="linenum"> 486</span></a>              case 'idnumber':
<a name="l487"><span class="linenum"> 487</span></a>                  <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>;
<a name="l488"><span class="linenum"> 488</span></a>                  break;
<a name="l489"><span class="linenum"> 489</span></a>              case 'username':
<a name="l490"><span class="linenum"> 490</span></a>                  <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>;
<a name="l491"><span class="linenum"> 491</span></a>                  break;
<a name="l492"><span class="linenum"> 492</span></a>              case 'email':
<a name="l493"><span class="linenum"> 493</span></a>                  <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_EMAIL')" href="../_constants/PARAM_EMAIL.html" onMouseOver="constPopup(event,'PARAM_EMAIL')">PARAM_EMAIL</a>;
<a name="l494"><span class="linenum"> 494</span></a>                  break;
<a name="l495"><span class="linenum"> 495</span></a>              default:
<a name="l496"><span class="linenum"> 496</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('invalid field parameter',
<a name="l497"><span class="linenum"> 497</span></a>                          'The search field \'' . <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a> . '\' is not supported, look at the web service documentation');
<a name="l498"><span class="linenum"> 498</span></a>          }
<a name="l499"><span class="linenum"> 499</span></a>  
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment">        // Clean the values.</span>
<a name="l501"><span class="linenum"> 501</span></a>          foreach (<a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a> as <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l502"><span class="linenum"> 502</span></a>              <a class="var it2959" onMouseOver="hilite(2959)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a> = <a class="function" onClick="logFunction('clean_param')" href="../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>, <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a>);
<a name="l503"><span class="linenum"> 503</span></a>              if ( <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a> != <a class="var it2959" onMouseOver="hilite(2959)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a>) {
<a name="l504"><span class="linenum"> 504</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('The field \'' . <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a> .
<a name="l505"><span class="linenum"> 505</span></a>                          '\' value is invalid: ' . <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a> . '(cleaned value: '.<a class="var it2959" onMouseOver="hilite(2959)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a>.')');
<a name="l506"><span class="linenum"> 506</span></a>              }
<a name="l507"><span class="linenum"> 507</span></a>              <a class="var it2957" onMouseOver="hilite(2957)" onMouseOut="lolite()" onClick="logVariable('cleanedvalues')" href="../_variables/cleanedvalues.html">$cleanedvalues</a>[] = <a class="var it2959" onMouseOver="hilite(2959)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a>;
<a name="l508"><span class="linenum"> 508</span></a>          }
<a name="l509"><span class="linenum"> 509</span></a>  
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment">        // Retrieve the users.</span>
<a name="l511"><span class="linenum"> 511</span></a>          <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_list')" href="../_functions/get_records_list.html" onMouseOver="funcPopup(event,'get_records_list')">get_records_list</a>('user', <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>, <a class="var it2957" onMouseOver="hilite(2957)" onMouseOut="lolite()" onClick="logVariable('cleanedvalues')" href="../_variables/cleanedvalues.html">$cleanedvalues</a>, 'id');
<a name="l512"><span class="linenum"> 512</span></a>  
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment">        // Finally retrieve each users information.</span>
<a name="l514"><span class="linenum"> 514</span></a>          <a class="var it2960" onMouseOver="hilite(2960)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a> = array();
<a name="l515"><span class="linenum"> 515</span></a>          foreach (<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l516"><span class="linenum"> 516</span></a>              <a class="var it2961" onMouseOver="hilite(2961)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a> = <a class="function" onClick="logFunction('user_get_user_details_courses')" href="../_functions/user_get_user_details_courses.html" onMouseOver="funcPopup(event,'user_get_user_details_courses')">user_get_user_details_courses</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l517"><span class="linenum"> 517</span></a>  
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">            // Return the user only if the searched field is returned.</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">            // Otherwise it means that the $USER was not allowed to search the returned user.</span>
<a name="l520"><span class="linenum"> 520</span></a>              if (!empty(<a class="var it2961" onMouseOver="hilite(2961)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>) and !empty(<a class="var it2961" onMouseOver="hilite(2961)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>[<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>])) {
<a name="l521"><span class="linenum"> 521</span></a>                  <a class="var it2960" onMouseOver="hilite(2960)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a>[] = <a class="var it2961" onMouseOver="hilite(2961)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>;
<a name="l522"><span class="linenum"> 522</span></a>              }
<a name="l523"><span class="linenum"> 523</span></a>          }
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>          return <a class="var it2960" onMouseOver="hilite(2960)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a>;
<a name="l526"><span class="linenum"> 526</span></a>      }
<a name="l527"><span class="linenum"> 527</span></a>  
<a name="l528"><span class="linenum"> 528</span></a>      <span class="comment">/**</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment">     *</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">     * @return external_multiple_structure</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">     * @since Moodle 2.4</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     */</span>
<a name="l534"><span class="linenum"> 534</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_field_returns')" href="../_functions/get_users_by_field_returns.html" onMouseOver="funcPopup(event,'get_users_by_field_returns')">get_users_by_field_returns</a>() {
<a name="l535"><span class="linenum"> 535</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('user_description')" href="../_functions/user_description.html" onMouseOver="funcPopup(event,'user_description')">user_description</a>());
<a name="l536"><span class="linenum"> 536</span></a>      }
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>  
<a name="l539"><span class="linenum"> 539</span></a>      <span class="comment">/**</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">     * Returns description of get_users() parameters.</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">     *</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">     */</span>
<a name="l545"><span class="linenum"> 545</span></a>      public static function <a class="function" onClick="logFunction('get_users_parameters')" href="../_functions/get_users_parameters.html" onMouseOver="funcPopup(event,'get_users_parameters')">get_users_parameters</a>() {
<a name="l546"><span class="linenum"> 546</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l547"><span class="linenum"> 547</span></a>              array(
<a name="l548"><span class="linenum"> 548</span></a>                  'criteria' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l549"><span class="linenum"> 549</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l550"><span class="linenum"> 550</span></a>                          array(
<a name="l551"><span class="linenum"> 551</span></a>                              'key' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'the user column to search, expected keys (value format) are:
<a name="l552"><span class="linenum"> 552</span></a>                                  &quot;id&quot; (int) matching user id,
<a name="l553"><span class="linenum"> 553</span></a>                                  &quot;lastname&quot; (string) user last <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a> (Note: you can use % for searching but it may be considerably slower!),
<a name="l554"><span class="linenum"> 554</span></a>                                  &quot;firstname&quot; (string) user first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a> (Note: you can use % for searching but it may be considerably slower!),
<a name="l555"><span class="linenum"> 555</span></a>                                  &quot;idnumber&quot; (string) matching user idnumber,
<a name="l556"><span class="linenum"> 556</span></a>                                  &quot;username&quot; (string) matching user username,
<a name="l557"><span class="linenum"> 557</span></a>                                  &quot;email&quot; (string) user email (Note: you can use % for searching but it may be considerably slower!),
<a name="l558"><span class="linenum"> 558</span></a>                                  &quot;auth&quot; (string) matching user auth plugin'),
<a name="l559"><span class="linenum"> 559</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the value to search')
<a name="l560"><span class="linenum"> 560</span></a>                          )
<a name="l561"><span class="linenum"> 561</span></a>                      ), 'the key/value pairs to be considered in user search. Values can not be empty.
<a name="l562"><span class="linenum"> 562</span></a>                          Specify different keys only once (fullname =&gt; \'user1\', auth =&gt; \'manual\', ...) -
<a name="l563"><span class="linenum"> 563</span></a>                          key occurences are forbidden.
<a name="l564"><span class="linenum"> 564</span></a>                          The search is executed with AND operator on the criterias. Invalid criterias (keys) are ignored,
<a name="l565"><span class="linenum"> 565</span></a>                          the search is still executed on the valid criterias.
<a name="l566"><span class="linenum"> 566</span></a>                          You can search without criteria, but the function is not designed for it.
<a name="l567"><span class="linenum"> 567</span></a>                          It could very slow or timeout. The function is designed to search some specific users.'
<a name="l568"><span class="linenum"> 568</span></a>                  )
<a name="l569"><span class="linenum"> 569</span></a>              )
<a name="l570"><span class="linenum"> 570</span></a>          );
<a name="l571"><span class="linenum"> 571</span></a>      }
<a name="l572"><span class="linenum"> 572</span></a>  
<a name="l573"><span class="linenum"> 573</span></a>      <span class="comment">/**</span>
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment">     * Retrieve matching user.</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment">     *</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">     * @param array $criteria the allowed array keys are id/lastname/firstname/idnumber/username/email/auth.</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">     * @return array An array of arrays containing user profiles.</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">     */</span>
<a name="l581"><span class="linenum"> 581</span></a>      public static function <a class="function" onClick="logFunction('get_users')" href="../_functions/get_users.html" onMouseOver="funcPopup(event,'get_users')">get_users</a>(<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a> = array()) {
<a name="l582"><span class="linenum"> 582</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l583"><span class="linenum"> 583</span></a>  
<a name="l584"><span class="linenum"> 584</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l585"><span class="linenum"> 585</span></a>  
<a name="l586"><span class="linenum"> 586</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_users_parameters')" href="../_functions/get_users_parameters.html" onMouseOver="funcPopup(event,'get_users_parameters')">get_users_parameters</a>(),
<a name="l587"><span class="linenum"> 587</span></a>                  array('criteria' =&gt; <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>));
<a name="l588"><span class="linenum"> 588</span></a>  
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">        // Validate the criteria and retrieve the users.</span>
<a name="l590"><span class="linenum"> 590</span></a>          <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> = array();
<a name="l591"><span class="linenum"> 591</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l592"><span class="linenum"> 592</span></a>          <a class="var it2963" onMouseOver="hilite(2963)" onMouseOut="lolite()" onClick="logVariable('sqlparams')" href="../_variables/sqlparams.html">$sqlparams</a> = array();
<a name="l593"><span class="linenum"> 593</span></a>          <a class="var it2964" onMouseOver="hilite(2964)" onMouseOut="lolite()" onClick="logVariable('usedkeys')" href="../_variables/usedkeys.html">$usedkeys</a> = array();
<a name="l594"><span class="linenum"> 594</span></a>  
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment">        // Do not retrieve deleted users.</span>
<a name="l596"><span class="linenum"> 596</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = ' deleted = 0';
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['criteria'] as <a class="var it2965" onMouseOver="hilite(2965)" onMouseOut="lolite()" onClick="logVariable('criteriaindex')" href="../_variables/criteriaindex.html">$criteriaindex</a> =&gt; <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>) {
<a name="l599"><span class="linenum"> 599</span></a>  
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">            // Check that the criteria has never been used.</span>
<a name="l601"><span class="linenum"> 601</span></a>              if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'], <a class="var it2964" onMouseOver="hilite(2964)" onMouseOut="lolite()" onClick="logVariable('usedkeys')" href="../_variables/usedkeys.html">$usedkeys</a>)) {
<a name="l602"><span class="linenum"> 602</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('keyalreadyset', '', '', null, 'The key ' . <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'] . ' can only be sent once');
<a name="l603"><span class="linenum"> 603</span></a>              } else {
<a name="l604"><span class="linenum"> 604</span></a>                  <a class="var it2964" onMouseOver="hilite(2964)" onMouseOut="lolite()" onClick="logVariable('usedkeys')" href="../_variables/usedkeys.html">$usedkeys</a>[<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']] = true;
<a name="l605"><span class="linenum"> 605</span></a>              }
<a name="l606"><span class="linenum"> 606</span></a>  
<a name="l607"><span class="linenum"> 607</span></a>              <a class="var it2966" onMouseOver="hilite(2966)" onMouseOut="lolite()" onClick="logVariable('invalidcriteria')" href="../_variables/invalidcriteria.html">$invalidcriteria</a> = false;
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment">            // Clean the parameters.</span>
<a name="l609"><span class="linenum"> 609</span></a>              <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>;
<a name="l610"><span class="linenum"> 610</span></a>              switch (<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']) {
<a name="l611"><span class="linenum"> 611</span></a>                  case 'id':
<a name="l612"><span class="linenum"> 612</span></a>                      <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>;
<a name="l613"><span class="linenum"> 613</span></a>                      break;
<a name="l614"><span class="linenum"> 614</span></a>                  case 'idnumber':
<a name="l615"><span class="linenum"> 615</span></a>                      <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>;
<a name="l616"><span class="linenum"> 616</span></a>                      break;
<a name="l617"><span class="linenum"> 617</span></a>                  case 'username':
<a name="l618"><span class="linenum"> 618</span></a>                      <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>;
<a name="l619"><span class="linenum"> 619</span></a>                      break;
<a name="l620"><span class="linenum"> 620</span></a>                  case 'email':
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">                    // We use PARAM_RAW to allow searches with %.</span>
<a name="l622"><span class="linenum"> 622</span></a>                      <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>;
<a name="l623"><span class="linenum"> 623</span></a>                      break;
<a name="l624"><span class="linenum"> 624</span></a>                  case 'auth':
<a name="l625"><span class="linenum"> 625</span></a>                      <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_AUTH')" href="../_constants/PARAM_AUTH.html" onMouseOver="constPopup(event,'PARAM_AUTH')">PARAM_AUTH</a>;
<a name="l626"><span class="linenum"> 626</span></a>                      break;
<a name="l627"><span class="linenum"> 627</span></a>                  case 'lastname':
<a name="l628"><span class="linenum"> 628</span></a>                  case 'firstname':
<a name="l629"><span class="linenum"> 629</span></a>                      <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a> = <a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>;
<a name="l630"><span class="linenum"> 630</span></a>                      break;
<a name="l631"><span class="linenum"> 631</span></a>                  default:
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment">                    // Send back a warning that this search key is not supported in this version.</span>
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">                    // This warning will make the function extandable without breaking clients.</span>
<a name="l634"><span class="linenum"> 634</span></a>                      <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>[] = array(
<a name="l635"><span class="linenum"> 635</span></a>                          'item' =&gt; <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'],
<a name="l636"><span class="linenum"> 636</span></a>                          'warningcode' =&gt; 'invalidfieldparameter',
<a name="l637"><span class="linenum"> 637</span></a>                          'message' =&gt;
<a name="l638"><span class="linenum"> 638</span></a>                              'The search key \'' . <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'] . '\' is not supported, look at the web service documentation'
<a name="l639"><span class="linenum"> 639</span></a>                      );
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment">                    // Do not add this invalid criteria to the created SQL request.</span>
<a name="l641"><span class="linenum"> 641</span></a>                      <a class="var it2966" onMouseOver="hilite(2966)" onMouseOut="lolite()" onClick="logVariable('invalidcriteria')" href="../_variables/invalidcriteria.html">$invalidcriteria</a> = true;
<a name="l642"><span class="linenum"> 642</span></a>                      unset(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['criteria'][<a class="var it2965" onMouseOver="hilite(2965)" onMouseOut="lolite()" onClick="logVariable('criteriaindex')" href="../_variables/criteriaindex.html">$criteriaindex</a>]);
<a name="l643"><span class="linenum"> 643</span></a>                      break;
<a name="l644"><span class="linenum"> 644</span></a>              }
<a name="l645"><span class="linenum"> 645</span></a>  
<a name="l646"><span class="linenum"> 646</span></a>              if (!<a class="var it2966" onMouseOver="hilite(2966)" onMouseOut="lolite()" onClick="logVariable('invalidcriteria')" href="../_variables/invalidcriteria.html">$invalidcriteria</a>) {
<a name="l647"><span class="linenum"> 647</span></a>                  <a class="var it2959" onMouseOver="hilite(2959)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a> = <a class="function" onClick="logFunction('clean_param')" href="../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['value'], <a class="var it2958" onMouseOver="hilite(2958)" onMouseOut="lolite()" onClick="logVariable('paramtype')" href="../_variables/paramtype.html">$paramtype</a>);
<a name="l648"><span class="linenum"> 648</span></a>  
<a name="l649"><span class="linenum"> 649</span></a>                  <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= ' AND ';
<a name="l650"><span class="linenum"> 650</span></a>  
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">                // Create the SQL.</span>
<a name="l652"><span class="linenum"> 652</span></a>                  switch (<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']) {
<a name="l653"><span class="linenum"> 653</span></a>                      case 'id':
<a name="l654"><span class="linenum"> 654</span></a>                      case 'idnumber':
<a name="l655"><span class="linenum"> 655</span></a>                      case 'username':
<a name="l656"><span class="linenum"> 656</span></a>                      case 'auth':
<a name="l657"><span class="linenum"> 657</span></a>                          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'] . ' = :' . <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'];
<a name="l658"><span class="linenum"> 658</span></a>                          <a class="var it2963" onMouseOver="hilite(2963)" onMouseOut="lolite()" onClick="logVariable('sqlparams')" href="../_variables/sqlparams.html">$sqlparams</a>[<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']] = <a class="var it2959" onMouseOver="hilite(2959)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a>;
<a name="l659"><span class="linenum"> 659</span></a>                          break;
<a name="l660"><span class="linenum"> 660</span></a>                      case 'email':
<a name="l661"><span class="linenum"> 661</span></a>                      case 'lastname':
<a name="l662"><span class="linenum"> 662</span></a>                      case 'firstname':
<a name="l663"><span class="linenum"> 663</span></a>                          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_like')" href="../_functions/sql_like.html" onMouseOver="funcPopup(event,'sql_like')">sql_like</a>(<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'], ':' . <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key'], false);
<a name="l664"><span class="linenum"> 664</span></a>                          <a class="var it2963" onMouseOver="hilite(2963)" onMouseOut="lolite()" onClick="logVariable('sqlparams')" href="../_variables/sqlparams.html">$sqlparams</a>[<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']] = <a class="var it2959" onMouseOver="hilite(2959)" onMouseOut="lolite()" onClick="logVariable('cleanedvalue')" href="../_variables/cleanedvalue.html">$cleanedvalue</a>;
<a name="l665"><span class="linenum"> 665</span></a>                          break;
<a name="l666"><span class="linenum"> 666</span></a>                      default:
<a name="l667"><span class="linenum"> 667</span></a>                          break;
<a name="l668"><span class="linenum"> 668</span></a>                  }
<a name="l669"><span class="linenum"> 669</span></a>              }
<a name="l670"><span class="linenum"> 670</span></a>          }
<a name="l671"><span class="linenum"> 671</span></a>  
<a name="l672"><span class="linenum"> 672</span></a>          <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('user', <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it2963" onMouseOver="hilite(2963)" onMouseOut="lolite()" onClick="logVariable('sqlparams')" href="../_variables/sqlparams.html">$sqlparams</a>, 'id ASC');
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">        // Finally retrieve each users information.</span>
<a name="l675"><span class="linenum"> 675</span></a>          <a class="var it2960" onMouseOver="hilite(2960)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a> = array();
<a name="l676"><span class="linenum"> 676</span></a>          foreach (<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l677"><span class="linenum"> 677</span></a>              <a class="var it2961" onMouseOver="hilite(2961)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a> = <a class="function" onClick="logFunction('user_get_user_details_courses')" href="../_functions/user_get_user_details_courses.html" onMouseOver="funcPopup(event,'user_get_user_details_courses')">user_get_user_details_courses</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l678"><span class="linenum"> 678</span></a>  
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">            // Return the user only if all the searched fields are returned.</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">            // Otherwise it means that the $USER was not allowed to search the returned user.</span>
<a name="l681"><span class="linenum"> 681</span></a>              if (!empty(<a class="var it2961" onMouseOver="hilite(2961)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>)) {
<a name="l682"><span class="linenum"> 682</span></a>                  <a class="var it2967" onMouseOver="hilite(2967)" onMouseOut="lolite()" onClick="logVariable('validuser')" href="../_variables/validuser.html">$validuser</a> = true;
<a name="l683"><span class="linenum"> 683</span></a>  
<a name="l684"><span class="linenum"> 684</span></a>                  foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['criteria'] as <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>) {
<a name="l685"><span class="linenum"> 685</span></a>                      if (empty(<a class="var it2961" onMouseOver="hilite(2961)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>[<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../_variables/criteria.html">$criteria</a>['key']])) {
<a name="l686"><span class="linenum"> 686</span></a>                          <a class="var it2967" onMouseOver="hilite(2967)" onMouseOut="lolite()" onClick="logVariable('validuser')" href="../_variables/validuser.html">$validuser</a> = false;
<a name="l687"><span class="linenum"> 687</span></a>                      }
<a name="l688"><span class="linenum"> 688</span></a>                  }
<a name="l689"><span class="linenum"> 689</span></a>  
<a name="l690"><span class="linenum"> 690</span></a>                  if (<a class="var it2967" onMouseOver="hilite(2967)" onMouseOut="lolite()" onClick="logVariable('validuser')" href="../_variables/validuser.html">$validuser</a>) {
<a name="l691"><span class="linenum"> 691</span></a>                      <a class="var it2960" onMouseOver="hilite(2960)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a>[] = <a class="var it2961" onMouseOver="hilite(2961)" onMouseOut="lolite()" onClick="logVariable('userdetails')" href="../_variables/userdetails.html">$userdetails</a>;
<a name="l692"><span class="linenum"> 692</span></a>                  }
<a name="l693"><span class="linenum"> 693</span></a>              }
<a name="l694"><span class="linenum"> 694</span></a>          }
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>          return array('users' =&gt; <a class="var it2960" onMouseOver="hilite(2960)" onMouseOut="lolite()" onClick="logVariable('returnedusers')" href="../_variables/returnedusers.html">$returnedusers</a>, 'warnings' =&gt; <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>);
<a name="l697"><span class="linenum"> 697</span></a>      }
<a name="l698"><span class="linenum"> 698</span></a>  
<a name="l699"><span class="linenum"> 699</span></a>      <span class="comment">/**</span>
<a name="l700"><span class="linenum"> 700</span></a>  <span class="comment">     * Returns description of get_users result value.</span>
<a name="l701"><span class="linenum"> 701</span></a>  <span class="comment">     *</span>
<a name="l702"><span class="linenum"> 702</span></a>  <span class="comment">     * @return external_description</span>
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">     */</span>
<a name="l705"><span class="linenum"> 705</span></a>      public static function <a class="function" onClick="logFunction('get_users_returns')" href="../_functions/get_users_returns.html" onMouseOver="funcPopup(event,'get_users_returns')">get_users_returns</a>() {
<a name="l706"><span class="linenum"> 706</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l707"><span class="linenum"> 707</span></a>              array('users' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l708"><span class="linenum"> 708</span></a>                                  self::<a class="function" onClick="logFunction('user_description')" href="../_functions/user_description.html" onMouseOver="funcPopup(event,'user_description')">user_description</a>()
<a name="l709"><span class="linenum"> 709</span></a>                               ),
<a name="l710"><span class="linenum"> 710</span></a>                    'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>('always set to \'key\'', 'faulty key name')
<a name="l711"><span class="linenum"> 711</span></a>              )
<a name="l712"><span class="linenum"> 712</span></a>          );
<a name="l713"><span class="linenum"> 713</span></a>      }
<a name="l714"><span class="linenum"> 714</span></a>  
<a name="l715"><span class="linenum"> 715</span></a>      <span class="comment">/**</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     *</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment">     * @deprecated Moodle 2.5 MDL-38030 - Please do not call this function any more.</span>
<a name="l721"><span class="linenum"> 721</span></a>  <span class="comment">     * @see core_user_external::get_users_by_field_parameters()</span>
<a name="l722"><span class="linenum"> 722</span></a>  <span class="comment">     */</span>
<a name="l723"><span class="linenum"> 723</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_id_parameters')" href="../_functions/get_users_by_id_parameters.html" onMouseOver="funcPopup(event,'get_users_by_id_parameters')">get_users_by_id_parameters</a>() {
<a name="l724"><span class="linenum"> 724</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l725"><span class="linenum"> 725</span></a>              array(
<a name="l726"><span class="linenum"> 726</span></a>                  'userids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(<span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user ID')),
<a name="l727"><span class="linenum"> 727</span></a>              )
<a name="l728"><span class="linenum"> 728</span></a>          );
<a name="l729"><span class="linenum"> 729</span></a>      }
<a name="l730"><span class="linenum"> 730</span></a>  
<a name="l731"><span class="linenum"> 731</span></a>      <span class="comment">/**</span>
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment">     * Get user information</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment">     * - This function is matching the permissions of /user/profil.php</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment">     * - It is also matching some permissions from /user/editadvanced.php for the following fields:</span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment">     *   auth, confirmed, idnumber, lang, theme, timezone, mailformat</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment">     *</span>
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment">     * @param array $userids  array of user ids</span>
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment">     * @return array An array of arrays describing users</span>
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l740"><span class="linenum"> 740</span></a>  <span class="comment">     * @deprecated Moodle 2.5 MDL-38030 - Please do not call this function any more.</span>
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment">     * @see core_user_external::get_users_by_field()</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment">     */</span>
<a name="l743"><span class="linenum"> 743</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_id')" href="../_functions/get_users_by_id.html" onMouseOver="funcPopup(event,'get_users_by_id')">get_users_by_id</a>(<a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>) {
<a name="l744"><span class="linenum"> 744</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l745"><span class="linenum"> 745</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l746"><span class="linenum"> 746</span></a>  
<a name="l747"><span class="linenum"> 747</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_users_by_id_parameters')" href="../_functions/get_users_by_id_parameters.html" onMouseOver="funcPopup(event,'get_users_by_id_parameters')">get_users_by_id_parameters</a>(),
<a name="l748"><span class="linenum"> 748</span></a>                  array('userids' =&gt; <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>));
<a name="l749"><span class="linenum"> 749</span></a>  
<a name="l750"><span class="linenum"> 750</span></a>          <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it2968" onMouseOver="hilite(2968)" onMouseOut="lolite()" onClick="logVariable('sqluserids')" href="../_variables/sqluserids.html">$sqluserids</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l751"><span class="linenum"> 751</span></a>          <a class="var it2969" onMouseOver="hilite(2969)" onMouseOut="lolite()" onClick="logVariable('uselect')" href="../_variables/uselect.html">$uselect</a> = ', ' . <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>('ctx');
<a name="l752"><span class="linenum"> 752</span></a>          <a class="var it2970" onMouseOver="hilite(2970)" onMouseOut="lolite()" onClick="logVariable('ujoin')" href="../_variables/ujoin.html">$ujoin</a> = &quot;LEFT JOIN {context} ctx <a class="function" onClick="logFunction('ON')" href="../_functions/on.html" onMouseOver="funcPopup(event,'on')">ON</a> (ctx.instanceid = u.id AND ctx.contextlevel = :contextlevel)&quot;;
<a name="l753"><span class="linenum"> 753</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['contextlevel'] = <a class="constant" onClick="logConstant('CONTEXT_USER')" href="../_constants/CONTEXT_USER.html" onMouseOver="constPopup(event,'CONTEXT_USER')">CONTEXT_USER</a>;
<a name="l754"><span class="linenum"> 754</span></a>          <a class="var it2971" onMouseOver="hilite(2971)" onMouseOut="lolite()" onClick="logVariable('usersql')" href="../_variables/usersql.html">$usersql</a> = &quot;SELECT u.* <a class="var it2969" onMouseOver="hilite(2969)" onMouseOut="lolite()" onClick="logVariable('uselect')" href="../_variables/uselect.html">$uselect</a>
<a name="l755"><span class="linenum"> 755</span></a>                        FROM {user} u <a class="var it2970" onMouseOver="hilite(2970)" onMouseOut="lolite()" onClick="logVariable('ujoin')" href="../_variables/ujoin.html">$ujoin</a>
<a name="l756"><span class="linenum"> 756</span></a>                       WHERE u.id <a class="var it2968" onMouseOver="hilite(2968)" onMouseOut="lolite()" onClick="logVariable('sqluserids')" href="../_variables/sqluserids.html">$sqluserids</a>&quot;;
<a name="l757"><span class="linenum"> 757</span></a>          <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it2971" onMouseOver="hilite(2971)" onMouseOut="lolite()" onClick="logVariable('usersql')" href="../_variables/usersql.html">$usersql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l758"><span class="linenum"> 758</span></a>  
<a name="l759"><span class="linenum"> 759</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l760"><span class="linenum"> 760</span></a>          <a class="var it2972" onMouseOver="hilite(2972)" onMouseOut="lolite()" onClick="logVariable('hasuserupdatecap')" href="../_variables/hasuserupdatecap.html">$hasuserupdatecap</a> = <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/user:update', <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>());
<a name="l761"><span class="linenum"> 761</span></a>          foreach (<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l762"><span class="linenum"> 762</span></a>              if (!empty(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('deleted')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/deleted.html">deleted</a>)) {
<a name="l763"><span class="linenum"> 763</span></a>                  continue;
<a name="l764"><span class="linenum"> 764</span></a>              }
<a name="l765"><span class="linenum"> 765</span></a>              <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l766"><span class="linenum"> 766</span></a>              <a class="var it1419" onMouseOver="hilite(1419)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a> = <a class="class" onClick="logClass('context_user')" href="../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>);
<a name="l767"><span class="linenum"> 767</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it1419" onMouseOver="hilite(1419)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a>);
<a name="l768"><span class="linenum"> 768</span></a>              <a class="var it1510" onMouseOver="hilite(1510)" onMouseOut="lolite()" onClick="logVariable('currentuser')" href="../_variables/currentuser.html">$currentuser</a> = (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l769"><span class="linenum"> 769</span></a>  
<a name="l770"><span class="linenum"> 770</span></a>              if (<a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>  = <a class="function" onClick="logFunction('user_get_user_details')" href="../_functions/user_get_user_details.html" onMouseOver="funcPopup(event,'user_get_user_details')">user_get_user_details</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l771"><span class="linenum"> 771</span></a>  <span class="comment">                // Fields matching permissions from /user/editadvanced.php.</span>
<a name="l772"><span class="linenum"> 772</span></a>                  if (<a class="var it1510" onMouseOver="hilite(1510)" onMouseOut="lolite()" onClick="logVariable('currentuser')" href="../_variables/currentuser.html">$currentuser</a> or <a class="var it2972" onMouseOver="hilite(2972)" onMouseOut="lolite()" onClick="logVariable('hasuserupdatecap')" href="../_variables/hasuserupdatecap.html">$hasuserupdatecap</a>) {
<a name="l773"><span class="linenum"> 773</span></a>                      <a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>['auth']       = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('auth')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/auth.html">auth</a>;
<a name="l774"><span class="linenum"> 774</span></a>                      <a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>['confirmed']  = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('confirmed')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/confirmed.html">confirmed</a>;
<a name="l775"><span class="linenum"> 775</span></a>                      <a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>['idnumber']   = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('idnumber')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/idnumber.html">idnumber</a>;
<a name="l776"><span class="linenum"> 776</span></a>                      <a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>['lang']       = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('lang')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/lang.html">lang</a>;
<a name="l777"><span class="linenum"> 777</span></a>                      <a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>['theme']      = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('theme')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/theme.html">theme</a>;
<a name="l778"><span class="linenum"> 778</span></a>                      <a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>['timezone']   = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('timezone')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/timezone.html">timezone</a>;
<a name="l779"><span class="linenum"> 779</span></a>                      <a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>['mailformat'] = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('mailformat')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/mailformat.html">mailformat</a>;
<a name="l780"><span class="linenum"> 780</span></a>                  }
<a name="l781"><span class="linenum"> 781</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[] = <a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>;
<a name="l782"><span class="linenum"> 782</span></a>              }
<a name="l783"><span class="linenum"> 783</span></a>          }
<a name="l784"><span class="linenum"> 784</span></a>          <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l785"><span class="linenum"> 785</span></a>  
<a name="l786"><span class="linenum"> 786</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l787"><span class="linenum"> 787</span></a>      }
<a name="l788"><span class="linenum"> 788</span></a>  
<a name="l789"><span class="linenum"> 789</span></a>      <span class="comment">/**</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">     *</span>
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment">     * @return external_description</span>
<a name="l793"><span class="linenum"> 793</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment">     * @deprecated Moodle 2.5 MDL-38030 - Please do not call this function any more.</span>
<a name="l795"><span class="linenum"> 795</span></a>  <span class="comment">     * @see core_user_external::get_users_by_field_returns()</span>
<a name="l796"><span class="linenum"> 796</span></a>  <span class="comment">     */</span>
<a name="l797"><span class="linenum"> 797</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_id_returns')" href="../_functions/get_users_by_id_returns.html" onMouseOver="funcPopup(event,'get_users_by_id_returns')">get_users_by_id_returns</a>() {
<a name="l798"><span class="linenum"> 798</span></a>          <a class="var it2976" onMouseOver="hilite(2976)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a> = array (
<a name="l799"><span class="linenum"> 799</span></a>              'enrolledcourses' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l800"><span class="linenum"> 800</span></a>              <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l801"><span class="linenum"> 801</span></a>                  array(
<a name="l802"><span class="linenum"> 802</span></a>                      'id'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Id of the course'),
<a name="l803"><span class="linenum"> 803</span></a>                      'fullname'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Fullname of the course'),
<a name="l804"><span class="linenum"> 804</span></a>                      'shortname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Shortname of the course')
<a name="l805"><span class="linenum"> 805</span></a>                  )
<a name="l806"><span class="linenum"> 806</span></a>              ), 'Courses where the user is enrolled - limited by which courses the user is able to see', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>));
<a name="l807"><span class="linenum"> 807</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('user_description')" href="../_functions/user_description.html" onMouseOver="funcPopup(event,'user_description')">user_description</a>(<a class="var it2976" onMouseOver="hilite(2976)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a>));
<a name="l808"><span class="linenum"> 808</span></a>      }
<a name="l809"><span class="linenum"> 809</span></a>  
<a name="l810"><span class="linenum"> 810</span></a>      <span class="comment">/**</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment">     * Marking the method as deprecated.</span>
<a name="l812"><span class="linenum"> 812</span></a>  <span class="comment">     *</span>
<a name="l813"><span class="linenum"> 813</span></a>  <span class="comment">     * @return bool</span>
<a name="l814"><span class="linenum"> 814</span></a>  <span class="comment">     */</span>
<a name="l815"><span class="linenum"> 815</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_id_is_deprecated')" href="../_functions/get_users_by_id_is_deprecated.html" onMouseOver="funcPopup(event,'get_users_by_id_is_deprecated')">get_users_by_id_is_deprecated</a>() {
<a name="l816"><span class="linenum"> 816</span></a>          return true;
<a name="l817"><span class="linenum"> 817</span></a>      }
<a name="l818"><span class="linenum"> 818</span></a>  
<a name="l819"><span class="linenum"> 819</span></a>      <span class="comment">/**</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">     *</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l823"><span class="linenum"> 823</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l824"><span class="linenum"> 824</span></a>  <span class="comment">     */</span>
<a name="l825"><span class="linenum"> 825</span></a>      public static function <a class="function" onClick="logFunction('get_course_user_profiles_parameters')" href="../_functions/get_course_user_profiles_parameters.html" onMouseOver="funcPopup(event,'get_course_user_profiles_parameters')">get_course_user_profiles_parameters</a>() {
<a name="l826"><span class="linenum"> 826</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l827"><span class="linenum"> 827</span></a>              array(
<a name="l828"><span class="linenum"> 828</span></a>                  'userlist' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l829"><span class="linenum"> 829</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l830"><span class="linenum"> 830</span></a>                          array(
<a name="l831"><span class="linenum"> 831</span></a>                              'userid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'userid'),
<a name="l832"><span class="linenum"> 832</span></a>                              'courseid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'courseid'),
<a name="l833"><span class="linenum"> 833</span></a>                          )
<a name="l834"><span class="linenum"> 834</span></a>                      )
<a name="l835"><span class="linenum"> 835</span></a>                  )
<a name="l836"><span class="linenum"> 836</span></a>              )
<a name="l837"><span class="linenum"> 837</span></a>          );
<a name="l838"><span class="linenum"> 838</span></a>      }
<a name="l839"><span class="linenum"> 839</span></a>  
<a name="l840"><span class="linenum"> 840</span></a>      <span class="comment">/**</span>
<a name="l841"><span class="linenum"> 841</span></a>  <span class="comment">     * Get course participant's details</span>
<a name="l842"><span class="linenum"> 842</span></a>  <span class="comment">     *</span>
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment">     * @param array $userlist  array of user ids and according course ids</span>
<a name="l844"><span class="linenum"> 844</span></a>  <span class="comment">     * @return array An array of arrays describing course participants</span>
<a name="l845"><span class="linenum"> 845</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l846"><span class="linenum"> 846</span></a>  <span class="comment">     */</span>
<a name="l847"><span class="linenum"> 847</span></a>      public static function <a class="function" onClick="logFunction('get_course_user_profiles')" href="../_functions/get_course_user_profiles.html" onMouseOver="funcPopup(event,'get_course_user_profiles')">get_course_user_profiles</a>(<a class="var it1753" onMouseOver="hilite(1753)" onMouseOut="lolite()" onClick="logVariable('userlist')" href="../_variables/userlist.html">$userlist</a>) {
<a name="l848"><span class="linenum"> 848</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l849"><span class="linenum"> 849</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l850"><span class="linenum"> 850</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_course_user_profiles_parameters')" href="../_functions/get_course_user_profiles_parameters.html" onMouseOver="funcPopup(event,'get_course_user_profiles_parameters')">get_course_user_profiles_parameters</a>(), array('userlist' =&gt; <a class="var it1753" onMouseOver="hilite(1753)" onMouseOut="lolite()" onClick="logVariable('userlist')" href="../_variables/userlist.html">$userlist</a>));
<a name="l851"><span class="linenum"> 851</span></a>  
<a name="l852"><span class="linenum"> 852</span></a>          <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a> = array();
<a name="l853"><span class="linenum"> 853</span></a>          <a class="var it2977" onMouseOver="hilite(2977)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../_variables/courseids.html">$courseids</a> = array();
<a name="l854"><span class="linenum"> 854</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userlist'] as <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l855"><span class="linenum"> 855</span></a>              <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>[] = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>['userid'];
<a name="l856"><span class="linenum"> 856</span></a>              <a class="var it2977" onMouseOver="hilite(2977)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../_variables/courseids.html">$courseids</a>[<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>['userid']] = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>['courseid'];
<a name="l857"><span class="linenum"> 857</span></a>          }
<a name="l858"><span class="linenum"> 858</span></a>  
<a name="l859"><span class="linenum"> 859</span></a>  <span class="comment">        // Cache all courses.</span>
<a name="l860"><span class="linenum"> 860</span></a>          <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = array();
<a name="l861"><span class="linenum"> 861</span></a>          <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it2978" onMouseOver="hilite(2978)" onMouseOut="lolite()" onClick="logVariable('sqlcourseids')" href="../_variables/sqlcourseids.html">$sqlcourseids</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="phpfunction" onClick="logFunction('array_unique')" href="../_functions/array_unique.html" onMouseOver="phpfuncPopup(event,'array_unique')">array_unique</a>(<a class="var it2977" onMouseOver="hilite(2977)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../_variables/courseids.html">$courseids</a>), <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l862"><span class="linenum"> 862</span></a>          <a class="var it2979" onMouseOver="hilite(2979)" onMouseOut="lolite()" onClick="logVariable('cselect')" href="../_variables/cselect.html">$cselect</a> = ', ' . <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>('ctx');
<a name="l863"><span class="linenum"> 863</span></a>          <a class="var it2980" onMouseOver="hilite(2980)" onMouseOut="lolite()" onClick="logVariable('cjoin')" href="../_variables/cjoin.html">$cjoin</a> = &quot;LEFT JOIN {context} ctx <a class="function" onClick="logFunction('ON')" href="../_functions/on.html" onMouseOver="funcPopup(event,'on')">ON</a> (ctx.instanceid = c.id AND ctx.contextlevel = :contextlevel)&quot;;
<a name="l864"><span class="linenum"> 864</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['contextlevel'] = <a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a>;
<a name="l865"><span class="linenum"> 865</span></a>          <a class="var it2981" onMouseOver="hilite(2981)" onMouseOut="lolite()" onClick="logVariable('coursesql')" href="../_variables/coursesql.html">$coursesql</a> = &quot;SELECT c.* <a class="var it2979" onMouseOver="hilite(2979)" onMouseOut="lolite()" onClick="logVariable('cselect')" href="../_variables/cselect.html">$cselect</a>
<a name="l866"><span class="linenum"> 866</span></a>                          FROM {course} c <a class="var it2980" onMouseOver="hilite(2980)" onMouseOut="lolite()" onClick="logVariable('cjoin')" href="../_variables/cjoin.html">$cjoin</a>
<a name="l867"><span class="linenum"> 867</span></a>                         WHERE c.id <a class="var it2978" onMouseOver="hilite(2978)" onMouseOut="lolite()" onClick="logVariable('sqlcourseids')" href="../_variables/sqlcourseids.html">$sqlcourseids</a>&quot;;
<a name="l868"><span class="linenum"> 868</span></a>          <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it2981" onMouseOver="hilite(2981)" onMouseOut="lolite()" onClick="logVariable('coursesql')" href="../_variables/coursesql.html">$coursesql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l869"><span class="linenum"> 869</span></a>          foreach (<a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> as <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l870"><span class="linenum"> 870</span></a>  <span class="comment">            // Adding course contexts to cache.</span>
<a name="l871"><span class="linenum"> 871</span></a>              <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l872"><span class="linenum"> 872</span></a>  <span class="comment">            // Cache courses.</span>
<a name="l873"><span class="linenum"> 873</span></a>              <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>;
<a name="l874"><span class="linenum"> 874</span></a>          }
<a name="l875"><span class="linenum"> 875</span></a>          <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l876"><span class="linenum"> 876</span></a>  
<a name="l877"><span class="linenum"> 877</span></a>          <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it2968" onMouseOver="hilite(2968)" onMouseOut="lolite()" onClick="logVariable('sqluserids')" href="../_variables/sqluserids.html">$sqluserids</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l878"><span class="linenum"> 878</span></a>          <a class="var it2969" onMouseOver="hilite(2969)" onMouseOut="lolite()" onClick="logVariable('uselect')" href="../_variables/uselect.html">$uselect</a> = ', ' . <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>('ctx');
<a name="l879"><span class="linenum"> 879</span></a>          <a class="var it2970" onMouseOver="hilite(2970)" onMouseOut="lolite()" onClick="logVariable('ujoin')" href="../_variables/ujoin.html">$ujoin</a> = &quot;LEFT JOIN {context} ctx <a class="function" onClick="logFunction('ON')" href="../_functions/on.html" onMouseOver="funcPopup(event,'on')">ON</a> (ctx.instanceid = u.id AND ctx.contextlevel = :contextlevel)&quot;;
<a name="l880"><span class="linenum"> 880</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['contextlevel'] = <a class="constant" onClick="logConstant('CONTEXT_USER')" href="../_constants/CONTEXT_USER.html" onMouseOver="constPopup(event,'CONTEXT_USER')">CONTEXT_USER</a>;
<a name="l881"><span class="linenum"> 881</span></a>          <a class="var it2971" onMouseOver="hilite(2971)" onMouseOut="lolite()" onClick="logVariable('usersql')" href="../_variables/usersql.html">$usersql</a> = &quot;SELECT u.* <a class="var it2969" onMouseOver="hilite(2969)" onMouseOut="lolite()" onClick="logVariable('uselect')" href="../_variables/uselect.html">$uselect</a>
<a name="l882"><span class="linenum"> 882</span></a>                        FROM {user} u <a class="var it2970" onMouseOver="hilite(2970)" onMouseOut="lolite()" onClick="logVariable('ujoin')" href="../_variables/ujoin.html">$ujoin</a>
<a name="l883"><span class="linenum"> 883</span></a>                       WHERE u.id <a class="var it2968" onMouseOver="hilite(2968)" onMouseOut="lolite()" onClick="logVariable('sqluserids')" href="../_variables/sqluserids.html">$sqluserids</a>&quot;;
<a name="l884"><span class="linenum"> 884</span></a>          <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it2971" onMouseOver="hilite(2971)" onMouseOut="lolite()" onClick="logVariable('usersql')" href="../_variables/usersql.html">$usersql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l885"><span class="linenum"> 885</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l886"><span class="linenum"> 886</span></a>          foreach (<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l887"><span class="linenum"> 887</span></a>              if (!empty(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('deleted')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/deleted.html">deleted</a>)) {
<a name="l888"><span class="linenum"> 888</span></a>                  continue;
<a name="l889"><span class="linenum"> 889</span></a>              }
<a name="l890"><span class="linenum"> 890</span></a>              <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l891"><span class="linenum"> 891</span></a>              <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it2977" onMouseOver="hilite(2977)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../_variables/courseids.html">$courseids</a>[<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>]];
<a name="l892"><span class="linenum"> 892</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it2977" onMouseOver="hilite(2977)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../_variables/courseids.html">$courseids</a>[<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>], <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>);
<a name="l893"><span class="linenum"> 893</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l894"><span class="linenum"> 894</span></a>              if (<a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a> = <a class="function" onClick="logFunction('user_get_user_details')" href="../_functions/user_get_user_details.html" onMouseOver="funcPopup(event,'user_get_user_details')">user_get_user_details</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>)) {
<a name="l895"><span class="linenum"> 895</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[] = <a class="var it2974" onMouseOver="hilite(2974)" onMouseOut="lolite()" onClick="logVariable('userarray')" href="../_variables/userarray.html">$userarray</a>;
<a name="l896"><span class="linenum"> 896</span></a>              }
<a name="l897"><span class="linenum"> 897</span></a>          }
<a name="l898"><span class="linenum"> 898</span></a>  
<a name="l899"><span class="linenum"> 899</span></a>          <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l900"><span class="linenum"> 900</span></a>  
<a name="l901"><span class="linenum"> 901</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l902"><span class="linenum"> 902</span></a>      }
<a name="l903"><span class="linenum"> 903</span></a>  
<a name="l904"><span class="linenum"> 904</span></a>      <span class="comment">/**</span>
<a name="l905"><span class="linenum"> 905</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l906"><span class="linenum"> 906</span></a>  <span class="comment">     *</span>
<a name="l907"><span class="linenum"> 907</span></a>  <span class="comment">     * @return external_description</span>
<a name="l908"><span class="linenum"> 908</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l909"><span class="linenum"> 909</span></a>  <span class="comment">     */</span>
<a name="l910"><span class="linenum"> 910</span></a>      public static function <a class="function" onClick="logFunction('get_course_user_profiles_returns')" href="../_functions/get_course_user_profiles_returns.html" onMouseOver="funcPopup(event,'get_course_user_profiles_returns')">get_course_user_profiles_returns</a>() {
<a name="l911"><span class="linenum"> 911</span></a>          <a class="var it2976" onMouseOver="hilite(2976)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a> = array(
<a name="l912"><span class="linenum"> 912</span></a>              'groups' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l913"><span class="linenum"> 913</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l914"><span class="linenum"> 914</span></a>                      array(
<a name="l915"><span class="linenum"> 915</span></a>                          'id'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'group id'),
<a name="l916"><span class="linenum"> 916</span></a>                          'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'group name'),
<a name="l917"><span class="linenum"> 917</span></a>                          'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'group description'),
<a name="l918"><span class="linenum"> 918</span></a>                          'descriptionformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('description'),
<a name="l919"><span class="linenum"> 919</span></a>                      )
<a name="l920"><span class="linenum"> 920</span></a>                  ), 'user groups', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l921"><span class="linenum"> 921</span></a>              'roles' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l922"><span class="linenum"> 922</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l923"><span class="linenum"> 923</span></a>                      array(
<a name="l924"><span class="linenum"> 924</span></a>                          'roleid'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'role id'),
<a name="l925"><span class="linenum"> 925</span></a>                          'name'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'role name'),
<a name="l926"><span class="linenum"> 926</span></a>                          'shortname'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'role shortname'),
<a name="l927"><span class="linenum"> 927</span></a>                          'sortorder'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'role sortorder')
<a name="l928"><span class="linenum"> 928</span></a>                      )
<a name="l929"><span class="linenum"> 929</span></a>                  ), 'user roles', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l930"><span class="linenum"> 930</span></a>              'enrolledcourses' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l931"><span class="linenum"> 931</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l932"><span class="linenum"> 932</span></a>                      array(
<a name="l933"><span class="linenum"> 933</span></a>                          'id'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Id of the course'),
<a name="l934"><span class="linenum"> 934</span></a>                          'fullname'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Fullname of the course'),
<a name="l935"><span class="linenum"> 935</span></a>                          'shortname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Shortname of the course')
<a name="l936"><span class="linenum"> 936</span></a>                      )
<a name="l937"><span class="linenum"> 937</span></a>                  ), 'Courses where the user is enrolled - limited by which courses the user is able to see', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>)
<a name="l938"><span class="linenum"> 938</span></a>          );
<a name="l939"><span class="linenum"> 939</span></a>  
<a name="l940"><span class="linenum"> 940</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('user_description')" href="../_functions/user_description.html" onMouseOver="funcPopup(event,'user_description')">user_description</a>(<a class="var it2976" onMouseOver="hilite(2976)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a>));
<a name="l941"><span class="linenum"> 941</span></a>      }
<a name="l942"><span class="linenum"> 942</span></a>  
<a name="l943"><span class="linenum"> 943</span></a>      <span class="comment">/**</span>
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment">     * Create user return value description.</span>
<a name="l945"><span class="linenum"> 945</span></a>  <span class="comment">     *</span>
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment">     * @param array $additionalfields some additional field</span>
<a name="l947"><span class="linenum"> 947</span></a>  <span class="comment">     * @return single_structure_description</span>
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment">     */</span>
<a name="l949"><span class="linenum"> 949</span></a>      public static function <a class="function" onClick="logFunction('user_description')" href="../_functions/user_description.html" onMouseOver="funcPopup(event,'user_description')">user_description</a>(<a class="var it2976" onMouseOver="hilite(2976)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a> = array()) {
<a name="l950"><span class="linenum"> 950</span></a>          <a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a> = array(
<a name="l951"><span class="linenum"> 951</span></a>              'id'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'ID of the user'),
<a name="l952"><span class="linenum"> 952</span></a>              'username'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The username', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l953"><span class="linenum"> 953</span></a>              'firstname'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The first <a class="phpfunction" onClick="logFunction('name')" href="../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(s) of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l954"><span class="linenum"> 954</span></a>              'lastname'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The family name of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l955"><span class="linenum"> 955</span></a>              'fullname'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'The fullname of the user'),
<a name="l956"><span class="linenum"> 956</span></a>              'email'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'An email address - allow email as root@localhost', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l957"><span class="linenum"> 957</span></a>              'address'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Postal address', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l958"><span class="linenum"> 958</span></a>              'phone1'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'Phone 1', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l959"><span class="linenum"> 959</span></a>              'phone2'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'Phone 2', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l960"><span class="linenum"> 960</span></a>              'icq'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'icq number', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l961"><span class="linenum"> 961</span></a>              'skype'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'skype id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l962"><span class="linenum"> 962</span></a>              'yahoo'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'yahoo id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l963"><span class="linenum"> 963</span></a>              'aim'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'aim id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l964"><span class="linenum"> 964</span></a>              'msn'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'msn number', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l965"><span class="linenum"> 965</span></a>              'department'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'department', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l966"><span class="linenum"> 966</span></a>              'institution' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'institution', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l967"><span class="linenum"> 967</span></a>              'idnumber'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'An arbitrary ID code number perhaps from the institution', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l968"><span class="linenum"> 968</span></a>              'interests'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'user interests (separated by commas)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l969"><span class="linenum"> 969</span></a>              'firstaccess' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'first access to the site (0 if never)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l970"><span class="linenum"> 970</span></a>              'lastaccess'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'last access to the site (0 if never)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l971"><span class="linenum"> 971</span></a>              'auth'        =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'Auth plugins include manual, ldap, imap, etc', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l972"><span class="linenum"> 972</span></a>              'confirmed'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Active user: 1 if confirmed, 0 otherwise', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l973"><span class="linenum"> 973</span></a>              'lang'        =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_SAFEDIR')" href="../_constants/PARAM_SAFEDIR.html" onMouseOver="constPopup(event,'PARAM_SAFEDIR')">PARAM_SAFEDIR</a>, 'Language code such as &quot;en&quot;, must exist on server', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l974"><span class="linenum"> 974</span></a>              'calendartype' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'Calendar type such as &quot;gregorian&quot;, must exist on server', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l975"><span class="linenum"> 975</span></a>              'theme'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'Theme name such as &quot;standard&quot;, must exist on server', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l976"><span class="linenum"> 976</span></a>              'timezone'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TIMEZONE')" href="../_constants/PARAM_TIMEZONE.html" onMouseOver="constPopup(event,'PARAM_TIMEZONE')">PARAM_TIMEZONE</a>, 'Timezone code such as Australia/Perth, or 99 for default', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l977"><span class="linenum"> 977</span></a>              'mailformat'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Mail format code is 0 for plain text, 1 for HTML etc', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l978"><span class="linenum"> 978</span></a>              'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'User profile description', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l979"><span class="linenum"> 979</span></a>              'descriptionformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('description', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l980"><span class="linenum"> 980</span></a>              'city'        =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'Home city of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l981"><span class="linenum"> 981</span></a>              'url'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'URL of the user', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l982"><span class="linenum"> 982</span></a>              'country'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'Home country code of the user, such as AU or CZ', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l983"><span class="linenum"> 983</span></a>              'profileimageurlsmall' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'User image profile URL - small version'),
<a name="l984"><span class="linenum"> 984</span></a>              'profileimageurl' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'User image profile URL - big version'),
<a name="l985"><span class="linenum"> 985</span></a>              'customfields' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l986"><span class="linenum"> 986</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l987"><span class="linenum"> 987</span></a>                      array(
<a name="l988"><span class="linenum"> 988</span></a>                          'type'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The type of the custom field - text field, checkbox...'),
<a name="l989"><span class="linenum"> 989</span></a>                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the custom field'),
<a name="l990"><span class="linenum"> 990</span></a>                          'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The name of the custom field'),
<a name="l991"><span class="linenum"> 991</span></a>                          'shortname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The shortname of the custom field - to be able to build the field class in the code'),
<a name="l992"><span class="linenum"> 992</span></a>                      )
<a name="l993"><span class="linenum"> 993</span></a>                  ), 'User custom <a class="function" onClick="logFunction('fields')" href="../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a> (also known as user profile fields)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l994"><span class="linenum"> 994</span></a>              'preferences' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l995"><span class="linenum"> 995</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l996"><span class="linenum"> 996</span></a>                      array(
<a name="l997"><span class="linenum"> 997</span></a>                          'name'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the preferences'),
<a name="l998"><span class="linenum"> 998</span></a>                          'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the custom field'),
<a name="l999"><span class="linenum"> 999</span></a>                      )
<a name="l1000"><span class="linenum">1000</span></a>              ), 'Users preferences', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>)
<a name="l1001"><span class="linenum">1001</span></a>          );
<a name="l1002"><span class="linenum">1002</span></a>          if (!empty(<a class="var it2976" onMouseOver="hilite(2976)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a>)) {
<a name="l1003"><span class="linenum">1003</span></a>              <a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a>, <a class="var it2976" onMouseOver="hilite(2976)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../_variables/additionalfields.html">$additionalfields</a>);
<a name="l1004"><span class="linenum">1004</span></a>          }
<a name="l1005"><span class="linenum">1005</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../_variables/userfields.html">$userfields</a>);
<a name="l1006"><span class="linenum">1006</span></a>      }
<a name="l1007"><span class="linenum">1007</span></a>  
<a name="l1008"><span class="linenum">1008</span></a>      <span class="comment">/**</span>
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1010"><span class="linenum">1010</span></a>  <span class="comment">     *</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1012"><span class="linenum">1012</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1013"><span class="linenum">1013</span></a>  <span class="comment">     */</span>
<a name="l1014"><span class="linenum">1014</span></a>      public static function <a class="function" onClick="logFunction('add_user_private_files_parameters')" href="../_functions/add_user_private_files_parameters.html" onMouseOver="funcPopup(event,'add_user_private_files_parameters')">add_user_private_files_parameters</a>() {
<a name="l1015"><span class="linenum">1015</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1016"><span class="linenum">1016</span></a>              array(
<a name="l1017"><span class="linenum">1017</span></a>                  'draftid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'draft area id')
<a name="l1018"><span class="linenum">1018</span></a>              )
<a name="l1019"><span class="linenum">1019</span></a>          );
<a name="l1020"><span class="linenum">1020</span></a>      }
<a name="l1021"><span class="linenum">1021</span></a>  
<a name="l1022"><span class="linenum">1022</span></a>      <span class="comment">/**</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">     * Copy files from a draft area to users private files area.</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">     *</span>
<a name="l1025"><span class="linenum">1025</span></a>  <span class="comment">     * @throws invalid_parameter_exception</span>
<a name="l1026"><span class="linenum">1026</span></a>  <span class="comment">     * @param int $draftid Id of a draft area containing files.</span>
<a name="l1027"><span class="linenum">1027</span></a>  <span class="comment">     * @return array An array of warnings</span>
<a name="l1028"><span class="linenum">1028</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1029"><span class="linenum">1029</span></a>  <span class="comment">     */</span>
<a name="l1030"><span class="linenum">1030</span></a>      public static function <a class="function" onClick="logFunction('add_user_private_files')" href="../_functions/add_user_private_files.html" onMouseOver="funcPopup(event,'add_user_private_files')">add_user_private_files</a>(<a class="var it2983" onMouseOver="hilite(2983)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../_variables/draftid.html">$draftid</a>) {
<a name="l1031"><span class="linenum">1031</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1032"><span class="linenum">1032</span></a>  
<a name="l1033"><span class="linenum">1033</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l1034"><span class="linenum">1034</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('add_user_private_files_parameters')" href="../_functions/add_user_private_files_parameters.html" onMouseOver="funcPopup(event,'add_user_private_files_parameters')">add_user_private_files_parameters</a>(), array('draftid' =&gt; <a class="var it2983" onMouseOver="hilite(2983)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../_variables/draftid.html">$draftid</a>));
<a name="l1035"><span class="linenum">1035</span></a>  
<a name="l1036"><span class="linenum">1036</span></a>          if (<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l1037"><span class="linenum">1037</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Guest users cannot upload files');
<a name="l1038"><span class="linenum">1038</span></a>          }
<a name="l1039"><span class="linenum">1039</span></a>  
<a name="l1040"><span class="linenum">1040</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_user')" href="../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1041"><span class="linenum">1041</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/user:manageownfiles', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1042"><span class="linenum">1042</span></a>  
<a name="l1043"><span class="linenum">1043</span></a>          <a class="var it1436" onMouseOver="hilite(1436)" onMouseOut="lolite()" onClick="logVariable('maxbytes')" href="../_variables/maxbytes.html">$maxbytes</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('userquota')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/userquota.html">userquota</a>;
<a name="l1044"><span class="linenum">1044</span></a>          <a class="var it2985" onMouseOver="hilite(2985)" onMouseOut="lolite()" onClick="logVariable('maxareabytes')" href="../_variables/maxareabytes.html">$maxareabytes</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('userquota')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/userquota.html">userquota</a>;
<a name="l1045"><span class="linenum">1045</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/user:ignoreuserquota', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l1046"><span class="linenum">1046</span></a>              <a class="var it1436" onMouseOver="hilite(1436)" onMouseOut="lolite()" onClick="logVariable('maxbytes')" href="../_variables/maxbytes.html">$maxbytes</a> = <a class="constant" onClick="logConstant('USER_CAN_IGNORE_FILE_SIZE_LIMITS')" href="../_constants/USER_CAN_IGNORE_FILE_SIZE_LIMITS.html" onMouseOver="constPopup(event,'USER_CAN_IGNORE_FILE_SIZE_LIMITS')">USER_CAN_IGNORE_FILE_SIZE_LIMITS</a>;
<a name="l1047"><span class="linenum">1047</span></a>              <a class="var it2985" onMouseOver="hilite(2985)" onMouseOut="lolite()" onClick="logVariable('maxareabytes')" href="../_variables/maxareabytes.html">$maxareabytes</a> = <a class="constant" onClick="logConstant('FILE_AREA_MAX_BYTES_UNLIMITED')" href="../_constants/FILE_AREA_MAX_BYTES_UNLIMITED.html" onMouseOver="constPopup(event,'FILE_AREA_MAX_BYTES_UNLIMITED')">FILE_AREA_MAX_BYTES_UNLIMITED</a>;
<a name="l1048"><span class="linenum">1048</span></a>          }
<a name="l1049"><span class="linenum">1049</span></a>  
<a name="l1050"><span class="linenum">1050</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array('subdirs' =&gt; 1,
<a name="l1051"><span class="linenum">1051</span></a>                           'maxbytes' =&gt; <a class="var it1436" onMouseOver="hilite(1436)" onMouseOut="lolite()" onClick="logVariable('maxbytes')" href="../_variables/maxbytes.html">$maxbytes</a>,
<a name="l1052"><span class="linenum">1052</span></a>                           'maxfiles' =&gt; -1,
<a name="l1053"><span class="linenum">1053</span></a>                           'accepted_types' =&gt; '*',
<a name="l1054"><span class="linenum">1054</span></a>                           'areamaxbytes' =&gt; <a class="var it2985" onMouseOver="hilite(2985)" onMouseOut="lolite()" onClick="logVariable('maxareabytes')" href="../_variables/maxareabytes.html">$maxareabytes</a>);
<a name="l1055"><span class="linenum">1055</span></a>  
<a name="l1056"><span class="linenum">1056</span></a>          <a class="function" onClick="logFunction('file_save_draft_area_files')" href="../_functions/file_save_draft_area_files.html" onMouseOver="funcPopup(event,'file_save_draft_area_files')">file_save_draft_area_files</a>(<a class="var it2983" onMouseOver="hilite(2983)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../_variables/draftid.html">$draftid</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'user', 'private', 0, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l1057"><span class="linenum">1057</span></a>  
<a name="l1058"><span class="linenum">1058</span></a>          return null;
<a name="l1059"><span class="linenum">1059</span></a>      }
<a name="l1060"><span class="linenum">1060</span></a>  
<a name="l1061"><span class="linenum">1061</span></a>      <span class="comment">/**</span>
<a name="l1062"><span class="linenum">1062</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1063"><span class="linenum">1063</span></a>  <span class="comment">     *</span>
<a name="l1064"><span class="linenum">1064</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment">     * @since Moodle 2.2</span>
<a name="l1066"><span class="linenum">1066</span></a>  <span class="comment">     */</span>
<a name="l1067"><span class="linenum">1067</span></a>      public static function <a class="function" onClick="logFunction('add_user_private_files_returns')" href="../_functions/add_user_private_files_returns.html" onMouseOver="funcPopup(event,'add_user_private_files_returns')">add_user_private_files_returns</a>() {
<a name="l1068"><span class="linenum">1068</span></a>          return null;
<a name="l1069"><span class="linenum">1069</span></a>      }
<a name="l1070"><span class="linenum">1070</span></a>  
<a name="l1071"><span class="linenum">1071</span></a>      <span class="comment">/**</span>
<a name="l1072"><span class="linenum">1072</span></a>  <span class="comment">     * Returns description of method parameters.</span>
<a name="l1073"><span class="linenum">1073</span></a>  <span class="comment">     *</span>
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1076"><span class="linenum">1076</span></a>  <span class="comment">     */</span>
<a name="l1077"><span class="linenum">1077</span></a>      public static function <a class="function" onClick="logFunction('add_user_device_parameters')" href="../_functions/add_user_device_parameters.html" onMouseOver="funcPopup(event,'add_user_device_parameters')">add_user_device_parameters</a>() {
<a name="l1078"><span class="linenum">1078</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1079"><span class="linenum">1079</span></a>              array(
<a name="l1080"><span class="linenum">1080</span></a>                  'appid'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'the app id, usually something like com.moodle.moodlemobile'),
<a name="l1081"><span class="linenum">1081</span></a>                  'name'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'the device name, \'occam\' or \'iPhone\' etc.'),
<a name="l1082"><span class="linenum">1082</span></a>                  'model'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'the device model \'Nexus4\' or \'iPad1,1\' etc.'),
<a name="l1083"><span class="linenum">1083</span></a>                  'platform'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'the device platform \'iOS\' or \'Android\' etc.'),
<a name="l1084"><span class="linenum">1084</span></a>                  'version'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'the device version \'6.1.2\' or \'4.2.2\' etc.'),
<a name="l1085"><span class="linenum">1085</span></a>                  'pushid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the device PUSH token/key/identifier/registration id'),
<a name="l1086"><span class="linenum">1086</span></a>                  'uuid'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the device UUID')
<a name="l1087"><span class="linenum">1087</span></a>              )
<a name="l1088"><span class="linenum">1088</span></a>          );
<a name="l1089"><span class="linenum">1089</span></a>      }
<a name="l1090"><span class="linenum">1090</span></a>  
<a name="l1091"><span class="linenum">1091</span></a>      <span class="comment">/**</span>
<a name="l1092"><span class="linenum">1092</span></a>  <span class="comment">     * Add a user device in Moodle database (for PUSH notifications usually).</span>
<a name="l1093"><span class="linenum">1093</span></a>  <span class="comment">     *</span>
<a name="l1094"><span class="linenum">1094</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l1095"><span class="linenum">1095</span></a>  <span class="comment">     * @param string $appid The app id, usually something like com.moodle.moodlemobile.</span>
<a name="l1096"><span class="linenum">1096</span></a>  <span class="comment">     * @param string $name The device name, occam or iPhone etc.</span>
<a name="l1097"><span class="linenum">1097</span></a>  <span class="comment">     * @param string $model The device model Nexus4 or iPad1.1 etc.</span>
<a name="l1098"><span class="linenum">1098</span></a>  <span class="comment">     * @param string $platform The device platform iOs or Android etc.</span>
<a name="l1099"><span class="linenum">1099</span></a>  <span class="comment">     * @param string $version The device version 6.1.2 or 4.2.2 etc.</span>
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment">     * @param string $pushid The device PUSH token/key/identifier/registration id.</span>
<a name="l1101"><span class="linenum">1101</span></a>  <span class="comment">     * @param string $uuid The device UUID.</span>
<a name="l1102"><span class="linenum">1102</span></a>  <span class="comment">     * @return array List of possible warnings.</span>
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment">     */</span>
<a name="l1105"><span class="linenum">1105</span></a>      public static function <a class="function" onClick="logFunction('add_user_device')" href="../_functions/add_user_device.html" onMouseOver="funcPopup(event,'add_user_device')">add_user_device</a>(<a class="var it2986" onMouseOver="hilite(2986)" onMouseOut="lolite()" onClick="logVariable('appid')" href="../_variables/appid.html">$appid</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it2987" onMouseOver="hilite(2987)" onMouseOut="lolite()" onClick="logVariable('model')" href="../_variables/model.html">$model</a>, <a class="var it2988" onMouseOver="hilite(2988)" onMouseOut="lolite()" onClick="logVariable('platform')" href="../_variables/platform.html">$platform</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it2989" onMouseOver="hilite(2989)" onMouseOut="lolite()" onClick="logVariable('pushid')" href="../_variables/pushid.html">$pushid</a>, <a class="var it2990" onMouseOver="hilite(2990)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a>) {
<a name="l1106"><span class="linenum">1106</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1107"><span class="linenum">1107</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l1108"><span class="linenum">1108</span></a>  
<a name="l1109"><span class="linenum">1109</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('add_user_device_parameters')" href="../_functions/add_user_device_parameters.html" onMouseOver="funcPopup(event,'add_user_device_parameters')">add_user_device_parameters</a>(),
<a name="l1110"><span class="linenum">1110</span></a>                  array('appid' =&gt; <a class="var it2986" onMouseOver="hilite(2986)" onMouseOut="lolite()" onClick="logVariable('appid')" href="../_variables/appid.html">$appid</a>,
<a name="l1111"><span class="linenum">1111</span></a>                        'name' =&gt; <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>,
<a name="l1112"><span class="linenum">1112</span></a>                        'model' =&gt; <a class="var it2987" onMouseOver="hilite(2987)" onMouseOut="lolite()" onClick="logVariable('model')" href="../_variables/model.html">$model</a>,
<a name="l1113"><span class="linenum">1113</span></a>                        'platform' =&gt; <a class="var it2988" onMouseOver="hilite(2988)" onMouseOut="lolite()" onClick="logVariable('platform')" href="../_variables/platform.html">$platform</a>,
<a name="l1114"><span class="linenum">1114</span></a>                        'version' =&gt; <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>,
<a name="l1115"><span class="linenum">1115</span></a>                        'pushid' =&gt; <a class="var it2989" onMouseOver="hilite(2989)" onMouseOut="lolite()" onClick="logVariable('pushid')" href="../_variables/pushid.html">$pushid</a>,
<a name="l1116"><span class="linenum">1116</span></a>                        'uuid' =&gt; <a class="var it2990" onMouseOver="hilite(2990)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a>
<a name="l1117"><span class="linenum">1117</span></a>                        ));
<a name="l1118"><span class="linenum">1118</span></a>  
<a name="l1119"><span class="linenum">1119</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l1120"><span class="linenum">1120</span></a>  
<a name="l1121"><span class="linenum">1121</span></a>  <span class="comment">        // Prevent duplicate keys for users.</span>
<a name="l1122"><span class="linenum">1122</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user_devices', array('pushid' =&gt; <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['pushid'], 'userid' =&gt; <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l1123"><span class="linenum">1123</span></a>              <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>['warning'][] = array(
<a name="l1124"><span class="linenum">1124</span></a>                  'item' =&gt; <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['pushid'],
<a name="l1125"><span class="linenum">1125</span></a>                  'warningcode' =&gt; 'existingkeyforthisuser',
<a name="l1126"><span class="linenum">1126</span></a>                  'message' =&gt; 'This key is already stored for this user'
<a name="l1127"><span class="linenum">1127</span></a>              );
<a name="l1128"><span class="linenum">1128</span></a>              return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>;
<a name="l1129"><span class="linenum">1129</span></a>          }
<a name="l1130"><span class="linenum">1130</span></a>  
<a name="l1131"><span class="linenum">1131</span></a>  <span class="comment">        // Notice that we can have multiple devices because previously it was allowed to have repeated ones.</span>
<a name="l1132"><span class="linenum">1132</span></a>  <span class="comment">        // Since we don't have a clear way to decide which one is the more appropiate, we update all.</span>
<a name="l1133"><span class="linenum">1133</span></a>          if (<a class="var it2991" onMouseOver="hilite(2991)" onMouseOut="lolite()" onClick="logVariable('userdevices')" href="../_variables/userdevices.html">$userdevices</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('user_devices', array('uuid' =&gt; <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['uuid'],
<a name="l1134"><span class="linenum">1134</span></a>                  'appid' =&gt; <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['appid'], 'userid' =&gt; <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l1135"><span class="linenum">1135</span></a>  
<a name="l1136"><span class="linenum">1136</span></a>              foreach (<a class="var it2991" onMouseOver="hilite(2991)" onMouseOut="lolite()" onClick="logVariable('userdevices')" href="../_variables/userdevices.html">$userdevices</a> as <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>) {
<a name="l1137"><span class="linenum">1137</span></a>                  <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('version')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/version.html">version</a>    = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['version'];   <span class="comment">// Maybe the user upgraded the device.</span>
<a name="l1138"><span class="linenum">1138</span></a>                  <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('pushid')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/pushid.html">pushid</a>     = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['pushid'];
<a name="l1139"><span class="linenum">1139</span></a>                  <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('timemodified')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/timemodified.html">timemodified</a>  = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l1140"><span class="linenum">1140</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('user_devices', <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>);
<a name="l1141"><span class="linenum">1141</span></a>              }
<a name="l1142"><span class="linenum">1142</span></a>  
<a name="l1143"><span class="linenum">1143</span></a>          } else {
<a name="l1144"><span class="linenum">1144</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a> = new stdclass;
<a name="l1145"><span class="linenum">1145</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('userid')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>     = <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l1146"><span class="linenum">1146</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('appid')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/appid.html">appid</a>      = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['appid'];
<a name="l1147"><span class="linenum">1147</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('name')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/name.html">name</a>       = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['name'];
<a name="l1148"><span class="linenum">1148</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('model')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/model.html">model</a>      = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['model'];
<a name="l1149"><span class="linenum">1149</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('platform')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/platform.html">platform</a>   = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['platform'];
<a name="l1150"><span class="linenum">1150</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('version')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/version.html">version</a>    = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['version'];
<a name="l1151"><span class="linenum">1151</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('pushid')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/pushid.html">pushid</a>     = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['pushid'];
<a name="l1152"><span class="linenum">1152</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('uuid')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/uuid.html">uuid</a>       = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['uuid'];
<a name="l1153"><span class="linenum">1153</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('timecreated')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/timecreated.html">timecreated</a>  = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l1154"><span class="linenum">1154</span></a>              <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('timemodified')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/timemodified.html">timemodified</a> = <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>-&gt;<a onClick="logVariable('timecreated')" class="var it39658" onMouseOver="hilite(39658)" onMouseOut="lolite()" href="../_variables/timecreated.html">timecreated</a>;
<a name="l1155"><span class="linenum">1155</span></a>  
<a name="l1156"><span class="linenum">1156</span></a>              if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('user_devices', <a class="var it2992" onMouseOver="hilite(2992)" onMouseOut="lolite()" onClick="logVariable('userdevice')" href="../_variables/userdevice.html">$userdevice</a>)) {
<a name="l1157"><span class="linenum">1157</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;There was a problem saving in the database the device with key: &quot; . <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['pushid']);
<a name="l1158"><span class="linenum">1158</span></a>              }
<a name="l1159"><span class="linenum">1159</span></a>          }
<a name="l1160"><span class="linenum">1160</span></a>  
<a name="l1161"><span class="linenum">1161</span></a>          return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>;
<a name="l1162"><span class="linenum">1162</span></a>      }
<a name="l1163"><span class="linenum">1163</span></a>  
<a name="l1164"><span class="linenum">1164</span></a>      <span class="comment">/**</span>
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment">     * Returns description of method result value.</span>
<a name="l1166"><span class="linenum">1166</span></a>  <span class="comment">     *</span>
<a name="l1167"><span class="linenum">1167</span></a>  <span class="comment">     * @return external_multiple_structure</span>
<a name="l1168"><span class="linenum">1168</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1169"><span class="linenum">1169</span></a>  <span class="comment">     */</span>
<a name="l1170"><span class="linenum">1170</span></a>      public static function <a class="function" onClick="logFunction('add_user_device_returns')" href="../_functions/add_user_device_returns.html" onMouseOver="funcPopup(event,'add_user_device_returns')">add_user_device_returns</a>() {
<a name="l1171"><span class="linenum">1171</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1172"><span class="linenum">1172</span></a>             <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l1173"><span class="linenum">1173</span></a>          );
<a name="l1174"><span class="linenum">1174</span></a>      }
<a name="l1175"><span class="linenum">1175</span></a>  
<a name="l1176"><span class="linenum">1176</span></a>      <span class="comment">/**</span>
<a name="l1177"><span class="linenum">1177</span></a>  <span class="comment">     * Returns description of method parameters.</span>
<a name="l1178"><span class="linenum">1178</span></a>  <span class="comment">     *</span>
<a name="l1179"><span class="linenum">1179</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1180"><span class="linenum">1180</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1181"><span class="linenum">1181</span></a>  <span class="comment">     */</span>
<a name="l1182"><span class="linenum">1182</span></a>      public static function <a class="function" onClick="logFunction('remove_user_device_parameters')" href="../_functions/remove_user_device_parameters.html" onMouseOver="funcPopup(event,'remove_user_device_parameters')">remove_user_device_parameters</a>() {
<a name="l1183"><span class="linenum">1183</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1184"><span class="linenum">1184</span></a>              array(
<a name="l1185"><span class="linenum">1185</span></a>                  'uuid'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the device UUID'),
<a name="l1186"><span class="linenum">1186</span></a>                  'appid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>,
<a name="l1187"><span class="linenum">1187</span></a>                                                  'the app id, if empty devices matching the UUID for the user will be removed',
<a name="l1188"><span class="linenum">1188</span></a>                                                  <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l1189"><span class="linenum">1189</span></a>              )
<a name="l1190"><span class="linenum">1190</span></a>          );
<a name="l1191"><span class="linenum">1191</span></a>      }
<a name="l1192"><span class="linenum">1192</span></a>  
<a name="l1193"><span class="linenum">1193</span></a>      <span class="comment">/**</span>
<a name="l1194"><span class="linenum">1194</span></a>  <span class="comment">     * Remove a user device from the Moodle database (for PUSH notifications usually).</span>
<a name="l1195"><span class="linenum">1195</span></a>  <span class="comment">     *</span>
<a name="l1196"><span class="linenum">1196</span></a>  <span class="comment">     * @param string $uuid The device UUID.</span>
<a name="l1197"><span class="linenum">1197</span></a>  <span class="comment">     * @param string $appid The app id, opitonal parameter. If empty all the devices fmatching the UUID or the user will be removed.</span>
<a name="l1198"><span class="linenum">1198</span></a>  <span class="comment">     * @return array List of possible warnings and removal status.</span>
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment">     */</span>
<a name="l1201"><span class="linenum">1201</span></a>      public static function <a class="function" onClick="logFunction('remove_user_device')" href="../_functions/remove_user_device.html" onMouseOver="funcPopup(event,'remove_user_device')">remove_user_device</a>(<a class="var it2990" onMouseOver="hilite(2990)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a>, <a class="var it2986" onMouseOver="hilite(2986)" onMouseOut="lolite()" onClick="logVariable('appid')" href="../_variables/appid.html">$appid</a> = &quot;&quot;) {
<a name="l1202"><span class="linenum">1202</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1203"><span class="linenum">1203</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l1204"><span class="linenum">1204</span></a>  
<a name="l1205"><span class="linenum">1205</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('remove_user_device_parameters')" href="../_functions/remove_user_device_parameters.html" onMouseOver="funcPopup(event,'remove_user_device_parameters')">remove_user_device_parameters</a>(), array('uuid' =&gt; <a class="var it2990" onMouseOver="hilite(2990)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a>, 'appid' =&gt; <a class="var it2986" onMouseOver="hilite(2986)" onMouseOut="lolite()" onClick="logVariable('appid')" href="../_variables/appid.html">$appid</a>));
<a name="l1206"><span class="linenum">1206</span></a>  
<a name="l1207"><span class="linenum">1207</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l1208"><span class="linenum">1208</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1209"><span class="linenum">1209</span></a>  
<a name="l1210"><span class="linenum">1210</span></a>  <span class="comment">        // Warnings array, it can be empty at the end but is mandatory.</span>
<a name="l1211"><span class="linenum">1211</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l1212"><span class="linenum">1212</span></a>  
<a name="l1213"><span class="linenum">1213</span></a>          <a class="var it2993" onMouseOver="hilite(2993)" onMouseOut="lolite()" onClick="logVariable('removed')" href="../_variables/removed.html">$removed</a> = <a class="function" onClick="logFunction('user_remove_user_device')" href="../_functions/user_remove_user_device.html" onMouseOver="funcPopup(event,'user_remove_user_device')">user_remove_user_device</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['uuid'], <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['appid']);
<a name="l1214"><span class="linenum">1214</span></a>  
<a name="l1215"><span class="linenum">1215</span></a>          if (!<a class="var it2993" onMouseOver="hilite(2993)" onMouseOut="lolite()" onClick="logVariable('removed')" href="../_variables/removed.html">$removed</a>) {
<a name="l1216"><span class="linenum">1216</span></a>              <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>[] = array(
<a name="l1217"><span class="linenum">1217</span></a>                  'item' =&gt; <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['uuid'],
<a name="l1218"><span class="linenum">1218</span></a>                  'warningcode' =&gt; 'devicedoesnotexist',
<a name="l1219"><span class="linenum">1219</span></a>                  'message' =&gt; 'The device doesn\'t exists in the database'
<a name="l1220"><span class="linenum">1220</span></a>              );
<a name="l1221"><span class="linenum">1221</span></a>          }
<a name="l1222"><span class="linenum">1222</span></a>  
<a name="l1223"><span class="linenum">1223</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array(
<a name="l1224"><span class="linenum">1224</span></a>              'removed' =&gt; <a class="var it2993" onMouseOver="hilite(2993)" onMouseOut="lolite()" onClick="logVariable('removed')" href="../_variables/removed.html">$removed</a>,
<a name="l1225"><span class="linenum">1225</span></a>              'warnings' =&gt; <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>
<a name="l1226"><span class="linenum">1226</span></a>          );
<a name="l1227"><span class="linenum">1227</span></a>  
<a name="l1228"><span class="linenum">1228</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1229"><span class="linenum">1229</span></a>      }
<a name="l1230"><span class="linenum">1230</span></a>  
<a name="l1231"><span class="linenum">1231</span></a>      <span class="comment">/**</span>
<a name="l1232"><span class="linenum">1232</span></a>  <span class="comment">     * Returns description of method result value.</span>
<a name="l1233"><span class="linenum">1233</span></a>  <span class="comment">     *</span>
<a name="l1234"><span class="linenum">1234</span></a>  <span class="comment">     * @return external_multiple_structure</span>
<a name="l1235"><span class="linenum">1235</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1236"><span class="linenum">1236</span></a>  <span class="comment">     */</span>
<a name="l1237"><span class="linenum">1237</span></a>      public static function <a class="function" onClick="logFunction('remove_user_device_returns')" href="../_functions/remove_user_device_returns.html" onMouseOver="funcPopup(event,'remove_user_device_returns')">remove_user_device_returns</a>() {
<a name="l1238"><span class="linenum">1238</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1239"><span class="linenum">1239</span></a>              array(
<a name="l1240"><span class="linenum">1240</span></a>                  'removed' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if removed, false if not removed because it doesn\'t exists'),
<a name="l1241"><span class="linenum">1241</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1242"><span class="linenum">1242</span></a>              )
<a name="l1243"><span class="linenum">1243</span></a>          );
<a name="l1244"><span class="linenum">1244</span></a>      }
<a name="l1245"><span class="linenum">1245</span></a>  
<a name="l1246"><span class="linenum">1246</span></a>      <span class="comment">/**</span>
<a name="l1247"><span class="linenum">1247</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1248"><span class="linenum">1248</span></a>  <span class="comment">     *</span>
<a name="l1249"><span class="linenum">1249</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1250"><span class="linenum">1250</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1251"><span class="linenum">1251</span></a>  <span class="comment">     */</span>
<a name="l1252"><span class="linenum">1252</span></a>      public static function <a class="function" onClick="logFunction('view_user_list_parameters')" href="../_functions/view_user_list_parameters.html" onMouseOver="funcPopup(event,'view_user_list_parameters')">view_user_list_parameters</a>() {
<a name="l1253"><span class="linenum">1253</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1254"><span class="linenum">1254</span></a>              array(
<a name="l1255"><span class="linenum">1255</span></a>                  'courseid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of the course, 0 for site')
<a name="l1256"><span class="linenum">1256</span></a>              )
<a name="l1257"><span class="linenum">1257</span></a>          );
<a name="l1258"><span class="linenum">1258</span></a>      }
<a name="l1259"><span class="linenum">1259</span></a>  
<a name="l1260"><span class="linenum">1260</span></a>      <span class="comment">/**</span>
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment">     * Simulate the /user/index.php web interface page triggering events</span>
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">     *</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment">     * @param int $courseid id of course</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l1265"><span class="linenum">1265</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1266"><span class="linenum">1266</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l1267"><span class="linenum">1267</span></a>  <span class="comment">     */</span>
<a name="l1268"><span class="linenum">1268</span></a>      public static function <a class="function" onClick="logFunction('view_user_list')" href="../_functions/view_user_list.html" onMouseOver="funcPopup(event,'view_user_list')">view_user_list</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l1269"><span class="linenum">1269</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1270"><span class="linenum">1270</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/lib.php.html">/user/lib.php</a>");
<a name="l1271"><span class="linenum">1271</span></a>  
<a name="l1272"><span class="linenum">1272</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_user_list_parameters')" href="../_functions/view_user_list_parameters.html" onMouseOver="funcPopup(event,'view_user_list_parameters')">view_user_list_parameters</a>(),
<a name="l1273"><span class="linenum">1273</span></a>                                              array(
<a name="l1274"><span class="linenum">1274</span></a>                                                  'courseid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>
<a name="l1275"><span class="linenum">1275</span></a>                                              ));
<a name="l1276"><span class="linenum">1276</span></a>  
<a name="l1277"><span class="linenum">1277</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l1278"><span class="linenum">1278</span></a>  
<a name="l1279"><span class="linenum">1279</span></a>          if (empty(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid'])) {
<a name="l1280"><span class="linenum">1280</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid'] = <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>;
<a name="l1281"><span class="linenum">1281</span></a>          }
<a name="l1282"><span class="linenum">1282</span></a>  
<a name="l1283"><span class="linenum">1283</span></a>          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="function" onClick="logFunction('get_course')" href="../_functions/get_course.html" onMouseOver="funcPopup(event,'get_course')">get_course</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid']);
<a name="l1284"><span class="linenum">1284</span></a>  
<a name="l1285"><span class="linenum">1285</span></a>          if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1286"><span class="linenum">1286</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l1287"><span class="linenum">1287</span></a>          } else {
<a name="l1288"><span class="linenum">1288</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1289"><span class="linenum">1289</span></a>          }
<a name="l1290"><span class="linenum">1290</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1291"><span class="linenum">1291</span></a>  
<a name="l1292"><span class="linenum">1292</span></a>          if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1293"><span class="linenum">1293</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:viewparticipants', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1294"><span class="linenum">1294</span></a>          } else {
<a name="l1295"><span class="linenum">1295</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/course:viewparticipants', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1296"><span class="linenum">1296</span></a>          }
<a name="l1297"><span class="linenum">1297</span></a>  
<a name="l1298"><span class="linenum">1298</span></a>          <a class="function" onClick="logFunction('user_list_view')" href="../_functions/user_list_view.html" onMouseOver="funcPopup(event,'user_list_view')">user_list_view</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1299"><span class="linenum">1299</span></a>  
<a name="l1300"><span class="linenum">1300</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l1301"><span class="linenum">1301</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['status'] = true;
<a name="l1302"><span class="linenum">1302</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['warnings'] = <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>;
<a name="l1303"><span class="linenum">1303</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1304"><span class="linenum">1304</span></a>      }
<a name="l1305"><span class="linenum">1305</span></a>  
<a name="l1306"><span class="linenum">1306</span></a>      <span class="comment">/**</span>
<a name="l1307"><span class="linenum">1307</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1308"><span class="linenum">1308</span></a>  <span class="comment">     *</span>
<a name="l1309"><span class="linenum">1309</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1310"><span class="linenum">1310</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1311"><span class="linenum">1311</span></a>  <span class="comment">     */</span>
<a name="l1312"><span class="linenum">1312</span></a>      public static function <a class="function" onClick="logFunction('view_user_list_returns')" href="../_functions/view_user_list_returns.html" onMouseOver="funcPopup(event,'view_user_list_returns')">view_user_list_returns</a>() {
<a name="l1313"><span class="linenum">1313</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1314"><span class="linenum">1314</span></a>              array(
<a name="l1315"><span class="linenum">1315</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l1316"><span class="linenum">1316</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l1317"><span class="linenum">1317</span></a>              )
<a name="l1318"><span class="linenum">1318</span></a>          );
<a name="l1319"><span class="linenum">1319</span></a>      }
<a name="l1320"><span class="linenum">1320</span></a>  
<a name="l1321"><span class="linenum">1321</span></a>      <span class="comment">/**</span>
<a name="l1322"><span class="linenum">1322</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1323"><span class="linenum">1323</span></a>  <span class="comment">     *</span>
<a name="l1324"><span class="linenum">1324</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1325"><span class="linenum">1325</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment">     */</span>
<a name="l1327"><span class="linenum">1327</span></a>      public static function <a class="function" onClick="logFunction('view_user_profile_parameters')" href="../_functions/view_user_profile_parameters.html" onMouseOver="funcPopup(event,'view_user_profile_parameters')">view_user_profile_parameters</a>() {
<a name="l1328"><span class="linenum">1328</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1329"><span class="linenum">1329</span></a>              array(
<a name="l1330"><span class="linenum">1330</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of the user, 0 for current user', <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>),
<a name="l1331"><span class="linenum">1331</span></a>                  'courseid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of the course, default site course', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0)
<a name="l1332"><span class="linenum">1332</span></a>              )
<a name="l1333"><span class="linenum">1333</span></a>          );
<a name="l1334"><span class="linenum">1334</span></a>      }
<a name="l1335"><span class="linenum">1335</span></a>  
<a name="l1336"><span class="linenum">1336</span></a>      <span class="comment">/**</span>
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">     * Simulate the /user/index.php and /user/profile.php web interface page triggering events</span>
<a name="l1338"><span class="linenum">1338</span></a>  <span class="comment">     *</span>
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">     * @param int $userid id of user</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment">     * @param int $courseid id of course</span>
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l1342"><span class="linenum">1342</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1343"><span class="linenum">1343</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l1344"><span class="linenum">1344</span></a>  <span class="comment">     */</span>
<a name="l1345"><span class="linenum">1345</span></a>      public static function <a class="function" onClick="logFunction('view_user_profile')" href="../_functions/view_user_profile.html" onMouseOver="funcPopup(event,'view_user_profile')">view_user_profile</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = 0) {
<a name="l1346"><span class="linenum">1346</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l1347"><span class="linenum">1347</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../user/profile/lib.php.html">/user/profile/lib.php</a>");
<a name="l1348"><span class="linenum">1348</span></a>  
<a name="l1349"><span class="linenum">1349</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_user_profile_parameters')" href="../_functions/view_user_profile_parameters.html" onMouseOver="funcPopup(event,'view_user_profile_parameters')">view_user_profile_parameters</a>(),
<a name="l1350"><span class="linenum">1350</span></a>                                              array(
<a name="l1351"><span class="linenum">1351</span></a>                                                  'userid' =&gt; <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>,
<a name="l1352"><span class="linenum">1352</span></a>                                                  'courseid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>
<a name="l1353"><span class="linenum">1353</span></a>                                              ));
<a name="l1354"><span class="linenum">1354</span></a>  
<a name="l1355"><span class="linenum">1355</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l1356"><span class="linenum">1356</span></a>  
<a name="l1357"><span class="linenum">1357</span></a>          if (empty(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userid'])) {
<a name="l1358"><span class="linenum">1358</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userid'] = <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l1359"><span class="linenum">1359</span></a>          }
<a name="l1360"><span class="linenum">1360</span></a>  
<a name="l1361"><span class="linenum">1361</span></a>          if (empty(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid'])) {
<a name="l1362"><span class="linenum">1362</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid'] = <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>;
<a name="l1363"><span class="linenum">1363</span></a>          }
<a name="l1364"><span class="linenum">1364</span></a>  
<a name="l1365"><span class="linenum">1365</span></a>          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="function" onClick="logFunction('get_course')" href="../_functions/get_course.html" onMouseOver="funcPopup(event,'get_course')">get_course</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid']);
<a name="l1366"><span class="linenum">1366</span></a>          <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_user')" href="../_functions/get_user.html" onMouseOver="funcPopup(event,'get_user')">get_user</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userid'], '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1367"><span class="linenum">1367</span></a>  
<a name="l1368"><span class="linenum">1368</span></a>          if (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('deleted')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/deleted.html">deleted</a>) {
<a name="l1369"><span class="linenum">1369</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('userdeleted');
<a name="l1370"><span class="linenum">1370</span></a>          }
<a name="l1371"><span class="linenum">1371</span></a>          if (<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l1372"><span class="linenum">1372</span></a>  <span class="comment">            // Can not view profile of guest - thre is nothing to see there.</span>
<a name="l1373"><span class="linenum">1373</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('invaliduserid');
<a name="l1374"><span class="linenum">1374</span></a>          }
<a name="l1375"><span class="linenum">1375</span></a>  
<a name="l1376"><span class="linenum">1376</span></a>          if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1377"><span class="linenum">1377</span></a>              <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();;
<a name="l1378"><span class="linenum">1378</span></a>          } else {
<a name="l1379"><span class="linenum">1379</span></a>              <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1380"><span class="linenum">1380</span></a>          }
<a name="l1381"><span class="linenum">1381</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>);
<a name="l1382"><span class="linenum">1382</span></a>  
<a name="l1383"><span class="linenum">1383</span></a>          <a class="var it1510" onMouseOver="hilite(1510)" onMouseOut="lolite()" onClick="logVariable('currentuser')" href="../_variables/currentuser.html">$currentuser</a> = <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l1384"><span class="linenum">1384</span></a>          <a class="var it1419" onMouseOver="hilite(1419)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a> = <a class="class" onClick="logClass('context_user')" href="../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1385"><span class="linenum">1385</span></a>  
<a name="l1386"><span class="linenum">1386</span></a>          if (!<a class="var it1510" onMouseOver="hilite(1510)" onMouseOut="lolite()" onClick="logVariable('currentuser')" href="../_variables/currentuser.html">$currentuser</a> and
<a name="l1387"><span class="linenum">1387</span></a>                  !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/user:viewdetails', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>) and
<a name="l1388"><span class="linenum">1388</span></a>                  !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/user:viewdetails', <a class="var it1419" onMouseOver="hilite(1419)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a>)) {
<a name="l1389"><span class="linenum">1389</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannotviewprofile');
<a name="l1390"><span class="linenum">1390</span></a>          }
<a name="l1391"><span class="linenum">1391</span></a>  
<a name="l1392"><span class="linenum">1392</span></a>  <span class="comment">        // Case like user/profile.php.</span>
<a name="l1393"><span class="linenum">1393</span></a>          if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l1394"><span class="linenum">1394</span></a>              <a class="function" onClick="logFunction('profile_view')" href="../_functions/profile_view.html" onMouseOver="funcPopup(event,'profile_view')">profile_view</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it1419" onMouseOver="hilite(1419)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a>);
<a name="l1395"><span class="linenum">1395</span></a>          } else {
<a name="l1396"><span class="linenum">1396</span></a>  <span class="comment">            // Case like user/view.php.</span>
<a name="l1397"><span class="linenum">1397</span></a>              if (!<a class="var it1510" onMouseOver="hilite(1510)" onMouseOut="lolite()" onClick="logVariable('currentuser')" href="../_variables/currentuser.html">$currentuser</a> and !<a class="function" onClick="logFunction('is_enrolled')" href="../_functions/is_enrolled.html" onMouseOver="funcPopup(event,'is_enrolled')">is_enrolled</a>(<a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>, <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l1398"><span class="linenum">1398</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('notenrolledprofile');
<a name="l1399"><span class="linenum">1399</span></a>              }
<a name="l1400"><span class="linenum">1400</span></a>  
<a name="l1401"><span class="linenum">1401</span></a>              <a class="function" onClick="logFunction('profile_view')" href="../_functions/profile_view.html" onMouseOver="funcPopup(event,'profile_view')">profile_view</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l1402"><span class="linenum">1402</span></a>          }
<a name="l1403"><span class="linenum">1403</span></a>  
<a name="l1404"><span class="linenum">1404</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l1405"><span class="linenum">1405</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['status'] = true;
<a name="l1406"><span class="linenum">1406</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['warnings'] = <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>;
<a name="l1407"><span class="linenum">1407</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1408"><span class="linenum">1408</span></a>      }
<a name="l1409"><span class="linenum">1409</span></a>  
<a name="l1410"><span class="linenum">1410</span></a>      <span class="comment">/**</span>
<a name="l1411"><span class="linenum">1411</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment">     *</span>
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1414"><span class="linenum">1414</span></a>  <span class="comment">     * @since Moodle 2.9</span>
<a name="l1415"><span class="linenum">1415</span></a>  <span class="comment">     */</span>
<a name="l1416"><span class="linenum">1416</span></a>      public static function <a class="function" onClick="logFunction('view_user_profile_returns')" href="../_functions/view_user_profile_returns.html" onMouseOver="funcPopup(event,'view_user_profile_returns')">view_user_profile_returns</a>() {
<a name="l1417"><span class="linenum">1417</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1418"><span class="linenum">1418</span></a>              array(
<a name="l1419"><span class="linenum">1419</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l1420"><span class="linenum">1420</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l1421"><span class="linenum">1421</span></a>              )
<a name="l1422"><span class="linenum">1422</span></a>          );
<a name="l1423"><span class="linenum">1423</span></a>      }
<a name="l1424"><span class="linenum">1424</span></a>  
<a name="l1425"><span class="linenum">1425</span></a>  }
<a name="l1426"><span class="linenum">1426</span></a>  
<a name="l1427"><span class="linenum">1427</span></a>   <span class="comment">/**</span>
<a name="l1428"><span class="linenum">1428</span></a>  <span class="comment">  * Deprecated user external functions</span>
<a name="l1429"><span class="linenum">1429</span></a>  <span class="comment">  *</span>
<a name="l1430"><span class="linenum">1430</span></a>  <span class="comment">  * @package    core_user</span>
<a name="l1431"><span class="linenum">1431</span></a>  <span class="comment">  * @copyright  2009 Petr Skodak</span>
<a name="l1432"><span class="linenum">1432</span></a>  <span class="comment">  * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1433"><span class="linenum">1433</span></a>  <span class="comment">  * @since Moodle 2.0</span>
<a name="l1434"><span class="linenum">1434</span></a>  <span class="comment">  * @deprecated Moodle 2.2 MDL-29106 - Please do not use this class any more.</span>
<a name="l1435"><span class="linenum">1435</span></a>  <span class="comment">  * @see core_user_external</span>
<a name="l1436"><span class="linenum">1436</span></a>  <span class="comment">  */</span>
<a name="l1437"><span class="linenum">1437</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('moodle_user_external')" href="../_classes/moodle_user_external.html" onMouseOver="classPopup(event,'moodle_user_external')">moodle_user_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l1438"><span class="linenum">1438</span></a>  
<a name="l1439"><span class="linenum">1439</span></a>      <span class="comment">/**</span>
<a name="l1440"><span class="linenum">1440</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1441"><span class="linenum">1441</span></a>  <span class="comment">     *</span>
<a name="l1442"><span class="linenum">1442</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1443"><span class="linenum">1443</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1444"><span class="linenum">1444</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1445"><span class="linenum">1445</span></a>  <span class="comment">     * @see core_user_external::create_users_parameters()</span>
<a name="l1446"><span class="linenum">1446</span></a>  <span class="comment">     */</span>
<a name="l1447"><span class="linenum">1447</span></a>      public static function <a class="function" onClick="logFunction('create_users_parameters')" href="../_functions/create_users_parameters.html" onMouseOver="funcPopup(event,'create_users_parameters')">create_users_parameters</a>() {
<a name="l1448"><span class="linenum">1448</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('create_users_parameters')" href="../_functions/create_users_parameters.html" onMouseOver="funcPopup(event,'create_users_parameters')">create_users_parameters</a>();
<a name="l1449"><span class="linenum">1449</span></a>      }
<a name="l1450"><span class="linenum">1450</span></a>  
<a name="l1451"><span class="linenum">1451</span></a>      <span class="comment">/**</span>
<a name="l1452"><span class="linenum">1452</span></a>  <span class="comment">     * Create one or more users</span>
<a name="l1453"><span class="linenum">1453</span></a>  <span class="comment">     *</span>
<a name="l1454"><span class="linenum">1454</span></a>  <span class="comment">     * @param array $users  An array of users to create.</span>
<a name="l1455"><span class="linenum">1455</span></a>  <span class="comment">     * @return array An array of arrays</span>
<a name="l1456"><span class="linenum">1456</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1457"><span class="linenum">1457</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1458"><span class="linenum">1458</span></a>  <span class="comment">     * @see core_user_external::create_users()</span>
<a name="l1459"><span class="linenum">1459</span></a>  <span class="comment">     */</span>
<a name="l1460"><span class="linenum">1460</span></a>      public static function <a class="function" onClick="logFunction('create_users')" href="../_functions/create_users.html" onMouseOver="funcPopup(event,'create_users')">create_users</a>(<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>) {
<a name="l1461"><span class="linenum">1461</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('create_users')" href="../_functions/create_users.html" onMouseOver="funcPopup(event,'create_users')">create_users</a>(<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>);
<a name="l1462"><span class="linenum">1462</span></a>      }
<a name="l1463"><span class="linenum">1463</span></a>  
<a name="l1464"><span class="linenum">1464</span></a>      <span class="comment">/**</span>
<a name="l1465"><span class="linenum">1465</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1466"><span class="linenum">1466</span></a>  <span class="comment">     *</span>
<a name="l1467"><span class="linenum">1467</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1468"><span class="linenum">1468</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1469"><span class="linenum">1469</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1470"><span class="linenum">1470</span></a>  <span class="comment">     * @see core_user_external::create_users_returns()</span>
<a name="l1471"><span class="linenum">1471</span></a>  <span class="comment">     */</span>
<a name="l1472"><span class="linenum">1472</span></a>      public static function <a class="function" onClick="logFunction('create_users_returns')" href="../_functions/create_users_returns.html" onMouseOver="funcPopup(event,'create_users_returns')">create_users_returns</a>() {
<a name="l1473"><span class="linenum">1473</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('create_users_returns')" href="../_functions/create_users_returns.html" onMouseOver="funcPopup(event,'create_users_returns')">create_users_returns</a>();
<a name="l1474"><span class="linenum">1474</span></a>      }
<a name="l1475"><span class="linenum">1475</span></a>  
<a name="l1476"><span class="linenum">1476</span></a>      <span class="comment">/**</span>
<a name="l1477"><span class="linenum">1477</span></a>  <span class="comment">     * Marking the method as deprecated.</span>
<a name="l1478"><span class="linenum">1478</span></a>  <span class="comment">     *</span>
<a name="l1479"><span class="linenum">1479</span></a>  <span class="comment">     * @return bool</span>
<a name="l1480"><span class="linenum">1480</span></a>  <span class="comment">     */</span>
<a name="l1481"><span class="linenum">1481</span></a>      public static function <a class="function" onClick="logFunction('create_users_is_deprecated')" href="../_functions/create_users_is_deprecated.html" onMouseOver="funcPopup(event,'create_users_is_deprecated')">create_users_is_deprecated</a>() {
<a name="l1482"><span class="linenum">1482</span></a>          return true;
<a name="l1483"><span class="linenum">1483</span></a>      }
<a name="l1484"><span class="linenum">1484</span></a>  
<a name="l1485"><span class="linenum">1485</span></a>      <span class="comment">/**</span>
<a name="l1486"><span class="linenum">1486</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1487"><span class="linenum">1487</span></a>  <span class="comment">     *</span>
<a name="l1488"><span class="linenum">1488</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1489"><span class="linenum">1489</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1490"><span class="linenum">1490</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1491"><span class="linenum">1491</span></a>  <span class="comment">     * @see core_user_external::delete_users_parameters()</span>
<a name="l1492"><span class="linenum">1492</span></a>  <span class="comment">     */</span>
<a name="l1493"><span class="linenum">1493</span></a>      public static function <a class="function" onClick="logFunction('delete_users_parameters')" href="../_functions/delete_users_parameters.html" onMouseOver="funcPopup(event,'delete_users_parameters')">delete_users_parameters</a>() {
<a name="l1494"><span class="linenum">1494</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('delete_users_parameters')" href="../_functions/delete_users_parameters.html" onMouseOver="funcPopup(event,'delete_users_parameters')">delete_users_parameters</a>();
<a name="l1495"><span class="linenum">1495</span></a>      }
<a name="l1496"><span class="linenum">1496</span></a>  
<a name="l1497"><span class="linenum">1497</span></a>      <span class="comment">/**</span>
<a name="l1498"><span class="linenum">1498</span></a>  <span class="comment">     * Delete users</span>
<a name="l1499"><span class="linenum">1499</span></a>  <span class="comment">     *</span>
<a name="l1500"><span class="linenum">1500</span></a>  <span class="comment">     * @param array $userids</span>
<a name="l1501"><span class="linenum">1501</span></a>  <span class="comment">     * @return null</span>
<a name="l1502"><span class="linenum">1502</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1503"><span class="linenum">1503</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1504"><span class="linenum">1504</span></a>  <span class="comment">     * @see core_user_external::delete_users()</span>
<a name="l1505"><span class="linenum">1505</span></a>  <span class="comment">     */</span>
<a name="l1506"><span class="linenum">1506</span></a>      public static function <a class="function" onClick="logFunction('delete_users')" href="../_functions/delete_users.html" onMouseOver="funcPopup(event,'delete_users')">delete_users</a>(<a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>) {
<a name="l1507"><span class="linenum">1507</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('delete_users')" href="../_functions/delete_users.html" onMouseOver="funcPopup(event,'delete_users')">delete_users</a>(<a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>);
<a name="l1508"><span class="linenum">1508</span></a>      }
<a name="l1509"><span class="linenum">1509</span></a>  
<a name="l1510"><span class="linenum">1510</span></a>      <span class="comment">/**</span>
<a name="l1511"><span class="linenum">1511</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1512"><span class="linenum">1512</span></a>  <span class="comment">     *</span>
<a name="l1513"><span class="linenum">1513</span></a>  <span class="comment">     * @return null</span>
<a name="l1514"><span class="linenum">1514</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1515"><span class="linenum">1515</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1516"><span class="linenum">1516</span></a>  <span class="comment">     * @see core_user_external::delete_users_returns()</span>
<a name="l1517"><span class="linenum">1517</span></a>  <span class="comment">     */</span>
<a name="l1518"><span class="linenum">1518</span></a>      public static function <a class="function" onClick="logFunction('delete_users_returns')" href="../_functions/delete_users_returns.html" onMouseOver="funcPopup(event,'delete_users_returns')">delete_users_returns</a>() {
<a name="l1519"><span class="linenum">1519</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('delete_users_returns')" href="../_functions/delete_users_returns.html" onMouseOver="funcPopup(event,'delete_users_returns')">delete_users_returns</a>();
<a name="l1520"><span class="linenum">1520</span></a>      }
<a name="l1521"><span class="linenum">1521</span></a>  
<a name="l1522"><span class="linenum">1522</span></a>      <span class="comment">/**</span>
<a name="l1523"><span class="linenum">1523</span></a>  <span class="comment">     * Marking the method as deprecated.</span>
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment">     *</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment">     * @return bool</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="comment">     */</span>
<a name="l1527"><span class="linenum">1527</span></a>      public static function <a class="function" onClick="logFunction('delete_users_is_deprecated')" href="../_functions/delete_users_is_deprecated.html" onMouseOver="funcPopup(event,'delete_users_is_deprecated')">delete_users_is_deprecated</a>() {
<a name="l1528"><span class="linenum">1528</span></a>          return true;
<a name="l1529"><span class="linenum">1529</span></a>      }
<a name="l1530"><span class="linenum">1530</span></a>  
<a name="l1531"><span class="linenum">1531</span></a>      <span class="comment">/**</span>
<a name="l1532"><span class="linenum">1532</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1533"><span class="linenum">1533</span></a>  <span class="comment">     *</span>
<a name="l1534"><span class="linenum">1534</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1535"><span class="linenum">1535</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1537"><span class="linenum">1537</span></a>  <span class="comment">     * @see core_user_external::update_users_parameters()</span>
<a name="l1538"><span class="linenum">1538</span></a>  <span class="comment">     */</span>
<a name="l1539"><span class="linenum">1539</span></a>      public static function <a class="function" onClick="logFunction('update_users_parameters')" href="../_functions/update_users_parameters.html" onMouseOver="funcPopup(event,'update_users_parameters')">update_users_parameters</a>() {
<a name="l1540"><span class="linenum">1540</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('update_users_parameters')" href="../_functions/update_users_parameters.html" onMouseOver="funcPopup(event,'update_users_parameters')">update_users_parameters</a>();
<a name="l1541"><span class="linenum">1541</span></a>      }
<a name="l1542"><span class="linenum">1542</span></a>  
<a name="l1543"><span class="linenum">1543</span></a>      <span class="comment">/**</span>
<a name="l1544"><span class="linenum">1544</span></a>  <span class="comment">     * Update users</span>
<a name="l1545"><span class="linenum">1545</span></a>  <span class="comment">     *</span>
<a name="l1546"><span class="linenum">1546</span></a>  <span class="comment">     * @param array $users</span>
<a name="l1547"><span class="linenum">1547</span></a>  <span class="comment">     * @return null</span>
<a name="l1548"><span class="linenum">1548</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1549"><span class="linenum">1549</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1550"><span class="linenum">1550</span></a>  <span class="comment">     * @see core_user_external::update_users()</span>
<a name="l1551"><span class="linenum">1551</span></a>  <span class="comment">     */</span>
<a name="l1552"><span class="linenum">1552</span></a>      public static function <a class="function" onClick="logFunction('update_users')" href="../_functions/update_users.html" onMouseOver="funcPopup(event,'update_users')">update_users</a>(<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>) {
<a name="l1553"><span class="linenum">1553</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('update_users')" href="../_functions/update_users.html" onMouseOver="funcPopup(event,'update_users')">update_users</a>(<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>);
<a name="l1554"><span class="linenum">1554</span></a>      }
<a name="l1555"><span class="linenum">1555</span></a>  
<a name="l1556"><span class="linenum">1556</span></a>      <span class="comment">/**</span>
<a name="l1557"><span class="linenum">1557</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1558"><span class="linenum">1558</span></a>  <span class="comment">     *</span>
<a name="l1559"><span class="linenum">1559</span></a>  <span class="comment">     * @return null</span>
<a name="l1560"><span class="linenum">1560</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1561"><span class="linenum">1561</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1562"><span class="linenum">1562</span></a>  <span class="comment">     * @see core_user_external::update_users_returns()</span>
<a name="l1563"><span class="linenum">1563</span></a>  <span class="comment">     */</span>
<a name="l1564"><span class="linenum">1564</span></a>      public static function <a class="function" onClick="logFunction('update_users_returns')" href="../_functions/update_users_returns.html" onMouseOver="funcPopup(event,'update_users_returns')">update_users_returns</a>() {
<a name="l1565"><span class="linenum">1565</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('update_users_returns')" href="../_functions/update_users_returns.html" onMouseOver="funcPopup(event,'update_users_returns')">update_users_returns</a>();
<a name="l1566"><span class="linenum">1566</span></a>      }
<a name="l1567"><span class="linenum">1567</span></a>  
<a name="l1568"><span class="linenum">1568</span></a>      <span class="comment">/**</span>
<a name="l1569"><span class="linenum">1569</span></a>  <span class="comment">     * Marking the method as deprecated.</span>
<a name="l1570"><span class="linenum">1570</span></a>  <span class="comment">     *</span>
<a name="l1571"><span class="linenum">1571</span></a>  <span class="comment">     * @return bool</span>
<a name="l1572"><span class="linenum">1572</span></a>  <span class="comment">     */</span>
<a name="l1573"><span class="linenum">1573</span></a>      public static function <a class="function" onClick="logFunction('update_users_is_deprecated')" href="../_functions/update_users_is_deprecated.html" onMouseOver="funcPopup(event,'update_users_is_deprecated')">update_users_is_deprecated</a>() {
<a name="l1574"><span class="linenum">1574</span></a>          return true;
<a name="l1575"><span class="linenum">1575</span></a>      }
<a name="l1576"><span class="linenum">1576</span></a>  
<a name="l1577"><span class="linenum">1577</span></a>      <span class="comment">/**</span>
<a name="l1578"><span class="linenum">1578</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1579"><span class="linenum">1579</span></a>  <span class="comment">     *</span>
<a name="l1580"><span class="linenum">1580</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1581"><span class="linenum">1581</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1582"><span class="linenum">1582</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1583"><span class="linenum">1583</span></a>  <span class="comment">     * @see core_user_external::get_users_by_id_parameters()</span>
<a name="l1584"><span class="linenum">1584</span></a>  <span class="comment">     */</span>
<a name="l1585"><span class="linenum">1585</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_id_parameters')" href="../_functions/get_users_by_id_parameters.html" onMouseOver="funcPopup(event,'get_users_by_id_parameters')">get_users_by_id_parameters</a>() {
<a name="l1586"><span class="linenum">1586</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('get_users_by_id_parameters')" href="../_functions/get_users_by_id_parameters.html" onMouseOver="funcPopup(event,'get_users_by_id_parameters')">get_users_by_id_parameters</a>();
<a name="l1587"><span class="linenum">1587</span></a>      }
<a name="l1588"><span class="linenum">1588</span></a>  
<a name="l1589"><span class="linenum">1589</span></a>      <span class="comment">/**</span>
<a name="l1590"><span class="linenum">1590</span></a>  <span class="comment">     * Get user information</span>
<a name="l1591"><span class="linenum">1591</span></a>  <span class="comment">     * - This function is matching the permissions of /user/profil.php</span>
<a name="l1592"><span class="linenum">1592</span></a>  <span class="comment">     * - It is also matching some permissions from /user/editadvanced.php for the following fields:</span>
<a name="l1593"><span class="linenum">1593</span></a>  <span class="comment">     *   auth, confirmed, idnumber, lang, theme, timezone, mailformat</span>
<a name="l1594"><span class="linenum">1594</span></a>  <span class="comment">     *</span>
<a name="l1595"><span class="linenum">1595</span></a>  <span class="comment">     * @param array $userids  array of user ids</span>
<a name="l1596"><span class="linenum">1596</span></a>  <span class="comment">     * @return array An array of arrays describing users</span>
<a name="l1597"><span class="linenum">1597</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1598"><span class="linenum">1598</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1599"><span class="linenum">1599</span></a>  <span class="comment">     * @see core_user_external::get_users_by_id()</span>
<a name="l1600"><span class="linenum">1600</span></a>  <span class="comment">     */</span>
<a name="l1601"><span class="linenum">1601</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_id')" href="../_functions/get_users_by_id.html" onMouseOver="funcPopup(event,'get_users_by_id')">get_users_by_id</a>(<a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>) {
<a name="l1602"><span class="linenum">1602</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('get_users_by_id')" href="../_functions/get_users_by_id.html" onMouseOver="funcPopup(event,'get_users_by_id')">get_users_by_id</a>(<a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../_variables/userids.html">$userids</a>);
<a name="l1603"><span class="linenum">1603</span></a>      }
<a name="l1604"><span class="linenum">1604</span></a>  
<a name="l1605"><span class="linenum">1605</span></a>      <span class="comment">/**</span>
<a name="l1606"><span class="linenum">1606</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1607"><span class="linenum">1607</span></a>  <span class="comment">     *</span>
<a name="l1608"><span class="linenum">1608</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1609"><span class="linenum">1609</span></a>  <span class="comment">     * @since Moodle 2.0</span>
<a name="l1610"><span class="linenum">1610</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1611"><span class="linenum">1611</span></a>  <span class="comment">     * @see core_user_external::get_users_by_id_returns()</span>
<a name="l1612"><span class="linenum">1612</span></a>  <span class="comment">     */</span>
<a name="l1613"><span class="linenum">1613</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_id_returns')" href="../_functions/get_users_by_id_returns.html" onMouseOver="funcPopup(event,'get_users_by_id_returns')">get_users_by_id_returns</a>() {
<a name="l1614"><span class="linenum">1614</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('get_users_by_id_returns')" href="../_functions/get_users_by_id_returns.html" onMouseOver="funcPopup(event,'get_users_by_id_returns')">get_users_by_id_returns</a>();
<a name="l1615"><span class="linenum">1615</span></a>      }
<a name="l1616"><span class="linenum">1616</span></a>  
<a name="l1617"><span class="linenum">1617</span></a>      <span class="comment">/**</span>
<a name="l1618"><span class="linenum">1618</span></a>  <span class="comment">     * Marking the method as deprecated.</span>
<a name="l1619"><span class="linenum">1619</span></a>  <span class="comment">     *</span>
<a name="l1620"><span class="linenum">1620</span></a>  <span class="comment">     * @return bool</span>
<a name="l1621"><span class="linenum">1621</span></a>  <span class="comment">     */</span>
<a name="l1622"><span class="linenum">1622</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_id_is_deprecated')" href="../_functions/get_users_by_id_is_deprecated.html" onMouseOver="funcPopup(event,'get_users_by_id_is_deprecated')">get_users_by_id_is_deprecated</a>() {
<a name="l1623"><span class="linenum">1623</span></a>          return true;
<a name="l1624"><span class="linenum">1624</span></a>      }
<a name="l1625"><span class="linenum">1625</span></a>  
<a name="l1626"><span class="linenum">1626</span></a>      <span class="comment">/**</span>
<a name="l1627"><span class="linenum">1627</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1628"><span class="linenum">1628</span></a>  <span class="comment">     *</span>
<a name="l1629"><span class="linenum">1629</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1630"><span class="linenum">1630</span></a>  <span class="comment">     * @since Moodle 2.1</span>
<a name="l1631"><span class="linenum">1631</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment">     * @see core_user_external::get_course_user_profiles_parameters()</span>
<a name="l1633"><span class="linenum">1633</span></a>  <span class="comment">     */</span>
<a name="l1634"><span class="linenum">1634</span></a>      public static function <a class="function" onClick="logFunction('get_course_participants_by_id_parameters')" href="../_functions/get_course_participants_by_id_parameters.html" onMouseOver="funcPopup(event,'get_course_participants_by_id_parameters')">get_course_participants_by_id_parameters</a>() {
<a name="l1635"><span class="linenum">1635</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('get_course_user_profiles_parameters')" href="../_functions/get_course_user_profiles_parameters.html" onMouseOver="funcPopup(event,'get_course_user_profiles_parameters')">get_course_user_profiles_parameters</a>();
<a name="l1636"><span class="linenum">1636</span></a>      }
<a name="l1637"><span class="linenum">1637</span></a>  
<a name="l1638"><span class="linenum">1638</span></a>      <span class="comment">/**</span>
<a name="l1639"><span class="linenum">1639</span></a>  <span class="comment">     * Get course participant's details</span>
<a name="l1640"><span class="linenum">1640</span></a>  <span class="comment">     *</span>
<a name="l1641"><span class="linenum">1641</span></a>  <span class="comment">     * @param array $userlist  array of user ids and according course ids</span>
<a name="l1642"><span class="linenum">1642</span></a>  <span class="comment">     * @return array An array of arrays describing course participants</span>
<a name="l1643"><span class="linenum">1643</span></a>  <span class="comment">     * @since Moodle 2.1</span>
<a name="l1644"><span class="linenum">1644</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1645"><span class="linenum">1645</span></a>  <span class="comment">     * @see core_user_external::get_course_user_profiles()</span>
<a name="l1646"><span class="linenum">1646</span></a>  <span class="comment">     */</span>
<a name="l1647"><span class="linenum">1647</span></a>      public static function <a class="function" onClick="logFunction('get_course_participants_by_id')" href="../_functions/get_course_participants_by_id.html" onMouseOver="funcPopup(event,'get_course_participants_by_id')">get_course_participants_by_id</a>(<a class="var it1753" onMouseOver="hilite(1753)" onMouseOut="lolite()" onClick="logVariable('userlist')" href="../_variables/userlist.html">$userlist</a>) {
<a name="l1648"><span class="linenum">1648</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('get_course_user_profiles')" href="../_functions/get_course_user_profiles.html" onMouseOver="funcPopup(event,'get_course_user_profiles')">get_course_user_profiles</a>(<a class="var it1753" onMouseOver="hilite(1753)" onMouseOut="lolite()" onClick="logVariable('userlist')" href="../_variables/userlist.html">$userlist</a>);
<a name="l1649"><span class="linenum">1649</span></a>      }
<a name="l1650"><span class="linenum">1650</span></a>  
<a name="l1651"><span class="linenum">1651</span></a>      <span class="comment">/**</span>
<a name="l1652"><span class="linenum">1652</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1653"><span class="linenum">1653</span></a>  <span class="comment">     *</span>
<a name="l1654"><span class="linenum">1654</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1655"><span class="linenum">1655</span></a>  <span class="comment">     * @since Moodle 2.1</span>
<a name="l1656"><span class="linenum">1656</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1657"><span class="linenum">1657</span></a>  <span class="comment">     * @see core_user_external::get_course_user_profiles_returns()</span>
<a name="l1658"><span class="linenum">1658</span></a>  <span class="comment">     */</span>
<a name="l1659"><span class="linenum">1659</span></a>      public static function <a class="function" onClick="logFunction('get_course_participants_by_id_returns')" href="../_functions/get_course_participants_by_id_returns.html" onMouseOver="funcPopup(event,'get_course_participants_by_id_returns')">get_course_participants_by_id_returns</a>() {
<a name="l1660"><span class="linenum">1660</span></a>          return <a class="class" onClick="logClass('core_user_external')" href="../_classes/core_user_external.html" onMouseOver="classPopup(event,'core_user_external')">core_user_external</a>::<a class="function" onClick="logFunction('get_course_user_profiles_returns')" href="../_functions/get_course_user_profiles_returns.html" onMouseOver="funcPopup(event,'get_course_user_profiles_returns')">get_course_user_profiles_returns</a>();
<a name="l1661"><span class="linenum">1661</span></a>      }
<a name="l1662"><span class="linenum">1662</span></a>  
<a name="l1663"><span class="linenum">1663</span></a>      <span class="comment">/**</span>
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment">     * Marking the method as deprecated.</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment">     *</span>
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment">     * @return bool</span>
<a name="l1667"><span class="linenum">1667</span></a>  <span class="comment">     */</span>
<a name="l1668"><span class="linenum">1668</span></a>      public static function <a class="function" onClick="logFunction('get_course_participants_by_id_is_deprecated')" href="../_functions/get_course_participants_by_id_is_deprecated.html" onMouseOver="funcPopup(event,'get_course_participants_by_id_is_deprecated')">get_course_participants_by_id_is_deprecated</a>() {
<a name="l1669"><span class="linenum">1669</span></a>          return true;
<a name="l1670"><span class="linenum">1670</span></a>      }
<a name="l1671"><span class="linenum">1671</span></a>  
<a name="l1672"><span class="linenum">1672</span></a>      <span class="comment">/**</span>
<a name="l1673"><span class="linenum">1673</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l1674"><span class="linenum">1674</span></a>  <span class="comment">     *</span>
<a name="l1675"><span class="linenum">1675</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1676"><span class="linenum">1676</span></a>  <span class="comment">     * @since Moodle 2.1</span>
<a name="l1677"><span class="linenum">1677</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1678"><span class="linenum">1678</span></a>  <span class="comment">     * @see core_enrol_external::get_enrolled_users_parameters()</span>
<a name="l1679"><span class="linenum">1679</span></a>  <span class="comment">     */</span>
<a name="l1680"><span class="linenum">1680</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_courseid_parameters')" href="../_functions/get_users_by_courseid_parameters.html" onMouseOver="funcPopup(event,'get_users_by_courseid_parameters')">get_users_by_courseid_parameters</a>() {
<a name="l1681"><span class="linenum">1681</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1682"><span class="linenum">1682</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../enrol/externallib.php.html">/enrol/externallib.php</a>');
<a name="l1683"><span class="linenum">1683</span></a>          return <a class="class" onClick="logClass('core_enrol_external')" href="../_classes/core_enrol_external.html" onMouseOver="classPopup(event,'core_enrol_external')">core_enrol_external</a>::<a class="function" onClick="logFunction('get_enrolled_users_parameters')" href="../_functions/get_enrolled_users_parameters.html" onMouseOver="funcPopup(event,'get_enrolled_users_parameters')">get_enrolled_users_parameters</a>();
<a name="l1684"><span class="linenum">1684</span></a>      }
<a name="l1685"><span class="linenum">1685</span></a>  
<a name="l1686"><span class="linenum">1686</span></a>      <span class="comment">/**</span>
<a name="l1687"><span class="linenum">1687</span></a>  <span class="comment">     * Get course participants details</span>
<a name="l1688"><span class="linenum">1688</span></a>  <span class="comment">     *</span>
<a name="l1689"><span class="linenum">1689</span></a>  <span class="comment">     * @param int $courseid  course id</span>
<a name="l1690"><span class="linenum">1690</span></a>  <span class="comment">     * @param array $options options {</span>
<a name="l1691"><span class="linenum">1691</span></a>  <span class="comment">     *                                'name' =&gt; option name</span>
<a name="l1692"><span class="linenum">1692</span></a>  <span class="comment">     *                                'value' =&gt; option value</span>
<a name="l1693"><span class="linenum">1693</span></a>  <span class="comment">     *                               }</span>
<a name="l1694"><span class="linenum">1694</span></a>  <span class="comment">     * @return array An array of users</span>
<a name="l1695"><span class="linenum">1695</span></a>  <span class="comment">     * @since Moodle 2.1</span>
<a name="l1696"><span class="linenum">1696</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1697"><span class="linenum">1697</span></a>  <span class="comment">     * @see core_enrol_external::get_enrolled_users()</span>
<a name="l1698"><span class="linenum">1698</span></a>  <span class="comment">     */</span>
<a name="l1699"><span class="linenum">1699</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_courseid')" href="../_functions/get_users_by_courseid.html" onMouseOver="funcPopup(event,'get_users_by_courseid')">get_users_by_courseid</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array()) {
<a name="l1700"><span class="linenum">1700</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1701"><span class="linenum">1701</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../enrol/externallib.php.html">/enrol/externallib.php</a>');
<a name="l1702"><span class="linenum">1702</span></a>          return <a class="class" onClick="logClass('core_enrol_external')" href="../_classes/core_enrol_external.html" onMouseOver="classPopup(event,'core_enrol_external')">core_enrol_external</a>::<a class="function" onClick="logFunction('get_enrolled_users')" href="../_functions/get_enrolled_users.html" onMouseOver="funcPopup(event,'get_enrolled_users')">get_enrolled_users</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l1703"><span class="linenum">1703</span></a>      }
<a name="l1704"><span class="linenum">1704</span></a>      <span class="comment">/**</span>
<a name="l1705"><span class="linenum">1705</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l1706"><span class="linenum">1706</span></a>  <span class="comment">     *</span>
<a name="l1707"><span class="linenum">1707</span></a>  <span class="comment">     * @return external_description</span>
<a name="l1708"><span class="linenum">1708</span></a>  <span class="comment">     * @since Moodle 2.1</span>
<a name="l1709"><span class="linenum">1709</span></a>  <span class="comment">     * @deprecated Moodle 2.2 MDL-29106 - Please do not call this function any more.</span>
<a name="l1710"><span class="linenum">1710</span></a>  <span class="comment">     * @see core_enrol_external::get_enrolled_users_returns()</span>
<a name="l1711"><span class="linenum">1711</span></a>  <span class="comment">     */</span>
<a name="l1712"><span class="linenum">1712</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_courseid_returns')" href="../_functions/get_users_by_courseid_returns.html" onMouseOver="funcPopup(event,'get_users_by_courseid_returns')">get_users_by_courseid_returns</a>() {
<a name="l1713"><span class="linenum">1713</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1714"><span class="linenum">1714</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../enrol/externallib.php.html">/enrol/externallib.php</a>');
<a name="l1715"><span class="linenum">1715</span></a>          return <a class="class" onClick="logClass('core_enrol_external')" href="../_classes/core_enrol_external.html" onMouseOver="classPopup(event,'core_enrol_external')">core_enrol_external</a>::<a class="function" onClick="logFunction('get_enrolled_users_returns')" href="../_functions/get_enrolled_users_returns.html" onMouseOver="funcPopup(event,'get_enrolled_users_returns')">get_enrolled_users_returns</a>();
<a name="l1716"><span class="linenum">1716</span></a>      }
<a name="l1717"><span class="linenum">1717</span></a>  
<a name="l1718"><span class="linenum">1718</span></a>      <span class="comment">/**</span>
<a name="l1719"><span class="linenum">1719</span></a>  <span class="comment">     * Marking the method as deprecated.</span>
<a name="l1720"><span class="linenum">1720</span></a>  <span class="comment">     *</span>
<a name="l1721"><span class="linenum">1721</span></a>  <span class="comment">     * @return bool</span>
<a name="l1722"><span class="linenum">1722</span></a>  <span class="comment">     */</span>
<a name="l1723"><span class="linenum">1723</span></a>      public static function <a class="function" onClick="logFunction('get_users_by_courseid_is_deprecated')" href="../_functions/get_users_by_courseid_is_deprecated.html" onMouseOver="funcPopup(event,'get_users_by_courseid_is_deprecated')">get_users_by_courseid_is_deprecated</a>() {
<a name="l1724"><span class="linenum">1724</span></a>          return true;
<a name="l1725"><span class="linenum">1725</span></a>      }
<a name="l1726"><span class="linenum">1726</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'user_create_user': ['user_create_user', 'Creates a user ', [['user','lib.php',26]], 10],
'get_users_by_field_returns': ['get_users_by_field_returns', 'Returns description of method result value ', [['user','externallib.php',528]], 3],
'get_users_by_courseid_parameters': ['get_users_by_courseid_parameters', 'Returns description of method parameters ', [['user','externallib.php',1672]], 0],
'get_course_user_profiles': ['get_course_user_profiles', 'Get course participant\'s details ', [['user','externallib.php',840]], 3],
'user_get_user_details': ['user_get_user_details', 'Give user record from mdl_user, build an array contains all user details. ', [['user','lib.php',230]], 6],
'view_user_list_returns': ['view_user_list_returns', 'Returns description of method result value ', [['user','externallib.php',1306]], 0],
'add_user_device_parameters': ['add_user_device_parameters', 'Returns description of method parameters. ', [['user','externallib.php',1071]], 1],
'trigger': ['trigger', '', [['lib/evalmath','evalmath.class.php',438],['lib/classes/event','base.php',682]], 778],
'on': ['on', '', [['lib/requirejs','require.js',506]], 3494],
'add_user_device_returns': ['add_user_device_returns', 'Returns description of method result value. ', [['user','externallib.php',1164]], 3],
'update_users': ['update_users', 'Update users ', [['user','externallib.php',384],['user','externallib.php',1543]], 5],
'create_from_userid': ['create_from_userid', 'Create instance of event. ', [['lib/classes/event','user_created.php',117],['lib/classes/event','user_updated.php',117]], 17],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',343]], 104],
'get_user': ['get_user', 'Return user object from db or create noreply or support user, if userid matches corse_user::NOREPLY_USER or corse_user::SUPPORT_USER respectively. If userid is not found, then return false. ', [['lib/classes','user.php',52]], 27],
'get_users_by_courseid_is_deprecated': ['get_users_by_courseid_is_deprecated', 'Marking the method as deprecated. ', [['user','externallib.php',1718]], 0],
'get_course_participants_by_id_parameters': ['get_course_participants_by_id_parameters', 'Returns description of method parameters ', [['user','externallib.php',1626]], 0],
'get_enrolled_users_returns': ['get_enrolled_users_returns', 'Returns description of method result value ', [['enrol','externallib.php',498],['enrol','externallib.php',915]], 3],
'user_list_view': ['user_list_view', 'Trigger user_list_viewed event. ', [['user','lib.php',1011]], 3],
'update_users_parameters': ['update_users_parameters', 'Returns description of method parameters ', [['user','externallib.php',300],['user','externallib.php',1531]], 2],
'get_preload_record_columns_sql': ['get_preload_record_columns_sql', 'Returns all fields necessary for context preloading from user $rec. ', [['lib','accesslib.php',6015]], 54],
'remove_user_device_returns': ['remove_user_device_returns', 'Returns description of method result value. ', [['user','externallib.php',1231]], 4],
'update_users_returns': ['update_users_returns', 'Returns description of method result value ', [['user','externallib.php',434],['user','externallib.php',1556]], 1],
'start_delegated_transaction': ['start_delegated_transaction', 'On DBs that support it, switch to transaction mode and begin a transaction you\'ll need to ensure you call allow_commit() on the returned object or your changes *will* be lost. ', [['lib/dml','moodle_database.php',2344]], 137],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required. ', [['lib/dml','pgsql_native_moodle_database.php',883],['lib/dml','oci_native_moodle_database.php',1249],['lib/dml','sqlsrv_native_moodle_database.php',978],['lib/dml','mssql_native_moodle_database.php',898],['lib/dml','mysqli_native_moodle_database.php',1177],['lib/dml/tests','dml_test.php',5427],['lib/dml','pdo_moodle_database.php',386],['question/engine/upgrade','upgradelib.php',121]], 1512],
'allow_commit': ['allow_commit', 'Commit delegated transaction. The real database commit SQL is executed only after committing all delegated transactions. ', [['lib/dml','moodle_transaction.php',78]], 127],
'sql_like': ['sql_like', 'Returns \'LIKE\' part of a query. ', [['lib/dml','pgsql_native_moodle_database.php',1273],['lib/dml','oci_native_moodle_database.php',1523],['lib/dml','sqlsrv_native_moodle_database.php',1224],['lib/dml','moodle_database.php',2004],['lib/dml','mssql_native_moodle_database.php',1160],['lib/dml','mysqli_native_moodle_database.php',1502]], 158],
'get_course_participants_by_id_returns': ['get_course_participants_by_id_returns', 'Returns description of method result value ', [['user','externallib.php',1651]], 0],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',884],['lib','accesslib.php',346]], 1929],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as a moodle_recordset using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','oci_native_moodle_database.php',1065],['lib/dml','sqlsrv_native_moodle_database.php',761],['lib/dml','mssql_native_moodle_database.php',687],['lib/dml','mysqli_native_moodle_database.php',985],['lib/dml/tests','dml_test.php',5423],['lib/dml','pdo_moodle_database.php',251]], 279],
'get_string_manager': ['get_string_manager', 'Returns current string_manager instance. ', [['lib','moodlelib.php',6481]], 147],
'file_save_draft_area_files': ['file_save_draft_area_files', 'Saves files from a draft file area to a real one (merging the list of files). Can rewrite URLs in some content at the same time if desired. ', [['lib','filelib.php',772]], 53],
'get_records_select': ['get_records_select', 'Get a number of records as an array of objects which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1283]], 163],
'get_users': ['get_users', 'Retrieve matching user. ', [['user','externallib.php',573],['lib','datalib.php',381],['enrol','locallib.php',213],['grade/report/history/classes','helper.php',82]], 13],
'get_records': ['get_records', 'Get a number of records as an array of objects where all the given conditions met. ', [['lib/dml','moodle_database.php',1236],['lib','coursecatlib.php',654],['question','category_class.php',63]], 860],
'get_records_list': ['get_records_list', 'Get a number of records as an array of objects where one field match one list of values. ', [['lib/dml','moodle_database.php',1261]], 32],
'remove_user_device_parameters': ['remove_user_device_parameters', 'Returns description of method parameters. ', [['user','externallib.php',1176]], 1],
'delete_users': ['delete_users', 'Delete users ', [['user','externallib.php',251],['user','externallib.php',1497]], 3],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'require_capability': ['require_capability', 'Adds a required capability which all results will be checked against ', [['backup/util/ui','restore_ui_components.php',157],['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',891],['lib','accesslib.php',764]], 628],
'get_users_by_id_returns': ['get_users_by_id_returns', 'Returns description of method result value ', [['user','externallib.php',789],['user','externallib.php',1605]], 3],
'record_exists': ['record_exists', 'Test whether a record exists in a table where all the given conditions met. ', [['lib/dml','moodle_database.php',1768]], 735],
'create_users_parameters': ['create_users_parameters', 'Returns description of method parameters ', [['user','externallib.php',39],['user','externallib.php',1439]], 2],
'validate_email': ['validate_email', 'Validates an email to make sure it makes sense. ', [['lib','weblib.php',1042]], 16],
'get_users_by_courseid': ['get_users_by_courseid', 'Get course participants details ', [['user','externallib.php',1686]], 0],
'get_course_user_profiles_parameters': ['get_course_user_profiles_parameters', 'Returns description of method parameters ', [['user','externallib.php',819]], 2],
'view_user_profile_parameters': ['view_user_profile_parameters', 'Returns description of method parameters ', [['user','externallib.php',1321]], 1],
'get_course_participants_by_id': ['get_course_participants_by_id', 'Get course participant\'s details ', [['user','externallib.php',1638]], 0],
'profile_save_data': ['profile_save_data', 'Saves profile data for a user. ', [['user/profile','lib.php',479]], 10],
'add_user_device': ['add_user_device', 'Add a user device in Moodle database (for PUSH notifications usually). ', [['user','externallib.php',1091]], 6],
'profile_view': ['profile_view', 'Trigger a user profile viewed event. ', [['user/profile','lib.php',624]], 6],
'get_users_by_id': ['get_users_by_id', 'Get user information - This function is matching the permissions of /user/profil.php - It is also matching some permissions from /user/editadvanced.php for the following fields: auth, confirmed, idnumber, lang, theme, timezone, mailformat ', [['user','externallib.php',731],['user','externallib.php',1589]], 3],
'get_course_participants_by_id_is_deprecated': ['get_course_participants_by_id_is_deprecated', 'Marking the method as deprecated. ', [['user','externallib.php',1663]], 0],
'create_users_returns': ['create_users_returns', 'Returns description of method result value ', [['user','externallib.php',219],['user','externallib.php',1464]], 2],
'user_remove_user_device': ['user_remove_user_device', 'Remove a user device from the Moodle database (for PUSH notifications usually). ', [['user','lib.php',986]], 1],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',174]], 128],
'get_course_user_profiles_returns': ['get_course_user_profiles_returns', 'Returns description of method result value ', [['user','externallib.php',904]], 3],
'add_user_private_files': ['add_user_private_files', 'Copy files from a draft area to users private files area. ', [['user','externallib.php',1022]], 1],
'view_user_profile_returns': ['view_user_profile_returns', 'Returns description of method result value ', [['user','externallib.php',1410]], 0],
'set_user_preference': ['set_user_preference', 'Sets a preference for the specified user. ', [['lib','moodlelib.php',1822]], 163],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'update_users_is_deprecated': ['update_users_is_deprecated', 'Marking the method as deprecated. ', [['user','externallib.php',1568]], 0],
'is_enrolled': ['is_enrolled', 'Returns true if user is enrolled (is participating) in course this is intended for students and teachers. ', [['lib','accesslib.php',2037]], 143],
'get_list_of_translations': ['get_list_of_translations', 'Returns localised list of installed translations ', [['lib/classes','string_manager_standard.php',504],['lib/classes','string_manager.php',102],['lib/classes','string_manager_install.php',209]], 21],
'user_update_user': ['user_update_user', 'Update a user with a user object (will compare against the ID) ', [['user','lib.php',117]], 27],
'get_enrolled_users_parameters': ['get_enrolled_users_parameters', 'Returns description of method parameters ', [['enrol','externallib.php',364],['enrol','externallib.php',802]], 3],
'delete_users_is_deprecated': ['delete_users_is_deprecated', 'Marking the method as deprecated. ', [['user','externallib.php',1522]], 0],
'get_users_by_field': ['get_users_by_field', 'Get user information for a unique field. ', [['user','externallib.php',461]], 3],
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1922]], 237],
'is_siteadmin': ['is_siteadmin', 'Check if the user is an admin at the site level. ', [['lib','accesslib.php',604]], 92],
'preload_from_record': ['preload_from_record', 'Preloads context information from db record and strips the cached info. ', [['lib','accesslib.php',5199],['lib','accesslib.php',6028]], 57],
'user_description': ['user_description', 'Create user return value description. ', [['user','externallib.php',943]], 4],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',768]], 607],
'get_users_by_id_is_deprecated': ['get_users_by_id_is_deprecated', 'Marking the method as deprecated. ', [['user','externallib.php',810],['user','externallib.php',1617]], 0],
'add_user_private_files_parameters': ['add_user_private_files_parameters', 'Returns description of method parameters ', [['user','externallib.php',1008]], 1],
'get_users_by_id_parameters': ['get_users_by_id_parameters', 'Returns description of method parameters ', [['user','externallib.php',715],['user','externallib.php',1577]], 2],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'user_delete_user': ['user_delete_user', 'Marks user deleted in internal user database and notifies the auth plugin. Also unenrols user from all roles and does other cleanup. ', [['user','lib.php',190]], 1],
'get_users_by_courseid_returns': ['get_users_by_courseid_returns', 'Returns description of method result value ', [['user','externallib.php',1704]], 0],
'remove_user_device': ['remove_user_device', 'Remove a user device from the Moodle database (for PUSH notifications usually). ', [['user','externallib.php',1193]], 4],
'delete_users_parameters': ['delete_users_parameters', 'Returns description of method parameters ', [['user','externallib.php',237],['user','externallib.php',1485]], 2],
'fields': ['fields', 'Get the value of a field in the current row by column name. Will not work if ADODB_FETCH_MODE is set to ADODB_FETCH_NUM. ', [['lib/adodb','adodb.inc.php',3469],['lib/adodb','adodb.inc.php',4073],['lib/adodb/drivers','adodb-odbtp.inc.php',718],['lib/adodb/drivers','adodb-sqlite.inc.php',369],['lib/adodb/drivers','adodb-pdo.inc.php',611],['lib/adodb/drivers','adodb-mysqli.inc.php',963],['lib/adodb/drivers','adodb-mssql.inc.php',904],['mod/quiz/classes','admin_review_setting.php',65],['lib/adodb/drivers','adodb-postgres64.inc.php',951],['lib/adodb/drivers','adodb-oracle.inc.php',265],['lib/adodb/drivers','adodb-ado.inc.php',373],['lib','outputcomponents.php',235],['lib/adodb/drivers','adodb-ado5.inc.php',410],['lib/adodb/drivers','adodb-db2.inc.php',754],['lib/adodb/drivers','adodb-sqlite3.inc.php',399],['lib/adodb/drivers','adodb-mssqlnative.inc.php',888],['lib/adodb/drivers','adodb-ibase.inc.php',833],['lib/adodb/drivers','adodb-oci8po.inc.php',91],['lib/adodb/drivers','adodb-ads.inc.php',690],['lib/adodb/drivers','adodb-odbc.inc.php',642],['lib/adodb/drivers','adodb-mysql.inc.php',764],['lib/adodb/drivers','adodb-oci8.inc.php',1549]], 145],
'view_user_list_parameters': ['view_user_list_parameters', 'Returns description of method parameters ', [['user','externallib.php',1246]], 1],
'view_user_profile': ['view_user_profile', 'Simulate the /user/index.php and /user/profile.php web interface page triggering events ', [['user','externallib.php',1336]], 0],
'get_users_returns': ['get_users_returns', 'Returns description of get_users result value. ', [['user','externallib.php',699]], 1],
'delete_users_returns': ['delete_users_returns', 'Returns description of method result value ', [['user','externallib.php',289],['user','externallib.php',1510]], 1],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pgsql_native_moodle_database.php',1137],['lib/dml','oci_native_moodle_database.php',1355],['lib/dml','sqlsrv_native_moodle_database.php',1081],['lib/dml','mssql_native_moodle_database.php',1003],['lib/dml','mysqli_native_moodle_database.php',1397],['lib/dml/tests','dml_test.php',5430],['lib/dml','pdo_moodle_database.php',460]], 565],
'get_plugin_list': ['get_plugin_list', 'Get list of plugins of given type. ', [['lib/classes','component.php',781],['lib','deprecatedlib.php',467],['admin/tool/monitor/classes','eventlist.php',176]], 184],
'close': ['close', 'Close the connection to the server ', [['lib/zend/Zend/Http/Client/Adapter','Socket.php',486],['lib/tests','completionlib_test.php',888],['lib/adodb','adodb.inc.php',2164],['lib/adodb','adodb.inc.php',2844],['lib/adodb','adodb.inc.php',3536],['lib','webdavlib.php',176],['admin/tool/uploaduser','locallib.php',149],['lib/dml','oci_native_moodle_recordset.php',80],['lib/tcpdf','tcpdf.php',2943],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['lib','excellib.class.php',93],['lib/zend/Zend/Http/Client/Adapter','Test.php',187],['lib/classes/dml','recordset_walk.php',153],['mod/assign/feedback/offline','importgradeslib.php',178],['lib/pear/Net','GeoIP.php',556],['backup/util/helper','backup_array_iterator.class.php',63],['lib/zend/Zend/Gdata/App','LoggingHttpClientAdapterSocket.php',109],['lib/zend/Zend/Http/Client/Adapter','Proxy.php',266],['lib/dml','mssql_native_moodle_recordset.php',87],['lib/pear/Auth','RADIUS.php',542],['lib/pear/Auth','RADIUS.php',703],['lib/pear/Auth','RADIUS.php',824],['lib/phpmailer','class.smtp.php',507],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',80],['lib/phpunit/classes','event_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Interface.php',73],['lib/dml','pgsql_native_moodle_recordset.php',104],['auth/fc','fcFPP.php',72],['lib/filestorage','zip_archive.php',183],['lib','odslib.class.php',71],['lib/horde/framework/Horde/Socket','Client.php',135],['question/engine/tests','helpers.php',1225],['grade','lib.php',323],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib','csvlib.class.php',256],['lib/google/src/Google/Logger','File.php',130],['lib/horde/framework/Horde','Stream.php',585],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpunit/classes','message_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Curl.php',460],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',109],['backup/util/helper','backup_null_iterator.class.php',53],['grade/export','lib.php',662],['lib/dml','pdo_moodle_recordset.php',79]], 1036],
'get_users_by_field_parameters': ['get_users_by_field_parameters', 'Returns description of method parameters ', [['user','externallib.php',444]], 1],
'create_users': ['create_users', 'Create one or more users. ', [['user','externallib.php',119],['user','externallib.php',1451],['admin/tool/generator/classes','course_backend.php',266]], 4],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1583],['lib/dml','moodle_database.php',678]], 375],
'get_course': ['get_course', 'Gets a course object from database. If the course id corresponds to an already-loaded $COURSE or $SITE object, then the loaded object will be used, saving a database query. ', [['lib','datalib.php',568],['lib','modinfolib.php',180],['lib','modinfolib.php',1439],['lib','modinfolib.php',2730],['availability/classes','info.php',70],['mod/assign','locallib.php',1256],['enrol','locallib.php',897],['course/format','lib.php',231],['mod/quiz','attemptlib.php',180],['mod/quiz','attemptlib.php',681],['admin/tool/uploadcourse/classes','processor.php',232]], 268],
'add_user_private_files_returns': ['add_user_private_files_returns', 'Returns description of method result value ', [['user','externallib.php',1061]], 0],
'user_get_user_details_courses': ['user_get_user_details_courses', 'Tries to obtain user details, either recurring directly to the user\'s system profile or through one of the user\'s course enrollments (course profile). ', [['user','lib.php',528]], 2],
'get_users_parameters': ['get_users_parameters', 'Returns description of get_users() parameters. ', [['user','externallib.php',539]], 1],
'create_users_is_deprecated': ['create_users_is_deprecated', 'Marking the method as deprecated. ', [['user','externallib.php',1476]], 0],
'get_enrolled_users': ['get_enrolled_users', 'Returns list of users enrolled into course. ', [['lib','accesslib.php',2438],['enrol','externallib.php',390],['enrol','externallib.php',821]], 51],
'view_user_list': ['view_user_list', 'Simulate the /user/index.php web interface page triggering events ', [['user','externallib.php',1260]], 0],
'array_key_exists': ['array_key_exists', '', [], 1539],
'array_merge': ['array_merge', '', [], 2320],
'name': ['name', '', [], 100],
'time': ['time', '', [], 1768],
'array_unique': ['array_unique', '', [], 173]};
CLASS_DATA={
'core_enrol_external': ['core_enrol_external', 'Enrol external functions ', [['enrol','externallib.php',34]], 22],
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',475]], 238],
'core_user': ['core_user', 'User class to access user details. ', [['lib/classes','user.php',27]], 143],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',441]], 1255],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6106]], 929],
'user_updated': ['user_updated', 'Event when user profile is updated. ', [['lib/classes/event','user_updated.php',29]], 9],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',214]], 867],
'external_format_value': ['external_format_value', 'A pre-filled external_value class for text format. ', [['lib','externallib.php',670]], 52],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',139]], 302],
'core_user_external': ['core_user_external', 'User external functions ', [['user','externallib.php',28]], 57],
'invalid_parameter_exception': ['invalid_parameter_exception', 'Exception indicating malformed parameter problem. This exception is not supposed to be thrown when processing user submitted data in forms. It is more suitable for WS and other low level stuff. ', [['lib','setuplib.php',234]], 58],
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',504]], 212],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6766]], 1197],
'moodle_user_external': ['moodle_user_external', 'Deprecated user external functions ', [['user','externallib.php',1427]], 0],
'external_warnings': ['external_warnings', 'Standard Moodle web service warnings ', [['lib','externallib.php',639]], 50],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6347]], 288],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',68]], 478],
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 485],
'user_created': ['user_created', 'Event when new user profile is created. ', [['lib/classes/event','user_created.php',29]], 8],
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',533]], 126],
'context_helper': ['context_helper', 'Context maintenance and helper methods. ', [['lib','accesslib.php',5824]], 210]};
CONST_DATA={
'PARAM_PLUGIN': ['PARAM_PLUGIN', '', [['lib','moodlelib.php',324]], 118],
'PARAM_URL': ['PARAM_URL', '', [['lib','moodlelib.php',239]], 121],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 2948],
'PARAM_ALPHA': ['PARAM_ALPHA', '', [['lib','moodlelib.php',77]], 377],
'CONTEXT_COURSE': ['CONTEXT_COURSE', '', [['lib','accesslib.php',148]], 422],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 476],
'PARAM_AUTH': ['PARAM_AUTH', '', [['lib','moodlelib.php',98]], 3],
'SITEID': ['SITEID', '', [['admin/cli','install.php',217],['','install.php',244],['lib/db','install.php',87],['lib','setup.php',748]], 612],
'PARAM_EMAIL': ['PARAM_EMAIL', '', [['lib','moodlelib.php',128]], 14],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 692],
'PARAM_USERNAME': ['PARAM_USERNAME', '', [['lib','moodlelib.php',245]], 55],
'PARAM_TIMEZONE': ['PARAM_TIMEZONE', '', [['lib','moodlelib.php',297]], 7],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1252],
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 409],
'PARAM_ALPHANUMEXT': ['PARAM_ALPHANUMEXT', '', [['lib','moodlelib.php',93]], 165],
'USER_CAN_IGNORE_FILE_SIZE_LIMITS': ['USER_CAN_IGNORE_FILE_SIZE_LIMITS', '', [['lib','moodlelib.php',503]], 10],
'VALUE_REQUIRED': ['VALUE_REQUIRED', '', [['lib','moodlelib.php',332]], 32],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 502],
'IGNORE_MISSING': ['IGNORE_MISSING', '', [['lib','dmllib.php',48]], 204],
'SQL_PARAMS_NAMED': ['SQL_PARAMS_NAMED', '', [['lib/dml','moodle_database.php',32]], 271],
'NULL_NOT_ALLOWED': ['NULL_NOT_ALLOWED', '', [['lib','moodlelib.php',347]], 27],
'PARAM_SAFEDIR': ['PARAM_SAFEDIR', '', [['lib','moodlelib.php',203]], 49],
'FILE_AREA_MAX_BYTES_UNLIMITED': ['FILE_AREA_MAX_BYTES_UNLIMITED', '', [['lib','filelib.php',35]], 18],
'CONTEXT_USER': ['CONTEXT_USER', '', [['lib','accesslib.php',144]], 95],
'PARAM_NOTAGS': ['PARAM_NOTAGS', '', [['lib','moodlelib.php',172]], 176],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 129]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
