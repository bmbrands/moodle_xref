<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /question/behaviour/rendererbase.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='question/behaviour';
filename='rendererbase.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/question/behaviour/</a> -> <a href="rendererbase.php.html">rendererbase.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="rendererbase.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="rendererbase.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Defines the renderer base class for question behaviours.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    moodlecore</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @subpackage questionbehaviours</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * Renderer base class for question behaviours.</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> *</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * The methods in this class are mostly called from {@link core_question_renderer}</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * which coordinates the overall output of questions.</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> *</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> */</span>
<a name="l39"><span class="linenum">  39</span></a>  abstract class qbehaviour_renderer <span class="keyword">extends</span> <a class="class" onClick="logClass('plugin_renderer_base')" href="../../_classes/plugin_renderer_base.html" onMouseOver="classPopup(event,'plugin_renderer_base')">plugin_renderer_base</a> {
<a name="l40"><span class="linenum">  40</span></a>      <span class="comment">/**</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     * Generate some HTML (which may be blank) that appears in the question</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * formulation area, afer the question type generated output.</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     *</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     * For example.</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * immediatefeedback and interactive mode use this to show the Submit button,</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * and CBM use this to display the certainty choices.</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     *</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * @param question_attempt $qa a question attempt.</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">     */</span>
<a name="l52"><span class="linenum">  52</span></a>      public function <a class="function" onClick="logFunction('controls')" href="../../_functions/controls.html" onMouseOver="funcPopup(event,'controls')">controls</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l53"><span class="linenum">  53</span></a>          return '';
<a name="l54"><span class="linenum">  54</span></a>      }
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>      <span class="comment">/**</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     * Generate some HTML (which may be blank) that appears in the outcome area,</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * after the question-type generated output.</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     *</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     * For example, the CBM models use this to display an explanation of the score</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     * adjustment that was made based on the certainty selected.</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">     *</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * @param question_attempt $qa a question attempt.</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     */</span>
<a name="l67"><span class="linenum">  67</span></a>      public function <a class="function" onClick="logFunction('feedback')" href="../../_functions/feedback.html" onMouseOver="funcPopup(event,'feedback')">feedback</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l68"><span class="linenum">  68</span></a>          return '';
<a name="l69"><span class="linenum">  69</span></a>      }
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>      public function <a class="function" onClick="logFunction('manual_comment_fields')" href="../../_functions/manual_comment_fields.html" onMouseOver="funcPopup(event,'manual_comment_fields')">manual_comment_fields</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('inputname')" href="../../_variables/inputname.html">$inputname</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('comment');
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('inputname')" href="../../_variables/inputname.html">$inputname</a> . '_id';
<a name="l74"><span class="linenum">  74</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it16907" onMouseOver="hilite(16907)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../_variables/commenttext.html">$commenttext</a>, <a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a>) = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_current_manual_comment')" href="../../_functions/get_current_manual_comment.html" onMouseOver="funcPopup(event,'get_current_manual_comment')">get_current_manual_comment</a>();
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>          <a class="var it10214" onMouseOver="hilite(10214)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../../_variables/editor.html">$editor</a> = <a class="function" onClick="logFunction('editors_get_preferred_editor')" href="../../_functions/editors_get_preferred_editor.html" onMouseOver="funcPopup(event,'editors_get_preferred_editor')">editors_get_preferred_editor</a>(<a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a>);
<a name="l77"><span class="linenum">  77</span></a>          <a class="var it10215" onMouseOver="hilite(10215)" onMouseOut="lolite()" onClick="logVariable('strformats')" href="../../_variables/strformats.html">$strformats</a> = <a class="function" onClick="logFunction('format_text_menu')" href="../../_functions/format_text_menu.html" onMouseOver="funcPopup(event,'format_text_menu')">format_text_menu</a>();
<a name="l78"><span class="linenum">  78</span></a>          <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('formats')" href="../../_variables/formats.html">$formats</a> = <a class="var it10214" onMouseOver="hilite(10214)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../../_variables/editor.html">$editor</a>-&gt;<a class="function" onClick="logFunction('get_supported_formats')" href="../../_functions/get_supported_formats.html" onMouseOver="funcPopup(event,'get_supported_formats')">get_supported_formats</a>();
<a name="l79"><span class="linenum">  79</span></a>          foreach (<a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('formats')" href="../../_variables/formats.html">$formats</a> as <a class="var it4116" onMouseOver="hilite(4116)" onMouseOut="lolite()" onClick="logVariable('fid')" href="../../_variables/fid.html">$fid</a>) {
<a name="l80"><span class="linenum">  80</span></a>              <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('formats')" href="../../_variables/formats.html">$formats</a>[<a class="var it4116" onMouseOver="hilite(4116)" onMouseOut="lolite()" onClick="logVariable('fid')" href="../../_variables/fid.html">$fid</a>] = <a class="var it10215" onMouseOver="hilite(10215)" onMouseOut="lolite()" onClick="logVariable('strformats')" href="../../_variables/strformats.html">$strformats</a>[<a class="var it4116" onMouseOver="hilite(4116)" onMouseOut="lolite()" onClick="logVariable('fid')" href="../../_variables/fid.html">$fid</a>];
<a name="l81"><span class="linenum">  81</span></a>          }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>          <a class="var it16907" onMouseOver="hilite(16907)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../_variables/commenttext.html">$commenttext</a> = <a class="function" onClick="logFunction('format_text')" href="../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it16907" onMouseOver="hilite(16907)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../_variables/commenttext.html">$commenttext</a>, <a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a>, array('para' =&gt; false));
<a name="l84"><span class="linenum">  84</span></a>  
<a name="l85"><span class="linenum">  85</span></a>          <a class="var it10214" onMouseOver="hilite(10214)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../../_variables/editor.html">$editor</a>-&gt;<a class="function" onClick="logFunction('use_editor')" href="../../_functions/use_editor.html" onMouseOver="funcPopup(event,'use_editor')">use_editor</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>, array('context' =&gt; <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('context')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/context.html">context</a>));
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>          <a class="var it33793" onMouseOver="hilite(33793)" onMouseOut="lolite()" onClick="logVariable('commenteditor')" href="../../_variables/commenteditor.html">$commenteditor</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('textarea', <a class="function" onClick="logFunction('s')" href="../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it16907" onMouseOver="hilite(16907)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../_variables/commenttext.html">$commenttext</a>),
<a name="l88"><span class="linenum">  88</span></a>                  array('id' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>, 'name' =&gt; <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('inputname')" href="../../_variables/inputname.html">$inputname</a>, 'rows' =&gt; 10, 'cols' =&gt; 60)));
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>          <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a> = '';
<a name="l91"><span class="linenum">  91</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('formats')" href="../../_variables/formats.html">$formats</a>) == 1) {
<a name="l92"><span class="linenum">  92</span></a>              <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('formats')" href="../../_variables/formats.html">$formats</a>);
<a name="l93"><span class="linenum">  93</span></a>              <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'hidden',
<a name="l94"><span class="linenum">  94</span></a>                      'name' =&gt; <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('inputname')" href="../../_variables/inputname.html">$inputname</a> . 'format', 'value' =&gt; <a class="phpfunction" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('formats')" href="../../_variables/formats.html">$formats</a>)));
<a name="l95"><span class="linenum">  95</span></a>          } else {
<a name="l96"><span class="linenum">  96</span></a>              <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'fitem'));
<a name="l97"><span class="linenum">  97</span></a>              <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'fitemtitle'));
<a name="l98"><span class="linenum">  98</span></a>              <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('label', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('format'), array('for'=&gt;'menu'.<a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('inputname')" href="../../_variables/inputname.html">$inputname</a>.'format'));
<a name="l99"><span class="linenum">  99</span></a>              <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l100"><span class="linenum"> 100</span></a>              <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'felement fhtmleditor'));
<a name="l101"><span class="linenum"> 101</span></a>              <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('select')" href="../../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>(<a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('formats')" href="../../_variables/formats.html">$formats</a>, <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('inputname')" href="../../_variables/inputname.html">$inputname</a>.'format', <a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a>, '');
<a name="l102"><span class="linenum"> 102</span></a>              <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l103"><span class="linenum"> 103</span></a>              <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l104"><span class="linenum"> 104</span></a>          }
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>          <a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div',
<a name="l107"><span class="linenum"> 107</span></a>                  <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('label', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('comment', 'question'),
<a name="l108"><span class="linenum"> 108</span></a>                  array('for' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>)), array('class' =&gt; 'fitemtitle')) .
<a name="l109"><span class="linenum"> 109</span></a>                  <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it33793" onMouseOver="hilite(33793)" onMouseOut="lolite()" onClick="logVariable('commenteditor')" href="../../_variables/commenteditor.html">$commenteditor</a>, array('class' =&gt; 'felement fhtmleditor')),
<a name="l110"><span class="linenum"> 110</span></a>                  array('class' =&gt; 'fitem'));
<a name="l111"><span class="linenum"> 111</span></a>          <a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a> .= <a class="var it33794" onMouseOver="hilite(33794)" onMouseOut="lolite()" onClick="logVariable('editorformat')" href="../../_variables/editorformat.html">$editorformat</a>;
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>          <a class="var it2272" onMouseOver="hilite(2272)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a> = '';
<a name="l114"><span class="linenum"> 114</span></a>          if (<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_max_mark')" href="../../_functions/get_max_mark.html" onMouseOver="funcPopup(event,'get_max_mark')">get_max_mark</a>()) {
<a name="l115"><span class="linenum"> 115</span></a>              <a class="var it33795" onMouseOver="hilite(33795)" onMouseOut="lolite()" onClick="logVariable('currentmark')" href="../../_variables/currentmark.html">$currentmark</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_current_manual_mark')" href="../../_functions/get_current_manual_mark.html" onMouseOver="funcPopup(event,'get_current_manual_mark')">get_current_manual_mark</a>();
<a name="l116"><span class="linenum"> 116</span></a>              <a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_max_mark')" href="../../_functions/get_max_mark.html" onMouseOver="funcPopup(event,'get_max_mark')">get_max_mark</a>();
<a name="l117"><span class="linenum"> 117</span></a>  
<a name="l118"><span class="linenum"> 118</span></a>              <a class="var it25809" onMouseOver="hilite(25809)" onMouseOut="lolite()" onClick="logVariable('fieldsize')" href="../../_variables/fieldsize.html">$fieldsize</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('format_max_mark')" href="../../_functions/format_max_mark.html" onMouseOver="funcPopup(event,'format_max_mark')">format_max_mark</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('markdp')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/markdp.html">markdp</a>)) - 1;
<a name="l119"><span class="linenum"> 119</span></a>              <a class="var it33796" onMouseOver="hilite(33796)" onMouseOut="lolite()" onClick="logVariable('markfield')" href="../../_variables/markfield.html">$markfield</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('mark');
<a name="l120"><span class="linenum"> 120</span></a>  
<a name="l121"><span class="linenum"> 121</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a> = array(
<a name="l122"><span class="linenum"> 122</span></a>                  'type' =&gt; 'text',
<a name="l123"><span class="linenum"> 123</span></a>                  'size' =&gt; <a class="var it25809" onMouseOver="hilite(25809)" onMouseOut="lolite()" onClick="logVariable('fieldsize')" href="../../_variables/fieldsize.html">$fieldsize</a>,
<a name="l124"><span class="linenum"> 124</span></a>                  'name' =&gt; <a class="var it33796" onMouseOver="hilite(33796)" onMouseOut="lolite()" onClick="logVariable('markfield')" href="../../_variables/markfield.html">$markfield</a>,
<a name="l125"><span class="linenum"> 125</span></a>                  'id'=&gt; <a class="var it33796" onMouseOver="hilite(33796)" onMouseOut="lolite()" onClick="logVariable('markfield')" href="../../_variables/markfield.html">$markfield</a>
<a name="l126"><span class="linenum"> 126</span></a>              );
<a name="l127"><span class="linenum"> 127</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it33795" onMouseOver="hilite(33795)" onMouseOut="lolite()" onClick="logVariable('currentmark')" href="../../_variables/currentmark.html">$currentmark</a>)) {
<a name="l128"><span class="linenum"> 128</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>['value'] = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('format_fraction_as_mark')" href="../../_functions/format_fraction_as_mark.html" onMouseOver="funcPopup(event,'format_fraction_as_mark')">format_fraction_as_mark</a>(
<a name="l129"><span class="linenum"> 129</span></a>                          <a class="var it33795" onMouseOver="hilite(33795)" onMouseOut="lolite()" onClick="logVariable('currentmark')" href="../../_variables/currentmark.html">$currentmark</a> / <a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('markdp')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/markdp.html">markdp</a>);
<a name="l130"><span class="linenum"> 130</span></a>              }
<a name="l131"><span class="linenum"> 131</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = new stdClass();
<a name="l132"><span class="linenum"> 132</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('max')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/max.html">max</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('format_max_mark')" href="../../_functions/format_max_mark.html" onMouseOver="funcPopup(event,'format_max_mark')">format_max_mark</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('markdp')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/markdp.html">markdp</a>);
<a name="l133"><span class="linenum"> 133</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('mark')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/mark.html">mark</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>);
<a name="l134"><span class="linenum"> 134</span></a>  
<a name="l135"><span class="linenum"> 135</span></a>              <a class="var it33797" onMouseOver="hilite(33797)" onMouseOut="lolite()" onClick="logVariable('markrange')" href="../../_variables/markrange.html">$markrange</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array(
<a name="l136"><span class="linenum"> 136</span></a>                  'type' =&gt; 'hidden',
<a name="l137"><span class="linenum"> 137</span></a>                  'name' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('maxmark'),
<a name="l138"><span class="linenum"> 138</span></a>                  'value' =&gt; <a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>,
<a name="l139"><span class="linenum"> 139</span></a>              )) . <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array(
<a name="l140"><span class="linenum"> 140</span></a>                  'type' =&gt; 'hidden',
<a name="l141"><span class="linenum"> 141</span></a>                  'name' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_control_field_name')" href="../../_functions/get_control_field_name.html" onMouseOver="funcPopup(event,'get_control_field_name')">get_control_field_name</a>('minfraction'),
<a name="l142"><span class="linenum"> 142</span></a>                  'value' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_min_fraction')" href="../../_functions/get_min_fraction.html" onMouseOver="funcPopup(event,'get_min_fraction')">get_min_fraction</a>(),
<a name="l143"><span class="linenum"> 143</span></a>              )) . <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array(
<a name="l144"><span class="linenum"> 144</span></a>                  'type' =&gt; 'hidden',
<a name="l145"><span class="linenum"> 145</span></a>                  'name' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_control_field_name')" href="../../_functions/get_control_field_name.html" onMouseOver="funcPopup(event,'get_control_field_name')">get_control_field_name</a>('maxfraction'),
<a name="l146"><span class="linenum"> 146</span></a>                  'value' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_max_fraction')" href="../../_functions/get_max_fraction.html" onMouseOver="funcPopup(event,'get_max_fraction')">get_max_fraction</a>(),
<a name="l147"><span class="linenum"> 147</span></a>              ));
<a name="l148"><span class="linenum"> 148</span></a>  
<a name="l149"><span class="linenum"> 149</span></a>              <a class="var it32257" onMouseOver="hilite(32257)" onMouseOut="lolite()" onClick="logVariable('errorclass')" href="../../_variables/errorclass.html">$errorclass</a> = '';
<a name="l150"><span class="linenum"> 150</span></a>              <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = '';
<a name="l151"><span class="linenum"> 151</span></a>              if (<a class="var it33795" onMouseOver="hilite(33795)" onMouseOut="lolite()" onClick="logVariable('currentmark')" href="../../_variables/currentmark.html">$currentmark</a> &gt; <a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a> * <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_max_fraction')" href="../../_functions/get_max_fraction.html" onMouseOver="funcPopup(event,'get_max_fraction')">get_max_fraction</a>() || <a class="var it33795" onMouseOver="hilite(33795)" onMouseOut="lolite()" onClick="logVariable('currentmark')" href="../../_variables/currentmark.html">$currentmark</a> &lt; <a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a> * <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_min_fraction')" href="../../_functions/get_min_fraction.html" onMouseOver="funcPopup(event,'get_min_fraction')">get_min_fraction</a>()) {
<a name="l152"><span class="linenum"> 152</span></a>                  <a class="var it32257" onMouseOver="hilite(32257)" onMouseOut="lolite()" onClick="logVariable('errorclass')" href="../../_variables/errorclass.html">$errorclass</a> = ' error';
<a name="l153"><span class="linenum"> 153</span></a>                  <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('manualgradeoutofrange', 'question'),
<a name="l154"><span class="linenum"> 154</span></a>                          array('class' =&gt; 'error')) . <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br');
<a name="l155"><span class="linenum"> 155</span></a>              }
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>              <a class="var it2272" onMouseOver="hilite(2272)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div',
<a name="l158"><span class="linenum"> 158</span></a>                          <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('label', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('mark', 'question'),
<a name="l159"><span class="linenum"> 159</span></a>                          array('for' =&gt; <a class="var it33796" onMouseOver="hilite(33796)" onMouseOut="lolite()" onClick="logVariable('markfield')" href="../../_variables/markfield.html">$markfield</a>)),
<a name="l160"><span class="linenum"> 160</span></a>                      array('class' =&gt; 'fitemtitle')) .
<a name="l161"><span class="linenum"> 161</span></a>                      <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> . <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('xoutofmax', 'question', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>) .
<a name="l162"><span class="linenum"> 162</span></a>                          <a class="var it33797" onMouseOver="hilite(33797)" onMouseOut="lolite()" onClick="logVariable('markrange')" href="../../_variables/markrange.html">$markrange</a>, array('class' =&gt; 'felement ftext' . <a class="var it32257" onMouseOver="hilite(32257)" onMouseOut="lolite()" onClick="logVariable('errorclass')" href="../../_variables/errorclass.html">$errorclass</a>)
<a name="l163"><span class="linenum"> 163</span></a>                      ), array('class' =&gt; 'fitem'));
<a name="l164"><span class="linenum"> 164</span></a>          }
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('fieldset', <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a> . <a class="var it2272" onMouseOver="hilite(2272)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>,
<a name="l167"><span class="linenum"> 167</span></a>                  array('class' =&gt; 'fcontainer clearfix')), array('class' =&gt; 'hidden'));
<a name="l168"><span class="linenum"> 168</span></a>      }
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>      public function <a class="function" onClick="logFunction('manual_comment_view')" href="../../_functions/manual_comment_view.html" onMouseOver="funcPopup(event,'manual_comment_view')">manual_comment_view</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l171"><span class="linenum"> 171</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = '';
<a name="l172"><span class="linenum"> 172</span></a>          if (<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('has_manual_comment')" href="../../_functions/has_manual_comment.html" onMouseOver="funcPopup(event,'has_manual_comment')">has_manual_comment</a>()) {
<a name="l173"><span class="linenum"> 173</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('commentx', 'question', <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour')" href="../../_functions/get_behaviour.html" onMouseOver="funcPopup(event,'get_behaviour')">get_behaviour</a>()-&gt;<a class="function" onClick="logFunction('format_comment')" href="../../_functions/format_comment.html" onMouseOver="funcPopup(event,'format_comment')">format_comment</a>());
<a name="l174"><span class="linenum"> 174</span></a>          }
<a name="l175"><span class="linenum"> 175</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('manualcommentlink')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/manualcommentlink.html">manualcommentlink</a>) {
<a name="l176"><span class="linenum"> 176</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('manualcommentlink')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/manualcommentlink.html">manualcommentlink</a>, array('slot' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_slot')" href="../../_functions/get_slot.html" onMouseOver="funcPopup(event,'get_slot')">get_slot</a>()));
<a name="l177"><span class="linenum"> 177</span></a>              <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('output')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/output.html">output</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('commentormark', 'question'),
<a name="l178"><span class="linenum"> 178</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('popup_action')" href="../../_classes/popup_action.html" onMouseOver="classPopup(event,'popup_action')">popup_action</a>('click', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, 'commentquestion',
<a name="l179"><span class="linenum"> 179</span></a>                      array('width' =&gt; 600, 'height' =&gt; 800)));
<a name="l180"><span class="linenum"> 180</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, array('class' =&gt; 'commentlink'));
<a name="l181"><span class="linenum"> 181</span></a>          }
<a name="l182"><span class="linenum"> 182</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l183"><span class="linenum"> 183</span></a>      }
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>      <span class="comment">/**</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">     * Display the manual comment, and a link to edit it, if appropriate.</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">     *</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">     * @param question_attempt $qa a question attempt.</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">     */</span>
<a name="l192"><span class="linenum"> 192</span></a>      public function <a class="function" onClick="logFunction('manual_comment')" href="../../_functions/manual_comment.html" onMouseOver="funcPopup(event,'manual_comment')">manual_comment</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l193"><span class="linenum"> 193</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('manualcomment')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/manualcomment.html">manualcomment</a> == <a class="class" onClick="logClass('question_display_options')" href="../../_classes/question_display_options.html" onMouseOver="classPopup(event,'question_display_options')">question_display_options</a>::EDITABLE) {
<a name="l194"><span class="linenum"> 194</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('manual_comment_fields')" href="../../_functions/manual_comment_fields.html" onMouseOver="funcPopup(event,'manual_comment_fields')">manual_comment_fields</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l195"><span class="linenum"> 195</span></a>  
<a name="l196"><span class="linenum"> 196</span></a>          } else if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('manualcomment')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/manualcomment.html">manualcomment</a> == <a class="class" onClick="logClass('question_display_options')" href="../../_classes/question_display_options.html" onMouseOver="classPopup(event,'question_display_options')">question_display_options</a>::VISIBLE) {
<a name="l197"><span class="linenum"> 197</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('manual_comment_view')" href="../../_functions/manual_comment_view.html" onMouseOver="funcPopup(event,'manual_comment_view')">manual_comment_view</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l198"><span class="linenum"> 198</span></a>  
<a name="l199"><span class="linenum"> 199</span></a>          } else {
<a name="l200"><span class="linenum"> 200</span></a>              return '';
<a name="l201"><span class="linenum"> 201</span></a>          }
<a name="l202"><span class="linenum"> 202</span></a>      }
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>      <span class="comment">/**</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">     * Several behaviours need a submit button, so put the common code here.</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">     * The button is disabled if the question is displayed read-only.</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment">     */</span>
<a name="l210"><span class="linenum"> 210</span></a>      protected function <a class="function" onClick="logFunction('submit_button')" href="../../_functions/submit_button.html" onMouseOver="funcPopup(event,'submit_button')">submit_button</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l211"><span class="linenum"> 211</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a> = array(
<a name="l212"><span class="linenum"> 212</span></a>              'type' =&gt; 'submit',
<a name="l213"><span class="linenum"> 213</span></a>              'id' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('submit'),
<a name="l214"><span class="linenum"> 214</span></a>              'name' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('submit'),
<a name="l215"><span class="linenum"> 215</span></a>              'value' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('check', 'question'),
<a name="l216"><span class="linenum"> 216</span></a>              'class' =&gt; 'submit btn',
<a name="l217"><span class="linenum"> 217</span></a>          );
<a name="l218"><span class="linenum"> 218</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('readonly')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/readonly.html">readonly</a>) {
<a name="l219"><span class="linenum"> 219</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>['disabled'] = 'disabled';
<a name="l220"><span class="linenum"> 220</span></a>          }
<a name="l221"><span class="linenum"> 221</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>);
<a name="l222"><span class="linenum"> 222</span></a>          if (!<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('readonly')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/readonly.html">readonly</a>) {
<a name="l223"><span class="linenum"> 223</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('js_init_call')" href="../../_functions/js_init_call.html" onMouseOver="funcPopup(event,'js_init_call')">js_init_call</a>('M.core_question_engine.init_submit_button',
<a name="l224"><span class="linenum"> 224</span></a>                      array(<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>['id'], <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_slot')" href="../../_functions/get_slot.html" onMouseOver="funcPopup(event,'get_slot')">get_slot</a>()));
<a name="l225"><span class="linenum"> 225</span></a>          }
<a name="l226"><span class="linenum"> 226</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l227"><span class="linenum"> 227</span></a>      }
<a name="l228"><span class="linenum"> 228</span></a>  
<a name="l229"><span class="linenum"> 229</span></a>      <span class="comment">/**</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">     * Return any HTML that needs to be included in the page's &lt;head&gt; when</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     * questions using this model are used.</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">     * @param $qa the question attempt that will be displayed on the page.</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">     */</span>
<a name="l235"><span class="linenum"> 235</span></a>      public function <a class="function" onClick="logFunction('head_code')" href="../../_functions/head_code.html" onMouseOver="funcPopup(event,'head_code')">head_code</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l236"><span class="linenum"> 236</span></a>          return '';
<a name="l237"><span class="linenum"> 237</span></a>      }
<a name="l238"><span class="linenum"> 238</span></a>  
<a name="l239"><span class="linenum"> 239</span></a>      <span class="comment">/**</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * Generate the display of the marks for this question.</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     * @param core_question_renderer $qoutput the renderer for standard parts of questions.</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     */</span>
<a name="l246"><span class="linenum"> 246</span></a>      public function <a class="function" onClick="logFunction('mark_summary')" href="../../_functions/mark_summary.html" onMouseOver="funcPopup(event,'mark_summary')">mark_summary</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, core_question_renderer <a class="var it33798" onMouseOver="hilite(33798)" onMouseOut="lolite()" onClick="logVariable('qoutput')" href="../../_variables/qoutput.html">$qoutput</a>,
<a name="l247"><span class="linenum"> 247</span></a>              question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l248"><span class="linenum"> 248</span></a>          return <a class="var it33798" onMouseOver="hilite(33798)" onMouseOut="lolite()" onClick="logVariable('qoutput')" href="../../_variables/qoutput.html">$qoutput</a>-&gt;<a class="function" onClick="logFunction('standard_mark_summary')" href="../../_functions/standard_mark_summary.html" onMouseOver="funcPopup(event,'standard_mark_summary')">standard_mark_summary</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l249"><span class="linenum"> 249</span></a>      }
<a name="l250"><span class="linenum"> 250</span></a>  
<a name="l251"><span class="linenum"> 251</span></a>      <span class="comment">/**</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     * Generate the display of the available marks for this question.</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">     * @param core_question_renderer $qoutput the renderer for standard parts of questions.</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     */</span>
<a name="l258"><span class="linenum"> 258</span></a>      public function <a class="function" onClick="logFunction('marked_out_of_max')" href="../../_functions/marked_out_of_max.html" onMouseOver="funcPopup(event,'marked_out_of_max')">marked_out_of_max</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, core_question_renderer <a class="var it33798" onMouseOver="hilite(33798)" onMouseOut="lolite()" onClick="logVariable('qoutput')" href="../../_variables/qoutput.html">$qoutput</a>,
<a name="l259"><span class="linenum"> 259</span></a>              question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l260"><span class="linenum"> 260</span></a>          return <a class="var it33798" onMouseOver="hilite(33798)" onMouseOut="lolite()" onClick="logVariable('qoutput')" href="../../_variables/qoutput.html">$qoutput</a>-&gt;<a class="function" onClick="logFunction('standard_marked_out_of_max')" href="../../_functions/standard_marked_out_of_max.html" onMouseOver="funcPopup(event,'standard_marked_out_of_max')">standard_marked_out_of_max</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l261"><span class="linenum"> 261</span></a>      }
<a name="l262"><span class="linenum"> 262</span></a>  
<a name="l263"><span class="linenum"> 263</span></a>      <span class="comment">/**</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * Generate the display of the marks for this question out of the available marks.</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">     * @param core_question_renderer $qoutput the renderer for standard parts of questions.</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">     */</span>
<a name="l270"><span class="linenum"> 270</span></a>      public function <a class="function" onClick="logFunction('mark_out_of_max')" href="../../_functions/mark_out_of_max.html" onMouseOver="funcPopup(event,'mark_out_of_max')">mark_out_of_max</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, core_question_renderer <a class="var it33798" onMouseOver="hilite(33798)" onMouseOut="lolite()" onClick="logVariable('qoutput')" href="../../_variables/qoutput.html">$qoutput</a>,
<a name="l271"><span class="linenum"> 271</span></a>              question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l272"><span class="linenum"> 272</span></a>          return <a class="var it33798" onMouseOver="hilite(33798)" onMouseOut="lolite()" onClick="logVariable('qoutput')" href="../../_variables/qoutput.html">$qoutput</a>-&gt;<a class="function" onClick="logFunction('standard_mark_out_of_max')" href="../../_functions/standard_mark_out_of_max.html" onMouseOver="funcPopup(event,'standard_mark_out_of_max')">standard_mark_out_of_max</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l273"><span class="linenum"> 273</span></a>      }
<a name="l274"><span class="linenum"> 274</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_behaviour_field_name': ['get_behaviour_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for a question_type variable belonging to this question_attempt. ', [['question/engine','questionattempt.php',321]], 13],
'get_slot': ['get_slot', '', [['question/engine','questionattempt.php',226]], 30],
'marked_out_of_max': ['marked_out_of_max', 'Generate the display of the available marks for this question. ', [['question/behaviour','rendererbase.php',251],['question/behaviour/deferredcbm','renderer.php',96]], 2],
'head_code': ['head_code', 'Return any HTML that needs to be included in the page\'s <head> when this question is used. ', [['question/type','rendererbase.php',204],['question/behaviour','rendererbase.php',229]], 2],
'submit_button': ['submit_button', 'Several behaviours need a submit button, so put the common code here. The button is disabled if the question is displayed read-only. ', [['question/behaviour','rendererbase.php',204]], 4],
'strlen': ['strlen', 'Multibyte safe strlen() function, uses mbstring or iconv for UTF-8, falls back to typo3. ', [['lib/classes','text.php',281],['lib/typo3','class.t3lib_cs.php',1520]], 1698],
'empty_tag': ['empty_tag', 'Outputs an empty tag with attributes ', [['lib','outputcomponents.php',1096]], 511],
'manual_comment': ['manual_comment', 'Display any extra question-type specific content that should be visible when grading, if appropriate. ', [['question/type','rendererbase.php',192],['question/type/essay','renderer.php',130],['question/behaviour','rendererbase.php',185],['question/engine','renderer.php',418]], 3],
'manual_comment_fields': ['manual_comment_fields', '', [['question/behaviour','rendererbase.php',71]], 1],
'use_editor': ['use_editor', '', [['lib/editor/textarea','lib.php',50],['lib/editor/tinymce','lib.php',72],['lib/editor/atto','lib.php',69]], 11],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'feedback': ['feedback', 'Generate the display of the outcome part of the question. This is the area that contains the various forms of feedback. This function generates the content of this area belonging to the question type. ', [['question/type','rendererbase.php',87],['question/behaviour/interactive','renderer.php',42],['question/behaviour/adaptive','renderer.php',44],['question/behaviour','rendererbase.php',56],['question/behaviour/deferredcbm','renderer.php',75]], 6],
'get_current_manual_mark': ['get_current_manual_mark', 'This is used by the manual grading code, particularly in association with validation. If there is a mark submitted in the request, then use that, otherwise use the latest mark for this question. ', [['question/engine','questionattempt.php',650]], 1],
'start_tag': ['start_tag', '', [['backup/util/xml/parser','progressive_parser.class.php',215],['lib','outputcomponents.php',1075]], 694],
'get_max_mark': ['get_max_mark', '', [['question/engine','questionattempt.php',683]], 24],
'get_behaviour': ['get_behaviour', 'For internal use only. ', [['question/engine','questionattempt.php',275]], 4],
'format_text_menu': ['format_text_menu', 'Just returns an array of text formats suitable for a popup menu ', [['lib','weblib.php',1103]], 7],
'get_max_fraction': ['get_max_fraction', '', [['question/type/multianswer','question.php',115],['question/behaviour/missing','behaviour.php',72],['question/behaviour/immediatecbm','behaviour.php',50],['question/type','questionbase.php',240],['question/behaviour','behaviourbase.php',182],['question/behaviour/deferredcbm','behaviour.php',52],['question/engine','questionattempt.php',696]], 13],
'js_init_call': ['js_init_call', 'Ensure that the specified JavaScript function is called from an inline script from page footer. ', [['lib','outputrequirementslib.php',1050]], 95],
'format_comment': ['format_comment', '', [['question/behaviour','behaviourbase.php',498]], 2],
'get_min_fraction': ['get_min_fraction', '', [['question/type/multianswer','question.php',105],['question/behaviour/missing','behaviour.php',67],['question/behaviour/deferredfeedback','behaviour.php',45],['question/behaviour/immediatefeedback','behaviour.php',53],['question/behaviour/immediatecbm','behaviour.php',46],['question/type/multichoice','question.php',141],['question/type/multichoice','question.php',263],['question/type','questionbase.php',228],['question/behaviour','behaviourbase.php',170],['question/behaviour/deferredcbm','behaviour.php',48],['question/engine','questionattempt.php',688]], 14],
'get_supported_formats': ['get_supported_formats', '', [['lib/editor/textarea','lib.php',34],['lib/editor/tinymce','lib.php',41],['lib/editor/atto','lib.php',44]], 7],
'controls': ['controls', '', [['question/behaviour/immediatecbm','renderer.php',40],['question/behaviour/missing','renderer.php',38],['question/behaviour/interactive','renderer.php',38],['question/behaviour/adaptive','renderer.php',40],['question/behaviour/immediatefeedback','renderer.php',38],['question/behaviour/informationitem','renderer.php',36],['question/behaviour','rendererbase.php',40],['question/behaviour/deferredcbm','renderer.php',65]], 2],
'get_control_field_name': ['get_control_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for a control variables belonging to this question_attempt. ', [['question/engine','questionattempt.php',335]], 6],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1063],['lib/zend/Zend/Service','Technorati.php',228]], 1254],
'standard_marked_out_of_max': ['standard_marked_out_of_max', 'Generate the display of the available marks for this question. ', [['question/engine','renderer.php',237]], 1],
'manual_comment_view': ['manual_comment_view', '', [['question/behaviour','rendererbase.php',170]], 1],
'standard_mark_summary': ['standard_mark_summary', 'Generate the display of the marks for this question. ', [['question/engine','renderer.php',215]], 1],
'end_tag': ['end_tag', '', [['backup/util/xml/parser','progressive_parser.class.php',261],['lib','outputcomponents.php',1086],['backup/util/xml','xml_writer.class.php',177]], 858],
'has_manual_comment': ['has_manual_comment', '', [['question/engine','questionattempt.php',1329]], 1],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'editors_get_preferred_editor': ['editors_get_preferred_editor', 'Returns users preferred editor for given format ', [['lib','editorlib.php',29]], 10],
'standard_mark_out_of_max': ['standard_mark_out_of_max', 'Generate the display of the marks for this question out of the available marks. ', [['question/engine','renderer.php',247]], 1],
'mark_out_of_max': ['mark_out_of_max', 'Generate the display of the marks for this question out of the available marks. ', [['question/behaviour','rendererbase.php',263],['question/behaviour/deferredcbm','renderer.php',103]], 1],
'get_current_manual_comment': ['get_current_manual_comment', 'This is used by the manual grading code, particularly in association with validation. If there is a comment submitted in the request, then use that, otherwise use the latest comment for this question. ', [['question/engine','questionattempt.php',1352]], 1],
'mark_summary': ['mark_summary', 'Generate the display of the marks for this question. ', [['question/behaviour','rendererbase.php',239],['question/engine','renderer.php',202]], 4],
'action_link': ['action_link', 'Method to create a link with popup action. ', [['report/log/classes','table_log.php',344],['report/loglive/classes','table_log.php',285],['lib','outputrenderers.php',1586]], 71],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 988],
'select': ['select', 'Create a new Zend_Service_WindowsAzure_Storage_TableEntityQuery ', [['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',455],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntityQuery.php',74],['lib','outputcomponents.php',1255],['lib/jquery/ui-1.11.4/external/jquery','jquery.js',2845]], 593],
'format_fraction_as_mark': ['format_fraction_as_mark', 'The current mark, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',713]], 4],
'format_max_mark': ['format_max_mark', 'The maximum mark for this question attempt, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',723]], 5],
'format_text': ['format_text', 'Given text in a variety of format codings, this function returns the text as safe HTML. ', [['lib','weblib.php',1115],['lib','tablelib.php',846],['lib','tablelib.php',1583],['lib','tablelib.php',1900],['question/type','questionbase.php',345],['lib/classes','grading_external.php',182]], 325],
'key': ['key', '', [], 198],
'count': ['count', '', [], 3984],
'is_null': ['is_null', '', [], 1992],
'defined': ['defined', '', [], 4098],
'reset': ['reset', '', [], 1070]};
CLASS_DATA={
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'question_display_options': ['question_display_options', 'This class contains all the options that controls how a question is displayed. ', [['question/engine','lib.php',461]], 78],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1052]], 4832],
'popup_action': ['popup_action', 'Component action for a popup window. ', [['lib','outputactions.php',114]], 32],
'plugin_renderer_base': ['plugin_renderer_base', 'Basis for all plugin renderers. ', [['lib','outputrenderers.php',264]], 67]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
