<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of behaviourbase.php</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='question/behaviour';
filename='behaviourbase.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/question/behaviour/</a> -> <a href="behaviourbase.php.source.html">behaviourbase.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="behaviourbase.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../_stats.html">Project Stats</a>]</p>
<p><b>Defines the question behaviour base class</b></p>
<table>
<tr><td align="right">Copyright: </td><td>2009 The Open University</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>796 lines (33 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 46 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#get_name">get_name</a>()<br>
&nbsp;&nbsp;<a href="#can_finish_during_attempt">can_finish_during_attempt</a>()<br>
&nbsp;&nbsp;<a href="#render">render</a>()<br>
&nbsp;&nbsp;<a href="#check_file_access">check_file_access</a>()<br>
&nbsp;&nbsp;<a href="#get_renderer">get_renderer</a>()<br>
&nbsp;&nbsp;<a href="#adjust_display_options">adjust_display_options</a>()<br>
&nbsp;&nbsp;<a href="#get_applicable_hint">get_applicable_hint</a>()<br>
&nbsp;&nbsp;<a href="#get_min_fraction">get_min_fraction</a>()<br>
&nbsp;&nbsp;<a href="#get_max_fraction">get_max_fraction</a>()<br>
&nbsp;&nbsp;<a href="#get_expected_data">get_expected_data</a>()<br>
&nbsp;&nbsp;<a href="#get_expected_qt_data">get_expected_qt_data</a>()<br>
&nbsp;&nbsp;<a href="#get_correct_response">get_correct_response</a>()<br>
&nbsp;&nbsp;<a href="#get_question_summary">get_question_summary</a>()<br>
&nbsp;&nbsp;<a href="#get_right_answer_summary">get_right_answer_summary</a>()<br>
&nbsp;&nbsp;<a href="#get_resume_data">get_resume_data</a>()<br>
&nbsp;&nbsp;<a href="#get_our_resume_data">get_our_resume_data</a>()<br>
&nbsp;&nbsp;<a href="#classify_response">classify_response</a>()<br>
&nbsp;&nbsp;<a href="#get_state_string">get_state_string</a>()<br>
&nbsp;&nbsp;<a href="#init_first_step">init_first_step</a>()<br>
&nbsp;&nbsp;<a href="#apply_attempt_state">apply_attempt_state</a>()<br>
&nbsp;&nbsp;<a href="#is_same_comment">is_same_comment</a>()<br>
&nbsp;&nbsp;<a href="#process_autosave">process_autosave</a>()<br>
&nbsp;&nbsp;<a href="#process_comment">process_comment</a>()<br>
&nbsp;&nbsp;<a href="#format_comment">format_comment</a>()<br>
&nbsp;&nbsp;<a href="#summarise_manual_comment">summarise_manual_comment</a>()<br>
&nbsp;&nbsp;<a href="#summarise_start">summarise_start</a>()<br>
&nbsp;&nbsp;<a href="#summarise_finish">summarise_finish</a>()<br>
&nbsp;&nbsp;<a href="#step_has_a_submitted_response">step_has_a_submitted_response</a>()<br>
&nbsp;&nbsp;<a href="#required_question_definition_type">required_question_definition_type</a>()<br>
&nbsp;&nbsp;<a href="#apply_attempt_state">apply_attempt_state</a>()<br>
&nbsp;&nbsp;<a href="#is_same_response">is_same_response</a>()<br>
&nbsp;&nbsp;<a href="#is_complete_response">is_complete_response</a>()<br>
&nbsp;&nbsp;<a href="#process_autosave">process_autosave</a>()<br>
&nbsp;&nbsp;<a href="#process_save">process_save</a>()<br>
&nbsp;&nbsp;<a href="#summarise_submit">summarise_submit</a>()<br>
&nbsp;&nbsp;<a href="#summarise_save">summarise_save</a>()<br>
&nbsp;&nbsp;<a href="#summarise_finish">summarise_finish</a>()<br>
&nbsp;&nbsp;<a href="#step_has_a_submitted_response">step_has_a_submitted_response</a>()<br>
&nbsp;&nbsp;<a href="#default_certainty">default_certainty</a>()<br>
&nbsp;&nbsp;<a href="#adjust_fraction">adjust_fraction</a>()<br>
&nbsp;&nbsp;<a href="#get_string">get_string</a>()<br>
&nbsp;&nbsp;<a href="#get_short_string">get_short_string</a>()<br>
&nbsp;&nbsp;<a href="#summary_with_certainty">summary_with_certainty</a>()<br>
&nbsp;&nbsp;<a href="#optimal_probablility_low">optimal_probablility_low</a>()<br>
&nbsp;&nbsp;<a href="#optimal_probablility_high">optimal_probablility_high</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'behaviourbase.php.source.html#l50')" href="behaviourbase.php.source.html#l50">__construct</a>(question_attempt <a href="../../_variables/qa.html">$qa</a>, <a href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>)&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Normally you should not call this constuctor directly. The appropriate<BR>
behaviour object is created automatically as part of<BR>
{@link question_attempt::start()}.<BR>
</b><BR><b>param:</b> question_attempt $qa the question attempt we will be managing.<br>
<b>param:</b> string $preferredbehaviour the type of behaviour that was actually<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_name" onClick="logFunction('get_name', 'behaviourbase.php.source.html#l83')" href="behaviourbase.php.source.html#l83">get_name</a>()&nbsp;&nbsp;
<a href="../../_functions/get_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> string the name of this behaviour. For example the name of<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="can_finish_during_attempt" onClick="logFunction('can_finish_during_attempt', 'behaviourbase.php.source.html#l87')" href="behaviourbase.php.source.html#l87">can_finish_during_attempt</a>()&nbsp;&nbsp;
<a href="../../_functions/can_finish_during_attempt.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Whether the current attempt at this question could be completed just by the<BR>
student interacting with the question, before $qa-&gt;finish() is called.<BR>
</b><BR><b>return:</b> boolean whether the attempt can finish naturally.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="render" onClick="logFunction('render', 'behaviourbase.php.source.html#l97')" href="behaviourbase.php.source.html#l97">render</a>(question_display_options <a href="../../_variables/options.html">$options</a>, <a href="../../_variables/number.html">$number</a>,core_question_renderer <a href="../../_variables/qoutput.html">$qoutput</a>, qtype_renderer <a href="../../_variables/qtoutput.html">$qtoutput</a>)&nbsp;&nbsp;
<a href="../../_functions/render.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Cause the question to be renderered. This gets the appropriate behaviour<BR>
renderer using {@link get_renderer()}, and adjusts the display<BR>
options using {@link adjust_display_options()} and then calls<BR>
{@link core_question_renderer::question()} to do the work.<BR>
</b><BR><b>param:</b> question_display_options $options controls what should and should not be displayed.<br>
<b>param:</b> unknown_type $number the question number to display.<br>
<b>param:</b> core_question_renderer $qoutput the question renderer that will coordinate everything.<br>
<b>param:</b> qtype_renderer $qtoutput the question type renderer that will be helping.<br>
<b>return:</b> HTML fragment.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_file_access" onClick="logFunction('check_file_access', 'behaviourbase.php.source.html#l116')" href="behaviourbase.php.source.html#l116">check_file_access</a>(<a href="../../_variables/options.html">$options</a>, <a href="../../_variables/component.html">$component</a>, <a href="../../_variables/filearea.html">$filearea</a>, <a href="../../_variables/args.html">$args</a>, <a href="../../_variables/forcedownload.html">$forcedownload</a>)&nbsp;&nbsp;
<a href="../../_functions/check_file_access.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether the users is allow to be served a particular file.<BR>
</b><BR><b>param:</b> question_display_options $options the options that control display of the question.<br>
<b>param:</b> string $component the name of the component we are serving files for.<br>
<b>param:</b> string $filearea the name of the file area.<br>
<b>param:</b> array $args the remaining bits of the file path.<br>
<b>param:</b> bool $forcedownload whether the user must be forced to download the file.<br>
<b>return:</b> bool true if the user can access this file.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_renderer" onClick="logFunction('get_renderer', 'behaviourbase.php.source.html#l135')" href="behaviourbase.php.source.html#l135">get_renderer</a>(moodle_page <a href="../../_variables/page.html">$page</a>)&nbsp;&nbsp;
<a href="../../_functions/get_renderer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> moodle_page $page the page to render for.<br>
<b>return:</b> qbehaviour_renderer get the appropriate renderer to use for this model.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="adjust_display_options" onClick="logFunction('adjust_display_options', 'behaviourbase.php.source.html#l139')" href="behaviourbase.php.source.html#l139">adjust_display_options</a>(question_display_options <a href="../../_variables/options.html">$options</a>)&nbsp;&nbsp;
<a href="../../_functions/adjust_display_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Make any changes to the display options before a question is rendered, so<BR>
that it can be displayed in a way that is appropriate for the statue it is<BR>
currently in. For example, by default, if the question is finished, we<BR>
ensure that it is only ever displayed read-only.<BR>
</b><BR><b>param:</b> question_display_options $options the options to adjust. Just change<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_applicable_hint" onClick="logFunction('get_applicable_hint', 'behaviourbase.php.source.html#l162')" href="behaviourbase.php.source.html#l162">get_applicable_hint</a>()&nbsp;&nbsp;
<a href="../../_functions/get_applicable_hint.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the most applicable hint for the question in its current state.<BR>
</b><BR><b>return:</b> question_hint the most applicable hint, or null, if none.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_min_fraction" onClick="logFunction('get_min_fraction', 'behaviourbase.php.source.html#l170')" href="behaviourbase.php.source.html#l170">get_min_fraction</a>()&nbsp;&nbsp;
<a href="../../_functions/get_min_fraction.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>What is the minimum fraction that can be scored for this question.<BR>
Normally this will be based on $this-&gt;question-&gt;get_min_fraction(),<BR>
but may be modified in some way by the behaviour.<BR>
</b><BR><b>return:</b> number the minimum fraction when this question is attempted under<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_max_fraction" onClick="logFunction('get_max_fraction', 'behaviourbase.php.source.html#l182')" href="behaviourbase.php.source.html#l182">get_max_fraction</a>()&nbsp;&nbsp;
<a href="../../_functions/get_max_fraction.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return the maximum possible fraction that can be scored for this question.<BR>
Normally this will be based on $this-&gt;question-&gt;get_max_fraction(),<BR>
but may be modified in some way by the behaviour.<BR>
</b><BR><b>return:</b> number the maximum fraction when this question is attempted under<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_expected_data" onClick="logFunction('get_expected_data', 'behaviourbase.php.source.html#l194')" href="behaviourbase.php.source.html#l194">get_expected_data</a>()&nbsp;&nbsp;
<a href="../../_functions/get_expected_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return an array of the behaviour variables that could be submitted<BR>
as part of a question of this type, with their types, so they can be<BR>
properly cleaned.<BR>
</b><BR><b>return:</b> array variable name =&gt; PARAM_... constant.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_expected_qt_data" onClick="logFunction('get_expected_qt_data', 'behaviourbase.php.source.html#l213')" href="behaviourbase.php.source.html#l213">get_expected_qt_data</a>()&nbsp;&nbsp;
<a href="../../_functions/get_expected_qt_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return an array of question type variables for the question in its current<BR>
state. Normally, if {@link adjust_display_options()} would set<BR>
{@link question_display_options::$readonly} to true, then this method<BR>
should return an empty array, otherwise it should return<BR>
$this-&gt;question-&gt;get_expected_data(). Thus, there should be little need to<BR>
override this method.<BR>
</b><BR><b>return:</b> array|string variable name =&gt; PARAM_... constant, or, as a special case<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_correct_response" onClick="logFunction('get_correct_response', 'behaviourbase.php.source.html#l235')" href="behaviourbase.php.source.html#l235">get_correct_response</a>()&nbsp;&nbsp;
<a href="../../_functions/get_correct_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return an array of any im variables, and the value required to get full<BR>
marks.<BR>
</b><BR><b>return:</b> array variable name =&gt; value.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_question_summary" onClick="logFunction('get_question_summary', 'behaviourbase.php.source.html#l244')" href="behaviourbase.php.source.html#l244">get_question_summary</a>()&nbsp;&nbsp;
<a href="../../_functions/get_question_summary.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate a brief, plain-text, summary of this question. This is used by<BR>
various reports. This should show the particular variant of the question<BR>
as presented to students. For example, the calculated quetsion type would<BR>
fill in the particular numbers that were presented to the student.<BR>
This method will return null if such a summary is not possible, or<BR>
inappropriate.<BR>
</b><BR>Normally, this method delegates to {question_definition::get_question_summary()}.<BR>
<BR>
<b>return:</b> string|null a plain text summary of this question.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_right_answer_summary" onClick="logFunction('get_right_answer_summary', 'behaviourbase.php.source.html#l260')" href="behaviourbase.php.source.html#l260">get_right_answer_summary</a>()&nbsp;&nbsp;
<a href="../../_functions/get_right_answer_summary.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate a brief, plain-text, summary of the correct answer to this question.<BR>
This is used by various reports, and can also be useful when testing.<BR>
This method will return null if such a summary is not possible, or<BR>
inappropriate.<BR>
</b><BR><b>return:</b> string|null a plain text summary of the right answer to this question.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_resume_data" onClick="logFunction('get_resume_data', 'behaviourbase.php.source.html#l272')" href="behaviourbase.php.source.html#l272">get_resume_data</a>()&nbsp;&nbsp;
<a href="../../_functions/get_resume_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Used by {@link start_based_on()} to get the data needed to start a new<BR>
attempt from the point this attempt has go to.<BR>
</b><BR><b>return:</b> array name =&gt; value pairs.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_our_resume_data" onClick="logFunction('get_our_resume_data', 'behaviourbase.php.source.html#l284')" href="behaviourbase.php.source.html#l284">get_our_resume_data</a>()&nbsp;&nbsp;
<a href="../../_functions/get_our_resume_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Used by {@link start_based_on()} to get the data needed to start a new<BR>
attempt from the point this attempt has go to.<BR>
</b><BR><b>return:</b> unknown_type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="classify_response" onClick="logFunction('classify_response', 'behaviourbase.php.source.html#l293')" href="behaviourbase.php.source.html#l293">classify_response</a>(<a href="../../_variables/whichtries.html">$whichtries</a> = question_attempt::LAST_TRY)&nbsp;&nbsp;
<a href="../../_functions/classify_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Classify responses for this question into a number of sub parts and response classes as defined by<BR>
{@link \question_type::get_possible_responses} for this question type.<BR>
</b><BR><b>param:</b> string $whichtries&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which tries to analyse for response analysis. Will be one of<br>
<b>return:</b> (question_classified_response|array)[] If $whichtries is question_attempt::FIRST_TRY or LAST_TRY index is subpartid<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_state_string" onClick="logFunction('get_state_string', 'behaviourbase.php.source.html#l322')" href="behaviourbase.php.source.html#l322">get_state_string</a>(<a href="../../_variables/showcorrectness.html">$showcorrectness</a>)&nbsp;&nbsp;
<a href="../../_functions/get_state_string.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate a brief textual description of the current state of the question,<BR>
normally displayed under the question number.<BR>
</b><BR><b>param:</b> bool $showcorrectness Whether right/partial/wrong states should<br>
<b>return:</b> string a brief summary of the current state of the qestion attempt.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="init_first_step" onClick="logFunction('init_first_step', 'behaviourbase.php.source.html#l336')" href="behaviourbase.php.source.html#l336">init_first_step</a>(question_attempt_step <a href="../../_variables/step.html">$step</a>, <a href="../../_variables/variant.html">$variant</a>)&nbsp;&nbsp;
<a href="../../_functions/init_first_step.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialise the first step in a question attempt when a new<BR>
{@link question_attempt} is being started.<BR>
</b><BR>This method must call $this-&gt;question-&gt;start_attempt($step, $variant), and may<BR>
perform additional processing if the behaviour requries it.<BR>
<BR>
<b>param:</b> question_attempt_step $step the first step of the<br>
<b>param:</b> int $variant which variant of the question to use.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="apply_attempt_state" onClick="logFunction('apply_attempt_state', 'behaviourbase.php.source.html#l352')" href="behaviourbase.php.source.html#l352">apply_attempt_state</a>(question_attempt_step <a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/apply_attempt_state.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>When an attempt is started based on a previous attempt (see<BR>
{@link question_attempt::start_based_on}) this method is called to setup<BR>
the new attempt.<BR>
</b><BR>This method must call $this-&gt;question-&gt;apply_attempt_state($step), and may<BR>
perform additional processing if the behaviour requries it.<BR>
<BR>
<b>param:</b> question_attempt_step The first step of the {@link question_attempt}<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_same_comment" onClick="logFunction('is_same_comment', 'behaviourbase.php.source.html#l368')" href="behaviourbase.php.source.html#l368">is_same_comment</a>(<a href="../../_variables/pendingstep.html">$pendingstep</a>)&nbsp;&nbsp;
<a href="../../_functions/is_same_comment.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether two manual grading actions are the same. That is, whether<BR>
the comment, and the mark (if given) is the same.<BR>
</b><BR><b>param:</b> question_attempt_step $pendingstep contains the new responses.<br>
<b>return:</b> bool whether the new response is the same as we already have.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_autosave" onClick="logFunction('process_autosave', 'behaviourbase.php.source.html#l445')" href="behaviourbase.php.source.html#l445">process_autosave</a>(question_attempt_pending_step <a href="../../_variables/pendingstep.html">$pendingstep</a>)&nbsp;&nbsp;
<a href="../../_functions/process_autosave.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Auto-saved data. By default this does nothing. interesting processing is<BR>
done in {@link question_behaviour_with_save}.<BR>
</b><BR><b>param:</b> question_attempt_pending_step $pendingstep a partially initialised step<br>
<b>return:</b> bool either {@link question_attempt::KEEP} or {@link question_attempt::DISCARD}<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_comment" onClick="logFunction('process_comment', 'behaviourbase.php.source.html#l458')" href="behaviourbase.php.source.html#l458">process_comment</a>(question_attempt_pending_step <a href="../../_variables/pendingstep.html">$pendingstep</a>)&nbsp;&nbsp;
<a href="../../_functions/process_comment.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Implementation of processing a manual comment/grade action that should<BR>
be suitable for most subclasses.<BR>
</b><BR><b>param:</b> question_attempt_pending_step $pendingstep a partially initialised step<br>
<b>return:</b> bool either {@link question_attempt::KEEP}<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="format_comment" onClick="logFunction('format_comment', 'behaviourbase.php.source.html#l498')" href="behaviourbase.php.source.html#l498">format_comment</a>(<a href="../../_variables/comment.html">$comment</a> = null, <a href="../../_variables/commentformat.html">$commentformat</a> = null)&nbsp;&nbsp;
<a href="../../_functions/format_comment.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> $comment the comment text to format. If omitted,<br>
<b>param:</b> $commentformat the format of the comment, one of the FORMAT_... constants.<br>
<b>return:</b> string the comment, ready to be output.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="summarise_manual_comment" onClick="logFunction('summarise_manual_comment', 'behaviourbase.php.source.html#l514')" href="behaviourbase.php.source.html#l514">summarise_manual_comment</a>(<a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/summarise_manual_comment.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> unknown_type $step<br>
<b>return:</b> string a summary of a manual comment action.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="summarise_start" onClick="logFunction('summarise_start', 'behaviourbase.php.source.html#l532')" href="behaviourbase.php.source.html#l532">summarise_start</a>(<a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/summarise_start.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="summarise_finish" onClick="logFunction('summarise_finish', 'behaviourbase.php.source.html#l536')" href="behaviourbase.php.source.html#l536">summarise_finish</a>(<a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/summarise_finish.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="step_has_a_submitted_response" onClick="logFunction('step_has_a_submitted_response', 'behaviourbase.php.source.html#l540')" href="behaviourbase.php.source.html#l540">step_has_a_submitted_response</a>(<a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/step_has_a_submitted_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Does this step include a response submitted by a student?<BR>
</b><BR>This method should return true for any attempt explicitly submitted by a student. The question engine itself will also<BR>
automatically recognise any last saved response before the attempt is finished, you don't need to return true here for these<BR>
steps with responses which are not explicitly submitted by the student.<BR>
<BR>
<b>param:</b> question_attempt_step $step<br>
<b>return:</b> bool is this a step within a question attempt that includes a submitted response by a student.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="required_question_definition_type" onClick="logFunction('required_question_definition_type', 'behaviourbase.php.source.html#l556')" href="behaviourbase.php.source.html#l556">required_question_definition_type</a>()&nbsp;&nbsp;
<a href="../../_functions/required_question_definition_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>A subclass of {@link question_behaviour} that implements a save<BR>
action that is suitable for most questions that implement the<BR>
{@link question_manually_gradable} interface.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="apply_attempt_state" onClick="logFunction('apply_attempt_state', 'behaviourbase.php.source.html#l569')" href="behaviourbase.php.source.html#l569">apply_attempt_state</a>(question_attempt_step <a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/apply_attempt_state.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_same_response" onClick="logFunction('is_same_response', 'behaviourbase.php.source.html#l576')" href="behaviourbase.php.source.html#l576">is_same_response</a>(question_attempt_step <a href="../../_variables/pendingstep.html">$pendingstep</a>)&nbsp;&nbsp;
<a href="../../_functions/is_same_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Work out whether the response in $pendingstep are significantly different<BR>
from the last set of responses we have stored.<BR>
</b><BR><b>param:</b> question_attempt_step $pendingstep contains the new responses.<br>
<b>return:</b> bool whether the new response is the same as we already have.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_complete_response" onClick="logFunction('is_complete_response', 'behaviourbase.php.source.html#l587')" href="behaviourbase.php.source.html#l587">is_complete_response</a>(question_attempt_step <a href="../../_variables/pendingstep.html">$pendingstep</a>)&nbsp;&nbsp;
<a href="../../_functions/is_complete_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Work out whether the response in $pendingstep represent a complete answer<BR>
to the question. Normally this will call<BR>
{@link question_manually_gradable::is_complete_response}, but some<BR>
behaviours, for example the CBM ones, have their own parts to the<BR>
response.<BR>
</b><BR><b>param:</b> question_attempt_step $pendingstep contains the new responses.<br>
<b>return:</b> bool whether the new response is complete.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_autosave" onClick="logFunction('process_autosave', 'behaviourbase.php.source.html#l600')" href="behaviourbase.php.source.html#l600">process_autosave</a>(question_attempt_pending_step <a href="../../_variables/pendingstep.html">$pendingstep</a>)&nbsp;&nbsp;
<a href="../../_functions/process_autosave.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_save" onClick="logFunction('process_save', 'behaviourbase.php.source.html#l623')" href="behaviourbase.php.source.html#l623">process_save</a>(question_attempt_pending_step <a href="../../_variables/pendingstep.html">$pendingstep</a>)&nbsp;&nbsp;
<a href="../../_functions/process_save.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Implementation of processing a save action that should be suitable for<BR>
most subclasses.<BR>
</b><BR><b>param:</b> question_attempt_pending_step $pendingstep a partially initialised step<br>
<b>return:</b> bool either {@link question_attempt::KEEP} or {@link question_attempt::DISCARD}<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="summarise_submit" onClick="logFunction('summarise_submit', 'behaviourbase.php.source.html#l649')" href="behaviourbase.php.source.html#l649">summarise_submit</a>(question_attempt_step <a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/summarise_submit.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="summarise_save" onClick="logFunction('summarise_save', 'behaviourbase.php.source.html#l654')" href="behaviourbase.php.source.html#l654">summarise_save</a>(question_attempt_step <a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/summarise_save.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="summarise_finish" onClick="logFunction('summarise_finish', 'behaviourbase.php.source.html#l664')" href="behaviourbase.php.source.html#l664">summarise_finish</a>(<a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/summarise_finish.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="step_has_a_submitted_response" onClick="logFunction('step_has_a_submitted_response', 'behaviourbase.php.source.html#l675')" href="behaviourbase.php.source.html#l675">step_has_a_submitted_response</a>(<a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/step_has_a_submitted_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="default_certainty" onClick="logFunction('default_certainty', 'behaviourbase.php.source.html#l727')" href="behaviourbase.php.source.html#l727">default_certainty</a>()&nbsp;&nbsp;
<a href="../../_functions/default_certainty.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> int the default certaintly level that should be assuemd if<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="adjust_fraction" onClick="logFunction('adjust_fraction', 'behaviourbase.php.source.html#l731')" href="behaviourbase.php.source.html#l731">adjust_fraction</a>(<a href="../../_variables/fraction.html">$fraction</a>, <a href="../../_variables/certainty.html">$certainty</a>)&nbsp;&nbsp;
<a href="../../_functions/adjust_fraction.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a fraction, and a certainty, compute the adjusted fraction.<BR>
</b><BR><b>param:</b> number $fraction the raw fraction for this question.<br>
<b>param:</b> int $certainty one of the certainty level constants.<br>
<b>return:</b> number the adjusted fraction taking the certainty into account.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_string" onClick="logFunction('get_string', 'behaviourbase.php.source.html#l756')" href="behaviourbase.php.source.html#l756">get_string</a>(<a href="../../_variables/certainty.html">$certainty</a>)&nbsp;&nbsp;
<a href="../../_functions/get_string.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> int $certainty one of the LOW/MED/HIGH constants.<br>
<b>return:</b> string a textual description of this certainty.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_short_string" onClick="logFunction('get_short_string', 'behaviourbase.php.source.html#l764')" href="behaviourbase.php.source.html#l764">get_short_string</a>(<a href="../../_variables/certainty.html">$certainty</a>)&nbsp;&nbsp;
<a href="../../_functions/get_short_string.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> int $certainty one of the LOW/MED/HIGH constants.<br>
<b>return:</b> string a short textual description of this certainty.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="summary_with_certainty" onClick="logFunction('summary_with_certainty', 'behaviourbase.php.source.html#l768')" href="behaviourbase.php.source.html#l768">summary_with_certainty</a>(<a href="../../_variables/summary.html">$summary</a>, <a href="../../_variables/certainty.html">$certainty</a>)&nbsp;&nbsp;
<a href="../../_functions/summary_with_certainty.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add information about certainty to a response summary.<BR>
</b><BR><b>param:</b> string $summary the response summary.<br>
<b>param:</b> int $certainty the level of certainty to add.<br>
<b>return:</b> string the summary with information about the certainty added.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="optimal_probablility_low" onClick="logFunction('optimal_probablility_low', 'behaviourbase.php.source.html#l785')" href="behaviourbase.php.source.html#l785">optimal_probablility_low</a>(<a href="../../_variables/certainty.html">$certainty</a>)&nbsp;&nbsp;
<a href="../../_functions/optimal_probablility_low.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> int $certainty one of the LOW/MED/HIGH constants.<br>
<b>return:</b> float the lower limit of the optimal probability range for this certainty.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="optimal_probablility_high" onClick="logFunction('optimal_probablility_high', 'behaviourbase.php.source.html#l793')" href="behaviourbase.php.source.html#l793">optimal_probablility_high</a>(<a href="../../_variables/certainty.html">$certainty</a>)&nbsp;&nbsp;
<a href="../../_functions/optimal_probablility_high.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> int $certainty one of the LOW/MED/HIGH constants.<br>
<b>return:</b> float the upper limit of the optimal probability range for this certainty.<br>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
