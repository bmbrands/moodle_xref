<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /question/engine/renderer.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='question/engine';
filename='renderer.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/question/engine/</a> -> <a href="renderer.php.html">renderer.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="renderer.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="renderer.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Renderers for outputting parts of the question engine.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    moodlecore</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @subpackage questionengine</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * This renderer controls the overall output of questions. It works with a</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * {@link qbehaviour_renderer} and a {@link qtype_renderer} to output the</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * type-specific bits. The main entry point is the {@link question()} method.</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> *</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> */</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_question_renderer')" href="../../_classes/core_question_renderer.html" onMouseOver="classPopup(event,'core_question_renderer')">core_question_renderer</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('plugin_renderer_base')" href="../../_classes/plugin_renderer_base.html" onMouseOver="classPopup(event,'plugin_renderer_base')">plugin_renderer_base</a> {
<a name="l39"><span class="linenum">  39</span></a>      public function <a class="function" onClick="logFunction('get_page')" href="../../_functions/get_page.html" onMouseOver="funcPopup(event,'get_page')">get_page</a>() {
<a name="l40"><span class="linenum">  40</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/page.html">page</a>;
<a name="l41"><span class="linenum">  41</span></a>      }
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>      <span class="comment">/**</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     * Render an icon, optionally with the word 'Preview' beside it, to preview</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * a given question.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * @param int $questionid the id of the question to be previewed.</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * @param context $context the context in which the preview is happening.</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     *      Must be a course or category context.</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     * @param bool $showlabel if true, show the word 'Preview' after the icon.</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     *      If false, just show the icon.</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">     */</span>
<a name="l52"><span class="linenum">  52</span></a>      public function <a class="function" onClick="logFunction('question_preview_link')" href="../../_functions/question_preview_link.html" onMouseOver="funcPopup(event,'question_preview_link')">question_preview_link</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>, context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it36223" onMouseOver="hilite(36223)" onMouseOut="lolite()" onClick="logVariable('showlabel')" href="../../_variables/showlabel.html">$showlabel</a>) {
<a name="l53"><span class="linenum">  53</span></a>          if (<a class="var it36223" onMouseOver="hilite(36223)" onMouseOut="lolite()" onClick="logVariable('showlabel')" href="../../_variables/showlabel.html">$showlabel</a>) {
<a name="l54"><span class="linenum">  54</span></a>              <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../../_variables/alt.html">$alt</a> = '';
<a name="l55"><span class="linenum">  55</span></a>              <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a> = ' ' . <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('preview');
<a name="l56"><span class="linenum">  56</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a> = array();
<a name="l57"><span class="linenum">  57</span></a>          } else {
<a name="l58"><span class="linenum">  58</span></a>              <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../../_variables/alt.html">$alt</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('preview');
<a name="l59"><span class="linenum">  59</span></a>              <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a> = '';
<a name="l60"><span class="linenum">  60</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a> = array('title' =&gt; <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../../_variables/alt.html">$alt</a>);
<a name="l61"><span class="linenum">  61</span></a>          }
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>          <a class="var it1177" onMouseOver="hilite(1177)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../_variables/image.html">$image</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/preview', <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../../_variables/alt.html">$alt</a>, '', array('class' =&gt; 'iconsmall'));
<a name="l64"><span class="linenum">  64</span></a>          <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <a class="function" onClick="logFunction('question_preview_url')" href="../../_functions/question_preview_url.html" onMouseOver="funcPopup(event,'question_preview_url')">question_preview_url</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>, null, null, null, null, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l65"><span class="linenum">  65</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a> = <span class="keyword">new </span><a class="class" onClick="logClass('popup_action')" href="../../_classes/popup_action.html" onMouseOver="classPopup(event,'popup_action')">popup_action</a>('click', <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, 'questionpreview',
<a name="l66"><span class="linenum">  66</span></a>                  <a class="function" onClick="logFunction('question_preview_popup_params')" href="../../_functions/question_preview_popup_params.html" onMouseOver="funcPopup(event,'question_preview_popup_params')">question_preview_popup_params</a>());
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, <a class="var it1177" onMouseOver="hilite(1177)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../_variables/image.html">$image</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>);
<a name="l69"><span class="linenum">  69</span></a>      }
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>      <span class="comment">/**</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     * Generate the display of a question in a particular state, and with certain</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     * display options. Normally you do not call this method directly. Intsead</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">     * you call {@link question_usage_by_activity::render_question()} which will</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">     * call this method with appropriate arguments.</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">     *</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">     * @param qbehaviour_renderer $behaviouroutput the renderer to output the behaviour</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">     * @param qtype_renderer $qtoutput the renderer to output the question type</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     * @param string|null $number The question number to display. 'i' is a special</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     *      value that gets displayed as Information. Null means no number is displayed.</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     * @return string HTML representation of the question.</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     */</span>
<a name="l87"><span class="linenum">  87</span></a>      public function <a class="function" onClick="logFunction('question')" href="../../_functions/question.html" onMouseOver="funcPopup(event,'question')">question</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, qbehaviour_renderer <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>,
<a name="l88"><span class="linenum">  88</span></a>              qtype_renderer <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>) {
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = '';
<a name="l91"><span class="linenum">  91</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array(
<a name="l92"><span class="linenum">  92</span></a>              'id' =&gt; 'q' . <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_slot')" href="../../_functions/get_slot.html" onMouseOver="funcPopup(event,'get_slot')">get_slot</a>(),
<a name="l93"><span class="linenum">  93</span></a>              'class' =&gt; <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(' ', array(
<a name="l94"><span class="linenum">  94</span></a>                  'que',
<a name="l95"><span class="linenum">  95</span></a>                  <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;qtype-&gt;<a class="phpfunction" onClick="logFunction('name')" href="../../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(),
<a name="l96"><span class="linenum">  96</span></a>                  <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_name')" href="../../_functions/get_behaviour_name.html" onMouseOver="funcPopup(event,'get_behaviour_name')">get_behaviour_name</a>(),
<a name="l97"><span class="linenum">  97</span></a>                  <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_state_class')" href="../../_functions/get_state_class.html" onMouseOver="funcPopup(event,'get_state_class')">get_state_class</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('correctness')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/correctness.html">correctness</a> &amp;&amp; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('has_marks')" href="../../_functions/has_marks.html" onMouseOver="funcPopup(event,'has_marks')">has_marks</a>()),
<a name="l98"><span class="linenum">  98</span></a>              ))
<a name="l99"><span class="linenum">  99</span></a>          ));
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div',
<a name="l102"><span class="linenum"> 102</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('info')" href="../../_functions/info.html" onMouseOver="funcPopup(event,'info')">info</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>, <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>),
<a name="l103"><span class="linenum"> 103</span></a>                  array('class' =&gt; 'info'));
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'content'));
<a name="l106"><span class="linenum"> 106</span></a>  
<a name="l107"><span class="linenum"> 107</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div',
<a name="l108"><span class="linenum"> 108</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_part_heading')" href="../../_functions/add_part_heading.html" onMouseOver="funcPopup(event,'add_part_heading')">add_part_heading</a>(<a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>-&gt;<a class="function" onClick="logFunction('formulation_heading')" href="../../_functions/formulation_heading.html" onMouseOver="funcPopup(event,'formulation_heading')">formulation_heading</a>(),
<a name="l109"><span class="linenum"> 109</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('formulation')" href="../../_functions/formulation.html" onMouseOver="funcPopup(event,'formulation')">formulation</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>, <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>)),
<a name="l110"><span class="linenum"> 110</span></a>                  array('class' =&gt; 'formulation'));
<a name="l111"><span class="linenum"> 111</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div',
<a name="l112"><span class="linenum"> 112</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_part_heading')" href="../../_functions/add_part_heading.html" onMouseOver="funcPopup(event,'add_part_heading')">add_part_heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('feedback', 'question'),
<a name="l113"><span class="linenum"> 113</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('outcome')" href="../../_functions/outcome.html" onMouseOver="funcPopup(event,'outcome')">outcome</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>, <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>)),
<a name="l114"><span class="linenum"> 114</span></a>                  array('class' =&gt; 'outcome'));
<a name="l115"><span class="linenum"> 115</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div',
<a name="l116"><span class="linenum"> 116</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_part_heading')" href="../../_functions/add_part_heading.html" onMouseOver="funcPopup(event,'add_part_heading')">add_part_heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('comments', 'question'),
<a name="l117"><span class="linenum"> 117</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('manual_comment')" href="../../_functions/manual_comment.html" onMouseOver="funcPopup(event,'manual_comment')">manual_comment</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>, <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>)),
<a name="l118"><span class="linenum"> 118</span></a>                  array('class' =&gt; 'comment'));
<a name="l119"><span class="linenum"> 119</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div',
<a name="l120"><span class="linenum"> 120</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('response_history')" href="../../_functions/response_history.html" onMouseOver="funcPopup(event,'response_history')">response_history</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>, <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>),
<a name="l121"><span class="linenum"> 121</span></a>                  array('class' =&gt; 'history'));
<a name="l122"><span class="linenum"> 122</span></a>  
<a name="l123"><span class="linenum"> 123</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l124"><span class="linenum"> 124</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l125"><span class="linenum"> 125</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l126"><span class="linenum"> 126</span></a>      }
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>      <span class="comment">/**</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     * Generate the information bit of the question display that contains the</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     * metadata like the question number, current state, and mark.</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * @param qbehaviour_renderer $behaviouroutput the renderer to output the behaviour</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     * @param qtype_renderer $qtoutput the renderer to output the question type</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * @param string|null $number The question number to display. 'i' is a special</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     *      value that gets displayed as Information. Null means no number is displayed.</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     */</span>
<a name="l141"><span class="linenum"> 141</span></a>      protected function <a class="function" onClick="logFunction('info')" href="../../_functions/info.html" onMouseOver="funcPopup(event,'info')">info</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, qbehaviour_renderer <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>,
<a name="l142"><span class="linenum"> 142</span></a>              qtype_renderer <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>) {
<a name="l143"><span class="linenum"> 143</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = '';
<a name="l144"><span class="linenum"> 144</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('number')" href="../../_functions/number.html" onMouseOver="funcPopup(event,'number')">number</a>(<a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>);
<a name="l145"><span class="linenum"> 145</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('status')" href="../../_functions/status.html" onMouseOver="funcPopup(event,'status')">status</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l146"><span class="linenum"> 146</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('mark_summary')" href="../../_functions/mark_summary.html" onMouseOver="funcPopup(event,'mark_summary')">mark_summary</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l147"><span class="linenum"> 147</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('extrainfocontent')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/extrainfocontent.html">extrainfocontent</a>;
<a name="l148"><span class="linenum"> 148</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question_flag')" href="../../_functions/question_flag.html" onMouseOver="funcPopup(event,'question_flag')">question_flag</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('flags')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/flags.html">flags</a>);
<a name="l149"><span class="linenum"> 149</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edit_question_link')" href="../../_functions/edit_question_link.html" onMouseOver="funcPopup(event,'edit_question_link')">edit_question_link</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l150"><span class="linenum"> 150</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l151"><span class="linenum"> 151</span></a>      }
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>      <span class="comment">/**</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     * Generate the display of the question number.</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">     * @param string|null $number The question number to display. 'i' is a special</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">     *      value that gets displayed as Information. Null means no number is displayed.</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     */</span>
<a name="l159"><span class="linenum"> 159</span></a>      protected function <a class="function" onClick="logFunction('number')" href="../../_functions/number.html" onMouseOver="funcPopup(event,'number')">number</a>(<a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>) {
<a name="l160"><span class="linenum"> 160</span></a>          <a class="var it36224" onMouseOver="hilite(36224)" onMouseOut="lolite()" onClick="logVariable('numbertext')" href="../../_variables/numbertext.html">$numbertext</a> = '';
<a name="l161"><span class="linenum"> 161</span></a>          if (<a class="phpfunction" onClick="logFunction('is_numeric')" href="../../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>)) {
<a name="l162"><span class="linenum"> 162</span></a>              <a class="var it36224" onMouseOver="hilite(36224)" onMouseOut="lolite()" onClick="logVariable('numbertext')" href="../../_variables/numbertext.html">$numbertext</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questionx', 'question',
<a name="l163"><span class="linenum"> 163</span></a>                      <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>, array('class' =&gt; 'qno')));
<a name="l164"><span class="linenum"> 164</span></a>          } else if (<a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a> == 'i') {
<a name="l165"><span class="linenum"> 165</span></a>              <a class="var it36224" onMouseOver="hilite(36224)" onMouseOut="lolite()" onClick="logVariable('numbertext')" href="../../_variables/numbertext.html">$numbertext</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('information', 'question');
<a name="l166"><span class="linenum"> 166</span></a>          }
<a name="l167"><span class="linenum"> 167</span></a>          if (!<a class="var it36224" onMouseOver="hilite(36224)" onMouseOut="lolite()" onClick="logVariable('numbertext')" href="../../_variables/numbertext.html">$numbertext</a>) {
<a name="l168"><span class="linenum"> 168</span></a>              return '';
<a name="l169"><span class="linenum"> 169</span></a>          }
<a name="l170"><span class="linenum"> 170</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('h3', <a class="var it36224" onMouseOver="hilite(36224)" onMouseOut="lolite()" onClick="logVariable('numbertext')" href="../../_variables/numbertext.html">$numbertext</a>, array('class' =&gt; 'no'));
<a name="l171"><span class="linenum"> 171</span></a>      }
<a name="l172"><span class="linenum"> 172</span></a>  
<a name="l173"><span class="linenum"> 173</span></a>      <span class="comment">/**</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     * Add an invisible heading like 'question text', 'feebdack' at the top of</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     * a section's contents, but only if the section has some content.</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     * @param string $heading the heading to add.</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">     * @param string $content the content of the section.</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     * @return string HTML fragment with the heading added.</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment">     */</span>
<a name="l180"><span class="linenum"> 180</span></a>      protected function <a class="function" onClick="logFunction('add_part_heading')" href="../../_functions/add_part_heading.html" onMouseOver="funcPopup(event,'add_part_heading')">add_part_heading</a>(<a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../../_variables/heading.html">$heading</a>, <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>) {
<a name="l181"><span class="linenum"> 181</span></a>          if (<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>) {
<a name="l182"><span class="linenum"> 182</span></a>              <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('h4', <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../../_variables/heading.html">$heading</a>, array('class' =&gt; 'accesshide')) . <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>;
<a name="l183"><span class="linenum"> 183</span></a>          }
<a name="l184"><span class="linenum"> 184</span></a>          return <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>;
<a name="l185"><span class="linenum"> 185</span></a>      }
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>      <span class="comment">/**</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">     * Generate the display of the status line that gives the current state of</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">     * the question.</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">     * @param qbehaviour_renderer $behaviouroutput the renderer to output the behaviour</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     */</span>
<a name="l196"><span class="linenum"> 196</span></a>      protected function <a class="function" onClick="logFunction('status')" href="../../_functions/status.html" onMouseOver="funcPopup(event,'status')">status</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, qbehaviour_renderer <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>,
<a name="l197"><span class="linenum"> 197</span></a>              question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l198"><span class="linenum"> 198</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_state_string')" href="../../_functions/get_state_string.html" onMouseOver="funcPopup(event,'get_state_string')">get_state_string</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('correctness')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/correctness.html">correctness</a>),
<a name="l199"><span class="linenum"> 199</span></a>                  array('class' =&gt; 'state'));
<a name="l200"><span class="linenum"> 200</span></a>      }
<a name="l201"><span class="linenum"> 201</span></a>  
<a name="l202"><span class="linenum"> 202</span></a>      <span class="comment">/**</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">     * Generate the display of the marks for this question.</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">     * @param qbehaviour_renderer $behaviouroutput the behaviour renderer, which can generate a custom display.</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment">     */</span>
<a name="l209"><span class="linenum"> 209</span></a>      protected function <a class="function" onClick="logFunction('mark_summary')" href="../../_functions/mark_summary.html" onMouseOver="funcPopup(event,'mark_summary')">mark_summary</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, qbehaviour_renderer <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l210"><span class="linenum"> 210</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div',
<a name="l211"><span class="linenum"> 211</span></a>                  <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>-&gt;<a class="function" onClick="logFunction('mark_summary')" href="../../_functions/mark_summary.html" onMouseOver="funcPopup(event,'mark_summary')">mark_summary</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>),
<a name="l212"><span class="linenum"> 212</span></a>                  array('class' =&gt; 'grade'));
<a name="l213"><span class="linenum"> 213</span></a>      }
<a name="l214"><span class="linenum"> 214</span></a>  
<a name="l215"><span class="linenum"> 215</span></a>      <span class="comment">/**</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment">     * Generate the display of the marks for this question.</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     */</span>
<a name="l221"><span class="linenum"> 221</span></a>      public function <a class="function" onClick="logFunction('standard_mark_summary')" href="../../_functions/standard_mark_summary.html" onMouseOver="funcPopup(event,'standard_mark_summary')">standard_mark_summary</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, qbehaviour_renderer <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l222"><span class="linenum"> 222</span></a>          if (!<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('marks')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/marks.html">marks</a>) {
<a name="l223"><span class="linenum"> 223</span></a>              return '';
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>          } else if (<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_max_mark')" href="../../_functions/get_max_mark.html" onMouseOver="funcPopup(event,'get_max_mark')">get_max_mark</a>() == 0) {
<a name="l226"><span class="linenum"> 226</span></a>              return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notgraded', 'question');
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>          } else if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('marks')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/marks.html">marks</a> == <a class="class" onClick="logClass('question_display_options')" href="../../_classes/question_display_options.html" onMouseOver="classPopup(event,'question_display_options')">question_display_options</a>::MAX_ONLY ||
<a name="l229"><span class="linenum"> 229</span></a>                  <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_fraction')" href="../../_functions/get_fraction.html" onMouseOver="funcPopup(event,'get_fraction')">get_fraction</a>())) {
<a name="l230"><span class="linenum"> 230</span></a>              return <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>-&gt;<a class="function" onClick="logFunction('marked_out_of_max')" href="../../_functions/marked_out_of_max.html" onMouseOver="funcPopup(event,'marked_out_of_max')">marked_out_of_max</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l231"><span class="linenum"> 231</span></a>  
<a name="l232"><span class="linenum"> 232</span></a>          } else {
<a name="l233"><span class="linenum"> 233</span></a>              return <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>-&gt;<a class="function" onClick="logFunction('mark_out_of_max')" href="../../_functions/mark_out_of_max.html" onMouseOver="funcPopup(event,'mark_out_of_max')">mark_out_of_max</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l234"><span class="linenum"> 234</span></a>          }
<a name="l235"><span class="linenum"> 235</span></a>      }
<a name="l236"><span class="linenum"> 236</span></a>  
<a name="l237"><span class="linenum"> 237</span></a>      <span class="comment">/**</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     * Generate the display of the available marks for this question.</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     */</span>
<a name="l243"><span class="linenum"> 243</span></a>      public function <a class="function" onClick="logFunction('standard_marked_out_of_max')" href="../../_functions/standard_marked_out_of_max.html" onMouseOver="funcPopup(event,'standard_marked_out_of_max')">standard_marked_out_of_max</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l244"><span class="linenum"> 244</span></a>          return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('markedoutofmax', 'question', <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('format_max_mark')" href="../../_functions/format_max_mark.html" onMouseOver="funcPopup(event,'format_max_mark')">format_max_mark</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('markdp')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/markdp.html">markdp</a>));
<a name="l245"><span class="linenum"> 245</span></a>      }
<a name="l246"><span class="linenum"> 246</span></a>  
<a name="l247"><span class="linenum"> 247</span></a>      <span class="comment">/**</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * Generate the display of the marks for this question out of the available marks.</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     */</span>
<a name="l253"><span class="linenum"> 253</span></a>      public function <a class="function" onClick="logFunction('standard_mark_out_of_max')" href="../../_functions/standard_mark_out_of_max.html" onMouseOver="funcPopup(event,'standard_mark_out_of_max')">standard_mark_out_of_max</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l254"><span class="linenum"> 254</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = new stdClass();
<a name="l255"><span class="linenum"> 255</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('mark')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/mark.html">mark</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('format_mark')" href="../../_functions/format_mark.html" onMouseOver="funcPopup(event,'format_mark')">format_mark</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('markdp')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/markdp.html">markdp</a>);
<a name="l256"><span class="linenum"> 256</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('max')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/max.html">max</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('format_max_mark')" href="../../_functions/format_max_mark.html" onMouseOver="funcPopup(event,'format_max_mark')">format_max_mark</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('markdp')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/markdp.html">markdp</a>);
<a name="l257"><span class="linenum"> 257</span></a>          return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('markoutofmax', 'question', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>);
<a name="l258"><span class="linenum"> 258</span></a>      }
<a name="l259"><span class="linenum"> 259</span></a>  
<a name="l260"><span class="linenum"> 260</span></a>      <span class="comment">/**</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">     * Render the question flag, assuming $flagsoption allows it.</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     *</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * @param int $flagsoption the option that says whether flags should be displayed.</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     */</span>
<a name="l266"><span class="linenum"> 266</span></a>      protected function <a class="function" onClick="logFunction('question_flag')" href="../../_functions/question_flag.html" onMouseOver="funcPopup(event,'question_flag')">question_flag</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it36225" onMouseOver="hilite(36225)" onMouseOut="lolite()" onClick="logVariable('flagsoption')" href="../../_variables/flagsoption.html">$flagsoption</a>) {
<a name="l267"><span class="linenum"> 267</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>          <a class="var it36226" onMouseOver="hilite(36226)" onMouseOut="lolite()" onClick="logVariable('divattributes')" href="../../_variables/divattributes.html">$divattributes</a> = array('class' =&gt; 'questionflag');
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>          switch (<a class="var it36225" onMouseOver="hilite(36225)" onMouseOut="lolite()" onClick="logVariable('flagsoption')" href="../../_variables/flagsoption.html">$flagsoption</a>) {
<a name="l272"><span class="linenum"> 272</span></a>              case <a class="class" onClick="logClass('question_display_options')" href="../../_classes/question_display_options.html" onMouseOver="classPopup(event,'question_display_options')">question_display_options</a>::VISIBLE:
<a name="l273"><span class="linenum"> 273</span></a>                  <a class="var it36227" onMouseOver="hilite(36227)" onMouseOut="lolite()" onClick="logVariable('flagcontent')" href="../../_variables/flagcontent.html">$flagcontent</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_flag_html')" href="../../_functions/get_flag_html.html" onMouseOver="funcPopup(event,'get_flag_html')">get_flag_html</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('is_flagged')" href="../../_functions/is_flagged.html" onMouseOver="funcPopup(event,'is_flagged')">is_flagged</a>());
<a name="l274"><span class="linenum"> 274</span></a>                  break;
<a name="l275"><span class="linenum"> 275</span></a>  
<a name="l276"><span class="linenum"> 276</span></a>              case <a class="class" onClick="logClass('question_display_options')" href="../../_classes/question_display_options.html" onMouseOver="classPopup(event,'question_display_options')">question_display_options</a>::EDITABLE:
<a name="l277"><span class="linenum"> 277</span></a>                  <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_flag_field_name')" href="../../_functions/get_flag_field_name.html" onMouseOver="funcPopup(event,'get_flag_field_name')">get_flag_field_name</a>();
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">                // The checkbox id must be different from any element name, because</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">                // of a stupid IE bug:</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">                // http://www.456bereastreet.com/archive/200802/beware_of_id_and_name_attribute_mixups_when_using_getelementbyid_in_internet_explorer/</span>
<a name="l281"><span class="linenum"> 281</span></a>                  <a class="var it22453" onMouseOver="hilite(22453)" onMouseOut="lolite()" onClick="logVariable('checkboxattributes')" href="../../_variables/checkboxattributes.html">$checkboxattributes</a> = array(
<a name="l282"><span class="linenum"> 282</span></a>                      'type' =&gt; 'checkbox',
<a name="l283"><span class="linenum"> 283</span></a>                      'id' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> . 'checkbox',
<a name="l284"><span class="linenum"> 284</span></a>                      'name' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>,
<a name="l285"><span class="linenum"> 285</span></a>                      'value' =&gt; 1,
<a name="l286"><span class="linenum"> 286</span></a>                  );
<a name="l287"><span class="linenum"> 287</span></a>                  if (<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('is_flagged')" href="../../_functions/is_flagged.html" onMouseOver="funcPopup(event,'is_flagged')">is_flagged</a>()) {
<a name="l288"><span class="linenum"> 288</span></a>                      <a class="var it22453" onMouseOver="hilite(22453)" onMouseOut="lolite()" onClick="logVariable('checkboxattributes')" href="../../_variables/checkboxattributes.html">$checkboxattributes</a>['checked'] = 'checked';
<a name="l289"><span class="linenum"> 289</span></a>                  }
<a name="l290"><span class="linenum"> 290</span></a>                  <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> = question_flags::<a class="function" onClick="logFunction('get_postdata')" href="../../_functions/get_postdata.html" onMouseOver="funcPopup(event,'get_postdata')">get_postdata</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>);
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>                  <a class="var it36227" onMouseOver="hilite(36227)" onMouseOut="lolite()" onClick="logVariable('flagcontent')" href="../../_variables/flagcontent.html">$flagcontent</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input',
<a name="l293"><span class="linenum"> 293</span></a>                                  array('type' =&gt; 'hidden', 'name' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>, 'value' =&gt; 0)) .
<a name="l294"><span class="linenum"> 294</span></a>                          <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', <a class="var it22453" onMouseOver="hilite(22453)" onMouseOut="lolite()" onClick="logVariable('checkboxattributes')" href="../../_variables/checkboxattributes.html">$checkboxattributes</a>) .
<a name="l295"><span class="linenum"> 295</span></a>                          <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input',
<a name="l296"><span class="linenum"> 296</span></a>                                  array('type' =&gt; 'hidden', 'value' =&gt; <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>, 'class' =&gt; 'questionflagpostdata')) .
<a name="l297"><span class="linenum"> 297</span></a>                          <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('label', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_flag_html')" href="../../_functions/get_flag_html.html" onMouseOver="funcPopup(event,'get_flag_html')">get_flag_html</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('is_flagged')" href="../../_functions/is_flagged.html" onMouseOver="funcPopup(event,'is_flagged')">is_flagged</a>(), <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> . 'img'),
<a name="l298"><span class="linenum"> 298</span></a>                                  array('id' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> . 'label', 'for' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> . 'checkbox')) . &quot;\n&quot;;
<a name="l299"><span class="linenum"> 299</span></a>  
<a name="l300"><span class="linenum"> 300</span></a>                  <a class="var it36226" onMouseOver="hilite(36226)" onMouseOut="lolite()" onClick="logVariable('divattributes')" href="../../_variables/divattributes.html">$divattributes</a> = array(
<a name="l301"><span class="linenum"> 301</span></a>                      'class' =&gt; 'questionflag editable',
<a name="l302"><span class="linenum"> 302</span></a>                      'aria-atomic' =&gt; 'true',
<a name="l303"><span class="linenum"> 303</span></a>                      'aria-relevant' =&gt; 'text',
<a name="l304"><span class="linenum"> 304</span></a>                      'aria-live' =&gt; 'assertive',
<a name="l305"><span class="linenum"> 305</span></a>                  );
<a name="l306"><span class="linenum"> 306</span></a>  
<a name="l307"><span class="linenum"> 307</span></a>                  break;
<a name="l308"><span class="linenum"> 308</span></a>  
<a name="l309"><span class="linenum"> 309</span></a>              default:
<a name="l310"><span class="linenum"> 310</span></a>                  <a class="var it36227" onMouseOver="hilite(36227)" onMouseOut="lolite()" onClick="logVariable('flagcontent')" href="../../_variables/flagcontent.html">$flagcontent</a> = '';
<a name="l311"><span class="linenum"> 311</span></a>          }
<a name="l312"><span class="linenum"> 312</span></a>  
<a name="l313"><span class="linenum"> 313</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div', <a class="var it36227" onMouseOver="hilite(36227)" onMouseOut="lolite()" onClick="logVariable('flagcontent')" href="../../_variables/flagcontent.html">$flagcontent</a>, <a class="var it36226" onMouseOver="hilite(36226)" onMouseOut="lolite()" onClick="logVariable('divattributes')" href="../../_variables/divattributes.html">$divattributes</a>);
<a name="l314"><span class="linenum"> 314</span></a>      }
<a name="l315"><span class="linenum"> 315</span></a>  
<a name="l316"><span class="linenum"> 316</span></a>      <span class="comment">/**</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     * Work out the actual img tag needed for the flag</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">     *</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     * @param bool $flagged whether the question is currently flagged.</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">     * @param string $id an id to be added as an attribute to the img (optional).</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment">     * @return string the img tag.</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">     */</span>
<a name="l323"><span class="linenum"> 323</span></a>      protected function <a class="function" onClick="logFunction('get_flag_html')" href="../../_functions/get_flag_html.html" onMouseOver="funcPopup(event,'get_flag_html')">get_flag_html</a>(<a class="var it11135" onMouseOver="hilite(11135)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a>, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = '') {
<a name="l324"><span class="linenum"> 324</span></a>          if (<a class="var it11135" onMouseOver="hilite(11135)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a>) {
<a name="l325"><span class="linenum"> 325</span></a>              <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../_variables/icon.html">$icon</a> = 'i/flagged';
<a name="l326"><span class="linenum"> 326</span></a>              <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../../_variables/alt.html">$alt</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('flagged', 'question');
<a name="l327"><span class="linenum"> 327</span></a>          } else {
<a name="l328"><span class="linenum"> 328</span></a>              <a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../_variables/icon.html">$icon</a> = 'i/unflagged';
<a name="l329"><span class="linenum"> 329</span></a>              <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../../_variables/alt.html">$alt</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notflagged', 'question');
<a name="l330"><span class="linenum"> 330</span></a>          }
<a name="l331"><span class="linenum"> 331</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a> = array(
<a name="l332"><span class="linenum"> 332</span></a>              'src' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>(<a class="var it103" onMouseOver="hilite(103)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../_variables/icon.html">$icon</a>),
<a name="l333"><span class="linenum"> 333</span></a>              'alt' =&gt; <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../../_variables/alt.html">$alt</a>,
<a name="l334"><span class="linenum"> 334</span></a>          );
<a name="l335"><span class="linenum"> 335</span></a>          if (<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l336"><span class="linenum"> 336</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>['id'] = <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>;
<a name="l337"><span class="linenum"> 337</span></a>          }
<a name="l338"><span class="linenum"> 338</span></a>          <a class="var it2843" onMouseOver="hilite(2843)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../_variables/img.html">$img</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('img', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>);
<a name="l339"><span class="linenum"> 339</span></a>          if (<a class="var it11135" onMouseOver="hilite(11135)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a>) {
<a name="l340"><span class="linenum"> 340</span></a>              <a class="var it2843" onMouseOver="hilite(2843)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../_variables/img.html">$img</a> .= ' ' . <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('flagged', 'question');
<a name="l341"><span class="linenum"> 341</span></a>          }
<a name="l342"><span class="linenum"> 342</span></a>          return <a class="var it2843" onMouseOver="hilite(2843)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../_variables/img.html">$img</a>;
<a name="l343"><span class="linenum"> 343</span></a>      }
<a name="l344"><span class="linenum"> 344</span></a>  
<a name="l345"><span class="linenum"> 345</span></a>      protected function <a class="function" onClick="logFunction('edit_question_link')" href="../../_functions/edit_question_link.html" onMouseOver="funcPopup(event,'edit_question_link')">edit_question_link</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>,
<a name="l346"><span class="linenum"> 346</span></a>              question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l347"><span class="linenum"> 347</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>          if (empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('editquestionparams')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/editquestionparams.html">editquestionparams</a>)) {
<a name="l350"><span class="linenum"> 350</span></a>              return '';
<a name="l351"><span class="linenum"> 351</span></a>          }
<a name="l352"><span class="linenum"> 352</span></a>  
<a name="l353"><span class="linenum"> 353</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('editquestionparams')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/editquestionparams.html">editquestionparams</a>;
<a name="l354"><span class="linenum"> 354</span></a>          if (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['returnurl'] instanceof moodle_url) {
<a name="l355"><span class="linenum"> 355</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['returnurl'] = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['returnurl']-&gt;<a class="function" onClick="logFunction('out_as_local_url')" href="../../_functions/out_as_local_url.html" onMouseOver="funcPopup(event,'out_as_local_url')">out_as_local_url</a>(false);
<a name="l356"><span class="linenum"> 356</span></a>          }
<a name="l357"><span class="linenum"> 357</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['id'] = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;id;
<a name="l358"><span class="linenum"> 358</span></a>          <a class="var it1722" onMouseOver="hilite(1722)" onMouseOut="lolite()" onClick="logVariable('editurl')" href="../../_variables/editurl.html">$editurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../question/question.php.html">/question/question.php</a>', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(
<a name="l361"><span class="linenum"> 361</span></a>                  <a class="var it1722" onMouseOver="hilite(1722)" onMouseOut="lolite()" onClick="logVariable('editurl')" href="../../_variables/editurl.html">$editurl</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/edit', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('edit'), '', array('class' =&gt; 'iconsmall')) .
<a name="l362"><span class="linenum"> 362</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editquestion', 'question')),
<a name="l363"><span class="linenum"> 363</span></a>                  array('class' =&gt; 'editquestion'));
<a name="l364"><span class="linenum"> 364</span></a>      }
<a name="l365"><span class="linenum"> 365</span></a>  
<a name="l366"><span class="linenum"> 366</span></a>      <span class="comment">/**</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">     * Generate the display of the formulation part of the question. This is the</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">     * area that contains the quetsion text, and the controls for students to</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">     * input their answers. Some question types also embed feedback, for</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">     * example ticks and crosses, in this area.</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">     *</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">     * @param qbehaviour_renderer $behaviouroutput the renderer to output the behaviour</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">     * @param qtype_renderer $qtoutput the renderer to output the question type</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">     */</span>
<a name="l380"><span class="linenum"> 380</span></a>      protected function <a class="function" onClick="logFunction('formulation')" href="../../_functions/formulation.html" onMouseOver="funcPopup(event,'formulation')">formulation</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, qbehaviour_renderer <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>,
<a name="l381"><span class="linenum"> 381</span></a>              qtype_renderer <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l382"><span class="linenum"> 382</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = '';
<a name="l383"><span class="linenum"> 383</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array(
<a name="l384"><span class="linenum"> 384</span></a>                  'type' =&gt; 'hidden',
<a name="l385"><span class="linenum"> 385</span></a>                  'name' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_control_field_name')" href="../../_functions/get_control_field_name.html" onMouseOver="funcPopup(event,'get_control_field_name')">get_control_field_name</a>('sequencecheck'),
<a name="l386"><span class="linenum"> 386</span></a>                  'value' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_sequence_check_count')" href="../../_functions/get_sequence_check_count.html" onMouseOver="funcPopup(event,'get_sequence_check_count')">get_sequence_check_count</a>()));
<a name="l387"><span class="linenum"> 387</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>-&gt;<a class="function" onClick="logFunction('formulation_and_controls')" href="../../_functions/formulation_and_controls.html" onMouseOver="funcPopup(event,'formulation_and_controls')">formulation_and_controls</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l388"><span class="linenum"> 388</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('clearwrong')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/clearwrong.html">clearwrong</a>) {
<a name="l389"><span class="linenum"> 389</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>-&gt;<a class="function" onClick="logFunction('clear_wrong')" href="../../_functions/clear_wrong.html" onMouseOver="funcPopup(event,'clear_wrong')">clear_wrong</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>);
<a name="l390"><span class="linenum"> 390</span></a>          }
<a name="l391"><span class="linenum"> 391</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div',
<a name="l392"><span class="linenum"> 392</span></a>                  <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>-&gt;<a class="function" onClick="logFunction('controls')" href="../../_functions/controls.html" onMouseOver="funcPopup(event,'controls')">controls</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>), array('class' =&gt; 'im-controls'));
<a name="l393"><span class="linenum"> 393</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l394"><span class="linenum"> 394</span></a>      }
<a name="l395"><span class="linenum"> 395</span></a>  
<a name="l396"><span class="linenum"> 396</span></a>      <span class="comment">/**</span>
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment">     * Generate the display of the outcome part of the question. This is the</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">     * area that contains the various forms of feedback.</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment">     *</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * @param qbehaviour_renderer $behaviouroutput the renderer to output the behaviour</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     * @param qtype_renderer $qtoutput the renderer to output the question type</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">     */</span>
<a name="l408"><span class="linenum"> 408</span></a>      protected function <a class="function" onClick="logFunction('outcome')" href="../../_functions/outcome.html" onMouseOver="funcPopup(event,'outcome')">outcome</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, qbehaviour_renderer <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>,
<a name="l409"><span class="linenum"> 409</span></a>              qtype_renderer <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l410"><span class="linenum"> 410</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = '';
<a name="l411"><span class="linenum"> 411</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div',
<a name="l412"><span class="linenum"> 412</span></a>                  <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>-&gt;<a class="function" onClick="logFunction('feedback')" href="../../_functions/feedback.html" onMouseOver="funcPopup(event,'feedback')">feedback</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>), array('class' =&gt; 'feedback'));
<a name="l413"><span class="linenum"> 413</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div',
<a name="l414"><span class="linenum"> 414</span></a>                  <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>-&gt;<a class="function" onClick="logFunction('feedback')" href="../../_functions/feedback.html" onMouseOver="funcPopup(event,'feedback')">feedback</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>), array('class' =&gt; 'im-feedback'));
<a name="l415"><span class="linenum"> 415</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l416"><span class="linenum"> 416</span></a>      }
<a name="l417"><span class="linenum"> 417</span></a>  
<a name="l418"><span class="linenum"> 418</span></a>      protected function <a class="function" onClick="logFunction('manual_comment')" href="../../_functions/manual_comment.html" onMouseOver="funcPopup(event,'manual_comment')">manual_comment</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, qbehaviour_renderer <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>,
<a name="l419"><span class="linenum"> 419</span></a>              qtype_renderer <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l420"><span class="linenum"> 420</span></a>          return <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>-&gt;<a class="function" onClick="logFunction('manual_comment')" href="../../_functions/manual_comment.html" onMouseOver="funcPopup(event,'manual_comment')">manual_comment</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) .
<a name="l421"><span class="linenum"> 421</span></a>                  <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>-&gt;<a class="function" onClick="logFunction('manual_comment')" href="../../_functions/manual_comment.html" onMouseOver="funcPopup(event,'manual_comment')">manual_comment</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l422"><span class="linenum"> 422</span></a>      }
<a name="l423"><span class="linenum"> 423</span></a>  
<a name="l424"><span class="linenum"> 424</span></a>      <span class="comment">/**</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">     * Generate the display of the response history part of the question. This</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment">     * is the table showing all the steps the question has been through.</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment">     *</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment">     * @param qbehaviour_renderer $behaviouroutput the renderer to output the behaviour</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">     * @param qtype_renderer $qtoutput the renderer to output the question type</span>
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">     *      specific parts.</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">     * @return HTML fragment.</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">     */</span>
<a name="l436"><span class="linenum"> 436</span></a>      protected function <a class="function" onClick="logFunction('response_history')" href="../../_functions/response_history.html" onMouseOver="funcPopup(event,'response_history')">response_history</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, qbehaviour_renderer <a class="var it9227" onMouseOver="hilite(9227)" onMouseOut="lolite()" onClick="logVariable('behaviouroutput')" href="../../_variables/behaviouroutput.html">$behaviouroutput</a>,
<a name="l437"><span class="linenum"> 437</span></a>              qtype_renderer <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>          if (!<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('history')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/history.html">history</a>) {
<a name="l440"><span class="linenum"> 440</span></a>              return '';
<a name="l441"><span class="linenum"> 441</span></a>          }
<a name="l442"><span class="linenum"> 442</span></a>  
<a name="l443"><span class="linenum"> 443</span></a>          <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> = <span class="keyword">new </span><a class="class" onClick="logClass('html_table')" href="../../_classes/html_table.html" onMouseOver="classPopup(event,'html_table')">html_table</a>();
<a name="l444"><span class="linenum"> 444</span></a>          <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a onClick="logVariable('head')" class="var it39441" onMouseOver="hilite(39441)" onMouseOut="lolite()" href="../../_variables/head.html">head</a>  = array (
<a name="l445"><span class="linenum"> 445</span></a>              <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('step', 'question'),
<a name="l446"><span class="linenum"> 446</span></a>              <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('time'),
<a name="l447"><span class="linenum"> 447</span></a>              <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('action', 'question'),
<a name="l448"><span class="linenum"> 448</span></a>              <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('state', 'question'),
<a name="l449"><span class="linenum"> 449</span></a>          );
<a name="l450"><span class="linenum"> 450</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('marks')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/marks.html">marks</a> &gt;= <a class="class" onClick="logClass('question_display_options')" href="../../_classes/question_display_options.html" onMouseOver="classPopup(event,'question_display_options')">question_display_options</a>::MARK_AND_MAX) {
<a name="l451"><span class="linenum"> 451</span></a>              <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a onClick="logVariable('head')" class="var it39441" onMouseOver="hilite(39441)" onMouseOut="lolite()" href="../../_variables/head.html">head</a>[] = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('marks', 'question');
<a name="l452"><span class="linenum"> 452</span></a>          }
<a name="l453"><span class="linenum"> 453</span></a>  
<a name="l454"><span class="linenum"> 454</span></a>          foreach (<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_full_step_iterator')" href="../../_functions/get_full_step_iterator.html" onMouseOver="funcPopup(event,'get_full_step_iterator')">get_full_step_iterator</a>() as <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> =&gt; <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l455"><span class="linenum"> 455</span></a>              <a class="var it36228" onMouseOver="hilite(36228)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a> = <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> + 1;
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>              <a class="var it2606" onMouseOver="hilite(2606)" onMouseOut="lolite()" onClick="logVariable('rowclass')" href="../../_variables/rowclass.html">$rowclass</a> = '';
<a name="l458"><span class="linenum"> 458</span></a>              if (<a class="var it36228" onMouseOver="hilite(36228)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a> == <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>()) {
<a name="l459"><span class="linenum"> 459</span></a>                  <a class="var it2606" onMouseOver="hilite(2606)" onMouseOut="lolite()" onClick="logVariable('rowclass')" href="../../_variables/rowclass.html">$rowclass</a> = 'current';
<a name="l460"><span class="linenum"> 460</span></a>              } else if (!empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('questionreviewlink')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/questionreviewlink.html">questionreviewlink</a>)) {
<a name="l461"><span class="linenum"> 461</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('questionreviewlink')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/questionreviewlink.html">questionreviewlink</a>,
<a name="l462"><span class="linenum"> 462</span></a>                          array('slot' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_slot')" href="../../_functions/get_slot.html" onMouseOver="funcPopup(event,'get_slot')">get_slot</a>(), 'step' =&gt; <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>));
<a name="l463"><span class="linenum"> 463</span></a>                  <a class="var it36228" onMouseOver="hilite(36228)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('output')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/output.html">output</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, <a class="var it36228" onMouseOver="hilite(36228)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a>,
<a name="l464"><span class="linenum"> 464</span></a>                          <span class="keyword">new </span><a class="class" onClick="logClass('popup_action')" href="../../_classes/popup_action.html" onMouseOver="classPopup(event,'popup_action')">popup_action</a>('click', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, 'reviewquestion',
<a name="l465"><span class="linenum"> 465</span></a>                                  array('width' =&gt; 450, 'height' =&gt; 650)),
<a name="l466"><span class="linenum"> 466</span></a>                          array('title' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('reviewresponse', 'question')));
<a name="l467"><span class="linenum"> 467</span></a>              }
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>              <a class="var it36229" onMouseOver="hilite(36229)" onMouseOut="lolite()" onClick="logVariable('restrictedqa')" href="../../_variables/restrictedqa.html">$restrictedqa</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_with_restricted_history')" href="../../_classes/question_attempt_with_restricted_history.html" onMouseOver="classPopup(event,'question_attempt_with_restricted_history')">question_attempt_with_restricted_history</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>, null);
<a name="l470"><span class="linenum"> 470</span></a>  
<a name="l471"><span class="linenum"> 471</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = new stdClass();
<a name="l472"><span class="linenum"> 472</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_user_id')" href="../../_functions/get_user_id.html" onMouseOver="funcPopup(event,'get_user_id')">get_user_id</a>();
<a name="l473"><span class="linenum"> 473</span></a>              <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a> = array(
<a name="l474"><span class="linenum"> 474</span></a>                  <a class="var it36228" onMouseOver="hilite(36228)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a>,
<a name="l475"><span class="linenum"> 475</span></a>                  <a class="function" onClick="logFunction('userdate')" href="../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>(), <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('strftimedatetimeshort')),
<a name="l476"><span class="linenum"> 476</span></a>                  <a class="function" onClick="logFunction('s')" href="../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('summarise_action')" href="../../_functions/summarise_action.html" onMouseOver="funcPopup(event,'summarise_action')">summarise_action</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>)),
<a name="l477"><span class="linenum"> 477</span></a>                  <a class="var it36229" onMouseOver="hilite(36229)" onMouseOut="lolite()" onClick="logVariable('restrictedqa')" href="../../_variables/restrictedqa.html">$restrictedqa</a>-&gt;<a class="function" onClick="logFunction('get_state_string')" href="../../_functions/get_state_string.html" onMouseOver="funcPopup(event,'get_state_string')">get_state_string</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('correctness')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/correctness.html">correctness</a>),
<a name="l478"><span class="linenum"> 478</span></a>              );
<a name="l479"><span class="linenum"> 479</span></a>  
<a name="l480"><span class="linenum"> 480</span></a>              if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('marks')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/marks.html">marks</a> &gt;= <a class="class" onClick="logClass('question_display_options')" href="../../_classes/question_display_options.html" onMouseOver="classPopup(event,'question_display_options')">question_display_options</a>::MARK_AND_MAX) {
<a name="l481"><span class="linenum"> 481</span></a>                  <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>[] = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('format_fraction_as_mark')" href="../../_functions/format_fraction_as_mark.html" onMouseOver="funcPopup(event,'format_fraction_as_mark')">format_fraction_as_mark</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_fraction')" href="../../_functions/get_fraction.html" onMouseOver="funcPopup(event,'get_fraction')">get_fraction</a>(), <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('markdp')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/markdp.html">markdp</a>);
<a name="l482"><span class="linenum"> 482</span></a>              }
<a name="l483"><span class="linenum"> 483</span></a>  
<a name="l484"><span class="linenum"> 484</span></a>              <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a onClick="logVariable('rowclasses')" class="var it39441" onMouseOver="hilite(39441)" onMouseOut="lolite()" href="../../_variables/rowclasses.html">rowclasses</a>[] = <a class="var it2606" onMouseOver="hilite(2606)" onMouseOut="lolite()" onClick="logVariable('rowclass')" href="../../_variables/rowclass.html">$rowclass</a>;
<a name="l485"><span class="linenum"> 485</span></a>              <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a onClick="logVariable('data')" class="var it39441" onMouseOver="hilite(39441)" onMouseOut="lolite()" href="../../_variables/data.html">data</a>[] = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>;
<a name="l486"><span class="linenum"> 486</span></a>          }
<a name="l487"><span class="linenum"> 487</span></a>  
<a name="l488"><span class="linenum"> 488</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('h4', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('responsehistory', 'question'),
<a name="l489"><span class="linenum"> 489</span></a>                          array('class' =&gt; 'responsehistoryheader')) .
<a name="l490"><span class="linenum"> 490</span></a>                  <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('extrahistorycontent')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/extrahistorycontent.html">extrahistorycontent</a> .
<a name="l491"><span class="linenum"> 491</span></a>                  <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('table')" href="../../_functions/table.html" onMouseOver="funcPopup(event,'table')">table</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, true),
<a name="l492"><span class="linenum"> 492</span></a>                          array('class' =&gt; 'responsehistoryheader'));
<a name="l493"><span class="linenum"> 493</span></a>      }
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'is_flagged': ['is_flagged', '', [['mod/quiz/report','attemptsreport_table.php',280],['question/engine','questionattempt.php',293],['mod/quiz/report/responses','first_or_all_responses_table.php',148]], 12],
'get_behaviour_name': ['get_behaviour_name', 'Get the translated name of a behaviour, for display in the UI. ', [['question/engine','lib.php',418],['question/engine','questionattempt.php',271]], 20],
'get_full_step_iterator': ['get_full_step_iterator', 'The same as {@link get_step_iterator()}. However, for a {@link question_attempt_with_restricted_history} this returns the full list of steps, while {@link get_step_iterator()} returns only the limited history. ', [['question/engine','questionattempt.php',427],['question/engine','questionattempt.php',1552]], 1],
'get_slot': ['get_slot', '', [['question/engine','questionattempt.php',226]], 30],
'marked_out_of_max': ['marked_out_of_max', 'Generate the display of the available marks for this question. ', [['question/behaviour','rendererbase.php',251],['question/behaviour/deferredcbm','renderer.php',96]], 2],
'controls': ['controls', '', [['question/behaviour/immediatecbm','renderer.php',40],['question/behaviour/missing','renderer.php',38],['question/behaviour/interactive','renderer.php',38],['question/behaviour/adaptive','renderer.php',40],['question/behaviour/immediatefeedback','renderer.php',38],['question/behaviour/informationitem','renderer.php',36],['question/behaviour','rendererbase.php',40],['question/behaviour/deferredcbm','renderer.php',65]], 2],
'edit_question_link': ['edit_question_link', '', [['question/engine','renderer.php',345]], 1],
'question_preview_popup_params': ['question_preview_popup_params', '', [['lib','questionlib.php',683]], 2],
'question_preview_url': ['question_preview_url', 'Generate the URL for starting a new preview of a given question with the given options. ', [['lib','questionlib.php',628]], 6],
'mark_summary': ['mark_summary', 'Generate the display of the marks for this question. ', [['question/behaviour','rendererbase.php',239],['question/engine','renderer.php',202]], 4],
'get_postdata': ['get_postdata', 'Get the postdata that needs to be sent to question/toggleflag.php to change the flag state. You need to append &newstate=0/1 to this. ', [['question/engine','lib.php',685]], 1],
'feedback': ['feedback', 'Generate the display of the outcome part of the question. This is the area that contains the various forms of feedback. This function generates the content of this area belonging to the question type. ', [['question/type','rendererbase.php',87],['question/behaviour/interactive','renderer.php',42],['question/behaviour/adaptive','renderer.php',44],['question/behaviour','rendererbase.php',56],['question/behaviour/deferredcbm','renderer.php',75]], 6],
'action_link': ['action_link', 'Method to create a link with popup action. ', [['report/log/classes','table_log.php',344],['report/loglive/classes','table_log.php',285],['lib','outputrenderers.php',1586]], 71],
'userdate': ['userdate', 'Also in ADORecordSet. ', [['lib/adodb','adodb.inc.php',2607],['lib/adodb','adodb.inc.php',3271],['lib','moodlelib.php',2150]], 496],
'get_control_field_name': ['get_control_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for a control variables belonging to this question_attempt. ', [['question/engine','questionattempt.php',335]], 6],
'question_preview_link': ['question_preview_link', 'Render an icon, optionally with the word \'Preview\' beside it, to preview a given question. ', [['question/engine','renderer.php',43]], 3],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1063],['lib/zend/Zend/Service','Technorati.php',228]], 1254],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 988],
'standard_marked_out_of_max': ['standard_marked_out_of_max', 'Generate the display of the available marks for this question. ', [['question/engine','renderer.php',237]], 1],
'summarise_action': ['summarise_action', '', [['question/behaviour/missing','behaviour.php',53],['question/behaviour/adaptive','behaviour.php',101],['question/behaviour/deferredfeedback','behaviour.php',90],['question/behaviour/manualgraded','behaviour.php',68],['question/behaviour/immediatefeedback','behaviour.php',91],['question/behaviour/informationitem','behaviour.php',89],['question/behaviour/immediatecbm','behaviour.php',145],['question/behaviour/interactive','behaviour.php',173],['question/behaviour/deferredcbm','behaviour.php',116],['question/engine','questionattempt.php',742]], 6],
'has_marks': ['has_marks', '', [['question/engine','questionattempt.php',637]], 3],
'add_part_heading': ['add_part_heading', 'Add an invisible heading like \'question text\', \'feebdack\' at the top of a section\'s contents, but only if the section has some content. ', [['question/engine','renderer.php',173]], 4],
'formulation': ['formulation', 'Generate the display of the formulation part of the question. This is the area that contains the quetsion text, and the controls for students to input their answers. Some question types also embed feedback, for example ticks and crosses, in this area. ', [['question/engine','renderer.php',366]], 1],
'status': ['status', 'Parse the status code ', [['lib/simplepie/library/SimplePie/HTTP','Parser.php',221],['lib/horde/framework/Horde/Imap/Client','Base.php',1397],['admin/tool/health','index.php',397],['admin/tool/uploadcourse/classes','course.php',905],['question/engine','renderer.php',187]], 32],
'standard_mark_summary': ['standard_mark_summary', 'Generate the display of the marks for this question. ', [['question/engine','renderer.php',215]], 1],
'formulation_heading': ['formulation_heading', 'In the question output there are some class="accesshide" headers to help screen-readers. This method returns the text to use for the heading above the formulation_and_controls section. ', [['question/type','rendererbase.php',52],['question/type/description','renderer.php',44]], 1],
'get_fraction': ['get_fraction', '', [['question/engine','questionattemptstep.php',158],['question/engine','questionattemptstep.php',588],['question/engine','questionattemptstep.php',674],['question/engine','questionattempt.php',627]], 51],
'get_user_id': ['get_user_id', '', [['lib','modinfolib.php',202],['question/engine','questionattemptstep.php',171],['question/engine','questionattemptstep.php',682],['lib/tests/behat','behat_data_generators.php',556]], 35],
'end_tag': ['end_tag', '', [['backup/util/xml/parser','progressive_parser.class.php',261],['lib','outputcomponents.php',1086],['backup/util/xml','xml_writer.class.php',177]], 858],
'table': ['table', '', [['lib/adodb','adodb-perf.inc.php',232],['lib/minify/lib','FirePHP.php',454],['lib','outputcomponents.php',1492]], 255],
'response_history': ['response_history', 'Generate the display of the response history part of the question. This is the table showing all the steps the question has been through. ', [['question/engine','renderer.php',424]], 1],
'get_state_string': ['get_state_string', '', [['question/behaviour/adaptive','behaviour.php',52],['question/behaviour/immediatefeedback','behaviour.php',66],['question/behaviour/informationitem','behaviour.php',73],['mod/quiz','attemptlib.php',2159],['question/behaviour/interactive','behaviour.php',133],['question/behaviour','behaviourbase.php',322],['question/engine','questionattempt.php',603]], 9],
'pix_url': ['pix_url', 'Return the URL for an image ', [['lib','outputlib.php',1356],['lib','outputrenderers.php',234]], 406],
'out_as_local_url': ['out_as_local_url', 'Returns URL a relative path from $CFG->wwwroot ', [['lib','weblib.php',809]], 41],
'get_flag_field_name': ['get_flag_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for the field that indicates whether this question is flagged. ', [['question/engine','questionattempt.php',297]], 2],
'get_num_steps': ['get_num_steps', 'Get the number of steps in this attempt. For internal/test code use only. ', [['question/engine','questionattempt.php',390]], 20],
'formulation_and_controls': ['formulation_and_controls', '', [['question/type/multianswer','renderer.php',43],['question/type','rendererbase.php',37],['question/type/truefalse','renderer.php',37],['question/type/description','renderer.php',37],['question/type/essay','renderer.php',37],['question/type/shortanswer','renderer.php',37],['question/type/match','renderer.php',37],['question/type/numerical','renderer.php',34],['question/type/multichoice','renderer.php',55]], 1],
'start_tag': ['start_tag', '', [['backup/util/xml/parser','progressive_parser.class.php',215],['lib','outputcomponents.php',1075]], 694],
'number': ['number', '', [['lib/lessphp','Functions.php',50],['question/engine','renderer.php',153]], 143],
'get_state_class': ['get_state_class', '', [['question/engine','states.php',296],['question/engine','states.php',304],['question/engine','states.php',315],['question/engine','states.php',326],['question/engine','states.php',337],['question/engine','states.php',342],['question/engine','states.php',354],['question/engine','states.php',368],['question/engine','states.php',383],['question/engine','questionattempt.php',616]], 7],
'get_max_mark': ['get_max_mark', '', [['question/engine','questionattempt.php',683]], 24],
'empty_tag': ['empty_tag', 'Outputs an empty tag with attributes ', [['lib','outputcomponents.php',1096]], 511],
'standard_mark_out_of_max': ['standard_mark_out_of_max', 'Generate the display of the marks for this question out of the available marks. ', [['question/engine','renderer.php',247]], 1],
'outcome': ['outcome', 'Generate the display of the outcome part of the question. This is the area that contains the various forms of feedback. ', [['question/engine','renderer.php',396]], 3],
'info': ['info', 'Write informational message to debug log. ', [['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',90],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',146],['lib/minify/lib','FirePHP.php',390],['lib/mustache/src/Mustache','Logger.php',112],['lib/google/src/Google/Logger','Abstract.php',235],['lib/mustache/src/Mustache/Logger','AbstractLogger.php',98],['question/engine','renderer.php',128],['lib/editor/tinymce/plugins/spellchecker/includes','general.php',70]], 42],
'question_flag': ['question_flag', 'Render the question flag, assuming $flagsoption allows it. ', [['question/engine','renderer.php',260]], 1],
'manual_comment': ['manual_comment', 'Display any extra question-type specific content that should be visible when grading, if appropriate. ', [['question/type','rendererbase.php',192],['question/type/essay','renderer.php',130],['question/behaviour','rendererbase.php',185],['question/engine','renderer.php',418]], 3],
'mark_out_of_max': ['mark_out_of_max', 'Generate the display of the marks for this question out of the available marks. ', [['question/behaviour','rendererbase.php',263],['question/behaviour/deferredcbm','renderer.php',103]], 1],
'get_timecreated': ['get_timecreated', '', [['question/engine','questionattemptstep.php',176],['question/engine','questionattemptstep.php',686],['lib/filestorage','stored_file.php',747],['lib/filebrowser','virtual_root_file.php',263],['lib/filebrowser','file_info.php',286],['lib/filebrowser','file_info_stored.php',249]], 49],
'clear_wrong': ['clear_wrong', 'Output hidden form fields to clear any wrong parts of the student\'s response. ', [['question/type','rendererbase.php',62]], 1],
'pix_icon': ['pix_icon', 'Return HTML for a pix_icon. ', [['lib','outputrenderers.php',2074]], 449],
'get_sequence_check_count': ['get_sequence_check_count', 'Get the number of real steps in this attempt. This is put as a hidden field in the HTML, so that when we receive some data to process, then we can check that it came from the question in the state we are now it. ', [['question/engine','questionattempt.php',375]], 6],
'get_flag_html': ['get_flag_html', 'Work out the actual img tag needed for the flag ', [['question/engine','renderer.php',316]], 2],
'get_page': ['get_page', '', [['question/engine','renderer.php',39]], 1],
'get_question': ['get_question', 'Get the question_definition for a question in this attempt. ', [['question/engine','questionusage.php',218],['mod/quiz','attemptlib.php',249],['question/engine','questionattempt.php',204],['question/engine/upgrade','upgradelib.php',323]], 74],
'nonempty_tag': ['nonempty_tag', 'Outputs a tag, but only if the contents are not empty ', [['lib','outputcomponents.php',1107]], 38],
'format_mark': ['format_mark', 'The current mark, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',703]], 3],
'question': ['question', 'Display a question. ', [['mod/quiz/classes/output','edit_renderer.php',614],['question/engine','renderer.php',71]], 29],
'format_fraction_as_mark': ['format_fraction_as_mark', 'The current mark, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',713]], 4],
'format_max_mark': ['format_max_mark', 'The maximum mark for this question attempt, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',723]], 5],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'is_null': ['is_null', '', [], 1992],
'implode': ['implode', '', [], 1259],
'link': ['link', '', [], 635],
'defined': ['defined', '', [], 4098],
'name': ['name', '', [], 100],
'is_numeric': ['is_numeric', '', [], 723]};
CLASS_DATA={
'question_display_options': ['question_display_options', 'This class contains all the options that controls how a question is displayed. ', [['question/engine','lib.php',461]], 78],
'html_table': ['html_table', 'Holds all the information required to render a <table> by {@link core_renderer::table()} ', [['lib','outputcomponents.php',2006]], 224],
'plugin_renderer_base': ['plugin_renderer_base', 'Basis for all plugin renderers. ', [['lib','outputrenderers.php',264]], 67],
'question_attempt_with_restricted_history': ['question_attempt_with_restricted_history', 'This subclass of question_attempt pretends that only part of the step history exists. It is used for rendering the question in past states. ', [['question/engine','questionattempt.php',1498]], 2],
'core_question_renderer': ['core_question_renderer', 'This renderer controls the overall output of questions. It works with a {@link qbehaviour_renderer} and a {@link qtype_renderer} to output the type-specific bits. The main entry point is the {@link question()} method. ', [['question/engine','renderer.php',30]], 3],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1052]], 4832],
'popup_action': ['popup_action', 'Component action for a popup window. ', [['lib','outputactions.php',114]], 32],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
