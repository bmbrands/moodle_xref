<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /question/engine/questionattempt.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='question/engine';
filename='questionattempt.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/question/engine/</a> -> <a href="questionattempt.php.html">questionattempt.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="questionattempt.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="questionattempt.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * This file defines the question attempt class, and a few related classes.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    moodlecore</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @subpackage questionengine</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * Tracks an attempt at one particular question in a {@link question_usage_by_activity}.</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> *</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * Most calling code should need to access objects of this class. They should be</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * able to do everything through the usage interface. This class is an internal</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * implementation detail of the question engine.</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> *</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * Instances of this class correspond to rows in the question_attempts table, and</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * a collection of {@link question_attempt_steps}. Question inteaction models and</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * question types do work with question_attempt objects.</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> *</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> */</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a> {
<a name="l45"><span class="linenum">  45</span></a>      <span class="comment">/**</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * @var string this is a magic value that question types can return from</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * {@link question_definition::get_expected_data()}.</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     */</span>
<a name="l49"><span class="linenum">  49</span></a>      const USE_RAW_DATA = 'use raw data';
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>      <span class="comment">/**</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * @var string special value used by manual grading because {@link PARAM_FLOAT}</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     * converts '' to 0.</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     */</span>
<a name="l55"><span class="linenum">  55</span></a>      const PARAM_MARK = 'parammark';
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>      <span class="comment">/**</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * @var string special value to indicate a response variable that is uploaded</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     * files.</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     */</span>
<a name="l61"><span class="linenum">  61</span></a>      const PARAM_FILES = 'paramfiles';
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>      <span class="comment">/**</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * @var string special value to indicate a response variable that is uploaded</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * files.</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     */</span>
<a name="l67"><span class="linenum">  67</span></a>      const PARAM_RAW_FILES = 'paramrawfiles';
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>      <span class="comment">/**</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     * @var string means first try at a question during an attempt by a user.</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">     */</span>
<a name="l72"><span class="linenum">  72</span></a>      const FIRST_TRY = 'firsttry';
<a name="l73"><span class="linenum">  73</span></a>  
<a name="l74"><span class="linenum">  74</span></a>      <span class="comment">/**</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">     * @var string means last try at a question during an attempt by a user.</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">     */</span>
<a name="l77"><span class="linenum">  77</span></a>      const LAST_TRY = 'lasttry';
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>      <span class="comment">/**</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">     * @var string means all tries at a question during an attempt by a user.</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     */</span>
<a name="l82"><span class="linenum">  82</span></a>      const ALL_TRIES = 'alltries';
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">    /** @var integer if this attempts is stored in the question_attempts table, the id of that row. */</span>
<a name="l85"><span class="linenum">  85</span></a>      protected <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = null;
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">    /** @var integer|string the id of the question_usage_by_activity we belong to. */</span>
<a name="l88"><span class="linenum">  88</span></a>      protected <a class="var it28643" onMouseOver="hilite(28643)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>;
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">    /** @var integer the number used to identify this question_attempt within the usage. */</span>
<a name="l91"><span class="linenum">  91</span></a>      protected <a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../_variables/slot.html">$slot</a> = null;
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>      <span class="comment">/**</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     * @var question_behaviour the behaviour controlling this attempt.</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     * null until {@link start()} is called.</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     */</span>
<a name="l97"><span class="linenum">  97</span></a>      protected <a class="var it2595" onMouseOver="hilite(2595)" onMouseOut="lolite()" onClick="logVariable('behaviour')" href="../../_variables/behaviour.html">$behaviour</a> = null;
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">    /** @var question_definition the question this is an attempt at. */</span>
<a name="l100"><span class="linenum"> 100</span></a>      protected <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>;
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">    /** @var int which variant of the question to use. */</span>
<a name="l103"><span class="linenum"> 103</span></a>      protected <a class="var it676" onMouseOver="hilite(676)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../_variables/variant.html">$variant</a>;
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>      <span class="comment">/**</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     * @var float the maximum mark that can be scored at this question.</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">     * Actually, this is only really a nominal maximum. It might be better thought</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">     * of as the question weight.</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">     */</span>
<a name="l110"><span class="linenum"> 110</span></a>      protected <a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>;
<a name="l111"><span class="linenum"> 111</span></a>  
<a name="l112"><span class="linenum"> 112</span></a>      <span class="comment">/**</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     * @var float the minimum fraction that can be scored at this question, so</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">     * the minimum mark is $this-&gt;minfraction * $this-&gt;maxmark.</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     */</span>
<a name="l116"><span class="linenum"> 116</span></a>      protected <a class="var it15056" onMouseOver="hilite(15056)" onMouseOut="lolite()" onClick="logVariable('minfraction')" href="../../_variables/minfraction.html">$minfraction</a> = null;
<a name="l117"><span class="linenum"> 117</span></a>  
<a name="l118"><span class="linenum"> 118</span></a>      <span class="comment">/**</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">     * @var float the maximum fraction that can be scored at this question, so</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     * the maximum mark is $this-&gt;maxfraction * $this-&gt;maxmark.</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     */</span>
<a name="l122"><span class="linenum"> 122</span></a>      protected <a class="var it5324" onMouseOver="hilite(5324)" onMouseOut="lolite()" onClick="logVariable('maxfraction')" href="../../_variables/maxfraction.html">$maxfraction</a> = null;
<a name="l123"><span class="linenum"> 123</span></a>  
<a name="l124"><span class="linenum"> 124</span></a>      <span class="comment">/**</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     * @var string plain text summary of the variant of the question the</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">     * student saw. Intended for reporting purposes.</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">     */</span>
<a name="l128"><span class="linenum"> 128</span></a>      protected <a class="var it6985" onMouseOver="hilite(6985)" onMouseOut="lolite()" onClick="logVariable('questionsummary')" href="../../_variables/questionsummary.html">$questionsummary</a> = null;
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>      <span class="comment">/**</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * @var string plain text summary of the response the student gave.</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * Intended for reporting purposes.</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     */</span>
<a name="l134"><span class="linenum"> 134</span></a>      protected <a class="var it6984" onMouseOver="hilite(6984)" onMouseOut="lolite()" onClick="logVariable('responsesummary')" href="../../_variables/responsesummary.html">$responsesummary</a> = null;
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>      <span class="comment">/**</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * @var string plain text summary of the correct response to this question</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     * variant the student saw. The format should be similar to responsesummary.</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * Intended for reporting purposes.</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     */</span>
<a name="l141"><span class="linenum"> 141</span></a>      protected <a class="var it2268" onMouseOver="hilite(2268)" onMouseOut="lolite()" onClick="logVariable('rightanswer')" href="../../_variables/rightanswer.html">$rightanswer</a> = null;
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">    /** @var array of {@link question_attempt_step}s. The steps in this attempt. */</span>
<a name="l144"><span class="linenum"> 144</span></a>      protected <a class="var it6021" onMouseOver="hilite(6021)" onMouseOut="lolite()" onClick="logVariable('steps')" href="../../_variables/steps.html">$steps</a> = array();
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>      <span class="comment">/**</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     * @var question_attempt_step if, when we loaded the step from the DB, there was</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     * an autosaved step, we save a pointer to it here. (It is also added to the $steps array.)</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     */</span>
<a name="l150"><span class="linenum"> 150</span></a>      protected <a class="var it37244" onMouseOver="hilite(37244)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a> = null;
<a name="l151"><span class="linenum"> 151</span></a>  
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">    /** @var boolean whether the user has flagged this attempt within the usage. */</span>
<a name="l153"><span class="linenum"> 153</span></a>      protected <a class="var it11135" onMouseOver="hilite(11135)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a> = false;
<a name="l154"><span class="linenum"> 154</span></a>  
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">    /** @var question_usage_observer tracks changes to the useage this attempt is part of.*/</span>
<a name="l156"><span class="linenum"> 156</span></a>      protected <a class="var it2636" onMouseOver="hilite(2636)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>;
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>      <span class="comment">/**#@+</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     * Constants used by the intereaction models to indicate whether the current</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * pending step should be kept or discarded.</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     */</span>
<a name="l162"><span class="linenum"> 162</span></a>      const KEEP = true;
<a name="l163"><span class="linenum"> 163</span></a>      const DISCARD = false;
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">    /**#@-*/</span>
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>      <span class="comment">/**</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     * Create a new {@link question_attempt}. Normally you should create question_attempts</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * indirectly, by calling {@link question_usage_by_activity::add_question()}.</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     *</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * @param question_definition $question the question this is an attempt at.</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * @param int|string $usageid The id of the</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     *      {@link question_usage_by_activity} we belong to. Used by {@link get_field_prefix()}.</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     * @param question_usage_observer $observer tracks changes to the useage this</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     *      attempt is part of. (Optional, a {@link question_usage_null_observer} is</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     *      used if one is not passed.</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     * @param number $maxmark the maximum grade for this question_attempt. If not</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">     * passed, $question-&gt;defaultmark is used.</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     */</span>
<a name="l179"><span class="linenum"> 179</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(question_definition <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>, <a class="var it28643" onMouseOver="hilite(28643)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>,
<a name="l180"><span class="linenum"> 180</span></a>              question_usage_observer <a class="var it2636" onMouseOver="hilite(2636)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a> = null, <a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a> = null) {
<a name="l181"><span class="linenum"> 181</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/question.html">question</a> = <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>;
<a name="l182"><span class="linenum"> 182</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a> = <a class="var it28643" onMouseOver="hilite(28643)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>;
<a name="l183"><span class="linenum"> 183</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it2636" onMouseOver="hilite(2636)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>)) {
<a name="l184"><span class="linenum"> 184</span></a>              <a class="var it2636" onMouseOver="hilite(2636)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_usage_null_observer')" href="../../_classes/question_usage_null_observer.html" onMouseOver="classPopup(event,'question_usage_null_observer')">question_usage_null_observer</a>();
<a name="l185"><span class="linenum"> 185</span></a>          }
<a name="l186"><span class="linenum"> 186</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a> = <a class="var it2636" onMouseOver="hilite(2636)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>;
<a name="l187"><span class="linenum"> 187</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>)) {
<a name="l188"><span class="linenum"> 188</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> = <a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>;
<a name="l189"><span class="linenum"> 189</span></a>          } else {
<a name="l190"><span class="linenum"> 190</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> = <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('defaultmark')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../_variables/defaultmark.html">defaultmark</a>;
<a name="l191"><span class="linenum"> 191</span></a>          }
<a name="l192"><span class="linenum"> 192</span></a>      }
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>      <span class="comment">/**</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     * This method exists so that {@link question_attempt_with_restricted_history}</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * can override it. You should not normally need to call it.</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * @return question_attempt return ourself.</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     */</span>
<a name="l199"><span class="linenum"> 199</span></a>      public function <a class="function" onClick="logFunction('get_full_qa')" href="../../_functions/get_full_qa.html" onMouseOver="funcPopup(event,'get_full_qa')">get_full_qa</a>() {
<a name="l200"><span class="linenum"> 200</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>;
<a name="l201"><span class="linenum"> 201</span></a>      }
<a name="l202"><span class="linenum"> 202</span></a>  
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">    /** @return question_definition the question this is an attempt at. */</span>
<a name="l204"><span class="linenum"> 204</span></a>      public function <a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>() {
<a name="l205"><span class="linenum"> 205</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>;
<a name="l206"><span class="linenum"> 206</span></a>      }
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>      <span class="comment">/**</span>
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment">     * Get the variant of the question being used in a given slot.</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment">     * @return int the variant number.</span>
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment">     */</span>
<a name="l212"><span class="linenum"> 212</span></a>      public function <a class="function" onClick="logFunction('get_variant')" href="../../_functions/get_variant.html" onMouseOver="funcPopup(event,'get_variant')">get_variant</a>() {
<a name="l213"><span class="linenum"> 213</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('variant')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/variant.html">variant</a>;
<a name="l214"><span class="linenum"> 214</span></a>      }
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>      <span class="comment">/**</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">     * Set the number used to identify this question_attempt within the usage.</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment">     * For internal use only.</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment">     * @param int $slot</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     */</span>
<a name="l221"><span class="linenum"> 221</span></a>      public function <a class="function" onClick="logFunction('set_slot')" href="../../_functions/set_slot.html" onMouseOver="funcPopup(event,'set_slot')">set_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../_variables/slot.html">$slot</a>) {
<a name="l222"><span class="linenum"> 222</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slot')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a> = <a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../_variables/slot.html">$slot</a>;
<a name="l223"><span class="linenum"> 223</span></a>      }
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">    /** @return int the number used to identify this question_attempt within the usage. */</span>
<a name="l226"><span class="linenum"> 226</span></a>      public function <a class="function" onClick="logFunction('get_slot')" href="../../_functions/get_slot.html" onMouseOver="funcPopup(event,'get_slot')">get_slot</a>() {
<a name="l227"><span class="linenum"> 227</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slot')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a>;
<a name="l228"><span class="linenum"> 228</span></a>      }
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>      <span class="comment">/**</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     * @return int the id of row for this question_attempt, if it is stored in the</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">     * database. null if not.</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">     */</span>
<a name="l234"><span class="linenum"> 234</span></a>      public function <a class="function" onClick="logFunction('get_database_id')" href="../../_functions/get_database_id.html" onMouseOver="funcPopup(event,'get_database_id')">get_database_id</a>() {
<a name="l235"><span class="linenum"> 235</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l236"><span class="linenum"> 236</span></a>      }
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>      <span class="comment">/**</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * For internal use only. Set the id of the corresponding database row.</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * @param int $id the id of row for this question_attempt, if it is</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * stored in the database.</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     */</span>
<a name="l243"><span class="linenum"> 243</span></a>      public function <a class="function" onClick="logFunction('set_database_id')" href="../../_functions/set_database_id.html" onMouseOver="funcPopup(event,'set_database_id')">set_database_id</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l244"><span class="linenum"> 244</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>;
<a name="l245"><span class="linenum"> 245</span></a>      }
<a name="l246"><span class="linenum"> 246</span></a>  
<a name="l247"><span class="linenum"> 247</span></a>      <span class="comment">/**</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * You should almost certainly not call this method from your code. It is for</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * internal use only.</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * @param question_usage_observer that should be used to tracking changes made to this qa.</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     */</span>
<a name="l252"><span class="linenum"> 252</span></a>      public function <a class="function" onClick="logFunction('set_observer')" href="../../_functions/set_observer.html" onMouseOver="funcPopup(event,'set_observer')">set_observer</a>(<a class="var it2636" onMouseOver="hilite(2636)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>) {
<a name="l253"><span class="linenum"> 253</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a> = <a class="var it2636" onMouseOver="hilite(2636)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>;
<a name="l254"><span class="linenum"> 254</span></a>      }
<a name="l255"><span class="linenum"> 255</span></a>  
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">    /** @return int|string the id of the {@link question_usage_by_activity} we belong to. */</span>
<a name="l257"><span class="linenum"> 257</span></a>      public function <a class="function" onClick="logFunction('get_usage_id')" href="../../_functions/get_usage_id.html" onMouseOver="funcPopup(event,'get_usage_id')">get_usage_id</a>() {
<a name="l258"><span class="linenum"> 258</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a>;
<a name="l259"><span class="linenum"> 259</span></a>      }
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>      <span class="comment">/**</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     * Set the id of the {@link question_usage_by_activity} we belong to.</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     * For internal use only.</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * @param int|string the new id.</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     */</span>
<a name="l266"><span class="linenum"> 266</span></a>      public function <a class="function" onClick="logFunction('set_usage_id')" href="../../_functions/set_usage_id.html" onMouseOver="funcPopup(event,'set_usage_id')">set_usage_id</a>(<a class="var it28643" onMouseOver="hilite(28643)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>) {
<a name="l267"><span class="linenum"> 267</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a> = <a class="var it28643" onMouseOver="hilite(28643)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>;
<a name="l268"><span class="linenum"> 268</span></a>      }
<a name="l269"><span class="linenum"> 269</span></a>  
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">    /** @return string the name of the behaviour that is controlling this attempt. */</span>
<a name="l271"><span class="linenum"> 271</span></a>      public function <a class="function" onClick="logFunction('get_behaviour_name')" href="../../_functions/get_behaviour_name.html" onMouseOver="funcPopup(event,'get_behaviour_name')">get_behaviour_name</a>() {
<a name="l272"><span class="linenum"> 272</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_name')" href="../../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>();
<a name="l273"><span class="linenum"> 273</span></a>      }
<a name="l274"><span class="linenum"> 274</span></a>  
<a name="l275"><span class="linenum"> 275</span></a>      <span class="comment">/**</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     * For internal use only.</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     * @return question_behaviour the behaviour that is controlling this attempt.</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     */</span>
<a name="l279"><span class="linenum"> 279</span></a>      public function <a class="function" onClick="logFunction('get_behaviour')" href="../../_functions/get_behaviour.html" onMouseOver="funcPopup(event,'get_behaviour')">get_behaviour</a>() {
<a name="l280"><span class="linenum"> 280</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>;
<a name="l281"><span class="linenum"> 281</span></a>      }
<a name="l282"><span class="linenum"> 282</span></a>  
<a name="l283"><span class="linenum"> 283</span></a>      <span class="comment">/**</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     * Set the flagged state of this question.</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">     * @param bool $flagged the new state.</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     */</span>
<a name="l287"><span class="linenum"> 287</span></a>      public function <a class="function" onClick="logFunction('set_flagged')" href="../../_functions/set_flagged.html" onMouseOver="funcPopup(event,'set_flagged')">set_flagged</a>(<a class="var it11135" onMouseOver="hilite(11135)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a>) {
<a name="l288"><span class="linenum"> 288</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('flagged')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/flagged.html">flagged</a> = <a class="var it11135" onMouseOver="hilite(11135)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a>;
<a name="l289"><span class="linenum"> 289</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_attempt_modified')" href="../../_functions/notify_attempt_modified.html" onMouseOver="funcPopup(event,'notify_attempt_modified')">notify_attempt_modified</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l290"><span class="linenum"> 290</span></a>      }
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">    /** @return bool whether this question is currently flagged. */</span>
<a name="l293"><span class="linenum"> 293</span></a>      public function <a class="function" onClick="logFunction('is_flagged')" href="../../_functions/is_flagged.html" onMouseOver="funcPopup(event,'is_flagged')">is_flagged</a>() {
<a name="l294"><span class="linenum"> 294</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('flagged')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/flagged.html">flagged</a>;
<a name="l295"><span class="linenum"> 295</span></a>      }
<a name="l296"><span class="linenum"> 296</span></a>  
<a name="l297"><span class="linenum"> 297</span></a>      <span class="comment">/**</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     * Get the name (in the sense a HTML name=&quot;&quot; attribute, or a $_POST variable</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">     * name) to use for the field that indicates whether this question is flagged.</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">     *</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     * @return string  The field name to use.</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     */</span>
<a name="l303"><span class="linenum"> 303</span></a>      public function <a class="function" onClick="logFunction('get_flag_field_name')" href="../../_functions/get_flag_field_name.html" onMouseOver="funcPopup(event,'get_flag_field_name')">get_flag_field_name</a>() {
<a name="l304"><span class="linenum"> 304</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_control_field_name')" href="../../_functions/get_control_field_name.html" onMouseOver="funcPopup(event,'get_control_field_name')">get_control_field_name</a>('flagged');
<a name="l305"><span class="linenum"> 305</span></a>      }
<a name="l306"><span class="linenum"> 306</span></a>  
<a name="l307"><span class="linenum"> 307</span></a>      <span class="comment">/**</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">     * Get the name (in the sense a HTML name=&quot;&quot; attribute, or a $_POST variable</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     * name) to use for a question_type variable belonging to this question_attempt.</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     *</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * See the comment on {@link question_attempt_step} for an explanation of</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     * question type and behaviour variables.</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     *</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     * @param $varname The short form of the variable name.</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     * @return string  The field name to use.</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     */</span>
<a name="l317"><span class="linenum"> 317</span></a>      public function <a class="function" onClick="logFunction('get_qt_field_name')" href="../../_functions/get_qt_field_name.html" onMouseOver="funcPopup(event,'get_qt_field_name')">get_qt_field_name</a>(<a class="var it4530" onMouseOver="hilite(4530)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>) {
<a name="l318"><span class="linenum"> 318</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>() . <a class="var it4530" onMouseOver="hilite(4530)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>;
<a name="l319"><span class="linenum"> 319</span></a>      }
<a name="l320"><span class="linenum"> 320</span></a>  
<a name="l321"><span class="linenum"> 321</span></a>      <span class="comment">/**</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">     * Get the name (in the sense a HTML name=&quot;&quot; attribute, or a $_POST variable</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">     * name) to use for a question_type variable belonging to this question_attempt.</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">     *</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">     * See the comment on {@link question_attempt_step} for an explanation of</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment">     * question type and behaviour variables.</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">     *</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     * @param $varname The short form of the variable name.</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     * @return string  The field name to use.</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">     */</span>
<a name="l331"><span class="linenum"> 331</span></a>      public function <a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>(<a class="var it4530" onMouseOver="hilite(4530)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>) {
<a name="l332"><span class="linenum"> 332</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>() . '-' . <a class="var it4530" onMouseOver="hilite(4530)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>;
<a name="l333"><span class="linenum"> 333</span></a>      }
<a name="l334"><span class="linenum"> 334</span></a>  
<a name="l335"><span class="linenum"> 335</span></a>      <span class="comment">/**</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">     * Get the name (in the sense a HTML name=&quot;&quot; attribute, or a $_POST variable</span>
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">     * name) to use for a control variables belonging to this question_attempt.</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">     *</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">     * Examples are :sequencecheck and :flagged</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">     *</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">     * @param $varname The short form of the variable name.</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     * @return string  The field name to use.</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">     */</span>
<a name="l344"><span class="linenum"> 344</span></a>      public function <a class="function" onClick="logFunction('get_control_field_name')" href="../../_functions/get_control_field_name.html" onMouseOver="funcPopup(event,'get_control_field_name')">get_control_field_name</a>(<a class="var it4530" onMouseOver="hilite(4530)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>) {
<a name="l345"><span class="linenum"> 345</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>() . ':' . <a class="var it4530" onMouseOver="hilite(4530)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>;
<a name="l346"><span class="linenum"> 346</span></a>      }
<a name="l347"><span class="linenum"> 347</span></a>  
<a name="l348"><span class="linenum"> 348</span></a>      <span class="comment">/**</span>
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">     * Get the prefix added to variable names to give field names for this</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">     * question attempt.</span>
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">     *</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">     * You should not use this method directly. This is an implementation detail</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">     * anyway, but if you must access it, use {@link question_usage_by_activity::get_field_prefix()}.</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">     *</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment">     * @param $varname The short form of the variable name.</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">     * @return string  The field name to use.</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">     */</span>
<a name="l358"><span class="linenum"> 358</span></a>      public function <a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>() {
<a name="l359"><span class="linenum"> 359</span></a>          return 'q' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a> . ':' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slot')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a> . '_';
<a name="l360"><span class="linenum"> 360</span></a>      }
<a name="l361"><span class="linenum"> 361</span></a>  
<a name="l362"><span class="linenum"> 362</span></a>      <span class="comment">/**</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">     * Get one of the steps in this attempt.</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">     *</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">     * @param int $i the step number, which counts from 0.</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">     * @return question_attempt_step</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">     */</span>
<a name="l368"><span class="linenum"> 368</span></a>      public function <a class="function" onClick="logFunction('get_step')" href="../../_functions/get_step.html" onMouseOver="funcPopup(event,'get_step')">get_step</a>(<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>) {
<a name="l369"><span class="linenum"> 369</span></a>          if (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; 0 || <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &gt;= <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>)) {
<a name="l370"><span class="linenum"> 370</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Index out of bounds in <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::get_step.');
<a name="l371"><span class="linenum"> 371</span></a>          }
<a name="l372"><span class="linenum"> 372</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>];
<a name="l373"><span class="linenum"> 373</span></a>      }
<a name="l374"><span class="linenum"> 374</span></a>  
<a name="l375"><span class="linenum"> 375</span></a>      <span class="comment">/**</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     * Get the number of real steps in this attempt.</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     * This is put as a hidden field in the HTML, so that when we receive some</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">     * data to process, then we can check that it came from the question</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">     * in the state we are now it.</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">     * @return int a number that summarises the current state of this question attempt.</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">     */</span>
<a name="l382"><span class="linenum"> 382</span></a>      public function <a class="function" onClick="logFunction('get_sequence_check_count')" href="../../_functions/get_sequence_check_count.html" onMouseOver="funcPopup(event,'get_sequence_check_count')">get_sequence_check_count</a>() {
<a name="l383"><span class="linenum"> 383</span></a>          <a class="var it37245" onMouseOver="hilite(37245)" onMouseOut="lolite()" onClick="logVariable('numrealsteps')" href="../../_variables/numrealsteps.html">$numrealsteps</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>();
<a name="l384"><span class="linenum"> 384</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('has_autosaved_step')" href="../../_functions/has_autosaved_step.html" onMouseOver="funcPopup(event,'has_autosaved_step')">has_autosaved_step</a>()) {
<a name="l385"><span class="linenum"> 385</span></a>              <a class="var it37245" onMouseOver="hilite(37245)" onMouseOut="lolite()" onClick="logVariable('numrealsteps')" href="../../_variables/numrealsteps.html">$numrealsteps</a> -= 1;
<a name="l386"><span class="linenum"> 386</span></a>          }
<a name="l387"><span class="linenum"> 387</span></a>          return <a class="var it37245" onMouseOver="hilite(37245)" onMouseOut="lolite()" onClick="logVariable('numrealsteps')" href="../../_variables/numrealsteps.html">$numrealsteps</a>;
<a name="l388"><span class="linenum"> 388</span></a>      }
<a name="l389"><span class="linenum"> 389</span></a>  
<a name="l390"><span class="linenum"> 390</span></a>      <span class="comment">/**</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">     * Get the number of steps in this attempt.</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">     * For internal/test code use only.</span>
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment">     * @return int the number of steps we currently have.</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">     */</span>
<a name="l395"><span class="linenum"> 395</span></a>      public function <a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>() {
<a name="l396"><span class="linenum"> 396</span></a>          return <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l397"><span class="linenum"> 397</span></a>      }
<a name="l398"><span class="linenum"> 398</span></a>  
<a name="l399"><span class="linenum"> 399</span></a>      <span class="comment">/**</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">     * Return the latest step in this question_attempt.</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * For internal/test code use only.</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     * @return question_attempt_step</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     */</span>
<a name="l404"><span class="linenum"> 404</span></a>      public function <a class="function" onClick="logFunction('get_last_step')" href="../../_functions/get_last_step.html" onMouseOver="funcPopup(event,'get_last_step')">get_last_step</a>() {
<a name="l405"><span class="linenum"> 405</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>) == 0) {
<a name="l406"><span class="linenum"> 406</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('question_null_step')" href="../../_classes/question_null_step.html" onMouseOver="classPopup(event,'question_null_step')">question_null_step</a>();
<a name="l407"><span class="linenum"> 407</span></a>          }
<a name="l408"><span class="linenum"> 408</span></a>          return <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l409"><span class="linenum"> 409</span></a>      }
<a name="l410"><span class="linenum"> 410</span></a>  
<a name="l411"><span class="linenum"> 411</span></a>      <span class="comment">/**</span>
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">     * @return boolean whether this question_attempt has autosaved data from</span>
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">     * some time in the past.</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">     */</span>
<a name="l415"><span class="linenum"> 415</span></a>      public function <a class="function" onClick="logFunction('has_autosaved_step')" href="../../_functions/has_autosaved_step.html" onMouseOver="funcPopup(event,'has_autosaved_step')">has_autosaved_step</a>() {
<a name="l416"><span class="linenum"> 416</span></a>          return !<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a>);
<a name="l417"><span class="linenum"> 417</span></a>      }
<a name="l418"><span class="linenum"> 418</span></a>  
<a name="l419"><span class="linenum"> 419</span></a>      <span class="comment">/**</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">     * @return question_attempt_step_iterator for iterating over the steps in</span>
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">     * this attempt, in order.</span>
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">     */</span>
<a name="l423"><span class="linenum"> 423</span></a>      public function <a class="function" onClick="logFunction('get_step_iterator')" href="../../_functions/get_step_iterator.html" onMouseOver="funcPopup(event,'get_step_iterator')">get_step_iterator</a>() {
<a name="l424"><span class="linenum"> 424</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_step_iterator')" href="../../_classes/question_attempt_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_step_iterator')">question_attempt_step_iterator</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l425"><span class="linenum"> 425</span></a>      }
<a name="l426"><span class="linenum"> 426</span></a>  
<a name="l427"><span class="linenum"> 427</span></a>      <span class="comment">/**</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">     * The same as {@link get_step_iterator()}. However, for a</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment">     * {@link question_attempt_with_restricted_history} this returns the full</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">     * list of steps, while {@link get_step_iterator()} returns only the</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">     * limited history.</span>
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">     * @return question_attempt_step_iterator for iterating over the steps in</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">     * this attempt, in order.</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">     */</span>
<a name="l435"><span class="linenum"> 435</span></a>      public function <a class="function" onClick="logFunction('get_full_step_iterator')" href="../../_functions/get_full_step_iterator.html" onMouseOver="funcPopup(event,'get_full_step_iterator')">get_full_step_iterator</a>() {
<a name="l436"><span class="linenum"> 436</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_step_iterator')" href="../../_functions/get_step_iterator.html" onMouseOver="funcPopup(event,'get_step_iterator')">get_step_iterator</a>();
<a name="l437"><span class="linenum"> 437</span></a>      }
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>      <span class="comment">/**</span>
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment">     * @return question_attempt_reverse_step_iterator for iterating over the steps in</span>
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment">     * this attempt, in reverse order.</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">     */</span>
<a name="l443"><span class="linenum"> 443</span></a>      public function <a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() {
<a name="l444"><span class="linenum"> 444</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_reverse_step_iterator')" href="../../_classes/question_attempt_reverse_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_reverse_step_iterator')">question_attempt_reverse_step_iterator</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l445"><span class="linenum"> 445</span></a>      }
<a name="l446"><span class="linenum"> 446</span></a>  
<a name="l447"><span class="linenum"> 447</span></a>      <span class="comment">/**</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">     * Get the qt data from the latest step that has any qt data. Return $default</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">     * array if it is no step has qt data.</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">     *</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">     * @param string $name the name of the variable to get.</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">     * @param mixed default the value to return no step has qt data.</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">     *      (Optional, defaults to an empty array.)</span>
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment">     * @return array|mixed the data, or $default if there is not any.</span>
<a name="l455"><span class="linenum"> 455</span></a>  <span class="comment">     */</span>
<a name="l456"><span class="linenum"> 456</span></a>      public function <a class="function" onClick="logFunction('get_last_qt_data')" href="../../_functions/get_last_qt_data.html" onMouseOver="funcPopup(event,'get_last_qt_data')">get_last_qt_data</a>(<a class="var it1163" onMouseOver="hilite(1163)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = array()) {
<a name="l457"><span class="linenum"> 457</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l458"><span class="linenum"> 458</span></a>              <a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a> = <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_qt_data')" href="../../_functions/get_qt_data.html" onMouseOver="funcPopup(event,'get_qt_data')">get_qt_data</a>();
<a name="l459"><span class="linenum"> 459</span></a>              if (!empty(<a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>)) {
<a name="l460"><span class="linenum"> 460</span></a>                  return <a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>;
<a name="l461"><span class="linenum"> 461</span></a>              }
<a name="l462"><span class="linenum"> 462</span></a>          }
<a name="l463"><span class="linenum"> 463</span></a>          return <a class="var it1163" onMouseOver="hilite(1163)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a>;
<a name="l464"><span class="linenum"> 464</span></a>      }
<a name="l465"><span class="linenum"> 465</span></a>  
<a name="l466"><span class="linenum"> 466</span></a>      <span class="comment">/**</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">     * Get the last step with a particular question type varialbe set.</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">     * @param string $name the name of the variable to get.</span>
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">     * @return question_attempt_step the last step, or a step with no variables</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">     * if there was not a real step.</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment">     */</span>
<a name="l472"><span class="linenum"> 472</span></a>      public function <a class="function" onClick="logFunction('get_last_step_with_qt_var')" href="../../_functions/get_last_step_with_qt_var.html" onMouseOver="funcPopup(event,'get_last_step_with_qt_var')">get_last_step_with_qt_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l473"><span class="linenum"> 473</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l474"><span class="linenum"> 474</span></a>              if (<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_qt_var')" href="../../_functions/has_qt_var.html" onMouseOver="funcPopup(event,'has_qt_var')">has_qt_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l475"><span class="linenum"> 475</span></a>                  return <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>;
<a name="l476"><span class="linenum"> 476</span></a>              }
<a name="l477"><span class="linenum"> 477</span></a>          }
<a name="l478"><span class="linenum"> 478</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_step_read_only')" href="../../_classes/question_attempt_step_read_only.html" onMouseOver="classPopup(event,'question_attempt_step_read_only')">question_attempt_step_read_only</a>();
<a name="l479"><span class="linenum"> 479</span></a>      }
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>      <span class="comment">/**</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">     * Get the last step with a particular behaviour variable set.</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">     * @param string $name the name of the variable to get.</span>
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">     * @return question_attempt_step the last step, or a step with no variables</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment">     * if there was not a real step.</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">     */</span>
<a name="l487"><span class="linenum"> 487</span></a>      public function <a class="function" onClick="logFunction('get_last_step_with_behaviour_var')" href="../../_functions/get_last_step_with_behaviour_var.html" onMouseOver="funcPopup(event,'get_last_step_with_behaviour_var')">get_last_step_with_behaviour_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l488"><span class="linenum"> 488</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l489"><span class="linenum"> 489</span></a>              if (<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_behaviour_var')" href="../../_functions/has_behaviour_var.html" onMouseOver="funcPopup(event,'has_behaviour_var')">has_behaviour_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l490"><span class="linenum"> 490</span></a>                  return <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>;
<a name="l491"><span class="linenum"> 491</span></a>              }
<a name="l492"><span class="linenum"> 492</span></a>          }
<a name="l493"><span class="linenum"> 493</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_step_read_only')" href="../../_classes/question_attempt_step_read_only.html" onMouseOver="classPopup(event,'question_attempt_step_read_only')">question_attempt_step_read_only</a>();
<a name="l494"><span class="linenum"> 494</span></a>      }
<a name="l495"><span class="linenum"> 495</span></a>  
<a name="l496"><span class="linenum"> 496</span></a>      <span class="comment">/**</span>
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment">     * Get the latest value of a particular question type variable. That is, get</span>
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment">     * the value from the latest step that has it set. Return null if it is not</span>
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">     * set in any step.</span>
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment">     *</span>
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment">     * @param string $name the name of the variable to get.</span>
<a name="l502"><span class="linenum"> 502</span></a>  <span class="comment">     * @param mixed default the value to return in the variable has never been set.</span>
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">     *      (Optional, defaults to null.)</span>
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">     * @return mixed string value, or $default if it has never been set.</span>
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">     */</span>
<a name="l506"><span class="linenum"> 506</span></a>      public function <a class="function" onClick="logFunction('get_last_qt_var')" href="../../_functions/get_last_qt_var.html" onMouseOver="funcPopup(event,'get_last_qt_var')">get_last_qt_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it1163" onMouseOver="hilite(1163)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = null) {
<a name="l507"><span class="linenum"> 507</span></a>          <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_last_step_with_qt_var')" href="../../_functions/get_last_step_with_qt_var.html" onMouseOver="funcPopup(event,'get_last_step_with_qt_var')">get_last_step_with_qt_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l508"><span class="linenum"> 508</span></a>          if (<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_qt_var')" href="../../_functions/has_qt_var.html" onMouseOver="funcPopup(event,'has_qt_var')">has_qt_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l509"><span class="linenum"> 509</span></a>              return <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_qt_var')" href="../../_functions/get_qt_var.html" onMouseOver="funcPopup(event,'get_qt_var')">get_qt_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l510"><span class="linenum"> 510</span></a>          } else {
<a name="l511"><span class="linenum"> 511</span></a>              return <a class="var it1163" onMouseOver="hilite(1163)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a>;
<a name="l512"><span class="linenum"> 512</span></a>          }
<a name="l513"><span class="linenum"> 513</span></a>      }
<a name="l514"><span class="linenum"> 514</span></a>  
<a name="l515"><span class="linenum"> 515</span></a>      <span class="comment">/**</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">     * Get the latest set of files for a particular question type variable of</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     * type question_attempt::PARAM_FILES.</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">     *</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">     * @param string $name the name of the associated variable.</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">     * @return array of {@link stored_files}.</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">     */</span>
<a name="l522"><span class="linenum"> 522</span></a>      public function <a class="function" onClick="logFunction('get_last_qt_files')" href="../../_functions/get_last_qt_files.html" onMouseOver="funcPopup(event,'get_last_qt_files')">get_last_qt_files</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>) {
<a name="l523"><span class="linenum"> 523</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l524"><span class="linenum"> 524</span></a>              if (<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_qt_var')" href="../../_functions/has_qt_var.html" onMouseOver="funcPopup(event,'has_qt_var')">has_qt_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l525"><span class="linenum"> 525</span></a>                  return <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_qt_files')" href="../../_functions/get_qt_files.html" onMouseOver="funcPopup(event,'get_qt_files')">get_qt_files</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>);
<a name="l526"><span class="linenum"> 526</span></a>              }
<a name="l527"><span class="linenum"> 527</span></a>          }
<a name="l528"><span class="linenum"> 528</span></a>          return array();
<a name="l529"><span class="linenum"> 529</span></a>      }
<a name="l530"><span class="linenum"> 530</span></a>  
<a name="l531"><span class="linenum"> 531</span></a>      <span class="comment">/**</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">     * Get the URL of a file that belongs to a response variable of this</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     * question_attempt.</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">     * @param stored_file $file the file to link to.</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">     * @return string the URL of that file.</span>
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">     */</span>
<a name="l537"><span class="linenum"> 537</span></a>      public function <a class="function" onClick="logFunction('get_response_file_url')" href="../../_functions/get_response_file_url.html" onMouseOver="funcPopup(event,'get_response_file_url')">get_response_file_url</a>(stored_file <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>) {
<a name="l538"><span class="linenum"> 538</span></a>          return <a class="function" onClick="logFunction('file_encode_url')" href="../../_functions/file_encode_url.html" onMouseOver="funcPopup(event,'file_encode_url')">file_encode_url</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../pluginfile.php.html">/pluginfile.php</a>'), '/' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('/', array(
<a name="l539"><span class="linenum"> 539</span></a>                  <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_contextid')" href="../../_functions/get_contextid.html" onMouseOver="funcPopup(event,'get_contextid')">get_contextid</a>(),
<a name="l540"><span class="linenum"> 540</span></a>                  <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_component')" href="../../_functions/get_component.html" onMouseOver="funcPopup(event,'get_component')">get_component</a>(),
<a name="l541"><span class="linenum"> 541</span></a>                  <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filearea')" href="../../_functions/get_filearea.html" onMouseOver="funcPopup(event,'get_filearea')">get_filearea</a>(),
<a name="l542"><span class="linenum"> 542</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a>,
<a name="l543"><span class="linenum"> 543</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slot')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a>,
<a name="l544"><span class="linenum"> 544</span></a>                  <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_itemid')" href="../../_functions/get_itemid.html" onMouseOver="funcPopup(event,'get_itemid')">get_itemid</a>())) .
<a name="l545"><span class="linenum"> 545</span></a>                  <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filepath')" href="../../_functions/get_filepath.html" onMouseOver="funcPopup(event,'get_filepath')">get_filepath</a>() . <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>(), true);
<a name="l546"><span class="linenum"> 546</span></a>      }
<a name="l547"><span class="linenum"> 547</span></a>  
<a name="l548"><span class="linenum"> 548</span></a>      <span class="comment">/**</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">     * Prepare a draft file are for the files belonging the a response variable</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">     * of this question attempt. The draft area is populated with the files from</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">     * the most recent step having files.</span>
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">     *</span>
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">     * @param string $name the variable name the files belong to.</span>
<a name="l554"><span class="linenum"> 554</span></a>  <span class="comment">     * @param int $contextid the id of the context the quba belongs to.</span>
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">     * @return int the draft itemid.</span>
<a name="l556"><span class="linenum"> 556</span></a>  <span class="comment">     */</span>
<a name="l557"><span class="linenum"> 557</span></a>      public function <a class="function" onClick="logFunction('prepare_response_files_draft_itemid')" href="../../_functions/prepare_response_files_draft_itemid.html" onMouseOver="funcPopup(event,'prepare_response_files_draft_itemid')">prepare_response_files_draft_itemid</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>) {
<a name="l558"><span class="linenum"> 558</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l559"><span class="linenum"> 559</span></a>              if (<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_qt_var')" href="../../_functions/has_qt_var.html" onMouseOver="funcPopup(event,'has_qt_var')">has_qt_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l560"><span class="linenum"> 560</span></a>                  return <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('prepare_response_files_draft_itemid')" href="../../_functions/prepare_response_files_draft_itemid.html" onMouseOver="funcPopup(event,'prepare_response_files_draft_itemid')">prepare_response_files_draft_itemid</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>);
<a name="l561"><span class="linenum"> 561</span></a>              }
<a name="l562"><span class="linenum"> 562</span></a>          }
<a name="l563"><span class="linenum"> 563</span></a>  
<a name="l564"><span class="linenum"> 564</span></a>  <span class="comment">        // No files yet.</span>
<a name="l565"><span class="linenum"> 565</span></a>          <a class="var it2983" onMouseOver="hilite(2983)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../../_variables/draftid.html">$draftid</a> = 0; <span class="comment">// Will be filled in by file_prepare_draft_area.</span>
<a name="l566"><span class="linenum"> 566</span></a>          <a class="function" onClick="logFunction('file_prepare_draft_area')" href="../../_functions/file_prepare_draft_area.html" onMouseOver="funcPopup(event,'file_prepare_draft_area')">file_prepare_draft_area</a>(<a class="var it2983" onMouseOver="hilite(2983)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../../_variables/draftid.html">$draftid</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>, 'question', 'response_' . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, null);
<a name="l567"><span class="linenum"> 567</span></a>          return <a class="var it2983" onMouseOver="hilite(2983)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../../_variables/draftid.html">$draftid</a>;
<a name="l568"><span class="linenum"> 568</span></a>      }
<a name="l569"><span class="linenum"> 569</span></a>  
<a name="l570"><span class="linenum"> 570</span></a>      <span class="comment">/**</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">     * Get the latest value of a particular behaviour variable. That is,</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">     * get the value from the latest step that has it set. Return null if it is</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment">     * not set in any step.</span>
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment">     *</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment">     * @param string $name the name of the variable to get.</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">     * @param mixed default the value to return in the variable has never been set.</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">     *      (Optional, defaults to null.)</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">     * @return mixed string value, or $default if it has never been set.</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">     */</span>
<a name="l580"><span class="linenum"> 580</span></a>      public function <a class="function" onClick="logFunction('get_last_behaviour_var')" href="../../_functions/get_last_behaviour_var.html" onMouseOver="funcPopup(event,'get_last_behaviour_var')">get_last_behaviour_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it1163" onMouseOver="hilite(1163)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = null) {
<a name="l581"><span class="linenum"> 581</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l582"><span class="linenum"> 582</span></a>              if (<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_behaviour_var')" href="../../_functions/has_behaviour_var.html" onMouseOver="funcPopup(event,'has_behaviour_var')">has_behaviour_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l583"><span class="linenum"> 583</span></a>                  return <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_var')" href="../../_functions/get_behaviour_var.html" onMouseOver="funcPopup(event,'get_behaviour_var')">get_behaviour_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l584"><span class="linenum"> 584</span></a>              }
<a name="l585"><span class="linenum"> 585</span></a>          }
<a name="l586"><span class="linenum"> 586</span></a>          return <a class="var it1163" onMouseOver="hilite(1163)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a>;
<a name="l587"><span class="linenum"> 587</span></a>      }
<a name="l588"><span class="linenum"> 588</span></a>  
<a name="l589"><span class="linenum"> 589</span></a>      <span class="comment">/**</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment">     * Get the current state of this question attempt. That is, the state of the</span>
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment">     * latest step.</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment">     * @return question_state</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">     */</span>
<a name="l594"><span class="linenum"> 594</span></a>      public function <a class="function" onClick="logFunction('get_state')" href="../../_functions/get_state.html" onMouseOver="funcPopup(event,'get_state')">get_state</a>() {
<a name="l595"><span class="linenum"> 595</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_last_step')" href="../../_functions/get_last_step.html" onMouseOver="funcPopup(event,'get_last_step')">get_last_step</a>()-&gt;<a class="function" onClick="logFunction('get_state')" href="../../_functions/get_state.html" onMouseOver="funcPopup(event,'get_state')">get_state</a>();
<a name="l596"><span class="linenum"> 596</span></a>      }
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>      <span class="comment">/**</span>
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment">     * @param bool $showcorrectness Whether right/partial/wrong states should</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">     * be distinguised.</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">     * @return string A brief textual description of the current state.</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment">     */</span>
<a name="l603"><span class="linenum"> 603</span></a>      public function <a class="function" onClick="logFunction('get_state_string')" href="../../_functions/get_state_string.html" onMouseOver="funcPopup(event,'get_state_string')">get_state_string</a>(<a class="var it7164" onMouseOver="hilite(7164)" onMouseOut="lolite()" onClick="logVariable('showcorrectness')" href="../../_variables/showcorrectness.html">$showcorrectness</a>) {
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment">        // Special case when attempt is based on previous one, see MDL-31226.</span>
<a name="l605"><span class="linenum"> 605</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>() == 1 &amp;&amp; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_state')" href="../../_functions/get_state.html" onMouseOver="funcPopup(event,'get_state')">get_state</a>() == question_state::<a class="var it3089" onMouseOver="hilite(3089)" onMouseOut="lolite()" onClick="logVariable('complete')" href="../../_variables/complete.html">$complete</a>) {
<a name="l606"><span class="linenum"> 606</span></a>              return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notchanged', 'question');
<a name="l607"><span class="linenum"> 607</span></a>          }
<a name="l608"><span class="linenum"> 608</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_state_string')" href="../../_functions/get_state_string.html" onMouseOver="funcPopup(event,'get_state_string')">get_state_string</a>(<a class="var it7164" onMouseOver="hilite(7164)" onMouseOut="lolite()" onClick="logVariable('showcorrectness')" href="../../_variables/showcorrectness.html">$showcorrectness</a>);
<a name="l609"><span class="linenum"> 609</span></a>      }
<a name="l610"><span class="linenum"> 610</span></a>  
<a name="l611"><span class="linenum"> 611</span></a>      <span class="comment">/**</span>
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment">     * @param bool $showcorrectness Whether right/partial/wrong states should</span>
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">     * be distinguised.</span>
<a name="l614"><span class="linenum"> 614</span></a>  <span class="comment">     * @return string a CSS class name for the current state.</span>
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">     */</span>
<a name="l616"><span class="linenum"> 616</span></a>      public function <a class="function" onClick="logFunction('get_state_class')" href="../../_functions/get_state_class.html" onMouseOver="funcPopup(event,'get_state_class')">get_state_class</a>(<a class="var it7164" onMouseOver="hilite(7164)" onMouseOut="lolite()" onClick="logVariable('showcorrectness')" href="../../_variables/showcorrectness.html">$showcorrectness</a>) {
<a name="l617"><span class="linenum"> 617</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_state')" href="../../_functions/get_state.html" onMouseOver="funcPopup(event,'get_state')">get_state</a>()-&gt;<a class="function" onClick="logFunction('get_state_class')" href="../../_functions/get_state_class.html" onMouseOver="funcPopup(event,'get_state_class')">get_state_class</a>(<a class="var it7164" onMouseOver="hilite(7164)" onMouseOut="lolite()" onClick="logVariable('showcorrectness')" href="../../_variables/showcorrectness.html">$showcorrectness</a>);
<a name="l618"><span class="linenum"> 618</span></a>      }
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>      <span class="comment">/**</span>
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">     * @return int the timestamp of the most recent step in this question attempt.</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">     */</span>
<a name="l623"><span class="linenum"> 623</span></a>      public function <a class="function" onClick="logFunction('get_last_action_time')" href="../../_functions/get_last_action_time.html" onMouseOver="funcPopup(event,'get_last_action_time')">get_last_action_time</a>() {
<a name="l624"><span class="linenum"> 624</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_last_step')" href="../../_functions/get_last_step.html" onMouseOver="funcPopup(event,'get_last_step')">get_last_step</a>()-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>();
<a name="l625"><span class="linenum"> 625</span></a>      }
<a name="l626"><span class="linenum"> 626</span></a>  
<a name="l627"><span class="linenum"> 627</span></a>      <span class="comment">/**</span>
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">     * Get the current fraction of this question attempt. That is, the fraction</span>
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment">     * of the latest step, or null if this question has not yet been graded.</span>
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">     * @return number the current fraction.</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">     */</span>
<a name="l632"><span class="linenum"> 632</span></a>      public function <a class="function" onClick="logFunction('get_fraction')" href="../../_functions/get_fraction.html" onMouseOver="funcPopup(event,'get_fraction')">get_fraction</a>() {
<a name="l633"><span class="linenum"> 633</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_last_step')" href="../../_functions/get_last_step.html" onMouseOver="funcPopup(event,'get_last_step')">get_last_step</a>()-&gt;<a class="function" onClick="logFunction('get_fraction')" href="../../_functions/get_fraction.html" onMouseOver="funcPopup(event,'get_fraction')">get_fraction</a>();
<a name="l634"><span class="linenum"> 634</span></a>      }
<a name="l635"><span class="linenum"> 635</span></a>  
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">    /** @return bool whether this question attempt has a non-zero maximum mark. */</span>
<a name="l637"><span class="linenum"> 637</span></a>      public function <a class="function" onClick="logFunction('has_marks')" href="../../_functions/has_marks.html" onMouseOver="funcPopup(event,'has_marks')">has_marks</a>() {
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">        // Since grades are stored in the database as NUMBER(12,7).</span>
<a name="l639"><span class="linenum"> 639</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> &gt;= 0.00000005;
<a name="l640"><span class="linenum"> 640</span></a>      }
<a name="l641"><span class="linenum"> 641</span></a>  
<a name="l642"><span class="linenum"> 642</span></a>      <span class="comment">/**</span>
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment">     * @return number the current mark for this question.</span>
<a name="l644"><span class="linenum"> 644</span></a>  <span class="comment">     * {@link get_fraction()} * {@link get_max_mark()}.</span>
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment">     */</span>
<a name="l646"><span class="linenum"> 646</span></a>      public function <a class="function" onClick="logFunction('get_mark')" href="../../_functions/get_mark.html" onMouseOver="funcPopup(event,'get_mark')">get_mark</a>() {
<a name="l647"><span class="linenum"> 647</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('fraction_to_mark')" href="../../_functions/fraction_to_mark.html" onMouseOver="funcPopup(event,'fraction_to_mark')">fraction_to_mark</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_fraction')" href="../../_functions/get_fraction.html" onMouseOver="funcPopup(event,'get_fraction')">get_fraction</a>());
<a name="l648"><span class="linenum"> 648</span></a>      }
<a name="l649"><span class="linenum"> 649</span></a>  
<a name="l650"><span class="linenum"> 650</span></a>      <span class="comment">/**</span>
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">     * This is used by the manual grading code, particularly in association with</span>
<a name="l652"><span class="linenum"> 652</span></a>  <span class="comment">     * validation. If there is a mark submitted in the request, then use that,</span>
<a name="l653"><span class="linenum"> 653</span></a>  <span class="comment">     * otherwise use the latest mark for this question.</span>
<a name="l654"><span class="linenum"> 654</span></a>  <span class="comment">     * @return number the current mark for this question.</span>
<a name="l655"><span class="linenum"> 655</span></a>  <span class="comment">     * {@link get_fraction()} * {@link get_max_mark()}.</span>
<a name="l656"><span class="linenum"> 656</span></a>  <span class="comment">     */</span>
<a name="l657"><span class="linenum"> 657</span></a>      public function <a class="function" onClick="logFunction('get_current_manual_mark')" href="../../_functions/get_current_manual_mark.html" onMouseOver="funcPopup(event,'get_current_manual_mark')">get_current_manual_mark</a>() {
<a name="l658"><span class="linenum"> 658</span></a>          <a class="var it2272" onMouseOver="hilite(2272)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('mark'), <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::PARAM_MARK);
<a name="l659"><span class="linenum"> 659</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it2272" onMouseOver="hilite(2272)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>)) {
<a name="l660"><span class="linenum"> 660</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_mark')" href="../../_functions/get_mark.html" onMouseOver="funcPopup(event,'get_mark')">get_mark</a>();
<a name="l661"><span class="linenum"> 661</span></a>          } else {
<a name="l662"><span class="linenum"> 662</span></a>              return <a class="var it2272" onMouseOver="hilite(2272)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>;
<a name="l663"><span class="linenum"> 663</span></a>          }
<a name="l664"><span class="linenum"> 664</span></a>      }
<a name="l665"><span class="linenum"> 665</span></a>  
<a name="l666"><span class="linenum"> 666</span></a>      <span class="comment">/**</span>
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment">     * @param number|null $fraction a fraction.</span>
<a name="l668"><span class="linenum"> 668</span></a>  <span class="comment">     * @return number|null the corresponding mark.</span>
<a name="l669"><span class="linenum"> 669</span></a>  <span class="comment">     */</span>
<a name="l670"><span class="linenum"> 670</span></a>      public function <a class="function" onClick="logFunction('fraction_to_mark')" href="../../_functions/fraction_to_mark.html" onMouseOver="funcPopup(event,'fraction_to_mark')">fraction_to_mark</a>(<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>) {
<a name="l671"><span class="linenum"> 671</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>)) {
<a name="l672"><span class="linenum"> 672</span></a>              return null;
<a name="l673"><span class="linenum"> 673</span></a>          }
<a name="l674"><span class="linenum"> 674</span></a>          return <a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a> * <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a>;
<a name="l675"><span class="linenum"> 675</span></a>      }
<a name="l676"><span class="linenum"> 676</span></a>  
<a name="l677"><span class="linenum"> 677</span></a>      <span class="comment">/**</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">     * @return float the maximum mark possible for this question attempt.</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">     * In fact, this is not strictly the maximum, becuase get_max_fraction may</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">     * return a number greater than 1. It might be better to think of this as a</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">     * question weight.</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment">     */</span>
<a name="l683"><span class="linenum"> 683</span></a>      public function <a class="function" onClick="logFunction('get_max_mark')" href="../../_functions/get_max_mark.html" onMouseOver="funcPopup(event,'get_max_mark')">get_max_mark</a>() {
<a name="l684"><span class="linenum"> 684</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a>;
<a name="l685"><span class="linenum"> 685</span></a>      }
<a name="l686"><span class="linenum"> 686</span></a>  
<a name="l687"><span class="linenum"> 687</span></a>  <span class="comment">    /** @return float the maximum mark possible for this question attempt. */</span>
<a name="l688"><span class="linenum"> 688</span></a>      public function <a class="function" onClick="logFunction('get_min_fraction')" href="../../_functions/get_min_fraction.html" onMouseOver="funcPopup(event,'get_min_fraction')">get_min_fraction</a>() {
<a name="l689"><span class="linenum"> 689</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('minfraction')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a>)) {
<a name="l690"><span class="linenum"> 690</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('This question_attempt has not been started yet, the min fraction is not yet known.');
<a name="l691"><span class="linenum"> 691</span></a>          }
<a name="l692"><span class="linenum"> 692</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('minfraction')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a>;
<a name="l693"><span class="linenum"> 693</span></a>      }
<a name="l694"><span class="linenum"> 694</span></a>  
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">    /** @return float the maximum mark possible for this question attempt. */</span>
<a name="l696"><span class="linenum"> 696</span></a>      public function <a class="function" onClick="logFunction('get_max_fraction')" href="../../_functions/get_max_fraction.html" onMouseOver="funcPopup(event,'get_max_fraction')">get_max_fraction</a>() {
<a name="l697"><span class="linenum"> 697</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a>)) {
<a name="l698"><span class="linenum"> 698</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('This question_attempt has not been started yet, the max fraction is not yet known.');
<a name="l699"><span class="linenum"> 699</span></a>          }
<a name="l700"><span class="linenum"> 700</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a>;
<a name="l701"><span class="linenum"> 701</span></a>      }
<a name="l702"><span class="linenum"> 702</span></a>  
<a name="l703"><span class="linenum"> 703</span></a>      <span class="comment">/**</span>
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">     * The current mark, formatted to the stated number of decimal places. Uses</span>
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment">     * {@link format_float()} to format floats according to the current locale.</span>
<a name="l706"><span class="linenum"> 706</span></a>  <span class="comment">     * @param int $dp number of decimal places.</span>
<a name="l707"><span class="linenum"> 707</span></a>  <span class="comment">     * @return string formatted mark.</span>
<a name="l708"><span class="linenum"> 708</span></a>  <span class="comment">     */</span>
<a name="l709"><span class="linenum"> 709</span></a>      public function <a class="function" onClick="logFunction('format_mark')" href="../../_functions/format_mark.html" onMouseOver="funcPopup(event,'format_mark')">format_mark</a>(<a class="var it8492" onMouseOver="hilite(8492)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>) {
<a name="l710"><span class="linenum"> 710</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('format_fraction_as_mark')" href="../../_functions/format_fraction_as_mark.html" onMouseOver="funcPopup(event,'format_fraction_as_mark')">format_fraction_as_mark</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_fraction')" href="../../_functions/get_fraction.html" onMouseOver="funcPopup(event,'get_fraction')">get_fraction</a>(), <a class="var it8492" onMouseOver="hilite(8492)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>);
<a name="l711"><span class="linenum"> 711</span></a>      }
<a name="l712"><span class="linenum"> 712</span></a>  
<a name="l713"><span class="linenum"> 713</span></a>      <span class="comment">/**</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     * The current mark, formatted to the stated number of decimal places. Uses</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     * {@link format_float()} to format floats according to the current locale.</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * @param int $dp number of decimal places.</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     * @return string formatted mark.</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment">     */</span>
<a name="l719"><span class="linenum"> 719</span></a>      public function <a class="function" onClick="logFunction('format_fraction_as_mark')" href="../../_functions/format_fraction_as_mark.html" onMouseOver="funcPopup(event,'format_fraction_as_mark')">format_fraction_as_mark</a>(<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>, <a class="var it8492" onMouseOver="hilite(8492)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>) {
<a name="l720"><span class="linenum"> 720</span></a>          return <a class="function" onClick="logFunction('format_float')" href="../../_functions/format_float.html" onMouseOver="funcPopup(event,'format_float')">format_float</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('fraction_to_mark')" href="../../_functions/fraction_to_mark.html" onMouseOver="funcPopup(event,'fraction_to_mark')">fraction_to_mark</a>(<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>), <a class="var it8492" onMouseOver="hilite(8492)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>);
<a name="l721"><span class="linenum"> 721</span></a>      }
<a name="l722"><span class="linenum"> 722</span></a>  
<a name="l723"><span class="linenum"> 723</span></a>      <span class="comment">/**</span>
<a name="l724"><span class="linenum"> 724</span></a>  <span class="comment">     * The maximum mark for this question attempt, formatted to the stated number</span>
<a name="l725"><span class="linenum"> 725</span></a>  <span class="comment">     * of decimal places. Uses {@link format_float()} to format floats according</span>
<a name="l726"><span class="linenum"> 726</span></a>  <span class="comment">     * to the current locale.</span>
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">     * @param int $dp number of decimal places.</span>
<a name="l728"><span class="linenum"> 728</span></a>  <span class="comment">     * @return string formatted maximum mark.</span>
<a name="l729"><span class="linenum"> 729</span></a>  <span class="comment">     */</span>
<a name="l730"><span class="linenum"> 730</span></a>      public function <a class="function" onClick="logFunction('format_max_mark')" href="../../_functions/format_max_mark.html" onMouseOver="funcPopup(event,'format_max_mark')">format_max_mark</a>(<a class="var it8492" onMouseOver="hilite(8492)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>) {
<a name="l731"><span class="linenum"> 731</span></a>          return <a class="function" onClick="logFunction('format_float')" href="../../_functions/format_float.html" onMouseOver="funcPopup(event,'format_float')">format_float</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a>, <a class="var it8492" onMouseOver="hilite(8492)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>);
<a name="l732"><span class="linenum"> 732</span></a>      }
<a name="l733"><span class="linenum"> 733</span></a>  
<a name="l734"><span class="linenum"> 734</span></a>      <span class="comment">/**</span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment">     * Return the hint that applies to the question in its current state, or null.</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment">     * @return question_hint|null</span>
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment">     */</span>
<a name="l738"><span class="linenum"> 738</span></a>      public function <a class="function" onClick="logFunction('get_applicable_hint')" href="../../_functions/get_applicable_hint.html" onMouseOver="funcPopup(event,'get_applicable_hint')">get_applicable_hint</a>() {
<a name="l739"><span class="linenum"> 739</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_applicable_hint')" href="../../_functions/get_applicable_hint.html" onMouseOver="funcPopup(event,'get_applicable_hint')">get_applicable_hint</a>();
<a name="l740"><span class="linenum"> 740</span></a>      }
<a name="l741"><span class="linenum"> 741</span></a>  
<a name="l742"><span class="linenum"> 742</span></a>      <span class="comment">/**</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment">     * Produce a plain-text summary of what the user did during a step.</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment">     * @param question_attempt_step $step the step in quetsion.</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment">     * @return string a summary of what was done during that step.</span>
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment">     */</span>
<a name="l747"><span class="linenum"> 747</span></a>      public function <a class="function" onClick="logFunction('summarise_action')" href="../../_functions/summarise_action.html" onMouseOver="funcPopup(event,'summarise_action')">summarise_action</a>(question_attempt_step <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l748"><span class="linenum"> 748</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('summarise_action')" href="../../_functions/summarise_action.html" onMouseOver="funcPopup(event,'summarise_action')">summarise_action</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>);
<a name="l749"><span class="linenum"> 749</span></a>      }
<a name="l750"><span class="linenum"> 750</span></a>  
<a name="l751"><span class="linenum"> 751</span></a>      <span class="comment">/**</span>
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment">     * Return one of the bits of metadata for a this question attempt.</span>
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment">     * @param string $name the name of the metadata variable to return.</span>
<a name="l754"><span class="linenum"> 754</span></a>  <span class="comment">     * @return string the value of that metadata variable.</span>
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment">     */</span>
<a name="l756"><span class="linenum"> 756</span></a>      public function <a class="function" onClick="logFunction('get_metadata')" href="../../_functions/get_metadata.html" onMouseOver="funcPopup(event,'get_metadata')">get_metadata</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l757"><span class="linenum"> 757</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_step')" href="../../_functions/get_step.html" onMouseOver="funcPopup(event,'get_step')">get_step</a>(0)-&gt;<a class="function" onClick="logFunction('get_metadata_var')" href="../../_functions/get_metadata_var.html" onMouseOver="funcPopup(event,'get_metadata_var')">get_metadata_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l758"><span class="linenum"> 758</span></a>      }
<a name="l759"><span class="linenum"> 759</span></a>  
<a name="l760"><span class="linenum"> 760</span></a>      <span class="comment">/**</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment">     * Set some metadata for this question attempt.</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment">     * @param string $name the name of the metadata variable to return.</span>
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">     * @param string $value the value to set that metadata variable to.</span>
<a name="l764"><span class="linenum"> 764</span></a>  <span class="comment">     */</span>
<a name="l765"><span class="linenum"> 765</span></a>      public function <a class="function" onClick="logFunction('set_metadata')" href="../../_functions/set_metadata.html" onMouseOver="funcPopup(event,'set_metadata')">set_metadata</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l766"><span class="linenum"> 766</span></a>          <a class="var it37246" onMouseOver="hilite(37246)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_step')" href="../../_functions/get_step.html" onMouseOver="funcPopup(event,'get_step')">get_step</a>(0);
<a name="l767"><span class="linenum"> 767</span></a>          if (!<a class="var it37246" onMouseOver="hilite(37246)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>-&gt;<a class="function" onClick="logFunction('has_metadata_var')" href="../../_functions/has_metadata_var.html" onMouseOver="funcPopup(event,'has_metadata_var')">has_metadata_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l768"><span class="linenum"> 768</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_metadata_added')" href="../../_functions/notify_metadata_added.html" onMouseOver="funcPopup(event,'notify_metadata_added')">notify_metadata_added</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l769"><span class="linenum"> 769</span></a>          } else if (<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> !== <a class="var it37246" onMouseOver="hilite(37246)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>-&gt;<a class="function" onClick="logFunction('get_metadata_var')" href="../../_functions/get_metadata_var.html" onMouseOver="funcPopup(event,'get_metadata_var')">get_metadata_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l770"><span class="linenum"> 770</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_metadata_modified')" href="../../_functions/notify_metadata_modified.html" onMouseOver="funcPopup(event,'notify_metadata_modified')">notify_metadata_modified</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l771"><span class="linenum"> 771</span></a>          }
<a name="l772"><span class="linenum"> 772</span></a>          <a class="var it37246" onMouseOver="hilite(37246)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>-&gt;<a class="function" onClick="logFunction('set_metadata_var')" href="../../_functions/set_metadata_var.html" onMouseOver="funcPopup(event,'set_metadata_var')">set_metadata_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l773"><span class="linenum"> 773</span></a>      }
<a name="l774"><span class="linenum"> 774</span></a>  
<a name="l775"><span class="linenum"> 775</span></a>      <span class="comment">/**</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">     * Helper function used by {@link rewrite_pluginfile_urls()} and</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment">     * {@link rewrite_response_pluginfile_urls()}.</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">     * @return array ids that need to go into the file paths.</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment">     */</span>
<a name="l780"><span class="linenum"> 780</span></a>      protected function <a class="function" onClick="logFunction('extra_file_path_components')" href="../../_functions/extra_file_path_components.html" onMouseOver="funcPopup(event,'extra_file_path_components')">extra_file_path_components</a>() {
<a name="l781"><span class="linenum"> 781</span></a>          return array(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_usage_id')" href="../../_functions/get_usage_id.html" onMouseOver="funcPopup(event,'get_usage_id')">get_usage_id</a>(), <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_slot')" href="../../_functions/get_slot.html" onMouseOver="funcPopup(event,'get_slot')">get_slot</a>());
<a name="l782"><span class="linenum"> 782</span></a>      }
<a name="l783"><span class="linenum"> 783</span></a>  
<a name="l784"><span class="linenum"> 784</span></a>      <span class="comment">/**</span>
<a name="l785"><span class="linenum"> 785</span></a>  <span class="comment">     * Calls {@link question_rewrite_question_urls()} with appropriate parameters</span>
<a name="l786"><span class="linenum"> 786</span></a>  <span class="comment">     * for content belonging to this question.</span>
<a name="l787"><span class="linenum"> 787</span></a>  <span class="comment">     * @param string $text the content to output.</span>
<a name="l788"><span class="linenum"> 788</span></a>  <span class="comment">     * @param string $component the component name (normally 'question' or 'qtype_...')</span>
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment">     * @param string $filearea the name of the file area.</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">     * @param int $itemid the item id.</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">     * @return srting the content with the URLs rewritten.</span>
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment">     */</span>
<a name="l793"><span class="linenum"> 793</span></a>      public function <a class="function" onClick="logFunction('rewrite_pluginfile_urls')" href="../../_functions/rewrite_pluginfile_urls.html" onMouseOver="funcPopup(event,'rewrite_pluginfile_urls')">rewrite_pluginfile_urls</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>) {
<a name="l794"><span class="linenum"> 794</span></a>          return <a class="function" onClick="logFunction('question_rewrite_question_urls')" href="../../_functions/question_rewrite_question_urls.html" onMouseOver="funcPopup(event,'question_rewrite_question_urls')">question_rewrite_question_urls</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>, '<a class="filename" href="../../pluginfile.php.html">pluginfile.php</a>',
<a name="l795"><span class="linenum"> 795</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>-&gt;contextid, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>,
<a name="l796"><span class="linenum"> 796</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('extra_file_path_components')" href="../../_functions/extra_file_path_components.html" onMouseOver="funcPopup(event,'extra_file_path_components')">extra_file_path_components</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>);
<a name="l797"><span class="linenum"> 797</span></a>      }
<a name="l798"><span class="linenum"> 798</span></a>  
<a name="l799"><span class="linenum"> 799</span></a>      <span class="comment">/**</span>
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment">     * Calls {@link question_rewrite_question_urls()} with appropriate parameters</span>
<a name="l801"><span class="linenum"> 801</span></a>  <span class="comment">     * for content belonging to responses to this question.</span>
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment">     *</span>
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment">     * @param string $text the text to update the URLs in.</span>
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">     * @param int $contextid the id of the context the quba belongs to.</span>
<a name="l805"><span class="linenum"> 805</span></a>  <span class="comment">     * @param string $name the variable name the files belong to.</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">     * @param question_attempt_step $step the step the response is coming from.</span>
<a name="l807"><span class="linenum"> 807</span></a>  <span class="comment">     * @return srting the content with the URLs rewritten.</span>
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">     */</span>
<a name="l809"><span class="linenum"> 809</span></a>      public function <a class="function" onClick="logFunction('rewrite_response_pluginfile_urls')" href="../../_functions/rewrite_response_pluginfile_urls.html" onMouseOver="funcPopup(event,'rewrite_response_pluginfile_urls')">rewrite_response_pluginfile_urls</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>,
<a name="l810"><span class="linenum"> 810</span></a>              question_attempt_step <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l811"><span class="linenum"> 811</span></a>          return <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('rewrite_response_pluginfile_urls')" href="../../_functions/rewrite_response_pluginfile_urls.html" onMouseOver="funcPopup(event,'rewrite_response_pluginfile_urls')">rewrite_response_pluginfile_urls</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>, <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>,
<a name="l812"><span class="linenum"> 812</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('extra_file_path_components')" href="../../_functions/extra_file_path_components.html" onMouseOver="funcPopup(event,'extra_file_path_components')">extra_file_path_components</a>());
<a name="l813"><span class="linenum"> 813</span></a>      }
<a name="l814"><span class="linenum"> 814</span></a>  
<a name="l815"><span class="linenum"> 815</span></a>      <span class="comment">/**</span>
<a name="l816"><span class="linenum"> 816</span></a>  <span class="comment">     * Get the {@link core_question_renderer}, in collaboration with appropriate</span>
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment">     * {@link qbehaviour_renderer} and {@link qtype_renderer} subclasses, to generate the</span>
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment">     * HTML to display this question attempt in its current state.</span>
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">     * @param question_display_options $options controls how the question is rendered.</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">     * @param string|null $number The question number to display.</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">     * @return string HTML fragment representing the question.</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment">     */</span>
<a name="l823"><span class="linenum"> 823</span></a>      public function <a class="function" onClick="logFunction('render')" href="../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>, <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a> = null) {
<a name="l824"><span class="linenum"> 824</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>)) {
<a name="l825"><span class="linenum"> 825</span></a>              global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>;
<a name="l826"><span class="linenum"> 826</span></a>              <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>;
<a name="l827"><span class="linenum"> 827</span></a>          }
<a name="l828"><span class="linenum"> 828</span></a>          <a class="var it33798" onMouseOver="hilite(33798)" onMouseOut="lolite()" onClick="logVariable('qoutput')" href="../../_variables/qoutput.html">$qoutput</a> = <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'question');
<a name="l829"><span class="linenum"> 829</span></a>          <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>);
<a name="l830"><span class="linenum"> 830</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('render')" href="../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>, <a class="var it33798" onMouseOver="hilite(33798)" onMouseOut="lolite()" onClick="logVariable('qoutput')" href="../../_variables/qoutput.html">$qoutput</a>, <a class="var it34200" onMouseOver="hilite(34200)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>);
<a name="l831"><span class="linenum"> 831</span></a>      }
<a name="l832"><span class="linenum"> 832</span></a>  
<a name="l833"><span class="linenum"> 833</span></a>      <span class="comment">/**</span>
<a name="l834"><span class="linenum"> 834</span></a>  <span class="comment">     * Generate any bits of HTML that needs to go in the &lt;head&gt; tag when this question</span>
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">     * attempt is displayed in the body.</span>
<a name="l836"><span class="linenum"> 836</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l837"><span class="linenum"> 837</span></a>  <span class="comment">     */</span>
<a name="l838"><span class="linenum"> 838</span></a>      public function <a class="function" onClick="logFunction('render_head_html')" href="../../_functions/render_head_html.html" onMouseOver="funcPopup(event,'render_head_html')">render_head_html</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a> = null) {
<a name="l839"><span class="linenum"> 839</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>)) {
<a name="l840"><span class="linenum"> 840</span></a>              global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>;
<a name="l841"><span class="linenum"> 841</span></a>              <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>;
<a name="l842"><span class="linenum"> 842</span></a>          }
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment">        // TODO go via behaviour.</span>
<a name="l844"><span class="linenum"> 844</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>)-&gt;<a class="function" onClick="logFunction('head_code')" href="../../_functions/head_code.html" onMouseOver="funcPopup(event,'head_code')">head_code</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>) .
<a name="l845"><span class="linenum"> 845</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>)-&gt;<a class="function" onClick="logFunction('head_code')" href="../../_functions/head_code.html" onMouseOver="funcPopup(event,'head_code')">head_code</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l846"><span class="linenum"> 846</span></a>      }
<a name="l847"><span class="linenum"> 847</span></a>  
<a name="l848"><span class="linenum"> 848</span></a>      <span class="comment">/**</span>
<a name="l849"><span class="linenum"> 849</span></a>  <span class="comment">     * Like {@link render_question()} but displays the question at the past step</span>
<a name="l850"><span class="linenum"> 850</span></a>  <span class="comment">     * indicated by $seq, rather than showing the latest step.</span>
<a name="l851"><span class="linenum"> 851</span></a>  <span class="comment">     *</span>
<a name="l852"><span class="linenum"> 852</span></a>  <span class="comment">     * @param int $seq the seq number of the past state to display.</span>
<a name="l853"><span class="linenum"> 853</span></a>  <span class="comment">     * @param question_display_options $options controls how the question is rendered.</span>
<a name="l854"><span class="linenum"> 854</span></a>  <span class="comment">     * @param string|null $number The question number to display. 'i' is a special</span>
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment">     *      value that gets displayed as Information. Null means no number is displayed.</span>
<a name="l856"><span class="linenum"> 856</span></a>  <span class="comment">     * @return string HTML fragment representing the question.</span>
<a name="l857"><span class="linenum"> 857</span></a>  <span class="comment">     */</span>
<a name="l858"><span class="linenum"> 858</span></a>      public function <a class="function" onClick="logFunction('render_at_step')" href="../../_functions/render_at_step.html" onMouseOver="funcPopup(event,'render_at_step')">render_at_step</a>(<a class="var it4727" onMouseOver="hilite(4727)" onMouseOut="lolite()" onClick="logVariable('seq')" href="../../_variables/seq.html">$seq</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>, <a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>) {
<a name="l859"><span class="linenum"> 859</span></a>          <a class="var it36229" onMouseOver="hilite(36229)" onMouseOut="lolite()" onClick="logVariable('restrictedqa')" href="../../_variables/restrictedqa.html">$restrictedqa</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_with_restricted_history')" href="../../_classes/question_attempt_with_restricted_history.html" onMouseOver="classPopup(event,'question_attempt_with_restricted_history')">question_attempt_with_restricted_history</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it4727" onMouseOver="hilite(4727)" onMouseOut="lolite()" onClick="logVariable('seq')" href="../../_variables/seq.html">$seq</a>, <a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l860"><span class="linenum"> 860</span></a>          return <a class="var it36229" onMouseOver="hilite(36229)" onMouseOut="lolite()" onClick="logVariable('restrictedqa')" href="../../_variables/restrictedqa.html">$restrictedqa</a>-&gt;<a class="function" onClick="logFunction('render')" href="../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>);
<a name="l861"><span class="linenum"> 861</span></a>      }
<a name="l862"><span class="linenum"> 862</span></a>  
<a name="l863"><span class="linenum"> 863</span></a>      <span class="comment">/**</span>
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">     * Checks whether the users is allow to be served a particular file.</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">     * @param question_display_options $options the options that control display of the question.</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment">     * @param string $component the name of the component we are serving files for.</span>
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment">     * @param string $filearea the name of the file area.</span>
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment">     * @param array $args the remaining bits of the file path.</span>
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment">     * @param bool $forcedownload whether the user must be forced to download the file.</span>
<a name="l870"><span class="linenum"> 870</span></a>  <span class="comment">     * @return bool true if the user can access this file.</span>
<a name="l871"><span class="linenum"> 871</span></a>  <span class="comment">     */</span>
<a name="l872"><span class="linenum"> 872</span></a>      public function <a class="function" onClick="logFunction('check_file_access')" href="../../_functions/check_file_access.html" onMouseOver="funcPopup(event,'check_file_access')">check_file_access</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it626" onMouseOver="hilite(626)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>, <a class="var it713" onMouseOver="hilite(713)" onMouseOut="lolite()" onClick="logVariable('forcedownload')" href="../../_variables/forcedownload.html">$forcedownload</a>) {
<a name="l873"><span class="linenum"> 873</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('check_file_access')" href="../../_functions/check_file_access.html" onMouseOver="funcPopup(event,'check_file_access')">check_file_access</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it626" onMouseOver="hilite(626)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>, <a class="var it713" onMouseOver="hilite(713)" onMouseOut="lolite()" onClick="logVariable('forcedownload')" href="../../_variables/forcedownload.html">$forcedownload</a>);
<a name="l874"><span class="linenum"> 874</span></a>      }
<a name="l875"><span class="linenum"> 875</span></a>  
<a name="l876"><span class="linenum"> 876</span></a>      <span class="comment">/**</span>
<a name="l877"><span class="linenum"> 877</span></a>  <span class="comment">     * Add a step to this question attempt.</span>
<a name="l878"><span class="linenum"> 878</span></a>  <span class="comment">     * @param question_attempt_step $step the new step.</span>
<a name="l879"><span class="linenum"> 879</span></a>  <span class="comment">     */</span>
<a name="l880"><span class="linenum"> 880</span></a>      protected function <a class="function" onClick="logFunction('add_step')" href="../../_functions/add_step.html" onMouseOver="funcPopup(event,'add_step')">add_step</a>(question_attempt_step <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l881"><span class="linenum"> 881</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[] = <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>;
<a name="l882"><span class="linenum"> 882</span></a>          <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l883"><span class="linenum"> 883</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_added')" href="../../_functions/notify_step_added.html" onMouseOver="funcPopup(event,'notify_step_added')">notify_step_added</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="phpfunction" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>));
<a name="l884"><span class="linenum"> 884</span></a>      }
<a name="l885"><span class="linenum"> 885</span></a>  
<a name="l886"><span class="linenum"> 886</span></a>      <span class="comment">/**</span>
<a name="l887"><span class="linenum"> 887</span></a>  <span class="comment">     * Add an auto-saved step to this question attempt. We mark auto-saved steps by</span>
<a name="l888"><span class="linenum"> 888</span></a>  <span class="comment">     * changing saving the step number with a - sign.</span>
<a name="l889"><span class="linenum"> 889</span></a>  <span class="comment">     * @param question_attempt_step $step the new step.</span>
<a name="l890"><span class="linenum"> 890</span></a>  <span class="comment">     */</span>
<a name="l891"><span class="linenum"> 891</span></a>      protected function <a class="function" onClick="logFunction('add_autosaved_step')" href="../../_functions/add_autosaved_step.html" onMouseOver="funcPopup(event,'add_autosaved_step')">add_autosaved_step</a>(question_attempt_step <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l892"><span class="linenum"> 892</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[] = <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>;
<a name="l893"><span class="linenum"> 893</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a> = <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>;
<a name="l894"><span class="linenum"> 894</span></a>          <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l895"><span class="linenum"> 895</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_added')" href="../../_functions/notify_step_added.html" onMouseOver="funcPopup(event,'notify_step_added')">notify_step_added</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, -<a class="phpfunction" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>));
<a name="l896"><span class="linenum"> 896</span></a>      }
<a name="l897"><span class="linenum"> 897</span></a>  
<a name="l898"><span class="linenum"> 898</span></a>      <span class="comment">/**</span>
<a name="l899"><span class="linenum"> 899</span></a>  <span class="comment">     * Discard any auto-saved data belonging to this question attempt.</span>
<a name="l900"><span class="linenum"> 900</span></a>  <span class="comment">     */</span>
<a name="l901"><span class="linenum"> 901</span></a>      public function <a class="function" onClick="logFunction('discard_autosaved_step')" href="../../_functions/discard_autosaved_step.html" onMouseOver="funcPopup(event,'discard_autosaved_step')">discard_autosaved_step</a>() {
<a name="l902"><span class="linenum"> 902</span></a>          if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('has_autosaved_step')" href="../../_functions/has_autosaved_step.html" onMouseOver="funcPopup(event,'has_autosaved_step')">has_autosaved_step</a>()) {
<a name="l903"><span class="linenum"> 903</span></a>              return;
<a name="l904"><span class="linenum"> 904</span></a>          }
<a name="l905"><span class="linenum"> 905</span></a>  
<a name="l906"><span class="linenum"> 906</span></a>          <a class="var it37247" onMouseOver="hilite(37247)" onMouseOut="lolite()" onClick="logVariable('autosaved')" href="../../_variables/autosaved.html">$autosaved</a> = <a class="phpfunction" onClick="logFunction('array_pop')" href="../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l907"><span class="linenum"> 907</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a> = null;
<a name="l908"><span class="linenum"> 908</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_deleted')" href="../../_functions/notify_step_deleted.html" onMouseOver="funcPopup(event,'notify_step_deleted')">notify_step_deleted</a>(<a class="var it37247" onMouseOver="hilite(37247)" onMouseOut="lolite()" onClick="logVariable('autosaved')" href="../../_variables/autosaved.html">$autosaved</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l909"><span class="linenum"> 909</span></a>      }
<a name="l910"><span class="linenum"> 910</span></a>  
<a name="l911"><span class="linenum"> 911</span></a>      <span class="comment">/**</span>
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment">     * If there is an autosaved step, convert it into a real save, so that it</span>
<a name="l913"><span class="linenum"> 913</span></a>  <span class="comment">     * is preserved.</span>
<a name="l914"><span class="linenum"> 914</span></a>  <span class="comment">     */</span>
<a name="l915"><span class="linenum"> 915</span></a>      protected function <a class="function" onClick="logFunction('convert_autosaved_step_to_real_step')" href="../../_functions/convert_autosaved_step_to_real_step.html" onMouseOver="funcPopup(event,'convert_autosaved_step_to_real_step')">convert_autosaved_step_to_real_step</a>() {
<a name="l916"><span class="linenum"> 916</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a> === null) {
<a name="l917"><span class="linenum"> 917</span></a>              return;
<a name="l918"><span class="linenum"> 918</span></a>          }
<a name="l919"><span class="linenum"> 919</span></a>  
<a name="l920"><span class="linenum"> 920</span></a>          <a class="var it7165" onMouseOver="hilite(7165)" onMouseOut="lolite()" onClick="logVariable('laststep')" href="../../_variables/laststep.html">$laststep</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l921"><span class="linenum"> 921</span></a>          if (<a class="var it7165" onMouseOver="hilite(7165)" onMouseOut="lolite()" onClick="logVariable('laststep')" href="../../_variables/laststep.html">$laststep</a> !== <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a>) {
<a name="l922"><span class="linenum"> 922</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Cannot convert autosaved step to real step, since other steps have been added.');
<a name="l923"><span class="linenum"> 923</span></a>          }
<a name="l924"><span class="linenum"> 924</span></a>  
<a name="l925"><span class="linenum"> 925</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_modified')" href="../../_functions/notify_step_modified.html" onMouseOver="funcPopup(event,'notify_step_modified')">notify_step_modified</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="phpfunction" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>));
<a name="l926"><span class="linenum"> 926</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a> = null;
<a name="l927"><span class="linenum"> 927</span></a>      }
<a name="l928"><span class="linenum"> 928</span></a>  
<a name="l929"><span class="linenum"> 929</span></a>      <span class="comment">/**</span>
<a name="l930"><span class="linenum"> 930</span></a>  <span class="comment">     * Use a strategy to pick a variant.</span>
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment">     * @param question_variant_selection_strategy $variantstrategy a strategy.</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment">     * @return int the selected variant.</span>
<a name="l933"><span class="linenum"> 933</span></a>  <span class="comment">     */</span>
<a name="l934"><span class="linenum"> 934</span></a>      public function <a class="function" onClick="logFunction('select_variant')" href="../../_functions/select_variant.html" onMouseOver="funcPopup(event,'select_variant')">select_variant</a>(question_variant_selection_strategy <a class="var it11125" onMouseOver="hilite(11125)" onMouseOut="lolite()" onClick="logVariable('variantstrategy')" href="../../_variables/variantstrategy.html">$variantstrategy</a>) {
<a name="l935"><span class="linenum"> 935</span></a>          return <a class="var it11125" onMouseOver="hilite(11125)" onMouseOut="lolite()" onClick="logVariable('variantstrategy')" href="../../_variables/variantstrategy.html">$variantstrategy</a>-&gt;<a class="function" onClick="logFunction('choose_variant')" href="../../_functions/choose_variant.html" onMouseOver="funcPopup(event,'choose_variant')">choose_variant</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('get_num_variants')" href="../../_functions/get_num_variants.html" onMouseOver="funcPopup(event,'get_num_variants')">get_num_variants</a>(),
<a name="l936"><span class="linenum"> 936</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('get_variants_selection_seed')" href="../../_functions/get_variants_selection_seed.html" onMouseOver="funcPopup(event,'get_variants_selection_seed')">get_variants_selection_seed</a>());
<a name="l937"><span class="linenum"> 937</span></a>      }
<a name="l938"><span class="linenum"> 938</span></a>  
<a name="l939"><span class="linenum"> 939</span></a>      <span class="comment">/**</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">     * Start this question attempt.</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">     *</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment">     * You should not call this method directly. Call</span>
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment">     * {@link question_usage_by_activity::start_question()} instead.</span>
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment">     *</span>
<a name="l945"><span class="linenum"> 945</span></a>  <span class="comment">     * @param string|question_behaviour $preferredbehaviour the name of the</span>
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment">     *      desired archetypal behaviour, or an actual model instance.</span>
<a name="l947"><span class="linenum"> 947</span></a>  <span class="comment">     * @param int $variant the variant of the question to start. Between 1 and</span>
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment">     *      $this-&gt;get_question()-&gt;get_num_variants() inclusive.</span>
<a name="l949"><span class="linenum"> 949</span></a>  <span class="comment">     * @param array $submitteddata optional, used when re-starting to keep the same initial state.</span>
<a name="l950"><span class="linenum"> 950</span></a>  <span class="comment">     * @param int $timestamp optional, the timstamp to record for this action. Defaults to now.</span>
<a name="l951"><span class="linenum"> 951</span></a>  <span class="comment">     * @param int $userid optional, the user to attribute this action to. Defaults to the current user.</span>
<a name="l952"><span class="linenum"> 952</span></a>  <span class="comment">     * @param int $existingstepid optional, if this step is going to replace an existing step</span>
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment">     *      (for example, during a regrade) this is the id of the previous step we are replacing.</span>
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment">     */</span>
<a name="l955"><span class="linenum"> 955</span></a>      public function <a class="function" onClick="logFunction('start')" href="../../_functions/start.html" onMouseOver="funcPopup(event,'start')">start</a>(<a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>, <a class="var it676" onMouseOver="hilite(676)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../_variables/variant.html">$variant</a>, <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = array(),
<a name="l956"><span class="linenum"> 956</span></a>              <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null, <a class="var it26140" onMouseOver="hilite(26140)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a> = null) {
<a name="l957"><span class="linenum"> 957</span></a>  
<a name="l958"><span class="linenum"> 958</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>() &gt; 0) {
<a name="l959"><span class="linenum"> 959</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Cannot start a question that is already started.');
<a name="l960"><span class="linenum"> 960</span></a>          }
<a name="l961"><span class="linenum"> 961</span></a>  
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">        // Initialise the behaviour.</span>
<a name="l963"><span class="linenum"> 963</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('variant')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/variant.html">variant</a> = <a class="var it676" onMouseOver="hilite(676)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../_variables/variant.html">$variant</a>;
<a name="l964"><span class="linenum"> 964</span></a>          if (<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>)) {
<a name="l965"><span class="linenum"> 965</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a> =
<a name="l966"><span class="linenum"> 966</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>-&gt;<a class="function" onClick="logFunction('make_behaviour')" href="../../_functions/make_behaviour.html" onMouseOver="funcPopup(event,'make_behaviour')">make_behaviour</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l967"><span class="linenum"> 967</span></a>          } else {
<a name="l968"><span class="linenum"> 968</span></a>              <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = <a class="phpfunction" onClick="logFunction('get_class')" href="../../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l969"><span class="linenum"> 969</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a> = new <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l970"><span class="linenum"> 970</span></a>          }
<a name="l971"><span class="linenum"> 971</span></a>  
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">        // Record the minimum and maximum fractions.</span>
<a name="l973"><span class="linenum"> 973</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('minfraction')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_min_fraction')" href="../../_functions/get_min_fraction.html" onMouseOver="funcPopup(event,'get_min_fraction')">get_min_fraction</a>();
<a name="l974"><span class="linenum"> 974</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_max_fraction')" href="../../_functions/get_max_fraction.html" onMouseOver="funcPopup(event,'get_max_fraction')">get_max_fraction</a>();
<a name="l975"><span class="linenum"> 975</span></a>  
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">        // Initialise the first step.</span>
<a name="l977"><span class="linenum"> 977</span></a>          <a class="var it37246" onMouseOver="hilite(37246)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_step')" href="../../_classes/question_attempt_step.html" onMouseOver="classPopup(event,'question_attempt_step')">question_attempt_step</a>(<a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it26140" onMouseOver="hilite(26140)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a>);
<a name="l978"><span class="linenum"> 978</span></a>          if (<a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>) {
<a name="l979"><span class="linenum"> 979</span></a>              <a class="var it37246" onMouseOver="hilite(37246)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>-&gt;<a class="function" onClick="logFunction('set_state')" href="../../_functions/set_state.html" onMouseOver="funcPopup(event,'set_state')">set_state</a>(question_state::<a class="var it3089" onMouseOver="hilite(3089)" onMouseOut="lolite()" onClick="logVariable('complete')" href="../../_variables/complete.html">$complete</a>);
<a name="l980"><span class="linenum"> 980</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('apply_attempt_state')" href="../../_functions/apply_attempt_state.html" onMouseOver="funcPopup(event,'apply_attempt_state')">apply_attempt_state</a>(<a class="var it37246" onMouseOver="hilite(37246)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>);
<a name="l981"><span class="linenum"> 981</span></a>          } else {
<a name="l982"><span class="linenum"> 982</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('init_first_step')" href="../../_functions/init_first_step.html" onMouseOver="funcPopup(event,'init_first_step')">init_first_step</a>(<a class="var it37246" onMouseOver="hilite(37246)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>, <a class="var it676" onMouseOver="hilite(676)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../_variables/variant.html">$variant</a>);
<a name="l983"><span class="linenum"> 983</span></a>          }
<a name="l984"><span class="linenum"> 984</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_step')" href="../../_functions/add_step.html" onMouseOver="funcPopup(event,'add_step')">add_step</a>(<a class="var it37246" onMouseOver="hilite(37246)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>);
<a name="l985"><span class="linenum"> 985</span></a>  
<a name="l986"><span class="linenum"> 986</span></a>  <span class="comment">        // Record questionline and correct answer.</span>
<a name="l987"><span class="linenum"> 987</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_question_summary')" href="../../_functions/get_question_summary.html" onMouseOver="funcPopup(event,'get_question_summary')">get_question_summary</a>();
<a name="l988"><span class="linenum"> 988</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_right_answer_summary')" href="../../_functions/get_right_answer_summary.html" onMouseOver="funcPopup(event,'get_right_answer_summary')">get_right_answer_summary</a>();
<a name="l989"><span class="linenum"> 989</span></a>      }
<a name="l990"><span class="linenum"> 990</span></a>  
<a name="l991"><span class="linenum"> 991</span></a>      <span class="comment">/**</span>
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment">     * Start this question attempt, starting from the point that the previous</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">     * attempt $oldqa had reached.</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">     *</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">     * You should not call this method directly. Call</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment">     * {@link question_usage_by_activity::start_question_based_on()} instead.</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment">     *</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment">     * @param question_attempt $oldqa a previous attempt at this quetsion that</span>
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment">     *      defines the starting point.</span>
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment">     */</span>
<a name="l1001"><span class="linenum">1001</span></a>      public function <a class="function" onClick="logFunction('start_based_on')" href="../../_functions/start_based_on.html" onMouseOver="funcPopup(event,'start_based_on')">start_based_on</a>(question_attempt <a class="var it11124" onMouseOver="hilite(11124)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>) {
<a name="l1002"><span class="linenum">1002</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('start')" href="../../_functions/start.html" onMouseOver="funcPopup(event,'start')">start</a>(<a class="var it11124" onMouseOver="hilite(11124)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39520" onMouseOver="hilite(39520)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>, <a class="var it11124" onMouseOver="hilite(11124)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a class="function" onClick="logFunction('get_variant')" href="../../_functions/get_variant.html" onMouseOver="funcPopup(event,'get_variant')">get_variant</a>(), <a class="var it11124" onMouseOver="hilite(11124)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a class="function" onClick="logFunction('get_resume_data')" href="../../_functions/get_resume_data.html" onMouseOver="funcPopup(event,'get_resume_data')">get_resume_data</a>());
<a name="l1003"><span class="linenum">1003</span></a>      }
<a name="l1004"><span class="linenum">1004</span></a>  
<a name="l1005"><span class="linenum">1005</span></a>      <span class="comment">/**</span>
<a name="l1006"><span class="linenum">1006</span></a>  <span class="comment">     * Used by {@link start_based_on()} to get the data needed to start a new</span>
<a name="l1007"><span class="linenum">1007</span></a>  <span class="comment">     * attempt from the point this attempt has go to.</span>
<a name="l1008"><span class="linenum">1008</span></a>  <span class="comment">     * @return array name =&gt; value pairs.</span>
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">     */</span>
<a name="l1010"><span class="linenum">1010</span></a>      protected function <a class="function" onClick="logFunction('get_resume_data')" href="../../_functions/get_resume_data.html" onMouseOver="funcPopup(event,'get_resume_data')">get_resume_data</a>() {
<a name="l1011"><span class="linenum">1011</span></a>          <a class="var it37248" onMouseOver="hilite(37248)" onMouseOut="lolite()" onClick="logVariable('resumedata')" href="../../_variables/resumedata.html">$resumedata</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_resume_data')" href="../../_functions/get_resume_data.html" onMouseOver="funcPopup(event,'get_resume_data')">get_resume_data</a>();
<a name="l1012"><span class="linenum">1012</span></a>          foreach (<a class="var it37248" onMouseOver="hilite(37248)" onMouseOut="lolite()" onClick="logVariable('resumedata')" href="../../_variables/resumedata.html">$resumedata</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1013"><span class="linenum">1013</span></a>              if (<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> instanceof question_file_loader) {
<a name="l1014"><span class="linenum">1014</span></a>                  <a class="var it37248" onMouseOver="hilite(37248)" onMouseOut="lolite()" onClick="logVariable('resumedata')" href="../../_variables/resumedata.html">$resumedata</a>[<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>-&gt;<a class="function" onClick="logFunction('get_question_file_saver')" href="../../_functions/get_question_file_saver.html" onMouseOver="funcPopup(event,'get_question_file_saver')">get_question_file_saver</a>();
<a name="l1015"><span class="linenum">1015</span></a>              }
<a name="l1016"><span class="linenum">1016</span></a>          }
<a name="l1017"><span class="linenum">1017</span></a>          return <a class="var it37248" onMouseOver="hilite(37248)" onMouseOut="lolite()" onClick="logVariable('resumedata')" href="../../_variables/resumedata.html">$resumedata</a>;
<a name="l1018"><span class="linenum">1018</span></a>      }
<a name="l1019"><span class="linenum">1019</span></a>  
<a name="l1020"><span class="linenum">1020</span></a>      <span class="comment">/**</span>
<a name="l1021"><span class="linenum">1021</span></a>  <span class="comment">     * Get a particular parameter from the current request. A wrapper round</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment">     * {@link optional_param()}, except that the results is returned without</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">     * slashes.</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">     * @param string $name the paramter name.</span>
<a name="l1025"><span class="linenum">1025</span></a>  <span class="comment">     * @param int $type one of the standard PARAM_... constants, or one of the</span>
<a name="l1026"><span class="linenum">1026</span></a>  <span class="comment">     *      special extra constands defined by this class.</span>
<a name="l1027"><span class="linenum">1027</span></a>  <span class="comment">     * @param array $postdata (optional, only inteded for testing use) take the</span>
<a name="l1028"><span class="linenum">1028</span></a>  <span class="comment">     *      data from this array, instead of from $_POST.</span>
<a name="l1029"><span class="linenum">1029</span></a>  <span class="comment">     * @return mixed the requested value.</span>
<a name="l1030"><span class="linenum">1030</span></a>  <span class="comment">     */</span>
<a name="l1031"><span class="linenum">1031</span></a>      public function <a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>, <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> = null) {
<a name="l1032"><span class="linenum">1032</span></a>          switch (<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) {
<a name="l1033"><span class="linenum">1033</span></a>              case self::PARAM_MARK:
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment">                // Special case to work around PARAM_FLOAT converting '' to 0.</span>
<a name="l1035"><span class="linenum">1035</span></a>                  return question_utils::<a class="function" onClick="logFunction('clean_param_mark')" href="../../_functions/clean_param_mark.html" onMouseOver="funcPopup(event,'clean_param_mark')">clean_param_mark</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="constant" onClick="logConstant('PARAM_RAW_TRIMMED')" href="../../_constants/PARAM_RAW_TRIMMED.html" onMouseOver="constPopup(event,'PARAM_RAW_TRIMMED')">PARAM_RAW_TRIMMED</a>, <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>));
<a name="l1036"><span class="linenum">1036</span></a>  
<a name="l1037"><span class="linenum">1037</span></a>              case self::PARAM_FILES:
<a name="l1038"><span class="linenum">1038</span></a>                  return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_response_files')" href="../../_functions/process_response_files.html" onMouseOver="funcPopup(event,'process_response_files')">process_response_files</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>);
<a name="l1039"><span class="linenum">1039</span></a>  
<a name="l1040"><span class="linenum">1040</span></a>              case self::PARAM_RAW_FILES:
<a name="l1041"><span class="linenum">1041</span></a>                  <a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>);
<a name="l1042"><span class="linenum">1042</span></a>                  return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_response_files')" href="../../_functions/process_response_files.html" onMouseOver="funcPopup(event,'process_response_files')">process_response_files</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> . ':itemid', <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>, <a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>);
<a name="l1043"><span class="linenum">1043</span></a>  
<a name="l1044"><span class="linenum">1044</span></a>              default:
<a name="l1045"><span class="linenum">1045</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>)) {
<a name="l1046"><span class="linenum">1046</span></a>                      <a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, null, <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>);
<a name="l1047"><span class="linenum">1047</span></a>                  } else if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>)) {
<a name="l1048"><span class="linenum">1048</span></a>                      <a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> = <a class="function" onClick="logFunction('clean_param')" href="../../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>[<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>], <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>);
<a name="l1049"><span class="linenum">1049</span></a>                  } else {
<a name="l1050"><span class="linenum">1050</span></a>                      <a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> = null;
<a name="l1051"><span class="linenum">1051</span></a>                  }
<a name="l1052"><span class="linenum">1052</span></a>  
<a name="l1053"><span class="linenum">1053</span></a>                  return <a class="var it3053" onMouseOver="hilite(3053)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>;
<a name="l1054"><span class="linenum">1054</span></a>          }
<a name="l1055"><span class="linenum">1055</span></a>      }
<a name="l1056"><span class="linenum">1056</span></a>  
<a name="l1057"><span class="linenum">1057</span></a>      <span class="comment">/**</span>
<a name="l1058"><span class="linenum">1058</span></a>  <span class="comment">     * Handle a submitted variable representing uploaded files.</span>
<a name="l1059"><span class="linenum">1059</span></a>  <span class="comment">     * @param string $name the field name.</span>
<a name="l1060"><span class="linenum">1060</span></a>  <span class="comment">     * @param string $draftidname the field name holding the draft file area id.</span>
<a name="l1061"><span class="linenum">1061</span></a>  <span class="comment">     * @param array $postdata (optional, only inteded for testing use) take the</span>
<a name="l1062"><span class="linenum">1062</span></a>  <span class="comment">     *      data from this array, instead of from $_POST. At the moment, this</span>
<a name="l1063"><span class="linenum">1063</span></a>  <span class="comment">     *      behaves as if there were no files.</span>
<a name="l1064"><span class="linenum">1064</span></a>  <span class="comment">     * @param string $text optional reponse text.</span>
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment">     * @return question_file_saver that can be used to save the files later.</span>
<a name="l1066"><span class="linenum">1066</span></a>  <span class="comment">     */</span>
<a name="l1067"><span class="linenum">1067</span></a>      protected function <a class="function" onClick="logFunction('process_response_files')" href="../../_functions/process_response_files.html" onMouseOver="funcPopup(event,'process_response_files')">process_response_files</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it37249" onMouseOver="hilite(37249)" onMouseOut="lolite()" onClick="logVariable('draftidname')" href="../../_variables/draftidname.html">$draftidname</a>, <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> = null, <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a> = null) {
<a name="l1068"><span class="linenum">1068</span></a>          if (<a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>) {
<a name="l1069"><span class="linenum">1069</span></a>  <span class="comment">            // For simulated posts, get the draft itemid from there.</span>
<a name="l1070"><span class="linenum">1070</span></a>              <a class="var it2832" onMouseOver="hilite(2832)" onMouseOut="lolite()" onClick="logVariable('draftitemid')" href="../../_variables/draftitemid.html">$draftitemid</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it37249" onMouseOver="hilite(37249)" onMouseOut="lolite()" onClick="logVariable('draftidname')" href="../../_variables/draftidname.html">$draftidname</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>);
<a name="l1071"><span class="linenum">1071</span></a>          } else {
<a name="l1072"><span class="linenum">1072</span></a>              <a class="var it2832" onMouseOver="hilite(2832)" onMouseOut="lolite()" onClick="logVariable('draftitemid')" href="../../_variables/draftitemid.html">$draftitemid</a> = <a class="function" onClick="logFunction('file_get_submitted_draft_itemid')" href="../../_functions/file_get_submitted_draft_itemid.html" onMouseOver="funcPopup(event,'file_get_submitted_draft_itemid')">file_get_submitted_draft_itemid</a>(<a class="var it37249" onMouseOver="hilite(37249)" onMouseOut="lolite()" onClick="logVariable('draftidname')" href="../../_variables/draftidname.html">$draftidname</a>);
<a name="l1073"><span class="linenum">1073</span></a>          }
<a name="l1074"><span class="linenum">1074</span></a>  
<a name="l1075"><span class="linenum">1075</span></a>          if (!<a class="var it2832" onMouseOver="hilite(2832)" onMouseOut="lolite()" onClick="logVariable('draftitemid')" href="../../_variables/draftitemid.html">$draftitemid</a>) {
<a name="l1076"><span class="linenum">1076</span></a>              return null;
<a name="l1077"><span class="linenum">1077</span></a>          }
<a name="l1078"><span class="linenum">1078</span></a>  
<a name="l1079"><span class="linenum">1079</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_file_saver')" href="../../_classes/question_file_saver.html" onMouseOver="classPopup(event,'question_file_saver')">question_file_saver</a>(<a class="var it2832" onMouseOver="hilite(2832)" onMouseOut="lolite()" onClick="logVariable('draftitemid')" href="../../_variables/draftitemid.html">$draftitemid</a>, 'question', 'response_' .
<a name="l1080"><span class="linenum">1080</span></a>                  <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>(), '', <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>), <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>);
<a name="l1081"><span class="linenum">1081</span></a>      }
<a name="l1082"><span class="linenum">1082</span></a>  
<a name="l1083"><span class="linenum">1083</span></a>      <span class="comment">/**</span>
<a name="l1084"><span class="linenum">1084</span></a>  <span class="comment">     * Get any data from the request that matches the list of expected params.</span>
<a name="l1085"><span class="linenum">1085</span></a>  <span class="comment">     * @param array $expected variable name =&gt; PARAM_... constant.</span>
<a name="l1086"><span class="linenum">1086</span></a>  <span class="comment">     * @param string $extraprefix '-' or ''.</span>
<a name="l1087"><span class="linenum">1087</span></a>  <span class="comment">     * @return array name =&gt; value.</span>
<a name="l1088"><span class="linenum">1088</span></a>  <span class="comment">     */</span>
<a name="l1089"><span class="linenum">1089</span></a>      protected function <a class="function" onClick="logFunction('get_expected_data')" href="../../_functions/get_expected_data.html" onMouseOver="funcPopup(event,'get_expected_data')">get_expected_data</a>(<a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a>, <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>, <a class="var it26146" onMouseOver="hilite(26146)" onMouseOut="lolite()" onClick="logVariable('extraprefix')" href="../../_variables/extraprefix.html">$extraprefix</a>) {
<a name="l1090"><span class="linenum">1090</span></a>          <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = array();
<a name="l1091"><span class="linenum">1091</span></a>          foreach (<a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) {
<a name="l1092"><span class="linenum">1092</span></a>              <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(
<a name="l1093"><span class="linenum">1093</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>() . <a class="var it26146" onMouseOver="hilite(26146)" onMouseOut="lolite()" onClick="logVariable('extraprefix')" href="../../_variables/extraprefix.html">$extraprefix</a> . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>, <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>);
<a name="l1094"><span class="linenum">1094</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l1095"><span class="linenum">1095</span></a>                  <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>[<a class="var it26146" onMouseOver="hilite(26146)" onMouseOut="lolite()" onClick="logVariable('extraprefix')" href="../../_variables/extraprefix.html">$extraprefix</a> . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1096"><span class="linenum">1096</span></a>              }
<a name="l1097"><span class="linenum">1097</span></a>          }
<a name="l1098"><span class="linenum">1098</span></a>          return <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>;
<a name="l1099"><span class="linenum">1099</span></a>      }
<a name="l1100"><span class="linenum">1100</span></a>  
<a name="l1101"><span class="linenum">1101</span></a>      <span class="comment">/**</span>
<a name="l1102"><span class="linenum">1102</span></a>  <span class="comment">     * Get all the submitted question type data for this question, whithout checking</span>
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment">     * that it is valid or cleaning it in any way.</span>
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment">     * @return array name =&gt; value.</span>
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment">     */</span>
<a name="l1106"><span class="linenum">1106</span></a>      public function <a class="function" onClick="logFunction('get_all_submitted_qt_vars')" href="../../_functions/get_all_submitted_qt_vars.html" onMouseOver="funcPopup(event,'get_all_submitted_qt_vars')">get_all_submitted_qt_vars</a>(<a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>) {
<a name="l1107"><span class="linenum">1107</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>)) {
<a name="l1108"><span class="linenum">1108</span></a>              <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> = <a class="var it2053" onMouseOver="hilite(2053)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>;
<a name="l1109"><span class="linenum">1109</span></a>          }
<a name="l1110"><span class="linenum">1110</span></a>  
<a name="l1111"><span class="linenum">1111</span></a>          <a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../../_variables/pattern.html">$pattern</a> = '/^' . <a class="phpfunction" onClick="logFunction('preg_quote')" href="../../_functions/preg_quote.html" onMouseOver="phpfuncPopup(event,'preg_quote')">preg_quote</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>(), '/') . '[^-:]/';
<a name="l1112"><span class="linenum">1112</span></a>          <a class="var it37250" onMouseOver="hilite(37250)" onMouseOut="lolite()" onClick="logVariable('prefixlen')" href="../../_variables/prefixlen.html">$prefixlen</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>());
<a name="l1113"><span class="linenum">1113</span></a>  
<a name="l1114"><span class="linenum">1114</span></a>          <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = array();
<a name="l1115"><span class="linenum">1115</span></a>          foreach (<a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1116"><span class="linenum">1116</span></a>              if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../../_variables/pattern.html">$pattern</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l1117"><span class="linenum">1117</span></a>                  <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>[<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it37250" onMouseOver="hilite(37250)" onMouseOut="lolite()" onClick="logVariable('prefixlen')" href="../../_variables/prefixlen.html">$prefixlen</a>)] = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1118"><span class="linenum">1118</span></a>              }
<a name="l1119"><span class="linenum">1119</span></a>          }
<a name="l1120"><span class="linenum">1120</span></a>  
<a name="l1121"><span class="linenum">1121</span></a>          return <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>;
<a name="l1122"><span class="linenum">1122</span></a>      }
<a name="l1123"><span class="linenum">1123</span></a>  
<a name="l1124"><span class="linenum">1124</span></a>      <span class="comment">/**</span>
<a name="l1125"><span class="linenum">1125</span></a>  <span class="comment">     * Get all the sumbitted data belonging to this question attempt from the</span>
<a name="l1126"><span class="linenum">1126</span></a>  <span class="comment">     * current request.</span>
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment">     * @param array $postdata (optional, only inteded for testing use) take the</span>
<a name="l1128"><span class="linenum">1128</span></a>  <span class="comment">     *      data from this array, instead of from $_POST.</span>
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">     * @return array name =&gt; value pairs that could be passed to {@link process_action()}.</span>
<a name="l1130"><span class="linenum">1130</span></a>  <span class="comment">     */</span>
<a name="l1131"><span class="linenum">1131</span></a>      public function <a class="function" onClick="logFunction('get_submitted_data')" href="../../_functions/get_submitted_data.html" onMouseOver="funcPopup(event,'get_submitted_data')">get_submitted_data</a>(<a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> = null) {
<a name="l1132"><span class="linenum">1132</span></a>          <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_expected_data')" href="../../_functions/get_expected_data.html" onMouseOver="funcPopup(event,'get_expected_data')">get_expected_data</a>(
<a name="l1133"><span class="linenum">1133</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_expected_data')" href="../../_functions/get_expected_data.html" onMouseOver="funcPopup(event,'get_expected_data')">get_expected_data</a>(), <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>, '-');
<a name="l1134"><span class="linenum">1134</span></a>  
<a name="l1135"><span class="linenum">1135</span></a>          <a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_expected_qt_data')" href="../../_functions/get_expected_qt_data.html" onMouseOver="funcPopup(event,'get_expected_qt_data')">get_expected_qt_data</a>();
<a name="l1136"><span class="linenum">1136</span></a>          if (<a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a> === self::USE_RAW_DATA) {
<a name="l1137"><span class="linenum">1137</span></a>              <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> += <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_all_submitted_qt_vars')" href="../../_functions/get_all_submitted_qt_vars.html" onMouseOver="funcPopup(event,'get_all_submitted_qt_vars')">get_all_submitted_qt_vars</a>(<a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>);
<a name="l1138"><span class="linenum">1138</span></a>          } else {
<a name="l1139"><span class="linenum">1139</span></a>              <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> += <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_expected_data')" href="../../_functions/get_expected_data.html" onMouseOver="funcPopup(event,'get_expected_data')">get_expected_data</a>(<a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a>, <a class="var it691" onMouseOver="hilite(691)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>, '');
<a name="l1140"><span class="linenum">1140</span></a>          }
<a name="l1141"><span class="linenum">1141</span></a>          return <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>;
<a name="l1142"><span class="linenum">1142</span></a>      }
<a name="l1143"><span class="linenum">1143</span></a>  
<a name="l1144"><span class="linenum">1144</span></a>      <span class="comment">/**</span>
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment">     * Get a set of response data for this question attempt that would get the</span>
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment">     * best possible mark. If it is not possible to compute a correct</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment">     * response, this method should return null.</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment">     * @return array|null name =&gt; value pairs that could be passed to {@link process_action()}.</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment">     */</span>
<a name="l1150"><span class="linenum">1150</span></a>      public function <a class="function" onClick="logFunction('get_correct_response')" href="../../_functions/get_correct_response.html" onMouseOver="funcPopup(event,'get_correct_response')">get_correct_response</a>() {
<a name="l1151"><span class="linenum">1151</span></a>          <a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>-&gt;<a class="function" onClick="logFunction('get_correct_response')" href="../../_functions/get_correct_response.html" onMouseOver="funcPopup(event,'get_correct_response')">get_correct_response</a>();
<a name="l1152"><span class="linenum">1152</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>)) {
<a name="l1153"><span class="linenum">1153</span></a>              return null;
<a name="l1154"><span class="linenum">1154</span></a>          }
<a name="l1155"><span class="linenum">1155</span></a>          <a class="var it37251" onMouseOver="hilite(37251)" onMouseOut="lolite()" onClick="logVariable('imvars')" href="../../_variables/imvars.html">$imvars</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_correct_response')" href="../../_functions/get_correct_response.html" onMouseOver="funcPopup(event,'get_correct_response')">get_correct_response</a>();
<a name="l1156"><span class="linenum">1156</span></a>          foreach (<a class="var it37251" onMouseOver="hilite(37251)" onMouseOut="lolite()" onClick="logVariable('imvars')" href="../../_variables/imvars.html">$imvars</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1157"><span class="linenum">1157</span></a>              <a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>['-' . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1158"><span class="linenum">1158</span></a>          }
<a name="l1159"><span class="linenum">1159</span></a>          return <a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>;
<a name="l1160"><span class="linenum">1160</span></a>      }
<a name="l1161"><span class="linenum">1161</span></a>  
<a name="l1162"><span class="linenum">1162</span></a>      <span class="comment">/**</span>
<a name="l1163"><span class="linenum">1163</span></a>  <span class="comment">     * Change the quetsion summary. Note, that this is almost never necessary.</span>
<a name="l1164"><span class="linenum">1164</span></a>  <span class="comment">     * This method was only added to work around a limitation of the Opaque</span>
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment">     * protocol, which only sends questionLine at the end of an attempt.</span>
<a name="l1166"><span class="linenum">1166</span></a>  <span class="comment">     * @param $questionsummary the new summary to set.</span>
<a name="l1167"><span class="linenum">1167</span></a>  <span class="comment">     */</span>
<a name="l1168"><span class="linenum">1168</span></a>      public function <a class="function" onClick="logFunction('set_question_summary')" href="../../_functions/set_question_summary.html" onMouseOver="funcPopup(event,'set_question_summary')">set_question_summary</a>(<a class="var it6985" onMouseOver="hilite(6985)" onMouseOut="lolite()" onClick="logVariable('questionsummary')" href="../../_variables/questionsummary.html">$questionsummary</a>) {
<a name="l1169"><span class="linenum">1169</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a> = <a class="var it6985" onMouseOver="hilite(6985)" onMouseOut="lolite()" onClick="logVariable('questionsummary')" href="../../_variables/questionsummary.html">$questionsummary</a>;
<a name="l1170"><span class="linenum">1170</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_attempt_modified')" href="../../_functions/notify_attempt_modified.html" onMouseOver="funcPopup(event,'notify_attempt_modified')">notify_attempt_modified</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l1171"><span class="linenum">1171</span></a>      }
<a name="l1172"><span class="linenum">1172</span></a>  
<a name="l1173"><span class="linenum">1173</span></a>      <span class="comment">/**</span>
<a name="l1174"><span class="linenum">1174</span></a>  <span class="comment">     * @return string a simple textual summary of the question that was asked.</span>
<a name="l1175"><span class="linenum">1175</span></a>  <span class="comment">     */</span>
<a name="l1176"><span class="linenum">1176</span></a>      public function <a class="function" onClick="logFunction('get_question_summary')" href="../../_functions/get_question_summary.html" onMouseOver="funcPopup(event,'get_question_summary')">get_question_summary</a>() {
<a name="l1177"><span class="linenum">1177</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a>;
<a name="l1178"><span class="linenum">1178</span></a>      }
<a name="l1179"><span class="linenum">1179</span></a>  
<a name="l1180"><span class="linenum">1180</span></a>      <span class="comment">/**</span>
<a name="l1181"><span class="linenum">1181</span></a>  <span class="comment">     * @return string a simple textual summary of response given.</span>
<a name="l1182"><span class="linenum">1182</span></a>  <span class="comment">     */</span>
<a name="l1183"><span class="linenum">1183</span></a>      public function <a class="function" onClick="logFunction('get_response_summary')" href="../../_functions/get_response_summary.html" onMouseOver="funcPopup(event,'get_response_summary')">get_response_summary</a>() {
<a name="l1184"><span class="linenum">1184</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('responsesummary')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/responsesummary.html">responsesummary</a>;
<a name="l1185"><span class="linenum">1185</span></a>      }
<a name="l1186"><span class="linenum">1186</span></a>  
<a name="l1187"><span class="linenum">1187</span></a>      <span class="comment">/**</span>
<a name="l1188"><span class="linenum">1188</span></a>  <span class="comment">     * @return string a simple textual summary of the correct resonse.</span>
<a name="l1189"><span class="linenum">1189</span></a>  <span class="comment">     */</span>
<a name="l1190"><span class="linenum">1190</span></a>      public function <a class="function" onClick="logFunction('get_right_answer_summary')" href="../../_functions/get_right_answer_summary.html" onMouseOver="funcPopup(event,'get_right_answer_summary')">get_right_answer_summary</a>() {
<a name="l1191"><span class="linenum">1191</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a>;
<a name="l1192"><span class="linenum">1192</span></a>      }
<a name="l1193"><span class="linenum">1193</span></a>  
<a name="l1194"><span class="linenum">1194</span></a>      <span class="comment">/**</span>
<a name="l1195"><span class="linenum">1195</span></a>  <span class="comment">     * Whether this attempt at this question could be completed just by the</span>
<a name="l1196"><span class="linenum">1196</span></a>  <span class="comment">     * student interacting with the question, before {@link finish()} is called.</span>
<a name="l1197"><span class="linenum">1197</span></a>  <span class="comment">     *</span>
<a name="l1198"><span class="linenum">1198</span></a>  <span class="comment">     * @return boolean whether this attempt can finish naturally.</span>
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment">     */</span>
<a name="l1200"><span class="linenum">1200</span></a>      public function <a class="function" onClick="logFunction('can_finish_during_attempt')" href="../../_functions/can_finish_during_attempt.html" onMouseOver="funcPopup(event,'can_finish_during_attempt')">can_finish_during_attempt</a>() {
<a name="l1201"><span class="linenum">1201</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('can_finish_during_attempt')" href="../../_functions/can_finish_during_attempt.html" onMouseOver="funcPopup(event,'can_finish_during_attempt')">can_finish_during_attempt</a>();
<a name="l1202"><span class="linenum">1202</span></a>      }
<a name="l1203"><span class="linenum">1203</span></a>  
<a name="l1204"><span class="linenum">1204</span></a>      <span class="comment">/**</span>
<a name="l1205"><span class="linenum">1205</span></a>  <span class="comment">     * Perform the action described by $submitteddata.</span>
<a name="l1206"><span class="linenum">1206</span></a>  <span class="comment">     * @param array $submitteddata the submitted data the determines the action.</span>
<a name="l1207"><span class="linenum">1207</span></a>  <span class="comment">     * @param int $timestamp the time to record for the action. (If not given, use now.)</span>
<a name="l1208"><span class="linenum">1208</span></a>  <span class="comment">     * @param int $userid the user to attribute the action to. (If not given, use the current user.)</span>
<a name="l1209"><span class="linenum">1209</span></a>  <span class="comment">     * @param int $existingstepid used by the regrade code.</span>
<a name="l1210"><span class="linenum">1210</span></a>  <span class="comment">     */</span>
<a name="l1211"><span class="linenum">1211</span></a>      public function <a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null, <a class="var it26140" onMouseOver="hilite(26140)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a> = null) {
<a name="l1212"><span class="linenum">1212</span></a>          <a class="var it5394" onMouseOver="hilite(5394)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_pending_step')" href="../../_classes/question_attempt_pending_step.html" onMouseOver="classPopup(event,'question_attempt_pending_step')">question_attempt_pending_step</a>(<a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it26140" onMouseOver="hilite(26140)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a>);
<a name="l1213"><span class="linenum">1213</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('discard_autosaved_step')" href="../../_functions/discard_autosaved_step.html" onMouseOver="funcPopup(event,'discard_autosaved_step')">discard_autosaved_step</a>();
<a name="l1214"><span class="linenum">1214</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it5394" onMouseOver="hilite(5394)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>) == self::KEEP) {
<a name="l1215"><span class="linenum">1215</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_step')" href="../../_functions/add_step.html" onMouseOver="funcPopup(event,'add_step')">add_step</a>(<a class="var it5394" onMouseOver="hilite(5394)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>);
<a name="l1216"><span class="linenum">1216</span></a>              if (<a class="var it5394" onMouseOver="hilite(5394)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>-&gt;<a class="function" onClick="logFunction('response_summary_changed')" href="../../_functions/response_summary_changed.html" onMouseOver="funcPopup(event,'response_summary_changed')">response_summary_changed</a>()) {
<a name="l1217"><span class="linenum">1217</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('responsesummary')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/responsesummary.html">responsesummary</a> = <a class="var it5394" onMouseOver="hilite(5394)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>-&gt;<a class="function" onClick="logFunction('get_new_response_summary')" href="../../_functions/get_new_response_summary.html" onMouseOver="funcPopup(event,'get_new_response_summary')">get_new_response_summary</a>();
<a name="l1218"><span class="linenum">1218</span></a>              }
<a name="l1219"><span class="linenum">1219</span></a>              if (<a class="var it5394" onMouseOver="hilite(5394)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>-&gt;<a class="function" onClick="logFunction('variant_number_changed')" href="../../_functions/variant_number_changed.html" onMouseOver="funcPopup(event,'variant_number_changed')">variant_number_changed</a>()) {
<a name="l1220"><span class="linenum">1220</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('variant')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/variant.html">variant</a> = <a class="var it5394" onMouseOver="hilite(5394)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>-&gt;<a class="function" onClick="logFunction('get_new_variant_number')" href="../../_functions/get_new_variant_number.html" onMouseOver="funcPopup(event,'get_new_variant_number')">get_new_variant_number</a>();
<a name="l1221"><span class="linenum">1221</span></a>              }
<a name="l1222"><span class="linenum">1222</span></a>          }
<a name="l1223"><span class="linenum">1223</span></a>      }
<a name="l1224"><span class="linenum">1224</span></a>  
<a name="l1225"><span class="linenum">1225</span></a>      <span class="comment">/**</span>
<a name="l1226"><span class="linenum">1226</span></a>  <span class="comment">     * Process an autosave.</span>
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment">     * @param array $submitteddata the submitted data the determines the action.</span>
<a name="l1228"><span class="linenum">1228</span></a>  <span class="comment">     * @param int $timestamp the time to record for the action. (If not given, use now.)</span>
<a name="l1229"><span class="linenum">1229</span></a>  <span class="comment">     * @param int $userid the user to attribute the action to. (If not given, use the current user.)</span>
<a name="l1230"><span class="linenum">1230</span></a>  <span class="comment">     * @return bool whether anything was saved.</span>
<a name="l1231"><span class="linenum">1231</span></a>  <span class="comment">     */</span>
<a name="l1232"><span class="linenum">1232</span></a>      public function <a class="function" onClick="logFunction('process_autosave')" href="../../_functions/process_autosave.html" onMouseOver="funcPopup(event,'process_autosave')">process_autosave</a>(<a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null) {
<a name="l1233"><span class="linenum">1233</span></a>          <a class="var it5394" onMouseOver="hilite(5394)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_pending_step')" href="../../_classes/question_attempt_pending_step.html" onMouseOver="classPopup(event,'question_attempt_pending_step')">question_attempt_pending_step</a>(<a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l1234"><span class="linenum">1234</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('process_autosave')" href="../../_functions/process_autosave.html" onMouseOver="funcPopup(event,'process_autosave')">process_autosave</a>(<a class="var it5394" onMouseOver="hilite(5394)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>) == self::KEEP) {
<a name="l1235"><span class="linenum">1235</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_autosaved_step')" href="../../_functions/add_autosaved_step.html" onMouseOver="funcPopup(event,'add_autosaved_step')">add_autosaved_step</a>(<a class="var it5394" onMouseOver="hilite(5394)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>);
<a name="l1236"><span class="linenum">1236</span></a>              return true;
<a name="l1237"><span class="linenum">1237</span></a>          }
<a name="l1238"><span class="linenum">1238</span></a>          return false;
<a name="l1239"><span class="linenum">1239</span></a>      }
<a name="l1240"><span class="linenum">1240</span></a>  
<a name="l1241"><span class="linenum">1241</span></a>      <span class="comment">/**</span>
<a name="l1242"><span class="linenum">1242</span></a>  <span class="comment">     * Perform a finish action on this question attempt. This corresponds to an</span>
<a name="l1243"><span class="linenum">1243</span></a>  <span class="comment">     * external finish action, for example the user pressing Submit all and finish</span>
<a name="l1244"><span class="linenum">1244</span></a>  <span class="comment">     * in the quiz, rather than using one of the controls that is part of the</span>
<a name="l1245"><span class="linenum">1245</span></a>  <span class="comment">     * question.</span>
<a name="l1246"><span class="linenum">1246</span></a>  <span class="comment">     *</span>
<a name="l1247"><span class="linenum">1247</span></a>  <span class="comment">     * @param int $timestamp the time to record for the action. (If not given, use now.)</span>
<a name="l1248"><span class="linenum">1248</span></a>  <span class="comment">     * @param int $userid the user to attribute the aciton to. (If not given, use the current user.)</span>
<a name="l1249"><span class="linenum">1249</span></a>  <span class="comment">     */</span>
<a name="l1250"><span class="linenum">1250</span></a>      public function <a class="function" onClick="logFunction('finish')" href="../../_functions/finish.html" onMouseOver="funcPopup(event,'finish')">finish</a>(<a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null) {
<a name="l1251"><span class="linenum">1251</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('convert_autosaved_step_to_real_step')" href="../../_functions/convert_autosaved_step_to_real_step.html" onMouseOver="funcPopup(event,'convert_autosaved_step_to_real_step')">convert_autosaved_step_to_real_step</a>();
<a name="l1252"><span class="linenum">1252</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(array('-finish' =&gt; 1), <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l1253"><span class="linenum">1253</span></a>      }
<a name="l1254"><span class="linenum">1254</span></a>  
<a name="l1255"><span class="linenum">1255</span></a>      <span class="comment">/**</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment">     * Perform a regrade. This replays all the actions from $oldqa into this</span>
<a name="l1257"><span class="linenum">1257</span></a>  <span class="comment">     * attempt.</span>
<a name="l1258"><span class="linenum">1258</span></a>  <span class="comment">     * @param question_attempt $oldqa the attempt to regrade.</span>
<a name="l1259"><span class="linenum">1259</span></a>  <span class="comment">     * @param bool $finished whether the question attempt should be forced to be finished</span>
<a name="l1260"><span class="linenum">1260</span></a>  <span class="comment">     *      after the regrade, or whether it may still be in progress (default false).</span>
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment">     */</span>
<a name="l1262"><span class="linenum">1262</span></a>      public function <a class="function" onClick="logFunction('regrade')" href="../../_functions/regrade.html" onMouseOver="funcPopup(event,'regrade')">regrade</a>(question_attempt <a class="var it11124" onMouseOver="hilite(11124)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>, <a class="var it3090" onMouseOver="hilite(3090)" onMouseOut="lolite()" onClick="logVariable('finished')" href="../../_variables/finished.html">$finished</a>) {
<a name="l1263"><span class="linenum">1263</span></a>          <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../../_variables/first.html">$first</a> = true;
<a name="l1264"><span class="linenum">1264</span></a>          foreach (<a class="var it11124" onMouseOver="hilite(11124)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a class="function" onClick="logFunction('get_step_iterator')" href="../../_functions/get_step_iterator.html" onMouseOver="funcPopup(event,'get_step_iterator')">get_step_iterator</a>() as <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l1265"><span class="linenum">1265</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_deleted')" href="../../_functions/notify_step_deleted.html" onMouseOver="funcPopup(event,'notify_step_deleted')">notify_step_deleted</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l1266"><span class="linenum">1266</span></a>  
<a name="l1267"><span class="linenum">1267</span></a>              if (<a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../../_variables/first.html">$first</a>) {
<a name="l1268"><span class="linenum">1268</span></a>  <span class="comment">                // First step of the attempt.</span>
<a name="l1269"><span class="linenum">1269</span></a>                  <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../../_variables/first.html">$first</a> = false;
<a name="l1270"><span class="linenum">1270</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('start')" href="../../_functions/start.html" onMouseOver="funcPopup(event,'start')">start</a>(<a class="var it11124" onMouseOver="hilite(11124)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39520" onMouseOver="hilite(39520)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>, <a class="var it11124" onMouseOver="hilite(11124)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a class="function" onClick="logFunction('get_variant')" href="../../_functions/get_variant.html" onMouseOver="funcPopup(event,'get_variant')">get_variant</a>(), <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_all_data')" href="../../_functions/get_all_data.html" onMouseOver="funcPopup(event,'get_all_data')">get_all_data</a>(),
<a name="l1271"><span class="linenum">1271</span></a>                          <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>(), <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_user_id')" href="../../_functions/get_user_id.html" onMouseOver="funcPopup(event,'get_user_id')">get_user_id</a>(), <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>());
<a name="l1272"><span class="linenum">1272</span></a>  
<a name="l1273"><span class="linenum">1273</span></a>              } else if (<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_behaviour_var')" href="../../_functions/has_behaviour_var.html" onMouseOver="funcPopup(event,'has_behaviour_var')">has_behaviour_var</a>('finish') &amp;&amp; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_submitted_data')" href="../../_functions/get_submitted_data.html" onMouseOver="funcPopup(event,'get_submitted_data')">get_submitted_data</a>()) &gt; 1) {
<a name="l1274"><span class="linenum">1274</span></a>  <span class="comment">                // This case relates to MDL-32062. The upgrade code from 2.0</span>
<a name="l1275"><span class="linenum">1275</span></a>  <span class="comment">                // generates attempts where the final submit of the question</span>
<a name="l1276"><span class="linenum">1276</span></a>  <span class="comment">                // data, and the finish action, are in the same step. The system</span>
<a name="l1277"><span class="linenum">1277</span></a>  <span class="comment">                // cannot cope with that, so convert the single old step into</span>
<a name="l1278"><span class="linenum">1278</span></a>  <span class="comment">                // two new steps.</span>
<a name="l1279"><span class="linenum">1279</span></a>                  <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_submitted_data')" href="../../_functions/get_submitted_data.html" onMouseOver="funcPopup(event,'get_submitted_data')">get_submitted_data</a>();
<a name="l1280"><span class="linenum">1280</span></a>                  unset(<a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>['-finish']);
<a name="l1281"><span class="linenum">1281</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>,
<a name="l1282"><span class="linenum">1282</span></a>                          <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>(), <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_user_id')" href="../../_functions/get_user_id.html" onMouseOver="funcPopup(event,'get_user_id')">get_user_id</a>(), <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>());
<a name="l1283"><span class="linenum">1283</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('finish')" href="../../_functions/finish.html" onMouseOver="funcPopup(event,'finish')">finish</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>(), <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_user_id')" href="../../_functions/get_user_id.html" onMouseOver="funcPopup(event,'get_user_id')">get_user_id</a>());
<a name="l1284"><span class="linenum">1284</span></a>  
<a name="l1285"><span class="linenum">1285</span></a>              } else {
<a name="l1286"><span class="linenum">1286</span></a>  <span class="comment">                // This is the normal case. Replay the next step of the attempt.</span>
<a name="l1287"><span class="linenum">1287</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_submitted_data')" href="../../_functions/get_submitted_data.html" onMouseOver="funcPopup(event,'get_submitted_data')">get_submitted_data</a>(),
<a name="l1288"><span class="linenum">1288</span></a>                          <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>(), <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_user_id')" href="../../_functions/get_user_id.html" onMouseOver="funcPopup(event,'get_user_id')">get_user_id</a>(), <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>());
<a name="l1289"><span class="linenum">1289</span></a>              }
<a name="l1290"><span class="linenum">1290</span></a>          }
<a name="l1291"><span class="linenum">1291</span></a>  
<a name="l1292"><span class="linenum">1292</span></a>          if (<a class="var it3090" onMouseOver="hilite(3090)" onMouseOut="lolite()" onClick="logVariable('finished')" href="../../_variables/finished.html">$finished</a>) {
<a name="l1293"><span class="linenum">1293</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('finish')" href="../../_functions/finish.html" onMouseOver="funcPopup(event,'finish')">finish</a>();
<a name="l1294"><span class="linenum">1294</span></a>          }
<a name="l1295"><span class="linenum">1295</span></a>      }
<a name="l1296"><span class="linenum">1296</span></a>  
<a name="l1297"><span class="linenum">1297</span></a>      <span class="comment">/**</span>
<a name="l1298"><span class="linenum">1298</span></a>  <span class="comment">     * Change the max mark for this question_attempt.</span>
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment">     * @param float $maxmark the new max mark.</span>
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment">     */</span>
<a name="l1301"><span class="linenum">1301</span></a>      public function <a class="function" onClick="logFunction('set_max_mark')" href="../../_functions/set_max_mark.html" onMouseOver="funcPopup(event,'set_max_mark')">set_max_mark</a>(<a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>) {
<a name="l1302"><span class="linenum">1302</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> = <a class="var it2271" onMouseOver="hilite(2271)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>;
<a name="l1303"><span class="linenum">1303</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_attempt_modified')" href="../../_functions/notify_attempt_modified.html" onMouseOver="funcPopup(event,'notify_attempt_modified')">notify_attempt_modified</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l1304"><span class="linenum">1304</span></a>      }
<a name="l1305"><span class="linenum">1305</span></a>  
<a name="l1306"><span class="linenum">1306</span></a>      <span class="comment">/**</span>
<a name="l1307"><span class="linenum">1307</span></a>  <span class="comment">     * Perform a manual grading action on this attempt.</span>
<a name="l1308"><span class="linenum">1308</span></a>  <span class="comment">     * @param string $comment the comment being added.</span>
<a name="l1309"><span class="linenum">1309</span></a>  <span class="comment">     * @param float $mark the new mark. If null, then only a comment is added.</span>
<a name="l1310"><span class="linenum">1310</span></a>  <span class="comment">     * @param int $commentformat the FORMAT_... for $comment. Must be given.</span>
<a name="l1311"><span class="linenum">1311</span></a>  <span class="comment">     * @param int $timestamp the time to record for the action. (If not given, use now.)</span>
<a name="l1312"><span class="linenum">1312</span></a>  <span class="comment">     * @param int $userid the user to attribute the aciton to. (If not given, use the current user.)</span>
<a name="l1313"><span class="linenum">1313</span></a>  <span class="comment">     */</span>
<a name="l1314"><span class="linenum">1314</span></a>      public function <a class="function" onClick="logFunction('manual_grade')" href="../../_functions/manual_grade.html" onMouseOver="funcPopup(event,'manual_grade')">manual_grade</a>(<a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>, <a class="var it2272" onMouseOver="hilite(2272)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>, <a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> = null, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null) {
<a name="l1315"><span class="linenum">1315</span></a>          <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = array('-comment' =&gt; <a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>);
<a name="l1316"><span class="linenum">1316</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a>)) {
<a name="l1317"><span class="linenum">1317</span></a>              <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('You should pass <a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> to manual_grade.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1318"><span class="linenum">1318</span></a>              <a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l1319"><span class="linenum">1319</span></a>          }
<a name="l1320"><span class="linenum">1320</span></a>          <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>['-commentformat'] = <a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a>;
<a name="l1321"><span class="linenum">1321</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it2272" onMouseOver="hilite(2272)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>)) {
<a name="l1322"><span class="linenum">1322</span></a>              <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>['-mark'] = <a class="var it2272" onMouseOver="hilite(2272)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>;
<a name="l1323"><span class="linenum">1323</span></a>              <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>['-maxmark'] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a>;
<a name="l1324"><span class="linenum">1324</span></a>          }
<a name="l1325"><span class="linenum">1325</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l1326"><span class="linenum">1326</span></a>      }
<a name="l1327"><span class="linenum">1327</span></a>  
<a name="l1328"><span class="linenum">1328</span></a>  <span class="comment">    /** @return bool Whether this question attempt has had a manual comment added. */</span>
<a name="l1329"><span class="linenum">1329</span></a>      public function <a class="function" onClick="logFunction('has_manual_comment')" href="../../_functions/has_manual_comment.html" onMouseOver="funcPopup(event,'has_manual_comment')">has_manual_comment</a>() {
<a name="l1330"><span class="linenum">1330</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a> as <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l1331"><span class="linenum">1331</span></a>              if (<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_behaviour_var')" href="../../_functions/has_behaviour_var.html" onMouseOver="funcPopup(event,'has_behaviour_var')">has_behaviour_var</a>('comment')) {
<a name="l1332"><span class="linenum">1332</span></a>                  return true;
<a name="l1333"><span class="linenum">1333</span></a>              }
<a name="l1334"><span class="linenum">1334</span></a>          }
<a name="l1335"><span class="linenum">1335</span></a>          return false;
<a name="l1336"><span class="linenum">1336</span></a>      }
<a name="l1337"><span class="linenum">1337</span></a>  
<a name="l1338"><span class="linenum">1338</span></a>      <span class="comment">/**</span>
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">     * @return array(string, int) the most recent manual comment that was added</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment">     * to this question, and the FORMAT_... it is.</span>
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment">     */</span>
<a name="l1342"><span class="linenum">1342</span></a>      public function <a class="function" onClick="logFunction('get_manual_comment')" href="../../_functions/get_manual_comment.html" onMouseOver="funcPopup(event,'get_manual_comment')">get_manual_comment</a>() {
<a name="l1343"><span class="linenum">1343</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l1344"><span class="linenum">1344</span></a>              if (<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_behaviour_var')" href="../../_functions/has_behaviour_var.html" onMouseOver="funcPopup(event,'has_behaviour_var')">has_behaviour_var</a>('comment')) {
<a name="l1345"><span class="linenum">1345</span></a>                  return array(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_var')" href="../../_functions/get_behaviour_var.html" onMouseOver="funcPopup(event,'get_behaviour_var')">get_behaviour_var</a>('comment'),
<a name="l1346"><span class="linenum">1346</span></a>                          <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_var')" href="../../_functions/get_behaviour_var.html" onMouseOver="funcPopup(event,'get_behaviour_var')">get_behaviour_var</a>('commentformat'));
<a name="l1347"><span class="linenum">1347</span></a>              }
<a name="l1348"><span class="linenum">1348</span></a>          }
<a name="l1349"><span class="linenum">1349</span></a>          return array(null, null);
<a name="l1350"><span class="linenum">1350</span></a>      }
<a name="l1351"><span class="linenum">1351</span></a>  
<a name="l1352"><span class="linenum">1352</span></a>      <span class="comment">/**</span>
<a name="l1353"><span class="linenum">1353</span></a>  <span class="comment">     * This is used by the manual grading code, particularly in association with</span>
<a name="l1354"><span class="linenum">1354</span></a>  <span class="comment">     * validation. If there is a comment submitted in the request, then use that,</span>
<a name="l1355"><span class="linenum">1355</span></a>  <span class="comment">     * otherwise use the latest comment for this question.</span>
<a name="l1356"><span class="linenum">1356</span></a>  <span class="comment">     * @return number the current mark for this question.</span>
<a name="l1357"><span class="linenum">1357</span></a>  <span class="comment">     * {@link get_fraction()} * {@link get_max_mark()}.</span>
<a name="l1358"><span class="linenum">1358</span></a>  <span class="comment">     */</span>
<a name="l1359"><span class="linenum">1359</span></a>      public function <a class="function" onClick="logFunction('get_current_manual_comment')" href="../../_functions/get_current_manual_comment.html" onMouseOver="funcPopup(event,'get_current_manual_comment')">get_current_manual_comment</a>() {
<a name="l1360"><span class="linenum">1360</span></a>          <a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('comment'), <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>);
<a name="l1361"><span class="linenum">1361</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>)) {
<a name="l1362"><span class="linenum">1362</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_manual_comment')" href="../../_functions/get_manual_comment.html" onMouseOver="funcPopup(event,'get_manual_comment')">get_manual_comment</a>();
<a name="l1363"><span class="linenum">1363</span></a>          } else {
<a name="l1364"><span class="linenum">1364</span></a>              <a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(
<a name="l1365"><span class="linenum">1365</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('commentformat'), <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l1366"><span class="linenum">1366</span></a>              if (<a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> === null) {
<a name="l1367"><span class="linenum">1367</span></a>                  <a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l1368"><span class="linenum">1368</span></a>              }
<a name="l1369"><span class="linenum">1369</span></a>              return array(<a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>, <a class="var it11136" onMouseOver="hilite(11136)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a>);
<a name="l1370"><span class="linenum">1370</span></a>          }
<a name="l1371"><span class="linenum">1371</span></a>      }
<a name="l1372"><span class="linenum">1372</span></a>  
<a name="l1373"><span class="linenum">1373</span></a>      <span class="comment">/**</span>
<a name="l1374"><span class="linenum">1374</span></a>  <span class="comment">     * Break down a student response by sub part and classification. See also {@link question::classify_response}.</span>
<a name="l1375"><span class="linenum">1375</span></a>  <span class="comment">     * Used for response analysis.</span>
<a name="l1376"><span class="linenum">1376</span></a>  <span class="comment">     *</span>
<a name="l1377"><span class="linenum">1377</span></a>  <span class="comment">     * @param string $whichtries         which tries to analyse for response analysis. Will be one of</span>
<a name="l1378"><span class="linenum">1378</span></a>  <span class="comment">     *                                   question_attempt::FIRST_TRY, LAST_TRY or ALL_TRIES.</span>
<a name="l1379"><span class="linenum">1379</span></a>  <span class="comment">     *                                   Defaults to question_attempt::LAST_TRY.</span>
<a name="l1380"><span class="linenum">1380</span></a>  <span class="comment">     * @return (question_classified_response|array)[] If $whichtries is question_attempt::FIRST_TRY or LAST_TRY index is subpartid</span>
<a name="l1381"><span class="linenum">1381</span></a>  <span class="comment">     *                                   and values are question_classified_response instances.</span>
<a name="l1382"><span class="linenum">1382</span></a>  <span class="comment">     *                                   If $whichtries is question_attempt::ALL_TRIES then first key is submitted response no</span>
<a name="l1383"><span class="linenum">1383</span></a>  <span class="comment">     *                                   and the second key is subpartid.</span>
<a name="l1384"><span class="linenum">1384</span></a>  <span class="comment">     */</span>
<a name="l1385"><span class="linenum">1385</span></a>      public function <a class="function" onClick="logFunction('classify_response')" href="../../_functions/classify_response.html" onMouseOver="funcPopup(event,'classify_response')">classify_response</a>(<a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../_variables/whichtries.html">$whichtries</a> = self::LAST_TRY) {
<a name="l1386"><span class="linenum">1386</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('classify_response')" href="../../_functions/classify_response.html" onMouseOver="funcPopup(event,'classify_response')">classify_response</a>(<a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../_variables/whichtries.html">$whichtries</a>);
<a name="l1387"><span class="linenum">1387</span></a>      }
<a name="l1388"><span class="linenum">1388</span></a>  
<a name="l1389"><span class="linenum">1389</span></a>      <span class="comment">/**</span>
<a name="l1390"><span class="linenum">1390</span></a>  <span class="comment">     * Create a question_attempt_step from records loaded from the database.</span>
<a name="l1391"><span class="linenum">1391</span></a>  <span class="comment">     *</span>
<a name="l1392"><span class="linenum">1392</span></a>  <span class="comment">     * For internal use only.</span>
<a name="l1393"><span class="linenum">1393</span></a>  <span class="comment">     *</span>
<a name="l1394"><span class="linenum">1394</span></a>  <span class="comment">     * @param Iterator $records Raw records loaded from the database.</span>
<a name="l1395"><span class="linenum">1395</span></a>  <span class="comment">     * @param int $questionattemptid The id of the question_attempt to extract.</span>
<a name="l1396"><span class="linenum">1396</span></a>  <span class="comment">     * @return question_attempt The newly constructed question_attempt.</span>
<a name="l1397"><span class="linenum">1397</span></a>  <span class="comment">     */</span>
<a name="l1398"><span class="linenum">1398</span></a>      public static function <a class="function" onClick="logFunction('load_from_records')" href="../../_functions/load_from_records.html" onMouseOver="funcPopup(event,'load_from_records')">load_from_records</a>(<a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>, <a class="var it11139" onMouseOver="hilite(11139)" onMouseOut="lolite()" onClick="logVariable('questionattemptid')" href="../../_variables/questionattemptid.html">$questionattemptid</a>,
<a name="l1399"><span class="linenum">1399</span></a>              question_usage_observer <a class="var it2636" onMouseOver="hilite(2636)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>, <a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>) {
<a name="l1400"><span class="linenum">1400</span></a>          <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="phpfunction" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>();
<a name="l1401"><span class="linenum">1401</span></a>          while (<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionattemptid')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/questionattemptid.html">questionattemptid</a> != <a class="var it11139" onMouseOver="hilite(11139)" onMouseOut="lolite()" onClick="logVariable('questionattemptid')" href="../../_variables/questionattemptid.html">$questionattemptid</a>) {
<a name="l1402"><span class="linenum">1402</span></a>              <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="phpfunction" onClick="logFunction('next')" href="../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>();
<a name="l1403"><span class="linenum">1403</span></a>              if (!<a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="function" onClick="logFunction('valid')" href="../../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>()) {
<a name="l1404"><span class="linenum">1404</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(&quot;Question attempt {<a class="var it11139" onMouseOver="hilite(11139)" onMouseOut="lolite()" onClick="logVariable('questionattemptid')" href="../../_variables/questionattemptid.html">$questionattemptid</a>} not found in the database.&quot;);
<a name="l1405"><span class="linenum">1405</span></a>              }
<a name="l1406"><span class="linenum">1406</span></a>              <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="phpfunction" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>();
<a name="l1407"><span class="linenum">1407</span></a>          }
<a name="l1408"><span class="linenum">1408</span></a>  
<a name="l1409"><span class="linenum">1409</span></a>          try {
<a name="l1410"><span class="linenum">1410</span></a>              <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a> = question_bank::<a class="function" onClick="logFunction('load_question')" href="../../_functions/load_question.html" onMouseOver="funcPopup(event,'load_question')">load_question</a>(<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionid')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/questionid.html">questionid</a>);
<a name="l1411"><span class="linenum">1411</span></a>          } catch (Exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment">            // The question must have been deleted somehow. Create a missing</span>
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment">            // question to use in its place.</span>
<a name="l1414"><span class="linenum">1414</span></a>              <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a> = question_bank::<a class="function" onClick="logFunction('get_qtype')" href="../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>('missingtype')-&gt;<a class="function" onClick="logFunction('make_deleted_instance')" href="../../_functions/make_deleted_instance.html" onMouseOver="funcPopup(event,'make_deleted_instance')">make_deleted_instance</a>(
<a name="l1415"><span class="linenum">1415</span></a>                      <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionid')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/questionid.html">questionid</a>, <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> + 0);
<a name="l1416"><span class="linenum">1416</span></a>          }
<a name="l1417"><span class="linenum">1417</span></a>  
<a name="l1418"><span class="linenum">1418</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>, <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionusageid')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/questionusageid.html">questionusageid</a>,
<a name="l1419"><span class="linenum">1419</span></a>                  null, <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> + 0);
<a name="l1420"><span class="linenum">1420</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('set_database_id')" href="../../_functions/set_database_id.html" onMouseOver="funcPopup(event,'set_database_id')">set_database_id</a>(<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionattemptid')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/questionattemptid.html">questionattemptid</a>);
<a name="l1421"><span class="linenum">1421</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('set_slot')" href="../../_functions/set_slot.html" onMouseOver="funcPopup(event,'set_slot')">set_slot</a>(<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('slot')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a>);
<a name="l1422"><span class="linenum">1422</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('variant')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/variant.html">variant</a> = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('variant')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/variant.html">variant</a> + 0;
<a name="l1423"><span class="linenum">1423</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('minfraction')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a> = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('minfraction')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a> + 0;
<a name="l1424"><span class="linenum">1424</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a> = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a> + 0;
<a name="l1425"><span class="linenum">1425</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('set_flagged')" href="../../_functions/set_flagged.html" onMouseOver="funcPopup(event,'set_flagged')">set_flagged</a>(<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('flagged')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/flagged.html">flagged</a>);
<a name="l1426"><span class="linenum">1426</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a> = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a>;
<a name="l1427"><span class="linenum">1427</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a> = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a>;
<a name="l1428"><span class="linenum">1428</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('responsesummary')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/responsesummary.html">responsesummary</a> = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('responsesummary')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/responsesummary.html">responsesummary</a>;
<a name="l1429"><span class="linenum">1429</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('timemodified')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timemodified')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>;
<a name="l1430"><span class="linenum">1430</span></a>  
<a name="l1431"><span class="linenum">1431</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a> = question_engine::<a class="function" onClick="logFunction('make_behaviour')" href="../../_functions/make_behaviour.html" onMouseOver="funcPopup(event,'make_behaviour')">make_behaviour</a>(
<a name="l1432"><span class="linenum">1432</span></a>                  <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>, <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l1433"><span class="linenum">1433</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('observer')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a> = <a class="var it2636" onMouseOver="hilite(2636)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>;
<a name="l1434"><span class="linenum">1434</span></a>  
<a name="l1435"><span class="linenum">1435</span></a>  <span class="comment">        // If attemptstepid is null (which should not happen, but has happened</span>
<a name="l1436"><span class="linenum">1436</span></a>  <span class="comment">        // due to corrupt data, see MDL-34251) then the current pointer in $records</span>
<a name="l1437"><span class="linenum">1437</span></a>  <span class="comment">        // will not be advanced in the while loop below, and we get stuck in an</span>
<a name="l1438"><span class="linenum">1438</span></a>  <span class="comment">        // infinite loop, since this method is supposed to always consume at</span>
<a name="l1439"><span class="linenum">1439</span></a>  <span class="comment">        // least one record. Therefore, in this case, advance the record here.</span>
<a name="l1440"><span class="linenum">1440</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('attemptstepid')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/attemptstepid.html">attemptstepid</a>)) {
<a name="l1441"><span class="linenum">1441</span></a>              <a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="phpfunction" onClick="logFunction('next')" href="../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>();
<a name="l1442"><span class="linenum">1442</span></a>          }
<a name="l1443"><span class="linenum">1443</span></a>  
<a name="l1444"><span class="linenum">1444</span></a>          <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0;
<a name="l1445"><span class="linenum">1445</span></a>          <a class="var it37244" onMouseOver="hilite(37244)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a> = null;
<a name="l1446"><span class="linenum">1446</span></a>          <a class="var it37252" onMouseOver="hilite(37252)" onMouseOut="lolite()" onClick="logVariable('autosavedsequencenumber')" href="../../_variables/autosavedsequencenumber.html">$autosavedsequencenumber</a> = null;
<a name="l1447"><span class="linenum">1447</span></a>          while (<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> &amp;&amp; <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionattemptid')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/questionattemptid.html">questionattemptid</a> == <a class="var it11139" onMouseOver="hilite(11139)" onMouseOut="lolite()" onClick="logVariable('questionattemptid')" href="../../_variables/questionattemptid.html">$questionattemptid</a> &amp;&amp; !<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('attemptstepid')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/attemptstepid.html">attemptstepid</a>)) {
<a name="l1448"><span class="linenum">1448</span></a>              <a class="var it6173" onMouseOver="hilite(6173)" onMouseOut="lolite()" onClick="logVariable('sequencenumber')" href="../../_variables/sequencenumber.html">$sequencenumber</a> = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('sequencenumber')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/sequencenumber.html">sequencenumber</a>;
<a name="l1449"><span class="linenum">1449</span></a>              <a class="var it37253" onMouseOver="hilite(37253)" onMouseOut="lolite()" onClick="logVariable('nextstep')" href="../../_variables/nextstep.html">$nextstep</a> = <a class="class" onClick="logClass('question_attempt_step')" href="../../_classes/question_attempt_step.html" onMouseOver="classPopup(event,'question_attempt_step')">question_attempt_step</a>::<a class="function" onClick="logFunction('load_from_records')" href="../../_functions/load_from_records.html" onMouseOver="funcPopup(event,'load_from_records')">load_from_records</a>(<a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>, <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('attemptstepid')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/attemptstepid.html">attemptstepid</a>, <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('get_type_name')" href="../../_functions/get_type_name.html" onMouseOver="funcPopup(event,'get_type_name')">get_type_name</a>());
<a name="l1450"><span class="linenum">1450</span></a>  
<a name="l1451"><span class="linenum">1451</span></a>              if (<a class="var it6173" onMouseOver="hilite(6173)" onMouseOut="lolite()" onClick="logVariable('sequencenumber')" href="../../_variables/sequencenumber.html">$sequencenumber</a> &lt; 0) {
<a name="l1452"><span class="linenum">1452</span></a>                  if (!<a class="var it37244" onMouseOver="hilite(37244)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a>) {
<a name="l1453"><span class="linenum">1453</span></a>                      <a class="var it37244" onMouseOver="hilite(37244)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a> = <a class="var it37253" onMouseOver="hilite(37253)" onMouseOut="lolite()" onClick="logVariable('nextstep')" href="../../_variables/nextstep.html">$nextstep</a>;
<a name="l1454"><span class="linenum">1454</span></a>                      <a class="var it37252" onMouseOver="hilite(37252)" onMouseOut="lolite()" onClick="logVariable('autosavedsequencenumber')" href="../../_variables/autosavedsequencenumber.html">$autosavedsequencenumber</a> = -<a class="var it6173" onMouseOver="hilite(6173)" onMouseOut="lolite()" onClick="logVariable('sequencenumber')" href="../../_variables/sequencenumber.html">$sequencenumber</a>;
<a name="l1455"><span class="linenum">1455</span></a>                  } else {
<a name="l1456"><span class="linenum">1456</span></a>  <span class="comment">                    // Old redundant data. Mark it for deletion.</span>
<a name="l1457"><span class="linenum">1457</span></a>                      <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('observer')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_deleted')" href="../../_functions/notify_step_deleted.html" onMouseOver="funcPopup(event,'notify_step_deleted')">notify_step_deleted</a>(<a class="var it37253" onMouseOver="hilite(37253)" onMouseOut="lolite()" onClick="logVariable('nextstep')" href="../../_variables/nextstep.html">$nextstep</a>, <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>);
<a name="l1458"><span class="linenum">1458</span></a>                  }
<a name="l1459"><span class="linenum">1459</span></a>              } else {
<a name="l1460"><span class="linenum">1460</span></a>                  <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('steps')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>] = <a class="var it37253" onMouseOver="hilite(37253)" onMouseOut="lolite()" onClick="logVariable('nextstep')" href="../../_variables/nextstep.html">$nextstep</a>;
<a name="l1461"><span class="linenum">1461</span></a>                  if (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> == 0) {
<a name="l1462"><span class="linenum">1462</span></a>                      <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>-&gt;<a class="function" onClick="logFunction('apply_attempt_state')" href="../../_functions/apply_attempt_state.html" onMouseOver="funcPopup(event,'apply_attempt_state')">apply_attempt_state</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('steps')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[0]);
<a name="l1463"><span class="linenum">1463</span></a>                  }
<a name="l1464"><span class="linenum">1464</span></a>                  <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l1465"><span class="linenum">1465</span></a>              }
<a name="l1466"><span class="linenum">1466</span></a>  
<a name="l1467"><span class="linenum">1467</span></a>              if (<a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="function" onClick="logFunction('valid')" href="../../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>()) {
<a name="l1468"><span class="linenum">1468</span></a>                  <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="phpfunction" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>();
<a name="l1469"><span class="linenum">1469</span></a>              } else {
<a name="l1470"><span class="linenum">1470</span></a>                  <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = false;
<a name="l1471"><span class="linenum">1471</span></a>              }
<a name="l1472"><span class="linenum">1472</span></a>          }
<a name="l1473"><span class="linenum">1473</span></a>  
<a name="l1474"><span class="linenum">1474</span></a>          if (<a class="var it37244" onMouseOver="hilite(37244)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a>) {
<a name="l1475"><span class="linenum">1475</span></a>              if (<a class="var it37252" onMouseOver="hilite(37252)" onMouseOut="lolite()" onClick="logVariable('autosavedsequencenumber')" href="../../_variables/autosavedsequencenumber.html">$autosavedsequencenumber</a> &gt;= <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>) {
<a name="l1476"><span class="linenum">1476</span></a>                  <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a> = <a class="var it37244" onMouseOver="hilite(37244)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a>;
<a name="l1477"><span class="linenum">1477</span></a>                  <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('steps')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>] = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a>;
<a name="l1478"><span class="linenum">1478</span></a>              } else {
<a name="l1479"><span class="linenum">1479</span></a>                  <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('observer')" class="var it39521" onMouseOver="hilite(39521)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_deleted')" href="../../_functions/notify_step_deleted.html" onMouseOver="funcPopup(event,'notify_step_deleted')">notify_step_deleted</a>(<a class="var it37244" onMouseOver="hilite(37244)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a>, <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>);
<a name="l1480"><span class="linenum">1480</span></a>              }
<a name="l1481"><span class="linenum">1481</span></a>          }
<a name="l1482"><span class="linenum">1482</span></a>  
<a name="l1483"><span class="linenum">1483</span></a>          return <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>;
<a name="l1484"><span class="linenum">1484</span></a>      }
<a name="l1485"><span class="linenum">1485</span></a>  
<a name="l1486"><span class="linenum">1486</span></a>      <span class="comment">/**</span>
<a name="l1487"><span class="linenum">1487</span></a>  <span class="comment">     * Allow access to steps with responses submitted by students for grading in a question attempt.</span>
<a name="l1488"><span class="linenum">1488</span></a>  <span class="comment">     *</span>
<a name="l1489"><span class="linenum">1489</span></a>  <span class="comment">     * @return question_attempt_steps_with_submitted_response_iterator to access all steps with submitted data for questions that</span>
<a name="l1490"><span class="linenum">1490</span></a>  <span class="comment">     *                                                      allow multiple submissions that count towards grade, per attempt.</span>
<a name="l1491"><span class="linenum">1491</span></a>  <span class="comment">     */</span>
<a name="l1492"><span class="linenum">1492</span></a>      public function <a class="function" onClick="logFunction('get_steps_with_submitted_response_iterator')" href="../../_functions/get_steps_with_submitted_response_iterator.html" onMouseOver="funcPopup(event,'get_steps_with_submitted_response_iterator')">get_steps_with_submitted_response_iterator</a>() {
<a name="l1493"><span class="linenum">1493</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_steps_with_submitted_response_iterator')" href="../../_classes/question_attempt_steps_with_submitted_response_iterator.html" onMouseOver="classPopup(event,'question_attempt_steps_with_submitted_response_iterator')">question_attempt_steps_with_submitted_response_iterator</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l1494"><span class="linenum">1494</span></a>      }
<a name="l1495"><span class="linenum">1495</span></a>  }
<a name="l1496"><span class="linenum">1496</span></a>  
<a name="l1497"><span class="linenum">1497</span></a>  
<a name="l1498"><span class="linenum">1498</span></a>  <span class="comment">/**</span>
<a name="l1499"><span class="linenum">1499</span></a>  <span class="comment"> * This subclass of question_attempt pretends that only part of the step history</span>
<a name="l1500"><span class="linenum">1500</span></a>  <span class="comment"> * exists. It is used for rendering the question in past states.</span>
<a name="l1501"><span class="linenum">1501</span></a>  <span class="comment"> *</span>
<a name="l1502"><span class="linenum">1502</span></a>  <span class="comment"> * All methods that try to modify the question_attempt throw exceptions.</span>
<a name="l1503"><span class="linenum">1503</span></a>  <span class="comment"> *</span>
<a name="l1504"><span class="linenum">1504</span></a>  <span class="comment"> * @copyright  2010 The Open University</span>
<a name="l1505"><span class="linenum">1505</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1506"><span class="linenum">1506</span></a>  <span class="comment"> */</span>
<a name="l1507"><span class="linenum">1507</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_attempt_with_restricted_history')" href="../../_classes/question_attempt_with_restricted_history.html" onMouseOver="classPopup(event,'question_attempt_with_restricted_history')">question_attempt_with_restricted_history</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a> {
<a name="l1508"><span class="linenum">1508</span></a>      <span class="comment">/**</span>
<a name="l1509"><span class="linenum">1509</span></a>  <span class="comment">     * @var question_attempt the underlying question_attempt.</span>
<a name="l1510"><span class="linenum">1510</span></a>  <span class="comment">     */</span>
<a name="l1511"><span class="linenum">1511</span></a>      protected <a class="var it37254" onMouseOver="hilite(37254)" onMouseOut="lolite()" onClick="logVariable('baseqa')" href="../../_variables/baseqa.html">$baseqa</a>;
<a name="l1512"><span class="linenum">1512</span></a>  
<a name="l1513"><span class="linenum">1513</span></a>      <span class="comment">/**</span>
<a name="l1514"><span class="linenum">1514</span></a>  <span class="comment">     * Create a question_attempt_with_restricted_history</span>
<a name="l1515"><span class="linenum">1515</span></a>  <span class="comment">     * @param question_attempt $baseqa The question_attempt to make a restricted version of.</span>
<a name="l1516"><span class="linenum">1516</span></a>  <span class="comment">     * @param int $lastseq the index of the last step to include.</span>
<a name="l1517"><span class="linenum">1517</span></a>  <span class="comment">     * @param string $preferredbehaviour the preferred behaviour. It is slightly</span>
<a name="l1518"><span class="linenum">1518</span></a>  <span class="comment">     *      annoyting that this needs to be passed, but unavoidable for now.</span>
<a name="l1519"><span class="linenum">1519</span></a>  <span class="comment">     */</span>
<a name="l1520"><span class="linenum">1520</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(question_attempt <a class="var it37254" onMouseOver="hilite(37254)" onMouseOut="lolite()" onClick="logVariable('baseqa')" href="../../_variables/baseqa.html">$baseqa</a>, <a class="var it37255" onMouseOver="hilite(37255)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a>, <a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>) {
<a name="l1521"><span class="linenum">1521</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a> = <a class="var it37254" onMouseOver="hilite(37254)" onMouseOut="lolite()" onClick="logVariable('baseqa')" href="../../_variables/baseqa.html">$baseqa</a>-&gt;<a class="function" onClick="logFunction('get_full_qa')" href="../../_functions/get_full_qa.html" onMouseOver="funcPopup(event,'get_full_qa')">get_full_qa</a>();
<a name="l1522"><span class="linenum">1522</span></a>  
<a name="l1523"><span class="linenum">1523</span></a>          if (<a class="var it37255" onMouseOver="hilite(37255)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a> &lt; 0 || <a class="var it37255" onMouseOver="hilite(37255)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a> &gt;= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>()) {
<a name="l1524"><span class="linenum">1524</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="var it37255" onMouseOver="hilite(37255)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a> out of range', <a class="var it37255" onMouseOver="hilite(37255)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a>);
<a name="l1525"><span class="linenum">1525</span></a>          }
<a name="l1526"><span class="linenum">1526</span></a>  
<a name="l1527"><span class="linenum">1527</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a> = <a class="phpfunction" onClick="logFunction('array_slice')" href="../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;steps, 0, <a class="var it37255" onMouseOver="hilite(37255)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a> + 1);
<a name="l1528"><span class="linenum">1528</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_usage_null_observer')" href="../../_classes/question_usage_null_observer.html" onMouseOver="classPopup(event,'question_usage_null_observer')">question_usage_null_observer</a>();
<a name="l1529"><span class="linenum">1529</span></a>  
<a name="l1530"><span class="linenum">1530</span></a>  <span class="comment">        // This should be a straight copy of all the remaining fields.</span>
<a name="l1531"><span class="linenum">1531</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;id;
<a name="l1532"><span class="linenum">1532</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;usageid;
<a name="l1533"><span class="linenum">1533</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slot')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;slot;
<a name="l1534"><span class="linenum">1534</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/question.html">question</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;question;
<a name="l1535"><span class="linenum">1535</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;maxmark;
<a name="l1536"><span class="linenum">1536</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('minfraction')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;minfraction;
<a name="l1537"><span class="linenum">1537</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;maxfraction;
<a name="l1538"><span class="linenum">1538</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;questionsummary;
<a name="l1539"><span class="linenum">1539</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('responsesummary')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/responsesummary.html">responsesummary</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;responsesummary;
<a name="l1540"><span class="linenum">1540</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;rightanswer;
<a name="l1541"><span class="linenum">1541</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('flagged')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/flagged.html">flagged</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;flagged;
<a name="l1542"><span class="linenum">1542</span></a>  
<a name="l1543"><span class="linenum">1543</span></a>  <span class="comment">        // Except behaviour, where we need to create a new one.</span>
<a name="l1544"><span class="linenum">1544</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a> = question_engine::<a class="function" onClick="logFunction('make_behaviour')" href="../../_functions/make_behaviour.html" onMouseOver="funcPopup(event,'make_behaviour')">make_behaviour</a>(
<a name="l1545"><span class="linenum">1545</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_name')" href="../../_functions/get_behaviour_name.html" onMouseOver="funcPopup(event,'get_behaviour_name')">get_behaviour_name</a>(), <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l1546"><span class="linenum">1546</span></a>      }
<a name="l1547"><span class="linenum">1547</span></a>  
<a name="l1548"><span class="linenum">1548</span></a>      public function <a class="function" onClick="logFunction('get_full_qa')" href="../../_functions/get_full_qa.html" onMouseOver="funcPopup(event,'get_full_qa')">get_full_qa</a>() {
<a name="l1549"><span class="linenum">1549</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>;
<a name="l1550"><span class="linenum">1550</span></a>      }
<a name="l1551"><span class="linenum">1551</span></a>  
<a name="l1552"><span class="linenum">1552</span></a>      public function <a class="function" onClick="logFunction('get_full_step_iterator')" href="../../_functions/get_full_step_iterator.html" onMouseOver="funcPopup(event,'get_full_step_iterator')">get_full_step_iterator</a>() {
<a name="l1553"><span class="linenum">1553</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;<a class="function" onClick="logFunction('get_step_iterator')" href="../../_functions/get_step_iterator.html" onMouseOver="funcPopup(event,'get_step_iterator')">get_step_iterator</a>();
<a name="l1554"><span class="linenum">1554</span></a>      }
<a name="l1555"><span class="linenum">1555</span></a>  
<a name="l1556"><span class="linenum">1556</span></a>      protected function <a class="function" onClick="logFunction('add_step')" href="../../_functions/add_step.html" onMouseOver="funcPopup(event,'add_step')">add_step</a>(question_attempt_step <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l1557"><span class="linenum">1557</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1558"><span class="linenum">1558</span></a>      }
<a name="l1559"><span class="linenum">1559</span></a>      public function <a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null, <a class="var it26140" onMouseOver="hilite(26140)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a> = null) {
<a name="l1560"><span class="linenum">1560</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1561"><span class="linenum">1561</span></a>      }
<a name="l1562"><span class="linenum">1562</span></a>      public function <a class="function" onClick="logFunction('start')" href="../../_functions/start.html" onMouseOver="funcPopup(event,'start')">start</a>(<a class="var it11120" onMouseOver="hilite(11120)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>, <a class="var it676" onMouseOver="hilite(676)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../_variables/variant.html">$variant</a>, <a class="var it11126" onMouseOver="hilite(11126)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = array(), <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null, <a class="var it26140" onMouseOver="hilite(26140)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a> = null) {
<a name="l1563"><span class="linenum">1563</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1564"><span class="linenum">1564</span></a>      }
<a name="l1565"><span class="linenum">1565</span></a>  
<a name="l1566"><span class="linenum">1566</span></a>      public function <a class="function" onClick="logFunction('set_database_id')" href="../../_functions/set_database_id.html" onMouseOver="funcPopup(event,'set_database_id')">set_database_id</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l1567"><span class="linenum">1567</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1568"><span class="linenum">1568</span></a>      }
<a name="l1569"><span class="linenum">1569</span></a>      public function <a class="function" onClick="logFunction('set_flagged')" href="../../_functions/set_flagged.html" onMouseOver="funcPopup(event,'set_flagged')">set_flagged</a>(<a class="var it11135" onMouseOver="hilite(11135)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a>) {
<a name="l1570"><span class="linenum">1570</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1571"><span class="linenum">1571</span></a>      }
<a name="l1572"><span class="linenum">1572</span></a>      public function <a class="function" onClick="logFunction('set_slot')" href="../../_functions/set_slot.html" onMouseOver="funcPopup(event,'set_slot')">set_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../_variables/slot.html">$slot</a>) {
<a name="l1573"><span class="linenum">1573</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1574"><span class="linenum">1574</span></a>      }
<a name="l1575"><span class="linenum">1575</span></a>      public function <a class="function" onClick="logFunction('set_question_summary')" href="../../_functions/set_question_summary.html" onMouseOver="funcPopup(event,'set_question_summary')">set_question_summary</a>(<a class="var it6985" onMouseOver="hilite(6985)" onMouseOut="lolite()" onClick="logVariable('questionsummary')" href="../../_variables/questionsummary.html">$questionsummary</a>) {
<a name="l1576"><span class="linenum">1576</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1577"><span class="linenum">1577</span></a>      }
<a name="l1578"><span class="linenum">1578</span></a>      public function <a class="function" onClick="logFunction('set_usage_id')" href="../../_functions/set_usage_id.html" onMouseOver="funcPopup(event,'set_usage_id')">set_usage_id</a>(<a class="var it28643" onMouseOver="hilite(28643)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>) {
<a name="l1579"><span class="linenum">1579</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1580"><span class="linenum">1580</span></a>      }
<a name="l1581"><span class="linenum">1581</span></a>  }
<a name="l1582"><span class="linenum">1582</span></a>  
<a name="l1583"><span class="linenum">1583</span></a>  
<a name="l1584"><span class="linenum">1584</span></a>  <span class="comment">/**</span>
<a name="l1585"><span class="linenum">1585</span></a>  <span class="comment"> * A class abstracting access to the {@link question_attempt::$states} array.</span>
<a name="l1586"><span class="linenum">1586</span></a>  <span class="comment"> *</span>
<a name="l1587"><span class="linenum">1587</span></a>  <span class="comment"> * This is actively linked to question_attempt. If you add an new step</span>
<a name="l1588"><span class="linenum">1588</span></a>  <span class="comment"> * mid-iteration, then it will be included.</span>
<a name="l1589"><span class="linenum">1589</span></a>  <span class="comment"> *</span>
<a name="l1590"><span class="linenum">1590</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l1591"><span class="linenum">1591</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1592"><span class="linenum">1592</span></a>  <span class="comment"> */</span>
<a name="l1593"><span class="linenum">1593</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_attempt_step_iterator')" href="../../_classes/question_attempt_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_step_iterator')">question_attempt_step_iterator</a> implements Iterator, ArrayAccess {
<a name="l1594"><span class="linenum">1594</span></a>  <span class="comment">    /** @var question_attempt the question_attempt being iterated over. */</span>
<a name="l1595"><span class="linenum">1595</span></a>      protected <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>;
<a name="l1596"><span class="linenum">1596</span></a>  <span class="comment">    /** @var integer records the current position in the iteration. */</span>
<a name="l1597"><span class="linenum">1597</span></a>      protected <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>;
<a name="l1598"><span class="linenum">1598</span></a>  
<a name="l1599"><span class="linenum">1599</span></a>      <span class="comment">/**</span>
<a name="l1600"><span class="linenum">1600</span></a>  <span class="comment">     * Do not call this constructor directly.</span>
<a name="l1601"><span class="linenum">1601</span></a>  <span class="comment">     * Use {@link question_attempt::get_step_iterator()}.</span>
<a name="l1602"><span class="linenum">1602</span></a>  <span class="comment">     * @param question_attempt $qa the attempt to iterate over.</span>
<a name="l1603"><span class="linenum">1603</span></a>  <span class="comment">     */</span>
<a name="l1604"><span class="linenum">1604</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l1605"><span class="linenum">1605</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>;
<a name="l1606"><span class="linenum">1606</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('rewind')" href="../../_functions/rewind.html" onMouseOver="phpfuncPopup(event,'rewind')">rewind</a>();
<a name="l1607"><span class="linenum">1607</span></a>      }
<a name="l1608"><span class="linenum">1608</span></a>  
<a name="l1609"><span class="linenum">1609</span></a>  <span class="comment">    /** @return question_attempt_step */</span>
<a name="l1610"><span class="linenum">1610</span></a>      public function <a class="function" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="funcPopup(event,'current')">current</a>() {
<a name="l1611"><span class="linenum">1611</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('offsetGet')" href="../../_functions/offsetget.html" onMouseOver="funcPopup(event,'offsetget')">offsetGet</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/i.html">i</a>);
<a name="l1612"><span class="linenum">1612</span></a>      }
<a name="l1613"><span class="linenum">1613</span></a>  <span class="comment">    /** @return int */</span>
<a name="l1614"><span class="linenum">1614</span></a>      public function <a class="function" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="funcPopup(event,'key')">key</a>() {
<a name="l1615"><span class="linenum">1615</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/i.html">i</a>;
<a name="l1616"><span class="linenum">1616</span></a>      }
<a name="l1617"><span class="linenum">1617</span></a>      public function <a class="function" onClick="logFunction('next')" href="../../_functions/next.html" onMouseOver="funcPopup(event,'next')">next</a>() {
<a name="l1618"><span class="linenum">1618</span></a>          ++<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/i.html">i</a>;
<a name="l1619"><span class="linenum">1619</span></a>      }
<a name="l1620"><span class="linenum">1620</span></a>      public function <a class="function" onClick="logFunction('rewind')" href="../../_functions/rewind.html" onMouseOver="funcPopup(event,'rewind')">rewind</a>() {
<a name="l1621"><span class="linenum">1621</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/i.html">i</a> = 0;
<a name="l1622"><span class="linenum">1622</span></a>      }
<a name="l1623"><span class="linenum">1623</span></a>  <span class="comment">    /** @return bool */</span>
<a name="l1624"><span class="linenum">1624</span></a>      public function <a class="function" onClick="logFunction('valid')" href="../../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>() {
<a name="l1625"><span class="linenum">1625</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('offsetExists')" href="../../_functions/offsetexists.html" onMouseOver="funcPopup(event,'offsetexists')">offsetExists</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/i.html">i</a>);
<a name="l1626"><span class="linenum">1626</span></a>      }
<a name="l1627"><span class="linenum">1627</span></a>  
<a name="l1628"><span class="linenum">1628</span></a>  <span class="comment">    /** @return bool */</span>
<a name="l1629"><span class="linenum">1629</span></a>      public function <a class="function" onClick="logFunction('offsetExists')" href="../../_functions/offsetexists.html" onMouseOver="funcPopup(event,'offsetexists')">offsetExists</a>(<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>) {
<a name="l1630"><span class="linenum">1630</span></a>          return <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &gt;= 0 &amp;&amp; <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>();
<a name="l1631"><span class="linenum">1631</span></a>      }
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment">    /** @return question_attempt_step */</span>
<a name="l1633"><span class="linenum">1633</span></a>      public function <a class="function" onClick="logFunction('offsetGet')" href="../../_functions/offsetget.html" onMouseOver="funcPopup(event,'offsetget')">offsetGet</a>(<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>) {
<a name="l1634"><span class="linenum">1634</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_step')" href="../../_functions/get_step.html" onMouseOver="funcPopup(event,'get_step')">get_step</a>(<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>);
<a name="l1635"><span class="linenum">1635</span></a>      }
<a name="l1636"><span class="linenum">1636</span></a>      public function <a class="function" onClick="logFunction('offsetSet')" href="../../_functions/offsetset.html" onMouseOver="funcPopup(event,'offsetset')">offsetSet</a>(<a class="var it1331" onMouseOver="hilite(1331)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1637"><span class="linenum">1637</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You are only allowed read-only access to <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::states through a question_attempt_step_iterator. Cannot set.');
<a name="l1638"><span class="linenum">1638</span></a>      }
<a name="l1639"><span class="linenum">1639</span></a>      public function <a class="function" onClick="logFunction('offsetUnset')" href="../../_functions/offsetunset.html" onMouseOver="funcPopup(event,'offsetunset')">offsetUnset</a>(<a class="var it1331" onMouseOver="hilite(1331)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>) {
<a name="l1640"><span class="linenum">1640</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You are only allowed read-only access to <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::states through a question_attempt_step_iterator. Cannot unset.');
<a name="l1641"><span class="linenum">1641</span></a>      }
<a name="l1642"><span class="linenum">1642</span></a>  }
<a name="l1643"><span class="linenum">1643</span></a>  
<a name="l1644"><span class="linenum">1644</span></a>  
<a name="l1645"><span class="linenum">1645</span></a>  <span class="comment">/**</span>
<a name="l1646"><span class="linenum">1646</span></a>  <span class="comment"> * A variant of {@link question_attempt_step_iterator} that iterates through the</span>
<a name="l1647"><span class="linenum">1647</span></a>  <span class="comment"> * steps in reverse order.</span>
<a name="l1648"><span class="linenum">1648</span></a>  <span class="comment"> *</span>
<a name="l1649"><span class="linenum">1649</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l1650"><span class="linenum">1650</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1651"><span class="linenum">1651</span></a>  <span class="comment"> */</span>
<a name="l1652"><span class="linenum">1652</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_attempt_reverse_step_iterator')" href="../../_classes/question_attempt_reverse_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_reverse_step_iterator')">question_attempt_reverse_step_iterator</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('question_attempt_step_iterator')" href="../../_classes/question_attempt_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_step_iterator')">question_attempt_step_iterator</a> {
<a name="l1653"><span class="linenum">1653</span></a>      public function <a class="function" onClick="logFunction('next')" href="../../_functions/next.html" onMouseOver="funcPopup(event,'next')">next</a>() {
<a name="l1654"><span class="linenum">1654</span></a>          --<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/i.html">i</a>;
<a name="l1655"><span class="linenum">1655</span></a>      }
<a name="l1656"><span class="linenum">1656</span></a>  
<a name="l1657"><span class="linenum">1657</span></a>      public function <a class="function" onClick="logFunction('rewind')" href="../../_functions/rewind.html" onMouseOver="funcPopup(event,'rewind')">rewind</a>() {
<a name="l1658"><span class="linenum">1658</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/i.html">i</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>() - 1;
<a name="l1659"><span class="linenum">1659</span></a>      }
<a name="l1660"><span class="linenum">1660</span></a>  }
<a name="l1661"><span class="linenum">1661</span></a>  
<a name="l1662"><span class="linenum">1662</span></a>  <span class="comment">/**</span>
<a name="l1663"><span class="linenum">1663</span></a>  <span class="comment"> * A variant of {@link question_attempt_step_iterator} that iterates through the</span>
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment"> * steps with submitted tries.</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment"> *</span>
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment"> * @copyright  2014 The Open University</span>
<a name="l1667"><span class="linenum">1667</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1668"><span class="linenum">1668</span></a>  <span class="comment"> */</span>
<a name="l1669"><span class="linenum">1669</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_attempt_steps_with_submitted_response_iterator')" href="../../_classes/question_attempt_steps_with_submitted_response_iterator.html" onMouseOver="classPopup(event,'question_attempt_steps_with_submitted_response_iterator')">question_attempt_steps_with_submitted_response_iterator</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('question_attempt_step_iterator')" href="../../_classes/question_attempt_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_step_iterator')">question_attempt_step_iterator</a> implements Countable {
<a name="l1670"><span class="linenum">1670</span></a>  
<a name="l1671"><span class="linenum">1671</span></a>  <span class="comment">    /** @var question_attempt the question_attempt being iterated over. */</span>
<a name="l1672"><span class="linenum">1672</span></a>      protected <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>;
<a name="l1673"><span class="linenum">1673</span></a>  
<a name="l1674"><span class="linenum">1674</span></a>  <span class="comment">    /** @var integer records the current position in the iteration. */</span>
<a name="l1675"><span class="linenum">1675</span></a>      protected <a class="var it34202" onMouseOver="hilite(34202)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>;
<a name="l1676"><span class="linenum">1676</span></a>  
<a name="l1677"><span class="linenum">1677</span></a>      <span class="comment">/**</span>
<a name="l1678"><span class="linenum">1678</span></a>  <span class="comment">     * Index is the submitted response number and value is the step no.</span>
<a name="l1679"><span class="linenum">1679</span></a>  <span class="comment">     *</span>
<a name="l1680"><span class="linenum">1680</span></a>  <span class="comment">     * @var int[]</span>
<a name="l1681"><span class="linenum">1681</span></a>  <span class="comment">     */</span>
<a name="l1682"><span class="linenum">1682</span></a>      protected <a class="var it37256" onMouseOver="hilite(37256)" onMouseOut="lolite()" onClick="logVariable('stepswithsubmittedresponses')" href="../../_variables/stepswithsubmittedresponses.html">$stepswithsubmittedresponses</a>;
<a name="l1683"><span class="linenum">1683</span></a>  
<a name="l1684"><span class="linenum">1684</span></a>      <span class="comment">/**</span>
<a name="l1685"><span class="linenum">1685</span></a>  <span class="comment">     * Do not call this constructor directly.</span>
<a name="l1686"><span class="linenum">1686</span></a>  <span class="comment">     * Use {@link question_attempt::get_submission_step_iterator()}.</span>
<a name="l1687"><span class="linenum">1687</span></a>  <span class="comment">     * @param question_attempt $qa the attempt to iterate over.</span>
<a name="l1688"><span class="linenum">1688</span></a>  <span class="comment">     */</span>
<a name="l1689"><span class="linenum">1689</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l1690"><span class="linenum">1690</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>;
<a name="l1691"><span class="linenum">1691</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('find_steps_with_submitted_response')" href="../../_functions/find_steps_with_submitted_response.html" onMouseOver="funcPopup(event,'find_steps_with_submitted_response')">find_steps_with_submitted_response</a>();
<a name="l1692"><span class="linenum">1692</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('rewind')" href="../../_functions/rewind.html" onMouseOver="phpfuncPopup(event,'rewind')">rewind</a>();
<a name="l1693"><span class="linenum">1693</span></a>      }
<a name="l1694"><span class="linenum">1694</span></a>  
<a name="l1695"><span class="linenum">1695</span></a>      <span class="comment">/**</span>
<a name="l1696"><span class="linenum">1696</span></a>  <span class="comment">     * Find the step nos  in which a student has submitted a response. Including any step with a response that is saved before</span>
<a name="l1697"><span class="linenum">1697</span></a>  <span class="comment">     * the question attempt finishes.</span>
<a name="l1698"><span class="linenum">1698</span></a>  <span class="comment">     *</span>
<a name="l1699"><span class="linenum">1699</span></a>  <span class="comment">     * Called from constructor, should not be called from elsewhere.</span>
<a name="l1700"><span class="linenum">1700</span></a>  <span class="comment">     *</span>
<a name="l1701"><span class="linenum">1701</span></a>  <span class="comment">     */</span>
<a name="l1702"><span class="linenum">1702</span></a>      protected function <a class="function" onClick="logFunction('find_steps_with_submitted_response')" href="../../_functions/find_steps_with_submitted_response.html" onMouseOver="funcPopup(event,'find_steps_with_submitted_response')">find_steps_with_submitted_response</a>() {
<a name="l1703"><span class="linenum">1703</span></a>          <a class="var it37257" onMouseOver="hilite(37257)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a> = array();
<a name="l1704"><span class="linenum">1704</span></a>          <a class="var it37258" onMouseOver="hilite(37258)" onMouseOut="lolite()" onClick="logVariable('lastsavedstep')" href="../../_variables/lastsavedstep.html">$lastsavedstep</a> = null;
<a name="l1705"><span class="linenum">1705</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_step_iterator')" href="../../_functions/get_step_iterator.html" onMouseOver="funcPopup(event,'get_step_iterator')">get_step_iterator</a>() as <a class="var it36228" onMouseOver="hilite(36228)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a> =&gt; <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l1706"><span class="linenum">1706</span></a>              if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour')" href="../../_functions/get_behaviour.html" onMouseOver="funcPopup(event,'get_behaviour')">get_behaviour</a>()-&gt;<a class="function" onClick="logFunction('step_has_a_submitted_response')" href="../../_functions/step_has_a_submitted_response.html" onMouseOver="funcPopup(event,'step_has_a_submitted_response')">step_has_a_submitted_response</a>(<a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>)) {
<a name="l1707"><span class="linenum">1707</span></a>                  <a class="var it37257" onMouseOver="hilite(37257)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a>[] = <a class="var it36228" onMouseOver="hilite(36228)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a>;
<a name="l1708"><span class="linenum">1708</span></a>                  <a class="var it37258" onMouseOver="hilite(37258)" onMouseOut="lolite()" onClick="logVariable('lastsavedstep')" href="../../_variables/lastsavedstep.html">$lastsavedstep</a> = null;
<a name="l1709"><span class="linenum">1709</span></a>              } else {
<a name="l1710"><span class="linenum">1710</span></a>                  <a class="var it37259" onMouseOver="hilite(37259)" onMouseOut="lolite()" onClick="logVariable('qtdata')" href="../../_variables/qtdata.html">$qtdata</a> = <a class="var it675" onMouseOver="hilite(675)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_qt_data')" href="../../_functions/get_qt_data.html" onMouseOver="funcPopup(event,'get_qt_data')">get_qt_data</a>();
<a name="l1711"><span class="linenum">1711</span></a>                  if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37259" onMouseOver="hilite(37259)" onMouseOut="lolite()" onClick="logVariable('qtdata')" href="../../_variables/qtdata.html">$qtdata</a>)) {
<a name="l1712"><span class="linenum">1712</span></a>                      <a class="var it37258" onMouseOver="hilite(37258)" onMouseOut="lolite()" onClick="logVariable('lastsavedstep')" href="../../_variables/lastsavedstep.html">$lastsavedstep</a> = <a class="var it36228" onMouseOver="hilite(36228)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a>;
<a name="l1713"><span class="linenum">1713</span></a>                  }
<a name="l1714"><span class="linenum">1714</span></a>              }
<a name="l1715"><span class="linenum">1715</span></a>          }
<a name="l1716"><span class="linenum">1716</span></a>  
<a name="l1717"><span class="linenum">1717</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it37258" onMouseOver="hilite(37258)" onMouseOut="lolite()" onClick="logVariable('lastsavedstep')" href="../../_variables/lastsavedstep.html">$lastsavedstep</a>)) {
<a name="l1718"><span class="linenum">1718</span></a>              <a class="var it37257" onMouseOver="hilite(37257)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a>[] = <a class="var it37258" onMouseOver="hilite(37258)" onMouseOut="lolite()" onClick="logVariable('lastsavedstep')" href="../../_variables/lastsavedstep.html">$lastsavedstep</a>;
<a name="l1719"><span class="linenum">1719</span></a>          }
<a name="l1720"><span class="linenum">1720</span></a>          if (empty(<a class="var it37257" onMouseOver="hilite(37257)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a>)) {
<a name="l1721"><span class="linenum">1721</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a> = array();
<a name="l1722"><span class="linenum">1722</span></a>          } else {
<a name="l1723"><span class="linenum">1723</span></a>  <span class="comment">            // Re-index array so index starts with 1.</span>
<a name="l1724"><span class="linenum">1724</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a> = <a class="phpfunction" onClick="logFunction('array_combine')" href="../../_functions/array_combine.html" onMouseOver="phpfuncPopup(event,'array_combine')">array_combine</a>(<a class="phpfunction" onClick="logFunction('range')" href="../../_functions/range.html" onMouseOver="phpfuncPopup(event,'range')">range</a>(1, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37257" onMouseOver="hilite(37257)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a>)), <a class="var it37257" onMouseOver="hilite(37257)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a>);
<a name="l1725"><span class="linenum">1725</span></a>          }
<a name="l1726"><span class="linenum">1726</span></a>      }
<a name="l1727"><span class="linenum">1727</span></a>  
<a name="l1728"><span class="linenum">1728</span></a>  <span class="comment">    /** @return question_attempt_step */</span>
<a name="l1729"><span class="linenum">1729</span></a>      public function <a class="function" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="funcPopup(event,'current')">current</a>() {
<a name="l1730"><span class="linenum">1730</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('offsetGet')" href="../../_functions/offsetget.html" onMouseOver="funcPopup(event,'offsetget')">offsetGet</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a>);
<a name="l1731"><span class="linenum">1731</span></a>      }
<a name="l1732"><span class="linenum">1732</span></a>  <span class="comment">    /** @return int */</span>
<a name="l1733"><span class="linenum">1733</span></a>      public function <a class="function" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="funcPopup(event,'key')">key</a>() {
<a name="l1734"><span class="linenum">1734</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a>;
<a name="l1735"><span class="linenum">1735</span></a>      }
<a name="l1736"><span class="linenum">1736</span></a>      public function <a class="function" onClick="logFunction('next')" href="../../_functions/next.html" onMouseOver="funcPopup(event,'next')">next</a>() {
<a name="l1737"><span class="linenum">1737</span></a>          ++<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a>;
<a name="l1738"><span class="linenum">1738</span></a>      }
<a name="l1739"><span class="linenum">1739</span></a>      public function <a class="function" onClick="logFunction('rewind')" href="../../_functions/rewind.html" onMouseOver="funcPopup(event,'rewind')">rewind</a>() {
<a name="l1740"><span class="linenum">1740</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a> = 1;
<a name="l1741"><span class="linenum">1741</span></a>      }
<a name="l1742"><span class="linenum">1742</span></a>  <span class="comment">    /** @return bool */</span>
<a name="l1743"><span class="linenum">1743</span></a>      public function <a class="function" onClick="logFunction('valid')" href="../../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>() {
<a name="l1744"><span class="linenum">1744</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a> &gt;= 1 &amp;&amp; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a> &lt;= <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>);
<a name="l1745"><span class="linenum">1745</span></a>      }
<a name="l1746"><span class="linenum">1746</span></a>  
<a name="l1747"><span class="linenum">1747</span></a>      <span class="comment">/**</span>
<a name="l1748"><span class="linenum">1748</span></a>  <span class="comment">     * @param int $submittedresponseno</span>
<a name="l1749"><span class="linenum">1749</span></a>  <span class="comment">     * @return bool</span>
<a name="l1750"><span class="linenum">1750</span></a>  <span class="comment">     */</span>
<a name="l1751"><span class="linenum">1751</span></a>      public function <a class="function" onClick="logFunction('offsetExists')" href="../../_functions/offsetexists.html" onMouseOver="funcPopup(event,'offsetexists')">offsetExists</a>(<a class="var it34202" onMouseOver="hilite(34202)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>) {
<a name="l1752"><span class="linenum">1752</span></a>          return <a class="var it34202" onMouseOver="hilite(34202)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a> &gt;= 1;
<a name="l1753"><span class="linenum">1753</span></a>      }
<a name="l1754"><span class="linenum">1754</span></a>  
<a name="l1755"><span class="linenum">1755</span></a>      <span class="comment">/**</span>
<a name="l1756"><span class="linenum">1756</span></a>  <span class="comment">     * @param int $submittedresponseno</span>
<a name="l1757"><span class="linenum">1757</span></a>  <span class="comment">     * @return question_attempt_step</span>
<a name="l1758"><span class="linenum">1758</span></a>  <span class="comment">     */</span>
<a name="l1759"><span class="linenum">1759</span></a>      public function <a class="function" onClick="logFunction('offsetGet')" href="../../_functions/offsetget.html" onMouseOver="funcPopup(event,'offsetget')">offsetGet</a>(<a class="var it34202" onMouseOver="hilite(34202)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>) {
<a name="l1760"><span class="linenum">1760</span></a>          if (<a class="var it34202" onMouseOver="hilite(34202)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a> &gt; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>)) {
<a name="l1761"><span class="linenum">1761</span></a>              return null;
<a name="l1762"><span class="linenum">1762</span></a>          } else {
<a name="l1763"><span class="linenum">1763</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_step')" href="../../_functions/get_step.html" onMouseOver="funcPopup(event,'get_step')">get_step</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('step_no_for_try')" href="../../_functions/step_no_for_try.html" onMouseOver="funcPopup(event,'step_no_for_try')">step_no_for_try</a>(<a class="var it34202" onMouseOver="hilite(34202)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>));
<a name="l1764"><span class="linenum">1764</span></a>          }
<a name="l1765"><span class="linenum">1765</span></a>      }
<a name="l1766"><span class="linenum">1766</span></a>  
<a name="l1767"><span class="linenum">1767</span></a>      <span class="comment">/**</span>
<a name="l1768"><span class="linenum">1768</span></a>  <span class="comment">     * @return int the count of steps with tries.</span>
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment">     */</span>
<a name="l1770"><span class="linenum">1770</span></a>      public function <a class="function" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="funcPopup(event,'count')">count</a>() {
<a name="l1771"><span class="linenum">1771</span></a>          return <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>);
<a name="l1772"><span class="linenum">1772</span></a>      }
<a name="l1773"><span class="linenum">1773</span></a>  
<a name="l1774"><span class="linenum">1774</span></a>      <span class="comment">/**</span>
<a name="l1775"><span class="linenum">1775</span></a>  <span class="comment">     * @param int $submittedresponseno</span>
<a name="l1776"><span class="linenum">1776</span></a>  <span class="comment">     * @throws coding_exception</span>
<a name="l1777"><span class="linenum">1777</span></a>  <span class="comment">     * @return int|null the step number or null if there is no such submitted response.</span>
<a name="l1778"><span class="linenum">1778</span></a>  <span class="comment">     */</span>
<a name="l1779"><span class="linenum">1779</span></a>      public function <a class="function" onClick="logFunction('step_no_for_try')" href="../../_functions/step_no_for_try.html" onMouseOver="funcPopup(event,'step_no_for_try')">step_no_for_try</a>(<a class="var it34202" onMouseOver="hilite(34202)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>) {
<a name="l1780"><span class="linenum">1780</span></a>          if (isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>[<a class="var it34202" onMouseOver="hilite(34202)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>])) {
<a name="l1781"><span class="linenum">1781</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>[<a class="var it34202" onMouseOver="hilite(34202)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>];
<a name="l1782"><span class="linenum">1782</span></a>          } else if (<a class="var it34202" onMouseOver="hilite(34202)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a> &gt; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>)) {
<a name="l1783"><span class="linenum">1783</span></a>              return null;
<a name="l1784"><span class="linenum">1784</span></a>          } else {
<a name="l1785"><span class="linenum">1785</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Try number not found. It should be 1 or more.');
<a name="l1786"><span class="linenum">1786</span></a>          }
<a name="l1787"><span class="linenum">1787</span></a>      }
<a name="l1788"><span class="linenum">1788</span></a>  
<a name="l1789"><span class="linenum">1789</span></a>      public function <a class="function" onClick="logFunction('offsetSet')" href="../../_functions/offsetset.html" onMouseOver="funcPopup(event,'offsetset')">offsetSet</a>(<a class="var it1331" onMouseOver="hilite(1331)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1790"><span class="linenum">1790</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You are only allowed read-only access to <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::states '.
<a name="l1791"><span class="linenum">1791</span></a>                                     'through a question_attempt_step_iterator. Cannot set.');
<a name="l1792"><span class="linenum">1792</span></a>      }
<a name="l1793"><span class="linenum">1793</span></a>      public function <a class="function" onClick="logFunction('offsetUnset')" href="../../_functions/offsetunset.html" onMouseOver="funcPopup(event,'offsetunset')">offsetUnset</a>(<a class="var it1331" onMouseOver="hilite(1331)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>) {
<a name="l1794"><span class="linenum">1794</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You are only allowed read-only access to <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::states '.
<a name="l1795"><span class="linenum">1795</span></a>                                     'through a question_attempt_step_iterator. Cannot unset.');
<a name="l1796"><span class="linenum">1796</span></a>      }
<a name="l1797"><span class="linenum">1797</span></a>  
<a name="l1798"><span class="linenum">1798</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_last_step_with_behaviour_var': ['get_last_step_with_behaviour_var', 'Get the last step with a particular behaviour variable set. ', [['question/engine','questionattempt.php',481]], 3],
'get_right_answer_summary': ['get_right_answer_summary', '', [['question/behaviour/adaptive','behaviour.php',68],['question/behaviour/deferredfeedback','behaviour.php',49],['question/engine','questionusage.php',412],['question/behaviour/immediatefeedback','behaviour.php',75],['question/behaviour/immediatecbm','behaviour.php',64],['question/type/missingtype','question.php',67],['question/behaviour/interactive','behaviour.php',61],['question/type','questionbase.php',595],['question/type','questionbase.php',658],['question/behaviour','behaviourbase.php',260],['question/behaviour/deferredcbm','behaviour.php',63],['question/engine','questionattempt.php',1190]], 17],
'is_flagged': ['is_flagged', '', [['mod/quiz/report','attemptsreport_table.php',280],['question/engine','questionattempt.php',293],['mod/quiz/report/responses','first_or_all_responses_table.php',148]], 12],
'get_current_manual_comment': ['get_current_manual_comment', 'This is used by the manual grading code, particularly in association with validation. If there is a comment submitted in the request, then use that, otherwise use the latest comment for this question. ', [['question/engine','questionattempt.php',1352]], 1],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',768]], 607],
'rewrite_pluginfile_urls': ['rewrite_pluginfile_urls', 'Calls {@link question_rewrite_question_urls()} with appropriate parameters for content belonging to this question. ', [['question/engine','questionattempt.php',784]], 1],
'get_behaviour_field_name': ['get_behaviour_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for a question_type variable belonging to this question_attempt. ', [['question/engine','questionattempt.php',321]], 13],
'notify_attempt_modified': ['notify_attempt_modified', 'Called when the fields of a question attempt in this usage are modified. ', [['question/engine','questionusage.php',1042],['question/engine','questionusage.php',1106],['question/engine','datalib.php',1346]], 12],
'get_behaviour_name': ['get_behaviour_name', 'Get the translated name of a behaviour, for display in the UI. ', [['question/engine','lib.php',418],['question/engine','questionattempt.php',271]], 20],
'key': ['key', '', [['lib/tests','completionlib_test.php',872],['lib/adodb','adodb.inc.php',2803],['lib/adodb','adodb.inc.php',2879],['lib/google/src/Google','Collection.php',30],['lib/zend/Zend/Server','Definition.php',228],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',357],['lib/horde/framework/Horde','Domhtml.php',280],['question/engine','questionusage.php',989],['lib/horde/framework/Horde/Imap/Client','Ids.php',392],['lib/dml','oci_native_moodle_recordset.php',63],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',193],['lib/classes/dml','recordset_walk.php',118],['lib/horde/framework/Horde/Mail/Rfc822','List.php',393],['lib/zend/Zend/Service/Delicious','PostList.php',181],['backup/util/helper','backup_array_iterator.class.php',51],['lib/dml','mssql_native_moodle_recordset.php',70],['lib/dml','pgsql_native_moodle_recordset.php',87],['lib/filestorage','zip_archive.php',491],['lib/zend/Zend/Service/Amazon','ResultSet.php',114],['lib/phpexcel/PHPExcel','WorksheetIterator.php',91],['question/engine/tests','helpers.php',1209],['lib/dml','mysqli_native_moodle_recordset.php',69],['lib/zend/Zend/Gdata/App','Feed.php',157],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',116],['lib/zend/Zend/Service/Technorati','ResultSet.php',192],['lib/zend/Zend/Service/Flickr','ResultSet.php',131],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',153],['lib/dml','sqlsrv_native_moodle_recordset.php',112],['question/engine','questionattempt.php',1614],['question/engine','questionattempt.php',1733],['lib/zend/Zend/Service/Yahoo','ResultSet.php',135],['backup/util/helper','backup_null_iterator.class.php',43],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',103],['lib/dml','pdo_moodle_recordset.php',62]], 198],
'valid': ['valid', '', [['lib/tests','completionlib_test.php',884],['lib/adodb','adodb.inc.php',2798],['lib/adodb','adodb.inc.php',2874],['lib/google/src/Google','Collection.php',43],['lib/zend/Zend/Server','Definition.php',258],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',378],['lib/horde/framework/Horde','Domhtml.php',331],['question/engine','questionusage.php',999],['lib/horde/framework/Horde/Imap/Client','Ids.php',419],['lib/dml','oci_native_moodle_recordset.php',76],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',329],['lib/classes/dml','recordset_walk.php',127],['lib/horde/framework/Horde/Mail/Rfc822','List.php',439],['lib/zend/Zend/Service/Delicious','PostList.php',217],['backup/util/helper','backup_array_iterator.class.php',59],['lib/dml','mssql_native_moodle_recordset.php',83],['lib/dml','pgsql_native_moodle_recordset.php',100],['backup/cc/cc_lib','cc_version11.php',47],['lib/filestorage','zip_archive.php',514],['lib/zend/Zend/Service/Amazon','ResultSet.php',161],['lib/phpexcel/PHPExcel','WorksheetIterator.php',109],['question/engine/tests','helpers.php',1221],['lib/dml','mysqli_native_moodle_recordset.php',82],['lib/zend/Zend/Gdata/App','Feed.php',177],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',140],['lib/zend/Zend/Service/Technorati','ResultSet.php',240],['lib/zend/Zend/Service/Flickr','ResultSet.php',178],['lib/zend/Zend/Uri','Http.php',270],['backup/cc/cc_lib','cc_asssesment.php',58],['backup/cc/cc_lib','cc_version1.php',47],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',182],['lib/dml','sqlsrv_native_moodle_recordset.php',129],['question/engine','questionattempt.php',1624],['question/engine','questionattempt.php',1743],['lib/zend/Zend/Service/Yahoo','ResultSet.php',186],['backup/util/helper','backup_null_iterator.class.php',49],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',119],['lib/dml','pdo_moodle_recordset.php',75]], 69],
'set_slot': ['set_slot', 'Set the number used to identify this question_attempt within the usage. For internal use only. ', [['question/engine','questionattempt.php',216],['question/engine','questionattempt.php',1572]], 9],
'get_full_step_iterator': ['get_full_step_iterator', 'The same as {@link get_step_iterator()}. However, for a {@link question_attempt_with_restricted_history} this returns the full list of steps, while {@link get_step_iterator()} returns only the limited history. ', [['question/engine','questionattempt.php',427],['question/engine','questionattempt.php',1552]], 1],
'set_flagged': ['set_flagged', 'Set the flagged state of this question. ', [['question/engine','questionattempt.php',283],['question/engine','questionattempt.php',1569]], 4],
'get_slot': ['get_slot', '', [['question/engine','questionattempt.php',226]], 30],
'offsetexists': ['offsetexists', '', [['lib/google/src/Google','Collection.php',54],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',134],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',305],['question/engine','questionusage.php',1004],['lib/horde/framework/Horde/Support','Stub.php',111],['lib/horde/framework/Horde/Mail/Rfc822','List.php',317],['lib/zend/Zend/Service/Delicious','PostList.php',235],['lib/zend/Zend','Registry.php',204],['lib/horde/framework/Horde','Variables.php',125],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',95],['lib/zend/Zend/Gdata/App','Feed.php',262],['lib/horde/framework/Horde/Mime','Part.php',2265],['lib/horde/framework/Horde/Support','Array.php',181],['lib/google/src/Google','Model.php',235],['lib/horde/framework/Horde/Support','CaseInsensitiveArray.php',47],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',97],['question/engine','questionattempt.php',1629],['question/engine','questionattempt.php',1751],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',80]], 6],
'get_filename': ['get_filename', 'Returns file name or \'.\' in case of directories. ', [['lib/filestorage','stored_file.php',699],['lib/filebrowser','virtual_root_file.php',227],['lib','medialib.php',169]], 223],
'offsetset': ['offsetset', '', [['lib/google/src/Google','Collection.php',71],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',150],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',321],['question/engine','questionusage.php',1011],['lib/horde/framework/Horde/Support','Stub.php',105],['lib/horde/framework/Horde/Mail/Rfc822','List.php',336],['lib/zend/Zend/Service/Delicious','PostList.php',266],['lib/horde/framework/Horde','Variables.php',228],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',109],['lib/zend/Zend/Gdata/App','Feed.php',224],['lib/horde/framework/Horde/Mime','Part.php',2275],['lib/horde/framework/Horde/Support','Array.php',171],['lib/google/src/Google','Model.php',247],['lib/horde/framework/Horde/Support','CaseInsensitiveArray.php',36],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',119],['question/engine','questionattempt.php',1636],['question/engine','questionattempt.php',1789],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',98]], 6],
'apply_attempt_state': ['apply_attempt_state', '', [['question/type/multianswer','question.php',74],['question/type/randomsamatch','question.php',89],['question/type/calculated','question.php',58],['question/type/calculated','question.php',158],['question/type/calculatedmulti','question.php',59],['question/type/calculatedmulti','question.php',109],['question/type/match','question.php',71],['question/type/numerical','question.php',67],['question/type/multichoice','question.php',65],['question/type','questionbase.php',184],['question/behaviour','behaviourbase.php',352],['question/behaviour','behaviourbase.php',569]], 12],
'__construct': ['__construct', 'Constructor ', [['lib/jabber/XMPP','Log.php',67],['lib/zend/Zend/Gdata/Books','VolumeFeed.php',41],['lib/markdown','MarkdownExtra.php',51],['lib/zend/Zend/Gdata/Books/Extension','BooksCategory.php',42],['lib/horde/framework/Horde/Support','Uuid.php',23],['lib/zend/Zend/Validate','Iban.php',106],['repository/wikimedia','wikimedia.php',35],['lib/lessphp/Tree','Operation.php',19],['lib/alfresco/Service','Version.php',38],['lib/filestorage','file_exceptions.php',36],['lib/filestorage','file_exceptions.php',57],['lib/filestorage','file_exceptions.php',89],['lib/filestorage','file_exceptions.php',108],['lib/filestorage','file_exceptions.php',129],['backup/moodle2','backup_activity_task.class.php',45],['lib/htmlpurifier/HTMLPurifier','AttrCollections.php',16],['lib/phpunit/classes','database_driver_testcase.php',55],['lib/google/src/Google/Service','Reseller.php',44],['lib/horde/framework/Horde/Imap/Client/Interaction/Command','Continuation.php',42],['lib/phpunit/classes','advanced_testcase.php',45],['lib/zend/Zend/Service/DeveloperGarden/Request','RequestAbstract.php',40],['lib','outputlib.php',447],['lib','outputlib.php',2000],['repository/filesystem','lib.php',48],['lib/zend/Zend/XmlRpc/Value','Nil.php',40],['lib/lessphp/Tree','NameValue.php',21],['lib/zend/Zend/Gdata/YouTube','UserProfileEntry.php',283],['lib/zend/Zend/Gdata/Gapps','EmailListRecipientEntry.php',69],['lib/simplepie/library/SimplePie','Restriction.php',81],['lib/filebrowser','file_info_context_course.php',39],['lib/filebrowser','file_info_context_course.php',492],['lib/filebrowser','file_info_context_course.php',596],['lib/filebrowser','file_info_context_course.php',745],['lib/minify/lib/MrClay/Cli','Arg.php',82],['lib/horde/framework/Horde/Crypt/Blowfish','Mcrypt.php',47],['lib/classes/update','checker.php',50],['lib/adodb','adodb-active-recordx.inc.php',131],['lib/phpexcel/PHPExcel','Calculation.php',1721],['lib/zend/Zend/Gdata/Photos/Extension','NumPhotos.php',50],['availability/classes','info_module.php',40],['lib/zend/Zend/Gdata/Geo/Extension','GmlPos.php',49],['lib/zend/Zend/Gdata/App/Extension','Link.php',49],['lib/zend/Zend/Gdata/Photos/Extension','Access.php',51],['lib/zend/Zend/Server/Reflection','Parameter.php',58],['lib/zend/Zend/Service/DeveloperGarden/Client','ClientAbstract.php',129],['lib/horde/framework/Horde/Imap/Client','DateTime.php',29],['lib/zend/Zend/Validate/Db','Abstract.php',79],['cache/locks/file','lib.php',66],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',180],['question/type/missingtype','edit_missingtype_form.php',38],['auth/cas/CAS/CAS','Client.php',862],['lib/horde/framework/Horde/Imap/Client/Data','Envelope.php',46],['lib/zend/Zend/Gdata/Books','VolumeQuery.php',46],['lib/minify/lib/Minify/Cache','XCache.php',22],['lib/zend/Zend/XmlRpc','Request.php',92],['lib/zend/Zend/Service/Delicious','Post.php',74],['lib/zend/Zend/Gdata/Extension','FeedLink.php',53],['lib/zend/Zend/Http/Client/Adapter','Socket.php',97],['lib/grade','grade_object.php',80],['lib/zend/Zend/Gdata/YouTube','ContactFeed.php',55],['backup/util/plan','base_plan.class.php',39],['backup/util/plan','base_plan.class.php',215],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',43],['lib/google/src/Google/Auth','LoginTicket.php',35],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',84],['lib/zend/Zend/Service/DeveloperGarden/SecurityTokenServer','Cache.php',59],['question/type/randomsamatch','question.php',114],['lib/zend/Zend/Service/WindowsAzure/Storage','SignedIdentifier.php',49],['lib/zend/Zend/Amf/Parse','OutputStream.php',40],['blocks','moodleblock.class.php',111],['lib/simplepie','autoloader.php',62],['mod/scorm','renderer.php',129],['lib/zend/Zend/Gdata/Extension','Who.php',64],['lib/zend/Zend/Gdata/Gapps','EmailListQuery.php',54],['lib/zend/Zend/Service/Simpy','LinkSet.php',47],['repository/flickr_public','lib.php',49],['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',55],['lib/google/src/Google/Service','Replicapoolupdater.php',47],['admin/tool/generator/classes','site_backend.php',58],['mod/assign','assignmentplugin.php',50],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',45],['mod/lti/service/profile/classes/local/resource','profile.php',43],['lib/htmlpurifier/HTMLPurifier/AttrDef','Integer.php',36],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',138],['backup/util/structure','base_optigroup.class.php',35],['backup/util/structure','base_optigroup.class.php',169],['lib/lessphp/Tree','Anonymous.php',21],['user','renderer.php',186],['lib/zend/Zend/Service/WindowsAzure','Storage.php',170],['lib/google/src/Google','Service.php',26],['lib/lessphp/Tree','Url.php',17],['webservice','lib.php',745],['webservice','lib.php',841],['webservice','lib.php',1120],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',270],['lib/zend/Zend/Gdata/YouTube/Extension','MediaContent.php',55],['lib/horde/framework/Horde/Support','Randomid.php',26],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','DenyElementDecorator.php',21],['lib/tests','completionlib_test.php',863],['lib/zend/Zend/Service/Amazon','Accessories.php',44],['lib/zend/Zend/Validate/Barcode','Code39ext.php',47],['mod/assign/feedback/editpdf/classes','comment.php',58],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',46],['backup/moodle2','backup_settingslib.php',42],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateListRequest.php',46],['lib/zend/Zend/XmlRpc/Value','Base64.php',40],['backup/util/structure','backup_structure_processor.class.php',45],['backup/util/structure','backup_structure_processor.class.php',133],['lib/zend/Zend/Service/WindowsAzure/Storage','Blob.php',117],['lib/lessphp','Parser.php',75],['lib/zend/Zend/Service/DeveloperGarden/Response/IpLocation','LocateIPResponse.php',47],['lib/zend/Zend/Gdata','Query.php',72],['lib/zend/Zend/Service/Technorati','TagResultSet.php',57],['lib/zend/Zend/Rest/Client','Result.php',42],['lib/lessphp/Tree','Call.php',19],['lib/zend/Zend/Server/Method','Callback.php',59],['lib/minify/lib/Minify/JS','ClosureCompiler.php',38],['mod/workshop/backup/moodle1','lib.php',308],['lib/zend/Zend/Gdata/YouTube','ActivityFeed.php',54],['admin/tool/log/store/database/classes/log','store.php',47],['lib/zend/Zend/Validate','Alpha.php',65],['lib/zend/Zend/Gdata','Gapps.php',109],['lib/zend/Zend/Service/Flickr','Result.php',174],['question/type/multianswer','edit_multianswer_form.php',58],['mod/assign/feedback/file','renderable.php',44],['lib/horde/framework/Horde','Secret.php',48],['lib/zend/Zend/Gdata/Photos/Extension','AlbumId.php',51],['lib/lessphp/SourceMap','Base64VLQ.php',67],['lib/lessphp/Tree/Mixin','Call.php',14],['auth/cas/CAS/CAS','GracefullTerminationException.php',48],['lib/google/src/Google/Service','Fusiontables.php',48],['grade/report/singleview','lib.php',69],['lib/classes/lock','lock.php',55],['grade/grading/form','lib.php',82],['grade/grading/form','lib.php',766],['blog','locallib.php',71],['blog','locallib.php',581],['blog','locallib.php',849],['blog','locallib.php',894],['blog','locallib.php',953],['blog','locallib.php',1004],['blog','locallib.php',1028],['blog','locallib.php',1038],['blog','locallib.php',1050],['blog','locallib.php',1071],['lib/zend/Zend/Gdata/Exif/Extension','Flash.php',49],['backup/cc/cc_lib','cc_general.php',38],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',61],['admin/webservice','lib.php',38],['lib/zend/Zend/Validate/File','FilesSize.php',60],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',46],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',27],['repository/boxnet','lib.php',56],['lib/htmlpurifier/HTMLPurifier','Language.php',63],['lib/zend/Zend/Validate','Int.php',53],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',62],['lib/zend/Zend/Soap','Server.php',146],['lib/zend/Zend/Gdata/Photos','PhotoEntry.php',215],['lib/zend/Zend/Service/Yahoo','LocalResult.php',111],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','GetAccountBalance.php',40],['badges/lib','backpacklib.php',40],['lib/zend/Zend/Service/Yahoo','Result.php',77],['lib/form','filemanager.php',306],['lib/lessphp/Tree','Condition.php',18],['lib/pear/PEAR','Exception.php',107],['lib/zend/Zend/Gdata/YouTube/Extension','Racy.php',45],['question/classes/bank','view.php',70],['lib/adodb','adodb.inc.php',2790],['lib/adodb','adodb.inc.php',2865],['lib/zend/Zend/Gdata/App/Extension','Text.php',45],['question/engine/upgrade/tests','helper.php',45],['lib/zend/Zend/Validate/Barcode','Ean5.php',47],['blocks/private_files','renderer.php',83],['backup/util/settings/section','section_backup_setting.class.php',25],['lib/classes','useragent.php',115],['lib/zend/Zend/Gdata/Photos/Extension','CommentCount.php',51],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',38],['lib/zend/Zend/Gdata/Spreadsheets/Extension','ColCount.php',49],['lib/horde/framework/Horde/Translation/Handler','Gettext.php',34],['lib/portfolio','exceptions.php',50],['lib/zend/Zend/Gdata/Calendar/Extension','QuickAdd.php',45],['lib/xmldb','xmldb_object.php',55],['lib/zend/Zend/Service','SlideShare.php',283],['webservice/amf','introspector.php',52],['question/behaviour/adaptive','behaviour.php',310],['question/behaviour','behaviourtypebase.php',133],['admin/tool/assignmentupgrade','upgradableassignmentstable.php',49],['course','renderer.php',52],['lib/zend/Zend/Validate','Hostname.php',315],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',249],['lib/zend/Zend/Amf','Server.php',134],['enrol/imsenterprise','locallib.php',38],['enrol/imsenterprise','locallib.php',115],['lib/zend/Zend/Http','Cookie.php',98],['lib/lessphp/Tree','Extend.php',28],['lib/zend/Zend/Validate','Barcode.php',75],['lib/zend/Zend/XmlRpc/Value','BigInteger.php',47],['lib/google/src/Google/Service','DoubleClickBidManager.php',40],['lib/google/src/Google/Service','QPXExpress.php',39],['lib/zend/Zend/Server/Reflection/Function','Abstract.php',105],['lib/phpexcel/PHPExcel/Style','Color.php',72],['lib/zend/Zend/Validate/File','Hash.php',60],['backup/util/settings/root','root_backup_setting.class.php',34],['backup/cc/cc_lib','cc_converter_basiclti.php',29],['lib/zend/Zend/Gdata/Photos/Extension','QuotaCurrent.php',50],['lib/zend/Zend/Service/Nirvanix/Namespace','Base.php',76],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',54],['lib/zend/Zend/Service/Technorati','DailyCountsResult.php',60],['lib/zend/Zend/Rest','Server.php',102],['lib/zend/Zend/Gdata/Photos','UserFeed.php',106],['lib/tcpdf/include/barcodes','pdf417.php',523],['lib/minify/lib/Minify/CSS','Compressor.php',51],['lib/zend/Zend/Gdata/YouTube/Extension','VideoId.php',44],['lib/google/src/Google/Service','Blogger.php',50],['mod/workshop/allocation/random','lib.php',52],['mod/workshop/allocation/random','lib.php',727],['lib/zend/Zend/Gdata/App/Extension','Published.php',43],['lib/google/src/Google/Service','Doubleclicksearch.php',43],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Nofollow.php',16],['lib/phpexcel/PHPExcel/Shared/trend','powerBestFitClass.php',129],['lib/zend/Zend/Gdata/Photos','AlbumEntry.php',193],['lib/zend/Zend/Gdata/Docs','DocumentListFeed.php',56],['lib/zend/Zend/Gdata/App/Extension','Icon.php',43],['lib/portfolio','plugin.php',445],['lib/zend/Zend/Gdata/Extension','OpenSearchItemsPerPage.php',44],['lib/horde/framework/Horde/Exception','LastError.php',16],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','ID.php',28],['lib/zend/Zend/Service/Yahoo','WebResult.php',83],['lib/horde/framework/Horde/Imap/Client/Interaction','Client.php',34],['lib/google/src/Google/Service','AdExchangeBuyer.php',46],['lib/dtl','file_xml_database_exporter.php',36],['backup/cc','validator.php',30],['backup/cc','validator.php',116],['backup/cc','validator.php',202],['backup/cc','validator.php',230],['backup/cc','validator.php',236],['backup/cc','validator.php',242],['backup/cc','validator.php',248],['backup/cc','validator.php',254],['backup/cc','validator.php',260],['lib/zend/Zend/Gdata/YouTube/Extension','Token.php',44],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',87],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',47],['lib/xmldb','xmldb_field.php',84],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',126],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceStatusRequest.php',65],['lib/google/src/Google/Service','Manager.php',57],['lib/zend/Zend/Service/Amazon','Offer.php',79],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',35],['lib/zend/Zend/Gdata/App','FeedEntryParent.php',129],['lib/zend/Zend/Service/Technorati','KeyInfoResult.php',61],['lib/htmlpurifier/HTMLPurifier/TagTransform','Simple.php',19],['webservice/rest','lib.php',47],['lib/zend/Zend/Service/StrikeIron','Decorator.php',47],['lib/google/src/Google/Http','Batch.php',38],['lib/google/src/Google/Service','Reports.php',47],['auth/cas/CAS/CAS','OutOfSequenceBeforeAuthenticationCallException.php',47],['lib/zend/Zend/Gdata/Media/Extension','MediaKeywords.php',43],['repository/url','lib.php',46],['lib','xmlize.php',31],['mod/forum/classes','potential_subscriber_selector.php',47],['lib/filebrowser','file_info_context_system.php',37],['lib/zend/Zend/Service/Amazon','Abstract.php',74],['lib/zend/Zend/Server','Definition.php',43],['lib/minify/lib/Minify','ImportProcessor.php',48],['lib/zend/Zend/Amf/Util','BinaryStream.php',53],['lib/portfolio','exporter.php',113],['backup/cc/cc_lib','cc_converter_page.php',28],['lib/zend/Zend/Gdata/YouTube','SubscriptionFeed.php',55],['lib/alfresco/Service','SpacesStore.php',28],['repository/recent','lib.php',39],['lib/zend/Zend/Service/DeveloperGarden/IpLocation','IpAddress.php',59],['lib/zend/Zend/Validate','Regex.php',62],['lib/phpexcel/PHPExcel/Shared/trend','exponentialBestFitClass.php',135],['lib/phpexcel/PHPExcel','ReferenceHelper.php',65],['lib','webdavlib.php',84],['lib/htmlpurifier/HTMLPurifier/AttrTransform','TargetBlank.php',17],['auth/cas/CAS/CAS','AuthenticationException.php',53],['lib/zend/Zend/Gdata/Gapps','NicknameQuery.php',54],['lib/bennu','iCalendar_properties.php',28],['lib/bennu','iCalendar_properties.php',220],['lib/bennu','iCalendar_properties.php',238],['lib/bennu','iCalendar_properties.php',259],['lib/bennu','iCalendar_properties.php',275],['lib/bennu','iCalendar_properties.php',296],['lib/bennu','iCalendar_properties.php',343],['lib/bennu','iCalendar_properties.php',358],['lib/bennu','iCalendar_properties.php',376],['lib/bennu','iCalendar_properties.php',391],['lib/bennu','iCalendar_properties.php',406],['lib/bennu','iCalendar_properties.php',447],['lib/bennu','iCalendar_properties.php',462],['lib/bennu','iCalendar_properties.php',485],['lib/bennu','iCalendar_properties.php',509],['lib/bennu','iCalendar_properties.php',524],['lib/bennu','iCalendar_properties.php',555],['lib/bennu','iCalendar_properties.php',573],['lib/bennu','iCalendar_properties.php',594],['lib/bennu','iCalendar_properties.php',637],['lib/bennu','iCalendar_properties.php',680],['lib/bennu','iCalendar_properties.php',724],['lib/bennu','iCalendar_properties.php',747],['lib/bennu','iCalendar_properties.php',782],['lib/bennu','iCalendar_properties.php',808],['lib/bennu','iCalendar_properties.php',849],['lib/bennu','iCalendar_properties.php',864],['lib/bennu','iCalendar_properties.php',905],['lib/bennu','iCalendar_properties.php',938],['lib/bennu','iCalendar_properties.php',952],['lib/bennu','iCalendar_properties.php',965],['lib/bennu','iCalendar_properties.php',987],['lib/bennu','iCalendar_properties.php',1017],['lib/bennu','iCalendar_properties.php',1031],['lib/bennu','iCalendar_properties.php',1061],['lib/bennu','iCalendar_properties.php',1075],['lib/bennu','iCalendar_properties.php',1098],['lib/bennu','iCalendar_properties.php',1110],['lib/bennu','iCalendar_properties.php',1139],['lib/bennu','iCalendar_properties.php',1160],['lib/bennu','iCalendar_properties.php',1181],['lib/bennu','iCalendar_properties.php',1203],['lib/bennu','iCalendar_properties.php',1227],['lib/bennu','iCalendar_properties.php',1260],['lib/bennu','iCalendar_properties.php',1386],['lib/bennu','iCalendar_properties.php',1407],['lib/bennu','iCalendar_properties.php',1429],['lib/bennu','iCalendar_properties.php',1450],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',36],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',78],['lib/horde/framework/Horde','Domhtml.php',53],['auth/cas/CAS/CAS','OutOfSequenceBeforeProxyException.php',48],['lib/simplepie/library/SimplePie/Parse','Date.php',536],['lib/google/src/Google/Service','Customsearch.php',38],['lib/zend/Zend/Gdata/App','MediaFileSource.php',54],['backup/util/plan','restore_step.class.php',32],['backup/util/plan','restore_step.class.php',104],['lib/lessphp/Tree','Comment.php',17],['availability/tests/fixtures','mock_info.php',40],['lib/htmlpurifier/HTMLPurifier/AttrTransform','EnumToCSS.php',34],['backup/util/ui','base_ui.class.php',84],['lib/phpexcel/PHPExcel','DocumentSecurity.php',73],['lib/htmlpurifier/HTMLPurifier/AttrDef/URI','Host.php',15],['backup/cc/cc_lib','cc_converter_lti.php',29],['lib/zend/Zend/Gdata/YouTube/Extension','Position.php',44],['lib/zend/Zend/Service/WindowsAzure/Credentials','CredentialsAbstract.php',77],['lib/zend/Zend/Soap','AutoDiscover.php',94],['lib/htmlpurifier/HTMLPurifier','URI.php',58],['lib/phpexcel/PHPExcel','IOFactory.php',77],['lib/zend/Zend/Gdata/App/Extension','Email.php',43],['lib/zend/Zend/Gdata/Media/Extension','MediaHash.php',45],['lib/zend/Zend/Gdata/App/Extension','Element.php',42],['lib/google/src/Google/Service','Gmail.php',55],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Multiple.php',33],['repository/dropbox','lib.php',49],['lib/minify/lib/Minify','Source.php',43],['backup/util/dbops','backup_dbops.class.php',37],['lib/google/src/Google/Service','Plus.php',52],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',28],['lib/google/src/Google/Service','Spectrum.php',38],['files','renderer.php',1080],['lib/zend/Zend/Validate/Barcode','Ean2.php',47],['course','lib.php',2932],['lib/horde/framework/Horde/Support','ConsistentHash.php',56],['lib/zend/Zend/Service/Simpy','Watchlist.php',89],['lib/phpexcel/PHPExcel','Style.php',101],['lib/zend/Zend/Gdata/YouTube/Extension','CountHint.php',44],['lib/minify/lib/Minify/Cache','Memcache.php',22],['auth/db','auth.php',36],['lib/zend/Zend/Gdata/Gapps','UserQuery.php',54],['admin/roles/classes','assign_user_selector_base.php',40],['lib/zend/Zend/Gdata/Exif/Extension','Model.php',49],['lib/zend/Zend/Gdata/YouTube','PlaylistListFeed.php',55],['lib/zend/Zend/Gdata/Docs','DocumentListEntry.php',42],['mod/quiz/tests','repaginate_test.php',39],['question/engine','questionusage.php',78],['question/engine','questionusage.php',973],['lib/simplepie/library/SimplePie/Cache','MySQL.php',80],['lib/zend/Zend/Service/Twitter','Search.php',70],['lib/zend/Zend/Server/Method','Parameter.php',59],['lib/phpunit/classes','basic_testcase.php',39],['lib/zend/Zend/Service/WindowsAzure/Storage','BlobContainer.php',50],['lib/zend/Zend/Service/DeveloperGarden/Response/LocalSearch','LocalSearchResponse.php',50],['lib/horde/framework/Horde/Imap/Client','Ids.php',78],['mod/wiki/parser/markups','html.php',18],['lib/google/src/Google/Service','Mirror.php',49],['lib/classes/event','base.php',114],['lib/alfresco/Service','Repository.php',36],['lib/zend/Zend/Service/Technorati','CosmosResult.php',84],['backup/moodle2','backup_xml_transformer.class.php',50],['lib/phpexcel/PHPExcel/Reader/Excel5','RC4.php',42],['lib/zend/Zend/Service/Yahoo','PageDataResult.php',47],['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',99],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceTemplateRequest.php',60],['lib/phpexcel/PHPExcel/Shared/JAMA','EigenvalueDecomposition.php',775],['lib/tcpdf','tcpdf_parser.php',92],['lib/minify/lib/Minify/Cache','APC.php',19],['lib/zend/Zend/Gdata','MimeBodyString.php',49],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',55],['lib/phpexcel/PHPExcel/Calculation','FormulaParser.php',92],['lib/google/src/Google/Http','MediaFileUpload.php',73],['lib/zend/Zend/XmlRpc/Client','ServerProxy.php',54],['lib','listlib.php',82],['lib','listlib.php',485],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Background.php',20],['lib/zend/Zend/Gdata/Health','ProfileFeed.php',49],['lib/google/src/Google/Service','Genomics.php',60],['lib/google/src/Google/Service','Urlshortener.php',40],['lib/zend/Zend/Server/Reflection','Method.php',51],['lib/tests','medialib_test.php',631],['lib/htmlpurifier/HTMLPurifier/ChildDef','Required.php',23],['lib/zend/Zend/Soap/Client','DotNet.php',43],['admin/roles/classes','allow_role_page.php',37],['backup/util/dbops','restore_dbops.class.php',1755],['lib/zend/Zend/Service/Yahoo','NewsResult.php',97],['backup/util/plan','restore_task.class.php',32],['backup/util/plan','restore_task.class.php',121],['webservice/rest','locallib.php',40],['lib/simplepie/library/SimplePie','Sanitize.php',75],['lib','uploadlib.php',40],['lib/zend/Zend/Gdata','Health.php',109],['lib','questionlib.php',1269],['lib','questionlib.php',1513],['lib/dml','oci_native_moodle_recordset.php',34],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveParticipantRequest.php',53],['lib/zend/Zend/XmlRpc/Value','String.php',38],['lib/zend/Zend/Gdata/Calendar/Extension','AccessLevel.php',45],['lib/ddl','database_manager.php',48],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CreateConferenceTemplateRequest.php',60],['backup/util/xml/parser','progressive_parser.class.php',79],['backup/util/xml/parser','progressive_parser.class.php',305],['backup/util/settings','base_setting.class.php',89],['backup/util/settings','base_setting.class.php',556],['lib/dtl','database_exporter.php',55],['mod/workshop/form/accumulative','lib.php',99],['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',182],['grade/report/singleview/classes/local/ui','bulk_insert.php',40],['lib/zend/Zend/Validate','Float.php',53],['lib/zend/Zend/Gdata/Gapps/Extension','EmailList.php',59],['cache/classes','interfaces.php',473],['lib/zend/Zend/Gdata/App/Extension','Edited.php',43],['lib/zend/Zend/Gdata/Gapps','UserEntry.php',103],['lib/lessphp/Tree','Element.php',19],['lib','moodlelib.php',9143],['lib','moodlelib.php',9354],['repository/picasa','lib.php',41],['webservice/soap','lib.php',42],['lib/zend/Zend/Gdata/Calendar','EventEntry.php',71],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Border.php',18],['lib/phpexcel/PHPExcel/Shared/trend','linearBestFitClass.php',98],['backup/cc/cc_lib','cc_assesment_essay.php',25],['lib/zend/Zend/Service/WindowsAzure/RetryPolicy','RetryN.php',56],['lib/dml','moodle_temptables.php',51],['lib/zend/Zend/Gdata/Media/Extension','MediaContent.php',116],['lib/zend/Zend/Gdata/Gapps','EmailListEntry.php',80],['admin/roles/classes','allow_assign_page.php',31],['lib/zend/Zend/Gdata','Books.php',80],['lib/zend/Zend/Amf/Value','MessageHeader.php',64],['lib/zend/Zend/Validate','GreaterThan.php',59],['lib/zend/Zend/Gdata/YouTube/Extension','PlaylistId.php',44],['calendar/classes','rrule_manager.php',182],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',45],['lib/zend/Zend/Service/ReCaptcha','Response.php',53],['lib/simplepie/library/SimplePie/HTTP','Parser.php',131],['lib/phpexcel/PHPExcel/Style','NumberFormat.php',106],['lib/zend/Zend/Amf/Value/Messaging','RemotingMessage.php',58],['lib/tcpdf','tcpdf.php',1822],['lib/zend/Zend/Gdata/YouTube/Extension','Username.php',44],['lib/zend/Zend/Gdata/Photos/Extension','Version.php',51],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Input.php',14],['lib/zend/Zend/Service/WindowsAzure/Storage','Batch.php',77],['lib/mustache/src/Mustache','Engine.php',61],['lib/xmldb','xmldb_structure.php',40],['lib/zend/Zend/Gdata/Photos','TagEntry.php',61],['webservice/amf','locallib.php',41],['webservice/amf','locallib.php',60],['lib/htmlpurifier/HTMLPurifier/ChildDef','Chameleon.php',36],['lib/horde/framework/Horde/Imap/Client','Base.php',153],['question/type/numerical/tests','form_test.php',40],['lib/google/src/Google/Service','IdentityToolkit.php',38],['comment','locallib.php',39],['lib/zend/Zend/Gdata/Extension','Comments.php',50],['lib/google/src/Google/Service','Resource.php',60],['lib/horde/framework/Horde/Imap/Client/Socket','Catenate.php',37],['lib/zend/Zend/Gdata/YouTube/Extension','Recorded.php',44],['lib/zend/Zend/Amf/Request','Http.php',46],['backup/util/settings','setting_dependency.class.php',68],['backup/util/settings','setting_dependency.class.php',175],['backup/util/settings','setting_dependency.class.php',328],['backup/util/settings','setting_dependency.class.php',439],['backup/util/settings','setting_dependency.class.php',465],['backup/util/settings','setting_dependency.class.php',491],['backup/util/settings','setting_dependency.class.php',556],['question/engine/upgrade','behaviourconverters.php',78],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantDetail.php',62],['repository/s3','lib.php',39],['lib/minify/lib/MrClay','Cli.php',74],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','AlphaValue.php',6],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',67],['lib/zend/Zend/Gdata/App','HttpException.php',51],['lib/zend/Zend/Soap/Client','Common.php',40],['lib/google/src/Google/Service','Dfareporting.php',45],['lib/lessphp/Output','Mapped.php',39],['lib/classes/output','notification.php',66],['lib/google/src/Google/Service','PlusDomains.php',72],['backup/util/plan','base_task.class.php',40],['backup/util/plan','base_task.class.php',277],['lib/editor/tinymce','adminlib.php',36],['lib/zend/Zend/Service/Amazon/Ec2','Exception.php',41],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',52],['lib/simplepie/library/SimplePie','Locator.php',68],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',846],['lib/xmldb','xmldb_key.php',43],['user/filters','checkbox.php',51],['lib/phpexcel/PHPExcel/Reader','SYLK.php',75],['question/type/numerical','questiontype.php',507],['backup/cc/cc_lib','cc_converter_url.php',29],['lib/zend/Zend/Gdata/App/Extension','Control.php',50],['lib/minify/lib','FirePHP.php',189],['lib/lessphp/Tree/Mixin','Definition.php',18],['lib/zend/Zend/Service/Yahoo','LocalResultSet.php',61],['lib','ddllib.php',80],['lib','ddllib.php',93],['lib','ddllib.php',107],['lib','ddllib.php',126],['lib','ddllib.php',140],['admin/tool/langimport/classes','controller.php',48],['lib/google/src/Google/Auth','AssertionCredentials.php',53],['lib/horde/framework/Horde/Stream','String.php',27],['lib','excellib.class.php',47],['lib','excellib.class.php',155],['lib','excellib.class.php',454],['lib/horde/framework/Horde/Stream','Temp.php',25],['lib/alfresco/Service','VersionHistory.php',34],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceSchedule.php',81],['mod/quiz/classes','repaginate.php',49],['lib/zend/Zend/Validate','Isbn.php',65],['lib/zend/Zend/Service/Amazon','Image.php',55],['backup/util/ui','restore_ui_components.php',81],['backup/util/ui','restore_ui_components.php',287],['backup/util/ui','restore_ui_components.php',382],['lib/classes/lock','db_record_lock_factory.php',61],['lib/horde/framework/Horde/Stream','TempString.php',40],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',15],['lib/htmlpurifier/HTMLPurifier/ChildDef','Empty.php',22],['lib/zend/Zend/Gdata/Spreadsheets/Extension','Cell.php',76],['question/type/calculated','question.php',188],['question/type/calculated','question.php',303],['lib/horde/framework/Horde/Text','Flowed.php',75],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',25],['lib/zend/Zend/Gdata/Gapps/Extension','Login.php',111],['mod/workshop/form/rubric','lib.php',105],['cohort','locallib.php',37],['cohort','locallib.php',101],['lib/zend/Zend/XmlRpc/Value','DateTime.php',53],['lib/zend/Zend/Service/WindowsAzure/Storage','QueueMessage.php',52],['lib/htmlpurifier/HTMLPurifier','Queue.php',24],['lib/zend/Zend/Amf/Parse','Serializer.php',40],['lib/google/src/Google/Service','GroupsMigration.php',38],['lib/phpexcel/PHPExcel/Worksheet','PageSetup.php',277],['lib/zend/Zend/Gdata/Gapps','ServiceException.php',61],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',14],['lib/zend/Zend/XmlRpc','Fault.php',100],['lib/zend/Zend/Gdata','Photos.php',124],['question/type/calculated','datasetdefinitions_form.php',53],['lib/phpexcel/PHPExcel/Reader','Excel5.php',424],['question/type/shortanswer','question.php',43],['backup/util/structure','base_final_element.class.php',38],['backup/util/structure','base_final_element.class.php',239],['backup/util/structure','base_final_element.class.php',256],['lib/zend/Zend/Service','LiveDocx.php',67],['backup/util/plan','backup_plan.class.php',36],['backup/util/plan','backup_plan.class.php',130],['lib/google/src/Google/Auth','AppIdentity.php',38],['lib/zend/Zend/Gdata/Exif/Extension','FocalLength.php',49],['lib/zend/Zend/Gdata/App/Extension','Id.php',43],['lib/zend/Zend/Gdata/Books/Extension','PreviewLink.php',42],['mod/chat','locallib.php',179],['mod/chat','locallib.php',227],['lib/google/src/Google/Service','Licensing.php',38],['auth/cas/CAS/CAS/PGTStorage','File.php',105],['lib/zend/Zend/Server/Method','Definition.php',64],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetParticipantStatusRequest.php',53],['question/classes/bank','column_base.php',44],['lib/zend/Zend/XmlRpc/Server','Fault.php',67],['lib/zend/Zend/Amf/Value/Messaging','AcknowledgeMessage.php',40],['grade/report/singleview/classes/local/ui','range.php',38],['lib/zend/Zend/Gdata/Books/Extension','Viewability.php',45],['mod/book','locallib.php',405],['lib/zend/Zend/XmlRpc/Value','Array.php',39],['lib/zend/Zend/Service/Technorati','Result.php',63],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceTemplateRequest.php',46],['lib/zend/Zend/Gdata/Exif/Extension','Exposure.php',49],['lib/zend/Zend/Gdata/Exif','Feed.php',58],['question/type/randomsamatch/tests','helper.php',121],['lib/htmlpurifier/HTMLPurifier','PropertyListIterator.php',22],['question/engine/upgrade','logger.php',42],['question/engine/upgrade','logger.php',87],['lib/portfolio/formats/leap2a','lib.php',62],['lib/portfolio/formats/leap2a','lib.php',258],['lib/portfolio/formats/leap2a','lib.php',503],['lib/zend/Zend/Gdata/Spreadsheets','CellEntry.php',49],['lib/zend/Zend/Gdata/Photos/Extension','PhotoId.php',49],['lib/zend/Zend/Http/Response','Stream.php',120],['lib','modinfolib.php',429],['lib','modinfolib.php',1680],['lib','modinfolib.php',2516],['lib/dtl','database_importer.php',61],['lib/tcpdf','tcpdf_barcodes_2d.php',58],['lib/zend/Zend/Gdata/Exif/Extension','Iso.php',49],['lib/zend/Zend/Gdata/YouTube','VideoQuery.php',48],['lib/lessphp/Tree','Variable.php',20],['backup/moodle2','restore_activity_task.class.php',48],['lib/htmlpurifier/HTMLPurifier/AttrTransform','ImgSpace.php',24],['lib/google/src/Google/Signer','P12.php',33],['lib/lessphp/Tree','DetachedRuleset.php',15],['lib/zend/Zend/Gdata/YouTube','SubscriptionEntry.php',138],['lib/zend/Zend/Http/Client/Adapter','Test.php',81],['','mdeploy.php',120],['lib/ddl','sqlite_sql_generator.php',73],['lib/google/src/Google/Service','Drive.php',70],['mod/quiz/classes','admin_review_setting.php',82],['lib','pdflib.php',161],['lib/zend/Zend/Gdata/YouTube/Extension','Duration.php',45],['mod/quiz/report','attemptsreport_options.php',95],['lib/zend/Zend/Validate/File','Md5.php',60],['backup/util/helper','restore_questions_parser_processor.class.php',42],['lib/horde/framework/Horde/Imap/Client/Exception','SearchCharset.php',34],['lib/filebrowser','file_info_context_coursecat.php',39],['badges','renderer.php',972],['badges','renderer.php',1013],['badges','renderer.php',1077],['badges','renderer.php',1110],['badges','renderer.php',1136],['lib/horde/framework/Horde/Imap/Client','Socket.php',168],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',17],['lib/zend/Zend/Gdata/Gapps/Extension','Nickname.php',59],['lib/zend/Zend/Gdata/YouTube/Extension','MediaRating.php',54],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',50],['mnet/xmlrpc','serverlib.php',674],['completion','data_object.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Filter.php',15],['lib/horde/framework/Horde/Support','StringStream.php',30],['lib/simplepie/library/SimplePie','gzdecode.php',186],['lib/jabber/XMPP','Roster.php',48],['lib/classes/dml','recordset_walk.php',64],['lib','dmllib.php',69],['lib','dmllib.php',84],['lib','dmllib.php',104],['lib','dmllib.php',129],['lib','dmllib.php',159],['lib','dmllib.php',187],['lib','dmllib.php',240],['lib','dmllib.php',270],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',129],['lib/google/src/Google/Service','Books.php',57],['mod/assign/feedback/offline','importgradeslib.php',60],['lib/zend/Zend/Gdata','App.php',165],['lib/pear/Net','GeoIP.php',323],['lib/zend/Zend/Gdata/Photos/Extension','Name.php',50],['lib/google/src/Google/Service','AdExchangeSeller.php',53],['lib/zend/Zend/Gdata/Docs','Query.php',75],['lib/zend/Zend/Gdata/YouTube/Extension','Occupation.php',44],['lib/zend/Zend/Gdata/Exif/Extension','Time.php',49],['cache/tests/fixtures','lib.php',325],['lib/horde/framework/Horde/Mail/Rfc822','List.php',61],['lib/google/src/Google/Cache','Memcache.php',42],['lib/dml','sqlsrv_native_moodle_database.php',47],['backup/util/structure','backup_optigroup_element.class.php',51],['backup/cc/cc_lib','cc_converter_resource.php',28],['lib/simplepie/library/SimplePie','Caption.php',98],['mod/lti','OAuth.php',73],['mod/lti','OAuth.php',89],['mod/lti','OAuth.php',244],['mod/lti','OAuth.php',499],['lib/classes','collator.php',58],['lib/zend/Zend/Service/Delicious','PostList.php',56],['lib/classes/output','mustache_filesystem_loader.php',39],['lib/zend/Zend/Service/Amazon/Ec2','Abstract.php',91],['backup/util/xml/parser/processors','grouped_parser_processor.class.php',67],['mod/workshop/form/numerrors','lib.php',102],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateRequest.php',46],['report/log/classes','table_log.php',52],['lib/zend/Zend/Gdata/YouTube','CommentEntry.php',48],['lib/simplepie/library/SimplePie/Cache','Base.php',70],['lib/zend/Zend/Gdata/YouTube/Extension','Status.php',44],['lib/adodb','adodb-exceptions.inc.php',28],['backup/util/helper','backup_array_iterator.class.php',39],['lib/zend/Zend/Rest','Client.php',54],['lib/zend/Zend/Gdata/YouTube/Extension','Company.php',44],['question/classes/statistics/responses','analysis_for_class.php',68],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceTemplateParticipantRequest.php',53],['question/engine','lib.php',770],['question/engine','lib.php',1000],['question/engine','lib.php',1048],['lib/tcpdf','tcpdf_barcodes_1d.php',58],['lib/google/src/Google/Service','Bigquery.php',59],['backup/moodle2','restore_course_task.class.php',41],['lib/zend/Zend/Gdata/Media/Extension','MediaRestriction.php',54],['lib/htmlpurifier/HTMLPurifier','DefinitionCache.php',22],['lib/phpexcel/PHPExcel/Writer','CSV.php',86],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',73],['cache','disabledlib.php',44],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',20],['lib/mustache/src/Mustache/Exception','UnknownTemplateException.php',22],['webservice/xmlrpc','locallib.php',85],['lib/google/src/Google/Service','Freebase.php',38],['mod/lti/service/profile/classes/local/service','profile.php',41],['admin/tool/monitor/classes/output/managesubs','rules.php',56],['backup/util/settings','backup_setting.class.php',43],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',42],['lib/alfresco/Service','ContentData.php',38],['enrol/ldap','lib.php',36],['lib/zend/Zend/Validate/File','MimeType.php',112],['lib/zend/Zend/Gdata/Gbase/Extension','BaseAttribute.php',47],['lib/zend/Zend/Gdata/Gapps','NicknameEntry.php',79],['lib/minify/lib/Minify','HTML.php',49],['lib/zend/Zend/Gdata/Extension','OriginalEvent.php',56],['lib/zend/Zend/Gdata/YouTube','InboxFeed.php',55],['lib/google/src/Google/Service','Groupssettings.php',40],['availability/classes','info.php',55],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',45],['lib/tests','navigationlib_test.php',472],['lib/tests','navigationlib_test.php',530],['lib/tests','navigationlib_test.php',557],['lib/zend/Zend/Service/DeveloperGarden/Request/IpLocation','LocateIPRequest.php',58],['mod/quiz/report/statistics/classes','calculated.php',43],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',49],['cache/stores/memcached','lib.php',107],['lib/zend/Zend/Validate','Between.php',89],['lib/zend/Zend/Gdata/Media/Extension','MediaGroup.php',183],['user/selector','lib.php',85],['user/selector','lib.php',674],['lib/google/src/Google/Service','YouTube.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Length.php',23],['lib/zend/Zend/Gdata','Exif.php',51],['backup/util/helper','backup_helper.class.php',380],['backup/util/plan','backup_step.class.php',32],['backup/util/plan','backup_step.class.php',55],['backup/util/helper','restore_inforef_parser_processor.class.php',37],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',154],['lib/phpexcel/PHPExcel/CalcEngine','Logger.php',71],['lib/zend/Zend/Gdata','YouTube.php',192],['lib/zend/Zend/Gdata/Calendar/Extension','Link.php',48],['blocks','edit_form.php',47],['lib/dml','mssql_native_moodle_recordset.php',34],['mod/assign','locallib.php',149],['mod/assign','locallib.php',7411],['grade/report/user','lib.php',188],['lib/zend/Zend/Validate/Barcode','Code93ext.php',47],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','ChangeQuotaPool.php',47],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',294],['lib/horde/framework/Horde/Mail/Transport','Mail.php',53],['lib/zend/Zend/Gdata','Media.php',51],['lib/zend/Zend/Gdata/Gapps/Extension','Quota.php',59],['lib/zend/Zend/Amf/Value','ByteArray.php',38],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',22],['lib/simplepie/library/SimplePie/Cache','File.php',82],['lib/behat/form_field','behat_form_field.php',59],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',47],['backup/moodle2','restore_subplugin.class.php',45],['lib/zend/Zend/Gdata/Spreadsheets','SpreadsheetFeed.php',54],['backup/util/structure','base_processor.class.php',49],['lib/zend/Zend/Gdata/Calendar/Extension','Timezone.php',45],['lib/zend/Zend/Validate','Ip.php',56],['lib/zend/Zend/Gdata/Extension','OpenSearchTotalResults.php',44],['badges/criteria','award_criteria_activity.php',45],['lib/zend/Zend/Service/Technorati','DailyCountsResultSet.php',67],['lib/zend/Zend/XmlRpc/Value','Collection.php',40],['lib/google/src/Google/Service','Coordinate.php',47],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','LinkTypes.php',21],['lib/classes/output','mustache_pix_helper.php',43],['lib/zend/Zend/Amf/Value','MessageBody.php',81],['user/classes/output/myprofile','node.php',82],['lib/htmlpurifier/HTMLPurifier','TokenFactory.php',43],['lib/zend/Zend','Registry.php',186],['lib/lessphp/Exception','Chunk.php',19],['lib/dtl','database_mover.php',33],['lib/zend/Zend/Http','CookieJar.php',106],['lib/zend/Zend/Gdata/Extension','Transparency.php',44],['lib/zend/Zend/Gdata/Media/Extension','MediaText.php',64],['lib/phpexcel/PHPExcel/RichText','TextElement.php',43],['lib/simplepie/library/SimplePie','Enclosure.php',219],['lib/google/src/Google/Service','Webmasters.php',46],['lib/lessphp/Tree','Value.php',14],['lib/simplepie/library','SimplePie.php',611],['lib/google/src/Google/Service','Autoscaler.php',46],['lib/zend/Zend/Gdata/App','CaptchaRequiredException.php',64],['lib/behat/features/bootstrap','behat_init_context.php',45],['lib/horde/framework/Horde/Imap/Client/Socket','ClientSort.php',37],['mod/folder','renderer.php',139],['lib/google/src/Google/Service','Webfonts.php',38],['lib/zend/Zend/Gdata/DublinCore/Extension','Description.php',44],['admin/roles/classes','admins_potential_selector.php',30],['lib/zend/Zend/Soap/Client','Local.php',52],['lib/horde/framework/Horde/Imap/Client/Interaction/Server','Tagged.php',36],['lib/lessphp/Tree','Negative.php',14],['mod/quiz','override_form.php',58],['lib/classes/session','file.php',40],['lib/google/src/Google/Auth','OAuth2.php',55],['admin/roles/classes','check_users_selector.php',38],['lib/phpexcel/PHPExcel/Reader/Excel2007','Theme.php',68],['mod/lti/classes/local/ltiservice','service_base.php',63],['lib/alfresco/Service','Store.php',31],['lib/google/src/Google/Service','Audit.php',39],['lib/zend/Zend/Gdata','Gbase.php',95],['mod/wiki','pagelib.php',94],['mod/wiki','pagelib.php',381],['mod/wiki','pagelib.php',986],['mod/wiki','pagelib.php',1195],['mod/wiki','pagelib.php',2201],['mod/wiki','pagelib.php',2429],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',80],['calendar','lib.php',1968],['calendar','lib.php',2709],['lib/zend/Zend/Gdata/Photos','AlbumFeed.php',133],['lib/phpmailer','class.phpmailer.php',572],['lib/google/src/Google/Service','Datastore.php',46],['lib/google/src/Google/Service','YouTubeAnalytics.php',45],['lib/lessphp/Tree','Keyword.php',17],['lib/zend/Zend/Service/Amazon','Sqs.php',70],['backup/util/plan','backup_structure_step.class.php',38],['availability/condition/profile/classes','condition.php',73],['lib/simplepie/library/SimplePie','Rating.php',73],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Length.php',19],['lib/horde/framework/Horde/Support','Backtrace.php',20],['lib/simplepie/library/SimplePie','Author.php',81],['report/loglive/classes','table_log.php',50],['lib','completionlib.php',243],['backup/cc/cc_lib','cc_converter_quiz.php',33],['lib/zend/Zend/Gdata/Exif/Extension','Make.php',49],['lib/dml','moodle_database.php',139],['lib/lessphp/Tree','Media.php',18],['lib/horde/framework/Horde/Imap/Client','Url.php',112],['lib/classes/update','info.php',48],['backup/moodle2','backup_subplugin.class.php',44],['backup/util/ui','base_moodleform.class.php',68],['lib/zend/Zend/Gdata/DublinCore/Extension','Creator.php',44],['lib/alfresco/Service','Association.php',28],['lib/zend/Zend/Gdata/Geo/Extension','GeoRssWhere.php',62],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',57],['lib/zend/Zend/Service','Twitter.php',125],['question/classes/statistics/responses','analysis_for_actual_response.php',70],['admin/tool/log/classes/log','store.php',30],['lib/phpexcel/PHPExcel','Comment.php',101],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CommitConferenceRequest.php',46],['filter','local_settings_form.php',33],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Composite.php',25],['backup/util/plan','base_step.class.php',35],['backup/util/plan','base_step.class.php',127],['badges/classes','assertion.php',49],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateParticipantRequest.php',67],['lib/phpexcel/PHPExcel','RichText.php',45],['lib/zend/Zend/Gdata/App','Base.php',111],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',38],['lib/filestorage','file_storage.php',57],['lib/adodb/drivers','adodb-postgres64.inc.php',125],['lib/adodb/drivers','adodb-postgres64.inc.php',904],['lib/phpexcel/PHPExcel/Chart','Title.php',53],['lib/zend/Zend/Mime','Part.php',51],['lib/phpexcel/PHPExcel','Worksheet.php',335],['lib/phpexcel/PHPExcel/Worksheet','MemoryDrawing.php',78],['lib/google/src/Google/Service','Pagespeedonline.php',39],['lib/zend/Zend/Gdata/DublinCore/Extension','Language.php',44],['lib/phpexcel/PHPExcel/Worksheet','SheetView.php',77],['lib/alfresco/Service/WebService','AlfrescoWebService.php',30],['admin/tool/monitor/classes/output/managerules','renderable.php',56],['lib/google/src/Google/Service','ShoppingContent.php',47],['backup/util/xml/parser/processors','selective_exact_parser_processor.class.php',35],['lib/zend/Zend/Gdata/Spreadsheets','ListQuery.php',57],['backup/moodle2','backup_format_plugin.class.php',40],['mod/workshop/allocation/scheduled','lib.php',48],['lib','outputfactories.php',120],['lib','outputfactories.php',367],['lib/zend/Zend/Gdata/Spreadsheets','ListEntry.php',62],['repository/merlot','lib.php',37],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',29],['mod/chat','chatd.php',78],['mod/chat','chatd.php',103],['lib/lessphp/Visitor','extendFinder.php',15],['lib/zend/Zend/Gdata/YouTube/Extension','MediaGroup.php',112],['mod/quiz/report/grading','gradingsettings_form.php',44],['lib/zend/Zend/Service/Simpy','Note.php',104],['lib/zend/Zend/Gdata/Photos/Extension','Rotation.php',51],['lib/phpexcel/PHPExcel/Worksheet','RowDimension.php',89],['lib/editor/tinymce/classes','plugin.php',49],['question/type/calculatedsimple','edit_calculatedsimple_form.php',72],['lib/zend/Zend/XmlRpc/Value','Integer.php',40],['lib/zend/Zend/Validate/File','Upload.php',74],['lib/phpexcel/PHPExcel/Shared/trend','polynomialBestFitClass.php',201],['admin/roles/classes','capability_table_with_risks.php',46],['lib/zend/Zend/Gdata/Extension','EntryLink.php',52],['question/type','questiontypebase.php',55],['question/type','questiontypebase.php',1442],['lib','outputrequirementslib.php',166],['lib/google/src/Google/Service','Appsactivity.php',49],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',100],['lib/zend/Zend/Loader','Autoloader.php',446],['lib/horde/framework/Horde/Support','CombineStream.php',29],['lib/zend/Zend/Gdata','Docs.php',87],['lib/alfresco/Service/Logger','Logger.php',27],['lib/zend/Zend/Gdata/App/Extension','Logo.php',43],['lib/dml','pgsql_native_moodle_recordset.php',44],['backup/cc/cc_lib','cc_version11.php',57],['lib','weblib.php',315],['lib','weblib.php',3025],['lib','weblib.php',3325],['lib','weblib.php',3360],['lib','weblib.php',3435],['backup/cc/cc_lib','xmlbase.php',52],['backup/cc/cc_lib','cc_organization.php',47],['backup/cc/cc_lib','cc_organization.php',145],['mod/lesson','locallib.php',2007],['mod/lesson','locallib.php',2602],['lib/zend/Zend/Service/LiveDocx','MailMerge.php',61],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',101],['lib/zend/Zend/Server/Reflection','ReturnValue.php',47],['lib/minify/lib/Minify','Build.php',77],['lib/horde/framework/Horde','Variables.php',60],['auth/cas/CAS/CAS','ProxyChain.php',48],['lib/phpexcel/PHPExcel','NamedRange.php',73],['lib/zend/Zend/Gdata/Extension','OpenSearchStartIndex.php',44],['lib/horde/framework/Horde/Imap/Client/Password','Xoauth2.php',44],['lib/zend/Zend/Service/Amazon','OfferSet.php',79],['grade/export/txt','grade_export_txt.php',27],['admin/roles/classes','allow_override_page.php',31],['lib/lessphp/Tree','Assignment.php',15],['lib/zend/Zend/Gdata/Books/Extension','ThumbnailLink.php',42],['lib/zend/Zend/Gdata/YouTube/Extension','Uploaded.php',44],['lib/zend/Zend/Gdata/Extension','AttendeeStatus.php',44],['lib/tcpdf/include/barcodes','qrcode.php',631],['lib/zend/Zend/Gdata/Photos/Extension','Weight.php',51],['enrol','locallib.php',125],['enrol','locallib.php',1240],['enrol','locallib.php',1363],['enrol','locallib.php',1414],['enrol','locallib.php',1447],['lib/lessphp/Visitor','toCSS.php',13],['question/classes/statistics/questions','calculator.php',66],['mod/forum','locallib.php',55],['mod/forum','locallib.php',419],['backup/util/helper','restore_prechecks_helper.class.php',213],['grade/edit/tree','lib.php',57],['grade/edit/tree','lib.php',605],['grade/edit/tree','lib.php',638],['grade/edit/tree','lib.php',804],['lib/zend/Zend/Gdata','Geo.php',56],['lib/zend/Zend/Gdata/Books','CollectionFeed.php',41],['lib/classes','string_manager_standard.php',53],['backup/util/loggers','base_logger.class.php',42],['backup/util/loggers','base_logger.class.php',163],['admin/tool/installaddon/classes','validator.php',223],['admin/tool/generator/classes','backend.php',84],['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedAccessSignature.php',53],['lib/zend/Zend/Gdata/Spreadsheets/Extension','Custom.php',49],['availability/condition/completion/classes','condition.php',48],['question/classes/statistics/questions','calculated.php',181],['lib/lessphp/Tree','Javascript.php',20],['mod/quiz','locallib.php',1898],['lib/phpexcel/PHPExcel/Worksheet','ColumnDimension.php',89],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',62],['lib/zend/Zend/Gdata/DublinCore/Extension','Date.php',45],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',27],['lib/zend/Zend/Loader','PluginLoader.php',95],['lib/zend/Zend/Gdata/YouTube/Extension','Description.php',44],['lib/horde/framework/Horde/Imap/Client/Interaction','Command.php',72],['lib/zend/Zend/Gdata/App/Extension','Generator.php',45],['lib/zend/Zend/Gdata/DublinCore/Extension','Rights.php',44],['lib/phpexcel/PHPExcel/Style','Conditional.php',93],['repository/skydrive','lib.php',42],['lib/google/src/Google/Service','SQLAdmin.php',48],['lib/zend/Zend/Gdata/YouTube/Extension','NoEmbed.php',44],['lib/zend/Zend/Gdata/Exif/Extension','ImageUniqueId.php',49],['lib/simplepie/library/SimplePie','Item.php',82],['lib/phpexcel/PHPExcel/Writer/PDF','Core.php',214],['lib/zend/Zend/Validate/File','IsImage.php',53],['lib/zend/Zend/Date','Exception.php',39],['lib/zend/Zend/Amf/Adobe','Introspector.php',65],['lib/htmlpurifier/HTMLPurifier','URIParser.php',10],['lib/zend/Zend/Service','ReCaptcha.php',117],['lib/zend/Zend/Gdata/Health','ProfileEntry.php',61],['lib/zend/Zend/Server/Reflection','Prototype.php',45],['admin/roles/classes','allow_switch_page.php',33],['backup/util/helper','restore_logs_processor.class.php',45],['backup/util/helper','restore_logs_processor.class.php',140],['lib/google/src/Google/Service','Fitness.php',57],['filter/emoticon/tests','filter_test.php',68],['backup/util/helper','convert_helper.class.php',378],['backup/util/ui','restore_ui_stage.class.php',42],['backup/util/ui','restore_ui_stage.class.php',265],['backup/util/ui','restore_ui_stage.class.php',452],['backup/util/ui','restore_ui_stage.class.php',592],['backup/util/ui','restore_ui_stage.class.php',704],['backup/util/ui','restore_ui_stage.class.php',852],['backup/util/ui','restore_ui_stage.class.php',959],['backup/util/ui','restore_ui_stage.class.php',1100],['repository/webdav','lib.php',38],['repository/dropbox','locallib.php',46],['lib/lessphp/Exception','Parser.php',30],['lib/filestorage','tgz_packer.php',726],['lib/filestorage','tgz_packer.php',808],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','URI.php',15],['backup/converter/moodle1','lib.php',725],['backup/converter/moodle1','lib.php',865],['backup/converter/moodle1','lib.php',1145],['backup/converter/moodle1','lib.php',1190],['backup/converter/moodle1','lib.php',1480],['lib/classes/output','mustache_javascript_helper.php',40],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',58],['lib/zend/Zend/Gdata/YouTube/Extension','FirstName.php',44],['lib/zend/Zend/Service/WindowsAzure/Storage','Queue.php',83],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',32],['lib/zend/Zend/Gdata/Media/Extension','MediaDescription.php',53],['lib/google/src/Google/Service','TagManager.php',66],['lib/zend/Zend/Server','Abstract.php',89],['cache/classes','config.php',80],['lib/htmlpurifier/HTMLPurifier','Generator.php',67],['lib','outputcomponents.php',80],['lib','outputcomponents.php',204],['lib','outputcomponents.php',469],['lib','outputcomponents.php',523],['lib','outputcomponents.php',579],['lib','outputcomponents.php',655],['lib','outputcomponents.php',773],['lib','outputcomponents.php',915],['lib','outputcomponents.php',999],['lib','outputcomponents.php',2178],['lib','outputcomponents.php',2217],['lib','outputcomponents.php',2290],['lib','outputcomponents.php',2371],['lib','outputcomponents.php',2574],['lib','outputcomponents.php',2622],['lib','outputcomponents.php',2682],['lib','outputcomponents.php',2855],['lib','outputcomponents.php',3025],['lib','outputcomponents.php',3129],['lib','outputcomponents.php',3196],['lib','outputcomponents.php',3324],['lib','outputcomponents.php',3608],['lib','outputcomponents.php',3637],['lib','outputcomponents.php',3663],['lib','outputcomponents.php',3685],['lib','outputcomponents.php',3714],['lib','outputcomponents.php',3746],['lib/zend/Zend/Validate/Barcode','Code25.php',53],['lib/zend/Zend/Gdata/YouTube','CommentFeed.php',53],['lib/dtl','string_xml_database_importer.php',34],['question/engine','questionattemptstep.php',97],['question/engine','questionattemptstep.php',608],['lib/htmlpurifier/HTMLPurifier/Node','Element.php',39],['lib/simplepie/library/SimplePie','Cache.php',69],['backup/util/ui','renderer.php',813],['grade/export/xls','grade_export_xls.php',24],['lib/google/src/Google/Service','Directory.php',110],['lib/zend/Zend/Gdata/YouTube/Extension','State.php',47],['lib/phpexcel/PHPExcel/Style','Alignment.php',97],['mod/quiz/report/statistics','statistics_table.php',45],['backup/util/structure','base_nested_element.class.php',44],['backup/util/structure','base_nested_element.class.php',258],['lib/zend/Zend/Gdata/DublinCore/Extension','Title.php',44],['lib/htmlpurifier/HTMLPurifier','Config.php',100],['lib/zend/Zend/Validate/Barcode','Code93.php',67],['lib/lessphp','Functions.php',15],['lib/adodb/drivers','adodb-postgres7.inc.php',78],['lib/adodb/drivers','adodb-postgres7.inc.php',273],['lib/adodb/drivers','adodb-postgres7.inc.php',304],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetRunningConferenceRequest.php',46],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceRequest.php',74],['lib/zend/Zend/Validate','EmailAddress.php',118],['mod/workshop','locallib.php',178],['mod/workshop','locallib.php',2801],['mod/workshop','locallib.php',3236],['mod/workshop','locallib.php',3472],['mod/workshop','locallib.php',3714],['mod/workshop','locallib.php',3800],['mod/workshop','locallib.php',3885],['mod/workshop','locallib.php',3904],['lib/zend/Zend/XmlRpc/Value','Struct.php',39],['lib/zend/Zend/Gdata/Books/Extension','Embeddability.php',45],['lib/horde/framework/Horde/Mime','Mdn.php',35],['cache/stores/static','lib.php',127],['lib','blocklib.php',54],['lib','blocklib.php',152],['lib/zend/Zend/Gdata/Books/Extension','Review.php',46],['lib','componentlib.class.php',597],['lib','componentlib.class.php',821],['lib/zend/Zend/Validate/Barcode','Code39.php',66],['lib/filebrowser','file_info_context_module.php',47],['lib/phpexcel/PHPExcel/Shared/JAMA','CholeskyDecomposition.php',42],['question/engine','states.php',61],['lib/jabber/XMPP','XMLStream.php',171],['lib/jabber/XMPP','XMPP.php',101],['lib/classes/lock','lock_factory.php',39],['lib/tests','collator_test.php',310],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportPop3.php',26],['course/format','lib.php',78],['lib/ddl','sql_generator.php',175],['lib/zend/Zend/XmlRpc/Generator','GeneratorAbstract.php',35],['mod/quiz','accessmanager.php',45],['lib/zend/Zend/Amf/Value','TraitsInfo.php',53],['admin/tool/monitor/classes/output/managesubs','subs.php',51],['lib/zend/Zend/Service/Nirvanix','Response.php',43],['lib','boxlib.php',293],['repository/flickr_public','image.php',34],['lib/google/src/Google/Service','AppState.php',40],['backup/util/structure','backup_nested_element.class.php',44],['lib/filestorage','zip_archive.php',66],['lib/google/src/Google/Service','Taskqueue.php',44],['lib/zend/Zend/Server/Method','Prototype.php',49],['lib/zend/Zend/Service/Technorati','Author.php',90],['mod/workshop/form/comments','lib.php',99],['lib/phpexcel/PHPExcel/RichText','Run.php',43],['lib/phpexcel/PHPExcel/Chart','DataSeriesValues.php',89],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',32],['lib/phpexcel/PHPExcel/Writer/Excel2007','WriterPart.php',69],['lib/zend/Zend/Service/Simpy','WatchlistFilter.php',48],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceRequest.php',46],['lib/zend/Zend/Gdata/Photos','UserEntry.php',131],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',33],['lib/zend/Zend/Gdata/Spreadsheets','ListFeed.php',54],['lib/phpexcel/PHPExcel','DocumentProperties.php',131],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',62],['lib/lessphp/Tree','Paren.php',14],['lib/zend/Zend/Gdata/Photos/Extension','Thumbnail.php',50],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',62],['admin/tool/customlang','locallib.php',44],['admin/tool/customlang','locallib.php',405],['admin/tool/customlang','locallib.php',471],['backup/util/xml/parser/processors','selective_like_parser_processor.class.php',35],['lib/filebrowser','file_info_context_user.php',39],['lib/google/src/Google/Service','CivicInfo.php',40],['lib/zend/Zend/Gdata/YouTube/Extension','Private.php',44],['lib/zend/Zend/Gdata/YouTube/Extension','Music.php',44],['backup/moodle2','restore_block_task.class.php',45],['lib/zend/Zend','Gdata.php',99],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Number.php',18],['lib/simplepie','moodle_simplepie.php',50],['lib/simplepie','moodle_simplepie.php',121],['lib/phpunit/classes','hint_resultprinter.php',37],['backup/util/plan','restore_plan.class.php',43],['backup/util/plan','restore_plan.class.php',203],['admin/roles/classes','capability_table_base.php',51],['lib/htmlpurifier/HTMLPurifier','Lexer.php',152],['lib/google/src/Google/Service','Container.php',44],['lib/zend/Zend/Service/Simpy','TagSet.php',47],['lib/phpexcel/PHPExcel/Chart','Legend.php',82],['question/type/calculated/tests','helper.php',205],['lib/phpexcel/PHPExcel/Reader','CSV.php',103],['availability/classes','result.php',46],['lib/zend/Zend/XmlRpc/Value','Double.php',40],['backup/util/helper','restore_users_parser_processor.class.php',43],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',31],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',462],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',1700],['lib/horde/framework/Horde/Mime','Related.php',32],['report/log/classes','renderable.php',93],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',59],['lib/phpexcel/PHPExcel/Style','Font.php',108],['lib/htmlpurifier/HTMLPurifier/ChildDef','Table.php',57],['backup/util/settings/activity','activity_backup_setting.class.php',25],['lib/mustache/src/Mustache/Exception','UnknownHelperException.php',22],['course/tests/fixtures','course_capability_assignment.php',60],['lib/zend/Zend/Service/Amazon','ResultSet.php',68],['lib/zend/Zend/Validate','Callback.php',69],['lib/zend/Zend/Gdata/Books','CollectionEntry.php',41],['lib/zend/Zend/Gdata/DublinCore/Extension','Publisher.php',44],['lib/zend/Zend/Gdata/Spreadsheets','WorksheetEntry.php',56],['badges/lib','bakerlib.php',52],['backup/util/xml','xml_writer.class.php',57],['backup/util/xml','xml_writer.class.php',284],['lib/portfolio','caller.php',67],['lib/zend/Zend/Validate/File','Sha1.php',60],['lib/htmlpurifier/HTMLPurifier/Strategy','Core.php',8],['lib/zend/Zend/Gdata/Media','Feed.php',58],['lib/zend/Zend/Gdata/YouTube/Extension','LastName.php',44],['mod/data','locallib.php',64],['mod/data','locallib.php',431],['lib/zend/Zend/Gdata/App/Extension','Content.php',44],['lib/classes/update','checker_exception.php',37],['backup/cc/cc_lib','cc_manifest.php',45],['lib','odslib.class.php',42],['lib','odslib.class.php',121],['lib','odslib.class.php',419],['lib','odslib.class.php',824],['lib/zend/Zend/Gdata/Books/Extension','AnnotationLink.php',42],['lib/zend/Zend/Gdata/Calendar/Extension','Color.php',46],['backup/util/helper','restore_structure_parser_processor.class.php',41],['admin/tool/log/store/standard/classes/log','store.php',37],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',46],['lib/alfresco/Service','Session.php',39],['grade/report/singleview/classes/local/ui','empty_element.php',38],['enrol/database','settingslib.php',34],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',125],['lib/google/src/Google/Service','AndroidPublisher.php',51],['lib/zend/Zend/Service','StrikeIron.php',43],['lib/zend/Zend/Gdata/Books/Extension','InfoLink.php',41],['lib/lessphp/SourceMap','Generator.php',82],['filter/urltolink/tests','filter_test.php',209],['lib/horde/framework/Horde/Socket','Client.php',52],['lib/zend/Zend/Service/Amazon','Item.php',112],['repository','lib.php',116],['repository','lib.php',533],['admin/roles/classes','define_role_table_basic.php',31],['lib/phpexcel/PHPExcel','WorksheetIterator.php',54],['lib/zend/Zend/Gdata/Photos/Extension','NumPhotosRemaining.php',50],['mod/quiz','attemptlib.php',41],['mod/quiz','attemptlib.php',82],['mod/quiz','attemptlib.php',505],['mod/quiz','attemptlib.php',2058],['mod/quiz','attemptlib.php',2113],['lib/zend/Zend/Server/Reflection','Node.php',51],['lib/zend/Zend/Gdata/Media/Extension','MediaTitle.php',49],['lib/zend/Zend','Date.php',123],['lib/zend/Zend','Mime.php',290],['lib','accesslib.php',5301],['lib','accesslib.php',5846],['lib','accesslib.php',6116],['lib','accesslib.php',6357],['lib','accesslib.php',6544],['lib','accesslib.php',6776],['lib','accesslib.php',6998],['lib','accesslib.php',7240],['question/engine/tests','helpers.php',582],['question/engine/tests','helpers.php',594],['question/engine/tests','helpers.php',608],['question/engine/tests','helpers.php',623],['question/engine/tests','helpers.php',637],['question/engine/tests','helpers.php',652],['question/engine/tests','helpers.php',665],['question/engine/tests','helpers.php',676],['question/engine/tests','helpers.php',1180],['lib/zend/Zend/Validate','Ccnum.php',62],['lib/zend/Zend/Gdata/Extension','EventStatus.php',44],['lib/google/src/Google/Verifier','Pem.php',29],['lib/zend/Zend/Service/Technorati','BlogInfoResult.php',74],['admin/tool/log/classes','setting_managestores.php',30],['lib','outputactions.php',60],['lib','outputactions.php',91],['lib','outputactions.php',148],['backup/cc/cc_lib','cc_assesment_truefalse.php',27],['backup/util/ui','restore_moodleform.class.php',34],['grade/report/singleview/classes/local/ui','element.php',47],['mod/quiz/report','attemptsreport_table.php',76],['lib/lessphp/Tree','Attribute.php',16],['lib/phpexcel/PHPExcel/Style','Supervisor.php',52],['lib/zend/Zend/Gdata/Media/Extension','MediaCategory.php',50],['lib/google/src/Google/Service','AdSenseHost.php',49],['lib/zend/Zend/Gdata/Photos/Extension','Checksum.php',51],['lib/lessphp/Tree','Expression.php',16],['mod/workshop','fileinfolib.php',43],['mod/workshop','fileinfolib.php',198],['course/format','renderer.php',44],['lib/zend/Zend/XmlRpc/Value','Boolean.php',40],['blocks/rss_client','editfeed.php',36],['lib/phpexcel/PHPExcel/Worksheet','Protection.php',157],['question/type/numerical','question.php',321],['auth/cas/CAS/CAS/ProxiedService','Imap.php',51],['lib/typo3','class.t3lib_cs.php',509],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',110],['lib/zend/Zend/Gdata/Health','ProfileListEntry.php',49],['lib/htmlpurifier/HTMLPurifier/Filter','ExtractStyleBlocks.php',57],['cache/stores/memcache','lib.php',120],['lib/htmlpurifier/HTMLPurifier/AttrDef','Switch.php',29],['lib/zend/Zend/Gdata/Calendar/Extension','WebContent.php',47],['lib/zend/Zend/Gdata/Photos/Extension','Id.php',50],['lib/google/src/Google/Service','Games.php',60],['lib/zend/Zend/Validate/File','Size.php',92],['lib/classes/lock','file_lock_factory.php',57],['lib/htmlpurifier/HTMLPurifier/AttrTransform','SafeParam.php',27],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',64],['lib','filelib.php',2700],['lib','filelib.php',3560],['lib/classes/session','database.php',52],['lib/zend/Zend/Gdata/YouTube/Extension','Movies.php',44],['grade','lib.php',103],['grade','lib.php',785],['availability/condition/grouping/classes','condition.php',46],['lib/zend/Zend/Service/Technorati','SearchResult.php',84],['lib/dml','mysqli_native_moodle_recordset.php',42],['lib/zend/Zend/XmlRpc','Server.php',186],['mod/assign/feedback/editpdf/classes','annotation.php',66],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',30],['lib/htmlpurifier','HTMLPurifier.php',104],['lib/zend/Zend/Gdata/Media/Extension','MediaPlayer.php',59],['lib/phpexcel/PHPExcel','Cell.php',122],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',248],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Percentage.php',18],['lib','oauthlib.php',65],['lib','oauthlib.php',409],['backup/util/helper','restore_log_rule.class.php',62],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',108],['lib/zend/Zend/Server/Reflection','Class.php',66],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Font.php',22],['mnet/service/enrol','locallib.php',48],['mnet/service/enrol','locallib.php',466],['mnet/service/enrol','locallib.php',537],['repository/flickr','lib.php',51],['lib','csvlib.class.php',64],['lib','csvlib.class.php',398],['lib/google/src/Google/Service','MapsEngine.php',66],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',87],['lib/filestorage','tgz_extractor.php',119],['lib/zend/Zend/Soap','Client.php',142],['lib/zend/Zend/Gdata/Calendar/Extension','Hidden.php',45],['cache/classes','factory.php',149],['lib/zend/Zend/Gdata/Media/Extension','MediaCredit.php',54],['course','dnduploadlib.php',109],['course','dnduploadlib.php',407],['mod/lti/classes/local/ltiservice','resource_base.php',62],['lib/zend/Zend/Http','Response.php',132],['lib/horde/framework/Horde/Imap/Client','Exception.php',247],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceListRequest.php',63],['backup/util/ui','backup_moodleform.class.php',41],['lib/phpexcel/PHPExcel/Chart','Layout.php',143],['comment','lib.php',100],['lib/phpexcel','PHPExcel.php',354],['grade/export/ods','grade_export_ods.php',24],['auth/cas/CAS/CAS','ProxyTicketException.php',46],['lib/minify/lib','JSMinPlus.php',193],['lib/minify/lib','JSMinPlus.php',726],['lib/minify/lib','JSMinPlus.php',1638],['lib/minify/lib','JSMinPlus.php',1656],['lib/minify/lib','JSMinPlus.php',1748],['lib/zend/Zend/Gdata/YouTube/Extension','Location.php',44],['lib/lessphp/Tree','Dimension.php',15],['lib/phpexcel/PHPExcel/Worksheet','Row.php',54],['lib/phpexcel/PHPExcel/Writer','HTML.php',135],['lib/zend/Zend/Service/Technorati','TagsResultSet.php',41],['backup/moodle2','backup_theme_plugin.class.php',61],['lib/zend/Zend/Gdata','Extension.php',43],['lib/htmlpurifier/HTMLPurifier/ChildDef','Custom.php',36],['lib/google/src/Google/Service','SiteVerification.php',43],['lib/htmlpurifier/HTMLPurifier/Token','Text.php',34],['mod/forum/classes','subscriber_selector_base.php',53],['lib/zend/Zend','Auth.php',45],['lib/phpexcel/PHPExcel/Style','Borders.php',121],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CreateConferenceRequest.php',67],['lib/zend/Zend/Gdata/Calendar','ListFeed.php',54],['lib/zend/Zend/Gdata/Extension','Visibility.php',44],['webservice/xmlrpc','lib.php',42],['lib/phpexcel/PHPExcel/CachedObjectStorage','CacheBase.php',76],['lib/zend/Zend/Gdata/App','MediaEntry.php',57],['lib/horde/framework/Horde/Mime','Part.php',261],['backup/util/ui','backup_ui_stage.class.php',43],['backup/util/ui','backup_ui_stage.class.php',79],['backup/util/ui','backup_ui_stage.class.php',234],['backup/util/ui','backup_ui_stage.class.php',387],['backup/util/ui','backup_ui_stage.class.php',516],['backup/util/ui','backup_ui_stage.class.php',575],['question/classes/engine/variants','least_used_strategy.php',51],['lib/horde/framework/Horde/Support','Array.php',21],['lib/zend/Zend/Gdata/YouTube/Extension','Statistics.php',93],['lib/zend/Zend/Gdata/Photos/Extension','BytesUsed.php',50],['lib','tablelib.php',127],['lib','tablelib.php',1400],['lib','tablelib.php',1723],['lib/zend/Zend/Gdata/App/Extension','Uri.php',43],['backup/util/plan','backup_task.class.php',32],['backup/util/plan','backup_task.class.php',56],['lib/zend/Zend/Gdata/Media/Extension','MediaCopyright.php',53],['lib/zend/Zend/Gdata/DublinCore/Extension','Identifier.php',44],['backup/util/xml/parser/processors','findpaths_parser_processor.class.php',35],['lib/zend/Zend/Gdata/Gbase','Feed.php',49],['availability/condition/date/classes','condition.php',52],['backup/util/helper','restore_moodlexml_parser_processor.class.php',38],['admin/tool/generator/classes','course_backend.php',116],['lib/google/src/Google/Service','Prediction.php',51],['cache/stores/session','lib.php',131],['cache/classes','dummystore.php',62],['lib/zend/Zend/XmlRpc/Server','System.php',39],['lib/zend/Zend/Service/WindowsAzure/Storage','TableInstance.php',50],['backup/util/settings/course','course_backup_setting.class.php',25],['mod/quiz/classes/question','qubaids_for_users_attempts.php',37],['mod/lesson','override_form.php',58],['lib/zend/Zend/Service/Simpy','WatchlistSet.php',47],['lib/google/src/Google/Service','Compute.php',78],['badges/criteria','award_criteria.php',127],['lib/zend/Zend/Gdata/Calendar/Extension','Selected.php',45],['lib/minify/lib/Minify/Cache','ZendPlatform.php',23],['lib/zend/Zend/Validate','PostCode.php',65],['lib/dml','oci_native_moodle_temptables.php',40],['lib/zend/Zend/Gdata/Photos/Extension','CommentingEnabled.php',51],['lib/simplepie/library/SimplePie','Category.php',81],['auth/cas/CAS/CAS','CookieJar.php',46],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',45],['backup/util/ui','backup_ui_setting.class.php',70],['backup/util/ui','backup_ui_setting.class.php',200],['backup/util/ui','backup_ui_setting.class.php',398],['backup/util/ui','backup_ui_setting.class.php',504],['backup/util/ui','backup_ui_setting.class.php',583],['user/classes/output/myprofile','category.php',68],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',47],['mod/wiki/parser','parser.php',98],['backup/converter','convertlib.php',52],['backup/converter','convertlib.php',277],['repository/googledocs','lib.php',65],['lib/htmlpurifier/HTMLPurifier','Doctype.php',48],['lib/zend/Zend/Validate/File','Extension.php',71],['mod/imscp','locallib.php',289],['lib/classes/session','memcache.php',50],['lib/horde/framework/Horde/Imap/Client','Cache.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ImportantDecorator.php',21],['lib/zend/Zend/Service','Simpy.php',53],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',91],['lib/zend/Zend/Gdata/Gapps','EmailListRecipientQuery.php',54],['lib/zend/Zend/Gdata/YouTube','PlaylistVideoEntry.php',55],['lib/zend/Zend/Gdata/Photos','CommentEntry.php',85],['lib/horde/framework/Horde/Exception','PermissionDenied.php',15],['lib/zend/Zend/Gdata/YouTube','InboxEntry.php',92],['lib/jabber/XMPP','XMPP_Old.php',45],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',27],['backup/cc/cc_lib','cc_converter_label.php',28],['lib/phpexcel/PHPExcel/Style','Border.php',75],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateParticipantRequest.php',53],['enrol/manual','locallib.php',37],['enrol/manual','locallib.php',102],['admin/tool/assignmentupgrade','locallib.php',50],['admin/tool/assignmentupgrade','locallib.php',93],['lib/zend/Zend/Gdata/Exif/Extension','Distance.php',49],['lib/phpexcel/PHPExcel/Writer','PDF.php',46],['lib/zend/Zend/Gdata/Photos/Extension','Size.php',50],['lib/google/src/Google/Service','CloudMonitoring.php',42],['backup/util/xml/output','memory_xml_output.class.php',37],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',41],['lib/simplepie/library/SimplePie','Credit.php',81],['lib/zend/Zend/Service','Delicious.php',112],['lib/bennu','iCalendar_components.php',21],['lib/bennu','iCalendar_components.php',333],['lib/bennu','iCalendar_components.php',355],['lib/bennu','iCalendar_components.php',433],['lib/bennu','iCalendar_components.php',513],['lib/bennu','iCalendar_components.php',551],['lib/bennu','iCalendar_components.php',602],['lib/bennu','iCalendar_components.php',659],['lib/bennu','iCalendar_components.php',679],['lib','outputrenderers.php',117],['lib','outputrenderers.php',282],['lib','outputrenderers.php',405],['lib','outputrenderers.php',4280],['lib','outputrenderers.php',4533],['lib/zend/Zend/Service/Amazon','ListmaniaList.php',44],['lib/zend/Zend/Service','Flickr.php',54],['backup/util/helper','restore_decode_rule.class.php',47],['backup/util/helper','restore_decode_rule.class.php',192],['lib/mustache/src/Mustache/Exception','UnknownFilterException.php',22],['lib/google/src/Google/Logger','File.php',49],['backup','backup.class.php',146],['lib/zend/Zend/Gdata/App/Extension','Updated.php',43],['lib/zend/Zend/Gdata/YouTube','PlaylistVideoFeed.php',55],['auth/cas/CAS/CAS/PGTStorage','Db.php',122],['lib/phpexcel/PHPExcel/Chart','DataSeries.php',137],['lib/zend/Zend/Gdata/Geo','Feed.php',51],['lib/phpexcel/PHPExcel/Shared/trend','logarithmicBestFitClass.php',107],['backup/util/loggers','file_logger.class.php',35],['admin/roles/classes','admins_existing_selector.php',30],['lib/phpexcel/PHPExcel/Shared/JAMA','LUDecomposition.php',57],['lib/zend/Zend/Gdata/Extension','Reminder.php',48],['course/format/topics','renderer.php',38],['mod/lesson/classes','file_info.php',45],['question/type/calculatedmulti','edit_calculatedmulti_form.php',47],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',62],['lib/minify/lib/HTTP','Encoder.php',75],['lib/zend/Zend/Gdata/App/Extension','Name.php',43],['lib/google/src/Google/Service','Calendar.php',50],['question/type','questionbase.php',124],['question/type','questionbase.php',438],['question/type','questionbase.php',531],['question/type','questionbase.php',750],['question/type','questionbase.php',835],['question/type','questionbase.php',868],['question/type','questionbase.php',914],['question/type','questionbase.php',1013],['lib/dml','database_column_info.php',137],['lib/zend/Zend/Gdata/YouTube/Extension','Gender.php',44],['lib/zend/Zend/Service','Yahoo.php',49],['lib/zend/Zend/Service/Amazon','SimilarProduct.php',44],['lib/mustache/src/Mustache/Exception','SyntaxException.php',23],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',21],['lib/horde/framework/Horde','Stream.php',50],['lib/google/src/Google/Service','Analytics.php',76],['lib/horde/framework/Horde/Mail/Transport','Mock.php',76],['lib/xmldb','xmldb_file.php',43],['lib/zend/Zend/Gdata/YouTube','PlaylistListEntry.php',97],['lib/zend/Zend/Service/Amazon/Ec2','Response.php',78],['lib/zend/Zend/Soap/Wsdl/Strategy','Composite.php',60],['lib/google/src/Google/Service','Tasks.php',44],['lib/zend/Zend/XmlRpc','Response.php',68],['lib/horde/framework/Horde/Exception','NotFound.php',15],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',66],['lib/zend/Zend/Gdata/Books','VolumeEntry.php',131],['question','previewlib.php',122],['mod/wiki','renderer.php',537],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',62],['mod/assign','renderable.php',41],['mod/assign','renderable.php',71],['mod/assign','renderable.php',103],['mod/assign','renderable.php',139],['mod/assign','renderable.php',191],['mod/assign','renderable.php',242],['mod/assign','renderable.php',291],['mod/assign','renderable.php',393],['mod/assign','renderable.php',517],['mod/assign','renderable.php',576],['mod/assign','renderable.php',613],['mod/assign','renderable.php',653],['mod/assign','renderable.php',706],['mod/assign','renderable.php',760],['lib/mustache/src/Mustache','Autoloader.php',19],['lib/zend/Zend/Service/DeveloperGarden/Request/SmsValidation','Invalidate.php',46],['lib/zend/Zend/Service/Yahoo','ImageResult.php',97],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooter.php',183],['mod/quiz/classes/question/bank','custom_view.php',44],['lib/htmlpurifier/HTMLPurifier/Token','Tag.php',33],['lib/zend/Zend/Amf/Adobe','Auth.php',56],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','FontFamily.php',11],['auth/cas/CAS/CAS','TypeMismatchException.php',43],['grade/report/singleview/classes/local/screen','screen.php',67],['lib/zend/Zend/Amf/Parse','Deserializer.php',45],['lib/zend/Zend/Service/Delicious','SimplePost.php',56],['lib/zend/Zend/Service/Technorati','ResultSet.php',112],['cache/classes','loaders.php',196],['cache/classes','loaders.php',1211],['cache/classes','loaders.php',1606],['lib/zend/Zend/Gdata/Gbase','Entry.php',62],['lib/zend/Zend/Validate','Identical.php',64],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',65],['cache/stores/mongodb','lib.php',116],['mod/quiz/report/statistics/classes','calculator.php',39],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','FrameTarget.php',19],['lib/zend/Zend/Gdata/App/Extension','Draft.php',44],['enrol/ldap','settingslib.php',32],['enrol/ldap','settingslib.php',90],['enrol/ldap','settingslib.php',204],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceDetail.php',54],['lib/zend/Zend/Service/Yahoo','InlinkDataResult.php',47],['lib/lessphp/Tree','UnicodeDescriptor.php',14],['lib/lessphp/Tree','Directive.php',20],['lib/zend/Zend/Service/Yahoo','VideoResult.php',118],['question/type/calculated','edit_calculated_form.php',51],['lib/classes','string_manager_install.php',43],['lib/google/src/Google/Service','GamesManagement.php',50],['lib/google/src/Google/Logger','Psr.php',37],['grade/report/history/classes/output','user_button.php',40],['lib','externallib.php',129],['lib','externallib.php',426],['lib','externallib.php',457],['lib','externallib.php',488],['lib','externallib.php',517],['lib','externallib.php',649],['lib','externallib.php',684],['lib','externallib.php',782],['backup/util/ui','base_ui_stage.class.php',67],['lib/zend/Zend/Validate','CreditCard.php',136],['lib/zend/Zend/Gdata/Spreadsheets','CellQuery.php',57],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',18],['mod/quiz/accessrule','accessrulebase.php',52],['lib/mustache/src/Mustache','Context.php',20],['lib/zend/Zend/Service/DeveloperGarden/Request/VoiceButler','CallStatus.php',46],['lib/zend/Zend/Gdata/Spreadsheets','CellFeed.php',78],['backup/util/xml/parser/processors','progressive_parser_processor.class.php',57],['lib/lessphp/Tree','Color.php',15],['lib/zend/Zend/Service/StrikeIron','Base.php',56],['lib/zend/Zend/Gdata/Exif/Extension','FStop.php',49],['lib/htmlpurifier/HTMLPurifier/AttrTransform','BoolToCSS.php',24],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',44],['lib/zend/Zend/Service/Simpy','Tag.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',30],['cache/classes','helper.php',90],['lib/zend/Zend/Soap','Wsdl.php',73],['lib/htmlpurifier/HTMLPurifier/Lexer','DOMLex.php',35],['lib/zend/Zend/Validate/Barcode','Code25interleaved.php',53],['webservice/soap','locallib.php',162],['lib/lessphp/Tree','Quoted.php',20],['lib/simplepie/library/SimplePie/Cache','Memcache.php',81],['lib/zend/Zend/Gdata/YouTube','ActivityEntry.php',88],['backup/controller','restore_controller.class.php',63],['backup/controller','restore_controller.class.php',517],['lib/zend/Zend/Service','Audioscrobbler.php',65],['lib/zend/Zend/Service/Flickr','ResultSet.php',82],['lib/mustache/src/Mustache/Logger','StreamLogger.php',44],['lib/zend/Zend/XmlRpc/Request','Stdin.php',47],['lib/zend/Zend/Service/DeveloperGarden/Request/SmsValidation','Validate.php',63],['mod/glossary','locallib.php',481],['lib/google/src/Google/Logger','Abstract.php',121],['lib/horde/framework/Horde/Support','Guid.php',24],['lib/zend/Zend/Http/Client/Adapter','Curl.php',92],['lib/google/src/Google/Service','Oauth2.php',50],['lib/phpmailer','moodle_phpmailer.php',47],['lib/zend/Zend/Validate/Barcode','Intelligentmail.php',47],['repository/skydrive','microsoftliveapi.php',50],['mod/workshop/allocation/manual','lib.php',51],['lib/zend/Zend/Validate/File','Exists.php',62],['lib/xhprof','xhprof_moodle.php',788],['question/classes/bank/search','category_condition.php',60],['lib/markdown','Markdown.php',96],['grade/report/grader','lib.php',104],['lib/zend/Zend/Gdata/YouTube/Extension','Control.php',48],['lib/zend/Zend/Validate','StringLength.php',79],['question/behaviour','behaviourbase.php',50],['backup/cc/cc_lib','cc_converter_forum.php',29],['lib/zend/Zend/Gdata/Photos/Extension','Nickname.php',50],['lib/zend/Zend/Gdata/Exif/Extension','Tags.php',169],['lib/zend/Zend/Uri','Http.php',108],['lib/zend/Zend/Gdata/YouTube/Extension','Hometown.php',44],['cache/stores/file','lib.php',117],['lib/zend/Zend/Service','Amazon.php',75],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',12],['lib/zend/Zend/Gdata/Media/Extension','MediaThumbnail.php',64],['lib/zend/Zend/Service/Yahoo','Image.php',56],['lib/zend/Zend/Gdata','Feed.php',87],['lib/google/src/Google/Service','Storage.php',54],['backup/cc/cc_lib','cc_asssesment.php',290],['backup/cc/cc_lib','cc_asssesment.php',345],['backup/cc/cc_lib','cc_asssesment.php',364],['backup/cc/cc_lib','cc_asssesment.php',415],['backup/cc/cc_lib','cc_asssesment.php',476],['backup/cc/cc_lib','cc_asssesment.php',486],['backup/cc/cc_lib','cc_asssesment.php',561],['backup/cc/cc_lib','cc_asssesment.php',585],['backup/cc/cc_lib','cc_asssesment.php',635],['backup/cc/cc_lib','cc_asssesment.php',668],['backup/cc/cc_lib','cc_asssesment.php',693],['backup/cc/cc_lib','cc_asssesment.php',788],['backup/cc/cc_lib','cc_asssesment.php',814],['backup/cc/cc_lib','cc_asssesment.php',838],['backup/cc/cc_lib','cc_asssesment.php',965],['backup/cc/cc_lib','cc_asssesment.php',971],['backup/cc/cc_lib','cc_asssesment.php',986],['backup/cc/cc_lib','cc_asssesment.php',1003],['backup/cc/cc_lib','cc_asssesment.php',1017],['backup/cc/cc_lib','cc_asssesment.php',1045],['backup/cc/cc_lib','cc_asssesment.php',1186],['backup/cc/cc_lib','cc_asssesment.php',1263],['backup/cc/cc_lib','cc_asssesment.php',1317],['backup/cc/cc_lib','cc_asssesment.php',1389],['backup/cc/cc_lib','cc_asssesment.php',1451],['backup/cc/cc_lib','cc_asssesment.php',1558],['backup/cc/cc_lib','cc_asssesment.php',1620],['backup/cc/cc_lib','cc_asssesment.php',1648],['backup/cc/cc_lib','cc_asssesment.php',1716],['backup/cc/cc_lib','cc_asssesment.php',2155],['backup/cc/cc_lib','cc_asssesment.php',2264],['backup/cc/cc_lib','cc_asssesment.php',2469],['admin/tool/uploadcourse/classes','course.php',111],['lib/zend/Zend/Gdata/Extension','Where.php',52],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ListStyle.php',20],['lib/zend/Zend/Service/Amazon','S3.php',102],['lib/horde/framework/Horde/Stream','Existing.php',28],['backup/util/output','output_controller.class.php',44],['backup/cc/cc_lib','cc_version1.php',57],['question/classes/statistics/responses','analysis_for_question.php',58],['lib/zend/Zend/Service/Simpy','Link.php',104],['backup/converter/moodle1','handlerlib.php',120],['backup/converter/moodle1','handlerlib.php',1710],['backup/converter/moodle1','handlerlib.php',1902],['backup/converter/moodle1','handlerlib.php',2155],['cache','lib.php',66],['cache','lib.php',109],['cache','lib.php',138],['cache','lib.php',183],['lib/zend/Zend/Gdata','Calendar.php',77],['lib/zend/Zend/Validate','Date.php',71],['backup/util/structure','base_atom.class.php',41],['backup/util/structure','base_atom.class.php',114],['backup/util/structure','base_atom.class.php',135],['backup/util/structure','base_atom.class.php',156],['lib/xmldb','xmldb_table.php',49],['lib/htmlpurifier/HTMLPurifier','Encoder.php',10],['backup/cc','cc112moodle.php',59],['lib/zend/Zend/XmlRpc/Client','ServerIntrospection.php',43],['lib/zend/Zend/Gdata/Photos','PhotoFeed.php',147],['backup/controller','backup_controller.class.php',68],['backup/controller','backup_controller.class.php',407],['lib','adminlib.php',792],['lib','adminlib.php',1139],['lib','adminlib.php',1213],['lib','adminlib.php',1356],['lib','adminlib.php',1553],['lib','adminlib.php',1925],['lib','adminlib.php',2037],['lib','adminlib.php',2103],['lib','adminlib.php',2204],['lib','adminlib.php',2246],['lib','adminlib.php',2284],['lib','adminlib.php',2372],['lib','adminlib.php',2406],['lib','adminlib.php',2563],['lib','adminlib.php',2648],['lib','adminlib.php',2877],['lib','adminlib.php',3033],['lib','adminlib.php',3175],['lib','adminlib.php',3266],['lib','adminlib.php',3430],['lib','adminlib.php',3510],['lib','adminlib.php',3621],['lib','adminlib.php',3772],['lib','adminlib.php',4001],['lib','adminlib.php',4068],['lib','adminlib.php',4286],['lib','adminlib.php',4315],['lib','adminlib.php',4344],['lib','adminlib.php',4368],['lib','adminlib.php',4398],['lib','adminlib.php',4434],['lib','adminlib.php',4469],['lib','adminlib.php',4501],['lib','adminlib.php',4591],['lib','adminlib.php',4624],['lib','adminlib.php',4680],['lib','adminlib.php',4704],['lib','adminlib.php',4730],['lib','adminlib.php',4753],['lib','adminlib.php',4770],['lib','adminlib.php',4815],['lib','adminlib.php',4878],['lib','adminlib.php',4913],['lib','adminlib.php',4956],['lib','adminlib.php',5039],['lib','adminlib.php',5169],['lib','adminlib.php',5211],['lib','adminlib.php',5256],['lib','adminlib.php',5313],['lib','adminlib.php',5329],['lib','adminlib.php',5385],['lib','adminlib.php',5610],['lib','adminlib.php',5664],['lib','adminlib.php',5718],['lib','adminlib.php',5735],['lib','adminlib.php',5783],['lib','adminlib.php',5825],['lib','adminlib.php',5876],['lib','adminlib.php',5932],['lib','adminlib.php',6161],['lib','adminlib.php',6341],['lib','adminlib.php',6435],['lib','adminlib.php',6582],['lib','adminlib.php',7206],['lib','adminlib.php',7658],['lib','adminlib.php',7841],['lib','adminlib.php',8128],['lib','adminlib.php',8275],['lib','adminlib.php',8435],['lib','adminlib.php',8582],['lib','adminlib.php',8746],['lib','adminlib.php',8939],['lib','adminlib.php',8993],['lib','adminlib.php',9055],['lib','adminlib.php',9100],['mod/workshop/eval/best','lib.php',44],['lib/zend/Zend/Gdata/Calendar','EventQuery.php',91],['lib/zend/Zend/Service/Technorati','TagResult.php',94],['lib/google/src/Google/Cache','Null.php',26],['enrol/flatfile','adminlib.php',35],['lib/phpexcel/PHPExcel/Chart','PlotArea.php',52],['mod/quiz/report/statistics','statistics_question_table.php',49],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','AddConferenceTemplateParticipantRequest.php',53],['mod/data','lib.php',66],['mod/data','lib.php',2164],['mod/data','lib.php',2438],['mod/data','lib.php',2459],['question/classes/statistics/questions','calculated_for_subquestion.php',57],['lib/horde/framework/Horde/Crypt/Blowfish','Base.php',56],['lib/classes/session','memcached.php',51],['lib/google/src/Google/IO','Abstract.php',37],['availability/classes','info_section.php',40],['lib/zend/Zend/Gdata/YouTube/Extension','Books.php',44],['lib/phpexcel/PHPExcel/Shared/JAMA','QRDecomposition.php',48],['lib/filestorage','stored_file.php',63],['grade/report/history/classes/output','tablelog.php',72],['lib/classes','plugin_manager.php',71],['lib/google/src/Google','Model.php',32],['lib/zend/Zend/Gdata/YouTube/Extension','Relationship.php',44],['lib/horde/framework/Horde/Crypt','Blowfish.php',54],['lib/filebrowser','virtual_root_file.php',45],['auth/cas/CAS/CAS','OutOfSequenceBeforeClientException.php',47],['availability/condition/grade/classes','condition.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',188],['admin/roles/classes','check_capability_table.php',40],['lib/zend/Zend/Gdata/Media','Entry.php',60],['lib/zend/Zend/Gdata','MimeFile.php',43],['admin/tool/xmldb/actions','XMLDBAction.class.php',56],['backup/cc/cc_lib','cc_resources.php',102],['lib/zend/Zend/Loader/Autoloader','Resource.php',62],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',80],['backup/util/xml/parser/processors','simplified_parser_processor.class.php',46],['lib/simplepie/library/SimplePie','IRI.php',252],['lib/htmlpurifier/HTMLPurifier','ContentSets.php',33],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',68],['lib/htmlpurifier/HTMLPurifier/Token','Comment.php',19],['lib/zend/Zend/Gdata/Calendar/Extension','SendEventNotifications.php',44],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntity.php',66],['lib/zend/Zend/Service/DeveloperGarden/Request/LocalSearch','LocalSearchRequest.php',60],['mod/quiz/report/overview','overview_table.php',41],['lib/zend/Zend/Gdata/Photos/Extension','Client.php',51],['backup/cc/cc_lib','cc_converters.php',75],['lib/google/src/Google/Service','AdSense.php',68],['lib/zend/Zend/Gdata','Entry.php',48],['lib','filterlib.php',74],['lib','filterlib.php',382],['lib/lessphp/Tree','Alpha.php',13],['lib/zend/Zend/Gdata','DublinCore.php',51],['lib/horde/framework/Horde/Support','Stack.php',18],['lib/lessphp/Tree','Selector.php',31],['lib/zend/Zend/Service','Nirvanix.php',47],['lib/dtl','file_xml_database_importer.php',34],['mod/workshop','mod_form.php',44],['lib/zend/Zend/Service/Technorati','CosmosResultSet.php',73],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',39],['lib/zend/Zend/Gdata/YouTube/Extension','Age.php',44],['repository/s3','S3.php',176],['repository/s3','S3.php',1994],['repository/s3','S3.php',2346],['lib/lessphp/Tree','Ruleset.php',45],['lib/zend/Zend/Service/Simpy','NoteSet.php',47],['backup/util/xml/output','xml_output.class.php',52],['backup/util/xml/output','xml_output.class.php',158],['lib/google/src/Google/Service','Pubsub.php',44],['lib/alfresco/Service','Node.php',51],['lib/zend/Zend/Service','Technorati.php',79],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',39],['admin/tool/monitor/classes','subscription.php',43],['lib/zend/Zend/Gdata/App/Extension','Person.php',61],['backup/moodle2','backup_course_task.class.php',39],['grade/report/singleview/classes/local/ui','text_attribute.php',42],['lib/dml','sqlsrv_native_moodle_recordset.php',40],['lib/zend/Zend/Gdata/YouTube','ContactEntry.php',61],['lib/zend/Zend/Gdata/Extension','AttendeeType.php',44],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',17],['mod/assignment/backup/moodle1','lib.php',223],['lib/zend/Zend/Gdata/Health/Extension','Ccr.php',43],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',34],['mod/quiz','mod_form.php',48],['backup/util/structure','restore_path_element.class.php',47],['backup/util/structure','restore_path_element.class.php',128],['lib/zend/Zend/Gdata/Calendar','EventFeed.php',55],['lib/zend/Zend/Gdata/Spreadsheets','DocumentQuery.php',57],['availability/tests/fixtures','mock_condition.php',52],['lib/lessphp','Visitor.php',14],['mod/assign/feedback/editpdf/classes','widget.php',53],['lib/minify/lib/Minify/Cache','File.php',9],['lib/zend/Zend/Gdata/Exif','Entry.php',64],['grade/tests','reportlib_test.php',36],['mod/workshop/allocation','lib.php',103],['lib/zend/Zend/Service/WindowsAzure/Storage','BlobInstance.php',57],['lib/zend/Zend/Gdata/Photos/Extension','User.php',50],['admin/tool/uploadcourse/classes','tracker.php',72],['lib/zend/Zend/Service/Technorati','GetInfoResult.php',52],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',61],['lib/zend/Zend/Gdata/YouTube/Extension','Hobbies.php',44],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',31],['lib/zend/Zend/Gdata/Photos/Extension','Width.php',50],['admin/roles/classes','view_role_definition_table.php',28],['lib/phpunit/classes','arraydataset.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Sync.php',133],['lib/zend/Zend','Exception.php',34],['backup/util/xml/parser/tests','parser_test.php',797],['lib/zend/Zend/Validate/File','ImageSize.php',113],['lib/zend/Zend/Validate','Alnum.php',65],['lib/zend/Zend/Service/Flickr','Image.php',62],['lib/phpexcel/PHPExcel/Calculation','Function.php',71],['lib/horde/framework/Horde/Support','Inflector.php',115],['lib/horde/framework/Horde/Exception','Pear.php',22],['question/classes/bank','random_question_loader.php',61],['lib/phpexcel/PHPExcel/Reader','HTML.php',104],['lib/mustache/src/Mustache/Loader','InlineLoader.php',57],['lib/zend/Zend/Gdata/Photos/Extension','QuotaLimit.php',51],['admin/tool/uploadcourse/classes','processor.php',122],['lib/zend/Zend/Gdata/Spreadsheets','WorksheetFeed.php',40],['lib/lessphp/Tree','Rule.php',24],['lib/zend/Zend/Service/Amazon','EditorialReview.php',44],['lib/zend/Zend/Service/ReCaptcha','MailHide.php',86],['lib/htmlpurifier/HTMLPurifier/AttrTransform','NameSync.php',11],['lib/classes/progress','display_if_slow.php',60],['availability/condition/group/classes','condition.php',43],['lib/zend/Zend/Gdata/Photos/Extension','Location.php',50],['backup/moodle2','restore_settingslib.php',125],['lib/filebrowser','file_info.php',43],['repository/equella','lib.php',42],['lib/zend/Zend/Http','Client.php',242],['lib/alfresco/Service','ChildAssociation.php',30],['lib/zend/Zend/Gdata/DublinCore/Extension','Subject.php',44],['lib/zend/Zend/Gdata/App/Extension','Category.php',46],['badges/lib','awardlib.php',55],['admin/roles/classes','override_permissions_table_advanced.php',31],['lib/mustache/src/Mustache','Template.php',29],['backup/util/helper','restore_roles_parser_processor.class.php',39],['lib','csslib.php',1501],['lib','csslib.php',1587],['lib','csslib.php',2068],['lib','csslib.php',2136],['lib','csslib.php',2242],['lib/zend/Zend/Service/WindowsAzure/Storage','QueueInstance.php',49],['mod/lti/service/toolproxy/classes/local/service','toolproxy.php',41],['admin/roles/classes','define_role_table_advanced.php',46],['backup/moodle2','restore_section_task.class.php',42],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',44],['lib/google/src/Google','Client.php',71],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',69],['backup/moodle2','restore_plugin.class.php',43],['lib/simplepie/library/SimplePie','Registry.php',99],['backup/cc','cc2moodle.php',105],['lib/classes/lock','postgres_lock_factory.php',81],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',56],['lib/htmlpurifier/HTMLPurifier','Length.php',41],['lib/zend/Zend/Validate/File','Count.php',92],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',54],['lib/editor/atto','adminlib.php',109],['lib/google/src/Google/Service','Admin.php',40],['lib/dml','moodle_transaction.php',40],['backup/util/plan','restore_structure_step.class.php',46],['question/engine','questionattempt.php',166],['question/engine','questionattempt.php',1513],['question/engine','questionattempt.php',1599],['question/engine','questionattempt.php',1684],['lib/zend/Zend/Service/Technorati','Weblog.php',152],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantStatus.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',23],['backup/util/helper','restore_decode_content.class.php',50],['backup/util/helper','restore_decode_content.class.php',125],['lib/google/src/Google/Cache','File.php',39],['lib/google/src/Google/Http','Request.php',55],['backup/moodle2','backup_block_task.class.php',43],['lib/simplepie/library/SimplePie','Source.php',61],['lib/google/src/Google/Service','Translate.php',40],['availability/classes','capability_checker.php',49],['lib','navigationlib.php',145],['lib','navigationlib.php',1012],['lib','navigationlib.php',2814],['lib','navigationlib.php',3075],['lib','navigationlib.php',3409],['lib','navigationlib.php',4775],['lib','navigationlib.php',4956],['lib/zend/Zend/Gdata/YouTube/Extension','MediaCredit.php',64],['lib/dml','pdo_moodle_database.php',42],['lib/zend/Zend/Gdata/YouTube/Extension','ReleaseDate.php',44],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',40],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',221],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','NewParticipantRequest.php',53],['lib/zend/Zend/Gdata/Spreadsheets/Extension','RowCount.php',49],['lib/zend/Zend/Validate/File','IsCompressed.php',53],['lib/zend/Zend/Gdata/Photos/Extension','MaxPhotosPerAlbum.php',51],['lib/zend/Zend/Gdata/Extension','When.php',52],['question/classes/bank/search','hidden_condition.php',42],['report/loglive/classes','renderable.php',73],['mod/lti/classes/local/ltiservice','response.php',58],['lib/zend/Zend/Gdata/Extension','Recurrence.php',43],['lib/zend/Zend/Gdata/Books/Extension','BooksLink.php',41],['backup/util/loggers','database_logger.class.php',40],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',250],['lib/phpexcel/PHPExcel','HashTable.php',52],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',34],['lib/htmlpurifier/HTMLPurifier','Zipper.php',25],['lib/classes/update','deployer.php',42],['lib/zend/Zend/Gdata/YouTube','VideoFeed.php',53],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','GetQuotaInformation.php',40],['lib/minify/lib','CSSmin.php',43],['lib/zend/Zend/Validate/File','Crc32.php',60],['mod/feedback/item','feedback_item_class.php',20],['question/engine/upgrade','upgradelib.php',280],['question/engine/upgrade','upgradelib.php',381],['lib/simplepie/library/SimplePie','Copyright.php',73],['lib/zend/Zend/Gdata/Spreadsheets','SpreadsheetEntry.php',43],['lib/google/src/Google/Service','Dns.php',50],['lib/zend/Zend/Gdata/Gapps','Query.php',57],['lib/zend/Zend/Gdata/YouTube/Extension','School.php',44],['lib/mustache/src/Mustache','HelperCollection.php',19],['mod/assign','gradingtable.php',68],['backup/util/xml/output','file_xml_output.class.php',37],['lib','upgradelib.php',45],['lib','upgradelib.php',61],['lib','upgradelib.php',76],['lib','upgradelib.php',94],['lib','upgradelib.php',111],['lib/zend/Zend/Service','Akismet.php',77],['lib','googleapi.php',52],['lib','googleapi.php',243],['lib/zend/Zend/Service/Yahoo','ResultSet.php',84],['lib/classes/message/inbound','processing_failed_exception.php',36],['lib','portfoliolib.php',101],['lib/lessphp/Tree','Import.php',30],['lib/phpexcel/PHPExcel/Shared/JAMA','SingularValueDecomposition.php',53],['lib/tests/fixtures','test_renderer_factory.php',41],['mod/lesson','editpage_form.php',41],['grade/report','lib.php',156],['lib/zend/Zend/XmlRpc/Request','Http.php',53],['lib/filebrowser','file_info_stored.php',51],['lib/phpexcel/PHPExcel/Style','Protection.php',57],['lib/google/src/Google','Config.php',30],['lib/horde/framework/Horde/Imap/Client/Exception','ServerResponse.php',44],['lib/zend/Zend/Validate','LessThan.php',58],['grade/export','lib.php',60],['lib/zend/Zend/Gdata/YouTube/Extension','PlaylistTitle.php',44],['availability/classes','tree.php',118],['lib/htmlpurifier/HTMLPurifier/Node','Text.php',35],['question/classes/statistics/responses','analysis_for_subpart.php',50],['lib/zend/Zend/Validate','InArray.php',65],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','BackgroundPosition.php',57],['lib/zend/Zend/Gdata/Photos/Extension','Height.php',50],['lib/zend/Zend/Gdata/Gapps','Error.php',76],['backup/util/helper','restore_decode_processor.class.php',47],['backup/util/helper','restore_decode_processor.class.php',182],['lib/phpexcel/PHPExcel','Chart.php',150],['lib/google/src/Google/Service','Replicapool.php',48],['lib/zend/Zend/Gdata/Media/Extension','MediaRating.php',49],['lib/zend/Zend/Gdata/YouTube','VideoEntry.php',175],['admin/tool/installaddon/classes','pluginfo_client.php',68],['admin/tool/installaddon/classes','pluginfo_client.php',206],['lib/google/src/Google/Service','Resourceviews.php',54],['admin/tool/log/store/legacy/classes/log','store.php',33],['backup/moodle2','backup_section_task.class.php',40],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',68],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',40],['repository/youtube','lib.php',40],['lib/tcpdf/include/barcodes','datamatrix.php',229],['lib/testing/generator','component_generator_base.php',45],['lib/zend/Zend/Gdata/DublinCore/Extension','Format.php',44],['lib','badgeslib.php',133],['admin/tool/installaddon/classes','installer.php',488],['admin/tool/installaddon/classes','installer.php',745],['lib/zend/Zend/XmlRpc','Client.php',122],['lib/mustache/src/Mustache','LambdaHelper.php',24],['admin/roles/classes','permissions_table.php',38],['lib/jabber/XMPP','XMLObj.php',76],['lib','coursecatlib.php',197],['lib','coursecatlib.php',2668],['question/type','edit_question_form.php',96],['lib/zend/Zend/Gdata','MediaMimeStream.php',80],['mod/quiz/report/responses','last_responses_table.php',39],['lib/zend/Zend/Gdata/Photos/Extension','Timestamp.php',51],['lib','setuplib.php',106],['lib','setuplib.php',158],['lib','setuplib.php',174],['lib','setuplib.php',194],['lib','setuplib.php',224],['lib','setuplib.php',246],['lib','setuplib.php',262],['lib','setuplib.php',284],['lib','setuplib.php',303],['lib','setuplib.php',321],['lib/google/src/Google/Cache','Apc.php',35],['mod/lti/service/toolsettings/classes/local/service','toolsettings.php',41],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',57],['lib/lessphp/Tree','Unit.php',16],['lib/zend/Zend/Service/DeveloperGarden/Request/VoiceButler','TearDownCall.php',46],['lib/minify/lib/HTTP','ConditionalGet.php',109],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',261],['lib/htmlpurifier/HTMLPurifier','Printer.php',21],['lib/zend/Zend/Service/Amazon','CustomerReview.php',69],['lib/zend/Zend/Gdata/YouTube/Extension','QueryString.php',44],['lib/zend/Zend/Gdata/Gapps/Extension','Name.php',65],['mod/assign','adminlib.php',41],['mod/assign','adminlib.php',102],['lib/lessphp/Tree','RulesetCall.php',14],['lib/zend/Zend/Gdata/Extension','Rating.php',49],['repository/alfresco','lib.php',42],['lib/zend/Zend/Service/Technorati','SearchResultSet.php',49],['lib/zend/Zend/Gdata/Photos','UserQuery.php',71],['enrol','renderer.php',426],['enrol','renderer.php',728],['badges/criteria','award_criteria_course.php',47],['lib/zend/Zend/Gdata/Extension','RecurrenceException.php',56],['lib/phpexcel/PHPExcel/Style','Fill.php',89],['lib/zend/Zend/Service/Technorati','TagsResult.php',60],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',60],['lib/google/src/Google/Service','Exception.php',12],['lib/zend/Zend/Gdata','Spreadsheets.php',115],['lib/xmldb','xmldb_index.php',56],['question/classes/statistics/responses','analyser.php',69],['lib/htmlpurifier/HTMLPurifier/Node','Comment.php',19],['lib/zend/Zend/Gdata/Photos/Extension','Position.php',50],['lib/google/src/Google/Auth','Simple.php',32],['lib/zend/Zend/Gdata/Geo/Extension','GmlPoint.php',62],['lib/horde/framework/Horde/Crypt/Blowfish/Php','Base.php',318],['lib/horde/framework/Horde/Imap/Client/Cache','Backend.php',33],['lib/zend/Zend/Rest','Route.php',71],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceTemplateParticipantRequest.php',60],['question','category_class.php',58],['lib/classes/progress','display.php',48],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportExtension.php',33],['lib/zend/Zend/Gdata/App/Extension','Rights.php',43],['lib/adodb','adodb-active-record.inc.php',113],['lib/horde/framework/Horde/Exception','Wrapped.php',16],['lib/zend/Zend/Validate','NotEmpty.php',77],['question/type/calculated','datasetitems_form.php',72],['lib/horde/framework/Horde/Support','ObjectStub.php',29],['lib/dml','pdo_moodle_recordset.php',41],['backup/cc/cc_lib','cc_converter_folder.php',28],['lib/horde/framework/Horde/Mime','Mail.php',93],['lib/zend/Zend/Gdata/Calendar','ListEntry.php',85],['admin/tool/monitor/classes','rule.php',44],['backup/cc/cc_lib','cc_utils.php',313],['backup/cc/cc_lib','cc_utils.php',381],['backup/cc/cc_lib','cc_utils.php',437],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',69],['lib/zend/Zend/Gdata/Geo','Entry.php',55],['lib/zend/Zend/Gdata/YouTube/Extension','Link.php',48],['lib','flickrlib.php',53],['lib/zend/Zend/Gdata/YouTube/Extension','AboutMe.php',44],['lib/zend/Zend/Service/DeveloperGarden','Credential.php',54],['grade/report/overview','lib.php',76],['lib/simplepie/library/SimplePie','File.php',68],['backup/moodle2','backup_plugin.class.php',44],['lib/zend/Zend/Gdata/Extension','ExtendedProperty.php',46],['backup/cc/cc_lib','cc_assesment_sfib.php',27],['rating','lib.php',114],['rating','lib.php',1070],['lib','dtllib.php',66],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',68],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',20],['question/engine','datalib.php',68],['question/engine','datalib.php',1330],['question/engine','datalib.php',1631],['question/engine','datalib.php',1739],['question/engine','datalib.php',1869],['question/engine','datalib.php',1940],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',405]], 1047],
'notify_step_modified': ['notify_step_modified', 'Called when a new step is updated in a question attempt in this usage. ', [['question/engine','questionusage.php',1063],['question/engine','questionusage.php',1112],['question/engine','datalib.php',1408]], 1],
'render': ['render', 'Render TeX string into gif/png ', [['filter/tex','latex.php',78],['lib/adodb','adodb-pager.inc.php',239],['lib/htmlpurifier/HTMLPurifier/Printer','CSSDefinition.php',14],['lib/mustache/src/Mustache','Engine.php',202],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',768],['lib/htmlpurifier/HTMLPurifier/Printer','HTMLDefinition.php',15],['lib','formslib.php',926],['question/engine/tests','helpers.php',797],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullscreen','fullscreen.htm',82],['lib','outputrenderers.php',167],['lib','outputrenderers.php',299],['mod/quiz/classes/question/bank','custom_view.php',133],['question/behaviour','behaviourbase.php',97],['lib/mustache/src/Mustache','Template.php',57],['question/engine','questionattempt.php',815],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',85],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',235],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',298],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',391],['lib','portfoliolib.php',241],['lib/phpexcel/PHPExcel','Chart.php',527],['lib/mustache/src/Mustache','LambdaHelper.php',36]], 757],
'render_head_html': ['render_head_html', 'Generate any bits of HTML that needs to go in the <head> tag when this question attempt is displayed in the body. ', [['question/engine','questionattempt.php',833]], 1],
'count': ['count', '', [['lib/google/src/Google','Collection.php',49],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',166],['lib/zend/Zend/Server','Definition.php',208],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',337],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',90],['lib/horde/framework/Horde/Imap/Client','Ids.php',372],['lib/horde/framework/Horde/Support','Stub.php',126],['lib/horde/framework/Horde/Mail/Rfc822','List.php',368],['lib/zend/Zend/Service/Delicious','PostList.php',157],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',128],['lib/zend/Zend/Http','CookieJar.php',363],['lib/zend/Zend/Service/Amazon','Sqs.php',173],['lib/phpunit/classes','event_sink.php',72],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',53],['lib/horde/framework/Horde','Variables.php',384],['lib/filestorage','zip_archive.php',333],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',144],['lib/zend/Zend/Gdata/App','Feed.php',127],['comment','lib.php',614],['lib/horde/framework/Horde/Mime','Part.php',2287],['lib/horde/framework/Horde/Support','Array.php',144],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',126],['lib/phpunit/classes','phpmailer_sink.php',73],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',193],['lib/phpunit/classes','message_sink.php',71],['lib/phpexcel/PHPExcel/Calculation','Statistical.php',1152],['question/engine','questionattempt.php',1770],['lib','navigationlib.php',936],['lib/phpexcel/PHPExcel','HashTable.php',133],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',116],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',46],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',137]], 3984],
'discard_autosaved_step': ['discard_autosaved_step', 'Discard any auto-saved data belonging to this question attempt. ', [['question/engine','questionattempt.php',898]], 2],
'get_reverse_step_iterator': ['get_reverse_step_iterator', '', [['question/engine','questionattempt.php',443]], 8],
'offsetunset': ['offsetunset', '', [['lib/google/src/Google','Collection.php',79],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',157],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',328],['question/engine','questionusage.php',1015],['lib/horde/framework/Horde/Support','Stub.php',118],['lib/horde/framework/Horde/Mail/Rfc822','List.php',353],['lib/zend/Zend/Service/Delicious','PostList.php',284],['lib/horde/framework/Horde','Variables.php',275],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',128],['lib/zend/Zend/Gdata/App','Feed.php',249],['lib/horde/framework/Horde/Mime','Part.php',2280],['lib/horde/framework/Horde/Support','Array.php',191],['lib/google/src/Google','Model.php',257],['lib/horde/framework/Horde/Support','CaseInsensitiveArray.php',56],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',127],['question/engine','questionattempt.php',1639],['question/engine','questionattempt.php',1793],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',107]], 4],
'get_response_file_url': ['get_response_file_url', 'Get the URL of a file that belongs to a response variable of this question_attempt. ', [['question/engine','questionattempt.php',531]], 1],
'get_renderer': ['get_renderer', 'Get the renderer for a part of Moodle for this theme. ', [['lib','outputlib.php',1790],['mod/assign','locallib.php',2734],['lib','outputfactories.php',70],['lib','outputfactories.php',292],['lib','outputfactories.php',377],['course/format','lib.php',889],['question/type/multichoice','question.php',137],['question/type/multichoice','question.php',259],['question/type','questionbase.php',275],['grade/grading/form/guide','lib.php',482],['question/behaviour','behaviourbase.php',135],['lib','pagelib.php',797],['grade/grading/form/rubric','lib.php',486],['lib/tests/fixtures','test_renderer_factory.php',49]], 339],
'notify_metadata_added': ['notify_metadata_added', 'Called when a new metadata variable is set on a question attempt in this usage. ', [['question/engine','questionusage.php',1078],['question/engine','questionusage.php',1116],['question/engine','datalib.php',1451]], 1],
'rewrite_response_pluginfile_urls': ['rewrite_response_pluginfile_urls', 'Rewrite the @@PLUGINFILE@@ tokens in a response variable from this step that contains links to file. Normally you should probably call {@link question_attempt::rewrite_response_pluginfile_urls()} instead of calling this method directly. ', [['question/engine','questionattemptstep.php',266],['question/engine','questionattemptstep.php',745],['question/engine','questionattempt.php',799]], 2],
'get_resume_data': ['get_resume_data', 'Used by {@link start_based_on()} to get the data needed to start a new attempt from the point this attempt has go to. ', [['question/behaviour','behaviourbase.php',272],['question/engine','questionattempt.php',1005]], 2],
'start': ['start', 'Start the session. ', [['lib/classes/session','handler.php',37],['admin/tool/uploaduser','locallib.php',61],['lib/pear/Auth','RADIUS.php',339],['backup/util/xml','xml_writer.class.php',81],['lib/google/src/Google/Service','AdSenseHost.php',963],['lib/classes/session','memcache.php',73],['lib/classes/session','manager.php',49],['lib/classes/session','memcached.php',84],['backup/util/xml/output','xml_output.class.php',74],['admin/tool/uploadcourse/classes','tracker.php',188],['question/engine','questionattempt.php',939],['question/engine','questionattempt.php',1562],['lib/htmlpurifier/HTMLPurifier','Printer.php',45]], 145],
'get_metadata_var': ['get_metadata_var', 'Get a metadata variable. ', [['question/engine','questionattemptstep.php',399]], 3],
'has_metadata_var': ['has_metadata_var', 'Whether this step has a metadata variable. ', [['question/engine','questionattemptstep.php',386]], 2],
'get_mark': ['get_mark', '', [['question/engine','questionattempt.php',646]], 5],
'get_step': ['get_step', '', [['question/engine/tests','helpers.php',911],['question/engine','questionattempt.php',362]], 52],
'init_first_step': ['init_first_step', '', [['question/behaviour/missing','behaviour.php',57],['question/behaviour/interactive','behaviour.php',147],['question/behaviour','behaviourbase.php',336]], 3],
'get_type_name': ['get_type_name', '', [['question/type','questionbase.php',137]], 1],
'get_last_behaviour_var': ['get_last_behaviour_var', 'Get the latest value of a particular behaviour variable. That is, get the value from the latest step that has it set. Return null if it is not set in any step. ', [['question/engine','questionattempt.php',570]], 20],
'get_filearea': ['get_filearea', 'Returns file area name, this divides files of one component into groups with different access control. All files in one area have the same access control. ', [['lib/filestorage','stored_file.php',671],['lib/filebrowser','virtual_root_file.php',200]], 46],
'head_code': ['head_code', 'Return any HTML that needs to be included in the page\'s <head> when this question is used. ', [['question/type','rendererbase.php',204],['question/behaviour','rendererbase.php',229]], 2],
'has_qt_var': ['has_qt_var', '', [['question/engine','questionattemptstep.php',184],['question/engine','questionattemptstep.php',690]], 12],
'get_response_summary': ['get_response_summary', '', [['question/engine','questionusage.php',405],['question/engine','questionattempt.php',1183]], 34],
'fraction_to_mark': ['fraction_to_mark', '', [['question/engine','questionattempt.php',670]], 2],
'file_prepare_draft_area': ['file_prepare_draft_area', 'Initialise a draft file area from a real one by copying the files. A draft area will be created if one does not already exist. Normally you should get $draftitemid by calling file_get_submitted_draft_itemid(\'elementname\'); ', [['lib','filelib.php',362]], 52],
'get_last_step': ['get_last_step', 'Return the latest step in this question_attempt. For internal/test code use only. ', [['question/engine','questionattempt.php',399]], 21],
'get_all_data': ['get_all_data', 'Get all the data. behaviour variables have the - at the start of their name. This is only intended for internal use, for example by {@link question_engine_data_mapper::insert_question_attempt_step()}, however, it can occasionally be useful in test code. It should not be considered part of the public API of this class. ', [['question/engine','questionattemptstep.php',361],['question/engine','questionattemptstep.php',726]], 30],
'set_max_mark': ['set_max_mark', 'Change the max mark for this question_attempt. ', [['question/engine','questionusage.php',893],['question/engine','questionattempt.php',1297]], 5],
'get_control_field_name': ['get_control_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for a control variables belonging to this question_attempt. ', [['question/engine','questionattempt.php',335]], 6],
'set_usage_id': ['set_usage_id', 'Set the id of the {@link question_usage_by_activity} we belong to. For internal use only. ', [['question/engine','questionattempt.php',261],['question/engine','questionattempt.php',1578]], 2],
'get_correct_response': ['get_correct_response', '', [['question/type/multianswer','question.php',142],['question/engine','questionusage.php',803],['question/behaviour/informationitem','behaviour.php',53],['question/type/calculated','question.php',90],['question/type/shortanswer','question.php',140],['question/type/truefalse','question.php',47],['question/behaviour/immediatecbm','behaviour.php',69],['question/type/missingtype','question.php',47],['question/type/essay','question.php',88],['question/type/match','question.php',183],['question/type/numerical','question.php',156],['question/type/multichoice','question.php',180],['question/type/multichoice','question.php',343],['question/type','questionbase.php',453],['question/type','questionbase.php',755],['question/behaviour','behaviourbase.php',235],['question/behaviour/deferredcbm','behaviour.php',68],['question/engine','questionattempt.php',1144]], 41],
'next': ['next', '', [['lib/tests','completionlib_test.php',876],['lib/adodb','adodb.inc.php',2813],['lib/adodb','adodb.inc.php',2889],['lib/google/src/Google','Collection.php',38],['lib/zend/Zend/Server','Definition.php',238],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',364],['lib/horde/framework/Horde','Domhtml.php',287],['lib/yuilib/3.17.2/router','router.js',837],['question/engine','questionusage.php',992],['lib/horde/framework/Horde/Imap/Client','Ids.php',401],['lib/dml','oci_native_moodle_recordset.php',72],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',202],['lib/classes/dml','recordset_walk.php',109],['mod/assign/feedback/offline','importgradeslib.php',143],['lib/yuilib/3.17.2/router','router-debug.js',843],['lib/horde/framework/Horde/Mail/Rfc822','List.php',398],['lib/zend/Zend/Service/Delicious','PostList.php',193],['backup/util/helper','backup_array_iterator.class.php',55],['lib/dml','mssql_native_moodle_recordset.php',79],['lib/dml','pgsql_native_moodle_recordset.php',96],['lib/filestorage','zip_archive.php',500],['lib/zend/Zend/Service/Amazon','ResultSet.php',124],['lib/phpexcel/PHPExcel','WorksheetIterator.php',101],['question/engine/tests','helpers.php',1217],['lib/dml','mysqli_native_moodle_recordset.php',78],['lib/zend/Zend/Gdata/App','Feed.php',167],['lib','csvlib.class.php',240],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',125],['lib/zend/Zend/Service/Technorati','ResultSet.php',202],['theme/bootstrapbase/amd/src','bootstrap.js',1756],['lib/zend/Zend/Service/Flickr','ResultSet.php',141],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',163],['lib/dml','sqlsrv_native_moodle_recordset.php',121],['question/engine','questionattempt.php',1617],['question/engine','questionattempt.php',1653],['question/engine','questionattempt.php',1736],['lib/htmlpurifier/HTMLPurifier','Zipper.php',56],['lib/zend/Zend/Service/Yahoo','ResultSet.php',146],['backup/util/helper','backup_null_iterator.class.php',46],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',112],['lib/dml','pdo_moodle_recordset.php',71]], 565],
'get_id': ['get_id', 'Returns instance id ', [['grade/grading/form','lib.php',854],['cache/classes','definition.php',596],['lib/classes/task','adhoc_task.php',51],['question/engine','questionusage.php',120],['mod/lti/classes/local/ltiservice','service_base.php',76],['lib/simplepie/library/SimplePie','Item.php',199],['question/engine','questionattemptstep.php',136],['mod/lti/classes/local/ltiservice','resource_base.php',81],['backup/converter','convertlib.php',100],['admin/tool/uploadcourse/classes','course.php',335],['backup/controller','backup_controller.class.php',261],['lib','adminlib.php',1716],['lib/filestorage','stored_file.php',786],['lib/filebrowser','virtual_root_file.php',290]], 169],
'get_full_qa': ['get_full_qa', 'This method exists so that {@link question_attempt_with_restricted_history} can override it. You should not normally need to call it. ', [['question/engine','questionattempt.php',194],['question/engine','questionattempt.php',1548]], 1],
'get_current_manual_mark': ['get_current_manual_mark', 'This is used by the manual grading code, particularly in association with validation. If there is a mark submitted in the request, then use that, otherwise use the latest mark for this question. ', [['question/engine','questionattempt.php',650]], 1],
'get_last_step_with_qt_var': ['get_last_step_with_qt_var', 'Get the last step with a particular question type varialbe set. ', [['question/engine','questionattempt.php',466]], 2],
'offsetget': ['offsetget', '', [['lib/google/src/Google','Collection.php',62],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',141],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',312],['question/engine','questionusage.php',1008],['lib/horde/framework/Horde/Support','Stub.php',98],['lib/horde/framework/Horde/Mail/Rfc822','List.php',324],['lib/zend/Zend/Service/Delicious','PostList.php',248],['lib/horde/framework/Horde','Variables.php',163],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',102],['lib/zend/Zend/Gdata/App','Feed.php',236],['lib/horde/framework/Horde/Mime','Part.php',2270],['lib/horde/framework/Horde/Support','Array.php',161],['lib/htmlpurifier/HTMLPurifier','StringHash.php',18],['lib/google/src/Google','Model.php',240],['lib/horde/framework/Horde/Support','CaseInsensitiveArray.php',27],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',104],['question/engine','questionattempt.php',1633],['question/engine','questionattempt.php',1759],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',87]], 21],
'question_rewrite_question_urls': ['question_rewrite_question_urls', 'Helps call file_rewrite_pluginfile_urls with the right parameters. ', [['lib','questionlib.php',1662]], 2],
'has_autosaved_step': ['has_autosaved_step', '', [['question/engine','questionattempt.php',415]], 5],
'start_based_on': ['start_based_on', 'Start this question attempt, starting from the point that the previous attempt $oldqa had reached. ', [['question/engine','questionattempt.php',991]], 1],
'get_qt_files': ['get_qt_files', 'Get the latest set of files for a particular question type variable of type question_attempt::PARAM_FILES. ', [['question/engine','questionattemptstep.php',212],['question/engine','questionattemptstep.php',730]], 2],
'get_qt_data': ['get_qt_data', 'Get all the question type variables. ', [['question/engine','questionattemptstep.php',283],['question/engine','questionattemptstep.php',702]], 33],
'prepare_response_files_draft_itemid': ['prepare_response_files_draft_itemid', 'Prepare a draft file are for the files belonging the a response variable of this step. ', [['question/engine','questionattemptstep.php',236],['question/engine','questionattemptstep.php',735],['question/engine','questionattempt.php',548]], 3],
'get_variant': ['get_variant', 'Get the variant of the question being used in a given slot. ', [['question/engine','questionusage.php',531],['question/engine','questionattempt.php',208]], 14],
'get_step_iterator': ['get_step_iterator', '', [['question/engine','questionattempt.php',423]], 10],
'choose_variant': ['choose_variant', '', [['question/engine','lib.php',962],['question/engine','lib.php',973],['question/engine','lib.php',1019],['question/engine','lib.php',1059],['question/classes/engine/variants','least_used_strategy.php',84]], 3],
'get_last_qt_data': ['get_last_qt_data', 'Get the qt data from the latest step that has any qt data. Return $default array if it is no step has qt data. ', [['question/engine','questionattempt.php',447]], 13],
'variant_number_changed': ['variant_number_changed', 'Whether this processing this step has changed the variant number. ', [['question/engine','questionattemptstep.php',539]], 1],
'set_metadata_var': ['set_metadata_var', 'Set a metadata variable. ', [['question/engine','questionattemptstep.php',373]], 1],
'get_database_id': ['get_database_id', '', [['question/engine','questionattempt.php',234]], 10],
'classify_response': ['classify_response', '', [['question/type/truefalse','question.php',61],['question/type/missingtype','question.php',75],['question/type/match','question.php',117],['question/type/numerical','question.php',251],['question/type/multichoice','question.php',169],['question/type/multichoice','question.php',325],['question/type','questionbase.php',502],['question/type','questionbase.php',628],['question/type','questionbase.php',792],['question/behaviour','behaviourbase.php',293],['question/engine','questionattempt.php',1373]], 60],
'manual_grade': ['manual_grade', 'Perform a manual grading action on a question attempt. ', [['question/engine','questionusage.php',844],['question/engine/tests','helpers.php',761],['question/engine','questionattempt.php',1306]], 25],
'get_filepath': ['get_filepath', 'Returns the backup file path ', [['backup/util/ui','restore_ui_stage.class.php',547],['lib/filestorage','stored_file.php',690],['lib/filebrowser','virtual_root_file.php',218]], 136],
'summarise_action': ['summarise_action', '', [['question/behaviour/missing','behaviour.php',53],['question/behaviour/adaptive','behaviour.php',101],['question/behaviour/deferredfeedback','behaviour.php',90],['question/behaviour/manualgraded','behaviour.php',68],['question/behaviour/immediatefeedback','behaviour.php',91],['question/behaviour/informationitem','behaviour.php',89],['question/behaviour/immediatecbm','behaviour.php',145],['question/behaviour/interactive','behaviour.php',173],['question/behaviour/deferredcbm','behaviour.php',116],['question/engine','questionattempt.php',742]], 6],
'get_expected_data': ['get_expected_data', '', [['question/type/multianswer','question.php',125],['question/behaviour/adaptive','behaviour.php',45],['question/behaviour/immediatefeedback','behaviour.php',57],['question/behaviour/informationitem','behaviour.php',46],['question/type/shortanswer','question.php',47],['question/type/truefalse','question.php',43],['question/behaviour/immediatecbm','behaviour.php',54],['question/type/missingtype','question.php',43],['question/type/essay','question.php',66],['question/type/match','question.php',175],['question/type/numerical','question.php',49],['question/type/multichoice','question.php',149],['question/type/multichoice','question.php',302],['question/behaviour/interactive','behaviour.php',112],['question/type','questionbase.php',449],['question/behaviour','behaviourbase.php',194],['question/behaviour/deferredcbm','behaviour.php',56],['question/engine','questionattempt.php',1083]], 19],
'has_marks': ['has_marks', '', [['question/engine','questionattempt.php',637]], 3],
'get_all_submitted_qt_vars': ['get_all_submitted_qt_vars', 'Get all the submitted question type data for this question, whithout checking that it is valid or cleaning it in any way. ', [['question/engine','questionattempt.php',1101]], 2],
'get_applicable_hint': ['get_applicable_hint', '', [['question/behaviour/interactive','behaviour.php',104],['question/behaviour','behaviourbase.php',162],['question/engine','questionattempt.php',734]], 5],
'get_itemid': ['get_itemid', 'Returns the item id associated with the comment ', [['comment','lib.php',1015],['lib/filestorage','stored_file.php',681],['lib/filebrowser','virtual_root_file.php',209]], 55],
'get_submitted_data': ['get_submitted_data', 'Return submitted data without validation or NULL if there is no submitted data. note: $slashed param removed ', [['lib','formslib.php',609],['question/engine','questionattemptstep.php',343],['question/engine','questionattemptstep.php',722],['question/engine','questionattempt.php',1124]], 8],
'step_no_for_try': ['step_no_for_try', '', [['question/engine','questionattempt.php',1779],['mod/quiz/report/responses','first_or_all_responses_table.php',205]], 3],
'load_question': ['load_question', '', [['question/engine/upgrade/tests','helper.php',63],['question/engine','bank.php',258],['question/type/randomsamatch/db','upgradelib.php',240],['question/engine/upgrade','upgradelib.php',130],['question/engine/upgrade','upgradelib.php',284]], 45],
'get_fraction': ['get_fraction', '', [['question/engine','questionattemptstep.php',158],['question/engine','questionattemptstep.php',588],['question/engine','questionattemptstep.php',674],['question/engine','questionattempt.php',627]], 51],
'get_field_prefix': ['get_field_prefix', 'You should probably not use this method in code outside the question engine. The main reason for exposing it was for the benefit of unit tests. ', [['question/engine','questionusage.php',511],['question/engine','questionattempt.php',348]], 72],
'step_has_a_submitted_response': ['step_has_a_submitted_response', 'Does this step include a response submitted by a student? ', [['question/behaviour','behaviourbase.php',540],['question/behaviour','behaviourbase.php',675]], 3],
'regrade': ['regrade', 'Perform a regrade. This replays all the actions from $oldqa into this attempt. ', [['question/engine','questionattempt.php',1255]], 1],
'add_step': ['add_step', '', [['question/engine/upgrade','behaviourconverters.php',168],['backup/util/plan','base_task.class.php',139],['question/engine/tests','helpers.php',41],['question/engine','questionattempt.php',876],['question/engine','questionattempt.php',1556]], 181],
'get_user_id': ['get_user_id', '', [['lib','modinfolib.php',202],['question/engine','questionattemptstep.php',171],['question/engine','questionattemptstep.php',682],['lib/tests/behat','behat_data_generators.php',556]], 35],
'make_deleted_instance': ['make_deleted_instance', '', [['question/type/missingtype','questiontype.php',62]], 2],
'file_get_submitted_draft_itemid': ['file_get_submitted_draft_itemid', 'Returns draft area itemid for a given element. ', [['lib','filelib.php',719]], 45],
'get_new_variant_number': ['get_new_variant_number', 'Get the new variant number, if there is one. ', [['question/engine','questionattemptstep.php',531]], 1],
'get_contextid': ['get_contextid', '', [['backup/moodle2','backup_activity_task.class.php',103],['backup/moodle2','restore_activity_task.class.php',115],['backup/moodle2','restore_course_task.class.php',57],['backup/converter/moodle1','lib.php',524],['backup/moodle2','restore_block_task.class.php',133],['lib/filestorage','stored_file.php',652],['lib/filebrowser','virtual_root_file.php',182],['backup/moodle2','backup_course_task.class.php',50],['backup/moodle2','restore_section_task.class.php',63],['backup/moodle2','backup_block_task.class.php',96]], 109],
'load_from_records': ['load_from_records', 'Create a question_usage_by_activity from records loaded from the database. ', [['question/engine','questionusage.php',902],['question/engine','questionattemptstep.php',415],['question/engine','questionattempt.php',1389]], 19],
'make_behaviour': ['make_behaviour', 'Create a behaviour for a particular type. If that type cannot be found, return an instance of qbehaviour_missing. ', [['question/engine','lib.php',213],['question/type/essay','question.php',54],['question/type','questionbase.php',141],['question/type','questionbase.php',445],['question/type','questionbase.php',728]], 6],
'extra_file_path_components': ['extra_file_path_components', 'Helper function used by {@link rewrite_pluginfile_urls()} and {@link rewrite_response_pluginfile_urls()}. ', [['question/engine','questionattempt.php',775]], 2],
'get_name': ['get_name', 'Return localised event name. ', [['report/log/classes/event','user_report_viewed.php',54],['mod/wiki/classes/event','page_deleted.php',54],['mod/forum/classes/message/inbound','reply_handler.php',50],['mod/chat/classes/event','sessions_viewed.php',65],['mod/glossary/classes/event','category_deleted.php',46],['mod/workshop/classes/event','assessment_evaluations_reset.php',75],['lib/classes/event','tag_updated.php',58],['lib/classes/event','course_resources_list_viewed.php',60],['mod/lesson/classes/event','content_page_viewed.php',48],['lib/classes/event','blog_association_created.php',56],['lib/classes/event','user_profile_viewed.php',56],['mod/feedback/classes/event','response_submitted.php',60],['backup/util/plan','base_plan.class.php',50],['lib/classes/event','badge_awarded.php',54],['report/outline/classes/event','report_viewed.php',54],['question/classes/bank','checkbox_column.php',32],['mod/assign/classes/event','extension_granted.php',77],['admin/tool/capability/classes/event','report_viewed.php',47],['portfolio/picasa','lib.php',33],['lib/classes/event','message_viewed.php',54],['lib/classes/event','course_category_created.php',48],['mod/quiz/classes/event','group_override_updated.php',54],['lib/classes/task','context_cleanup_task.php',32],['mod/survey/classes/event','response_submitted.php',53],['mod/book/tool/exportimscp/classes/event','book_exported.php',76],['cache/classes','definition.php',604],['report/loglive/classes/event','report_viewed.php',48],['mod/forum/classes/event','post_deleted.php',67],['mod/assign/classes/event','submission_duplicated.php',77],['mod/chat/classes/event','message_sent.php',59],['mod/workshop/classes/event','submission_created.php',63],['lib/classes/event','note_updated.php',56],['mod/lesson/classes/event','group_override_deleted.php',54],['mod/feedback/classes/event','response_deleted.php',57],['lib/classes/event','course_module_instance_list_viewed.php',75],['mod/assign/classes/event','submission_locked.php',78],['enrol/imsenterprise/classes/task','cron_task.php',34],['mod/lesson/classes/event','page_updated.php',72],['admin/tool/messageinbound/classes/task','cleanup_task.php',38],['mod/forum/classes/event','discussion_subscription_deleted.php',66],['mod/quiz/classes/event','attempt_preview_started.php',54],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',79],['mod/lesson/classes/event','user_override_updated.php',54],['lib/classes/task','calendar_cron_task.php',31],['mod/quiz/classes/event','report_viewed.php',56],['mod/lesson/classes/event','question_answered.php',54],['lib/portfolio','plugin.php',120],['mod/forum/classes/event','discussion_viewed.php',60],['mod/workshop/classes/event','submission_viewed.php',63],['lib/classes/task','registration_cron_task.php',31],['mod/assign/submission/file','locallib.php',44],['mod/assign/classes/event','submission_updated.php',57],['mod/workshop/classes/event','submission_reassessed.php',77],['mod/glossary/classes/event','entry_deleted.php',54],['lib/classes/task','portfolio_cron_task.php',31],['lib/classes/event','user_created.php',48],['question/classes/bank','preview_action_column.php',26],['mod/data/classes/event','field_updated.php',57],['mod/assign/submission/onlinetext','locallib.php',40],['mod/data/classes/event','template_updated.php',56],['lib/classes/event','comment_created.php',58],['lib/classes/event','cohort_deleted.php',49],['lib/grade','grade_item.php',1274],['mod/scorm/classes/event','tracks_viewed.php',64],['lib/classes/task','file_temp_cleanup_task.php',31],['lib/classes/event','course_viewed.php',75],['grade/report/overview/classes/event','grade_report_viewed.php',48],['lib/classes/task','stats_cron_task.php',31],['grade/report/user/classes/event','grade_report_viewed.php',48],['lib/classes/event','course_content_deleted.php',54],['lib/classes/task','backup_cleanup_task.php',31],['grade/report/singleview/classes/event','grade_report_viewed.php',39],['mod/quiz/classes/event','attempt_abandoned.php',63],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',31],['mod/workshop/classes/event','phase_switched.php',75],['lib/classes/event','base.php',282],['grade/report/history/classes/event','grade_report_viewed.php',39],['lib/classes/event','content_viewed.php',80],['backup/util/ui','backup_ui.class.php',194],['lib/classes/event','course_completion_updated.php',47],['report/completion/classes/event','report_viewed.php',49],['lib/dml','pgsql_native_moodle_database.php',88],['backup/util/settings','base_setting.class.php',145],['lib/classes/task','messaging_cleanup_task.php',31],['question/classes/bank','modifier_name_column.php',27],['mod/forum/classes/event','discussion_updated.php',65],['lib/classes/event','course_reset_ended.php',53],['mod/choice/classes/event','answer_submitted.php',72],['mod/forum/classes/event','assessable_uploaded.php',86],['mod/wiki/classes/event','page_diff_viewed.php',55],['lib/classes/event','course_category_updated.php',51],['admin/tool/langimport/classes/event','langpack_updated.php',80],['lib/classes/task','session_cleanup_task.php',31],['lib/classes/task','completion_cron_task.php',31],['lib/classes/event','webservice_service_created.php',65],['lib/classes/event','course_created.php',55],['lib/dml','oci_native_moodle_database.php',94],['mod/lesson/classes/event','lesson_started.php',48],['mod/assign/classes/event','grading_table_viewed.php',79],['lib/classes/event','calendar_event_deleted.php',58],['backup/util/plan','base_task.class.php',58],['lib/classes/event','group_created.php',65],['mod/quiz/classes/event','user_override_created.php',53],['mod/glossary/classes/event','category_updated.php',46],['repository/coursefiles','lib.php',183],['mod/assign/classes/event','submission_viewed.php',76],['mod/glossary/classes/event','entry_disapproved.php',46],['lib/classes/event','user_password_updated.php',70],['mod/assign/classes/event','all_submissions_downloaded.php',75],['lib/dml','mariadb_native_moodle_database.php',41],['lib/classes/event','role_deleted.php',55],['admin/tool/log/store/legacy/tests/fixtures','event.php',31],['backup/util/ui','restore_ui.class.php',349],['lib/classes/event','user_loggedinas.php',57],['mod/assign/classes/event','submission_confirmation_form_viewed.php',79],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',62],['lib','modinfolib.php',1285],['mod/lesson/classes/event','essay_attempt_viewed.php',48],['mod/forum/classes/event','discussion_moved.php',66],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',83],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',79],['mod/survey/classes/event','report_downloaded.php',55],['mod/wiki/classes/event','page_updated.php',54],['admin/tool/log/store/standard/tests/fixtures','event.php',31],['mod/assign/classes/event','submission_unlocked.php',78],['lib/classes/event','user_list_viewed.php',56],['mod/forum/classes/event','readtracking_disabled.php',64],['lib/classes/event','comments_viewed.php',51],['lib/classes/event','cohort_member_added.php',49],['lib/classes/event','grouping_created.php',65],['lib/classes/event','recent_activity_viewed.php',49],['lib/classes/event','role_allow_switch_updated.php',47],['lib/dml','sqlsrv_native_moodle_database.php',102],['admin/tool/messageinbound/classes/message/inbound','invalid_recipient_handler.php',60],['mod/lti','OAuth.php',122],['mod/lti','OAuth.php',149],['mod/lti','OAuth.php',173],['question/classes/bank','question_name_column.php',28],['lib/classes/event','user_login_failed.php',56],['lib/classes/event','message_contact_added.php',48],['lib','enrollib.php',1075],['question/classes/bank','question_text_row.php',35],['lib/classes/event','role_allow_assign_updated.php',47],['mod/quiz/classes/event','user_override_deleted.php',53],['user/selector','lib.php',309],['mod/quiz/classes/event','edit_page_viewed.php',53],['lib/classes/event','email_failed.php',48],['portfolio/flickr','lib.php',41],['admin/tool/langimport/classes/task','update_langpacks_task.php',35],['lib/classes/event','tag_removed.php',58],['mod/lesson/classes/event','highscores_viewed.php',48],['report/stats/classes/event','user_report_viewed.php',48],['mod/quiz/classes/event','group_override_deleted.php',54],['mod/book/classes/event','chapter_updated.php',79],['lib/classes/log','reader.php',30],['mod/lesson/classes/event','question_viewed.php',54],['mod/scorm/classes/event','interactions_viewed.php',63],['lib/classes/event','course_module_updated.php',57],['mod/forum/classes/event','discussion_subscription_created.php',66],['lib/classes/task','plagiarism_cron_task.php',31],['mod/quiz/classes/event','question_manually_graded.php',55],['lib/classes/event','mnet_access_control_created.php',57],['lib/classes/event','role_assigned.php',56],['admin/tool/messageinbound/classes/task','pickup_task.php',38],['mod/lti/classes/local/ltiservice','service_base.php',87],['lib/classes/event','unknown_logged.php',43],['lib/simplepie/library/SimplePie','Author.php',106],['mod/scorm/classes/event','user_report_viewed.php',62],['admin/tool/monitor/classes/event','subscription_criteria_met.php',55],['mod/forum/classes/task','cron_task.php',30],['report/participation/classes/event','report_viewed.php',58],['lib/classes/event','user_updated.php',48],['backup/util/plan','base_step.class.php',49],['lib/classes/event','course_section_updated.php',56],['lib/classes/event','comment_deleted.php',58],['mod/assign/classes/event','marker_updated.php',89],['lib/classes/event','webservice_login_failed.php',71],['mod/assign/submission/file/classes/event','assessable_uploaded.php',85],['admin/tool/log/store/database/tests/fixtures','event.php',31],['mod/lti/classes/event','unknown_service_api_called.php',82],['lib/classes/event','cohort_updated.php',49],['mod/assign/submission/comments','locallib.php',39],['lib/editor/tinymce/classes','plugin.php',101],['mod/forum/classes/event','post_updated.php',67],['mod/book/classes/event','chapter_viewed.php',79],['portfolio/download','lib.php',9],['lib/classes/event','note_deleted.php',56],['lib/classes/event','user_loggedout.php',54],['lib/classes/event','grade_report_viewed.php',54],['lib/classes/task','file_trash_cleanup_task.php',31],['mod/assign/classes/event','workflow_state_updated.php',88],['mod/book/classes/event','chapter_deleted.php',79],['lib/classes/event','course_deleted.php',56],['lib/classes/event','blog_entry_deleted.php',53],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',35],['question/classes/bank','copy_action_column.php',35],['mod/assign/feedback/editpdf','locallib.php',43],['lib/classes/event','webservice_token_created.php',65],['lib/tests/fixtures','task_fixtures.php',35],['lib/tests/fixtures','task_fixtures.php',44],['lib/tests/fixtures','task_fixtures.php',53],['mod/forum/classes/event','course_searched.php',66],['lib/classes/event','group_updated.php',65],['mod/quiz/classes/event','attempt_started.php',56],['mod/lesson/classes/event','group_override_updated.php',54],['lib/classes/event','course_module_viewed.php',62],['lib/classes/event','mnet_access_control_updated.php',57],['mod/quiz/classes/question/bank','add_action_column.php',45],['question/classes/bank','edit_action_column.php',35],['lib/classes/message/inbound','private_files_handler.php',56],['lib/tests/fixtures','event_fixtures.php',34],['lib/classes/task','password_reset_cleanup_task.php',31],['mod/quiz/classes/event','attempt_submitted.php',63],['mod/data/classes/event','field_created.php',58],['lib/classes/task','automated_backup_task.php',31],['lib/classes/event','question_category_created.php',48],['admin/tool/monitor/classes/event','rule_deleted.php',50],['backup/util/ui','restore_ui_stage.class.php',75],['backup/converter/moodle1','lib.php',1033],['mod/lesson/classes/event','group_override_created.php',55],['mod/workshop/classes/event','assessments_reset.php',74],['mod/lesson/classes/event','lesson_resumed.php',48],['mod/assign/classes/event','feedback_viewed.php',76],['grade/report/outcomes/classes/event','grade_report_viewed.php',39],['lib/classes/event','blog_entry_updated.php',74],['report/questioninstances/classes/event','report_viewed.php',55],['mod/assign/classes/event','submission_form_viewed.php',82],['mod/folder/classes/event','folder_updated.php',48],['mod/assign/classes/event','submission_created.php',57],['mod/assign/classes/event','statement_accepted.php',77],['lib/classes/event','grade_deleted.php',94],['lib/classes/event','role_capabilities_updated.php',51],['lib/classes/event','blog_entries_viewed.php',62],['lib/tests','messageinbound_test.php',170],['mod/wiki/classes/event','page_viewed.php',48],['lib/classes/event','group_deleted.php',65],['question/classes/bank','delete_action_column.php',36],['lib/classes/event','webservice_token_sent.php',56],['mod/quiz/classes/event','attempt_becameoverdue.php',66],['lib/classes/task','create_contexts_task.php',31],['mod/quiz/classes/event','attempt_viewed.php',54],['mod/assign/classes/event','submission_status_updated.php',79],['mod/assign/classes/event','grading_form_viewed.php',82],['calendar/tests','calendartype_test_example.php',32],['lib/classes/event','course_module_completion_updated.php',48],['mod/assign/feedback/file','locallib.php',45],['mod/workshop/classes/event','assessment_evaluated.php',66],['report/log/classes/event','report_viewed.php',58],['lib/classes/event','course_module_deleted.php',56],['lib/dml','mssql_native_moodle_database.php',83],['repository','lib.php',1884],['mod/book/classes/event','chapter_created.php',79],['mod/quiz/classes/question/bank','question_name_text_column.php',37],['mod/workshop/classes/event','submission_assessed.php',76],['lib/classes/event','cohort_created.php',49],['lib/classes/event','webservice_function_called.php',67],['mod/scorm/classes/event','sco_launched.php',64],['lib/classes/event','blog_entry_created.php',76],['lib/classes/event','user_enrolment_created.php',53],['mod/data/classes/event','record_created.php',56],['mod/quiz/classes/event','attempt_summary_viewed.php',56],['lib/classes/event','user_enrolment_updated.php',53],['admin/tool/log/store/standard/classes/task','cleanup_task.php',31],['mod/quiz/classes/event','attempt_reviewed.php',53],['lib/classes/task','cache_cleanup_task.php',31],['mod/lesson/classes/event','page_moved.php',56],['mod/glossary/classes/event','category_created.php',46],['mod/lesson/classes/event','page_created.php',54],['lib/classes/event','cohort_member_removed.php',50],['grade/report/singleview/classes/local/ui','unique_name.php',38],['mod/wiki/classes/event','page_version_viewed.php',54],['lib/classes/task','badges_cron_task.php',31],['lib/classes/event','role_allow_override_updated.php',47],['lib/classes/task','cache_cron_task.php',31],['mod/workshop/classes/event','assessable_uploaded.php',93],['lib/classes/event','grouping_updated.php',65],['admin/tool/monitor/classes/event','rule_updated.php',50],['lib/classes/event','course_module_created.php',86],['lib/classes/event','tag_added.php',58],['admin/tool/langimport/classes/event','langpack_removed.php',89],['mod/assign/classes/event','assessable_submitted.php',109],['mod/workshop/classes/event','submission_updated.php',63],['mod/lesson/classes/event','page_deleted.php',54],['lib/classes/event','grouping_deleted.php',72],['backup/util/ui','backup_ui_setting.class.php',86],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',56],['backup/converter','convertlib.php',109],['lib/classes/event','tag_flagged.php',55],['mod/wiki/classes/event','page_history_viewed.php',48],['lib/classes/task','question_cron_task.php',31],['mod/survey/classes/event','report_viewed.php',55],['lib/classes/event','tag_created.php',55],['report/stats/classes/event','report_viewed.php',56],['lib/classes/event','note_created.php',56],['lib/simplepie/library/SimplePie','Credit.php',139],['lib/bennu','iCalendar_components.php',37],['lib/dml','mysqli_native_moodle_database.php',352],['lib/classes/event','course_reset_started.php',53],['admin/tool/monitor/classes/event','subscription_created.php',50],['mod/book/tool/print/classes/event','book_printed.php',76],['lib/classes/event','webservice_service_user_removed.php',59],['mod/data/classes/event','record_deleted.php',56],['mod/choice/classes/event','answer_updated.php',72],['message/tests/fixtures','inbound_fixtures.php',41],['lib/classes/event','group_member_removed.php',69],['mod/glossary/classes/event','entry_viewed.php',48],['mod/forum/classes/event','user_report_viewed.php',65],['lib/classes/event','course_category_deleted.php',59],['lib/classes/task','events_cron_task.php',31],['mod/forum/classes/event','subscription_created.php',65],['lib/classes/event','calendar_event_created.php',58],['lib/classes/event','message_contact_blocked.php',48],['lib/classes/event','webservice_service_updated.php',59],['backup/util/ui','base_ui_stage.class.php',110],['mod/wiki/classes/event','page_version_restored.php',54],['lib/classes/task','delete_unconfirmed_users_task.php',31],['mod/data/classes/event','template_viewed.php',55],['lib/classes/event','course_user_report_viewed.php',66],['mod/data/classes/event','record_updated.php',56],['mod/wiki/classes/event','page_map_viewed.php',54],['mod/wiki/classes/event','page_locks_deleted.php',54],['lib/classes/event','webservice_service_deleted.php',59],['lib/grade','grade_category.php',2128],['mod/forum/classes/event','readtracking_enabled.php',64],['mod/assign/feedback/comments','locallib.php',36],['question/behaviour','behaviourbase.php',83],['calendar/type/gregorian/classes','structure.php',29],['lib/classes/event','role_unassigned.php',53],['lib/classes/task','tag_cron_task.php',31],['lib/classes/task','blog_cron_task.php',31],['lib/classes/event','course_restored.php',58],['backup/util/structure','base_atom.class.php',71],['portfolio/boxnet','lib.php',14],['mod/choice/classes/event','report_viewed.php',47],['lib/classes/event','user_deleted.php',57],['lib/classes/event','user_enrolment_deleted.php',54],['lib/classes/task','send_failed_login_notifications_task.php',34],['mod/book/tool/print/classes/event','chapter_printed.php',79],['mod/assign/classes/event','identities_revealed.php',75],['lib/classes/event','user_graded.php',96],['lib/classes/event','course_updated.php',58],['admin/tool/log/classes/helper','reader.php',41],['mod/forum/classes/event','post_created.php',67],['mod/data/classes/event','field_deleted.php',57],['lib/classes/event','tag_deleted.php',55],['mod/glossary/classes/event','entry_created.php',52],['mod/forum/classes/event','discussion_created.php',65],['mod/forum/classes/event','discussion_deleted.php',66],['mod/scorm/classes/event','attempt_deleted.php',62],['mod/lesson/classes/event','lesson_ended.php',49],['lib/grade','grade_scale.php',156],['admin/tool/monitor/classes','subscription.php',123],['mod/forum/classes/event','subscribers_viewed.php',65],['backup/util/structure','restore_path_element.class.php',98],['mod/scorm/classes/event','report_viewed.php',63],['lib/classes/task','grade_cron_task.php',31],['grade/report/grader/classes/event','grade_report_viewed.php',39],['lib/dml/tests','dml_test.php',5409],['mod/lesson/classes/event','user_override_deleted.php',53],['report/completion/classes/event','user_report_viewed.php',49],['admin/tool/langimport/classes/event','langpack_imported.php',80],['mod/forum/classes/event','subscription_deleted.php',65],['mod/assign/feedback/offline','locallib.php',42],['mod/lesson/classes/event','highscore_added.php',56],['mod/lesson/classes/event','essay_assessed.php',78],['lib/classes/event','message_sent.php',82],['lib/classes/event','message_contact_removed.php',48],['lib/classes/event','tag_unflagged.php',55],['mod/assign/classes/event','submission_graded.php',78],['lib','csslib.php',2155],['lib','csslib.php',2283],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',79],['report/outline/classes/event','activity_report_viewed.php',48],['lib/classes/event','calendar_event_updated.php',58],['mod/lesson/classes/event','user_override_created.php',53],['lib/classes/task','legacy_plugin_cron_task.php',33],['portfolio/googledocs','lib.php',54],['mod/workshop/classes/event','assessment_reevaluated.php',76],['lib/dml','pdo_moodle_database.php',113],['lib','medialib.php',345],['mod/quiz/classes/event','user_override_updated.php',54],['lib/classes/event','webservice_service_user_added.php',59],['admin/tool/monitor/classes/event','subscription_deleted.php',50],['lib/classes/event','notes_viewed.php',49],['mod/glossary/classes/event','entry_updated.php',52],['admin/tool/monitor/classes/event','rule_created.php',50],['lib/classes/task','check_for_updates_task.php',31],['mod/wiki/classes/event','page_version_deleted.php',54],['lib/classes/event','course_completed.php',73],['mod/assign/classes/event','submission_status_viewed.php',81],['portfolio/mahara','lib.php',61],['mod/glossary/classes/event','entry_approved.php',46],['mod/wiki/classes/event','page_created.php',48],['mod/quiz/classes/event','group_override_created.php',55],['lib/classes/task','delete_incomplete_users_task.php',31],['question/classes/bank','creator_name_column.php',28],['lib/classes/event','group_member_added.php',78],['lib/classes/event','message_contact_unblocked.php',48],['mod/quiz/classes/event','attempt_deleted.php',47],['lib/classes/task','send_new_user_passwords_task.php',31],['lib/classes/event','user_loggedin.php',64],['admin/tool/monitor/classes/task','clean_events.php',32],['question/classes/bank','question_type_column.php',26],['admin/tool/monitor/classes','rule.php',239],['mod/lesson/classes/event','lesson_restarted.php',48],['lib/grade','grade_outcome.php',272]], 409],
'has_manual_comment': ['has_manual_comment', '', [['question/engine','questionattempt.php',1329]], 1],
'has_behaviour_var': ['has_behaviour_var', '', [['question/engine','questionattemptstep.php',301],['question/engine','questionattemptstep.php',706]], 61],
'get_state_string': ['get_state_string', '', [['question/behaviour/adaptive','behaviour.php',52],['question/behaviour/immediatefeedback','behaviour.php',66],['question/behaviour/informationitem','behaviour.php',73],['mod/quiz','attemptlib.php',2159],['question/behaviour/interactive','behaviour.php',133],['question/behaviour','behaviourbase.php',322],['question/engine','questionattempt.php',603]], 9],
'set_database_id': ['set_database_id', 'For internal use only. Set the id of the corresponding database row. ', [['question/engine','questionattempt.php',238],['question/engine','questionattempt.php',1566]], 3],
'notify_step_added': ['notify_step_added', 'Called when a new step is added to a question attempt in this usage. ', [['question/engine','questionusage.php',1055],['question/engine','questionusage.php',1110],['question/engine','datalib.php',1377]], 2],
'get_steps_with_submitted_response_iterator': ['get_steps_with_submitted_response_iterator', 'Allow access to steps with responses submitted by students for grading in a question attempt. ', [['question/engine','questionattempt.php',1486]], 7],
'notify_step_deleted': ['notify_step_deleted', 'Called when a new step is updated in a question attempt in this usage. ', [['question/engine','questionusage.php',1071],['question/engine','questionusage.php',1114],['question/engine','datalib.php',1429]], 4],
'get_flag_field_name': ['get_flag_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for the field that indicates whether this question is flagged. ', [['question/engine','questionattempt.php',297]], 2],
'find_steps_with_submitted_response': ['find_steps_with_submitted_response', 'Find the step nos  in which a student has submitted a response. Including any step with a response that is saved before the question attempt finishes. ', [['question/engine','questionattempt.php',1695]], 1],
'get_num_steps': ['get_num_steps', 'Get the number of steps in this attempt. For internal/test code use only. ', [['question/engine','questionattempt.php',390]], 20],
'select_variant': ['select_variant', 'Use a strategy to pick a variant. ', [['question/engine','questionattempt.php',929]], 1],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',2854]], 853],
'clean_param_mark': ['clean_param_mark', 'Typically, $mark will have come from optional_param($name, null, PARAM_RAW_TRIMMED). This method copes with: - keeping null or \'\' input unchanged. - nubmers that were typed as either 1.00 or 1,00 form. ', [['question/engine','lib.php',904]], 9],
'notify_metadata_modified': ['notify_metadata_modified', 'Called when a metadata variable on a question attempt in this usage is updated. ', [['question/engine','questionusage.php',1085],['question/engine','questionusage.php',1118],['question/engine','datalib.php',1467]], 1],
'get_state_class': ['get_state_class', '', [['question/engine','states.php',296],['question/engine','states.php',304],['question/engine','states.php',315],['question/engine','states.php',326],['question/engine','states.php',337],['question/engine','states.php',342],['question/engine','states.php',354],['question/engine','states.php',368],['question/engine','states.php',383],['question/engine','questionattempt.php',616]], 7],
'strlen': ['strlen', 'Multibyte safe strlen() function, uses mbstring or iconv for UTF-8, falls back to typo3. ', [['lib/classes','text.php',281],['lib/typo3','class.t3lib_cs.php',1520]], 1698],
'get_max_mark': ['get_max_mark', '', [['question/engine','questionattempt.php',683]], 24],
'can_finish_during_attempt': ['can_finish_during_attempt', '', [['question/behaviour/immediatefeedback','behaviour.php',49],['question/behaviour/interactive','behaviour.php',57],['question/behaviour','behaviourbase.php',87],['question/engine','questionattempt.php',1194]], 2],
'get_question_file_saver': ['get_question_file_saver', 'Copy these files into a draft area, and return the corresponding {@link question_file_saver} that can save them again. ', [['question/engine','datalib.php',1766]], 1],
'get_behaviour': ['get_behaviour', 'For internal use only. ', [['question/engine','questionattempt.php',275]], 4],
'get_question_summary': ['get_question_summary', '', [['question/type/multianswer','question.php',80],['question/engine','questionusage.php',398],['question/type/match','question.php',88],['question/type/multichoice','question.php',69],['question/type','questionbase.php',200],['question/type','questionbase.php',457],['question/behaviour','behaviourbase.php',244],['question/engine','questionattempt.php',1176]], 24],
'get_expected_qt_data': ['get_expected_qt_data', '', [['question/behaviour/interactive','behaviour.php',125],['question/behaviour','behaviourbase.php',213]], 2],
'set_observer': ['set_observer', 'You should almost certainly not call this method from your code. It is for internal use only. ', [['question/engine','questionusage.php',144],['question/engine','questionattempt.php',247]], 4],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',605]], 2167],
'get_last_qt_files': ['get_last_qt_files', 'Get the latest set of files for a particular question type variable of type question_attempt::PARAM_FILES. ', [['question/engine','questionattempt.php',515]], 1],
'get_component': ['get_component', 'Returns gradable component name ', [['grade/grading/form','lib.php',111],['cache/classes','definition.php',633],['lib/classes/task','task_base.php',125],['comment','lib.php',971],['lib/filestorage','stored_file.php',661],['grade/grading','lib.php',126],['lib/filebrowser','virtual_root_file.php',191],['availability/classes','frontend.php',86]], 66],
'process_response_files': ['process_response_files', 'Handle a submitted variable representing uploaded files. ', [['question/engine','questionattempt.php',1057]], 2],
'render_at_step': ['render_at_step', 'Like {@link render_question()} but displays the question at the past step indicated by $seq, rather than showing the latest step. ', [['question/engine','questionattempt.php',848]], 1],
'process_autosave': ['process_autosave', 'Process an autosave action on a specific question. ', [['question/engine','questionusage.php',732],['question/engine/tests','helpers.php',753],['question/behaviour','behaviourbase.php',445],['question/behaviour','behaviourbase.php',600],['question/engine','questionattempt.php',1225]], 17],
'process_action': ['process_action', '', [['question/behaviour/missing','behaviour.php',62],['grade/report/singleview','lib.php',60],['question/behaviour/adaptive','behaviour.php',89],['question/behaviour/deferredfeedback','behaviour.php',53],['question/behaviour/manualgraded','behaviour.php',58],['question/engine','questionusage.php',721],['question/behaviour/immediatefeedback','behaviour.php',79],['question/behaviour/informationitem','behaviour.php',77],['grade/report/user','lib.php',855],['question/behaviour/interactive','behaviour.php',152],['grade/report/grader','lib.php',1655],['grade/tests','reportlib_test.php',54],['question/engine','questionattempt.php',1204],['question/engine','questionattempt.php',1559],['grade/report/overview','lib.php',319]], 30],
'get_new_response_summary': ['get_new_response_summary', 'Get the new response summary, if there is one. ', [['question/engine','questionattemptstep.php',504]], 2],
'set_question_summary': ['set_question_summary', 'Change the quetsion summary. Note, that this is almost never necessary. This method was only added to work around a limitation of the Opaque protocol, which only sends questionLine at the end of an attempt. ', [['question/engine','questionattempt.php',1162],['question/engine','questionattempt.php',1575]], 0],
'get_state': ['get_state', '', [['question/engine','questionattemptstep.php',141],['question/engine','questionattemptstep.php',580],['question/engine','questionattemptstep.php',666],['mod/quiz','attemptlib.php',758],['cache/classes','factory.php',495],['question/engine','questionattempt.php',589]], 106],
'get_last_action_time': ['get_last_action_time', '', [['question/engine','questionattempt.php',623]], 1],
'get_timecreated': ['get_timecreated', '', [['question/engine','questionattemptstep.php',176],['question/engine','questionattemptstep.php',686],['lib/filestorage','stored_file.php',747],['lib/filebrowser','virtual_root_file.php',263],['lib/filebrowser','file_info.php',286],['lib/filebrowser','file_info_stored.php',249]], 49],
'get_max_fraction': ['get_max_fraction', '', [['question/type/multianswer','question.php',115],['question/behaviour/missing','behaviour.php',72],['question/behaviour/immediatecbm','behaviour.php',50],['question/type','questionbase.php',240],['question/behaviour','behaviourbase.php',182],['question/behaviour/deferredcbm','behaviour.php',52],['question/engine','questionattempt.php',696]], 13],
'add_autosaved_step': ['add_autosaved_step', 'Add an auto-saved step to this question attempt. We mark auto-saved steps by changing saving the step number with a - sign. ', [['question/engine','questionattempt.php',886]], 1],
'check_file_access': ['check_file_access', '', [['question/type/multianswer','question.php',338],['question/engine','questionusage.php',480],['question/type/shortanswer','question.php',162],['question/type/truefalse','question.php',102],['question/type/essay','question.php',132],['question/type/match','question.php',309],['mod/quiz','attemptlib.php',1562],['question/type/numerical','question.php',282],['question/type/multichoice','question.php',94],['question/type','questionbase.php',404],['question/behaviour','behaviourbase.php',116],['question/engine','questionattempt.php',863]], 13],
'convert_autosaved_step_to_real_step': ['convert_autosaved_step_to_real_step', 'If there is an autosaved step, convert it into a real save, so that it is preserved. ', [['question/engine','questionattempt.php',911]], 1],
'get_qtype': ['get_qtype', 'Get the question type class for a particular question type. ', [['question/engine','bank.php',80],['question/format/xml','format.php',995]], 100],
'get_num_variants': ['get_num_variants', 'Get the number of variants available for the question in this slot. ', [['question/engine','questionusage.php',522],['question/type/calculated','question.php',77],['question/type/calculatedmulti','question.php',68],['question/type/calculatedmulti','question.php',118],['question/type','questionbase.php',216]], 8],
'get_variants_selection_seed': ['get_variants_selection_seed', '', [['question/type/calculated','question.php',81],['question/type/calculatedmulti','question.php',72],['question/type/calculatedmulti','question.php',122],['question/type','questionbase.php',224]], 10],
'response_summary_changed': ['response_summary_changed', 'Whether this processing this step has changed the response summary. ', [['question/engine','questionattemptstep.php',512]], 1],
'finish': ['finish', '', [['lib/yuilib/3.17.2/model','model-debug.js',249],['question/engine/tests','helpers.php',757],['lib/google/src/Google/Service','Games.php',2061],['lib/yuilib/3.17.2/model','model.js',249],['backup/util/xml/output','memory_xml_output.class.php',55],['admin/tool/uploadcourse/classes','tracker.php',84],['question/engine','questionattempt.php',1241],['backup/util/xml/output','file_xml_output.class.php',60]], 29],
'get_sequence_check_count': ['get_sequence_check_count', 'Get the number of real steps in this attempt. This is put as a hidden field in the HTML, so that when we receive some data to process, then we can check that it came from the question in the state we are now it. ', [['question/engine','questionattempt.php',375]], 6],
'get_qt_field_name': ['get_qt_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for a question_type variable belonging to this question_attempt. ', [['question/engine','questionattempt.php',307]], 26],
'format_float': ['format_float', 'This function should be identical to {@link qtype_calculated_variable_substituter::format_float()}. Except that we do not try to do locale-aware replacement of the decimal point. ', [['question/type/calculated/db','upgradelib.php',205],['lib','moodlelib.php',7707],['question/type/calculatedmulti/db','upgradelib.php',229],['question/type/calculated','question.php',328]], 154],
'set_metadata': ['set_metadata', '', [['backup/cc/cc_lib','cc_asssesment.php',1813],['question/engine','questionattempt.php',760]], 2],
'set_state': ['set_state', 'Set the state. Normally only called by behaviours. ', [['question/engine','questionattemptstep.php',145],['question/engine','questionattemptstep.php',556],['question/engine','questionattemptstep.php',584],['question/engine','questionattemptstep.php',670],['cache/classes','factory.php',504],['lib','pagelib.php',873]], 72],
'get_last_qt_var': ['get_last_qt_var', 'Get the latest value of a particular question type variable. That is, get the value from the latest step that has it set. Return null if it is not set in any step. ', [['question/engine','questionattempt.php',496]], 21],
'current': ['current', 'Overrides Zend_Service_Yahoo_ResultSet::current() ', [['lib/zend/Zend/Service/Yahoo','InlinkDataResultSet.php',53],['lib/tests','completionlib_test.php',868],['lib/zend/Zend/Service/Technorati','TagResultSet.php',97],['lib/adodb','adodb.inc.php',2808],['lib/adodb','adodb.inc.php',2884],['lib/google/src/Google','Collection.php',22],['lib/zend/Zend/Service/Yahoo','WebResultSet.php',54],['lib/zend/Zend/Server','Definition.php',218],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',346],['lib/horde/framework/Horde','Domhtml.php',268],['question/engine','questionusage.php',985],['lib/horde/framework/Horde/Imap/Client','Ids.php',383],['lib/zend/Zend/Service/Yahoo','PageDataResultSet.php',53],['lib/dml','oci_native_moodle_recordset.php',59],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',186],['lib/zend/Zend/Service/Yahoo','NewsResultSet.php',54],['lib/zend/Zend/Service/Yahoo','LocalResultSet.php',75],['lib/classes/dml','recordset_walk.php',86],['lib/horde/framework/Horde/Mail/Rfc822','List.php',380],['lib/zend/Zend/Service/Delicious','PostList.php',169],['backup/util/helper','backup_array_iterator.class.php',47],['lib/dml','mssql_native_moodle_recordset.php',66],['lib/zend/Zend/Service/Technorati','DailyCountsResultSet.php',112],['lib/dml','pgsql_native_moodle_recordset.php',83],['lib/filestorage','zip_archive.php',478],['lib/zend/Zend/Service/Amazon','ResultSet.php',104],['lib/phpexcel/PHPExcel','WorksheetIterator.php',81],['question/engine/tests','helpers.php',1205],['lib/dml','mysqli_native_moodle_recordset.php',65],['lib/zend/Zend/Gdata/App','Feed.php',147],['lib/zend/Zend/Service/Yahoo','ImageResultSet.php',54],['lib/zend/Zend/Service/Technorati','TagsResultSet.php',54],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',107],['lib/zend/Zend/Service/Flickr','ResultSet.php',121],['lib/zend/Zend/Service/Yahoo','VideoResultSet.php',54],['lib/zend/Zend/Service/Technorati','CosmosResultSet.php',163],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',143],['lib/dml','sqlsrv_native_moodle_recordset.php',108],['question/engine','questionattempt.php',1610],['question/engine','questionattempt.php',1729],['lib/zend/Zend/Service/Yahoo','ResultSet.php',116],['backup/util/helper','backup_null_iterator.class.php',40],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',94],['lib/zend/Zend/Service/Technorati','SearchResultSet.php',66],['lib/dml','pdo_moodle_recordset.php',58]], 156],
'get_behaviour_var': ['get_behaviour_var', '', [['question/engine','questionattemptstep.php',309],['question/engine','questionattemptstep.php',710]], 28],
'get_usage_id': ['get_usage_id', '', [['question/engine','questionattempt.php',257]], 4],
'get_question': ['get_question', 'Get the question_definition for a question in this attempt. ', [['question/engine','questionusage.php',218],['mod/quiz','attemptlib.php',249],['question/engine','questionattempt.php',204],['question/engine/upgrade','upgradelib.php',323]], 74],
'file_encode_url': ['file_encode_url', 'Encodes file serving url ', [['lib','filelib.php',42]], 30],
'format_mark': ['format_mark', 'The current mark, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',703]], 3],
'get_metadata': ['get_metadata', '', [['backup/cc','cc2moodle.php',135],['question/engine','questionattempt.php',751]], 4],
'get_manual_comment': ['get_manual_comment', '', [['question/engine','questionattempt.php',1342]], 2],
'get_submitted_var': ['get_submitted_var', 'Get a particular parameter from the current request. A wrapper round {@link optional_param()}, except that the results is returned without slashes. ', [['question/engine','questionattempt.php',1020]], 17],
'format_fraction_as_mark': ['format_fraction_as_mark', 'The current mark, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',713]], 4],
'format_max_mark': ['format_max_mark', 'The maximum mark for this question attempt, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',723]], 5],
'rewind': ['rewind', '', [['lib/tests','completionlib_test.php',880],['lib/adodb','adodb.inc.php',2794],['lib/adodb','adodb.inc.php',2869],['lib/google/src/Google','Collection.php',14],['lib/zend/Zend/Server','Definition.php',248],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',371],['lib/horde/framework/Horde','Domhtml.php',324],['question/engine','questionusage.php',995],['lib/horde/framework/Horde/Imap/Client','Ids.php',410],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',319],['lib/horde/framework/Horde/Stream','TempString.php',210],['lib/classes/dml','recordset_walk.php',143],['lib/horde/framework/Horde/Mail/Rfc822','List.php',423],['lib/zend/Zend/Service/Delicious','PostList.php',205],['backup/util/helper','backup_array_iterator.class.php',43],['lib/filestorage','zip_archive.php',507],['lib/zend/Zend/Service/Amazon','ResultSet.php',134],['lib/phpexcel/PHPExcel','WorksheetIterator.php',73],['lib/zend/Zend/Gdata/App','Feed.php',137],['lib/dml','moodle_recordset.php',57],['lib/horde/framework/Horde','Stream.php',493],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',100],['lib/zend/Zend/Service/Technorati','ResultSet.php',212],['lib/zend/Zend/Service/Flickr','ResultSet.php',151],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',174],['question/engine','questionattempt.php',1620],['question/engine','questionattempt.php',1657],['question/engine','questionattempt.php',1739],['lib/zend/Zend/Service/Yahoo','ResultSet.php',157],['backup/util/helper','backup_null_iterator.class.php',37],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',87]], 59],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'get_min_fraction': ['get_min_fraction', '', [['question/type/multianswer','question.php',105],['question/behaviour/missing','behaviour.php',67],['question/behaviour/deferredfeedback','behaviour.php',45],['question/behaviour/immediatefeedback','behaviour.php',53],['question/behaviour/immediatecbm','behaviour.php',46],['question/type/multichoice','question.php',141],['question/type/multichoice','question.php',263],['question/type','questionbase.php',228],['question/behaviour','behaviourbase.php',170],['question/behaviour/deferredcbm','behaviour.php',48],['question/engine','questionattempt.php',688]], 14],
'get_qt_var': ['get_qt_var', '', [['question/engine','questionattemptstep.php',192],['question/engine','questionattemptstep.php',694]], 32],
'is_null': ['is_null', '', [], 1992],
'next': ['next', '', [], 565],
'array_key_exists': ['array_key_exists', '', [], 1539],
'range': ['range', '', [], 73],
'substr': ['substr', '', [], 2883],
'key': ['key', '', [], 198],
'array_pop': ['array_pop', '', [], 438],
'current': ['current', '', [], 156],
'get_class': ['get_class', '', [], 332],
'implode': ['implode', '', [], 1259],
'count': ['count', '', [], 3984],
'defined': ['defined', '', [], 4098],
'preg_match': ['preg_match', '', [], 1317],
'is_string': ['is_string', '', [], 680],
'array_slice': ['array_slice', '', [], 169],
'end': ['end', '', [], 432],
'preg_quote': ['preg_quote', '', [], 207],
'str_replace': ['str_replace', '', [], 1667],
'array_combine': ['array_combine', '', [], 134],
'rewind': ['rewind', '', [], 59]};
CLASS_DATA={
'question_file_saver': ['question_file_saver', 'This class represents the promise to save some files from a particular draft file area into a particular file area. It is used beause the necessary information about what to save is to hand in the {@link question_attempt::process_response_files()} method, but we don\'t know if this question attempt will actually be saved in the database until later, when the {@link question_engine_unit_of_work} is saved, if it is. ', [['question/engine','datalib.php',1606]], 3],
'question_usage_null_observer': ['question_usage_null_observer', 'Null implmentation of the {@link question_usage_watcher} interface. Does nothing. ', [['question/engine','questionusage.php',1094]], 9],
'question_attempt_step_read_only': ['question_attempt_step_read_only', 'A subclass of {@link question_attempt_step} that cannot be modified. ', [['question/engine','questionattemptstep.php',549]], 4],
'question_null_step': ['question_null_step', 'A null {@link question_attempt_step} returned from {@link question_attempt::get_last_step()} etc. when a an attempt has just been created and there is no acutal step. ', [['question/engine','questionattemptstep.php',571]], 1],
'question_attempt_steps_with_submitted_response_iterator': ['question_attempt_steps_with_submitted_response_iterator', 'A variant of {@link question_attempt_step_iterator} that iterates through the steps with submitted tries. ', [['question/engine','questionattempt.php',1662]], 1],
'question_attempt_with_restricted_history': ['question_attempt_with_restricted_history', 'This subclass of question_attempt pretends that only part of the step history exists. It is used for rendering the question in past states. ', [['question/engine','questionattempt.php',1498]], 2],
'question_attempt_step_iterator': ['question_attempt_step_iterator', 'A class abstracting access to the {@link question_attempt::$states} array. ', [['question/engine','questionattempt.php',1584]], 3],
'question_attempt_step': ['question_attempt_step', 'Stores one step in a {@link question_attempt}. ', [['question/engine','questionattemptstep.php',30]], 100],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',214]], 867],
'question_attempt_pending_step': ['question_attempt_pending_step', 'A subclass of {@link question_attempt_step} used when processing a new submission. ', [['question/engine','questionattemptstep.php',476]], 3],
'question_attempt': ['question_attempt', 'Tracks an attempt at one particular question in a {@link question_usage_by_activity}. ', [['question/engine','questionattempt.php',30]], 105],
'question_attempt_reverse_step_iterator': ['question_attempt_reverse_step_iterator', 'A variant of {@link question_attempt_step_iterator} that iterates through the steps in reverse order. ', [['question/engine','questionattempt.php',1645]], 1],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 2948],
'PARAM_RAW_TRIMMED': ['PARAM_RAW_TRIMMED', '', [['lib','moodlelib.php',198]], 60],
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 554],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 999],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 692]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
