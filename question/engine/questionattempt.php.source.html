<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /question/engine/questionattempt.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='question/engine';
filename='questionattempt.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/question/engine/</a> -> <a href="questionattempt.php.html">questionattempt.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="questionattempt.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="questionattempt.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * This file defines the question attempt class, and a few related classes.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    moodlecore</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @subpackage questionengine</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * Tracks an attempt at one particular question in a {@link question_usage_by_activity}.</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> *</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * Most calling code should need to access objects of this class. They should be</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * able to do everything through the usage interface. This class is an internal</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * implementation detail of the question engine.</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> *</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * Instances of this class correspond to rows in the question_attempts table, and</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * a collection of {@link question_attempt_steps}. Question inteaction models and</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * question types do work with question_attempt objects.</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> *</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> */</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a> {
<a name="l45"><span class="linenum">  45</span></a>      <span class="comment">/**</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * @var string this is a magic value that question types can return from</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * {@link question_definition::get_expected_data()}.</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     */</span>
<a name="l49"><span class="linenum">  49</span></a>      const USE_RAW_DATA = 'use raw data';
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>      <span class="comment">/**</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * @var string Should not longer be used.</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     * @deprecated since Moodle 3.0</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     */</span>
<a name="l55"><span class="linenum">  55</span></a>      const PARAM_MARK = <a class="constant" onClick="logConstant('PARAM_RAW_TRIMMED')" href="../../_constants/PARAM_RAW_TRIMMED.html" onMouseOver="constPopup(event,'PARAM_RAW_TRIMMED')">PARAM_RAW_TRIMMED</a>;
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>      <span class="comment">/**</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * @var string special value to indicate a response variable that is uploaded</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     * files.</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     */</span>
<a name="l61"><span class="linenum">  61</span></a>      const PARAM_FILES = 'paramfiles';
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>      <span class="comment">/**</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * @var string special value to indicate a response variable that is uploaded</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * files.</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     */</span>
<a name="l67"><span class="linenum">  67</span></a>      const PARAM_RAW_FILES = 'paramrawfiles';
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>      <span class="comment">/**</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     * @var string means first try at a question during an attempt by a user.</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">     */</span>
<a name="l72"><span class="linenum">  72</span></a>      const FIRST_TRY = 'firsttry';
<a name="l73"><span class="linenum">  73</span></a>  
<a name="l74"><span class="linenum">  74</span></a>      <span class="comment">/**</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">     * @var string means last try at a question during an attempt by a user.</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">     */</span>
<a name="l77"><span class="linenum">  77</span></a>      const LAST_TRY = 'lasttry';
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>      <span class="comment">/**</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">     * @var string means all tries at a question during an attempt by a user.</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     */</span>
<a name="l82"><span class="linenum">  82</span></a>      const ALL_TRIES = 'alltries';
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">    /** @var integer if this attempts is stored in the question_attempts table, the id of that row. */</span>
<a name="l85"><span class="linenum">  85</span></a>      protected <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = null;
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">    /** @var integer|string the id of the question_usage_by_activity we belong to. */</span>
<a name="l88"><span class="linenum">  88</span></a>      protected <a class="var it4599" onMouseOver="hilite(4599)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>;
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">    /** @var integer the number used to identify this question_attempt within the usage. */</span>
<a name="l91"><span class="linenum">  91</span></a>      protected <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../_variables/slot.html">$slot</a> = null;
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>      <span class="comment">/**</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     * @var question_behaviour the behaviour controlling this attempt.</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     * null until {@link start()} is called.</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     */</span>
<a name="l97"><span class="linenum">  97</span></a>      protected <a class="var it1198" onMouseOver="hilite(1198)" onMouseOut="lolite()" onClick="logVariable('behaviour')" href="../../_variables/behaviour.html">$behaviour</a> = null;
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">    /** @var question_definition the question this is an attempt at. */</span>
<a name="l100"><span class="linenum"> 100</span></a>      protected <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>;
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">    /** @var int which variant of the question to use. */</span>
<a name="l103"><span class="linenum"> 103</span></a>      protected <a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../_variables/variant.html">$variant</a>;
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>      <span class="comment">/**</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     * @var float the maximum mark that can be scored at this question.</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">     * Actually, this is only really a nominal maximum. It might be better thought</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">     * of as the question weight.</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">     */</span>
<a name="l110"><span class="linenum"> 110</span></a>      protected <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>;
<a name="l111"><span class="linenum"> 111</span></a>  
<a name="l112"><span class="linenum"> 112</span></a>      <span class="comment">/**</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     * @var float the minimum fraction that can be scored at this question, so</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">     * the minimum mark is $this-&gt;minfraction * $this-&gt;maxmark.</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     */</span>
<a name="l116"><span class="linenum"> 116</span></a>      protected <a class="var it9198" onMouseOver="hilite(9198)" onMouseOut="lolite()" onClick="logVariable('minfraction')" href="../../_variables/minfraction.html">$minfraction</a> = null;
<a name="l117"><span class="linenum"> 117</span></a>  
<a name="l118"><span class="linenum"> 118</span></a>      <span class="comment">/**</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">     * @var float the maximum fraction that can be scored at this question, so</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     * the maximum mark is $this-&gt;maxfraction * $this-&gt;maxmark.</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     */</span>
<a name="l122"><span class="linenum"> 122</span></a>      protected <a class="var it9199" onMouseOver="hilite(9199)" onMouseOut="lolite()" onClick="logVariable('maxfraction')" href="../../_variables/maxfraction.html">$maxfraction</a> = null;
<a name="l123"><span class="linenum"> 123</span></a>  
<a name="l124"><span class="linenum"> 124</span></a>      <span class="comment">/**</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     * @var string plain text summary of the variant of the question the</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">     * student saw. Intended for reporting purposes.</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">     */</span>
<a name="l128"><span class="linenum"> 128</span></a>      protected <a class="var it9200" onMouseOver="hilite(9200)" onMouseOut="lolite()" onClick="logVariable('questionsummary')" href="../../_variables/questionsummary.html">$questionsummary</a> = null;
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>      <span class="comment">/**</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * @var string plain text summary of the response the student gave.</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * Intended for reporting purposes.</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     */</span>
<a name="l134"><span class="linenum"> 134</span></a>      protected <a class="var it9201" onMouseOver="hilite(9201)" onMouseOut="lolite()" onClick="logVariable('responsesummary')" href="../../_variables/responsesummary.html">$responsesummary</a> = null;
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>      <span class="comment">/**</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * @var string plain text summary of the correct response to this question</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     * variant the student saw. The format should be similar to responsesummary.</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * Intended for reporting purposes.</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     */</span>
<a name="l141"><span class="linenum"> 141</span></a>      protected <a class="var it4452" onMouseOver="hilite(4452)" onMouseOut="lolite()" onClick="logVariable('rightanswer')" href="../../_variables/rightanswer.html">$rightanswer</a> = null;
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">    /** @var array of {@link question_attempt_step}s. The steps in this attempt. */</span>
<a name="l144"><span class="linenum"> 144</span></a>      protected <a class="var it8805" onMouseOver="hilite(8805)" onMouseOut="lolite()" onClick="logVariable('steps')" href="../../_variables/steps.html">$steps</a> = array();
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>      <span class="comment">/**</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     * @var question_attempt_step if, when we loaded the step from the DB, there was</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     * an autosaved step, we save a pointer to it here. (It is also added to the $steps array.)</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     */</span>
<a name="l150"><span class="linenum"> 150</span></a>      protected <a class="var it39473" onMouseOver="hilite(39473)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a> = null;
<a name="l151"><span class="linenum"> 151</span></a>  
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">    /** @var boolean whether the user has flagged this attempt within the usage. */</span>
<a name="l153"><span class="linenum"> 153</span></a>      protected <a class="var it4605" onMouseOver="hilite(4605)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a> = false;
<a name="l154"><span class="linenum"> 154</span></a>  
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">    /** @var question_usage_observer tracks changes to the useage this attempt is part of.*/</span>
<a name="l156"><span class="linenum"> 156</span></a>      protected <a class="var it18475" onMouseOver="hilite(18475)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>;
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>      <span class="comment">/**#@+</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     * Constants used by the intereaction models to indicate whether the current</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * pending step should be kept or discarded.</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     */</span>
<a name="l162"><span class="linenum"> 162</span></a>      const KEEP = true;
<a name="l163"><span class="linenum"> 163</span></a>      const DISCARD = false;
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">    /**#@-*/</span>
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>      <span class="comment">/**</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     * Create a new {@link question_attempt}. Normally you should create question_attempts</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * indirectly, by calling {@link question_usage_by_activity::add_question()}.</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     *</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * @param question_definition $question the question this is an attempt at.</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * @param int|string $usageid The id of the</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     *      {@link question_usage_by_activity} we belong to. Used by {@link get_field_prefix()}.</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     * @param question_usage_observer $observer tracks changes to the useage this</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     *      attempt is part of. (Optional, a {@link question_usage_null_observer} is</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     *      used if one is not passed.</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     * @param number $maxmark the maximum grade for this question_attempt. If not</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">     * passed, $question-&gt;defaultmark is used.</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     */</span>
<a name="l179"><span class="linenum"> 179</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(question_definition <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>, <a class="var it4599" onMouseOver="hilite(4599)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>,
<a name="l180"><span class="linenum"> 180</span></a>              question_usage_observer <a class="var it18475" onMouseOver="hilite(18475)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a> = null, <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a> = null) {
<a name="l181"><span class="linenum"> 181</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/question.html">question</a> = <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>;
<a name="l182"><span class="linenum"> 182</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a> = <a class="var it4599" onMouseOver="hilite(4599)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>;
<a name="l183"><span class="linenum"> 183</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it18475" onMouseOver="hilite(18475)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>)) {
<a name="l184"><span class="linenum"> 184</span></a>              <a class="var it18475" onMouseOver="hilite(18475)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_usage_null_observer')" href="../../_classes/question_usage_null_observer.html" onMouseOver="classPopup(event,'question_usage_null_observer')">question_usage_null_observer</a>();
<a name="l185"><span class="linenum"> 185</span></a>          }
<a name="l186"><span class="linenum"> 186</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a> = <a class="var it18475" onMouseOver="hilite(18475)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>;
<a name="l187"><span class="linenum"> 187</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>)) {
<a name="l188"><span class="linenum"> 188</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> = <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>;
<a name="l189"><span class="linenum"> 189</span></a>          } else {
<a name="l190"><span class="linenum"> 190</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> = <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('defaultmark')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../_variables/defaultmark.html">defaultmark</a>;
<a name="l191"><span class="linenum"> 191</span></a>          }
<a name="l192"><span class="linenum"> 192</span></a>      }
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>      <span class="comment">/**</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     * This method exists so that {@link question_attempt_with_restricted_history}</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * can override it. You should not normally need to call it.</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * @return question_attempt return ourself.</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     */</span>
<a name="l199"><span class="linenum"> 199</span></a>      public function <a class="function" onClick="logFunction('get_full_qa')" href="../../_functions/get_full_qa.html" onMouseOver="funcPopup(event,'get_full_qa')">get_full_qa</a>() {
<a name="l200"><span class="linenum"> 200</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>;
<a name="l201"><span class="linenum"> 201</span></a>      }
<a name="l202"><span class="linenum"> 202</span></a>  
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">    /** @return question_definition the question this is an attempt at. */</span>
<a name="l204"><span class="linenum"> 204</span></a>      public function <a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>() {
<a name="l205"><span class="linenum"> 205</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>;
<a name="l206"><span class="linenum"> 206</span></a>      }
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>      <span class="comment">/**</span>
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment">     * Get the variant of the question being used in a given slot.</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment">     * @return int the variant number.</span>
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment">     */</span>
<a name="l212"><span class="linenum"> 212</span></a>      public function <a class="function" onClick="logFunction('get_variant')" href="../../_functions/get_variant.html" onMouseOver="funcPopup(event,'get_variant')">get_variant</a>() {
<a name="l213"><span class="linenum"> 213</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('variant')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/variant.html">variant</a>;
<a name="l214"><span class="linenum"> 214</span></a>      }
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>      <span class="comment">/**</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">     * Set the number used to identify this question_attempt within the usage.</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment">     * For internal use only.</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment">     * @param int $slot</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     */</span>
<a name="l221"><span class="linenum"> 221</span></a>      public function <a class="function" onClick="logFunction('set_slot')" href="../../_functions/set_slot.html" onMouseOver="funcPopup(event,'set_slot')">set_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../_variables/slot.html">$slot</a>) {
<a name="l222"><span class="linenum"> 222</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slot')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a> = <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../_variables/slot.html">$slot</a>;
<a name="l223"><span class="linenum"> 223</span></a>      }
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">    /** @return int the number used to identify this question_attempt within the usage. */</span>
<a name="l226"><span class="linenum"> 226</span></a>      public function <a class="function" onClick="logFunction('get_slot')" href="../../_functions/get_slot.html" onMouseOver="funcPopup(event,'get_slot')">get_slot</a>() {
<a name="l227"><span class="linenum"> 227</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slot')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a>;
<a name="l228"><span class="linenum"> 228</span></a>      }
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>      <span class="comment">/**</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     * @return int the id of row for this question_attempt, if it is stored in the</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">     * database. null if not.</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">     */</span>
<a name="l234"><span class="linenum"> 234</span></a>      public function <a class="function" onClick="logFunction('get_database_id')" href="../../_functions/get_database_id.html" onMouseOver="funcPopup(event,'get_database_id')">get_database_id</a>() {
<a name="l235"><span class="linenum"> 235</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l236"><span class="linenum"> 236</span></a>      }
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>      <span class="comment">/**</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * For internal use only. Set the id of the corresponding database row.</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * @param int $id the id of row for this question_attempt, if it is</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * stored in the database.</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     */</span>
<a name="l243"><span class="linenum"> 243</span></a>      public function <a class="function" onClick="logFunction('set_database_id')" href="../../_functions/set_database_id.html" onMouseOver="funcPopup(event,'set_database_id')">set_database_id</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l244"><span class="linenum"> 244</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>;
<a name="l245"><span class="linenum"> 245</span></a>      }
<a name="l246"><span class="linenum"> 246</span></a>  
<a name="l247"><span class="linenum"> 247</span></a>      <span class="comment">/**</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * You should almost certainly not call this method from your code. It is for</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * internal use only.</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * @param question_usage_observer that should be used to tracking changes made to this qa.</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     */</span>
<a name="l252"><span class="linenum"> 252</span></a>      public function <a class="function" onClick="logFunction('set_observer')" href="../../_functions/set_observer.html" onMouseOver="funcPopup(event,'set_observer')">set_observer</a>(<a class="var it18475" onMouseOver="hilite(18475)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>) {
<a name="l253"><span class="linenum"> 253</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a> = <a class="var it18475" onMouseOver="hilite(18475)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>;
<a name="l254"><span class="linenum"> 254</span></a>      }
<a name="l255"><span class="linenum"> 255</span></a>  
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">    /** @return int|string the id of the {@link question_usage_by_activity} we belong to. */</span>
<a name="l257"><span class="linenum"> 257</span></a>      public function <a class="function" onClick="logFunction('get_usage_id')" href="../../_functions/get_usage_id.html" onMouseOver="funcPopup(event,'get_usage_id')">get_usage_id</a>() {
<a name="l258"><span class="linenum"> 258</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a>;
<a name="l259"><span class="linenum"> 259</span></a>      }
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>      <span class="comment">/**</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     * Set the id of the {@link question_usage_by_activity} we belong to.</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     * For internal use only.</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * @param int|string the new id.</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     */</span>
<a name="l266"><span class="linenum"> 266</span></a>      public function <a class="function" onClick="logFunction('set_usage_id')" href="../../_functions/set_usage_id.html" onMouseOver="funcPopup(event,'set_usage_id')">set_usage_id</a>(<a class="var it4599" onMouseOver="hilite(4599)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>) {
<a name="l267"><span class="linenum"> 267</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a> = <a class="var it4599" onMouseOver="hilite(4599)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>;
<a name="l268"><span class="linenum"> 268</span></a>      }
<a name="l269"><span class="linenum"> 269</span></a>  
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">    /** @return string the name of the behaviour that is controlling this attempt. */</span>
<a name="l271"><span class="linenum"> 271</span></a>      public function <a class="function" onClick="logFunction('get_behaviour_name')" href="../../_functions/get_behaviour_name.html" onMouseOver="funcPopup(event,'get_behaviour_name')">get_behaviour_name</a>() {
<a name="l272"><span class="linenum"> 272</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_name')" href="../../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>();
<a name="l273"><span class="linenum"> 273</span></a>      }
<a name="l274"><span class="linenum"> 274</span></a>  
<a name="l275"><span class="linenum"> 275</span></a>      <span class="comment">/**</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     * For internal use only.</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     * @return question_behaviour the behaviour that is controlling this attempt.</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     */</span>
<a name="l279"><span class="linenum"> 279</span></a>      public function <a class="function" onClick="logFunction('get_behaviour')" href="../../_functions/get_behaviour.html" onMouseOver="funcPopup(event,'get_behaviour')">get_behaviour</a>() {
<a name="l280"><span class="linenum"> 280</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>;
<a name="l281"><span class="linenum"> 281</span></a>      }
<a name="l282"><span class="linenum"> 282</span></a>  
<a name="l283"><span class="linenum"> 283</span></a>      <span class="comment">/**</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     * Set the flagged state of this question.</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">     * @param bool $flagged the new state.</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     */</span>
<a name="l287"><span class="linenum"> 287</span></a>      public function <a class="function" onClick="logFunction('set_flagged')" href="../../_functions/set_flagged.html" onMouseOver="funcPopup(event,'set_flagged')">set_flagged</a>(<a class="var it4605" onMouseOver="hilite(4605)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a>) {
<a name="l288"><span class="linenum"> 288</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('flagged')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/flagged.html">flagged</a> = <a class="var it4605" onMouseOver="hilite(4605)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a>;
<a name="l289"><span class="linenum"> 289</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_attempt_modified')" href="../../_functions/notify_attempt_modified.html" onMouseOver="funcPopup(event,'notify_attempt_modified')">notify_attempt_modified</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l290"><span class="linenum"> 290</span></a>      }
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">    /** @return bool whether this question is currently flagged. */</span>
<a name="l293"><span class="linenum"> 293</span></a>      public function <a class="function" onClick="logFunction('is_flagged')" href="../../_functions/is_flagged.html" onMouseOver="funcPopup(event,'is_flagged')">is_flagged</a>() {
<a name="l294"><span class="linenum"> 294</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('flagged')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/flagged.html">flagged</a>;
<a name="l295"><span class="linenum"> 295</span></a>      }
<a name="l296"><span class="linenum"> 296</span></a>  
<a name="l297"><span class="linenum"> 297</span></a>      <span class="comment">/**</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     * Get the name (in the sense a HTML name=&quot;&quot; attribute, or a $_POST variable</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">     * name) to use for the field that indicates whether this question is flagged.</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">     *</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     * @return string  The field name to use.</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     */</span>
<a name="l303"><span class="linenum"> 303</span></a>      public function <a class="function" onClick="logFunction('get_flag_field_name')" href="../../_functions/get_flag_field_name.html" onMouseOver="funcPopup(event,'get_flag_field_name')">get_flag_field_name</a>() {
<a name="l304"><span class="linenum"> 304</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_control_field_name')" href="../../_functions/get_control_field_name.html" onMouseOver="funcPopup(event,'get_control_field_name')">get_control_field_name</a>('flagged');
<a name="l305"><span class="linenum"> 305</span></a>      }
<a name="l306"><span class="linenum"> 306</span></a>  
<a name="l307"><span class="linenum"> 307</span></a>      <span class="comment">/**</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">     * Get the name (in the sense a HTML name=&quot;&quot; attribute, or a $_POST variable</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     * name) to use for a question_type variable belonging to this question_attempt.</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     *</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * See the comment on {@link question_attempt_step} for an explanation of</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     * question type and behaviour variables.</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     *</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     * @param $varname The short form of the variable name.</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     * @return string  The field name to use.</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     */</span>
<a name="l317"><span class="linenum"> 317</span></a>      public function <a class="function" onClick="logFunction('get_qt_field_name')" href="../../_functions/get_qt_field_name.html" onMouseOver="funcPopup(event,'get_qt_field_name')">get_qt_field_name</a>(<a class="var it2333" onMouseOver="hilite(2333)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>) {
<a name="l318"><span class="linenum"> 318</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>() . <a class="var it2333" onMouseOver="hilite(2333)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>;
<a name="l319"><span class="linenum"> 319</span></a>      }
<a name="l320"><span class="linenum"> 320</span></a>  
<a name="l321"><span class="linenum"> 321</span></a>      <span class="comment">/**</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">     * Get the name (in the sense a HTML name=&quot;&quot; attribute, or a $_POST variable</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">     * name) to use for a question_type variable belonging to this question_attempt.</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">     *</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">     * See the comment on {@link question_attempt_step} for an explanation of</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment">     * question type and behaviour variables.</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">     *</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     * @param $varname The short form of the variable name.</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     * @return string  The field name to use.</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">     */</span>
<a name="l331"><span class="linenum"> 331</span></a>      public function <a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>(<a class="var it2333" onMouseOver="hilite(2333)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>) {
<a name="l332"><span class="linenum"> 332</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>() . '-' . <a class="var it2333" onMouseOver="hilite(2333)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>;
<a name="l333"><span class="linenum"> 333</span></a>      }
<a name="l334"><span class="linenum"> 334</span></a>  
<a name="l335"><span class="linenum"> 335</span></a>      <span class="comment">/**</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">     * Get the name (in the sense a HTML name=&quot;&quot; attribute, or a $_POST variable</span>
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">     * name) to use for a control variables belonging to this question_attempt.</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">     *</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">     * Examples are :sequencecheck and :flagged</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">     *</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">     * @param $varname The short form of the variable name.</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     * @return string  The field name to use.</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">     */</span>
<a name="l344"><span class="linenum"> 344</span></a>      public function <a class="function" onClick="logFunction('get_control_field_name')" href="../../_functions/get_control_field_name.html" onMouseOver="funcPopup(event,'get_control_field_name')">get_control_field_name</a>(<a class="var it2333" onMouseOver="hilite(2333)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>) {
<a name="l345"><span class="linenum"> 345</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>() . ':' . <a class="var it2333" onMouseOver="hilite(2333)" onMouseOut="lolite()" onClick="logVariable('varname')" href="../../_variables/varname.html">$varname</a>;
<a name="l346"><span class="linenum"> 346</span></a>      }
<a name="l347"><span class="linenum"> 347</span></a>  
<a name="l348"><span class="linenum"> 348</span></a>      <span class="comment">/**</span>
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">     * Get the prefix added to variable names to give field names for this</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">     * question attempt.</span>
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">     *</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">     * You should not use this method directly. This is an implementation detail</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">     * anyway, but if you must access it, use {@link question_usage_by_activity::get_field_prefix()}.</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">     *</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment">     * @param $varname The short form of the variable name.</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">     * @return string  The field name to use.</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">     */</span>
<a name="l358"><span class="linenum"> 358</span></a>      public function <a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>() {
<a name="l359"><span class="linenum"> 359</span></a>          return 'q' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a> . ':' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slot')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a> . '_';
<a name="l360"><span class="linenum"> 360</span></a>      }
<a name="l361"><span class="linenum"> 361</span></a>  
<a name="l362"><span class="linenum"> 362</span></a>      <span class="comment">/**</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">     * Get one of the steps in this attempt.</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">     *</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">     * @param int $i the step number, which counts from 0.</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">     * @return question_attempt_step</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">     */</span>
<a name="l368"><span class="linenum"> 368</span></a>      public function <a class="function" onClick="logFunction('get_step')" href="../../_functions/get_step.html" onMouseOver="funcPopup(event,'get_step')">get_step</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>) {
<a name="l369"><span class="linenum"> 369</span></a>          if (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; 0 || <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &gt;= <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>)) {
<a name="l370"><span class="linenum"> 370</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Index out of bounds in <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::get_step.');
<a name="l371"><span class="linenum"> 371</span></a>          }
<a name="l372"><span class="linenum"> 372</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>];
<a name="l373"><span class="linenum"> 373</span></a>      }
<a name="l374"><span class="linenum"> 374</span></a>  
<a name="l375"><span class="linenum"> 375</span></a>      <span class="comment">/**</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     * Get the number of real steps in this attempt.</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     * This is put as a hidden field in the HTML, so that when we receive some</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">     * data to process, then we can check that it came from the question</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">     * in the state we are now it.</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">     * @return int a number that summarises the current state of this question attempt.</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">     */</span>
<a name="l382"><span class="linenum"> 382</span></a>      public function <a class="function" onClick="logFunction('get_sequence_check_count')" href="../../_functions/get_sequence_check_count.html" onMouseOver="funcPopup(event,'get_sequence_check_count')">get_sequence_check_count</a>() {
<a name="l383"><span class="linenum"> 383</span></a>          <a class="var it39474" onMouseOver="hilite(39474)" onMouseOut="lolite()" onClick="logVariable('numrealsteps')" href="../../_variables/numrealsteps.html">$numrealsteps</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>();
<a name="l384"><span class="linenum"> 384</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('has_autosaved_step')" href="../../_functions/has_autosaved_step.html" onMouseOver="funcPopup(event,'has_autosaved_step')">has_autosaved_step</a>()) {
<a name="l385"><span class="linenum"> 385</span></a>              <a class="var it39474" onMouseOver="hilite(39474)" onMouseOut="lolite()" onClick="logVariable('numrealsteps')" href="../../_variables/numrealsteps.html">$numrealsteps</a> -= 1;
<a name="l386"><span class="linenum"> 386</span></a>          }
<a name="l387"><span class="linenum"> 387</span></a>          return <a class="var it39474" onMouseOver="hilite(39474)" onMouseOut="lolite()" onClick="logVariable('numrealsteps')" href="../../_variables/numrealsteps.html">$numrealsteps</a>;
<a name="l388"><span class="linenum"> 388</span></a>      }
<a name="l389"><span class="linenum"> 389</span></a>  
<a name="l390"><span class="linenum"> 390</span></a>      <span class="comment">/**</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">     * Get the number of steps in this attempt.</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">     * For internal/test code use only.</span>
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment">     * @return int the number of steps we currently have.</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">     */</span>
<a name="l395"><span class="linenum"> 395</span></a>      public function <a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>() {
<a name="l396"><span class="linenum"> 396</span></a>          return <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l397"><span class="linenum"> 397</span></a>      }
<a name="l398"><span class="linenum"> 398</span></a>  
<a name="l399"><span class="linenum"> 399</span></a>      <span class="comment">/**</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">     * Return the latest step in this question_attempt.</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * For internal/test code use only.</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     * @return question_attempt_step</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     */</span>
<a name="l404"><span class="linenum"> 404</span></a>      public function <a class="function" onClick="logFunction('get_last_step')" href="../../_functions/get_last_step.html" onMouseOver="funcPopup(event,'get_last_step')">get_last_step</a>() {
<a name="l405"><span class="linenum"> 405</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>) == 0) {
<a name="l406"><span class="linenum"> 406</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('question_null_step')" href="../../_classes/question_null_step.html" onMouseOver="classPopup(event,'question_null_step')">question_null_step</a>();
<a name="l407"><span class="linenum"> 407</span></a>          }
<a name="l408"><span class="linenum"> 408</span></a>          return <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l409"><span class="linenum"> 409</span></a>      }
<a name="l410"><span class="linenum"> 410</span></a>  
<a name="l411"><span class="linenum"> 411</span></a>      <span class="comment">/**</span>
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">     * @return boolean whether this question_attempt has autosaved data from</span>
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">     * some time in the past.</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">     */</span>
<a name="l415"><span class="linenum"> 415</span></a>      public function <a class="function" onClick="logFunction('has_autosaved_step')" href="../../_functions/has_autosaved_step.html" onMouseOver="funcPopup(event,'has_autosaved_step')">has_autosaved_step</a>() {
<a name="l416"><span class="linenum"> 416</span></a>          return !<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a>);
<a name="l417"><span class="linenum"> 417</span></a>      }
<a name="l418"><span class="linenum"> 418</span></a>  
<a name="l419"><span class="linenum"> 419</span></a>      <span class="comment">/**</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">     * @return question_attempt_step_iterator for iterating over the steps in</span>
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">     * this attempt, in order.</span>
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">     */</span>
<a name="l423"><span class="linenum"> 423</span></a>      public function <a class="function" onClick="logFunction('get_step_iterator')" href="../../_functions/get_step_iterator.html" onMouseOver="funcPopup(event,'get_step_iterator')">get_step_iterator</a>() {
<a name="l424"><span class="linenum"> 424</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_step_iterator')" href="../../_classes/question_attempt_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_step_iterator')">question_attempt_step_iterator</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l425"><span class="linenum"> 425</span></a>      }
<a name="l426"><span class="linenum"> 426</span></a>  
<a name="l427"><span class="linenum"> 427</span></a>      <span class="comment">/**</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">     * The same as {@link get_step_iterator()}. However, for a</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment">     * {@link question_attempt_with_restricted_history} this returns the full</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">     * list of steps, while {@link get_step_iterator()} returns only the</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">     * limited history.</span>
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">     * @return question_attempt_step_iterator for iterating over the steps in</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">     * this attempt, in order.</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">     */</span>
<a name="l435"><span class="linenum"> 435</span></a>      public function <a class="function" onClick="logFunction('get_full_step_iterator')" href="../../_functions/get_full_step_iterator.html" onMouseOver="funcPopup(event,'get_full_step_iterator')">get_full_step_iterator</a>() {
<a name="l436"><span class="linenum"> 436</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_step_iterator')" href="../../_functions/get_step_iterator.html" onMouseOver="funcPopup(event,'get_step_iterator')">get_step_iterator</a>();
<a name="l437"><span class="linenum"> 437</span></a>      }
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>      <span class="comment">/**</span>
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment">     * @return question_attempt_reverse_step_iterator for iterating over the steps in</span>
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment">     * this attempt, in reverse order.</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">     */</span>
<a name="l443"><span class="linenum"> 443</span></a>      public function <a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() {
<a name="l444"><span class="linenum"> 444</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_reverse_step_iterator')" href="../../_classes/question_attempt_reverse_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_reverse_step_iterator')">question_attempt_reverse_step_iterator</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l445"><span class="linenum"> 445</span></a>      }
<a name="l446"><span class="linenum"> 446</span></a>  
<a name="l447"><span class="linenum"> 447</span></a>      <span class="comment">/**</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">     * Get the qt data from the latest step that has any qt data. Return $default</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">     * array if it is no step has qt data.</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">     *</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">     * @param string $name the name of the variable to get.</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">     * @param mixed default the value to return no step has qt data.</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">     *      (Optional, defaults to an empty array.)</span>
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment">     * @return array|mixed the data, or $default if there is not any.</span>
<a name="l455"><span class="linenum"> 455</span></a>  <span class="comment">     */</span>
<a name="l456"><span class="linenum"> 456</span></a>      public function <a class="function" onClick="logFunction('get_last_qt_data')" href="../../_functions/get_last_qt_data.html" onMouseOver="funcPopup(event,'get_last_qt_data')">get_last_qt_data</a>(<a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = array()) {
<a name="l457"><span class="linenum"> 457</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l458"><span class="linenum"> 458</span></a>              <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a> = <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_qt_data')" href="../../_functions/get_qt_data.html" onMouseOver="funcPopup(event,'get_qt_data')">get_qt_data</a>();
<a name="l459"><span class="linenum"> 459</span></a>              if (!empty(<a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>)) {
<a name="l460"><span class="linenum"> 460</span></a>                  return <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>;
<a name="l461"><span class="linenum"> 461</span></a>              }
<a name="l462"><span class="linenum"> 462</span></a>          }
<a name="l463"><span class="linenum"> 463</span></a>          return <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a>;
<a name="l464"><span class="linenum"> 464</span></a>      }
<a name="l465"><span class="linenum"> 465</span></a>  
<a name="l466"><span class="linenum"> 466</span></a>      <span class="comment">/**</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">     * Get the last step with a particular question type varialbe set.</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">     * @param string $name the name of the variable to get.</span>
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">     * @return question_attempt_step the last step, or a step with no variables</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">     * if there was not a real step.</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment">     */</span>
<a name="l472"><span class="linenum"> 472</span></a>      public function <a class="function" onClick="logFunction('get_last_step_with_qt_var')" href="../../_functions/get_last_step_with_qt_var.html" onMouseOver="funcPopup(event,'get_last_step_with_qt_var')">get_last_step_with_qt_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l473"><span class="linenum"> 473</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l474"><span class="linenum"> 474</span></a>              if (<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_qt_var')" href="../../_functions/has_qt_var.html" onMouseOver="funcPopup(event,'has_qt_var')">has_qt_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l475"><span class="linenum"> 475</span></a>                  return <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>;
<a name="l476"><span class="linenum"> 476</span></a>              }
<a name="l477"><span class="linenum"> 477</span></a>          }
<a name="l478"><span class="linenum"> 478</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_step_read_only')" href="../../_classes/question_attempt_step_read_only.html" onMouseOver="classPopup(event,'question_attempt_step_read_only')">question_attempt_step_read_only</a>();
<a name="l479"><span class="linenum"> 479</span></a>      }
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>      <span class="comment">/**</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">     * Get the last step with a particular behaviour variable set.</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">     * @param string $name the name of the variable to get.</span>
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">     * @return question_attempt_step the last step, or a step with no variables</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment">     * if there was not a real step.</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">     */</span>
<a name="l487"><span class="linenum"> 487</span></a>      public function <a class="function" onClick="logFunction('get_last_step_with_behaviour_var')" href="../../_functions/get_last_step_with_behaviour_var.html" onMouseOver="funcPopup(event,'get_last_step_with_behaviour_var')">get_last_step_with_behaviour_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l488"><span class="linenum"> 488</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l489"><span class="linenum"> 489</span></a>              if (<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_behaviour_var')" href="../../_functions/has_behaviour_var.html" onMouseOver="funcPopup(event,'has_behaviour_var')">has_behaviour_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l490"><span class="linenum"> 490</span></a>                  return <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>;
<a name="l491"><span class="linenum"> 491</span></a>              }
<a name="l492"><span class="linenum"> 492</span></a>          }
<a name="l493"><span class="linenum"> 493</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_step_read_only')" href="../../_classes/question_attempt_step_read_only.html" onMouseOver="classPopup(event,'question_attempt_step_read_only')">question_attempt_step_read_only</a>();
<a name="l494"><span class="linenum"> 494</span></a>      }
<a name="l495"><span class="linenum"> 495</span></a>  
<a name="l496"><span class="linenum"> 496</span></a>      <span class="comment">/**</span>
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment">     * Get the latest value of a particular question type variable. That is, get</span>
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment">     * the value from the latest step that has it set. Return null if it is not</span>
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">     * set in any step.</span>
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment">     *</span>
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment">     * @param string $name the name of the variable to get.</span>
<a name="l502"><span class="linenum"> 502</span></a>  <span class="comment">     * @param mixed default the value to return in the variable has never been set.</span>
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">     *      (Optional, defaults to null.)</span>
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">     * @return mixed string value, or $default if it has never been set.</span>
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">     */</span>
<a name="l506"><span class="linenum"> 506</span></a>      public function <a class="function" onClick="logFunction('get_last_qt_var')" href="../../_functions/get_last_qt_var.html" onMouseOver="funcPopup(event,'get_last_qt_var')">get_last_qt_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = null) {
<a name="l507"><span class="linenum"> 507</span></a>          <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_last_step_with_qt_var')" href="../../_functions/get_last_step_with_qt_var.html" onMouseOver="funcPopup(event,'get_last_step_with_qt_var')">get_last_step_with_qt_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l508"><span class="linenum"> 508</span></a>          if (<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_qt_var')" href="../../_functions/has_qt_var.html" onMouseOver="funcPopup(event,'has_qt_var')">has_qt_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l509"><span class="linenum"> 509</span></a>              return <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_qt_var')" href="../../_functions/get_qt_var.html" onMouseOver="funcPopup(event,'get_qt_var')">get_qt_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l510"><span class="linenum"> 510</span></a>          } else {
<a name="l511"><span class="linenum"> 511</span></a>              return <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a>;
<a name="l512"><span class="linenum"> 512</span></a>          }
<a name="l513"><span class="linenum"> 513</span></a>      }
<a name="l514"><span class="linenum"> 514</span></a>  
<a name="l515"><span class="linenum"> 515</span></a>      <span class="comment">/**</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">     * Get the latest set of files for a particular question type variable of</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     * type question_attempt::PARAM_FILES.</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">     *</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">     * @param string $name the name of the associated variable.</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">     * @return array of {@link stored_files}.</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">     */</span>
<a name="l522"><span class="linenum"> 522</span></a>      public function <a class="function" onClick="logFunction('get_last_qt_files')" href="../../_functions/get_last_qt_files.html" onMouseOver="funcPopup(event,'get_last_qt_files')">get_last_qt_files</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>) {
<a name="l523"><span class="linenum"> 523</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l524"><span class="linenum"> 524</span></a>              if (<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_qt_var')" href="../../_functions/has_qt_var.html" onMouseOver="funcPopup(event,'has_qt_var')">has_qt_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l525"><span class="linenum"> 525</span></a>                  return <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_qt_files')" href="../../_functions/get_qt_files.html" onMouseOver="funcPopup(event,'get_qt_files')">get_qt_files</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>);
<a name="l526"><span class="linenum"> 526</span></a>              }
<a name="l527"><span class="linenum"> 527</span></a>          }
<a name="l528"><span class="linenum"> 528</span></a>          return array();
<a name="l529"><span class="linenum"> 529</span></a>      }
<a name="l530"><span class="linenum"> 530</span></a>  
<a name="l531"><span class="linenum"> 531</span></a>      <span class="comment">/**</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">     * Get the URL of a file that belongs to a response variable of this</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     * question_attempt.</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">     * @param stored_file $file the file to link to.</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">     * @return string the URL of that file.</span>
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">     */</span>
<a name="l537"><span class="linenum"> 537</span></a>      public function <a class="function" onClick="logFunction('get_response_file_url')" href="../../_functions/get_response_file_url.html" onMouseOver="funcPopup(event,'get_response_file_url')">get_response_file_url</a>(stored_file <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>) {
<a name="l538"><span class="linenum"> 538</span></a>          return <a class="function" onClick="logFunction('file_encode_url')" href="../../_functions/file_encode_url.html" onMouseOver="funcPopup(event,'file_encode_url')">file_encode_url</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../pluginfile.php.html">/pluginfile.php</a>'), '/' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('/', array(
<a name="l539"><span class="linenum"> 539</span></a>                  <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_contextid')" href="../../_functions/get_contextid.html" onMouseOver="funcPopup(event,'get_contextid')">get_contextid</a>(),
<a name="l540"><span class="linenum"> 540</span></a>                  <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_component')" href="../../_functions/get_component.html" onMouseOver="funcPopup(event,'get_component')">get_component</a>(),
<a name="l541"><span class="linenum"> 541</span></a>                  <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filearea')" href="../../_functions/get_filearea.html" onMouseOver="funcPopup(event,'get_filearea')">get_filearea</a>(),
<a name="l542"><span class="linenum"> 542</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a>,
<a name="l543"><span class="linenum"> 543</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slot')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a>,
<a name="l544"><span class="linenum"> 544</span></a>                  <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_itemid')" href="../../_functions/get_itemid.html" onMouseOver="funcPopup(event,'get_itemid')">get_itemid</a>())) .
<a name="l545"><span class="linenum"> 545</span></a>                  <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filepath')" href="../../_functions/get_filepath.html" onMouseOver="funcPopup(event,'get_filepath')">get_filepath</a>() . <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>(), true);
<a name="l546"><span class="linenum"> 546</span></a>      }
<a name="l547"><span class="linenum"> 547</span></a>  
<a name="l548"><span class="linenum"> 548</span></a>      <span class="comment">/**</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">     * Prepare a draft file are for the files belonging the a response variable</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">     * of this question attempt. The draft area is populated with the files from</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">     * the most recent step having files.</span>
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">     *</span>
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">     * @param string $name the variable name the files belong to.</span>
<a name="l554"><span class="linenum"> 554</span></a>  <span class="comment">     * @param int $contextid the id of the context the quba belongs to.</span>
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">     * @return int the draft itemid.</span>
<a name="l556"><span class="linenum"> 556</span></a>  <span class="comment">     */</span>
<a name="l557"><span class="linenum"> 557</span></a>      public function <a class="function" onClick="logFunction('prepare_response_files_draft_itemid')" href="../../_functions/prepare_response_files_draft_itemid.html" onMouseOver="funcPopup(event,'prepare_response_files_draft_itemid')">prepare_response_files_draft_itemid</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>) {
<a name="l558"><span class="linenum"> 558</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l559"><span class="linenum"> 559</span></a>              if (<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_qt_var')" href="../../_functions/has_qt_var.html" onMouseOver="funcPopup(event,'has_qt_var')">has_qt_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l560"><span class="linenum"> 560</span></a>                  return <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('prepare_response_files_draft_itemid')" href="../../_functions/prepare_response_files_draft_itemid.html" onMouseOver="funcPopup(event,'prepare_response_files_draft_itemid')">prepare_response_files_draft_itemid</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>);
<a name="l561"><span class="linenum"> 561</span></a>              }
<a name="l562"><span class="linenum"> 562</span></a>          }
<a name="l563"><span class="linenum"> 563</span></a>  
<a name="l564"><span class="linenum"> 564</span></a>  <span class="comment">        // No files yet.</span>
<a name="l565"><span class="linenum"> 565</span></a>          <a class="var it2102" onMouseOver="hilite(2102)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../../_variables/draftid.html">$draftid</a> = 0; <span class="comment">// Will be filled in by file_prepare_draft_area.</span>
<a name="l566"><span class="linenum"> 566</span></a>          <a class="function" onClick="logFunction('file_prepare_draft_area')" href="../../_functions/file_prepare_draft_area.html" onMouseOver="funcPopup(event,'file_prepare_draft_area')">file_prepare_draft_area</a>(<a class="var it2102" onMouseOver="hilite(2102)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../../_variables/draftid.html">$draftid</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>, 'question', 'response_' . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, null);
<a name="l567"><span class="linenum"> 567</span></a>          return <a class="var it2102" onMouseOver="hilite(2102)" onMouseOut="lolite()" onClick="logVariable('draftid')" href="../../_variables/draftid.html">$draftid</a>;
<a name="l568"><span class="linenum"> 568</span></a>      }
<a name="l569"><span class="linenum"> 569</span></a>  
<a name="l570"><span class="linenum"> 570</span></a>      <span class="comment">/**</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">     * Get the latest value of a particular behaviour variable. That is,</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">     * get the value from the latest step that has it set. Return null if it is</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment">     * not set in any step.</span>
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment">     *</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment">     * @param string $name the name of the variable to get.</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">     * @param mixed default the value to return in the variable has never been set.</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">     *      (Optional, defaults to null.)</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">     * @return mixed string value, or $default if it has never been set.</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">     */</span>
<a name="l580"><span class="linenum"> 580</span></a>      public function <a class="function" onClick="logFunction('get_last_behaviour_var')" href="../../_functions/get_last_behaviour_var.html" onMouseOver="funcPopup(event,'get_last_behaviour_var')">get_last_behaviour_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = null) {
<a name="l581"><span class="linenum"> 581</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l582"><span class="linenum"> 582</span></a>              if (<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_behaviour_var')" href="../../_functions/has_behaviour_var.html" onMouseOver="funcPopup(event,'has_behaviour_var')">has_behaviour_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l583"><span class="linenum"> 583</span></a>                  return <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_var')" href="../../_functions/get_behaviour_var.html" onMouseOver="funcPopup(event,'get_behaviour_var')">get_behaviour_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l584"><span class="linenum"> 584</span></a>              }
<a name="l585"><span class="linenum"> 585</span></a>          }
<a name="l586"><span class="linenum"> 586</span></a>          return <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a>;
<a name="l587"><span class="linenum"> 587</span></a>      }
<a name="l588"><span class="linenum"> 588</span></a>  
<a name="l589"><span class="linenum"> 589</span></a>      <span class="comment">/**</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment">     * Get the current state of this question attempt. That is, the state of the</span>
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment">     * latest step.</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment">     * @return question_state</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">     */</span>
<a name="l594"><span class="linenum"> 594</span></a>      public function <a class="function" onClick="logFunction('get_state')" href="../../_functions/get_state.html" onMouseOver="funcPopup(event,'get_state')">get_state</a>() {
<a name="l595"><span class="linenum"> 595</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_last_step')" href="../../_functions/get_last_step.html" onMouseOver="funcPopup(event,'get_last_step')">get_last_step</a>()-&gt;<a class="function" onClick="logFunction('get_state')" href="../../_functions/get_state.html" onMouseOver="funcPopup(event,'get_state')">get_state</a>();
<a name="l596"><span class="linenum"> 596</span></a>      }
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>      <span class="comment">/**</span>
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment">     * @param bool $showcorrectness Whether right/partial/wrong states should</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">     * be distinguised.</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">     * @return string A brief textual description of the current state.</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment">     */</span>
<a name="l603"><span class="linenum"> 603</span></a>      public function <a class="function" onClick="logFunction('get_state_string')" href="../../_functions/get_state_string.html" onMouseOver="funcPopup(event,'get_state_string')">get_state_string</a>(<a class="var it760" onMouseOver="hilite(760)" onMouseOut="lolite()" onClick="logVariable('showcorrectness')" href="../../_variables/showcorrectness.html">$showcorrectness</a>) {
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment">        // Special case when attempt is based on previous one, see MDL-31226.</span>
<a name="l605"><span class="linenum"> 605</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>() == 1 &amp;&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_state')" href="../../_functions/get_state.html" onMouseOver="funcPopup(event,'get_state')">get_state</a>() == question_state::<a class="var it767" onMouseOver="hilite(767)" onMouseOut="lolite()" onClick="logVariable('complete')" href="../../_variables/complete.html">$complete</a>) {
<a name="l606"><span class="linenum"> 606</span></a>              return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notchanged', 'question');
<a name="l607"><span class="linenum"> 607</span></a>          }
<a name="l608"><span class="linenum"> 608</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_state_string')" href="../../_functions/get_state_string.html" onMouseOver="funcPopup(event,'get_state_string')">get_state_string</a>(<a class="var it760" onMouseOver="hilite(760)" onMouseOut="lolite()" onClick="logVariable('showcorrectness')" href="../../_variables/showcorrectness.html">$showcorrectness</a>);
<a name="l609"><span class="linenum"> 609</span></a>      }
<a name="l610"><span class="linenum"> 610</span></a>  
<a name="l611"><span class="linenum"> 611</span></a>      <span class="comment">/**</span>
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment">     * @param bool $showcorrectness Whether right/partial/wrong states should</span>
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">     * be distinguised.</span>
<a name="l614"><span class="linenum"> 614</span></a>  <span class="comment">     * @return string a CSS class name for the current state.</span>
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">     */</span>
<a name="l616"><span class="linenum"> 616</span></a>      public function <a class="function" onClick="logFunction('get_state_class')" href="../../_functions/get_state_class.html" onMouseOver="funcPopup(event,'get_state_class')">get_state_class</a>(<a class="var it760" onMouseOver="hilite(760)" onMouseOut="lolite()" onClick="logVariable('showcorrectness')" href="../../_variables/showcorrectness.html">$showcorrectness</a>) {
<a name="l617"><span class="linenum"> 617</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_state')" href="../../_functions/get_state.html" onMouseOver="funcPopup(event,'get_state')">get_state</a>()-&gt;<a class="function" onClick="logFunction('get_state_class')" href="../../_functions/get_state_class.html" onMouseOver="funcPopup(event,'get_state_class')">get_state_class</a>(<a class="var it760" onMouseOver="hilite(760)" onMouseOut="lolite()" onClick="logVariable('showcorrectness')" href="../../_variables/showcorrectness.html">$showcorrectness</a>);
<a name="l618"><span class="linenum"> 618</span></a>      }
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>      <span class="comment">/**</span>
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">     * @return int the timestamp of the most recent step in this question attempt.</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">     */</span>
<a name="l623"><span class="linenum"> 623</span></a>      public function <a class="function" onClick="logFunction('get_last_action_time')" href="../../_functions/get_last_action_time.html" onMouseOver="funcPopup(event,'get_last_action_time')">get_last_action_time</a>() {
<a name="l624"><span class="linenum"> 624</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_last_step')" href="../../_functions/get_last_step.html" onMouseOver="funcPopup(event,'get_last_step')">get_last_step</a>()-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>();
<a name="l625"><span class="linenum"> 625</span></a>      }
<a name="l626"><span class="linenum"> 626</span></a>  
<a name="l627"><span class="linenum"> 627</span></a>      <span class="comment">/**</span>
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">     * Get the current fraction of this question attempt. That is, the fraction</span>
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment">     * of the latest step, or null if this question has not yet been graded.</span>
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">     * @return number the current fraction.</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">     */</span>
<a name="l632"><span class="linenum"> 632</span></a>      public function <a class="function" onClick="logFunction('get_fraction')" href="../../_functions/get_fraction.html" onMouseOver="funcPopup(event,'get_fraction')">get_fraction</a>() {
<a name="l633"><span class="linenum"> 633</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_last_step')" href="../../_functions/get_last_step.html" onMouseOver="funcPopup(event,'get_last_step')">get_last_step</a>()-&gt;<a class="function" onClick="logFunction('get_fraction')" href="../../_functions/get_fraction.html" onMouseOver="funcPopup(event,'get_fraction')">get_fraction</a>();
<a name="l634"><span class="linenum"> 634</span></a>      }
<a name="l635"><span class="linenum"> 635</span></a>  
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">    /** @return bool whether this question attempt has a non-zero maximum mark. */</span>
<a name="l637"><span class="linenum"> 637</span></a>      public function <a class="function" onClick="logFunction('has_marks')" href="../../_functions/has_marks.html" onMouseOver="funcPopup(event,'has_marks')">has_marks</a>() {
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">        // Since grades are stored in the database as NUMBER(12,7).</span>
<a name="l639"><span class="linenum"> 639</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> &gt;= 0.00000005;
<a name="l640"><span class="linenum"> 640</span></a>      }
<a name="l641"><span class="linenum"> 641</span></a>  
<a name="l642"><span class="linenum"> 642</span></a>      <span class="comment">/**</span>
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment">     * @return number the current mark for this question.</span>
<a name="l644"><span class="linenum"> 644</span></a>  <span class="comment">     * {@link get_fraction()} * {@link get_max_mark()}.</span>
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment">     */</span>
<a name="l646"><span class="linenum"> 646</span></a>      public function <a class="function" onClick="logFunction('get_mark')" href="../../_functions/get_mark.html" onMouseOver="funcPopup(event,'get_mark')">get_mark</a>() {
<a name="l647"><span class="linenum"> 647</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('fraction_to_mark')" href="../../_functions/fraction_to_mark.html" onMouseOver="funcPopup(event,'fraction_to_mark')">fraction_to_mark</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_fraction')" href="../../_functions/get_fraction.html" onMouseOver="funcPopup(event,'get_fraction')">get_fraction</a>());
<a name="l648"><span class="linenum"> 648</span></a>      }
<a name="l649"><span class="linenum"> 649</span></a>  
<a name="l650"><span class="linenum"> 650</span></a>      <span class="comment">/**</span>
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">     * This is used by the manual grading code, particularly in association with</span>
<a name="l652"><span class="linenum"> 652</span></a>  <span class="comment">     * validation. If there is a mark submitted in the request, then use that,</span>
<a name="l653"><span class="linenum"> 653</span></a>  <span class="comment">     * otherwise use the latest mark for this question.</span>
<a name="l654"><span class="linenum"> 654</span></a>  <span class="comment">     * @return number the current manual mark for this question, formatted for display.</span>
<a name="l655"><span class="linenum"> 655</span></a>  <span class="comment">     */</span>
<a name="l656"><span class="linenum"> 656</span></a>      public function <a class="function" onClick="logFunction('get_current_manual_mark')" href="../../_functions/get_current_manual_mark.html" onMouseOver="funcPopup(event,'get_current_manual_mark')">get_current_manual_mark</a>() {
<a name="l657"><span class="linenum"> 657</span></a>          <a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('mark'), <a class="constant" onClick="logConstant('PARAM_RAW_TRIMMED')" href="../../_constants/PARAM_RAW_TRIMMED.html" onMouseOver="constPopup(event,'PARAM_RAW_TRIMMED')">PARAM_RAW_TRIMMED</a>);
<a name="l658"><span class="linenum"> 658</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>)) {
<a name="l659"><span class="linenum"> 659</span></a>              return <a class="function" onClick="logFunction('format_float')" href="../../_functions/format_float.html" onMouseOver="funcPopup(event,'format_float')">format_float</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_mark')" href="../../_functions/get_mark.html" onMouseOver="funcPopup(event,'get_mark')">get_mark</a>(), 7, true, true);
<a name="l660"><span class="linenum"> 660</span></a>          } else {
<a name="l661"><span class="linenum"> 661</span></a>              return <a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>;
<a name="l662"><span class="linenum"> 662</span></a>          }
<a name="l663"><span class="linenum"> 663</span></a>      }
<a name="l664"><span class="linenum"> 664</span></a>  
<a name="l665"><span class="linenum"> 665</span></a>      <span class="comment">/**</span>
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">     * @param number|null $fraction a fraction.</span>
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment">     * @return number|null the corresponding mark.</span>
<a name="l668"><span class="linenum"> 668</span></a>  <span class="comment">     */</span>
<a name="l669"><span class="linenum"> 669</span></a>      public function <a class="function" onClick="logFunction('fraction_to_mark')" href="../../_functions/fraction_to_mark.html" onMouseOver="funcPopup(event,'fraction_to_mark')">fraction_to_mark</a>(<a class="var it765" onMouseOver="hilite(765)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>) {
<a name="l670"><span class="linenum"> 670</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it765" onMouseOver="hilite(765)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>)) {
<a name="l671"><span class="linenum"> 671</span></a>              return null;
<a name="l672"><span class="linenum"> 672</span></a>          }
<a name="l673"><span class="linenum"> 673</span></a>          return <a class="var it765" onMouseOver="hilite(765)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a> * <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a>;
<a name="l674"><span class="linenum"> 674</span></a>      }
<a name="l675"><span class="linenum"> 675</span></a>  
<a name="l676"><span class="linenum"> 676</span></a>      <span class="comment">/**</span>
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment">     * @return float the maximum mark possible for this question attempt.</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">     * In fact, this is not strictly the maximum, becuase get_max_fraction may</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">     * return a number greater than 1. It might be better to think of this as a</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">     * question weight.</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">     */</span>
<a name="l682"><span class="linenum"> 682</span></a>      public function <a class="function" onClick="logFunction('get_max_mark')" href="../../_functions/get_max_mark.html" onMouseOver="funcPopup(event,'get_max_mark')">get_max_mark</a>() {
<a name="l683"><span class="linenum"> 683</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a>;
<a name="l684"><span class="linenum"> 684</span></a>      }
<a name="l685"><span class="linenum"> 685</span></a>  
<a name="l686"><span class="linenum"> 686</span></a>  <span class="comment">    /** @return float the maximum mark possible for this question attempt. */</span>
<a name="l687"><span class="linenum"> 687</span></a>      public function <a class="function" onClick="logFunction('get_min_fraction')" href="../../_functions/get_min_fraction.html" onMouseOver="funcPopup(event,'get_min_fraction')">get_min_fraction</a>() {
<a name="l688"><span class="linenum"> 688</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('minfraction')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a>)) {
<a name="l689"><span class="linenum"> 689</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('This question_attempt has not been started yet, the min fraction is not yet known.');
<a name="l690"><span class="linenum"> 690</span></a>          }
<a name="l691"><span class="linenum"> 691</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('minfraction')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a>;
<a name="l692"><span class="linenum"> 692</span></a>      }
<a name="l693"><span class="linenum"> 693</span></a>  
<a name="l694"><span class="linenum"> 694</span></a>  <span class="comment">    /** @return float the maximum mark possible for this question attempt. */</span>
<a name="l695"><span class="linenum"> 695</span></a>      public function <a class="function" onClick="logFunction('get_max_fraction')" href="../../_functions/get_max_fraction.html" onMouseOver="funcPopup(event,'get_max_fraction')">get_max_fraction</a>() {
<a name="l696"><span class="linenum"> 696</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a>)) {
<a name="l697"><span class="linenum"> 697</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('This question_attempt has not been started yet, the max fraction is not yet known.');
<a name="l698"><span class="linenum"> 698</span></a>          }
<a name="l699"><span class="linenum"> 699</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a>;
<a name="l700"><span class="linenum"> 700</span></a>      }
<a name="l701"><span class="linenum"> 701</span></a>  
<a name="l702"><span class="linenum"> 702</span></a>      <span class="comment">/**</span>
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment">     * The current mark, formatted to the stated number of decimal places. Uses</span>
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">     * {@link format_float()} to format floats according to the current locale.</span>
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment">     * @param int $dp number of decimal places.</span>
<a name="l706"><span class="linenum"> 706</span></a>  <span class="comment">     * @return string formatted mark.</span>
<a name="l707"><span class="linenum"> 707</span></a>  <span class="comment">     */</span>
<a name="l708"><span class="linenum"> 708</span></a>      public function <a class="function" onClick="logFunction('format_mark')" href="../../_functions/format_mark.html" onMouseOver="funcPopup(event,'format_mark')">format_mark</a>(<a class="var it7920" onMouseOver="hilite(7920)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>) {
<a name="l709"><span class="linenum"> 709</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('format_fraction_as_mark')" href="../../_functions/format_fraction_as_mark.html" onMouseOver="funcPopup(event,'format_fraction_as_mark')">format_fraction_as_mark</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_fraction')" href="../../_functions/get_fraction.html" onMouseOver="funcPopup(event,'get_fraction')">get_fraction</a>(), <a class="var it7920" onMouseOver="hilite(7920)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>);
<a name="l710"><span class="linenum"> 710</span></a>      }
<a name="l711"><span class="linenum"> 711</span></a>  
<a name="l712"><span class="linenum"> 712</span></a>      <span class="comment">/**</span>
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">     * The current mark, formatted to the stated number of decimal places. Uses</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     * {@link format_float()} to format floats according to the current locale.</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     * @param int $dp number of decimal places.</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * @return string formatted mark.</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     */</span>
<a name="l718"><span class="linenum"> 718</span></a>      public function <a class="function" onClick="logFunction('format_fraction_as_mark')" href="../../_functions/format_fraction_as_mark.html" onMouseOver="funcPopup(event,'format_fraction_as_mark')">format_fraction_as_mark</a>(<a class="var it765" onMouseOver="hilite(765)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>, <a class="var it7920" onMouseOver="hilite(7920)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>) {
<a name="l719"><span class="linenum"> 719</span></a>          return <a class="function" onClick="logFunction('format_float')" href="../../_functions/format_float.html" onMouseOver="funcPopup(event,'format_float')">format_float</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('fraction_to_mark')" href="../../_functions/fraction_to_mark.html" onMouseOver="funcPopup(event,'fraction_to_mark')">fraction_to_mark</a>(<a class="var it765" onMouseOver="hilite(765)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>), <a class="var it7920" onMouseOver="hilite(7920)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>);
<a name="l720"><span class="linenum"> 720</span></a>      }
<a name="l721"><span class="linenum"> 721</span></a>  
<a name="l722"><span class="linenum"> 722</span></a>      <span class="comment">/**</span>
<a name="l723"><span class="linenum"> 723</span></a>  <span class="comment">     * The maximum mark for this question attempt, formatted to the stated number</span>
<a name="l724"><span class="linenum"> 724</span></a>  <span class="comment">     * of decimal places. Uses {@link format_float()} to format floats according</span>
<a name="l725"><span class="linenum"> 725</span></a>  <span class="comment">     * to the current locale.</span>
<a name="l726"><span class="linenum"> 726</span></a>  <span class="comment">     * @param int $dp number of decimal places.</span>
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">     * @return string formatted maximum mark.</span>
<a name="l728"><span class="linenum"> 728</span></a>  <span class="comment">     */</span>
<a name="l729"><span class="linenum"> 729</span></a>      public function <a class="function" onClick="logFunction('format_max_mark')" href="../../_functions/format_max_mark.html" onMouseOver="funcPopup(event,'format_max_mark')">format_max_mark</a>(<a class="var it7920" onMouseOver="hilite(7920)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>) {
<a name="l730"><span class="linenum"> 730</span></a>          return <a class="function" onClick="logFunction('format_float')" href="../../_functions/format_float.html" onMouseOver="funcPopup(event,'format_float')">format_float</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a>, <a class="var it7920" onMouseOver="hilite(7920)" onMouseOut="lolite()" onClick="logVariable('dp')" href="../../_variables/dp.html">$dp</a>);
<a name="l731"><span class="linenum"> 731</span></a>      }
<a name="l732"><span class="linenum"> 732</span></a>  
<a name="l733"><span class="linenum"> 733</span></a>      <span class="comment">/**</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment">     * Return the hint that applies to the question in its current state, or null.</span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment">     * @return question_hint|null</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment">     */</span>
<a name="l737"><span class="linenum"> 737</span></a>      public function <a class="function" onClick="logFunction('get_applicable_hint')" href="../../_functions/get_applicable_hint.html" onMouseOver="funcPopup(event,'get_applicable_hint')">get_applicable_hint</a>() {
<a name="l738"><span class="linenum"> 738</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_applicable_hint')" href="../../_functions/get_applicable_hint.html" onMouseOver="funcPopup(event,'get_applicable_hint')">get_applicable_hint</a>();
<a name="l739"><span class="linenum"> 739</span></a>      }
<a name="l740"><span class="linenum"> 740</span></a>  
<a name="l741"><span class="linenum"> 741</span></a>      <span class="comment">/**</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment">     * Produce a plain-text summary of what the user did during a step.</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment">     * @param question_attempt_step $step the step in quetsion.</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment">     * @return string a summary of what was done during that step.</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment">     */</span>
<a name="l746"><span class="linenum"> 746</span></a>      public function <a class="function" onClick="logFunction('summarise_action')" href="../../_functions/summarise_action.html" onMouseOver="funcPopup(event,'summarise_action')">summarise_action</a>(question_attempt_step <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l747"><span class="linenum"> 747</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('summarise_action')" href="../../_functions/summarise_action.html" onMouseOver="funcPopup(event,'summarise_action')">summarise_action</a>(<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>);
<a name="l748"><span class="linenum"> 748</span></a>      }
<a name="l749"><span class="linenum"> 749</span></a>  
<a name="l750"><span class="linenum"> 750</span></a>      <span class="comment">/**</span>
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">     * Return one of the bits of metadata for a this question attempt.</span>
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment">     * @param string $name the name of the metadata variable to return.</span>
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment">     * @return string the value of that metadata variable.</span>
<a name="l754"><span class="linenum"> 754</span></a>  <span class="comment">     */</span>
<a name="l755"><span class="linenum"> 755</span></a>      public function <a class="function" onClick="logFunction('get_metadata')" href="../../_functions/get_metadata.html" onMouseOver="funcPopup(event,'get_metadata')">get_metadata</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l756"><span class="linenum"> 756</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_step')" href="../../_functions/get_step.html" onMouseOver="funcPopup(event,'get_step')">get_step</a>(0)-&gt;<a class="function" onClick="logFunction('get_metadata_var')" href="../../_functions/get_metadata_var.html" onMouseOver="funcPopup(event,'get_metadata_var')">get_metadata_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l757"><span class="linenum"> 757</span></a>      }
<a name="l758"><span class="linenum"> 758</span></a>  
<a name="l759"><span class="linenum"> 759</span></a>      <span class="comment">/**</span>
<a name="l760"><span class="linenum"> 760</span></a>  <span class="comment">     * Set some metadata for this question attempt.</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment">     * @param string $name the name of the metadata variable to return.</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment">     * @param string $value the value to set that metadata variable to.</span>
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">     */</span>
<a name="l764"><span class="linenum"> 764</span></a>      public function <a class="function" onClick="logFunction('set_metadata')" href="../../_functions/set_metadata.html" onMouseOver="funcPopup(event,'set_metadata')">set_metadata</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l765"><span class="linenum"> 765</span></a>          <a class="var it9206" onMouseOver="hilite(9206)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_step')" href="../../_functions/get_step.html" onMouseOver="funcPopup(event,'get_step')">get_step</a>(0);
<a name="l766"><span class="linenum"> 766</span></a>          if (!<a class="var it9206" onMouseOver="hilite(9206)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>-&gt;<a class="function" onClick="logFunction('has_metadata_var')" href="../../_functions/has_metadata_var.html" onMouseOver="funcPopup(event,'has_metadata_var')">has_metadata_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l767"><span class="linenum"> 767</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_metadata_added')" href="../../_functions/notify_metadata_added.html" onMouseOver="funcPopup(event,'notify_metadata_added')">notify_metadata_added</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l768"><span class="linenum"> 768</span></a>          } else if (<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> !== <a class="var it9206" onMouseOver="hilite(9206)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>-&gt;<a class="function" onClick="logFunction('get_metadata_var')" href="../../_functions/get_metadata_var.html" onMouseOver="funcPopup(event,'get_metadata_var')">get_metadata_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l769"><span class="linenum"> 769</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_metadata_modified')" href="../../_functions/notify_metadata_modified.html" onMouseOver="funcPopup(event,'notify_metadata_modified')">notify_metadata_modified</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l770"><span class="linenum"> 770</span></a>          }
<a name="l771"><span class="linenum"> 771</span></a>          <a class="var it9206" onMouseOver="hilite(9206)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>-&gt;<a class="function" onClick="logFunction('set_metadata_var')" href="../../_functions/set_metadata_var.html" onMouseOver="funcPopup(event,'set_metadata_var')">set_metadata_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l772"><span class="linenum"> 772</span></a>      }
<a name="l773"><span class="linenum"> 773</span></a>  
<a name="l774"><span class="linenum"> 774</span></a>      <span class="comment">/**</span>
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment">     * Helper function used by {@link rewrite_pluginfile_urls()} and</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">     * {@link rewrite_response_pluginfile_urls()}.</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment">     * @return array ids that need to go into the file paths.</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">     */</span>
<a name="l779"><span class="linenum"> 779</span></a>      protected function <a class="function" onClick="logFunction('extra_file_path_components')" href="../../_functions/extra_file_path_components.html" onMouseOver="funcPopup(event,'extra_file_path_components')">extra_file_path_components</a>() {
<a name="l780"><span class="linenum"> 780</span></a>          return array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_usage_id')" href="../../_functions/get_usage_id.html" onMouseOver="funcPopup(event,'get_usage_id')">get_usage_id</a>(), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_slot')" href="../../_functions/get_slot.html" onMouseOver="funcPopup(event,'get_slot')">get_slot</a>());
<a name="l781"><span class="linenum"> 781</span></a>      }
<a name="l782"><span class="linenum"> 782</span></a>  
<a name="l783"><span class="linenum"> 783</span></a>      <span class="comment">/**</span>
<a name="l784"><span class="linenum"> 784</span></a>  <span class="comment">     * Calls {@link question_rewrite_question_urls()} with appropriate parameters</span>
<a name="l785"><span class="linenum"> 785</span></a>  <span class="comment">     * for content belonging to this question.</span>
<a name="l786"><span class="linenum"> 786</span></a>  <span class="comment">     * @param string $text the content to output.</span>
<a name="l787"><span class="linenum"> 787</span></a>  <span class="comment">     * @param string $component the component name (normally 'question' or 'qtype_...')</span>
<a name="l788"><span class="linenum"> 788</span></a>  <span class="comment">     * @param string $filearea the name of the file area.</span>
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment">     * @param int $itemid the item id.</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">     * @return srting the content with the URLs rewritten.</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">     */</span>
<a name="l792"><span class="linenum"> 792</span></a>      public function <a class="function" onClick="logFunction('rewrite_pluginfile_urls')" href="../../_functions/rewrite_pluginfile_urls.html" onMouseOver="funcPopup(event,'rewrite_pluginfile_urls')">rewrite_pluginfile_urls</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, <a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>) {
<a name="l793"><span class="linenum"> 793</span></a>          return <a class="function" onClick="logFunction('question_rewrite_question_urls')" href="../../_functions/question_rewrite_question_urls.html" onMouseOver="funcPopup(event,'question_rewrite_question_urls')">question_rewrite_question_urls</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>, '<a class="filename" href="../../pluginfile.php.html">pluginfile.php</a>',
<a name="l794"><span class="linenum"> 794</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>-&gt;contextid, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, <a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>,
<a name="l795"><span class="linenum"> 795</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('extra_file_path_components')" href="../../_functions/extra_file_path_components.html" onMouseOver="funcPopup(event,'extra_file_path_components')">extra_file_path_components</a>(), <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>);
<a name="l796"><span class="linenum"> 796</span></a>      }
<a name="l797"><span class="linenum"> 797</span></a>  
<a name="l798"><span class="linenum"> 798</span></a>      <span class="comment">/**</span>
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment">     * Calls {@link question_rewrite_question_urls()} with appropriate parameters</span>
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment">     * for content belonging to responses to this question.</span>
<a name="l801"><span class="linenum"> 801</span></a>  <span class="comment">     *</span>
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment">     * @param string $text the text to update the URLs in.</span>
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment">     * @param int $contextid the id of the context the quba belongs to.</span>
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">     * @param string $name the variable name the files belong to.</span>
<a name="l805"><span class="linenum"> 805</span></a>  <span class="comment">     * @param question_attempt_step $step the step the response is coming from.</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">     * @return srting the content with the URLs rewritten.</span>
<a name="l807"><span class="linenum"> 807</span></a>  <span class="comment">     */</span>
<a name="l808"><span class="linenum"> 808</span></a>      public function <a class="function" onClick="logFunction('rewrite_response_pluginfile_urls')" href="../../_functions/rewrite_response_pluginfile_urls.html" onMouseOver="funcPopup(event,'rewrite_response_pluginfile_urls')">rewrite_response_pluginfile_urls</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>,
<a name="l809"><span class="linenum"> 809</span></a>              question_attempt_step <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l810"><span class="linenum"> 810</span></a>          return <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('rewrite_response_pluginfile_urls')" href="../../_functions/rewrite_response_pluginfile_urls.html" onMouseOver="funcPopup(event,'rewrite_response_pluginfile_urls')">rewrite_response_pluginfile_urls</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>,
<a name="l811"><span class="linenum"> 811</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('extra_file_path_components')" href="../../_functions/extra_file_path_components.html" onMouseOver="funcPopup(event,'extra_file_path_components')">extra_file_path_components</a>());
<a name="l812"><span class="linenum"> 812</span></a>      }
<a name="l813"><span class="linenum"> 813</span></a>  
<a name="l814"><span class="linenum"> 814</span></a>      <span class="comment">/**</span>
<a name="l815"><span class="linenum"> 815</span></a>  <span class="comment">     * Get the {@link core_question_renderer}, in collaboration with appropriate</span>
<a name="l816"><span class="linenum"> 816</span></a>  <span class="comment">     * {@link qbehaviour_renderer} and {@link qtype_renderer} subclasses, to generate the</span>
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment">     * HTML to display this question attempt in its current state.</span>
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment">     * @param question_display_options $options controls how the question is rendered.</span>
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">     * @param string|null $number The question number to display.</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">     * @return string HTML fragment representing the question.</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">     */</span>
<a name="l822"><span class="linenum"> 822</span></a>      public function <a class="function" onClick="logFunction('render')" href="../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a> = null) {
<a name="l823"><span class="linenum"> 823</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>)) {
<a name="l824"><span class="linenum"> 824</span></a>              global <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>;
<a name="l825"><span class="linenum"> 825</span></a>              <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a> = <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>;
<a name="l826"><span class="linenum"> 826</span></a>          }
<a name="l827"><span class="linenum"> 827</span></a>          <a class="var it16067" onMouseOver="hilite(16067)" onMouseOut="lolite()" onClick="logVariable('qoutput')" href="../../_variables/qoutput.html">$qoutput</a> = <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'question');
<a name="l828"><span class="linenum"> 828</span></a>          <a class="var it22316" onMouseOver="hilite(22316)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>);
<a name="l829"><span class="linenum"> 829</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('render')" href="../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>, <a class="var it16067" onMouseOver="hilite(16067)" onMouseOut="lolite()" onClick="logVariable('qoutput')" href="../../_variables/qoutput.html">$qoutput</a>, <a class="var it22316" onMouseOver="hilite(22316)" onMouseOut="lolite()" onClick="logVariable('qtoutput')" href="../../_variables/qtoutput.html">$qtoutput</a>);
<a name="l830"><span class="linenum"> 830</span></a>      }
<a name="l831"><span class="linenum"> 831</span></a>  
<a name="l832"><span class="linenum"> 832</span></a>      <span class="comment">/**</span>
<a name="l833"><span class="linenum"> 833</span></a>  <span class="comment">     * Generate any bits of HTML that needs to go in the &lt;head&gt; tag when this question</span>
<a name="l834"><span class="linenum"> 834</span></a>  <span class="comment">     * attempt is displayed in the body.</span>
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l836"><span class="linenum"> 836</span></a>  <span class="comment">     */</span>
<a name="l837"><span class="linenum"> 837</span></a>      public function <a class="function" onClick="logFunction('render_head_html')" href="../../_functions/render_head_html.html" onMouseOver="funcPopup(event,'render_head_html')">render_head_html</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a> = null) {
<a name="l838"><span class="linenum"> 838</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>)) {
<a name="l839"><span class="linenum"> 839</span></a>              global <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>;
<a name="l840"><span class="linenum"> 840</span></a>              <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a> = <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>;
<a name="l841"><span class="linenum"> 841</span></a>          }
<a name="l842"><span class="linenum"> 842</span></a>  <span class="comment">        // TODO go via behaviour.</span>
<a name="l843"><span class="linenum"> 843</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>)-&gt;<a class="function" onClick="logFunction('head_code')" href="../../_functions/head_code.html" onMouseOver="funcPopup(event,'head_code')">head_code</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>) .
<a name="l844"><span class="linenum"> 844</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../_variables/page.html">$page</a>)-&gt;<a class="function" onClick="logFunction('head_code')" href="../../_functions/head_code.html" onMouseOver="funcPopup(event,'head_code')">head_code</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l845"><span class="linenum"> 845</span></a>      }
<a name="l846"><span class="linenum"> 846</span></a>  
<a name="l847"><span class="linenum"> 847</span></a>      <span class="comment">/**</span>
<a name="l848"><span class="linenum"> 848</span></a>  <span class="comment">     * Like {@link render_question()} but displays the question at the past step</span>
<a name="l849"><span class="linenum"> 849</span></a>  <span class="comment">     * indicated by $seq, rather than showing the latest step.</span>
<a name="l850"><span class="linenum"> 850</span></a>  <span class="comment">     *</span>
<a name="l851"><span class="linenum"> 851</span></a>  <span class="comment">     * @param int $seq the seq number of the past state to display.</span>
<a name="l852"><span class="linenum"> 852</span></a>  <span class="comment">     * @param question_display_options $options controls how the question is rendered.</span>
<a name="l853"><span class="linenum"> 853</span></a>  <span class="comment">     * @param string|null $number The question number to display. 'i' is a special</span>
<a name="l854"><span class="linenum"> 854</span></a>  <span class="comment">     *      value that gets displayed as Information. Null means no number is displayed.</span>
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment">     * @return string HTML fragment representing the question.</span>
<a name="l856"><span class="linenum"> 856</span></a>  <span class="comment">     */</span>
<a name="l857"><span class="linenum"> 857</span></a>      public function <a class="function" onClick="logFunction('render_at_step')" href="../../_functions/render_at_step.html" onMouseOver="funcPopup(event,'render_at_step')">render_at_step</a>(<a class="var it3067" onMouseOver="hilite(3067)" onMouseOut="lolite()" onClick="logVariable('seq')" href="../../_variables/seq.html">$seq</a>, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>, <a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>) {
<a name="l858"><span class="linenum"> 858</span></a>          <a class="var it39475" onMouseOver="hilite(39475)" onMouseOut="lolite()" onClick="logVariable('restrictedqa')" href="../../_variables/restrictedqa.html">$restrictedqa</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_with_restricted_history')" href="../../_classes/question_attempt_with_restricted_history.html" onMouseOver="classPopup(event,'question_attempt_with_restricted_history')">question_attempt_with_restricted_history</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it3067" onMouseOver="hilite(3067)" onMouseOut="lolite()" onClick="logVariable('seq')" href="../../_variables/seq.html">$seq</a>, <a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l859"><span class="linenum"> 859</span></a>          return <a class="var it39475" onMouseOver="hilite(39475)" onMouseOut="lolite()" onClick="logVariable('restrictedqa')" href="../../_variables/restrictedqa.html">$restrictedqa</a>-&gt;<a class="function" onClick="logFunction('render')" href="../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>);
<a name="l860"><span class="linenum"> 860</span></a>      }
<a name="l861"><span class="linenum"> 861</span></a>  
<a name="l862"><span class="linenum"> 862</span></a>      <span class="comment">/**</span>
<a name="l863"><span class="linenum"> 863</span></a>  <span class="comment">     * Checks whether the users is allow to be served a particular file.</span>
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">     * @param question_display_options $options the options that control display of the question.</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">     * @param string $component the name of the component we are serving files for.</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment">     * @param string $filearea the name of the file area.</span>
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment">     * @param array $args the remaining bits of the file path.</span>
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment">     * @param bool $forcedownload whether the user must be forced to download the file.</span>
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment">     * @return bool true if the user can access this file.</span>
<a name="l870"><span class="linenum"> 870</span></a>  <span class="comment">     */</span>
<a name="l871"><span class="linenum"> 871</span></a>      public function <a class="function" onClick="logFunction('check_file_access')" href="../../_functions/check_file_access.html" onMouseOver="funcPopup(event,'check_file_access')">check_file_access</a>(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, <a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>, <a class="var it26" onMouseOver="hilite(26)" onMouseOut="lolite()" onClick="logVariable('forcedownload')" href="../../_variables/forcedownload.html">$forcedownload</a>) {
<a name="l872"><span class="linenum"> 872</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('check_file_access')" href="../../_functions/check_file_access.html" onMouseOver="funcPopup(event,'check_file_access')">check_file_access</a>(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, <a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>, <a class="var it26" onMouseOver="hilite(26)" onMouseOut="lolite()" onClick="logVariable('forcedownload')" href="../../_variables/forcedownload.html">$forcedownload</a>);
<a name="l873"><span class="linenum"> 873</span></a>      }
<a name="l874"><span class="linenum"> 874</span></a>  
<a name="l875"><span class="linenum"> 875</span></a>      <span class="comment">/**</span>
<a name="l876"><span class="linenum"> 876</span></a>  <span class="comment">     * Add a step to this question attempt.</span>
<a name="l877"><span class="linenum"> 877</span></a>  <span class="comment">     * @param question_attempt_step $step the new step.</span>
<a name="l878"><span class="linenum"> 878</span></a>  <span class="comment">     */</span>
<a name="l879"><span class="linenum"> 879</span></a>      protected function <a class="function" onClick="logFunction('add_step')" href="../../_functions/add_step.html" onMouseOver="funcPopup(event,'add_step')">add_step</a>(question_attempt_step <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l880"><span class="linenum"> 880</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[] = <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>;
<a name="l881"><span class="linenum"> 881</span></a>          <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l882"><span class="linenum"> 882</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_added')" href="../../_functions/notify_step_added.html" onMouseOver="funcPopup(event,'notify_step_added')">notify_step_added</a>(<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="phpfunction" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>));
<a name="l883"><span class="linenum"> 883</span></a>      }
<a name="l884"><span class="linenum"> 884</span></a>  
<a name="l885"><span class="linenum"> 885</span></a>      <span class="comment">/**</span>
<a name="l886"><span class="linenum"> 886</span></a>  <span class="comment">     * Add an auto-saved step to this question attempt. We mark auto-saved steps by</span>
<a name="l887"><span class="linenum"> 887</span></a>  <span class="comment">     * changing saving the step number with a - sign.</span>
<a name="l888"><span class="linenum"> 888</span></a>  <span class="comment">     * @param question_attempt_step $step the new step.</span>
<a name="l889"><span class="linenum"> 889</span></a>  <span class="comment">     */</span>
<a name="l890"><span class="linenum"> 890</span></a>      protected function <a class="function" onClick="logFunction('add_autosaved_step')" href="../../_functions/add_autosaved_step.html" onMouseOver="funcPopup(event,'add_autosaved_step')">add_autosaved_step</a>(question_attempt_step <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l891"><span class="linenum"> 891</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[] = <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>;
<a name="l892"><span class="linenum"> 892</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a> = <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>;
<a name="l893"><span class="linenum"> 893</span></a>          <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l894"><span class="linenum"> 894</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_added')" href="../../_functions/notify_step_added.html" onMouseOver="funcPopup(event,'notify_step_added')">notify_step_added</a>(<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, -<a class="phpfunction" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>));
<a name="l895"><span class="linenum"> 895</span></a>      }
<a name="l896"><span class="linenum"> 896</span></a>  
<a name="l897"><span class="linenum"> 897</span></a>      <span class="comment">/**</span>
<a name="l898"><span class="linenum"> 898</span></a>  <span class="comment">     * Discard any auto-saved data belonging to this question attempt.</span>
<a name="l899"><span class="linenum"> 899</span></a>  <span class="comment">     */</span>
<a name="l900"><span class="linenum"> 900</span></a>      public function <a class="function" onClick="logFunction('discard_autosaved_step')" href="../../_functions/discard_autosaved_step.html" onMouseOver="funcPopup(event,'discard_autosaved_step')">discard_autosaved_step</a>() {
<a name="l901"><span class="linenum"> 901</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('has_autosaved_step')" href="../../_functions/has_autosaved_step.html" onMouseOver="funcPopup(event,'has_autosaved_step')">has_autosaved_step</a>()) {
<a name="l902"><span class="linenum"> 902</span></a>              return;
<a name="l903"><span class="linenum"> 903</span></a>          }
<a name="l904"><span class="linenum"> 904</span></a>  
<a name="l905"><span class="linenum"> 905</span></a>          <a class="var it39476" onMouseOver="hilite(39476)" onMouseOut="lolite()" onClick="logVariable('autosaved')" href="../../_variables/autosaved.html">$autosaved</a> = <a class="phpfunction" onClick="logFunction('array_pop')" href="../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l906"><span class="linenum"> 906</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a> = null;
<a name="l907"><span class="linenum"> 907</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_deleted')" href="../../_functions/notify_step_deleted.html" onMouseOver="funcPopup(event,'notify_step_deleted')">notify_step_deleted</a>(<a class="var it39476" onMouseOver="hilite(39476)" onMouseOut="lolite()" onClick="logVariable('autosaved')" href="../../_variables/autosaved.html">$autosaved</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l908"><span class="linenum"> 908</span></a>      }
<a name="l909"><span class="linenum"> 909</span></a>  
<a name="l910"><span class="linenum"> 910</span></a>      <span class="comment">/**</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment">     * If there is an autosaved step, convert it into a real save, so that it</span>
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment">     * is preserved.</span>
<a name="l913"><span class="linenum"> 913</span></a>  <span class="comment">     */</span>
<a name="l914"><span class="linenum"> 914</span></a>      protected function <a class="function" onClick="logFunction('convert_autosaved_step_to_real_step')" href="../../_functions/convert_autosaved_step_to_real_step.html" onMouseOver="funcPopup(event,'convert_autosaved_step_to_real_step')">convert_autosaved_step_to_real_step</a>() {
<a name="l915"><span class="linenum"> 915</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a> === null) {
<a name="l916"><span class="linenum"> 916</span></a>              return;
<a name="l917"><span class="linenum"> 917</span></a>          }
<a name="l918"><span class="linenum"> 918</span></a>  
<a name="l919"><span class="linenum"> 919</span></a>          <a class="var it4836" onMouseOver="hilite(4836)" onMouseOut="lolite()" onClick="logVariable('laststep')" href="../../_variables/laststep.html">$laststep</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>);
<a name="l920"><span class="linenum"> 920</span></a>          if (<a class="var it4836" onMouseOver="hilite(4836)" onMouseOut="lolite()" onClick="logVariable('laststep')" href="../../_variables/laststep.html">$laststep</a> !== <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a>) {
<a name="l921"><span class="linenum"> 921</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Cannot convert autosaved step to real step, since other steps have been added.');
<a name="l922"><span class="linenum"> 922</span></a>          }
<a name="l923"><span class="linenum"> 923</span></a>  
<a name="l924"><span class="linenum"> 924</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_modified')" href="../../_functions/notify_step_modified.html" onMouseOver="funcPopup(event,'notify_step_modified')">notify_step_modified</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="phpfunction" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>));
<a name="l925"><span class="linenum"> 925</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a> = null;
<a name="l926"><span class="linenum"> 926</span></a>      }
<a name="l927"><span class="linenum"> 927</span></a>  
<a name="l928"><span class="linenum"> 928</span></a>      <span class="comment">/**</span>
<a name="l929"><span class="linenum"> 929</span></a>  <span class="comment">     * Use a strategy to pick a variant.</span>
<a name="l930"><span class="linenum"> 930</span></a>  <span class="comment">     * @param question_variant_selection_strategy $variantstrategy a strategy.</span>
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment">     * @return int the selected variant.</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment">     */</span>
<a name="l933"><span class="linenum"> 933</span></a>      public function <a class="function" onClick="logFunction('select_variant')" href="../../_functions/select_variant.html" onMouseOver="funcPopup(event,'select_variant')">select_variant</a>(question_variant_selection_strategy <a class="var it18289" onMouseOver="hilite(18289)" onMouseOut="lolite()" onClick="logVariable('variantstrategy')" href="../../_variables/variantstrategy.html">$variantstrategy</a>) {
<a name="l934"><span class="linenum"> 934</span></a>          return <a class="var it18289" onMouseOver="hilite(18289)" onMouseOut="lolite()" onClick="logVariable('variantstrategy')" href="../../_variables/variantstrategy.html">$variantstrategy</a>-&gt;<a class="function" onClick="logFunction('choose_variant')" href="../../_functions/choose_variant.html" onMouseOver="funcPopup(event,'choose_variant')">choose_variant</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('get_num_variants')" href="../../_functions/get_num_variants.html" onMouseOver="funcPopup(event,'get_num_variants')">get_num_variants</a>(),
<a name="l935"><span class="linenum"> 935</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('get_variants_selection_seed')" href="../../_functions/get_variants_selection_seed.html" onMouseOver="funcPopup(event,'get_variants_selection_seed')">get_variants_selection_seed</a>());
<a name="l936"><span class="linenum"> 936</span></a>      }
<a name="l937"><span class="linenum"> 937</span></a>  
<a name="l938"><span class="linenum"> 938</span></a>      <span class="comment">/**</span>
<a name="l939"><span class="linenum"> 939</span></a>  <span class="comment">     * Start this question attempt.</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">     *</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">     * You should not call this method directly. Call</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment">     * {@link question_usage_by_activity::start_question()} instead.</span>
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment">     *</span>
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment">     * @param string|question_behaviour $preferredbehaviour the name of the</span>
<a name="l945"><span class="linenum"> 945</span></a>  <span class="comment">     *      desired archetypal behaviour, or an actual model instance.</span>
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment">     * @param int $variant the variant of the question to start. Between 1 and</span>
<a name="l947"><span class="linenum"> 947</span></a>  <span class="comment">     *      $this-&gt;get_question()-&gt;get_num_variants() inclusive.</span>
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment">     * @param array $submitteddata optional, used when re-starting to keep the same initial state.</span>
<a name="l949"><span class="linenum"> 949</span></a>  <span class="comment">     * @param int $timestamp optional, the timstamp to record for this action. Defaults to now.</span>
<a name="l950"><span class="linenum"> 950</span></a>  <span class="comment">     * @param int $userid optional, the user to attribute this action to. Defaults to the current user.</span>
<a name="l951"><span class="linenum"> 951</span></a>  <span class="comment">     * @param int $existingstepid optional, if this step is going to replace an existing step</span>
<a name="l952"><span class="linenum"> 952</span></a>  <span class="comment">     *      (for example, during a regrade) this is the id of the previous step we are replacing.</span>
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment">     */</span>
<a name="l954"><span class="linenum"> 954</span></a>      public function <a class="function" onClick="logFunction('start')" href="../../_functions/start.html" onMouseOver="funcPopup(event,'start')">start</a>(<a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>, <a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../_variables/variant.html">$variant</a>, <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = array(),
<a name="l955"><span class="linenum"> 955</span></a>              <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null, <a class="var it38643" onMouseOver="hilite(38643)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a> = null) {
<a name="l956"><span class="linenum"> 956</span></a>  
<a name="l957"><span class="linenum"> 957</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>() &gt; 0) {
<a name="l958"><span class="linenum"> 958</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Cannot start a question that is already started.');
<a name="l959"><span class="linenum"> 959</span></a>          }
<a name="l960"><span class="linenum"> 960</span></a>  
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment">        // Initialise the behaviour.</span>
<a name="l962"><span class="linenum"> 962</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('variant')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/variant.html">variant</a> = <a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../_variables/variant.html">$variant</a>;
<a name="l963"><span class="linenum"> 963</span></a>          if (<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>)) {
<a name="l964"><span class="linenum"> 964</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a> =
<a name="l965"><span class="linenum"> 965</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>-&gt;<a class="function" onClick="logFunction('make_behaviour')" href="../../_functions/make_behaviour.html" onMouseOver="funcPopup(event,'make_behaviour')">make_behaviour</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l966"><span class="linenum"> 966</span></a>          } else {
<a name="l967"><span class="linenum"> 967</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = <a class="phpfunction" onClick="logFunction('get_class')" href="../../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l968"><span class="linenum"> 968</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a> = new <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l969"><span class="linenum"> 969</span></a>          }
<a name="l970"><span class="linenum"> 970</span></a>  
<a name="l971"><span class="linenum"> 971</span></a>  <span class="comment">        // Record the minimum and maximum fractions.</span>
<a name="l972"><span class="linenum"> 972</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('minfraction')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_min_fraction')" href="../../_functions/get_min_fraction.html" onMouseOver="funcPopup(event,'get_min_fraction')">get_min_fraction</a>();
<a name="l973"><span class="linenum"> 973</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_max_fraction')" href="../../_functions/get_max_fraction.html" onMouseOver="funcPopup(event,'get_max_fraction')">get_max_fraction</a>();
<a name="l974"><span class="linenum"> 974</span></a>  
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment">        // Initialise the first step.</span>
<a name="l976"><span class="linenum"> 976</span></a>          <a class="var it9206" onMouseOver="hilite(9206)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_step')" href="../../_classes/question_attempt_step.html" onMouseOver="classPopup(event,'question_attempt_step')">question_attempt_step</a>(<a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it38643" onMouseOver="hilite(38643)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a>);
<a name="l977"><span class="linenum"> 977</span></a>          if (<a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>) {
<a name="l978"><span class="linenum"> 978</span></a>              <a class="var it9206" onMouseOver="hilite(9206)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>-&gt;<a class="function" onClick="logFunction('set_state')" href="../../_functions/set_state.html" onMouseOver="funcPopup(event,'set_state')">set_state</a>(question_state::<a class="var it767" onMouseOver="hilite(767)" onMouseOut="lolite()" onClick="logVariable('complete')" href="../../_variables/complete.html">$complete</a>);
<a name="l979"><span class="linenum"> 979</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('apply_attempt_state')" href="../../_functions/apply_attempt_state.html" onMouseOver="funcPopup(event,'apply_attempt_state')">apply_attempt_state</a>(<a class="var it9206" onMouseOver="hilite(9206)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>);
<a name="l980"><span class="linenum"> 980</span></a>          } else {
<a name="l981"><span class="linenum"> 981</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('init_first_step')" href="../../_functions/init_first_step.html" onMouseOver="funcPopup(event,'init_first_step')">init_first_step</a>(<a class="var it9206" onMouseOver="hilite(9206)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>, <a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../_variables/variant.html">$variant</a>);
<a name="l982"><span class="linenum"> 982</span></a>          }
<a name="l983"><span class="linenum"> 983</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_step')" href="../../_functions/add_step.html" onMouseOver="funcPopup(event,'add_step')">add_step</a>(<a class="var it9206" onMouseOver="hilite(9206)" onMouseOut="lolite()" onClick="logVariable('firststep')" href="../../_variables/firststep.html">$firststep</a>);
<a name="l984"><span class="linenum"> 984</span></a>  
<a name="l985"><span class="linenum"> 985</span></a>  <span class="comment">        // Record questionline and correct answer.</span>
<a name="l986"><span class="linenum"> 986</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_question_summary')" href="../../_functions/get_question_summary.html" onMouseOver="funcPopup(event,'get_question_summary')">get_question_summary</a>();
<a name="l987"><span class="linenum"> 987</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_right_answer_summary')" href="../../_functions/get_right_answer_summary.html" onMouseOver="funcPopup(event,'get_right_answer_summary')">get_right_answer_summary</a>();
<a name="l988"><span class="linenum"> 988</span></a>      }
<a name="l989"><span class="linenum"> 989</span></a>  
<a name="l990"><span class="linenum"> 990</span></a>      <span class="comment">/**</span>
<a name="l991"><span class="linenum"> 991</span></a>  <span class="comment">     * Start this question attempt, starting from the point that the previous</span>
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment">     * attempt $oldqa had reached.</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">     *</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">     * You should not call this method directly. Call</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">     * {@link question_usage_by_activity::start_question_based_on()} instead.</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment">     *</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment">     * @param question_attempt $oldqa a previous attempt at this quetsion that</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment">     *      defines the starting point.</span>
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment">     */</span>
<a name="l1000"><span class="linenum">1000</span></a>      public function <a class="function" onClick="logFunction('start_based_on')" href="../../_functions/start_based_on.html" onMouseOver="funcPopup(event,'start_based_on')">start_based_on</a>(question_attempt <a class="var it4456" onMouseOver="hilite(4456)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>) {
<a name="l1001"><span class="linenum">1001</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('start')" href="../../_functions/start.html" onMouseOver="funcPopup(event,'start')">start</a>(<a class="var it4456" onMouseOver="hilite(4456)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a onClick="logVariable('behaviour')" class="var it44170" onMouseOver="hilite(44170)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>, <a class="var it4456" onMouseOver="hilite(4456)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a class="function" onClick="logFunction('get_variant')" href="../../_functions/get_variant.html" onMouseOver="funcPopup(event,'get_variant')">get_variant</a>(), <a class="var it4456" onMouseOver="hilite(4456)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a class="function" onClick="logFunction('get_resume_data')" href="../../_functions/get_resume_data.html" onMouseOver="funcPopup(event,'get_resume_data')">get_resume_data</a>());
<a name="l1002"><span class="linenum">1002</span></a>      }
<a name="l1003"><span class="linenum">1003</span></a>  
<a name="l1004"><span class="linenum">1004</span></a>      <span class="comment">/**</span>
<a name="l1005"><span class="linenum">1005</span></a>  <span class="comment">     * Used by {@link start_based_on()} to get the data needed to start a new</span>
<a name="l1006"><span class="linenum">1006</span></a>  <span class="comment">     * attempt from the point this attempt has go to.</span>
<a name="l1007"><span class="linenum">1007</span></a>  <span class="comment">     * @return array name =&gt; value pairs.</span>
<a name="l1008"><span class="linenum">1008</span></a>  <span class="comment">     */</span>
<a name="l1009"><span class="linenum">1009</span></a>      protected function <a class="function" onClick="logFunction('get_resume_data')" href="../../_functions/get_resume_data.html" onMouseOver="funcPopup(event,'get_resume_data')">get_resume_data</a>() {
<a name="l1010"><span class="linenum">1010</span></a>          <a class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" onClick="logVariable('resumedata')" href="../../_variables/resumedata.html">$resumedata</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_resume_data')" href="../../_functions/get_resume_data.html" onMouseOver="funcPopup(event,'get_resume_data')">get_resume_data</a>();
<a name="l1011"><span class="linenum">1011</span></a>          foreach (<a class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" onClick="logVariable('resumedata')" href="../../_variables/resumedata.html">$resumedata</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1012"><span class="linenum">1012</span></a>              if (<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> instanceof question_file_loader) {
<a name="l1013"><span class="linenum">1013</span></a>                  <a class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" onClick="logVariable('resumedata')" href="../../_variables/resumedata.html">$resumedata</a>[<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>-&gt;<a class="function" onClick="logFunction('get_question_file_saver')" href="../../_functions/get_question_file_saver.html" onMouseOver="funcPopup(event,'get_question_file_saver')">get_question_file_saver</a>();
<a name="l1014"><span class="linenum">1014</span></a>              }
<a name="l1015"><span class="linenum">1015</span></a>          }
<a name="l1016"><span class="linenum">1016</span></a>          return <a class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" onClick="logVariable('resumedata')" href="../../_variables/resumedata.html">$resumedata</a>;
<a name="l1017"><span class="linenum">1017</span></a>      }
<a name="l1018"><span class="linenum">1018</span></a>  
<a name="l1019"><span class="linenum">1019</span></a>      <span class="comment">/**</span>
<a name="l1020"><span class="linenum">1020</span></a>  <span class="comment">     * Get a particular parameter from the current request. A wrapper round</span>
<a name="l1021"><span class="linenum">1021</span></a>  <span class="comment">     * {@link optional_param()}, except that the results is returned without</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment">     * slashes.</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">     * @param string $name the paramter name.</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">     * @param int $type one of the standard PARAM_... constants, or one of the</span>
<a name="l1025"><span class="linenum">1025</span></a>  <span class="comment">     *      special extra constands defined by this class.</span>
<a name="l1026"><span class="linenum">1026</span></a>  <span class="comment">     * @param array $postdata (optional, only inteded for testing use) take the</span>
<a name="l1027"><span class="linenum">1027</span></a>  <span class="comment">     *      data from this array, instead of from $_POST.</span>
<a name="l1028"><span class="linenum">1028</span></a>  <span class="comment">     * @return mixed the requested value.</span>
<a name="l1029"><span class="linenum">1029</span></a>  <span class="comment">     */</span>
<a name="l1030"><span class="linenum">1030</span></a>      public function <a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>, <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> = null) {
<a name="l1031"><span class="linenum">1031</span></a>          switch (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) {
<a name="l1032"><span class="linenum">1032</span></a>  
<a name="l1033"><span class="linenum">1033</span></a>              case self::PARAM_FILES:
<a name="l1034"><span class="linenum">1034</span></a>                  return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_response_files')" href="../../_functions/process_response_files.html" onMouseOver="funcPopup(event,'process_response_files')">process_response_files</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>);
<a name="l1035"><span class="linenum">1035</span></a>  
<a name="l1036"><span class="linenum">1036</span></a>              case self::PARAM_RAW_FILES:
<a name="l1037"><span class="linenum">1037</span></a>                  <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>);
<a name="l1038"><span class="linenum">1038</span></a>                  return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_response_files')" href="../../_functions/process_response_files.html" onMouseOver="funcPopup(event,'process_response_files')">process_response_files</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> . ':itemid', <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>, <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>);
<a name="l1039"><span class="linenum">1039</span></a>  
<a name="l1040"><span class="linenum">1040</span></a>              default:
<a name="l1041"><span class="linenum">1041</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>)) {
<a name="l1042"><span class="linenum">1042</span></a>                      <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, null, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>);
<a name="l1043"><span class="linenum">1043</span></a>                  } else if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>)) {
<a name="l1044"><span class="linenum">1044</span></a>                      <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> = <a class="function" onClick="logFunction('clean_param')" href="../../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>[<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>], <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>);
<a name="l1045"><span class="linenum">1045</span></a>                  } else {
<a name="l1046"><span class="linenum">1046</span></a>                      <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> = null;
<a name="l1047"><span class="linenum">1047</span></a>                  }
<a name="l1048"><span class="linenum">1048</span></a>  
<a name="l1049"><span class="linenum">1049</span></a>                  return <a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>;
<a name="l1050"><span class="linenum">1050</span></a>          }
<a name="l1051"><span class="linenum">1051</span></a>      }
<a name="l1052"><span class="linenum">1052</span></a>  
<a name="l1053"><span class="linenum">1053</span></a>      <span class="comment">/**</span>
<a name="l1054"><span class="linenum">1054</span></a>  <span class="comment">     * Validate the manual mark for a question.</span>
<a name="l1055"><span class="linenum">1055</span></a>  <span class="comment">     * @param unknown $currentmark the user input (e.g. '1,0', '1,0' or 'invalid'.</span>
<a name="l1056"><span class="linenum">1056</span></a>  <span class="comment">     * @return string any errors with the value, or '' if it is OK.</span>
<a name="l1057"><span class="linenum">1057</span></a>  <span class="comment">     */</span>
<a name="l1058"><span class="linenum">1058</span></a>      public function <a class="function" onClick="logFunction('validate_manual_mark')" href="../../_functions/validate_manual_mark.html" onMouseOver="funcPopup(event,'validate_manual_mark')">validate_manual_mark</a>(<a class="var it16060" onMouseOver="hilite(16060)" onMouseOut="lolite()" onClick="logVariable('currentmark')" href="../../_variables/currentmark.html">$currentmark</a>) {
<a name="l1059"><span class="linenum">1059</span></a>          if (<a class="var it16060" onMouseOver="hilite(16060)" onMouseOut="lolite()" onClick="logVariable('currentmark')" href="../../_variables/currentmark.html">$currentmark</a> === null || <a class="var it16060" onMouseOver="hilite(16060)" onMouseOut="lolite()" onClick="logVariable('currentmark')" href="../../_variables/currentmark.html">$currentmark</a> === '') {
<a name="l1060"><span class="linenum">1060</span></a>              return '';
<a name="l1061"><span class="linenum">1061</span></a>          }
<a name="l1062"><span class="linenum">1062</span></a>  
<a name="l1063"><span class="linenum">1063</span></a>          <a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a> = question_utils::<a class="function" onClick="logFunction('clean_param_mark')" href="../../_functions/clean_param_mark.html" onMouseOver="funcPopup(event,'clean_param_mark')">clean_param_mark</a>(<a class="var it16060" onMouseOver="hilite(16060)" onMouseOut="lolite()" onClick="logVariable('currentmark')" href="../../_variables/currentmark.html">$currentmark</a>);
<a name="l1064"><span class="linenum">1064</span></a>          if (<a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a> === null) {
<a name="l1065"><span class="linenum">1065</span></a>              return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('manualgradeinvalidformat', 'question');
<a name="l1066"><span class="linenum">1066</span></a>          }
<a name="l1067"><span class="linenum">1067</span></a>  
<a name="l1068"><span class="linenum">1068</span></a>          <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_max_mark')" href="../../_functions/get_max_mark.html" onMouseOver="funcPopup(event,'get_max_mark')">get_max_mark</a>();
<a name="l1069"><span class="linenum">1069</span></a>          if (<a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a> &gt; <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a> * <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_max_fraction')" href="../../_functions/get_max_fraction.html" onMouseOver="funcPopup(event,'get_max_fraction')">get_max_fraction</a>() || <a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a> &lt; <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a> * <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_min_fraction')" href="../../_functions/get_min_fraction.html" onMouseOver="funcPopup(event,'get_min_fraction')">get_min_fraction</a>()) {
<a name="l1070"><span class="linenum">1070</span></a>              return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('manualgradeoutofrange', 'question');
<a name="l1071"><span class="linenum">1071</span></a>          }
<a name="l1072"><span class="linenum">1072</span></a>  
<a name="l1073"><span class="linenum">1073</span></a>          return '';
<a name="l1074"><span class="linenum">1074</span></a>      }
<a name="l1075"><span class="linenum">1075</span></a>  
<a name="l1076"><span class="linenum">1076</span></a>      <span class="comment">/**</span>
<a name="l1077"><span class="linenum">1077</span></a>  <span class="comment">     * Handle a submitted variable representing uploaded files.</span>
<a name="l1078"><span class="linenum">1078</span></a>  <span class="comment">     * @param string $name the field name.</span>
<a name="l1079"><span class="linenum">1079</span></a>  <span class="comment">     * @param string $draftidname the field name holding the draft file area id.</span>
<a name="l1080"><span class="linenum">1080</span></a>  <span class="comment">     * @param array $postdata (optional, only inteded for testing use) take the</span>
<a name="l1081"><span class="linenum">1081</span></a>  <span class="comment">     *      data from this array, instead of from $_POST. At the moment, this</span>
<a name="l1082"><span class="linenum">1082</span></a>  <span class="comment">     *      behaves as if there were no files.</span>
<a name="l1083"><span class="linenum">1083</span></a>  <span class="comment">     * @param string $text optional reponse text.</span>
<a name="l1084"><span class="linenum">1084</span></a>  <span class="comment">     * @return question_file_saver that can be used to save the files later.</span>
<a name="l1085"><span class="linenum">1085</span></a>  <span class="comment">     */</span>
<a name="l1086"><span class="linenum">1086</span></a>      protected function <a class="function" onClick="logFunction('process_response_files')" href="../../_functions/process_response_files.html" onMouseOver="funcPopup(event,'process_response_files')">process_response_files</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it39478" onMouseOver="hilite(39478)" onMouseOut="lolite()" onClick="logVariable('draftidname')" href="../../_variables/draftidname.html">$draftidname</a>, <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> = null, <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a> = null) {
<a name="l1087"><span class="linenum">1087</span></a>          if (<a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>) {
<a name="l1088"><span class="linenum">1088</span></a>  <span class="comment">            // For simulated posts, get the draft itemid from there.</span>
<a name="l1089"><span class="linenum">1089</span></a>              <a class="var it637" onMouseOver="hilite(637)" onMouseOut="lolite()" onClick="logVariable('draftitemid')" href="../../_variables/draftitemid.html">$draftitemid</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it39478" onMouseOver="hilite(39478)" onMouseOut="lolite()" onClick="logVariable('draftidname')" href="../../_variables/draftidname.html">$draftidname</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>);
<a name="l1090"><span class="linenum">1090</span></a>          } else {
<a name="l1091"><span class="linenum">1091</span></a>              <a class="var it637" onMouseOver="hilite(637)" onMouseOut="lolite()" onClick="logVariable('draftitemid')" href="../../_variables/draftitemid.html">$draftitemid</a> = <a class="function" onClick="logFunction('file_get_submitted_draft_itemid')" href="../../_functions/file_get_submitted_draft_itemid.html" onMouseOver="funcPopup(event,'file_get_submitted_draft_itemid')">file_get_submitted_draft_itemid</a>(<a class="var it39478" onMouseOver="hilite(39478)" onMouseOut="lolite()" onClick="logVariable('draftidname')" href="../../_variables/draftidname.html">$draftidname</a>);
<a name="l1092"><span class="linenum">1092</span></a>          }
<a name="l1093"><span class="linenum">1093</span></a>  
<a name="l1094"><span class="linenum">1094</span></a>          if (!<a class="var it637" onMouseOver="hilite(637)" onMouseOut="lolite()" onClick="logVariable('draftitemid')" href="../../_variables/draftitemid.html">$draftitemid</a>) {
<a name="l1095"><span class="linenum">1095</span></a>              return null;
<a name="l1096"><span class="linenum">1096</span></a>          }
<a name="l1097"><span class="linenum">1097</span></a>  
<a name="l1098"><span class="linenum">1098</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_file_saver')" href="../../_classes/question_file_saver.html" onMouseOver="classPopup(event,'question_file_saver')">question_file_saver</a>(<a class="var it637" onMouseOver="hilite(637)" onMouseOut="lolite()" onClick="logVariable('draftitemid')" href="../../_variables/draftitemid.html">$draftitemid</a>, 'question', 'response_' .
<a name="l1099"><span class="linenum">1099</span></a>                  <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>(), '', <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>), <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>);
<a name="l1100"><span class="linenum">1100</span></a>      }
<a name="l1101"><span class="linenum">1101</span></a>  
<a name="l1102"><span class="linenum">1102</span></a>      <span class="comment">/**</span>
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment">     * Get any data from the request that matches the list of expected params.</span>
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment">     * @param array $expected variable name =&gt; PARAM_... constant.</span>
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment">     * @param string $extraprefix '-' or ''.</span>
<a name="l1106"><span class="linenum">1106</span></a>  <span class="comment">     * @return array name =&gt; value.</span>
<a name="l1107"><span class="linenum">1107</span></a>  <span class="comment">     */</span>
<a name="l1108"><span class="linenum">1108</span></a>      protected function <a class="function" onClick="logFunction('get_expected_data')" href="../../_functions/get_expected_data.html" onMouseOver="funcPopup(event,'get_expected_data')">get_expected_data</a>(<a class="var it947" onMouseOver="hilite(947)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a>, <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>, <a class="var it38648" onMouseOver="hilite(38648)" onMouseOut="lolite()" onClick="logVariable('extraprefix')" href="../../_variables/extraprefix.html">$extraprefix</a>) {
<a name="l1109"><span class="linenum">1109</span></a>          <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = array();
<a name="l1110"><span class="linenum">1110</span></a>          foreach (<a class="var it947" onMouseOver="hilite(947)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) {
<a name="l1111"><span class="linenum">1111</span></a>              <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(
<a name="l1112"><span class="linenum">1112</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>() . <a class="var it38648" onMouseOver="hilite(38648)" onMouseOut="lolite()" onClick="logVariable('extraprefix')" href="../../_variables/extraprefix.html">$extraprefix</a> . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>, <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>);
<a name="l1113"><span class="linenum">1113</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l1114"><span class="linenum">1114</span></a>                  <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>[<a class="var it38648" onMouseOver="hilite(38648)" onMouseOut="lolite()" onClick="logVariable('extraprefix')" href="../../_variables/extraprefix.html">$extraprefix</a> . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1115"><span class="linenum">1115</span></a>              }
<a name="l1116"><span class="linenum">1116</span></a>          }
<a name="l1117"><span class="linenum">1117</span></a>          return <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>;
<a name="l1118"><span class="linenum">1118</span></a>      }
<a name="l1119"><span class="linenum">1119</span></a>  
<a name="l1120"><span class="linenum">1120</span></a>      <span class="comment">/**</span>
<a name="l1121"><span class="linenum">1121</span></a>  <span class="comment">     * Get all the submitted question type data for this question, whithout checking</span>
<a name="l1122"><span class="linenum">1122</span></a>  <span class="comment">     * that it is valid or cleaning it in any way.</span>
<a name="l1123"><span class="linenum">1123</span></a>  <span class="comment">     * @return array name =&gt; value.</span>
<a name="l1124"><span class="linenum">1124</span></a>  <span class="comment">     */</span>
<a name="l1125"><span class="linenum">1125</span></a>      public function <a class="function" onClick="logFunction('get_all_submitted_qt_vars')" href="../../_functions/get_all_submitted_qt_vars.html" onMouseOver="funcPopup(event,'get_all_submitted_qt_vars')">get_all_submitted_qt_vars</a>(<a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>) {
<a name="l1126"><span class="linenum">1126</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>)) {
<a name="l1127"><span class="linenum">1127</span></a>              <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> = <a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>;
<a name="l1128"><span class="linenum">1128</span></a>          }
<a name="l1129"><span class="linenum">1129</span></a>  
<a name="l1130"><span class="linenum">1130</span></a>          <a class="var it1833" onMouseOver="hilite(1833)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../../_variables/pattern.html">$pattern</a> = '/^' . <a class="phpfunction" onClick="logFunction('preg_quote')" href="../../_functions/preg_quote.html" onMouseOver="phpfuncPopup(event,'preg_quote')">preg_quote</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>(), '/') . '[^-:]/';
<a name="l1131"><span class="linenum">1131</span></a>          <a class="var it39479" onMouseOver="hilite(39479)" onMouseOut="lolite()" onClick="logVariable('prefixlen')" href="../../_variables/prefixlen.html">$prefixlen</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_prefix')" href="../../_functions/get_field_prefix.html" onMouseOver="funcPopup(event,'get_field_prefix')">get_field_prefix</a>());
<a name="l1132"><span class="linenum">1132</span></a>  
<a name="l1133"><span class="linenum">1133</span></a>          <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = array();
<a name="l1134"><span class="linenum">1134</span></a>          foreach (<a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1135"><span class="linenum">1135</span></a>              if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(<a class="var it1833" onMouseOver="hilite(1833)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../../_variables/pattern.html">$pattern</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l1136"><span class="linenum">1136</span></a>                  <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>[<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it39479" onMouseOver="hilite(39479)" onMouseOut="lolite()" onClick="logVariable('prefixlen')" href="../../_variables/prefixlen.html">$prefixlen</a>)] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1137"><span class="linenum">1137</span></a>              }
<a name="l1138"><span class="linenum">1138</span></a>          }
<a name="l1139"><span class="linenum">1139</span></a>  
<a name="l1140"><span class="linenum">1140</span></a>          return <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>;
<a name="l1141"><span class="linenum">1141</span></a>      }
<a name="l1142"><span class="linenum">1142</span></a>  
<a name="l1143"><span class="linenum">1143</span></a>      <span class="comment">/**</span>
<a name="l1144"><span class="linenum">1144</span></a>  <span class="comment">     * Get all the sumbitted data belonging to this question attempt from the</span>
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment">     * current request.</span>
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment">     * @param array $postdata (optional, only inteded for testing use) take the</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment">     *      data from this array, instead of from $_POST.</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment">     * @return array name =&gt; value pairs that could be passed to {@link process_action()}.</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment">     */</span>
<a name="l1150"><span class="linenum">1150</span></a>      public function <a class="function" onClick="logFunction('get_submitted_data')" href="../../_functions/get_submitted_data.html" onMouseOver="funcPopup(event,'get_submitted_data')">get_submitted_data</a>(<a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a> = null) {
<a name="l1151"><span class="linenum">1151</span></a>          <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_expected_data')" href="../../_functions/get_expected_data.html" onMouseOver="funcPopup(event,'get_expected_data')">get_expected_data</a>(
<a name="l1152"><span class="linenum">1152</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_expected_data')" href="../../_functions/get_expected_data.html" onMouseOver="funcPopup(event,'get_expected_data')">get_expected_data</a>(), <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>, '-');
<a name="l1153"><span class="linenum">1153</span></a>  
<a name="l1154"><span class="linenum">1154</span></a>          <a class="var it947" onMouseOver="hilite(947)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_expected_qt_data')" href="../../_functions/get_expected_qt_data.html" onMouseOver="funcPopup(event,'get_expected_qt_data')">get_expected_qt_data</a>();
<a name="l1155"><span class="linenum">1155</span></a>          if (<a class="var it947" onMouseOver="hilite(947)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a> === self::USE_RAW_DATA) {
<a name="l1156"><span class="linenum">1156</span></a>              <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> += <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_all_submitted_qt_vars')" href="../../_functions/get_all_submitted_qt_vars.html" onMouseOver="funcPopup(event,'get_all_submitted_qt_vars')">get_all_submitted_qt_vars</a>(<a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>);
<a name="l1157"><span class="linenum">1157</span></a>          } else {
<a name="l1158"><span class="linenum">1158</span></a>              <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> += <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_expected_data')" href="../../_functions/get_expected_data.html" onMouseOver="funcPopup(event,'get_expected_data')">get_expected_data</a>(<a class="var it947" onMouseOver="hilite(947)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a>, <a class="var it8925" onMouseOver="hilite(8925)" onMouseOut="lolite()" onClick="logVariable('postdata')" href="../../_variables/postdata.html">$postdata</a>, '');
<a name="l1159"><span class="linenum">1159</span></a>          }
<a name="l1160"><span class="linenum">1160</span></a>          return <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>;
<a name="l1161"><span class="linenum">1161</span></a>      }
<a name="l1162"><span class="linenum">1162</span></a>  
<a name="l1163"><span class="linenum">1163</span></a>      <span class="comment">/**</span>
<a name="l1164"><span class="linenum">1164</span></a>  <span class="comment">     * Get a set of response data for this question attempt that would get the</span>
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment">     * best possible mark. If it is not possible to compute a correct</span>
<a name="l1166"><span class="linenum">1166</span></a>  <span class="comment">     * response, this method should return null.</span>
<a name="l1167"><span class="linenum">1167</span></a>  <span class="comment">     * @return array|null name =&gt; value pairs that could be passed to {@link process_action()}.</span>
<a name="l1168"><span class="linenum">1168</span></a>  <span class="comment">     */</span>
<a name="l1169"><span class="linenum">1169</span></a>      public function <a class="function" onClick="logFunction('get_correct_response')" href="../../_functions/get_correct_response.html" onMouseOver="funcPopup(event,'get_correct_response')">get_correct_response</a>() {
<a name="l1170"><span class="linenum">1170</span></a>          <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/question.html">question</a>-&gt;<a class="function" onClick="logFunction('get_correct_response')" href="../../_functions/get_correct_response.html" onMouseOver="funcPopup(event,'get_correct_response')">get_correct_response</a>();
<a name="l1171"><span class="linenum">1171</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>)) {
<a name="l1172"><span class="linenum">1172</span></a>              return null;
<a name="l1173"><span class="linenum">1173</span></a>          }
<a name="l1174"><span class="linenum">1174</span></a>          <a class="var it39480" onMouseOver="hilite(39480)" onMouseOut="lolite()" onClick="logVariable('imvars')" href="../../_variables/imvars.html">$imvars</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('get_correct_response')" href="../../_functions/get_correct_response.html" onMouseOver="funcPopup(event,'get_correct_response')">get_correct_response</a>();
<a name="l1175"><span class="linenum">1175</span></a>          foreach (<a class="var it39480" onMouseOver="hilite(39480)" onMouseOut="lolite()" onClick="logVariable('imvars')" href="../../_variables/imvars.html">$imvars</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1176"><span class="linenum">1176</span></a>              <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>['-' . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1177"><span class="linenum">1177</span></a>          }
<a name="l1178"><span class="linenum">1178</span></a>          return <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>;
<a name="l1179"><span class="linenum">1179</span></a>      }
<a name="l1180"><span class="linenum">1180</span></a>  
<a name="l1181"><span class="linenum">1181</span></a>      <span class="comment">/**</span>
<a name="l1182"><span class="linenum">1182</span></a>  <span class="comment">     * Change the quetsion summary. Note, that this is almost never necessary.</span>
<a name="l1183"><span class="linenum">1183</span></a>  <span class="comment">     * This method was only added to work around a limitation of the Opaque</span>
<a name="l1184"><span class="linenum">1184</span></a>  <span class="comment">     * protocol, which only sends questionLine at the end of an attempt.</span>
<a name="l1185"><span class="linenum">1185</span></a>  <span class="comment">     * @param $questionsummary the new summary to set.</span>
<a name="l1186"><span class="linenum">1186</span></a>  <span class="comment">     */</span>
<a name="l1187"><span class="linenum">1187</span></a>      public function <a class="function" onClick="logFunction('set_question_summary')" href="../../_functions/set_question_summary.html" onMouseOver="funcPopup(event,'set_question_summary')">set_question_summary</a>(<a class="var it9200" onMouseOver="hilite(9200)" onMouseOut="lolite()" onClick="logVariable('questionsummary')" href="../../_variables/questionsummary.html">$questionsummary</a>) {
<a name="l1188"><span class="linenum">1188</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a> = <a class="var it9200" onMouseOver="hilite(9200)" onMouseOut="lolite()" onClick="logVariable('questionsummary')" href="../../_variables/questionsummary.html">$questionsummary</a>;
<a name="l1189"><span class="linenum">1189</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_attempt_modified')" href="../../_functions/notify_attempt_modified.html" onMouseOver="funcPopup(event,'notify_attempt_modified')">notify_attempt_modified</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l1190"><span class="linenum">1190</span></a>      }
<a name="l1191"><span class="linenum">1191</span></a>  
<a name="l1192"><span class="linenum">1192</span></a>      <span class="comment">/**</span>
<a name="l1193"><span class="linenum">1193</span></a>  <span class="comment">     * @return string a simple textual summary of the question that was asked.</span>
<a name="l1194"><span class="linenum">1194</span></a>  <span class="comment">     */</span>
<a name="l1195"><span class="linenum">1195</span></a>      public function <a class="function" onClick="logFunction('get_question_summary')" href="../../_functions/get_question_summary.html" onMouseOver="funcPopup(event,'get_question_summary')">get_question_summary</a>() {
<a name="l1196"><span class="linenum">1196</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a>;
<a name="l1197"><span class="linenum">1197</span></a>      }
<a name="l1198"><span class="linenum">1198</span></a>  
<a name="l1199"><span class="linenum">1199</span></a>      <span class="comment">/**</span>
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment">     * @return string a simple textual summary of response given.</span>
<a name="l1201"><span class="linenum">1201</span></a>  <span class="comment">     */</span>
<a name="l1202"><span class="linenum">1202</span></a>      public function <a class="function" onClick="logFunction('get_response_summary')" href="../../_functions/get_response_summary.html" onMouseOver="funcPopup(event,'get_response_summary')">get_response_summary</a>() {
<a name="l1203"><span class="linenum">1203</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('responsesummary')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/responsesummary.html">responsesummary</a>;
<a name="l1204"><span class="linenum">1204</span></a>      }
<a name="l1205"><span class="linenum">1205</span></a>  
<a name="l1206"><span class="linenum">1206</span></a>      <span class="comment">/**</span>
<a name="l1207"><span class="linenum">1207</span></a>  <span class="comment">     * @return string a simple textual summary of the correct resonse.</span>
<a name="l1208"><span class="linenum">1208</span></a>  <span class="comment">     */</span>
<a name="l1209"><span class="linenum">1209</span></a>      public function <a class="function" onClick="logFunction('get_right_answer_summary')" href="../../_functions/get_right_answer_summary.html" onMouseOver="funcPopup(event,'get_right_answer_summary')">get_right_answer_summary</a>() {
<a name="l1210"><span class="linenum">1210</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a>;
<a name="l1211"><span class="linenum">1211</span></a>      }
<a name="l1212"><span class="linenum">1212</span></a>  
<a name="l1213"><span class="linenum">1213</span></a>      <span class="comment">/**</span>
<a name="l1214"><span class="linenum">1214</span></a>  <span class="comment">     * Whether this attempt at this question could be completed just by the</span>
<a name="l1215"><span class="linenum">1215</span></a>  <span class="comment">     * student interacting with the question, before {@link finish()} is called.</span>
<a name="l1216"><span class="linenum">1216</span></a>  <span class="comment">     *</span>
<a name="l1217"><span class="linenum">1217</span></a>  <span class="comment">     * @return boolean whether this attempt can finish naturally.</span>
<a name="l1218"><span class="linenum">1218</span></a>  <span class="comment">     */</span>
<a name="l1219"><span class="linenum">1219</span></a>      public function <a class="function" onClick="logFunction('can_finish_during_attempt')" href="../../_functions/can_finish_during_attempt.html" onMouseOver="funcPopup(event,'can_finish_during_attempt')">can_finish_during_attempt</a>() {
<a name="l1220"><span class="linenum">1220</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('can_finish_during_attempt')" href="../../_functions/can_finish_during_attempt.html" onMouseOver="funcPopup(event,'can_finish_during_attempt')">can_finish_during_attempt</a>();
<a name="l1221"><span class="linenum">1221</span></a>      }
<a name="l1222"><span class="linenum">1222</span></a>  
<a name="l1223"><span class="linenum">1223</span></a>      <span class="comment">/**</span>
<a name="l1224"><span class="linenum">1224</span></a>  <span class="comment">     * Perform the action described by $submitteddata.</span>
<a name="l1225"><span class="linenum">1225</span></a>  <span class="comment">     * @param array $submitteddata the submitted data the determines the action.</span>
<a name="l1226"><span class="linenum">1226</span></a>  <span class="comment">     * @param int $timestamp the time to record for the action. (If not given, use now.)</span>
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment">     * @param int $userid the user to attribute the action to. (If not given, use the current user.)</span>
<a name="l1228"><span class="linenum">1228</span></a>  <span class="comment">     * @param int $existingstepid used by the regrade code.</span>
<a name="l1229"><span class="linenum">1229</span></a>  <span class="comment">     */</span>
<a name="l1230"><span class="linenum">1230</span></a>      public function <a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null, <a class="var it38643" onMouseOver="hilite(38643)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a> = null) {
<a name="l1231"><span class="linenum">1231</span></a>          <a class="var it762" onMouseOver="hilite(762)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_pending_step')" href="../../_classes/question_attempt_pending_step.html" onMouseOver="classPopup(event,'question_attempt_pending_step')">question_attempt_pending_step</a>(<a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it38643" onMouseOver="hilite(38643)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a>);
<a name="l1232"><span class="linenum">1232</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('discard_autosaved_step')" href="../../_functions/discard_autosaved_step.html" onMouseOver="funcPopup(event,'discard_autosaved_step')">discard_autosaved_step</a>();
<a name="l1233"><span class="linenum">1233</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it762" onMouseOver="hilite(762)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>) == self::KEEP) {
<a name="l1234"><span class="linenum">1234</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_step')" href="../../_functions/add_step.html" onMouseOver="funcPopup(event,'add_step')">add_step</a>(<a class="var it762" onMouseOver="hilite(762)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>);
<a name="l1235"><span class="linenum">1235</span></a>              if (<a class="var it762" onMouseOver="hilite(762)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>-&gt;<a class="function" onClick="logFunction('response_summary_changed')" href="../../_functions/response_summary_changed.html" onMouseOver="funcPopup(event,'response_summary_changed')">response_summary_changed</a>()) {
<a name="l1236"><span class="linenum">1236</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('responsesummary')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/responsesummary.html">responsesummary</a> = <a class="var it762" onMouseOver="hilite(762)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>-&gt;<a class="function" onClick="logFunction('get_new_response_summary')" href="../../_functions/get_new_response_summary.html" onMouseOver="funcPopup(event,'get_new_response_summary')">get_new_response_summary</a>();
<a name="l1237"><span class="linenum">1237</span></a>              }
<a name="l1238"><span class="linenum">1238</span></a>              if (<a class="var it762" onMouseOver="hilite(762)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>-&gt;<a class="function" onClick="logFunction('variant_number_changed')" href="../../_functions/variant_number_changed.html" onMouseOver="funcPopup(event,'variant_number_changed')">variant_number_changed</a>()) {
<a name="l1239"><span class="linenum">1239</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('variant')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/variant.html">variant</a> = <a class="var it762" onMouseOver="hilite(762)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>-&gt;<a class="function" onClick="logFunction('get_new_variant_number')" href="../../_functions/get_new_variant_number.html" onMouseOver="funcPopup(event,'get_new_variant_number')">get_new_variant_number</a>();
<a name="l1240"><span class="linenum">1240</span></a>              }
<a name="l1241"><span class="linenum">1241</span></a>          }
<a name="l1242"><span class="linenum">1242</span></a>      }
<a name="l1243"><span class="linenum">1243</span></a>  
<a name="l1244"><span class="linenum">1244</span></a>      <span class="comment">/**</span>
<a name="l1245"><span class="linenum">1245</span></a>  <span class="comment">     * Process an autosave.</span>
<a name="l1246"><span class="linenum">1246</span></a>  <span class="comment">     * @param array $submitteddata the submitted data the determines the action.</span>
<a name="l1247"><span class="linenum">1247</span></a>  <span class="comment">     * @param int $timestamp the time to record for the action. (If not given, use now.)</span>
<a name="l1248"><span class="linenum">1248</span></a>  <span class="comment">     * @param int $userid the user to attribute the action to. (If not given, use the current user.)</span>
<a name="l1249"><span class="linenum">1249</span></a>  <span class="comment">     * @return bool whether anything was saved.</span>
<a name="l1250"><span class="linenum">1250</span></a>  <span class="comment">     */</span>
<a name="l1251"><span class="linenum">1251</span></a>      public function <a class="function" onClick="logFunction('process_autosave')" href="../../_functions/process_autosave.html" onMouseOver="funcPopup(event,'process_autosave')">process_autosave</a>(<a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null) {
<a name="l1252"><span class="linenum">1252</span></a>          <a class="var it762" onMouseOver="hilite(762)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_pending_step')" href="../../_classes/question_attempt_pending_step.html" onMouseOver="classPopup(event,'question_attempt_pending_step')">question_attempt_pending_step</a>(<a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l1253"><span class="linenum">1253</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('process_autosave')" href="../../_functions/process_autosave.html" onMouseOver="funcPopup(event,'process_autosave')">process_autosave</a>(<a class="var it762" onMouseOver="hilite(762)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>) == self::KEEP) {
<a name="l1254"><span class="linenum">1254</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_autosaved_step')" href="../../_functions/add_autosaved_step.html" onMouseOver="funcPopup(event,'add_autosaved_step')">add_autosaved_step</a>(<a class="var it762" onMouseOver="hilite(762)" onMouseOut="lolite()" onClick="logVariable('pendingstep')" href="../../_variables/pendingstep.html">$pendingstep</a>);
<a name="l1255"><span class="linenum">1255</span></a>              return true;
<a name="l1256"><span class="linenum">1256</span></a>          }
<a name="l1257"><span class="linenum">1257</span></a>          return false;
<a name="l1258"><span class="linenum">1258</span></a>      }
<a name="l1259"><span class="linenum">1259</span></a>  
<a name="l1260"><span class="linenum">1260</span></a>      <span class="comment">/**</span>
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment">     * Perform a finish action on this question attempt. This corresponds to an</span>
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">     * external finish action, for example the user pressing Submit all and finish</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment">     * in the quiz, rather than using one of the controls that is part of the</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment">     * question.</span>
<a name="l1265"><span class="linenum">1265</span></a>  <span class="comment">     *</span>
<a name="l1266"><span class="linenum">1266</span></a>  <span class="comment">     * @param int $timestamp the time to record for the action. (If not given, use now.)</span>
<a name="l1267"><span class="linenum">1267</span></a>  <span class="comment">     * @param int $userid the user to attribute the aciton to. (If not given, use the current user.)</span>
<a name="l1268"><span class="linenum">1268</span></a>  <span class="comment">     */</span>
<a name="l1269"><span class="linenum">1269</span></a>      public function <a class="function" onClick="logFunction('finish')" href="../../_functions/finish.html" onMouseOver="funcPopup(event,'finish')">finish</a>(<a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null) {
<a name="l1270"><span class="linenum">1270</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('convert_autosaved_step_to_real_step')" href="../../_functions/convert_autosaved_step_to_real_step.html" onMouseOver="funcPopup(event,'convert_autosaved_step_to_real_step')">convert_autosaved_step_to_real_step</a>();
<a name="l1271"><span class="linenum">1271</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(array('-finish' =&gt; 1), <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l1272"><span class="linenum">1272</span></a>      }
<a name="l1273"><span class="linenum">1273</span></a>  
<a name="l1274"><span class="linenum">1274</span></a>      <span class="comment">/**</span>
<a name="l1275"><span class="linenum">1275</span></a>  <span class="comment">     * Perform a regrade. This replays all the actions from $oldqa into this</span>
<a name="l1276"><span class="linenum">1276</span></a>  <span class="comment">     * attempt.</span>
<a name="l1277"><span class="linenum">1277</span></a>  <span class="comment">     * @param question_attempt $oldqa the attempt to regrade.</span>
<a name="l1278"><span class="linenum">1278</span></a>  <span class="comment">     * @param bool $finished whether the question attempt should be forced to be finished</span>
<a name="l1279"><span class="linenum">1279</span></a>  <span class="comment">     *      after the regrade, or whether it may still be in progress (default false).</span>
<a name="l1280"><span class="linenum">1280</span></a>  <span class="comment">     */</span>
<a name="l1281"><span class="linenum">1281</span></a>      public function <a class="function" onClick="logFunction('regrade')" href="../../_functions/regrade.html" onMouseOver="funcPopup(event,'regrade')">regrade</a>(question_attempt <a class="var it4456" onMouseOver="hilite(4456)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>, <a class="var it18835" onMouseOver="hilite(18835)" onMouseOut="lolite()" onClick="logVariable('finished')" href="../../_variables/finished.html">$finished</a>) {
<a name="l1282"><span class="linenum">1282</span></a>          <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('first')" href="../../_variables/first.html">$first</a> = true;
<a name="l1283"><span class="linenum">1283</span></a>          foreach (<a class="var it4456" onMouseOver="hilite(4456)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a class="function" onClick="logFunction('get_step_iterator')" href="../../_functions/get_step_iterator.html" onMouseOver="funcPopup(event,'get_step_iterator')">get_step_iterator</a>() as <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l1284"><span class="linenum">1284</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_deleted')" href="../../_functions/notify_step_deleted.html" onMouseOver="funcPopup(event,'notify_step_deleted')">notify_step_deleted</a>(<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l1285"><span class="linenum">1285</span></a>  
<a name="l1286"><span class="linenum">1286</span></a>              if (<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('first')" href="../../_variables/first.html">$first</a>) {
<a name="l1287"><span class="linenum">1287</span></a>  <span class="comment">                // First step of the attempt.</span>
<a name="l1288"><span class="linenum">1288</span></a>                  <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('first')" href="../../_variables/first.html">$first</a> = false;
<a name="l1289"><span class="linenum">1289</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('start')" href="../../_functions/start.html" onMouseOver="funcPopup(event,'start')">start</a>(<a class="var it4456" onMouseOver="hilite(4456)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a onClick="logVariable('behaviour')" class="var it44170" onMouseOver="hilite(44170)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>, <a class="var it4456" onMouseOver="hilite(4456)" onMouseOut="lolite()" onClick="logVariable('oldqa')" href="../../_variables/oldqa.html">$oldqa</a>-&gt;<a class="function" onClick="logFunction('get_variant')" href="../../_functions/get_variant.html" onMouseOver="funcPopup(event,'get_variant')">get_variant</a>(), <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_all_data')" href="../../_functions/get_all_data.html" onMouseOver="funcPopup(event,'get_all_data')">get_all_data</a>(),
<a name="l1290"><span class="linenum">1290</span></a>                          <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>(), <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_user_id')" href="../../_functions/get_user_id.html" onMouseOver="funcPopup(event,'get_user_id')">get_user_id</a>(), <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>());
<a name="l1291"><span class="linenum">1291</span></a>  
<a name="l1292"><span class="linenum">1292</span></a>              } else if (<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_behaviour_var')" href="../../_functions/has_behaviour_var.html" onMouseOver="funcPopup(event,'has_behaviour_var')">has_behaviour_var</a>('finish') &amp;&amp; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_submitted_data')" href="../../_functions/get_submitted_data.html" onMouseOver="funcPopup(event,'get_submitted_data')">get_submitted_data</a>()) &gt; 1) {
<a name="l1293"><span class="linenum">1293</span></a>  <span class="comment">                // This case relates to MDL-32062. The upgrade code from 2.0</span>
<a name="l1294"><span class="linenum">1294</span></a>  <span class="comment">                // generates attempts where the final submit of the question</span>
<a name="l1295"><span class="linenum">1295</span></a>  <span class="comment">                // data, and the finish action, are in the same step. The system</span>
<a name="l1296"><span class="linenum">1296</span></a>  <span class="comment">                // cannot cope with that, so convert the single old step into</span>
<a name="l1297"><span class="linenum">1297</span></a>  <span class="comment">                // two new steps.</span>
<a name="l1298"><span class="linenum">1298</span></a>                  <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_submitted_data')" href="../../_functions/get_submitted_data.html" onMouseOver="funcPopup(event,'get_submitted_data')">get_submitted_data</a>();
<a name="l1299"><span class="linenum">1299</span></a>                  unset(<a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>['-finish']);
<a name="l1300"><span class="linenum">1300</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>,
<a name="l1301"><span class="linenum">1301</span></a>                          <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>(), <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_user_id')" href="../../_functions/get_user_id.html" onMouseOver="funcPopup(event,'get_user_id')">get_user_id</a>(), <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>());
<a name="l1302"><span class="linenum">1302</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('finish')" href="../../_functions/finish.html" onMouseOver="funcPopup(event,'finish')">finish</a>(<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>(), <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_user_id')" href="../../_functions/get_user_id.html" onMouseOver="funcPopup(event,'get_user_id')">get_user_id</a>());
<a name="l1303"><span class="linenum">1303</span></a>  
<a name="l1304"><span class="linenum">1304</span></a>              } else {
<a name="l1305"><span class="linenum">1305</span></a>  <span class="comment">                // This is the normal case. Replay the next step of the attempt.</span>
<a name="l1306"><span class="linenum">1306</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_submitted_data')" href="../../_functions/get_submitted_data.html" onMouseOver="funcPopup(event,'get_submitted_data')">get_submitted_data</a>(),
<a name="l1307"><span class="linenum">1307</span></a>                          <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_timecreated')" href="../../_functions/get_timecreated.html" onMouseOver="funcPopup(event,'get_timecreated')">get_timecreated</a>(), <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_user_id')" href="../../_functions/get_user_id.html" onMouseOver="funcPopup(event,'get_user_id')">get_user_id</a>(), <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>());
<a name="l1308"><span class="linenum">1308</span></a>              }
<a name="l1309"><span class="linenum">1309</span></a>          }
<a name="l1310"><span class="linenum">1310</span></a>  
<a name="l1311"><span class="linenum">1311</span></a>          if (<a class="var it18835" onMouseOver="hilite(18835)" onMouseOut="lolite()" onClick="logVariable('finished')" href="../../_variables/finished.html">$finished</a>) {
<a name="l1312"><span class="linenum">1312</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('finish')" href="../../_functions/finish.html" onMouseOver="funcPopup(event,'finish')">finish</a>();
<a name="l1313"><span class="linenum">1313</span></a>          }
<a name="l1314"><span class="linenum">1314</span></a>      }
<a name="l1315"><span class="linenum">1315</span></a>  
<a name="l1316"><span class="linenum">1316</span></a>      <span class="comment">/**</span>
<a name="l1317"><span class="linenum">1317</span></a>  <span class="comment">     * Change the max mark for this question_attempt.</span>
<a name="l1318"><span class="linenum">1318</span></a>  <span class="comment">     * @param float $maxmark the new max mark.</span>
<a name="l1319"><span class="linenum">1319</span></a>  <span class="comment">     */</span>
<a name="l1320"><span class="linenum">1320</span></a>      public function <a class="function" onClick="logFunction('set_max_mark')" href="../../_functions/set_max_mark.html" onMouseOver="funcPopup(event,'set_max_mark')">set_max_mark</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>) {
<a name="l1321"><span class="linenum">1321</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> = <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../_variables/maxmark.html">$maxmark</a>;
<a name="l1322"><span class="linenum">1322</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_attempt_modified')" href="../../_functions/notify_attempt_modified.html" onMouseOver="funcPopup(event,'notify_attempt_modified')">notify_attempt_modified</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l1323"><span class="linenum">1323</span></a>      }
<a name="l1324"><span class="linenum">1324</span></a>  
<a name="l1325"><span class="linenum">1325</span></a>      <span class="comment">/**</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment">     * Perform a manual grading action on this attempt.</span>
<a name="l1327"><span class="linenum">1327</span></a>  <span class="comment">     * @param string $comment the comment being added.</span>
<a name="l1328"><span class="linenum">1328</span></a>  <span class="comment">     * @param float $mark the new mark. If null, then only a comment is added.</span>
<a name="l1329"><span class="linenum">1329</span></a>  <span class="comment">     * @param int $commentformat the FORMAT_... for $comment. Must be given.</span>
<a name="l1330"><span class="linenum">1330</span></a>  <span class="comment">     * @param int $timestamp the time to record for the action. (If not given, use now.)</span>
<a name="l1331"><span class="linenum">1331</span></a>  <span class="comment">     * @param int $userid the user to attribute the aciton to. (If not given, use the current user.)</span>
<a name="l1332"><span class="linenum">1332</span></a>  <span class="comment">     */</span>
<a name="l1333"><span class="linenum">1333</span></a>      public function <a class="function" onClick="logFunction('manual_grade')" href="../../_functions/manual_grade.html" onMouseOver="funcPopup(event,'manual_grade')">manual_grade</a>(<a class="var it298" onMouseOver="hilite(298)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>, <a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>, <a class="var it16056" onMouseOver="hilite(16056)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> = null, <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null) {
<a name="l1334"><span class="linenum">1334</span></a>          <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = array('-comment' =&gt; <a class="var it298" onMouseOver="hilite(298)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>);
<a name="l1335"><span class="linenum">1335</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it16056" onMouseOver="hilite(16056)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a>)) {
<a name="l1336"><span class="linenum">1336</span></a>              <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('You should pass <a class="var it16056" onMouseOver="hilite(16056)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> to manual_grade.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1337"><span class="linenum">1337</span></a>              <a class="var it16056" onMouseOver="hilite(16056)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l1338"><span class="linenum">1338</span></a>          }
<a name="l1339"><span class="linenum">1339</span></a>          <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>['-commentformat'] = <a class="var it16056" onMouseOver="hilite(16056)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a>;
<a name="l1340"><span class="linenum">1340</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>)) {
<a name="l1341"><span class="linenum">1341</span></a>              <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>['-mark'] = <a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>;
<a name="l1342"><span class="linenum">1342</span></a>              <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>['-maxmark'] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a>;
<a name="l1343"><span class="linenum">1343</span></a>          }
<a name="l1344"><span class="linenum">1344</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l1345"><span class="linenum">1345</span></a>      }
<a name="l1346"><span class="linenum">1346</span></a>  
<a name="l1347"><span class="linenum">1347</span></a>  <span class="comment">    /** @return bool Whether this question attempt has had a manual comment added. */</span>
<a name="l1348"><span class="linenum">1348</span></a>      public function <a class="function" onClick="logFunction('has_manual_comment')" href="../../_functions/has_manual_comment.html" onMouseOver="funcPopup(event,'has_manual_comment')">has_manual_comment</a>() {
<a name="l1349"><span class="linenum">1349</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a> as <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l1350"><span class="linenum">1350</span></a>              if (<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_behaviour_var')" href="../../_functions/has_behaviour_var.html" onMouseOver="funcPopup(event,'has_behaviour_var')">has_behaviour_var</a>('comment')) {
<a name="l1351"><span class="linenum">1351</span></a>                  return true;
<a name="l1352"><span class="linenum">1352</span></a>              }
<a name="l1353"><span class="linenum">1353</span></a>          }
<a name="l1354"><span class="linenum">1354</span></a>          return false;
<a name="l1355"><span class="linenum">1355</span></a>      }
<a name="l1356"><span class="linenum">1356</span></a>  
<a name="l1357"><span class="linenum">1357</span></a>      <span class="comment">/**</span>
<a name="l1358"><span class="linenum">1358</span></a>  <span class="comment">     * @return array(string, int) the most recent manual comment that was added</span>
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">     * to this question, and the FORMAT_... it is.</span>
<a name="l1360"><span class="linenum">1360</span></a>  <span class="comment">     */</span>
<a name="l1361"><span class="linenum">1361</span></a>      public function <a class="function" onClick="logFunction('get_manual_comment')" href="../../_functions/get_manual_comment.html" onMouseOver="funcPopup(event,'get_manual_comment')">get_manual_comment</a>() {
<a name="l1362"><span class="linenum">1362</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_reverse_step_iterator')" href="../../_functions/get_reverse_step_iterator.html" onMouseOver="funcPopup(event,'get_reverse_step_iterator')">get_reverse_step_iterator</a>() as <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l1363"><span class="linenum">1363</span></a>              if (<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('has_behaviour_var')" href="../../_functions/has_behaviour_var.html" onMouseOver="funcPopup(event,'has_behaviour_var')">has_behaviour_var</a>('comment')) {
<a name="l1364"><span class="linenum">1364</span></a>                  return array(<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_var')" href="../../_functions/get_behaviour_var.html" onMouseOver="funcPopup(event,'get_behaviour_var')">get_behaviour_var</a>('comment'),
<a name="l1365"><span class="linenum">1365</span></a>                          <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_var')" href="../../_functions/get_behaviour_var.html" onMouseOver="funcPopup(event,'get_behaviour_var')">get_behaviour_var</a>('commentformat'));
<a name="l1366"><span class="linenum">1366</span></a>              }
<a name="l1367"><span class="linenum">1367</span></a>          }
<a name="l1368"><span class="linenum">1368</span></a>          return array(null, null);
<a name="l1369"><span class="linenum">1369</span></a>      }
<a name="l1370"><span class="linenum">1370</span></a>  
<a name="l1371"><span class="linenum">1371</span></a>      <span class="comment">/**</span>
<a name="l1372"><span class="linenum">1372</span></a>  <span class="comment">     * This is used by the manual grading code, particularly in association with</span>
<a name="l1373"><span class="linenum">1373</span></a>  <span class="comment">     * validation. If there is a comment submitted in the request, then use that,</span>
<a name="l1374"><span class="linenum">1374</span></a>  <span class="comment">     * otherwise use the latest comment for this question.</span>
<a name="l1375"><span class="linenum">1375</span></a>  <span class="comment">     * @return number the current mark for this question.</span>
<a name="l1376"><span class="linenum">1376</span></a>  <span class="comment">     * {@link get_fraction()} * {@link get_max_mark()}.</span>
<a name="l1377"><span class="linenum">1377</span></a>  <span class="comment">     */</span>
<a name="l1378"><span class="linenum">1378</span></a>      public function <a class="function" onClick="logFunction('get_current_manual_comment')" href="../../_functions/get_current_manual_comment.html" onMouseOver="funcPopup(event,'get_current_manual_comment')">get_current_manual_comment</a>() {
<a name="l1379"><span class="linenum">1379</span></a>          <a class="var it298" onMouseOver="hilite(298)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('comment'), <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>);
<a name="l1380"><span class="linenum">1380</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it298" onMouseOver="hilite(298)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>)) {
<a name="l1381"><span class="linenum">1381</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_manual_comment')" href="../../_functions/get_manual_comment.html" onMouseOver="funcPopup(event,'get_manual_comment')">get_manual_comment</a>();
<a name="l1382"><span class="linenum">1382</span></a>          } else {
<a name="l1383"><span class="linenum">1383</span></a>              <a class="var it16056" onMouseOver="hilite(16056)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_submitted_var')" href="../../_functions/get_submitted_var.html" onMouseOver="funcPopup(event,'get_submitted_var')">get_submitted_var</a>(
<a name="l1384"><span class="linenum">1384</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_field_name')" href="../../_functions/get_behaviour_field_name.html" onMouseOver="funcPopup(event,'get_behaviour_field_name')">get_behaviour_field_name</a>('commentformat'), <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l1385"><span class="linenum">1385</span></a>              if (<a class="var it16056" onMouseOver="hilite(16056)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> === null) {
<a name="l1386"><span class="linenum">1386</span></a>                  <a class="var it16056" onMouseOver="hilite(16056)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l1387"><span class="linenum">1387</span></a>              }
<a name="l1388"><span class="linenum">1388</span></a>              return array(<a class="var it298" onMouseOver="hilite(298)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>, <a class="var it16056" onMouseOver="hilite(16056)" onMouseOut="lolite()" onClick="logVariable('commentformat')" href="../../_variables/commentformat.html">$commentformat</a>);
<a name="l1389"><span class="linenum">1389</span></a>          }
<a name="l1390"><span class="linenum">1390</span></a>      }
<a name="l1391"><span class="linenum">1391</span></a>  
<a name="l1392"><span class="linenum">1392</span></a>      <span class="comment">/**</span>
<a name="l1393"><span class="linenum">1393</span></a>  <span class="comment">     * Break down a student response by sub part and classification. See also {@link question::classify_response}.</span>
<a name="l1394"><span class="linenum">1394</span></a>  <span class="comment">     * Used for response analysis.</span>
<a name="l1395"><span class="linenum">1395</span></a>  <span class="comment">     *</span>
<a name="l1396"><span class="linenum">1396</span></a>  <span class="comment">     * @param string $whichtries         which tries to analyse for response analysis. Will be one of</span>
<a name="l1397"><span class="linenum">1397</span></a>  <span class="comment">     *                                   question_attempt::FIRST_TRY, LAST_TRY or ALL_TRIES.</span>
<a name="l1398"><span class="linenum">1398</span></a>  <span class="comment">     *                                   Defaults to question_attempt::LAST_TRY.</span>
<a name="l1399"><span class="linenum">1399</span></a>  <span class="comment">     * @return (question_classified_response|array)[] If $whichtries is question_attempt::FIRST_TRY or LAST_TRY index is subpartid</span>
<a name="l1400"><span class="linenum">1400</span></a>  <span class="comment">     *                                   and values are question_classified_response instances.</span>
<a name="l1401"><span class="linenum">1401</span></a>  <span class="comment">     *                                   If $whichtries is question_attempt::ALL_TRIES then first key is submitted response no</span>
<a name="l1402"><span class="linenum">1402</span></a>  <span class="comment">     *                                   and the second key is subpartid.</span>
<a name="l1403"><span class="linenum">1403</span></a>  <span class="comment">     */</span>
<a name="l1404"><span class="linenum">1404</span></a>      public function <a class="function" onClick="logFunction('classify_response')" href="../../_functions/classify_response.html" onMouseOver="funcPopup(event,'classify_response')">classify_response</a>(<a class="var it171" onMouseOver="hilite(171)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../_variables/whichtries.html">$whichtries</a> = self::LAST_TRY) {
<a name="l1405"><span class="linenum">1405</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>-&gt;<a class="function" onClick="logFunction('classify_response')" href="../../_functions/classify_response.html" onMouseOver="funcPopup(event,'classify_response')">classify_response</a>(<a class="var it171" onMouseOver="hilite(171)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../_variables/whichtries.html">$whichtries</a>);
<a name="l1406"><span class="linenum">1406</span></a>      }
<a name="l1407"><span class="linenum">1407</span></a>  
<a name="l1408"><span class="linenum">1408</span></a>      <span class="comment">/**</span>
<a name="l1409"><span class="linenum">1409</span></a>  <span class="comment">     * Create a question_attempt_step from records loaded from the database.</span>
<a name="l1410"><span class="linenum">1410</span></a>  <span class="comment">     *</span>
<a name="l1411"><span class="linenum">1411</span></a>  <span class="comment">     * For internal use only.</span>
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment">     *</span>
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment">     * @param Iterator $records Raw records loaded from the database.</span>
<a name="l1414"><span class="linenum">1414</span></a>  <span class="comment">     * @param int $questionattemptid The id of the question_attempt to extract.</span>
<a name="l1415"><span class="linenum">1415</span></a>  <span class="comment">     * @return question_attempt The newly constructed question_attempt.</span>
<a name="l1416"><span class="linenum">1416</span></a>  <span class="comment">     */</span>
<a name="l1417"><span class="linenum">1417</span></a>      public static function <a class="function" onClick="logFunction('load_from_records')" href="../../_functions/load_from_records.html" onMouseOver="funcPopup(event,'load_from_records')">load_from_records</a>(<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>, <a class="var it9202" onMouseOver="hilite(9202)" onMouseOut="lolite()" onClick="logVariable('questionattemptid')" href="../../_variables/questionattemptid.html">$questionattemptid</a>,
<a name="l1418"><span class="linenum">1418</span></a>              question_usage_observer <a class="var it18475" onMouseOver="hilite(18475)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>, <a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>) {
<a name="l1419"><span class="linenum">1419</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="phpfunction" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>();
<a name="l1420"><span class="linenum">1420</span></a>          while (<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionattemptid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/questionattemptid.html">questionattemptid</a> != <a class="var it9202" onMouseOver="hilite(9202)" onMouseOut="lolite()" onClick="logVariable('questionattemptid')" href="../../_variables/questionattemptid.html">$questionattemptid</a>) {
<a name="l1421"><span class="linenum">1421</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="phpfunction" onClick="logFunction('next')" href="../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>();
<a name="l1422"><span class="linenum">1422</span></a>              if (!<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="function" onClick="logFunction('valid')" href="../../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>()) {
<a name="l1423"><span class="linenum">1423</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(&quot;Question attempt {<a class="var it9202" onMouseOver="hilite(9202)" onMouseOut="lolite()" onClick="logVariable('questionattemptid')" href="../../_variables/questionattemptid.html">$questionattemptid</a>} not found in the database.&quot;);
<a name="l1424"><span class="linenum">1424</span></a>              }
<a name="l1425"><span class="linenum">1425</span></a>              <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="phpfunction" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>();
<a name="l1426"><span class="linenum">1426</span></a>          }
<a name="l1427"><span class="linenum">1427</span></a>  
<a name="l1428"><span class="linenum">1428</span></a>          try {
<a name="l1429"><span class="linenum">1429</span></a>              <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a> = question_bank::<a class="function" onClick="logFunction('load_question')" href="../../_functions/load_question.html" onMouseOver="funcPopup(event,'load_question')">load_question</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/questionid.html">questionid</a>);
<a name="l1430"><span class="linenum">1430</span></a>          } catch (Exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l1431"><span class="linenum">1431</span></a>  <span class="comment">            // The question must have been deleted somehow. Create a missing</span>
<a name="l1432"><span class="linenum">1432</span></a>  <span class="comment">            // question to use in its place.</span>
<a name="l1433"><span class="linenum">1433</span></a>              <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a> = question_bank::<a class="function" onClick="logFunction('get_qtype')" href="../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>('missingtype')-&gt;<a class="function" onClick="logFunction('make_deleted_instance')" href="../../_functions/make_deleted_instance.html" onMouseOver="funcPopup(event,'make_deleted_instance')">make_deleted_instance</a>(
<a name="l1434"><span class="linenum">1434</span></a>                      <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/questionid.html">questionid</a>, <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> + 0);
<a name="l1435"><span class="linenum">1435</span></a>          }
<a name="l1436"><span class="linenum">1436</span></a>  
<a name="l1437"><span class="linenum">1437</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>, <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionusageid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/questionusageid.html">questionusageid</a>,
<a name="l1438"><span class="linenum">1438</span></a>                  null, <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> + 0);
<a name="l1439"><span class="linenum">1439</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('set_database_id')" href="../../_functions/set_database_id.html" onMouseOver="funcPopup(event,'set_database_id')">set_database_id</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionattemptid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/questionattemptid.html">questionattemptid</a>);
<a name="l1440"><span class="linenum">1440</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('set_slot')" href="../../_functions/set_slot.html" onMouseOver="funcPopup(event,'set_slot')">set_slot</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('slot')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a>);
<a name="l1441"><span class="linenum">1441</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('variant')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/variant.html">variant</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('variant')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/variant.html">variant</a> + 0;
<a name="l1442"><span class="linenum">1442</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('minfraction')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('minfraction')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a> + 0;
<a name="l1443"><span class="linenum">1443</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a> + 0;
<a name="l1444"><span class="linenum">1444</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('set_flagged')" href="../../_functions/set_flagged.html" onMouseOver="funcPopup(event,'set_flagged')">set_flagged</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('flagged')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/flagged.html">flagged</a>);
<a name="l1445"><span class="linenum">1445</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a>;
<a name="l1446"><span class="linenum">1446</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a>;
<a name="l1447"><span class="linenum">1447</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('responsesummary')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/responsesummary.html">responsesummary</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('responsesummary')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/responsesummary.html">responsesummary</a>;
<a name="l1448"><span class="linenum">1448</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>;
<a name="l1449"><span class="linenum">1449</span></a>  
<a name="l1450"><span class="linenum">1450</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('behaviour')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a> = question_engine::<a class="function" onClick="logFunction('make_behaviour')" href="../../_functions/make_behaviour.html" onMouseOver="funcPopup(event,'make_behaviour')">make_behaviour</a>(
<a name="l1451"><span class="linenum">1451</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a>, <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l1452"><span class="linenum">1452</span></a>          <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('observer')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a> = <a class="var it18475" onMouseOver="hilite(18475)" onMouseOut="lolite()" onClick="logVariable('observer')" href="../../_variables/observer.html">$observer</a>;
<a name="l1453"><span class="linenum">1453</span></a>  
<a name="l1454"><span class="linenum">1454</span></a>  <span class="comment">        // If attemptstepid is null (which should not happen, but has happened</span>
<a name="l1455"><span class="linenum">1455</span></a>  <span class="comment">        // due to corrupt data, see MDL-34251) then the current pointer in $records</span>
<a name="l1456"><span class="linenum">1456</span></a>  <span class="comment">        // will not be advanced in the while loop below, and we get stuck in an</span>
<a name="l1457"><span class="linenum">1457</span></a>  <span class="comment">        // infinite loop, since this method is supposed to always consume at</span>
<a name="l1458"><span class="linenum">1458</span></a>  <span class="comment">        // least one record. Therefore, in this case, advance the record here.</span>
<a name="l1459"><span class="linenum">1459</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('attemptstepid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/attemptstepid.html">attemptstepid</a>)) {
<a name="l1460"><span class="linenum">1460</span></a>              <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="phpfunction" onClick="logFunction('next')" href="../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>();
<a name="l1461"><span class="linenum">1461</span></a>          }
<a name="l1462"><span class="linenum">1462</span></a>  
<a name="l1463"><span class="linenum">1463</span></a>          <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0;
<a name="l1464"><span class="linenum">1464</span></a>          <a class="var it39473" onMouseOver="hilite(39473)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a> = null;
<a name="l1465"><span class="linenum">1465</span></a>          <a class="var it39481" onMouseOver="hilite(39481)" onMouseOut="lolite()" onClick="logVariable('autosavedsequencenumber')" href="../../_variables/autosavedsequencenumber.html">$autosavedsequencenumber</a> = null;
<a name="l1466"><span class="linenum">1466</span></a>          while (<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> &amp;&amp; <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('questionattemptid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/questionattemptid.html">questionattemptid</a> == <a class="var it9202" onMouseOver="hilite(9202)" onMouseOut="lolite()" onClick="logVariable('questionattemptid')" href="../../_variables/questionattemptid.html">$questionattemptid</a> &amp;&amp; !<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('attemptstepid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/attemptstepid.html">attemptstepid</a>)) {
<a name="l1467"><span class="linenum">1467</span></a>              <a class="var it9203" onMouseOver="hilite(9203)" onMouseOut="lolite()" onClick="logVariable('sequencenumber')" href="../../_variables/sequencenumber.html">$sequencenumber</a> = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('sequencenumber')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/sequencenumber.html">sequencenumber</a>;
<a name="l1468"><span class="linenum">1468</span></a>              <a class="var it39482" onMouseOver="hilite(39482)" onMouseOut="lolite()" onClick="logVariable('nextstep')" href="../../_variables/nextstep.html">$nextstep</a> = <a class="class" onClick="logClass('question_attempt_step')" href="../../_classes/question_attempt_step.html" onMouseOver="classPopup(event,'question_attempt_step')">question_attempt_step</a>::<a class="function" onClick="logFunction('load_from_records')" href="../../_functions/load_from_records.html" onMouseOver="funcPopup(event,'load_from_records')">load_from_records</a>(<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>, <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('attemptstepid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/attemptstepid.html">attemptstepid</a>, <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('get_type_name')" href="../../_functions/get_type_name.html" onMouseOver="funcPopup(event,'get_type_name')">get_type_name</a>());
<a name="l1469"><span class="linenum">1469</span></a>  
<a name="l1470"><span class="linenum">1470</span></a>              if (<a class="var it9203" onMouseOver="hilite(9203)" onMouseOut="lolite()" onClick="logVariable('sequencenumber')" href="../../_variables/sequencenumber.html">$sequencenumber</a> &lt; 0) {
<a name="l1471"><span class="linenum">1471</span></a>                  if (!<a class="var it39473" onMouseOver="hilite(39473)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a>) {
<a name="l1472"><span class="linenum">1472</span></a>                      <a class="var it39473" onMouseOver="hilite(39473)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a> = <a class="var it39482" onMouseOver="hilite(39482)" onMouseOut="lolite()" onClick="logVariable('nextstep')" href="../../_variables/nextstep.html">$nextstep</a>;
<a name="l1473"><span class="linenum">1473</span></a>                      <a class="var it39481" onMouseOver="hilite(39481)" onMouseOut="lolite()" onClick="logVariable('autosavedsequencenumber')" href="../../_variables/autosavedsequencenumber.html">$autosavedsequencenumber</a> = -<a class="var it9203" onMouseOver="hilite(9203)" onMouseOut="lolite()" onClick="logVariable('sequencenumber')" href="../../_variables/sequencenumber.html">$sequencenumber</a>;
<a name="l1474"><span class="linenum">1474</span></a>                  } else {
<a name="l1475"><span class="linenum">1475</span></a>  <span class="comment">                    // Old redundant data. Mark it for deletion.</span>
<a name="l1476"><span class="linenum">1476</span></a>                      <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('observer')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_deleted')" href="../../_functions/notify_step_deleted.html" onMouseOver="funcPopup(event,'notify_step_deleted')">notify_step_deleted</a>(<a class="var it39482" onMouseOver="hilite(39482)" onMouseOut="lolite()" onClick="logVariable('nextstep')" href="../../_variables/nextstep.html">$nextstep</a>, <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>);
<a name="l1477"><span class="linenum">1477</span></a>                  }
<a name="l1478"><span class="linenum">1478</span></a>              } else {
<a name="l1479"><span class="linenum">1479</span></a>                  <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('steps')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>] = <a class="var it39482" onMouseOver="hilite(39482)" onMouseOut="lolite()" onClick="logVariable('nextstep')" href="../../_variables/nextstep.html">$nextstep</a>;
<a name="l1480"><span class="linenum">1480</span></a>                  if (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> == 0) {
<a name="l1481"><span class="linenum">1481</span></a>                      <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>-&gt;<a class="function" onClick="logFunction('apply_attempt_state')" href="../../_functions/apply_attempt_state.html" onMouseOver="funcPopup(event,'apply_attempt_state')">apply_attempt_state</a>(<a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('steps')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[0]);
<a name="l1482"><span class="linenum">1482</span></a>                  }
<a name="l1483"><span class="linenum">1483</span></a>                  <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l1484"><span class="linenum">1484</span></a>              }
<a name="l1485"><span class="linenum">1485</span></a>  
<a name="l1486"><span class="linenum">1486</span></a>              if (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="function" onClick="logFunction('valid')" href="../../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>()) {
<a name="l1487"><span class="linenum">1487</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>-&gt;<a class="phpfunction" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>();
<a name="l1488"><span class="linenum">1488</span></a>              } else {
<a name="l1489"><span class="linenum">1489</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = false;
<a name="l1490"><span class="linenum">1490</span></a>              }
<a name="l1491"><span class="linenum">1491</span></a>          }
<a name="l1492"><span class="linenum">1492</span></a>  
<a name="l1493"><span class="linenum">1493</span></a>          if (<a class="var it39473" onMouseOver="hilite(39473)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a>) {
<a name="l1494"><span class="linenum">1494</span></a>              if (<a class="var it39481" onMouseOver="hilite(39481)" onMouseOut="lolite()" onClick="logVariable('autosavedsequencenumber')" href="../../_variables/autosavedsequencenumber.html">$autosavedsequencenumber</a> &gt;= <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>) {
<a name="l1495"><span class="linenum">1495</span></a>                  <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a> = <a class="var it39473" onMouseOver="hilite(39473)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a>;
<a name="l1496"><span class="linenum">1496</span></a>                  <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('steps')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>] = <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('autosavedstep')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/autosavedstep.html">autosavedstep</a>;
<a name="l1497"><span class="linenum">1497</span></a>              } else {
<a name="l1498"><span class="linenum">1498</span></a>                  <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a onClick="logVariable('observer')" class="var it43707" onMouseOver="hilite(43707)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a>-&gt;<a class="function" onClick="logFunction('notify_step_deleted')" href="../../_functions/notify_step_deleted.html" onMouseOver="funcPopup(event,'notify_step_deleted')">notify_step_deleted</a>(<a class="var it39473" onMouseOver="hilite(39473)" onMouseOut="lolite()" onClick="logVariable('autosavedstep')" href="../../_variables/autosavedstep.html">$autosavedstep</a>, <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>);
<a name="l1499"><span class="linenum">1499</span></a>              }
<a name="l1500"><span class="linenum">1500</span></a>          }
<a name="l1501"><span class="linenum">1501</span></a>  
<a name="l1502"><span class="linenum">1502</span></a>          return <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>;
<a name="l1503"><span class="linenum">1503</span></a>      }
<a name="l1504"><span class="linenum">1504</span></a>  
<a name="l1505"><span class="linenum">1505</span></a>      <span class="comment">/**</span>
<a name="l1506"><span class="linenum">1506</span></a>  <span class="comment">     * Allow access to steps with responses submitted by students for grading in a question attempt.</span>
<a name="l1507"><span class="linenum">1507</span></a>  <span class="comment">     *</span>
<a name="l1508"><span class="linenum">1508</span></a>  <span class="comment">     * @return question_attempt_steps_with_submitted_response_iterator to access all steps with submitted data for questions that</span>
<a name="l1509"><span class="linenum">1509</span></a>  <span class="comment">     *                                                      allow multiple submissions that count towards grade, per attempt.</span>
<a name="l1510"><span class="linenum">1510</span></a>  <span class="comment">     */</span>
<a name="l1511"><span class="linenum">1511</span></a>      public function <a class="function" onClick="logFunction('get_steps_with_submitted_response_iterator')" href="../../_functions/get_steps_with_submitted_response_iterator.html" onMouseOver="funcPopup(event,'get_steps_with_submitted_response_iterator')">get_steps_with_submitted_response_iterator</a>() {
<a name="l1512"><span class="linenum">1512</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_steps_with_submitted_response_iterator')" href="../../_classes/question_attempt_steps_with_submitted_response_iterator.html" onMouseOver="classPopup(event,'question_attempt_steps_with_submitted_response_iterator')">question_attempt_steps_with_submitted_response_iterator</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l1513"><span class="linenum">1513</span></a>      }
<a name="l1514"><span class="linenum">1514</span></a>  }
<a name="l1515"><span class="linenum">1515</span></a>  
<a name="l1516"><span class="linenum">1516</span></a>  
<a name="l1517"><span class="linenum">1517</span></a>  <span class="comment">/**</span>
<a name="l1518"><span class="linenum">1518</span></a>  <span class="comment"> * This subclass of question_attempt pretends that only part of the step history</span>
<a name="l1519"><span class="linenum">1519</span></a>  <span class="comment"> * exists. It is used for rendering the question in past states.</span>
<a name="l1520"><span class="linenum">1520</span></a>  <span class="comment"> *</span>
<a name="l1521"><span class="linenum">1521</span></a>  <span class="comment"> * All methods that try to modify the question_attempt throw exceptions.</span>
<a name="l1522"><span class="linenum">1522</span></a>  <span class="comment"> *</span>
<a name="l1523"><span class="linenum">1523</span></a>  <span class="comment"> * @copyright  2010 The Open University</span>
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment"> */</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_attempt_with_restricted_history')" href="../../_classes/question_attempt_with_restricted_history.html" onMouseOver="classPopup(event,'question_attempt_with_restricted_history')">question_attempt_with_restricted_history</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a> {
<a name="l1527"><span class="linenum">1527</span></a>      <span class="comment">/**</span>
<a name="l1528"><span class="linenum">1528</span></a>  <span class="comment">     * @var question_attempt the underlying question_attempt.</span>
<a name="l1529"><span class="linenum">1529</span></a>  <span class="comment">     */</span>
<a name="l1530"><span class="linenum">1530</span></a>      protected <a class="var it39483" onMouseOver="hilite(39483)" onMouseOut="lolite()" onClick="logVariable('baseqa')" href="../../_variables/baseqa.html">$baseqa</a>;
<a name="l1531"><span class="linenum">1531</span></a>  
<a name="l1532"><span class="linenum">1532</span></a>      <span class="comment">/**</span>
<a name="l1533"><span class="linenum">1533</span></a>  <span class="comment">     * Create a question_attempt_with_restricted_history</span>
<a name="l1534"><span class="linenum">1534</span></a>  <span class="comment">     * @param question_attempt $baseqa The question_attempt to make a restricted version of.</span>
<a name="l1535"><span class="linenum">1535</span></a>  <span class="comment">     * @param int $lastseq the index of the last step to include.</span>
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment">     * @param string $preferredbehaviour the preferred behaviour. It is slightly</span>
<a name="l1537"><span class="linenum">1537</span></a>  <span class="comment">     *      annoyting that this needs to be passed, but unavoidable for now.</span>
<a name="l1538"><span class="linenum">1538</span></a>  <span class="comment">     */</span>
<a name="l1539"><span class="linenum">1539</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(question_attempt <a class="var it39483" onMouseOver="hilite(39483)" onMouseOut="lolite()" onClick="logVariable('baseqa')" href="../../_variables/baseqa.html">$baseqa</a>, <a class="var it39484" onMouseOver="hilite(39484)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a>, <a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>) {
<a name="l1540"><span class="linenum">1540</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a> = <a class="var it39483" onMouseOver="hilite(39483)" onMouseOut="lolite()" onClick="logVariable('baseqa')" href="../../_variables/baseqa.html">$baseqa</a>-&gt;<a class="function" onClick="logFunction('get_full_qa')" href="../../_functions/get_full_qa.html" onMouseOver="funcPopup(event,'get_full_qa')">get_full_qa</a>();
<a name="l1541"><span class="linenum">1541</span></a>  
<a name="l1542"><span class="linenum">1542</span></a>          if (<a class="var it39484" onMouseOver="hilite(39484)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a> &lt; 0 || <a class="var it39484" onMouseOver="hilite(39484)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a> &gt;= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>()) {
<a name="l1543"><span class="linenum">1543</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="var it39484" onMouseOver="hilite(39484)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a> out of range', <a class="var it39484" onMouseOver="hilite(39484)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a>);
<a name="l1544"><span class="linenum">1544</span></a>          }
<a name="l1545"><span class="linenum">1545</span></a>  
<a name="l1546"><span class="linenum">1546</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('steps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/steps.html">steps</a> = <a class="phpfunction" onClick="logFunction('array_slice')" href="../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;steps, 0, <a class="var it39484" onMouseOver="hilite(39484)" onMouseOut="lolite()" onClick="logVariable('lastseq')" href="../../_variables/lastseq.html">$lastseq</a> + 1);
<a name="l1547"><span class="linenum">1547</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('observer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/observer.html">observer</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_usage_null_observer')" href="../../_classes/question_usage_null_observer.html" onMouseOver="classPopup(event,'question_usage_null_observer')">question_usage_null_observer</a>();
<a name="l1548"><span class="linenum">1548</span></a>  
<a name="l1549"><span class="linenum">1549</span></a>  <span class="comment">        // This should be a straight copy of all the remaining fields.</span>
<a name="l1550"><span class="linenum">1550</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;id;
<a name="l1551"><span class="linenum">1551</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('usageid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/usageid.html">usageid</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;usageid;
<a name="l1552"><span class="linenum">1552</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slot')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/slot.html">slot</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;slot;
<a name="l1553"><span class="linenum">1553</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('question')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/question.html">question</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;question;
<a name="l1554"><span class="linenum">1554</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxmark')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxmark.html">maxmark</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;maxmark;
<a name="l1555"><span class="linenum">1555</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('minfraction')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/minfraction.html">minfraction</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;minfraction;
<a name="l1556"><span class="linenum">1556</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxfraction')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/maxfraction.html">maxfraction</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;maxfraction;
<a name="l1557"><span class="linenum">1557</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questionsummary')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/questionsummary.html">questionsummary</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;questionsummary;
<a name="l1558"><span class="linenum">1558</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('responsesummary')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/responsesummary.html">responsesummary</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;responsesummary;
<a name="l1559"><span class="linenum">1559</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;rightanswer;
<a name="l1560"><span class="linenum">1560</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('flagged')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/flagged.html">flagged</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;flagged;
<a name="l1561"><span class="linenum">1561</span></a>  
<a name="l1562"><span class="linenum">1562</span></a>  <span class="comment">        // Except behaviour, where we need to create a new one.</span>
<a name="l1563"><span class="linenum">1563</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('behaviour')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/behaviour.html">behaviour</a> = question_engine::<a class="function" onClick="logFunction('make_behaviour')" href="../../_functions/make_behaviour.html" onMouseOver="funcPopup(event,'make_behaviour')">make_behaviour</a>(
<a name="l1564"><span class="linenum">1564</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour_name')" href="../../_functions/get_behaviour_name.html" onMouseOver="funcPopup(event,'get_behaviour_name')">get_behaviour_name</a>(), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>);
<a name="l1565"><span class="linenum">1565</span></a>      }
<a name="l1566"><span class="linenum">1566</span></a>  
<a name="l1567"><span class="linenum">1567</span></a>      public function <a class="function" onClick="logFunction('get_full_qa')" href="../../_functions/get_full_qa.html" onMouseOver="funcPopup(event,'get_full_qa')">get_full_qa</a>() {
<a name="l1568"><span class="linenum">1568</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>;
<a name="l1569"><span class="linenum">1569</span></a>      }
<a name="l1570"><span class="linenum">1570</span></a>  
<a name="l1571"><span class="linenum">1571</span></a>      public function <a class="function" onClick="logFunction('get_full_step_iterator')" href="../../_functions/get_full_step_iterator.html" onMouseOver="funcPopup(event,'get_full_step_iterator')">get_full_step_iterator</a>() {
<a name="l1572"><span class="linenum">1572</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('baseqa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/baseqa.html">baseqa</a>-&gt;<a class="function" onClick="logFunction('get_step_iterator')" href="../../_functions/get_step_iterator.html" onMouseOver="funcPopup(event,'get_step_iterator')">get_step_iterator</a>();
<a name="l1573"><span class="linenum">1573</span></a>      }
<a name="l1574"><span class="linenum">1574</span></a>  
<a name="l1575"><span class="linenum">1575</span></a>      protected function <a class="function" onClick="logFunction('add_step')" href="../../_functions/add_step.html" onMouseOver="funcPopup(event,'add_step')">add_step</a>(question_attempt_step <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l1576"><span class="linenum">1576</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1577"><span class="linenum">1577</span></a>      }
<a name="l1578"><span class="linenum">1578</span></a>      public function <a class="function" onClick="logFunction('process_action')" href="../../_functions/process_action.html" onMouseOver="funcPopup(event,'process_action')">process_action</a>(<a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a>, <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null, <a class="var it38643" onMouseOver="hilite(38643)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a> = null) {
<a name="l1579"><span class="linenum">1579</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1580"><span class="linenum">1580</span></a>      }
<a name="l1581"><span class="linenum">1581</span></a>      public function <a class="function" onClick="logFunction('start')" href="../../_functions/start.html" onMouseOver="funcPopup(event,'start')">start</a>(<a class="var it9197" onMouseOver="hilite(9197)" onMouseOut="lolite()" onClick="logVariable('preferredbehaviour')" href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>, <a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../_variables/variant.html">$variant</a>, <a class="var it8924" onMouseOver="hilite(8924)" onMouseOut="lolite()" onClick="logVariable('submitteddata')" href="../../_variables/submitteddata.html">$submitteddata</a> = array(), <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../../_variables/timestamp.html">$timestamp</a> = null, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = null, <a class="var it38643" onMouseOver="hilite(38643)" onMouseOut="lolite()" onClick="logVariable('existingstepid')" href="../../_variables/existingstepid.html">$existingstepid</a> = null) {
<a name="l1582"><span class="linenum">1582</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1583"><span class="linenum">1583</span></a>      }
<a name="l1584"><span class="linenum">1584</span></a>  
<a name="l1585"><span class="linenum">1585</span></a>      public function <a class="function" onClick="logFunction('set_database_id')" href="../../_functions/set_database_id.html" onMouseOver="funcPopup(event,'set_database_id')">set_database_id</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l1586"><span class="linenum">1586</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1587"><span class="linenum">1587</span></a>      }
<a name="l1588"><span class="linenum">1588</span></a>      public function <a class="function" onClick="logFunction('set_flagged')" href="../../_functions/set_flagged.html" onMouseOver="funcPopup(event,'set_flagged')">set_flagged</a>(<a class="var it4605" onMouseOver="hilite(4605)" onMouseOut="lolite()" onClick="logVariable('flagged')" href="../../_variables/flagged.html">$flagged</a>) {
<a name="l1589"><span class="linenum">1589</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1590"><span class="linenum">1590</span></a>      }
<a name="l1591"><span class="linenum">1591</span></a>      public function <a class="function" onClick="logFunction('set_slot')" href="../../_functions/set_slot.html" onMouseOver="funcPopup(event,'set_slot')">set_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../_variables/slot.html">$slot</a>) {
<a name="l1592"><span class="linenum">1592</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1593"><span class="linenum">1593</span></a>      }
<a name="l1594"><span class="linenum">1594</span></a>      public function <a class="function" onClick="logFunction('set_question_summary')" href="../../_functions/set_question_summary.html" onMouseOver="funcPopup(event,'set_question_summary')">set_question_summary</a>(<a class="var it9200" onMouseOver="hilite(9200)" onMouseOut="lolite()" onClick="logVariable('questionsummary')" href="../../_variables/questionsummary.html">$questionsummary</a>) {
<a name="l1595"><span class="linenum">1595</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1596"><span class="linenum">1596</span></a>      }
<a name="l1597"><span class="linenum">1597</span></a>      public function <a class="function" onClick="logFunction('set_usage_id')" href="../../_functions/set_usage_id.html" onMouseOver="funcPopup(event,'set_usage_id')">set_usage_id</a>(<a class="var it4599" onMouseOver="hilite(4599)" onMouseOut="lolite()" onClick="logVariable('usageid')" href="../../_variables/usageid.html">$usageid</a>) {
<a name="l1598"><span class="linenum">1598</span></a>          coding_exception('Cannot modify a question_attempt_with_restricted_history.');
<a name="l1599"><span class="linenum">1599</span></a>      }
<a name="l1600"><span class="linenum">1600</span></a>  }
<a name="l1601"><span class="linenum">1601</span></a>  
<a name="l1602"><span class="linenum">1602</span></a>  
<a name="l1603"><span class="linenum">1603</span></a>  <span class="comment">/**</span>
<a name="l1604"><span class="linenum">1604</span></a>  <span class="comment"> * A class abstracting access to the {@link question_attempt::$states} array.</span>
<a name="l1605"><span class="linenum">1605</span></a>  <span class="comment"> *</span>
<a name="l1606"><span class="linenum">1606</span></a>  <span class="comment"> * This is actively linked to question_attempt. If you add an new step</span>
<a name="l1607"><span class="linenum">1607</span></a>  <span class="comment"> * mid-iteration, then it will be included.</span>
<a name="l1608"><span class="linenum">1608</span></a>  <span class="comment"> *</span>
<a name="l1609"><span class="linenum">1609</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l1610"><span class="linenum">1610</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1611"><span class="linenum">1611</span></a>  <span class="comment"> */</span>
<a name="l1612"><span class="linenum">1612</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_attempt_step_iterator')" href="../../_classes/question_attempt_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_step_iterator')">question_attempt_step_iterator</a> implements Iterator, ArrayAccess {
<a name="l1613"><span class="linenum">1613</span></a>  <span class="comment">    /** @var question_attempt the question_attempt being iterated over. */</span>
<a name="l1614"><span class="linenum">1614</span></a>      protected <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>;
<a name="l1615"><span class="linenum">1615</span></a>  <span class="comment">    /** @var integer records the current position in the iteration. */</span>
<a name="l1616"><span class="linenum">1616</span></a>      protected <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>;
<a name="l1617"><span class="linenum">1617</span></a>  
<a name="l1618"><span class="linenum">1618</span></a>      <span class="comment">/**</span>
<a name="l1619"><span class="linenum">1619</span></a>  <span class="comment">     * Do not call this constructor directly.</span>
<a name="l1620"><span class="linenum">1620</span></a>  <span class="comment">     * Use {@link question_attempt::get_step_iterator()}.</span>
<a name="l1621"><span class="linenum">1621</span></a>  <span class="comment">     * @param question_attempt $qa the attempt to iterate over.</span>
<a name="l1622"><span class="linenum">1622</span></a>  <span class="comment">     */</span>
<a name="l1623"><span class="linenum">1623</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(question_attempt <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l1624"><span class="linenum">1624</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a> = <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>;
<a name="l1625"><span class="linenum">1625</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('rewind')" href="../../_functions/rewind.html" onMouseOver="phpfuncPopup(event,'rewind')">rewind</a>();
<a name="l1626"><span class="linenum">1626</span></a>      }
<a name="l1627"><span class="linenum">1627</span></a>  
<a name="l1628"><span class="linenum">1628</span></a>  <span class="comment">    /** @return question_attempt_step */</span>
<a name="l1629"><span class="linenum">1629</span></a>      public function <a class="function" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="funcPopup(event,'current')">current</a>() {
<a name="l1630"><span class="linenum">1630</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('offsetGet')" href="../../_functions/offsetget.html" onMouseOver="funcPopup(event,'offsetget')">offsetGet</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/i.html">i</a>);
<a name="l1631"><span class="linenum">1631</span></a>      }
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment">    /** @return int */</span>
<a name="l1633"><span class="linenum">1633</span></a>      public function <a class="function" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="funcPopup(event,'key')">key</a>() {
<a name="l1634"><span class="linenum">1634</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/i.html">i</a>;
<a name="l1635"><span class="linenum">1635</span></a>      }
<a name="l1636"><span class="linenum">1636</span></a>      public function <a class="function" onClick="logFunction('next')" href="../../_functions/next.html" onMouseOver="funcPopup(event,'next')">next</a>() {
<a name="l1637"><span class="linenum">1637</span></a>          ++<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/i.html">i</a>;
<a name="l1638"><span class="linenum">1638</span></a>      }
<a name="l1639"><span class="linenum">1639</span></a>      public function <a class="function" onClick="logFunction('rewind')" href="../../_functions/rewind.html" onMouseOver="funcPopup(event,'rewind')">rewind</a>() {
<a name="l1640"><span class="linenum">1640</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/i.html">i</a> = 0;
<a name="l1641"><span class="linenum">1641</span></a>      }
<a name="l1642"><span class="linenum">1642</span></a>  <span class="comment">    /** @return bool */</span>
<a name="l1643"><span class="linenum">1643</span></a>      public function <a class="function" onClick="logFunction('valid')" href="../../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>() {
<a name="l1644"><span class="linenum">1644</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('offsetExists')" href="../../_functions/offsetexists.html" onMouseOver="funcPopup(event,'offsetexists')">offsetExists</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/i.html">i</a>);
<a name="l1645"><span class="linenum">1645</span></a>      }
<a name="l1646"><span class="linenum">1646</span></a>  
<a name="l1647"><span class="linenum">1647</span></a>  <span class="comment">    /** @return bool */</span>
<a name="l1648"><span class="linenum">1648</span></a>      public function <a class="function" onClick="logFunction('offsetExists')" href="../../_functions/offsetexists.html" onMouseOver="funcPopup(event,'offsetexists')">offsetExists</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>) {
<a name="l1649"><span class="linenum">1649</span></a>          return <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &gt;= 0 &amp;&amp; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>();
<a name="l1650"><span class="linenum">1650</span></a>      }
<a name="l1651"><span class="linenum">1651</span></a>  <span class="comment">    /** @return question_attempt_step */</span>
<a name="l1652"><span class="linenum">1652</span></a>      public function <a class="function" onClick="logFunction('offsetGet')" href="../../_functions/offsetget.html" onMouseOver="funcPopup(event,'offsetget')">offsetGet</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>) {
<a name="l1653"><span class="linenum">1653</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_step')" href="../../_functions/get_step.html" onMouseOver="funcPopup(event,'get_step')">get_step</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>);
<a name="l1654"><span class="linenum">1654</span></a>      }
<a name="l1655"><span class="linenum">1655</span></a>      public function <a class="function" onClick="logFunction('offsetSet')" href="../../_functions/offsetset.html" onMouseOver="funcPopup(event,'offsetset')">offsetSet</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1656"><span class="linenum">1656</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You are only allowed read-only access to <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::states through a question_attempt_step_iterator. Cannot set.');
<a name="l1657"><span class="linenum">1657</span></a>      }
<a name="l1658"><span class="linenum">1658</span></a>      public function <a class="function" onClick="logFunction('offsetUnset')" href="../../_functions/offsetunset.html" onMouseOver="funcPopup(event,'offsetunset')">offsetUnset</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>) {
<a name="l1659"><span class="linenum">1659</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You are only allowed read-only access to <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::states through a question_attempt_step_iterator. Cannot unset.');
<a name="l1660"><span class="linenum">1660</span></a>      }
<a name="l1661"><span class="linenum">1661</span></a>  }
<a name="l1662"><span class="linenum">1662</span></a>  
<a name="l1663"><span class="linenum">1663</span></a>  
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment">/**</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment"> * A variant of {@link question_attempt_step_iterator} that iterates through the</span>
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment"> * steps in reverse order.</span>
<a name="l1667"><span class="linenum">1667</span></a>  <span class="comment"> *</span>
<a name="l1668"><span class="linenum">1668</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l1669"><span class="linenum">1669</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1670"><span class="linenum">1670</span></a>  <span class="comment"> */</span>
<a name="l1671"><span class="linenum">1671</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_attempt_reverse_step_iterator')" href="../../_classes/question_attempt_reverse_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_reverse_step_iterator')">question_attempt_reverse_step_iterator</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('question_attempt_step_iterator')" href="../../_classes/question_attempt_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_step_iterator')">question_attempt_step_iterator</a> {
<a name="l1672"><span class="linenum">1672</span></a>      public function <a class="function" onClick="logFunction('next')" href="../../_functions/next.html" onMouseOver="funcPopup(event,'next')">next</a>() {
<a name="l1673"><span class="linenum">1673</span></a>          --<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/i.html">i</a>;
<a name="l1674"><span class="linenum">1674</span></a>      }
<a name="l1675"><span class="linenum">1675</span></a>  
<a name="l1676"><span class="linenum">1676</span></a>      public function <a class="function" onClick="logFunction('rewind')" href="../../_functions/rewind.html" onMouseOver="funcPopup(event,'rewind')">rewind</a>() {
<a name="l1677"><span class="linenum">1677</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/i.html">i</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_num_steps')" href="../../_functions/get_num_steps.html" onMouseOver="funcPopup(event,'get_num_steps')">get_num_steps</a>() - 1;
<a name="l1678"><span class="linenum">1678</span></a>      }
<a name="l1679"><span class="linenum">1679</span></a>  }
<a name="l1680"><span class="linenum">1680</span></a>  
<a name="l1681"><span class="linenum">1681</span></a>  <span class="comment">/**</span>
<a name="l1682"><span class="linenum">1682</span></a>  <span class="comment"> * A variant of {@link question_attempt_step_iterator} that iterates through the</span>
<a name="l1683"><span class="linenum">1683</span></a>  <span class="comment"> * steps with submitted tries.</span>
<a name="l1684"><span class="linenum">1684</span></a>  <span class="comment"> *</span>
<a name="l1685"><span class="linenum">1685</span></a>  <span class="comment"> * @copyright  2014 The Open University</span>
<a name="l1686"><span class="linenum">1686</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1687"><span class="linenum">1687</span></a>  <span class="comment"> */</span>
<a name="l1688"><span class="linenum">1688</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_attempt_steps_with_submitted_response_iterator')" href="../../_classes/question_attempt_steps_with_submitted_response_iterator.html" onMouseOver="classPopup(event,'question_attempt_steps_with_submitted_response_iterator')">question_attempt_steps_with_submitted_response_iterator</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('question_attempt_step_iterator')" href="../../_classes/question_attempt_step_iterator.html" onMouseOver="classPopup(event,'question_attempt_step_iterator')">question_attempt_step_iterator</a> implements Countable {
<a name="l1689"><span class="linenum">1689</span></a>  
<a name="l1690"><span class="linenum">1690</span></a>  <span class="comment">    /** @var question_attempt the question_attempt being iterated over. */</span>
<a name="l1691"><span class="linenum">1691</span></a>      protected <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>;
<a name="l1692"><span class="linenum">1692</span></a>  
<a name="l1693"><span class="linenum">1693</span></a>  <span class="comment">    /** @var integer records the current position in the iteration. */</span>
<a name="l1694"><span class="linenum">1694</span></a>      protected <a class="var it22321" onMouseOver="hilite(22321)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>;
<a name="l1695"><span class="linenum">1695</span></a>  
<a name="l1696"><span class="linenum">1696</span></a>      <span class="comment">/**</span>
<a name="l1697"><span class="linenum">1697</span></a>  <span class="comment">     * Index is the submitted response number and value is the step no.</span>
<a name="l1698"><span class="linenum">1698</span></a>  <span class="comment">     *</span>
<a name="l1699"><span class="linenum">1699</span></a>  <span class="comment">     * @var int[]</span>
<a name="l1700"><span class="linenum">1700</span></a>  <span class="comment">     */</span>
<a name="l1701"><span class="linenum">1701</span></a>      protected <a class="var it39485" onMouseOver="hilite(39485)" onMouseOut="lolite()" onClick="logVariable('stepswithsubmittedresponses')" href="../../_variables/stepswithsubmittedresponses.html">$stepswithsubmittedresponses</a>;
<a name="l1702"><span class="linenum">1702</span></a>  
<a name="l1703"><span class="linenum">1703</span></a>      <span class="comment">/**</span>
<a name="l1704"><span class="linenum">1704</span></a>  <span class="comment">     * Do not call this constructor directly.</span>
<a name="l1705"><span class="linenum">1705</span></a>  <span class="comment">     * Use {@link question_attempt::get_submission_step_iterator()}.</span>
<a name="l1706"><span class="linenum">1706</span></a>  <span class="comment">     * @param question_attempt $qa the attempt to iterate over.</span>
<a name="l1707"><span class="linenum">1707</span></a>  <span class="comment">     */</span>
<a name="l1708"><span class="linenum">1708</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(question_attempt <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l1709"><span class="linenum">1709</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a> = <a class="var it177" onMouseOver="hilite(177)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>;
<a name="l1710"><span class="linenum">1710</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('find_steps_with_submitted_response')" href="../../_functions/find_steps_with_submitted_response.html" onMouseOver="funcPopup(event,'find_steps_with_submitted_response')">find_steps_with_submitted_response</a>();
<a name="l1711"><span class="linenum">1711</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('rewind')" href="../../_functions/rewind.html" onMouseOver="phpfuncPopup(event,'rewind')">rewind</a>();
<a name="l1712"><span class="linenum">1712</span></a>      }
<a name="l1713"><span class="linenum">1713</span></a>  
<a name="l1714"><span class="linenum">1714</span></a>      <span class="comment">/**</span>
<a name="l1715"><span class="linenum">1715</span></a>  <span class="comment">     * Find the step nos  in which a student has submitted a response. Including any step with a response that is saved before</span>
<a name="l1716"><span class="linenum">1716</span></a>  <span class="comment">     * the question attempt finishes.</span>
<a name="l1717"><span class="linenum">1717</span></a>  <span class="comment">     *</span>
<a name="l1718"><span class="linenum">1718</span></a>  <span class="comment">     * Called from constructor, should not be called from elsewhere.</span>
<a name="l1719"><span class="linenum">1719</span></a>  <span class="comment">     *</span>
<a name="l1720"><span class="linenum">1720</span></a>  <span class="comment">     */</span>
<a name="l1721"><span class="linenum">1721</span></a>      protected function <a class="function" onClick="logFunction('find_steps_with_submitted_response')" href="../../_functions/find_steps_with_submitted_response.html" onMouseOver="funcPopup(event,'find_steps_with_submitted_response')">find_steps_with_submitted_response</a>() {
<a name="l1722"><span class="linenum">1722</span></a>          <a class="var it39486" onMouseOver="hilite(39486)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a> = array();
<a name="l1723"><span class="linenum">1723</span></a>          <a class="var it39487" onMouseOver="hilite(39487)" onMouseOut="lolite()" onClick="logVariable('lastsavedstep')" href="../../_variables/lastsavedstep.html">$lastsavedstep</a> = null;
<a name="l1724"><span class="linenum">1724</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_step_iterator')" href="../../_functions/get_step_iterator.html" onMouseOver="funcPopup(event,'get_step_iterator')">get_step_iterator</a>() as <a class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a> =&gt; <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>) {
<a name="l1725"><span class="linenum">1725</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_behaviour')" href="../../_functions/get_behaviour.html" onMouseOver="funcPopup(event,'get_behaviour')">get_behaviour</a>()-&gt;<a class="function" onClick="logFunction('step_has_a_submitted_response')" href="../../_functions/step_has_a_submitted_response.html" onMouseOver="funcPopup(event,'step_has_a_submitted_response')">step_has_a_submitted_response</a>(<a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>)) {
<a name="l1726"><span class="linenum">1726</span></a>                  <a class="var it39486" onMouseOver="hilite(39486)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a>[] = <a class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a>;
<a name="l1727"><span class="linenum">1727</span></a>                  <a class="var it39487" onMouseOver="hilite(39487)" onMouseOut="lolite()" onClick="logVariable('lastsavedstep')" href="../../_variables/lastsavedstep.html">$lastsavedstep</a> = null;
<a name="l1728"><span class="linenum">1728</span></a>              } else {
<a name="l1729"><span class="linenum">1729</span></a>                  <a class="var it19362" onMouseOver="hilite(19362)" onMouseOut="lolite()" onClick="logVariable('qtdata')" href="../../_variables/qtdata.html">$qtdata</a> = <a class="var it763" onMouseOver="hilite(763)" onMouseOut="lolite()" onClick="logVariable('step')" href="../../_variables/step.html">$step</a>-&gt;<a class="function" onClick="logFunction('get_qt_data')" href="../../_functions/get_qt_data.html" onMouseOver="funcPopup(event,'get_qt_data')">get_qt_data</a>();
<a name="l1730"><span class="linenum">1730</span></a>                  if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it19362" onMouseOver="hilite(19362)" onMouseOut="lolite()" onClick="logVariable('qtdata')" href="../../_variables/qtdata.html">$qtdata</a>)) {
<a name="l1731"><span class="linenum">1731</span></a>                      <a class="var it39487" onMouseOver="hilite(39487)" onMouseOut="lolite()" onClick="logVariable('lastsavedstep')" href="../../_variables/lastsavedstep.html">$lastsavedstep</a> = <a class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" onClick="logVariable('stepno')" href="../../_variables/stepno.html">$stepno</a>;
<a name="l1732"><span class="linenum">1732</span></a>                  }
<a name="l1733"><span class="linenum">1733</span></a>              }
<a name="l1734"><span class="linenum">1734</span></a>          }
<a name="l1735"><span class="linenum">1735</span></a>  
<a name="l1736"><span class="linenum">1736</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it39487" onMouseOver="hilite(39487)" onMouseOut="lolite()" onClick="logVariable('lastsavedstep')" href="../../_variables/lastsavedstep.html">$lastsavedstep</a>)) {
<a name="l1737"><span class="linenum">1737</span></a>              <a class="var it39486" onMouseOver="hilite(39486)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a>[] = <a class="var it39487" onMouseOver="hilite(39487)" onMouseOut="lolite()" onClick="logVariable('lastsavedstep')" href="../../_variables/lastsavedstep.html">$lastsavedstep</a>;
<a name="l1738"><span class="linenum">1738</span></a>          }
<a name="l1739"><span class="linenum">1739</span></a>          if (empty(<a class="var it39486" onMouseOver="hilite(39486)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a>)) {
<a name="l1740"><span class="linenum">1740</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a> = array();
<a name="l1741"><span class="linenum">1741</span></a>          } else {
<a name="l1742"><span class="linenum">1742</span></a>  <span class="comment">            // Re-index array so index starts with 1.</span>
<a name="l1743"><span class="linenum">1743</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a> = <a class="phpfunction" onClick="logFunction('array_combine')" href="../../_functions/array_combine.html" onMouseOver="phpfuncPopup(event,'array_combine')">array_combine</a>(<a class="phpfunction" onClick="logFunction('range')" href="../../_functions/range.html" onMouseOver="phpfuncPopup(event,'range')">range</a>(1, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it39486" onMouseOver="hilite(39486)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a>)), <a class="var it39486" onMouseOver="hilite(39486)" onMouseOut="lolite()" onClick="logVariable('stepnos')" href="../../_variables/stepnos.html">$stepnos</a>);
<a name="l1744"><span class="linenum">1744</span></a>          }
<a name="l1745"><span class="linenum">1745</span></a>      }
<a name="l1746"><span class="linenum">1746</span></a>  
<a name="l1747"><span class="linenum">1747</span></a>  <span class="comment">    /** @return question_attempt_step */</span>
<a name="l1748"><span class="linenum">1748</span></a>      public function <a class="function" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="funcPopup(event,'current')">current</a>() {
<a name="l1749"><span class="linenum">1749</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('offsetGet')" href="../../_functions/offsetget.html" onMouseOver="funcPopup(event,'offsetget')">offsetGet</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a>);
<a name="l1750"><span class="linenum">1750</span></a>      }
<a name="l1751"><span class="linenum">1751</span></a>  <span class="comment">    /** @return int */</span>
<a name="l1752"><span class="linenum">1752</span></a>      public function <a class="function" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="funcPopup(event,'key')">key</a>() {
<a name="l1753"><span class="linenum">1753</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a>;
<a name="l1754"><span class="linenum">1754</span></a>      }
<a name="l1755"><span class="linenum">1755</span></a>      public function <a class="function" onClick="logFunction('next')" href="../../_functions/next.html" onMouseOver="funcPopup(event,'next')">next</a>() {
<a name="l1756"><span class="linenum">1756</span></a>          ++<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a>;
<a name="l1757"><span class="linenum">1757</span></a>      }
<a name="l1758"><span class="linenum">1758</span></a>      public function <a class="function" onClick="logFunction('rewind')" href="../../_functions/rewind.html" onMouseOver="funcPopup(event,'rewind')">rewind</a>() {
<a name="l1759"><span class="linenum">1759</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a> = 1;
<a name="l1760"><span class="linenum">1760</span></a>      }
<a name="l1761"><span class="linenum">1761</span></a>  <span class="comment">    /** @return bool */</span>
<a name="l1762"><span class="linenum">1762</span></a>      public function <a class="function" onClick="logFunction('valid')" href="../../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>() {
<a name="l1763"><span class="linenum">1763</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a> &gt;= 1 &amp;&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('submittedresponseno')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/submittedresponseno.html">submittedresponseno</a> &lt;= <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>);
<a name="l1764"><span class="linenum">1764</span></a>      }
<a name="l1765"><span class="linenum">1765</span></a>  
<a name="l1766"><span class="linenum">1766</span></a>      <span class="comment">/**</span>
<a name="l1767"><span class="linenum">1767</span></a>  <span class="comment">     * @param int $submittedresponseno</span>
<a name="l1768"><span class="linenum">1768</span></a>  <span class="comment">     * @return bool</span>
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment">     */</span>
<a name="l1770"><span class="linenum">1770</span></a>      public function <a class="function" onClick="logFunction('offsetExists')" href="../../_functions/offsetexists.html" onMouseOver="funcPopup(event,'offsetexists')">offsetExists</a>(<a class="var it22321" onMouseOver="hilite(22321)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>) {
<a name="l1771"><span class="linenum">1771</span></a>          return <a class="var it22321" onMouseOver="hilite(22321)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a> &gt;= 1;
<a name="l1772"><span class="linenum">1772</span></a>      }
<a name="l1773"><span class="linenum">1773</span></a>  
<a name="l1774"><span class="linenum">1774</span></a>      <span class="comment">/**</span>
<a name="l1775"><span class="linenum">1775</span></a>  <span class="comment">     * @param int $submittedresponseno</span>
<a name="l1776"><span class="linenum">1776</span></a>  <span class="comment">     * @return question_attempt_step</span>
<a name="l1777"><span class="linenum">1777</span></a>  <span class="comment">     */</span>
<a name="l1778"><span class="linenum">1778</span></a>      public function <a class="function" onClick="logFunction('offsetGet')" href="../../_functions/offsetget.html" onMouseOver="funcPopup(event,'offsetget')">offsetGet</a>(<a class="var it22321" onMouseOver="hilite(22321)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>) {
<a name="l1779"><span class="linenum">1779</span></a>          if (<a class="var it22321" onMouseOver="hilite(22321)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a> &gt; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>)) {
<a name="l1780"><span class="linenum">1780</span></a>              return null;
<a name="l1781"><span class="linenum">1781</span></a>          } else {
<a name="l1782"><span class="linenum">1782</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qa')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/qa.html">qa</a>-&gt;<a class="function" onClick="logFunction('get_step')" href="../../_functions/get_step.html" onMouseOver="funcPopup(event,'get_step')">get_step</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('step_no_for_try')" href="../../_functions/step_no_for_try.html" onMouseOver="funcPopup(event,'step_no_for_try')">step_no_for_try</a>(<a class="var it22321" onMouseOver="hilite(22321)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>));
<a name="l1783"><span class="linenum">1783</span></a>          }
<a name="l1784"><span class="linenum">1784</span></a>      }
<a name="l1785"><span class="linenum">1785</span></a>  
<a name="l1786"><span class="linenum">1786</span></a>      <span class="comment">/**</span>
<a name="l1787"><span class="linenum">1787</span></a>  <span class="comment">     * @return int the count of steps with tries.</span>
<a name="l1788"><span class="linenum">1788</span></a>  <span class="comment">     */</span>
<a name="l1789"><span class="linenum">1789</span></a>      public function <a class="function" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="funcPopup(event,'count')">count</a>() {
<a name="l1790"><span class="linenum">1790</span></a>          return <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>);
<a name="l1791"><span class="linenum">1791</span></a>      }
<a name="l1792"><span class="linenum">1792</span></a>  
<a name="l1793"><span class="linenum">1793</span></a>      <span class="comment">/**</span>
<a name="l1794"><span class="linenum">1794</span></a>  <span class="comment">     * @param int $submittedresponseno</span>
<a name="l1795"><span class="linenum">1795</span></a>  <span class="comment">     * @throws coding_exception</span>
<a name="l1796"><span class="linenum">1796</span></a>  <span class="comment">     * @return int|null the step number or null if there is no such submitted response.</span>
<a name="l1797"><span class="linenum">1797</span></a>  <span class="comment">     */</span>
<a name="l1798"><span class="linenum">1798</span></a>      public function <a class="function" onClick="logFunction('step_no_for_try')" href="../../_functions/step_no_for_try.html" onMouseOver="funcPopup(event,'step_no_for_try')">step_no_for_try</a>(<a class="var it22321" onMouseOver="hilite(22321)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>) {
<a name="l1799"><span class="linenum">1799</span></a>          if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>[<a class="var it22321" onMouseOver="hilite(22321)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>])) {
<a name="l1800"><span class="linenum">1800</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>[<a class="var it22321" onMouseOver="hilite(22321)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a>];
<a name="l1801"><span class="linenum">1801</span></a>          } else if (<a class="var it22321" onMouseOver="hilite(22321)" onMouseOut="lolite()" onClick="logVariable('submittedresponseno')" href="../../_variables/submittedresponseno.html">$submittedresponseno</a> &gt; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('stepswithsubmittedresponses')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/stepswithsubmittedresponses.html">stepswithsubmittedresponses</a>)) {
<a name="l1802"><span class="linenum">1802</span></a>              return null;
<a name="l1803"><span class="linenum">1803</span></a>          } else {
<a name="l1804"><span class="linenum">1804</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Try number not found. It should be 1 or more.');
<a name="l1805"><span class="linenum">1805</span></a>          }
<a name="l1806"><span class="linenum">1806</span></a>      }
<a name="l1807"><span class="linenum">1807</span></a>  
<a name="l1808"><span class="linenum">1808</span></a>      public function <a class="function" onClick="logFunction('offsetSet')" href="../../_functions/offsetset.html" onMouseOver="funcPopup(event,'offsetset')">offsetSet</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1809"><span class="linenum">1809</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You are only allowed read-only access to <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::states '.
<a name="l1810"><span class="linenum">1810</span></a>                                     'through a question_attempt_step_iterator. Cannot set.');
<a name="l1811"><span class="linenum">1811</span></a>      }
<a name="l1812"><span class="linenum">1812</span></a>      public function <a class="function" onClick="logFunction('offsetUnset')" href="../../_functions/offsetunset.html" onMouseOver="funcPopup(event,'offsetunset')">offsetUnset</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>) {
<a name="l1813"><span class="linenum">1813</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('You are only allowed read-only access to <a class="class" onClick="logClass('question_attempt')" href="../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::states '.
<a name="l1814"><span class="linenum">1814</span></a>                                     'through a question_attempt_step_iterator. Cannot unset.');
<a name="l1815"><span class="linenum">1815</span></a>      }
<a name="l1816"><span class="linenum">1816</span></a>  
<a name="l1817"><span class="linenum">1817</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_applicable_hint': ['get_applicable_hint', '', [['question/behaviour/interactive','behaviour.php',104],['question/behaviour','behaviourbase.php',162],['question/engine','questionattempt.php',733]], 5],
'rewrite_response_pluginfile_urls': ['rewrite_response_pluginfile_urls', 'Rewrite the @@PLUGINFILE@@ tokens in a response variable from this step that contains links to file. Normally you should probably call {@link question_attempt::rewrite_response_pluginfile_urls()} instead of calling this method directly. ', [['question/engine','questionattemptstep.php',266],['question/engine','questionattemptstep.php',745],['question/engine','questionattempt.php',798]], 2],
'file_get_submitted_draft_itemid': ['file_get_submitted_draft_itemid', 'Returns draft area itemid for a given element. ', [['lib','filelib.php',725]], 48],
'get_control_field_name': ['get_control_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for a control variables belonging to this question_attempt. ', [['question/engine','questionattempt.php',335]], 6],
'get_correct_response': ['get_correct_response', '', [['question/type/shortanswer','question.php',141],['question/type/gapselect','questionbase.php',211],['question/type/multichoice','question.php',199],['question/type/multichoice','question.php',362],['question/behaviour','behaviourbase.php',235],['question/behaviour/informationitem','behaviour.php',53],['question/behaviour/deferredcbm','behaviour.php',68],['question/type','questionbase.php',453],['question/type','questionbase.php',755],['question/type/ddmarker','question.php',345],['question/behaviour/immediatecbm','behaviour.php',69],['question/type/numerical','question.php',158],['question/engine','questionusage.php',803],['question/type/truefalse','question.php',48],['question/type/calculated','question.php',90],['question/type/essay','question.php',89],['question/type/missingtype','question.php',48],['question/type/match','question.php',212],['question/type/multianswer','question.php',143],['question/engine','questionattempt.php',1163]], 52],
'get_current_manual_mark': ['get_current_manual_mark', 'This is used by the manual grading code, particularly in association with validation. If there is a mark submitted in the request, then use that, otherwise use the latest mark for this question. ', [['question/engine','questionattempt.php',650]], 1],
'add_step': ['add_step', '', [['question/engine/upgrade','behaviourconverters.php',168],['question/engine/tests','helpers.php',41],['question/engine','questionattempt.php',875],['question/engine','questionattempt.php',1575],['backup/util/plan','base_task.class.php',139]], 189],
'set_observer': ['set_observer', 'You should almost certainly not call this method from your code. It is for internal use only. ', [['question/engine','questionusage.php',144],['question/engine','questionattempt.php',247]], 4],
'start': ['start', 'Starts the session. ', [['lib/classes/session','memcache.php',73],['admin/tool/uploaduser','locallib.php',61],['backup/util/xml/output','xml_output.class.php',74],['backup/util/xml','xml_writer.class.php',81],['lib/classes/session','handler.php',37],['lib/google/src/Google/Service','AdSenseHost.php',964],['lib/classes/session','memcached.php',84],['lib/htmlpurifier/HTMLPurifier','Printer.php',45],['question/engine','questionattempt.php',938],['question/engine','questionattempt.php',1581],['lib/classes/session','manager.php',49],['lib/google/src/Google/Service','Compute.php',6544],['lib/pear/Auth','RADIUS.php',350],['admin/tool/uploadcourse/classes','tracker.php',188]], 146],
'get_step_iterator': ['get_step_iterator', '', [['question/engine','questionattempt.php',423]], 10],
'get_timecreated': ['get_timecreated', 'Returns time created unix timestamp if known ', [['lib/filebrowser','file_info.php',286],['lib/filebrowser','virtual_root_file.php',263],['lib/filebrowser','file_info_stored.php',249],['lib/filestorage','stored_file.php',747],['question/engine','questionattemptstep.php',176],['question/engine','questionattemptstep.php',686]], 54],
'add_autosaved_step': ['add_autosaved_step', 'Add an auto-saved step to this question attempt. We mark auto-saved steps by changing saving the step number with a - sign. ', [['question/engine','questionattempt.php',885]], 1],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',3012]], 1007],
'process_action': ['process_action', '', [['question/behaviour/immediatefeedback','behaviour.php',79],['grade/report/grader','lib.php',1681],['grade/tests','reportlib_test.php',54],['question/behaviour/adaptive','behaviour.php',89],['question/behaviour/manualgraded','behaviour.php',58],['question/behaviour/interactive','behaviour.php',148],['question/behaviour/informationitem','behaviour.php',77],['question/behaviour/missing','behaviour.php',62],['question/engine','questionusage.php',721],['question/behaviour/deferredfeedback','behaviour.php',53],['grade/report/singleview','lib.php',60],['grade/report/overview','lib.php',319],['question/engine','questionattempt.php',1223],['question/engine','questionattempt.php',1578],['grade/report/user','lib.php',860]], 30],
'file_encode_url': ['file_encode_url', 'Encodes file serving url ', [['lib','filelib.php',42]], 28],
'get_new_response_summary': ['get_new_response_summary', 'Get the new response summary, if there is one. ', [['question/engine','questionattemptstep.php',504]], 2],
'get_response_summary': ['get_response_summary', '', [['question/engine','questionusage.php',405],['question/engine','questionattempt.php',1202]], 38],
'get_qt_files': ['get_qt_files', 'Get the latest set of files for a particular question type variable of type question_attempt::PARAM_FILES. ', [['question/engine','questionattemptstep.php',212],['question/engine','questionattemptstep.php',730]], 2],
'notify_metadata_modified': ['notify_metadata_modified', '', [['question/engine','datalib.php',1468],['question/engine','questionusage.php',1085],['question/engine','questionusage.php',1118]], 1],
'is_flagged': ['is_flagged', '', [['mod/quiz/report','attemptsreport_table.php',280],['mod/quiz/report/responses','first_or_all_responses_table.php',148],['question/engine','questionattempt.php',293]], 12],
'get_min_fraction': ['get_min_fraction', '', [['question/behaviour/immediatefeedback','behaviour.php',53],['question/type/multichoice','question.php',160],['question/type/multichoice','question.php',282],['question/behaviour','behaviourbase.php',170],['question/behaviour/deferredcbm','behaviour.php',48],['question/type','questionbase.php',228],['question/behaviour/immediatecbm','behaviour.php',46],['question/behaviour/missing','behaviour.php',67],['question/behaviour/deferredfeedback','behaviour.php',45],['question/type/multianswer','question.php',106],['question/engine','questionattempt.php',687]], 14],
'format_fraction_as_mark': ['format_fraction_as_mark', 'The current mark, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',712]], 3],
'step_no_for_try': ['step_no_for_try', 'What is the step no this try was seen in? ', [['mod/quiz/report/responses','first_or_all_responses_table.php',205],['question/engine','questionattempt.php',1798]], 3],
'check_file_access': ['check_file_access', '', [['question/type/shortanswer','question.php',163],['question/type/gapselect','questionbase.php',321],['mod/quiz','attemptlib.php',1616],['question/type/multichoice','question.php',113],['question/behaviour','behaviourbase.php',116],['question/type','questionbase.php',404],['question/type/ddmarker','question.php',42],['question/type/numerical','question.php',284],['question/engine','questionusage.php',480],['question/type/truefalse','question.php',103],['question/type/essay','question.php',133],['question/type/match','question.php',338],['question/type/multianswer','question.php',339],['question/engine','questionattempt.php',862],['question/type/ddimageortext','questionbase.php',78]], 16],
'apply_attempt_state': ['apply_attempt_state', '', [['question/type/calculatedmulti','question.php',60],['question/type/calculatedmulti','question.php',110],['question/type/gapselect','questionbase.php',96],['question/type/randomsamatch','question.php',89],['question/type/multichoice','question.php',66],['question/behaviour','behaviourbase.php',357],['question/behaviour','behaviourbase.php',583],['question/type','questionbase.php',184],['question/type/numerical','question.php',69],['question/type/calculated','question.php',58],['question/type/calculated','question.php',158],['question/type/match','question.php',72],['question/type/multianswer','question.php',75]], 14],
'offsetunset': ['offsetunset', '', [['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',107],['lib/horde/framework/Horde/Mail/Rfc822','List.php',353],['lib/horde/framework/Horde/Mime','Part.php',2280],['lib/horde/framework/Horde','Variables.php',275],['lib/horde/framework/Horde/Support','Array.php',191],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',128],['question/engine','questionusage.php',1015],['lib/horde/framework/Horde/Support','CaseInsensitiveArray.php',56],['lib/google/src/Google','Model.php',271],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',157],['lib/google/src/Google','Collection.php',84],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',127],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',328],['question/engine','questionattempt.php',1658],['question/engine','questionattempt.php',1812],['lib/horde/framework/Horde/Support','Stub.php',118]], 4],
'set_question_summary': ['set_question_summary', 'Change the quetsion summary. Note, that this is almost never necessary. This method was only added to work around a limitation of the Opaque protocol, which only sends questionLine at the end of an attempt. ', [['question/engine','questionattempt.php',1181],['question/engine','questionattempt.php',1594]], 0],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'has_behaviour_var': ['has_behaviour_var', '', [['question/engine','questionattemptstep.php',301],['question/engine','questionattemptstep.php',706]], 61],
'get_filename': ['get_filename', 'Returns file name ', [['lib/filebrowser','virtual_root_file.php',227],['lib/filestorage','stored_file.php',699],['lib','medialib.php',169]], 248],
'render': ['render', 'Renders this element ', [['lib/classes/output','inplace_editable.php',238],['lib/adodb','adodb-pager.inc.php',241],['lib/phpexcel/PHPExcel','Chart.php',656],['lib','formslib.php',948],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullscreen','fullscreen.htm',82],['lib','outputrenderers.php',170],['lib','outputrenderers.php',302],['question/behaviour','behaviourbase.php',97],['lib/htmlpurifier/HTMLPurifier/Printer','HTMLDefinition.php',15],['lib/htmlpurifier/HTMLPurifier/Printer','CSSDefinition.php',14],['filter/tex','latex.php',88],['lib','portfoliolib.php',241],['mod/quiz/classes/question/bank','custom_view.php',133],['lib/mustache/src/Mustache','Engine.php',204],['question/engine/tests','helpers.php',797],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',85],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',235],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',298],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',391],['lib/mustache/src/Mustache','Template.php',57],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',790],['question/engine','questionattempt.php',814],['lib/mustache/src/Mustache','LambdaHelper.php',39]], 942],
'get_qt_var': ['get_qt_var', '', [['question/engine','questionattemptstep.php',192],['question/engine','questionattemptstep.php',694]], 33],
'get_state_class': ['get_state_class', '', [['question/engine','states.php',296],['question/engine','states.php',304],['question/engine','states.php',315],['question/engine','states.php',326],['question/engine','states.php',337],['question/engine','states.php',342],['question/engine','states.php',354],['question/engine','states.php',368],['question/engine','states.php',383],['question/engine','questionattempt.php',616]], 7],
'get_behaviour_field_name': ['get_behaviour_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for a question_type variable belonging to this question_attempt. ', [['question/engine','questionattempt.php',321]], 13],
'step_has_a_submitted_response': ['step_has_a_submitted_response', 'Does this step include a response submitted by a student? ', [['question/behaviour','behaviourbase.php',554],['question/behaviour','behaviourbase.php',689]], 3],
'notify_step_modified': ['notify_step_modified', '', [['question/engine','datalib.php',1409],['question/engine','questionusage.php',1063],['question/engine','questionusage.php',1112]], 1],
'next': ['next', 'Moves forward to next file. ', [['lib/filestorage','zip_archive.php',500],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',62],['lib/dml','mssql_native_moodle_recordset.php',79],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',157],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',158],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',202],['lib/dml','mysqli_native_moodle_recordset.php',78],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',155],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',7280],['lib/yuilib/3.17.2/router','router.js',837],['lib/horde/framework/Horde/Mail/Rfc822','List.php',398],['lib/dml','pdo_moodle_recordset.php',71],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',115],['lib','csvlib.class.php',240],['lib/phpexcel/PHPExcel','WorksheetIterator.php',91],['backup/util/helper','backup_null_iterator.class.php',46],['lib/horde/framework/Horde','Domhtml.php',287],['lib/dml','sqlsrv_native_moodle_recordset.php',121],['lib/htmlpurifier/HTMLPurifier','Zipper.php',56],['lib/classes/dml','recordset_walk.php',109],['lib/editor/atto/yui/src/rangy/js','rangy-textrange.js',1181],['lib/horde/framework/Horde/Imap/Client','Ids.php',401],['backup/util/helper','backup_array_iterator.class.php',55],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',55],['mod/assign/feedback/offline','importgradeslib.php',169],['lib/dml','oci_native_moodle_recordset.php',72],['lib/adodb','adodb.inc.php',3053],['lib/adodb','adodb.inc.php',3180],['theme/bootstrapbase/amd/src','bootstrap.js',1759],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',154],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',7280],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',121],['question/engine','questionusage.php',992],['question/engine/tests','helpers.php',1233],['lib/spout/src/Spout/Reader/Wrapper','XMLReader.php',148],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',86],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',91],['lib/google/src/Google','Collection.php',40],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',163],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',364],['lib/yuilib/3.17.2/router','router-debug.js',843],['question/engine','questionattempt.php',1636],['question/engine','questionattempt.php',1672],['question/engine','questionattempt.php',1755],['lib/tests','completionlib_test.php',895],['lib/dml','pgsql_native_moodle_recordset.php',99]], 624],
'notify_attempt_modified': ['notify_attempt_modified', '', [['question/engine','datalib.php',1347],['question/engine','questionusage.php',1042],['question/engine','questionusage.php',1106]], 12],
'find_steps_with_submitted_response': ['find_steps_with_submitted_response', 'Find the step nos  in which a student has submitted a response. Including any step with a response that is saved before the question attempt finishes. ', [['question/engine','questionattempt.php',1714]], 1],
'load_from_records': ['load_from_records', 'Create a question_usage_by_activity from records loaded from the database. ', [['question/engine','questionusage.php',902],['question/engine','questionattemptstep.php',415],['question/engine','questionattempt.php',1408]], 19],
'get_database_id': ['get_database_id', '', [['question/engine','questionattempt.php',234]], 11],
'get_qt_data': ['get_qt_data', 'Get all the question type variables. ', [['question/engine','questionattemptstep.php',283],['question/engine','questionattemptstep.php',702]], 33],
'get_flag_field_name': ['get_flag_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for the field that indicates whether this question is flagged. ', [['question/engine','questionattempt.php',297]], 2],
'get_right_answer_summary': ['get_right_answer_summary', '', [['question/behaviour/immediatefeedback','behaviour.php',75],['question/behaviour/adaptive','behaviour.php',68],['question/behaviour/interactive','behaviour.php',61],['question/behaviour','behaviourbase.php',260],['question/behaviour/deferredcbm','behaviour.php',63],['question/type','questionbase.php',595],['question/type','questionbase.php',658],['question/type/ddmarker','question.php',367],['question/behaviour/immediatecbm','behaviour.php',64],['question/engine','questionusage.php',412],['question/behaviour/deferredfeedback','behaviour.php',49],['question/type/missingtype','question.php',68],['question/engine','questionattempt.php',1209]], 20],
'valid': ['valid', 'Did we reach the end? ', [['lib/filestorage','zip_archive.php',514],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',51],['lib/dml','mssql_native_moodle_recordset.php',83],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',191],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',184],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',329],['lib/dml','mysqli_native_moodle_recordset.php',82],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',175],['lib/horde/framework/Horde/Mail/Rfc822','List.php',439],['lib/dml','pdo_moodle_recordset.php',75],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',104],['lib/phpexcel/PHPExcel','WorksheetIterator.php',99],['backup/util/helper','backup_null_iterator.class.php',49],['lib/horde/framework/Horde','Domhtml.php',331],['lib/dml','sqlsrv_native_moodle_recordset.php',129],['lib/classes/dml','recordset_walk.php',127],['lib/horde/framework/Horde/Imap/Client','Ids.php',419],['backup/util/helper','backup_array_iterator.class.php',59],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',44],['lib/dml','oci_native_moodle_recordset.php',76],['lib/adodb','adodb.inc.php',3041],['lib/adodb','adodb.inc.php',3168],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',182],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',110],['question/engine','questionusage.php',999],['question/engine/tests','helpers.php',1237],['backup/cc/cc_lib','cc_version11.php',47],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',75],['backup/cc/cc_lib','cc_version1.php',47],['backup/cc/cc_lib','cc_asssesment.php',58],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',80],['lib/google/src/Google','Collection.php',45],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',182],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',378],['question/engine','questionattempt.php',1643],['question/engine','questionattempt.php',1762],['lib/tests','completionlib_test.php',903],['lib/dml','pgsql_native_moodle_recordset.php',103]], 81],
'offsetget': ['offsetget', '', [['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',87],['lib/horde/framework/Horde/Mail/Rfc822','List.php',324],['lib/horde/framework/Horde/Mime','Part.php',2270],['lib/horde/framework/Horde','Variables.php',163],['lib/htmlpurifier/HTMLPurifier','StringHash.php',18],['lib/horde/framework/Horde/Support','Array.php',161],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',102],['question/engine','questionusage.php',1008],['lib/horde/framework/Horde/Support','CaseInsensitiveArray.php',27],['lib/google/src/Google','Model.php',254],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',141],['lib/google/src/Google','Collection.php',67],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',104],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',312],['question/engine','questionattempt.php',1652],['question/engine','questionattempt.php',1778],['lib/horde/framework/Horde/Support','Stub.php',98]], 24],
'set_flagged': ['set_flagged', 'Set the flagged state of this question. ', [['question/engine','questionattempt.php',283],['question/engine','questionattempt.php',1588]], 4],
'get_max_fraction': ['get_max_fraction', 'Return the maximum possible fraction that can be scored for this question. Normally this will be based on $this->question->get_max_fraction(), but may be modified in some way by the behaviour. ', [['question/behaviour','behaviourbase.php',182],['question/behaviour/deferredcbm','behaviour.php',52],['question/type','questionbase.php',240],['question/behaviour/immediatecbm','behaviour.php',50],['question/behaviour/missing','behaviour.php',72],['question/type/multianswer','question.php',116],['question/engine','questionattempt.php',695]], 13],
'__construct': ['__construct', '', [['lib/adodb/drivers','adodb-odbc_mssql.inc.php',50],['lib/adodb/drivers','adodb-odbc_mssql.inc.php',359],['question/classes/statistics/responses','analyser.php',69],['auth/radius','auth.php',38],['lib/xmldb','xmldb_file.php',43],['lib/lessphp/Tree/Mixin','Definition.php',18],['cache/stores/static','lib.php',127],['lib/classes/session','file.php',40],['lib/htmlpurifier/HTMLPurifier/Lexer','DOMLex.php',35],['backup/util/ui','base_moodleform.class.php',68],['lib/simplepie/library/SimplePie','Author.php',81],['lib/filestorage','zip_archive.php',66],['backup/util/structure','restore_path_element.class.php',47],['backup/util/structure','restore_path_element.class.php',128],['lib/htmlpurifier/HTMLPurifier/ChildDef','Chameleon.php',36],['lib/phpexcel/PHPExcel','HashTable.php',44],['mod/quiz/tests','repaginate_test.php',39],['lib/form','modvisible.php',43],['lib/phpexcel/PHPExcel/Worksheet','Row.php',44],['cache','disabledlib.php',44],['lib/phpexcel/PHPExcel/Worksheet','Dimension.php',58],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',27],['question/type/ddwtos','question.php',61],['mnet/xmlrpc','client.php',25],['lib/horde/framework/Horde/Imap/Client','Url.php',112],['lib/classes','useragent.php',115],['lib/pear/HTML/QuickForm','advcheckbox.php',66],['lib/classes/update','checker_exception.php',37],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',53],['lib/jabber/XMPP','XMPP.php',101],['lib/form','radio.php',44],['lib/spout/src/Spout/Reader/XLSX/Helper','StyleHelper.php',45],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',58],['lib/phpexcel/PHPExcel/Style','Border.php',67],['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',182],['lib/adodb/drivers','adodb-oci8quercus.inc.php',31],['lib/adodb/drivers','adodb-oci8quercus.inc.php',45],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',29],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',91],['lib/phpexcel/PHPExcel','DocumentProperties.php',123],['lib/typo3','class.t3lib_cs.php',509],['mod/workshop/allocation/scheduled','lib.php',48],['lib/adodb/drivers','adodb-netezza.inc.php',53],['lib/adodb/drivers','adodb-netezza.inc.php',144],['mod/feedback/classes','complete_form.php',58],['search/classes','document.php',188],['webservice/rest','locallib.php',40],['lib/dml','mssql_native_moodle_recordset.php',34],['mod/assign/feedback/editpdf/fpdi','fpdi_pdf_parser.php',57],['lib/htmlpurifier/HTMLPurifier','TokenFactory.php',43],['backup/moodle2','backup_block_task.class.php',43],['lib/lessphp/Tree','Negative.php',14],['lib/minify/lib/Minify/Cache','APC.php',19],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',54],['lib/pear/HTML/QuickForm','header.php',33],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','InMemoryStrategy.php',26],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',51],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',110],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',60],['lib/spout/src/Spout/Reader/ODS','Sheet.php',33],['question/type/calculated/tests','helper.php',205],['lib/adodb/drivers','adodb-odbtp.inc.php',38],['lib/adodb/drivers','adodb-odbtp.inc.php',673],['lib/adodb/drivers','adodb-odbtp.inc.php',796],['lib/adodb/drivers','adodb-odbtp.inc.php',806],['lib/adodb/drivers','adodb-odbtp.inc.php',816],['lib/adodb/drivers','adodb-odbtp.inc.php',826],['lib/adodb/drivers','adodb-odbtp.inc.php',836],['enrol/lti/ims-blti','blti.php',28],['backup/cc','cc2moodle.php',105],['mod/chat','locallib.php',181],['mod/chat','locallib.php',229],['user/filters','simpleselect.php',45],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',244],['lib/dml','pdo_moodle_database.php',42],['lib/adodb/drivers','adodb-sqlite3.inc.php',36],['lib/adodb/drivers','adodb-sqlite3.inc.php',350],['lib/pear/HTML/QuickForm','static.php',44],['competency/classes/external','comment_area_exporter.php',48],['lib/lessphp/Tree','Selector.php',31],['auth/cas/CAS/CAS','TypeMismatchException.php',43],['auth/fc','fcFPP.php',33],['lib/xmldb','xmldb_key.php',43],['grade/grading/form/rubric','rubriceditor.php',56],['lib/google/src/Google/Service','Cloudlatencytest.php',40],['course','moodleform_mod.php',69],['auth/nntp','auth.php',35],['grade/report/grader','lib.php',111],['admin/tool/generator/classes','course_backend.php',116],['lib/minify/lib','FirePHP.php',189],['lib/adodb/drivers','adodb-sqlitepo.inc.php',38],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',67],['lib/phpexcel/PHPExcel/CachedObjectStorage','CacheBase.php',66],['lib/lessphp/Tree','Rule.php',24],['lib/behat/features/bootstrap','behat_init_context.php',45],['lib','dmllib.php',69],['lib','dmllib.php',84],['lib','dmllib.php',104],['lib','dmllib.php',129],['lib','dmllib.php',159],['lib','dmllib.php',187],['lib','dmllib.php',240],['lib','dmllib.php',270],['lib/google/src/Google/Service','DataTransfer.php',44],['lib/google/src/Google/Http','Batch.php',42],['backup/util/structure','base_processor.class.php',49],['admin/tool/lpmigrate/classes','framework_mapper.php',50],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',46],['lib/lessphp/Tree','NameValue.php',22],['mod/quiz/classes','admin_review_setting.php',82],['lib/htmlpurifier/HTMLPurifier','Generator.php',67],['mod/quiz/report','attemptsreport_table.php',76],['blocks/lp/classes/output','summary.php',59],['lib/google/src/Google/IO','Stream.php',45],['lib/google/src/Google/Service','Freebase.php',38],['grade/tests','reportlib_test.php',36],['search/classes','manager.php',100],['question/behaviour/adaptive','behaviour.php',310],['admin/tool/lp/classes/form','framework_autocomplete.php',48],['lib/minify/lib','JSMinPlus.php',193],['lib/minify/lib','JSMinPlus.php',726],['lib/minify/lib','JSMinPlus.php',1638],['lib/minify/lib','JSMinPlus.php',1656],['lib/minify/lib','JSMinPlus.php',1748],['lib/simplepie/library/SimplePie','Copyright.php',73],['lib/phpexcel/PHPExcel/Style','Conditional.php',93],['lib/google/src/Google/Task','Runner.php',76],['backup/util/settings/root','root_backup_setting.class.php',34],['lib','componentlib.class.php',179],['lib','componentlib.class.php',610],['lib','componentlib.class.php',834],['lib/google/src/Google/Service','AdSense.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',18],['lib/spout/src/Spout/Reader/CSV','Sheet.php',24],['lib/filebrowser','file_info_context_system.php',37],['lib/grade','grade_item.php',260],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',27],['repository/boxnet','lib.php',56],['auth/email','auth.php',34],['mod/wiki/editors','wikifiletable.php',40],['lib/google/src/Google/Service','Replicapool.php',51],['lib/dtl','database_exporter.php',55],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',34],['lib/phpexcel/PHPExcel/Writer','CSV.php',79],['lib/google/src/Google/Service','Tasks.php',44],['lib/dml','mysqli_native_moodle_recordset.php',42],['lib/google/src/Google/Service','GamesManagement.php',50],['lib/minify/lib/Minify','Source.php',43],['lib/jabber/XMPP','Roster.php',48],['lib/lessphp/Tree','Element.php',19],['lib/classes','string_manager_install.php',43],['question/type','questiontypebase.php',55],['question/type','questiontypebase.php',1442],['lib/form','filemanager.php',54],['lib/form','filemanager.php',316],['lib/htmlpurifier/HTMLPurifier/ChildDef','Custom.php',36],['backup/util/ui','renderer.php',813],['lib/simplepie/library/SimplePie','Rating.php',73],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',44],['question/classes/statistics/questions','calculator.php',66],['backup/moodle2','backup_xml_transformer.class.php',50],['lib/google/src/Google/Service','Resource.php',62],['lib/form','autocomplete.php',56],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',60],['mod/lesson/classes','file_info.php',45],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',40],['lib/google/src/Google/Service','Partners.php',43],['cache','lib.php',66],['cache','lib.php',109],['cache','lib.php',138],['cache','lib.php',183],['grade/edit/tree','lib.php',57],['grade/edit/tree','lib.php',635],['grade/edit/tree','lib.php',668],['grade/edit/tree','lib.php',834],['lib/simplepie/library/SimplePie','Cache.php',69],['mod/wiki/diff','difflib.php',277],['mod/wiki/diff','difflib.php',381],['mod/wiki/diff','difflib.php',478],['lib/pear/HTML/QuickForm','select.php',58],['lib/classes/output','mustache_javascript_helper.php',40],['lib/phpexcel/PHPExcel/Reader/Excel2007','Theme.php',68],['mod/data','export_form.php',16],['lib/pear/HTML/QuickForm','autocomplete.php',67],['question/type/shortanswer','question.php',44],['lib/google/src/Google/Service','AndroidPublisher.php',52],['lib/google/src/Google/Verifier','Pem.php',31],['lib/classes/antivirus','scanner.php',41],['lib/phpexcel/PHPExcel/Reader','Excel5.php',414],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',69],['lib/classes/output','mustache_filesystem_loader.php',39],['lib/classes/output','inplace_editable.php',107],['lib/adodb/drivers','adodb-informix.inc.php',37],['competency/classes','competency_rule.php',45],['lib/phpexcel/PHPExcel','RichText.php',37],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',59],['lib/pear/HTML/QuickForm','input.php',38],['repository/picasa','lib.php',41],['mod/feedback/classes','structure.php',48],['backup/util/plan','backup_structure_step.class.php',38],['question/classes/bank','random_question_loader.php',61],['mod/quiz/report/statistics/classes','calculated.php',43],['lib/horde/framework/Horde/Stream','String.php',27],['backup/util/helper','restore_decode_content.class.php',50],['backup/util/helper','restore_decode_content.class.php',125],['mod/workshop/backup/moodle1','lib.php',308],['lib/google/src/Google/Service','YouTubeReporting.php',47],['grade/export/txt','grade_export_txt.php',27],['lib/mustache/src/Mustache/Exception','SyntaxException.php',23],['lib/tcpdf','tcpdf_barcodes_2d.php',58],['mod/imscp','locallib.php',289],['lib/form','selectyesno.php',42],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',62],['mod/lti/service/toolsettings/classes/local/service','toolsettings.php',41],['mod/lti/service/profile/classes/local/service','profile.php',41],['repository/flickr_public','lib.php',49],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','BackgroundPosition.php',57],['admin/tool/lp/classes/output','template_cohorts_table.php',53],['lib/simplepie/library','SimplePie.php',611],['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',55],['lib/google/src/Google/Service','Reseller.php',44],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Border.php',18],['lib/testing/generator','component_generator_base.php',45],['lib/horde/framework/Horde/Translation/Handler','Gettext.php',34],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooter.php',175],['lib/classes','plugin_manager.php',91],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',28],['lib/horde/framework/Horde/Support','CombineStream.php',29],['lib/xmldb','xmldb_field.php',84],['lib/adodb/drivers','adodb-ibase.inc.php',59],['lib/adodb/drivers','adodb-ibase.inc.php',764],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',23],['admin/roles/classes','view_role_definition_table.php',28],['lib/google/src/Google/Cache','Memcache.php',44],['lib/pear/HTML/QuickForm','radio.php',48],['lib/filebrowser','file_info_context_coursecat.php',39],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',37],['mod/workshop/eval/best','lib.php',44],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',38],['grade/report','lib.php',156],['lib','csslib.php',1501],['lib','csslib.php',1587],['lib','csslib.php',2068],['lib','csslib.php',2136],['lib','csslib.php',2242],['availability/classes','info_module.php',40],['mod/book','locallib.php',414],['question/engine','datalib.php',68],['question/engine','datalib.php',1331],['question/engine','datalib.php',1632],['question/engine','datalib.php',1740],['question/engine','datalib.php',1870],['question/engine','datalib.php',1941],['webservice','lib.php',745],['webservice','lib.php',841],['lib/adodb/drivers','adodb-informix72.inc.php',59],['lib/adodb/drivers','adodb-informix72.inc.php',399],['lib/adodb','adodb-pager.inc.php',60],['user/classes/output/myprofile','category.php',68],['lib/lessphp/Visitor','extendFinder.php',15],['backup/util/settings','base_setting.class.php',89],['backup/util/settings','base_setting.class.php',556],['lib','filelib.php',2720],['lib','filelib.php',3601],['lib/phpunit/classes','database_driver_testcase.php',55],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','File.php',32],['report/competency/classes/output','report.php',56],['lib/google/src/Google/Service','Computeaccounts.php',49],['question/type','edit_question_form.php',96],['lib/filebrowser','file_info_context_user.php',39],['admin/tool/lp/classes/output','template_plans_page.php',37],['lib/phpexcel/PHPExcel','Style.php',93],['lib/minify/lib/Minify','HTML.php',49],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ListStyle.php',20],['lib/form','password.php',44],['backup','backup.class.php',146],['mod/feedback/classes','course_select_form.php',39],['lib/google/src/Google/Auth','AppIdentity.php',39],['lib/adodb','adodb-active-record.inc.php',121],['lib/phpexcel/PHPExcel','Chart.php',169],['lib/horde/framework/Horde/Mail/Rfc822','List.php',61],['admin/roles/classes','allow_switch_page.php',33],['lib/grade','grade_object.php',80],['lib/google/src/Google/IO','Exception.php',29],['auth/lti','auth.php',38],['mod/quiz/report/statistics/classes','calculator.php',39],['lib/htmlpurifier','HTMLPurifier.php',104],['admin/tool/lp/classes/output','user_competency_summary_in_plan.php',47],['mod/assign/feedback/editpdf/classes','widget.php',53],['lib/evalmath','evalmath.class.php',120],['lib/form','url.php',46],['lib/dml','pdo_moodle_recordset.php',41],['lib/htmlpurifier/HTMLPurifier/TagTransform','Simple.php',19],['backup/cc/cc_lib','xmlbase.php',52],['badges/lib','bakerlib.php',52],['lib/google/src/Google/Signer','P12.php',35],['availability/classes','info_section.php',40],['lib/form','static.php',47],['backup/converter','convertlib.php',52],['backup/converter','convertlib.php',277],['lib/google/src/Google/Service','YouTubeAnalytics.php',56],['admin/roles/classes','check_capability_table.php',40],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',14],['lib/adodb/drivers','adodb-postgres64.inc.php',127],['lib/adodb/drivers','adodb-postgres64.inc.php',919],['backup/util/helper','restore_prechecks_helper.class.php',213],['user/profile','lib.php',59],['lib/google/src/Google/Service','Admin.php',40],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',62],['lib/google/src/Google/Service','MapsEngine.php',66],['lib','listlib.php',82],['lib','listlib.php',485],['lib/phpexcel/PHPExcel/Writer','HTML.php',128],['backup/moodle2','restore_activity_task.class.php',48],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',68],['lib/simplepie/library/SimplePie','Source.php',61],['completion','data_object.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','ID.php',28],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',49],['lib/horde/framework/Horde/Support','Stack.php',18],['lib/google/src/Google/Cache','File.php',41],['lib/horde/framework/Horde/Mail/Transport','Mock.php',76],['backup/util/ui','backup_moodleform.class.php',41],['availability/condition/grouping/classes','condition.php',46],['lib/classes/session','memcache.php',50],['cache/classes','dummystore.php',62],['badges/classes','assertion.php',49],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',87],['availability/tests/fixtures','mock_condition.php',52],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',33],['mod/quiz/report','attemptsreport_options.php',95],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',39],['lib/minify/lib/Minify/CSS','Compressor.php',51],['lib/google/src/Google/Service','Dns.php',53],['question/type/calculatedmulti','edit_calculatedmulti_form.php',47],['backup/moodle2','restore_block_task.class.php',45],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',54],['lib/form','recaptcha.php',48],['lib','csvlib.class.php',64],['lib','csvlib.class.php',398],['lib/simplepie/library/SimplePie/Cache','File.php',82],['lib/phpexcel/PHPExcel/Chart','Legend.php',75],['lib/phpexcel/PHPExcel','WorksheetIterator.php',44],['cache/classes','loaders.php',196],['cache/classes','loaders.php',1189],['cache/classes','loaders.php',1586],['lib/google/src/Google/Service','Appengine.php',44],['admin/tool/lp/classes/output','template_cohorts_page.php',37],['search/classes','engine.php',77],['backup/cc/cc_lib','cc_assesment_essay.php',25],['lib/classes/progress','display.php',48],['lib/lessphp/Tree','Call.php',19],['course/format','lib.php',78],['question/type/calculated','datasetdefinitions_form.php',53],['lib/google/src/Google/Service','Translate.php',40],['enrol/database','settingslib.php',34],['lib/lessphp/Tree/Mixin','Call.php',14],['admin/tool/log/store/standard/classes/log','store.php',37],['lib/google/src/Google/Service','Urlshortener.php',40],['lib/horde/framework/Horde/Imap/Client','Socket.php',168],['lib/tests','collator_test.php',310],['lib/google/src/Google/Auth','Simple.php',31],['backup/cc/cc_lib','cc_manifest.php',45],['lib/bennu','iCalendar_properties.php',28],['lib/bennu','iCalendar_properties.php',220],['lib/bennu','iCalendar_properties.php',238],['lib/bennu','iCalendar_properties.php',259],['lib/bennu','iCalendar_properties.php',275],['lib/bennu','iCalendar_properties.php',296],['lib/bennu','iCalendar_properties.php',343],['lib/bennu','iCalendar_properties.php',358],['lib/bennu','iCalendar_properties.php',376],['lib/bennu','iCalendar_properties.php',391],['lib/bennu','iCalendar_properties.php',406],['lib/bennu','iCalendar_properties.php',447],['lib/bennu','iCalendar_properties.php',462],['lib/bennu','iCalendar_properties.php',485],['lib/bennu','iCalendar_properties.php',509],['lib/bennu','iCalendar_properties.php',524],['lib/bennu','iCalendar_properties.php',555],['lib/bennu','iCalendar_properties.php',573],['lib/bennu','iCalendar_properties.php',594],['lib/bennu','iCalendar_properties.php',637],['lib/bennu','iCalendar_properties.php',680],['lib/bennu','iCalendar_properties.php',724],['lib/bennu','iCalendar_properties.php',747],['lib/bennu','iCalendar_properties.php',782],['lib/bennu','iCalendar_properties.php',808],['lib/bennu','iCalendar_properties.php',849],['lib/bennu','iCalendar_properties.php',864],['lib/bennu','iCalendar_properties.php',905],['lib/bennu','iCalendar_properties.php',938],['lib/bennu','iCalendar_properties.php',952],['lib/bennu','iCalendar_properties.php',965],['lib/bennu','iCalendar_properties.php',987],['lib/bennu','iCalendar_properties.php',1017],['lib/bennu','iCalendar_properties.php',1031],['lib/bennu','iCalendar_properties.php',1061],['lib/bennu','iCalendar_properties.php',1075],['lib/bennu','iCalendar_properties.php',1098],['lib/bennu','iCalendar_properties.php',1110],['lib/bennu','iCalendar_properties.php',1139],['lib/bennu','iCalendar_properties.php',1160],['lib/bennu','iCalendar_properties.php',1181],['lib/bennu','iCalendar_properties.php',1203],['lib/bennu','iCalendar_properties.php',1227],['lib/bennu','iCalendar_properties.php',1260],['lib/bennu','iCalendar_properties.php',1386],['lib/bennu','iCalendar_properties.php',1407],['lib/bennu','iCalendar_properties.php',1429],['lib/bennu','iCalendar_properties.php',1450],['lib/mustache/src/Mustache/Exception','UnknownTemplateException.php',22],['lib/phpmailer','moodle_phpmailer.php',47],['availability/tests/fixtures','mock_info.php',40],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',138],['admin/tool/lp/classes/form','persistent.php',68],['lib/adodb/drivers','adodb-mysqlt.inc.php',32],['lib/adodb/drivers','adodb-mysqlt.inc.php',96],['webservice/tests','lib_test.php',213],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',35],['filter','local_settings_form.php',33],['mod/quiz/accessrule','accessrulebase.php',52],['lib/horde/framework/Horde/Exception','Wrapped.php',16],['mod/assign/feedback/editpdf/fpdi','pdf_parser.php',170],['lib/lessphp/Tree','Dimension.php',15],['lib/minify/lib/HTTP','ConditionalGet.php',109],['lib/adodb/perf','perf-oci8.inc.php',203],['lib/phpexcel','PHPExcel.php',361],['backup/util/helper','restore_questions_parser_processor.class.php',42],['backup/moodle2','backup_plugin.class.php',44],['lib/classes/antivirus','scanner_exception.php',38],['webservice/xmlrpc','lib.php',43],['report/loglive/classes','renderable.php',73],['course','dnduploadlib.php',109],['course','dnduploadlib.php',407],['lib/filebrowser','file_info.php',43],['lib/adodb/drivers','adodb-access.inc.php',34],['lib/adodb/drivers','adodb-access.inc.php',83],['mod/feedback/classes','responses_table.php',54],['lib/editor/tinymce','adminlib.php',36],['admin/tool/monitor/classes','rule.php',44],['lib/google/src/Google/Service','AdExchangeBuyer.php',55],['lib/filebrowser','virtual_root_file.php',45],['lib/phpexcel/PHPExcel/RichText','Run.php',35],['admin/tool/monitor/classes/output/managesubs','subs.php',51],['auth/cas/CAS/CAS','ProxyChain.php',48],['lib/htmlpurifier/HTMLPurifier','DefinitionCache.php',22],['lib/google/src/Google/Service','CivicInfo.php',40],['mod/feedback/classes/output','summary.php',52],['lib/minify/lib/Minify','Build.php',77],['lib/adodb/drivers','adodb-ado_mssql.inc.php',146],['lib/adodb/drivers','adodb-odbc.inc.php',44],['lib/adodb/drivers','adodb-odbc.inc.php',611],['lib','moodlelib.php',9421],['lib','moodlelib.php',9632],['user/selector','lib.php',85],['user/selector','lib.php',674],['admin/tool/lp/classes/output','plan_page.php',49],['repository/dropbox','lib.php',49],['lib/horde/framework/Horde/Mime','Part.php',261],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','CachingStrategyFactory.php',56],['lib/phpexcel/PHPExcel/Chart','Layout.php',143],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',20],['lib/phpexcel/PHPExcel/Shared/JAMA','EigenvalueDecomposition.php',777],['lib/google/src/Google/Service','Books.php',60],['lib/google/src/Google/Service','Oauth2.php',50],['admin/tool/log/classes/log','store.php',30],['admin/tool/recyclebin/classes','category_bin.php',45],['lib/phpexcel/PHPExcel/Style','Color.php',64],['lib/phpexcel/PHPExcel/Worksheet','SheetView.php',69],['lib/htmlpurifier/HTMLPurifier/Token','Text.php',34],['lib/classes/update','checker.php',50],['lib/horde/framework/Horde/Socket','Client.php',52],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',243],['lib/horde/framework/Horde/Imap/Client/Cache','Backend.php',33],['lib/phpexcel/PHPExcel/Chart','Title.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',32],['lib/adodb/drivers','adodb-text.inc.php',93],['lib/adodb/drivers','adodb-text.inc.php',379],['lib/phpexcel/PHPExcel','Calculation.php',2071],['lib/adodb/drivers','adodb-sqlite.inc.php',36],['lib/adodb/drivers','adodb-sqlite.inc.php',367],['lib/google/src/Google/Service','Analytics.php',77],['blocks/lp/classes/output','plans_to_review_page.php',48],['lib/google/src/Google/Service','Coordinate.php',48],['availability/condition/group/classes','condition.php',43],['lib/lessphp/Exception','Chunk.php',19],['lib/htmlpurifier/HTMLPurifier','PropertyListIterator.php',22],['backup/cc/cc_lib','cc_resources.php',102],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',45],['backup/util/structure','base_optigroup.class.php',35],['backup/util/structure','base_optigroup.class.php',169],['question/classes/statistics/questions','calculated.php',181],['lib/horde/framework/Horde/Imap/Client/Interaction','Command.php',72],['lib/htmlpurifier/HTMLPurifier/Strategy','Core.php',8],['lib/htmlpurifier/HTMLPurifier/Filter','ExtractStyleBlocks.php',57],['backup/cc/cc_lib','cc_converter_url.php',29],['lib/xmldb','xmldb_structure.php',40],['lib/ddl','sqlite_sql_generator.php',73],['lib/pear/HTML/QuickForm','Renderer.php',31],['backup/util/helper','restore_moodlexml_parser_processor.class.php',38],['lib/pear/HTML/QuickForm','file.php',54],['lib/minify/lib/Minify/Cache','File.php',9],['lib/pear/HTML/QuickForm','xbutton.php',39],['lib/htmlpurifier','locallib.php',134],['admin/tool/recyclebin/classes','course_bin.php',45],['backup/util/plan','backup_task.class.php',32],['backup/util/plan','backup_task.class.php',56],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',174],['backup/util/helper','backup_helper.class.php',381],['lib/form','htmleditor.php',48],['lib','oauthlib.php',65],['lib','oauthlib.php',409],['auth/cas/CAS/CAS/PGTStorage','File.php',105],['auth/cas/CAS/CAS/ProxiedService','Imap.php',51],['repository/skydrive','lib.php',42],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',57],['lib/classes/lock','postgres_lock_factory.php',81],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',260],['lib/horde/framework/Horde/Support','ConsistentHash.php',56],['lib/horde/framework/Horde/Exception','Pear.php',22],['lib/portfolio','exceptions.php',50],['backup/moodle2','restore_plugin.class.php',43],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',177],['lib/google/src/Google/Service','DoubleClickBidManager.php',40],['lib/minify/lib/Minify/JS','ClosureCompiler.php',101],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',38],['lib/form','dateselector.php',70],['lib/spout/src/Spout/Common/Helper','EncodingHelper.php',38],['report/competency/classes/output','user_course_navigation.php',51],['lib/adodb/drivers','adodb-postgres7.inc.php',98],['lib/adodb/drivers','adodb-postgres7.inc.php',311],['lib/adodb/drivers','adodb-postgres7.inc.php',342],['lib/lessphp/Tree','Alpha.php',13],['mod/lti/service/memberships/classes/local/resource','linkmemberships.php',46],['lib/tcpdf','tcpdf.php',1822],['lib/adodb/drivers','adodb-sybase.inc.php',47],['lib/adodb/drivers','adodb-sybase.inc.php',313],['lib/adodb/drivers','adodb-sybase.inc.php',394],['lib/phpexcel/PHPExcel/Chart','PlotArea.php',44],['lib/phpexcel/PHPExcel/Chart','DataSeries.php',136],['mod/lesson','editpage_form.php',41],['question/classes/statistics/responses','analysis_for_question.php',58],['lib/horde/framework/Horde','Domhtml.php',53],['lib','formslib.php',142],['lib','formslib.php',1442],['lib','formslib.php',2653],['rating','lib.php',114],['rating','lib.php',1070],['lib/phpexcel/PHPExcel/Worksheet','Column.php',44],['lib/google/src/Google/Service','Script.php',67],['lib/adodb','adodb-xmlschema.inc.php',118],['lib/adodb','adodb-xmlschema.inc.php',245],['lib/adodb','adodb-xmlschema.inc.php',637],['lib/adodb','adodb-xmlschema.inc.php',781],['lib/adodb','adodb-xmlschema.inc.php',982],['lib/adodb','adodb-xmlschema.inc.php',1295],['lib/google/src/Google/Service','DeploymentManager.php',54],['mod/quiz','attemptlib.php',41],['mod/quiz','attemptlib.php',82],['mod/quiz','attemptlib.php',546],['mod/quiz','attemptlib.php',2337],['mod/quiz','attemptlib.php',2392],['backup/cc/cc_lib','cc_converter_forum.php',29],['lib','boxlib.php',264],['lib/simplepie/library/SimplePie','Restriction.php',81],['admin/roles/classes','allow_assign_page.php',31],['lib/adodb/drivers','adodb-pdo.inc.php',90],['lib/adodb/drivers','adodb-pdo.inc.php',553],['lib/adodb/drivers','adodb-pdo.inc.php',630],['tag/classes/output','tagareacollection.php',40],['admin/tool/lp/classes','template_statistics.php',62],['lib','weblib.php',313],['lib','weblib.php',3183],['lib','weblib.php',3483],['lib','weblib.php',3518],['lib','weblib.php',3593],['backup/cc/cc_lib','cc_converter_basiclti.php',29],['lib/html2text','Html2Text.php',232],['mod/assign/feedback/editpdf/classes','annotation.php',66],['lib/pear/HTML/QuickForm/Renderer','Array.php',143],['question/engine','lib.php',774],['question/engine','lib.php',1011],['question/engine','lib.php',1059],['lib/jabber/XMPP','XMLObj.php',76],['lib/horde/framework/Horde/Exception','PermissionDenied.php',15],['lib/editor/atto','adminlib.php',109],['lib/pear/HTML/QuickForm/Renderer','Tableless.php',116],['grade/report/history/classes/output','tablelog.php',72],['lib/google/src/Google/IO','Curl.php',38],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',31],['lib/pear/HTML/QuickForm','hiddenselect.php',41],['backup/util/ui','backup_ui_setting.class.php',70],['backup/util/ui','backup_ui_setting.class.php',200],['backup/util/ui','backup_ui_setting.class.php',398],['backup/util/ui','backup_ui_setting.class.php',504],['backup/util/ui','backup_ui_setting.class.php',583],['lib/adodb/drivers','adodb-mysqlpo.inc.php',35],['lib/adodb/drivers','adodb-mysqlpo.inc.php',82],['lib/adodb/drivers','adodb-mysqlpo.inc.php',119],['lib/google/src/Google/Service','Blogger.php',50],['backup/util/xml/output','file_xml_output.class.php',37],['lib/form','tags.php',75],['admin/tool/installaddon/classes','installer.php',219],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',30],['lib/simplepie/library/SimplePie','IRI.php',252],['comment','locallib.php',39],['question/engine','states.php',61],['lib/spout/src/Spout/Reader/XLSX/Helper','CellValueFormatter.php',52],['lib/google/src/Google/Service','Dataflow.php',45],['mod/data','locallib.php',66],['mod/data','locallib.php',433],['lib/horde/framework/Horde','Variables.php',60],['backup/util/ui','base_ui.class.php',84],['lib/simplepie/library/SimplePie','Registry.php',99],['cache/locks/file','lib.php',66],['question/classes/statistics/responses','analysis_for_class.php',68],['lib/filebrowser','file_info_stored.php',51],['tag/classes/output','tagcollname.php',42],['competency/classes','persistent.php',54],['admin/tool/lp/classes/output','competency_plan_navigation.php',54],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',146],['lib/pear/HTML/QuickForm','textarea.php',48],['lib/lessphp','Visitor.php',14],['lib/google/src/Google/Service','CloudUserAccounts.php',52],['question/classes/bank','column_base.php',44],['lib/minify/lib/MrClay','Cli.php',74],['lib','outputcomponents.php',80],['lib','outputcomponents.php',204],['lib','outputcomponents.php',469],['lib','outputcomponents.php',523],['lib','outputcomponents.php',589],['lib','outputcomponents.php',665],['lib','outputcomponents.php',783],['lib','outputcomponents.php',925],['lib','outputcomponents.php',1009],['lib','outputcomponents.php',2183],['lib','outputcomponents.php',2222],['lib','outputcomponents.php',2295],['lib','outputcomponents.php',2376],['lib','outputcomponents.php',2579],['lib','outputcomponents.php',2627],['lib','outputcomponents.php',2687],['lib','outputcomponents.php',2860],['lib','outputcomponents.php',3030],['lib','outputcomponents.php',3134],['lib','outputcomponents.php',3201],['lib','outputcomponents.php',3329],['lib','outputcomponents.php',3613],['lib','outputcomponents.php',3642],['lib','outputcomponents.php',3668],['lib','outputcomponents.php',3690],['lib','outputcomponents.php',3719],['lib','outputcomponents.php',3751],['lib/google/src/Google/Service','Pagespeedonline.php',39],['lib/phpexcel/PHPExcel','Cell.php',114],['lib/dml','sqlsrv_native_moodle_recordset.php',40],['repository/wikimedia','wikimedia.php',35],['lib/phpexcel/PHPExcel/Style','Fill.php',81],['lib/google/src/Google/Service','Cloudresourcemanager.php',42],['lib/editor/tinymce/classes','plugin.php',49],['mod/wiki/parser/markups','html.php',21],['lib/simplepie/library/SimplePie/Parse','Date.php',536],['lib/horde/framework/Horde/Support','Inflector.php',115],['question/type/gapselect','question.php',55],['lib/google/src/Google','Config.php',33],['badges/criteria','award_criteria_activity.php',45],['backup/util/xml/output','xml_output.class.php',52],['backup/util/xml/output','xml_output.class.php',158],['course/format/topics','renderer.php',38],['lib/adodb/drivers','adodb-oci8po.inc.php',33],['lib/adodb/drivers','adodb-oci8po.inc.php',99],['mod/workshop/allocation/random','lib.php',52],['mod/workshop/allocation/random','lib.php',727],['backup/util/structure','base_final_element.class.php',38],['backup/util/structure','base_final_element.class.php',239],['backup/util/structure','base_final_element.class.php',256],['lib/htmlpurifier/HTMLPurifier','Zipper.php',25],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',41],['lib/mustache/src/Mustache/Exception','UnknownHelperException.php',22],['backup/util/settings/activity','activity_backup_setting.class.php',25],['lib/filestorage','tgz_packer.php',749],['lib/filestorage','tgz_packer.php',831],['tag/classes','index_builder.php',96],['lib/pear/HTML/QuickForm','reset.php',37],['lib/classes/lock','lock.php',55],['admin/roles/classes','assign_user_selector_base.php',40],['backup/util/output','output_controller.class.php',44],['question/type/randomsamatch','question.php',114],['lib/google/src/Google/Service','Customsearch.php',38],['lib/lessphp/Tree','Extend.php',28],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',215],['lib/google/src/Google/Service','TagManager.php',67],['question/type/gapselect/tests','edit_form_test.php',41],['mod/lesson','locallib.php',2004],['mod/lesson','locallib.php',2611],['backup/util/helper','restore_structure_parser_processor.class.php',41],['course','renderer.php',52],['backup/util/xml/parser/processors','selective_exact_parser_processor.class.php',35],['lib','modinfolib.php',429],['lib','modinfolib.php',1665],['lib','modinfolib.php',2492],['lib','tablelib.php',128],['lib','tablelib.php',1468],['lib','tablelib.php',1633],['lib','tablelib.php',1698],['user/filters','cohort.php',36],['user/filters','text.php',37],['lib','outputrenderers.php',120],['lib','outputrenderers.php',285],['lib','outputrenderers.php',408],['lib','outputrenderers.php',4578],['lib','outputrenderers.php',4831],['repository','lib.php',116],['repository','lib.php',533],['lib','adminlib.php',791],['lib','adminlib.php',1138],['lib','adminlib.php',1212],['lib','adminlib.php',1355],['lib','adminlib.php',1556],['lib','adminlib.php',1928],['lib','adminlib.php',2040],['lib','adminlib.php',2106],['lib','adminlib.php',2199],['lib','adminlib.php',2260],['lib','adminlib.php',2302],['lib','adminlib.php',2341],['lib','adminlib.php',2429],['lib','adminlib.php',2463],['lib','adminlib.php',2621],['lib','adminlib.php',2706],['lib','adminlib.php',2935],['lib','adminlib.php',3091],['lib','adminlib.php',3233],['lib','adminlib.php',3324],['lib','adminlib.php',3488],['lib','adminlib.php',3571],['lib','adminlib.php',3682],['lib','adminlib.php',3833],['lib','adminlib.php',4067],['lib','adminlib.php',4134],['lib','adminlib.php',4352],['lib','adminlib.php',4381],['lib','adminlib.php',4410],['lib','adminlib.php',4434],['lib','adminlib.php',4464],['lib','adminlib.php',4500],['lib','adminlib.php',4535],['lib','adminlib.php',4567],['lib','adminlib.php',4657],['lib','adminlib.php',4690],['lib','adminlib.php',4748],['lib','adminlib.php',4790],['lib','adminlib.php',4814],['lib','adminlib.php',4840],['lib','adminlib.php',4863],['lib','adminlib.php',4880],['lib','adminlib.php',4925],['lib','adminlib.php',4943],['lib','adminlib.php',5002],['lib','adminlib.php',5045],['lib','adminlib.php',5080],['lib','adminlib.php',5123],['lib','adminlib.php',5206],['lib','adminlib.php',5336],['lib','adminlib.php',5378],['lib','adminlib.php',5423],['lib','adminlib.php',5480],['lib','adminlib.php',5496],['lib','adminlib.php',5552],['lib','adminlib.php',5777],['lib','adminlib.php',5831],['lib','adminlib.php',5885],['lib','adminlib.php',5902],['lib','adminlib.php',5950],['lib','adminlib.php',5992],['lib','adminlib.php',6043],['lib','adminlib.php',6099],['lib','adminlib.php',6328],['lib','adminlib.php',6508],['lib','adminlib.php',6688],['lib','adminlib.php',6782],['lib','adminlib.php',6931],['lib','adminlib.php',7088],['lib','adminlib.php',7712],['lib','adminlib.php',8147],['lib','adminlib.php',8330],['lib','adminlib.php',8617],['lib','adminlib.php',8764],['lib','adminlib.php',8924],['lib','adminlib.php',9071],['lib','adminlib.php',9235],['lib','adminlib.php',9428],['lib','adminlib.php',9482],['lib','adminlib.php',9544],['lib','adminlib.php',9589],['lib','adminlib.php',9626],['backup/cc/cc_lib','cc_organization.php',47],['backup/cc/cc_lib','cc_organization.php',145],['lib/phpexcel/PHPExcel/Chart','DataSeriesValues.php',81],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',34],['question/type/numerical','questiontype.php',507],['auth/mnet','auth.php',35],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',68],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',29],['auth/imap','auth.php',35],['tag/classes/output','taglist.php',54],['lib','pdflib.php',161],['lib/phpexcel/PHPExcel/RichText','TextElement.php',35],['lib/dml','database_column_info.php',112],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportExtension.php',33],['mod/wiki/editors','wikieditor.php',36],['lib/lessphp/SourceMap','Base64VLQ.php',67],['repository/s3','lib.php',44],['admin/tool/uploadcourse/classes','course.php',111],['lib/google/src/Google/Service','Replicapoolupdater.php',51],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',25],['lib/bennu','iCalendar_components.php',21],['lib/bennu','iCalendar_components.php',333],['lib/bennu','iCalendar_components.php',355],['lib/bennu','iCalendar_components.php',433],['lib/bennu','iCalendar_components.php',513],['lib/bennu','iCalendar_components.php',551],['lib/bennu','iCalendar_components.php',602],['lib/bennu','iCalendar_components.php',659],['lib/bennu','iCalendar_components.php',679],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',102],['mod/feedback/item','feedback_item_class.php',28],['lib/adodb/drivers','adodb-mssql_n.inc.php',245],['lib','badgeslib.php',133],['lib/pear/HTML/QuickForm','text.php',38],['lib/simplepie/library/SimplePie','Enclosure.php',219],['calendar/classes','rrule_manager.php',182],['auth/webservice','auth.php',35],['lib','outputrequirementslib.php',171],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',44],['lib','questionlib.php',1261],['lib','questionlib.php',1505],['lib','uploadlib.php',40],['lib/spout/src/Spout/Writer/Common/Helper','ZipHelper.php',28],['lib/google/src/Google/Service','Cloudsearch.php',40],['backup/util/structure','backup_nested_element.class.php',44],['lib/spout/src/Spout/Writer/Common','Sheet.php',39],['question/behaviour','behaviourbase.php',50],['blocks/rss_client/classes/output','footer.php',47],['lib/dtl','file_xml_database_importer.php',34],['admin/roles/classes','capability_table_with_risks.php',45],['lib/adodb/drivers','adodb-mssql.inc.php',110],['lib/adodb/drivers','adodb-mssql.inc.php',870],['lib/adodb/drivers','adodb-mssql.inc.php',1077],['lib/google/src/Google/Service','Bigquery.php',62],['lib/google/src/Google/Service','ShoppingContent.php',50],['mod/lti','OAuth.php',73],['mod/lti','OAuth.php',89],['mod/lti','OAuth.php',244],['mod/lti','OAuth.php',499],['repository/equella','lib.php',42],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',80],['backup/cc/cc_lib','cc_converter_quiz.php',33],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',60],['lib/phpexcel/PHPExcel/Shared/trend','polynomialBestFitClass.php',199],['backup/util/helper','restore_decode_processor.class.php',47],['backup/util/helper','restore_decode_processor.class.php',182],['cache/classes','helper.php',90],['lib/simplepie/library/SimplePie','Credit.php',81],['lib/classes','chart_series.php',62],['lib/classes/dml','recordset_walk.php',64],['lib/google/src/Google/Service','Webmasters.php',47],['lib/tcpdf/include/barcodes','qrcode.php',631],['backup/moodle2','backup_settingslib.php',42],['backup/moodle2','backup_settingslib.php',138],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',40],['course/tests/fixtures','course_capability_assignment.php',60],['mod/forum/classes','subscriber_selector_base.php',53],['lib','blocklib.php',54],['lib','blocklib.php',152],['report/loglive/classes','table_log.php',50],['lib','navigationlib.php',147],['lib','navigationlib.php',1015],['lib','navigationlib.php',2825],['lib','navigationlib.php',3086],['lib','navigationlib.php',3412],['lib','navigationlib.php',3459],['lib','navigationlib.php',4888],['lib','navigationlib.php',5070],['lib/phpexcel/PHPExcel/Shared/JAMA','CholeskyDecomposition.php',41],['grade/report/history/classes/output','user_button.php',40],['user/filters','courserole.php',34],['lib/phpexcel/PHPExcel','IOFactory.php',69],['lib/lessphp/Tree','Color.php',15],['lib/phpexcel/PHPExcel/Worksheet','MemoryDrawing.php',70],['lib/adodb/drivers','adodb-vfp.inc.php',72],['lib/horde/framework/Horde/Support','Backtrace.php',20],['lib/google/src/Google/Service','Clouddebugger.php',50],['lib/horde/framework/Horde/Exception','NotFound.php',15],['admin/tool/lp/classes/output','user_competency_course_navigation.php',55],['lib/lessphp/Tree','UnicodeDescriptor.php',14],['lib/phpexcel/PHPExcel/Worksheet','PageSetup.php',277],['grade/report/singleview/classes/local/ui','bulk_insert.php',40],['lib','mathslib.php',45],['lib/filestorage','tgz_extractor.php',119],['lib/horde/framework/Horde/Imap/Client/Interaction/Command','Continuation.php',42],['lib/horde/framework/Horde/Imap/Client','Exception.php',247],['filter/emoticon/tests','filter_test.php',68],['mnet/xmlrpc','xmlparser.php',15],['lib/spout/src/Spout/Reader/XLSX','Sheet.php',31],['admin/roles/classes','capability_table_base.php',51],['lib/simplepie/library/SimplePie','Item.php',82],['lib/form','selectgroups.php',57],['auth/shibboleth','auth.php',38],['admin/tool/langimport/classes','controller.php',48],['lib/form','warning.php',49],['lib/filestorage','stored_file.php',63],['grade/grading/form/guide','guideeditor.php',49],['lib/pear/HTML/QuickForm','group.php',80],['backup/moodle2','restore_subplugin.class.php',45],['grade/export','lib.php',60],['grade/export','lib.php',625],['lib/phpexcel/PHPExcel/Style','NumberFormat.php',98],['backup/moodle2','backup_section_task.class.php',40],['lib/htmlpurifier/HTMLPurifier','Config.php',100],['lib','flickrlib.php',53],['mod/assign/classes/output','grading_app.php',59],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',47],['user/profile/field/menu','field.class.php',39],['lib/spout/src/Spout/Writer/Common/Internal','AbstractWorkbook.php',30],['lib/portfolio','exporter.php',113],['lib','ddllib.php',80],['lib','ddllib.php',93],['lib','ddllib.php',107],['lib','ddllib.php',126],['lib','ddllib.php',140],['lib/horde/framework/Horde/Crypt','Blowfish.php',54],['lib/horde/framework/Horde','Secret.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','Integer.php',36],['lib/classes/update','info.php',48],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',31],['lib/lessphp/Tree','Anonymous.php',21],['admin/tool/lp/classes','course_competencies_form_element.php',43],['lib/lessphp/Tree','Comment.php',17],['auth/cas/CAS/CAS','OutOfSequenceBeforeAuthenticationCallException.php',47],['question/type/calculatedsimple','edit_calculatedsimple_form.php',72],['lib/adodb/drivers','adodb-mysql.inc.php',54],['lib/adodb/drivers','adodb-mysql.inc.php',717],['lib/adodb/drivers','adodb-mysql.inc.php',880],['enrol/ldap','lib.php',43],['mod/quiz/report/statistics','statistics_table.php',45],['lib/form','listing.php',68],['lib/google/src/Google/Service','Container.php',43],['mod/quiz','accessmanager.php',45],['lib/classes/message/inbound','processing_failed_exception.php',36],['blocks/online_users/classes','fetcher.php',45],['lib/pear/HTML/QuickForm','checkbox.php',48],['auth/cas/CAS/CAS','OutOfSequenceBeforeProxyException.php',48],['mod/lti/service/toolproxy/classes/local/service','toolproxy.php',41],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','URI.php',15],['lib/classes','chart_axis.php',65],['mod/glossary/classes','entry_query_builder.php',83],['mod/feedback/item/label','lib.php',26],['lib/adodb/drivers','adodb-mssqlnative.inc.php',131],['lib/adodb/drivers','adodb-mssqlnative.inc.php',847],['lib/adodb/drivers','adodb-mssqlnative.inc.php',1099],['lib/horde/framework/Horde/Imap/Client','Ids.php',78],['lib/form','editor.php',62],['lib','environmentlib.php',1258],['mod/workshop','fileinfolib.php',43],['mod/workshop','fileinfolib.php',198],['mod/feedback/classes','templates_table.php',39],['tag/classes','manage_table.php',44],['lib/adodb/drivers','adodb-odbc_db2.inc.php',115],['lib/adodb/drivers','adodb-odbc_db2.inc.php',309],['backup/cc/cc_lib/gral_lib','cssparser.php',21],['lib/horde/framework/Horde/Support','Array.php',21],['lib/google/src/Google/Service','GroupsMigration.php',40],['admin/tool/lp/classes/output','user_evidence_list_page.php',61],['lib/google/src/Google/Service','Audit.php',39],['lib/simplepie/library/SimplePie','File.php',68],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',62],['enrol/lti/classes','manage_table.php',62],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',69],['question/type','questionbase.php',124],['question/type','questionbase.php',438],['question/type','questionbase.php',531],['question/type','questionbase.php',750],['question/type','questionbase.php',835],['question/type','questionbase.php',868],['question/type','questionbase.php',914],['question/type','questionbase.php',1013],['question/type/ddimageortext','question.php',64],['question/type/ddimageortext','question.php',122],['lib','excellib.class.php',47],['lib','excellib.class.php',155],['lib','excellib.class.php',456],['lib/minify/lib','CSSmin.php',43],['lib/dml','moodle_temptables.php',51],['lib/minify/lib/Minify/Cache','ZendPlatform.php',23],['backup/util/xml/parser','progressive_parser.class.php',79],['backup/util/xml/parser','progressive_parser.class.php',305],['blocks/rss_client/classes/output','block.php',47],['question/type/ddmarker','question.php',417],['question/type/ddmarker','question.php',469],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Percentage.php',18],['admin/tool/lp/classes/output','user_competency_summary_in_course.php',51],['backup/util/helper','convert_helper.class.php',378],['lib/classes/update','validator.php',265],['lib/lessphp/Tree','Attribute.php',16],['admin/tool/generator/classes','backend.php',84],['backup/util/loggers','file_logger.class.php',35],['lib/adodb','adodb-exceptions.inc.php',30],['lib/google/src/Google','Client.php',70],['user/filters','profilefield.php',36],['backup/util/helper','restore_inforef_parser_processor.class.php',37],['cache/tests/fixtures','lib.php',326],['mod/lti/service/profile/classes/local/resource','profile.php',43],['competency/classes','invalid_persistent_exception.php',38],['backup/util/plan','backup_plan.class.php',36],['backup/util/plan','backup_plan.class.php',130],['lib/phpexcel/PHPExcel/Writer/Excel2007','WriterPart.php',63],['backup/util/settings','setting_dependency.class.php',68],['backup/util/settings','setting_dependency.class.php',175],['backup/util/settings','setting_dependency.class.php',328],['backup/util/settings','setting_dependency.class.php',439],['backup/util/settings','setting_dependency.class.php',465],['backup/util/settings','setting_dependency.class.php',491],['backup/util/settings','setting_dependency.class.php',556],['backup/util/xml','xml_writer.class.php',57],['backup/util/xml','xml_writer.class.php',284],['enrol/imsenterprise','locallib.php',38],['enrol/imsenterprise','locallib.php',115],['lib/dml','moodle_database.php',139],['search/classes','base.php',69],['admin/tool/lp/classes/output','competency_summary.php',54],['lib','upgradelib.php',45],['lib','upgradelib.php',61],['lib','upgradelib.php',76],['lib','upgradelib.php',94],['lib','upgradelib.php',111],['lib/htmlpurifier/HTMLPurifier/AttrTransform','NameSync.php',11],['mod/workshop/form/rubric','lib.php',105],['grade','lib.php',103],['grade','lib.php',927],['grade','lib.php',1089],['grade','lib.php',2053],['grade','lib.php',2213],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',32],['lib/phpexcel/PHPExcel/Reader/Excel5','RC4.php',35],['lib/google/src/Google/Service','Datastore.php',46],['admin/tool/lpmigrate/classes','framework_processor.php',98],['lib/dtl','database_importer.php',61],['lib/horde/framework/Horde/Imap/Client/Password','Xoauth2.php',44],['badges/lib','awardlib.php',55],['backup/util/helper','backup_array_iterator.class.php',39],['admin/tool/monitor/classes','subscription.php',43],['question/type/calculated','edit_calculated_form.php',51],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','FileBasedStrategy.php',57],['lib/form','datetimeselector.php',72],['lib/horde/framework/Horde/Imap/Client','Base.php',153],['lib/classes','collator.php',58],['admin/tool/lp/classes','course_competency_statistics.php',48],['lib/google/src/Google/Service','Storage.php',57],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',28],['lib/lessphp/Tree','Paren.php',14],['mod/lti/classes','service_exception_handler.php',63],['lib/tcpdf/include/barcodes','pdf417.php',523],['mod/assign/feedback/offline','importgradeslib.php',66],['lib/filestorage','file_exceptions.php',36],['lib/filestorage','file_exceptions.php',57],['lib/filestorage','file_exceptions.php',89],['lib/filestorage','file_exceptions.php',108],['lib/filestorage','file_exceptions.php',129],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',100],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',17],['question/engine/upgrade','upgradelib.php',283],['question/engine/upgrade','upgradelib.php',384],['question/type/numerical','question.php',323],['lib/pear/PEAR','Exception.php',107],['course/format','renderer.php',44],['lib/dml','oci_native_moodle_recordset.php',34],['question/behaviour','behaviourtypebase.php',133],['lib/pear/HTML','QuickForm.php',246],['lib/pear/HTML','QuickForm.php',1979],['backup/util/structure','base_atom.class.php',41],['backup/util/structure','base_atom.class.php',114],['backup/util/structure','base_atom.class.php',135],['backup/util/structure','base_atom.class.php',156],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',39],['lib/google/src/Google/Auth','LoginTicket.php',37],['lib/adodb/drivers','adodb-csv.inc.php',41],['lib/adodb/drivers','adodb-csv.inc.php',196],['user/filters','yesno.php',33],['mod/wiki/parser','parser.php',98],['lib/htmlpurifier/HTMLPurifier/Token','Comment.php',19],['lib/phpexcel/PHPExcel/Calculation','FormulaParser.php',87],['backup/cc/cc_lib','cc_assesment_truefalse.php',27],['lib/htmlpurifier/HTMLPurifier','Encoder.php',10],['admin/tool/lpmigrate/classes/form','migrate_framework.php',45],['backup/util/xml/parser/tests','parser_test.php',797],['lib/htmlpurifier/HTMLPurifier/AttrTransform','EnumToCSS.php',34],['lib/tests','medialib_test.php',644],['lib/google/src/Google/Service','QPXExpress.php',39],['tag/classes/output','tagname.php',41],['lib/mustache/src/Mustache','Context.php',20],['lib/adodb/drivers','adodb-oracle.inc.php',32],['lib/adodb/drivers','adodb-oracle.inc.php',224],['backup/moodle2','restore_section_task.class.php',42],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Composite.php',25],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Nofollow.php',16],['mod/forum/classes/output','forum_post.php',110],['admin/tool/assignmentupgrade','locallib.php',50],['admin/tool/assignmentupgrade','locallib.php',93],['repository/googledocs','lib.php',65],['cache/stores/memcache','lib.php',120],['lib/filestorage','file_storage.php',78],['admin/tool/monitor/classes/output/managerules','renderable.php',56],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',45],['lib/form','duration.php',55],['lib','outputlib.php',480],['lib','outputlib.php',2038],['filter/tex','latex.php',13],['backup/moodle2','backup_course_task.class.php',39],['lib/adodb','adodb.inc.php',310],['lib/adodb','adodb.inc.php',3035],['lib/adodb','adodb.inc.php',3160],['lib/adodb','adodb.inc.php',3242],['lib/adodb','adodb.inc.php',4353],['lib/horde/framework/Horde/Support','Randomid.php',26],['lib/google/src/Google/Logger','File.php',51],['admin/roles/classes','allow_role_page.php',37],['mod/quiz/report/overview','overview_table.php',41],['lib/lessphp/Tree','Keyword.php',17],['lib/htmlpurifier/HTMLPurifier/Node','Comment.php',19],['question/type/ddmarker','questiontype.php',48],['mod/folder','renderer.php',159],['lib','portfoliolib.php',101],['tag/classes/output','tagcollsearchable.php',40],['webservice/soap/classes','wsdl.php',88],['lib/lessphp/Exception','Parser.php',30],['badges','renderer.php',973],['badges','renderer.php',1014],['badges','renderer.php',1078],['badges','renderer.php',1111],['badges','renderer.php',1137],['competency/classes/external','exporter.php',56],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',47],['lib/google/src/Google/Service','Genomics.php',63],['lib/phpexcel/PHPExcel/Writer','PDF.php',38],['lib/phpexcel/PHPExcel/Shared/trend','exponentialBestFitClass.php',125],['lib/google/src/Google/Service','Games.php',60],['backup/converter/moodle1','lib.php',725],['backup/converter/moodle1','lib.php',865],['backup/converter/moodle1','lib.php',1145],['backup/converter/moodle1','lib.php',1190],['backup/converter/moodle1','lib.php',1480],['backup/util/helper','restore_logs_processor.class.php',45],['backup/util/helper','restore_logs_processor.class.php',141],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Input.php',14],['lib/google/src/Google/Service','Licensing.php',40],['mod/workshop/form/comments','lib.php',99],['backup/util/settings/section','section_backup_setting.class.php',25],['lib/htmlpurifier/HTMLPurifier','Doctype.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Font.php',22],['lib/google/src/Google/Service','Fitness.php',58],['blocks/private_files','renderer.php',83],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',51],['enrol/flatfile','adminlib.php',35],['lib/xmldb','xmldb_object.php',55],['lib/google/src/Google/Service','Reports.php',47],['question/classes/statistics/responses','analysis_for_actual_response.php',70],['auth/pam','auth.php',53],['lib/horde/framework/Horde','Stream.php',50],['comment','lib.php',100],['lib/htmlpurifier/HTMLPurifier','URIParser.php',10],['lib/htmlpurifier/HTMLPurifier/Node','Text.php',35],['lib/phpexcel/PHPExcel/Worksheet','RowDimension.php',53],['lib/google/src/Google/Service','Gmail.php',64],['lib/google/src/Google/Service','Taskqueue.php',44],['lib/minify/lib/Minify','ImportProcessor.php',48],['lib/horde/framework/Horde/Mime','Related.php',32],['blocks','moodleblock.class.php',111],['lib/tcpdf','tcpdf_parser.php',92],['backup/util/plan','restore_structure_step.class.php',46],['blocks/rss_client/classes/output','channel_image.php',61],['lib/pear/HTML/QuickForm','hierselect.php',105],['question/type/numerical/tests','form_test.php',40],['badges/lib','backpacklib.php',40],['mod/workshop/allocation/manual','lib.php',51],['mod/quiz/report/responses','last_responses_table.php',39],['lib/simplepie','autoloader.php',62],['lib/spout/src/Spout/Common/Helper','StringHelper.php',21],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',121],['lib/pear/Crypt','CHAP.php',82],['lib/pear/Crypt','CHAP.php',170],['lib/pear/Crypt','CHAP.php',424],['lib/spout/src/Spout/Writer/Common/Helper','AbstractStyleHelper.php',22],['backup/util/xml/parser/processors','progressive_parser_processor.class.php',57],['mod/quiz/classes/question','qubaids_for_users_attempts.php',37],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',63],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',77],['lib/simplepie/library/SimplePie','gzdecode.php',186],['mod/wiki','renderer.php',540],['lib/adodb','adodb-active-recordx.inc.php',138],['availability/classes','result.php',46],['lib','accesslib.php',5352],['lib','accesslib.php',5897],['lib','accesslib.php',6167],['lib','accesslib.php',6408],['lib','accesslib.php',6595],['lib','accesslib.php',6827],['lib','accesslib.php',7049],['lib','accesslib.php',7291],['lib/phpexcel/PHPExcel/Shared/OLE','PPS.php',110],['grade/grading/form','lib.php',82],['grade/grading/form','lib.php',766],['question/engine','questionusage.php',78],['question/engine','questionusage.php',973],['auth/manual','auth.php',46],['question/engine/upgrade','behaviourconverters.php',78],['mod/wiki/diff','diff_nwiki.php',35],['mod/wiki/diff','diff_nwiki.php',50],['mod/wiki/diff','diff_nwiki.php',63],['mod/wiki/diff','diff_nwiki.php',76],['mod/wiki/diff','diff_nwiki.php',495],['mod/wiki/diff','diff_nwiki.php',640],['mod/wiki/diff','diff_nwiki.php',850],['mod/wiki/diff','diff_nwiki.php',901],['mod/wiki/diff','diff_nwiki.php',953],['lib/adodb/drivers','adodb-proxy.inc.php',28],['lib/classes/lock','file_lock_factory.php',57],['lib/google/src/Google/Auth','OAuth2.php',55],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',17],['lib/filebrowser','file_info_context_module.php',47],['auth/none','auth.php',34],['lib/simplepie/library/SimplePie/Cache','Base.php',70],['lib/htmlpurifier/HTMLPurifier','Queue.php',24],['lib/horde/framework/Horde/Text','Flowed.php',75],['admin/tool/log/store/legacy/classes/log','store.php',33],['lib/mustache/src/Mustache','HelperCollection.php',19],['backup/util/structure','backup_structure_processor.class.php',45],['backup/util/structure','backup_structure_processor.class.php',133],['admin/tool/lp/classes/output','related_competencies.php',47],['mod/quiz/classes/question/bank','custom_view.php',44],['files','renderer.php',1083],['lib/form','text.php',47],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',398],['backup/cc','cc112moodle.php',59],['admin/tool/cohortroles/classes/output','cohort_role_assignments_table.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Envelope.php',46],['lib/google/src/Google/Service','Logging.php',39],['lib/lessphp/Tree','Expression.php',16],['mod/lti/classes/local/ltiservice','service_base.php',63],['lib/phpexcel/PHPExcel/Reader','HTML.php',118],['search/engine/solr/classes','schema.php',60],['backup/util/xml/parser/processors','simplified_parser_processor.class.php',46],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',50],['lib/adodb/drivers','adodb-ado5.inc.php',42],['lib/adodb/drivers','adodb-ado5.inc.php',380],['mod/assign/feedback/editpdf/classes','comment.php',58],['cache/classes','interfaces.php',473],['lib/phpexcel/PHPExcel/Worksheet','Protection.php',157],['repository/merlot','lib.php',37],['lib/adodb/drivers','adodb-firebird.inc.php',69],['backup/util/settings','backup_setting.class.php',43],['lib/adodb/drivers','adodb-fbsql.inc.php',28],['lib/adodb/drivers','adodb-fbsql.inc.php',167],['mnet/xmlrpc','serverlib.php',674],['webservice/soap','lib.php',45],['admin/tool/log/store/database/classes/log','store.php',47],['lib/google/src/Google/Service','Doubleclicksearch.php',43],['lib/form','passwordunmask.php',46],['lib/lessphp/Tree','Variable.php',20],['report/log/classes','renderable.php',96],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',43],['question/classes/bank','view.php',70],['grade/report/singleview/classes/local/ui','range.php',38],['lib/simplepie/library/SimplePie/Cache','MySQL.php',80],['admin/roles/classes','define_role_table_basic.php',31],['backup/cc/cc_lib','cc_converter_resource.php',28],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',78],['blocks/rss_client','editfeed.php',36],['admin/tool/lpmigrate/classes/output','migrate_framework_results.php',55],['blocks/lp/classes/output','competencies_to_review_page.php',49],['lib/horde/framework/Horde/Crypt/Blowfish/Php','Base.php',318],['backup/util/loggers','base_logger.class.php',42],['backup/util/loggers','base_logger.class.php',187],['mod/assign/feedback/file','renderable.php',44],['backup/cc/cc_lib','cc_utils.php',313],['backup/cc/cc_lib','cc_utils.php',381],['backup/cc/cc_lib','cc_utils.php',437],['lib/adodb/drivers','adodb-db2.inc.php',66],['lib/adodb/drivers','adodb-db2.inc.php',731],['lib/adodb','adodb-xmlschema03.inc.php',136],['lib/adodb','adodb-xmlschema03.inc.php',270],['lib/adodb','adodb-xmlschema03.inc.php',678],['lib/adodb','adodb-xmlschema03.inc.php',823],['lib/adodb','adodb-xmlschema03.inc.php',1081],['lib/adodb','adodb-xmlschema03.inc.php',1399],['repository/youtube','lib.php',58],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',38],['auth/cas/CAS/CAS','GracefullTerminationException.php',48],['lib/adodb/drivers','adodb-sybase_ase.inc.php',25],['lib/adodb/drivers','adodb-sybase_ase.inc.php',115],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Background.php',20],['lib/adodb','adodb-memcache.lib.inc.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','FrameTarget.php',19],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',118],['lib/minify/lib/MrClay/Cli','Arg.php',82],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',117],['lib/simplepie','moodle_simplepie.php',50],['lib/simplepie','moodle_simplepie.php',121],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','FontFamily.php',11],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',80],['lib/spout/src/Spout/Common/Helper','FileSystemHelper.php',22],['lib/pear/HTML/QuickForm','button.php',37],['lib/google/src/Google/Service','Autoscaler.php',46],['lib/mustache/src/Mustache','Engine.php',63],['lib/google/src/Google/Http','MediaFileUpload.php',75],['lib/phpexcel/PHPExcel','Worksheet.php',327],['mod/assign','gradingtable.php',68],['lib/google/src/Google/Service','AdExchangeSeller.php',53],['question/engine/tests','helpers.php',582],['question/engine/tests','helpers.php',594],['question/engine/tests','helpers.php',608],['question/engine/tests','helpers.php',623],['question/engine/tests','helpers.php',637],['question/engine/tests','helpers.php',652],['question/engine/tests','helpers.php',665],['question/engine/tests','helpers.php',676],['question/engine/tests','helpers.php',1196],['repository/webdav','lib.php',38],['tag/classes/output','tagisstandard.php',39],['lib/google/src/Google/Service','Appsactivity.php',52],['badges/criteria','award_criteria_course.php',47],['lib','searchlib.php',53],['lib','searchlib.php',95],['lib/lessphp/Output','Mapped.php',39],['availability/classes','tree.php',118],['lib/lessphp/Tree','Javascript.php',20],['lib/horde/framework/Horde/Imap/Client','Cache.php',53],['lib/htmlpurifier/HTMLPurifier','AttrCollections.php',16],['lib/mustache/src/Mustache/Loader','InlineLoader.php',56],['repository/url','lib.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',293],['lib/lessphp/Tree','Ruleset.php',45],['tag/classes/output','tagindex.php',52],['backup/util/ui','backup_ui_stage.class.php',43],['backup/util/ui','backup_ui_stage.class.php',79],['backup/util/ui','backup_ui_stage.class.php',234],['backup/util/ui','backup_ui_stage.class.php',387],['backup/util/ui','backup_ui_stage.class.php',516],['backup/util/ui','backup_ui_stage.class.php',575],['grade/report/singleview/classes/local/screen','screen.php',67],['lib/tcpdf/include/barcodes','datamatrix.php',229],['lib/horde/framework/Horde/Imap/Client/Socket','Catenate.php',37],['lib/google/src/Google/Service','Prediction.php',51],['lib/classes/output','notification.php',101],['lib/lessphp/Tree','Unit.php',16],['backup/util/settings/course','course_backup_setting.class.php',25],['lib/spout/src/Spout/Writer','AbstractWriter.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','DenyElementDecorator.php',21],['lib','outputfactories.php',120],['lib','outputfactories.php',367],['lib','dtllib.php',66],['mod/assign','assignmentplugin.php',50],['mnet/service/enrol','locallib.php',48],['mnet/service/enrol','locallib.php',466],['mnet/service/enrol','locallib.php',537],['backup/cc/cc_lib','cc_version11.php',57],['availability/condition/completion/classes','condition.php',48],['admin/roles/classes','allow_override_page.php',31],['mod/workshop/allocation','lib.php',103],['lib/htmlpurifier/HTMLPurifier/AttrTransform','BoolToCSS.php',24],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',59],['lib/spout/src/Spout/Reader/Wrapper','SimpleXMLElement.php',23],['lib/google/src/Google/Service','SiteVerification.php',43],['lib/phpexcel/PHPExcel/Calculation','Function.php',64],['availability/classes','capability_checker.php',49],['lib/google/src/Google/Service','Drive.php',76],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',12],['lib/phpexcel/PHPExcel/Shared/JAMA','LUDecomposition.php',56],['lib','setuplib.php',67],['lib','setuplib.php',113],['lib','setuplib.php',165],['lib','setuplib.php',184],['lib','setuplib.php',199],['lib','setuplib.php',219],['lib','setuplib.php',249],['lib','setuplib.php',271],['lib','setuplib.php',287],['lib','setuplib.php',309],['lib','setuplib.php',328],['lib','setuplib.php',346],['lib/form','textarea.php',50],['webservice/soap','locallib.php',57],['availability/classes','info.php',55],['lib/tcpdf','tcpdf_barcodes_1d.php',58],['lib/spout/src/Spout/Reader/XLSX/Helper','SheetHelper.php',49],['filter/urltolink/tests','filter_test.php',209],['lib/simplepie/library/SimplePie','Category.php',81],['admin/tool/lp/classes/output','manage_competencies_page.php',65],['lib/markdown','Markdown.php',99],['mod/assign','locallib.php',160],['mod/assign','locallib.php',8131],['lib/adodb/drivers','adodb-ldap.inc.php',48],['lib/adodb/drivers','adodb-ldap.inc.php',297],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',32],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',373],['lib','odslib.class.php',42],['lib','odslib.class.php',124],['lib','odslib.class.php',422],['lib','odslib.class.php',827],['lib/horde/framework/Horde/Crypt/Blowfish','Base.php',56],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',36],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',42],['lib/lessphp/Tree','Quoted.php',20],['mod/lesson','mod_form.php',36],['blocks/rss_client/classes/output','item.php',89],['lib/google/src/Google/Service','IdentityToolkit.php',38],['lib/horde/framework/Horde/Stream','Temp.php',25],['tag/classes/output','tagflag.php',39],['admin/tool/monitor/classes/output/managesubs','rules.php',56],['lib/htmlpurifier/HTMLPurifier/ChildDef','Table.php',57],['lib/behat/form_field','behat_form_field.php',59],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',93],['lib/spout/src/Spout/Reader/ODS/Helper','CellValueFormatter.php',42],['tag/classes','collections_table.php',36],['lib/google/src/Google/Service','Spectrum.php',38],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Length.php',19],['admin/tool/lp/classes/output','user_competency_summary.php',49],['lib/phpexcel/PHPExcel','NamedRange.php',65],['lib/pear/HTML/QuickForm','image.php',36],['lib/htmlpurifier/HTMLPurifier/AttrDef/URI','Host.php',15],['lib/form','searchableselector.php',44],['lib/phpexcel/PHPExcel/Shared/JAMA','SingularValueDecomposition.php',52],['lib/adodb/drivers','adodb-oci805.inc.php',51],['lib/google/src/Google','Service.php',28],['lib/google/src/Google/IO','Abstract.php',50],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',46],['lib/form','header.php',45],['question/type/randomsamatch/tests','helper.php',121],['mod/workshop/form/accumulative','lib.php',99],['lib/phpexcel/PHPExcel/Shared/trend','linearBestFitClass.php',89],['lib/form','submit.php',41],['report/log/classes','table_log.php',45],['admin/roles/classes','admins_potential_selector.php',30],['question/classes/engine/variants','least_used_strategy.php',51],['question/engine/upgrade','logger.php',42],['question/engine/upgrade','logger.php',87],['mod/data','lib.php',68],['mod/data','lib.php',2278],['mod/data','lib.php',2552],['mod/data','lib.php',2573],['backup/util/xml/parser/processors','grouped_parser_processor.class.php',67],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportPop3.php',26],['mod/scorm','renderer.php',129],['lib/phpunit/classes','advanced_testcase.php',45],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',41],['backup/cc/cc_lib','cc_version1.php',57],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','LinkTypes.php',21],['tag/classes','areas_table.php',36],['lib/phpexcel/PHPExcel/Shared/trend','powerBestFitClass.php',125],['lib/portfolio/formats/leap2a','lib.php',62],['lib/portfolio/formats/leap2a','lib.php',258],['lib/portfolio/formats/leap2a','lib.php',503],['lib/google/src/Google/Service','Proximitybeacon.php',42],['lib/pear','PEAR.php',139],['lib/pear','PEAR.php',818],['competency/classes/external','persistent_exporter.php',42],['lib/google/src/Google/Service','Groupssettings.php',40],['lib/phpexcel/PHPExcel/Reader','CSV.php',87],['lib/horde/framework/Horde/Exception','LastError.php',16],['lib/google/src/Google/Service','Directory.php',134],['lib/google/src/Google/Service','Fusiontables.php',48],['question/type/missingtype','edit_missingtype_form.php',38],['lib/google/src/Google/Service','AdSenseHost.php',49],['lib/lessphp/Tree','Directive.php',20],['auth/ldap','auth.php',119],['auth/cas/CAS/CAS','CookieJar.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',245],['availability/condition/date/classes','condition.php',52],['lib/horde/framework/Horde/Mime','Mail.php',93],['lib','outputactions.php',60],['lib','outputactions.php',91],['lib','outputactions.php',148],['lib/horde/framework/Horde/Crypt/Blowfish','Mcrypt.php',47],['lib/classes','string_manager_standard.php',53],['repository/skydrive','microsoftliveapi.php',50],['user/filters','globalrole.php',35],['enrol/lti/ims-blti','OAuth.php',16],['enrol/lti/ims-blti','OAuth.php',32],['enrol/lti/ims-blti','OAuth.php',187],['enrol/lti/ims-blti','OAuth.php',451],['course/classes/output','course_module_name.php',46],['lib/google/src/Google/Service','Plus.php',52],['lib/horde/framework/Horde/Mime','Mdn.php',35],['lib/pear/HTML/QuickForm','html.php',36],['repository/s3','S3.php',193],['repository/s3','S3.php',2018],['repository/s3','S3.php',2374],['lib/spout/src/Spout/Reader/XLSX/Helper','SharedStringsHelper.php',39],['question/classes/bank/search','hidden_condition.php',42],['lib/htmlpurifier/HTMLPurifier/ChildDef','Empty.php',22],['lib/pear/HTML/QuickForm','element.php',73],['question/classes/statistics/responses','analysis_for_subpart.php',50],['admin/tool/log/classes','setting_managestores.php',30],['lib/google/src/Google/Service','Mirror.php',49],['lib/adodb/drivers','adodb-db2ora.inc.php',80],['lib/minify/lib/HTTP','Encoder.php',75],['mod/feedback/classes','completion.php',47],['admin/tool/uploadcourse/classes','processor.php',122],['lib/lessphp','Parser.php',78],['lib/adodb/drivers','adodb-sapdb.inc.php',36],['lib/adodb/drivers','adodb-sapdb.inc.php',179],['lib/ddl','sql_generator.php',175],['lib/google/src/Google/Service','AndroidEnterprise.php',51],['admin/tool/lp/classes/output','template_competencies_page.php',70],['lib/horde/framework/Horde/Support','ObjectStub.php',29],['mod/assignment/backup/moodle1','lib.php',223],['blocks','edit_form.php',47],['lib/simplepie/library/SimplePie/Cache','Memcache.php',81],['mod/quiz/report/statistics','statistics_question_table.php',49],['mod/workshop/form/numerrors','lib.php',102],['mod/quiz/classes','repaginate.php',49],['lib/classes/session','memcached.php',51],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','Root.php',43],['lib/phpexcel/PHPExcel/Writer/PDF','Core.php',206],['mod/workshop','mod_form.php',43],['mod/assign/feedback/editpdf/fpdi','pdf_context.php',48],['availability/condition/profile/classes','condition.php',73],['lib/horde/framework/Horde/Imap/Client','DateTime.php',29],['auth/cas/CAS/CAS','Client.php',862],['lib/xhprof','xhprof_moodle.php',788],['lib/dtl','file_xml_database_exporter.php',36],['course','lib.php',3061],['lib/adodb/drivers','adodb-mssqlpo.inc.php',54],['lib/xmldb','xmldb_table.php',49],['lib/adodb/perf','perf-postgres.inc.php',92],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Filter.php',15],['question/type/ddmarker','shapes.php',40],['question/type/ddmarker','shapes.php',203],['question/type/ddmarker','shapes.php',267],['question/type/ddmarker','shapes.php',332],['question/type/ddmarker','shapes.php',470],['mod/lti/classes/local/ltiservice','response.php',58],['backup/util/helper','restore_users_parser_processor.class.php',43],['lib/pear/HTML','Common.php',79],['mod/glossary','locallib.php',481],['lib/adodb/perf','perf-mssqlnative.inc.php',70],['lib/adodb/perf','perf-mssql.inc.php',70],['backup/util/plan','base_plan.class.php',39],['backup/util/plan','base_plan.class.php',215],['backup/util/plan','restore_task.class.php',32],['backup/util/plan','restore_task.class.php',121],['lib/classes/event','base.php',124],['lib/form','checkbox.php',46],['admin/roles/classes','permissions_table.php',38],['lib/pear/HTML/QuickForm','submit.php',37],['auth/fc','auth.php',37],['enrol/ldap','settingslib.php',32],['enrol/ldap','settingslib.php',90],['enrol/ldap','settingslib.php',204],['lib/minify/lib/Minify/Cache','Memcache.php',22],['lib/lessphp/Tree','Condition.php',18],['admin/tool/lp/classes/output','plans_page.php',59],['lib/mustache/src/Mustache','Autoloader.php',19],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',52],['lib/phpexcel/PHPExcel','Comment.php',93],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','AlphaValue.php',6],['lib/lessphp/Tree','Url.php',17],['mod/lesson','override_form.php',58],['lib/form','button.php',45],['admin/tool/lp/classes/output','manage_templates_page.php',56],['lib/google/src/Google/Service','Playmoviespartner.php',44],['backup/util/ui','base_ui_stage.class.php',67],['backup/cc/cc_lib','cc_converters.php',75],['lib/dtl','database_mover.php',33],['enrol','locallib.php',125],['enrol','locallib.php',1256],['enrol','locallib.php',1379],['enrol','locallib.php',1430],['enrol','locallib.php',1463],['lib/htmlpurifier/HTMLPurifier','URI.php',58],['backup/moodle2','restore_course_task.class.php',41],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',40],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',221],['lib','xmlize.php',31],['lib','googleapi.php',52],['lib','googleapi.php',243],['grade/report/singleview/classes/local/ui','element.php',47],['lib/html2text','lib.php',43],['user/filters','lib.php',52],['user/filters','lib.php',272],['auth/cas/CAS/CAS/PGTStorage','Db.php',122],['lib/classes/lock','db_record_lock_factory.php',61],['lib/pear/HTML/QuickForm','link.php',47],['backup/cc/cc_lib','cc_asssesment.php',290],['backup/cc/cc_lib','cc_asssesment.php',345],['backup/cc/cc_lib','cc_asssesment.php',364],['backup/cc/cc_lib','cc_asssesment.php',415],['backup/cc/cc_lib','cc_asssesment.php',476],['backup/cc/cc_lib','cc_asssesment.php',486],['backup/cc/cc_lib','cc_asssesment.php',561],['backup/cc/cc_lib','cc_asssesment.php',585],['backup/cc/cc_lib','cc_asssesment.php',635],['backup/cc/cc_lib','cc_asssesment.php',668],['backup/cc/cc_lib','cc_asssesment.php',693],['backup/cc/cc_lib','cc_asssesment.php',788],['backup/cc/cc_lib','cc_asssesment.php',814],['backup/cc/cc_lib','cc_asssesment.php',838],['backup/cc/cc_lib','cc_asssesment.php',965],['backup/cc/cc_lib','cc_asssesment.php',971],['backup/cc/cc_lib','cc_asssesment.php',986],['backup/cc/cc_lib','cc_asssesment.php',1003],['backup/cc/cc_lib','cc_asssesment.php',1017],['backup/cc/cc_lib','cc_asssesment.php',1045],['backup/cc/cc_lib','cc_asssesment.php',1186],['backup/cc/cc_lib','cc_asssesment.php',1263],['backup/cc/cc_lib','cc_asssesment.php',1317],['backup/cc/cc_lib','cc_asssesment.php',1389],['backup/cc/cc_lib','cc_asssesment.php',1451],['backup/cc/cc_lib','cc_asssesment.php',1558],['backup/cc/cc_lib','cc_asssesment.php',1620],['backup/cc/cc_lib','cc_asssesment.php',1648],['backup/cc/cc_lib','cc_asssesment.php',1716],['backup/cc/cc_lib','cc_asssesment.php',2155],['backup/cc/cc_lib','cc_asssesment.php',2264],['backup/cc/cc_lib','cc_asssesment.php',2469],['lib/phpunit/classes','hint_resultprinter.php',37],['lib/horde/framework/Horde/Mail/Transport','Mail.php',53],['auth/pop3','auth.php',35],['lib/adodb/drivers','adodb-oci8.inc.php',106],['lib/adodb/drivers','adodb-oci8.inc.php',1539],['lib/adodb/drivers','adodb-oci8.inc.php',1805],['lib/classes/session','database.php',52],['backup/util/ui','restore_ui_components.php',81],['backup/util/ui','restore_ui_components.php',287],['backup/util/ui','restore_ui_components.php',382],['question/classes/bank/search','category_condition.php',60],['lib/google/src/Google/Auth','AssertionCredentials.php',53],['backup/util/plan','restore_plan.class.php',43],['backup/util/plan','restore_plan.class.php',203],['backup/util/xml/parser/processors','findpaths_parser_processor.class.php',35],['lib/phpexcel/PHPExcel/CalcEngine','Logger.php',63],['lib/jabber/XMPP','Log.php',67],['lib/horde/framework/Horde/Imap/Client/Exception','ServerResponse.php',44],['lib/lessphp/Tree','Assignment.php',15],['lib/dtl','string_xml_database_importer.php',34],['admin/tool/lp/classes/output','manage_competency_frameworks_page.php',62],['question/type/calculated','question.php',188],['question/type/calculated','question.php',303],['repository/recent','lib.php',39],['grade/report/singleview/classes/local/ui','text_attribute.php',42],['admin/webservice','lib.php',38],['lib','coursecatlib.php',194],['lib','coursecatlib.php',2782],['lib/google/src/Google/Service','Cloudtrace.php',43],['lib','filterlib.php',73],['lib','filterlib.php',377],['lib','filterlib.php',456],['lib/classes/lock','lock_factory.php',39],['lib/filebrowser','file_info_context_course.php',39],['lib/filebrowser','file_info_context_course.php',492],['lib/filebrowser','file_info_context_course.php',596],['lib/filebrowser','file_info_context_course.php',745],['enrol','renderer.php',426],['enrol','renderer.php',723],['question/classes/statistics/questions','calculated_for_subquestion.php',57],['backup/moodle2','backup_format_plugin.class.php',40],['admin/tool/lp/classes','course_competency_rule_form_element.php',45],['auth/cas/CAS/CAS','ProxyTicketException.php',46],['lib/phpunit/classes','basic_testcase.php',39],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',49],['backup/util/dbops','backup_dbops.class.php',37],['admin/tool/customlang','locallib.php',44],['admin/tool/customlang','locallib.php',405],['admin/tool/customlang','locallib.php',471],['backup/util/structure','backup_optigroup_element.class.php',51],['mod/quiz/report/grading','gradingsettings_form.php',44],['backup/util/plan','restore_step.class.php',32],['backup/util/plan','restore_step.class.php',104],['lib/form','hidden.php',44],['repository/filesystem','lib.php',48],['backup/controller','backup_controller.class.php',68],['backup/controller','backup_controller.class.php',409],['backup/util/helper','restore_log_rule.class.php',62],['tag/classes','tag.php',77],['lib/htmlpurifier/HTMLPurifier/AttrTransform','SafeParam.php',27],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',38],['lib/spout/src/Spout/Writer/Style','StyleBuilder.php',19],['lib/dml','sqlsrv_native_moodle_database.php',53],['user/filters','date.php',40],['auth/nologin','auth.php',35],['lib/google/src/Google','Model.php',35],['lib/horde/framework/Horde/Imap/Client/Socket','ClientSort.php',37],['lib/horde/framework/Horde/Imap/Client/Exception','SearchCharset.php',34],['lib/horde/framework/Horde/Support','StringStream.php',30],['lib/adodb/drivers','adodb-mysqli.inc.php',66],['lib/adodb/drivers','adodb-mysqli.inc.php',887],['lib/adodb/drivers','adodb-mysqli.inc.php',1193],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ImportantDecorator.php',21],['lib/form','questioncategory.php',46],['lib/mustache/src/Mustache','Template.php',29],['backup/util/structure','base_nested_element.class.php',44],['backup/util/structure','base_nested_element.class.php',258],['lib/google/src/Google/Logger','Abstract.php',123],['backup/cc/cc_lib','cc_general.php',38],['lib/phpexcel/PHPExcel','ReferenceHelper.php',58],['lib/pear/HTML/QuickForm','password.php',37],['lib/dml','moodle_transaction.php',40],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef','Switch.php',29],['repository/flickr','lib.php',51],['lib/form','grading.php',57],['lib/classes/update','api.php',71],['backup/cc/cc_lib','cc_converter_lti.php',29],['backup/moodle2','backup_subplugin.class.php',44],['lib/portfolio','caller.php',67],['lib/classes/progress','display_if_slow.php',60],['lib/adodb/perf','perf-informix.inc.php',66],['lib/classes','chart_base.php',52],['lib/lessphp/Tree','Media.php',18],['lib/spout/src/Spout/Common/Escaper','XLSX.php',19],['grade/export/ods','grade_export_ods.php',24],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Length.php',23],['lib/google/src/Google/Service','Calendar.php',50],['lib/form','group.php',44],['lib/phpexcel/PHPExcel/Writer','OpenDocument.php',44],['lib/pear/HTML/QuickForm/Renderer','Object.php',75],['admin/tool/lp/classes/output','user_evidence_page.php',48],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',54],['grade/export/xls','grade_export_xls.php',24],['lib/classes/output','mustache_pix_helper.php',43],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',46],['lib/google/src/Google/Auth','ComputeEngine.php',35],['cache/stores/session','lib.php',131],['lib/mustache/src/Mustache/Logger','StreamLogger.php',44],['admin/tool/log/store/database/backup/moodle2','backup_logstore_database_nested_element.php',43],['user','renderer.php',220],['lib/htmlpurifier/HTMLPurifier/ChildDef','Required.php',23],['availability/condition/grade/classes','condition.php',46],['lib/lessphp/Tree','RulesetCall.php',14],['blocks/rss_client/classes/output','feed.php',75],['lib/form','select.php',47],['lib/htmlpurifier/HTMLPurifier','ContentSets.php',33],['lib/lessphp/Visitor','toCSS.php',13],['lib','outputfragmentrequirementslib.php',40],['backup/util/ui','restore_moodleform.class.php',34],['lib/google/src/Google/Service','Cloudbilling.php',43],['lib/google/src/Google/Service','PlusDomains.php',72],['lib','externallib.php',37],['lib','externallib.php',531],['lib','externallib.php',562],['lib','externallib.php',593],['lib','externallib.php',622],['lib','externallib.php',648],['lib','externallib.php',778],['lib','externallib.php',813],['lib','externallib.php',984],['lib','externallib.php',1177],['blog','locallib.php',71],['blog','locallib.php',564],['blog','locallib.php',847],['blog','locallib.php',892],['blog','locallib.php',965],['blog','locallib.php',1016],['blog','locallib.php',1041],['blog','locallib.php',1051],['blog','locallib.php',1063],['blog','locallib.php',1084],['lib/phpexcel/PHPExcel/Worksheet','ColumnDimension.php',53],['auth/cas','auth.php',39],['lib','lexer.php',41],['lib','lexer.php',145],['lib','lexer.php',217],['lib/phpexcel/PHPExcel/Shared/JAMA','QRDecomposition.php',48],['lib/google/src/Google/Service','Exception.php',34],['lib/htmlpurifier/HTMLPurifier','Printer.php',21],['tag/classes/output','tagcloud.php',49],['lib/google/src/Google/Service','Storagetransfer.php',44],['user/filters','select.php',46],['cache/stores/mongodb','lib.php',116],['admin/tool/lp/classes/output','course_competencies_page.php',73],['lib/google/src/Google/Cache','Null.php',28],['lib','graphlib.php',1176],['lib/phpexcel/PHPExcel/Style','Protection.php',49],['lib/google/src/Google/Service','GamesConfiguration.php',42],['repository/dropbox','locallib.php',46],['lib/phpexcel/PHPExcel/Style','Alignment.php',100],['lib/htmlpurifier/HTMLPurifier','Language.php',63],['cache/stores/file','lib.php',117],['tag/classes/output','tagareashowstandard.php',41],['question/type/multianswer','edit_multianswer_form.php',63],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',22],['mod/assign','renderable.php',41],['mod/assign','renderable.php',71],['mod/assign','renderable.php',103],['mod/assign','renderable.php',139],['mod/assign','renderable.php',191],['mod/assign','renderable.php',242],['mod/assign','renderable.php',291],['mod/assign','renderable.php',395],['mod/assign','renderable.php',531],['mod/assign','renderable.php',586],['mod/assign','renderable.php',670],['mod/assign','renderable.php',707],['mod/assign','renderable.php',747],['mod/assign','renderable.php',800],['mod/assign','renderable.php',854],['lib/form','selectwithlink.php',56],['backup/moodle2','backup_activity_task.class.php',45],['lib/phpmailer','class.phpmailer.php',633],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',39],['auth/db','auth.php',36],['lib/lessphp/Tree','Value.php',14],['lib/form','course.php',62],['question/engine','questionattemptstep.php',97],['question/engine','questionattemptstep.php',608],['cohort','locallib.php',37],['cohort','locallib.php',101],['badges/criteria','award_criteria.php',127],['lib/adodb/perf','perf-mysql.inc.php',86],['cache/stores/memcached','lib.php',133],['grade/report/singleview/classes/local/ui','empty_element.php',38],['lib/google/src/Google/Service','AppState.php',40],['lib/adodb/drivers','adodb-odbc_oracle.inc.php',107],['lib/pear/HTML/QuickForm/Renderer','Default.php',139],['tag/classes/output','tag.php',46],['question','previewlib.php',122],['backup/util/loggers','database_logger.class.php',40],['mod/forum/classes','potential_subscriber_selector.php',47],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',15],['lib/phpexcel/PHPExcel/Reader','SYLK.php',67],['lib/form','submitlink.php',47],['backup/util/dbops','restore_dbops.class.php',1788],['lib/xmldb','xmldb_index.php',56],['question','category_class.php',58],['question','category_class.php',160],['lib/google/src/Google/Service','Webfonts.php',38],['webservice/xmlrpc','locallib.php',41],['admin/roles/classes','check_users_selector.php',38],['lib/htmlpurifier/HTMLPurifier/AttrTransform','ImgSpace.php',24],['user/profile/field/checkbox','field.class.php',33],['lib/form','cancel.php',47],['lib/google/src/Google/Service','Resourceviews.php',57],['lib/phpexcel/PHPExcel/Style','Font.php',100],['lib/portfolio','plugin.php',445],['calendar','lib.php',2003],['calendar','lib.php',2774],['mod/wiki','pagelib.php',93],['mod/wiki','pagelib.php',380],['mod/wiki','pagelib.php',981],['mod/wiki','pagelib.php',1190],['mod/wiki','pagelib.php',2194],['mod/wiki','pagelib.php',2422],['tag/classes/output','tagfeed.php',43],['tag/classes/output','tagareaenabled.php',38],['backup/util/xml/parser/processors','selective_like_parser_processor.class.php',35],['mod/workshop','locallib.php',183],['mod/workshop','locallib.php',2976],['mod/workshop','locallib.php',3411],['mod/workshop','locallib.php',3647],['mod/workshop','locallib.php',3889],['mod/workshop','locallib.php',3975],['mod/workshop','locallib.php',4060],['mod/workshop','locallib.php',4079],['lib/form','advcheckbox.php',48],['backup/cc/cc_lib','cc_assesment_sfib.php',27],['cohort/classes/output','cohortidnumber.php',37],['lib/adodb/drivers','adodb-ado.inc.php',42],['lib/adodb/drivers','adodb-ado.inc.php',346],['lib/form','filepicker.php',53],['mod/assign','adminlib.php',41],['mod/assign','adminlib.php',102],['lib/tests/fixtures','test_renderer_factory.php',41],['backup/cc/cc_lib','cc_converter_label.php',28],['lib/htmlpurifier/HTMLPurifier','Lexer.php',152],['grade/report/singleview','lib.php',69],['backup/cc/cc_lib','cc_converter_page.php',28],['lib/google/src/Google/Logger','Psr.php',39],['lib/simplepie/library/SimplePie/HTTP','Parser.php',131],['backup/util/plan','backup_step.class.php',32],['backup/util/plan','backup_step.class.php',55],['lib/lessphp/Tree','Import.php',30],['lib/jabber/XMPP','XMPP_Old.php',45],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',37],['lib/google/src/Google/Service','Classroom.php',60],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',875],['admin/tool/lp/classes/external','competency_path_exporter.php',38],['cohort/classes/output','cohortname.php',37],['grade/report/overview','lib.php',76],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',66],['admin/roles/classes','admins_existing_selector.php',30],['lib/phpunit/classes','arraydataset.php',45],['question/engine','questionattempt.php',166],['question/engine','questionattempt.php',1532],['question/engine','questionattempt.php',1618],['question/engine','questionattempt.php',1703],['lib/horde/framework/Horde/Support','Uuid.php',23],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',27],['webservice/rest','lib.php',47],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',79],['backup/util/xml/output','memory_xml_output.class.php',37],['repository/flickr_public','image.php',34],['mod/lti/classes/local/ltiservice','resource_base.php',62],['admin/tool/lp/classes/output','template_plans_table.php',53],['mod/quiz','mod_form.php',48],['lib/simplepie/library/SimplePie','Caption.php',98],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Multiple.php',33],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',20],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',30],['lib/htmlpurifier/HTMLPurifier/Token','Tag.php',33],['backup/moodle2','backup_theme_plugin.class.php',61],['mod/chat','chatd.php',78],['mod/chat','chatd.php',103],['lib/phpexcel/PHPExcel','DocumentSecurity.php',65],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',21],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',45],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',49],['lib/lessphp/Tree','Operation.php',19],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',461],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',1699],['backup/cc/cc_lib','cc_converter_folder.php',28],['backup/util/helper','restore_roles_parser_processor.class.php',39],['lib/simplepie/library/SimplePie','Locator.php',68],['lib/google/src/Google/Service','SQLAdmin.php',50],['lib/lessphp/Tree','DetachedRuleset.php',15],['admin/tool/assignmentupgrade','upgradableassignmentstable.php',49],['backup/cc','validator.php',30],['backup/cc','validator.php',116],['backup/cc','validator.php',202],['backup/cc','validator.php',230],['backup/cc','validator.php',236],['backup/cc','validator.php',242],['backup/cc','validator.php',248],['backup/cc','validator.php',254],['backup/cc','validator.php',260],['lib/horde/framework/Horde/Imap/Client/Interaction','Client.php',34],['mod/quiz','override_form.php',58],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',57],['lib/htmlpurifier/HTMLPurifier','Length.php',41],['backup/util/helper','restore_decode_rule.class.php',47],['backup/util/helper','restore_decode_rule.class.php',192],['lib/horde/framework/Horde/Imap/Client/Data','Sync.php',133],['lib/phpexcel/PHPExcel/Shared/trend','logarithmicBestFitClass.php',97],['lib/adodb/perf','perf-db2.inc.php',61],['lib/phpexcel/PHPExcel/Style','Supervisor.php',44],['lib/htmlpurifier/HTMLPurifier/AttrTransform','TargetBlank.php',17],['lib/ddl','database_manager.php',48],['lib/mustache/src/Mustache/Exception','UnknownFilterException.php',22],['admin/roles/classes','define_role_table_advanced.php',46],['lib/dml','oci_native_moodle_temptables.php',40],['lib/horde/framework/Horde/Stream','Existing.php',28],['enrol/manual','locallib.php',37],['enrol/manual','locallib.php',102],['availability/classes','multiple_messages.php',56],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',55],['admin/roles/classes','override_permissions_table_advanced.php',31],['lib/pear/Net','GeoIP.php',323],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',31],['lib/form','modgrade.php',78],['admin/tool/log/store/database/backup/moodle2','restore_logstore_database_subplugin.class.php',40],['cache/classes','config.php',80],['lib/pear/HTML/QuickForm','hidden.php',37],['question/type/calculated','datasetitems_form.php',72],['lib/tests','navigationlib_test.php',554],['lib/tests','navigationlib_test.php',612],['lib/tests','navigationlib_test.php',639],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Number.php',18],['lib/tests','completionlib_test.php',882],['admin/tool/generator/classes','site_backend.php',58],['lib/jabber/XMPP','XMLStream.php',171],['lib/simplepie/library/SimplePie','Sanitize.php',75],['cache/classes','factory.php',149],['lib/minify/lib/Minify/Cache','WinCache.php',20],['user/classes/output/myprofile','node.php',82],['lib/horde/framework/Horde/Stream','TempString.php',40],['lib/adodb/drivers','adodb-borland_ibase.inc.php',83],['mod/forum','locallib.php',55],['mod/forum','locallib.php',419],['mod/lti/service/memberships/classes/local/resource','contextmemberships.php',44],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',262],['lib/classes/update','code_manager.php',57],['search/engine/solr/classes','engine.php',103],['lib/horde/framework/Horde/Imap/Client/Interaction/Server','Tagged.php',36],['lib/google/src/Google/Service','Compute.php',89],['lib/phpexcel/PHPExcel/Style','Borders.php',113],['lib','completionlib.php',243],['lib/google/src/Google/Service','Pubsub.php',44],['lib/adodb/drivers','adodb-ads.inc.php',69],['lib/adodb/drivers','adodb-ads.inc.php',657],['lib/markdown','MarkdownExtra.php',56],['lib/minify/lib/Minify/Cache','XCache.php',22],['lib/google/src/Google/Service','YouTube.php',75],['lib/lessphp','Functions.php',15],['auth/cas/CAS/CAS','AuthenticationException.php',53],['mod/quiz','locallib.php',1923],['competency/classes/external','stored_file_exporter.php',45],['user/filters','checkbox.php',51],['backup/moodle2','restore_settingslib.php',86],['backup/moodle2','restore_settingslib.php',149],['lib/htmlpurifier/HTMLPurifier/Node','Element.php',39],['lib/pear/HTML/QuickForm','date.php',260],['lib/lessphp/SourceMap','Generator.php',82],['backup/util/plan','base_step.class.php',35],['backup/util/plan','base_step.class.php',127],['mod/lti/service/memberships/classes/local/service','memberships.php',50],['lib/google/src/Google/Cache','Apc.php',37],['backup/util/ui','restore_ui_stage.class.php',42],['backup/util/ui','restore_ui_stage.class.php',265],['backup/util/ui','restore_ui_stage.class.php',452],['backup/util/ui','restore_ui_stage.class.php',592],['backup/util/ui','restore_ui_stage.class.php',704],['backup/util/ui','restore_ui_stage.class.php',852],['backup/util/ui','restore_ui_stage.class.php',959],['backup/util/ui','restore_ui_stage.class.php',1100],['lib/pear/Auth','RADIUS.php',120],['lib/pear/Auth','RADIUS.php',579],['lib/pear/Auth','RADIUS.php',672],['lib/pear/Auth','RADIUS.php',879],['lib/adodb/drivers','adodb-ado_access.inc.php',46],['admin/tool/xmldb/actions','XMLDBAction.class.php',56],['backup/converter/moodle1','handlerlib.php',120],['backup/converter/moodle1','handlerlib.php',1710],['backup/converter/moodle1','handlerlib.php',1902],['backup/converter/moodle1','handlerlib.php',2155],['backup/controller','restore_controller.class.php',63],['backup/controller','restore_controller.class.php',519],['lib/google/src/Google/Http','Request.php',58],['lib/google/src/Google/Service','Dfareporting.php',99],['lib/google/src/Google/Service','Manager.php',60],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',73],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',30],['lib/google/src/Google/Service','CloudMonitoring.php',45],['lib/editor/tinymce/plugins/spellchecker/classes','SpellChecker.php',11],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',44],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',65],['lib','webdavlib.php',84],['lib/dml','pgsql_native_moodle_recordset.php',43],['lib/horde/framework/Horde/Support','Guid.php',24],['lib/mustache/src/Mustache','LambdaHelper.php',25],['question/engine/upgrade/tests','helper.php',45],['admin/tool/uploadcourse/classes','tracker.php',72],['grade/report/user','lib.php',188],['lib/adodb/drivers','adodb-sqlanywhere.inc.php',156],['auth/cas/CAS/CAS','OutOfSequenceBeforeClientException.php',47],['backup/util/plan','base_task.class.php',40],['backup/util/plan','base_task.class.php',277],['lib/adodb/drivers','adodb-db2oci.inc.php',220]], 1102],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'get_expected_data': ['get_expected_data', '', [['question/behaviour/immediatefeedback','behaviour.php',57],['question/behaviour/adaptive','behaviour.php',45],['question/type/shortanswer','question.php',48],['question/type/gapselect','questionbase.php',203],['question/behaviour/interactive','behaviour.php',112],['question/type/multichoice','question.php',168],['question/type/multichoice','question.php',321],['question/behaviour','behaviourbase.php',194],['question/behaviour/informationitem','behaviour.php',46],['question/behaviour/deferredcbm','behaviour.php',56],['question/type','questionbase.php',449],['question/type/ddmarker','question.php',67],['question/behaviour/immediatecbm','behaviour.php',54],['question/type/numerical','question.php',51],['question/type/truefalse','question.php',44],['question/type/essay','question.php',67],['question/type/missingtype','question.php',44],['question/type/match','question.php',204],['question/type/multianswer','question.php',126],['question/engine','questionattempt.php',1102]], 23],
'question_rewrite_question_urls': ['question_rewrite_question_urls', 'Helps call file_rewrite_pluginfile_urls with the right parameters. ', [['lib','questionlib.php',1654]], 2],
'validate_manual_mark': ['validate_manual_mark', 'Validate the manual mark for a question. ', [['question/engine','questionattempt.php',1053]], 9],
'file_prepare_draft_area': ['file_prepare_draft_area', 'Initialise a draft file area from a real one by copying the files. A draft area will be created if one does not already exist. Normally you should get $draftitemid by calling file_get_submitted_draft_itemid(\'elementname\'); ', [['lib','filelib.php',362]], 67],
'offsetset': ['offsetset', '', [['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',98],['lib/horde/framework/Horde/Mail/Rfc822','List.php',336],['lib/horde/framework/Horde/Mime','Part.php',2275],['lib/horde/framework/Horde','Variables.php',228],['lib/horde/framework/Horde/Support','Array.php',171],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',109],['question/engine','questionusage.php',1011],['lib/horde/framework/Horde/Support','CaseInsensitiveArray.php',36],['lib/google/src/Google','Model.php',261],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',150],['lib/google/src/Google','Collection.php',76],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',119],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',321],['question/engine','questionattempt.php',1655],['question/engine','questionattempt.php',1808],['lib/horde/framework/Horde/Support','Stub.php',105]], 6],
'make_deleted_instance': ['make_deleted_instance', '', [['question/type/missingtype','questiontype.php',63]], 2],
'load_question': ['load_question', 'Load a question definition from the database. The object returned will actually be of an appropriate {@link question_definition} subclass. ', [['question/engine','bank.php',258],['question/type/randomsamatch/db','upgradelib.php',240],['question/engine/upgrade','upgradelib.php',133],['question/engine/upgrade','upgradelib.php',287],['question/engine/upgrade/tests','helper.php',63]], 47],
'count': ['count', 'Returns number of files in archive. ', [['lib/filestorage','zip_archive.php',333],['lib/phpexcel/PHPExcel','HashTable.php',129],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',116],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',90],['lib/horde/framework/Horde/Mail/Rfc822','List.php',368],['lib/horde/framework/Horde/Mime','Part.php',2287],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',128],['lib/phpexcel/PHPExcel/Calculation','Statistical.php',1184],['lib/phpunit/classes','phpmailer_sink.php',73],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',37],['lib/horde/framework/Horde','Variables.php',384],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',126],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',137],['lib','navigationlib.php',939],['lib/horde/framework/Horde/Imap/Client','Ids.php',372],['lib/horde/framework/Horde/Support','Array.php',144],['lib/phpunit/classes','event_sink.php',72],['comment','lib.php',618],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',44],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',166],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',144],['lib/google/src/Google','Collection.php',51],['lib/phpunit/classes','message_sink.php',71],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',337],['question/engine','questionattempt.php',1789],['lib/horde/framework/Horde/Support','Stub.php',126],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',193]], 4095],
'get_variants_selection_seed': ['get_variants_selection_seed', '', [['question/type/calculatedmulti','question.php',73],['question/type/calculatedmulti','question.php',123],['question/type','questionbase.php',224],['question/type/calculated','question.php',81]], 10],
'render_head_html': ['render_head_html', 'Generate any bits of HTML that needs to go in the <head> tag when this question attempt is displayed in the body. ', [['question/engine','questionattempt.php',832]], 1],
'convert_autosaved_step_to_real_step': ['convert_autosaved_step_to_real_step', 'If there is an autosaved step, convert it into a real save, so that it is preserved. ', [['question/engine','questionattempt.php',910]], 1],
'get_last_step_with_qt_var': ['get_last_step_with_qt_var', 'Get the last step with a particular question type varialbe set. ', [['question/engine','questionattempt.php',466]], 2],
'set_metadata': ['set_metadata', '', [['backup/cc/cc_lib','cc_asssesment.php',1813],['question/engine','questionattempt.php',759]], 2],
'get_metadata_var': ['get_metadata_var', 'Get a metadata variable. ', [['question/engine','questionattemptstep.php',399]], 3],
'render_at_step': ['render_at_step', 'Like {@link render_question()} but displays the question at the past step indicated by $seq, rather than showing the latest step. ', [['question/engine','questionattempt.php',847]], 1],
'set_max_mark': ['set_max_mark', 'Change the max mark for this question_attempt. ', [['question/engine','questionusage.php',893],['question/engine','questionattempt.php',1316]], 5],
'get_qtype': ['get_qtype', 'Get the question type class for a particular question type. ', [['question/engine','bank.php',80],['question/format/xml','format.php',1009]], 113],
'prepare_response_files_draft_itemid': ['prepare_response_files_draft_itemid', 'Prepare a draft file are for the files belonging the a response variable of this step. ', [['question/engine','questionattemptstep.php',236],['question/engine','questionattemptstep.php',735],['question/engine','questionattempt.php',548]], 3],
'offsetexists': ['offsetexists', '', [['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',80],['lib/horde/framework/Horde/Mail/Rfc822','List.php',317],['lib/horde/framework/Horde/Mime','Part.php',2265],['lib/horde/framework/Horde','Variables.php',125],['lib/horde/framework/Horde/Support','Array.php',181],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',95],['question/engine','questionusage.php',1004],['lib/horde/framework/Horde/Support','CaseInsensitiveArray.php',47],['lib/google/src/Google','Model.php',249],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',134],['lib/google/src/Google','Collection.php',59],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',97],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',305],['question/engine','questionattempt.php',1648],['question/engine','questionattempt.php',1770],['lib/horde/framework/Horde/Support','Stub.php',111]], 3],
'get_last_qt_data': ['get_last_qt_data', 'Get the qt data from the latest step that has any qt data. Return $default array if it is no step has qt data. ', [['question/engine','questionattempt.php',447]], 23],
'get_expected_qt_data': ['get_expected_qt_data', '', [['question/behaviour/interactive','behaviour.php',125],['question/behaviour','behaviourbase.php',213]], 2],
'clean_param_mark': ['clean_param_mark', 'Typically, $mark will have come from optional_param($name, null, PARAM_RAW_TRIMMED). This method copes with: - keeping null or \'\' input unchanged - important to let teaches set a question back to requries grading. - numbers that were typed as either 1.00 or 1,00 form. - invalid things, which get turned into null. ', [['question/engine','lib.php',908]], 13],
'regrade': ['regrade', 'Perform a regrade. This replays all the actions from $oldqa into this attempt. ', [['question/engine','questionattempt.php',1274]], 1],
'classify_response': ['classify_response', '', [['question/type/gapselect','questionbase.php',302],['question/type/multichoice','question.php',188],['question/type/multichoice','question.php',344],['question/behaviour','behaviourbase.php',293],['question/type','questionbase.php',502],['question/type','questionbase.php',628],['question/type','questionbase.php',792],['question/type/ddmarker','question.php',327],['question/type/numerical','question.php',253],['question/type/truefalse','question.php',62],['question/type/missingtype','question.php',76],['question/type/match','question.php',137],['question/engine','questionattempt.php',1392],['question/type/ddimageortext','questionbase.php',111]], 71],
'format_max_mark': ['format_max_mark', 'The maximum mark for this question attempt, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',722]], 5],
'get_question_summary': ['get_question_summary', '', [['question/type/gapselect','questionbase.php',115],['question/type/multichoice','question.php',88],['question/behaviour','behaviourbase.php',244],['question/type','questionbase.php',200],['question/type','questionbase.php',457],['question/engine','questionusage.php',398],['question/type/match','question.php',108],['question/type/multianswer','question.php',81],['question/engine','questionattempt.php',1195],['question/type/ddimageortext','questionbase.php',152]], 32],
'get_state_string': ['get_state_string', '', [['question/behaviour/immediatefeedback','behaviour.php',66],['question/behaviour/adaptive','behaviour.php',52],['mod/quiz','attemptlib.php',2438],['question/behaviour/interactive','behaviour.php',133],['question/behaviour','behaviourbase.php',327],['question/behaviour/informationitem','behaviour.php',73],['question/engine','questionattempt.php',603]], 9],
'process_autosave': ['process_autosave', 'Auto-saved data. By default this does nothing. interesting processing is done in {@link question_behaviour_with_save}. ', [['question/behaviour','behaviourbase.php',450],['question/behaviour','behaviourbase.php',614],['question/engine','questionusage.php',732],['question/engine/tests','helpers.php',753],['question/engine','questionattempt.php',1244]], 17],
'get_last_step': ['get_last_step', 'Return the latest step in this question_attempt. For internal/test code use only. ', [['question/engine','questionattempt.php',399]], 22],
'get_question_file_saver': ['get_question_file_saver', 'Copy these files into a draft area, and return the corresponding {@link question_file_saver} that can save them again. ', [['question/engine','datalib.php',1767]], 1],
'get_last_step_with_behaviour_var': ['get_last_step_with_behaviour_var', 'Get the last step with a particular behaviour variable set. ', [['question/engine','questionattempt.php',481]], 3],
'has_manual_comment': ['has_manual_comment', '', [['question/engine','questionattempt.php',1348]], 1],
'get_mark': ['get_mark', '', [['question/engine','questionattempt.php',646]], 5],
'get_max_mark': ['get_max_mark', '', [['question/engine','questionattempt.php',682]], 26],
'extra_file_path_components': ['extra_file_path_components', 'Helper function used by {@link rewrite_pluginfile_urls()} and {@link rewrite_response_pluginfile_urls()}. ', [['question/engine','questionattempt.php',774]], 2],
'get_submitted_var': ['get_submitted_var', 'Get a particular parameter from the current request. A wrapper round {@link optional_param()}, except that the results is returned without slashes. ', [['question/engine','questionattempt.php',1019]], 10],
'get_filepath': ['get_filepath', 'Returns file path ', [['lib/filebrowser','virtual_root_file.php',218],['lib/filestorage','stored_file.php',690],['backup/util/ui','restore_ui_stage.class.php',547]], 147],
'get_full_qa': ['get_full_qa', 'This method exists so that {@link question_attempt_with_restricted_history} can override it. You should not normally need to call it. ', [['question/engine','questionattempt.php',194],['question/engine','questionattempt.php',1567]], 1],
'set_usage_id': ['set_usage_id', 'Set the id of the {@link question_usage_by_activity} we belong to. For internal use only. ', [['question/engine','questionattempt.php',261],['question/engine','questionattempt.php',1597]], 2],
'get_reverse_step_iterator': ['get_reverse_step_iterator', '', [['question/engine','questionattempt.php',443]], 8],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',609]], 2210],
'get_num_variants': ['get_num_variants', '', [['question/type/calculatedmulti','question.php',69],['question/type/calculatedmulti','question.php',119],['question/type','questionbase.php',216],['question/engine','questionusage.php',522],['question/type/calculated','question.php',77]], 8],
'format_float': ['format_float', 'This function should be identical to {@link qtype_calculated_variable_substituter::format_float()}. Except that we do not try to do locale-aware replacement of the decimal point. ', [['question/type/calculated/db','upgradelib.php',205],['lib','moodlelib.php',8061],['mod/feedback/item/numeric','lib.php',206],['question/type/calculated','question.php',328],['question/type/calculatedmulti/db','upgradelib.php',229]], 177],
'get_all_data': ['get_all_data', 'Get all the data. behaviour variables have the - at the start of their name. This is only intended for internal use, for example by {@link question_engine_data_mapper::insert_question_attempt_step()}, however, it can occasionally be useful in test code. It should not be considered part of the public API of this class. ', [['question/engine','questionattemptstep.php',361],['question/engine','questionattemptstep.php',726]], 30],
'get_user_id': ['get_user_id', '', [['lib','modinfolib.php',202],['grade/report/grader/tests/behat','behat_gradereport_grader.php',174],['question/engine','questionattemptstep.php',171],['question/engine','questionattemptstep.php',682],['lib/tests/behat','behat_data_generators.php',607]], 36],
'get_current_manual_comment': ['get_current_manual_comment', 'This is used by the manual grading code, particularly in association with validation. If there is a comment submitted in the request, then use that, otherwise use the latest comment for this question. ', [['question/engine','questionattempt.php',1371]], 1],
'choose_variant': ['choose_variant', '', [['question/engine','lib.php',973],['question/engine','lib.php',984],['question/engine','lib.php',1030],['question/engine','lib.php',1070],['question/classes/engine/variants','least_used_strategy.php',84]], 3],
'get_fraction': ['get_fraction', '', [['question/engine','questionattemptstep.php',158],['question/engine','questionattemptstep.php',588],['question/engine','questionattemptstep.php',674],['question/engine','questionattempt.php',627]], 51],
'manual_grade': ['manual_grade', 'Perform a manual grading action on a question attempt. ', [['question/engine','questionusage.php',844],['question/engine/tests','helpers.php',761],['question/engine','questionattempt.php',1325]], 30],
'head_code': ['head_code', 'Return any HTML that needs to be included in the page\'s <head> when questions using this model are used. ', [['question/behaviour','rendererbase.php',232],['question/type','rendererbase.php',204]], 2],
'notify_metadata_added': ['notify_metadata_added', '', [['question/engine','datalib.php',1452],['question/engine','questionusage.php',1078],['question/engine','questionusage.php',1116]], 1],
'get_behaviour_name': ['get_behaviour_name', 'Get the translated name of a behaviour, for display in the UI. ', [['question/engine','lib.php',420],['question/engine','questionattempt.php',271]], 27],
'get_sequence_check_count': ['get_sequence_check_count', 'Get the number of real steps in this attempt. This is put as a hidden field in the HTML, so that when we receive some data to process, then we can check that it came from the question in the state we are now it. ', [['question/engine','questionattempt.php',375]], 10],
'set_database_id': ['set_database_id', 'For internal use only. Set the id of the corresponding database row. ', [['question/engine','questionattempt.php',238],['question/engine','questionattempt.php',1585]], 3],
'init_first_step': ['init_first_step', '', [['question/behaviour/interactive','behaviour.php',143],['question/behaviour','behaviourbase.php',341],['question/behaviour/missing','behaviour.php',57]], 3],
'has_metadata_var': ['has_metadata_var', 'Whether this step has a metadata variable. ', [['question/engine','questionattemptstep.php',386]], 2],
'get_itemid': ['get_itemid', 'Returns file itemid ', [['lib/filebrowser','virtual_root_file.php',209],['lib/filestorage','stored_file.php',681],['comment','lib.php',1019]], 67],
'get_behaviour': ['get_behaviour', 'For internal use only. ', [['question/engine','questionattempt.php',275]], 4],
'set_slot': ['set_slot', 'Set the number used to identify this question_attempt within the usage. For internal use only. ', [['question/engine','questionattempt.php',216],['question/engine','questionattempt.php',1591]], 9],
'get_metadata': ['get_metadata', '', [['backup/cc','cc2moodle.php',135],['question/engine','questionattempt.php',750]], 4],
'get_num_steps': ['get_num_steps', 'Get the number of steps in this attempt. For internal/test code use only. ', [['question/engine','questionattempt.php',390]], 20],
'set_state': ['set_state', 'Set the state. ', [['lib','pagelib.php',901],['question/engine','questionattemptstep.php',145],['question/engine','questionattemptstep.php',556],['question/engine','questionattemptstep.php',584],['question/engine','questionattemptstep.php',670],['cache/classes','factory.php',504]], 75],
'make_behaviour': ['make_behaviour', 'Create a behaviour for a particular type. If that type cannot be found, return an instance of qbehaviour_missing. ', [['question/engine','lib.php',215],['question/type','questionbase.php',141],['question/type','questionbase.php',445],['question/type','questionbase.php',728],['question/type/essay','question.php',55]], 6],
'get_slot': ['get_slot', '', [['question/engine','questionattempt.php',226]], 35],
'get_variant': ['get_variant', 'Get the variant of the question being used in a given slot. ', [['question/engine','questionusage.php',531],['question/engine','questionattempt.php',208]], 14],
'get_full_step_iterator': ['get_full_step_iterator', 'The same as {@link get_step_iterator()}. However, for a {@link question_attempt_with_restricted_history} this returns the full list of steps, while {@link get_step_iterator()} returns only the limited history. ', [['question/engine','questionattempt.php',427],['question/engine','questionattempt.php',1571]], 1],
'get_behaviour_var': ['get_behaviour_var', '', [['question/engine','questionattemptstep.php',309],['question/engine','questionattemptstep.php',710]], 28],
'notify_step_deleted': ['notify_step_deleted', '', [['question/engine','datalib.php',1430],['question/engine','questionusage.php',1071],['question/engine','questionusage.php',1114]], 4],
'set_metadata_var': ['set_metadata_var', 'Set a metadata variable. ', [['question/engine','questionattemptstep.php',373]], 1],
'get_new_variant_number': ['get_new_variant_number', 'Get the new variant number, if there is one. ', [['question/engine','questionattemptstep.php',531]], 1],
'get_last_action_time': ['get_last_action_time', '', [['question/engine','questionattempt.php',623]], 1],
'get_usage_id': ['get_usage_id', '', [['question/engine','questionattempt.php',257]], 5],
'get_last_qt_files': ['get_last_qt_files', 'Get the latest set of files for a particular question type variable of type question_attempt::PARAM_FILES. ', [['question/engine','questionattempt.php',515]], 1],
'get_all_submitted_qt_vars': ['get_all_submitted_qt_vars', 'Get all the submitted question type data for this question, whithout checking that it is valid or cleaning it in any way. ', [['question/engine','questionattempt.php',1120]], 2],
'get_renderer': ['get_renderer', 'Returns instance of page renderer used by this plugin ', [['course/format','lib.php',905],['question/type/multichoice','question.php',156],['question/type/multichoice','question.php',278],['question/behaviour','behaviourbase.php',135],['question/type','questionbase.php',275],['lib','pagelib.php',802],['lib','outputlib.php',1828],['lib','outputfactories.php',70],['lib','outputfactories.php',292],['lib','outputfactories.php',377],['mod/assign','locallib.php',2987],['grade/grading/form/rubric','lib.php',486],['lib/tests/fixtures','test_renderer_factory.php',49],['grade/grading/form/guide','lib.php',492]], 452],
'get_filearea': ['get_filearea', 'Returns file area ', [['lib/filebrowser','virtual_root_file.php',200],['lib/filestorage','stored_file.php',671]], 50],
'has_marks': ['has_marks', '', [['question/engine','questionattempt.php',637]], 3],
'start_based_on': ['start_based_on', 'Start this question attempt, starting from the point that the previous attempt $oldqa had reached. ', [['question/engine','questionattempt.php',990]], 1],
'get_id': ['get_id', 'Getter for $id. ', [['lib/classes/task','adhoc_task.php',51],['backup/converter','convertlib.php',100],['lib/filebrowser','virtual_root_file.php',290],['lib','adminlib.php',1719],['admin/tool/uploadcourse/classes','course.php',335],['lib/simplepie/library/SimplePie','Item.php',199],['lib/filestorage','stored_file.php',786],['cache/classes','definition.php',613],['grade/grading/form','lib.php',854],['question/engine','questionusage.php',120],['mod/lti/classes/local/ltiservice','service_base.php',76],['blocks/rss_client/classes/output','item.php',152],['backup/controller','backup_controller.class.php',263],['question/engine','questionattemptstep.php',136],['mod/lti/classes/local/ltiservice','resource_base.php',81]], 2250],
'get_last_behaviour_var': ['get_last_behaviour_var', 'Get the latest value of a particular behaviour variable. That is, get the value from the latest step that has it set. Return null if it is not set in any step. ', [['question/engine','questionattempt.php',570]], 20],
'notify_step_added': ['notify_step_added', '', [['question/engine','datalib.php',1378],['question/engine','questionusage.php',1055],['question/engine','questionusage.php',1110]], 2],
'get_steps_with_submitted_response_iterator': ['get_steps_with_submitted_response_iterator', 'Allow access to steps with responses submitted by students for grading in a question attempt. ', [['question/engine','questionattempt.php',1505]], 7],
'response_summary_changed': ['response_summary_changed', 'Whether this processing this step has changed the response summary. ', [['question/engine','questionattemptstep.php',512]], 1],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',769]], 635],
'summarise_action': ['summarise_action', '', [['question/behaviour/immediatefeedback','behaviour.php',91],['question/behaviour/adaptive','behaviour.php',101],['question/behaviour/manualgraded','behaviour.php',68],['question/behaviour/interactive','behaviour.php',169],['question/behaviour/informationitem','behaviour.php',89],['question/behaviour/deferredcbm','behaviour.php',116],['question/behaviour/immediatecbm','behaviour.php',145],['question/behaviour/missing','behaviour.php',53],['question/behaviour/deferredfeedback','behaviour.php',90],['question/engine','questionattempt.php',741]], 7],
'has_qt_var': ['has_qt_var', '', [['question/engine','questionattemptstep.php',184],['question/engine','questionattemptstep.php',690]], 12],
'format_mark': ['format_mark', 'The current mark, formatted to the stated number of decimal places. Uses {@link format_float()} to format floats according to the current locale. ', [['question/engine','questionattempt.php',702]], 3],
'get_resume_data': ['get_resume_data', 'Used by {@link start_based_on()} to get the data needed to start a new attempt from the point this attempt has go to. ', [['question/behaviour','behaviourbase.php',272],['question/engine','questionattempt.php',1004]], 2],
'rewind': ['rewind', 'Rewinds back to the first file. ', [['lib/filestorage','zip_archive.php',507],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',40],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',129],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',130],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',319],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',127],['lib/horde/framework/Horde/Mail/Rfc822','List.php',423],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',74],['lib/phpexcel/PHPExcel','WorksheetIterator.php',63],['backup/util/helper','backup_null_iterator.class.php',37],['lib/horde/framework/Horde','Domhtml.php',324],['lib/classes/dml','recordset_walk.php',143],['lib/spout/src/Spout/Common/Helper','GlobalFunctionsHelper.php',134],['lib/horde/framework/Horde/Imap/Client','Ids.php',410],['backup/util/helper','backup_array_iterator.class.php',43],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',33],['lib/adodb','adodb.inc.php',3039],['lib/adodb','adodb.inc.php',3164],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',126],['lib/horde/framework/Horde','Stream.php',493],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',84],['question/engine','questionusage.php',995],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',50],['lib/dml','moodle_recordset.php',57],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',55],['lib/google/src/Google','Collection.php',16],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',174],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',371],['question/engine','questionattempt.php',1639],['question/engine','questionattempt.php',1676],['question/engine','questionattempt.php',1758],['lib/tests','completionlib_test.php',899],['lib/horde/framework/Horde/Stream','TempString.php',210]], 64],
'get_step': ['get_step', '', [['question/engine/tests','helpers.php',911],['question/engine','questionattempt.php',362]], 52],
'get_response_file_url': ['get_response_file_url', 'Get the URL of a file that belongs to a response variable of this question_attempt. ', [['question/engine','questionattempt.php',531]], 1],
'key': ['key', 'Returns the index of current file. ', [['lib/filestorage','zip_archive.php',491],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',90],['lib/dml','mssql_native_moodle_recordset.php',70],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',147],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',148],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',193],['lib/dml','mysqli_native_moodle_recordset.php',69],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',145],['lib/horde/framework/Horde/Mail/Rfc822','List.php',393],['lib/dml','pdo_moodle_recordset.php',62],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',216],['lib/phpexcel/PHPExcel','WorksheetIterator.php',81],['backup/util/helper','backup_null_iterator.class.php',43],['lib/horde/framework/Horde','Domhtml.php',280],['lib/dml','sqlsrv_native_moodle_recordset.php',112],['lib/classes/dml','recordset_walk.php',118],['lib/horde/framework/Horde/Imap/Client','Ids.php',392],['backup/util/helper','backup_array_iterator.class.php',51],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',77],['lib/dml','oci_native_moodle_recordset.php',63],['lib/adodb','adodb.inc.php',3045],['lib/adodb','adodb.inc.php',3172],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',144],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',206],['question/engine','questionusage.php',989],['question/engine/tests','helpers.php',1225],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',115],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',208],['lib/google/src/Google','Collection.php',32],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',153],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',357],['question/engine','questionattempt.php',1633],['question/engine','questionattempt.php',1752],['lib/tests','completionlib_test.php',891],['lib/dml','pgsql_native_moodle_recordset.php',90]], 204],
'get_contextid': ['get_contextid', '', [['backup/moodle2','backup_block_task.class.php',96],['backup/moodle2','restore_activity_task.class.php',115],['backup/moodle2','restore_block_task.class.php',133],['lib/filebrowser','virtual_root_file.php',182],['lib/filestorage','stored_file.php',652],['backup/moodle2','restore_section_task.class.php',63],['backup/moodle2','backup_course_task.class.php',50],['backup/converter/moodle1','lib.php',524],['backup/moodle2','restore_course_task.class.php',57],['backup/moodle2','backup_activity_task.class.php',103]], 154],
'rewrite_pluginfile_urls': ['rewrite_pluginfile_urls', 'Calls {@link question_rewrite_question_urls()} with appropriate parameters for content belonging to this question. ', [['question/engine','questionattempt.php',783]], 1],
'get_field_prefix': ['get_field_prefix', 'You should probably not use this method in code outside the question engine. The main reason for exposing it was for the benefit of unit tests. ', [['question/engine','questionusage.php',511],['question/engine','questionattempt.php',348]], 247],
'get_name': ['get_name', 'Return localised event name. ', [['lib/classes/event','competency_plan_unlinked.php',72],['admin/tool/langimport/classes/task','update_langpacks_task.php',35],['lib/simplepie/library/SimplePie','Author.php',106],['portfolio/download','lib.php',10],['backup/util/structure','restore_path_element.class.php',98],['lib/classes/message/inbound','private_files_handler.php',56],['lib/classes/event','grouping_group_assigned.php',48],['calendar/tests','calendartype_test_example.php',32],['lib/classes/event','enrol_instance_deleted.php',70],['report/log/classes/event','user_report_viewed.php',54],['lib/classes/task','blog_cron_task.php',31],['mod/quiz/classes/event','attempt_reviewed.php',53],['lib/classes/event','tag_unflagged.php',55],['lib/classes/task','send_new_user_passwords_task.php',31],['lib/classes/event','role_unassigned.php',53],['mod/assign/classes/event','grading_form_viewed.php',82],['question/classes/bank','edit_action_column.php',35],['admin/tool/log/store/standard/classes/task','cleanup_task.php',31],['mod/workshop/classes/event','submission_deleted.php',63],['mod/forum/classes/event','discussion_updated.php',65],['lib/classes/event','course_module_instance_list_viewed.php',75],['lib/classes/event','course_created.php',55],['lib/dml','pdo_moodle_database.php',113],['mod/assign/classes/event','extension_granted.php',77],['lib/classes/task','tag_cron_task.php',33],['enrol/imsenterprise/classes/task','cron_task.php',34],['lib/classes/event','course_deleted.php',56],['lib/classes/task','completion_daily_task.php',33],['mod/forum/classes/event','readtracking_enabled.php',64],['mod/wiki/classes/event','page_created.php',48],['lib/dml','oci_native_moodle_database.php',94],['lib/classes/event','competency_viewed.php',70],['mod/choice/classes/event','answer_updated.php',72],['lib/classes/event','search_indexed.php',47],['lib/classes/event','badge_criteria_updated.php',53],['question/classes/bank','question_type_column.php',26],['mod/wiki/classes/event','page_version_deleted.php',54],['lib/grade','grade_item.php',1384],['lib/classes/event','competency_user_competency_rated_in_plan.php',88],['lib/classes/event','webservice_token_sent.php',56],['mod/glossary/classes/event','entry_deleted.php',54],['admin/tool/messageinbound/classes/message/inbound','invalid_recipient_handler.php',60],['lib/classes/event','competency_template_viewed.php',63],['lib/classes/task','context_cleanup_task.php',32],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',62],['admin/tool/langimport/classes/event','langpack_removed.php',89],['mod/glossary/classes/event','category_deleted.php',46],['mod/forum/classes/message/inbound','reply_handler.php',51],['competency/classes','competency_rule.php',84],['mod/lti/classes/event','unknown_service_api_called.php',82],['lib/classes/event','badge_deleted.php',49],['mod/quiz/classes/event','user_override_updated.php',54],['lib/classes/event','message_contact_added.php',48],['lib/classes/event','cohort_member_added.php',49],['backup/util/ui','restore_ui.class.php',351],['lib/classes/event','blog_entry_updated.php',74],['mod/assign/classes/event','workflow_state_updated.php',88],['mod/forum/classes/event','assessable_uploaded.php',86],['mod/assign/classes/event','submission_created.php',57],['lib/classes/event','group_deleted.php',65],['lib/classes/event','role_allow_assign_updated.php',47],['mod/lesson/classes/event','highscore_added.php',59],['mod/forum/classes/event','discussion_pinned.php',55],['lib/classes/event','webservice_function_called.php',67],['lib/classes/event','competency_plan_reopened.php',75],['mod/lesson/classes/event','essay_attempt_viewed.php',48],['mod/wiki/classes/event','page_locks_deleted.php',54],['lib/classes/event','webservice_service_deleted.php',59],['mod/forum/classes/event','discussion_subscription_created.php',66],['admin/tool/log/store/database/tests/fixtures','event.php',31],['mod/workshop/classes/event','assessable_uploaded.php',93],['lib','csslib.php',2155],['lib','csslib.php',2283],['lib/classes/event','user_loggedout.php',54],['lib/classes/event','webservice_token_created.php',65],['lib/classes/event','tag_collection_updated.php',65],['competency/classes','competency_rule_all.php',84],['backup/util/settings','base_setting.class.php',145],['mod/data/classes/event','field_deleted.php',57],['mod/book/classes/event','chapter_created.php',79],['lib/classes/event','email_failed.php',56],['lib/classes/task','stats_cron_task.php',31],['mod/survey/classes/event','report_downloaded.php',55],['mod/workshop/classes/event','phase_switched.php',75],['lib/grade','grade_category.php',2300],['lib/grade','grade_scale.php',156],['lib/classes/event','course_reset_started.php',53],['mod/workshop/classes/event','assessment_evaluated.php',66],['lib/classes/event','blog_association_created.php',56],['backup/converter','convertlib.php',109],['report/outline/classes/event','activity_report_viewed.php',48],['lib/classes/task','legacy_plugin_cron_task.php',33],['lib/classes/event','competency_plan_updated.php',75],['mod/choice/classes/event','answer_submitted.php',72],['mod/lesson/classes/event','lesson_ended.php',49],['lib/classes/event','role_allow_switch_updated.php',47],['lib/classes/task','portfolio_cron_task.php',31],['lib/classes/event','competency_user_competency_rated_in_course.php',88],['question/classes/bank','question_text_row.php',35],['lib/classes/event','tag_created.php',75],['report/participation/classes/event','report_viewed.php',58],['lib/classes/event','role_capabilities_updated.php',51],['mod/survey/classes/event','response_submitted.php',53],['lib/classes/event','badge_archived.php',47],['mod/workshop/classes/event','assessment_reevaluated.php',76],['mod/assign/classes/event','submission_locked.php',78],['report/outline/classes/event','report_viewed.php',54],['lib/classes/event','user_deleted.php',57],['lib/classes/event','mnet_access_control_updated.php',57],['mod/lesson/classes/event','essay_assessed.php',78],['mod/book/tool/print/classes/event','book_printed.php',76],['lib/classes/event','grouping_deleted.php',72],['admin/tool/monitor/classes','rule.php',239],['lib/classes/event','course_viewed.php',75],['mod/forum/classes/event','user_report_viewed.php',65],['user/selector','lib.php',309],['mod/quiz/classes/event','attempt_summary_viewed.php',56],['lib/classes/event','webservice_service_user_added.php',59],['mod/forum/classes/event','discussion_unpinned.php',55],['lib/classes/event','grouping_group_unassigned.php',48],['lib/grade','grade_outcome.php',272],['mod/chat/classes/event','message_sent.php',59],['lib/classes/event','role_assigned.php',56],['mod/quiz/classes/question/bank','question_name_text_column.php',37],['question/classes/bank','modifier_name_column.php',27],['mod/glossary/classes/event','entry_viewed.php',48],['mod/data/classes/event','record_created.php',56],['lib/classes/event','course_category_deleted.php',59],['lib/dml','mariadb_native_moodle_database.php',41],['lib/classes/event','role_deleted.php',55],['lib/classes/task','question_cron_task.php',31],['portfolio/flickr','lib.php',41],['lib/classes/task','cache_cron_task.php',31],['mod/wiki/classes/event','page_version_viewed.php',54],['admin/tool/recyclebin/classes/event','category_bin_item_deleted.php',47],['admin/tool/log/store/standard/tests/fixtures','event.php',31],['mod/scorm/classes/event','status_submitted.php',46],['admin/tool/monitor/classes/event','rule_created.php',50],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',31],['question/classes/bank','checkbox_column.php',32],['lib/classes/event','competency_user_competency_plan_viewed.php',81],['mod/assign/feedback/offline','locallib.php',42],['admin/tool/messageinbound/classes/task','cleanup_task.php',38],['mod/workshop/classes/event','submission_updated.php',63],['lib/editor/atto/classes/task','autosave_cleanup_task.php',33],['mod/choice/classes/event','report_viewed.php',53],['mod/lesson/classes/event','group_override_deleted.php',54],['mod/wiki/classes/event','page_map_viewed.php',54],['admin/tool/log/store/legacy/tests/fixtures','event.php',31],['mod/lesson/classes/event','question_answered.php',54],['mod/choice/classes/event','report_downloaded.php',54],['admin/tool/recyclebin/classes/task','cleanup_category_bin.php',36],['backup/util/ui','backup_ui_setting.class.php',86],['lib/classes/event','competency_user_evidence_created.php',64],['lib/classes/event','course_module_completion_updated.php',54],['repository/coursefiles','lib.php',183],['lib/classes/event','note_updated.php',56],['lib/classes/event','note_created.php',56],['lib/classes/event','competency_framework_created.php',63],['lib/classes/event','course_resources_list_viewed.php',60],['lib/classes/event','tag_updated.php',58],['mod/forum/classes/event','subscribers_viewed.php',65],['mod/book/tool/exportimscp/classes/event','book_exported.php',76],['mod/quiz/classes/question/bank','add_action_column.php',45],['lib/classes/task','completion_regular_task.php',33],['lib/classes/event','user_enrolment_deleted.php',54],['grade/report/grader/classes/event','grade_report_viewed.php',39],['lib','enrollib.php',1076],['admin/tool/recyclebin/classes/event','course_bin_item_restored.php',47],['lib/classes/event','webservice_service_updated.php',59],['lib/editor/tinymce/classes','plugin.php',101],['mod/lesson/classes/event','group_override_created.php',55],['mod/scorm/classes/event','attempt_deleted.php',62],['lib/classes/event','competency_user_competency_review_request_cancelled.php',72],['lib/classes/event','webservice_service_created.php',65],['lib/classes/task','events_cron_task.php',31],['mod/wiki/classes/event','page_version_restored.php',54],['mod/forum/classes/event','discussion_deleted.php',66],['lib/classes/event','competency_framework_updated.php',73],['mod/lesson/classes/event','lesson_restarted.php',48],['mod/wiki/classes/event','page_updated.php',54],['mod/assign/classes/event','marker_updated.php',89],['lib','modinfolib.php',1270],['mod/assign/feedback/editpdf/classes/task','convert_submissions.php',38],['lib/classes/event','course_module_updated.php',57],['repository','lib.php',1834],['auth/cas/classes/task','sync_task.php',34],['lib/classes/event','competency_template_deleted.php',73],['mod/assign/classes/event','submission_confirmation_form_viewed.php',79],['lib/bennu','iCalendar_components.php',37],['report/questioninstances/classes/event','report_viewed.php',55],['admin/tool/recyclebin/classes/task','cleanup_course_bin.php',36],['lib/classes/event','message_contact_blocked.php',48],['lib/classes/event','competency_template_updated.php',75],['question/behaviour','behaviourbase.php',83],['grade/report/history/classes/event','grade_report_viewed.php',39],['lib/classes/event','badge_disabled.php',47],['mod/assign/classes/event','grading_table_viewed.php',79],['lib/classes/event','badge_enabled.php',47],['mod/lti','OAuth.php',122],['mod/lti','OAuth.php',149],['mod/lti','OAuth.php',173],['calendar/type/gregorian/classes','structure.php',29],['mod/quiz/classes/event','edit_page_viewed.php',53],['lib/simplepie/library/SimplePie','Credit.php',139],['mod/scorm/classes/event','tracks_viewed.php',64],['mod/wiki/classes/event','page_diff_viewed.php',55],['message/tests/fixtures','inbound_fixtures.php',41],['lib/classes/event','grouping_created.php',65],['lib/classes/event','calendar_event_deleted.php',58],['enrol/flatfile/classes/task','flatfile_sync_task.php',37],['lib/classes/event','group_updated.php',65],['lib/classes/task','registration_cron_task.php',31],['mod/book/classes/event','chapter_updated.php',79],['lib/classes/event','grade_deleted.php',94],['admin/tool/recyclebin/classes/event','course_bin_item_created.php',47],['lib/classes/event','user_loggedin.php',64],['lib/classes/task','check_for_updates_task.php',31],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',56],['mod/assign/submission/file','locallib.php',44],['mod/forum/classes/task','cron_task.php',30],['mod/forum/classes/event','subscription_created.php',65],['lib/classes/event','tag_collection_created.php',65],['grade/report/overview/classes/event','grade_report_viewed.php',48],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',79],['mod/quiz/classes/event','group_override_updated.php',54],['lib/classes/event','competency_plan_created.php',63],['mod/glossary/classes/event','entry_disapproved.php',46],['lib/classes/task','send_failed_login_notifications_task.php',34],['enrol/lti/classes/task','sync_grades.php',36],['lib/classes/event','message_viewed.php',54],['portfolio/boxnet','lib.php',14],['lib/classes/event','comment_created.php',58],['question/classes/bank','preview_action_column.php',26],['lib/classes/event','course_content_deleted.php',54],['lib/dml','pgsql_native_moodle_database.php',87],['mod/feedback/classes/event','response_deleted.php',83],['lib/classes/event','competency_evidence_created.php',98],['lib/classes/event','comment_deleted.php',58],['lib/classes/event','competency_user_competency_review_requested.php',72],['mod/quiz/classes/event','attempt_abandoned.php',63],['mod/scorm/classes/event','user_report_viewed.php',62],['lib/dml','mssql_native_moodle_database.php',88],['mod/quiz/classes/event','attempt_becameoverdue.php',66],['mod/quiz/classes/event','group_override_created.php',55],['lib/dml','mysqli_native_moodle_database.php',352],['backup/util/ui','backup_ui.class.php',194],['mod/book/tool/print/classes/event','chapter_printed.php',79],['mod/data/classes/event','record_deleted.php',56],['competency/classes','competency_rule_points.php',185],['lib/classes/event','competency_user_competency_viewed.php',81],['lib/classes/event','dashboard_viewed.php',59],['mod/lesson/classes/event','question_viewed.php',54],['lib/classes/event','user_profile_viewed.php',56],['lib','medialib.php',345],['admin/tool/monitor/classes/task','clean_events.php',32],['mod/lesson/classes/event','user_override_deleted.php',53],['lib/classes/event','cohort_member_removed.php',50],['mod/lesson/classes/event','lesson_started.php',48],['mod/lesson/classes/event','page_updated.php',73],['mod/workshop/classes/event','submission_viewed.php',63],['question/classes/bank','question_name_column.php',28],['lib/classes/event','competency_deleted.php',87],['admin/tool/monitor/classes','subscription.php',132],['lib/classes/task','grade_cron_task.php',31],['mod/glossary/classes/event','entry_created.php',52],['lib/classes/task','file_temp_cleanup_task.php',31],['lib/classes/event','dashboard_reset.php',60],['backup/util/structure','base_atom.class.php',71],['portfolio/googledocs','lib.php',54],['mod/assign/feedback/comments','locallib.php',36],['mod/wiki/classes/event','page_history_viewed.php',48],['lib/classes/event','competency_plan_review_request_cancelled.php',75],['lib/classes/event','competency_plan_deleted.php',73],['mod/quiz/classes/event','attempt_viewed.php',54],['mod/data/classes/event','field_updated.php',57],['lib/classes/event','grouping_updated.php',65],['cache/classes','definition.php',621],['lib/classes/task','plagiarism_cron_task.php',31],['backup/converter/moodle1','lib.php',1033],['lib/classes/event','question_category_created.php',48],['grade/report/user/classes/event','grade_report_viewed.php',48],['lib/classes/event','user_login_failed.php',56],['mod/scorm/classes/event','report_viewed.php',63],['mod/chat/classes/event','sessions_viewed.php',65],['admin/tool/recyclebin/classes/event','course_bin_item_deleted.php',47],['mod/quiz/classes/event','user_override_deleted.php',53],['portfolio/mahara','lib.php',61],['mod/quiz/classes/event','attempt_submitted.php',63],['grade/report/outcomes/classes/event','grade_report_viewed.php',39],['mod/lesson/classes/event','group_override_updated.php',54],['mod/workshop/classes/event','submission_created.php',63],['mod/assign/classes/event','submission_updated.php',57],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',83],['lib/classes/event','competency_updated.php',70],['lib/classes/event','note_deleted.php',56],['mod/lesson/classes/event','page_moved.php',56],['lib/classes/event','course_completed.php',73],['lib/classes/event','tag_added.php',58],['lib/classes/event','competency_created.php',70],['mod/lesson/classes/event','highscores_viewed.php',51],['lib/classes/event','message_contact_unblocked.php',48],['lib/classes/event','user_enrolment_created.php',53],['lib/classes/task','search_index_task.php',35],['lib/classes/event','course_module_created.php',86],['lib/classes/event','webservice_service_user_removed.php',59],['report/log/classes/event','report_viewed.php',58],['mod/assign/submission/file/classes/event','assessable_uploaded.php',85],['lib/classes/event','group_member_added.php',78],['mod/forum/classes/event','discussion_viewed.php',60],['mod/assign/classes/event','submission_viewed.php',76],['mod/lti/classes/local/ltiservice','service_base.php',87],['enrol/lti/classes/task','sync_members.php',46],['mod/workshop/classes/event','submission_reassessed.php',77],['lib/classes/task','session_cleanup_task.php',31],['lib/tests','messageinbound_test.php',166],['lib/classes/task','backup_cleanup_task.php',31],['mod/workshop/classes/event','assessment_evaluations_reset.php',75],['mod/scorm/classes/event','scoreraw_submitted.php',46],['mod/assign/classes/event','statement_accepted.php',77],['mod/assign/classes/event','feedback_viewed.php',76],['lib/classes/task','delete_unconfirmed_users_task.php',31],['mod/forum/classes/event','discussion_moved.php',66],['lib/classes/event','competency_user_evidence_deleted.php',64],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',79],['mod/lesson/classes/event','lesson_resumed.php',48],['lib/classes/task','badges_cron_task.php',31],['lib/classes/event','comments_viewed.php',51],['mod/data/classes/event','template_viewed.php',55],['mod/wiki/classes/event','page_deleted.php',54],['mod/quiz/classes/event','report_viewed.php',56],['mod/scorm/classes/event','sco_launched.php',64],['mod/glossary/classes/event','entry_updated.php',52],['mod/lesson/classes/event','user_override_created.php',53],['mod/glossary/classes/event','category_updated.php',46],['lib/classes/event','course_updated.php',58],['grade/report/singleview/classes/event','grade_report_viewed.php',39],['mod/feedback/classes/event','response_submitted.php',83],['lib/classes/event','blog_entry_deleted.php',53],['mod/book/classes/event','chapter_deleted.php',79],['report/completion/classes/event','report_viewed.php',49],['lib/classes/event','recent_activity_viewed.php',49],['mod/quiz/classes/event','question_manually_graded.php',55],['mod/assign/classes/event','submission_status_updated.php',79],['lib/classes/event','user_enrolment_updated.php',53],['lib/classes/event','tag_deleted.php',55],['report/completion/classes/event','user_report_viewed.php',49],['report/stats/classes/event','report_viewed.php',56],['lib/classes/event','calendar_event_created.php',58],['mod/assign/classes/event','submission_duplicated.php',77],['lib/classes/event','competency_framework_deleted.php',73],['lib/classes/event','course_section_updated.php',56],['lib/classes/event','message_sent.php',82],['lib/classes/event','calendar_subscription_deleted.php',56],['lib/classes/event','course_category_updated.php',51],['lib/classes/event','user_password_updated.php',70],['enrol/lti/ims-blti','OAuth.php',65],['enrol/lti/ims-blti','OAuth.php',92],['enrol/lti/ims-blti','OAuth.php',116],['mod/forum/classes/event','subscription_deleted.php',65],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',79],['lib/classes/event','user_loggedinas.php',57],['lib/classes/event','competency_template_created.php',63],['lib/classes/event','user_created.php',48],['admin/tool/recyclebin/classes/event','category_bin_item_restored.php',47],['report/loglive/classes/event','report_viewed.php',48],['admin/tool/monitor/classes/event','subscription_created.php',50],['mod/book/classes/event','chapter_viewed.php',79],['lib/classes/event','badge_awarded.php',54],['lib/classes/event','calendar_subscription_created.php',57],['lib/classes/event','enrol_instance_created.php',69],['lib/classes/event','user_list_viewed.php',56],['lib/classes/task','calendar_cron_task.php',31],['mod/forum/classes/event','post_deleted.php',67],['mod/quiz/classes/event','group_override_deleted.php',54],['lib/classes/event','badge_created.php',47],['backup/util/plan','base_plan.class.php',50],['lib/classes/event','base.php',292],['lib/classes/event','competency_framework_viewed.php',69],['lib/classes/event','tag_collection_deleted.php',65],['lib/classes/event','group_member_removed.php',69],['lib/classes/event','grade_report_viewed.php',54],['lib/classes/event','calendar_event_updated.php',58],['mod/assign/submission/onlinetext','locallib.php',40],['lib/classes/event','user_updated.php',48],['mod/lesson/classes/event','page_created.php',54],['backup/util/ui','base_ui_stage.class.php',110],['mod/assign/classes/event','submission_form_viewed.php',82],['auth/ldap/classes/task','sync_task.php',34],['lib/classes/event','course_completion_updated.php',47],['lib/classes/event','competency_plan_review_started.php',75],['lib/classes/event','course_user_report_viewed.php',66],['mod/folder/classes/event','all_files_downloaded.php',60],['mod/workshop/classes/event','assessments_reset.php',74],['lib/tests/fixtures','task_fixtures.php',35],['lib/tests/fixtures','task_fixtures.php',44],['lib/tests/fixtures','task_fixtures.php',53],['mod/data/classes/event','template_updated.php',56],['mod/assign/classes/event','identities_revealed.php',75],['question/classes/bank','copy_action_column.php',35],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',35],['lib/classes/event','notes_viewed.php',49],['admin/tool/recyclebin/classes/event','category_bin_item_created.php',47],['lib/classes/event','competency_plan_viewed.php',63],['mod/data/classes/event','record_updated.php',56],['mod/assign/feedback/file','locallib.php',45],['lib/classes/event','competency_plan_unapproved.php',75],['mod/lesson/classes/event','content_page_viewed.php',48],['mod/assign/feedback/editpdf','locallib.php',43],['lib/dml','sqlsrv_native_moodle_database.php',108],['admin/tool/monitor/classes/event','subscription_deleted.php',50],['mod/assign/classes/event','assessable_submitted.php',109],['mod/quiz/classes/event','attempt_started.php',62],['lib/classes/task','create_contexts_task.php',31],['lib/classes/task','file_trash_cleanup_task.php',31],['lib/classes/event','competency_user_competency_rated.php',82],['mod/forum/classes/event','post_updated.php',67],['admin/tool/cohortroles/classes/task','cohort_role_sync.php',37],['lib/classes/event','course_module_deleted.php',56],['mod/assign/submission/comments','locallib.php',39],['lib/classes/event','competency_plan_review_requested.php',75],['lib/classes/event','user_graded.php',96],['lib/classes/event','webservice_login_failed.php',71],['mod/forum/classes/event','post_created.php',67],['lib/classes/task','complete_plans_task.php',43],['mod/assign/classes/event','submission_status_viewed.php',81],['lib/classes/event','enrol_instance_updated.php',70],['lib/classes/task','messaging_cleanup_task.php',31],['portfolio/picasa','lib.php',33],['admin/tool/capability/classes/event','report_viewed.php',47],['grade/report/singleview/classes/local/ui','unique_name.php',38],['mod/data/classes/event','field_created.php',58],['mod/folder/classes/event','folder_updated.php',48],['lib/classes/event','badge_updated.php',47],['lib/tests/fixtures','event_fixtures.php',34],['lib/classes/task','cache_cleanup_task.php',31],['mod/survey/classes/event','report_viewed.php',55],['mod/quiz/classes/event','attempt_deleted.php',53],['mod/glossary/classes/event','entry_approved.php',46],['mod/wiki/classes/event','page_viewed.php',57],['lib/classes/log','reader.php',30],['lib/classes/task','password_reset_cleanup_task.php',31],['mod/forum/classes/event','readtracking_disabled.php',64],['admin/tool/langimport/classes/event','langpack_imported.php',80],['lib/classes/event','competency_plan_review_stopped.php',75],['admin/tool/langimport/classes/event','langpack_updated.php',80],['lib/classes/event','unknown_logged.php',43],['lib/classes/event','competency_user_competency_viewed_in_plan.php',85],['lib/classes/event','competency_user_competency_viewed_in_course.php',84],['lib/classes/task','search_optimize_task.php',38],['mod/glossary/classes/event','category_created.php',46],['lib/portfolio','plugin.php',120],['report/stats/classes/event','user_report_viewed.php',48],['lib/classes/event','dashboards_reset.php',59],['lib/classes/event','calendar_subscription_updated.php',57],['lib/classes/event','cohort_updated.php',49],['admin/tool/monitor/classes/event','rule_updated.php',50],['mod/lesson/classes/event','page_deleted.php',54],['lib/classes/event','course_section_deleted.php',57],['lib/classes/task','delete_incomplete_users_task.php',31],['lib/classes/task','automated_backup_task.php',31],['admin/tool/monitor/classes/event','subscription_criteria_met.php',55],['lib/classes/event','mnet_access_control_created.php',57],['admin/tool/messageinbound/classes/task','pickup_task.php',38],['mod/forum/classes/event','discussion_created.php',65],['question/classes/bank','creator_name_column.php',28],['lib/classes/event','blog_entries_viewed.php',62],['lib/classes/task','sync_plans_from_template_cohorts_task.php',41],['mod/quiz/classes/event','attempt_preview_started.php',54],['lib/classes/event','content_viewed.php',80],['lib/classes/event','competency_user_evidence_updated.php',64],['lib/dml/tests','dml_test.php',5530],['mod/assign/classes/event','submission_graded.php',78],['mod/assign/classes/event','all_submissions_downloaded.php',75],['lib/classes/event','course_restored.php',58],['lib/classes/event','group_created.php',65],['lib/classes/event','badge_criteria_deleted.php',52],['lib/classes/event','tag_flagged.php',55],['lib/classes/event','competency_plan_completed.php',75],['mod/lesson/classes/event','user_override_updated.php',54],['lib/classes/event','role_allow_override_updated.php',47],['mod/forum/classes/event','discussion_subscription_deleted.php',66],['lib/classes/event','cohort_deleted.php',49],['lib/classes/event','badge_criteria_created.php',52],['admin/tool/log/classes/helper','reader.php',41],['admin/tool/monitor/classes/task','check_subscriptions.php',50],['lib/classes/event','blog_entry_created.php',76],['mod/scorm/classes/event','interactions_viewed.php',63],['mod/workshop/classes/event','submission_assessed.php',76],['lib/classes/event','badge_duplicated.php',47],['backup/util/plan','base_step.class.php',49],['lib/classes/event','course_category_created.php',48],['lib/classes/event','cohort_created.php',49],['lib/classes/event','tag_removed.php',58],['lib/classes/event','competency_plan_approved.php',75],['mod/choice/classes/event','answer_deleted.php',56],['backup/util/ui','restore_ui_stage.class.php',75],['lib/classes/event','competency_user_competency_review_started.php',72],['lib/classes/event','course_reset_ended.php',53],['mod/quiz/classes/event','user_override_created.php',53],['mod/forum/classes/event','course_searched.php',66],['lib/classes/event','message_contact_removed.php',48],['admin/tool/monitor/classes/event','rule_deleted.php',50],['lib/classes/event','message_deleted.php',91],['mod/assign/classes/event','submission_unlocked.php',78],['lib/classes/event','competency_user_competency_review_stopped.php',72],['lib/classes/event','course_module_viewed.php',62],['backup/util/plan','base_task.class.php',58],['question/classes/bank','delete_action_column.php',36]], 469],
'discard_autosaved_step': ['discard_autosaved_step', 'Discard any auto-saved data belonging to this question attempt. ', [['question/engine','questionattempt.php',897]], 2],
'process_response_files': ['process_response_files', 'Handle a submitted variable representing uploaded files. ', [['question/engine','questionattempt.php',1076]], 2],
'get_submitted_data': ['get_submitted_data', 'Get the submitted form data. ', [['admin/tool/lp/classes/form','persistent.php',232],['lib','formslib.php',631],['question/engine','questionattemptstep.php',343],['question/engine','questionattemptstep.php',722],['question/engine','questionattempt.php',1143]], 11],
'fraction_to_mark': ['fraction_to_mark', '', [['question/engine','questionattempt.php',669]], 2],
'get_type_name': ['get_type_name', '', [['question/type','questionbase.php',137]], 2],
'get_component': ['get_component', 'Gets the Frankenstyle component name for this plugin. ', [['availability/classes','frontend.php',86],['lib/classes/task','task_base.php',125],['lib/filebrowser','virtual_root_file.php',191],['grade/grading','lib.php',126],['lib/filestorage','stored_file.php',661],['cache/classes','definition.php',650],['comment','lib.php',975],['grade/grading/form','lib.php',111]], 71],
'get_state': ['get_state', '', [['mod/quiz','attemptlib.php',799],['question/engine','questionattemptstep.php',141],['question/engine','questionattemptstep.php',580],['question/engine','questionattemptstep.php',666],['question/engine','questionattempt.php',589],['cache/classes','factory.php',495]], 113],
'has_autosaved_step': ['has_autosaved_step', '', [['question/engine','questionattempt.php',415]], 5],
'select_variant': ['select_variant', 'Use a strategy to pick a variant. ', [['question/engine','questionattempt.php',928]], 1],
'get_last_qt_var': ['get_last_qt_var', 'Get the latest value of a particular question type variable. That is, get the value from the latest step that has it set. Return null if it is not set in any step. ', [['question/engine','questionattempt.php',496]], 24],
'finish': ['finish', '', [['backup/util/xml/output','file_xml_output.class.php',60],['lib/yuilib/3.17.2/model','model-debug.js',249],['lib/google/src/Google/Service','Games.php',2062],['question/engine/tests','helpers.php',757],['lib/yuilib/3.17.2/model','model.js',249],['question/engine','questionattempt.php',1260],['backup/util/xml/output','memory_xml_output.class.php',55],['admin/tool/uploadcourse/classes','tracker.php',84]], 29],
'get_qt_field_name': ['get_qt_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for a question_type variable belonging to this question_attempt. ', [['question/engine','questionattempt.php',307]], 35],
'get_manual_comment': ['get_manual_comment', '', [['question/engine','questionattempt.php',1361]], 2],
'can_finish_during_attempt': ['can_finish_during_attempt', '', [['question/behaviour/immediatefeedback','behaviour.php',49],['question/behaviour/interactive','behaviour.php',57],['question/behaviour','behaviourbase.php',87],['question/engine','questionattempt.php',1213]], 2],
'get_question': ['get_question', '', [['mod/quiz','attemptlib.php',249],['question/engine/upgrade','upgradelib.php',326],['question/engine','questionusage.php',218],['question/engine','questionattempt.php',204]], 89],
'current': ['current', 'Returns current file info. ', [['lib/filestorage','zip_archive.php',478],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',79],['lib/dml','mssql_native_moodle_recordset.php',66],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',137],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',138],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',186],['lib/dml','mysqli_native_moodle_recordset.php',65],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',135],['lib/horde/framework/Horde/Mail/Rfc822','List.php',380],['lib/dml','pdo_moodle_recordset.php',58],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',205],['lib/phpexcel/PHPExcel','WorksheetIterator.php',71],['backup/util/helper','backup_null_iterator.class.php',40],['lib/horde/framework/Horde','Domhtml.php',268],['lib/dml','sqlsrv_native_moodle_recordset.php',108],['lib/classes/dml','recordset_walk.php',86],['lib/horde/framework/Horde/Imap/Client','Ids.php',383],['backup/util/helper','backup_array_iterator.class.php',47],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',66],['lib/dml','oci_native_moodle_recordset.php',59],['lib/adodb','adodb.inc.php',3049],['lib/adodb','adodb.inc.php',3176],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',134],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',195],['question/engine','questionusage.php',985],['question/engine/tests','helpers.php',1221],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',101],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',197],['lib/google/src/Google','Collection.php',24],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',143],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',346],['question/engine','questionattempt.php',1629],['question/engine','questionattempt.php',1748],['lib/tests','completionlib_test.php',887],['lib/dml','pgsql_native_moodle_recordset.php',86]], 155],
'variant_number_changed': ['variant_number_changed', 'Whether this processing this step has changed the variant number. ', [['question/engine','questionattemptstep.php',539]], 1],
'rewind': ['rewind', '', [], 64],
'is_null': ['is_null', '', [], 2003],
'key': ['key', '', [], 204],
'array_combine': ['array_combine', '', [], 135],
'implode': ['implode', '', [], 1281],
'array_pop': ['array_pop', '', [], 483],
'array_slice': ['array_slice', '', [], 165],
'defined': ['defined', '', [], 4731],
'count': ['count', '', [], 4095],
'preg_quote': ['preg_quote', '', [], 205],
'next': ['next', '', [], 624],
'current': ['current', '', [], 155],
'is_string': ['is_string', '', [], 536],
'array_key_exists': ['array_key_exists', '', [], 1445],
'get_class': ['get_class', '', [], 305],
'substr': ['substr', '', [], 2823],
'range': ['range', '', [], 82],
'str_replace': ['str_replace', '', [], 1648],
'preg_match': ['preg_match', '', [], 1286],
'end': ['end', '', [], 433]};
CLASS_DATA={
'question_attempt_reverse_step_iterator': ['question_attempt_reverse_step_iterator', 'A variant of {@link question_attempt_step_iterator} that iterates through the steps in reverse order. ', [['question/engine','questionattempt.php',1664]], 1],
'question_attempt_step_iterator': ['question_attempt_step_iterator', 'A class abstracting access to the {@link question_attempt::$states} array. ', [['question/engine','questionattempt.php',1603]], 3],
'question_attempt_steps_with_submitted_response_iterator': ['question_attempt_steps_with_submitted_response_iterator', 'A variant of {@link question_attempt_step_iterator} that iterates through the steps with submitted tries. ', [['question/engine','questionattempt.php',1681]], 1],
'question_attempt_step_read_only': ['question_attempt_step_read_only', 'A subclass of {@link question_attempt_step} that cannot be modified. ', [['question/engine','questionattemptstep.php',549]], 4],
'question_attempt': ['question_attempt', 'Tracks an attempt at one particular question in a {@link question_usage_by_activity}. ', [['question/engine','questionattempt.php',30]], 98],
'question_attempt_with_restricted_history': ['question_attempt_with_restricted_history', 'This subclass of question_attempt pretends that only part of the step history exists. It is used for rendering the question in past states. ', [['question/engine','questionattempt.php',1517]], 2],
'question_attempt_pending_step': ['question_attempt_pending_step', 'A subclass of {@link question_attempt_step} used when processing a new submission. ', [['question/engine','questionattemptstep.php',476]], 3],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',239]], 1200],
'question_file_saver': ['question_file_saver', 'This class represents the promise to save some files from a particular draft file area into a particular file area. It is used beause the necessary information about what to save is to hand in the {@link question_attempt::process_response_files()} method, but we don\'t know if this question attempt will actually be saved in the database until later, when the {@link question_engine_unit_of_work} is saved, if it is. ', [['question/engine','datalib.php',1607]], 3],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088],
'question_attempt_step': ['question_attempt_step', 'Stores one step in a {@link question_attempt}. ', [['question/engine','questionattemptstep.php',30]], 166],
'question_null_step': ['question_null_step', 'A null {@link question_attempt_step} returned from {@link question_attempt::get_last_step()} etc. when a an attempt has just been created and there is no acutal step. ', [['question/engine','questionattemptstep.php',571]], 1],
'question_usage_null_observer': ['question_usage_null_observer', 'Null implmentation of the {@link question_usage_watcher} interface. Does nothing. ', [['question/engine','questionusage.php',1094]], 9]};
CONST_DATA={
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'PARAM_RAW_TRIMMED': ['PARAM_RAW_TRIMMED', '', [['lib','moodlelib.php',198]], 55],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 1121],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 736]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
