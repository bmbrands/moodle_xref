<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /question/engine/bank.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='question/engine';
filename='bank.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/question/engine/</a> -> <a href="bank.php.html">bank.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="bank.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="bank.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * More object oriented wrappers around parts of the Moodle question bank.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * In due course, I expect that the question bank will be converted to a</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * fully object oriented structure, at which point this file can be a</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * starting point.</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> *</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @package    moodlecore</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @subpackage questionbank</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> */</span>
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  require_once(<a class="phpfunction" onClick="logFunction('dirname')" href="../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(__FILE__) . '/../type/questiontypebase.php');
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>  
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * This static class provides access to the other question bank.</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> *</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * It provides functions for managing question types and question definitions.</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> *</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> */</span>
<a name="l44"><span class="linenum">  44</span></a>  abstract class question_bank {
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">    // TODO: This limit can be deleted if someday we move all TEXTS to BIG ones. MDL-19603</span>
<a name="l46"><span class="linenum">  46</span></a>      const MAX_SUMMARY_LENGTH = 32000;
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">    /** @var array question type name =&gt; question_type subclass. */</span>
<a name="l49"><span class="linenum">  49</span></a>      private static <a class="var it12046" onMouseOver="hilite(12046)" onMouseOut="lolite()" onClick="logVariable('questiontypes')" href="../../_variables/questiontypes.html">$questiontypes</a> = array();
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">    /** @var array question type name =&gt; 1. Records which question definitions have been loaded. */</span>
<a name="l52"><span class="linenum">  52</span></a>      private static <a class="var it12047" onMouseOver="hilite(12047)" onMouseOut="lolite()" onClick="logVariable('loadedqdefs')" href="../../_variables/loadedqdefs.html">$loadedqdefs</a> = array();
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">    /** @var boolean nasty hack to allow unit tests to call {@link load_question()}. */</span>
<a name="l55"><span class="linenum">  55</span></a>      private static <a class="var it12048" onMouseOver="hilite(12048)" onMouseOut="lolite()" onClick="logVariable('testmode')" href="../../_variables/testmode.html">$testmode</a> = false;
<a name="l56"><span class="linenum">  56</span></a>      private static <a class="var it758" onMouseOver="hilite(758)" onMouseOut="lolite()" onClick="logVariable('testdata')" href="../../_variables/testdata.html">$testdata</a> = array();
<a name="l57"><span class="linenum">  57</span></a>  
<a name="l58"><span class="linenum">  58</span></a>      private static <a class="var it12049" onMouseOver="hilite(12049)" onMouseOut="lolite()" onClick="logVariable('questionconfig')" href="../../_variables/questionconfig.html">$questionconfig</a> = null;
<a name="l59"><span class="linenum">  59</span></a>  
<a name="l60"><span class="linenum">  60</span></a>      <span class="comment">/**</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     * @var array string =&gt; string The standard set of grade options (fractions)</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">     * to use when editing questions, in the range 0 to 1 inclusive. Array keys</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * are string becuase: a) we want grades to exactly 7 d.p., and b. you can't</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * have float array keys in PHP.</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * Initialised by {@link ensure_grade_options_initialised()}.</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     */</span>
<a name="l67"><span class="linenum">  67</span></a>      private static <a class="var it12050" onMouseOver="hilite(12050)" onMouseOut="lolite()" onClick="logVariable('fractionoptions')" href="../../_variables/fractionoptions.html">$fractionoptions</a> = null;
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">    /** @var array string =&gt; string The full standard set of (fractions) -1 to 1 inclusive. */</span>
<a name="l69"><span class="linenum">  69</span></a>      private static <a class="var it12051" onMouseOver="hilite(12051)" onMouseOut="lolite()" onClick="logVariable('fractionoptionsfull')" href="../../_variables/fractionoptionsfull.html">$fractionoptionsfull</a> = null;
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>      <span class="comment">/**</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     * @param string $qtypename a question type name, e.g. 'multichoice'.</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     * @return bool whether that question type is installed in this Moodle.</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">     */</span>
<a name="l75"><span class="linenum">  75</span></a>      public static function <a class="function" onClick="logFunction('is_qtype_installed')" href="../../_functions/is_qtype_installed.html" onMouseOver="funcPopup(event,'is_qtype_installed')">is_qtype_installed</a>(<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>) {
<a name="l76"><span class="linenum">  76</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('plugindir')" href="../../_variables/plugindir.html">$plugindir</a> = <a class="class" onClick="logClass('core_component')" href="../../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_directory')" href="../../_functions/get_plugin_directory.html" onMouseOver="funcPopup(event,'get_plugin_directory')">get_plugin_directory</a>('qtype', <a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>);
<a name="l77"><span class="linenum">  77</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('plugindir')" href="../../_variables/plugindir.html">$plugindir</a> &amp;&amp; <a class="phpfunction" onClick="logFunction('is_readable')" href="../../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('plugindir')" href="../../_variables/plugindir.html">$plugindir</a> . '/questiontype.php');
<a name="l78"><span class="linenum">  78</span></a>      }
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>      <span class="comment">/**</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     * Get the question type class for a particular question type.</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     * @param string $qtypename the question type name. For example 'multichoice' or 'shortanswer'.</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     * @param bool $mustexist if false, the missing question type is returned when</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     *      the requested question type is not installed.</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     * @return question_type the corresponding question type class.</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     */</span>
<a name="l87"><span class="linenum">  87</span></a>      public static function <a class="function" onClick="logFunction('get_qtype')" href="../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>, <a class="var it12052" onMouseOver="hilite(12052)" onMouseOut="lolite()" onClick="logVariable('mustexist')" href="../../_variables/mustexist.html">$mustexist</a> = true) {
<a name="l88"><span class="linenum">  88</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l89"><span class="linenum">  89</span></a>          if (isset(self::<a class="var it12046" onMouseOver="hilite(12046)" onMouseOut="lolite()" onClick="logVariable('questiontypes')" href="../../_variables/questiontypes.html">$questiontypes</a>[<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>])) {
<a name="l90"><span class="linenum">  90</span></a>              return self::<a class="var it12046" onMouseOver="hilite(12046)" onMouseOut="lolite()" onClick="logVariable('questiontypes')" href="../../_variables/questiontypes.html">$questiontypes</a>[<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>];
<a name="l91"><span class="linenum">  91</span></a>          }
<a name="l92"><span class="linenum">  92</span></a>          <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> = <a class="class" onClick="logClass('core_component')" href="../../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_directory')" href="../../_functions/get_plugin_directory.html" onMouseOver="funcPopup(event,'get_plugin_directory')">get_plugin_directory</a>('qtype', <a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>) . '/questiontype.php';
<a name="l93"><span class="linenum">  93</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_readable')" href="../../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>)) {
<a name="l94"><span class="linenum">  94</span></a>              if (<a class="var it12052" onMouseOver="hilite(12052)" onMouseOut="lolite()" onClick="logVariable('mustexist')" href="../../_variables/mustexist.html">$mustexist</a> || <a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a> == 'missingtype') {
<a name="l95"><span class="linenum">  95</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Unknown question type ' . <a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>);
<a name="l96"><span class="linenum">  96</span></a>              } else {
<a name="l97"><span class="linenum">  97</span></a>                  return self::<a class="function" onClick="logFunction('get_qtype')" href="../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>('missingtype');
<a name="l98"><span class="linenum">  98</span></a>              }
<a name="l99"><span class="linenum">  99</span></a>          }
<a name="l100"><span class="linenum"> 100</span></a>          include_once(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>);
<a name="l101"><span class="linenum"> 101</span></a>          <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = 'qtype_' . <a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>;
<a name="l102"><span class="linenum"> 102</span></a>          if (!<a class="phpfunction" onClick="logFunction('class_exists')" href="../../_functions/class_exists.html" onMouseOver="phpfuncPopup(event,'class_exists')">class_exists</a>(<a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>)) {
<a name="l103"><span class="linenum"> 103</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(&quot;Class {<a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>} must be defined in {<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>}.&quot;);
<a name="l104"><span class="linenum"> 104</span></a>          }
<a name="l105"><span class="linenum"> 105</span></a>          self::<a class="var it12046" onMouseOver="hilite(12046)" onMouseOut="lolite()" onClick="logVariable('questiontypes')" href="../../_variables/questiontypes.html">$questiontypes</a>[<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>] = new <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>();
<a name="l106"><span class="linenum"> 106</span></a>          return self::<a class="var it12046" onMouseOver="hilite(12046)" onMouseOut="lolite()" onClick="logVariable('questiontypes')" href="../../_variables/questiontypes.html">$questiontypes</a>[<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>];
<a name="l107"><span class="linenum"> 107</span></a>      }
<a name="l108"><span class="linenum"> 108</span></a>  
<a name="l109"><span class="linenum"> 109</span></a>      <span class="comment">/**</span>
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">     * Load the question configuration data from config_plugins.</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">     * @return object get_config('question') with caching.</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     */</span>
<a name="l113"><span class="linenum"> 113</span></a>      public static function <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>() {
<a name="l114"><span class="linenum"> 114</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(self::<a class="var it12049" onMouseOver="hilite(12049)" onMouseOut="lolite()" onClick="logVariable('questionconfig')" href="../../_variables/questionconfig.html">$questionconfig</a>)) {
<a name="l115"><span class="linenum"> 115</span></a>              self::<a class="var it12049" onMouseOver="hilite(12049)" onMouseOut="lolite()" onClick="logVariable('questionconfig')" href="../../_variables/questionconfig.html">$questionconfig</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('question');
<a name="l116"><span class="linenum"> 116</span></a>          }
<a name="l117"><span class="linenum"> 117</span></a>          return self::<a class="var it12049" onMouseOver="hilite(12049)" onMouseOut="lolite()" onClick="logVariable('questionconfig')" href="../../_variables/questionconfig.html">$questionconfig</a>;
<a name="l118"><span class="linenum"> 118</span></a>      }
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>      <span class="comment">/**</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     * @param string $qtypename the internal name of a question type. For example multichoice.</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * @return bool whether users are allowed to create questions of this type.</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     */</span>
<a name="l124"><span class="linenum"> 124</span></a>      public static function <a class="function" onClick="logFunction('qtype_enabled')" href="../../_functions/qtype_enabled.html" onMouseOver="funcPopup(event,'qtype_enabled')">qtype_enabled</a>(<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>) {
<a name="l125"><span class="linenum"> 125</span></a>          <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a> = self::<a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>();
<a name="l126"><span class="linenum"> 126</span></a>          <a class="var it12053" onMouseOver="hilite(12053)" onMouseOut="lolite()" onClick="logVariable('enabledvar')" href="../../_variables/enabledvar.html">$enabledvar</a> = <a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a> . '_disabled';
<a name="l127"><span class="linenum"> 127</span></a>          return self::<a class="function" onClick="logFunction('qtype_exists')" href="../../_functions/qtype_exists.html" onMouseOver="funcPopup(event,'qtype_exists')">qtype_exists</a>(<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>) &amp;&amp; empty(<a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a>-&gt;<a class="var it12053" onMouseOver="hilite(12053)" onMouseOut="lolite()" onClick="logVariable('enabledvar')" href="../../_variables/enabledvar.html">$enabledvar</a>) &amp;&amp;
<a name="l128"><span class="linenum"> 128</span></a>                  self::<a class="function" onClick="logFunction('get_qtype')" href="../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>)-&gt;<a class="function" onClick="logFunction('menu_name')" href="../../_functions/menu_name.html" onMouseOver="funcPopup(event,'menu_name')">menu_name</a>() != '';
<a name="l129"><span class="linenum"> 129</span></a>      }
<a name="l130"><span class="linenum"> 130</span></a>  
<a name="l131"><span class="linenum"> 131</span></a>      <span class="comment">/**</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * @param string $qtypename the internal name of a question type. For example multichoice.</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     * @return bool whether this question type exists.</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     */</span>
<a name="l135"><span class="linenum"> 135</span></a>      public static function <a class="function" onClick="logFunction('qtype_exists')" href="../../_functions/qtype_exists.html" onMouseOver="funcPopup(event,'qtype_exists')">qtype_exists</a>(<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>) {
<a name="l136"><span class="linenum"> 136</span></a>          return <a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>, <a class="class" onClick="logClass('core_component')" href="../../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('qtype'));
<a name="l137"><span class="linenum"> 137</span></a>      }
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>      <span class="comment">/**</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     * @param $qtypename the internal name of a question type, for example multichoice.</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">     * @return string the human_readable name of this question type, from the language pack.</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">     */</span>
<a name="l143"><span class="linenum"> 143</span></a>      public static function <a class="function" onClick="logFunction('get_qtype_name')" href="../../_functions/get_qtype_name.html" onMouseOver="funcPopup(event,'get_qtype_name')">get_qtype_name</a>(<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>) {
<a name="l144"><span class="linenum"> 144</span></a>          return self::<a class="function" onClick="logFunction('get_qtype')" href="../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>)-&gt;<a class="function" onClick="logFunction('local_name')" href="../../_functions/local_name.html" onMouseOver="funcPopup(event,'local_name')">local_name</a>();
<a name="l145"><span class="linenum"> 145</span></a>      }
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>      <span class="comment">/**</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     * @return array all the installed question types.</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     */</span>
<a name="l150"><span class="linenum"> 150</span></a>      public static function <a class="function" onClick="logFunction('get_all_qtypes')" href="../../_functions/get_all_qtypes.html" onMouseOver="funcPopup(event,'get_all_qtypes')">get_all_qtypes</a>() {
<a name="l151"><span class="linenum"> 151</span></a>          <a class="var it6174" onMouseOver="hilite(6174)" onMouseOut="lolite()" onClick="logVariable('qtypes')" href="../../_variables/qtypes.html">$qtypes</a> = array();
<a name="l152"><span class="linenum"> 152</span></a>          foreach (<a class="class" onClick="logClass('core_component')" href="../../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('qtype') as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a> =&gt; <a class="var it2596" onMouseOver="hilite(2596)" onMouseOut="lolite()" onClick="logVariable('notused')" href="../../_variables/notused.html">$notused</a>) {
<a name="l153"><span class="linenum"> 153</span></a>              try {
<a name="l154"><span class="linenum"> 154</span></a>                  <a class="var it6174" onMouseOver="hilite(6174)" onMouseOut="lolite()" onClick="logVariable('qtypes')" href="../../_variables/qtypes.html">$qtypes</a>[<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>] = self::<a class="function" onClick="logFunction('get_qtype')" href="../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>);
<a name="l155"><span class="linenum"> 155</span></a>              } catch (coding_exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">                // Catching coding_exceptions here means that incompatible</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">                // question types do not cause the rest of Moodle to break.</span>
<a name="l158"><span class="linenum"> 158</span></a>              }
<a name="l159"><span class="linenum"> 159</span></a>          }
<a name="l160"><span class="linenum"> 160</span></a>          return <a class="var it6174" onMouseOver="hilite(6174)" onMouseOut="lolite()" onClick="logVariable('qtypes')" href="../../_variables/qtypes.html">$qtypes</a>;
<a name="l161"><span class="linenum"> 161</span></a>      }
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>      <span class="comment">/**</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">     * Sort an array of question types according to the order the admin set up,</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment">     * and then alphabetically for the rest.</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">     * @param array qtype-&gt;name() =&gt; qtype-&gt;local_name().</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     * @return array sorted array.</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     */</span>
<a name="l169"><span class="linenum"> 169</span></a>      public static function <a class="function" onClick="logFunction('sort_qtype_array')" href="../../_functions/sort_qtype_array.html" onMouseOver="funcPopup(event,'sort_qtype_array')">sort_qtype_array</a>(<a class="var it6174" onMouseOver="hilite(6174)" onMouseOut="lolite()" onClick="logVariable('qtypes')" href="../../_variables/qtypes.html">$qtypes</a>, <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a> = null) {
<a name="l170"><span class="linenum"> 170</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a>)) {
<a name="l171"><span class="linenum"> 171</span></a>              <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a> = self::<a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>();
<a name="l172"><span class="linenum"> 172</span></a>          }
<a name="l173"><span class="linenum"> 173</span></a>  
<a name="l174"><span class="linenum"> 174</span></a>          <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../../_variables/sortorder.html">$sortorder</a> = array();
<a name="l175"><span class="linenum"> 175</span></a>          <a class="var it12054" onMouseOver="hilite(12054)" onMouseOut="lolite()" onClick="logVariable('otherqtypes')" href="../../_variables/otherqtypes.html">$otherqtypes</a> = array();
<a name="l176"><span class="linenum"> 176</span></a>          foreach (<a class="var it6174" onMouseOver="hilite(6174)" onMouseOut="lolite()" onClick="logVariable('qtypes')" href="../../_variables/qtypes.html">$qtypes</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it3994" onMouseOver="hilite(3994)" onMouseOut="lolite()" onClick="logVariable('localname')" href="../../_variables/localname.html">$localname</a>) {
<a name="l177"><span class="linenum"> 177</span></a>              <a class="var it12055" onMouseOver="hilite(12055)" onMouseOut="lolite()" onClick="logVariable('sortvar')" href="../../_variables/sortvar.html">$sortvar</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> . '_sortorder';
<a name="l178"><span class="linenum"> 178</span></a>              if (isset(<a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a>-&gt;<a class="var it12055" onMouseOver="hilite(12055)" onMouseOut="lolite()" onClick="logVariable('sortvar')" href="../../_variables/sortvar.html">$sortvar</a>)) {
<a name="l179"><span class="linenum"> 179</span></a>                  <a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../../_variables/sortorder.html">$sortorder</a>[<a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a>-&gt;<a class="var it12055" onMouseOver="hilite(12055)" onMouseOut="lolite()" onClick="logVariable('sortvar')" href="../../_variables/sortvar.html">$sortvar</a>] = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>;
<a name="l180"><span class="linenum"> 180</span></a>              } else {
<a name="l181"><span class="linenum"> 181</span></a>                  <a class="var it12054" onMouseOver="hilite(12054)" onMouseOut="lolite()" onClick="logVariable('otherqtypes')" href="../../_variables/otherqtypes.html">$otherqtypes</a>[<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it3994" onMouseOver="hilite(3994)" onMouseOut="lolite()" onClick="logVariable('localname')" href="../../_variables/localname.html">$localname</a>;
<a name="l182"><span class="linenum"> 182</span></a>              }
<a name="l183"><span class="linenum"> 183</span></a>          }
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>          <a class="phpfunction" onClick="logFunction('ksort')" href="../../_functions/ksort.html" onMouseOver="phpfuncPopup(event,'ksort')">ksort</a>(<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../../_variables/sortorder.html">$sortorder</a>);
<a name="l186"><span class="linenum"> 186</span></a>          <a class="class" onClick="logClass('core_collator')" href="../../_classes/core_collator.html" onMouseOver="classPopup(event,'core_collator')">core_collator</a>::<a class="phpfunction" onClick="logFunction('asort')" href="../../_functions/asort.html" onMouseOver="phpfuncPopup(event,'asort')">asort</a>(<a class="var it12054" onMouseOver="hilite(12054)" onMouseOut="lolite()" onClick="logVariable('otherqtypes')" href="../../_variables/otherqtypes.html">$otherqtypes</a>);
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>          <a class="var it12019" onMouseOver="hilite(12019)" onMouseOut="lolite()" onClick="logVariable('sortedqtypes')" href="../../_variables/sortedqtypes.html">$sortedqtypes</a> = array();
<a name="l189"><span class="linenum"> 189</span></a>          foreach (<a class="var it4036" onMouseOver="hilite(4036)" onMouseOut="lolite()" onClick="logVariable('sortorder')" href="../../_variables/sortorder.html">$sortorder</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l190"><span class="linenum"> 190</span></a>              <a class="var it12019" onMouseOver="hilite(12019)" onMouseOut="lolite()" onClick="logVariable('sortedqtypes')" href="../../_variables/sortedqtypes.html">$sortedqtypes</a>[<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it6174" onMouseOver="hilite(6174)" onMouseOut="lolite()" onClick="logVariable('qtypes')" href="../../_variables/qtypes.html">$qtypes</a>[<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>];
<a name="l191"><span class="linenum"> 191</span></a>          }
<a name="l192"><span class="linenum"> 192</span></a>          foreach (<a class="var it12054" onMouseOver="hilite(12054)" onMouseOut="lolite()" onClick="logVariable('otherqtypes')" href="../../_variables/otherqtypes.html">$otherqtypes</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it2596" onMouseOver="hilite(2596)" onMouseOut="lolite()" onClick="logVariable('notused')" href="../../_variables/notused.html">$notused</a>) {
<a name="l193"><span class="linenum"> 193</span></a>              <a class="var it12019" onMouseOver="hilite(12019)" onMouseOut="lolite()" onClick="logVariable('sortedqtypes')" href="../../_variables/sortedqtypes.html">$sortedqtypes</a>[<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it6174" onMouseOver="hilite(6174)" onMouseOut="lolite()" onClick="logVariable('qtypes')" href="../../_variables/qtypes.html">$qtypes</a>[<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>];
<a name="l194"><span class="linenum"> 194</span></a>          }
<a name="l195"><span class="linenum"> 195</span></a>          return <a class="var it12019" onMouseOver="hilite(12019)" onMouseOut="lolite()" onClick="logVariable('sortedqtypes')" href="../../_variables/sortedqtypes.html">$sortedqtypes</a>;
<a name="l196"><span class="linenum"> 196</span></a>      }
<a name="l197"><span class="linenum"> 197</span></a>  
<a name="l198"><span class="linenum"> 198</span></a>      <span class="comment">/**</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     * @return array all the question types that users are allowed to create,</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">     *      sorted into the preferred order set on the admin screen.</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">     */</span>
<a name="l202"><span class="linenum"> 202</span></a>      public static function <a class="function" onClick="logFunction('get_creatable_qtypes')" href="../../_functions/get_creatable_qtypes.html" onMouseOver="funcPopup(event,'get_creatable_qtypes')">get_creatable_qtypes</a>() {
<a name="l203"><span class="linenum"> 203</span></a>          <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a> = self::<a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>();
<a name="l204"><span class="linenum"> 204</span></a>          <a class="var it12056" onMouseOver="hilite(12056)" onMouseOut="lolite()" onClick="logVariable('allqtypes')" href="../../_variables/allqtypes.html">$allqtypes</a> = self::<a class="function" onClick="logFunction('get_all_qtypes')" href="../../_functions/get_all_qtypes.html" onMouseOver="funcPopup(event,'get_all_qtypes')">get_all_qtypes</a>();
<a name="l205"><span class="linenum"> 205</span></a>  
<a name="l206"><span class="linenum"> 206</span></a>          <a class="var it12057" onMouseOver="hilite(12057)" onMouseOut="lolite()" onClick="logVariable('qtypenames')" href="../../_variables/qtypenames.html">$qtypenames</a> = array();
<a name="l207"><span class="linenum"> 207</span></a>          foreach (<a class="var it12056" onMouseOver="hilite(12056)" onMouseOut="lolite()" onClick="logVariable('allqtypes')" href="../../_variables/allqtypes.html">$allqtypes</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../_variables/qtype.html">$qtype</a>) {
<a name="l208"><span class="linenum"> 208</span></a>              if (self::<a class="function" onClick="logFunction('qtype_enabled')" href="../../_functions/qtype_enabled.html" onMouseOver="funcPopup(event,'qtype_enabled')">qtype_enabled</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l209"><span class="linenum"> 209</span></a>                  <a class="var it12057" onMouseOver="hilite(12057)" onMouseOut="lolite()" onClick="logVariable('qtypenames')" href="../../_variables/qtypenames.html">$qtypenames</a>[<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../_variables/qtype.html">$qtype</a>-&gt;<a class="function" onClick="logFunction('local_name')" href="../../_functions/local_name.html" onMouseOver="funcPopup(event,'local_name')">local_name</a>();
<a name="l210"><span class="linenum"> 210</span></a>              }
<a name="l211"><span class="linenum"> 211</span></a>          }
<a name="l212"><span class="linenum"> 212</span></a>  
<a name="l213"><span class="linenum"> 213</span></a>          <a class="var it12057" onMouseOver="hilite(12057)" onMouseOut="lolite()" onClick="logVariable('qtypenames')" href="../../_variables/qtypenames.html">$qtypenames</a> = self::<a class="function" onClick="logFunction('sort_qtype_array')" href="../../_functions/sort_qtype_array.html" onMouseOver="funcPopup(event,'sort_qtype_array')">sort_qtype_array</a>(<a class="var it12057" onMouseOver="hilite(12057)" onMouseOut="lolite()" onClick="logVariable('qtypenames')" href="../../_variables/qtypenames.html">$qtypenames</a>);
<a name="l214"><span class="linenum"> 214</span></a>  
<a name="l215"><span class="linenum"> 215</span></a>          <a class="var it12058" onMouseOver="hilite(12058)" onMouseOut="lolite()" onClick="logVariable('creatableqtypes')" href="../../_variables/creatableqtypes.html">$creatableqtypes</a> = array();
<a name="l216"><span class="linenum"> 216</span></a>          foreach (<a class="var it12057" onMouseOver="hilite(12057)" onMouseOut="lolite()" onClick="logVariable('qtypenames')" href="../../_variables/qtypenames.html">$qtypenames</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it2596" onMouseOver="hilite(2596)" onMouseOut="lolite()" onClick="logVariable('notused')" href="../../_variables/notused.html">$notused</a>) {
<a name="l217"><span class="linenum"> 217</span></a>              <a class="var it12058" onMouseOver="hilite(12058)" onMouseOut="lolite()" onClick="logVariable('creatableqtypes')" href="../../_variables/creatableqtypes.html">$creatableqtypes</a>[<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it12056" onMouseOver="hilite(12056)" onMouseOut="lolite()" onClick="logVariable('allqtypes')" href="../../_variables/allqtypes.html">$allqtypes</a>[<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>];
<a name="l218"><span class="linenum"> 218</span></a>          }
<a name="l219"><span class="linenum"> 219</span></a>          return <a class="var it12058" onMouseOver="hilite(12058)" onMouseOut="lolite()" onClick="logVariable('creatableqtypes')" href="../../_variables/creatableqtypes.html">$creatableqtypes</a>;
<a name="l220"><span class="linenum"> 220</span></a>      }
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>      <span class="comment">/**</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     * Load the question definition class(es) belonging to a question type. That is,</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     * include_once('/question/type/' . $qtypename . '/question.php'), with a bit</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * of checking.</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     * @param string $qtypename the question type name. For example 'multichoice' or 'shortanswer'.</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     */</span>
<a name="l228"><span class="linenum"> 228</span></a>      public static function <a class="function" onClick="logFunction('load_question_definition_classes')" href="../../_functions/load_question_definition_classes.html" onMouseOver="funcPopup(event,'load_question_definition_classes')">load_question_definition_classes</a>(<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>) {
<a name="l229"><span class="linenum"> 229</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l230"><span class="linenum"> 230</span></a>          if (isset(self::<a class="var it12047" onMouseOver="hilite(12047)" onMouseOut="lolite()" onClick="logVariable('loadedqdefs')" href="../../_variables/loadedqdefs.html">$loadedqdefs</a>[<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>])) {
<a name="l231"><span class="linenum"> 231</span></a>              return;
<a name="l232"><span class="linenum"> 232</span></a>          }
<a name="l233"><span class="linenum"> 233</span></a>          <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '/question/type/' . <a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a> . '/question.php';
<a name="l234"><span class="linenum"> 234</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_readable')" href="../../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>)) {
<a name="l235"><span class="linenum"> 235</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Unknown question <a class="function" onClick="logFunction('type')" href="../../_functions/type.html" onMouseOver="funcPopup(event,'type')">type</a> (no definition) ' . <a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>);
<a name="l236"><span class="linenum"> 236</span></a>          }
<a name="l237"><span class="linenum"> 237</span></a>          include_once(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>);
<a name="l238"><span class="linenum"> 238</span></a>          self::<a class="var it12047" onMouseOver="hilite(12047)" onMouseOut="lolite()" onClick="logVariable('loadedqdefs')" href="../../_variables/loadedqdefs.html">$loadedqdefs</a>[<a class="var it12016" onMouseOver="hilite(12016)" onMouseOut="lolite()" onClick="logVariable('qtypename')" href="../../_variables/qtypename.html">$qtypename</a>] = 1;
<a name="l239"><span class="linenum"> 239</span></a>      }
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>      <span class="comment">/**</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     * This method needs to be called whenever a question is edited.</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     */</span>
<a name="l244"><span class="linenum"> 244</span></a>      public static function <a class="function" onClick="logFunction('notify_question_edited')" href="../../_functions/notify_question_edited.html" onMouseOver="funcPopup(event,'notify_question_edited')">notify_question_edited</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>) {
<a name="l245"><span class="linenum"> 245</span></a>          <a class="class" onClick="logClass('question_finder')" href="../../_classes/question_finder.html" onMouseOver="classPopup(event,'question_finder')">question_finder</a>::<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;<a class="function" onClick="logFunction('uncache_question')" href="../../_functions/uncache_question.html" onMouseOver="funcPopup(event,'uncache_question')">uncache_question</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>);
<a name="l246"><span class="linenum"> 246</span></a>      }
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>      <span class="comment">/**</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * Load a question definition data from the database. The data will be</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * returned as a plain stdClass object.</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     * @param int $questionid the id of the question to load.</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     * @return object question definition loaded from the database.</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     */</span>
<a name="l254"><span class="linenum"> 254</span></a>      public static function <a class="function" onClick="logFunction('load_question_data')" href="../../_functions/load_question_data.html" onMouseOver="funcPopup(event,'load_question_data')">load_question_data</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>) {
<a name="l255"><span class="linenum"> 255</span></a>          return <a class="class" onClick="logClass('question_finder')" href="../../_classes/question_finder.html" onMouseOver="classPopup(event,'question_finder')">question_finder</a>::<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;<a class="function" onClick="logFunction('load_question_data')" href="../../_functions/load_question_data.html" onMouseOver="funcPopup(event,'load_question_data')">load_question_data</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>);
<a name="l256"><span class="linenum"> 256</span></a>      }
<a name="l257"><span class="linenum"> 257</span></a>  
<a name="l258"><span class="linenum"> 258</span></a>      <span class="comment">/**</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">     * Load a question definition from the database. The object returned</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">     * will actually be of an appropriate {@link question_definition} subclass.</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">     * @param int $questionid the id of the question to load.</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     * @param bool $allowshuffle if false, then any shuffle option on the selected</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     *      quetsion is disabled.</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * @return question_definition loaded from the database.</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     */</span>
<a name="l266"><span class="linenum"> 266</span></a>      public static function <a class="function" onClick="logFunction('load_question')" href="../../_functions/load_question.html" onMouseOver="funcPopup(event,'load_question')">load_question</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>, <a class="var it12059" onMouseOver="hilite(12059)" onMouseOut="lolite()" onClick="logVariable('allowshuffle')" href="../../_variables/allowshuffle.html">$allowshuffle</a> = true) {
<a name="l267"><span class="linenum"> 267</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>          if (self::<a class="var it12048" onMouseOver="hilite(12048)" onMouseOut="lolite()" onClick="logVariable('testmode')" href="../../_variables/testmode.html">$testmode</a>) {
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">            // Evil, test code in production, but now way round it.</span>
<a name="l271"><span class="linenum"> 271</span></a>              return self::<a class="function" onClick="logFunction('return_test_question_data')" href="../../_functions/return_test_question_data.html" onMouseOver="funcPopup(event,'return_test_question_data')">return_test_question_data</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>);
<a name="l272"><span class="linenum"> 272</span></a>          }
<a name="l273"><span class="linenum"> 273</span></a>  
<a name="l274"><span class="linenum"> 274</span></a>          <a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a> = self::<a class="function" onClick="logFunction('load_question_data')" href="../../_functions/load_question_data.html" onMouseOver="funcPopup(event,'load_question_data')">load_question_data</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>);
<a name="l275"><span class="linenum"> 275</span></a>  
<a name="l276"><span class="linenum"> 276</span></a>          if (!<a class="var it12059" onMouseOver="hilite(12059)" onMouseOut="lolite()" onClick="logVariable('allowshuffle')" href="../../_variables/allowshuffle.html">$allowshuffle</a>) {
<a name="l277"><span class="linenum"> 277</span></a>              <a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a>-&gt;<a onClick="logVariable('options')" class="var it39517" onMouseOver="hilite(39517)" onMouseOut="lolite()" href="../../_variables/options.html">options</a>-&gt;shuffleanswers = false;
<a name="l278"><span class="linenum"> 278</span></a>          }
<a name="l279"><span class="linenum"> 279</span></a>          return self::<a class="function" onClick="logFunction('make_question')" href="../../_functions/make_question.html" onMouseOver="funcPopup(event,'make_question')">make_question</a>(<a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a>);
<a name="l280"><span class="linenum"> 280</span></a>      }
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>      <span class="comment">/**</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">     * Convert the question information loaded with {@link get_question_options()}</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     * to a question_definintion object.</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">     * @param object $questiondata raw data loaded from the database.</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     * @return question_definition loaded from the database.</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     */</span>
<a name="l288"><span class="linenum"> 288</span></a>      public static function <a class="function" onClick="logFunction('make_question')" href="../../_functions/make_question.html" onMouseOver="funcPopup(event,'make_question')">make_question</a>(<a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a>) {
<a name="l289"><span class="linenum"> 289</span></a>          return self::<a class="function" onClick="logFunction('get_qtype')" href="../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a>-&gt;<a onClick="logVariable('qtype')" class="var it39517" onMouseOver="hilite(39517)" onMouseOut="lolite()" href="../../_variables/qtype.html">qtype</a>, false)-&gt;<a class="function" onClick="logFunction('make_question')" href="../../_functions/make_question.html" onMouseOver="funcPopup(event,'make_question')">make_question</a>(<a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a>, false);
<a name="l290"><span class="linenum"> 290</span></a>      }
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>      <span class="comment">/**</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     * @return question_finder a question finder.</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     */</span>
<a name="l295"><span class="linenum"> 295</span></a>      public static function <a class="function" onClick="logFunction('get_finder')" href="../../_functions/get_finder.html" onMouseOver="funcPopup(event,'get_finder')">get_finder</a>() {
<a name="l296"><span class="linenum"> 296</span></a>          return <a class="class" onClick="logClass('question_finder')" href="../../_classes/question_finder.html" onMouseOver="classPopup(event,'question_finder')">question_finder</a>::<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>();
<a name="l297"><span class="linenum"> 297</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(self::<a class="var it12060" onMouseOver="hilite(12060)" onMouseOut="lolite()" onClick="logVariable('questionfinder')" href="../../_variables/questionfinder.html">$questionfinder</a>)) {
<a name="l298"><span class="linenum"> 298</span></a>              self::<a class="var it12060" onMouseOver="hilite(12060)" onMouseOut="lolite()" onClick="logVariable('questionfinder')" href="../../_variables/questionfinder.html">$questionfinder</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_finder')" href="../../_classes/question_finder.html" onMouseOver="classPopup(event,'question_finder')">question_finder</a>();
<a name="l299"><span class="linenum"> 299</span></a>          }
<a name="l300"><span class="linenum"> 300</span></a>          return self::<a class="var it12060" onMouseOver="hilite(12060)" onMouseOut="lolite()" onClick="logVariable('questionfinder')" href="../../_variables/questionfinder.html">$questionfinder</a>;
<a name="l301"><span class="linenum"> 301</span></a>      }
<a name="l302"><span class="linenum"> 302</span></a>  
<a name="l303"><span class="linenum"> 303</span></a>      <span class="comment">/**</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">     * Only to be called from unit tests. Allows {@link load_test_data()} to be used.</span>
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">     */</span>
<a name="l306"><span class="linenum"> 306</span></a>      public static function <a class="function" onClick="logFunction('start_unit_test')" href="../../_functions/start_unit_test.html" onMouseOver="funcPopup(event,'start_unit_test')">start_unit_test</a>() {
<a name="l307"><span class="linenum"> 307</span></a>          self::<a class="var it12048" onMouseOver="hilite(12048)" onMouseOut="lolite()" onClick="logVariable('testmode')" href="../../_variables/testmode.html">$testmode</a> = true;
<a name="l308"><span class="linenum"> 308</span></a>      }
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>      <span class="comment">/**</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * Only to be called from unit tests. Allows {@link load_test_data()} to be used.</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     */</span>
<a name="l313"><span class="linenum"> 313</span></a>      public static function <a class="function" onClick="logFunction('end_unit_test')" href="../../_functions/end_unit_test.html" onMouseOver="funcPopup(event,'end_unit_test')">end_unit_test</a>() {
<a name="l314"><span class="linenum"> 314</span></a>          self::<a class="var it12048" onMouseOver="hilite(12048)" onMouseOut="lolite()" onClick="logVariable('testmode')" href="../../_variables/testmode.html">$testmode</a> = false;
<a name="l315"><span class="linenum"> 315</span></a>          self::<a class="var it758" onMouseOver="hilite(758)" onMouseOut="lolite()" onClick="logVariable('testdata')" href="../../_variables/testdata.html">$testdata</a> = array();
<a name="l316"><span class="linenum"> 316</span></a>      }
<a name="l317"><span class="linenum"> 317</span></a>  
<a name="l318"><span class="linenum"> 318</span></a>      private static function <a class="function" onClick="logFunction('return_test_question_data')" href="../../_functions/return_test_question_data.html" onMouseOver="funcPopup(event,'return_test_question_data')">return_test_question_data</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>) {
<a name="l319"><span class="linenum"> 319</span></a>          if (!isset(self::<a class="var it758" onMouseOver="hilite(758)" onMouseOut="lolite()" onClick="logVariable('testdata')" href="../../_variables/testdata.html">$testdata</a>[<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>])) {
<a name="l320"><span class="linenum"> 320</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('question_bank::return_test_data(' . <a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a> .
<a name="l321"><span class="linenum"> 321</span></a>                      ') called, but no matching question has been loaded by load_test_data.');
<a name="l322"><span class="linenum"> 322</span></a>          }
<a name="l323"><span class="linenum"> 323</span></a>          return self::<a class="var it758" onMouseOver="hilite(758)" onMouseOut="lolite()" onClick="logVariable('testdata')" href="../../_variables/testdata.html">$testdata</a>[<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>];
<a name="l324"><span class="linenum"> 324</span></a>      }
<a name="l325"><span class="linenum"> 325</span></a>  
<a name="l326"><span class="linenum"> 326</span></a>      <span class="comment">/**</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">     * To be used for unit testing only. Will throw an exception if</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     * {@link start_unit_test()} has not been called first.</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     * @param object $questiondata a question data object to put in the test data store.</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">     */</span>
<a name="l331"><span class="linenum"> 331</span></a>      public static function <a class="function" onClick="logFunction('load_test_question_data')" href="../../_functions/load_test_question_data.html" onMouseOver="funcPopup(event,'load_test_question_data')">load_test_question_data</a>(question_definition <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>) {
<a name="l332"><span class="linenum"> 332</span></a>          if (!self::<a class="var it12048" onMouseOver="hilite(12048)" onMouseOut="lolite()" onClick="logVariable('testmode')" href="../../_variables/testmode.html">$testmode</a>) {
<a name="l333"><span class="linenum"> 333</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('question_bank::load_test_data called when ' .
<a name="l334"><span class="linenum"> 334</span></a>                      'not in test mode.');
<a name="l335"><span class="linenum"> 335</span></a>          }
<a name="l336"><span class="linenum"> 336</span></a>          self::<a class="var it758" onMouseOver="hilite(758)" onMouseOut="lolite()" onClick="logVariable('testdata')" href="../../_variables/testdata.html">$testdata</a>[<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>;
<a name="l337"><span class="linenum"> 337</span></a>      }
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>      protected static function <a class="function" onClick="logFunction('ensure_fraction_options_initialised')" href="../../_functions/ensure_fraction_options_initialised.html" onMouseOver="funcPopup(event,'ensure_fraction_options_initialised')">ensure_fraction_options_initialised</a>() {
<a name="l340"><span class="linenum"> 340</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(self::<a class="var it12050" onMouseOver="hilite(12050)" onMouseOut="lolite()" onClick="logVariable('fractionoptions')" href="../../_variables/fractionoptions.html">$fractionoptions</a>)) {
<a name="l341"><span class="linenum"> 341</span></a>              return;
<a name="l342"><span class="linenum"> 342</span></a>          }
<a name="l343"><span class="linenum"> 343</span></a>  
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">        // define basic array of grades. This list comprises all fractions of the form:</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment">        // a. p/q for q &lt;= 6, 0 &lt;= p &lt;= q</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment">        // b. p/10 for 0 &lt;= p &lt;= 10</span>
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment">        // c. 1/q for 1 &lt;= q &lt;= 10</span>
<a name="l348"><span class="linenum"> 348</span></a>  <span class="comment">        // d. 1/20</span>
<a name="l349"><span class="linenum"> 349</span></a>          <a class="var it12061" onMouseOver="hilite(12061)" onMouseOut="lolite()" onClick="logVariable('rawfractions')" href="../../_variables/rawfractions.html">$rawfractions</a> = array(
<a name="l350"><span class="linenum"> 350</span></a>              0.9000000,
<a name="l351"><span class="linenum"> 351</span></a>              0.8333333,
<a name="l352"><span class="linenum"> 352</span></a>              0.8000000,
<a name="l353"><span class="linenum"> 353</span></a>              0.7500000,
<a name="l354"><span class="linenum"> 354</span></a>              0.7000000,
<a name="l355"><span class="linenum"> 355</span></a>              0.6666667,
<a name="l356"><span class="linenum"> 356</span></a>              0.6000000,
<a name="l357"><span class="linenum"> 357</span></a>              0.5000000,
<a name="l358"><span class="linenum"> 358</span></a>              0.4000000,
<a name="l359"><span class="linenum"> 359</span></a>              0.3333333,
<a name="l360"><span class="linenum"> 360</span></a>              0.3000000,
<a name="l361"><span class="linenum"> 361</span></a>              0.2500000,
<a name="l362"><span class="linenum"> 362</span></a>              0.2000000,
<a name="l363"><span class="linenum"> 363</span></a>              0.1666667,
<a name="l364"><span class="linenum"> 364</span></a>              0.1428571,
<a name="l365"><span class="linenum"> 365</span></a>              0.1250000,
<a name="l366"><span class="linenum"> 366</span></a>              0.1111111,
<a name="l367"><span class="linenum"> 367</span></a>              0.1000000,
<a name="l368"><span class="linenum"> 368</span></a>              0.0500000,
<a name="l369"><span class="linenum"> 369</span></a>          );
<a name="l370"><span class="linenum"> 370</span></a>  
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">        // Put the None option at the top.</span>
<a name="l372"><span class="linenum"> 372</span></a>          self::<a class="var it12050" onMouseOver="hilite(12050)" onMouseOut="lolite()" onClick="logVariable('fractionoptions')" href="../../_variables/fractionoptions.html">$fractionoptions</a> = array(
<a name="l373"><span class="linenum"> 373</span></a>              '0.0' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('none'),
<a name="l374"><span class="linenum"> 374</span></a>              '1.0' =&gt; '100%',
<a name="l375"><span class="linenum"> 375</span></a>          );
<a name="l376"><span class="linenum"> 376</span></a>          self::<a class="var it12051" onMouseOver="hilite(12051)" onMouseOut="lolite()" onClick="logVariable('fractionoptionsfull')" href="../../_variables/fractionoptionsfull.html">$fractionoptionsfull</a> = array(
<a name="l377"><span class="linenum"> 377</span></a>              '0.0' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('none'),
<a name="l378"><span class="linenum"> 378</span></a>              '1.0' =&gt; '100%',
<a name="l379"><span class="linenum"> 379</span></a>          );
<a name="l380"><span class="linenum"> 380</span></a>  
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">        // The the positive grades in descending order.</span>
<a name="l382"><span class="linenum"> 382</span></a>          foreach (<a class="var it12061" onMouseOver="hilite(12061)" onMouseOut="lolite()" onClick="logVariable('rawfractions')" href="../../_variables/rawfractions.html">$rawfractions</a> as <a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>) {
<a name="l383"><span class="linenum"> 383</span></a>              <a class="var it12062" onMouseOver="hilite(12062)" onMouseOut="lolite()" onClick="logVariable('percentage')" href="../../_variables/percentage.html">$percentage</a> = <a class="function" onClick="logFunction('format_float')" href="../../_functions/format_float.html" onMouseOver="funcPopup(event,'format_float')">format_float</a>(100 * <a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>, 5, true, true) . '%';
<a name="l384"><span class="linenum"> 384</span></a>              self::<a class="var it12050" onMouseOver="hilite(12050)" onMouseOut="lolite()" onClick="logVariable('fractionoptions')" href="../../_variables/fractionoptions.html">$fractionoptions</a>[&quot;{<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>}&quot;] = <a class="var it12062" onMouseOver="hilite(12062)" onMouseOut="lolite()" onClick="logVariable('percentage')" href="../../_variables/percentage.html">$percentage</a>;
<a name="l385"><span class="linenum"> 385</span></a>              self::<a class="var it12051" onMouseOver="hilite(12051)" onMouseOut="lolite()" onClick="logVariable('fractionoptionsfull')" href="../../_variables/fractionoptionsfull.html">$fractionoptionsfull</a>[&quot;{<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>}&quot;] = <a class="var it12062" onMouseOver="hilite(12062)" onMouseOut="lolite()" onClick="logVariable('percentage')" href="../../_variables/percentage.html">$percentage</a>;
<a name="l386"><span class="linenum"> 386</span></a>          }
<a name="l387"><span class="linenum"> 387</span></a>  
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">        // The the negative grades in descending order.</span>
<a name="l389"><span class="linenum"> 389</span></a>          foreach (<a class="phpfunction" onClick="logFunction('array_reverse')" href="../../_functions/array_reverse.html" onMouseOver="phpfuncPopup(event,'array_reverse')">array_reverse</a>(<a class="var it12061" onMouseOver="hilite(12061)" onMouseOut="lolite()" onClick="logVariable('rawfractions')" href="../../_variables/rawfractions.html">$rawfractions</a>) as <a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>) {
<a name="l390"><span class="linenum"> 390</span></a>              self::<a class="var it12051" onMouseOver="hilite(12051)" onMouseOut="lolite()" onClick="logVariable('fractionoptionsfull')" href="../../_variables/fractionoptionsfull.html">$fractionoptionsfull</a>['' . (-<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>)] =
<a name="l391"><span class="linenum"> 391</span></a>                      <a class="function" onClick="logFunction('format_float')" href="../../_functions/format_float.html" onMouseOver="funcPopup(event,'format_float')">format_float</a>(-100 * <a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>, 5, true, true) . '%';
<a name="l392"><span class="linenum"> 392</span></a>          }
<a name="l393"><span class="linenum"> 393</span></a>  
<a name="l394"><span class="linenum"> 394</span></a>          self::<a class="var it12051" onMouseOver="hilite(12051)" onMouseOut="lolite()" onClick="logVariable('fractionoptionsfull')" href="../../_variables/fractionoptionsfull.html">$fractionoptionsfull</a>['-1.0'] = '-100%';
<a name="l395"><span class="linenum"> 395</span></a>      }
<a name="l396"><span class="linenum"> 396</span></a>  
<a name="l397"><span class="linenum"> 397</span></a>      <span class="comment">/**</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">     * @return array string =&gt; string The standard set of grade options (fractions)</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment">     * to use when editing questions, in the range 0 to 1 inclusive. Array keys</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">     * are string becuase: a) we want grades to exactly 7 d.p., and b. you can't</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * have float array keys in PHP.</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     * Initialised by {@link ensure_grade_options_initialised()}.</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     */</span>
<a name="l404"><span class="linenum"> 404</span></a>      public static function <a class="function" onClick="logFunction('fraction_options')" href="../../_functions/fraction_options.html" onMouseOver="funcPopup(event,'fraction_options')">fraction_options</a>() {
<a name="l405"><span class="linenum"> 405</span></a>          self::<a class="function" onClick="logFunction('ensure_fraction_options_initialised')" href="../../_functions/ensure_fraction_options_initialised.html" onMouseOver="funcPopup(event,'ensure_fraction_options_initialised')">ensure_fraction_options_initialised</a>();
<a name="l406"><span class="linenum"> 406</span></a>          return self::<a class="var it12050" onMouseOver="hilite(12050)" onMouseOut="lolite()" onClick="logVariable('fractionoptions')" href="../../_variables/fractionoptions.html">$fractionoptions</a>;
<a name="l407"><span class="linenum"> 407</span></a>      }
<a name="l408"><span class="linenum"> 408</span></a>  
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">    /** @return array string =&gt; string The full standard set of (fractions) -1 to 1 inclusive. */</span>
<a name="l410"><span class="linenum"> 410</span></a>      public static function <a class="function" onClick="logFunction('fraction_options_full')" href="../../_functions/fraction_options_full.html" onMouseOver="funcPopup(event,'fraction_options_full')">fraction_options_full</a>() {
<a name="l411"><span class="linenum"> 411</span></a>          self::<a class="function" onClick="logFunction('ensure_fraction_options_initialised')" href="../../_functions/ensure_fraction_options_initialised.html" onMouseOver="funcPopup(event,'ensure_fraction_options_initialised')">ensure_fraction_options_initialised</a>();
<a name="l412"><span class="linenum"> 412</span></a>          return self::<a class="var it12051" onMouseOver="hilite(12051)" onMouseOut="lolite()" onClick="logVariable('fractionoptionsfull')" href="../../_variables/fractionoptionsfull.html">$fractionoptionsfull</a>;
<a name="l413"><span class="linenum"> 413</span></a>      }
<a name="l414"><span class="linenum"> 414</span></a>  
<a name="l415"><span class="linenum"> 415</span></a>      <span class="comment">/**</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">     * Perform scheduled maintenance tasks relating to the question bank.</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">     */</span>
<a name="l418"><span class="linenum"> 418</span></a>      public static function <a class="function" onClick="logFunction('cron')" href="../../_functions/cron.html" onMouseOver="funcPopup(event,'cron')">cron</a>() {
<a name="l419"><span class="linenum"> 419</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">        // Delete any old question preview that got left in the database.</span>
<a name="l422"><span class="linenum"> 422</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../question/previewlib.php.html">/question/previewlib.php</a>');
<a name="l423"><span class="linenum"> 423</span></a>          <a class="function" onClick="logFunction('question_preview_cron')" href="../../_functions/question_preview_cron.html" onMouseOver="funcPopup(event,'question_preview_cron')">question_preview_cron</a>();
<a name="l424"><span class="linenum"> 424</span></a>  
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">        // Clear older calculated stats from cache.</span>
<a name="l426"><span class="linenum"> 426</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../question/engine/statisticslib.php.html">/question/engine/statisticslib.php</a>');
<a name="l427"><span class="linenum"> 427</span></a>          <a class="function" onClick="logFunction('question_usage_statistics_cron')" href="../../_functions/question_usage_statistics_cron.html" onMouseOver="funcPopup(event,'question_usage_statistics_cron')">question_usage_statistics_cron</a>();
<a name="l428"><span class="linenum"> 428</span></a>      }
<a name="l429"><span class="linenum"> 429</span></a>  }
<a name="l430"><span class="linenum"> 430</span></a>  
<a name="l431"><span class="linenum"> 431</span></a>  
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">/**</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment"> * Class for loading questions according to various criteria.</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment"> *</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment"> */</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('question_finder')" href="../../_classes/question_finder.html" onMouseOver="classPopup(event,'question_finder')">question_finder</a> <span class="keyword">implements</span> <a class="class" onClick="logClass('cache_data_source')" href="../../_classes/cache_data_source.html" onMouseOver="classPopup(event,'cache_data_source')">cache_data_source</a> {
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment">    /** @var question_finder the singleton instance of this class. */</span>
<a name="l440"><span class="linenum"> 440</span></a>      protected static <a class="var it12060" onMouseOver="hilite(12060)" onMouseOut="lolite()" onClick="logVariable('questionfinder')" href="../../_variables/questionfinder.html">$questionfinder</a> = null;
<a name="l441"><span class="linenum"> 441</span></a>  
<a name="l442"><span class="linenum"> 442</span></a>      <span class="comment">/**</span>
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment">     * @return question_finder a question finder.</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">     */</span>
<a name="l445"><span class="linenum"> 445</span></a>      public static function <a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>() {
<a name="l446"><span class="linenum"> 446</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(self::<a class="var it12060" onMouseOver="hilite(12060)" onMouseOut="lolite()" onClick="logVariable('questionfinder')" href="../../_variables/questionfinder.html">$questionfinder</a>)) {
<a name="l447"><span class="linenum"> 447</span></a>              self::<a class="var it12060" onMouseOver="hilite(12060)" onMouseOut="lolite()" onClick="logVariable('questionfinder')" href="../../_variables/questionfinder.html">$questionfinder</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_finder')" href="../../_classes/question_finder.html" onMouseOver="classPopup(event,'question_finder')">question_finder</a>();
<a name="l448"><span class="linenum"> 448</span></a>          }
<a name="l449"><span class="linenum"> 449</span></a>          return self::<a class="var it12060" onMouseOver="hilite(12060)" onMouseOut="lolite()" onClick="logVariable('questionfinder')" href="../../_variables/questionfinder.html">$questionfinder</a>;
<a name="l450"><span class="linenum"> 450</span></a>      }
<a name="l451"><span class="linenum"> 451</span></a>  
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">    /* See cache_data_source::get_instance_for_cache. */</span>
<a name="l453"><span class="linenum"> 453</span></a>      public static function <a class="function" onClick="logFunction('get_instance_for_cache')" href="../../_functions/get_instance_for_cache.html" onMouseOver="funcPopup(event,'get_instance_for_cache')">get_instance_for_cache</a>(cache_definition <a class="var it1605" onMouseOver="hilite(1605)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>) {
<a name="l454"><span class="linenum"> 454</span></a>          return self::<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>();
<a name="l455"><span class="linenum"> 455</span></a>      }
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>      <span class="comment">/**</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">     * @return get the question definition cache we are using.</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">     */</span>
<a name="l460"><span class="linenum"> 460</span></a>      protected function <a class="function" onClick="logFunction('get_data_cache')" href="../../_functions/get_data_cache.html" onMouseOver="funcPopup(event,'get_data_cache')">get_data_cache</a>() {
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">        // Do not double cache here because it may break cache resetting.</span>
<a name="l462"><span class="linenum"> 462</span></a>          return <a class="class" onClick="logClass('cache')" href="../../_classes/cache.html" onMouseOver="classPopup(event,'cache')">cache</a>::<a class="function" onClick="logFunction('make')" href="../../_functions/make.html" onMouseOver="funcPopup(event,'make')">make</a>('core', 'questiondata');
<a name="l463"><span class="linenum"> 463</span></a>      }
<a name="l464"><span class="linenum"> 464</span></a>  
<a name="l465"><span class="linenum"> 465</span></a>      <span class="comment">/**</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">     * This method needs to be called whenever a question is edited.</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">     */</span>
<a name="l468"><span class="linenum"> 468</span></a>      public function <a class="function" onClick="logFunction('uncache_question')" href="../../_functions/uncache_question.html" onMouseOver="funcPopup(event,'uncache_question')">uncache_question</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>) {
<a name="l469"><span class="linenum"> 469</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_data_cache')" href="../../_functions/get_data_cache.html" onMouseOver="funcPopup(event,'get_data_cache')">get_data_cache</a>()-&gt;<a class="function" onClick="logFunction('delete')" href="../../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>);
<a name="l470"><span class="linenum"> 470</span></a>      }
<a name="l471"><span class="linenum"> 471</span></a>  
<a name="l472"><span class="linenum"> 472</span></a>      <span class="comment">/**</span>
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment">     * Load a question definition data from the database. The data will be</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment">     * returned as a plain stdClass object.</span>
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment">     * @param int $questionid the id of the question to load.</span>
<a name="l476"><span class="linenum"> 476</span></a>  <span class="comment">     * @return object question definition loaded from the database.</span>
<a name="l477"><span class="linenum"> 477</span></a>  <span class="comment">     */</span>
<a name="l478"><span class="linenum"> 478</span></a>      public function <a class="function" onClick="logFunction('load_question_data')" href="../../_functions/load_question_data.html" onMouseOver="funcPopup(event,'load_question_data')">load_question_data</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>) {
<a name="l479"><span class="linenum"> 479</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_data_cache')" href="../../_functions/get_data_cache.html" onMouseOver="funcPopup(event,'get_data_cache')">get_data_cache</a>()-&gt;<a class="function" onClick="logFunction('get')" href="../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>);
<a name="l480"><span class="linenum"> 480</span></a>      }
<a name="l481"><span class="linenum"> 481</span></a>  
<a name="l482"><span class="linenum"> 482</span></a>      <span class="comment">/**</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">     * Get the ids of all the questions in a list of categories.</span>
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">     * @param array $categoryids either a categoryid, or a comma-separated list</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment">     *      category ids, or an array of them.</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">     * @param string $extraconditions extra conditions to AND with the rest of</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">     *      the where clause. Must use named parameters.</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">     * @param array $extraparams any parameters used by $extraconditions.</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment">     * @return array questionid =&gt; questionid.</span>
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment">     */</span>
<a name="l491"><span class="linenum"> 491</span></a>      public function <a class="function" onClick="logFunction('get_questions_from_categories')" href="../../_functions/get_questions_from_categories.html" onMouseOver="funcPopup(event,'get_questions_from_categories')">get_questions_from_categories</a>(<a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../../_variables/categoryids.html">$categoryids</a>, <a class="var it12064" onMouseOver="hilite(12064)" onMouseOut="lolite()" onClick="logVariable('extraconditions')" href="../../_variables/extraconditions.html">$extraconditions</a>,
<a name="l492"><span class="linenum"> 492</span></a>              <a class="var it1799" onMouseOver="hilite(1799)" onMouseOut="lolite()" onClick="logVariable('extraparams')" href="../../_variables/extraparams.html">$extraparams</a> = array()) {
<a name="l493"><span class="linenum"> 493</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it12065" onMouseOver="hilite(12065)" onMouseOut="lolite()" onClick="logVariable('qcsql')" href="../../_variables/qcsql.html">$qcsql</a>, <a class="var it12066" onMouseOver="hilite(12066)" onMouseOut="lolite()" onClick="logVariable('qcparams')" href="../../_variables/qcparams.html">$qcparams</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../../_variables/categoryids.html">$categoryids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>, 'qc');
<a name="l496"><span class="linenum"> 496</span></a>  
<a name="l497"><span class="linenum"> 497</span></a>          if (<a class="var it12064" onMouseOver="hilite(12064)" onMouseOut="lolite()" onClick="logVariable('extraconditions')" href="../../_variables/extraconditions.html">$extraconditions</a>) {
<a name="l498"><span class="linenum"> 498</span></a>              <a class="var it12064" onMouseOver="hilite(12064)" onMouseOut="lolite()" onClick="logVariable('extraconditions')" href="../../_variables/extraconditions.html">$extraconditions</a> = ' AND (' . <a class="var it12064" onMouseOver="hilite(12064)" onMouseOut="lolite()" onClick="logVariable('extraconditions')" href="../../_variables/extraconditions.html">$extraconditions</a> . ')';
<a name="l499"><span class="linenum"> 499</span></a>          }
<a name="l500"><span class="linenum"> 500</span></a>  
<a name="l501"><span class="linenum"> 501</span></a>          return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select_menu')" href="../../_functions/get_records_select_menu.html" onMouseOver="funcPopup(event,'get_records_select_menu')">get_records_select_menu</a>('question',
<a name="l502"><span class="linenum"> 502</span></a>                  &quot;category {<a class="var it12065" onMouseOver="hilite(12065)" onMouseOut="lolite()" onClick="logVariable('qcsql')" href="../../_variables/qcsql.html">$qcsql</a>}
<a name="l503"><span class="linenum"> 503</span></a>                   AND parent = 0
<a name="l504"><span class="linenum"> 504</span></a>                   AND hidden = 0
<a name="l505"><span class="linenum"> 505</span></a>                   {<a class="var it12064" onMouseOver="hilite(12064)" onMouseOut="lolite()" onClick="logVariable('extraconditions')" href="../../_variables/extraconditions.html">$extraconditions</a>}&quot;, <a class="var it12066" onMouseOver="hilite(12066)" onMouseOut="lolite()" onClick="logVariable('qcparams')" href="../../_variables/qcparams.html">$qcparams</a> + <a class="var it1799" onMouseOver="hilite(1799)" onMouseOut="lolite()" onClick="logVariable('extraparams')" href="../../_variables/extraparams.html">$extraparams</a>, '', 'id,id AS id2');
<a name="l506"><span class="linenum"> 506</span></a>      }
<a name="l507"><span class="linenum"> 507</span></a>  
<a name="l508"><span class="linenum"> 508</span></a>      <span class="comment">/**</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">     * Get the ids of all the questions in a list of categories, with the number</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment">     * of times they have already been used in a given set of usages.</span>
<a name="l511"><span class="linenum"> 511</span></a>  <span class="comment">     *</span>
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment">     * The result array is returned in order of increasing (count previous uses).</span>
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment">     *</span>
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">     * @param array $categoryids an array question_category ids.</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">     * @param qubaid_condition $qubaids which question_usages to count previous uses from.</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">     * @param string $extraconditions extra conditions to AND with the rest of</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     *      the where clause. Must use named parameters.</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">     * @param array $extraparams any parameters used by $extraconditions.</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">     * @return array questionid =&gt; count of number of previous uses.</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">     */</span>
<a name="l521"><span class="linenum"> 521</span></a>      public function <a class="function" onClick="logFunction('get_questions_from_categories_with_usage_counts')" href="../../_functions/get_questions_from_categories_with_usage_counts.html" onMouseOver="funcPopup(event,'get_questions_from_categories_with_usage_counts')">get_questions_from_categories_with_usage_counts</a>(<a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../../_variables/categoryids.html">$categoryids</a>,
<a name="l522"><span class="linenum"> 522</span></a>              qubaid_condition <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../_variables/qubaids.html">$qubaids</a>, <a class="var it12064" onMouseOver="hilite(12064)" onMouseOut="lolite()" onClick="logVariable('extraconditions')" href="../../_variables/extraconditions.html">$extraconditions</a> = '', <a class="var it1799" onMouseOver="hilite(1799)" onMouseOut="lolite()" onClick="logVariable('extraparams')" href="../../_variables/extraparams.html">$extraparams</a> = array()) {
<a name="l523"><span class="linenum"> 523</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it12065" onMouseOver="hilite(12065)" onMouseOut="lolite()" onClick="logVariable('qcsql')" href="../../_variables/qcsql.html">$qcsql</a>, <a class="var it12066" onMouseOver="hilite(12066)" onMouseOut="lolite()" onClick="logVariable('qcparams')" href="../../_variables/qcparams.html">$qcparams</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../../_variables/categoryids.html">$categoryids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>, 'qc');
<a name="l526"><span class="linenum"> 526</span></a>  
<a name="l527"><span class="linenum"> 527</span></a>          if (<a class="var it12064" onMouseOver="hilite(12064)" onMouseOut="lolite()" onClick="logVariable('extraconditions')" href="../../_variables/extraconditions.html">$extraconditions</a>) {
<a name="l528"><span class="linenum"> 528</span></a>              <a class="var it12064" onMouseOver="hilite(12064)" onMouseOut="lolite()" onClick="logVariable('extraconditions')" href="../../_variables/extraconditions.html">$extraconditions</a> = ' AND (' . <a class="var it12064" onMouseOver="hilite(12064)" onMouseOut="lolite()" onClick="logVariable('extraconditions')" href="../../_variables/extraconditions.html">$extraconditions</a> . ')';
<a name="l529"><span class="linenum"> 529</span></a>          }
<a name="l530"><span class="linenum"> 530</span></a>  
<a name="l531"><span class="linenum"> 531</span></a>          return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql_menu')" href="../../_functions/get_records_sql_menu.html" onMouseOver="funcPopup(event,'get_records_sql_menu')">get_records_sql_menu</a>(&quot;
<a name="l532"><span class="linenum"> 532</span></a>                      SELECT q.id, (SELECT <a class="phpfunction" onClick="logFunction('COUNT')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(1)
<a name="l533"><span class="linenum"> 533</span></a>                                      FROM &quot; . <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../_variables/qubaids.html">$qubaids</a>-&gt;<a class="function" onClick="logFunction('from_question_attempts')" href="../../_functions/from_question_attempts.html" onMouseOver="funcPopup(event,'from_question_attempts')">from_question_attempts</a>('qa') . &quot;
<a name="l534"><span class="linenum"> 534</span></a>                                     WHERE qa.questionid = q.id AND &quot; . <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../_variables/qubaids.html">$qubaids</a>-&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>() . &quot;
<a name="l535"><span class="linenum"> 535</span></a>                                   ) AS previous_attempts
<a name="l536"><span class="linenum"> 536</span></a>  
<a name="l537"><span class="linenum"> 537</span></a>                        FROM {question} q
<a name="l538"><span class="linenum"> 538</span></a>  
<a name="l539"><span class="linenum"> 539</span></a>                       WHERE q.category {<a class="var it12065" onMouseOver="hilite(12065)" onMouseOut="lolite()" onClick="logVariable('qcsql')" href="../../_variables/qcsql.html">$qcsql</a>}
<a name="l540"><span class="linenum"> 540</span></a>                         AND q.parent = 0
<a name="l541"><span class="linenum"> 541</span></a>                         AND q.hidden = 0
<a name="l542"><span class="linenum"> 542</span></a>                        {<a class="var it12064" onMouseOver="hilite(12064)" onMouseOut="lolite()" onClick="logVariable('extraconditions')" href="../../_variables/extraconditions.html">$extraconditions</a>}
<a name="l543"><span class="linenum"> 543</span></a>  
<a name="l544"><span class="linenum"> 544</span></a>                    ORDER BY previous_attempts
<a name="l545"><span class="linenum"> 545</span></a>                  &quot;, <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../_variables/qubaids.html">$qubaids</a>-&gt;<a class="function" onClick="logFunction('from_where_params')" href="../../_functions/from_where_params.html" onMouseOver="funcPopup(event,'from_where_params')">from_where_params</a>() + <a class="var it12066" onMouseOver="hilite(12066)" onMouseOut="lolite()" onClick="logVariable('qcparams')" href="../../_variables/qcparams.html">$qcparams</a> + <a class="var it1799" onMouseOver="hilite(1799)" onMouseOut="lolite()" onClick="logVariable('extraparams')" href="../../_variables/extraparams.html">$extraparams</a>);
<a name="l546"><span class="linenum"> 546</span></a>      }
<a name="l547"><span class="linenum"> 547</span></a>  
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">    /* See cache_data_source::load_for_cache. */</span>
<a name="l549"><span class="linenum"> 549</span></a>      public function <a class="function" onClick="logFunction('load_for_cache')" href="../../_functions/load_for_cache.html" onMouseOver="funcPopup(event,'load_for_cache')">load_for_cache</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>) {
<a name="l550"><span class="linenum"> 550</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l551"><span class="linenum"> 551</span></a>          <a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record_sql')" href="../../_functions/get_record_sql.html" onMouseOver="funcPopup(event,'get_record_sql')">get_record_sql</a>('
<a name="l552"><span class="linenum"> 552</span></a>                                      SELECT q.*, qc.contextid
<a name="l553"><span class="linenum"> 553</span></a>                                      FROM {question} q
<a name="l554"><span class="linenum"> 554</span></a>                                      JOIN {question_categories} qc ON q.category = qc.id
<a name="l555"><span class="linenum"> 555</span></a>                                      WHERE q.id = :id', array('id' =&gt; <a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../_variables/questionid.html">$questionid</a>), <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l556"><span class="linenum"> 556</span></a>          <a class="function" onClick="logFunction('get_question_options')" href="../../_functions/get_question_options.html" onMouseOver="funcPopup(event,'get_question_options')">get_question_options</a>(<a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a>);
<a name="l557"><span class="linenum"> 557</span></a>          return <a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a>;
<a name="l558"><span class="linenum"> 558</span></a>      }
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">    /* See cache_data_source::load_many_for_cache. */</span>
<a name="l561"><span class="linenum"> 561</span></a>      public function <a class="function" onClick="logFunction('load_many_for_cache')" href="../../_functions/load_many_for_cache.html" onMouseOver="funcPopup(event,'load_many_for_cache')">load_many_for_cache</a>(array <a class="var it3258" onMouseOver="hilite(3258)" onMouseOut="lolite()" onClick="logVariable('questionids')" href="../../_variables/questionids.html">$questionids</a>) {
<a name="l562"><span class="linenum"> 562</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l563"><span class="linenum"> 563</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it12067" onMouseOver="hilite(12067)" onMouseOut="lolite()" onClick="logVariable('idcondition')" href="../../_variables/idcondition.html">$idcondition</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it3258" onMouseOver="hilite(3258)" onMouseOut="lolite()" onClick="logVariable('questionids')" href="../../_variables/questionids.html">$questionids</a>);
<a name="l564"><span class="linenum"> 564</span></a>          <a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>('
<a name="l565"><span class="linenum"> 565</span></a>                                              SELECT q.*, qc.contextid
<a name="l566"><span class="linenum"> 566</span></a>                                              FROM {question} q
<a name="l567"><span class="linenum"> 567</span></a>                                              JOIN {question_categories} qc ON q.category = qc.id
<a name="l568"><span class="linenum"> 568</span></a>                                              WHERE q.id ' . <a class="var it12067" onMouseOver="hilite(12067)" onMouseOut="lolite()" onClick="logVariable('idcondition')" href="../../_variables/idcondition.html">$idcondition</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l569"><span class="linenum"> 569</span></a>  
<a name="l570"><span class="linenum"> 570</span></a>          foreach (<a class="var it3258" onMouseOver="hilite(3258)" onMouseOut="lolite()" onClick="logVariable('questionids')" href="../../_variables/questionids.html">$questionids</a> as <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l571"><span class="linenum"> 571</span></a>              if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>, <a class="var it3258" onMouseOver="hilite(3258)" onMouseOut="lolite()" onClick="logVariable('questionids')" href="../../_variables/questionids.html">$questionids</a>)) {
<a name="l572"><span class="linenum"> 572</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_missing_record_exception')" href="../../_classes/dml_missing_record_exception.html" onMouseOver="classPopup(event,'dml_missing_record_exception')">dml_missing_record_exception</a>('question', '', array('id' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>));
<a name="l573"><span class="linenum"> 573</span></a>              }
<a name="l574"><span class="linenum"> 574</span></a>              <a class="function" onClick="logFunction('get_question_options')" href="../../_functions/get_question_options.html" onMouseOver="funcPopup(event,'get_question_options')">get_question_options</a>(<a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a>[<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>]);
<a name="l575"><span class="linenum"> 575</span></a>          }
<a name="l576"><span class="linenum"> 576</span></a>          return <a class="var it4736" onMouseOver="hilite(4736)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../_variables/questiondata.html">$questiondata</a>;
<a name="l577"><span class="linenum"> 577</span></a>      }
<a name="l578"><span class="linenum"> 578</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_data_cache': ['get_data_cache', '', [['question/engine','bank.php',460]], 2],
'question_preview_cron': ['question_preview_cron', 'Scheduled tasks relating to question preview. Specifically, delete any old previews that are left over in the database. ', [['question','previewlib.php',331]], 1],
'get_question_options': ['get_question_options', '', [['question/type/multianswer','questiontype.php',44],['question/type/multichoice','questiontype.php',40],['question/type/match','questiontype.php',40],['lib','questionlib.php',806],['question/type/essay','questiontype.php',47],['question/type/numerical','questiontype.php',55],['question/type/randomsamatch','questiontype.php',53],['question/type/calculated','questiontype.php',47],['question/type','questiontypebase.php',743],['question/type/random','questiontype.php',118],['question/type/truefalse','questiontype.php',111]], 16],
'is_qtype_installed': ['is_qtype_installed', '', [['question/engine','bank.php',75]], 5],
'get_instance': ['get_instance', 'Returns the object of type gradingform_XXX_instance (where XXX is the plugin method name) ', [['grade/grading/form','lib.php',474],['blog','locallib.php',859],['question/engine','bank.php',445],['mod/assign','locallib.php',1164],['backup/util/helper','restore_logs_processor.class.php',69],['repository','lib.php',1135],['mnet/service/enrol','locallib.php',57],['lib','externallib.php',794],['backup/util/output','output_controller.class.php',53]], 393],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'get_instance_for_cache': ['get_instance_for_cache', '', [['question/engine','bank.php',453],['cache/classes','interfaces.php',413],['cache/tests/fixtures','lib.php',358]], 0],
'get_records_select_menu': ['get_records_select_menu', 'Get the first two columns from a number of records as an associative array which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1358]], 15],
'get_questions_from_categories': ['get_questions_from_categories', 'Get the ids of all the questions in a list of categories. ', [['question/engine','bank.php',482]], 2],
'local_name': ['local_name', '', [['question/type','questiontypebase.php',76]], 12],
'get_plugin_directory': ['get_plugin_directory', 'Returns the exact absolute path to plugin directory. ', [['lib/classes','component.php',890],['lib','deprecatedlib.php',508]], 21],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1583],['lib/dml','moodle_database.php',678]], 375],
'load_question_data': ['load_question_data', 'Load a question definition data from the database. The data will be returned as a plain stdClass object. ', [['question/engine','bank.php',248],['question/engine','bank.php',472]], 3],
'get_all_qtypes': ['get_all_qtypes', '', [['question/engine','bank.php',150]], 9],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','oci_native_moodle_database.php',1102],['lib/dml','sqlsrv_native_moodle_database.php',823],['lib/dml','mssql_native_moodle_database.php',741],['lib/dml','mysqli_native_moodle_database.php',1049],['lib/dml/tests','dml_test.php',5424],['lib/dml','pdo_moodle_database.php',308]], 678],
'delete': ['delete', 'Deletes a key pair ', [['lib/zend/Zend/Service/Amazon/Ec2','Keypair.php',110],['lib/google/src/Google/Service','Reseller.php',440],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',1006],['lib/adodb','adodb-active-recordx.inc.php',949],['lib/zend/Zend/Service/Delicious','Post.php',236],['lib/grade','grade_object.php',270],['lib/zend/Zend/Gdata','Gapps.php',258],['lib/google/src/Google/Service','Fusiontables.php',644],['lib/google/src/Google/Service','Fusiontables.php',809],['lib/google/src/Google/Service','Fusiontables.php',934],['lib/google/src/Google/Service','Fusiontables.php',1127],['lib/google/src/Google/Service','Fusiontables.php',1188],['blog','locallib.php',325],['lib/google/src/Google/Service','Blogger.php',1051],['lib/google/src/Google/Service','Blogger.php',1212],['lib/google/src/Google/Service','Blogger.php',1434],['lib/portfolio','plugin.php',692],['lib/google/src/Google/Service','AdExchangeBuyer.php',605],['lib/google/src/Google/Service','Manager.php',240],['lib/google/src/Google/Service','Manager.php',320],['lib/zend/Zend/Service/Amazon/Ec2','Securitygroups.php',137],['lib','webdavlib.php',691],['lib/grade','grade_item.php',354],['lib/google/src/Google/Service','Gmail.php',686],['lib/google/src/Google/Service','Gmail.php',843],['lib/google/src/Google/Service','Gmail.php',936],['lib/google/src/Google/Service','Gmail.php',1146],['course','lib.php',3133],['lib/google/src/Google/Service','Mirror.php',424],['lib/google/src/Google/Service','Mirror.php',592],['lib/google/src/Google/Service','Mirror.php',660],['lib/google/src/Google/Service','Mirror.php',771],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',731],['lib/google/src/Google/Service','Genomics.php',963],['lib/google/src/Google/Service','Genomics.php',1327],['lib/google/src/Google/Service','Genomics.php',1399],['cache/classes','interfaces.php',161],['lib/google/src/Google/Service','Dfareporting.php',470],['lib/zend/Zend/Gdata/Gbase','ItemEntry.php',133],['lib/google/src/Google/Service','Licensing.php',221],['lib/google/src/Google/Service','Drive.php',1462],['lib/google/src/Google/Service','Drive.php',1536],['lib/google/src/Google/Service','Drive.php',1681],['lib/google/src/Google/Service','Drive.php',1932],['lib/google/src/Google/Service','Drive.php',2002],['lib/google/src/Google/Service','Drive.php',2131],['lib/google/src/Google/Service','Drive.php',2294],['lib/google/src/Google/Service','Drive.php',2414],['completion','data_object.php',272],['lib/google/src/Google/Service','Books.php',1804],['lib/zend/Zend/Gdata','App.php',914],['lib/google/src/Google/Cache','Memcache.php',142],['lib/google/src/Google/Service','Bigquery.php',512],['lib/google/src/Google/Service','Bigquery.php',822],['cache','disabledlib.php',102],['lib/zend/Zend/Server','Cache.php',132],['lib/zend/Zend/Gdata/App','Entry.php',212],['cache/stores/memcached','lib.php',368],['lib/google/src/Google/Service','YouTube.php',1470],['lib/google/src/Google/Service','YouTube.php',1979],['lib/google/src/Google/Service','YouTube.php',2277],['lib/google/src/Google/Service','YouTube.php',2510],['lib/google/src/Google/Service','YouTube.php',2657],['lib/google/src/Google/Service','YouTube.php',2998],['lib/google/src/Google/Service','YouTube.php',3196],['lib/google/src/Google/Service','Webmasters.php',298],['lib/google/src/Google/Service','Webmasters.php',388],['lib/google/src/Google/Service','Autoscaler.php',314],['lib/google/src/Google/Service','Autoscaler.php',428],['calendar','lib.php',2388],['lib/zend/Zend/Service/Amazon','Sqs.php',129],['lib/google/src/Google/Service','ShoppingContent.php',553],['lib/google/src/Google/Service','ShoppingContent.php',735],['lib/google/src/Google/Service','ShoppingContent.php',969],['mod/lesson','locallib.php',1039],['mod/lesson','locallib.php',2274],['lib/google/src/Google/Service','SQLAdmin.php',628],['lib/google/src/Google/Service','SQLAdmin.php',923],['lib/google/src/Google/Service','Fitness.php',458],['lib/google/src/Google/Service','Fitness.php',563],['lib/google/src/Google/Service','TagManager.php',1049],['lib/google/src/Google/Service','TagManager.php',1140],['lib/google/src/Google/Service','TagManager.php',1233],['lib/google/src/Google/Service','TagManager.php',1326],['lib/google/src/Google/Service','TagManager.php',1419],['lib/google/src/Google/Service','TagManager.php',1513],['lib/google/src/Google/Service','TagManager.php',1607],['lib/google/src/Google/Service','TagManager.php',1757],['lib/google/src/Google/Service','Directory.php',1300],['lib/google/src/Google/Service','Directory.php',1477],['lib/google/src/Google/Service','Directory.php',1587],['lib/google/src/Google/Service','Directory.php',1642],['lib/google/src/Google/Service','Directory.php',1769],['lib/google/src/Google/Service','Directory.php',1838],['lib/google/src/Google/Service','Directory.php',1935],['lib/google/src/Google/Service','Directory.php',2042],['lib/google/src/Google/Service','Directory.php',2144],['lib/google/src/Google/Service','Directory.php',2205],['lib/google/src/Google/Service','Directory.php',2405],['lib/google/src/Google/Service','Directory.php',2480],['cache/stores/static','lib.php',374],['lib/google/src/Google/Service','AppState.php',153],['lib/google/src/Google/Service','Taskqueue.php',292],['lib/google/src/Google/Service','Container.php',343],['lib/google/src/Google/Service','AndroidPublisher.php',1177],['lib/google/src/Google/Service','AndroidPublisher.php',1257],['lib/google/src/Google/Service','AndroidPublisher.php',1595],['lib/google/src/Google/Service','AndroidPublisher.php',1690],['lib/google/src/Google/Service','AndroidPublisher.php',1972],['repository','lib.php',427],['repository','lib.php',2012],['lib','accesslib.php',5529],['lib/google/src/Google/Service','AdSenseHost.php',733],['lib/google/src/Google/Service','AdSenseHost.php',1009],['lib/google/src/Google/Service','AdSenseHost.php',1167],['cache/stores/memcache','lib.php',401],['lib','filelib.php',3440],['lib/google/src/Google/Service','MapsEngine.php',1692],['lib/google/src/Google/Service','MapsEngine.php',1990],['lib/google/src/Google/Service','MapsEngine.php',2343],['lib/google/src/Google/Service','MapsEngine.php',2650],['lib/google/src/Google/Service','MapsEngine.php',2911],['lib/grade','grade_grade.php',955],['comment','lib.php',786],['lib/google/src/Google/Service','SiteVerification.php',138],['lib/google/src/Google/Service','Prediction.php',261],['cache/stores/session','lib.php',417],['cache/classes','dummystore.php',198],['lib/google/src/Google/Service','Compute.php',2812],['lib/google/src/Google/Service','Compute.php',2896],['lib/google/src/Google/Service','Compute.php',3139],['lib/google/src/Google/Service','Compute.php',3225],['lib/google/src/Google/Service','Compute.php',3361],['lib/google/src/Google/Service','Compute.php',3463],['lib/google/src/Google/Service','Compute.php',3543],['lib/google/src/Google/Service','Compute.php',3662],['lib/google/src/Google/Service','Compute.php',3725],['lib/google/src/Google/Service','Compute.php',3844],['lib/google/src/Google/Service','Compute.php',3941],['lib/google/src/Google/Service','Compute.php',4080],['lib/google/src/Google/Service','Compute.php',4406],['lib/google/src/Google/Service','Compute.php',4543],['lib/google/src/Google/Service','Compute.php',4660],['lib/google/src/Google/Service','Compute.php',4740],['lib/google/src/Google/Service','Compute.php',4806],['lib/google/src/Google/Service','Compute.php',4927],['lib/google/src/Google/Service','Compute.php',5069],['lib/google/src/Google/Service','Compute.php',5229],['lib/google/src/Google/Service','Compute.php',5360],['badges/criteria','award_criteria.php',330],['badges/criteria','award_criteria_manual.php',220],['lib/google/src/Google/Service','Calendar.php',886],['lib/google/src/Google/Service','Calendar.php',1040],['lib/google/src/Google/Service','Calendar.php',1228],['lib/google/src/Google/Service','Calendar.php',1362],['lib/google/src/Google/Service','Analytics.php',2068],['lib/google/src/Google/Service','Analytics.php',2211],['lib/google/src/Google/Service','Analytics.php',2293],['lib/google/src/Google/Service','Analytics.php',2414],['lib/google/src/Google/Service','Analytics.php',2631],['lib/google/src/Google/Service','Analytics.php',2760],['lib/google/src/Google/Service','Analytics.php',2851],['lib/google/src/Google/Service','Analytics.php',3181],['lib/google/src/Google/Service','Analytics.php',3406],['lib/google/src/Google/Service','Tasks.php',309],['lib/google/src/Google/Service','Tasks.php',427],['cache/classes','loaders.php',777],['cache/classes','loaders.php',1491],['cache/classes','loaders.php',1859],['cache/stores/mongodb','lib.php',361],['lib/grade','grade_category.php',259],['cache/stores/file','lib.php',392],['lib/google/src/Google/Service','Storage.php',945],['lib/google/src/Google/Service','Storage.php',1060],['lib/google/src/Google/Service','Storage.php',1227],['lib/google/src/Google/Service','Storage.php',1349],['lib/google/src/Google/Service','Storage.php',1565],['admin/tool/uploadcourse/classes','course.php',226],['lib/google/src/Google/Cache','Null.php',51],['lib/filestorage','stored_file.php',323],['lib/filebrowser','virtual_root_file.php',69],['lib/google/src/Google/Service','AdSense.php',1257],['lib/google/src/Google/Service','AdSense.php',1729],['lib/google/src/Google/Service','Pubsub.php',239],['lib/google/src/Google/Service','Pubsub.php',378],['lib/grade','grade_scale.php',136],['lib/filebrowser','file_info.php',418],['lib/google/src/Google/Cache','File.php',106],['lib/htmlpurifier/HTMLPurifier','Zipper.php',89],['lib/google/src/Google/Service','Dns.php',370],['lib/filebrowser','file_info_stored.php',631],['lib/google/src/Google/Service','Replicapool.php',374],['lib/google/src/Google/Service','Resourceviews.php',419],['lib','badgeslib.php',620],['lib/google/src/Google/Cache','Apc.php',103],['lib/adodb','adodb-active-record.inc.php',792],['mnet','peer.php',122],['lib/grade','grade_outcome.php',97]], 260],
'notify_question_edited': ['notify_question_edited', 'This method needs to be called whenever a question is edited. ', [['question/engine','bank.php',241]], 5],
'type': ['type', 'TYPE ', [['lib/phpexcel/PHPExcel/Calculation','Functions.php',543],['lib','navigationlib.php',900]], 131],
'get_qtype': ['get_qtype', 'Get the question type class for a particular question type. ', [['question/engine','bank.php',80],['question/format/xml','format.php',995]], 100],
'question_usage_statistics_cron': ['question_usage_statistics_cron', 'Question statistics cron code. Deletes cached stats more than a certain age. ', [['question/engine','statisticslib.php',29]], 1],
'load_question_definition_classes': ['load_question_definition_classes', 'Load the question definition class(es) belonging to a question type. That is, include_once(\'/question/type/\' . $qtypename . \'/question.php\'), with a bit of checking. ', [['question/engine','bank.php',222]], 35],
'get_creatable_qtypes': ['get_creatable_qtypes', '', [['question/engine','bank.php',202]], 2],
'get_config': ['get_config', 'Get a configuration value for this plugin ', [['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546],['question/engine','bank.php',109],['lib','moodlelib.php',1404],['lib','enrollib.php',1141],['lib/editor/tinymce/classes','plugin.php',73],['admin/tool/log/classes/helper','store.php',63]], 847],
'get_plugin_list': ['get_plugin_list', 'Get list of plugins of given type. ', [['lib/classes','component.php',781],['lib','deprecatedlib.php',467],['admin/tool/monitor/classes','eventlist.php',176]], 184],
'load_for_cache': ['load_for_cache', '', [['question/engine','bank.php',549],['cache/classes','interfaces.php',422],['cache/tests/fixtures','lib.php',368]], 4],
'from_question_attempts': ['from_question_attempts', '', [['question/engine','datalib.php',1877],['question/engine','datalib.php',1958]], 11],
'format_float': ['format_float', 'This function should be identical to {@link qtype_calculated_variable_substituter::format_float()}. Except that we do not try to do locale-aware replacement of the decimal point. ', [['question/type/calculated/db','upgradelib.php',205],['lib','moodlelib.php',7707],['question/type/calculatedmulti/db','upgradelib.php',229],['question/type/calculated','question.php',328]], 154],
'ensure_fraction_options_initialised': ['ensure_fraction_options_initialised', '', [['question/engine','bank.php',339]], 2],
'start_unit_test': ['start_unit_test', 'Only to be called from unit tests. Allows {@link load_test_data()} to be used. ', [['question/engine','bank.php',303]], 9],
'get_finder': ['get_finder', '', [['question/engine','bank.php',295]], 4],
'sort_qtype_array': ['sort_qtype_array', 'Sort an array of question types according to the order the admin set up, and then alphabetically for the rest. ', [['question/engine','bank.php',163]], 3],
'end_unit_test': ['end_unit_test', 'Only to be called from unit tests. Allows {@link load_test_data()} to be used. ', [['question/engine','bank.php',310]], 9],
'qtype_enabled': ['qtype_enabled', '', [['question/engine','bank.php',124]], 2],
'get_record_sql': ['get_record_sql', 'Get a single database record as an object using a SQL statement. ', [['lib/dml','oci_native_moodle_database.php',1035],['lib/dml','moodle_database.php',1457]], 140],
'load_test_question_data': ['load_test_question_data', 'To be used for unit testing only. Will throw an exception if {@link start_unit_test()} has not been called first. ', [['question/engine','bank.php',326]], 6],
'get': ['get', 'Gets a customer resource if one exists and is owned by the reseller. (customers.get) ', [['lib/google/src/Google/Service','Reseller.php',294],['lib/google/src/Google/Service','Reseller.php',457],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',7],['lib/google/src/Google/Service','Replicapoolupdater.php',275],['lib/zend/Zend/Gdata','Gapps.php',187],['lib/google/src/Google/Service','Fusiontables.php',658],['lib/google/src/Google/Service','Fusiontables.php',823],['lib/google/src/Google/Service','Fusiontables.php',947],['lib/google/src/Google/Service','Fusiontables.php',1141],['lib/google/src/Google/Service','Fusiontables.php',1202],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',148],['lib/htmlpurifier/HTMLPurifier','Context.php',36],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',67],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',78],['lib/lessphp','Cache.php',27],['lib/google/src/Google/Service','Blogger.php',931],['lib/google/src/Google/Service','Blogger.php',962],['lib/google/src/Google/Service','Blogger.php',1066],['lib/google/src/Google/Service','Blogger.php',1184],['lib/google/src/Google/Service','Blogger.php',1226],['lib/google/src/Google/Service','Blogger.php',1365],['lib/google/src/Google/Service','Blogger.php',1448],['lib/google/src/Google/Service','Blogger.php',1669],['lib/google/src/Google/Service','Doubleclicksearch.php',256],['lib/google/src/Google/Service','Doubleclicksearch.php',380],['lib/portfolio','plugin.php',631],['lib/google/src/Google/Service','AdExchangeBuyer.php',349],['lib/google/src/Google/Service','AdExchangeBuyer.php',419],['lib/google/src/Google/Service','AdExchangeBuyer.php',460],['lib/google/src/Google/Service','AdExchangeBuyer.php',528],['lib/google/src/Google/Service','AdExchangeBuyer.php',620],['lib/google/src/Google/Service','Manager.php',255],['lib/google/src/Google/Service','Manager.php',334],['lib/google/src/Google/Service','Reports.php',374],['lib/google/src/Google/Service','Reports.php',408],['lib/portfolio','exporter.php',134],['lib','webdavlib.php',264],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',105],['lib/simplepie/library/SimplePie/Parse','Date.php',567],['lib/google/src/Google/Service','Gmail.php',702],['lib/google/src/Google/Service','Gmail.php',859],['lib/google/src/Google/Service','Gmail.php',952],['lib/google/src/Google/Service','Gmail.php',1118],['lib/google/src/Google/Service','Gmail.php',1162],['lib/google/src/Google/Service','Plus.php',352],['lib/google/src/Google/Service','Plus.php',427],['lib/google/src/Google/Service','Plus.php',547],['lib/horde/framework/Horde/Support','ConsistentHash.php',69],['lib/testing/classes','nasty_strings.php',73],['lib/google/src/Google/Service','Mirror.php',437],['lib/google/src/Google/Service','Mirror.php',522],['lib/google/src/Google/Service','Mirror.php',562],['lib/google/src/Google/Service','Mirror.php',673],['lib/google/src/Google/Service','Mirror.php',785],['lib/google/src/Google/Service','Genomics.php',645],['lib/google/src/Google/Service','Genomics.php',744],['lib/google/src/Google/Service','Genomics.php',891],['lib/google/src/Google/Service','Genomics.php',997],['lib/google/src/Google/Service','Genomics.php',1187],['lib/google/src/Google/Service','Genomics.php',1269],['lib/google/src/Google/Service','Genomics.php',1340],['lib/google/src/Google/Service','Genomics.php',1430],['lib/google/src/Google/Service','Urlshortener.php',108],['cache/classes','interfaces.php',41],['lib/google/src/Google/Service','Dfareporting.php',421],['lib/google/src/Google/Service','Dfareporting.php',484],['lib/google/src/Google/Service','Dfareporting.php',626],['lib/google/src/Google/Service','Dfareporting.php',675],['lib/google/src/Google/Service','PlusDomains.php',467],['lib/google/src/Google/Service','PlusDomains.php',592],['lib/google/src/Google/Service','PlusDomains.php',718],['lib/google/src/Google/Service','PlusDomains.php',812],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',64],['lib/google/src/Google/Service','Licensing.php',236],['lib/google/src/Google/Service','Drive.php',1277],['lib/google/src/Google/Service','Drive.php',1313],['lib/google/src/Google/Service','Drive.php',1366],['lib/google/src/Google/Service','Drive.php',1476],['lib/google/src/Google/Service','Drive.php',1550],['lib/google/src/Google/Service','Drive.php',1706],['lib/google/src/Google/Service','Drive.php',1946],['lib/google/src/Google/Service','Drive.php',2016],['lib/google/src/Google/Service','Drive.php',2147],['lib/google/src/Google/Service','Drive.php',2241],['lib/google/src/Google/Service','Drive.php',2309],['lib/google/src/Google/Service','Drive.php',2428],['lib/google/src/Google/Service','Books.php',1343],['lib/google/src/Google/Service','Books.php',1512],['lib/google/src/Google/Service','Books.php',1564],['lib/google/src/Google/Service','Books.php',1639],['lib/google/src/Google/Service','Books.php',1819],['lib/google/src/Google/Service','Books.php',1960],['lib/google/src/Google/Service','Books.php',2077],['lib/google/src/Google/Service','Books.php',2175],['lib/google/src/Google/Service','Books.php',2207],['lib/zend/Zend/Gdata','App.php',847],['lib/google/src/Google/Service','AdExchangeSeller.php',443],['lib/google/src/Google/Service','AdExchangeSeller.php',551],['lib/google/src/Google/Service','AdExchangeSeller.php',665],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',58],['lib/google/src/Google/Cache','Memcache.php',72],['lib/google/src/Google/Service','Bigquery.php',533],['lib/google/src/Google/Service','Bigquery.php',633],['lib/google/src/Google/Service','Bigquery.php',838],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',108],['cache','disabledlib.php',55],['lib/zend/Zend/Server','Cache.php',78],['lib/google/src/Google/Service','Groupssettings.php',107],['cache/stores/memcached','lib.php',285],['lib/google/src/Google/Service','Coordinate.php',476],['lib/google/src/Google/Service','Coordinate.php',642],['lib/zend/Zend','Registry.php',130],['lib/google/src/Google/Service','Webmasters.php',314],['lib/google/src/Google/Service','Webmasters.php',403],['lib/google/src/Google/Service','Webmasters.php',479],['lib/google/src/Google/Service','Autoscaler.php',330],['lib/google/src/Google/Service','Autoscaler.php',444],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',981],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16595],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',65],['lib/google/src/Google/Service','ShoppingContent.php',567],['lib/google/src/Google/Service','ShoppingContent.php',675],['lib/google/src/Google/Service','ShoppingContent.php',749],['lib/google/src/Google/Service','ShoppingContent.php',857],['lib/google/src/Google/Service','ShoppingContent.php',985],['lib/google/src/Google/Service','ShoppingContent.php',1062],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',34],['lib/editor/tinymce/classes','plugin.php',447],['mod/lesson','locallib.php',3239],['lib/horde/framework/Horde','Variables.php',135],['lib/google/src/Google/Service','SQLAdmin.php',528],['lib/google/src/Google/Service','SQLAdmin.php',664],['lib/google/src/Google/Service','SQLAdmin.php',872],['lib/google/src/Google/Service','SQLAdmin.php',941],['lib/google/src/Google/Service','Fitness.php',363],['lib/google/src/Google/Service','Fitness.php',489],['lib/google/src/Google/Service','TagManager.php',977],['lib/google/src/Google/Service','TagManager.php',1063],['lib/google/src/Google/Service','TagManager.php',1155],['lib/google/src/Google/Service','TagManager.php',1248],['lib/google/src/Google/Service','TagManager.php',1341],['lib/google/src/Google/Service','TagManager.php',1434],['lib/google/src/Google/Service','TagManager.php',1528],['lib/google/src/Google/Service','TagManager.php',1622],['lib/google/src/Google/Service','TagManager.php',1772],['lib/google/src/Google/Service','Directory.php',1315],['lib/google/src/Google/Service','Directory.php',1383],['lib/google/src/Google/Service','Directory.php',1490],['lib/google/src/Google/Service','Directory.php',1656],['lib/google/src/Google/Service','Directory.php',1783],['lib/google/src/Google/Service','Directory.php',1853],['lib/google/src/Google/Service','Directory.php',1949],['lib/google/src/Google/Service','Directory.php',2056],['lib/google/src/Google/Service','Directory.php',2160],['lib/google/src/Google/Service','Directory.php',2218],['lib/google/src/Google/Service','Directory.php',2493],['lib/htmlpurifier/HTMLPurifier','Config.php',161],['cache/stores/static','lib.php',220],['question/engine','states.php',116],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',52],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',76],['lib/google/src/Google/Service','AppState.php',170],['lib/google/src/Google/Service','Taskqueue.php',263],['lib/google/src/Google/Service','Taskqueue.php',307],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',46],['lib/google/src/Google/Service','Container.php',364],['lib/google/src/Google/Service','Container.php',411],['lib/portfolio','caller.php',170],['lib/portfolio','caller.php',538],['lib/google/src/Google/Service','AndroidPublisher.php',1194],['lib/google/src/Google/Service','AndroidPublisher.php',1296],['lib/google/src/Google/Service','AndroidPublisher.php',1437],['lib/google/src/Google/Service','AndroidPublisher.php',1500],['lib/google/src/Google/Service','AndroidPublisher.php',1723],['lib/google/src/Google/Service','AndroidPublisher.php',1811],['lib/google/src/Google/Service','AndroidPublisher.php',1875],['lib/google/src/Google/Service','AndroidPublisher.php',1987],['lib/google/src/Google/Service','AndroidPublisher.php',2112],['lib/google/src/Google/Service','AndroidPublisher.php',2182],['lib/zend/Zend','Date.php',516],['lib/google/src/Google/Service','AdSenseHost.php',644],['lib/google/src/Google/Service','AdSenseHost.php',685],['lib/google/src/Google/Service','AdSenseHost.php',750],['lib/google/src/Google/Service','AdSenseHost.php',917],['lib/google/src/Google/Service','AdSenseHost.php',1025],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',74],['cache/stores/memcache','lib.php',312],['lib/google/src/Google/Service','Games.php',1219],['lib/google/src/Google/Service','Games.php',1338],['lib/google/src/Google/Service','Games.php',1440],['lib/google/src/Google/Service','Games.php',1698],['lib/google/src/Google/Service','Games.php',1805],['lib/google/src/Google/Service','Games.php',1947],['lib/google/src/Google/Service','Games.php',2081],['lib','filelib.php',3341],['lib','filelib.php',3589],['lib','oauthlib.php',302],['lib/google/src/Google/Service','MapsEngine.php',1529],['lib/google/src/Google/Service','MapsEngine.php',1708],['lib/google/src/Google/Service','MapsEngine.php',2005],['lib/google/src/Google/Service','MapsEngine.php',2267],['lib/google/src/Google/Service','MapsEngine.php',2359],['lib/google/src/Google/Service','MapsEngine.php',2665],['lib/google/src/Google/Service','MapsEngine.php',2926],['lib/google/src/Google/Service','MapsEngine.php',3117],['lib/minify/lib','JSMinPlus.php',1827],['lib/google/src/Google/Service','SiteVerification.php',151],['lib/horde/framework/Horde/Support','Array.php',30],['lib/google/src/Google/Service','Prediction.php',275],['cache/stores/session','lib.php',225],['cache/classes','dummystore.php',141],['lib/google/src/Google/Service','Compute.php',2828],['lib/google/src/Google/Service','Compute.php',2911],['lib/google/src/Google/Service','Compute.php',3050],['lib/google/src/Google/Service','Compute.php',3155],['lib/google/src/Google/Service','Compute.php',3240],['lib/google/src/Google/Service','Compute.php',3377],['lib/google/src/Google/Service','Compute.php',3478],['lib/google/src/Google/Service','Compute.php',3558],['lib/google/src/Google/Service','Compute.php',3676],['lib/google/src/Google/Service','Compute.php',3741],['lib/google/src/Google/Service','Compute.php',3876],['lib/google/src/Google/Service','Compute.php',3957],['lib/google/src/Google/Service','Compute.php',4132],['lib/google/src/Google/Service','Compute.php',4306],['lib/google/src/Google/Service','Compute.php',4355],['lib/google/src/Google/Service','Compute.php',4421],['lib/google/src/Google/Service','Compute.php',4486],['lib/google/src/Google/Service','Compute.php',4559],['lib/google/src/Google/Service','Compute.php',4611],['lib/google/src/Google/Service','Compute.php',4675],['lib/google/src/Google/Service','Compute.php',4756],['lib/google/src/Google/Service','Compute.php',4822],['lib/google/src/Google/Service','Compute.php',4943],['lib/google/src/Google/Service','Compute.php',5085],['lib/google/src/Google/Service','Compute.php',5244],['lib/google/src/Google/Service','Compute.php',5376],['lib/google/src/Google/Service','Compute.php',5428],['lib/horde/framework/Horde/Imap/Client','Cache.php',88],['lib/google/src/Google/Service','Calendar.php',900],['lib/google/src/Google/Service','Calendar.php',1053],['lib/google/src/Google/Service','Calendar.php',1241],['lib/google/src/Google/Service','Calendar.php',1337],['lib/google/src/Google/Service','Calendar.php',1379],['lib/google/src/Google/Service','Calendar.php',1780],['lib/google/src/Google/Service','Analytics.php',1891],['lib/google/src/Google/Service','Analytics.php',1940],['lib/google/src/Google/Service','Analytics.php',1987],['lib/google/src/Google/Service','Analytics.php',2309],['lib/google/src/Google/Service','Analytics.php',2429],['lib/google/src/Google/Service','Analytics.php',2522],['lib/google/src/Google/Service','Analytics.php',2648],['lib/google/src/Google/Service','Analytics.php',2867],['lib/google/src/Google/Service','Analytics.php',3004],['lib/google/src/Google/Service','Analytics.php',3095],['lib/google/src/Google/Service','Analytics.php',3197],['lib/google/src/Google/Service','Analytics.php',3308],['lib/google/src/Google/Service','Tasks.php',322],['lib/google/src/Google/Service','Tasks.php',441],['lib/behat/classes','behat_context_helper.php',66],['backup/cc/cc_lib/gral_lib','cssparser.php',137],['cache/classes','loaders.php',270],['cache/classes','loaders.php',1442],['cache/classes','loaders.php',1749],['cache/stores/mongodb','lib.php',252],['lib/zend/Zend/Service','Audioscrobbler.php',110],['lib/google/src/Google/Service','Oauth2.php',143],['lib/google/src/Google/Service','Oauth2.php',180],['cache/stores/file','lib.php',329],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',79],['lib/google/src/Google/Service','Storage.php',962],['lib/google/src/Google/Service','Storage.php',1078],['lib/google/src/Google/Service','Storage.php',1244],['lib/google/src/Google/Service','Storage.php',1370],['lib/google/src/Google/Service','Storage.php',1592],['lib/google/src/Google/Cache','Null.php',34],['lib/google/src/Google/Service','AdSense.php',1075],['lib/google/src/Google/Service','AdSense.php',1154],['lib/google/src/Google/Service','AdSense.php',1302],['lib/google/src/Google/Service','AdSense.php',1518],['lib/google/src/Google/Service','AdSense.php',1630],['lib/google/src/Google/Service','AdSense.php',1772],['lib/google/src/Google/Service','AdSense.php',2046],['lib/google/src/Google/Service','Pubsub.php',254],['lib/google/src/Google/Service','Pubsub.php',393],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',27],['lib/google/src/Google/Cache','File.php',45],['lib','navigationlib.php',382],['lib','navigationlib.php',833],['lib','navigationlib.php',2693],['lib','navigationlib.php',3126],['lib/google/src/Google/Service','Dns.php',299],['lib/google/src/Google/Service','Dns.php',385],['lib/google/src/Google/Service','Dns.php',434],['lib/mustache/src/Mustache','HelperCollection.php',81],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',68],['lib/google/src/Google/Service','Replicapool.php',416],['lib/google/src/Google/Service','Replicapool.php',571],['lib/google/src/Google/Service','Resourceviews.php',350],['lib/google/src/Google/Service','Resourceviews.php',435],['lib','coursecatlib.php',215],['lib/google/src/Google/Cache','Apc.php',50],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',163]], 21003],
'return_test_question_data': ['return_test_question_data', '', [['question/engine','bank.php',318]], 1],
'load_question': ['load_question', '', [['question/engine/upgrade/tests','helper.php',63],['question/engine','bank.php',258],['question/type/randomsamatch/db','upgradelib.php',240],['question/engine/upgrade','upgradelib.php',130],['question/engine/upgrade','upgradelib.php',284]], 45],
'fraction_options': ['fraction_options', '', [['question/engine','bank.php',404]], 5],
'make_question': ['make_question', 'Convert the question information loaded with {@link get_question_options()} to a question_definintion object. ', [['question/engine','bank.php',282],['question/type','questiontypebase.php',807],['question/type/random','questiontype.php',214],['question/engine/tests','helpers.php',269],['question/type/missingtype','questiontype.php',53]], 172],
'menu_name': ['menu_name', 'The name this question should appear as in the create new question dropdown. Override this method to return false if you don\'t want your question type to be createable, for example if it is an abstract base type, otherwise, you should not need to override this method. ', [['question/type','questiontypebase.php',80],['question/type/random','questiontype.php',49],['question/type/missingtype','questiontype.php',41]], 5],
'qtype_exists': ['qtype_exists', '', [['question/engine','bank.php',135]], 2],
'load_many_for_cache': ['load_many_for_cache', '', [['question/engine','bank.php',561],['cache/classes','interfaces.php',430],['cache/tests/fixtures','lib.php',378]], 2],
'make': ['make', '', [['mod/quiz/accessrule/delaybetweenattempts','rule.php',40],['admin/tool/generator/classes','site_backend.php',89],['mod/quiz/accessrule/numattempts','rule.php',40],['lib/htmlpurifier/HTMLPurifier','AttrDef.php',67],['mod/quiz/accessrule/securewindow','rule.php',55],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',52],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',45],['mod/quiz/accessrule/ipaddress','rule.php',40],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',96],['lib/yuilib/2in3/2.9.0/build/yui2-logger','yui2-logger.js',655],['mod/quiz/accessrule/safebrowser','rule.php',40],['admin/tool/generator/classes','course_backend.php',202],['backup/util/ui','backup_ui_setting.class.php',234],['admin/tool/assignmentupgrade','locallib.php',110],['cache/classes','loaders.php',163],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',38],['mod/quiz/accessrule','accessrulebase.php',63],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',60],['mod/quiz/accessrule/timelimit','rule.php',41],['mod/quiz/accessrule/openclosedate','rule.php',40],['lib/yuilib/2in3/2.9.0/build/yui2-logger','yui2-logger-debug.js',655],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',64],['lib/htmlpurifier/HTMLPurifier','Length.php',52],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',33],['mod/quiz/accessrule/password','rule.php',40]], 163],
'where': ['where', 'Add where clause ', [['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntityQuery.php',120],['question/classes/bank/search','category_condition.php',96],['question/classes/bank/search','hidden_condition.php',53],['question/engine','datalib.php',1882],['question/engine','datalib.php',1964]], 61],
'cron': ['cron', 'The method being run via cron.php ', [['lib/classes/update','checker.php',189],['mod/assign','assignmentplugin.php',534],['completion/criteria','completion_criteria_grade.php',176],['repository/dropbox','lib.php',704],['question/engine','bank.php',415],['enrol/category','lib.php',77],['completion/criteria','completion_criteria_activity.php',197],['completion/criteria','completion_criteria_course.php',152],['enrol/cohort','lib.php',136],['lib','enrollib.php',1849],['enrol/paypal','lib.php',310],['mod/assign','locallib.php',1695],['enrol/manual','lib.php',285],['auth/mnet','auth.php',822],['lib/filestorage','file_storage.php',2200],['enrol/imsenterprise','lib.php',67],['repository','lib.php',2407],['enrol/flatfile','lib.php',164],['completion/criteria','completion_criteria_date.php',144],['cache/classes','helper.php',659],['blocks/recent_activity','block_recent_activity.php',231],['enrol/meta','lib.php',146],['admin/registration','lib.php',50],['enrol/self','lib.php',456],['completion/criteria','completion_criteria_duration.php',197],['blocks/rss_client','block_rss_client.php',277]], 41],
'uncache_question': ['uncache_question', 'This method needs to be called whenever a question is edited. ', [['question/engine','bank.php',465]], 1],
'get_records_sql_menu': ['get_records_sql_menu', 'Get the first two columns from a number of records as an associative array using a SQL statement. ', [['lib/dml','moodle_database.php',1387]], 33],
'get_questions_from_categories_with_usage_counts': ['get_questions_from_categories_with_usage_counts', 'Get the ids of all the questions in a list of categories, with the number of times they have already been used in a given set of usages. ', [['question/engine','bank.php',508]], 2],
'get_qtype_name': ['get_qtype_name', '', [['question/engine','bank.php',143]], 4],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'from_where_params': ['from_where_params', '', [['question/engine','datalib.php',1896],['question/engine','datalib.php',1968]], 11],
'fraction_options_full': ['fraction_options_full', '', [['question/engine','bank.php',410]], 6],
'array_reverse': ['array_reverse', '', [], 127],
'is_null': ['is_null', '', [], 1992],
'is_readable': ['is_readable', '', [], 207],
'array_key_exists': ['array_key_exists', '', [], 1539],
'ksort': ['ksort', '', [], 158],
'count': ['count', '', [], 3984],
'class_exists': ['class_exists', '', [], 273],
'dirname': ['dirname', '', [], 1071],
'defined': ['defined', '', [], 4098],
'asort': ['asort', '', [], 109]};
CLASS_DATA={
'dml_missing_record_exception': ['dml_missing_record_exception', 'Caused by missing record that is required for normal operation. ', [['lib','dmllib.php',170]], 4],
'core_collator': ['core_collator', 'A collator class with static methods that can be used for sorting. ', [['lib/classes','collator.php',28]], 130],
'cache_data_source': ['cache_data_source', 'Cache Data Source. ', [['cache/classes','interfaces.php',394]], 2],
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 485],
'question_finder': ['question_finder', 'Class for loading questions according to various criteria. ', [['question/engine','bank.php',432]], 6],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',214]], 867],
'cache': ['cache', 'The main cache class. ', [['cache/classes','loaders.php',31]], 213]};
CONST_DATA={
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1252],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'SQL_PARAMS_NAMED': ['SQL_PARAMS_NAMED', '', [['lib/dml','moodle_database.php',32]], 271]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
