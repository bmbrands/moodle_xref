<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /question/type/essay/db/upgrade.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='question/type/essay/db';
filename='upgrade.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/question/type/essay/db/</a> -> <a href="upgrade.php.html">upgrade.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="upgrade.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="upgrade.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Essay question type upgrade code.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    qtype</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @subpackage essay</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2011 The Open University</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * Upgrade code for the essay question type.</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @param int $oldversion the version we are upgrading from.</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> */</span>
<a name="l34"><span class="linenum">  34</span></a>  function <a class="function" onClick="logFunction('xmldb_qtype_essay_upgrade')" href="../../../../_functions/xmldb_qtype_essay_upgrade.html" onMouseOver="funcPopup(event,'xmldb_qtype_essay_upgrade')">xmldb_qtype_essay_upgrade</a>(<a class="var it671" onMouseOver="hilite(671)" onMouseOut="lolite()" onClick="logVariable('oldversion')" href="../../../../_variables/oldversion.html">$oldversion</a>) {
<a name="l35"><span class="linenum">  35</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('dbman')" href="../../../../_variables/dbman.html">$dbman</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>();
<a name="l38"><span class="linenum">  38</span></a>  
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">    // Moodle v2.2.0 release upgrade line</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">    // Put any upgrade step following this.</span>
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>      if (<a class="var it671" onMouseOver="hilite(671)" onMouseOut="lolite()" onClick="logVariable('oldversion')" href="../../../../_variables/oldversion.html">$oldversion</a> &lt; 2011102701) {
<a name="l43"><span class="linenum">  43</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a> = &quot;
<a name="l44"><span class="linenum">  44</span></a>                    FROM {question} q
<a name="l45"><span class="linenum">  45</span></a>                    JOIN {question_answers} qa ON qa.question = q.id
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>                   WHERE q.qtype = 'essay'
<a name="l48"><span class="linenum">  48</span></a>                     AND &quot; . <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_isnotempty')" href="../../../../_functions/sql_isnotempty.html" onMouseOver="funcPopup(event,'sql_isnotempty')">sql_isnotempty</a>('question_answers', 'feedback', false, true);
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">        // In Moodle &lt;= 2.0 essay had both question.generalfeedback and question_answers.feedback</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">        // This was silly, and in Moodel &gt;= 2.1 only question.generalfeedback. To avoid</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">        // dataloss, we concatenate question_answers.feedback onto the end of question.generalfeedback.</span>
<a name="l52"><span class="linenum">  52</span></a>          <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_sql')" href="../../../../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(&quot;
<a name="l53"><span class="linenum">  53</span></a>                  SELECT <a class="phpfunction" onClick="logFunction('COUNT')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(1) <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>&quot;);
<a name="l54"><span class="linenum">  54</span></a>          if (<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>) {
<a name="l55"><span class="linenum">  55</span></a>              <a class="var it9375" onMouseOver="hilite(9375)" onMouseOut="lolite()" onClick="logVariable('progressbar')" href="../../../../_variables/progressbar.html">$progressbar</a> = <span class="keyword">new </span><a class="class" onClick="logClass('progress_bar')" href="../../../../_classes/progress_bar.html" onMouseOver="classPopup(event,'progress_bar')">progress_bar</a>('essay23', 500, true);
<a name="l56"><span class="linenum">  56</span></a>              <a class="var it6074" onMouseOver="hilite(6074)" onMouseOut="lolite()" onClick="logVariable('done')" href="../../../../_variables/done.html">$done</a> = 0;
<a name="l57"><span class="linenum">  57</span></a>  
<a name="l58"><span class="linenum">  58</span></a>              <a class="var it24875" onMouseOver="hilite(24875)" onMouseOut="lolite()" onClick="logVariable('toupdate')" href="../../../../_variables/toupdate.html">$toupdate</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../../../../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(&quot;
<a name="l59"><span class="linenum">  59</span></a>                      SELECT q.id,
<a name="l60"><span class="linenum">  60</span></a>                             q.generalfeedback,
<a name="l61"><span class="linenum">  61</span></a>                             q.generalfeedbackformat,
<a name="l62"><span class="linenum">  62</span></a>                             qa.feedback,
<a name="l63"><span class="linenum">  63</span></a>                             qa.feedbackformat
<a name="l64"><span class="linenum">  64</span></a>                      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../../_variables/sql.html">$sql</a>&quot;);
<a name="l65"><span class="linenum">  65</span></a>  
<a name="l66"><span class="linenum">  66</span></a>              foreach (<a class="var it24875" onMouseOver="hilite(24875)" onMouseOut="lolite()" onClick="logVariable('toupdate')" href="../../../../_variables/toupdate.html">$toupdate</a> as <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>) {
<a name="l67"><span class="linenum">  67</span></a>                  <a class="var it9375" onMouseOver="hilite(9375)" onMouseOut="lolite()" onClick="logVariable('progressbar')" href="../../../../_variables/progressbar.html">$progressbar</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(<a class="var it6074" onMouseOver="hilite(6074)" onMouseOut="lolite()" onClick="logVariable('done')" href="../../../../_variables/done.html">$done</a>, <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>, &quot;Updating essay <a class="function" onClick="logFunction('feedback')" href="../../../../_functions/feedback.html" onMouseOver="funcPopup(event,'feedback')">feedback</a> ({<a class="var it6074" onMouseOver="hilite(6074)" onMouseOut="lolite()" onClick="logVariable('done')" href="../../../../_variables/done.html">$done</a>}/{<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>}).&quot;);
<a name="l68"><span class="linenum">  68</span></a>                  <a class="function" onClick="logFunction('upgrade_set_timeout')" href="../../../../_functions/upgrade_set_timeout.html" onMouseOver="funcPopup(event,'upgrade_set_timeout')">upgrade_set_timeout</a>(60);
<a name="l69"><span class="linenum">  69</span></a>                  if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('generalfeedbackformat')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../../_variables/generalfeedbackformat.html">generalfeedbackformat</a> == <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../../_variables/feedbackformat.html">feedbackformat</a>) {
<a name="l70"><span class="linenum">  70</span></a>                      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('question', 'generalfeedback',
<a name="l71"><span class="linenum">  71</span></a>                              <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('generalfeedback')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../../_variables/generalfeedback.html">generalfeedback</a> . <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('feedback')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../../_variables/feedback.html">feedback</a>,
<a name="l72"><span class="linenum">  72</span></a>                              array('id' =&gt; <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('id')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>));
<a name="l73"><span class="linenum">  73</span></a>  
<a name="l74"><span class="linenum">  74</span></a>                  } else {
<a name="l75"><span class="linenum">  75</span></a>                      <a class="var it5812" onMouseOver="hilite(5812)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../../_variables/newdata.html">$newdata</a> = new stdClass();
<a name="l76"><span class="linenum">  76</span></a>                      <a class="var it5812" onMouseOver="hilite(5812)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../../_variables/newdata.html">$newdata</a>-&gt;<a onClick="logVariable('id')" class="var it41196" onMouseOver="hilite(41196)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a> = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('id')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l77"><span class="linenum">  77</span></a>                      <a class="var it5812" onMouseOver="hilite(5812)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../../_variables/newdata.html">$newdata</a>-&gt;<a onClick="logVariable('generalfeedback')" class="var it41196" onMouseOver="hilite(41196)" onMouseOut="lolite()" href="../../../../_variables/generalfeedback.html">generalfeedback</a> =
<a name="l78"><span class="linenum">  78</span></a>                              <a class="function" onClick="logFunction('qtype_essay_convert_to_html')" href="../../../../_functions/qtype_essay_convert_to_html.html" onMouseOver="funcPopup(event,'qtype_essay_convert_to_html')">qtype_essay_convert_to_html</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('generalfeedback')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../../_variables/generalfeedback.html">generalfeedback</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('generalfeedbackformat')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../../_variables/generalfeedbackformat.html">generalfeedbackformat</a>) .
<a name="l79"><span class="linenum">  79</span></a>                              <a class="function" onClick="logFunction('qtype_essay_convert_to_html')" href="../../../../_functions/qtype_essay_convert_to_html.html" onMouseOver="funcPopup(event,'qtype_essay_convert_to_html')">qtype_essay_convert_to_html</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('feedback')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../../_variables/feedback.html">feedback</a>,        <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../../../_variables/feedbackformat.html">feedbackformat</a>);
<a name="l80"><span class="linenum">  80</span></a>                      <a class="var it5812" onMouseOver="hilite(5812)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../../_variables/newdata.html">$newdata</a>-&gt;<a onClick="logVariable('generalfeedbackformat')" class="var it41196" onMouseOver="hilite(41196)" onMouseOut="lolite()" href="../../../../_variables/generalfeedbackformat.html">generalfeedbackformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l81"><span class="linenum">  81</span></a>                      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('question', <a class="var it5812" onMouseOver="hilite(5812)" onMouseOut="lolite()" onClick="logVariable('newdata')" href="../../../../_variables/newdata.html">$newdata</a>);
<a name="l82"><span class="linenum">  82</span></a>                  }
<a name="l83"><span class="linenum">  83</span></a>              }
<a name="l84"><span class="linenum">  84</span></a>  
<a name="l85"><span class="linenum">  85</span></a>              <a class="var it9375" onMouseOver="hilite(9375)" onMouseOut="lolite()" onClick="logVariable('progressbar')" href="../../../../_variables/progressbar.html">$progressbar</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>, <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>, &quot;Updating essay feedback complete!&quot;);
<a name="l86"><span class="linenum">  86</span></a>              <a class="var it24875" onMouseOver="hilite(24875)" onMouseOut="lolite()" onClick="logVariable('toupdate')" href="../../../../_variables/toupdate.html">$toupdate</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l87"><span class="linenum">  87</span></a>          }
<a name="l88"><span class="linenum">  88</span></a>  
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">        // Essay savepoint reached.</span>
<a name="l90"><span class="linenum">  90</span></a>          <a class="function" onClick="logFunction('upgrade_plugin_savepoint')" href="../../../../_functions/upgrade_plugin_savepoint.html" onMouseOver="funcPopup(event,'upgrade_plugin_savepoint')">upgrade_plugin_savepoint</a>(true, 2011102701, 'qtype', 'essay');
<a name="l91"><span class="linenum">  91</span></a>      }
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>      if (<a class="var it671" onMouseOver="hilite(671)" onMouseOut="lolite()" onClick="logVariable('oldversion')" href="../../../../_variables/oldversion.html">$oldversion</a> &lt; 2011102702) {
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">        // Then we delete the old question_answers rows for essay questions.</span>
<a name="l95"><span class="linenum">  95</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records_select')" href="../../../../_functions/delete_records_select.html" onMouseOver="funcPopup(event,'delete_records_select')">delete_records_select</a>('question_answers',
<a name="l96"><span class="linenum">  96</span></a>                  &quot;question IN (SELECT id FROM {question} WHERE qtype = 'essay')&quot;);
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">        // Essay savepoint reached.</span>
<a name="l99"><span class="linenum">  99</span></a>          <a class="function" onClick="logFunction('upgrade_plugin_savepoint')" href="../../../../_functions/upgrade_plugin_savepoint.html" onMouseOver="funcPopup(event,'upgrade_plugin_savepoint')">upgrade_plugin_savepoint</a>(true, 2011102702, 'qtype', 'essay');
<a name="l100"><span class="linenum"> 100</span></a>      }
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">    // Moodle v2.3.0 release upgrade line</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">    // Put any upgrade step following this.</span>
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">    // Moodle v2.4.0 release upgrade line</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">    // Put any upgrade step following this.</span>
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>      if (<a class="var it671" onMouseOver="hilite(671)" onMouseOut="lolite()" onClick="logVariable('oldversion')" href="../../../../_variables/oldversion.html">$oldversion</a> &lt; 2013011800) {
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">        // Then we delete the old question_answers rows for essay questions.</span>
<a name="l110"><span class="linenum"> 110</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records_select')" href="../../../../_functions/delete_records_select.html" onMouseOver="funcPopup(event,'delete_records_select')">delete_records_select</a>('qtype_essay_options', &quot;NOT <a class="function" onClick="logFunction('EXISTS')" href="../../../../_functions/exists.html" onMouseOver="funcPopup(event,'exists')">EXISTS</a> (
<a name="l111"><span class="linenum"> 111</span></a>                  SELECT 1 FROM {question} WHERE qtype = 'essay' AND
<a name="l112"><span class="linenum"> 112</span></a>                      {question}.id = {qtype_essay_options}.questionid)&quot;);
<a name="l113"><span class="linenum"> 113</span></a>  
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">        // Essay savepoint reached.</span>
<a name="l115"><span class="linenum"> 115</span></a>          <a class="function" onClick="logFunction('upgrade_plugin_savepoint')" href="../../../../_functions/upgrade_plugin_savepoint.html" onMouseOver="funcPopup(event,'upgrade_plugin_savepoint')">upgrade_plugin_savepoint</a>(true, 2013011800, 'qtype', 'essay');
<a name="l116"><span class="linenum"> 116</span></a>      }
<a name="l117"><span class="linenum"> 117</span></a>  
<a name="l118"><span class="linenum"> 118</span></a>      if (<a class="var it671" onMouseOver="hilite(671)" onMouseOut="lolite()" onClick="logVariable('oldversion')" href="../../../../_variables/oldversion.html">$oldversion</a> &lt; 2013021700) {
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">        // Create new fields responsetemplate and responsetemplateformat in qtyep_essay_options table.</span>
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_table')" href="../../../../_classes/xmldb_table.html" onMouseOver="classPopup(event,'xmldb_table')">xmldb_table</a>('qtype_essay_options');
<a name="l121"><span class="linenum"> 121</span></a>          <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_field')" href="../../../../_classes/xmldb_field.html" onMouseOver="classPopup(event,'xmldb_field')">xmldb_field</a>('responsetemplate', <a class="constant" onClick="logConstant('XMLDB_TYPE_TEXT')" href="../../../../_constants/XMLDB_TYPE_TEXT.html" onMouseOver="constPopup(event,'XMLDB_TYPE_TEXT')">XMLDB_TYPE_TEXT</a>, null, null,
<a name="l122"><span class="linenum"> 122</span></a>                      null, null, null, 'graderinfoformat');
<a name="l123"><span class="linenum"> 123</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('dbman')" href="../../../../_variables/dbman.html">$dbman</a>-&gt;<a class="function" onClick="logFunction('field_exists')" href="../../../../_functions/field_exists.html" onMouseOver="funcPopup(event,'field_exists')">field_exists</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a>, <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>)) {
<a name="l124"><span class="linenum"> 124</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('dbman')" href="../../../../_variables/dbman.html">$dbman</a>-&gt;<a class="function" onClick="logFunction('add_field')" href="../../../../_functions/add_field.html" onMouseOver="funcPopup(event,'add_field')">add_field</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a>, <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>);
<a name="l125"><span class="linenum"> 125</span></a>          }
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>          <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_field')" href="../../../../_classes/xmldb_field.html" onMouseOver="classPopup(event,'xmldb_field')">xmldb_field</a>('responsetemplateformat', <a class="constant" onClick="logConstant('XMLDB_TYPE_INTEGER')" href="../../../../_constants/XMLDB_TYPE_INTEGER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_INTEGER')">XMLDB_TYPE_INTEGER</a>, '4',
<a name="l128"><span class="linenum"> 128</span></a>                  null, <a class="constant" onClick="logConstant('XMLDB_NOTNULL')" href="../../../../_constants/XMLDB_NOTNULL.html" onMouseOver="constPopup(event,'XMLDB_NOTNULL')">XMLDB_NOTNULL</a>, null, '0', 'responsetemplate');
<a name="l129"><span class="linenum"> 129</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('dbman')" href="../../../../_variables/dbman.html">$dbman</a>-&gt;<a class="function" onClick="logFunction('field_exists')" href="../../../../_functions/field_exists.html" onMouseOver="funcPopup(event,'field_exists')">field_exists</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a>, <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>)) {
<a name="l130"><span class="linenum"> 130</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('dbman')" href="../../../../_variables/dbman.html">$dbman</a>-&gt;<a class="function" onClick="logFunction('add_field')" href="../../../../_functions/add_field.html" onMouseOver="funcPopup(event,'add_field')">add_field</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a>, <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>);
<a name="l131"><span class="linenum"> 131</span></a>          }
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(&quot;UPDATE {qtype_essay_options} SET responsetemplate = '',
<a name="l134"><span class="linenum"> 134</span></a>                  responsetemplateformat = &quot; . <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a> . &quot; WHERE responsetemplate IS NULL&quot;);
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">        // Essay savepoint reached.</span>
<a name="l137"><span class="linenum"> 137</span></a>          <a class="function" onClick="logFunction('upgrade_plugin_savepoint')" href="../../../../_functions/upgrade_plugin_savepoint.html" onMouseOver="funcPopup(event,'upgrade_plugin_savepoint')">upgrade_plugin_savepoint</a>(true, 2013021700, 'qtype', 'essay');
<a name="l138"><span class="linenum"> 138</span></a>      }
<a name="l139"><span class="linenum"> 139</span></a>  
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">    // Moodle v2.5.0 release upgrade line.</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">    // Put any upgrade step following this.</span>
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">    // Moodle v2.6.0 release upgrade line.</span>
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment">    // Put any upgrade step following this.</span>
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>      if (<a class="var it671" onMouseOver="hilite(671)" onMouseOut="lolite()" onClick="logVariable('oldversion')" href="../../../../_variables/oldversion.html">$oldversion</a> &lt; 2014011300) {
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">        // Create new field responserequired (indicates whether inline response is required).</span>
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>          <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_table')" href="../../../../_classes/xmldb_table.html" onMouseOver="classPopup(event,'xmldb_table')">xmldb_table</a>('qtype_essay_options');
<a name="l151"><span class="linenum"> 151</span></a>          <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_field')" href="../../../../_classes/xmldb_field.html" onMouseOver="classPopup(event,'xmldb_field')">xmldb_field</a>('responserequired', <a class="constant" onClick="logConstant('XMLDB_TYPE_INTEGER')" href="../../../../_constants/XMLDB_TYPE_INTEGER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_INTEGER')">XMLDB_TYPE_INTEGER</a>, '2', null, <a class="constant" onClick="logConstant('XMLDB_NOTNULL')" href="../../../../_constants/XMLDB_NOTNULL.html" onMouseOver="constPopup(event,'XMLDB_NOTNULL')">XMLDB_NOTNULL</a>, null, '1', 'responseformat');
<a name="l152"><span class="linenum"> 152</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('dbman')" href="../../../../_variables/dbman.html">$dbman</a>-&gt;<a class="function" onClick="logFunction('field_exists')" href="../../../../_functions/field_exists.html" onMouseOver="funcPopup(event,'field_exists')">field_exists</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a>, <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>)) {
<a name="l153"><span class="linenum"> 153</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('dbman')" href="../../../../_variables/dbman.html">$dbman</a>-&gt;<a class="function" onClick="logFunction('add_field')" href="../../../../_functions/add_field.html" onMouseOver="funcPopup(event,'add_field')">add_field</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a>, <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>);
<a name="l154"><span class="linenum"> 154</span></a>          }
<a name="l155"><span class="linenum"> 155</span></a>  
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">        // Essay savepoint reached.</span>
<a name="l157"><span class="linenum"> 157</span></a>          <a class="function" onClick="logFunction('upgrade_plugin_savepoint')" href="../../../../_functions/upgrade_plugin_savepoint.html" onMouseOver="funcPopup(event,'upgrade_plugin_savepoint')">upgrade_plugin_savepoint</a>(true, 2014011300, 'qtype', 'essay');
<a name="l158"><span class="linenum"> 158</span></a>      }
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>      if (<a class="var it671" onMouseOver="hilite(671)" onMouseOut="lolite()" onClick="logVariable('oldversion')" href="../../../../_variables/oldversion.html">$oldversion</a> &lt; 2014011301) {
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">        // Create new field attachmentsrequired (indicates whether attachments should be required).</span>
<a name="l163"><span class="linenum"> 163</span></a>  
<a name="l164"><span class="linenum"> 164</span></a>          <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_table')" href="../../../../_classes/xmldb_table.html" onMouseOver="classPopup(event,'xmldb_table')">xmldb_table</a>('qtype_essay_options');
<a name="l165"><span class="linenum"> 165</span></a>          <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_field')" href="../../../../_classes/xmldb_field.html" onMouseOver="classPopup(event,'xmldb_field')">xmldb_field</a>('attachmentsrequired', <a class="constant" onClick="logConstant('XMLDB_TYPE_INTEGER')" href="../../../../_constants/XMLDB_TYPE_INTEGER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_INTEGER')">XMLDB_TYPE_INTEGER</a>, '4', null, <a class="constant" onClick="logConstant('XMLDB_NOTNULL')" href="../../../../_constants/XMLDB_NOTNULL.html" onMouseOver="constPopup(event,'XMLDB_NOTNULL')">XMLDB_NOTNULL</a>, null, '0', 'attachments');
<a name="l166"><span class="linenum"> 166</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('dbman')" href="../../../../_variables/dbman.html">$dbman</a>-&gt;<a class="function" onClick="logFunction('field_exists')" href="../../../../_functions/field_exists.html" onMouseOver="funcPopup(event,'field_exists')">field_exists</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a>, <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>)) {
<a name="l167"><span class="linenum"> 167</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('dbman')" href="../../../../_variables/dbman.html">$dbman</a>-&gt;<a class="function" onClick="logFunction('add_field')" href="../../../../_functions/add_field.html" onMouseOver="funcPopup(event,'add_field')">add_field</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a>, <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>);
<a name="l168"><span class="linenum"> 168</span></a>          }
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">        // Essay savepoint reached.</span>
<a name="l171"><span class="linenum"> 171</span></a>          <a class="function" onClick="logFunction('upgrade_plugin_savepoint')" href="../../../../_functions/upgrade_plugin_savepoint.html" onMouseOver="funcPopup(event,'upgrade_plugin_savepoint')">upgrade_plugin_savepoint</a>(true, 2014011301, 'qtype', 'essay');
<a name="l172"><span class="linenum"> 172</span></a>      }
<a name="l173"><span class="linenum"> 173</span></a>  
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">    // Moodle v2.7.0 release upgrade line.</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">    // Put any upgrade step following this.</span>
<a name="l176"><span class="linenum"> 176</span></a>  
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">    // Moodle v2.8.0 release upgrade line.</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">    // Put any upgrade step following this.</span>
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">    // Moodle v2.9.0 release upgrade line.</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">    // Put any upgrade step following this.</span>
<a name="l182"><span class="linenum"> 182</span></a>  
<a name="l183"><span class="linenum"> 183</span></a>      return true;
<a name="l184"><span class="linenum"> 184</span></a>  }
<a name="l185"><span class="linenum"> 185</span></a>  
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">/**</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment"> * Convert some content to HTML.</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment"> * @param string $text the content to convert to HTML</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment"> * @param int $oldformat One of the FORMAT_... constants.</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment"> */</span>
<a name="l191"><span class="linenum"> 191</span></a>  function <a class="function" onClick="logFunction('qtype_essay_convert_to_html')" href="../../../../_functions/qtype_essay_convert_to_html.html" onMouseOver="funcPopup(event,'qtype_essay_convert_to_html')">qtype_essay_convert_to_html</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>, <a class="var it31531" onMouseOver="hilite(31531)" onMouseOut="lolite()" onClick="logVariable('oldformat')" href="../../../../_variables/oldformat.html">$oldformat</a>) {
<a name="l192"><span class="linenum"> 192</span></a>      switch (<a class="var it31531" onMouseOver="hilite(31531)" onMouseOut="lolite()" onClick="logVariable('oldformat')" href="../../../../_variables/oldformat.html">$oldformat</a>) {
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">        // Similar to format_text.</span>
<a name="l194"><span class="linenum"> 194</span></a>  
<a name="l195"><span class="linenum"> 195</span></a>          case <a class="constant" onClick="logConstant('FORMAT_PLAIN')" href="../../../../_constants/FORMAT_PLAIN.html" onMouseOver="constPopup(event,'FORMAT_PLAIN')">FORMAT_PLAIN</a>:
<a name="l196"><span class="linenum"> 196</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a> = <a class="function" onClick="logFunction('s')" href="../../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>);
<a name="l197"><span class="linenum"> 197</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(' ', '&amp;nbsp; ', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>);
<a name="l198"><span class="linenum"> 198</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('nl2br')" href="../../../../_functions/nl2br.html" onMouseOver="phpfuncPopup(event,'nl2br')">nl2br</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>);
<a name="l199"><span class="linenum"> 199</span></a>              return <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>;
<a name="l200"><span class="linenum"> 200</span></a>  
<a name="l201"><span class="linenum"> 201</span></a>          case <a class="constant" onClick="logConstant('FORMAT_MARKDOWN')" href="../../../../_constants/FORMAT_MARKDOWN.html" onMouseOver="constPopup(event,'FORMAT_MARKDOWN')">FORMAT_MARKDOWN</a>:
<a name="l202"><span class="linenum"> 202</span></a>              return <a class="function" onClick="logFunction('markdown_to_html')" href="../../../../_functions/markdown_to_html.html" onMouseOver="funcPopup(event,'markdown_to_html')">markdown_to_html</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>);
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>          case <a class="constant" onClick="logConstant('FORMAT_MOODLE')" href="../../../../_constants/FORMAT_MOODLE.html" onMouseOver="constPopup(event,'FORMAT_MOODLE')">FORMAT_MOODLE</a>:
<a name="l205"><span class="linenum"> 205</span></a>              return <a class="function" onClick="logFunction('text_to_html')" href="../../../../_functions/text_to_html.html" onMouseOver="funcPopup(event,'text_to_html')">text_to_html</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>);
<a name="l206"><span class="linenum"> 206</span></a>  
<a name="l207"><span class="linenum"> 207</span></a>          case <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>:
<a name="l208"><span class="linenum"> 208</span></a>              return <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>;
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>          default:
<a name="l211"><span class="linenum"> 211</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(
<a name="l212"><span class="linenum"> 212</span></a>                      'Unexpected text format when upgrading essay questions.');
<a name="l213"><span class="linenum"> 213</span></a>      }
<a name="l214"><span class="linenum"> 214</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'exists': ['exists', 'Checks whether or not the variable exists. ', [['lib/htmlpurifier/HTMLPurifier','Context.php',73],['lib/horde/framework/Horde','Variables.php',101],['admin/tool/health','index.php',139],['admin/tool/health','index.php',160],['admin/tool/health','index.php',184],['admin/tool/health','index.php',208],['admin/tool/health','index.php',229],['admin/tool/health','index.php',248],['admin/tool/health','index.php',267],['admin/tool/health','index.php',313],['admin/tool/health','index.php',334],['admin/tool/health','index.php',420],['admin/tool/health','index.php',444],['admin/tool/health','index.php',481],['admin/tool/health','index.php',506],['admin/tool/health','index.php',554],['admin/tool/health','index.php',617],['admin/tool/health','index.php',707],['admin/tool/health','index.php',777],['lib/horde/framework/Horde/Imap/Client/Data','Fetch.php',468],['admin/tool/uploadcourse/classes','course.php',252]], 56],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as a moodle_recordset using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','oci_native_moodle_database.php',1065],['lib/dml','sqlsrv_native_moodle_database.php',761],['lib/dml','mssql_native_moodle_database.php',687],['lib/dml','mysqli_native_moodle_database.php',985],['lib/dml/tests','dml_test.php',5423],['lib/dml','pdo_moodle_database.php',251]], 279],
'feedback': ['feedback', 'Generate the display of the outcome part of the question. This is the area that contains the various forms of feedback. This function generates the content of this area belonging to the question type. ', [['question/type','rendererbase.php',87],['question/behaviour/interactive','renderer.php',42],['question/behaviour/adaptive','renderer.php',44],['question/behaviour','rendererbase.php',56],['question/behaviour/deferredcbm','renderer.php',75]], 6],
'markdown_to_html': ['markdown_to_html', 'Given Markdown formatted text, make it into XHTML using external function ', [['lib','weblib.php',1821]], 19],
'update': ['update', 'Update a customer resource if one it exists and is owned by the reseller. (customers.update) ', [['lib/google/src/Google/Service','Reseller.php',343],['mod/lesson/pagetypes','matching.php',308],['lib/adodb','adodb-active-recordx.inc.php',1047],['lib/grade','grade_object.php',238],['lib/google/src/Google/Service','Fusiontables.php',726],['lib/google/src/Google/Service','Fusiontables.php',889],['lib/google/src/Google/Service','Fusiontables.php',1095],['lib/google/src/Google/Service','Fusiontables.php',1269],['grade/grading/form','lib.php',905],['lib/google/src/Google/Service','Blogger.php',1332],['lib/google/src/Google/Service','Blogger.php',1630],['lib/google/src/Google/Service','Doubleclicksearch.php',325],['lib/google/src/Google/Service','AdExchangeBuyer.php',392],['lib/google/src/Google/Service','AdExchangeBuyer.php',684],['lib/grade','grade_item.php',260],['lib/google/src/Google/Service','Gmail.php',756],['lib/google/src/Google/Service','Gmail.php',908],['lib/google/src/Google/Service','Mirror.php',495],['lib/google/src/Google/Service','Mirror.php',633],['lib/google/src/Google/Service','Mirror.php',744],['lib/google/src/Google/Service','Genomics.php',690],['lib/google/src/Google/Service','Genomics.php',811],['lib/google/src/Google/Service','Genomics.php',1064],['lib/google/src/Google/Service','Genomics.php',1370],['lib/google/src/Google/Service','Genomics.php',1521],['lib/google/src/Google/Service','Dfareporting.php',570],['lib/google/src/Google/Service','PlusDomains.php',691],['lib/google/src/Google/Service','Licensing.php',332],['lib/google/src/Google/Service','Drive.php',1624],['lib/google/src/Google/Service','Drive.php',1859],['lib/google/src/Google/Service','Drive.php',2100],['lib/google/src/Google/Service','Drive.php',2211],['lib/google/src/Google/Service','Drive.php',2261],['lib/google/src/Google/Service','Drive.php',2385],['lib/google/src/Google/Service','Drive.php',2473],['completion','data_object.php',251],['lib/google/src/Google/Service','Books.php',1901],['lib/google/src/Google/Service','Bigquery.php',603],['lib/google/src/Google/Service','Bigquery.php',911],['lib/google/src/Google/Service','Groupssettings.php',137],['lib/google/src/Google/Service','YouTube.php',1596],['lib/google/src/Google/Service','YouTube.php',1697],['lib/google/src/Google/Service','YouTube.php',2201],['lib/google/src/Google/Service','YouTube.php',2439],['lib/google/src/Google/Service','YouTube.php',2613],['lib/google/src/Google/Service','YouTube.php',2809],['lib/google/src/Google/Service','YouTube.php',3419],['lib/google/src/Google/Service','Coordinate.php',568],['lib/google/src/Google/Service','Coordinate.php',680],['lib/google/src/Google/Service','Autoscaler.php',399],['calendar','lib.php',2171],['lib/google/src/Google/Service','ShoppingContent.php',633],['lib/google/src/Google/Service','ShoppingContent.php',815],['lib','weblib.php',3154],['mod/lesson','locallib.php',2682],['lib/google/src/Google/Service','SQLAdmin.php',843],['lib/google/src/Google/Service','Fitness.php',424],['lib/google/src/Google/Service','Fitness.php',607],['lib/google/src/Google/Service','TagManager.php',1004],['lib/google/src/Google/Service','TagManager.php',1093],['lib/google/src/Google/Service','TagManager.php',1186],['lib/google/src/Google/Service','TagManager.php',1279],['lib/google/src/Google/Service','TagManager.php',1372],['lib/google/src/Google/Service','TagManager.php',1466],['lib/google/src/Google/Service','TagManager.php',1560],['lib/google/src/Google/Service','TagManager.php',1711],['lib/google/src/Google/Service','TagManager.php',1804],['mod/lesson/pagetypes','truefalse.php',163],['lib/google/src/Google/Service','Directory.php',1446],['lib/google/src/Google/Service','Directory.php',1559],['lib/google/src/Google/Service','Directory.php',1724],['lib/google/src/Google/Service','Directory.php',1907],['lib/google/src/Google/Service','Directory.php',2014],['lib/google/src/Google/Service','Directory.php',2116],['lib/google/src/Google/Service','Directory.php',2337],['lib/google/src/Google/Service','Directory.php',2523],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',200],['lib/google/src/Google/Service','AppState.php',201],['lib/google/src/Google/Service','Taskqueue.php',397],['lib/google/src/Google/Service','AndroidPublisher.php',1360],['lib/google/src/Google/Service','AndroidPublisher.php',1472],['lib/google/src/Google/Service','AndroidPublisher.php',1542],['lib/google/src/Google/Service','AndroidPublisher.php',1780],['lib/google/src/Google/Service','AndroidPublisher.php',1846],['lib/google/src/Google/Service','AndroidPublisher.php',1928],['lib/google/src/Google/Service','AndroidPublisher.php',2066],['mod/lesson/pagetypes','essay.php',158],['lib/google/src/Google/Service','AdSenseHost.php',845],['lib/google/src/Google/Service','AdSenseHost.php',1096],['lib/google/src/Google/Service','Games.php',1507],['lib/grade','grade_grade.php',940],['lib/google/src/Google/Service','SiteVerification.php',226],['lib/horde/framework/Horde/Support','Array.php',70],['lib/google/src/Google/Service','Prediction.php',338],['lib/google/src/Google/Service','Compute.php',2999],['lib/google/src/Google/Service','Compute.php',3310],['lib/google/src/Google/Service','Compute.php',3814],['lib/google/src/Google/Service','Compute.php',5314],['lib/google/src/Google/Service','Calendar.php',979],['lib/google/src/Google/Service','Calendar.php',1144],['lib/google/src/Google/Service','Calendar.php',1285],['lib/google/src/Google/Service','Calendar.php',1633],['lib/google/src/Google/Service','Analytics.php',2118],['lib/google/src/Google/Service','Analytics.php',2385],['lib/google/src/Google/Service','Analytics.php',2495],['lib/google/src/Google/Service','Analytics.php',2602],['lib/google/src/Google/Service','Analytics.php',2730],['lib/google/src/Google/Service','Analytics.php',2821],['lib/google/src/Google/Service','Analytics.php',2944],['lib/google/src/Google/Service','Analytics.php',3277],['lib/google/src/Google/Service','Analytics.php',3379],['lib/google/src/Google/Service','Analytics.php',3461],['lib/google/src/Google/Service','Tasks.php',385],['lib/google/src/Google/Service','Tasks.php',555],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',72],['grade/grading/form/guide','lib.php',826],['lib/grade','grade_category.php',204],['lib/google/src/Google/Service','Storage.php',1030],['lib/google/src/Google/Service','Storage.php',1165],['lib/google/src/Google/Service','Storage.php',1318],['lib/google/src/Google/Service','Storage.php',1454],['lib/google/src/Google/Service','Storage.php',1718],['lib/filestorage','stored_file.php',103],['grade/grading/form/rubric','lib.php',828],['lib/grade','grade_scale.php',125],['lib','coursecatlib.php',441],['lib/adodb','adodb-active-record.inc.php',878],['lib/grade','grade_outcome.php',144],['mod/lesson/pagetypes','branchtable.php',262]], 290],
'set_field': ['set_field', 'Sets the custom profile field used for testing. ', [['availability/condition/profile/tests','condition_test.php',349],['lib/dml','moodle_database.php',1688]], 462],
'sql_isnotempty': ['sql_isnotempty', 'Returns the proper SQL to know if one field is not empty. ', [['lib/dml','moodle_database.php',2179]], 27],
'upgrade_set_timeout': ['upgrade_set_timeout', 'Sets maximum expected time needed for upgrade task. Please always make sure that upgrade will not run longer! ', [['lib','upgradelib.php',140]], 19],
'xmldb_qtype_essay_upgrade': ['xmldb_qtype_essay_upgrade', 'Upgrade code for the essay question type. ', [['question/type/essay/db','upgrade.php',30]], 0],
'count_records_sql': ['count_records_sql', 'Get the result of a SQL SELECT COUNT(...) query. ', [['lib/dml','moodle_database.php',1747]], 132],
'field_exists': ['field_exists', 'Given one xmldb_field, check if it exists in DB (true/false). ', [['lib/ddl','database_manager.php',121]], 244],
'add_field': ['add_field', 'This function will add the field to the table passed as arguments ', [['lib/ddl','database_manager.php',510],['lib/xmldb','xmldb_table.php',766]], 888],
'get_manager': ['get_manager', 'Returns the sql generator used for db manipulation. Used mostly in upgrade.php scripts. ', [['lib/dml','moodle_database.php',1030]], 273],
'qtype_essay_convert_to_html': ['qtype_essay_convert_to_html', 'Convert some content to HTML. ', [['question/type/essay/db','upgrade.php',186]], 2],
'delete_records_select': ['delete_records_select', 'Delete one or more records from a table which match a particular WHERE clause. ', [['lib/dml','pgsql_native_moodle_database.php',1247],['lib/dml','oci_native_moodle_database.php',1445],['lib/dml','sqlsrv_native_moodle_database.php',1153],['lib/dml','mssql_native_moodle_database.php',1082],['lib/dml','mysqli_native_moodle_database.php',1469],['lib/dml/tests','dml_test.php',5432],['lib/dml','pdo_moodle_database.php',207]], 166],
'execute': ['execute', 'Exceptionally override the execute method, so, based in the activity_included setting, we are able to skip the execution of one task completely ', [['backup/moodle2','backup_activity_task.class.php',205],['backup/converter/moodle1','backuplib.php',10],['filter/tex','latex.php',60],['backup/util/plan','base_plan.class.php',158],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',61],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',63],['mod/lti/service/profile/classes/local/resource','profile.php',76],['webservice','lib.php',1772],['lib/classes/task','context_cleanup_task.php',41],['lib/adodb','adodb.inc.php',967],['enrol/imsenterprise/classes/task','cron_task.php',43],['admin/tool/messageinbound/classes/task','cleanup_task.php',47],['lib/classes/task','calendar_cron_task.php',40],['mod/workshop/allocation/random','lib.php',83],['lib/classes/task','registration_cron_task.php',40],['lib/classes/task','portfolio_cron_task.php',40],['lib/htmlpurifier/HTMLPurifier/Strategy','Composite.php',21],['lib/google/src/Google/Http','Batch.php',56],['backup/converter/imscc11','lib.php',85],['lib/classes/task','file_temp_cleanup_task.php',40],['filter/tex','texdebug.php',287],['admin/tool/monitor/classes','notification_task.php',39],['lib/classes/task','stats_cron_task.php',40],['lib/classes/task','backup_cleanup_task.php',40],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',40],['backup/util/ui','backup_ui.class.php',122],['lib/dml','pgsql_native_moodle_database.php',665],['lib/classes/task','messaging_cleanup_task.php',40],['lib/zend/Zend/Service/WindowsAzure/RetryPolicy','RetryN.php',68],['lib/classes/task','session_cleanup_task.php',40],['lib/classes/task','completion_cron_task.php',40],['lib/dml','oci_native_moodle_database.php',1009],['backup/util/plan','base_task.class.php',162],['lib/adodb/drivers','adodb-pdo.inc.php',464],['backup/util/plan','backup_plan.class.php',112],['backup/util/ui','restore_ui.class.php',206],['backup/converter/imscc11','backuplib.php',42],['backup/moodle2','restore_activity_task.class.php',183],['','mdeploy.php',743],['lib/dml','sqlsrv_native_moodle_database.php',745],['lib/htmlpurifier/HTMLPurifier/Strategy','MakeWellFormed.php',66],['lib/google/src/Google/Http','REST.php',28],['admin/tool/langimport/classes/task','update_langpacks_task.php',44],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',62],['lib/classes/task','plagiarism_cron_task.php',40],['admin/tool/messageinbound/classes/task','pickup_task.php',47],['backup/util/plan','backup_structure_step.class.php',50],['mod/forum/classes/task','cron_task.php',39],['mod/workshop/allocation/scheduled','lib.php',128],['lib/classes/task','file_trash_cleanup_task.php',40],['backup/util/plan','restore_execution_step.class.php',25],['lib/tests/fixtures','task_fixtures.php',30],['lib/tests/fixtures','task_fixtures.php',39],['lib/tests/fixtures','task_fixtures.php',48],['lib/tests/fixtures','task_fixtures.php',57],['admin/tool/installaddon/classes','validator.php',114],['backup/util/plan','backup_execution_step.class.php',25],['lib/classes/task','password_reset_cleanup_task.php',40],['lib/classes/task','automated_backup_task.php',40],['backup/converter/moodle1','lib.php',142],['lib/htmlpurifier/HTMLPurifier/Strategy','ValidateAttributes.php',16],['lib/classes/task','create_contexts_task.php',40],['backup/util/plan','restore_plan.class.php',159],['backup/converter/imscc1','lib.php',84],['lib/dml','mssql_native_moodle_database.php',662],['admin/tool/log/store/standard/classes/task','cleanup_task.php',40],['lib/classes/task','cache_cleanup_task.php',40],['lib/classes/task','badges_cron_task.php',40],['lib/classes/task','cache_cron_task.php',40],['backup/util/interfaces','executable.class.php',32],['lib/htmlpurifier/HTMLPurifier/Strategy','FixNesting.php',41],['lib/adodb/drivers','adodb-oci8po.inc.php',52],['lib/classes/task','question_cron_task.php',40],['lib/zend/Zend/Service/WindowsAzure/RetryPolicy','NoRetry.php',37],['lib/dml','mysqli_native_moodle_database.php',955],['lib/htmlpurifier/HTMLPurifier/Strategy','RemoveForeignElements.php',20],['backup/util/plan/tests/fixtures','plan_fixtures.php',47],['backup/util/plan/tests/fixtures','plan_fixtures.php',55],['lib/classes/task','events_cron_task.php',40],['lib/classes/task','delete_unconfirmed_users_task.php',40],['lib/adodb/drivers','adodb-oci8.inc.php',786],['backup/converter/imscc1','backuplib.php',10],['lib/classes/task','tag_cron_task.php',40],['lib/classes/task','blog_cron_task.php',40],['lib/classes/task','send_failed_login_notifications_task.php',43],['lib/classes/task','grade_cron_task.php',40],['lib/dml/tests','dml_test.php',5422],['admin/tool/uploadcourse/classes','processor.php',174],['backup/moodle2','restore_section_task.class.php',87],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',62],['lib/google/src/Google','Client.php',545],['backup/util/plan','restore_structure_step.class.php',62],['lib/classes/task','legacy_plugin_cron_task.php',42],['lib/dml','pdo_moodle_database.php',226],['lib/classes/task','check_for_updates_task.php',40],['backup/util/helper','restore_decode_processor.class.php',73],['backup/moodle2','backup_section_task.class.php',97],['webservice/amf/testclient','AMFTester.mxml',282],['lib/classes/task','delete_incomplete_users_task.php',40],['mod/assign','adminlib.php',342],['lib/classes/task','send_new_user_passwords_task.php',40],['admin/tool/monitor/classes/task','clean_events.php',41]], 733],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 988],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pgsql_native_moodle_database.php',1137],['lib/dml','oci_native_moodle_database.php',1355],['lib/dml','sqlsrv_native_moodle_database.php',1081],['lib/dml','mssql_native_moodle_database.php',1003],['lib/dml','mysqli_native_moodle_database.php',1397],['lib/dml/tests','dml_test.php',5430],['lib/dml','pdo_moodle_database.php',460]], 565],
'upgrade_plugin_savepoint': ['upgrade_plugin_savepoint', 'Plugins upgrade savepoint, marks end of blocks upgrade blocks It stores plugin version, resets upgrade timeout and abort upgrade if user cancels page loading. ', [['lib','upgradelib.php',321]], 89],
'close': ['close', 'Close the connection to the server ', [['lib/zend/Zend/Http/Client/Adapter','Socket.php',486],['lib/tests','completionlib_test.php',888],['lib/adodb','adodb.inc.php',2164],['lib/adodb','adodb.inc.php',2844],['lib/adodb','adodb.inc.php',3536],['lib','webdavlib.php',176],['admin/tool/uploaduser','locallib.php',149],['lib/dml','oci_native_moodle_recordset.php',80],['lib/tcpdf','tcpdf.php',2943],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['lib','excellib.class.php',93],['lib/zend/Zend/Http/Client/Adapter','Test.php',187],['lib/classes/dml','recordset_walk.php',153],['mod/assign/feedback/offline','importgradeslib.php',178],['lib/pear/Net','GeoIP.php',556],['backup/util/helper','backup_array_iterator.class.php',63],['lib/zend/Zend/Gdata/App','LoggingHttpClientAdapterSocket.php',109],['lib/zend/Zend/Http/Client/Adapter','Proxy.php',266],['lib/dml','mssql_native_moodle_recordset.php',87],['lib/pear/Auth','RADIUS.php',542],['lib/pear/Auth','RADIUS.php',703],['lib/pear/Auth','RADIUS.php',824],['lib/phpmailer','class.smtp.php',507],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',80],['lib/phpunit/classes','event_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Interface.php',73],['lib/dml','pgsql_native_moodle_recordset.php',104],['auth/fc','fcFPP.php',72],['lib/filestorage','zip_archive.php',183],['lib','odslib.class.php',71],['lib/horde/framework/Horde/Socket','Client.php',135],['question/engine/tests','helpers.php',1225],['grade','lib.php',323],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib','csvlib.class.php',256],['lib/google/src/Google/Logger','File.php',130],['lib/horde/framework/Horde','Stream.php',585],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpunit/classes','message_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Curl.php',460],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',109],['backup/util/helper','backup_null_iterator.class.php',53],['grade/export','lib.php',662],['lib/dml','pdo_moodle_recordset.php',79]], 1036],
'text_to_html': ['text_to_html', 'Given plain text, makes it into HTML as nicely as possible. ', [['lib','weblib.php',1784]], 36],
'count': ['count', '', [], 3984],
'nl2br': ['nl2br', '', [], 13],
'str_replace': ['str_replace', '', [], 1667],
'defined': ['defined', '', [], 4098]};
CLASS_DATA={
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',214]], 867],
'xmldb_table': ['xmldb_table', '', [['lib/xmldb','xmldb_table.php',29]], 397],
'progress_bar': ['progress_bar', 'Progress bar class. ', [['lib','weblib.php',2999]], 16],
'xmldb_field': ['xmldb_field', '', [['lib/xmldb','xmldb_field.php',29]], 306]};
CONST_DATA={
'FORMAT_MARKDOWN': ['FORMAT_MARKDOWN', '', [['lib','weblib.php',65]], 64],
'FORMAT_MOODLE': ['FORMAT_MOODLE', '', [['lib','weblib.php',42]], 378],
'XMLDB_TYPE_INTEGER': ['XMLDB_TYPE_INTEGER', '', [['lib/xmldb','xmldb_constants.php',44]], 652],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 999],
'XMLDB_NOTNULL': ['XMLDB_NOTNULL', '', [['lib/xmldb','xmldb_constants.php',78]], 683],
'FORMAT_PLAIN': ['FORMAT_PLAIN', '', [['lib','weblib.php',52]], 124],
'XMLDB_TYPE_TEXT': ['XMLDB_TYPE_TEXT', '', [['lib/xmldb','xmldb_constants.php',52]], 121],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
