<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /question/type/truefalse/backup/moodle2/restore_qtype_truefalse_plugin.class.php source</title>
    <link rel="stylesheet" href="../../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../../';
subdir='question/type/truefalse/backup/moodle2';
filename='restore_qtype_truefalse_plugin.class.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/question/type/truefalse/backup/moodle2/</a> -> <a href="restore_qtype_truefalse_plugin.class.php.html">restore_qtype_truefalse_plugin.class.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="restore_qtype_truefalse_plugin.class.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="restore_qtype_truefalse_plugin.class.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * @package    moodlecore</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * @subpackage backup-moodle2</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @copyright  2010 onwards Eloy Lafuente (stronk7) {@link http://stronk7.com}</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> */</span>
<a name="l23"><span class="linenum">  23</span></a>  
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * restore plugin class that provides the necessary information</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * needed to restore one truefalse qtype plugin</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> *</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @copyright  2010 onwards Eloy Lafuente (stronk7) {@link http://stronk7.com}</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> */</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('restore_qtype_truefalse_plugin')" href="../../../../../_classes/restore_qtype_truefalse_plugin.html" onMouseOver="classPopup(event,'restore_qtype_truefalse_plugin')">restore_qtype_truefalse_plugin</a> extends restore_qtype_plugin {
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>      <span class="comment">/**</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * Returns the paths to be handled by the plugin at question level</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     */</span>
<a name="l40"><span class="linenum">  40</span></a>      protected function <a class="function" onClick="logFunction('define_question_plugin_structure')" href="../../../../../_functions/define_question_plugin_structure.html" onMouseOver="funcPopup(event,'define_question_plugin_structure')">define_question_plugin_structure</a>() {
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>          <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../../_variables/paths.html">$paths</a> = array();
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">        // This qtype uses question_answers, add them.</span>
<a name="l45"><span class="linenum">  45</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_question_question_answers')" href="../../../../../_functions/add_question_question_answers.html" onMouseOver="funcPopup(event,'add_question_question_answers')">add_question_question_answers</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../../_variables/paths.html">$paths</a>);
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">        // Add own qtype stuff.</span>
<a name="l48"><span class="linenum">  48</span></a>          <a class="var it2518" onMouseOver="hilite(2518)" onMouseOut="lolite()" onClick="logVariable('elename')" href="../../../../../_variables/elename.html">$elename</a> = 'truefalse';
<a name="l49"><span class="linenum">  49</span></a>          <a class="var it2519" onMouseOver="hilite(2519)" onMouseOut="lolite()" onClick="logVariable('elepath')" href="../../../../../_variables/elepath.html">$elepath</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_pathfor')" href="../../../../../_functions/get_pathfor.html" onMouseOver="funcPopup(event,'get_pathfor')">get_pathfor</a>('/truefalse'); <span class="comment">// We used get_recommended_name() so this works.</span>
<a name="l50"><span class="linenum">  50</span></a>          <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../../_variables/paths.html">$paths</a>[] = <span class="keyword">new </span><a class="class" onClick="logClass('restore_path_element')" href="../../../../../_classes/restore_path_element.html" onMouseOver="classPopup(event,'restore_path_element')">restore_path_element</a>(<a class="var it2518" onMouseOver="hilite(2518)" onMouseOut="lolite()" onClick="logVariable('elename')" href="../../../../../_variables/elename.html">$elename</a>, <a class="var it2519" onMouseOver="hilite(2519)" onMouseOut="lolite()" onClick="logVariable('elepath')" href="../../../../../_variables/elepath.html">$elepath</a>);
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>          return <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../../_variables/paths.html">$paths</a>; <span class="comment">// And we return the interesting paths.</span>
<a name="l53"><span class="linenum">  53</span></a>      }
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>      <span class="comment">/**</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">     * Process the qtype/truefalse element</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     */</span>
<a name="l58"><span class="linenum">  58</span></a>      public function <a class="function" onClick="logFunction('process_truefalse')" href="../../../../../_functions/process_truefalse.html" onMouseOver="funcPopup(event,'process_truefalse')">process_truefalse</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>) {
<a name="l59"><span class="linenum">  59</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>;
<a name="l60"><span class="linenum">  60</span></a>  
<a name="l61"><span class="linenum">  61</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a> = (object)<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>;
<a name="l62"><span class="linenum">  62</span></a>          <a class="var it6" onMouseOver="hilite(6)" onMouseOut="lolite()" onClick="logVariable('oldid')" href="../../../../../_variables/oldid.html">$oldid</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('id')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../../_variables/id.html">id</a>;
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">        // Detect if the question is created or mapped.</span>
<a name="l65"><span class="linenum">  65</span></a>          <a class="var it8593" onMouseOver="hilite(8593)" onMouseOut="lolite()" onClick="logVariable('oldquestionid')" href="../../../../../_variables/oldquestionid.html">$oldquestionid</a>   = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_old_parentid')" href="../../../../../_functions/get_old_parentid.html" onMouseOver="funcPopup(event,'get_old_parentid')">get_old_parentid</a>('question');
<a name="l66"><span class="linenum">  66</span></a>          <a class="var it8594" onMouseOver="hilite(8594)" onMouseOut="lolite()" onClick="logVariable('newquestionid')" href="../../../../../_variables/newquestionid.html">$newquestionid</a>   = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_new_parentid')" href="../../../../../_functions/get_new_parentid.html" onMouseOver="funcPopup(event,'get_new_parentid')">get_new_parentid</a>('question');
<a name="l67"><span class="linenum">  67</span></a>          <a class="var it8595" onMouseOver="hilite(8595)" onMouseOut="lolite()" onClick="logVariable('questioncreated')" href="../../../../../_variables/questioncreated.html">$questioncreated</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_mappingid')" href="../../../../../_functions/get_mappingid.html" onMouseOver="funcPopup(event,'get_mappingid')">get_mappingid</a>('question_created', <a class="var it8593" onMouseOver="hilite(8593)" onMouseOut="lolite()" onClick="logVariable('oldquestionid')" href="../../../../../_variables/oldquestionid.html">$oldquestionid</a>) ? true : false;
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">        // If the question has been created by restore, we need to create its question_truefalse too.</span>
<a name="l70"><span class="linenum">  70</span></a>          if (<a class="var it8595" onMouseOver="hilite(8595)" onMouseOut="lolite()" onClick="logVariable('questioncreated')" href="../../../../../_variables/questioncreated.html">$questioncreated</a>) {
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">            // Adjust some columns.</span>
<a name="l72"><span class="linenum">  72</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('question')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../../_variables/question.html">question</a> = <a class="var it8594" onMouseOver="hilite(8594)" onMouseOut="lolite()" onClick="logVariable('newquestionid')" href="../../../../../_variables/newquestionid.html">$newquestionid</a>;
<a name="l73"><span class="linenum">  73</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('trueanswer')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../../_variables/trueanswer.html">trueanswer</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_mappingid')" href="../../../../../_functions/get_mappingid.html" onMouseOver="funcPopup(event,'get_mappingid')">get_mappingid</a>('question_answer', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('trueanswer')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../../_variables/trueanswer.html">trueanswer</a>);
<a name="l74"><span class="linenum">  74</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('falseanswer')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../../_variables/falseanswer.html">falseanswer</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_mappingid')" href="../../../../../_functions/get_mappingid.html" onMouseOver="funcPopup(event,'get_mappingid')">get_mappingid</a>('question_answer', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('falseanswer')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../../_variables/falseanswer.html">falseanswer</a>);
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">            // Insert record.</span>
<a name="l76"><span class="linenum">  76</span></a>              <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('newitemid')" href="../../../../../_variables/newitemid.html">$newitemid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('question_truefalse', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>);
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">            // Create mapping.</span>
<a name="l78"><span class="linenum">  78</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_mapping')" href="../../../../../_functions/set_mapping.html" onMouseOver="funcPopup(event,'set_mapping')">set_mapping</a>('question_truefalse', <a class="var it6" onMouseOver="hilite(6)" onMouseOut="lolite()" onClick="logVariable('oldid')" href="../../../../../_variables/oldid.html">$oldid</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('newitemid')" href="../../../../../_variables/newitemid.html">$newitemid</a>);
<a name="l79"><span class="linenum">  79</span></a>          }
<a name="l80"><span class="linenum">  80</span></a>      }
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>      <span class="comment">/**</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     * Given one question_states record, return the answer</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     * recoded pointing to all the restored stuff for truefalse questions</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     *</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     * if not empty, answer is one question_answers-&gt;id</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     */</span>
<a name="l88"><span class="linenum">  88</span></a>      public function <a class="function" onClick="logFunction('recode_legacy_state_answer')" href="../../../../../_functions/recode_legacy_state_answer.html" onMouseOver="funcPopup(event,'recode_legacy_state_answer')">recode_legacy_state_answer</a>(<a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../../../_variables/state.html">$state</a>) {
<a name="l89"><span class="linenum">  89</span></a>          <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../../../_variables/answer.html">$answer</a> = <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../../../_variables/state.html">$state</a>-&gt;<a onClick="logVariable('answer')" class="var it43230" onMouseOver="hilite(43230)" onMouseOut="lolite()" href="../../../../../_variables/answer.html">answer</a>;
<a name="l90"><span class="linenum">  90</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../../_variables/result.html">$result</a> = '';
<a name="l91"><span class="linenum">  91</span></a>          if (<a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../../../_variables/answer.html">$answer</a>) {
<a name="l92"><span class="linenum">  92</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../../_variables/result.html">$result</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_mappingid')" href="../../../../../_functions/get_mappingid.html" onMouseOver="funcPopup(event,'get_mappingid')">get_mappingid</a>('question_answer', <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../../../_variables/answer.html">$answer</a>);
<a name="l93"><span class="linenum">  93</span></a>          }
<a name="l94"><span class="linenum">  94</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../../_variables/result.html">$result</a>;
<a name="l95"><span class="linenum">  95</span></a>      }
<a name="l96"><span class="linenum">  96</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'set_mapping': ['set_mapping', 'To send ids pairs to backup_ids_table and to store them into paths ', [['backup/moodle2','restore_plugin.class.php',169],['backup/moodle2','restore_subplugin.class.php',101],['backup/util/plan','restore_structure_step.class.php',158]], 131],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'recode_legacy_state_answer': ['recode_legacy_state_answer', 'Decode legacy question_states.answer for this qtype. Used when restoring 2.0 attempt data. ', [['backup/moodle2','restore_qtype_plugin.class.php',355],['question/type/multianswer/backup/moodle2','restore_qtype_multianswer_plugin.class.php',165],['question/type/random/backup/moodle2','restore_qtype_random_plugin.class.php',63],['question/type/randomsamatch/backup/moodle2','restore_qtype_randomsamatch_plugin.class.php',100],['question/type/truefalse/backup/moodle2','restore_qtype_truefalse_plugin.class.php',82],['question/type/match/backup/moodle2','restore_qtype_match_plugin.class.php',193],['question/type/calculatedmulti/backup/moodle2','restore_qtype_calculatedmulti_plugin.class.php',45],['question/type/multichoice/backup/moodle2','restore_qtype_multichoice_plugin.class.php',106]], 1],
'process_truefalse': ['process_truefalse', 'Process the qtype/truefalse element ', [['question/type/truefalse/backup/moodle2','restore_qtype_truefalse_plugin.class.php',55]], 0],
'get_new_parentid': ['get_new_parentid', 'Returns the latest (parent) new id mapped by one pathelement ', [['backup/moodle2','restore_plugin.class.php',189],['backup/moodle2','restore_subplugin.class.php',121],['backup/util/plan','restore_structure_step.class.php',196]], 148],
'get_old_parentid': ['get_old_parentid', 'Returns the latest (parent) old id mapped by one pathelement ', [['backup/moodle2','restore_plugin.class.php',182],['backup/moodle2','restore_subplugin.class.php',114],['backup/util/plan','restore_structure_step.class.php',189]], 32],
'define_question_plugin_structure': ['define_question_plugin_structure', 'Returns the qtype information to attach to question element ', [['question/type/essay/backup/moodle2','backup_qtype_essay_plugin.class.php',36],['question/type/ddwtos/backup/moodle2','restore_qtype_ddwtos_plugin.class.php',37],['question/type/ddwtos/backup/moodle2','backup_qtype_ddwtos_plugin.class.php',37],['question/type/ddimageortext/backup/moodle2','restore_qtype_ddimageortext_plugin.class.php',42],['question/type/multianswer/backup/moodle2','restore_qtype_multianswer_plugin.class.php',37],['question/type/shortanswer/backup/moodle2','backup_qtype_shortanswer_plugin.class.php',36],['question/type/ddmarker/backup/moodle2','restore_qtype_ddmarker_plugin.class.php',44],['question/type/numerical/backup/moodle2','restore_qtype_numerical_plugin.class.php',37],['question/type/random/backup/moodle2','restore_qtype_random_plugin.class.php',37],['question/type/match/backup/moodle2','backup_qtype_match_plugin.class.php',36],['question/type/randomsamatch/backup/moodle2','backup_qtype_randomsamatch_plugin.class.php',36],['question/type/gapselect/backup/moodle2','restore_qtype_gapselect_plugin.class.php',36],['question/type/multichoice/backup/moodle2','backup_qtype_multichoice_plugin.class.php',36],['question/type/randomsamatch/backup/moodle2','restore_qtype_randomsamatch_plugin.class.php',37],['question/type/multianswer/backup/moodle2','backup_qtype_multianswer_plugin.class.php',36],['question/type/shortanswer/backup/moodle2','restore_qtype_shortanswer_plugin.class.php',37],['question/type/truefalse/backup/moodle2','restore_qtype_truefalse_plugin.class.php',37],['question/type/truefalse/backup/moodle2','backup_qtype_truefalse_plugin.class.php',36],['question/type/ddimageortext/backup/moodle2','backup_qtype_ddimageortext_plugin.class.php',43],['question/type/calculated/backup/moodle2','restore_qtype_calculated_plugin.class.php',37],['question/type/ddmarker/backup/moodle2','backup_qtype_ddmarker_plugin.class.php',43],['question/type/gapselect/backup/moodle2','backup_qtype_gapselect_plugin.class.php',36],['question/type/essay/backup/moodle2','restore_qtype_essay_plugin.class.php',37],['question/type/match/backup/moodle2','restore_qtype_match_plugin.class.php',50],['question/type/calculated/backup/moodle2','backup_qtype_calculated_plugin.class.php',36],['question/type/numerical/backup/moodle2','backup_qtype_numerical_plugin.class.php',36],['question/type/multichoice/backup/moodle2','restore_qtype_multichoice_plugin.class.php',37]], 0],
'get_mappingid': ['get_mappingid', 'Return the new id of a mapping for the given itemname ', [['backup/moodle2','restore_plugin.class.php',196],['backup/moodle2','restore_subplugin.class.php',128],['backup/util/plan','restore_structure_step.class.php',203]], 224],
'add_question_question_answers': ['add_question_question_answers', 'Attach to $element (usually questions) the needed backup structures for question_answers for a given question Used by various qtypes (calculated, essay, multianswer, multichoice, numerical, shortanswer, truefalse) ', [['backup/moodle2','backup_qtype_plugin.class.php',38],['backup/moodle2','restore_qtype_plugin.class.php',50]], 16],
'get_pathfor': ['get_pathfor', 'Simple helper function that returns the base (prefix) of the path for the restore_path_element Useful if we used get_recommended_name() in backup. It\'s not mandatory to use it but recommended ;-) ', [['backup/moodle2','restore_plugin.class.php',251],['backup/moodle2','restore_subplugin.class.php',190]], 63],
'defined': ['defined', '', [], 4731]};
CLASS_DATA={
'restore_qtype_truefalse_plugin': ['restore_qtype_truefalse_plugin', 'restore plugin class that provides the necessary information needed to restore one truefalse qtype plugin ', [['question/type/truefalse/backup/moodle2','restore_qtype_truefalse_plugin.class.php',28]], 0],
'restore_path_element': ['restore_path_element', 'Class representing one path to be restored from XML file ', [['backup/util/structure','restore_path_element.class.php',27]], 232]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
