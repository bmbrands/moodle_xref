<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of questionbase.php</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='question/type';
filename='questionbase.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/question/type/</a> -> <a href="questionbase.php.source.html">questionbase.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="questionbase.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../_stats.html">Project Stats</a>]</p>
<p><b>This file defines the class {@link question_definition} and its subclasses. The type hierarchy is quite complex. Here is a summary: - question_definition - question_information_item - question_with_responses implements question_manually_gradable - question_graded_automatically implements question_automatically_gradable - question_graded_automatically_with_countback implements question_automatically_gradable_with_countback - question_graded_by_strategy</b></p>
<table>
<tr><td align="right">Copyright: </td><td>2009 The Open University</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>1036 lines (39 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>2 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 11 classes</h3>
<div class="inset">
<p><b>question_information_item::</b> (5 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#make_behaviour">make_behaviour</a>()<br>
&nbsp;&nbsp;<a href="#get_expected_data">get_expected_data</a>()<br>
&nbsp;&nbsp;<a href="#get_correct_response">get_correct_response</a>()<br>
&nbsp;&nbsp;<a href="#get_question_summary">get_question_summary</a>()<br>
</p>
<p><b>question_manually_gradable::</b> (4 methods):<br>
&nbsp;&nbsp;<a href="#is_complete_response">is_complete_response</a>()<br>
&nbsp;&nbsp;<a href="#is_same_response">is_same_response</a>()<br>
&nbsp;&nbsp;<a href="#summarise_response">summarise_response</a>()<br>
&nbsp;&nbsp;<a href="#classify_response">classify_response</a>()<br>
</p>
<p><b>question_classified_response::</b> (2 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#no_response">no_response</a>()<br>
</p>
<p><b>question_automatically_gradable::</b> (5 methods):<br>
&nbsp;&nbsp;<a href="#is_gradable_response">is_gradable_response</a>()<br>
&nbsp;&nbsp;<a href="#get_validation_error">get_validation_error</a>()<br>
&nbsp;&nbsp;<a href="#grade_response">grade_response</a>()<br>
&nbsp;&nbsp;<a href="#get_hint">get_hint</a>()<br>
&nbsp;&nbsp;<a href="#get_right_answer_summary">get_right_answer_summary</a>()<br>
</p>
<p><b>question_automatically_gradable_with_countback::</b> (15 methods):<br>
&nbsp;&nbsp;<a href="#compute_final_grade">compute_final_grade</a>()<br>
&nbsp;&nbsp;<a href="#classify_response">classify_response</a>()<br>
&nbsp;&nbsp;<a href="#is_gradable_response">is_gradable_response</a>()<br>
&nbsp;&nbsp;<a href="#get_right_answer_summary">get_right_answer_summary</a>()<br>
&nbsp;&nbsp;<a href="#check_combined_feedback_file_access">check_combined_feedback_file_access</a>()<br>
&nbsp;&nbsp;<a href="#check_hint_file_access">check_hint_file_access</a>()<br>
&nbsp;&nbsp;<a href="#get_hint">get_hint</a>()<br>
&nbsp;&nbsp;<a href="#format_hint">format_hint</a>()<br>
&nbsp;&nbsp;<a href="#make_behaviour">make_behaviour</a>()<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#get_correct_response">get_correct_response</a>()<br>
&nbsp;&nbsp;<a href="#get_matching_answer">get_matching_answer</a>()<br>
&nbsp;&nbsp;<a href="#get_correct_answer">get_correct_answer</a>()<br>
&nbsp;&nbsp;<a href="#grade_response">grade_response</a>()<br>
&nbsp;&nbsp;<a href="#classify_response">classify_response</a>()<br>
</p>
<p><b>question_answer::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>question_hint::</b> (3 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#load_from_record">load_from_record</a>()<br>
&nbsp;&nbsp;<a href="#adjust_display_options">adjust_display_options</a>()<br>
</p>
<p><b>question_hint_with_parts::</b> (3 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#load_from_record">load_from_record</a>()<br>
&nbsp;&nbsp;<a href="#adjust_display_options">adjust_display_options</a>()<br>
</p>
<p><b>question_grading_strategy::</b> (2 methods):<br>
&nbsp;&nbsp;<a href="#grade">grade</a>()<br>
&nbsp;&nbsp;<a href="#get_correct_answer">get_correct_answer</a>()<br>
</p>
<p><b>question_response_answer_comparer::</b> (2 methods):<br>
&nbsp;&nbsp;<a href="#get_answers">get_answers</a>()<br>
&nbsp;&nbsp;<a href="#compare_response_with_answer">compare_response_with_answer</a>()<br>
</p>
<p><b>question_first_matching_answer_grading_strategy::</b> (3 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#grade">grade</a>()<br>
&nbsp;&nbsp;<a href="#get_correct_answer">get_correct_answer</a>()<br>
</p>
</div>
<h3>Defines 3 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#get_type_name">get_type_name</a>()<br>
&nbsp;&nbsp;<a href="#make_behaviour">make_behaviour</a>()<br>
&nbsp;&nbsp;<a href="#start_attempt">start_attempt</a>()<br>
&nbsp;&nbsp;<a href="#apply_attempt_state">apply_attempt_state</a>()<br>
&nbsp;&nbsp;<a href="#get_question_summary">get_question_summary</a>()<br>
&nbsp;&nbsp;<a href="#get_num_variants">get_num_variants</a>()<br>
&nbsp;&nbsp;<a href="#get_variants_selection_seed">get_variants_selection_seed</a>()<br>
&nbsp;&nbsp;<a href="#get_min_fraction">get_min_fraction</a>()<br>
&nbsp;&nbsp;<a href="#get_max_fraction">get_max_fraction</a>()<br>
&nbsp;&nbsp;<a href="#clear_wrong_from_response">clear_wrong_from_response</a>()<br>
&nbsp;&nbsp;<a href="#get_num_parts_right">get_num_parts_right</a>()<br>
&nbsp;&nbsp;<a href="#get_renderer">get_renderer</a>()<br>
&nbsp;&nbsp;<a href="#prepare_simulated_post_data">prepare_simulated_post_data</a>()<br>
&nbsp;&nbsp;<a href="#get_student_response_values_for_simulation">get_student_response_values_for_simulation</a>()<br>
&nbsp;&nbsp;<a href="#format_text">format_text</a>()<br>
&nbsp;&nbsp;<a href="#html_to_text">html_to_text</a>()<br>
&nbsp;&nbsp;<a href="#format_questiontext">format_questiontext</a>()<br>
&nbsp;&nbsp;<a href="#format_generalfeedback">format_generalfeedback</a>()<br>
&nbsp;&nbsp;<a href="#make_html_inline">make_html_inline</a>()<br>
&nbsp;&nbsp;<a href="#check_file_access">check_file_access</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="question_information_item"><b>question_information_item</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_information_item.html"><small>X-Ref</small></a>
</p>
<b>This class represents a 'question' that actually does not allow the student<BR>
to respond, like the description 'question' type.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'questionbase.php.source.html#l438')" href="questionbase.php.source.html#l438">__construct</a>()&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_behaviour" onClick="logFunction('make_behaviour', 'questionbase.php.source.html#l445')" href="questionbase.php.source.html#l445">make_behaviour</a>(question_attempt <a href="../../_variables/qa.html">$qa</a>, <a href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>)&nbsp;&nbsp;
<a href="../../_functions/make_behaviour.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_expected_data" onClick="logFunction('get_expected_data', 'questionbase.php.source.html#l449')" href="questionbase.php.source.html#l449">get_expected_data</a>()&nbsp;&nbsp;
<a href="../../_functions/get_expected_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_correct_response" onClick="logFunction('get_correct_response', 'questionbase.php.source.html#l453')" href="questionbase.php.source.html#l453">get_correct_response</a>()&nbsp;&nbsp;
<a href="../../_functions/get_correct_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_question_summary" onClick="logFunction('get_question_summary', 'questionbase.php.source.html#l457')" href="questionbase.php.source.html#l457">get_question_summary</a>()&nbsp;&nbsp;
<a href="../../_functions/get_question_summary.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Interface: <a name="question_manually_gradable"><b>question_manually_gradable</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_manually_gradable.html"><small>X-Ref</small></a>
</p>
<b>Interface that a {@link question_definition} must implement to be usable by<BR>
the manual graded behaviour.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_complete_response" onClick="logFunction('is_complete_response', 'questionbase.php.source.html#l471')" href="questionbase.php.source.html#l471">is_complete_response</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/is_complete_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Used by many of the behaviours, to work out whether the student's<BR>
response to the question is complete. That is, whether the question attempt<BR>
should move to the COMPLETE or INCOMPLETE state.<BR>
</b><BR><b>param:</b> array $response responses, as returned by<br>
<b>return:</b> bool whether this response is a complete answer to this question.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_same_response" onClick="logFunction('is_same_response', 'questionbase.php.source.html#l482')" href="questionbase.php.source.html#l482">is_same_response</a>(array <a href="../../_variables/prevresponse.html">$prevresponse</a>, array <a href="../../_variables/newresponse.html">$newresponse</a>)&nbsp;&nbsp;
<a href="../../_functions/is_same_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Use by many of the behaviours to determine whether the student's<BR>
response has changed. This is normally used to determine that a new set<BR>
of responses can safely be discarded.<BR>
</b><BR><b>param:</b> array $prevresponse the responses previously recorded for this question,<br>
<b>param:</b> array $newresponse the new responses, in the same format.<br>
<b>return:</b> bool whether the two sets of responses are the same - that is<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="summarise_response" onClick="logFunction('summarise_response', 'questionbase.php.source.html#l495')" href="questionbase.php.source.html#l495">summarise_response</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/summarise_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Produce a plain text summary of a response.<BR>
</b><BR><b>param:</b> $response a response, as might be passed to {@link grade_response()}.<br>
<b>return:</b> string a plain text summary of that response, that could be used in reports.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="classify_response" onClick="logFunction('classify_response', 'questionbase.php.source.html#l502')" href="questionbase.php.source.html#l502">classify_response</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/classify_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Categorise the student's response according to the categories defined by<BR>
get_possible_responses.<BR>
</b><BR><b>param:</b> $response a response, as might be passed to {@link grade_response()}.<br>
<b>return:</b> array subpartid =&gt; {@link question_classified_response} objects.<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="question_classified_response"><b>question_classified_response</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_classified_response.html"><small>X-Ref</small></a>
</p>
<b>This class is used in the return value from<BR>
{@link question_manually_gradable::classify_response()}.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'questionbase.php.source.html#l531')" href="questionbase.php.source.html#l531">__construct</a>(<a href="../../_variables/responseclassid.html">$responseclassid</a>, <a href="../../_variables/response.html">$response</a>, <a href="../../_variables/fraction.html">$fraction</a>)&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor, just an easy way to set the fields.<BR>
</b><BR><b>param:</b> string $responseclassid see the field descriptions above.<br>
<b>param:</b> string $response see the field descriptions above.<br>
<b>param:</b> number $fraction see the field descriptions above.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="no_response" onClick="logFunction('no_response', 'questionbase.php.source.html#l543')" href="questionbase.php.source.html#l543">no_response</a>()&nbsp;&nbsp;
<a href="../../_functions/no_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Interface: <a name="question_automatically_gradable"><b>question_automatically_gradable</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_automatically_gradable.html"><small>X-Ref</small></a>
</p>
<b>Interface that a {@link question_definition} must implement to be usable by<BR>
the various automatic grading behaviours.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_gradable_response" onClick="logFunction('is_gradable_response', 'questionbase.php.source.html#l557')" href="questionbase.php.source.html#l557">is_gradable_response</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/is_gradable_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Use by many of the behaviours to determine whether the student<BR>
has provided enough of an answer for the question to be graded automatically,<BR>
or whether it must be considered aborted.<BR>
</b><BR><b>param:</b> array $response responses, as returned by<br>
<b>return:</b> bool whether this response can be graded.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_validation_error" onClick="logFunction('get_validation_error', 'questionbase.php.source.html#l568')" href="questionbase.php.source.html#l568">get_validation_error</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/get_validation_error.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>In situations where is_gradable_response() returns false, this method<BR>
should generate a description of what the problem is.<BR>
</b><BR><b>return:</b> string the message.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="grade_response" onClick="logFunction('grade_response', 'questionbase.php.source.html#l575')" href="questionbase.php.source.html#l575">grade_response</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/grade_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Grade a response to the question, returning a fraction between<BR>
get_min_fraction() and get_max_fraction(), and the corresponding {@link question_state}<BR>
right, partial or wrong.<BR>
</b><BR><b>param:</b> array $response responses, as returned by<br>
<b>return:</b> array (float, integer) the fraction, and the state.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_hint" onClick="logFunction('get_hint', 'questionbase.php.source.html#l585')" href="questionbase.php.source.html#l585">get_hint</a>(<a href="../../_variables/hintnumber.html">$hintnumber</a>, question_attempt <a href="../../_variables/qa.html">$qa</a>)&nbsp;&nbsp;
<a href="../../_functions/get_hint.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get one of the question hints. The question_attempt is passed in case<BR>
the question type wants to do something complex. For example, the<BR>
multiple choice with multiple responses question type will turn off most<BR>
of the hint options if the student has selected too many opitions.<BR>
</b><BR><b>param:</b> int $hintnumber Which hint to display. Indexed starting from 0<br>
<b>param:</b> question_attempt $qa The question_attempt.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_right_answer_summary" onClick="logFunction('get_right_answer_summary', 'questionbase.php.source.html#l595')" href="questionbase.php.source.html#l595">get_right_answer_summary</a>()&nbsp;&nbsp;
<a href="../../_functions/get_right_answer_summary.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate a brief, plain-text, summary of the correct answer to this question.<BR>
This is used by various reports, and can also be useful when testing.<BR>
This method will return null if such a summary is not possible, or<BR>
inappropriate.<BR>
</b><BR><b>return:</b> string|null a plain text summary of the right answer to this question.<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Interface: <a name="question_automatically_gradable_with_countback"><b>question_automatically_gradable_with_countback</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_automatically_gradable_with_countback.html"><small>X-Ref</small></a>
</p>
<b>Interface that a {@link question_definition} must implement to be usable by<BR>
the interactivecountback behaviour.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="compute_final_grade" onClick="logFunction('compute_final_grade', 'questionbase.php.source.html#l614')" href="questionbase.php.source.html#l614">compute_final_grade</a>(<a href="../../_variables/responses.html">$responses</a>, <a href="../../_variables/totaltries.html">$totaltries</a>)&nbsp;&nbsp;
<a href="../../_functions/compute_final_grade.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Work out a final grade for this attempt, taking into account all the<BR>
tries the student made.<BR>
</b><BR><b>param:</b> array $responses the response for each try. Each element of this<br>
<b>param:</b> int $totaltries The maximum number of tries allowed.<br>
<b>return:</b> numeric the fraction that should be awarded for this<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="classify_response" onClick="logFunction('classify_response', 'questionbase.php.source.html#l628')" href="questionbase.php.source.html#l628">classify_response</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/classify_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This class represents a real question. That is, one that is not a<BR>
{@link question_information_item}.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_gradable_response" onClick="logFunction('is_gradable_response', 'questionbase.php.source.html#l654')" href="questionbase.php.source.html#l654">is_gradable_response</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/is_gradable_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_right_answer_summary" onClick="logFunction('get_right_answer_summary', 'questionbase.php.source.html#l658')" href="questionbase.php.source.html#l658">get_right_answer_summary</a>()&nbsp;&nbsp;
<a href="../../_functions/get_right_answer_summary.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_combined_feedback_file_access" onClick="logFunction('check_combined_feedback_file_access', 'questionbase.php.source.html#l666')" href="questionbase.php.source.html#l666">check_combined_feedback_file_access</a>(<a href="../../_variables/qa.html">$qa</a>, <a href="../../_variables/options.html">$options</a>, <a href="../../_variables/filearea.html">$filearea</a>)&nbsp;&nbsp;
<a href="../../_functions/check_combined_feedback_file_access.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check a request for access to a file belonging to a combined feedback field.<BR>
</b><BR><b>param:</b> question_attempt $qa the question attempt being displayed.<br>
<b>param:</b> question_display_options $options the options that control display of the question.<br>
<b>param:</b> string $filearea the name of the file area.<br>
<b>return:</b> bool whether access to the file should be allowed.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_hint_file_access" onClick="logFunction('check_hint_file_access', 'questionbase.php.source.html#l687')" href="questionbase.php.source.html#l687">check_hint_file_access</a>(<a href="../../_variables/qa.html">$qa</a>, <a href="../../_variables/options.html">$options</a>, <a href="../../_variables/args.html">$args</a>)&nbsp;&nbsp;
<a href="../../_functions/check_hint_file_access.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check a request for access to a file belonging to a hint.<BR>
</b><BR><b>param:</b> question_attempt $qa the question attempt being displayed.<br>
<b>param:</b> question_display_options $options the options that control display of the question.<br>
<b>param:</b> array $args the remaining bits of the file path.<br>
<b>return:</b> bool whether access to the file should be allowed.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_hint" onClick="logFunction('get_hint', 'questionbase.php.source.html#l703')" href="questionbase.php.source.html#l703">get_hint</a>(<a href="../../_variables/hintnumber.html">$hintnumber</a>, question_attempt <a href="../../_variables/qa.html">$qa</a>)&nbsp;&nbsp;
<a href="../../_functions/get_hint.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="format_hint" onClick="logFunction('format_hint', 'questionbase.php.source.html#l710')" href="questionbase.php.source.html#l710">format_hint</a>(question_hint <a href="../../_variables/hint.html">$hint</a>, question_attempt <a href="../../_variables/qa.html">$qa</a>)&nbsp;&nbsp;
<a href="../../_functions/format_hint.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_behaviour" onClick="logFunction('make_behaviour', 'questionbase.php.source.html#l728')" href="questionbase.php.source.html#l728">make_behaviour</a>(question_attempt <a href="../../_variables/qa.html">$qa</a>, <a href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>)&nbsp;&nbsp;
<a href="../../_functions/make_behaviour.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'questionbase.php.source.html#l750')" href="questionbase.php.source.html#l750">__construct</a>(question_grading_strategy <a href="../../_variables/strategy.html">$strategy</a>)&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_correct_response" onClick="logFunction('get_correct_response', 'questionbase.php.source.html#l755')" href="questionbase.php.source.html#l755">get_correct_response</a>()&nbsp;&nbsp;
<a href="../../_functions/get_correct_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_matching_answer" onClick="logFunction('get_matching_answer', 'questionbase.php.source.html#l764')" href="questionbase.php.source.html#l764">get_matching_answer</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/get_matching_answer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get an answer that contains the feedback and fraction that should be<BR>
awarded for this resonse.<BR>
</b><BR><b>param:</b> array $response a response.<br>
<b>return:</b> question_answer the matching answer.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_correct_answer" onClick="logFunction('get_correct_answer', 'questionbase.php.source.html#l778')" href="questionbase.php.source.html#l778">get_correct_answer</a>()&nbsp;&nbsp;
<a href="../../_functions/get_correct_answer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> question_answer an answer that contains the a response that would<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="grade_response" onClick="logFunction('grade_response', 'questionbase.php.source.html#l782')" href="questionbase.php.source.html#l782">grade_response</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/grade_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="classify_response" onClick="logFunction('classify_response', 'questionbase.php.source.html#l792')" href="questionbase.php.source.html#l792">classify_response</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/classify_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="question_answer"><b>question_answer</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_answer.html"><small>X-Ref</small></a>
</p>
<b>Class to represent a question answer, loaded from the question_answers table<BR>
in the database.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'questionbase.php.source.html#l835')" href="questionbase.php.source.html#l835">__construct</a>(<a href="../../_variables/id.html">$id</a>, <a href="../../_variables/answer.html">$answer</a>, <a href="../../_variables/fraction.html">$fraction</a>, <a href="../../_variables/feedback.html">$feedback</a>, <a href="../../_variables/feedbackformat.html">$feedbackformat</a>)&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor.<BR>
</b><BR><b>param:</b> int $id the answer.<br>
<b>param:</b> string $answer the answer.<br>
<b>param:</b> number $fraction the fraction this answer is worth.<br>
<b>param:</b> string $feedback the feedback for this answer.<br>
<b>param:</b> int $feedbackformat the format of the feedback.<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="question_hint"><b>question_hint</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_hint.html"><small>X-Ref</small></a>
</p>
<b>Class to represent a hint associated with a question.<BR>
Used by iteractive mode, etc. A question has an array of these.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'questionbase.php.source.html#l868')" href="questionbase.php.source.html#l868">__construct</a>(<a href="../../_variables/id.html">$id</a>, <a href="../../_variables/hint.html">$hint</a>, <a href="../../_variables/hintformat.html">$hintformat</a>)&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor.<BR>
</b><BR><b>param:</b> int the hint id from the database.<br>
<b>param:</b> string $hint The hint text<br>
<b>param:</b> int the corresponding text FORMAT_... type.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_from_record" onClick="logFunction('load_from_record', 'questionbase.php.source.html#l880')" href="questionbase.php.source.html#l880">load_from_record</a>(<a href="../../_variables/row.html">$row</a>)&nbsp;&nbsp;
<a href="../../_functions/load_from_record.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a basic hint from a row loaded from the question_hints table in the database.<BR>
</b><BR><b>param:</b> object $row with $row-&gt;hint set.<br>
<b>return:</b> question_hint<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="adjust_display_options" onClick="logFunction('adjust_display_options', 'questionbase.php.source.html#l889')" href="questionbase.php.source.html#l889">adjust_display_options</a>(question_display_options <a href="../../_variables/options.html">$options</a>)&nbsp;&nbsp;
<a href="../../_functions/adjust_display_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adjust this display options according to the hint settings.<BR>
</b><BR><b>param:</b> question_display_options $options<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="question_hint_with_parts"><b>question_hint_with_parts</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_hint_with_parts.html"><small>X-Ref</small></a>
</p>
<b>An extension of {@link question_hint} for questions like match and multiple<BR>
choice with multile answers, where there are options for whether to show the<BR>
number of parts right at each stage, and to reset the wrong parts.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'questionbase.php.source.html#l914')" href="questionbase.php.source.html#l914">__construct</a>(<a href="../../_variables/id.html">$id</a>, <a href="../../_variables/hint.html">$hint</a>, <a href="../../_variables/hintformat.html">$hintformat</a>, <a href="../../_variables/shownumcorrect.html">$shownumcorrect</a>, <a href="../../_variables/clearwrong.html">$clearwrong</a>)&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor.<BR>
</b><BR><b>param:</b> int the hint id from the database.<br>
<b>param:</b> string $hint The hint text<br>
<b>param:</b> int the corresponding text FORMAT_... type.<br>
<b>param:</b> bool $shownumcorrect whether the number of right parts should be shown<br>
<b>param:</b> bool $clearwrong whether the wrong parts should be reset.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_from_record" onClick="logFunction('load_from_record', 'questionbase.php.source.html#l928')" href="questionbase.php.source.html#l928">load_from_record</a>(<a href="../../_variables/row.html">$row</a>)&nbsp;&nbsp;
<a href="../../_functions/load_from_record.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a basic hint from a row loaded from the question_hints table in the database.<BR>
</b><BR><b>param:</b> object $row with $row-&gt;hint, -&gt;shownumcorrect and -&gt;clearwrong set.<br>
<b>return:</b> question_hint_with_parts<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="adjust_display_options" onClick="logFunction('adjust_display_options', 'questionbase.php.source.html#l938')" href="questionbase.php.source.html#l938">adjust_display_options</a>(question_display_options <a href="../../_variables/options.html">$options</a>)&nbsp;&nbsp;
<a href="../../_functions/adjust_display_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Interface: <a name="question_grading_strategy"><b>question_grading_strategy</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_grading_strategy.html"><small>X-Ref</small></a>
</p>
<b>This question_grading_strategy interface. Used to share grading code between<BR>
questions that that subclass {@link question_graded_by_strategy}.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="grade" onClick="logFunction('grade', 'questionbase.php.source.html#l956')" href="questionbase.php.source.html#l956">grade</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/grade.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return a question answer that describes the outcome (fraction and feeback)<BR>
for a particular respons.<BR>
</b><BR><b>param:</b> array $response the response.<br>
<b>return:</b> question_answer the answer describing the outcome.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_correct_answer" onClick="logFunction('get_correct_answer', 'questionbase.php.source.html#l968')" href="questionbase.php.source.html#l968">get_correct_answer</a>()&nbsp;&nbsp;
<a href="../../_functions/get_correct_answer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> question_answer an answer that contains the a response that would<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Interface: <a name="question_response_answer_comparer"><b>question_response_answer_comparer</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_response_answer_comparer.html"><small>X-Ref</small></a>
</p>
<b>This interface defines the methods that a {@link question_definition} must<BR>
implement if it is to be graded by the<BR>
{@link question_first_matching_answer_grading_strategy}.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_answers" onClick="logFunction('get_answers', 'questionbase.php.source.html#l982')" href="questionbase.php.source.html#l982">get_answers</a>()&nbsp;&nbsp;
<a href="../../_functions/get_answers.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="compare_response_with_answer" onClick="logFunction('compare_response_with_answer', 'questionbase.php.source.html#l989')" href="questionbase.php.source.html#l989">compare_response_with_answer</a>(array <a href="../../_variables/response.html">$response</a>, question_answer <a href="../../_variables/answer.html">$answer</a>)&nbsp;&nbsp;
<a href="../../_functions/compare_response_with_answer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> array $response the response.<br>
<b>param:</b> question_answer $answer an answer.<br>
<b>return:</b> bool whether the response matches the answer.<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="question_first_matching_answer_grading_strategy"><b>question_first_matching_answer_grading_strategy</b></a>&nbsp;&nbsp;- <a href="../../_classes/question_first_matching_answer_grading_strategy.html"><small>X-Ref</small></a>
</p>
<b>This grading strategy is used by question types like shortanswer an numerical.<BR>
It gets a list of possible answers from the question, and returns the first one<BR>
that matches the given response. It returns the first answer with fraction 1.0<BR>
when asked for the correct answer.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'questionbase.php.source.html#l1013')" href="questionbase.php.source.html#l1013">__construct</a>(question_response_answer_comparer <a href="../../_variables/question.html">$question</a>)&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> question_response_answer_comparer $question (presumably also a<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="grade" onClick="logFunction('grade', 'questionbase.php.source.html#l1017')" href="questionbase.php.source.html#l1017">grade</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/grade.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_correct_answer" onClick="logFunction('get_correct_answer', 'questionbase.php.source.html#l1027')" href="questionbase.php.source.html#l1027">get_correct_answer</a>()&nbsp;&nbsp;
<a href="../../_functions/get_correct_answer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
</div>
</div>
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'questionbase.php.source.html#l124')" href="questionbase.php.source.html#l124">__construct</a>()&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor. Normally to get a question, you call<BR>
{@link question_bank::load_question()}, but questions can be created<BR>
directly, for example in unit test code.<BR>
</b><BR><b>return:</b> unknown_type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_type_name" onClick="logFunction('get_type_name', 'questionbase.php.source.html#l137')" href="questionbase.php.source.html#l137">get_type_name</a>()&nbsp;&nbsp;
<a href="../../_functions/get_type_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> the name of the question type (for example multichoice) that this<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_behaviour" onClick="logFunction('make_behaviour', 'questionbase.php.source.html#l141')" href="questionbase.php.source.html#l141">make_behaviour</a>(question_attempt <a href="../../_variables/qa.html">$qa</a>, <a href="../../_variables/preferredbehaviour.html">$preferredbehaviour</a>)&nbsp;&nbsp;
<a href="../../_functions/make_behaviour.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creat the appropriate behaviour for an attempt at this quetsion,<BR>
given the desired (archetypal) behaviour.<BR>
</b><BR>This default implementation will suit most normal graded questions.<BR>
<BR>
If your question is of a patricular type, then it may need to do something<BR>
different. For example, if your question can only be graded manually, then<BR>
it should probably return a manualgraded behaviour, irrespective of<BR>
what is asked for.<BR>
<BR>
If your question wants to do somthing especially complicated is some situations,<BR>
then you may wish to return a particular behaviour related to the<BR>
one asked for. For example, you migth want to return a<BR>
qbehaviour_interactive_adapted_for_myqtype.<BR>
<BR>
<b>param:</b> question_attempt $qa the attempt we are creating a behaviour for.<br>
<b>param:</b> string $preferredbehaviour the requested type of behaviour.<br>
<b>return:</b> question_behaviour the new behaviour object.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="start_attempt" onClick="logFunction('start_attempt', 'questionbase.php.source.html#l165')" href="questionbase.php.source.html#l165">start_attempt</a>(question_attempt_step <a href="../../_variables/step.html">$step</a>, <a href="../../_variables/variant.html">$variant</a>)&nbsp;&nbsp;
<a href="../../_functions/start_attempt.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Start a new attempt at this question, storing any information that will<BR>
be needed later in the step.<BR>
</b><BR>This is where the question can do any initialisation required on a<BR>
per-attempt basis. For example, this is where the multiple choice<BR>
question type randomly shuffles the choices (if that option is set).<BR>
<BR>
Any information about how the question has been set up for this attempt<BR>
should be stored in the $step, by calling $step-&gt;set_qt_var(...).<BR>
<BR>
<b>param:</b> question_attempt_step The first step of the {@link question_attempt}<br>
<b>param:</b> int $varant which variant of this question to start. Will be between<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="apply_attempt_state" onClick="logFunction('apply_attempt_state', 'questionbase.php.source.html#l184')" href="questionbase.php.source.html#l184">apply_attempt_state</a>(question_attempt_step <a href="../../_variables/step.html">$step</a>)&nbsp;&nbsp;
<a href="../../_functions/apply_attempt_state.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>When an in-progress {@link question_attempt} is re-loaded from the<BR>
database, this method is called so that the question can re-initialise<BR>
its internal state as needed by this attempt.<BR>
</b><BR>For example, the multiple choice question type needs to set the order<BR>
of the choices to the order that was set up when start_attempt was called<BR>
originally. All the information required to do this should be in the<BR>
$step object, which is the first step of the question_attempt being loaded.<BR>
<BR>
<b>param:</b> question_attempt_step The first step of the {@link question_attempt}<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_question_summary" onClick="logFunction('get_question_summary', 'questionbase.php.source.html#l200')" href="questionbase.php.source.html#l200">get_question_summary</a>()&nbsp;&nbsp;
<a href="../../_functions/get_question_summary.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate a brief, plain-text, summary of this question. This is used by<BR>
various reports. This should show the particular variant of the question<BR>
as presented to students. For example, the calculated quetsion type would<BR>
fill in the particular numbers that were presented to the student.<BR>
This method will return null if such a summary is not possible, or<BR>
inappropriate.<BR>
</b><BR><b>return:</b> string|null a plain text summary of this question.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_num_variants" onClick="logFunction('get_num_variants', 'questionbase.php.source.html#l216')" href="questionbase.php.source.html#l216">get_num_variants</a>()&nbsp;&nbsp;
<a href="../../_functions/get_num_variants.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> int the number of vaiants that this question has.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_variants_selection_seed" onClick="logFunction('get_variants_selection_seed', 'questionbase.php.source.html#l224')" href="questionbase.php.source.html#l224">get_variants_selection_seed</a>()&nbsp;&nbsp;
<a href="../../_functions/get_variants_selection_seed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> string that can be used to seed the pseudo-random selection of a<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_min_fraction" onClick="logFunction('get_min_fraction', 'questionbase.php.source.html#l228')" href="questionbase.php.source.html#l228">get_min_fraction</a>()&nbsp;&nbsp;
<a href="../../_functions/get_min_fraction.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Some questions can return a negative mark if the student gets it wrong.<BR>
</b><BR>This method returns the lowest mark the question can return, on the<BR>
fraction scale. that is, where the maximum possible mark is 1.0.<BR>
<BR>
<b>return:</b> float minimum fraction this question will ever return.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_max_fraction" onClick="logFunction('get_max_fraction', 'questionbase.php.source.html#l240')" href="questionbase.php.source.html#l240">get_max_fraction</a>()&nbsp;&nbsp;
<a href="../../_functions/get_max_fraction.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Some questions can return a mark greater than the maximum.<BR>
</b><BR>This method returns the lowest highest the question can return, on the<BR>
fraction scale. that is, where the nominal maximum mark is 1.0.<BR>
<BR>
<b>return:</b> float maximum fraction this question will ever return.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clear_wrong_from_response" onClick="logFunction('clear_wrong_from_response', 'questionbase.php.source.html#l252')" href="questionbase.php.source.html#l252">clear_wrong_from_response</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/clear_wrong_from_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a response, rest the parts that are wrong.<BR>
</b><BR><b>param:</b> array $response a response<br>
<b>return:</b> array a cleaned up response with the wrong bits reset.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_num_parts_right" onClick="logFunction('get_num_parts_right', 'questionbase.php.source.html#l261')" href="questionbase.php.source.html#l261">get_num_parts_right</a>(array <a href="../../_variables/response.html">$response</a>)&nbsp;&nbsp;
<a href="../../_functions/get_num_parts_right.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return the number of subparts of this response that are right.<BR>
</b><BR><b>param:</b> array $response a response<br>
<b>return:</b> array with two elements, the number of correct subparts, and<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_renderer" onClick="logFunction('get_renderer', 'questionbase.php.source.html#l275')" href="questionbase.php.source.html#l275">get_renderer</a>(moodle_page <a href="../../_variables/page.html">$page</a>)&nbsp;&nbsp;
<a href="../../_functions/get_renderer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> moodle_page the page we are outputting to.<br>
<b>return:</b> qtype_renderer the renderer to use for outputting this question.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="prepare_simulated_post_data" onClick="logFunction('prepare_simulated_post_data', 'questionbase.php.source.html#l303')" href="questionbase.php.source.html#l303">prepare_simulated_post_data</a>(<a href="../../_variables/simulatedresponse.html">$simulatedresponse</a>)&nbsp;&nbsp;
<a href="../../_functions/prepare_simulated_post_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Takes an array of values representing a student response represented in a way that is understandable by a human and<BR>
transforms that to the response as the POST values returned from the HTML form that takes the student response during a<BR>
student attempt. Primarily this is used when reading csv values from a file of student responses in order to be able to<BR>
simulate the student interaction with a quiz.<BR>
</b><BR>In most cases the array will just be returned as is. Some question types will need to transform the keys of the array,<BR>
as the meaning of the keys in the html form is deliberately obfuscated so that someone looking at the html does not get an<BR>
advantage. The values that represent the response might also be changed in order to more meaningful to a human.<BR>
<BR>
See the examples of question types that have overridden this in core and also see the csv files of simulated student<BR>
responses used in unit tests in :<BR>
- mod/quiz/tests/fixtures/stepsXX.csv<BR>
- mod/quiz/report/responses/tests/fixtures/steps00.csv<BR>
- mod/quiz/report/statistics/tests/fixtures/stepsXX.csv<BR>
<BR>
Also see {@link https://github.com/jamiepratt/moodle-quiz_simulate}, a quiz report plug in for uploading and downloading<BR>
student responses as csv files.<BR>
<BR>
<b>param:</b> array $simulatedresponse an array of data representing a student response<br>
<b>return:</b> array a response array as would be returned from the html form (but without prefixes)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_student_response_values_for_simulation" onClick="logFunction('get_student_response_values_for_simulation', 'questionbase.php.source.html#l329')" href="questionbase.php.source.html#l329">get_student_response_values_for_simulation</a>(<a href="../../_variables/realresponse.html">$realresponse</a>)&nbsp;&nbsp;
<a href="../../_functions/get_student_response_values_for_simulation.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Does the opposite of {@link prepare_simulated_post_data}.<BR>
</b><BR>This takes a student response (the POST values returned from the HTML form that takes the student response during a<BR>
student attempt) it then represents it in a way that is understandable by a human.<BR>
<BR>
Primarily this is used when creating a file of csv from real student responses in order later to be able to<BR>
simulate the same student interaction with a quiz later.<BR>
<BR>
<b>param:</b> string[] $realresponse the response array as was returned from the form during a student attempt (without prefixes).<br>
<b>return:</b> string[] an array of data representing a student response.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="format_text" onClick="logFunction('format_text', 'questionbase.php.source.html#l345')" href="questionbase.php.source.html#l345">format_text</a>(<a href="../../_variables/text.html">$text</a>, <a href="../../_variables/format.html">$format</a>, <a href="../../_variables/qa.html">$qa</a>, <a href="../../_variables/component.html">$component</a>, <a href="../../_variables/filearea.html">$filearea</a>, <a href="../../_variables/itemid.html">$itemid</a>,<a href="../../_variables/clean.html">$clean</a> = false)&nbsp;&nbsp;
<a href="../../_functions/format_text.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Apply {@link format_text()} to some content with appropriate settings for<BR>
this question.<BR>
</b><BR><b>param:</b> string $text some content that needs to be output.<br>
<b>param:</b> int $format the FORMAT_... constant.<br>
<b>param:</b> question_attempt $qa the question attempt.<br>
<b>param:</b> string $component used for rewriting file area URLs.<br>
<b>param:</b> string $filearea used for rewriting file area URLs.<br>
<b>param:</b> bool $clean Whether the HTML needs to be cleaned. Generally,<br>
<b>return:</b> string the text formatted for output by format_text.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="html_to_text" onClick="logFunction('html_to_text', 'questionbase.php.source.html#l367')" href="questionbase.php.source.html#l367">html_to_text</a>(<a href="../../_variables/text.html">$text</a>, <a href="../../_variables/format.html">$format</a>)&nbsp;&nbsp;
<a href="../../_functions/html_to_text.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Convert some part of the question text to plain text. This might be used,<BR>
for example, by get_response_summary().<BR>
</b><BR><b>param:</b> string $text The HTML to reduce to plain text.<br>
<b>param:</b> int $format the FORMAT_... constant.<br>
<b>return:</b> string the equivalent plain text.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="format_questiontext" onClick="logFunction('format_questiontext', 'questionbase.php.source.html#l379')" href="questionbase.php.source.html#l379">format_questiontext</a>(<a href="../../_variables/qa.html">$qa</a>)&nbsp;&nbsp;
<a href="../../_functions/format_questiontext.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="format_generalfeedback" onClick="logFunction('format_generalfeedback', 'questionbase.php.source.html#l385')" href="questionbase.php.source.html#l385">format_generalfeedback</a>(<a href="../../_variables/qa.html">$qa</a>)&nbsp;&nbsp;
<a href="../../_functions/format_generalfeedback.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_html_inline" onClick="logFunction('make_html_inline', 'questionbase.php.source.html#l390')" href="questionbase.php.source.html#l390">make_html_inline</a>(<a href="../../_variables/html.html">$html</a>)&nbsp;&nbsp;
<a href="../../_functions/make_html_inline.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Take some HTML that should probably already be a single line, like a<BR>
multiple choice choice, or the corresponding feedback, and make it so that<BR>
it is suitable to go in a place where the HTML must be inline, like inside a &lt;p&gt; tag.<BR>
</b><BR><b>param:</b> string $html to HTML to fix up.<br>
<b>return:</b> string the fixed HTML.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_file_access" onClick="logFunction('check_file_access', 'questionbase.php.source.html#l404')" href="questionbase.php.source.html#l404">check_file_access</a>(<a href="../../_variables/qa.html">$qa</a>, <a href="../../_variables/options.html">$options</a>, <a href="../../_variables/component.html">$component</a>, <a href="../../_variables/filearea.html">$filearea</a>, <a href="../../_variables/args.html">$args</a>, <a href="../../_variables/forcedownload.html">$forcedownload</a>)&nbsp;&nbsp;
<a href="../../_functions/check_file_access.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether the users is allow to be served a particular file.<BR>
</b><BR><b>param:</b> question_attempt $qa the question attempt being displayed.<br>
<b>param:</b> question_display_options $options the options that control display of the question.<br>
<b>param:</b> string $component the name of the component we are serving files for.<br>
<b>param:</b> string $filearea the name of the file area.<br>
<b>param:</b> array $args the remaining bits of the file path.<br>
<b>param:</b> bool $forcedownload whether the user must be forced to download the file.<br>
<b>return:</b> bool true if the user can access this file.<br>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
