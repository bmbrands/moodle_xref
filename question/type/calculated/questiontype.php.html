<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of questiontype.php</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='question/type/calculated';
filename='questiontype.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/question/type/calculated/</a> -> <a href="questiontype.php.source.html">questiontype.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="questiontype.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../../_stats.html">Project Stats</a>]</p>
<p><b>Question type class for the calculated question type.</b></p>
<table>
<tr><td align="right">Copyright: </td><td>1999 onwards Martin Dougiamas {@link http://moodle.com}</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>2020 lines (88 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>6 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 1 class</h3>
<div class="inset">
<p><b>qtype_calculated::</b> (52 methods):<br>
&nbsp;&nbsp;<a href="#get_question_options">get_question_options</a>()<br>
&nbsp;&nbsp;<a href="#get_datasets_for_export">get_datasets_for_export</a>()<br>
&nbsp;&nbsp;<a href="#save_question_options">save_question_options</a>()<br>
&nbsp;&nbsp;<a href="#import_datasets">import_datasets</a>()<br>
&nbsp;&nbsp;<a href="#initialise_question_instance">initialise_question_instance</a>()<br>
&nbsp;&nbsp;<a href="#finished_edit_wizard">finished_edit_wizard</a>()<br>
&nbsp;&nbsp;<a href="#wizardpagesnumber">wizardpagesnumber</a>()<br>
&nbsp;&nbsp;<a href="#print_next_wizard_page">print_next_wizard_page</a>()<br>
&nbsp;&nbsp;<a href="#next_wizard_form">next_wizard_form</a>()<br>
&nbsp;&nbsp;<a href="#display_question_editing_page">display_question_editing_page</a>()<br>
&nbsp;&nbsp;<a href="#validate_text">validate_text</a>()<br>
&nbsp;&nbsp;<a href="#validate_answer">validate_answer</a>()<br>
&nbsp;&nbsp;<a href="#validate_question_data">validate_question_data</a>()<br>
&nbsp;&nbsp;<a href="#preparedatasets">preparedatasets</a>()<br>
&nbsp;&nbsp;<a href="#addnamecategory">addnamecategory</a>()<br>
&nbsp;&nbsp;<a href="#save_question">save_question</a>()<br>
&nbsp;&nbsp;<a href="#delete_question">delete_question</a>()<br>
&nbsp;&nbsp;<a href="#get_random_guess_score">get_random_guess_score</a>()<br>
&nbsp;&nbsp;<a href="#supports_dataset_item_generation">supports_dataset_item_generation</a>()<br>
&nbsp;&nbsp;<a href="#custom_generator_tools_part">custom_generator_tools_part</a>()<br>
&nbsp;&nbsp;<a href="#custom_generator_set_data">custom_generator_set_data</a>()<br>
&nbsp;&nbsp;<a href="#custom_generator_tools">custom_generator_tools</a>()<br>
&nbsp;&nbsp;<a href="#update_dataset_options">update_dataset_options</a>()<br>
&nbsp;&nbsp;<a href="#save_question_calculated">save_question_calculated</a>()<br>
&nbsp;&nbsp;<a href="#get_database_dataset_items">get_database_dataset_items</a>()<br>
&nbsp;&nbsp;<a href="#save_dataset_items">save_dataset_items</a>()<br>
&nbsp;&nbsp;<a href="#generate_dataset_item">generate_dataset_item</a>()<br>
&nbsp;&nbsp;<a href="#comment_header">comment_header</a>()<br>
&nbsp;&nbsp;<a href="#comment_on_datasetitems">comment_on_datasetitems</a>()<br>
&nbsp;&nbsp;<a href="#tolerance_types">tolerance_types</a>()<br>
&nbsp;&nbsp;<a href="#dataset_options">dataset_options</a>()<br>
&nbsp;&nbsp;<a href="#construct_dataset_menus">construct_dataset_menus</a>()<br>
&nbsp;&nbsp;<a href="#substitute_variables">substitute_variables</a>()<br>
&nbsp;&nbsp;<a href="#evaluate_equations">evaluate_equations</a>()<br>
&nbsp;&nbsp;<a href="#substitute_variables_and_eval">substitute_variables_and_eval</a>()<br>
&nbsp;&nbsp;<a href="#get_dataset_definitions">get_dataset_definitions</a>()<br>
&nbsp;&nbsp;<a href="#save_dataset_definitions">save_dataset_definitions</a>()<br>
&nbsp;&nbsp;<a href="#save_as_new_dataset_definitions">save_as_new_dataset_definitions</a>()<br>
&nbsp;&nbsp;<a href="#pick_question_dataset">pick_question_dataset</a>()<br>
&nbsp;&nbsp;<a href="#dataset_options_from_database">dataset_options_from_database</a>()<br>
&nbsp;&nbsp;<a href="#find_dataset_names">find_dataset_names</a>()<br>
&nbsp;&nbsp;<a href="#get_dataset_definitions_category">get_dataset_definitions_category</a>()<br>
&nbsp;&nbsp;<a href="#print_dataset_definitions_category">print_dataset_definitions_category</a>()<br>
&nbsp;&nbsp;<a href="#print_dataset_definitions_category_shared">print_dataset_definitions_category_shared</a>()<br>
&nbsp;&nbsp;<a href="#find_math_equations">find_math_equations</a>()<br>
&nbsp;&nbsp;<a href="#get_virtual_qtype">get_virtual_qtype</a>()<br>
&nbsp;&nbsp;<a href="#get_possible_responses">get_possible_responses</a>()<br>
&nbsp;&nbsp;<a href="#move_files">move_files</a>()<br>
&nbsp;&nbsp;<a href="#delete_files">delete_files</a>()<br>
&nbsp;&nbsp;<a href="#qtype_calculated_calculate_answer">qtype_calculated_calculate_answer</a>()<br>
&nbsp;&nbsp;<a href="#qtype_calculated_find_formula_errors">qtype_calculated_find_formula_errors</a>()<br>
&nbsp;&nbsp;<a href="#qtype_calculated_find_formula_errors_in_text">qtype_calculated_find_formula_errors_in_text</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="qtype_calculated"><b>qtype_calculated</b></a>&nbsp;&nbsp;- <a href="../../../_classes/qtype_calculated.html"><small>X-Ref</small></a>
</p>
<b>The calculated question type.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_question_options" onClick="logFunction('get_question_options', 'questiontype.php.source.html#l48')" href="questiontype.php.source.html#l48">get_question_options</a>(<a href="../../../_variables/question.html">$question</a>)&nbsp;&nbsp;
<a href="../../../_functions/get_question_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_datasets_for_export" onClick="logFunction('get_datasets_for_export', 'questiontype.php.source.html#l91')" href="questiontype.php.source.html#l91">get_datasets_for_export</a>(<a href="../../../_variables/question.html">$question</a>)&nbsp;&nbsp;
<a href="../../../_functions/get_datasets_for_export.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="save_question_options" onClick="logFunction('save_question_options', 'questiontype.php.source.html#l133')" href="questiontype.php.source.html#l133">save_question_options</a>(<a href="../../../_variables/question.html">$question</a>)&nbsp;&nbsp;
<a href="../../../_functions/save_question_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="import_datasets" onClick="logFunction('import_datasets', 'questiontype.php.source.html#l266')" href="questiontype.php.source.html#l266">import_datasets</a>(<a href="../../../_variables/question.html">$question</a>)&nbsp;&nbsp;
<a href="../../../_functions/import_datasets.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise_question_instance" onClick="logFunction('initialise_question_instance', 'questiontype.php.source.html#l322')" href="questiontype.php.source.html#l322">initialise_question_instance</a>(question_definition <a href="../../../_variables/question.html">$question</a>, <a href="../../../_variables/questiondata.html">$questiondata</a>)&nbsp;&nbsp;
<a href="../../../_functions/initialise_question_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="finished_edit_wizard" onClick="logFunction('finished_edit_wizard', 'questiontype.php.source.html#l345')" href="questiontype.php.source.html#l345">finished_edit_wizard</a>(<a href="../../../_variables/form.html">$form</a>)&nbsp;&nbsp;
<a href="../../../_functions/finished_edit_wizard.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="wizardpagesnumber" onClick="logFunction('wizardpagesnumber', 'questiontype.php.source.html#l348')" href="questiontype.php.source.html#l348">wizardpagesnumber</a>()&nbsp;&nbsp;
<a href="../../../_functions/wizardpagesnumber.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="print_next_wizard_page" onClick="logFunction('print_next_wizard_page', 'questiontype.php.source.html#l352')" href="questiontype.php.source.html#l352">print_next_wizard_page</a>(<a href="../../../_variables/question.html">$question</a>, <a href="../../../_variables/form.html">$form</a>, <a href="../../../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../../../_functions/print_next_wizard_page.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="next_wizard_form" onClick="logFunction('next_wizard_form', 'questiontype.php.source.html#l376')" href="questiontype.php.source.html#l376">next_wizard_form</a>(<a href="../../../_variables/submiturl.html">$submiturl</a>, <a href="../../../_variables/question.html">$question</a>, <a href="../../../_variables/wizardnow.html">$wizardnow</a>)&nbsp;&nbsp;
<a href="../../../_functions/next_wizard_form.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="display_question_editing_page" onClick="logFunction('display_question_editing_page', 'questiontype.php.source.html#l409')" href="questiontype.php.source.html#l409">display_question_editing_page</a>(<a href="../../../_variables/mform.html">$mform</a>, <a href="../../../_variables/question.html">$question</a>, <a href="../../../_variables/wizardnow.html">$wizardnow</a>)&nbsp;&nbsp;
<a href="../../../_functions/display_question_editing_page.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method should be overriden if you want to include a special heading or some other<BR>
html on a question editing page besides the question editing form.<BR>
</b><BR><b>param:</b> question_edit_form $mform a child of question_edit_form<br>
<b>param:</b> object $question<br>
<b>param:</b> string $wizardnow is '' for first page.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_text" onClick="logFunction('validate_text', 'questiontype.php.source.html#l440')" href="questiontype.php.source.html#l440">validate_text</a>(<a href="../../../_variables/text.html">$text</a>)&nbsp;&nbsp;
<a href="../../../_functions/validate_text.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Verify that the equations in part of the question are OK.<BR>
We throw an exception here because this should have already been validated<BR>
by the form. This is just a last line of defence to prevent a question<BR>
being stored in the database if it has bad formulas. This saves us from,<BR>
for example, malicious imports.<BR>
</b><BR><b>param:</b> string $text containing equations.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_answer" onClick="logFunction('validate_answer', 'questiontype.php.source.html#l455')" href="questiontype.php.source.html#l455">validate_answer</a>(<a href="../../../_variables/answer.html">$answer</a>)&nbsp;&nbsp;
<a href="../../../_functions/validate_answer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Verify that an answer is OK.<BR>
We throw an exception here because this should have already been validated<BR>
by the form. This is just a last line of defence to prevent a question<BR>
being stored in the database if it has bad formulas. This saves us from,<BR>
for example, malicious imports.<BR>
</b><BR><b>param:</b> string $text containing equations.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_question_data" onClick="logFunction('validate_question_data', 'questiontype.php.source.html#l470')" href="questiontype.php.source.html#l470">validate_question_data</a>(<a href="../../../_variables/question.html">$question</a>)&nbsp;&nbsp;
<a href="../../../_functions/validate_question_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validate data before save.<BR>
</b><BR><b>param:</b> stdClass $question data from the form / import file.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="preparedatasets" onClick="logFunction('preparedatasets', 'questiontype.php.source.html#l489')" href="questiontype.php.source.html#l489">preparedatasets</a>(<a href="../../../_variables/form.html">$form</a>, <a href="../../../_variables/questionfromid.html">$questionfromid</a> = '0')&nbsp;&nbsp;
<a href="../../../_functions/preparedatasets.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method prepare the $datasets in a format similar to dadatesetdefinitions_form.php<BR>
so that they can be saved<BR>
using the function save_dataset_definitions($form)<BR>
when creating a new calculated question or<BR>
when editing an already existing calculated question<BR>
or by&nbsp;&nbsp;function save_as_new_dataset_definitions($form, $initialid)<BR>
when saving as new an already existing calculated question.<BR>
</b><BR><b>param:</b> object $form<br>
<b>param:</b> int $questionfromid default = '0'<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="addnamecategory" onClick="logFunction('addnamecategory', 'questiontype.php.source.html#l546')" href="questiontype.php.source.html#l546">addnamecategory</a>(&amp;<a href="../../../_variables/question.html">$question</a>)&nbsp;&nbsp;
<a href="../../../_functions/addnamecategory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="save_question" onClick="logFunction('save_question', 'questiontype.php.source.html#l575')" href="questiontype.php.source.html#l575">save_question</a>(<a href="../../../_variables/question.html">$question</a>, <a href="../../../_variables/form.html">$form</a>)&nbsp;&nbsp;
<a href="../../../_functions/save_question.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>this version save the available data at the different steps of the question editing process<BR>
without using global $SESSION as storage between steps<BR>
at the first step $wizardnow = 'question'<BR>
when creating a new question<BR>
when modifying a question<BR>
when copying as a new question<BR>
the general parameters and answers are saved using parent::save_question<BR>
then the datasets are prepared and saved<BR>
at the second step $wizardnow = 'datasetdefinitions'<BR>
the datadefs final type are defined as private, category or not a datadef<BR>
at the third step $wizardnow = 'datasetitems'<BR>
the datadefs parameters and the data items are created or defined<BR>
</b><BR><b>param:</b> object question<br>
<b>param:</b> object $form<br>
<b>param:</b> int $course<br>
<b>param:</b> PARAM_ALPHA $wizardnow should be added as we are coming from question2.php<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_question" onClick="logFunction('delete_question', 'questiontype.php.source.html#l676')" href="questiontype.php.source.html#l676">delete_question</a>(<a href="../../../_variables/questionid.html">$questionid</a>, <a href="../../../_variables/contextid.html">$contextid</a>)&nbsp;&nbsp;
<a href="../../../_functions/delete_question.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_random_guess_score" onClick="logFunction('get_random_guess_score', 'questiontype.php.source.html#l699')" href="questiontype.php.source.html#l699">get_random_guess_score</a>(<a href="../../../_variables/questiondata.html">$questiondata</a>)&nbsp;&nbsp;
<a href="../../../_functions/get_random_guess_score.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="supports_dataset_item_generation" onClick="logFunction('supports_dataset_item_generation', 'questiontype.php.source.html#l708')" href="questiontype.php.source.html#l708">supports_dataset_item_generation</a>()&nbsp;&nbsp;
<a href="../../../_functions/supports_dataset_item_generation.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="custom_generator_tools_part" onClick="logFunction('custom_generator_tools_part', 'questiontype.php.source.html#l713')" href="questiontype.php.source.html#l713">custom_generator_tools_part</a>(<a href="../../../_variables/mform.html">$mform</a>, <a href="../../../_variables/idx.html">$idx</a>, <a href="../../../_variables/j.html">$j</a>)&nbsp;&nbsp;
<a href="../../../_functions/custom_generator_tools_part.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="custom_generator_set_data" onClick="logFunction('custom_generator_set_data', 'questiontype.php.source.html#l735')" href="questiontype.php.source.html#l735">custom_generator_set_data</a>(<a href="../../../_variables/datasetdefs.html">$datasetdefs</a>, <a href="../../../_variables/formdata.html">$formdata</a>)&nbsp;&nbsp;
<a href="../../../_functions/custom_generator_set_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="custom_generator_tools" onClick="logFunction('custom_generator_tools', 'questiontype.php.source.html#l751')" href="questiontype.php.source.html#l751">custom_generator_tools</a>(<a href="../../../_variables/datasetdef.html">$datasetdef</a>)&nbsp;&nbsp;
<a href="../../../_functions/custom_generator_tools.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_dataset_options" onClick="logFunction('update_dataset_options', 'questiontype.php.source.html#l784')" href="questiontype.php.source.html#l784">update_dataset_options</a>(<a href="../../../_variables/datasetdefs.html">$datasetdefs</a>, <a href="../../../_variables/form.html">$form</a>)&nbsp;&nbsp;
<a href="../../../_functions/update_dataset_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="save_question_calculated" onClick="logFunction('save_question_calculated', 'questiontype.php.source.html#l825')" href="questiontype.php.source.html#l825">save_question_calculated</a>(<a href="../../../_variables/question.html">$question</a>, <a href="../../../_variables/fromform.html">$fromform</a>)&nbsp;&nbsp;
<a href="../../../_functions/save_question_calculated.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_database_dataset_items" onClick="logFunction('get_database_dataset_items', 'questiontype.php.source.html#l839')" href="questiontype.php.source.html#l839">get_database_dataset_items</a>(<a href="../../../_variables/definition.html">$definition</a>)&nbsp;&nbsp;
<a href="../../../_functions/get_database_dataset_items.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function get the dataset items using id as unique parameter and return an<BR>
array with itemnumber as index sorted ascendant<BR>
If the multiple records with the same itemnumber exist, only the newest one<BR>
i.e with the greatest id is used, the others are ignored but not deleted.<BR>
MDL-19210<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="save_dataset_items" onClick="logFunction('save_dataset_items', 'questiontype.php.source.html#l862')" href="questiontype.php.source.html#l862">save_dataset_items</a>(<a href="../../../_variables/question.html">$question</a>, <a href="../../../_variables/fromform.html">$fromform</a>)&nbsp;&nbsp;
<a href="../../../_functions/save_dataset_items.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_dataset_item" onClick="logFunction('generate_dataset_item', 'questiontype.php.source.html#l1014')" href="questiontype.php.source.html#l1014">generate_dataset_item</a>(<a href="../../../_variables/options.html">$options</a>)&nbsp;&nbsp;
<a href="../../../_functions/generate_dataset_item.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="comment_header" onClick="logFunction('comment_header', 'questiontype.php.source.html#l1035')" href="questiontype.php.source.html#l1035">comment_header</a>(<a href="../../../_variables/question.html">$question</a>)&nbsp;&nbsp;
<a href="../../../_functions/comment_header.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="comment_on_datasetitems" onClick="logFunction('comment_on_datasetitems', 'questiontype.php.source.html#l1049')" href="questiontype.php.source.html#l1049">comment_on_datasetitems</a>(<a href="../../../_variables/qtypeobj.html">$qtypeobj</a>, <a href="../../../_variables/questionid.html">$questionid</a>, <a href="../../../_variables/questiontext.html">$questiontext</a>,<a href="../../../_variables/answers.html">$answers</a>, <a href="../../../_variables/data.html">$data</a>, <a href="../../../_variables/number.html">$number</a>)&nbsp;&nbsp;
<a href="../../../_functions/comment_on_datasetitems.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="tolerance_types" onClick="logFunction('tolerance_types', 'questiontype.php.source.html#l1119')" href="questiontype.php.source.html#l1119">tolerance_types</a>()&nbsp;&nbsp;
<a href="../../../_functions/tolerance_types.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="dataset_options" onClick="logFunction('dataset_options', 'questiontype.php.source.html#l1127')" href="questiontype.php.source.html#l1127">dataset_options</a>(<a href="../../../_variables/form.html">$form</a>, <a href="../../../_variables/name.html">$name</a>, <a href="../../../_variables/mandatory.html">$mandatory</a> = true,<a href="../../../_variables/renameabledatasets.html">$renameabledatasets</a> = false)&nbsp;&nbsp;
<a href="../../../_functions/dataset_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="construct_dataset_menus" onClick="logFunction('construct_dataset_menus', 'questiontype.php.source.html#l1152')" href="questiontype.php.source.html#l1152">construct_dataset_menus</a>(<a href="../../../_variables/form.html">$form</a>, <a href="../../../_variables/mandatorydatasets.html">$mandatorydatasets</a>,<a href="../../../_variables/optionaldatasets.html">$optionaldatasets</a>)&nbsp;&nbsp;
<a href="../../../_functions/construct_dataset_menus.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="substitute_variables" onClick="logFunction('substitute_variables', 'questiontype.php.source.html#l1176')" href="questiontype.php.source.html#l1176">substitute_variables</a>(<a href="../../../_variables/str.html">$str</a>, <a href="../../../_variables/dataset.html">$dataset</a>)&nbsp;&nbsp;
<a href="../../../_functions/substitute_variables.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="evaluate_equations" onClick="logFunction('evaluate_equations', 'questiontype.php.source.html#l1199')" href="questiontype.php.source.html#l1199">evaluate_equations</a>(<a href="../../../_variables/str.html">$str</a>, <a href="../../../_variables/dataset.html">$dataset</a>)&nbsp;&nbsp;
<a href="../../../_functions/evaluate_equations.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="substitute_variables_and_eval" onClick="logFunction('substitute_variables_and_eval', 'questiontype.php.source.html#l1207')" href="questiontype.php.source.html#l1207">substitute_variables_and_eval</a>(<a href="../../../_variables/str.html">$str</a>, <a href="../../../_variables/dataset.html">$dataset</a>)&nbsp;&nbsp;
<a href="../../../_functions/substitute_variables_and_eval.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_dataset_definitions" onClick="logFunction('get_dataset_definitions', 'questiontype.php.source.html#l1224')" href="questiontype.php.source.html#l1224">get_dataset_definitions</a>(<a href="../../../_variables/questionid.html">$questionid</a>, <a href="../../../_variables/newdatasets.html">$newdatasets</a>)&nbsp;&nbsp;
<a href="../../../_functions/get_dataset_definitions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="save_dataset_definitions" onClick="logFunction('save_dataset_definitions', 'questiontype.php.source.html#l1261')" href="questiontype.php.source.html#l1261">save_dataset_definitions</a>(<a href="../../../_variables/form.html">$form</a>)&nbsp;&nbsp;
<a href="../../../_functions/save_dataset_definitions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="save_as_new_dataset_definitions" onClick="logFunction('save_as_new_dataset_definitions', 'questiontype.php.source.html#l1342')" href="questiontype.php.source.html#l1342">save_as_new_dataset_definitions</a>(<a href="../../../_variables/form.html">$form</a>, <a href="../../../_variables/initialid.html">$initialid</a>)&nbsp;&nbsp;
<a href="../../../_functions/save_as_new_dataset_definitions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pick_question_dataset" onClick="logFunction('pick_question_dataset', 'questiontype.php.source.html#l1442')" href="questiontype.php.source.html#l1442">pick_question_dataset</a>(<a href="../../../_variables/question.html">$question</a>, <a href="../../../_variables/datasetitem.html">$datasetitem</a>)&nbsp;&nbsp;
<a href="../../../_functions/pick_question_dataset.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="dataset_options_from_database" onClick="logFunction('dataset_options_from_database', 'questiontype.php.source.html#l1471')" href="questiontype.php.source.html#l1471">dataset_options_from_database</a>(<a href="../../../_variables/form.html">$form</a>, <a href="../../../_variables/name.html">$name</a>, <a href="../../../_variables/prefix.html">$prefix</a> = '',<a href="../../../_variables/langfile.html">$langfile</a> = 'qtype_calculated')&nbsp;&nbsp;
<a href="../../../_functions/dataset_options_from_database.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_dataset_names" onClick="logFunction('find_dataset_names', 'questiontype.php.source.html#l1529')" href="questiontype.php.source.html#l1529">find_dataset_names</a>(<a href="../../../_variables/text.html">$text</a>)&nbsp;&nbsp;
<a href="../../../_functions/find_dataset_names.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_dataset_definitions_category" onClick="logFunction('get_dataset_definitions_category', 'questiontype.php.source.html#l1540')" href="questiontype.php.source.html#l1540">get_dataset_definitions_category</a>(<a href="../../../_variables/form.html">$form</a>)&nbsp;&nbsp;
<a href="../../../_functions/get_dataset_definitions_category.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function retrieve the item count of the available category shareable<BR>
wild cards that is added as a comment displayed when a wild card with<BR>
the same name is displayed in datasetdefinitions_form.php<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="print_dataset_definitions_category" onClick="logFunction('print_dataset_definitions_category', 'questiontype.php.source.html#l1564')" href="questiontype.php.source.html#l1564">print_dataset_definitions_category</a>(<a href="../../../_variables/form.html">$form</a>)&nbsp;&nbsp;
<a href="../../../_functions/print_dataset_definitions_category.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function build a table showing the available category shareable<BR>
wild cards, their name, their definition (Min, Max, Decimal) , the item count<BR>
and the name of the question where they are used.<BR>
This table is intended to be add before the question text to help the user use<BR>
these wild cards<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="print_dataset_definitions_category_shared" onClick="logFunction('print_dataset_definitions_category_shared', 'questiontype.php.source.html#l1643')" href="questiontype.php.source.html#l1643">print_dataset_definitions_category_shared</a>(<a href="../../../_variables/question.html">$question</a>, <a href="../../../_variables/datasetdefsq.html">$datasetdefsq</a>)&nbsp;&nbsp;
<a href="../../../_functions/print_dataset_definitions_category_shared.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function build a table showing the available category shareable<BR>
wild cards, their name, their definition (Min, Max, Decimal) , the item count<BR>
and the name of the question where they are used.<BR>
This table is intended to be add before the question text to help the user use<BR>
these wild cards<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_math_equations" onClick="logFunction('find_math_equations', 'questiontype.php.source.html#l1745')" href="questiontype.php.source.html#l1745">find_math_equations</a>(<a href="../../../_variables/text.html">$text</a>)&nbsp;&nbsp;
<a href="../../../_functions/find_math_equations.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_virtual_qtype" onClick="logFunction('get_virtual_qtype', 'questiontype.php.source.html#l1756')" href="questiontype.php.source.html#l1756">get_virtual_qtype</a>()&nbsp;&nbsp;
<a href="../../../_functions/get_virtual_qtype.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_possible_responses" onClick="logFunction('get_possible_responses', 'questiontype.php.source.html#l1760')" href="questiontype.php.source.html#l1760">get_possible_responses</a>(<a href="../../../_variables/questiondata.html">$questiondata</a>)&nbsp;&nbsp;
<a href="../../../_functions/get_possible_responses.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_files" onClick="logFunction('move_files', 'questiontype.php.source.html#l1797')" href="questiontype.php.source.html#l1797">move_files</a>(<a href="../../../_variables/questionid.html">$questionid</a>, <a href="../../../_variables/oldcontextid.html">$oldcontextid</a>, <a href="../../../_variables/newcontextid.html">$newcontextid</a>)&nbsp;&nbsp;
<a href="../../../_functions/move_files.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_files" onClick="logFunction('delete_files', 'questiontype.php.source.html#l1805')" href="questiontype.php.source.html#l1805">delete_files</a>(<a href="../../../_variables/questionid.html">$questionid</a>, <a href="../../../_variables/contextid.html">$contextid</a>)&nbsp;&nbsp;
<a href="../../../_functions/delete_files.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="qtype_calculated_calculate_answer" onClick="logFunction('qtype_calculated_calculate_answer', 'questiontype.php.source.html#l1815')" href="questiontype.php.source.html#l1815">qtype_calculated_calculate_answer</a>(<a href="../../../_variables/formula.html">$formula</a>, <a href="../../../_variables/individualdata.html">$individualdata</a>,<a href="../../../_variables/tolerance.html">$tolerance</a>, <a href="../../../_variables/tolerancetype.html">$tolerancetype</a>, <a href="../../../_variables/answerlength.html">$answerlength</a>, <a href="../../../_variables/answerformat.html">$answerformat</a> = '1', <a href="../../../_variables/unit.html">$unit</a> = '')&nbsp;&nbsp;
<a href="../../../_functions/qtype_calculated_calculate_answer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="qtype_calculated_find_formula_errors" onClick="logFunction('qtype_calculated_find_formula_errors', 'questiontype.php.source.html#l1904')" href="questiontype.php.source.html#l1904">qtype_calculated_find_formula_errors</a>(<a href="../../../_variables/formula.html">$formula</a>)&nbsp;&nbsp;
<a href="../../../_functions/qtype_calculated_find_formula_errors.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validate a forumula.<BR>
</b><BR><b>param:</b> string $formula the formula to validate.<br>
<b>return:</b> string|boolean false if there are no problems. Otherwise a string error message.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="qtype_calculated_find_formula_errors_in_text" onClick="logFunction('qtype_calculated_find_formula_errors_in_text', 'questiontype.php.source.html#l1999')" href="questiontype.php.source.html#l1999">qtype_calculated_find_formula_errors_in_text</a>(<a href="../../../_variables/text.html">$text</a>)&nbsp;&nbsp;
<a href="../../../_functions/qtype_calculated_find_formula_errors_in_text.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validate all the forumulas in a bit of text.<BR>
</b><BR><b>param:</b> string $text the text in which to validate the formulas.<br>
<b>return:</b> string|boolean false if there are no problems. Otherwise a string error message.<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
