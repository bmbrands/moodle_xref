<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /question/type/rendererbase.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='question/type';
filename='rendererbase.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/question/type/</a> -> <a href="rendererbase.php.html">rendererbase.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="rendererbase.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="rendererbase.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Defines the renderer base classes for question types.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    moodlecore</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @subpackage questiontypes</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * Renderer base classes for question types.</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> *</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @copyright  2009 The Open University</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> */</span>
<a name="l36"><span class="linenum">  36</span></a>  abstract class qtype_renderer <span class="keyword">extends</span> <a class="class" onClick="logClass('plugin_renderer_base')" href="../../_classes/plugin_renderer_base.html" onMouseOver="classPopup(event,'plugin_renderer_base')">plugin_renderer_base</a> {
<a name="l37"><span class="linenum">  37</span></a>      <span class="comment">/**</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * Generate the display of the formulation part of the question. This is the</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     * area that contains the quetsion text, and the controls for students to</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     * input their answers. Some question types also embed bits of feedback, for</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     * example ticks and crosses, in this area.</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     *</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     */</span>
<a name="l47"><span class="linenum">  47</span></a>      public function <a class="function" onClick="logFunction('formulation_and_controls')" href="../../_functions/formulation_and_controls.html" onMouseOver="funcPopup(event,'formulation_and_controls')">formulation_and_controls</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>,
<a name="l48"><span class="linenum">  48</span></a>              question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l49"><span class="linenum">  49</span></a>          return <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('format_questiontext')" href="../../_functions/format_questiontext.html" onMouseOver="funcPopup(event,'format_questiontext')">format_questiontext</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>);
<a name="l50"><span class="linenum">  50</span></a>      }
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>      <span class="comment">/**</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     * In the question output there are some class=&quot;accesshide&quot; headers to help</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     * screen-readers. This method returns the text to use for the heading above</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     * the formulation_and_controls section.</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">     * @return string to use as the heading.</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     */</span>
<a name="l58"><span class="linenum">  58</span></a>      public function <a class="function" onClick="logFunction('formulation_heading')" href="../../_functions/formulation_heading.html" onMouseOver="funcPopup(event,'formulation_heading')">formulation_heading</a>() {
<a name="l59"><span class="linenum">  59</span></a>          return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questiontext', 'question');
<a name="l60"><span class="linenum">  60</span></a>      }
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>      <span class="comment">/**</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * Output hidden form fields to clear any wrong parts of the student's response.</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     *</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * This method will only be called if the question is in read-only mode.</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     */</span>
<a name="l69"><span class="linenum">  69</span></a>      public function <a class="function" onClick="logFunction('clear_wrong')" href="../../_functions/clear_wrong.html" onMouseOver="funcPopup(event,'clear_wrong')">clear_wrong</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l70"><span class="linenum">  70</span></a>          <a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_last_qt_data')" href="../../_functions/get_last_qt_data.html" onMouseOver="funcPopup(event,'get_last_qt_data')">get_last_qt_data</a>();
<a name="l71"><span class="linenum">  71</span></a>          if (!<a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>) {
<a name="l72"><span class="linenum">  72</span></a>              return '';
<a name="l73"><span class="linenum">  73</span></a>          }
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it9161" onMouseOver="hilite(9161)" onMouseOut="lolite()" onClick="logVariable('cleanresponse')" href="../../_variables/cleanresponse.html">$cleanresponse</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('clear_wrong_from_response')" href="../../_functions/clear_wrong_from_response.html" onMouseOver="funcPopup(event,'clear_wrong_from_response')">clear_wrong_from_response</a>(<a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>);
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = '';
<a name="l76"><span class="linenum">  76</span></a>          foreach (<a class="var it9161" onMouseOver="hilite(9161)" onMouseOut="lolite()" onClick="logVariable('cleanresponse')" href="../../_variables/cleanresponse.html">$cleanresponse</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l77"><span class="linenum">  77</span></a>              <a class="var it220" onMouseOver="hilite(220)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> = array(
<a name="l78"><span class="linenum">  78</span></a>                  'type' =&gt; 'hidden',
<a name="l79"><span class="linenum">  79</span></a>                  'name' =&gt; <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_qt_field_name')" href="../../_functions/get_qt_field_name.html" onMouseOver="funcPopup(event,'get_qt_field_name')">get_qt_field_name</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>),
<a name="l80"><span class="linenum">  80</span></a>                  'value' =&gt; <a class="function" onClick="logFunction('s')" href="../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>),
<a name="l81"><span class="linenum">  81</span></a>              );
<a name="l82"><span class="linenum">  82</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', <a class="var it220" onMouseOver="hilite(220)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a>);
<a name="l83"><span class="linenum">  83</span></a>          }
<a name="l84"><span class="linenum">  84</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l85"><span class="linenum">  85</span></a>      }
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>      <span class="comment">/**</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     * Generate the display of the outcome part of the question. This is the</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     * area that contains the various forms of feedback. This function generates</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">     * the content of this area belonging to the question type.</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">     *</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     * Subclasses will normally want to override the more specific methods</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">     * {specific_feedback()}, {general_feedback()} and {correct_response()}</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     * that this method calls.</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     *</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">     */</span>
<a name="l100"><span class="linenum"> 100</span></a>      public function <a class="function" onClick="logFunction('feedback')" href="../../_functions/feedback.html" onMouseOver="funcPopup(event,'feedback')">feedback</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l101"><span class="linenum"> 101</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = '';
<a name="l102"><span class="linenum"> 102</span></a>          <a class="var it4735" onMouseOver="hilite(4735)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../../_variables/hint.html">$hint</a> = null;
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('feedback')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>) {
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('specific_feedback')" href="../../_functions/specific_feedback.html" onMouseOver="funcPopup(event,'specific_feedback')">specific_feedback</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>),
<a name="l106"><span class="linenum"> 106</span></a>                      array('class' =&gt; 'specificfeedback'));
<a name="l107"><span class="linenum"> 107</span></a>              <a class="var it4735" onMouseOver="hilite(4735)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../../_variables/hint.html">$hint</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_applicable_hint')" href="../../_functions/get_applicable_hint.html" onMouseOver="funcPopup(event,'get_applicable_hint')">get_applicable_hint</a>();
<a name="l108"><span class="linenum"> 108</span></a>          }
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('numpartscorrect')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/numpartscorrect.html">numpartscorrect</a>) {
<a name="l111"><span class="linenum"> 111</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('num_parts_correct')" href="../../_functions/num_parts_correct.html" onMouseOver="funcPopup(event,'num_parts_correct')">num_parts_correct</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>),
<a name="l112"><span class="linenum"> 112</span></a>                      array('class' =&gt; 'numpartscorrect'));
<a name="l113"><span class="linenum"> 113</span></a>          }
<a name="l114"><span class="linenum"> 114</span></a>  
<a name="l115"><span class="linenum"> 115</span></a>          if (<a class="var it4735" onMouseOver="hilite(4735)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../../_variables/hint.html">$hint</a>) {
<a name="l116"><span class="linenum"> 116</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hint')" href="../../_functions/hint.html" onMouseOver="funcPopup(event,'hint')">hint</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, <a class="var it4735" onMouseOver="hilite(4735)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../../_variables/hint.html">$hint</a>);
<a name="l117"><span class="linenum"> 117</span></a>          }
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('generalfeedback')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/generalfeedback.html">generalfeedback</a>) {
<a name="l120"><span class="linenum"> 120</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('general_feedback')" href="../../_functions/general_feedback.html" onMouseOver="funcPopup(event,'general_feedback')">general_feedback</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>),
<a name="l121"><span class="linenum"> 121</span></a>                      array('class' =&gt; 'generalfeedback'));
<a name="l122"><span class="linenum"> 122</span></a>          }
<a name="l123"><span class="linenum"> 123</span></a>  
<a name="l124"><span class="linenum"> 124</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('rightanswer')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../../_variables/rightanswer.html">rightanswer</a>) {
<a name="l125"><span class="linenum"> 125</span></a>              <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('correct_response')" href="../../_functions/correct_response.html" onMouseOver="funcPopup(event,'correct_response')">correct_response</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>),
<a name="l126"><span class="linenum"> 126</span></a>                      array('class' =&gt; 'rightanswer'));
<a name="l127"><span class="linenum"> 127</span></a>          }
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l130"><span class="linenum"> 130</span></a>      }
<a name="l131"><span class="linenum"> 131</span></a>  
<a name="l132"><span class="linenum"> 132</span></a>      <span class="comment">/**</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     * Generate the specific feedback. This is feedback that varies according to</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     * the response the student gave.</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     */</span>
<a name="l138"><span class="linenum"> 138</span></a>      protected function <a class="function" onClick="logFunction('specific_feedback')" href="../../_functions/specific_feedback.html" onMouseOver="funcPopup(event,'specific_feedback')">specific_feedback</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l139"><span class="linenum"> 139</span></a>          return '';
<a name="l140"><span class="linenum"> 140</span></a>      }
<a name="l141"><span class="linenum"> 141</span></a>  
<a name="l142"><span class="linenum"> 142</span></a>      <span class="comment">/**</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">     * Gereate a brief statement of how many sub-parts of this question the</span>
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment">     * student got right.</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     */</span>
<a name="l148"><span class="linenum"> 148</span></a>      protected function <a class="function" onClick="logFunction('num_parts_correct')" href="../../_functions/num_parts_correct.html" onMouseOver="funcPopup(event,'num_parts_correct')">num_parts_correct</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l149"><span class="linenum"> 149</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = new stdClass();
<a name="l150"><span class="linenum"> 150</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('num')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/num.html">num</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('outof')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/outof.html">outof</a>) = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('get_num_parts_right')" href="../../_functions/get_num_parts_right.html" onMouseOver="funcPopup(event,'get_num_parts_right')">get_num_parts_right</a>(
<a name="l151"><span class="linenum"> 151</span></a>                  <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_last_qt_data')" href="../../_functions/get_last_qt_data.html" onMouseOver="funcPopup(event,'get_last_qt_data')">get_last_qt_data</a>());
<a name="l152"><span class="linenum"> 152</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('outof')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../_variables/outof.html">outof</a>)) {
<a name="l153"><span class="linenum"> 153</span></a>              return '';
<a name="l154"><span class="linenum"> 154</span></a>          } else {
<a name="l155"><span class="linenum"> 155</span></a>              return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('yougotnright', 'question', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>);
<a name="l156"><span class="linenum"> 156</span></a>          }
<a name="l157"><span class="linenum"> 157</span></a>      }
<a name="l158"><span class="linenum"> 158</span></a>  
<a name="l159"><span class="linenum"> 159</span></a>      <span class="comment">/**</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * Gereate the specific feedback. This is feedback that varies according to</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     * the response the student gave.</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">     */</span>
<a name="l165"><span class="linenum"> 165</span></a>      protected function <a class="function" onClick="logFunction('hint')" href="../../_functions/hint.html" onMouseOver="funcPopup(event,'hint')">hint</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_hint <a class="var it4735" onMouseOver="hilite(4735)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../../_variables/hint.html">$hint</a>) {
<a name="l166"><span class="linenum"> 166</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('nonempty_tag')" href="../../_functions/nonempty_tag.html" onMouseOver="funcPopup(event,'nonempty_tag')">nonempty_tag</a>('div',
<a name="l167"><span class="linenum"> 167</span></a>                  <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('format_hint')" href="../../_functions/format_hint.html" onMouseOver="funcPopup(event,'format_hint')">format_hint</a>(<a class="var it4735" onMouseOver="hilite(4735)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../../_variables/hint.html">$hint</a>, <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>), array('class' =&gt; 'hint'));
<a name="l168"><span class="linenum"> 168</span></a>      }
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>      <span class="comment">/**</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * Gereate the general feedback. This is feedback is shown ot all students.</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     *</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     */</span>
<a name="l176"><span class="linenum"> 176</span></a>      protected function <a class="function" onClick="logFunction('general_feedback')" href="../../_functions/general_feedback.html" onMouseOver="funcPopup(event,'general_feedback')">general_feedback</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l177"><span class="linenum"> 177</span></a>          return <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('format_generalfeedback')" href="../../_functions/format_generalfeedback.html" onMouseOver="funcPopup(event,'format_generalfeedback')">format_generalfeedback</a>(<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>);
<a name="l178"><span class="linenum"> 178</span></a>      }
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>      <span class="comment">/**</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">     * Gereate an automatic description of the correct response to this question.</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">     * Not all question types can do this. If it is not possible, this method</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     * should just return an empty string.</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">     *</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">     * @param question_attempt $qa the question attempt to display.</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">     */</span>
<a name="l188"><span class="linenum"> 188</span></a>      protected function <a class="function" onClick="logFunction('correct_response')" href="../../_functions/correct_response.html" onMouseOver="funcPopup(event,'correct_response')">correct_response</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l189"><span class="linenum"> 189</span></a>          return '';
<a name="l190"><span class="linenum"> 190</span></a>      }
<a name="l191"><span class="linenum"> 191</span></a>  
<a name="l192"><span class="linenum"> 192</span></a>      <span class="comment">/**</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">     * Display any extra question-type specific content that should be visible</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">     * when grading, if appropriate.</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     *</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * @param question_attempt $qa a question attempt.</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * @param question_display_options $options controls what should and should not be displayed.</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     */</span>
<a name="l200"><span class="linenum"> 200</span></a>      public function <a class="function" onClick="logFunction('manual_comment')" href="../../_functions/manual_comment.html" onMouseOver="funcPopup(event,'manual_comment')">manual_comment</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, question_display_options <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>) {
<a name="l201"><span class="linenum"> 201</span></a>          return '';
<a name="l202"><span class="linenum"> 202</span></a>      }
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>      <span class="comment">/**</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">     * Return any HTML that needs to be included in the page's &lt;head&gt; when this</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">     * question is used.</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">     * @param $qa the question attempt that will be displayed on the page.</span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment">     * @return string HTML fragment.</span>
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment">     */</span>
<a name="l210"><span class="linenum"> 210</span></a>      public function <a class="function" onClick="logFunction('head_code')" href="../../_functions/head_code.html" onMouseOver="funcPopup(event,'head_code')">head_code</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment">        // This method is used by the Opaque question type. The remote question</span>
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment">        // engine can send back arbitrary CSS that we have to link to in the</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">        // page header. If it was not for that, we might be able to eliminate</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">        // this method and load the required CSS and JS some other way.</span>
<a name="l215"><span class="linenum"> 215</span></a>          <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;qtype-&gt;<a class="function" onClick="logFunction('find_standard_scripts')" href="../../_functions/find_standard_scripts.html" onMouseOver="funcPopup(event,'find_standard_scripts')">find_standard_scripts</a>();
<a name="l216"><span class="linenum"> 216</span></a>      }
<a name="l217"><span class="linenum"> 217</span></a>  
<a name="l218"><span class="linenum"> 218</span></a>      protected function <a class="function" onClick="logFunction('feedback_class')" href="../../_functions/feedback_class.html" onMouseOver="funcPopup(event,'feedback_class')">feedback_class</a>(<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>) {
<a name="l219"><span class="linenum"> 219</span></a>          return question_state::<a class="function" onClick="logFunction('graded_state_for_fraction')" href="../../_functions/graded_state_for_fraction.html" onMouseOver="funcPopup(event,'graded_state_for_fraction')">graded_state_for_fraction</a>(<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>)-&gt;<a class="function" onClick="logFunction('get_feedback_class')" href="../../_functions/get_feedback_class.html" onMouseOver="funcPopup(event,'get_feedback_class')">get_feedback_class</a>();
<a name="l220"><span class="linenum"> 220</span></a>      }
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>      <span class="comment">/**</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     * Return an appropriate icon (green tick, red cross, etc.) for a grade.</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     * @param float $fraction grade on a scale 0..1.</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * @param bool $selected whether to show a big or small icon. (Deprecated)</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     * @return string html fragment.</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     */</span>
<a name="l228"><span class="linenum"> 228</span></a>      protected function <a class="function" onClick="logFunction('feedback_image')" href="../../_functions/feedback_image.html" onMouseOver="funcPopup(event,'feedback_image')">feedback_image</a>(<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>, <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../../_variables/selected.html">$selected</a> = true) {
<a name="l229"><span class="linenum"> 229</span></a>          <a class="var it9163" onMouseOver="hilite(9163)" onMouseOut="lolite()" onClick="logVariable('feedbackclass')" href="../../_variables/feedbackclass.html">$feedbackclass</a> = question_state::<a class="function" onClick="logFunction('graded_state_for_fraction')" href="../../_functions/graded_state_for_fraction.html" onMouseOver="funcPopup(event,'graded_state_for_fraction')">graded_state_for_fraction</a>(<a class="var it2266" onMouseOver="hilite(2266)" onMouseOut="lolite()" onClick="logVariable('fraction')" href="../../_variables/fraction.html">$fraction</a>)-&gt;<a class="function" onClick="logFunction('get_feedback_class')" href="../../_functions/get_feedback_class.html" onMouseOver="funcPopup(event,'get_feedback_class')">get_feedback_class</a>();
<a name="l230"><span class="linenum"> 230</span></a>  
<a name="l231"><span class="linenum"> 231</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a> = array(
<a name="l232"><span class="linenum"> 232</span></a>              'src' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('output')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/output.html">output</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('i/grade_' . <a class="var it9163" onMouseOver="hilite(9163)" onMouseOut="lolite()" onClick="logVariable('feedbackclass')" href="../../_variables/feedbackclass.html">$feedbackclass</a>),
<a name="l233"><span class="linenum"> 233</span></a>              'alt' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it9163" onMouseOver="hilite(9163)" onMouseOut="lolite()" onClick="logVariable('feedbackclass')" href="../../_variables/feedbackclass.html">$feedbackclass</a>, 'question'),
<a name="l234"><span class="linenum"> 234</span></a>              'class' =&gt; 'questioncorrectnessicon',
<a name="l235"><span class="linenum"> 235</span></a>          );
<a name="l236"><span class="linenum"> 236</span></a>  
<a name="l237"><span class="linenum"> 237</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('img', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>);
<a name="l238"><span class="linenum"> 238</span></a>      }
<a name="l239"><span class="linenum"> 239</span></a>  }
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">/**</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment"> * Renderer base classes for question types.</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment"> *</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment"> * @copyright  2010 The Open University</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment"> */</span>
<a name="l247"><span class="linenum"> 247</span></a>  abstract class qtype_with_combined_feedback_renderer extends qtype_renderer {
<a name="l248"><span class="linenum"> 248</span></a>      protected function <a class="function" onClick="logFunction('combined_feedback')" href="../../_functions/combined_feedback.html" onMouseOver="funcPopup(event,'combined_feedback')">combined_feedback</a>(question_attempt <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>) {
<a name="l249"><span class="linenum"> 249</span></a>          <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>();
<a name="l250"><span class="linenum"> 250</span></a>  
<a name="l251"><span class="linenum"> 251</span></a>          <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../_variables/state.html">$state</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_state')" href="../../_functions/get_state.html" onMouseOver="funcPopup(event,'get_state')">get_state</a>();
<a name="l252"><span class="linenum"> 252</span></a>  
<a name="l253"><span class="linenum"> 253</span></a>          if (!<a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../_variables/state.html">$state</a>-&gt;<a class="function" onClick="logFunction('is_finished')" href="../../_functions/is_finished.html" onMouseOver="funcPopup(event,'is_finished')">is_finished</a>()) {
<a name="l254"><span class="linenum"> 254</span></a>              <a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a> = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_last_qt_data')" href="../../_functions/get_last_qt_data.html" onMouseOver="funcPopup(event,'get_last_qt_data')">get_last_qt_data</a>();
<a name="l255"><span class="linenum"> 255</span></a>              if (!<a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('is_gradable_response')" href="../../_functions/is_gradable_response.html" onMouseOver="funcPopup(event,'is_gradable_response')">is_gradable_response</a>(<a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>)) {
<a name="l256"><span class="linenum"> 256</span></a>                  return '';
<a name="l257"><span class="linenum"> 257</span></a>              }
<a name="l258"><span class="linenum"> 258</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it2596" onMouseOver="hilite(2596)" onMouseOut="lolite()" onClick="logVariable('notused')" href="../../_variables/notused.html">$notused</a>, <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../_variables/state.html">$state</a>) = <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>-&gt;<a class="function" onClick="logFunction('get_question')" href="../../_functions/get_question.html" onMouseOver="funcPopup(event,'get_question')">get_question</a>()-&gt;<a class="function" onClick="logFunction('grade_response')" href="../../_functions/grade_response.html" onMouseOver="funcPopup(event,'grade_response')">grade_response</a>(<a class="var it47" onMouseOver="hilite(47)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>);
<a name="l259"><span class="linenum"> 259</span></a>          }
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>          <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a> = '';
<a name="l262"><span class="linenum"> 262</span></a>          <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> = <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../_variables/state.html">$state</a>-&gt;<a class="function" onClick="logFunction('get_feedback_class')" href="../../_functions/get_feedback_class.html" onMouseOver="funcPopup(event,'get_feedback_class')">get_feedback_class</a>() . 'feedback';
<a name="l263"><span class="linenum"> 263</span></a>          <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../_variables/format.html">$format</a> = <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../_variables/state.html">$state</a>-&gt;<a class="function" onClick="logFunction('get_feedback_class')" href="../../_functions/get_feedback_class.html" onMouseOver="funcPopup(event,'get_feedback_class')">get_feedback_class</a>() . 'feedbackformat';
<a name="l264"><span class="linenum"> 264</span></a>          if (<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>-&gt;<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>) {
<a name="l265"><span class="linenum"> 265</span></a>              <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a> .= <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>-&gt;<a class="function" onClick="logFunction('format_text')" href="../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>-&gt;<a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>, <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>-&gt;<a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../_variables/format.html">$format</a>,
<a name="l266"><span class="linenum"> 266</span></a>                      <a class="var it712" onMouseOver="hilite(712)" onMouseOut="lolite()" onClick="logVariable('qa')" href="../../_variables/qa.html">$qa</a>, 'question', <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>, <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l267"><span class="linenum"> 267</span></a>          }
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>          return <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>;
<a name="l270"><span class="linenum"> 270</span></a>      }
<a name="l271"><span class="linenum"> 271</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_num_parts_right': ['get_num_parts_right', '', [['question/type/multianswer','question.php',286],['question/type/match','question.php',151],['question/type/multichoice','question.php',278],['question/type','questionbase.php',261]], 10],
'hint': ['hint', 'Gereate the specific feedback. This is feedback that varies according to the response the student gave. ', [['question/type','rendererbase.php',159]], 1],
'head_code': ['head_code', 'Return any HTML that needs to be included in the page\'s <head> when this question is used. ', [['question/type','rendererbase.php',204],['question/behaviour','rendererbase.php',229]], 2],
'formulation_heading': ['formulation_heading', 'In the question output there are some class="accesshide" headers to help screen-readers. This method returns the text to use for the heading above the formulation_and_controls section. ', [['question/type','rendererbase.php',52],['question/type/description','renderer.php',44]], 1],
'format_questiontext': ['format_questiontext', '', [['question/type','questionbase.php',379]], 8],
'formulation_and_controls': ['formulation_and_controls', '', [['question/type/multianswer','renderer.php',43],['question/type','rendererbase.php',37],['question/type/truefalse','renderer.php',37],['question/type/description','renderer.php',37],['question/type/essay','renderer.php',37],['question/type/shortanswer','renderer.php',37],['question/type/match','renderer.php',37],['question/type/numerical','renderer.php',34],['question/type/multichoice','renderer.php',55]], 1],
'empty_tag': ['empty_tag', 'Outputs an empty tag with attributes ', [['lib','outputcomponents.php',1096]], 511],
'format_hint': ['format_hint', '', [['question/type','questionbase.php',710]], 1],
'manual_comment': ['manual_comment', 'Display any extra question-type specific content that should be visible when grading, if appropriate. ', [['question/type','rendererbase.php',192],['question/type/essay','renderer.php',130],['question/behaviour','rendererbase.php',185],['question/engine','renderer.php',418]], 3],
'clear_wrong': ['clear_wrong', 'Output hidden form fields to clear any wrong parts of the student\'s response. ', [['question/type','rendererbase.php',62]], 1],
'get_qt_field_name': ['get_qt_field_name', 'Get the name (in the sense a HTML name="" attribute, or a $_POST variable name) to use for a question_type variable belonging to this question_attempt. ', [['question/engine','questionattempt.php',307]], 26],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'grade_response': ['grade_response', '', [['question/type/multianswer','question.php',248],['question/type/truefalse','question.php',91],['question/type/missingtype','question.php',84],['question/type/match','question.php',270],['question/type/numerical','question.php',233],['question/type/multichoice','question.php',225],['question/type/multichoice','question.php',432],['question/type','questionbase.php',575],['question/type','questionbase.php',782]], 77],
'feedback': ['feedback', 'Generate the display of the outcome part of the question. This is the area that contains the various forms of feedback. This function generates the content of this area belonging to the question type. ', [['question/type','rendererbase.php',87],['question/behaviour/interactive','renderer.php',42],['question/behaviour/adaptive','renderer.php',44],['question/behaviour','rendererbase.php',56],['question/behaviour/deferredcbm','renderer.php',75]], 6],
'find_standard_scripts': ['find_standard_scripts', 'Utility method used by {@link qtype_renderer::head_code()}. It looks for any of the files script.js or script.php that exist in the plugin folder and ensures they get included. ', [['question/type','questiontypebase.php',1049]], 1],
'get_applicable_hint': ['get_applicable_hint', '', [['question/behaviour/interactive','behaviour.php',104],['question/behaviour','behaviourbase.php',162],['question/engine','questionattempt.php',734]], 5],
'combined_feedback': ['combined_feedback', 'Renderer base classes for question types. ', [['question/type','rendererbase.php',241]], 2],
'is_finished': ['is_finished', '', [['mod/quiz/accessrule/delaybetweenattempts','rule.php',95],['mod/quiz/accessrule/numattempts','rule.php',60],['question/engine','states.php',129],['question/engine','states.php',293],['question/engine','states.php',301],['question/engine','states.php',312],['question/engine','states.php',323],['question/engine','states.php',334],['mod/quiz','accessmanager.php',398],['mod/quiz','attemptlib.php',781],['mod/quiz/accessrule','accessrulebase.php',167],['mod/quiz/accessrule/openclosedate','rule.php',95]], 84],
'graded_state_for_fraction': ['graded_state_for_fraction', '', [['question/engine/upgrade','behaviourconverters.php',293],['question/engine','states.php',203]], 30],
'get_feedback_class': ['get_feedback_class', 'Return an appropriate CSS class name \'\'/\'correct\'/\'partiallycorrect\'/\'incorrect\', for a state. ', [['question/engine','states.php',251],['question/engine','states.php',365],['question/engine','states.php',398],['question/engine','states.php',409],['question/engine','states.php',420],['question/engine','states.php',443],['question/engine','states.php',451],['question/engine','states.php',459]], 8],
'num_parts_correct': ['num_parts_correct', 'Gereate a brief statement of how many sub-parts of this question the student got right. ', [['question/type','rendererbase.php',142],['question/type/multichoice','renderer.php',293]], 2],
'get_state': ['get_state', '', [['question/engine','questionattemptstep.php',141],['question/engine','questionattemptstep.php',580],['question/engine','questionattemptstep.php',666],['mod/quiz','attemptlib.php',758],['cache/classes','factory.php',495],['question/engine','questionattempt.php',589]], 106],
'general_feedback': ['general_feedback', 'Gereate the general feedback. This is feedback is shown ot all students. ', [['question/type','rendererbase.php',170]], 1],
'nonempty_tag': ['nonempty_tag', 'Outputs a tag, but only if the contents are not empty ', [['lib','outputcomponents.php',1107]], 38],
'format_generalfeedback': ['format_generalfeedback', '', [['question/type','questionbase.php',385]], 1],
'feedback_class': ['feedback_class', '', [['question/type','rendererbase.php',218]], 9],
'get_last_qt_data': ['get_last_qt_data', 'Get the qt data from the latest step that has any qt data. Return $default array if it is no step has qt data. ', [['question/engine','questionattempt.php',447]], 13],
'pix_url': ['pix_url', 'Return the URL for an image ', [['lib','outputlib.php',1356],['lib','outputrenderers.php',234]], 406],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'feedback_image': ['feedback_image', 'Return an appropriate icon (green tick, red cross, etc.) for a grade. ', [['question/type','rendererbase.php',222]], 9],
'get_question': ['get_question', 'Get the question_definition for a question in this attempt. ', [['question/engine','questionusage.php',218],['mod/quiz','attemptlib.php',249],['question/engine','questionattempt.php',204],['question/engine/upgrade','upgradelib.php',323]], 74],
'is_gradable_response': ['is_gradable_response', '', [['question/type/multianswer','question.php',188],['question/type/missingtype','question.php',55],['question/type/match','question.php',243],['question/type/numerical','question.php',86],['question/type/multichoice','question.php',221],['question/type/multichoice','question.php',399],['question/type','questionbase.php',557],['question/type','questionbase.php',654]], 63],
'specific_feedback': ['specific_feedback', 'Generate the specific feedback. This is feedback that varies according to the response the student gave. ', [['question/type','rendererbase.php',132],['question/type/truefalse','renderer.php',124],['question/type/shortanswer','renderer.php',103],['question/type/match','renderer.php',106],['question/type/numerical','renderer.php',141],['question/type/multichoice','renderer.php',185]], 1],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 988],
'clear_wrong_from_response': ['clear_wrong_from_response', '', [['question/type/multianswer','question.php',267],['question/type/match','question.php',141],['question/type/multichoice','question.php',267],['question/type','questionbase.php',252]], 6],
'correct_response': ['correct_response', '', [['question/type/multianswer','renderer.php',101],['question/type','rendererbase.php',180],['question/type/calculated','renderer.php',39],['question/type/truefalse','renderer.php',137],['question/type/shortanswer','renderer.php',115],['question/type/match','renderer.php',133],['question/type/numerical','renderer.php',167],['question/type/multichoice','renderer.php',223],['question/type/multichoice','renderer.php',275]], 1],
'format_text': ['format_text', 'Given text in a variety of format codings, this function returns the text as safe HTML. ', [['lib','weblib.php',1115],['lib','tablelib.php',846],['lib','tablelib.php',1583],['lib','tablelib.php',1900],['question/type','questionbase.php',345],['lib/classes','grading_external.php',182]], 325],
'is_null': ['is_null', '', [], 1992],
'defined': ['defined', '', [], 4098]};
CLASS_DATA={
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1052]], 4832],
'plugin_renderer_base': ['plugin_renderer_base', 'Basis for all plugin renderers. ', [['lib','outputrenderers.php',264]], 67]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
