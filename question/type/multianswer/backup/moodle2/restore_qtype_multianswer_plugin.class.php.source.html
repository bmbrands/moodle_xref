<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /question/type/multianswer/backup/moodle2/restore_qtype_multianswer_plugin.class.php source</title>
    <link rel="stylesheet" href="../../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../../';
subdir='question/type/multianswer/backup/moodle2';
filename='restore_qtype_multianswer_plugin.class.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/question/type/multianswer/backup/moodle2/</a> -> <a href="restore_qtype_multianswer_plugin.class.php.html">restore_qtype_multianswer_plugin.class.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="restore_qtype_multianswer_plugin.class.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="restore_qtype_multianswer_plugin.class.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * @package    moodlecore</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * @subpackage backup-moodle2</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @copyright  2010 onwards Eloy Lafuente (stronk7) {@link http://stronk7.com}</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> */</span>
<a name="l23"><span class="linenum">  23</span></a>  
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../../../question/type/multianswer/questiontype.php.html">/question/type/multianswer/questiontype.php</a>');
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * restore plugin class that provides the necessary information</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * needed to restore one multianswer qtype plugin</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> *</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @copyright  2010 onwards Eloy Lafuente (stronk7) {@link http://stronk7.com}</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> */</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('restore_qtype_multianswer_plugin')" href="../../../../../_classes/restore_qtype_multianswer_plugin.html" onMouseOver="classPopup(event,'restore_qtype_multianswer_plugin')">restore_qtype_multianswer_plugin</a> extends restore_qtype_plugin {
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>      <span class="comment">/**</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * Returns the paths to be handled by the plugin at question level</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     */</span>
<a name="l40"><span class="linenum">  40</span></a>      protected function <a class="function" onClick="logFunction('define_question_plugin_structure')" href="../../../../../_functions/define_question_plugin_structure.html" onMouseOver="funcPopup(event,'define_question_plugin_structure')">define_question_plugin_structure</a>() {
<a name="l41"><span class="linenum">  41</span></a>          <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../../_variables/paths.html">$paths</a> = array();
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">        // This qtype uses question_answers, add them.</span>
<a name="l44"><span class="linenum">  44</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_question_question_answers')" href="../../../../../_functions/add_question_question_answers.html" onMouseOver="funcPopup(event,'add_question_question_answers')">add_question_question_answers</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../../_variables/paths.html">$paths</a>);
<a name="l45"><span class="linenum">  45</span></a>  
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">        // Add own qtype stuff.</span>
<a name="l47"><span class="linenum">  47</span></a>          <a class="var it2518" onMouseOver="hilite(2518)" onMouseOut="lolite()" onClick="logVariable('elename')" href="../../../../../_variables/elename.html">$elename</a> = 'multianswer';
<a name="l48"><span class="linenum">  48</span></a>          <a class="var it2519" onMouseOver="hilite(2519)" onMouseOut="lolite()" onClick="logVariable('elepath')" href="../../../../../_variables/elepath.html">$elepath</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_pathfor')" href="../../../../../_functions/get_pathfor.html" onMouseOver="funcPopup(event,'get_pathfor')">get_pathfor</a>('/multianswer');
<a name="l49"><span class="linenum">  49</span></a>          <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../../_variables/paths.html">$paths</a>[] = <span class="keyword">new </span><a class="class" onClick="logClass('restore_path_element')" href="../../../../../_classes/restore_path_element.html" onMouseOver="classPopup(event,'restore_path_element')">restore_path_element</a>(<a class="var it2518" onMouseOver="hilite(2518)" onMouseOut="lolite()" onClick="logVariable('elename')" href="../../../../../_variables/elename.html">$elename</a>, <a class="var it2519" onMouseOver="hilite(2519)" onMouseOut="lolite()" onClick="logVariable('elepath')" href="../../../../../_variables/elepath.html">$elepath</a>);
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>          return <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../../_variables/paths.html">$paths</a>; <span class="comment">// And we return the interesting paths.</span>
<a name="l52"><span class="linenum">  52</span></a>      }
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>      <span class="comment">/**</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     * Process the qtype/multianswer element</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">     */</span>
<a name="l57"><span class="linenum">  57</span></a>      public function <a class="function" onClick="logFunction('process_multianswer')" href="../../../../../_functions/process_multianswer.html" onMouseOver="funcPopup(event,'process_multianswer')">process_multianswer</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>) {
<a name="l58"><span class="linenum">  58</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>;
<a name="l59"><span class="linenum">  59</span></a>  
<a name="l60"><span class="linenum">  60</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a> = (object)<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>;
<a name="l61"><span class="linenum">  61</span></a>          <a class="var it6" onMouseOver="hilite(6)" onMouseOut="lolite()" onClick="logVariable('oldid')" href="../../../../../_variables/oldid.html">$oldid</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('id')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../../_variables/id.html">id</a>;
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">        // Detect if the question is created or mapped.</span>
<a name="l64"><span class="linenum">  64</span></a>          <a class="var it8593" onMouseOver="hilite(8593)" onMouseOut="lolite()" onClick="logVariable('oldquestionid')" href="../../../../../_variables/oldquestionid.html">$oldquestionid</a>   = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_old_parentid')" href="../../../../../_functions/get_old_parentid.html" onMouseOver="funcPopup(event,'get_old_parentid')">get_old_parentid</a>('question');
<a name="l65"><span class="linenum">  65</span></a>          <a class="var it8594" onMouseOver="hilite(8594)" onMouseOut="lolite()" onClick="logVariable('newquestionid')" href="../../../../../_variables/newquestionid.html">$newquestionid</a>   = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_new_parentid')" href="../../../../../_functions/get_new_parentid.html" onMouseOver="funcPopup(event,'get_new_parentid')">get_new_parentid</a>('question');
<a name="l66"><span class="linenum">  66</span></a>          <a class="var it8595" onMouseOver="hilite(8595)" onMouseOut="lolite()" onClick="logVariable('questioncreated')" href="../../../../../_variables/questioncreated.html">$questioncreated</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_mappingid')" href="../../../../../_functions/get_mappingid.html" onMouseOver="funcPopup(event,'get_mappingid')">get_mappingid</a>('question_created', <a class="var it8593" onMouseOver="hilite(8593)" onMouseOut="lolite()" onClick="logVariable('oldquestionid')" href="../../../../../_variables/oldquestionid.html">$oldquestionid</a>) ? true : false;
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">        // If the question has been created by restore, we need to create its</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">        // question_multianswer too.</span>
<a name="l70"><span class="linenum">  70</span></a>          if (<a class="var it8595" onMouseOver="hilite(8595)" onMouseOut="lolite()" onClick="logVariable('questioncreated')" href="../../../../../_variables/questioncreated.html">$questioncreated</a>) {
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">            // Adjust some columns.</span>
<a name="l72"><span class="linenum">  72</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('question')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../../_variables/question.html">question</a> = <a class="var it8594" onMouseOver="hilite(8594)" onMouseOut="lolite()" onClick="logVariable('newquestionid')" href="../../../../../_variables/newquestionid.html">$newquestionid</a>;
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">            // Note: multianswer-&gt;sequence is a list of question-&gt;id values. We aren't</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">            // recoding them here (because some questions can be missing yet). Instead</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">            // we'll perform the recode in the {@link after_execute} method of the plugin</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">            // that gets executed once all questions have been created.</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">            // Insert record.</span>
<a name="l78"><span class="linenum">  78</span></a>              <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('newitemid')" href="../../../../../_variables/newitemid.html">$newitemid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('question_multianswer', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../../_variables/data.html">$data</a>);
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">            // Create mapping (need it for after_execute recode of sequence).</span>
<a name="l80"><span class="linenum">  80</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_mapping')" href="../../../../../_functions/set_mapping.html" onMouseOver="funcPopup(event,'set_mapping')">set_mapping</a>('question_multianswer', <a class="var it6" onMouseOver="hilite(6)" onMouseOut="lolite()" onClick="logVariable('oldid')" href="../../../../../_variables/oldid.html">$oldid</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('newitemid')" href="../../../../../_variables/newitemid.html">$newitemid</a>);
<a name="l81"><span class="linenum">  81</span></a>          }
<a name="l82"><span class="linenum">  82</span></a>      }
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>      <span class="comment">/**</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     * This method is executed once the whole restore_structure_step</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     * this step is part of ({@link restore_create_categories_and_questions})</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     * has ended processing the whole xml structure. Its name is:</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     * &quot;after_execute_&quot; + connectionpoint (&quot;question&quot;)</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     *</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">     * For multianswer qtype we use it to restore the sequence column,</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">     * containing one list of question ids</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     */</span>
<a name="l93"><span class="linenum">  93</span></a>      public function <a class="function" onClick="logFunction('after_execute_question')" href="../../../../../_functions/after_execute_question.html" onMouseOver="funcPopup(event,'after_execute_question')">after_execute_question</a>() {
<a name="l94"><span class="linenum">  94</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>;
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">        // Now that all the questions have been restored, let's process</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">        // the created question_multianswer sequences (list of question ids).</span>
<a name="l97"><span class="linenum">  97</span></a>          <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../../../../_variables/rs.html">$rs</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../../../../../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(&quot;
<a name="l98"><span class="linenum">  98</span></a>                  SELECT qma.id, qma.sequence
<a name="l99"><span class="linenum">  99</span></a>                    FROM {question_multianswer} qma
<a name="l100"><span class="linenum"> 100</span></a>                    JOIN {backup_ids_temp} bi ON bi.newitemid = qma.question
<a name="l101"><span class="linenum"> 101</span></a>                   WHERE bi.backupid = ?
<a name="l102"><span class="linenum"> 102</span></a>                     AND bi.itemname = 'question_created'&quot;,
<a name="l103"><span class="linenum"> 103</span></a>                  array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_restoreid')" href="../../../../../_functions/get_restoreid.html" onMouseOver="funcPopup(event,'get_restoreid')">get_restoreid</a>()));
<a name="l104"><span class="linenum"> 104</span></a>          foreach (<a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../../../../_variables/rs.html">$rs</a> as <a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../../../../../_variables/rec.html">$rec</a>) {
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it12266" onMouseOver="hilite(12266)" onMouseOut="lolite()" onClick="logVariable('sequencearr')" href="../../../../../_variables/sequencearr.html">$sequencearr</a> = <a class="phpfunction" onClick="logFunction('preg_split')" href="../../../../../_functions/preg_split.html" onMouseOver="phpfuncPopup(event,'preg_split')">preg_split</a>('/,/', <a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../../../../../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('sequence')" class="var it43253" onMouseOver="hilite(43253)" onMouseOut="lolite()" href="../../../../../_variables/sequence.html">sequence</a>, -1, PREG_SPLIT_NO_EMPTY);
<a name="l106"><span class="linenum"> 106</span></a>              if (<a class="phpfunction" onClick="logFunction('substr_count')" href="../../../../../_functions/substr_count.html" onMouseOver="phpfuncPopup(event,'substr_count')">substr_count</a>(<a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../../../../../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('sequence')" class="var it43253" onMouseOver="hilite(43253)" onMouseOut="lolite()" href="../../../../../_variables/sequence.html">sequence</a>, ',') + 1 != <a class="phpfunction" onClick="logFunction('count')" href="../../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it12266" onMouseOver="hilite(12266)" onMouseOut="lolite()" onClick="logVariable('sequencearr')" href="../../../../../_variables/sequencearr.html">$sequencearr</a>)) {
<a name="l107"><span class="linenum"> 107</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('task')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../../_variables/task.html">task</a>-&gt;<a class="phpfunction" onClick="logFunction('log')" href="../../../../../_functions/log.html" onMouseOver="phpfuncPopup(event,'log')">log</a>('Invalid sequence found in restored multianswer question ' . <a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../../../../../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('id')" class="var it43253" onMouseOver="hilite(43253)" onMouseOut="lolite()" href="../../../../../_variables/id.html">id</a>, backup::LOG_WARNING);
<a name="l108"><span class="linenum"> 108</span></a>              }
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>              foreach (<a class="var it12266" onMouseOver="hilite(12266)" onMouseOut="lolite()" onClick="logVariable('sequencearr')" href="../../../../../_variables/sequencearr.html">$sequencearr</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../../_variables/question.html">$question</a>) {
<a name="l111"><span class="linenum"> 111</span></a>                  <a class="var it12266" onMouseOver="hilite(12266)" onMouseOut="lolite()" onClick="logVariable('sequencearr')" href="../../../../../_variables/sequencearr.html">$sequencearr</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_mappingid')" href="../../../../../_functions/get_mappingid.html" onMouseOver="funcPopup(event,'get_mappingid')">get_mappingid</a>('question', <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../../_variables/question.html">$question</a>);
<a name="l112"><span class="linenum"> 112</span></a>              }
<a name="l113"><span class="linenum"> 113</span></a>              <a class="var it5341" onMouseOver="hilite(5341)" onMouseOut="lolite()" onClick="logVariable('sequence')" href="../../../../../_variables/sequence.html">$sequence</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it12266" onMouseOver="hilite(12266)" onMouseOut="lolite()" onClick="logVariable('sequencearr')" href="../../../../../_variables/sequencearr.html">$sequencearr</a>);
<a name="l114"><span class="linenum"> 114</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../../../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('question_multianswer', 'sequence', <a class="var it5341" onMouseOver="hilite(5341)" onMouseOut="lolite()" onClick="logVariable('sequence')" href="../../../../../_variables/sequence.html">$sequence</a>,
<a name="l115"><span class="linenum"> 115</span></a>                      array('id' =&gt; <a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../../../../../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('id')" class="var it43253" onMouseOver="hilite(43253)" onMouseOut="lolite()" href="../../../../../_variables/id.html">id</a>));
<a name="l116"><span class="linenum"> 116</span></a>              if (!empty(<a class="var it5341" onMouseOver="hilite(5341)" onMouseOut="lolite()" onClick="logVariable('sequence')" href="../../../../../_variables/sequence.html">$sequence</a>)) {
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">                // Get relevant data indexed by positionkey from the multianswers table.</span>
<a name="l118"><span class="linenum"> 118</span></a>                  <a class="var it6386" onMouseOver="hilite(6386)" onMouseOut="lolite()" onClick="logVariable('wrappedquestions')" href="../../../../../_variables/wrappedquestions.html">$wrappedquestions</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_list')" href="../../../../../_functions/get_records_list.html" onMouseOver="funcPopup(event,'get_records_list')">get_records_list</a>('question', 'id',
<a name="l119"><span class="linenum"> 119</span></a>                      <a class="phpfunction" onClick="logFunction('explode')" href="../../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it5341" onMouseOver="hilite(5341)" onMouseOut="lolite()" onClick="logVariable('sequence')" href="../../../../../_variables/sequence.html">$sequence</a>), 'id ASC');
<a name="l120"><span class="linenum"> 120</span></a>                  foreach (<a class="var it6386" onMouseOver="hilite(6386)" onMouseOut="lolite()" onClick="logVariable('wrappedquestions')" href="../../../../../_variables/wrappedquestions.html">$wrappedquestions</a> as <a class="var it147" onMouseOver="hilite(147)" onMouseOut="lolite()" onClick="logVariable('wrapped')" href="../../../../../_variables/wrapped.html">$wrapped</a>) {
<a name="l121"><span class="linenum"> 121</span></a>                      if (<a class="var it147" onMouseOver="hilite(147)" onMouseOut="lolite()" onClick="logVariable('wrapped')" href="../../../../../_variables/wrapped.html">$wrapped</a>-&gt;<a onClick="logVariable('qtype')" class="var it43762" onMouseOver="hilite(43762)" onMouseOut="lolite()" href="../../../../../_variables/qtype.html">qtype</a> == 'multichoice') {
<a name="l122"><span class="linenum"> 122</span></a>                          question_bank::<a class="function" onClick="logFunction('get_qtype')" href="../../../../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it147" onMouseOver="hilite(147)" onMouseOut="lolite()" onClick="logVariable('wrapped')" href="../../../../../_variables/wrapped.html">$wrapped</a>-&gt;<a onClick="logVariable('qtype')" class="var it43762" onMouseOver="hilite(43762)" onMouseOut="lolite()" href="../../../../../_variables/qtype.html">qtype</a>)-&gt;<a class="function" onClick="logFunction('get_question_options')" href="../../../../../_functions/get_question_options.html" onMouseOver="funcPopup(event,'get_question_options')">get_question_options</a>(<a class="var it147" onMouseOver="hilite(147)" onMouseOut="lolite()" onClick="logVariable('wrapped')" href="../../../../../_variables/wrapped.html">$wrapped</a>);
<a name="l123"><span class="linenum"> 123</span></a>                          if (isset(<a class="var it147" onMouseOver="hilite(147)" onMouseOut="lolite()" onClick="logVariable('wrapped')" href="../../../../../_variables/wrapped.html">$wrapped</a>-&gt;<a onClick="logVariable('options')" class="var it43762" onMouseOver="hilite(43762)" onMouseOut="lolite()" href="../../../../../_variables/options.html">options</a>-&gt;shuffleanswers)) {
<a name="l124"><span class="linenum"> 124</span></a>                              <a class="phpfunction" onClick="logFunction('preg_match')" href="../../../../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/'.<a class="constant" onClick="logConstant('ANSWER_REGEX')" href="../../../../../_constants/ANSWER_REGEX.html" onMouseOver="constPopup(event,'ANSWER_REGEX')">ANSWER_REGEX</a>.'/s', <a class="var it147" onMouseOver="hilite(147)" onMouseOut="lolite()" onClick="logVariable('wrapped')" href="../../../../../_variables/wrapped.html">$wrapped</a>-&gt;<a onClick="logVariable('questiontext')" class="var it43762" onMouseOver="hilite(43762)" onMouseOut="lolite()" href="../../../../../_variables/questiontext.html">questiontext</a>, <a class="var it6387" onMouseOver="hilite(6387)" onMouseOut="lolite()" onClick="logVariable('answerregs')" href="../../../../../_variables/answerregs.html">$answerregs</a>);
<a name="l125"><span class="linenum"> 125</span></a>                              if (isset(<a class="var it6387" onMouseOver="hilite(6387)" onMouseOut="lolite()" onClick="logVariable('answerregs')" href="../../../../../_variables/answerregs.html">$answerregs</a>[<a class="constant" onClick="logConstant('ANSWER_REGEX_ANSWER_TYPE_MULTICHOICE')" href="../../../../../_constants/ANSWER_REGEX_ANSWER_TYPE_MULTICHOICE.html" onMouseOver="constPopup(event,'ANSWER_REGEX_ANSWER_TYPE_MULTICHOICE')">ANSWER_REGEX_ANSWER_TYPE_MULTICHOICE</a>]) &amp;&amp;
<a name="l126"><span class="linenum"> 126</span></a>                                      <a class="var it6387" onMouseOver="hilite(6387)" onMouseOut="lolite()" onClick="logVariable('answerregs')" href="../../../../../_variables/answerregs.html">$answerregs</a>[<a class="constant" onClick="logConstant('ANSWER_REGEX_ANSWER_TYPE_MULTICHOICE')" href="../../../../../_constants/ANSWER_REGEX_ANSWER_TYPE_MULTICHOICE.html" onMouseOver="constPopup(event,'ANSWER_REGEX_ANSWER_TYPE_MULTICHOICE')">ANSWER_REGEX_ANSWER_TYPE_MULTICHOICE</a>] !== '') {
<a name="l127"><span class="linenum"> 127</span></a>                                  <a class="var it147" onMouseOver="hilite(147)" onMouseOut="lolite()" onClick="logVariable('wrapped')" href="../../../../../_variables/wrapped.html">$wrapped</a>-&gt;<a onClick="logVariable('options')" class="var it43762" onMouseOver="hilite(43762)" onMouseOut="lolite()" href="../../../../../_variables/options.html">options</a>-&gt;shuffleanswers = 0;
<a name="l128"><span class="linenum"> 128</span></a>                                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field_select')" href="../../../../../_functions/set_field_select.html" onMouseOver="funcPopup(event,'set_field_select')">set_field_select</a>('qtype_multichoice_options', 'shuffleanswers', '0', &quot;id =:select&quot;,
<a name="l129"><span class="linenum"> 129</span></a>                                      array('select' =&gt; <a class="var it147" onMouseOver="hilite(147)" onMouseOut="lolite()" onClick="logVariable('wrapped')" href="../../../../../_variables/wrapped.html">$wrapped</a>-&gt;<a onClick="logVariable('options')" class="var it43762" onMouseOver="hilite(43762)" onMouseOut="lolite()" href="../../../../../_variables/options.html">options</a>-&gt;id) );
<a name="l130"><span class="linenum"> 130</span></a>                              }
<a name="l131"><span class="linenum"> 131</span></a>                          }
<a name="l132"><span class="linenum"> 132</span></a>                      }
<a name="l133"><span class="linenum"> 133</span></a>                  }
<a name="l134"><span class="linenum"> 134</span></a>              }
<a name="l135"><span class="linenum"> 135</span></a>          }
<a name="l136"><span class="linenum"> 136</span></a>          <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../../../../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l137"><span class="linenum"> 137</span></a>      }
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>      public function <a class="function" onClick="logFunction('recode_response')" href="../../../../../_functions/recode_response.html" onMouseOver="funcPopup(event,'recode_response')">recode_response</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../../../_variables/questionid.html">$questionid</a>, <a class="var it9203" onMouseOver="hilite(9203)" onMouseOut="lolite()" onClick="logVariable('sequencenumber')" href="../../../../../_variables/sequencenumber.html">$sequencenumber</a>, array <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../../_variables/response.html">$response</a>) {
<a name="l140"><span class="linenum"> 140</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>;
<a name="l141"><span class="linenum"> 141</span></a>  
<a name="l142"><span class="linenum"> 142</span></a>          <a class="var it3962" onMouseOver="hilite(3962)" onMouseOut="lolite()" onClick="logVariable('qtypes')" href="../../../../../_variables/qtypes.html">$qtypes</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_menu')" href="../../../../../_functions/get_records_menu.html" onMouseOver="funcPopup(event,'get_records_menu')">get_records_menu</a>('question', array('parent' =&gt; <a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../../../_variables/questionid.html">$questionid</a>),
<a name="l143"><span class="linenum"> 143</span></a>                  '', 'id, qtype');
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>          <a class="var it5341" onMouseOver="hilite(5341)" onMouseOut="lolite()" onClick="logVariable('sequence')" href="../../../../../_variables/sequence.html">$sequence</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../../../../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('question_multianswer', 'sequence',
<a name="l146"><span class="linenum"> 146</span></a>                  array('question' =&gt; <a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../../../_variables/questionid.html">$questionid</a>));
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>          <a class="var it12267" onMouseOver="hilite(12267)" onMouseOut="lolite()" onClick="logVariable('fakestep')" href="../../../../../_variables/fakestep.html">$fakestep</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_step_read_only')" href="../../../../../_classes/question_attempt_step_read_only.html" onMouseOver="classPopup(event,'question_attempt_step_read_only')">question_attempt_step_read_only</a>(<a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../../_variables/response.html">$response</a>);
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>          foreach (<a class="phpfunction" onClick="logFunction('explode')" href="../../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it5341" onMouseOver="hilite(5341)" onMouseOut="lolite()" onClick="logVariable('sequence')" href="../../../../../_variables/sequence.html">$sequence</a>) as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it184" onMouseOver="hilite(184)" onMouseOut="lolite()" onClick="logVariable('subqid')" href="../../../../../_variables/subqid.html">$subqid</a>) {
<a name="l151"><span class="linenum"> 151</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a> = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> + 1;
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>              <a class="var it12268" onMouseOver="hilite(12268)" onMouseOut="lolite()" onClick="logVariable('substep')" href="../../../../../_variables/substep.html">$substep</a> = <span class="keyword">new </span><a class="class" onClick="logClass('question_attempt_step_subquestion_adapter')" href="../../../../../_classes/question_attempt_step_subquestion_adapter.html" onMouseOver="classPopup(event,'question_attempt_step_subquestion_adapter')">question_attempt_step_subquestion_adapter</a>(<a class="var it12267" onMouseOver="hilite(12267)" onMouseOut="lolite()" onClick="logVariable('fakestep')" href="../../../../../_variables/fakestep.html">$fakestep</a>, 'sub' . <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a> . '_');
<a name="l154"><span class="linenum"> 154</span></a>              <a class="var it12269" onMouseOver="hilite(12269)" onMouseOut="lolite()" onClick="logVariable('recodedresponse')" href="../../../../../_variables/recodedresponse.html">$recodedresponse</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('step')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../../_variables/step.html">step</a>-&gt;<a class="function" onClick="logFunction('questions_recode_response_data')" href="../../../../../_functions/questions_recode_response_data.html" onMouseOver="funcPopup(event,'questions_recode_response_data')">questions_recode_response_data</a>(<a class="var it3962" onMouseOver="hilite(3962)" onMouseOut="lolite()" onClick="logVariable('qtypes')" href="../../../../../_variables/qtypes.html">$qtypes</a>[<a class="var it184" onMouseOver="hilite(184)" onMouseOut="lolite()" onClick="logVariable('subqid')" href="../../../../../_variables/subqid.html">$subqid</a>],
<a name="l155"><span class="linenum"> 155</span></a>                      <a class="var it184" onMouseOver="hilite(184)" onMouseOut="lolite()" onClick="logVariable('subqid')" href="../../../../../_variables/subqid.html">$subqid</a>, <a class="var it9203" onMouseOver="hilite(9203)" onMouseOut="lolite()" onClick="logVariable('sequencenumber')" href="../../../../../_variables/sequencenumber.html">$sequencenumber</a>, <a class="var it12268" onMouseOver="hilite(12268)" onMouseOut="lolite()" onClick="logVariable('substep')" href="../../../../../_variables/substep.html">$substep</a>-&gt;<a class="function" onClick="logFunction('get_all_data')" href="../../../../../_functions/get_all_data.html" onMouseOver="funcPopup(event,'get_all_data')">get_all_data</a>());
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>              foreach (<a class="var it12269" onMouseOver="hilite(12269)" onMouseOut="lolite()" onClick="logVariable('recodedresponse')" href="../../../../../_variables/recodedresponse.html">$recodedresponse</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../../_variables/name.html">$name</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../../_variables/value.html">$value</a>) {
<a name="l158"><span class="linenum"> 158</span></a>                  <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../../_variables/response.html">$response</a>[<a class="var it12268" onMouseOver="hilite(12268)" onMouseOut="lolite()" onClick="logVariable('substep')" href="../../../../../_variables/substep.html">$substep</a>-&gt;<a class="function" onClick="logFunction('add_prefix')" href="../../../../../_functions/add_prefix.html" onMouseOver="funcPopup(event,'add_prefix')">add_prefix</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../../_variables/name.html">$name</a>)] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../../_variables/value.html">$value</a>;
<a name="l159"><span class="linenum"> 159</span></a>              }
<a name="l160"><span class="linenum"> 160</span></a>          }
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>          return <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../../_variables/response.html">$response</a>;
<a name="l163"><span class="linenum"> 163</span></a>      }
<a name="l164"><span class="linenum"> 164</span></a>  
<a name="l165"><span class="linenum"> 165</span></a>      <span class="comment">/**</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">     * Given one question_states record, return the answer</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     * recoded pointing to all the restored stuff for multianswer questions</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     *</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     * answer is one comma separated list of hypen separated pairs</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * containing sequence (pointing to questions sequence in question_multianswer)</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * and mixed answers. We'll delegate</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     * the recoding of answers to the proper qtype</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     */</span>
<a name="l174"><span class="linenum"> 174</span></a>      public function <a class="function" onClick="logFunction('recode_legacy_state_answer')" href="../../../../../_functions/recode_legacy_state_answer.html" onMouseOver="funcPopup(event,'recode_legacy_state_answer')">recode_legacy_state_answer</a>(<a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../../../_variables/state.html">$state</a>) {
<a name="l175"><span class="linenum"> 175</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>;
<a name="l176"><span class="linenum"> 176</span></a>          <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../../../_variables/answer.html">$answer</a> = <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../../../_variables/state.html">$state</a>-&gt;<a onClick="logVariable('answer')" class="var it43230" onMouseOver="hilite(43230)" onMouseOut="lolite()" href="../../../../../_variables/answer.html">answer</a>;
<a name="l177"><span class="linenum"> 177</span></a>          <a class="var it12270" onMouseOver="hilite(12270)" onMouseOut="lolite()" onClick="logVariable('resultarr')" href="../../../../../_variables/resultarr.html">$resultarr</a> = array();
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">        // Get sequence of questions.</span>
<a name="l179"><span class="linenum"> 179</span></a>          <a class="var it5341" onMouseOver="hilite(5341)" onMouseOut="lolite()" onClick="logVariable('sequence')" href="../../../../../_variables/sequence.html">$sequence</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../../../../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('question_multianswer', 'sequence',
<a name="l180"><span class="linenum"> 180</span></a>                  array('question' =&gt; <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../../../_variables/state.html">$state</a>-&gt;<a onClick="logVariable('question')" class="var it43230" onMouseOver="hilite(43230)" onMouseOut="lolite()" href="../../../../../_variables/question.html">question</a>));
<a name="l181"><span class="linenum"> 181</span></a>          <a class="var it12266" onMouseOver="hilite(12266)" onMouseOut="lolite()" onClick="logVariable('sequencearr')" href="../../../../../_variables/sequencearr.html">$sequencearr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it5341" onMouseOver="hilite(5341)" onMouseOut="lolite()" onClick="logVariable('sequence')" href="../../../../../_variables/sequence.html">$sequence</a>);
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">        // Let's process each pair.</span>
<a name="l183"><span class="linenum"> 183</span></a>          foreach (<a class="phpfunction" onClick="logFunction('explode')" href="../../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../../../_variables/answer.html">$answer</a>) as <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('pair')" href="../../../../../_variables/pair.html">$pair</a>) {
<a name="l184"><span class="linenum"> 184</span></a>              <a class="var it12271" onMouseOver="hilite(12271)" onMouseOut="lolite()" onClick="logVariable('pairarr')" href="../../../../../_variables/pairarr.html">$pairarr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('-', <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('pair')" href="../../../../../_variables/pair.html">$pair</a>);
<a name="l185"><span class="linenum"> 185</span></a>              <a class="var it12272" onMouseOver="hilite(12272)" onMouseOut="lolite()" onClick="logVariable('sequenceid')" href="../../../../../_variables/sequenceid.html">$sequenceid</a> = <a class="var it12271" onMouseOver="hilite(12271)" onMouseOut="lolite()" onClick="logVariable('pairarr')" href="../../../../../_variables/pairarr.html">$pairarr</a>[0];
<a name="l186"><span class="linenum"> 186</span></a>              <a class="var it11656" onMouseOver="hilite(11656)" onMouseOut="lolite()" onClick="logVariable('subanswer')" href="../../../../../_variables/subanswer.html">$subanswer</a> = <a class="var it12271" onMouseOver="hilite(12271)" onMouseOut="lolite()" onClick="logVariable('pairarr')" href="../../../../../_variables/pairarr.html">$pairarr</a>[1];
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">            // Calculate the questionid based on sequenceid.</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">            // Note it is already one *new* questionid that doesn't need mapping.</span>
<a name="l189"><span class="linenum"> 189</span></a>              <a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../../../_variables/questionid.html">$questionid</a> = <a class="var it12266" onMouseOver="hilite(12266)" onMouseOut="lolite()" onClick="logVariable('sequencearr')" href="../../../../../_variables/sequencearr.html">$sequencearr</a>[<a class="var it12272" onMouseOver="hilite(12272)" onMouseOut="lolite()" onClick="logVariable('sequenceid')" href="../../../../../_variables/sequenceid.html">$sequenceid</a> - 1];
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">            // Fetch qtype of the question (needed for delegation).</span>
<a name="l191"><span class="linenum"> 191</span></a>              <a class="var it12273" onMouseOver="hilite(12273)" onMouseOut="lolite()" onClick="logVariable('questionqtype')" href="../../../../../_variables/questionqtype.html">$questionqtype</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../../../../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('question', 'qtype', array('id' =&gt; <a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../../../_variables/questionid.html">$questionid</a>));
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">            // Delegate subanswer recode to proper qtype, faking one question_states record.</span>
<a name="l193"><span class="linenum"> 193</span></a>              <a class="var it12274" onMouseOver="hilite(12274)" onMouseOut="lolite()" onClick="logVariable('substate')" href="../../../../../_variables/substate.html">$substate</a> = new stdClass();
<a name="l194"><span class="linenum"> 194</span></a>              <a class="var it12274" onMouseOver="hilite(12274)" onMouseOut="lolite()" onClick="logVariable('substate')" href="../../../../../_variables/substate.html">$substate</a>-&gt;<a onClick="logVariable('question')" class="var it45127" onMouseOver="hilite(45127)" onMouseOut="lolite()" href="../../../../../_variables/question.html">question</a> = <a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../../../_variables/questionid.html">$questionid</a>;
<a name="l195"><span class="linenum"> 195</span></a>              <a class="var it12274" onMouseOver="hilite(12274)" onMouseOut="lolite()" onClick="logVariable('substate')" href="../../../../../_variables/substate.html">$substate</a>-&gt;<a onClick="logVariable('answer')" class="var it45127" onMouseOver="hilite(45127)" onMouseOut="lolite()" href="../../../../../_variables/answer.html">answer</a> = <a class="var it11656" onMouseOver="hilite(11656)" onMouseOut="lolite()" onClick="logVariable('subanswer')" href="../../../../../_variables/subanswer.html">$subanswer</a>;
<a name="l196"><span class="linenum"> 196</span></a>              <a class="var it10655" onMouseOver="hilite(10655)" onMouseOut="lolite()" onClick="logVariable('newanswer')" href="../../../../../_variables/newanswer.html">$newanswer</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('step')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../../_variables/step.html">step</a>-&gt;<a class="function" onClick="logFunction('restore_recode_legacy_answer')" href="../../../../../_functions/restore_recode_legacy_answer.html" onMouseOver="funcPopup(event,'restore_recode_legacy_answer')">restore_recode_legacy_answer</a>(<a class="var it12274" onMouseOver="hilite(12274)" onMouseOut="lolite()" onClick="logVariable('substate')" href="../../../../../_variables/substate.html">$substate</a>, <a class="var it12273" onMouseOver="hilite(12273)" onMouseOut="lolite()" onClick="logVariable('questionqtype')" href="../../../../../_variables/questionqtype.html">$questionqtype</a>);
<a name="l197"><span class="linenum"> 197</span></a>              <a class="var it12270" onMouseOver="hilite(12270)" onMouseOut="lolite()" onClick="logVariable('resultarr')" href="../../../../../_variables/resultarr.html">$resultarr</a>[] = <a class="phpfunction" onClick="logFunction('implode')" href="../../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('-', array(<a class="var it12272" onMouseOver="hilite(12272)" onMouseOut="lolite()" onClick="logVariable('sequenceid')" href="../../../../../_variables/sequenceid.html">$sequenceid</a>, <a class="var it10655" onMouseOver="hilite(10655)" onMouseOut="lolite()" onClick="logVariable('newanswer')" href="../../../../../_variables/newanswer.html">$newanswer</a>));
<a name="l198"><span class="linenum"> 198</span></a>          }
<a name="l199"><span class="linenum"> 199</span></a>          return <a class="phpfunction" onClick="logFunction('implode')" href="../../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it12270" onMouseOver="hilite(12270)" onMouseOut="lolite()" onClick="logVariable('resultarr')" href="../../../../../_variables/resultarr.html">$resultarr</a>);
<a name="l200"><span class="linenum"> 200</span></a>      }
<a name="l201"><span class="linenum"> 201</span></a>  
<a name="l202"><span class="linenum"> 202</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'set_field': ['set_field', 'Set a single field in every table record where all the given conditions met. ', [['lib/dml','moodle_database.php',1737],['availability/condition/profile/tests','condition_test.php',349]], 485],
'get_all_data': ['get_all_data', 'Get all the data. behaviour variables have the - at the start of their name. This is only intended for internal use, for example by {@link question_engine_data_mapper::insert_question_attempt_step()}, however, it can occasionally be useful in test code. It should not be considered part of the public API of this class. ', [['question/engine','questionattemptstep.php',361],['question/engine','questionattemptstep.php',726]], 30],
'restore_recode_legacy_answer': ['restore_recode_legacy_answer', 'Recode the legacy answer field. ', [['backup/moodle2','restore_stepslib.php',5390]], 4],
'after_execute_question': ['after_execute_question', 'This method is executed once the whole restore_structure_step this step is part of ({@link restore_create_categories_and_questions}) has ended processing the whole xml structure. Its name is: "after_execute_" + connectionpoint ("question") ', [['question/type/multianswer/backup/moodle2','restore_qtype_multianswer_plugin.class.php',84],['question/type/random/backup/moodle2','restore_qtype_random_plugin.class.php',100],['question/type/essay/backup/moodle2','restore_qtype_essay_plugin.class.php',90]], 0],
'get_pathfor': ['get_pathfor', 'Simple helper function that returns the base (prefix) of the path for the restore_path_element Useful if we used get_recommended_name() in backup. It\'s not mandatory to use it but recommended ;-) ', [['backup/moodle2','restore_plugin.class.php',251],['backup/moodle2','restore_subplugin.class.php',190]], 63],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as an moodle_recordset.  $sql must be a complete SQL query. Since this method is a little less readable, use of it should be restricted to code where it\'s possible there might be large datasets being returned.  For known small datasets use get_records_sql - it leads to simpler code. ', [['lib/dml','pdo_moodle_database.php',252],['lib/dml','oci_native_moodle_database.php',1106],['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','mssql_native_moodle_database.php',736],['lib/dml','mysqli_native_moodle_database.php',993],['lib/dml','sqlsrv_native_moodle_database.php',811],['lib/dml/tests','dml_test.php',5544]], 283],
'get_old_parentid': ['get_old_parentid', 'Returns the latest (parent) old id mapped by one pathelement ', [['backup/moodle2','restore_plugin.class.php',182],['backup/moodle2','restore_subplugin.class.php',114],['backup/util/plan','restore_structure_step.class.php',189]], 32],
'recode_response': ['recode_response', 'Do any re-coding necessary in the student response. ', [['backup/moodle2','restore_qtype_plugin.class.php',344],['question/type/multianswer/backup/moodle2','restore_qtype_multianswer_plugin.class.php',139],['question/type/match/backup/moodle2','restore_qtype_match_plugin.class.php',183],['question/type/calculatedmulti/backup/moodle2','restore_qtype_calculatedmulti_plugin.class.php',40],['question/type/multichoice/backup/moodle2','restore_qtype_multichoice_plugin.class.php',84]], 1],
'recode_legacy_state_answer': ['recode_legacy_state_answer', 'Decode legacy question_states.answer for this qtype. Used when restoring 2.0 attempt data. ', [['backup/moodle2','restore_qtype_plugin.class.php',355],['question/type/multianswer/backup/moodle2','restore_qtype_multianswer_plugin.class.php',165],['question/type/random/backup/moodle2','restore_qtype_random_plugin.class.php',63],['question/type/randomsamatch/backup/moodle2','restore_qtype_randomsamatch_plugin.class.php',100],['question/type/truefalse/backup/moodle2','restore_qtype_truefalse_plugin.class.php',82],['question/type/match/backup/moodle2','restore_qtype_match_plugin.class.php',193],['question/type/calculatedmulti/backup/moodle2','restore_qtype_calculatedmulti_plugin.class.php',45],['question/type/multichoice/backup/moodle2','restore_qtype_multichoice_plugin.class.php',106]], 1],
'add_prefix': ['add_prefix', '', [['question/type/multianswer/db','upgradelib.php',161],['question/engine','questionattemptstep.php',619]], 17],
'get_qtype': ['get_qtype', 'Get the question type class for a particular question type. ', [['question/engine','bank.php',80],['question/format/xml','format.php',1009]], 113],
'get_restoreid': ['get_restoreid', 'Gets the restore id from the controller ', [['backup/util/ui','restore_ui.class.php',167],['backup/moodle2','restore_plugin.class.php',162],['backup/moodle2','restore_subplugin.class.php',94],['backup/util/plan','restore_task.class.php',42],['backup/util/plan','restore_plan.class.php',77],['backup/util/plan','restore_step.class.php',42],['backup/util/ui','restore_ui_stage.class.php',51],['backup/controller','restore_controller.class.php',257]], 87],
'get_mappingid': ['get_mappingid', 'Return the new id of a mapping for the given itemname ', [['backup/moodle2','restore_plugin.class.php',196],['backup/moodle2','restore_subplugin.class.php',128],['backup/util/plan','restore_structure_step.class.php',203]], 224],
'get_field': ['get_field', 'Gets an instance of the form field. ', [['lib/behat','behat_field_manager.php',248],['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1546],['user/filters','lib.php',124]], 536],
'get_new_parentid': ['get_new_parentid', 'Returns the latest (parent) new id mapped by one pathelement ', [['backup/moodle2','restore_plugin.class.php',189],['backup/moodle2','restore_subplugin.class.php',121],['backup/util/plan','restore_structure_step.class.php',196]], 148],
'get_question_options': ['get_question_options', 'Loads the question type specific options for the question. ', [['question/type','questiontypebase.php',743],['question/type/calculated','questiontype.php',48],['question/type/multianswer','questiontype.php',44],['question/type/numerical','questiontype.php',55],['lib','questionlib.php',798],['question/type/multichoice','questiontype.php',40],['question/type/ddimageortext','questiontypebase.php',49],['question/type/truefalse','questiontype.php',111],['question/type/random','questiontype.php',118],['question/type/match','questiontype.php',40],['question/type/gapselect','questiontypebase.php',106],['question/type/randomsamatch','questiontype.php',54],['question/type/essay','questiontype.php',47]], 19],
'process_multianswer': ['process_multianswer', 'Process the qtype/multianswer element ', [['question/type/multianswer/backup/moodle2','restore_qtype_multianswer_plugin.class.php',54]], 0],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'get_records_list': ['get_records_list', 'Get a number of records as an array of objects where one field match one list of values. ', [['lib/dml','moodle_database.php',1310]], 34],
'set_field_select': ['set_field_select', 'Set a single field in every table row where the select statement evaluates to true. ', [['lib/dml','pdo_moodle_database.php',492],['lib/dml','oci_native_moodle_database.php',1436],['lib/dml','pgsql_native_moodle_database.php',1121],['lib/dml','mssql_native_moodle_database.php',1097],['lib/dml','mysqli_native_moodle_database.php',1435],['lib/dml','sqlsrv_native_moodle_database.php',1178],['lib/dml/tests','dml_test.php',5552]], 67],
'set_mapping': ['set_mapping', 'To send ids pairs to backup_ids_table and to store them into paths ', [['backup/moodle2','restore_plugin.class.php',169],['backup/moodle2','restore_subplugin.class.php',101],['backup/util/plan','restore_structure_step.class.php',158]], 131],
'close': ['close', 'Close archive, write changes to disk. ', [['lib/filestorage','zip_archive.php',183],['lib/dml','mssql_native_moodle_recordset.php',87],['auth/fc','fcFPP.php',78],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib/spout/src/Spout/Reader','ReaderInterface.php',30],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',81],['lib/dml','pdo_moodle_recordset.php',79],['lib','csvlib.class.php',256],['lib/horde/framework/Horde/Socket','Client.php',135],['backup/util/helper','backup_null_iterator.class.php',53],['admin/tool/uploaduser','locallib.php',149],['lib/tcpdf','tcpdf.php',2943],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpmailer','class.smtp.php',582],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/classes/dml','recordset_walk.php',153],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',84],['grade/export','lib.php',689],['lib','excellib.class.php',93],['backup/util/loggers','file_logger.class.php',69],['grade','lib.php',324],['backup/util/helper','backup_array_iterator.class.php',63],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['mod/assign/feedback/offline','importgradeslib.php',204],['lib/dml','oci_native_moodle_recordset.php',80],['lib/adodb','adodb.inc.php',2361],['lib/adodb','adodb.inc.php',3090],['lib/adodb','adodb.inc.php',3870],['lib/google/src/Google/Logger','File.php',132],['lib/phpunit/classes','event_sink.php',39],['lib/horde/framework/Horde','Stream.php',585],['backup/util/loggers','base_logger.class.php',89],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',71],['question/engine/tests','helpers.php',1241],['lib/spout/src/Spout/Writer','AbstractWriter.php',312],['lib','odslib.class.php',71],['lib/spout/src/Spout/Writer/Common/Internal','WorksheetInterface.php',34],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',214],['lib/spout/src/Spout/Writer','WriterInterface.php',84],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',174],['lib/spout/src/Spout/Reader','AbstractReader.php',183],['lib/phpunit/classes','message_sink.php',39],['lib/spout/src/Spout/Writer/Common/Internal','WorkbookInterface.php',65],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',95],['lib/pear/Net','GeoIP.php',556],['lib/tests','completionlib_test.php',907],['lib/pear/Auth','RADIUS.php',550],['lib/pear/Auth','RADIUS.php',710],['lib/pear/Auth','RADIUS.php',829],['lib','webdavlib.php',176],['lib/dml','pgsql_native_moodle_recordset.php',107]], 1128],
'get_records_menu': ['get_records_menu', 'Get the first two columns from a number of records as an associative array where all the given conditions met. ', [['lib/dml','moodle_database.php',1375]], 75],
'add_question_question_answers': ['add_question_question_answers', 'Attach to $element (usually questions) the needed backup structures for question_answers for a given question Used by various qtypes (calculated, essay, multianswer, multichoice, numerical, shortanswer, truefalse) ', [['backup/moodle2','backup_qtype_plugin.class.php',38],['backup/moodle2','restore_qtype_plugin.class.php',50]], 16],
'questions_recode_response_data': ['questions_recode_response_data', 'Recode the respones data for a particular step of an attempt at at particular question. ', [['backup/moodle2','restore_stepslib.php',5175]], 3],
'define_question_plugin_structure': ['define_question_plugin_structure', 'Returns the qtype information to attach to question element ', [['question/type/essay/backup/moodle2','backup_qtype_essay_plugin.class.php',36],['question/type/ddwtos/backup/moodle2','restore_qtype_ddwtos_plugin.class.php',37],['question/type/ddwtos/backup/moodle2','backup_qtype_ddwtos_plugin.class.php',37],['question/type/ddimageortext/backup/moodle2','restore_qtype_ddimageortext_plugin.class.php',42],['question/type/multianswer/backup/moodle2','restore_qtype_multianswer_plugin.class.php',37],['question/type/shortanswer/backup/moodle2','backup_qtype_shortanswer_plugin.class.php',36],['question/type/ddmarker/backup/moodle2','restore_qtype_ddmarker_plugin.class.php',44],['question/type/numerical/backup/moodle2','restore_qtype_numerical_plugin.class.php',37],['question/type/random/backup/moodle2','restore_qtype_random_plugin.class.php',37],['question/type/match/backup/moodle2','backup_qtype_match_plugin.class.php',36],['question/type/randomsamatch/backup/moodle2','backup_qtype_randomsamatch_plugin.class.php',36],['question/type/gapselect/backup/moodle2','restore_qtype_gapselect_plugin.class.php',36],['question/type/multichoice/backup/moodle2','backup_qtype_multichoice_plugin.class.php',36],['question/type/randomsamatch/backup/moodle2','restore_qtype_randomsamatch_plugin.class.php',37],['question/type/multianswer/backup/moodle2','backup_qtype_multianswer_plugin.class.php',36],['question/type/shortanswer/backup/moodle2','restore_qtype_shortanswer_plugin.class.php',37],['question/type/truefalse/backup/moodle2','restore_qtype_truefalse_plugin.class.php',37],['question/type/truefalse/backup/moodle2','backup_qtype_truefalse_plugin.class.php',36],['question/type/ddimageortext/backup/moodle2','backup_qtype_ddimageortext_plugin.class.php',43],['question/type/calculated/backup/moodle2','restore_qtype_calculated_plugin.class.php',37],['question/type/ddmarker/backup/moodle2','backup_qtype_ddmarker_plugin.class.php',43],['question/type/gapselect/backup/moodle2','backup_qtype_gapselect_plugin.class.php',36],['question/type/essay/backup/moodle2','restore_qtype_essay_plugin.class.php',37],['question/type/match/backup/moodle2','restore_qtype_match_plugin.class.php',50],['question/type/calculated/backup/moodle2','backup_qtype_calculated_plugin.class.php',36],['question/type/numerical/backup/moodle2','backup_qtype_numerical_plugin.class.php',36],['question/type/multichoice/backup/moodle2','restore_qtype_multichoice_plugin.class.php',37]], 0],
'log': ['log', '', [], 2031],
'substr_count': ['substr_count', '', [], 72],
'defined': ['defined', '', [], 4731],
'preg_match': ['preg_match', '', [], 1286],
'count': ['count', '', [], 4095],
'preg_split': ['preg_split', '', [], 146],
'implode': ['implode', '', [], 1281],
'explode': ['explode', '', [], 1572]};
CLASS_DATA={
'restore_qtype_multianswer_plugin': ['restore_qtype_multianswer_plugin', 'restore plugin class that provides the necessary information needed to restore one multianswer qtype plugin ', [['question/type/multianswer/backup/moodle2','restore_qtype_multianswer_plugin.class.php',28]], 0],
'question_attempt_step_subquestion_adapter': ['question_attempt_step_subquestion_adapter', 'This is an adapter class that wraps a {@link question_attempt_step} and modifies the get/set_*_data methods so that they operate only on the parts that belong to a particular subquestion, as indicated by an extra prefix. ', [['question/engine','questionattemptstep.php',594]], 2],
'question_attempt_step_read_only': ['question_attempt_step_read_only', 'A subclass of {@link question_attempt_step} that cannot be modified. ', [['question/engine','questionattemptstep.php',549]], 4],
'restore_path_element': ['restore_path_element', 'Class representing one path to be restored from XML file ', [['backup/util/structure','restore_path_element.class.php',27]], 232]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'ANSWER_REGEX_ANSWER_TYPE_MULTICHOICE': ['ANSWER_REGEX_ANSWER_TYPE_MULTICHOICE', '', [['question/type/multianswer','questiontype.php',296]], 4],
'ANSWER_REGEX': ['ANSWER_REGEX', '', [['question/type/multianswer','questiontype.php',286]], 3]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
