<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /question/type/gapselect/questiontypebase.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='question/type/gapselect';
filename='questiontypebase.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/question/type/gapselect/</a> -> <a href="questiontypebase.php.html">questiontypebase.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="questiontypebase.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="questiontypebase.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Question type class for the embedded element in question text question types.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    qtype_gapselect</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  2011 The Open University</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/libdir.html">libdir</a> . '/questionlib.php');
<a name="l28"><span class="linenum">  28</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../question/engine/lib.php.html">/question/engine/lib.php</a>');
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../question/format/xml/format.php.html">/question/format/xml/format.php</a>');
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">/**</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * The embedded element in question text question type class.</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> *</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @copyright  2011 The Open University</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> */</span>
<a name="l38"><span class="linenum">  38</span></a>  abstract class qtype_gapselect_base <span class="keyword">extends</span> <a class="class" onClick="logClass('question_type')" href="../../../_classes/question_type.html" onMouseOver="classPopup(event,'question_type')">question_type</a> {
<a name="l39"><span class="linenum">  39</span></a>      <span class="comment">/**</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     * Choices are stored in the question_answers table, and any options need to</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     * be put into the feedback field somehow. This method is responsible for</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * converting all the options to a single string for this purpose. It is used</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * by {@link save_question_options()}.</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     * @param array $choice the form data relating to this choice.</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * @return string ready to store in the database.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     */</span>
<a name="l47"><span class="linenum">  47</span></a>      protected abstract function <a class="function" onClick="logFunction('choice_options_to_feedback')" href="../../../_functions/choice_options_to_feedback.html" onMouseOver="funcPopup(event,'choice_options_to_feedback')">choice_options_to_feedback</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>);
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>      public function <a class="function" onClick="logFunction('save_question_options')" href="../../../_functions/save_question_options.html" onMouseOver="funcPopup(event,'save_question_options')">save_question_options</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>) {
<a name="l50"><span class="linenum">  50</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l51"><span class="linenum">  51</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('context')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/context.html">context</a>;
<a name="l52"><span class="linenum">  52</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = new stdClass();
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>          <a class="var it5938" onMouseOver="hilite(5938)" onMouseOut="lolite()" onClick="logVariable('oldanswers')" href="../../../_variables/oldanswers.html">$oldanswers</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('question_answers',
<a name="l55"><span class="linenum">  55</span></a>                  array('question' =&gt; <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>), 'id ASC');
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">        // Insert all the new answers.</span>
<a name="l58"><span class="linenum">  58</span></a>          foreach (<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('choices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/choices.html">choices</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> =&gt; <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>) {
<a name="l59"><span class="linenum">  59</span></a>  
<a name="l60"><span class="linenum">  60</span></a>              if (<a class="phpfunction" onClick="logFunction('trim')" href="../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>['answer']) == '') {
<a name="l61"><span class="linenum">  61</span></a>                  continue;
<a name="l62"><span class="linenum">  62</span></a>              }
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>              <a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('choice_options_to_feedback')" href="../../../_functions/choice_options_to_feedback.html" onMouseOver="funcPopup(event,'choice_options_to_feedback')">choice_options_to_feedback</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>);
<a name="l65"><span class="linenum">  65</span></a>  
<a name="l66"><span class="linenum">  66</span></a>              if (<a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it5938" onMouseOver="hilite(5938)" onMouseOut="lolite()" onClick="logVariable('oldanswers')" href="../../../_variables/oldanswers.html">$oldanswers</a>)) {
<a name="l67"><span class="linenum">  67</span></a>                  <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a>-&gt;<a onClick="logVariable('answer')" class="var it43027" onMouseOver="hilite(43027)" onMouseOut="lolite()" href="../../../_variables/answer.html">answer</a> = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>['answer'];
<a name="l68"><span class="linenum">  68</span></a>                  <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a>-&gt;<a onClick="logVariable('feedback')" class="var it43027" onMouseOver="hilite(43027)" onMouseOut="lolite()" href="../../../_variables/feedback.html">feedback</a> = <a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a>;
<a name="l69"><span class="linenum">  69</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('question_answers', <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a>);
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>              } else {
<a name="l72"><span class="linenum">  72</span></a>                  <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a> = new stdClass();
<a name="l73"><span class="linenum">  73</span></a>                  <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a>-&gt;<a onClick="logVariable('question')" class="var it43027" onMouseOver="hilite(43027)" onMouseOut="lolite()" href="../../../_variables/question.html">question</a> = <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l74"><span class="linenum">  74</span></a>                  <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a>-&gt;<a onClick="logVariable('answer')" class="var it43027" onMouseOver="hilite(43027)" onMouseOut="lolite()" href="../../../_variables/answer.html">answer</a> = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>['answer'];
<a name="l75"><span class="linenum">  75</span></a>                  <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a>-&gt;<a onClick="logVariable('answerformat')" class="var it43027" onMouseOver="hilite(43027)" onMouseOut="lolite()" href="../../../_variables/answerformat.html">answerformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l76"><span class="linenum">  76</span></a>                  <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a>-&gt;<a onClick="logVariable('fraction')" class="var it43027" onMouseOver="hilite(43027)" onMouseOut="lolite()" href="../../../_variables/fraction.html">fraction</a> = 0;
<a name="l77"><span class="linenum">  77</span></a>                  <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a>-&gt;<a onClick="logVariable('feedback')" class="var it43027" onMouseOver="hilite(43027)" onMouseOut="lolite()" href="../../../_variables/feedback.html">feedback</a> = <a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a>;
<a name="l78"><span class="linenum">  78</span></a>                  <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it43027" onMouseOver="hilite(43027)" onMouseOut="lolite()" href="../../../_variables/feedbackformat.html">feedbackformat</a> = 0;
<a name="l79"><span class="linenum">  79</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('question_answers', <a class="var it2951" onMouseOver="hilite(2951)" onMouseOut="lolite()" onClick="logVariable('answer')" href="../../../_variables/answer.html">$answer</a>);
<a name="l80"><span class="linenum">  80</span></a>              }
<a name="l81"><span class="linenum">  81</span></a>          }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">        // Delete old answer records.</span>
<a name="l84"><span class="linenum">  84</span></a>          foreach (<a class="var it5938" onMouseOver="hilite(5938)" onMouseOut="lolite()" onClick="logVariable('oldanswers')" href="../../../_variables/oldanswers.html">$oldanswers</a> as <a class="var it13032" onMouseOver="hilite(13032)" onMouseOut="lolite()" onClick="logVariable('oa')" href="../../../_variables/oa.html">$oa</a>) {
<a name="l85"><span class="linenum">  85</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('question_answers', array('id' =&gt; <a class="var it13032" onMouseOver="hilite(13032)" onMouseOut="lolite()" onClick="logVariable('oa')" href="../../../_variables/oa.html">$oa</a>-&gt;<a onClick="logVariable('id')" class="var it43201" onMouseOver="hilite(43201)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>));
<a name="l86"><span class="linenum">  86</span></a>          }
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('question_' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('name')" href="../../../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(),
<a name="l89"><span class="linenum">  89</span></a>                  array('questionid' =&gt; <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>));
<a name="l90"><span class="linenum">  90</span></a>          if (!<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>) {
<a name="l91"><span class="linenum">  91</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a> = new stdClass();
<a name="l92"><span class="linenum">  92</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('questionid')" class="var it42909" onMouseOver="hilite(42909)" onMouseOut="lolite()" href="../../../_variables/questionid.html">questionid</a> = <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l93"><span class="linenum">  93</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('correctfeedback')" class="var it42909" onMouseOver="hilite(42909)" onMouseOut="lolite()" href="../../../_variables/correctfeedback.html">correctfeedback</a> = '';
<a name="l94"><span class="linenum">  94</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('partiallycorrectfeedback')" class="var it42909" onMouseOver="hilite(42909)" onMouseOut="lolite()" href="../../../_variables/partiallycorrectfeedback.html">partiallycorrectfeedback</a> = '';
<a name="l95"><span class="linenum">  95</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('incorrectfeedback')" class="var it42909" onMouseOver="hilite(42909)" onMouseOut="lolite()" href="../../../_variables/incorrectfeedback.html">incorrectfeedback</a> = '';
<a name="l96"><span class="linenum">  96</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('id')" class="var it42909" onMouseOver="hilite(42909)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('question_' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('name')" href="../../../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(), <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>);
<a name="l97"><span class="linenum">  97</span></a>          }
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('shuffleanswers')" class="var it42909" onMouseOver="hilite(42909)" onMouseOut="lolite()" href="../../../_variables/shuffleanswers.html">shuffleanswers</a> = !empty(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('shuffleanswers')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/shuffleanswers.html">shuffleanswers</a>);
<a name="l100"><span class="linenum"> 100</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('save_combined_feedback_helper')" href="../../../_functions/save_combined_feedback_helper.html" onMouseOver="funcPopup(event,'save_combined_feedback_helper')">save_combined_feedback_helper</a>(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>, <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>, true);
<a name="l101"><span class="linenum"> 101</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('question_' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('name')" href="../../../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(), <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>);
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('save_hints')" href="../../../_functions/save_hints.html" onMouseOver="funcPopup(event,'save_hints')">save_hints</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>, true);
<a name="l104"><span class="linenum"> 104</span></a>      }
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>      public function <a class="function" onClick="logFunction('get_question_options')" href="../../../_functions/get_question_options.html" onMouseOver="funcPopup(event,'get_question_options')">get_question_options</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>) {
<a name="l107"><span class="linenum"> 107</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l108"><span class="linenum"> 108</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('options')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/options.html">options</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('question_'.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('name')" href="../../../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(),
<a name="l109"><span class="linenum"> 109</span></a>                  array('questionid' =&gt; <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l110"><span class="linenum"> 110</span></a>          parent::<a class="function" onClick="logFunction('get_question_options')" href="../../../_functions/get_question_options.html" onMouseOver="funcPopup(event,'get_question_options')">get_question_options</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>);
<a name="l111"><span class="linenum"> 111</span></a>      }
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>      public function <a class="function" onClick="logFunction('delete_question')" href="../../../_functions/delete_question.html" onMouseOver="funcPopup(event,'delete_question')">delete_question</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>) {
<a name="l114"><span class="linenum"> 114</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l115"><span class="linenum"> 115</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('question_'.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('name')" href="../../../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a>(), array('questionid' =&gt; <a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>));
<a name="l116"><span class="linenum"> 116</span></a>          return parent::<a class="function" onClick="logFunction('delete_question')" href="../../../_functions/delete_question.html" onMouseOver="funcPopup(event,'delete_question')">delete_question</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>);
<a name="l117"><span class="linenum"> 117</span></a>      }
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>      <span class="comment">/**</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     * Used by {@link initialise_question_instance()} to set up the choice-specific data.</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     * @param object $choicedata as loaded from the question_answers table.</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * @return object an appropriate object for representing the choice.</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     */</span>
<a name="l124"><span class="linenum"> 124</span></a>      protected abstract function <a class="function" onClick="logFunction('make_choice')" href="../../../_functions/make_choice.html" onMouseOver="funcPopup(event,'make_choice')">make_choice</a>(<a class="var it20348" onMouseOver="hilite(20348)" onMouseOut="lolite()" onClick="logVariable('choicedata')" href="../../../_variables/choicedata.html">$choicedata</a>);
<a name="l125"><span class="linenum"> 125</span></a>  
<a name="l126"><span class="linenum"> 126</span></a>      protected function <a class="function" onClick="logFunction('initialise_question_instance')" href="../../../_functions/initialise_question_instance.html" onMouseOver="funcPopup(event,'initialise_question_instance')">initialise_question_instance</a>(question_definition <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>, <a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../../_variables/questiondata.html">$questiondata</a>) {
<a name="l127"><span class="linenum"> 127</span></a>          parent::<a class="function" onClick="logFunction('initialise_question_instance')" href="../../../_functions/initialise_question_instance.html" onMouseOver="funcPopup(event,'initialise_question_instance')">initialise_question_instance</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>, <a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../../_variables/questiondata.html">$questiondata</a>);
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('shufflechoices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/shufflechoices.html">shufflechoices</a> = <a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../../_variables/questiondata.html">$questiondata</a>-&gt;<a onClick="logVariable('options')" class="var it43218" onMouseOver="hilite(43218)" onMouseOut="lolite()" href="../../../_variables/options.html">options</a>-&gt;shuffleanswers;
<a name="l130"><span class="linenum"> 130</span></a>  
<a name="l131"><span class="linenum"> 131</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initialise_combined_feedback')" href="../../../_functions/initialise_combined_feedback.html" onMouseOver="funcPopup(event,'initialise_combined_feedback')">initialise_combined_feedback</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>, <a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../../_variables/questiondata.html">$questiondata</a>, true);
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('choices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/choices.html">choices</a> = array();
<a name="l134"><span class="linenum"> 134</span></a>          <a class="var it24661" onMouseOver="hilite(24661)" onMouseOut="lolite()" onClick="logVariable('choiceindexmap')" href="../../../_variables/choiceindexmap.html">$choiceindexmap</a> = array();
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">        // Store the choices in arrays by group.</span>
<a name="l137"><span class="linenum"> 137</span></a>          <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> = 1;
<a name="l138"><span class="linenum"> 138</span></a>          foreach (<a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../../_variables/questiondata.html">$questiondata</a>-&gt;<a onClick="logVariable('options')" class="var it43218" onMouseOver="hilite(43218)" onMouseOut="lolite()" href="../../../_variables/options.html">options</a>-&gt;answers as <a class="var it20348" onMouseOver="hilite(20348)" onMouseOut="lolite()" onClick="logVariable('choicedata')" href="../../../_variables/choicedata.html">$choicedata</a>) {
<a name="l139"><span class="linenum"> 139</span></a>              <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('make_choice')" href="../../../_functions/make_choice.html" onMouseOver="funcPopup(event,'make_choice')">make_choice</a>(<a class="var it20348" onMouseOver="hilite(20348)" onMouseOut="lolite()" onClick="logVariable('choicedata')" href="../../../_variables/choicedata.html">$choicedata</a>);
<a name="l140"><span class="linenum"> 140</span></a>  
<a name="l141"><span class="linenum"> 141</span></a>              if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a class="function" onClick="logFunction('choice_group')" href="../../../_functions/choice_group.html" onMouseOver="funcPopup(event,'choice_group')">choice_group</a>(), <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('choices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/choices.html">choices</a>)) {
<a name="l142"><span class="linenum"> 142</span></a>                  <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('choices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/choices.html">choices</a>[<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a class="function" onClick="logFunction('choice_group')" href="../../../_functions/choice_group.html" onMouseOver="funcPopup(event,'choice_group')">choice_group</a>()][] = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>;
<a name="l143"><span class="linenum"> 143</span></a>              } else {
<a name="l144"><span class="linenum"> 144</span></a>                  <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('choices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/choices.html">choices</a>[<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a class="function" onClick="logFunction('choice_group')" href="../../../_functions/choice_group.html" onMouseOver="funcPopup(event,'choice_group')">choice_group</a>()][1] = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>;
<a name="l145"><span class="linenum"> 145</span></a>              }
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>              <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('choices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/choices.html">choices</a>[<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a class="function" onClick="logFunction('choice_group')" href="../../../_functions/choice_group.html" onMouseOver="funcPopup(event,'choice_group')">choice_group</a>()]);
<a name="l148"><span class="linenum"> 148</span></a>              <a class="var it24661" onMouseOver="hilite(24661)" onMouseOut="lolite()" onClick="logVariable('choiceindexmap')" href="../../../_variables/choiceindexmap.html">$choiceindexmap</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>] = array(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a class="function" onClick="logFunction('choice_group')" href="../../../_functions/choice_group.html" onMouseOver="funcPopup(event,'choice_group')">choice_group</a>(),
<a name="l149"><span class="linenum"> 149</span></a>                      <a class="phpfunction" onClick="logFunction('key')" href="../../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('choices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/choices.html">choices</a>[<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a class="function" onClick="logFunction('choice_group')" href="../../../_functions/choice_group.html" onMouseOver="funcPopup(event,'choice_group')">choice_group</a>()]));
<a name="l150"><span class="linenum"> 150</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> += 1;
<a name="l151"><span class="linenum"> 151</span></a>          }
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('places')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/places.html">places</a> = array();
<a name="l154"><span class="linenum"> 154</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('textfragments')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/textfragments.html">textfragments</a> = array();
<a name="l155"><span class="linenum"> 155</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('rightchoices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/rightchoices.html">rightchoices</a> = array();
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">        // Break up the question text, and store the fragments, places and right answers.</span>
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>          <a class="var it1926" onMouseOver="hilite(1926)" onMouseOut="lolite()" onClick="logVariable('bits')" href="../../../_variables/bits.html">$bits</a> = <a class="phpfunction" onClick="logFunction('preg_split')" href="../../../_functions/preg_split.html" onMouseOver="phpfuncPopup(event,'preg_split')">preg_split</a>('/\[\[(\d+)]]/', <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('questiontext')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/questiontext.html">questiontext</a>,
<a name="l159"><span class="linenum"> 159</span></a>                  null, PREG_SPLIT_DELIM_CAPTURE);
<a name="l160"><span class="linenum"> 160</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('textfragments')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/textfragments.html">textfragments</a>[0] = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it1926" onMouseOver="hilite(1926)" onMouseOut="lolite()" onClick="logVariable('bits')" href="../../../_variables/bits.html">$bits</a>);
<a name="l161"><span class="linenum"> 161</span></a>          <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> = 1;
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>          while (!empty(<a class="var it1926" onMouseOver="hilite(1926)" onMouseOut="lolite()" onClick="logVariable('bits')" href="../../../_variables/bits.html">$bits</a>)) {
<a name="l164"><span class="linenum"> 164</span></a>              <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it1926" onMouseOver="hilite(1926)" onMouseOut="lolite()" onClick="logVariable('bits')" href="../../../_variables/bits.html">$bits</a>);
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>              <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a>, <a class="var it24664" onMouseOver="hilite(24664)" onMouseOut="lolite()" onClick="logVariable('choiceindex')" href="../../../_variables/choiceindex.html">$choiceindex</a>) = <a class="var it24661" onMouseOver="hilite(24661)" onMouseOut="lolite()" onClick="logVariable('choiceindexmap')" href="../../../_variables/choiceindexmap.html">$choiceindexmap</a>[<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>];
<a name="l167"><span class="linenum"> 167</span></a>              <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('places')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/places.html">places</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>] = <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a>;
<a name="l168"><span class="linenum"> 168</span></a>              <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('rightchoices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/rightchoices.html">rightchoices</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>] = <a class="var it24664" onMouseOver="hilite(24664)" onMouseOut="lolite()" onClick="logVariable('choiceindex')" href="../../../_variables/choiceindex.html">$choiceindex</a>;
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>              <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('textfragments')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/textfragments.html">textfragments</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>] = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it1926" onMouseOver="hilite(1926)" onMouseOut="lolite()" onClick="logVariable('bits')" href="../../../_variables/bits.html">$bits</a>);
<a name="l171"><span class="linenum"> 171</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> += 1;
<a name="l172"><span class="linenum"> 172</span></a>          }
<a name="l173"><span class="linenum"> 173</span></a>      }
<a name="l174"><span class="linenum"> 174</span></a>  
<a name="l175"><span class="linenum"> 175</span></a>      protected function <a class="function" onClick="logFunction('make_hint')" href="../../../_functions/make_hint.html" onMouseOver="funcPopup(event,'make_hint')">make_hint</a>(<a class="var it467" onMouseOver="hilite(467)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../../../_variables/hint.html">$hint</a>) {
<a name="l176"><span class="linenum"> 176</span></a>          return <a class="class" onClick="logClass('question_hint_with_parts')" href="../../../_classes/question_hint_with_parts.html" onMouseOver="classPopup(event,'question_hint_with_parts')">question_hint_with_parts</a>::<a class="function" onClick="logFunction('load_from_record')" href="../../../_functions/load_from_record.html" onMouseOver="funcPopup(event,'load_from_record')">load_from_record</a>(<a class="var it467" onMouseOver="hilite(467)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../../../_variables/hint.html">$hint</a>);
<a name="l177"><span class="linenum"> 177</span></a>      }
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>      public function <a class="function" onClick="logFunction('get_random_guess_score')" href="../../../_functions/get_random_guess_score.html" onMouseOver="funcPopup(event,'get_random_guess_score')">get_random_guess_score</a>(<a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../../_variables/questiondata.html">$questiondata</a>) {
<a name="l180"><span class="linenum"> 180</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('make_question')" href="../../../_functions/make_question.html" onMouseOver="funcPopup(event,'make_question')">make_question</a>(<a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../../_variables/questiondata.html">$questiondata</a>);
<a name="l181"><span class="linenum"> 181</span></a>          return <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a class="function" onClick="logFunction('get_random_guess_score')" href="../../../_functions/get_random_guess_score.html" onMouseOver="funcPopup(event,'get_random_guess_score')">get_random_guess_score</a>();
<a name="l182"><span class="linenum"> 182</span></a>      }
<a name="l183"><span class="linenum"> 183</span></a>  
<a name="l184"><span class="linenum"> 184</span></a>      <span class="comment">/**</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">     * This function should reverse {@link choice_options_to_feedback()}.</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">     * @param string $feedback the data loaded from the database.</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">     * @return array the choice options.</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">     */</span>
<a name="l189"><span class="linenum"> 189</span></a>      protected abstract function <a class="function" onClick="logFunction('feedback_to_choice_options')" href="../../../_functions/feedback_to_choice_options.html" onMouseOver="funcPopup(event,'feedback_to_choice_options')">feedback_to_choice_options</a>(<a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a>);
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>      <span class="comment">/**</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">     * This method gets the choices (answers)</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">     * in a 2 dimentional array.</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">     *</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     * @param object $question</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * @return array of groups</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     */</span>
<a name="l198"><span class="linenum"> 198</span></a>      protected function <a class="function" onClick="logFunction('get_array_of_choices')" href="../../../_functions/get_array_of_choices.html" onMouseOver="funcPopup(event,'get_array_of_choices')">get_array_of_choices</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>) {
<a name="l199"><span class="linenum"> 199</span></a>          <a class="var it460" onMouseOver="hilite(460)" onMouseOut="lolite()" onClick="logVariable('subquestions')" href="../../../_variables/subquestions.html">$subquestions</a> = <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('options')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/options.html">options</a>-&gt;answers;
<a name="l200"><span class="linenum"> 200</span></a>          <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a> = 0;
<a name="l201"><span class="linenum"> 201</span></a>          foreach (<a class="var it460" onMouseOver="hilite(460)" onMouseOut="lolite()" onClick="logVariable('subquestions')" href="../../../_variables/subquestions.html">$subquestions</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> =&gt; <a class="var it6091" onMouseOver="hilite(6091)" onMouseOut="lolite()" onClick="logVariable('subquestion')" href="../../../_variables/subquestion.html">$subquestion</a>) {
<a name="l202"><span class="linenum"> 202</span></a>              <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a>[<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>]['id'] = <a class="var it6091" onMouseOver="hilite(6091)" onMouseOut="lolite()" onClick="logVariable('subquestion')" href="../../../_variables/subquestion.html">$subquestion</a>-&gt;<a onClick="logVariable('id')" class="var it43380" onMouseOver="hilite(43380)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l203"><span class="linenum"> 203</span></a>              <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a>[<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>]['answer'] = <a class="var it6091" onMouseOver="hilite(6091)" onMouseOut="lolite()" onClick="logVariable('subquestion')" href="../../../_variables/subquestion.html">$subquestion</a>-&gt;<a onClick="logVariable('answer')" class="var it43380" onMouseOver="hilite(43380)" onMouseOut="lolite()" href="../../../_variables/answer.html">answer</a>;
<a name="l204"><span class="linenum"> 204</span></a>              <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a>[<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>]['fraction'] = <a class="var it6091" onMouseOver="hilite(6091)" onMouseOut="lolite()" onClick="logVariable('subquestion')" href="../../../_variables/subquestion.html">$subquestion</a>-&gt;<a onClick="logVariable('fraction')" class="var it43380" onMouseOver="hilite(43380)" onMouseOut="lolite()" href="../../../_variables/fraction.html">fraction</a>;
<a name="l205"><span class="linenum"> 205</span></a>              <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a>[<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>] += <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('feedback_to_choice_options')" href="../../../_functions/feedback_to_choice_options.html" onMouseOver="funcPopup(event,'feedback_to_choice_options')">feedback_to_choice_options</a>(<a class="var it6091" onMouseOver="hilite(6091)" onMouseOut="lolite()" onClick="logVariable('subquestion')" href="../../../_variables/subquestion.html">$subquestion</a>-&gt;<a onClick="logVariable('feedback')" class="var it43380" onMouseOver="hilite(43380)" onMouseOut="lolite()" href="../../../_variables/feedback.html">feedback</a>);
<a name="l206"><span class="linenum"> 206</span></a>              <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a>[<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>]['choice'] = <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a> + 1;
<a name="l207"><span class="linenum"> 207</span></a>              ++<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>;
<a name="l208"><span class="linenum"> 208</span></a>          }
<a name="l209"><span class="linenum"> 209</span></a>          return <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a>;
<a name="l210"><span class="linenum"> 210</span></a>      }
<a name="l211"><span class="linenum"> 211</span></a>  
<a name="l212"><span class="linenum"> 212</span></a>      <span class="comment">/**</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">     * This method gets the choices (answers) and sort them by groups</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">     * in a 2 dimentional array.</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">     *</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment">     * @param object $question</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">     * @param object $state Question state object</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment">     * @return array of groups</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment">     */</span>
<a name="l220"><span class="linenum"> 220</span></a>      protected function <a class="function" onClick="logFunction('get_array_of_groups')" href="../../../_functions/get_array_of_groups.html" onMouseOver="funcPopup(event,'get_array_of_groups')">get_array_of_groups</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>, <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../_variables/state.html">$state</a>) {
<a name="l221"><span class="linenum"> 221</span></a>          <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_array_of_choices')" href="../../../_functions/get_array_of_choices.html" onMouseOver="funcPopup(event,'get_array_of_choices')">get_array_of_choices</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>);
<a name="l222"><span class="linenum"> 222</span></a>          <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../_variables/arr.html">$arr</a> = array();
<a name="l223"><span class="linenum"> 223</span></a>          for (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a> = 1; <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a> &lt; <a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a>); <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a>++) {
<a name="l224"><span class="linenum"> 224</span></a>              <a class="var it5801" onMouseOver="hilite(5801)" onMouseOut="lolite()" onClick="logVariable('players')" href="../../../_variables/players.html">$players</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_group_of_players')" href="../../../_functions/get_group_of_players.html" onMouseOver="funcPopup(event,'get_group_of_players')">get_group_of_players</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>, <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../_variables/state.html">$state</a>, <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a>, <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a>);
<a name="l225"><span class="linenum"> 225</span></a>              if (<a class="var it5801" onMouseOver="hilite(5801)" onMouseOut="lolite()" onClick="logVariable('players')" href="../../../_variables/players.html">$players</a>) {
<a name="l226"><span class="linenum"> 226</span></a>                  <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../_variables/arr.html">$arr</a>[<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a>] = <a class="var it5801" onMouseOver="hilite(5801)" onMouseOut="lolite()" onClick="logVariable('players')" href="../../../_variables/players.html">$players</a>;
<a name="l227"><span class="linenum"> 227</span></a>              }
<a name="l228"><span class="linenum"> 228</span></a>          }
<a name="l229"><span class="linenum"> 229</span></a>          return <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../_variables/arr.html">$arr</a>;
<a name="l230"><span class="linenum"> 230</span></a>      }
<a name="l231"><span class="linenum"> 231</span></a>  
<a name="l232"><span class="linenum"> 232</span></a>      <span class="comment">/**</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">     * This method gets the correct answers in a 2 dimentional array.</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">     *</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     * @param object $question</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">     * @return array of groups</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">     */</span>
<a name="l238"><span class="linenum"> 238</span></a>      protected function <a class="function" onClick="logFunction('get_correct_answers')" href="../../../_functions/get_correct_answers.html" onMouseOver="funcPopup(event,'get_correct_answers')">get_correct_answers</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>) {
<a name="l239"><span class="linenum"> 239</span></a>          <a class="var it36378" onMouseOver="hilite(36378)" onMouseOut="lolite()" onClick="logVariable('arrayofchoices')" href="../../../_variables/arrayofchoices.html">$arrayofchoices</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_array_of_choices')" href="../../../_functions/get_array_of_choices.html" onMouseOver="funcPopup(event,'get_array_of_choices')">get_array_of_choices</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>);
<a name="l240"><span class="linenum"> 240</span></a>          <a class="var it36379" onMouseOver="hilite(36379)" onMouseOut="lolite()" onClick="logVariable('arrayofplaceholdeers')" href="../../../_variables/arrayofplaceholdeers.html">$arrayofplaceholdeers</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_array_of_placeholders')" href="../../../_functions/get_array_of_placeholders.html" onMouseOver="funcPopup(event,'get_array_of_placeholders')">get_array_of_placeholders</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>);
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>          <a class="var it36380" onMouseOver="hilite(36380)" onMouseOut="lolite()" onClick="logVariable('correctplayers')" href="../../../_variables/correctplayers.html">$correctplayers</a> = array();
<a name="l243"><span class="linenum"> 243</span></a>          foreach (<a class="var it36379" onMouseOver="hilite(36379)" onMouseOut="lolite()" onClick="logVariable('arrayofplaceholdeers')" href="../../../_variables/arrayofplaceholdeers.html">$arrayofplaceholdeers</a> as <a class="var it17107" onMouseOver="hilite(17107)" onMouseOut="lolite()" onClick="logVariable('ph')" href="../../../_variables/ph.html">$ph</a>) {
<a name="l244"><span class="linenum"> 244</span></a>              foreach (<a class="var it36378" onMouseOver="hilite(36378)" onMouseOut="lolite()" onClick="logVariable('arrayofchoices')" href="../../../_variables/arrayofchoices.html">$arrayofchoices</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> =&gt; <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>) {
<a name="l245"><span class="linenum"> 245</span></a>                  if (<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> + 1 == <a class="var it17107" onMouseOver="hilite(17107)" onMouseOut="lolite()" onClick="logVariable('ph')" href="../../../_variables/ph.html">$ph</a>) {
<a name="l246"><span class="linenum"> 246</span></a>                      <a class="var it36380" onMouseOver="hilite(36380)" onMouseOut="lolite()" onClick="logVariable('correctplayers')" href="../../../_variables/correctplayers.html">$correctplayers</a>[] = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>;
<a name="l247"><span class="linenum"> 247</span></a>                  }
<a name="l248"><span class="linenum"> 248</span></a>              }
<a name="l249"><span class="linenum"> 249</span></a>          }
<a name="l250"><span class="linenum"> 250</span></a>          return <a class="var it36380" onMouseOver="hilite(36380)" onMouseOut="lolite()" onClick="logVariable('correctplayers')" href="../../../_variables/correctplayers.html">$correctplayers</a>;
<a name="l251"><span class="linenum"> 251</span></a>      }
<a name="l252"><span class="linenum"> 252</span></a>  
<a name="l253"><span class="linenum"> 253</span></a>      <span class="comment">/**</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">     * Return the list of groups used in a question.</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">     * @param stdClass $question the question data.</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">     * @return array the groups used, or false if an error occurs.</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     */</span>
<a name="l258"><span class="linenum"> 258</span></a>      protected function <a class="function" onClick="logFunction('get_array_of_placeholders')" href="../../../_functions/get_array_of_placeholders.html" onMouseOver="funcPopup(event,'get_array_of_placeholders')">get_array_of_placeholders</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>) {
<a name="l259"><span class="linenum"> 259</span></a>          <a class="var it5517" onMouseOver="hilite(5517)" onMouseOut="lolite()" onClick="logVariable('qtext')" href="../../../_variables/qtext.html">$qtext</a> = <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('questiontext')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/questiontext.html">questiontext</a>;
<a name="l260"><span class="linenum"> 260</span></a>          <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../../_variables/error.html">$error</a> = '&lt;b&gt; ERROR&lt;/b&gt;: Please check the form for this question. ';
<a name="l261"><span class="linenum"> 261</span></a>          if (!<a class="var it5517" onMouseOver="hilite(5517)" onMouseOut="lolite()" onClick="logVariable('qtext')" href="../../../_variables/qtext.html">$qtext</a>) {
<a name="l262"><span class="linenum"> 262</span></a>              echo <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../../_variables/error.html">$error</a> . 'The question text is empty!';
<a name="l263"><span class="linenum"> 263</span></a>              return false;
<a name="l264"><span class="linenum"> 264</span></a>          }
<a name="l265"><span class="linenum"> 265</span></a>  
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">        // Get the slots.</span>
<a name="l267"><span class="linenum"> 267</span></a>          <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;getEmbeddedTextArray(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>);
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>          if (!<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>) {
<a name="l270"><span class="linenum"> 270</span></a>              echo <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../../_variables/error.html">$error</a> . 'The question text is not in the correct format!';
<a name="l271"><span class="linenum"> 271</span></a>              return false;
<a name="l272"><span class="linenum"> 272</span></a>          }
<a name="l273"><span class="linenum"> 273</span></a>  
<a name="l274"><span class="linenum"> 274</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../_variables/output.html">$output</a> = array();
<a name="l275"><span class="linenum"> 275</span></a>          foreach (<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> as <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>) {
<a name="l276"><span class="linenum"> 276</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../_variables/output.html">$output</a>[] = <a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>, 2, <a class="function" onClick="logFunction('strlen')" href="../../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>) - 4); <span class="comment">// 2 is for '[[' and 4 is for '[[]]'.</span>
<a name="l277"><span class="linenum"> 277</span></a>          }
<a name="l278"><span class="linenum"> 278</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../_variables/output.html">$output</a>;
<a name="l279"><span class="linenum"> 279</span></a>      }
<a name="l280"><span class="linenum"> 280</span></a>  
<a name="l281"><span class="linenum"> 281</span></a>      protected function <a class="function" onClick="logFunction('get_group_of_players')" href="../../../_functions/get_group_of_players.html" onMouseOver="funcPopup(event,'get_group_of_players')">get_group_of_players</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>, <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../_variables/state.html">$state</a>, <a class="var it460" onMouseOver="hilite(460)" onMouseOut="lolite()" onClick="logVariable('subquestions')" href="../../../_variables/subquestions.html">$subquestions</a>, <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a>) {
<a name="l282"><span class="linenum"> 282</span></a>          <a class="var it36381" onMouseOver="hilite(36381)" onMouseOut="lolite()" onClick="logVariable('goupofanswers')" href="../../../_variables/goupofanswers.html">$goupofanswers</a> = array();
<a name="l283"><span class="linenum"> 283</span></a>          foreach (<a class="var it460" onMouseOver="hilite(460)" onMouseOut="lolite()" onClick="logVariable('subquestions')" href="../../../_variables/subquestions.html">$subquestions</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> =&gt; <a class="var it6091" onMouseOver="hilite(6091)" onMouseOut="lolite()" onClick="logVariable('subquestion')" href="../../../_variables/subquestion.html">$subquestion</a>) {
<a name="l284"><span class="linenum"> 284</span></a>              if (<a class="var it6091" onMouseOver="hilite(6091)" onMouseOut="lolite()" onClick="logVariable('subquestion')" href="../../../_variables/subquestion.html">$subquestion</a>[<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('choice_group_key')" href="../../../_functions/choice_group_key.html" onMouseOver="funcPopup(event,'choice_group_key')">choice_group_key</a>()] == <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a>) {
<a name="l285"><span class="linenum"> 285</span></a>                  <a class="var it36381" onMouseOver="hilite(36381)" onMouseOut="lolite()" onClick="logVariable('goupofanswers')" href="../../../_variables/goupofanswers.html">$goupofanswers</a>[] = <a class="var it6091" onMouseOver="hilite(6091)" onMouseOut="lolite()" onClick="logVariable('subquestion')" href="../../../_variables/subquestion.html">$subquestion</a>;
<a name="l286"><span class="linenum"> 286</span></a>              }
<a name="l287"><span class="linenum"> 287</span></a>          }
<a name="l288"><span class="linenum"> 288</span></a>  
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">        // Shuffle answers within this group.</span>
<a name="l290"><span class="linenum"> 290</span></a>          if (<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('options')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/options.html">options</a>-&gt;shuffleanswers == 1) {
<a name="l291"><span class="linenum"> 291</span></a>              <a class="phpfunction" onClick="logFunction('shuffle')" href="../../../_functions/shuffle.html" onMouseOver="phpfuncPopup(event,'shuffle')">shuffle</a>(<a class="var it36381" onMouseOver="hilite(36381)" onMouseOut="lolite()" onClick="logVariable('goupofanswers')" href="../../../_variables/goupofanswers.html">$goupofanswers</a>);
<a name="l292"><span class="linenum"> 292</span></a>          }
<a name="l293"><span class="linenum"> 293</span></a>          return <a class="var it36381" onMouseOver="hilite(36381)" onMouseOut="lolite()" onClick="logVariable('goupofanswers')" href="../../../_variables/goupofanswers.html">$goupofanswers</a>;
<a name="l294"><span class="linenum"> 294</span></a>      }
<a name="l295"><span class="linenum"> 295</span></a>  
<a name="l296"><span class="linenum"> 296</span></a>      public function <a class="function" onClick="logFunction('get_possible_responses')" href="../../../_functions/get_possible_responses.html" onMouseOver="funcPopup(event,'get_possible_responses')">get_possible_responses</a>(<a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../../_variables/questiondata.html">$questiondata</a>) {
<a name="l297"><span class="linenum"> 297</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('make_question')" href="../../../_functions/make_question.html" onMouseOver="funcPopup(event,'make_question')">make_question</a>(<a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('questiondata')" href="../../../_variables/questiondata.html">$questiondata</a>);
<a name="l298"><span class="linenum"> 298</span></a>  
<a name="l299"><span class="linenum"> 299</span></a>          <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../../_variables/parts.html">$parts</a> = array();
<a name="l300"><span class="linenum"> 300</span></a>          foreach (<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('places')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/places.html">places</a> as <a class="var it6830" onMouseOver="hilite(6830)" onMouseOut="lolite()" onClick="logVariable('place')" href="../../../_variables/place.html">$place</a> =&gt; <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a>) {
<a name="l301"><span class="linenum"> 301</span></a>              <a class="var it1191" onMouseOver="hilite(1191)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../../../_variables/choices.html">$choices</a> = array();
<a name="l302"><span class="linenum"> 302</span></a>  
<a name="l303"><span class="linenum"> 303</span></a>              foreach (<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('choices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/choices.html">choices</a>[<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../../_variables/group.html">$group</a>] as <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> =&gt; <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>) {
<a name="l304"><span class="linenum"> 304</span></a>                  <a class="var it1191" onMouseOver="hilite(1191)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../../../_variables/choices.html">$choices</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('question_possible_response')" href="../../../_classes/question_possible_response.html" onMouseOver="classPopup(event,'question_possible_response')">question_possible_response</a>(
<a name="l305"><span class="linenum"> 305</span></a>                          <a class="function" onClick="logFunction('html_to_text')" href="../../../_functions/html_to_text.html" onMouseOver="funcPopup(event,'html_to_text')">html_to_text</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('text')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/text.html">text</a>, 0, false),
<a name="l306"><span class="linenum"> 306</span></a>                          (<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('rightchoices')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/rightchoices.html">rightchoices</a>[<a class="var it6830" onMouseOver="hilite(6830)" onMouseOut="lolite()" onClick="logVariable('place')" href="../../../_variables/place.html">$place</a>] == <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>) / <a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('places')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../_variables/places.html">places</a>));
<a name="l307"><span class="linenum"> 307</span></a>              }
<a name="l308"><span class="linenum"> 308</span></a>              <a class="var it1191" onMouseOver="hilite(1191)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../../../_variables/choices.html">$choices</a>[null] = <a class="class" onClick="logClass('question_possible_response')" href="../../../_classes/question_possible_response.html" onMouseOver="classPopup(event,'question_possible_response')">question_possible_response</a>::<a class="function" onClick="logFunction('no_response')" href="../../../_functions/no_response.html" onMouseOver="funcPopup(event,'no_response')">no_response</a>();
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>              <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../../_variables/parts.html">$parts</a>[<a class="var it6830" onMouseOver="hilite(6830)" onMouseOut="lolite()" onClick="logVariable('place')" href="../../../_variables/place.html">$place</a>] = <a class="var it1191" onMouseOver="hilite(1191)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../../../_variables/choices.html">$choices</a>;
<a name="l311"><span class="linenum"> 311</span></a>          }
<a name="l312"><span class="linenum"> 312</span></a>  
<a name="l313"><span class="linenum"> 313</span></a>          return <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../../_variables/parts.html">$parts</a>;
<a name="l314"><span class="linenum"> 314</span></a>      }
<a name="l315"><span class="linenum"> 315</span></a>  
<a name="l316"><span class="linenum"> 316</span></a>      public function <a class="function" onClick="logFunction('move_files')" href="../../../_functions/move_files.html" onMouseOver="funcPopup(event,'move_files')">move_files</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>, <a class="var it5968" onMouseOver="hilite(5968)" onMouseOut="lolite()" onClick="logVariable('oldcontextid')" href="../../../_variables/oldcontextid.html">$oldcontextid</a>, <a class="var it5969" onMouseOver="hilite(5969)" onMouseOut="lolite()" onClick="logVariable('newcontextid')" href="../../../_variables/newcontextid.html">$newcontextid</a>) {
<a name="l317"><span class="linenum"> 317</span></a>          parent::<a class="function" onClick="logFunction('move_files')" href="../../../_functions/move_files.html" onMouseOver="funcPopup(event,'move_files')">move_files</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>, <a class="var it5968" onMouseOver="hilite(5968)" onMouseOut="lolite()" onClick="logVariable('oldcontextid')" href="../../../_variables/oldcontextid.html">$oldcontextid</a>, <a class="var it5969" onMouseOver="hilite(5969)" onMouseOut="lolite()" onClick="logVariable('newcontextid')" href="../../../_variables/newcontextid.html">$newcontextid</a>);
<a name="l318"><span class="linenum"> 318</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('move_files_in_combined_feedback')" href="../../../_functions/move_files_in_combined_feedback.html" onMouseOver="funcPopup(event,'move_files_in_combined_feedback')">move_files_in_combined_feedback</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>, <a class="var it5968" onMouseOver="hilite(5968)" onMouseOut="lolite()" onClick="logVariable('oldcontextid')" href="../../../_variables/oldcontextid.html">$oldcontextid</a>, <a class="var it5969" onMouseOver="hilite(5969)" onMouseOut="lolite()" onClick="logVariable('newcontextid')" href="../../../_variables/newcontextid.html">$newcontextid</a>);
<a name="l319"><span class="linenum"> 319</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('move_files_in_hints')" href="../../../_functions/move_files_in_hints.html" onMouseOver="funcPopup(event,'move_files_in_hints')">move_files_in_hints</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>, <a class="var it5968" onMouseOver="hilite(5968)" onMouseOut="lolite()" onClick="logVariable('oldcontextid')" href="../../../_variables/oldcontextid.html">$oldcontextid</a>, <a class="var it5969" onMouseOver="hilite(5969)" onMouseOut="lolite()" onClick="logVariable('newcontextid')" href="../../../_variables/newcontextid.html">$newcontextid</a>);
<a name="l320"><span class="linenum"> 320</span></a>      }
<a name="l321"><span class="linenum"> 321</span></a>  
<a name="l322"><span class="linenum"> 322</span></a>      protected function <a class="function" onClick="logFunction('delete_files')" href="../../../_functions/delete_files.html" onMouseOver="funcPopup(event,'delete_files')">delete_files</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>) {
<a name="l323"><span class="linenum"> 323</span></a>          parent::<a class="function" onClick="logFunction('delete_files')" href="../../../_functions/delete_files.html" onMouseOver="funcPopup(event,'delete_files')">delete_files</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>);
<a name="l324"><span class="linenum"> 324</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('delete_files_in_combined_feedback')" href="../../../_functions/delete_files_in_combined_feedback.html" onMouseOver="funcPopup(event,'delete_files_in_combined_feedback')">delete_files_in_combined_feedback</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>);
<a name="l325"><span class="linenum"> 325</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('delete_files_in_hints')" href="../../../_functions/delete_files_in_hints.html" onMouseOver="funcPopup(event,'delete_files_in_hints')">delete_files_in_hints</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a>);
<a name="l326"><span class="linenum"> 326</span></a>      }
<a name="l327"><span class="linenum"> 327</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'initialise_combined_feedback': ['initialise_combined_feedback', 'Initialise the combined feedback fields. ', [['question/type','questiontypebase.php',896],['question/type/ddmarker','questiontype.php',246]], 7],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'save_combined_feedback_helper': ['save_combined_feedback_helper', 'Can be used to {@link save_question_options()} to transfer the combined feedback fields from $formdata to $options. ', [['question/type','questiontypebase.php',713]], 7],
'choice_group': ['choice_group', 'Returns the group of this item. ', [['question/type/ddwtos','question.php',74],['question/type/ddwtos','edit_ddwtos_form.php',50],['question/type/gapselect','question.php',66],['question/type/ddimageortext','question.php',81],['question/type/ddmarker','question.php',432],['question/type/gapselect','edit_form_base.php',169]], 15],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'choice_group_key': ['choice_group_key', '', [['question/type/ddwtos','questiontype.php',41],['question/type/gapselect','questiontype.php',54],['question/type/ddimageortext','questiontypebase.php',40]], 1],
'get_array_of_groups': ['get_array_of_groups', 'This method gets the choices (answers) and sort them by groups in a 2 dimentional array. ', [['question/type/gapselect','questiontypebase.php',212]], 0],
'make_choice': ['make_choice', '', [['question/type/ddwtos','questiontype.php',57],['question/type/gapselect','questiontype.php',45],['question/type/ddmarker','questiontype.php',238],['question/type/ddimageortext','questiontype.php',43]], 3],
'get_possible_responses': ['get_possible_responses', 'This method should return all the possible types of response that are recognised for this question. ', [['question/type','questiontypebase.php',1018],['question/type/calculated','questiontype.php',1760],['question/type/numerical','questiontype.php',419],['question/type/multichoice','questiontype.php',203],['question/type/ddimageortext','questiontypebase.php',174],['question/type/truefalse','questiontype.php',173],['question/type/match','questiontype.php',159],['question/type/shortanswer','questiontype.php',101],['question/type/gapselect','questiontypebase.php',296],['question/type/calculatedmulti','questiontype.php',273]], 20],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'get_array_of_choices': ['get_array_of_choices', 'This method gets the choices (answers) in a 2 dimentional array. ', [['question/type/gapselect','questiontypebase.php',191]], 2],
'delete_files_in_combined_feedback': ['delete_files_in_combined_feedback', 'Delete all the files belonging to this question\'s answers. ', [['question/type','questiontypebase.php',1379]], 6],
'move_files_in_combined_feedback': ['move_files_in_combined_feedback', 'Move all the files belonging to this question\'s answers when the question is moved from one context to another. ', [['question/type','questiontypebase.php',1309]], 6],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'move_files_in_hints': ['move_files_in_hints', 'Move all the files belonging to this question\'s hints when the question is moved from one context to another. ', [['question/type','questiontypebase.php',1288]], 11],
'html_to_text': ['html_to_text', 'Given HTML text, make it into plain text using external function ', [['lib','weblib.php',1947],['question/type','questionbase.php',367]], 65],
'delete_question': ['delete_question', 'Deletes the question-type specific data when a question is deleted. ', [['question/type','questiontypebase.php',951],['question/type/calculated','questiontype.php',676],['question/type/multianswer','questiontype.php',189],['question/type/numerical','questiontype.php',378],['question/type/multichoice','questiontype.php',182],['question/type/ddimageortext','questiontypebase.php',197],['question/type/truefalse','questiontype.php',152],['question/type/match','questiontype.php',146],['question/type/gapselect','questiontypebase.php',113],['question/type/randomsamatch','questiontype.php',100],['question/type/essay','questiontype.php',91]], 11],
'move_files': ['move_files', 'Move all the files belonging to this question from one context to another. ', [['question/type','questiontypebase.php',1248],['question/type/calculated','questiontype.php',1797],['question/type/multianswer','questiontype.php',236],['question/type/numerical','questiontype.php',471],['question/type/multichoice','questiontype.php',243],['question/type/truefalse','questiontype.php',159],['question/type/match','questiontype.php',180],['question/type/ddmarker','questiontype.php',252],['question/type/shortanswer','questiontype.php',45],['question/type/gapselect','questiontypebase.php',316],['backup/cc','entities.class.php',200],['question/type/ddimageortext','questiontype.php',146],['question/type/randomsamatch','questiontype.php',107],['question/type/calculatedmulti','questiontype.php',296],['question/type/essay','questiontype.php',158]], 16],
'choice_options_to_feedback': ['choice_options_to_feedback', '', [['question/type/ddwtos','questiontype.php',45],['question/type/gapselect','questiontype.php',41]], 2],
'get_random_guess_score': ['get_random_guess_score', '', [['question/type','questiontypebase.php',1004],['question/classes/statistics/questions','calculator.php',460],['question/type/gapselect','questionbase.php',161],['question/type/calculated','questiontype.php',699],['question/type/multianswer','questiontype.php',225],['question/type/numerical','questiontype.php',387],['question/type/multichoice','questiontype.php',189],['question/type/missingtype','questiontype.php',87],['question/type/ddimageortext','questiontypebase.php',193],['question/type/ddmarker','question.php',393],['question/type/truefalse','questiontype.php',169],['question/type/random','questiontype.php',255],['mod/quiz/report/statistics/tests','statistics_test.php',64],['question/type/match','questiontype.php',154],['question/type/ddmarker','questiontype.php',374],['question/type/shortanswer','questiontype.php',92],['question/type/description','questiontype.php',66],['question/type/gapselect','questiontypebase.php',179],['question/type/randomsamatch','questiontype.php',168],['question/type/ddimageortext','questionbase.php',136]], 30],
'load_from_record': ['load_from_record', 'Create a basic hint from a row loaded from the question_hints table in the database. ', [['question/type','questionbase.php',880],['question/type','questionbase.php',928],['question/type/ddmarker','questiontype.php',62]], 10],
'no_response': ['no_response', '', [['question/type','questiontypebase.php',1453],['question/type','questionbase.php',543]], 53],
'make_question': ['make_question', 'Create an appropriate question_definition for the question of this type using data loaded from the database. ', [['question/type','questiontypebase.php',807],['question/engine','bank.php',282],['question/type/missingtype','questiontype.php',54],['question/type/random','questiontype.php',214],['question/engine/tests','helpers.php',269]], 266],
'make_hint': ['make_hint', 'Create a question_hint, or an appropriate subclass for this question, from a row loaded from the database. ', [['question/type','questiontypebase.php',886],['question/type/multianswer','questiontype.php',185],['question/type/multichoice','questiontype.php',159],['question/type/match','questiontype.php',142],['question/type/ddmarker','questiontype.php',235],['question/type/gapselect','questiontypebase.php',175],['question/type/ddimageortext','questiontype.php',54],['question/type/randomsamatch','questiontype.php',96]], 1],
'delete_files_in_hints': ['delete_files_in_hints', 'Delete all the files belonging to this question\'s hints. ', [['question/type','questiontypebase.php',1363]], 11],
'save_question_options': ['save_question_options', 'Saves question-type specific options ', [['question/type','questiontypebase.php',412],['question/type/calculated','questiontype.php',133],['question/type/multianswer','questiontype.php',80],['question/type/numerical','questiontype.php',149],['question/type/multichoice','questiontype.php',47],['question/type/truefalse','questiontype.php',39],['question/type/random','questiontype.php',161],['question/type/match','questiontype.php',50],['question/type/ddmarker','questiontype.php',88],['question/type/shortanswer','questiontype.php',57],['question/type/calculatedsimple','questiontype.php',43],['question/type/gapselect','questiontypebase.php',39],['question/type/ddimageortext','questiontype.php',58],['question/type/randomsamatch','questiontype.php',64],['question/type/calculatedmulti','questiontype.php',41],['question/type/essay','questiontype.php',54]], 3],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'save_hints': ['save_hints', '', [['question/type','questiontypebase.php',602],['question/type/ddmarker','questiontype.php',164]], 13],
'get_question_options': ['get_question_options', 'Loads the question type specific options for the question. ', [['question/type','questiontypebase.php',743],['question/type/calculated','questiontype.php',48],['question/type/multianswer','questiontype.php',44],['question/type/numerical','questiontype.php',55],['lib','questionlib.php',798],['question/type/multichoice','questiontype.php',40],['question/type/ddimageortext','questiontypebase.php',49],['question/type/truefalse','questiontype.php',111],['question/type/random','questiontype.php',118],['question/type/match','questiontype.php',40],['question/type/gapselect','questiontypebase.php',106],['question/type/randomsamatch','questiontype.php',54],['question/type/essay','questiontype.php',47]], 19],
'get_group_of_players': ['get_group_of_players', '', [['question/type/gapselect','questiontypebase.php',281]], 1],
'delete_files': ['delete_files', 'Delete all the files belonging to this question. ', [['question/type','questiontypebase.php',1331],['question/type/calculated','questiontype.php',1805],['question/type/multianswer','questiontype.php',241],['question/type/numerical','questiontype.php',479],['question/type/multichoice','questiontype.php',250],['question/type/truefalse','questiontype.php',164],['question/type/match','questiontype.php',197],['question/type/ddmarker','questiontype.php',264],['question/type/shortanswer','questiontype.php',51],['question/type/gapselect','questiontypebase.php',322],['question/type/ddimageortext','questiontype.php',164],['question/type/randomsamatch','questiontype.php',114],['question/type/calculatedmulti','questiontype.php',311],['question/type/essay','questiontype.php',165]], 14],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'initialise_question_instance': ['initialise_question_instance', 'Initialise the common question_definition fields. ', [['question/type','questiontypebase.php',832],['question/type/calculated','questiontype.php',322],['question/type/multianswer','questiontype.php',196],['question/type/numerical','questiontype.php',344],['question/type/multichoice','questiontype.php',163],['question/type/ddimageortext','questiontypebase.php',61],['question/type/truefalse','questiontype.php',134],['question/type/match','questiontype.php',116],['question/type/shortanswer','questiontype.php',87],['question/type/gapselect','questiontypebase.php',119],['question/type/randomsamatch','questiontype.php',121],['question/type/calculatedmulti','questiontype.php',183],['question/type/essay','questiontype.php',78]], 13],
'get_correct_answers': ['get_correct_answers', 'This method gets the correct answers in a 2 dimentional array. ', [['question/type/gapselect','questiontypebase.php',232]], 0],
'feedback_to_choice_options': ['feedback_to_choice_options', '', [['question/type/ddwtos','questiontype.php',52],['question/type/gapselect','questiontype.php',49]], 2],
'get_array_of_placeholders': ['get_array_of_placeholders', 'Return the list of groups used in a question. ', [['question/type/gapselect','questiontypebase.php',253]], 1],
'array_key_exists': ['array_key_exists', '', [], 1445],
'name': ['name', '', [], 118],
'defined': ['defined', '', [], 4731],
'array_shift': ['array_shift', '', [], 700],
'substr': ['substr', '', [], 2823],
'end': ['end', '', [], 433],
'shuffle': ['shuffle', '', [], 27],
'key': ['key', '', [], 204],
'preg_split': ['preg_split', '', [], 146],
'count': ['count', '', [], 4095],
'trim': ['trim', '', [], 1948]};
CLASS_DATA={
'question_type': ['question_type', 'This is the base class for Moodle question types. ', [['question/type','questiontypebase.php',32]], 15],
'question_hint_with_parts': ['question_hint_with_parts', 'An extension of {@link question_hint} for questions like match and multiple choice with multile answers, where there are options for whether to show the number of parts right at each stage, and to reset the wrong parts. ', [['question/type','questionbase.php',899]], 76],
'question_possible_response': ['question_possible_response', 'This class is used in the return value from {@link question_type::get_possible_responses()}. ', [['question/type','questiontypebase.php',1424]], 84]};
CONST_DATA={
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 1121],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
