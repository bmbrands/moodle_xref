<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /blog/lib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='blog';
filename='lib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/blog/</a> -> <a href="lib.php.html">lib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Core global functions for Blog.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    moodlecore</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @subpackage blog</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2009 Nicolas Connault</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/*</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * Library of functions and constants for blog</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> */</span>
<a name="l31"><span class="linenum">  31</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> .'<a class="filename" href="../blog/rsslib.php.html">/blog/rsslib.php</a>');
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/**</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * User can edit a blog entry if this is their own blog entry and they have</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * the capability moodle/blog:create, or if they have the capability</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * moodle/blog:manageentries.</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * This also applies to deleting of entries.</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> */</span>
<a name="l40"><span class="linenum">  40</span></a>  function <a class="function" onClick="logFunction('blog_user_can_edit_entry')" href="../_functions/blog_user_can_edit_entry.html" onMouseOver="funcPopup(event,'blog_user_can_edit_entry')">blog_user_can_edit_entry</a>(<a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a>) {
<a name="l41"><span class="linenum">  41</span></a>      global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>      <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:manageentries', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>)) {
<a name="l46"><span class="linenum">  46</span></a>          return true; <span class="comment">// Can edit any blog entry.</span>
<a name="l47"><span class="linenum">  47</span></a>      }
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>      if (<a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a>-&gt;<a onClick="logVariable('userid')" class="var it44587" onMouseOver="hilite(44587)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a> == <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a> &amp;&amp; <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:create', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>)) {
<a name="l50"><span class="linenum">  50</span></a>          return true; <span class="comment">// Can edit own when having blog:create capability.</span>
<a name="l51"><span class="linenum">  51</span></a>      }
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>      return false;
<a name="l54"><span class="linenum">  54</span></a>  }
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">/**</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> * Checks to see if a user can view the blogs of another user.</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> * Only blog level is checked here, the capabilities are enforced</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * in blog/index.php</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> */</span>
<a name="l62"><span class="linenum">  62</span></a>  function <a class="function" onClick="logFunction('blog_user_can_view_user_entry')" href="../_functions/blog_user_can_view_user_entry.html" onMouseOver="funcPopup(event,'blog_user_can_view_user_entry')">blog_user_can_view_user_entry</a>(<a class="var it33123" onMouseOver="hilite(33123)" onMouseOut="lolite()" onClick="logVariable('targetuserid')" href="../_variables/targetuserid.html">$targetuserid</a>, <a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a>=null) {
<a name="l63"><span class="linenum">  63</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>      if (empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('enableblogs')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/enableblogs.html">enableblogs</a>)) {
<a name="l66"><span class="linenum">  66</span></a>          return false; <span class="comment">// Blog system disabled.</span>
<a name="l67"><span class="linenum">  67</span></a>      }
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>      if (<a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>() &amp;&amp; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it33123" onMouseOver="hilite(33123)" onMouseOut="lolite()" onClick="logVariable('targetuserid')" href="../_variables/targetuserid.html">$targetuserid</a>) {
<a name="l70"><span class="linenum">  70</span></a>          return true; <span class="comment">// Can view own entries in any case.</span>
<a name="l71"><span class="linenum">  71</span></a>      }
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>      <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l74"><span class="linenum">  74</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:manageentries', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>)) {
<a name="l75"><span class="linenum">  75</span></a>          return true; <span class="comment">// Can manage all entries.</span>
<a name="l76"><span class="linenum">  76</span></a>      }
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">    // If blog is in draft state, then make sure user have proper capability.</span>
<a name="l79"><span class="linenum">  79</span></a>      if (<a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a> &amp;&amp; <a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a>-&gt;<a onClick="logVariable('publishstate')" class="var it44587" onMouseOver="hilite(44587)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a> == 'draft' &amp;&amp; !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:viewdrafts', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>)) {
<a name="l80"><span class="linenum">  80</span></a>          return false;  <span class="comment">// Can not view draft of others.</span>
<a name="l81"><span class="linenum">  81</span></a>      }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">    // If blog entry is not public, make sure user is logged in.</span>
<a name="l84"><span class="linenum">  84</span></a>      if (<a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a> &amp;&amp; <a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a>-&gt;<a onClick="logVariable('publishstate')" class="var it44587" onMouseOver="hilite(44587)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a> != 'public' &amp;&amp; !<a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>()) {
<a name="l85"><span class="linenum">  85</span></a>          return false;
<a name="l86"><span class="linenum">  86</span></a>      }
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">    // If blogentry is not passed or all above checks pass, then check capability based on system config.</span>
<a name="l89"><span class="linenum">  89</span></a>      switch (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('bloglevel')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/bloglevel.html">bloglevel</a>) {
<a name="l90"><span class="linenum">  90</span></a>          case <a class="constant" onClick="logConstant('BLOG_GLOBAL_LEVEL')" href="../_constants/BLOG_GLOBAL_LEVEL.html" onMouseOver="constPopup(event,'BLOG_GLOBAL_LEVEL')">BLOG_GLOBAL_LEVEL</a>:
<a name="l91"><span class="linenum">  91</span></a>              return true;
<a name="l92"><span class="linenum">  92</span></a>          break;
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>          case <a class="constant" onClick="logConstant('BLOG_SITE_LEVEL')" href="../_constants/BLOG_SITE_LEVEL.html" onMouseOver="constPopup(event,'BLOG_SITE_LEVEL')">BLOG_SITE_LEVEL</a>:
<a name="l95"><span class="linenum">  95</span></a>              if (<a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>()) { // Not logged in viewers forbidden.
<a name="l96"><span class="linenum">  96</span></a>                  return true;
<a name="l97"><span class="linenum">  97</span></a>              }
<a name="l98"><span class="linenum">  98</span></a>              return false;
<a name="l99"><span class="linenum">  99</span></a>          break;
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>          case <a class="constant" onClick="logConstant('BLOG_USER_LEVEL')" href="../_constants/BLOG_USER_LEVEL.html" onMouseOver="constPopup(event,'BLOG_USER_LEVEL')">BLOG_USER_LEVEL</a>:
<a name="l102"><span class="linenum"> 102</span></a>          default:
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">            // If user is viewing other user blog, then user should have user:readuserblogs capability.</span>
<a name="l104"><span class="linenum"> 104</span></a>              <a class="var it4777" onMouseOver="hilite(4777)" onMouseOut="lolite()" onClick="logVariable('personalcontext')" href="../_variables/personalcontext.html">$personalcontext</a> = <a class="class" onClick="logClass('context_user')" href="../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it33123" onMouseOver="hilite(33123)" onMouseOut="lolite()" onClick="logVariable('targetuserid')" href="../_variables/targetuserid.html">$targetuserid</a>);
<a name="l105"><span class="linenum"> 105</span></a>              return <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/user:readuserblogs', <a class="var it4777" onMouseOver="hilite(4777)" onMouseOut="lolite()" onClick="logVariable('personalcontext')" href="../_variables/personalcontext.html">$personalcontext</a>);
<a name="l106"><span class="linenum"> 106</span></a>          break;
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>      }
<a name="l109"><span class="linenum"> 109</span></a>  }
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">/**</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment"> * remove all associations for the blog entries of a particular user</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment"> * @param int userid - id of user whose blog associations will be deleted</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment"> */</span>
<a name="l115"><span class="linenum"> 115</span></a>  function <a class="function" onClick="logFunction('blog_remove_associations_for_user')" href="../_functions/blog_remove_associations_for_user.html" onMouseOver="funcPopup(event,'blog_remove_associations_for_user')">blog_remove_associations_for_user</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) {
<a name="l116"><span class="linenum"> 116</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l117"><span class="linenum"> 117</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('function <a class="function" onClick="logFunction('blog_remove_associations_for_user')" href="../_functions/blog_remove_associations_for_user.html" onMouseOver="funcPopup(event,'blog_remove_associations_for_user')">blog_remove_associations_for_user</a>() is not finished');
<a name="l118"><span class="linenum"> 118</span></a>      <span class="comment">/*</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">    $blogentries = blog_fetch_entries(array('user' =&gt; $userid), 'lasmodified DESC');</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">    foreach ($blogentries as $entry) {</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">        if (blog_user_can_edit_entry($entry)) {</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">            blog_remove_associations_for_entry($entry-&gt;id);</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">        }</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">    }</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     */</span>
<a name="l126"><span class="linenum"> 126</span></a>  }
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">/**</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment"> * remove all associations for the blog entries of a particular course</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment"> * @param int courseid - id of user whose blog associations will be deleted</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment"> */</span>
<a name="l132"><span class="linenum"> 132</span></a>  function <a class="function" onClick="logFunction('blog_remove_associations_for_course')" href="../_functions/blog_remove_associations_for_course.html" onMouseOver="funcPopup(event,'blog_remove_associations_for_course')">blog_remove_associations_for_course</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l133"><span class="linenum"> 133</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l134"><span class="linenum"> 134</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l135"><span class="linenum"> 135</span></a>      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('blog_association', array('contextid' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l136"><span class="linenum"> 136</span></a>  }
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">/**</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment"> * Given a record in the {blog_external} table, checks the blog's URL</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment"> * for new entries not yet copied into Moodle.</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment"> * Also attempts to identify and remove deleted blog entries</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment"> *</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment"> * @param object $externalblog</span>
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment"> * @return boolean False if the Feed is invalid</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment"> */</span>
<a name="l146"><span class="linenum"> 146</span></a>  function <a class="function" onClick="logFunction('blog_sync_external_entries')" href="../_functions/blog_sync_external_entries.html" onMouseOver="funcPopup(event,'blog_sync_external_entries')">blog_sync_external_entries</a>(<a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>) {
<a name="l147"><span class="linenum"> 147</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l148"><span class="linenum"> 148</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a> . '/simplepie/moodle_simplepie.php');
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>      <a class="var it1874" onMouseOver="hilite(1874)" onMouseOut="lolite()" onClick="logVariable('rss')" href="../_variables/rss.html">$rss</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_simplepie')" href="../_classes/moodle_simplepie.html" onMouseOver="classPopup(event,'moodle_simplepie')">moodle_simplepie</a>();
<a name="l151"><span class="linenum"> 151</span></a>      <a class="var it33125" onMouseOver="hilite(33125)" onMouseOut="lolite()" onClick="logVariable('rssfile')" href="../_variables/rssfile.html">$rssfile</a> = <a class="var it1874" onMouseOver="hilite(1874)" onMouseOut="lolite()" onClick="logVariable('rss')" href="../_variables/rss.html">$rss</a>-&gt;<a onClick="logVariable('registry')" class="var it44583" onMouseOver="hilite(44583)" onMouseOut="lolite()" href="../_variables/registry.html">registry</a>-&gt;<a class="function" onClick="logFunction('create')" href="../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('File', array(<a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('url')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/url.html">url</a>));
<a name="l152"><span class="linenum"> 152</span></a>      <a class="var it33126" onMouseOver="hilite(33126)" onMouseOut="lolite()" onClick="logVariable('filetest')" href="../_variables/filetest.html">$filetest</a> = <a class="var it1874" onMouseOver="hilite(1874)" onMouseOut="lolite()" onClick="logVariable('rss')" href="../_variables/rss.html">$rss</a>-&gt;<a onClick="logVariable('registry')" class="var it44583" onMouseOver="hilite(44583)" onMouseOut="lolite()" href="../_variables/registry.html">registry</a>-&gt;<a class="function" onClick="logFunction('create')" href="../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('Locator', array(<a class="var it33125" onMouseOver="hilite(33125)" onMouseOut="lolite()" onClick="logVariable('rssfile')" href="../_variables/rssfile.html">$rssfile</a>));
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>      if (!<a class="var it33126" onMouseOver="hilite(33126)" onMouseOut="lolite()" onClick="logVariable('filetest')" href="../_variables/filetest.html">$filetest</a>-&gt;<a class="function" onClick="logFunction('is_feed')" href="../_functions/is_feed.html" onMouseOver="funcPopup(event,'is_feed')">is_feed</a>(<a class="var it33125" onMouseOver="hilite(33125)" onMouseOut="lolite()" onClick="logVariable('rssfile')" href="../_variables/rssfile.html">$rssfile</a>)) {
<a name="l155"><span class="linenum"> 155</span></a>          <a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('failedlastsync')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/failedlastsync.html">failedlastsync</a> = 1;
<a name="l156"><span class="linenum"> 156</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('blog_external', <a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>);
<a name="l157"><span class="linenum"> 157</span></a>          return false;
<a name="l158"><span class="linenum"> 158</span></a>      } else if (!empty(<a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('failedlastsync')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/failedlastsync.html">failedlastsync</a>)) {
<a name="l159"><span class="linenum"> 159</span></a>          <a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('failedlastsync')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/failedlastsync.html">failedlastsync</a> = 0;
<a name="l160"><span class="linenum"> 160</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('blog_external', <a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>);
<a name="l161"><span class="linenum"> 161</span></a>      }
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>      <a class="var it1874" onMouseOver="hilite(1874)" onMouseOut="lolite()" onClick="logVariable('rss')" href="../_variables/rss.html">$rss</a>-&gt;<a class="function" onClick="logFunction('set_feed_url')" href="../_functions/set_feed_url.html" onMouseOver="funcPopup(event,'set_feed_url')">set_feed_url</a>(<a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('url')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/url.html">url</a>);
<a name="l164"><span class="linenum"> 164</span></a>      <a class="var it1874" onMouseOver="hilite(1874)" onMouseOut="lolite()" onClick="logVariable('rss')" href="../_variables/rss.html">$rss</a>-&gt;<a class="function" onClick="logFunction('init')" href="../_functions/init.html" onMouseOver="funcPopup(event,'init')">init</a>();
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>      if (empty(<a class="var it1874" onMouseOver="hilite(1874)" onMouseOut="lolite()" onClick="logVariable('rss')" href="../_variables/rss.html">$rss</a>-&gt;<a onClick="logVariable('data')" class="var it44583" onMouseOver="hilite(44583)" onMouseOut="lolite()" href="../_variables/data.html">data</a>)) {
<a name="l167"><span class="linenum"> 167</span></a>          return null;
<a name="l168"><span class="linenum"> 168</span></a>      }
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">    // Used to identify blog posts that have been deleted from the source feed.</span>
<a name="l170"><span class="linenum"> 170</span></a>      <a class="var it33128" onMouseOver="hilite(33128)" onMouseOut="lolite()" onClick="logVariable('oldesttimestamp')" href="../_variables/oldesttimestamp.html">$oldesttimestamp</a> = null;
<a name="l171"><span class="linenum"> 171</span></a>      <a class="var it33129" onMouseOver="hilite(33129)" onMouseOut="lolite()" onClick="logVariable('uniquehashes')" href="../_variables/uniquehashes.html">$uniquehashes</a> = array();
<a name="l172"><span class="linenum"> 172</span></a>  
<a name="l173"><span class="linenum"> 173</span></a>      foreach (<a class="var it1874" onMouseOver="hilite(1874)" onMouseOut="lolite()" onClick="logVariable('rss')" href="../_variables/rss.html">$rss</a>-&gt;<a class="function" onClick="logFunction('get_items')" href="../_functions/get_items.html" onMouseOver="funcPopup(event,'get_items')">get_items</a>() as <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>) {
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">        // If filtertags are defined, use them to filter the entries by RSS category.</span>
<a name="l175"><span class="linenum"> 175</span></a>          if (!empty(<a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('filtertags')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/filtertags.html">filtertags</a>)) {
<a name="l176"><span class="linenum"> 176</span></a>              <a class="var it33130" onMouseOver="hilite(33130)" onMouseOut="lolite()" onClick="logVariable('containsfiltertag')" href="../_variables/containsfiltertag.html">$containsfiltertag</a> = false;
<a name="l177"><span class="linenum"> 177</span></a>              <a class="var it2425" onMouseOver="hilite(2425)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a> = <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>-&gt;<a class="function" onClick="logFunction('get_categories')" href="../_functions/get_categories.html" onMouseOver="funcPopup(event,'get_categories')">get_categories</a>();
<a name="l178"><span class="linenum"> 178</span></a>              <a class="var it22045" onMouseOver="hilite(22045)" onMouseOut="lolite()" onClick="logVariable('filtertags')" href="../_variables/filtertags.html">$filtertags</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('filtertags')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/filtertags.html">filtertags</a>);
<a name="l179"><span class="linenum"> 179</span></a>              <a class="var it22045" onMouseOver="hilite(22045)" onMouseOut="lolite()" onClick="logVariable('filtertags')" href="../_variables/filtertags.html">$filtertags</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('trim', <a class="var it22045" onMouseOver="hilite(22045)" onMouseOut="lolite()" onClick="logVariable('filtertags')" href="../_variables/filtertags.html">$filtertags</a>);
<a name="l180"><span class="linenum"> 180</span></a>              <a class="var it22045" onMouseOver="hilite(22045)" onMouseOut="lolite()" onClick="logVariable('filtertags')" href="../_variables/filtertags.html">$filtertags</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('strtolower', <a class="var it22045" onMouseOver="hilite(22045)" onMouseOut="lolite()" onClick="logVariable('filtertags')" href="../_variables/filtertags.html">$filtertags</a>);
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>              if (!empty(<a class="var it2425" onMouseOver="hilite(2425)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a>)) {
<a name="l183"><span class="linenum"> 183</span></a>                  foreach (<a class="var it2425" onMouseOver="hilite(2425)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a> as <a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l184"><span class="linenum"> 184</span></a>                      if (<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('strtolower')" href="../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('term')" class="var it42970" onMouseOver="hilite(42970)" onMouseOut="lolite()" href="../_variables/term.html">term</a>)), <a class="var it22045" onMouseOver="hilite(22045)" onMouseOut="lolite()" onClick="logVariable('filtertags')" href="../_variables/filtertags.html">$filtertags</a>)) {
<a name="l185"><span class="linenum"> 185</span></a>                          <a class="var it33130" onMouseOver="hilite(33130)" onMouseOut="lolite()" onClick="logVariable('containsfiltertag')" href="../_variables/containsfiltertag.html">$containsfiltertag</a> = true;
<a name="l186"><span class="linenum"> 186</span></a>                      }
<a name="l187"><span class="linenum"> 187</span></a>                  }
<a name="l188"><span class="linenum"> 188</span></a>              }
<a name="l189"><span class="linenum"> 189</span></a>  
<a name="l190"><span class="linenum"> 190</span></a>              if (!<a class="var it33130" onMouseOver="hilite(33130)" onMouseOut="lolite()" onClick="logVariable('containsfiltertag')" href="../_variables/containsfiltertag.html">$containsfiltertag</a>) {
<a name="l191"><span class="linenum"> 191</span></a>                  continue;
<a name="l192"><span class="linenum"> 192</span></a>              }
<a name="l193"><span class="linenum"> 193</span></a>          }
<a name="l194"><span class="linenum"> 194</span></a>  
<a name="l195"><span class="linenum"> 195</span></a>          <a class="var it33129" onMouseOver="hilite(33129)" onMouseOut="lolite()" onClick="logVariable('uniquehashes')" href="../_variables/uniquehashes.html">$uniquehashes</a>[] = <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>-&gt;<a class="function" onClick="logFunction('get_permalink')" href="../_functions/get_permalink.html" onMouseOver="funcPopup(event,'get_permalink')">get_permalink</a>();
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>          <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a> = new stdClass();
<a name="l198"><span class="linenum"> 198</span></a>          <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('userid')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a> = <a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('userid')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>;
<a name="l199"><span class="linenum"> 199</span></a>          <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('module')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/module.html">module</a> = 'blog_external';
<a name="l200"><span class="linenum"> 200</span></a>          <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('content')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/content.html">content</a> = <a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('id')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l201"><span class="linenum"> 201</span></a>          <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('uniquehash')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/uniquehash.html">uniquehash</a> = <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>-&gt;<a class="function" onClick="logFunction('get_permalink')" href="../_functions/get_permalink.html" onMouseOver="funcPopup(event,'get_permalink')">get_permalink</a>();
<a name="l202"><span class="linenum"> 202</span></a>          <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('publishstate')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a> = 'site';
<a name="l203"><span class="linenum"> 203</span></a>          <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('format')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/format.html">format</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">        // Clean subject of html, just in case.</span>
<a name="l205"><span class="linenum"> 205</span></a>          <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('subject')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/subject.html">subject</a> = <a class="function" onClick="logFunction('clean_param')" href="../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>-&gt;<a class="function" onClick="logFunction('get_title')" href="../_functions/get_title.html" onMouseOver="funcPopup(event,'get_title')">get_title</a>(), <a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>);
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">        // Observe 128 max chars in DB.</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">        // TODO: +1 to raise this to 255.</span>
<a name="l208"><span class="linenum"> 208</span></a>          if (<a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('subject')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/subject.html">subject</a>) &gt; 128) {
<a name="l209"><span class="linenum"> 209</span></a>              <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('subject')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/subject.html">subject</a> = <a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('subject')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/subject.html">subject</a>, 0, 125) . '...';
<a name="l210"><span class="linenum"> 210</span></a>          }
<a name="l211"><span class="linenum"> 211</span></a>          <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('summary')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/summary.html">summary</a> = <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>-&gt;<a class="function" onClick="logFunction('get_description')" href="../_functions/get_description.html" onMouseOver="funcPopup(event,'get_description')">get_description</a>();
<a name="l212"><span class="linenum"> 212</span></a>  
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">        // Used to decide whether to insert or update.</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">        // Uses enty permalink plus creation date if available.</span>
<a name="l215"><span class="linenum"> 215</span></a>          <a class="var it33131" onMouseOver="hilite(33131)" onMouseOut="lolite()" onClick="logVariable('existingpostconditions')" href="../_variables/existingpostconditions.html">$existingpostconditions</a> = array('uniquehash' =&gt; <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>-&gt;<a class="function" onClick="logFunction('get_permalink')" href="../_functions/get_permalink.html" onMouseOver="funcPopup(event,'get_permalink')">get_permalink</a>());
<a name="l216"><span class="linenum"> 216</span></a>  
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">        // Our DB doesnt allow null creation or modified timestamps so check the external blog supplied one.</span>
<a name="l218"><span class="linenum"> 218</span></a>          <a class="var it33132" onMouseOver="hilite(33132)" onMouseOut="lolite()" onClick="logVariable('entrydate')" href="../_variables/entrydate.html">$entrydate</a> = <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>-&gt;<a class="function" onClick="logFunction('get_date')" href="../_functions/get_date.html" onMouseOver="funcPopup(event,'get_date')">get_date</a>('U');
<a name="l219"><span class="linenum"> 219</span></a>          if (!empty(<a class="var it33132" onMouseOver="hilite(33132)" onMouseOut="lolite()" onClick="logVariable('entrydate')" href="../_variables/entrydate.html">$entrydate</a>)) {
<a name="l220"><span class="linenum"> 220</span></a>              <a class="var it33131" onMouseOver="hilite(33131)" onMouseOut="lolite()" onClick="logVariable('existingpostconditions')" href="../_variables/existingpostconditions.html">$existingpostconditions</a>['created'] = <a class="var it33132" onMouseOver="hilite(33132)" onMouseOut="lolite()" onClick="logVariable('entrydate')" href="../_variables/entrydate.html">$entrydate</a>;
<a name="l221"><span class="linenum"> 221</span></a>          }
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">        // The post ID or false if post not found in DB.</span>
<a name="l224"><span class="linenum"> 224</span></a>          <a class="var it23839" onMouseOver="hilite(23839)" onMouseOut="lolite()" onClick="logVariable('postid')" href="../_variables/postid.html">$postid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('post', 'id', <a class="var it33131" onMouseOver="hilite(33131)" onMouseOut="lolite()" onClick="logVariable('existingpostconditions')" href="../_variables/existingpostconditions.html">$existingpostconditions</a>);
<a name="l225"><span class="linenum"> 225</span></a>  
<a name="l226"><span class="linenum"> 226</span></a>          <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../_variables/timestamp.html">$timestamp</a> = null;
<a name="l227"><span class="linenum"> 227</span></a>          if (empty(<a class="var it33132" onMouseOver="hilite(33132)" onMouseOut="lolite()" onClick="logVariable('entrydate')" href="../_variables/entrydate.html">$entrydate</a>)) {
<a name="l228"><span class="linenum"> 228</span></a>              <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../_variables/timestamp.html">$timestamp</a> = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l229"><span class="linenum"> 229</span></a>          } else {
<a name="l230"><span class="linenum"> 230</span></a>              <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../_variables/timestamp.html">$timestamp</a> = <a class="var it33132" onMouseOver="hilite(33132)" onMouseOut="lolite()" onClick="logVariable('entrydate')" href="../_variables/entrydate.html">$entrydate</a>;
<a name="l231"><span class="linenum"> 231</span></a>          }
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">        // Only set created if its a new post so we retain the original creation timestamp if the post is edited.</span>
<a name="l234"><span class="linenum"> 234</span></a>          if (<a class="var it23839" onMouseOver="hilite(23839)" onMouseOut="lolite()" onClick="logVariable('postid')" href="../_variables/postid.html">$postid</a> === false) {
<a name="l235"><span class="linenum"> 235</span></a>              <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('created')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/created.html">created</a> = <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../_variables/timestamp.html">$timestamp</a>;
<a name="l236"><span class="linenum"> 236</span></a>          }
<a name="l237"><span class="linenum"> 237</span></a>          <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('lastmodified')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/lastmodified.html">lastmodified</a> = <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../_variables/timestamp.html">$timestamp</a>;
<a name="l238"><span class="linenum"> 238</span></a>  
<a name="l239"><span class="linenum"> 239</span></a>          if (empty(<a class="var it33128" onMouseOver="hilite(33128)" onMouseOut="lolite()" onClick="logVariable('oldesttimestamp')" href="../_variables/oldesttimestamp.html">$oldesttimestamp</a>) || <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../_variables/timestamp.html">$timestamp</a> &lt; <a class="var it33128" onMouseOver="hilite(33128)" onMouseOut="lolite()" onClick="logVariable('oldesttimestamp')" href="../_variables/oldesttimestamp.html">$oldesttimestamp</a>) {
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">            // Found an older post.</span>
<a name="l241"><span class="linenum"> 241</span></a>              <a class="var it33128" onMouseOver="hilite(33128)" onMouseOut="lolite()" onClick="logVariable('oldesttimestamp')" href="../_variables/oldesttimestamp.html">$oldesttimestamp</a> = <a class="var it1769" onMouseOver="hilite(1769)" onMouseOut="lolite()" onClick="logVariable('timestamp')" href="../_variables/timestamp.html">$timestamp</a>;
<a name="l242"><span class="linenum"> 242</span></a>          }
<a name="l243"><span class="linenum"> 243</span></a>  
<a name="l244"><span class="linenum"> 244</span></a>          if (<a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('uniquehash')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/uniquehash.html">uniquehash</a>) &gt; 255) {
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">            // The URL for this item is too long for the field. Rather than add</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">            // the entry without the link we will skip straight over it.</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">            // RSS spec says recommended length 500, we use 255.</span>
<a name="l248"><span class="linenum"> 248</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('External blog entry skipped because of oversized URL', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l249"><span class="linenum"> 249</span></a>              continue;
<a name="l250"><span class="linenum"> 250</span></a>          }
<a name="l251"><span class="linenum"> 251</span></a>  
<a name="l252"><span class="linenum"> 252</span></a>          if (<a class="var it23839" onMouseOver="hilite(23839)" onMouseOut="lolite()" onClick="logVariable('postid')" href="../_variables/postid.html">$postid</a> === false) {
<a name="l253"><span class="linenum"> 253</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('post', <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>);
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">            // Set tags.</span>
<a name="l256"><span class="linenum"> 256</span></a>              if (<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags_array')" href="../_functions/get_item_tags_array.html" onMouseOver="funcPopup(event,'get_item_tags_array')">get_item_tags_array</a>('core', 'blog_external', <a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('id')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l257"><span class="linenum"> 257</span></a>                  <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('set_item_tags')" href="../_functions/set_item_tags.html" onMouseOver="funcPopup(event,'set_item_tags')">set_item_tags</a>('core', 'post', <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>, <a class="class" onClick="logClass('context_user')" href="../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('userid')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>), <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>);
<a name="l258"><span class="linenum"> 258</span></a>              }
<a name="l259"><span class="linenum"> 259</span></a>          } else {
<a name="l260"><span class="linenum"> 260</span></a>              <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>-&gt;<a onClick="logVariable('id')" class="var it44119" onMouseOver="hilite(44119)" onMouseOut="lolite()" href="../_variables/id.html">id</a> = <a class="var it23839" onMouseOver="hilite(23839)" onMouseOut="lolite()" onClick="logVariable('postid')" href="../_variables/postid.html">$postid</a>;
<a name="l261"><span class="linenum"> 261</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('post', <a class="var it28433" onMouseOver="hilite(28433)" onMouseOut="lolite()" onClick="logVariable('newentry')" href="../_variables/newentry.html">$newentry</a>);
<a name="l262"><span class="linenum"> 262</span></a>          }
<a name="l263"><span class="linenum"> 263</span></a>      }
<a name="l264"><span class="linenum"> 264</span></a>  
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">    // Look at the posts we have in the database to check if any of them have been deleted from the feed.</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">    // Only checking posts within the time frame returned by the rss feed. Older items may have been deleted or</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment">    // may just not be returned anymore. We can't tell the difference so we leave older posts alone.</span>
<a name="l268"><span class="linenum"> 268</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT id, uniquehash
<a name="l269"><span class="linenum"> 269</span></a>                FROM {post}
<a name="l270"><span class="linenum"> 270</span></a>               WHERE module = 'blog_external'
<a name="l271"><span class="linenum"> 271</span></a>                     AND &quot; . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_compare_text')" href="../_functions/sql_compare_text.html" onMouseOver="funcPopup(event,'sql_compare_text')">sql_compare_text</a>('content') . &quot; = &quot; . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_compare_text')" href="../_functions/sql_compare_text.html" onMouseOver="funcPopup(event,'sql_compare_text')">sql_compare_text</a>(':blogid') . &quot;
<a name="l272"><span class="linenum"> 272</span></a>                     AND created &gt; :ts&quot;;
<a name="l273"><span class="linenum"> 273</span></a>      <a class="var it33133" onMouseOver="hilite(33133)" onMouseOut="lolite()" onClick="logVariable('dbposts')" href="../_variables/dbposts.html">$dbposts</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, array('blogid' =&gt; <a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('id')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'ts' =&gt; <a class="var it33128" onMouseOver="hilite(33128)" onMouseOut="lolite()" onClick="logVariable('oldesttimestamp')" href="../_variables/oldesttimestamp.html">$oldesttimestamp</a>));
<a name="l274"><span class="linenum"> 274</span></a>  
<a name="l275"><span class="linenum"> 275</span></a>      <a class="var it9224" onMouseOver="hilite(9224)" onMouseOut="lolite()" onClick="logVariable('todelete')" href="../_variables/todelete.html">$todelete</a> = array();
<a name="l276"><span class="linenum"> 276</span></a>      foreach (<a class="var it33133" onMouseOver="hilite(33133)" onMouseOut="lolite()" onClick="logVariable('dbposts')" href="../_variables/dbposts.html">$dbposts</a> as <a class="var it33134" onMouseOver="hilite(33134)" onMouseOut="lolite()" onClick="logVariable('dbpost')" href="../_variables/dbpost.html">$dbpost</a>) {
<a name="l277"><span class="linenum"> 277</span></a>          if ( !<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it33134" onMouseOver="hilite(33134)" onMouseOut="lolite()" onClick="logVariable('dbpost')" href="../_variables/dbpost.html">$dbpost</a>-&gt;<a onClick="logVariable('uniquehash')" class="var it44589" onMouseOver="hilite(44589)" onMouseOut="lolite()" href="../_variables/uniquehash.html">uniquehash</a>, <a class="var it33129" onMouseOver="hilite(33129)" onMouseOut="lolite()" onClick="logVariable('uniquehashes')" href="../_variables/uniquehashes.html">$uniquehashes</a>) ) {
<a name="l278"><span class="linenum"> 278</span></a>              <a class="var it9224" onMouseOver="hilite(9224)" onMouseOut="lolite()" onClick="logVariable('todelete')" href="../_variables/todelete.html">$todelete</a>[] = <a class="var it33134" onMouseOver="hilite(33134)" onMouseOut="lolite()" onClick="logVariable('dbpost')" href="../_variables/dbpost.html">$dbpost</a>-&gt;<a onClick="logVariable('id')" class="var it44589" onMouseOver="hilite(44589)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l279"><span class="linenum"> 279</span></a>          }
<a name="l280"><span class="linenum"> 280</span></a>      }
<a name="l281"><span class="linenum"> 281</span></a>      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records_list')" href="../_functions/delete_records_list.html" onMouseOver="funcPopup(event,'delete_records_list')">delete_records_list</a>('post', 'id', <a class="var it9224" onMouseOver="hilite(9224)" onMouseOut="lolite()" onClick="logVariable('todelete')" href="../_variables/todelete.html">$todelete</a>);
<a name="l282"><span class="linenum"> 282</span></a>  
<a name="l283"><span class="linenum"> 283</span></a>      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('blog_external', array('id' =&gt; <a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('id')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'timefetched' =&gt; <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>()));
<a name="l284"><span class="linenum"> 284</span></a>  }
<a name="l285"><span class="linenum"> 285</span></a>  
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">/**</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment"> * Given an external blog object, deletes all related blog entries from the post table.</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment"> * NOTE: The external blog's id is saved as post.content, a field that is not oterhwise used by blog entries.</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment"> * @param object $externablog</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment"> */</span>
<a name="l291"><span class="linenum"> 291</span></a>  function <a class="function" onClick="logFunction('blog_delete_external_entries')" href="../_functions/blog_delete_external_entries.html" onMouseOver="funcPopup(event,'blog_delete_external_entries')">blog_delete_external_entries</a>(<a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>) {
<a name="l292"><span class="linenum"> 292</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l293"><span class="linenum"> 293</span></a>      <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/blog:manageexternal', <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>());
<a name="l294"><span class="linenum"> 294</span></a>      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records_select')" href="../_functions/delete_records_select.html" onMouseOver="funcPopup(event,'delete_records_select')">delete_records_select</a>('post',
<a name="l295"><span class="linenum"> 295</span></a>                                 &quot;module='blog_external' AND &quot; . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_compare_text')" href="../_functions/sql_compare_text.html" onMouseOver="funcPopup(event,'sql_compare_text')">sql_compare_text</a>('content') . &quot; = ?&quot;,
<a name="l296"><span class="linenum"> 296</span></a>                                 array(<a class="var it33124" onMouseOver="hilite(33124)" onMouseOut="lolite()" onClick="logVariable('externalblog')" href="../_variables/externalblog.html">$externalblog</a>-&gt;<a onClick="logVariable('id')" class="var it44588" onMouseOver="hilite(44588)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l297"><span class="linenum"> 297</span></a>  }
<a name="l298"><span class="linenum"> 298</span></a>  
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">/**</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment"> * This function checks that blogs are enabled, and that the user can see blogs at all</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment"> * @return bool</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment"> */</span>
<a name="l303"><span class="linenum"> 303</span></a>  function <a class="function" onClick="logFunction('blog_is_enabled_for_user')" href="../_functions/blog_is_enabled_for_user.html" onMouseOver="funcPopup(event,'blog_is_enabled_for_user')">blog_is_enabled_for_user</a>() {
<a name="l304"><span class="linenum"> 304</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l305"><span class="linenum"> 305</span></a>      return (!empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('enableblogs')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/enableblogs.html">enableblogs</a>) &amp;&amp; (<a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>() || (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('bloglevel')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/bloglevel.html">bloglevel</a> == <a class="constant" onClick="logConstant('BLOG_GLOBAL_LEVEL')" href="../_constants/BLOG_GLOBAL_LEVEL.html" onMouseOver="constPopup(event,'BLOG_GLOBAL_LEVEL')">BLOG_GLOBAL_LEVEL</a>)));
<a name="l306"><span class="linenum"> 306</span></a>  }
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">/**</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment"> * This function gets all of the options available for the current user in respect</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment"> * to blogs.</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment"> *</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment"> * It loads the following if applicable:</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment"> * -  Module options {@see blog_get_options_for_module}</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment"> * -  Course options {@see blog_get_options_for_course}</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment"> * -  User specific options {@see blog_get_options_for_user}</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment"> * -  General options (BLOG_LEVEL_GLOBAL)</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment"> *</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment"> * @param moodle_page $page The page to load for (normally $PAGE)</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment"> * @param stdClass $userid Load for a specific user</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment"> * @return array An array of options organised by type.</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment"> */</span>
<a name="l322"><span class="linenum"> 322</span></a>  function <a class="function" onClick="logFunction('blog_get_all_options')" href="../_functions/blog_get_all_options.html" onMouseOver="funcPopup(event,'blog_get_all_options')">blog_get_all_options</a>(moodle_page <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, stdClass <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = null) {
<a name="l323"><span class="linenum"> 323</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l324"><span class="linenum"> 324</span></a>  
<a name="l325"><span class="linenum"> 325</span></a>      <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array();
<a name="l326"><span class="linenum"> 326</span></a>  
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">    // If blogs are enabled and the user is logged in and not a guest.</span>
<a name="l328"><span class="linenum"> 328</span></a>      if (<a class="function" onClick="logFunction('blog_is_enabled_for_user')" href="../_functions/blog_is_enabled_for_user.html" onMouseOver="funcPopup(event,'blog_is_enabled_for_user')">blog_is_enabled_for_user</a>()) {
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">        // If the context is the user then assume we want to load for the users context.</span>
<a name="l330"><span class="linenum"> 330</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) &amp;&amp; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('context')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../_variables/context.html">context</a>-&gt;contextlevel == <a class="constant" onClick="logConstant('CONTEXT_USER')" href="../_constants/CONTEXT_USER.html" onMouseOver="constPopup(event,'CONTEXT_USER')">CONTEXT_USER</a>) {
<a name="l331"><span class="linenum"> 331</span></a>              <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('context')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../_variables/context.html">context</a>-&gt;instanceid;
<a name="l332"><span class="linenum"> 332</span></a>          }
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">        // Check the userid var.</span>
<a name="l334"><span class="linenum"> 334</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) &amp;&amp; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> !== <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">            // Load the user from the userid... it MUST EXIST throw a wobbly if it doesn't!</span>
<a name="l336"><span class="linenum"> 336</span></a>              <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('id' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l337"><span class="linenum"> 337</span></a>          } else {
<a name="l338"><span class="linenum"> 338</span></a>              <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = null;
<a name="l339"><span class="linenum"> 339</span></a>          }
<a name="l340"><span class="linenum"> 340</span></a>  
<a name="l341"><span class="linenum"> 341</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('useblogassociations')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/useblogassociations.html">useblogassociations</a> &amp;&amp; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('cm')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../_variables/cm.html">cm</a> !== null) {
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">            // Load for the module associated with the page.</span>
<a name="l343"><span class="linenum"> 343</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>[<a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>] = <a class="function" onClick="logFunction('blog_get_options_for_module')" href="../_functions/blog_get_options_for_module.html" onMouseOver="funcPopup(event,'blog_get_options_for_module')">blog_get_options_for_module</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('cm')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../_variables/cm.html">cm</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l344"><span class="linenum"> 344</span></a>          } else if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('useblogassociations')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/useblogassociations.html">useblogassociations</a> &amp;&amp; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('course')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../_variables/course.html">course</a>-&gt;id != <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment">            // Load the options for the course associated with the page.</span>
<a name="l346"><span class="linenum"> 346</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>[<a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a>] = <a class="function" onClick="logFunction('blog_get_options_for_course')" href="../_functions/blog_get_options_for_course.html" onMouseOver="funcPopup(event,'blog_get_options_for_course')">blog_get_options_for_course</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('course')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../_variables/course.html">course</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l347"><span class="linenum"> 347</span></a>          }
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">        // Get the options for the user.</span>
<a name="l350"><span class="linenum"> 350</span></a>          if (<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> !== null and !<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">            // Load for the requested user.</span>
<a name="l352"><span class="linenum"> 352</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>[<a class="constant" onClick="logConstant('CONTEXT_USER')" href="../_constants/CONTEXT_USER.html" onMouseOver="constPopup(event,'CONTEXT_USER')">CONTEXT_USER</a> + 1] = <a class="function" onClick="logFunction('blog_get_options_for_user')" href="../_functions/blog_get_options_for_user.html" onMouseOver="funcPopup(event,'blog_get_options_for_user')">blog_get_options_for_user</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l353"><span class="linenum"> 353</span></a>          }
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">        // Load for the current user.</span>
<a name="l355"><span class="linenum"> 355</span></a>          if (<a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>() and !<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l356"><span class="linenum"> 356</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>[<a class="constant" onClick="logConstant('CONTEXT_USER')" href="../_constants/CONTEXT_USER.html" onMouseOver="constPopup(event,'CONTEXT_USER')">CONTEXT_USER</a>] = <a class="function" onClick="logFunction('blog_get_options_for_user')" href="../_functions/blog_get_options_for_user.html" onMouseOver="funcPopup(event,'blog_get_options_for_user')">blog_get_options_for_user</a>();
<a name="l357"><span class="linenum"> 357</span></a>          }
<a name="l358"><span class="linenum"> 358</span></a>      }
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>  <span class="comment">    // If blog level is global then display a link to view all site entries.</span>
<a name="l361"><span class="linenum"> 361</span></a>      if (!empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('enableblogs')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/enableblogs.html">enableblogs</a>)
<a name="l362"><span class="linenum"> 362</span></a>          &amp;&amp; <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('bloglevel')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/bloglevel.html">bloglevel</a> &gt;= <a class="constant" onClick="logConstant('BLOG_GLOBAL_LEVEL')" href="../_constants/BLOG_GLOBAL_LEVEL.html" onMouseOver="constPopup(event,'BLOG_GLOBAL_LEVEL')">BLOG_GLOBAL_LEVEL</a>
<a name="l363"><span class="linenum"> 363</span></a>          &amp;&amp; <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:view', <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>())) {
<a name="l364"><span class="linenum"> 364</span></a>  
<a name="l365"><span class="linenum"> 365</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>[<a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>] = array('viewsite' =&gt; array(
<a name="l366"><span class="linenum"> 366</span></a>              'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewsiteentries', 'blog'),
<a name="l367"><span class="linenum"> 367</span></a>              'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>')
<a name="l368"><span class="linenum"> 368</span></a>          ));
<a name="l369"><span class="linenum"> 369</span></a>      }
<a name="l370"><span class="linenum"> 370</span></a>  
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">    // Return the options.</span>
<a name="l372"><span class="linenum"> 372</span></a>      return <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>;
<a name="l373"><span class="linenum"> 373</span></a>  }
<a name="l374"><span class="linenum"> 374</span></a>  
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">/**</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment"> * Get all of the blog options that relate to the passed user.</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment"> *</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment"> * If no user is passed the current user is assumed.</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment"> *</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment"> * @staticvar array $useroptions Cache so we don't have to regenerate multiple times</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment"> * @param stdClass $user</span>
<a name="l382"><span class="linenum"> 382</span></a>  <span class="comment"> * @return array The array of options for the requested user</span>
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment"> */</span>
<a name="l384"><span class="linenum"> 384</span></a>  function <a class="function" onClick="logFunction('blog_get_options_for_user')" href="../_functions/blog_get_options_for_user.html" onMouseOver="funcPopup(event,'blog_get_options_for_user')">blog_get_options_for_user</a>(stdClass <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>=null) {
<a name="l385"><span class="linenum"> 385</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">    // Cache.</span>
<a name="l387"><span class="linenum"> 387</span></a>      static <a class="var it3380" onMouseOver="hilite(3380)" onMouseOut="lolite()" onClick="logVariable('useroptions')" href="../_variables/useroptions.html">$useroptions</a> = array();
<a name="l388"><span class="linenum"> 388</span></a>  
<a name="l389"><span class="linenum"> 389</span></a>      <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array();
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">    // Blogs must be enabled and the user must be logged in.</span>
<a name="l391"><span class="linenum"> 391</span></a>      if (!<a class="function" onClick="logFunction('blog_is_enabled_for_user')" href="../_functions/blog_is_enabled_for_user.html" onMouseOver="funcPopup(event,'blog_is_enabled_for_user')">blog_is_enabled_for_user</a>()) {
<a name="l392"><span class="linenum"> 392</span></a>          return <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>;
<a name="l393"><span class="linenum"> 393</span></a>      }
<a name="l394"><span class="linenum"> 394</span></a>  
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">    // Sort out the user var.</span>
<a name="l396"><span class="linenum"> 396</span></a>      if (<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> === null || <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) {
<a name="l397"><span class="linenum"> 397</span></a>          <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l398"><span class="linenum"> 398</span></a>          <a class="var it6531" onMouseOver="hilite(6531)" onMouseOut="lolite()" onClick="logVariable('iscurrentuser')" href="../_variables/iscurrentuser.html">$iscurrentuser</a> = true;
<a name="l399"><span class="linenum"> 399</span></a>      } else {
<a name="l400"><span class="linenum"> 400</span></a>          <a class="var it6531" onMouseOver="hilite(6531)" onMouseOut="lolite()" onClick="logVariable('iscurrentuser')" href="../_variables/iscurrentuser.html">$iscurrentuser</a> = false;
<a name="l401"><span class="linenum"> 401</span></a>      }
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">    // If we've already generated serve from the cache.</span>
<a name="l404"><span class="linenum"> 404</span></a>      if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it3380" onMouseOver="hilite(3380)" onMouseOut="lolite()" onClick="logVariable('useroptions')" href="../_variables/useroptions.html">$useroptions</a>)) {
<a name="l405"><span class="linenum"> 405</span></a>          return <a class="var it3380" onMouseOver="hilite(3380)" onMouseOut="lolite()" onClick="logVariable('useroptions')" href="../_variables/useroptions.html">$useroptions</a>[<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>];
<a name="l406"><span class="linenum"> 406</span></a>      }
<a name="l407"><span class="linenum"> 407</span></a>  
<a name="l408"><span class="linenum"> 408</span></a>      <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l409"><span class="linenum"> 409</span></a>      <a class="var it9517" onMouseOver="hilite(9517)" onMouseOut="lolite()" onClick="logVariable('canview')" href="../_variables/canview.html">$canview</a> = <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:view', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>);
<a name="l410"><span class="linenum"> 410</span></a>  
<a name="l411"><span class="linenum"> 411</span></a>      if (!<a class="var it6531" onMouseOver="hilite(6531)" onMouseOut="lolite()" onClick="logVariable('iscurrentuser')" href="../_variables/iscurrentuser.html">$iscurrentuser</a> &amp;&amp; <a class="var it9517" onMouseOver="hilite(9517)" onMouseOut="lolite()" onClick="logVariable('canview')" href="../_variables/canview.html">$canview</a> &amp;&amp; (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('bloglevel')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/bloglevel.html">bloglevel</a> &gt;= <a class="constant" onClick="logConstant('BLOG_SITE_LEVEL')" href="../_constants/BLOG_SITE_LEVEL.html" onMouseOver="constPopup(event,'BLOG_SITE_LEVEL')">BLOG_SITE_LEVEL</a>)) {
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">        // Not the current user, but we can view and its blogs are enabled for SITE or GLOBAL.</span>
<a name="l413"><span class="linenum"> 413</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['userentries'] = array(
<a name="l414"><span class="linenum"> 414</span></a>              'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewuserentries', 'blog', <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)),
<a name="l415"><span class="linenum"> 415</span></a>              'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>', array('userid' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l416"><span class="linenum"> 416</span></a>          );
<a name="l417"><span class="linenum"> 417</span></a>      } else {
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">        // It's the current user.</span>
<a name="l419"><span class="linenum"> 419</span></a>          if (<a class="var it9517" onMouseOver="hilite(9517)" onMouseOut="lolite()" onClick="logVariable('canview')" href="../_variables/canview.html">$canview</a>) {
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">            // We can view our own blogs .... BIG surprise.</span>
<a name="l421"><span class="linenum"> 421</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['view'] = array(
<a name="l422"><span class="linenum"> 422</span></a>                  'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentries', 'blog'),
<a name="l423"><span class="linenum"> 423</span></a>                  'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>', array('userid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l424"><span class="linenum"> 424</span></a>              );
<a name="l425"><span class="linenum"> 425</span></a>          }
<a name="l426"><span class="linenum"> 426</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:create', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>)) {
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment">            // We can add to our own blog.</span>
<a name="l428"><span class="linenum"> 428</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['add'] = array(
<a name="l429"><span class="linenum"> 429</span></a>                  'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addnewentry', 'blog'),
<a name="l430"><span class="linenum"> 430</span></a>                  'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/edit.php.html">/blog/edit.php</a>', array('action' =&gt; 'add'))
<a name="l431"><span class="linenum"> 431</span></a>              );
<a name="l432"><span class="linenum"> 432</span></a>          }
<a name="l433"><span class="linenum"> 433</span></a>      }
<a name="l434"><span class="linenum"> 434</span></a>      if (<a class="var it9517" onMouseOver="hilite(9517)" onMouseOut="lolite()" onClick="logVariable('canview')" href="../_variables/canview.html">$canview</a> &amp;&amp; <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('enablerssfeeds')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/enablerssfeeds.html">enablerssfeeds</a>) {
<a name="l435"><span class="linenum"> 435</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['rss'] = array(
<a name="l436"><span class="linenum"> 436</span></a>              'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('rssfeed', 'blog'),
<a name="l437"><span class="linenum"> 437</span></a>              'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="function" onClick="logFunction('rss_get_url')" href="../_functions/rss_get_url.html" onMouseOver="funcPopup(event,'rss_get_url')">rss_get_url</a>(<a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>-&gt;<a onClick="logVariable('id')" class="var it44370" onMouseOver="hilite(44370)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'blog', 'user/'.<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l438"><span class="linenum"> 438</span></a>          );
<a name="l439"><span class="linenum"> 439</span></a>      }
<a name="l440"><span class="linenum"> 440</span></a>  
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment">    // Cache the options.</span>
<a name="l442"><span class="linenum"> 442</span></a>      <a class="var it3380" onMouseOver="hilite(3380)" onMouseOut="lolite()" onClick="logVariable('useroptions')" href="../_variables/useroptions.html">$useroptions</a>[<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>;
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment">    // Return the options.</span>
<a name="l444"><span class="linenum"> 444</span></a>      return <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>;
<a name="l445"><span class="linenum"> 445</span></a>  }
<a name="l446"><span class="linenum"> 446</span></a>  
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">/**</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment"> * Get the blog options that relate to the given course for the given user.</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment"> *</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment"> * @staticvar array $courseoptions A cache so we can save regenerating multiple times</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment"> * @param stdClass $course The course to load options for</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment"> * @param stdClass $user The user to load options for null == current user</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment"> * @return array The array of options</span>
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment"> */</span>
<a name="l455"><span class="linenum"> 455</span></a>  function <a class="function" onClick="logFunction('blog_get_options_for_course')" href="../_functions/blog_get_options_for_course.html" onMouseOver="funcPopup(event,'blog_get_options_for_course')">blog_get_options_for_course</a>(stdClass <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, stdClass <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>=null) {
<a name="l456"><span class="linenum"> 456</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">    // Cache.</span>
<a name="l458"><span class="linenum"> 458</span></a>      static <a class="var it11413" onMouseOver="hilite(11413)" onMouseOut="lolite()" onClick="logVariable('courseoptions')" href="../_variables/courseoptions.html">$courseoptions</a> = array();
<a name="l459"><span class="linenum"> 459</span></a>  
<a name="l460"><span class="linenum"> 460</span></a>      <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array();
<a name="l461"><span class="linenum"> 461</span></a>  
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">    // User must be logged in and blogs must be enabled.</span>
<a name="l463"><span class="linenum"> 463</span></a>      if (!<a class="function" onClick="logFunction('blog_is_enabled_for_user')" href="../_functions/blog_is_enabled_for_user.html" onMouseOver="funcPopup(event,'blog_is_enabled_for_user')">blog_is_enabled_for_user</a>()) {
<a name="l464"><span class="linenum"> 464</span></a>          return <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>;
<a name="l465"><span class="linenum"> 465</span></a>      }
<a name="l466"><span class="linenum"> 466</span></a>  
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">    // Check that the user can associate with the course.</span>
<a name="l468"><span class="linenum"> 468</span></a>      <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">    // Generate the cache key.</span>
<a name="l470"><span class="linenum"> 470</span></a>      <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>.':';
<a name="l471"><span class="linenum"> 471</span></a>      if (!empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l472"><span class="linenum"> 472</span></a>          <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> .= <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l473"><span class="linenum"> 473</span></a>      } else {
<a name="l474"><span class="linenum"> 474</span></a>          <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> .= <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l475"><span class="linenum"> 475</span></a>      }
<a name="l476"><span class="linenum"> 476</span></a>  <span class="comment">    // Serve from the cache if we've already generated for this course.</span>
<a name="l477"><span class="linenum"> 477</span></a>      if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>, <a class="var it11413" onMouseOver="hilite(11413)" onMouseOut="lolite()" onClick="logVariable('courseoptions')" href="../_variables/courseoptions.html">$courseoptions</a>)) {
<a name="l478"><span class="linenum"> 478</span></a>          return <a class="var it11413" onMouseOver="hilite(11413)" onMouseOut="lolite()" onClick="logVariable('courseoptions')" href="../_variables/courseoptions.html">$courseoptions</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>];
<a name="l479"><span class="linenum"> 479</span></a>      }
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:view', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>)) {
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">        // We can view!</span>
<a name="l483"><span class="linenum"> 483</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('bloglevel')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/bloglevel.html">bloglevel</a> &gt;= <a class="constant" onClick="logConstant('BLOG_SITE_LEVEL')" href="../_constants/BLOG_SITE_LEVEL.html" onMouseOver="constPopup(event,'BLOG_SITE_LEVEL')">BLOG_SITE_LEVEL</a>) {
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">            // View entries about this course.</span>
<a name="l485"><span class="linenum"> 485</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['courseview'] = array(
<a name="l486"><span class="linenum"> 486</span></a>                  'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewcourseblogs', 'blog'),
<a name="l487"><span class="linenum"> 487</span></a>                  'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>', array('courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l488"><span class="linenum"> 488</span></a>              );
<a name="l489"><span class="linenum"> 489</span></a>          }
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment">        // View MY entries about this course.</span>
<a name="l491"><span class="linenum"> 491</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['courseviewmine'] = array(
<a name="l492"><span class="linenum"> 492</span></a>              'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewmyentriesaboutcourse', 'blog'),
<a name="l493"><span class="linenum"> 493</span></a>              'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>', array('courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'userid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l494"><span class="linenum"> 494</span></a>          );
<a name="l495"><span class="linenum"> 495</span></a>          if (!empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) &amp;&amp; (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('bloglevel')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/bloglevel.html">bloglevel</a> &gt;= <a class="constant" onClick="logConstant('BLOG_SITE_LEVEL')" href="../_constants/BLOG_SITE_LEVEL.html" onMouseOver="constPopup(event,'BLOG_SITE_LEVEL')">BLOG_SITE_LEVEL</a>)) {
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment">            // View the provided users entries about this course.</span>
<a name="l497"><span class="linenum"> 497</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['courseviewuser'] = array(
<a name="l498"><span class="linenum"> 498</span></a>                  'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewentriesbyuseraboutcourse', 'blog', <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)),
<a name="l499"><span class="linenum"> 499</span></a>                  'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>', array('courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'userid' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l500"><span class="linenum"> 500</span></a>              );
<a name="l501"><span class="linenum"> 501</span></a>          }
<a name="l502"><span class="linenum"> 502</span></a>      }
<a name="l503"><span class="linenum"> 503</span></a>  
<a name="l504"><span class="linenum"> 504</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:create', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>)) {
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">        // We can blog about this course.</span>
<a name="l506"><span class="linenum"> 506</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['courseadd'] = array(
<a name="l507"><span class="linenum"> 507</span></a>              'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogaboutthiscourse', 'blog'),
<a name="l508"><span class="linenum"> 508</span></a>              'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/edit.php.html">/blog/edit.php</a>', array('action' =&gt; 'add', 'courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l509"><span class="linenum"> 509</span></a>          );
<a name="l510"><span class="linenum"> 510</span></a>      }
<a name="l511"><span class="linenum"> 511</span></a>  
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment">    // Cache the options for this course.</span>
<a name="l513"><span class="linenum"> 513</span></a>      <a class="var it11413" onMouseOver="hilite(11413)" onMouseOut="lolite()" onClick="logVariable('courseoptions')" href="../_variables/courseoptions.html">$courseoptions</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>] = <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>;
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">    // Return the options.</span>
<a name="l515"><span class="linenum"> 515</span></a>      return <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>;
<a name="l516"><span class="linenum"> 516</span></a>  }
<a name="l517"><span class="linenum"> 517</span></a>  
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">/**</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment"> * Get the blog options relating to the given module for the given user</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment"> *</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment"> * @staticvar array $moduleoptions Cache</span>
<a name="l522"><span class="linenum"> 522</span></a>  <span class="comment"> * @param stdClass|cm_info $module The module to get options for</span>
<a name="l523"><span class="linenum"> 523</span></a>  <span class="comment"> * @param stdClass $user The user to get options for null == currentuser</span>
<a name="l524"><span class="linenum"> 524</span></a>  <span class="comment"> * @return array</span>
<a name="l525"><span class="linenum"> 525</span></a>  <span class="comment"> */</span>
<a name="l526"><span class="linenum"> 526</span></a>  function <a class="function" onClick="logFunction('blog_get_options_for_module')" href="../_functions/blog_get_options_for_module.html" onMouseOver="funcPopup(event,'blog_get_options_for_module')">blog_get_options_for_module</a>(<a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>=null) {
<a name="l527"><span class="linenum"> 527</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment">    // Cache.</span>
<a name="l529"><span class="linenum"> 529</span></a>      static <a class="var it33135" onMouseOver="hilite(33135)" onMouseOut="lolite()" onClick="logVariable('moduleoptions')" href="../_variables/moduleoptions.html">$moduleoptions</a> = array();
<a name="l530"><span class="linenum"> 530</span></a>  
<a name="l531"><span class="linenum"> 531</span></a>      <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array();
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">    // User must be logged in, blogs must be enabled.</span>
<a name="l533"><span class="linenum"> 533</span></a>      if (!<a class="function" onClick="logFunction('blog_is_enabled_for_user')" href="../_functions/blog_is_enabled_for_user.html" onMouseOver="funcPopup(event,'blog_is_enabled_for_user')">blog_is_enabled_for_user</a>()) {
<a name="l534"><span class="linenum"> 534</span></a>          return <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>;
<a name="l535"><span class="linenum"> 535</span></a>      }
<a name="l536"><span class="linenum"> 536</span></a>  
<a name="l537"><span class="linenum"> 537</span></a>      <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l538"><span class="linenum"> 538</span></a>  
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">    // Generate the cache key.</span>
<a name="l540"><span class="linenum"> 540</span></a>      <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> = <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('id')" class="var it42973" onMouseOver="hilite(42973)" onMouseOut="lolite()" href="../_variables/id.html">id</a>.':';
<a name="l541"><span class="linenum"> 541</span></a>      if (!empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l542"><span class="linenum"> 542</span></a>          <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> .= <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l543"><span class="linenum"> 543</span></a>      } else {
<a name="l544"><span class="linenum"> 544</span></a>          <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> .= <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l545"><span class="linenum"> 545</span></a>      }
<a name="l546"><span class="linenum"> 546</span></a>      if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>, <a class="var it33135" onMouseOver="hilite(33135)" onMouseOut="lolite()" onClick="logVariable('moduleoptions')" href="../_variables/moduleoptions.html">$moduleoptions</a>)) {
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">        // Serve from the cache so we don't have to regenerate.</span>
<a name="l548"><span class="linenum"> 548</span></a>          return <a class="var it33135" onMouseOver="hilite(33135)" onMouseOut="lolite()" onClick="logVariable('moduleoptions')" href="../_variables/moduleoptions.html">$moduleoptions</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>];
<a name="l549"><span class="linenum"> 549</span></a>      }
<a name="l550"><span class="linenum"> 550</span></a>  
<a name="l551"><span class="linenum"> 551</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:view', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>)) {
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">        // Save correct module name for later usage.</span>
<a name="l553"><span class="linenum"> 553</span></a>          <a class="var it2353" onMouseOver="hilite(2353)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('modname')" class="var it42973" onMouseOver="hilite(42973)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>);
<a name="l554"><span class="linenum"> 554</span></a>  
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">        // We can view!</span>
<a name="l556"><span class="linenum"> 556</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('bloglevel')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/bloglevel.html">bloglevel</a> &gt;= <a class="constant" onClick="logConstant('BLOG_SITE_LEVEL')" href="../_constants/BLOG_SITE_LEVEL.html" onMouseOver="constPopup(event,'BLOG_SITE_LEVEL')">BLOG_SITE_LEVEL</a>) {
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment">            // View all entries about this module.</span>
<a name="l558"><span class="linenum"> 558</span></a>              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass;
<a name="l559"><span class="linenum"> 559</span></a>              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('type')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/type.html">type</a> = <a class="var it2353" onMouseOver="hilite(2353)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a>;
<a name="l560"><span class="linenum"> 560</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['moduleview'] = array(
<a name="l561"><span class="linenum"> 561</span></a>                  'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewallmodentries', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>),
<a name="l562"><span class="linenum"> 562</span></a>                  'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>', array('modid' =&gt; <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('id')" class="var it42973" onMouseOver="hilite(42973)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l563"><span class="linenum"> 563</span></a>              );
<a name="l564"><span class="linenum"> 564</span></a>          }
<a name="l565"><span class="linenum"> 565</span></a>  <span class="comment">        // View MY entries about this module.</span>
<a name="l566"><span class="linenum"> 566</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['moduleviewmine'] = array(
<a name="l567"><span class="linenum"> 567</span></a>              'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewmyentriesaboutmodule', 'blog', <a class="var it2353" onMouseOver="hilite(2353)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a>),
<a name="l568"><span class="linenum"> 568</span></a>              'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>', array('modid' =&gt; <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('id')" class="var it42973" onMouseOver="hilite(42973)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'userid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l569"><span class="linenum"> 569</span></a>          );
<a name="l570"><span class="linenum"> 570</span></a>          if (!empty(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) &amp;&amp; (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('bloglevel')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/bloglevel.html">bloglevel</a> &gt;= <a class="constant" onClick="logConstant('BLOG_SITE_LEVEL')" href="../_constants/BLOG_SITE_LEVEL.html" onMouseOver="constPopup(event,'BLOG_SITE_LEVEL')">BLOG_SITE_LEVEL</a>)) {
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">            // View the given users entries about this module.</span>
<a name="l572"><span class="linenum"> 572</span></a>              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass;
<a name="l573"><span class="linenum"> 573</span></a>              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('mod')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/mod.html">mod</a> = <a class="var it2353" onMouseOver="hilite(2353)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a>;
<a name="l574"><span class="linenum"> 574</span></a>              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('user')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/user.html">user</a> = <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l575"><span class="linenum"> 575</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['moduleviewuser'] = array(
<a name="l576"><span class="linenum"> 576</span></a>                  'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentriesbyuseraboutmodule', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>),
<a name="l577"><span class="linenum"> 577</span></a>                  'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>', array('modid' =&gt; <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('id')" class="var it42973" onMouseOver="hilite(42973)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'userid' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l578"><span class="linenum"> 578</span></a>              );
<a name="l579"><span class="linenum"> 579</span></a>          }
<a name="l580"><span class="linenum"> 580</span></a>      }
<a name="l581"><span class="linenum"> 581</span></a>  
<a name="l582"><span class="linenum"> 582</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:create', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>)) {
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">        // The user can blog about this module.</span>
<a name="l584"><span class="linenum"> 584</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['moduleadd'] = array(
<a name="l585"><span class="linenum"> 585</span></a>              'string' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogaboutthismodule', 'blog', <a class="var it2353" onMouseOver="hilite(2353)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a>),
<a name="l586"><span class="linenum"> 586</span></a>              'link' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/edit.php.html">/blog/edit.php</a>', array('action' =&gt; 'add', 'modid' =&gt; <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('id')" class="var it42973" onMouseOver="hilite(42973)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))
<a name="l587"><span class="linenum"> 587</span></a>          );
<a name="l588"><span class="linenum"> 588</span></a>      }
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">    // Cache the options.</span>
<a name="l590"><span class="linenum"> 590</span></a>      <a class="var it33135" onMouseOver="hilite(33135)" onMouseOut="lolite()" onClick="logVariable('moduleoptions')" href="../_variables/moduleoptions.html">$moduleoptions</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>] = <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>;
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment">    // Return the options.</span>
<a name="l592"><span class="linenum"> 592</span></a>      return <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>;
<a name="l593"><span class="linenum"> 593</span></a>  }
<a name="l594"><span class="linenum"> 594</span></a>  
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment">/**</span>
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment"> * This function encapsulates all the logic behind the complex</span>
<a name="l597"><span class="linenum"> 597</span></a>  <span class="comment"> * navigation, titles and headings of the blog listing page, depending</span>
<a name="l598"><span class="linenum"> 598</span></a>  <span class="comment"> * on URL params. It looks at URL params and at the current context level.</span>
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment"> * It builds and returns an array containing:</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment"> *</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment"> * 1. heading: The heading displayed above the blog entries</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment"> * 2. stradd:  The text to be used as the &quot;Add entry&quot; link</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment"> * 3. strview: The text to be used as the &quot;View entries&quot; link</span>
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment"> * 4. url:     The moodle_url object used as the base for add and view links</span>
<a name="l605"><span class="linenum"> 605</span></a>  <span class="comment"> * 5. filters: An array of parameters used to filter blog listings. Used by index.php and the Recent blogs block</span>
<a name="l606"><span class="linenum"> 606</span></a>  <span class="comment"> *</span>
<a name="l607"><span class="linenum"> 607</span></a>  <span class="comment"> * All other variables are set directly in $PAGE</span>
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment"> *</span>
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment"> * It uses the current URL to build these variables.</span>
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment"> * A number of mutually exclusive use cases are used to structure this function.</span>
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment"> *</span>
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment"> * @return array</span>
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment"> */</span>
<a name="l614"><span class="linenum"> 614</span></a>  function <a class="function" onClick="logFunction('blog_get_headers')" href="../_functions/blog_get_headers.html" onMouseOver="funcPopup(event,'blog_get_headers')">blog_get_headers</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>=null, <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>=null, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=null, <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>=null) {
<a name="l615"><span class="linenum"> 615</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l616"><span class="linenum"> 616</span></a>  
<a name="l617"><span class="linenum"> 617</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>       = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('id', null, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l618"><span class="linenum"> 618</span></a>      <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>      = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('tag', null, <a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>);
<a name="l619"><span class="linenum"> 619</span></a>      <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>    = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('tagid', <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l620"><span class="linenum"> 620</span></a>      <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>   = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('userid', <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l621"><span class="linenum"> 621</span></a>      <a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>    = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('modid', null, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l622"><span class="linenum"> 622</span></a>      <a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>  = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('entryid', null, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l623"><span class="linenum"> 623</span></a>      <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>  = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('groupid', <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l624"><span class="linenum"> 624</span></a>      <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('courseid', <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l625"><span class="linenum"> 625</span></a>      <a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../_variables/search.html">$search</a>   = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('search', null, <a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>);
<a name="l626"><span class="linenum"> 626</span></a>      <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>   = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('action', null, <a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>);
<a name="l627"><span class="linenum"> 627</span></a>      <a class="var it1437" onMouseOver="hilite(1437)" onMouseOut="lolite()" onClick="logVariable('confirm')" href="../_variables/confirm.html">$confirm</a>  = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('confirm', false, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>);
<a name="l628"><span class="linenum"> 628</span></a>  
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment">    // Ignore userid when action == add.</span>
<a name="l630"><span class="linenum"> 630</span></a>      if (<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> == 'add' &amp;&amp; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) {
<a name="l631"><span class="linenum"> 631</span></a>          unset(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l632"><span class="linenum"> 632</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('url')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/url.html">url</a>-&gt;<a class="function" onClick="logFunction('remove_params')" href="../_functions/remove_params.html" onMouseOver="funcPopup(event,'remove_params')">remove_params</a>(array('userid'));
<a name="l633"><span class="linenum"> 633</span></a>      } else if (<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> == 'add' &amp;&amp; <a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>) {
<a name="l634"><span class="linenum"> 634</span></a>          unset(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>);
<a name="l635"><span class="linenum"> 635</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('url')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/url.html">url</a>-&gt;<a class="function" onClick="logFunction('remove_params')" href="../_functions/remove_params.html" onMouseOver="funcPopup(event,'remove_params')">remove_params</a>(array('entryid'));
<a name="l636"><span class="linenum"> 636</span></a>      }
<a name="l637"><span class="linenum"> 637</span></a>  
<a name="l638"><span class="linenum"> 638</span></a>      <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a> = array('title' =&gt; '', 'heading' =&gt; '', 'cm' =&gt; null, 'filters' =&gt; array());
<a name="l639"><span class="linenum"> 639</span></a>  
<a name="l640"><span class="linenum"> 640</span></a>      <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>');
<a name="l641"><span class="linenum"> 641</span></a>  
<a name="l642"><span class="linenum"> 642</span></a>      <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['stradd'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addnewentry', 'blog');
<a name="l643"><span class="linenum"> 643</span></a>      <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['strview'] = null;
<a name="l644"><span class="linenum"> 644</span></a>  
<a name="l645"><span class="linenum"> 645</span></a>      <a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../_variables/site.html">$site</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>));
<a name="l646"><span class="linenum"> 646</span></a>      <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l647"><span class="linenum"> 647</span></a>  <span class="comment">    // Common Lang strings.</span>
<a name="l648"><span class="linenum"> 648</span></a>      <a class="var it3337" onMouseOver="hilite(3337)" onMouseOut="lolite()" onClick="logVariable('strparticipants')" href="../_variables/strparticipants.html">$strparticipants</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;participants&quot;);
<a name="l649"><span class="linenum"> 649</span></a>      <a class="var it33136" onMouseOver="hilite(33136)" onMouseOut="lolite()" onClick="logVariable('strblogentries')" href="../_variables/strblogentries.html">$strblogentries</a>  = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;blogentries&quot;, 'blog');
<a name="l650"><span class="linenum"> 650</span></a>  
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">    // Prepare record objects as needed.</span>
<a name="l652"><span class="linenum"> 652</span></a>      if (!empty(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l653"><span class="linenum"> 653</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['filters']['course'] = <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>;
<a name="l654"><span class="linenum"> 654</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l655"><span class="linenum"> 655</span></a>      }
<a name="l656"><span class="linenum"> 656</span></a>  
<a name="l657"><span class="linenum"> 657</span></a>      if (!empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>)) {
<a name="l658"><span class="linenum"> 658</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['filters']['user'] = <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>;
<a name="l659"><span class="linenum"> 659</span></a>          <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('id' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>));
<a name="l660"><span class="linenum"> 660</span></a>      }
<a name="l661"><span class="linenum"> 661</span></a>  
<a name="l662"><span class="linenum"> 662</span></a>      if (!empty(<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>)) { // The groupid always overrides courseid.
<a name="l663"><span class="linenum"> 663</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['filters']['group'] = <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>;
<a name="l664"><span class="linenum"> 664</span></a>          <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../_variables/group.html">$group</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('groups', array('id' =&gt; <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>));
<a name="l665"><span class="linenum"> 665</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../_variables/group.html">$group</a>-&gt;<a onClick="logVariable('courseid')" class="var it42906" onMouseOver="hilite(42906)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>));
<a name="l666"><span class="linenum"> 666</span></a>      }
<a name="l667"><span class="linenum"> 667</span></a>  
<a name="l668"><span class="linenum"> 668</span></a>      <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_pagelayout')" href="../_functions/set_pagelayout.html" onMouseOver="funcPopup(event,'set_pagelayout')">set_pagelayout</a>('standard');
<a name="l669"><span class="linenum"> 669</span></a>  
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">    // The modid always overrides courseid, so the $course object may be reset here.</span>
<a name="l671"><span class="linenum"> 671</span></a>      if (!empty(<a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>) &amp;&amp; <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('useblogassociations')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/useblogassociations.html">useblogassociations</a>) {
<a name="l672"><span class="linenum"> 672</span></a>  
<a name="l673"><span class="linenum"> 673</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['filters']['module'] = <a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>;
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">        // A groupid param may conflict with this coursemod's courseid. Ignore groupid in that case.</span>
<a name="l675"><span class="linenum"> 675</span></a>          <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('course_modules', 'course', array('id' =&gt; <a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>));
<a name="l676"><span class="linenum"> 676</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l677"><span class="linenum"> 677</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course_modules', array('id' =&gt; <a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>));
<a name="l678"><span class="linenum"> 678</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('modules', 'name', array('id' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('module')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/module.html">module</a>));
<a name="l679"><span class="linenum"> 679</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/name.html">name</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>, 'name', array('id' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/instance.html">instance</a>));
<a name="l680"><span class="linenum"> 680</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l681"><span class="linenum"> 681</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('type')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/type.html">type</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>);
<a name="l682"><span class="linenum"> 682</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_cm')" href="../_functions/set_cm.html" onMouseOver="funcPopup(event,'set_cm')">set_cm</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l683"><span class="linenum"> 683</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['stradd'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogaboutthis', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l684"><span class="linenum"> 684</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['strview'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewallmodentries', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l685"><span class="linenum"> 685</span></a>      }
<a name="l686"><span class="linenum"> 686</span></a>  
<a name="l687"><span class="linenum"> 687</span></a>  <span class="comment">    // Case 1: No entry, mod, course or user params: all site entries to be shown (filtered by search and tag/tagid)</span>
<a name="l688"><span class="linenum"> 688</span></a>  <span class="comment">    // Note: if action is set to 'add' or 'edit', we do this at the end.</span>
<a name="l689"><span class="linenum"> 689</span></a>      if (empty(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>) &amp;&amp; empty(<a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>) &amp;&amp; empty(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) &amp;&amp; empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) &amp;&amp; !<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, array('edit', 'add'))) {
<a name="l690"><span class="linenum"> 690</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it33136" onMouseOver="hilite(33136)" onMouseOut="lolite()" onClick="logVariable('strblogentries')" href="../_variables/strblogentries.html">$strblogentries</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l691"><span class="linenum"> 691</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../_variables/site.html">$site</a>-&gt;<a onClick="logVariable('fullname')" class="var it42988" onMouseOver="hilite(42988)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l692"><span class="linenum"> 692</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../_variables/site.html">$site</a>-&gt;<a onClick="logVariable('fullname')" class="var it42988" onMouseOver="hilite(42988)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l693"><span class="linenum"> 693</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['heading'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('siteblogheading', 'blog');
<a name="l694"><span class="linenum"> 694</span></a>      }
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment">    // Case 2: only entryid is requested, ignore all other filters. courseid is used to give more contextual information.</span>
<a name="l697"><span class="linenum"> 697</span></a>      if (!empty(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>)) {
<a name="l698"><span class="linenum"> 698</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['filters']['entry'] = <a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>;
<a name="l699"><span class="linenum"> 699</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = 'SELECT u.* FROM {user} u, {post} p WHERE p.id = ? AND p.userid = u.id';
<a name="l700"><span class="linenum"> 700</span></a>          <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record_sql')" href="../_functions/get_record_sql.html" onMouseOver="funcPopup(event,'get_record_sql')">get_record_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, array(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>));
<a name="l701"><span class="linenum"> 701</span></a>          <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('post', array('id' =&gt; <a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>));
<a name="l702"><span class="linenum"> 702</span></a>  
<a name="l703"><span class="linenum"> 703</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('userid', <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l704"><span class="linenum"> 704</span></a>  
<a name="l705"><span class="linenum"> 705</span></a>          if (!empty(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>)) {
<a name="l706"><span class="linenum"> 706</span></a>              <a class="var it33137" onMouseOver="hilite(33137)" onMouseOut="lolite()" onClick="logVariable('mycourseid')" href="../_variables/mycourseid.html">$mycourseid</a> = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l707"><span class="linenum"> 707</span></a>              <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('courseid', <a class="var it33137" onMouseOver="hilite(33137)" onMouseOut="lolite()" onClick="logVariable('mycourseid')" href="../_variables/mycourseid.html">$mycourseid</a>);
<a name="l708"><span class="linenum"> 708</span></a>          } else {
<a name="l709"><span class="linenum"> 709</span></a>              <a class="var it33137" onMouseOver="hilite(33137)" onMouseOut="lolite()" onClick="logVariable('mycourseid')" href="../_variables/mycourseid.html">$mycourseid</a> = <a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../_variables/site.html">$site</a>-&gt;<a onClick="logVariable('id')" class="var it42988" onMouseOver="hilite(42988)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l710"><span class="linenum"> 710</span></a>          }
<a name="l711"><span class="linenum"> 711</span></a>          <a class="var it911" onMouseOver="hilite(911)" onMouseOut="lolite()" onClick="logVariable('shortname')" href="../_variables/shortname.html">$shortname</a> = <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../_variables/site.html">$site</a>-&gt;<a onClick="logVariable('shortname')" class="var it42988" onMouseOver="hilite(42988)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>, true, array('context' =&gt; <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>)));
<a name="l712"><span class="linenum"> 712</span></a>  
<a name="l713"><span class="linenum"> 713</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it33136" onMouseOver="hilite(33136)" onMouseOut="lolite()" onClick="logVariable('strblogentries')" href="../_variables/strblogentries.html">$strblogentries</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l714"><span class="linenum"> 714</span></a>  
<a name="l715"><span class="linenum"> 715</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('remove_params')" href="../_functions/remove_params.html" onMouseOver="funcPopup(event,'remove_params')">remove_params</a>('userid');
<a name="l716"><span class="linenum"> 716</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>-&gt;<a onClick="logVariable('subject')" class="var it43000" onMouseOver="hilite(43000)" onMouseOut="lolite()" href="../_variables/subject.html">subject</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l717"><span class="linenum"> 717</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(&quot;<a class="var it911" onMouseOver="hilite(911)" onMouseOut="lolite()" onClick="logVariable('shortname')" href="../_variables/shortname.html">$shortname</a>: &quot; . <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) . &quot;: <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>-&gt;<a onClick="logVariable('subject')" class="var it43000" onMouseOver="hilite(43000)" onMouseOut="lolite()" href="../_variables/subject.html">subject</a>&quot;);
<a name="l718"><span class="linenum"> 718</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(&quot;<a class="var it911" onMouseOver="hilite(911)" onMouseOut="lolite()" onClick="logVariable('shortname')" href="../_variables/shortname.html">$shortname</a>: &quot; . <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) . &quot;: <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../_variables/entry.html">$entry</a>-&gt;<a onClick="logVariable('subject')" class="var it43000" onMouseOver="hilite(43000)" onMouseOut="lolite()" href="../_variables/subject.html">subject</a>&quot;);
<a name="l719"><span class="linenum"> 719</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['heading'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentrybyuser', 'blog', <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>));
<a name="l720"><span class="linenum"> 720</span></a>  
<a name="l721"><span class="linenum"> 721</span></a>  <span class="comment">        // We ignore tag and search params.</span>
<a name="l722"><span class="linenum"> 722</span></a>          if (empty(<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) || !<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('useblogassociations')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/useblogassociations.html">useblogassociations</a>) {
<a name="l723"><span class="linenum"> 723</span></a>              <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['url'] = <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>;
<a name="l724"><span class="linenum"> 724</span></a>              return <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>;
<a name="l725"><span class="linenum"> 725</span></a>          }
<a name="l726"><span class="linenum"> 726</span></a>      }
<a name="l727"><span class="linenum"> 727</span></a>  
<a name="l728"><span class="linenum"> 728</span></a>      if (!empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) &amp;&amp; empty(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>) &amp;&amp; ((empty(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) &amp;&amp; empty(<a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>)) || !<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('useblogassociations')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/useblogassociations.html">useblogassociations</a>)) {
<a name="l729"><span class="linenum"> 729</span></a>  <span class="comment">        // Case 3: A user's blog entries.</span>
<a name="l730"><span class="linenum"> 730</span></a>  
<a name="l731"><span class="linenum"> 731</span></a>          <a class="var it911" onMouseOver="hilite(911)" onMouseOut="lolite()" onClick="logVariable('shortname')" href="../_variables/shortname.html">$shortname</a> = <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../_variables/site.html">$site</a>-&gt;<a onClick="logVariable('shortname')" class="var it42988" onMouseOver="hilite(42988)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>, true, array('context' =&gt; <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>)));
<a name="l732"><span class="linenum"> 732</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('userid', <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l733"><span class="linenum"> 733</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(&quot;<a class="var it911" onMouseOver="hilite(911)" onMouseOut="lolite()" onClick="logVariable('shortname')" href="../_variables/shortname.html">$shortname</a>: &quot; . <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) . &quot;: &quot; . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blog', 'blog'));
<a name="l734"><span class="linenum"> 734</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(&quot;<a class="var it911" onMouseOver="hilite(911)" onMouseOut="lolite()" onClick="logVariable('shortname')" href="../_variables/shortname.html">$shortname</a>: &quot; . <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) . &quot;: &quot; . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blog', 'blog'));
<a name="l735"><span class="linenum"> 735</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['heading'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('userblog', 'blog', <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>));
<a name="l736"><span class="linenum"> 736</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['strview'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewuserentries', 'blog', <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>));
<a name="l737"><span class="linenum"> 737</span></a>  
<a name="l738"><span class="linenum"> 738</span></a>      } else if (!<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('useblogassociations')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/useblogassociations.html">useblogassociations</a> &amp;&amp; empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) &amp;&amp; !<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, array('edit', 'add'))) {
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment">        // Case 4: No blog associations, no userid.</span>
<a name="l740"><span class="linenum"> 740</span></a>  
<a name="l741"><span class="linenum"> 741</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../_variables/site.html">$site</a>-&gt;<a onClick="logVariable('fullname')" class="var it42988" onMouseOver="hilite(42988)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l742"><span class="linenum"> 742</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../_variables/site.html">$site</a>-&gt;<a onClick="logVariable('fullname')" class="var it42988" onMouseOver="hilite(42988)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l743"><span class="linenum"> 743</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['heading'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('siteblogheading', 'blog');
<a name="l744"><span class="linenum"> 744</span></a>      } else if (!empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) &amp;&amp; !empty(<a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>) &amp;&amp; empty(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>)) {
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment">        // Case 5: Blog entries associated with an activity by a specific user (courseid ignored).</span>
<a name="l746"><span class="linenum"> 746</span></a>  
<a name="l747"><span class="linenum"> 747</span></a>          <a class="var it911" onMouseOver="hilite(911)" onMouseOut="lolite()" onClick="logVariable('shortname')" href="../_variables/shortname.html">$shortname</a> = <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../_variables/site.html">$site</a>-&gt;<a onClick="logVariable('shortname')" class="var it42988" onMouseOver="hilite(42988)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>, true, array('context' =&gt; <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>)));
<a name="l748"><span class="linenum"> 748</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('userid', <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l749"><span class="linenum"> 749</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('modid', <a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>);
<a name="l750"><span class="linenum"> 750</span></a>  
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">        // Course module navigation is handled by build_navigation as the second param.</span>
<a name="l752"><span class="linenum"> 752</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['cm'] = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>;
<a name="l753"><span class="linenum"> 753</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>), &quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>/user/view.php?id=<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>&quot;);
<a name="l754"><span class="linenum"> 754</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it33136" onMouseOver="hilite(33136)" onMouseOut="lolite()" onClick="logVariable('strblogentries')" href="../_variables/strblogentries.html">$strblogentries</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l755"><span class="linenum"> 755</span></a>  
<a name="l756"><span class="linenum"> 756</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(&quot;<a class="var it911" onMouseOver="hilite(911)" onMouseOut="lolite()" onClick="logVariable('shortname')" href="../_variables/shortname.html">$shortname</a>: <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/name.html">name</a>: &quot; . <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) . ': ' . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentries', 'blog'));
<a name="l757"><span class="linenum"> 757</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(&quot;<a class="var it911" onMouseOver="hilite(911)" onMouseOut="lolite()" onClick="logVariable('shortname')" href="../_variables/shortname.html">$shortname</a>: <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/name.html">name</a>: &quot; . <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) . ': ' . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentries', 'blog'));
<a name="l758"><span class="linenum"> 758</span></a>  
<a name="l759"><span class="linenum"> 759</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l760"><span class="linenum"> 760</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('user')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/user.html">user</a> = <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l761"><span class="linenum"> 761</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('mod')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/mod.html">mod</a> = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/name.html">name</a>;
<a name="l762"><span class="linenum"> 762</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('type')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/type.html">type</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>);
<a name="l763"><span class="linenum"> 763</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['heading'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentriesbyuseraboutmodule', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l764"><span class="linenum"> 764</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['stradd'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogaboutthis', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l765"><span class="linenum"> 765</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['strview'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewallmodentries', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l766"><span class="linenum"> 766</span></a>      } else if (!empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) &amp;&amp; !empty(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) &amp;&amp; empty(<a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>) &amp;&amp; empty(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>)) {
<a name="l767"><span class="linenum"> 767</span></a>  <span class="comment">        // Case 6: Blog entries associated with a course by a specific user.</span>
<a name="l768"><span class="linenum"> 768</span></a>  
<a name="l769"><span class="linenum"> 769</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('userid', <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l770"><span class="linenum"> 770</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('courseid', <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l771"><span class="linenum"> 771</span></a>  
<a name="l772"><span class="linenum"> 772</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l773"><span class="linenum"> 773</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l774"><span class="linenum"> 774</span></a>  
<a name="l775"><span class="linenum"> 775</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l776"><span class="linenum"> 776</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('user')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/user.html">user</a> = <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l777"><span class="linenum"> 777</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('course')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/course.html">course</a> = <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>, true, array('context' =&gt; <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)));
<a name="l778"><span class="linenum"> 778</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('type')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/type.html">type</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('course');
<a name="l779"><span class="linenum"> 779</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['heading'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentriesbyuseraboutcourse', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l780"><span class="linenum"> 780</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['stradd'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogaboutthis', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l781"><span class="linenum"> 781</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['strview'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewblogentries', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l782"><span class="linenum"> 782</span></a>  
<a name="l783"><span class="linenum"> 783</span></a>  <span class="comment">        // Remove the userid from the URL to inform the blog_menu block correctly.</span>
<a name="l784"><span class="linenum"> 784</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('remove_params')" href="../_functions/remove_params.html" onMouseOver="funcPopup(event,'remove_params')">remove_params</a>(array('userid'));
<a name="l785"><span class="linenum"> 785</span></a>      } else if (!empty(<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>) &amp;&amp; empty(<a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>) &amp;&amp; empty(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>)) {
<a name="l786"><span class="linenum"> 786</span></a>  <span class="comment">        // Case 7: Blog entries by members of a group, associated with that group's course.</span>
<a name="l787"><span class="linenum"> 787</span></a>  
<a name="l788"><span class="linenum"> 788</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('courseid', <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l789"><span class="linenum"> 789</span></a>  
<a name="l790"><span class="linenum"> 790</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it33136" onMouseOver="hilite(33136)" onMouseOut="lolite()" onClick="logVariable('strblogentries')" href="../_variables/strblogentries.html">$strblogentries</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l791"><span class="linenum"> 791</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('remove_params')" href="../_functions/remove_params.html" onMouseOver="funcPopup(event,'remove_params')">remove_params</a>(array('courseid'));
<a name="l792"><span class="linenum"> 792</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('groupid', <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>);
<a name="l793"><span class="linenum"> 793</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../_variables/group.html">$group</a>-&gt;<a onClick="logVariable('name')" class="var it42906" onMouseOver="hilite(42906)" onMouseOut="lolite()" href="../_variables/name.html">name</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l794"><span class="linenum"> 794</span></a>  
<a name="l795"><span class="linenum"> 795</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l796"><span class="linenum"> 796</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l797"><span class="linenum"> 797</span></a>  
<a name="l798"><span class="linenum"> 798</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l799"><span class="linenum"> 799</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('group')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/group.html">group</a> = <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../_variables/group.html">$group</a>-&gt;<a onClick="logVariable('name')" class="var it42906" onMouseOver="hilite(42906)" onMouseOut="lolite()" href="../_variables/name.html">name</a>;
<a name="l800"><span class="linenum"> 800</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('course')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/course.html">course</a> = <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>, true, array('context' =&gt; <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)));
<a name="l801"><span class="linenum"> 801</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('type')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/type.html">type</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('course');
<a name="l802"><span class="linenum"> 802</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['heading'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentriesbygroupaboutcourse', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l803"><span class="linenum"> 803</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['stradd'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogaboutthis', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l804"><span class="linenum"> 804</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['strview'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewblogentries', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l805"><span class="linenum"> 805</span></a>      } else if (!empty(<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>) &amp;&amp; !empty(<a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>) &amp;&amp; empty(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>)) {
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">        // Case 8: Blog entries by members of a group, associated with an activity in that course.</span>
<a name="l807"><span class="linenum"> 807</span></a>  
<a name="l808"><span class="linenum"> 808</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['cm'] = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>;
<a name="l809"><span class="linenum"> 809</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('modid', <a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>);
<a name="l810"><span class="linenum"> 810</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it33136" onMouseOver="hilite(33136)" onMouseOut="lolite()" onClick="logVariable('strblogentries')" href="../_variables/strblogentries.html">$strblogentries</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l811"><span class="linenum"> 811</span></a>  
<a name="l812"><span class="linenum"> 812</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('groupid', <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>);
<a name="l813"><span class="linenum"> 813</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../_variables/group.html">$group</a>-&gt;<a onClick="logVariable('name')" class="var it42906" onMouseOver="hilite(42906)" onMouseOut="lolite()" href="../_variables/name.html">name</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l814"><span class="linenum"> 814</span></a>  
<a name="l815"><span class="linenum"> 815</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l816"><span class="linenum"> 816</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l817"><span class="linenum"> 817</span></a>  
<a name="l818"><span class="linenum"> 818</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l819"><span class="linenum"> 819</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('group')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/group.html">group</a> = <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../_variables/group.html">$group</a>-&gt;<a onClick="logVariable('name')" class="var it42906" onMouseOver="hilite(42906)" onMouseOut="lolite()" href="../_variables/name.html">name</a>;
<a name="l820"><span class="linenum"> 820</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('mod')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/mod.html">mod</a> = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/name.html">name</a>;
<a name="l821"><span class="linenum"> 821</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('type')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/type.html">type</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>);
<a name="l822"><span class="linenum"> 822</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['heading'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentriesbygroupaboutmodule', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l823"><span class="linenum"> 823</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['stradd'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogaboutthis', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l824"><span class="linenum"> 824</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['strview'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewallmodentries', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l825"><span class="linenum"> 825</span></a>  
<a name="l826"><span class="linenum"> 826</span></a>      } else if (!empty(<a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>) &amp;&amp; empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) &amp;&amp; empty(<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>) &amp;&amp; empty(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>)) {
<a name="l827"><span class="linenum"> 827</span></a>  <span class="comment">        // Case 9: All blog entries associated with an activity.</span>
<a name="l828"><span class="linenum"> 828</span></a>  
<a name="l829"><span class="linenum"> 829</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_cm')" href="../_functions/set_cm.html" onMouseOver="funcPopup(event,'set_cm')">set_cm</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l830"><span class="linenum"> 830</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('modid', <a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>);
<a name="l831"><span class="linenum"> 831</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it33136" onMouseOver="hilite(33136)" onMouseOut="lolite()" onClick="logVariable('strblogentries')" href="../_variables/strblogentries.html">$strblogentries</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l832"><span class="linenum"> 832</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l833"><span class="linenum"> 833</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l834"><span class="linenum"> 834</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['heading'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentriesabout', 'blog', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/name.html">name</a>);
<a name="l835"><span class="linenum"> 835</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l836"><span class="linenum"> 836</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('type')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/type.html">type</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>);
<a name="l837"><span class="linenum"> 837</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['stradd'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogaboutthis', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l838"><span class="linenum"> 838</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['strview'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewallmodentries', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l839"><span class="linenum"> 839</span></a>      } else if (!empty(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) &amp;&amp; empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) &amp;&amp; empty(<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>) &amp;&amp; empty(<a class="var it3571" onMouseOver="hilite(3571)" onMouseOut="lolite()" onClick="logVariable('modid')" href="../_variables/modid.html">$modid</a>) &amp;&amp; empty(<a class="var it8423" onMouseOver="hilite(8423)" onMouseOut="lolite()" onClick="logVariable('entryid')" href="../_variables/entryid.html">$entryid</a>)) {
<a name="l840"><span class="linenum"> 840</span></a>  <span class="comment">        // Case 10: All blog entries associated with a course.</span>
<a name="l841"><span class="linenum"> 841</span></a>  
<a name="l842"><span class="linenum"> 842</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('courseid', <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l843"><span class="linenum"> 843</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it33136" onMouseOver="hilite(33136)" onMouseOut="lolite()" onClick="logVariable('strblogentries')" href="../_variables/strblogentries.html">$strblogentries</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l844"><span class="linenum"> 844</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l845"><span class="linenum"> 845</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>);
<a name="l846"><span class="linenum"> 846</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l847"><span class="linenum"> 847</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('type')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/type.html">type</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('course');
<a name="l848"><span class="linenum"> 848</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['heading'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentriesabout',
<a name="l849"><span class="linenum"> 849</span></a>                                           'blog',
<a name="l850"><span class="linenum"> 850</span></a>                                           <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>,
<a name="l851"><span class="linenum"> 851</span></a>                                                         true,
<a name="l852"><span class="linenum"> 852</span></a>                                                         array('context' =&gt; <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))));
<a name="l853"><span class="linenum"> 853</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['stradd'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogaboutthis', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l854"><span class="linenum"> 854</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['strview'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewblogentries', 'blog', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l855"><span class="linenum"> 855</span></a>          <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('remove_params')" href="../_functions/remove_params.html" onMouseOver="funcPopup(event,'remove_params')">remove_params</a>(array('userid'));
<a name="l856"><span class="linenum"> 856</span></a>      }
<a name="l857"><span class="linenum"> 857</span></a>  
<a name="l858"><span class="linenum"> 858</span></a>      if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, array('edit', 'add'))) {
<a name="l859"><span class="linenum"> 859</span></a>  <span class="comment">        // Append Tag info.</span>
<a name="l860"><span class="linenum"> 860</span></a>          if (!empty(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)) {
<a name="l861"><span class="linenum"> 861</span></a>              <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['filters']['tag'] = <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>;
<a name="l862"><span class="linenum"> 862</span></a>              <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('tagid', <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>);
<a name="l863"><span class="linenum"> 863</span></a>              <a class="var it33138" onMouseOver="hilite(33138)" onMouseOut="lolite()" onClick="logVariable('tagrec')" href="../_variables/tagrec.html">$tagrec</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('tag', array('id' =&gt; <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>));
<a name="l864"><span class="linenum"> 864</span></a>              <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it33138" onMouseOver="hilite(33138)" onMouseOut="lolite()" onClick="logVariable('tagrec')" href="../_variables/tagrec.html">$tagrec</a>-&gt;<a onClick="logVariable('name')" class="var it44585" onMouseOver="hilite(44585)" onMouseOut="lolite()" href="../_variables/name.html">name</a>, <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l865"><span class="linenum"> 865</span></a>          } else if (!empty(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>)) {
<a name="l866"><span class="linenum"> 866</span></a>              if (<a class="var it33138" onMouseOver="hilite(33138)" onMouseOut="lolite()" onClick="logVariable('tagrec')" href="../_variables/tagrec.html">$tagrec</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('tag', array('name' =&gt; <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>))) {
<a name="l867"><span class="linenum"> 867</span></a>                  <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a> = <a class="var it33138" onMouseOver="hilite(33138)" onMouseOut="lolite()" onClick="logVariable('tagrec')" href="../_variables/tagrec.html">$tagrec</a>-&gt;<a onClick="logVariable('id')" class="var it44585" onMouseOver="hilite(44585)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l868"><span class="linenum"> 868</span></a>                  <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['filters']['tag'] = <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>;
<a name="l869"><span class="linenum"> 869</span></a>                  <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('tag', <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>);
<a name="l870"><span class="linenum"> 870</span></a>                  <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('tagparam', 'blog', <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>), <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>);
<a name="l871"><span class="linenum"> 871</span></a>              }
<a name="l872"><span class="linenum"> 872</span></a>          }
<a name="l873"><span class="linenum"> 873</span></a>  
<a name="l874"><span class="linenum"> 874</span></a>  <span class="comment">        // Append Search info.</span>
<a name="l875"><span class="linenum"> 875</span></a>          if (!empty(<a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../_variables/search.html">$search</a>)) {
<a name="l876"><span class="linenum"> 876</span></a>              <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['filters']['search'] = <a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../_variables/search.html">$search</a>;
<a name="l877"><span class="linenum"> 877</span></a>              <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('search', <a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../_variables/search.html">$search</a>);
<a name="l878"><span class="linenum"> 878</span></a>              <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('searchterm', 'blog', <a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../_variables/search.html">$search</a>), <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>-&gt;<a class="function" onClick="logFunction('out')" href="../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>());
<a name="l879"><span class="linenum"> 879</span></a>          }
<a name="l880"><span class="linenum"> 880</span></a>      }
<a name="l881"><span class="linenum"> 881</span></a>  
<a name="l882"><span class="linenum"> 882</span></a>  <span class="comment">    // Append edit mode info.</span>
<a name="l883"><span class="linenum"> 883</span></a>      if (!empty(<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) &amp;&amp; <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> == 'add') {
<a name="l884"><span class="linenum"> 884</span></a>  
<a name="l885"><span class="linenum"> 885</span></a>      } else if (!empty(<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>) &amp;&amp; <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> == 'edit') {
<a name="l886"><span class="linenum"> 886</span></a>          <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editentry', 'blog'));
<a name="l887"><span class="linenum"> 887</span></a>      }
<a name="l888"><span class="linenum"> 888</span></a>  
<a name="l889"><span class="linenum"> 889</span></a>      if (empty(<a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['url'])) {
<a name="l890"><span class="linenum"> 890</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>['url'] = <a class="var it27063" onMouseOver="hilite(27063)" onMouseOut="lolite()" onClick="logVariable('blogurl')" href="../_variables/blogurl.html">$blogurl</a>;
<a name="l891"><span class="linenum"> 891</span></a>      }
<a name="l892"><span class="linenum"> 892</span></a>      return <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../_variables/headers.html">$headers</a>;
<a name="l893"><span class="linenum"> 893</span></a>  }
<a name="l894"><span class="linenum"> 894</span></a>  
<a name="l895"><span class="linenum"> 895</span></a>  <span class="comment">/**</span>
<a name="l896"><span class="linenum"> 896</span></a>  <span class="comment"> * Shortcut function for getting a count of blog entries associated with a course or a module</span>
<a name="l897"><span class="linenum"> 897</span></a>  <span class="comment"> * @param int $courseid The ID of the course</span>
<a name="l898"><span class="linenum"> 898</span></a>  <span class="comment"> * @param int $cmid The ID of the course_modules</span>
<a name="l899"><span class="linenum"> 899</span></a>  <span class="comment"> * @return string The number of associated entries</span>
<a name="l900"><span class="linenum"> 900</span></a>  <span class="comment"> */</span>
<a name="l901"><span class="linenum"> 901</span></a>  function <a class="function" onClick="logFunction('blog_get_associated_count')" href="../_functions/blog_get_associated_count.html" onMouseOver="funcPopup(event,'blog_get_associated_count')">blog_get_associated_count</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>=null) {
<a name="l902"><span class="linenum"> 902</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l903"><span class="linenum"> 903</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l904"><span class="linenum"> 904</span></a>      if (<a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>) {
<a name="l905"><span class="linenum"> 905</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>);
<a name="l906"><span class="linenum"> 906</span></a>      }
<a name="l907"><span class="linenum"> 907</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('blog_association', array('contextid' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l908"><span class="linenum"> 908</span></a>  }
<a name="l909"><span class="linenum"> 909</span></a>  
<a name="l910"><span class="linenum"> 910</span></a>  <span class="comment">/**</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment"> * Running addtional permission check on plugin, for example, plugins</span>
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment"> * may have switch to turn on/off comments option, this callback will</span>
<a name="l913"><span class="linenum"> 913</span></a>  <span class="comment"> * affect UI display, not like pluginname_comment_validate only throw</span>
<a name="l914"><span class="linenum"> 914</span></a>  <span class="comment"> * exceptions.</span>
<a name="l915"><span class="linenum"> 915</span></a>  <span class="comment"> * blog_comment_validate will be called before viewing/adding/deleting</span>
<a name="l916"><span class="linenum"> 916</span></a>  <span class="comment"> * comment, so don't repeat checks.</span>
<a name="l917"><span class="linenum"> 917</span></a>  <span class="comment"> * Capability check has been done in comment-&gt;check_permissions(), we</span>
<a name="l918"><span class="linenum"> 918</span></a>  <span class="comment"> * don't need to do it again here.</span>
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment"> *</span>
<a name="l920"><span class="linenum"> 920</span></a>  <span class="comment"> * @package  core_blog</span>
<a name="l921"><span class="linenum"> 921</span></a>  <span class="comment"> * @category comment</span>
<a name="l922"><span class="linenum"> 922</span></a>  <span class="comment"> *</span>
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment"> * @param stdClass $commentparam {</span>
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment"> *              context  =&gt; context the context object</span>
<a name="l925"><span class="linenum"> 925</span></a>  <span class="comment"> *              courseid =&gt; int course id</span>
<a name="l926"><span class="linenum"> 926</span></a>  <span class="comment"> *              cm       =&gt; stdClass course module object</span>
<a name="l927"><span class="linenum"> 927</span></a>  <span class="comment"> *              commentarea =&gt; string comment area</span>
<a name="l928"><span class="linenum"> 928</span></a>  <span class="comment"> *              itemid      =&gt; int itemid</span>
<a name="l929"><span class="linenum"> 929</span></a>  <span class="comment"> * }</span>
<a name="l930"><span class="linenum"> 930</span></a>  <span class="comment"> * @return array</span>
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment"> */</span>
<a name="l932"><span class="linenum"> 932</span></a>  function <a class="function" onClick="logFunction('blog_comment_permissions')" href="../_functions/blog_comment_permissions.html" onMouseOver="funcPopup(event,'blog_comment_permissions')">blog_comment_permissions</a>(<a class="var it33139" onMouseOver="hilite(33139)" onMouseOut="lolite()" onClick="logVariable('commentparam')" href="../_variables/commentparam.html">$commentparam</a>) {
<a name="l933"><span class="linenum"> 933</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l934"><span class="linenum"> 934</span></a>  
<a name="l935"><span class="linenum"> 935</span></a>  <span class="comment">    // If blog is public and current user is guest, then don't let him post comments.</span>
<a name="l936"><span class="linenum"> 936</span></a>      <a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('post', array('id' =&gt; <a class="var it33139" onMouseOver="hilite(33139)" onMouseOut="lolite()" onClick="logVariable('commentparam')" href="../_variables/commentparam.html">$commentparam</a>-&gt;<a onClick="logVariable('itemid')" class="var it44590" onMouseOver="hilite(44590)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>), 'publishstate', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l937"><span class="linenum"> 937</span></a>  
<a name="l938"><span class="linenum"> 938</span></a>      if (<a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a>-&gt;<a onClick="logVariable('publishstate')" class="var it44587" onMouseOver="hilite(44587)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a> != 'public') {
<a name="l939"><span class="linenum"> 939</span></a>          if (!<a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>() || <a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l940"><span class="linenum"> 940</span></a>              return array('post' =&gt; false, 'view' =&gt; true);
<a name="l941"><span class="linenum"> 941</span></a>          }
<a name="l942"><span class="linenum"> 942</span></a>      }
<a name="l943"><span class="linenum"> 943</span></a>      return array('post' =&gt; true, 'view' =&gt; true);
<a name="l944"><span class="linenum"> 944</span></a>  }
<a name="l945"><span class="linenum"> 945</span></a>  
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment">/**</span>
<a name="l947"><span class="linenum"> 947</span></a>  <span class="comment"> * Validate comment parameter before perform other comments actions</span>
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment"> *</span>
<a name="l949"><span class="linenum"> 949</span></a>  <span class="comment"> * @package  core_blog</span>
<a name="l950"><span class="linenum"> 950</span></a>  <span class="comment"> * @category comment</span>
<a name="l951"><span class="linenum"> 951</span></a>  <span class="comment"> *</span>
<a name="l952"><span class="linenum"> 952</span></a>  <span class="comment"> * @param stdClass $comment {</span>
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment"> *              context  =&gt; context the context object</span>
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment"> *              courseid =&gt; int course id</span>
<a name="l955"><span class="linenum"> 955</span></a>  <span class="comment"> *              cm       =&gt; stdClass course module object</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment"> *              commentarea =&gt; string comment area</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment"> *              itemid      =&gt; int itemid</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment"> * }</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment"> * @return boolean</span>
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment"> */</span>
<a name="l961"><span class="linenum"> 961</span></a>  function <a class="function" onClick="logFunction('blog_comment_validate')" href="../_functions/blog_comment_validate.html" onMouseOver="funcPopup(event,'blog_comment_validate')">blog_comment_validate</a>(<a class="var it33139" onMouseOver="hilite(33139)" onMouseOut="lolite()" onClick="logVariable('commentparam')" href="../_variables/commentparam.html">$commentparam</a>) {
<a name="l962"><span class="linenum"> 962</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l963"><span class="linenum"> 963</span></a>  
<a name="l964"><span class="linenum"> 964</span></a>  <span class="comment">    // Check if blogs are enabled user can comment.</span>
<a name="l965"><span class="linenum"> 965</span></a>      if (empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('enableblogs')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/enableblogs.html">enableblogs</a>) || empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('blogusecomments')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/blogusecomments.html">blogusecomments</a>)) {
<a name="l966"><span class="linenum"> 966</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('comment_exception')" href="../_classes/comment_exception.html" onMouseOver="classPopup(event,'comment_exception')">comment_exception</a>('nopermissiontocomment');
<a name="l967"><span class="linenum"> 967</span></a>      }
<a name="l968"><span class="linenum"> 968</span></a>  
<a name="l969"><span class="linenum"> 969</span></a>  <span class="comment">    // Validate comment area.</span>
<a name="l970"><span class="linenum"> 970</span></a>      if (<a class="var it33139" onMouseOver="hilite(33139)" onMouseOut="lolite()" onClick="logVariable('commentparam')" href="../_variables/commentparam.html">$commentparam</a>-&gt;<a onClick="logVariable('commentarea')" class="var it44590" onMouseOver="hilite(44590)" onMouseOut="lolite()" href="../_variables/commentarea.html">commentarea</a> != 'format_blog') {
<a name="l971"><span class="linenum"> 971</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('comment_exception')" href="../_classes/comment_exception.html" onMouseOver="classPopup(event,'comment_exception')">comment_exception</a>('invalidcommentarea');
<a name="l972"><span class="linenum"> 972</span></a>      }
<a name="l973"><span class="linenum"> 973</span></a>  
<a name="l974"><span class="linenum"> 974</span></a>      <a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('post', array('id' =&gt; <a class="var it33139" onMouseOver="hilite(33139)" onMouseOut="lolite()" onClick="logVariable('commentparam')" href="../_variables/commentparam.html">$commentparam</a>-&gt;<a onClick="logVariable('itemid')" class="var it44590" onMouseOver="hilite(44590)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l975"><span class="linenum"> 975</span></a>  
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">    // Validation for comment deletion.</span>
<a name="l977"><span class="linenum"> 977</span></a>      if (!empty(<a class="var it33139" onMouseOver="hilite(33139)" onMouseOut="lolite()" onClick="logVariable('commentparam')" href="../_variables/commentparam.html">$commentparam</a>-&gt;<a onClick="logVariable('commentid')" class="var it44590" onMouseOver="hilite(44590)" onMouseOut="lolite()" href="../_variables/commentid.html">commentid</a>)) {
<a name="l978"><span class="linenum"> 978</span></a>          if (<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('comments', array('id' =&gt; <a class="var it33139" onMouseOver="hilite(33139)" onMouseOut="lolite()" onClick="logVariable('commentparam')" href="../_variables/commentparam.html">$commentparam</a>-&gt;<a onClick="logVariable('commentid')" class="var it44590" onMouseOver="hilite(44590)" onMouseOut="lolite()" href="../_variables/commentid.html">commentid</a>))) {
<a name="l979"><span class="linenum"> 979</span></a>              if (<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('commentarea')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../_variables/commentarea.html">commentarea</a> != 'format_blog') {
<a name="l980"><span class="linenum"> 980</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('comment_exception')" href="../_classes/comment_exception.html" onMouseOver="classPopup(event,'comment_exception')">comment_exception</a>('invalidcommentarea');
<a name="l981"><span class="linenum"> 981</span></a>              }
<a name="l982"><span class="linenum"> 982</span></a>              if (<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('contextid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a> != <a class="var it33139" onMouseOver="hilite(33139)" onMouseOut="lolite()" onClick="logVariable('commentparam')" href="../_variables/commentparam.html">$commentparam</a>-&gt;<a onClick="logVariable('context')" class="var it44590" onMouseOver="hilite(44590)" onMouseOut="lolite()" href="../_variables/context.html">context</a>-&gt;id) {
<a name="l983"><span class="linenum"> 983</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('comment_exception')" href="../_classes/comment_exception.html" onMouseOver="classPopup(event,'comment_exception')">comment_exception</a>('invalidcontext');
<a name="l984"><span class="linenum"> 984</span></a>              }
<a name="l985"><span class="linenum"> 985</span></a>              if (<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('itemid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a> != <a class="var it33139" onMouseOver="hilite(33139)" onMouseOut="lolite()" onClick="logVariable('commentparam')" href="../_variables/commentparam.html">$commentparam</a>-&gt;<a onClick="logVariable('itemid')" class="var it44590" onMouseOver="hilite(44590)" onMouseOut="lolite()" href="../_variables/itemid.html">itemid</a>) {
<a name="l986"><span class="linenum"> 986</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('comment_exception')" href="../_classes/comment_exception.html" onMouseOver="classPopup(event,'comment_exception')">comment_exception</a>('invalidcommentitemid');
<a name="l987"><span class="linenum"> 987</span></a>              }
<a name="l988"><span class="linenum"> 988</span></a>          } else {
<a name="l989"><span class="linenum"> 989</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('comment_exception')" href="../_classes/comment_exception.html" onMouseOver="classPopup(event,'comment_exception')">comment_exception</a>('invalidcommentid');
<a name="l990"><span class="linenum"> 990</span></a>          }
<a name="l991"><span class="linenum"> 991</span></a>      }
<a name="l992"><span class="linenum"> 992</span></a>  
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">    // Validate if user has blog view permission.</span>
<a name="l994"><span class="linenum"> 994</span></a>      <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l995"><span class="linenum"> 995</span></a>      return <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:view', <a class="var it2136" onMouseOver="hilite(2136)" onMouseOut="lolite()" onClick="logVariable('sitecontext')" href="../_variables/sitecontext.html">$sitecontext</a>) &amp;&amp;
<a name="l996"><span class="linenum"> 996</span></a>              <a class="function" onClick="logFunction('blog_user_can_view_user_entry')" href="../_functions/blog_user_can_view_user_entry.html" onMouseOver="funcPopup(event,'blog_user_can_view_user_entry')">blog_user_can_view_user_entry</a>(<a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a>-&gt;<a onClick="logVariable('userid')" class="var it44587" onMouseOver="hilite(44587)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>, <a class="var it2141" onMouseOver="hilite(2141)" onMouseOut="lolite()" onClick="logVariable('blogentry')" href="../_variables/blogentry.html">$blogentry</a>);
<a name="l997"><span class="linenum"> 997</span></a>  }
<a name="l998"><span class="linenum"> 998</span></a>  
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment">/**</span>
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment"> * Return a list of page types</span>
<a name="l1001"><span class="linenum">1001</span></a>  <span class="comment"> * @param string $pagetype current page type</span>
<a name="l1002"><span class="linenum">1002</span></a>  <span class="comment"> * @param stdClass $parentcontext Block's parent context</span>
<a name="l1003"><span class="linenum">1003</span></a>  <span class="comment"> * @param stdClass $currentcontext Current context of block</span>
<a name="l1004"><span class="linenum">1004</span></a>  <span class="comment"> */</span>
<a name="l1005"><span class="linenum">1005</span></a>  function <a class="function" onClick="logFunction('blog_page_type_list')" href="../_functions/blog_page_type_list.html" onMouseOver="funcPopup(event,'blog_page_type_list')">blog_page_type_list</a>(<a class="var it2278" onMouseOver="hilite(2278)" onMouseOut="lolite()" onClick="logVariable('pagetype')" href="../_variables/pagetype.html">$pagetype</a>, <a class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" onClick="logVariable('parentcontext')" href="../_variables/parentcontext.html">$parentcontext</a>, <a class="var it2280" onMouseOver="hilite(2280)" onMouseOut="lolite()" onClick="logVariable('currentcontext')" href="../_variables/currentcontext.html">$currentcontext</a>) {
<a name="l1006"><span class="linenum">1006</span></a>      return array(
<a name="l1007"><span class="linenum">1007</span></a>          '*' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page-x', 'pagetype'),
<a name="l1008"><span class="linenum">1008</span></a>          'blog-*' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page-blog-x', 'blog'),
<a name="l1009"><span class="linenum">1009</span></a>          'blog-index' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page-blog-index', 'blog'),
<a name="l1010"><span class="linenum">1010</span></a>          'blog-edit' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page-blog-edit', 'blog')
<a name="l1011"><span class="linenum">1011</span></a>      );
<a name="l1012"><span class="linenum">1012</span></a>  }
<a name="l1013"><span class="linenum">1013</span></a>  
<a name="l1014"><span class="linenum">1014</span></a>  <span class="comment">/**</span>
<a name="l1015"><span class="linenum">1015</span></a>  <span class="comment"> * Add nodes to myprofile page.</span>
<a name="l1016"><span class="linenum">1016</span></a>  <span class="comment"> *</span>
<a name="l1017"><span class="linenum">1017</span></a>  <span class="comment"> * @param \core_user\output\myprofile\tree $tree Tree object</span>
<a name="l1018"><span class="linenum">1018</span></a>  <span class="comment"> * @param stdClass $user user object</span>
<a name="l1019"><span class="linenum">1019</span></a>  <span class="comment"> * @param bool $iscurrentuser</span>
<a name="l1020"><span class="linenum">1020</span></a>  <span class="comment"> * @param stdClass $course Course object</span>
<a name="l1021"><span class="linenum">1021</span></a>  <span class="comment"> *</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment"> * @return bool</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment"> */</span>
<a name="l1024"><span class="linenum">1024</span></a>  function <a class="function" onClick="logFunction('core_blog_myprofile_navigation')" href="../_functions/core_blog_myprofile_navigation.html" onMouseOver="funcPopup(event,'core_blog_myprofile_navigation')">core_blog_myprofile_navigation</a>(core_user\output\myprofile\tree <a class="var it2105" onMouseOver="hilite(2105)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it6531" onMouseOver="hilite(6531)" onMouseOut="lolite()" onClick="logVariable('iscurrentuser')" href="../_variables/iscurrentuser.html">$iscurrentuser</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l1025"><span class="linenum">1025</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1026"><span class="linenum">1026</span></a>      if (!<a class="function" onClick="logFunction('blog_is_enabled_for_user')" href="../_functions/blog_is_enabled_for_user.html" onMouseOver="funcPopup(event,'blog_is_enabled_for_user')">blog_is_enabled_for_user</a>() || <a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l1027"><span class="linenum">1027</span></a>  <span class="comment">        // The guest user cannot post, so it is not possible to view any posts.</span>
<a name="l1028"><span class="linenum">1028</span></a>  <span class="comment">        // Also blogs might be disabled.</span>
<a name="l1029"><span class="linenum">1029</span></a>  <span class="comment">        // May as well just bail aggressively here.</span>
<a name="l1030"><span class="linenum">1030</span></a>          return true;
<a name="l1031"><span class="linenum">1031</span></a>      }
<a name="l1032"><span class="linenum">1032</span></a>      if (!<a class="function" onClick="logFunction('blog_user_can_view_user_entry')" href="../_functions/blog_user_can_view_user_entry.html" onMouseOver="funcPopup(event,'blog_user_can_view_user_entry')">blog_user_can_view_user_entry</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l1033"><span class="linenum">1033</span></a>          return true;
<a name="l1034"><span class="linenum">1034</span></a>      }
<a name="l1035"><span class="linenum">1035</span></a>      <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>("<a class="filename" href="../blog/index.php.html">/blog/index.php</a>", array('userid' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l1036"><span class="linenum">1036</span></a>      if (!empty(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>)) {
<a name="l1037"><span class="linenum">1037</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('courseid', <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1038"><span class="linenum">1038</span></a>      }
<a name="l1039"><span class="linenum">1039</span></a>      if (<a class="var it6531" onMouseOver="hilite(6531)" onMouseOut="lolite()" onClick="logVariable('iscurrentuser')" href="../_variables/iscurrentuser.html">$iscurrentuser</a>) {
<a name="l1040"><span class="linenum">1040</span></a>          <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blogentries', 'core_blog');
<a name="l1041"><span class="linenum">1041</span></a>      } else {
<a name="l1042"><span class="linenum">1042</span></a>          <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('myprofileuserblogs', 'core_blog');
<a name="l1043"><span class="linenum">1043</span></a>      }
<a name="l1044"><span class="linenum">1044</span></a>      <a class="var it8319" onMouseOver="hilite(8319)" onMouseOut="lolite()" onClick="logVariable('blognode')" href="../_variables/blognode.html">$blognode</a> = <span class="keyword">new </span><a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>\output\myprofile\<a class="function" onClick="logFunction('node')" href="../_functions/node.html" onMouseOver="funcPopup(event,'node')">node</a>('miscellaneous', 'blogs', <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>, null, <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l1045"><span class="linenum">1045</span></a>      <a class="var it2105" onMouseOver="hilite(2105)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a>-&gt;<a class="function" onClick="logFunction('add_node')" href="../_functions/add_node.html" onMouseOver="funcPopup(event,'add_node')">add_node</a>(<a class="var it8319" onMouseOver="hilite(8319)" onMouseOut="lolite()" onClick="logVariable('blognode')" href="../_variables/blognode.html">$blognode</a>);
<a name="l1046"><span class="linenum">1046</span></a>      return true;
<a name="l1047"><span class="linenum">1047</span></a>  }
<a name="l1048"><span class="linenum">1048</span></a>  
<a name="l1049"><span class="linenum">1049</span></a>  <span class="comment">/**</span>
<a name="l1050"><span class="linenum">1050</span></a>  <span class="comment"> * Returns posts tagged with a specified tag.</span>
<a name="l1051"><span class="linenum">1051</span></a>  <span class="comment"> *</span>
<a name="l1052"><span class="linenum">1052</span></a>  <span class="comment"> * @param core_tag_tag $tag</span>
<a name="l1053"><span class="linenum">1053</span></a>  <span class="comment"> * @param bool $exclusivemode if set to true it means that no other entities tagged with this tag</span>
<a name="l1054"><span class="linenum">1054</span></a>  <span class="comment"> *             are displayed on the page and the per-page limit may be bigger</span>
<a name="l1055"><span class="linenum">1055</span></a>  <span class="comment"> * @param int $fromctx context id where the link was displayed, may be used by callbacks</span>
<a name="l1056"><span class="linenum">1056</span></a>  <span class="comment"> *            to display items in the same context first</span>
<a name="l1057"><span class="linenum">1057</span></a>  <span class="comment"> * @param int $ctx context id where to search for records</span>
<a name="l1058"><span class="linenum">1058</span></a>  <span class="comment"> * @param bool $rec search in subcontexts as well</span>
<a name="l1059"><span class="linenum">1059</span></a>  <span class="comment"> * @param int $page 0-based number of page being displayed</span>
<a name="l1060"><span class="linenum">1060</span></a>  <span class="comment"> * @return \core_tag\output\tagindex</span>
<a name="l1061"><span class="linenum">1061</span></a>  <span class="comment"> */</span>
<a name="l1062"><span class="linenum">1062</span></a>  function <a class="function" onClick="logFunction('blog_get_tagged_posts')" href="../_functions/blog_get_tagged_posts.html" onMouseOver="funcPopup(event,'blog_get_tagged_posts')">blog_get_tagged_posts</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>, <a class="var it1066" onMouseOver="hilite(1066)" onMouseOut="lolite()" onClick="logVariable('exclusivemode')" href="../_variables/exclusivemode.html">$exclusivemode</a> = false, <a class="var it1067" onMouseOver="hilite(1067)" onMouseOut="lolite()" onClick="logVariable('fromctx')" href="../_variables/fromctx.html">$fromctx</a> = 0, <a class="var it1068" onMouseOver="hilite(1068)" onMouseOut="lolite()" onClick="logVariable('ctx')" href="../_variables/ctx.html">$ctx</a> = 0, <a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a> = true, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a> = 0) {
<a name="l1063"><span class="linenum">1063</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1064"><span class="linenum">1064</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../user/lib.php.html">/user/lib.php</a>');
<a name="l1065"><span class="linenum">1065</span></a>  
<a name="l1066"><span class="linenum">1066</span></a>      <a class="var it221" onMouseOver="hilite(221)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../_variables/systemcontext.html">$systemcontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l1067"><span class="linenum">1067</span></a>      <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../_variables/perpage.html">$perpage</a> = <a class="var it1066" onMouseOver="hilite(1066)" onMouseOut="lolite()" onClick="logVariable('exclusivemode')" href="../_variables/exclusivemode.html">$exclusivemode</a> ? 20 : 5;
<a name="l1068"><span class="linenum">1068</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="var it1068" onMouseOver="hilite(1068)" onMouseOut="lolite()" onClick="logVariable('ctx')" href="../_variables/ctx.html">$ctx</a> ? context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it1068" onMouseOver="hilite(1068)" onMouseOut="lolite()" onClick="logVariable('ctx')" href="../_variables/ctx.html">$ctx</a>) : <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l1069"><span class="linenum">1069</span></a>  
<a name="l1070"><span class="linenum">1070</span></a>      <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = '';
<a name="l1071"><span class="linenum">1071</span></a>      if (empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('enableblogs')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/enableblogs.html">enableblogs</a>) || !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/blog:view', <a class="var it221" onMouseOver="hilite(221)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../_variables/systemcontext.html">$systemcontext</a>)) {
<a name="l1072"><span class="linenum">1072</span></a>  <span class="comment">        // Blogs are not enabled or are not visible to the current user.</span>
<a name="l1073"><span class="linenum">1073</span></a>          <a class="var it1073" onMouseOver="hilite(1073)" onMouseOut="lolite()" onClick="logVariable('totalpages')" href="../_variables/totalpages.html">$totalpages</a> = 0;
<a name="l1074"><span class="linenum">1074</span></a>      } else if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a> &amp;&amp; empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('useblogassociations')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/useblogassociations.html">useblogassociations</a>)) {
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment">        // No blog entries can be associated to the non-system context.</span>
<a name="l1076"><span class="linenum">1076</span></a>          <a class="var it1073" onMouseOver="hilite(1073)" onMouseOut="lolite()" onClick="logVariable('totalpages')" href="../_variables/totalpages.html">$totalpages</a> = 0;
<a name="l1077"><span class="linenum">1077</span></a>      } else if (!<a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a> &amp;&amp; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a> &amp;&amp; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>) {
<a name="l1078"><span class="linenum">1078</span></a>  <span class="comment">        // No blog entries can be associated with category or block context.</span>
<a name="l1079"><span class="linenum">1079</span></a>          <a class="var it1073" onMouseOver="hilite(1073)" onMouseOut="lolite()" onClick="logVariable('totalpages')" href="../_variables/totalpages.html">$totalpages</a> = 0;
<a name="l1080"><span class="linenum">1080</span></a>      } else {
<a name="l1081"><span class="linenum">1081</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../blog/locallib.php.html">/blog/locallib.php</a>');
<a name="l1082"><span class="linenum">1082</span></a>  
<a name="l1083"><span class="linenum">1083</span></a>          <a class="var it655" onMouseOver="hilite(655)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a> = array('tag' =&gt; <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('id')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1084"><span class="linenum">1084</span></a>          if (<a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>) {
<a name="l1085"><span class="linenum">1085</span></a>              if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>) {
<a name="l1086"><span class="linenum">1086</span></a>                  <a class="var it655" onMouseOver="hilite(655)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a>['context'] = <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l1087"><span class="linenum">1087</span></a>              }
<a name="l1088"><span class="linenum">1088</span></a>          } else if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> == <a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a>) {
<a name="l1089"><span class="linenum">1089</span></a>              <a class="var it655" onMouseOver="hilite(655)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a>['course'] = <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('instanceid')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a>;
<a name="l1090"><span class="linenum">1090</span></a>          } else if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> == <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>) {
<a name="l1091"><span class="linenum">1091</span></a>              <a class="var it655" onMouseOver="hilite(655)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a>['module'] = <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('instanceid')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a>;
<a name="l1092"><span class="linenum">1092</span></a>          }
<a name="l1093"><span class="linenum">1093</span></a>          <a class="var it2139" onMouseOver="hilite(2139)" onMouseOut="lolite()" onClick="logVariable('bloglisting')" href="../_variables/bloglisting.html">$bloglisting</a> = <span class="keyword">new </span><a class="class" onClick="logClass('blog_listing')" href="../_classes/blog_listing.html" onMouseOver="classPopup(event,'blog_listing')">blog_listing</a>(<a class="var it655" onMouseOver="hilite(655)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../_variables/filters.html">$filters</a>);
<a name="l1094"><span class="linenum">1094</span></a>          <a class="var it18698" onMouseOver="hilite(18698)" onMouseOut="lolite()" onClick="logVariable('blogs')" href="../_variables/blogs.html">$blogs</a> = <a class="var it2139" onMouseOver="hilite(2139)" onMouseOut="lolite()" onClick="logVariable('bloglisting')" href="../_variables/bloglisting.html">$bloglisting</a>-&gt;<a class="function" onClick="logFunction('get_entries')" href="../_functions/get_entries.html" onMouseOver="funcPopup(event,'get_entries')">get_entries</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a> * <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../_variables/perpage.html">$perpage</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../_variables/perpage.html">$perpage</a>);
<a name="l1095"><span class="linenum">1095</span></a>          <a class="var it3822" onMouseOver="hilite(3822)" onMouseOut="lolite()" onClick="logVariable('totalcount')" href="../_variables/totalcount.html">$totalcount</a> = <a class="var it2139" onMouseOver="hilite(2139)" onMouseOut="lolite()" onClick="logVariable('bloglisting')" href="../_variables/bloglisting.html">$bloglisting</a>-&gt;<a class="function" onClick="logFunction('count_entries')" href="../_functions/count_entries.html" onMouseOver="funcPopup(event,'count_entries')">count_entries</a>();
<a name="l1096"><span class="linenum">1096</span></a>          <a class="var it1073" onMouseOver="hilite(1073)" onMouseOut="lolite()" onClick="logVariable('totalpages')" href="../_variables/totalpages.html">$totalpages</a> = <a class="phpfunction" onClick="logFunction('ceil')" href="../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>(<a class="var it3822" onMouseOver="hilite(3822)" onMouseOut="lolite()" onClick="logVariable('totalcount')" href="../_variables/totalcount.html">$totalcount</a> / <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../_variables/perpage.html">$perpage</a>);
<a name="l1097"><span class="linenum">1097</span></a>          if (!empty(<a class="var it18698" onMouseOver="hilite(18698)" onMouseOut="lolite()" onClick="logVariable('blogs')" href="../_variables/blogs.html">$blogs</a>)) {
<a name="l1098"><span class="linenum">1098</span></a>              <a class="var it1078" onMouseOver="hilite(1078)" onMouseOut="lolite()" onClick="logVariable('tagfeed')" href="../_variables/tagfeed.html">$tagfeed</a> = new core_tag\output\tagfeed();
<a name="l1099"><span class="linenum">1099</span></a>              foreach (<a class="var it18698" onMouseOver="hilite(18698)" onMouseOut="lolite()" onClick="logVariable('blogs')" href="../_variables/blogs.html">$blogs</a> as <a class="var it18720" onMouseOver="hilite(18720)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../_variables/blog.html">$blog</a>) {
<a name="l1100"><span class="linenum">1100</span></a>                  <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="function" onClick="logFunction('fullclone')" href="../_functions/fullclone.html" onMouseOver="funcPopup(event,'fullclone')">fullclone</a>(<a class="var it18720" onMouseOver="hilite(18720)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../_variables/blog.html">$blog</a>);
<a name="l1101"><span class="linenum">1101</span></a>                  <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a> = <a class="var it18720" onMouseOver="hilite(18720)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../_variables/blog.html">$blog</a>-&gt;<a onClick="logVariable('userid')" class="var it44584" onMouseOver="hilite(44584)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>;
<a name="l1102"><span class="linenum">1102</span></a>                  <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('deleted')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/deleted.html">deleted</a> = 0;
<a name="l1103"><span class="linenum">1103</span></a>                  <a class="var it8104" onMouseOver="hilite(8104)" onMouseOut="lolite()" onClick="logVariable('img')" href="../_variables/img.html">$img</a> = <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('user_picture')" href="../_functions/user_picture.html" onMouseOver="funcPopup(event,'user_picture')">user_picture</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, array('size' =&gt; 35));
<a name="l1104"><span class="linenum">1104</span></a>                  <a class="var it1792" onMouseOver="hilite(1792)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../_variables/subject.html">$subject</a> = <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it18720" onMouseOver="hilite(18720)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../_variables/blog.html">$blog</a>-&gt;<a onClick="logVariable('subject')" class="var it44584" onMouseOver="hilite(44584)" onMouseOut="lolite()" href="../_variables/subject.html">subject</a>);
<a name="l1105"><span class="linenum">1105</span></a>  
<a name="l1106"><span class="linenum">1106</span></a>                  if (<a class="var it18720" onMouseOver="hilite(18720)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../_variables/blog.html">$blog</a>-&gt;<a onClick="logVariable('publishstate')" class="var it44584" onMouseOver="hilite(44584)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a> == 'draft') {
<a name="l1107"><span class="linenum">1107</span></a>                      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a> = 'dimmed';
<a name="l1108"><span class="linenum">1108</span></a>                  } else {
<a name="l1109"><span class="linenum">1109</span></a>                      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a> = '';
<a name="l1110"><span class="linenum">1110</span></a>                  }
<a name="l1111"><span class="linenum">1111</span></a>  
<a name="l1112"><span class="linenum">1112</span></a>                  <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>', array('entryid' =&gt; <a class="var it18720" onMouseOver="hilite(18720)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../_variables/blog.html">$blog</a>-&gt;<a onClick="logVariable('id')" class="var it44584" onMouseOver="hilite(44584)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l1113"><span class="linenum">1113</span></a>                  <a class="var it1792" onMouseOver="hilite(1792)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../_variables/subject.html">$subject</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it1792" onMouseOver="hilite(1792)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../_variables/subject.html">$subject</a>, array('class' =&gt; <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>));
<a name="l1114"><span class="linenum">1114</span></a>  
<a name="l1115"><span class="linenum">1115</span></a>                  <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a> = <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l1116"><span class="linenum">1116</span></a>                  if (<a class="function" onClick="logFunction('user_can_view_profile')" href="../_functions/user_can_view_profile.html" onMouseOver="funcPopup(event,'user_can_view_profile')">user_can_view_profile</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l1117"><span class="linenum">1117</span></a>                      <a class="var it2678" onMouseOver="hilite(2678)" onMouseOut="lolite()" onClick="logVariable('profilelink')" href="../_variables/profilelink.html">$profilelink</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../user/view.php.html">/user/view.php</a>', array('id' =&gt; <a class="var it18720" onMouseOver="hilite(18720)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../_variables/blog.html">$blog</a>-&gt;<a onClick="logVariable('userid')" class="var it44584" onMouseOver="hilite(44584)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>));
<a name="l1118"><span class="linenum">1118</span></a>                      <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it2678" onMouseOver="hilite(2678)" onMouseOut="lolite()" onClick="logVariable('profilelink')" href="../_variables/profilelink.html">$profilelink</a>, <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>);
<a name="l1119"><span class="linenum">1119</span></a>                  }
<a name="l1120"><span class="linenum">1120</span></a>                  <a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../_variables/details.html">$details</a> = <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a> . ', ' . <a class="function" onClick="logFunction('userdate')" href="../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it18720" onMouseOver="hilite(18720)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../_variables/blog.html">$blog</a>-&gt;<a onClick="logVariable('created')" class="var it44584" onMouseOver="hilite(44584)" onMouseOut="lolite()" href="../_variables/created.html">created</a>);
<a name="l1121"><span class="linenum">1121</span></a>  
<a name="l1122"><span class="linenum">1122</span></a>                  <a class="var it1078" onMouseOver="hilite(1078)" onMouseOut="lolite()" onClick="logVariable('tagfeed')" href="../_variables/tagfeed.html">$tagfeed</a>-&gt;<a class="function" onClick="logFunction('add')" href="../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it8104" onMouseOver="hilite(8104)" onMouseOut="lolite()" onClick="logVariable('img')" href="../_variables/img.html">$img</a>, <a class="var it1792" onMouseOver="hilite(1792)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../_variables/subject.html">$subject</a>, <a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../_variables/details.html">$details</a>);
<a name="l1123"><span class="linenum">1123</span></a>              }
<a name="l1124"><span class="linenum">1124</span></a>  
<a name="l1125"><span class="linenum">1125</span></a>              <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a> = <a class="var it1078" onMouseOver="hilite(1078)" onMouseOut="lolite()" onClick="logVariable('tagfeed')" href="../_variables/tagfeed.html">$tagfeed</a>-&gt;<a class="function" onClick="logFunction('export_for_template')" href="../_functions/export_for_template.html" onMouseOver="funcPopup(event,'export_for_template')">export_for_template</a>(<a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>);
<a name="l1126"><span class="linenum">1126</span></a>              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('render_from_template')" href="../_functions/render_from_template.html" onMouseOver="funcPopup(event,'render_from_template')">render_from_template</a>('core_tag/tagfeed', <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../_variables/items.html">$items</a>);
<a name="l1127"><span class="linenum">1127</span></a>  
<a name="l1128"><span class="linenum">1128</span></a>              <a class="var it4704" onMouseOver="hilite(4704)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../_variables/urlparams.html">$urlparams</a> = array('tagid' =&gt; <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('id')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1129"><span class="linenum">1129</span></a>              if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> == <a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a>) {
<a name="l1130"><span class="linenum">1130</span></a>                  <a class="var it4704" onMouseOver="hilite(4704)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../_variables/urlparams.html">$urlparams</a>['courseid'] = <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('instanceid')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a>;
<a name="l1131"><span class="linenum">1131</span></a>              } else if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> == <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>) {
<a name="l1132"><span class="linenum">1132</span></a>                  <a class="var it4704" onMouseOver="hilite(4704)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../_variables/urlparams.html">$urlparams</a>['modid'] = <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('instanceid')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a>;
<a name="l1133"><span class="linenum">1133</span></a>              }
<a name="l1134"><span class="linenum">1134</span></a>              <a class="var it33141" onMouseOver="hilite(33141)" onMouseOut="lolite()" onClick="logVariable('allblogsurl')" href="../_variables/allblogsurl.html">$allblogsurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>', <a class="var it4704" onMouseOver="hilite(4704)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../_variables/urlparams.html">$urlparams</a>);
<a name="l1135"><span class="linenum">1135</span></a>  
<a name="l1136"><span class="linenum">1136</span></a>              <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a> = new core_tag\output\tagindex(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>, 'core', 'post',
<a name="l1137"><span class="linenum">1137</span></a>                      <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>,
<a name="l1138"><span class="linenum">1138</span></a>                      <a class="var it1066" onMouseOver="hilite(1066)" onMouseOut="lolite()" onClick="logVariable('exclusivemode')" href="../_variables/exclusivemode.html">$exclusivemode</a>, <a class="var it1067" onMouseOver="hilite(1067)" onMouseOut="lolite()" onClick="logVariable('fromctx')" href="../_variables/fromctx.html">$fromctx</a>, <a class="var it1068" onMouseOver="hilite(1068)" onMouseOut="lolite()" onClick="logVariable('ctx')" href="../_variables/ctx.html">$ctx</a>, <a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it1073" onMouseOver="hilite(1073)" onMouseOut="lolite()" onClick="logVariable('totalpages')" href="../_variables/totalpages.html">$totalpages</a>);
<a name="l1139"><span class="linenum">1139</span></a>              <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>-&gt;<a onClick="logVariable('exclusiveurl')" class="var it44591" onMouseOver="hilite(44591)" onMouseOut="lolite()" href="../_variables/exclusiveurl.html">exclusiveurl</a> = <a class="var it33141" onMouseOver="hilite(33141)" onMouseOut="lolite()" onClick="logVariable('allblogsurl')" href="../_variables/allblogsurl.html">$allblogsurl</a>;
<a name="l1140"><span class="linenum">1140</span></a>              return <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>;
<a name="l1141"><span class="linenum">1141</span></a>          }
<a name="l1142"><span class="linenum">1142</span></a>      }
<a name="l1143"><span class="linenum">1143</span></a>  
<a name="l1144"><span class="linenum">1144</span></a>      <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a> = new core_tag\output\tagindex(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>, 'core', 'post',
<a name="l1145"><span class="linenum">1145</span></a>              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>,
<a name="l1146"><span class="linenum">1146</span></a>              <a class="var it1066" onMouseOver="hilite(1066)" onMouseOut="lolite()" onClick="logVariable('exclusivemode')" href="../_variables/exclusivemode.html">$exclusivemode</a>, <a class="var it1067" onMouseOver="hilite(1067)" onMouseOut="lolite()" onClick="logVariable('fromctx')" href="../_variables/fromctx.html">$fromctx</a>, <a class="var it1068" onMouseOver="hilite(1068)" onMouseOut="lolite()" onClick="logVariable('ctx')" href="../_variables/ctx.html">$ctx</a>, <a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it1073" onMouseOver="hilite(1073)" onMouseOut="lolite()" onClick="logVariable('totalpages')" href="../_variables/totalpages.html">$totalpages</a>);
<a name="l1147"><span class="linenum">1147</span></a>      <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>-&gt;<a onClick="logVariable('exclusiveurl')" class="var it44591" onMouseOver="hilite(44591)" onMouseOut="lolite()" href="../_variables/exclusiveurl.html">exclusiveurl</a> = null;
<a name="l1148"><span class="linenum">1148</span></a>      return <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>;
<a name="l1149"><span class="linenum">1149</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_categories': ['get_categories', '', [['lib','deprecatedlib.php',1563],['mod/glossary/classes','external.php',613],['lib/simplepie/library','SimplePie.php',2033],['lib/simplepie/library/SimplePie','Source.php',153],['lib/simplepie/library/SimplePie','Enclosure.php',347],['lib/simplepie/library/SimplePie','Item.php',430],['course','externallib.php',1472],['blocks/tag_youtube','block_tag_youtube.php',344]], 17],
'fullclone': ['fullclone', 'This function will make a complete copy of anything it\'s given, regardless of whether it\'s an object or not. ', [['lib','moodlelib.php',8726]], 26],
'core_blog_myprofile_navigation': ['core_blog_myprofile_navigation', 'Add nodes to myprofile page. ', [['blog','lib.php',1014]], 3],
'blog_get_options_for_module': ['blog_get_options_for_module', 'Get the blog options relating to the given module for the given user ', [['blog','lib.php',518]], 1],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects. ', [['lib/dml','pdo_moodle_database.php',309],['lib/dml','oci_native_moodle_database.php',1145],['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','mssql_native_moodle_database.php',805],['lib/dml','mysqli_native_moodle_database.php',1057],['lib/dml','sqlsrv_native_moodle_database.php',890],['lib/dml/tests','dml_test.php',5545]], 700],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'set_feed_url': ['set_feed_url', 'Set the URL of the feed you want to parse ', [['lib/simplepie/library','SimplePie.php',703]], 10],
'blog_comment_validate': ['blog_comment_validate', 'Validate comment parameter before perform other comments actions ', [['blog','lib.php',946]], 0],
'blog_get_headers': ['blog_get_headers', 'This function encapsulates all the logic behind the complex navigation, titles and headings of the blog listing page, depending on URL params. It looks at URL params and at the current context level. It builds and returns an array containing: ', [['blog','lib.php',595]], 8],
'get_permalink': ['get_permalink', 'Get the permalink for the item ', [['lib/simplepie/library','SimplePie.php',2303],['lib/simplepie/library/SimplePie','Source.php',377],['lib/simplepie/library/SimplePie','Item.php',917],['mod/forum/classes/output','forum_post.php',335],['blocks/rss_client/classes/output','item.php',236]], 9],
'blog_get_all_options': ['blog_get_all_options', 'This function gets all of the options available for the current user in respect to blogs. ', [['blog','lib.php',308]], 1],
'get_title': ['get_title', 'Return criteria title for display in reports ', [['completion/criteria','completion_criteria_course.php',120],['question/classes/bank','question_type_column.php',30],['lib/simplepie/library','SimplePie.php',1969],['completion/criteria','completion_criteria_date.php',106],['lib/simplepie/library/SimplePie','Source.php',104],['question/classes/bank','question_text_row.php',39],['question/classes/bank','modifier_name_column.php',31],['question/classes/bank','checkbox_column.php',36],['lib','outputcomponents.php',2764],['question/classes/bank','action_column_base.php',28],['lib/simplepie/library/SimplePie','Enclosure.php',860],['lib','navigationlib.php',582],['completion/criteria','completion_criteria_role.php',118],['lib/simplepie/library/SimplePie','Item.php',260],['question/classes/bank','question_name_column.php',32],['blocks','moodleblock.class.php',155],['blocks/rss_client/classes/output','channel_image.php',122],['blocks/rss_client/classes/output','item.php',194],['completion/criteria','completion_criteria_self.php',109],['completion/criteria','completion_criteria_grade.php',131],['completion/criteria','completion_criteria_unenrol.php',92],['lib','authlib.php',531],['enrol','locallib.php',1404],['lib/classes','chart_base.php',141],['blocks/rss_client/classes/output','feed.php',125],['badges/criteria','award_criteria.php',162],['completion/criteria','completion_criteria_activity.php',166],['question/classes/bank','creator_name_column.php',32],['enrol/manual','locallib.php',167],['enrol/manual','locallib.php',314],['completion/criteria','completion_criteria_duration.php',153]], 73],
'blog_remove_associations_for_course': ['blog_remove_associations_for_course', 'remove all associations for the blog entries of a particular course ', [['blog','lib.php',128]], 1],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',769]], 635],
'set_cm': ['set_cm', 'The course module that this page belongs to (if it does belong to one). ', [['lib','pagelib.php',1002]], 33],
'init': ['init', 'Init method. ', [['lib/classes/event','competency_plan_unlinked.php',90],['lib/classes/session','file.php',53],['lib/classes/event','grouping_group_assigned.php',66],['admin/tool/xmldb/actions/view_table_sql','view_table_sql.class.php',33],['lib/classes/event','enrol_instance_deleted.php',88],['report/log/classes/event','user_report_viewed.php',44],['mod/quiz/classes/event','attempt_reviewed.php',44],['lib/classes/event','tag_unflagged.php',46],['mod/workshop/allocation/scheduled','lib.php',52],['lib/classes/event','role_unassigned.php',47],['mod/assign/classes/event','grading_form_viewed.php',74],['question/classes/bank','edit_action_column.php',29],['blocks/blog_menu','block_blog_menu.php',32],['mod/workshop/classes/event','submission_deleted.php',44],['admin/tool/xmldb/actions/view_table_php','view_table_php.class.php',33],['mod/forum/classes/event','discussion_updated.php',44],['lib/classes/event','course_module_instance_list_viewed.php',49],['lib/classes/event','course_created.php',46],['mod/assign/classes/event','extension_granted.php',86],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','attributes.js',1],['blocks/course_overview','block_course_overview.php',38],['admin/tool/xmldb/actions/delete_index','delete_index.class.php',32],['lib/classes/event','course_deleted.php',47],['lib/minify/lib','FirePHP.php',221],['lib/lessphp','Environment.php',56],['mod/forum/classes/event','readtracking_enabled.php',44],['mod/wiki/classes/event','page_created.php',37],['lib/classes/event','competency_viewed.php',88],['mod/choice/classes/event','answer_updated.php',90],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','row.js',3],['lib/minify/lib','JSMinPlus.php',1753],['lib/classes/event','search_indexed.php',39],['lib/classes/event','badge_criteria_updated.php',44],['mod/wiki/classes/event','page_version_deleted.php',43],['lib/classes/event','competency_user_competency_rated_in_plan.php',107],['lib/classes/event','webservice_token_sent.php',65],['mod/glossary/classes/event','entry_deleted.php',45],['lib/classes/event','competency_template_viewed.php',90],['mod/feedback/classes','responses_anon_table.php',42],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',57],['admin/tool/langimport/classes/event','langpack_removed.php',61],['mod/glossary/classes/event','category_deleted.php',37],['mod/lti/classes/event','unknown_service_api_called.php',64],['lib/classes/event','badge_deleted.php',40],['mod/quiz/classes/event','user_override_updated.php',45],['lib/classes/event','message_contact_added.php',39],['lib/classes/event','cohort_member_added.php',38],['lib/classes/event','blog_entry_updated.php',42],['admin/tool/xmldb/actions/move_updown_table','move_updown_table.class.php',32],['mod/assign/classes/event','workflow_state_updated.php',97],['blocks/completionstatus','block_completionstatus.php',36],['mod/forum/classes/event','assessable_uploaded.php',104],['mod/assign/classes/event','submission_created.php',49],['lib/classes/event','group_deleted.php',83],['lib/classes/event','role_allow_assign_updated.php',39],['lib/simplepie/library','SimplePie.php',1198],['blocks/globalsearch','block_globalsearch.php',36],['lib/tests','blocklib_test.php',564],['lib/tests/fixtures','stats_events.php',32],['lib/tests/fixtures','stats_events.php',39],['lib/tests/fixtures','stats_events.php',46],['lib/tests/fixtures','stats_events.php',53],['mod/lesson/classes/event','highscore_added.php',50],['mod/forum/classes/event','discussion_pinned.php',35],['lib/classes/event','webservice_function_called.php',76],['lib/classes/event','competency_plan_reopened.php',93],['mod/lesson/classes/event','essay_attempt_viewed.php',39],['mod/wiki/classes/event','page_locks_deleted.php',43],['lib/classes/event','webservice_service_deleted.php',77],['mod/forum/classes/event','discussion_subscription_created.php',45],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',242],['admin/tool/log/store/database/tests/fixtures','event.php',39],['mod/workshop/classes/event','assessable_uploaded.php',112],['lib','csslib.php',1493],['lib','csslib.php',1579],['lib','csslib.php',2462],['lib','csslib.php',2572],['lib','csslib.php',2593],['lib','csslib.php',2732],['lib','csslib.php',2762],['lib','csslib.php',2792],['lib','csslib.php',2822],['lib','csslib.php',2852],['lib','csslib.php',3186],['lib','csslib.php',3266],['lib','csslib.php',3309],['lib','csslib.php',3352],['lib','csslib.php',3395],['lib','csslib.php',3438],['lib','csslib.php',3525],['lib','csslib.php',3578],['lib','csslib.php',3608],['lib','csslib.php',3638],['lib','csslib.php',3668],['lib','csslib.php',3698],['lib','csslib.php',3728],['lib','csslib.php',3758],['lib','csslib.php',3788],['lib','csslib.php',3818],['lib','csslib.php',3848],['lib','csslib.php',3878],['lib','csslib.php',3908],['lib','csslib.php',3938],['lib','csslib.php',4243],['lib','csslib.php',4277],['lib','csslib.php',4328],['lib','csslib.php',4381],['lib','csslib.php',4413],['lib','csslib.php',4464],['lib','csslib.php',4515],['lib','csslib.php',4566],['lib','csslib.php',4596],['lib','csslib.php',4626],['lib','csslib.php',4656],['lib','csslib.php',4791],['lib','csslib.php',4821],['lib','csslib.php',4851],['lib','csslib.php',4881],['lib','csslib.php',4910],['lib','csslib.php',4945],['lib','csslib.php',4977],['lib/classes/event','user_loggedout.php',44],['lib/classes/event','webservice_token_created.php',83],['lib/classes/event','tag_collection_updated.php',39],['mod/data/classes/event','field_deleted.php',46],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','File.php',44],['mod/book/classes/event','chapter_created.php',100],['lib/classes/event','email_failed.php',48],['admin/tool/xmldb/actions/view_structure_sql','view_structure_sql.class.php',33],['blocks/calendar_upcoming','block_calendar_upcoming.php',26],['mod/survey/classes/event','report_downloaded.php',46],['mod/workshop/classes/event','phase_switched.php',44],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','table.js',295],['admin/tool/xmldb/actions/edit_key_save','edit_key_save.class.php',33],['blocks/private_files','block_private_files.php',28],['mod/page/classes/event','course_module_viewed.php',38],['lib/classes/event','course_reset_started.php',71],['mod/workshop/classes/event','assessment_evaluated.php',45],['lib/classes/event','blog_association_created.php',46],['backup/converter','convertlib.php',211],['report/outline/classes/event','activity_report_viewed.php',38],['lib/classes/event','competency_plan_updated.php',93],['mod/choice/classes/event','answer_submitted.php',90],['blocks/admin_bookmarks','block_admin_bookmarks.php',41],['admin/tool/xmldb/actions/view_field_xml','view_field_xml.class.php',32],['blocks/myprofile','block_myprofile.php',40],['mod/lesson/classes/event','lesson_ended.php',40],['lib/classes/event','role_allow_switch_updated.php',39],['lib/classes/session','memcache.php',88],['lib/classes/event','competency_user_competency_rated_in_course.php',107],['question/classes/bank','question_text_row.php',29],['lib/classes/event','tag_created.php',46],['report/participation/classes/event','report_viewed.php',48],['lib/classes/event','role_capabilities_updated.php',42],['blocks/mentees','block_mentees.php',27],['lib','csvlib.class.php',216],['mod/survey/classes/event','response_submitted.php',45],['lib/classes/event','badge_archived.php',38],['mod/workshop/classes/event','assessment_reevaluated.php',45],['mod/assign/classes/event','submission_locked.php',87],['admin/tool/xmldb/actions/view_table_xml','view_table_xml.class.php',32],['report/outline/classes/event','report_viewed.php',44],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/style/js','props.js',57],['lib/classes/event','user_deleted.php',48],['lib/classes/event','mnet_access_control_updated.php',48],['mod/lesson/classes/event','essay_assessed.php',46],['blocks/html','block_html.php',27],['mod/book/tool/print/classes/event','book_printed.php',94],['mod/feedback/classes','responses_table.php',82],['lib/classes/event','grouping_deleted.php',90],['blocks/section_links','block_section_links.php',34],['lib/classes/event','course_viewed.php',46],['mod/forum/classes/event','user_report_viewed.php',45],['admin/tool/xmldb/actions/check_bigints','check_bigints.class.php',32],['admin/tool/xmldb/actions/check_defaults','check_defaults.class.php',34],['admin/tool/xmldb/actions/edit_xml_file_save','edit_xml_file_save.class.php',32],['admin/tool/xmldb/actions/move_updown_index','move_updown_index.class.php',32],['mod/quiz/classes/event','attempt_summary_viewed.php',45],['lib/classes/event','webservice_service_user_added.php',77],['mod/forum/classes/event','discussion_unpinned.php',35],['lib/classes/event','grouping_group_unassigned.php',66],['blocks/lp','block_lp.php',45],['mod/assign/submission/file/classes/event','submission_updated.php',45],['mod/quiz/report','attemptsreport.php',67],['mod/chat/classes/event','message_sent.php',77],['mod/chat/classes/event','course_module_viewed.php',38],['lib/classes/event','role_assigned.php',47],['blocks/site_main_menu','block_site_main_menu.php',26],['blocks/social_activities','block_social_activities.php',26],['lib/htmlpurifier/HTMLPurifier/ChildDef','StrictBlockquote.php',97],['mod/glossary/classes/event','entry_viewed.php',39],['mod/data/classes/event','record_created.php',45],['admin/tool/xmldb/actions/main_view','main_view.class.php',35],['lib/classes/event','course_category_deleted.php',50],['mod/quiz/classes/event','course_module_viewed.php',39],['lib/classes/event','role_deleted.php',46],['blocks/tag_flickr','block_tag_flickr.php',30],['mod/wiki/classes/event','page_version_viewed.php',43],['admin/tool/recyclebin/classes/event','category_bin_item_deleted.php',38],['mod/data/classes/event','course_module_viewed.php',40],['auth/cas/CAS/CAS/PGTStorage','File.php',150],['mod/choice/classes/event','course_module_viewed.php',38],['admin/tool/log/store/standard/tests/fixtures','event.php',39],['admin/tool/monitor/classes/event','rule_created.php',39],['admin/tool/xmldb/actions/check_oracle_semantics','check_oracle_semantics.class.php',37],['question/classes/bank','checkbox_column.php',28],['lib/classes/event','competency_user_competency_plan_viewed.php',100],['lib/adodb/drivers','adodb-pdo.inc.php',651],['mod/forum/classes/event','course_module_viewed.php',39],['mod/workshop/classes/event','submission_updated.php',44],['mod/choice/classes/event','report_viewed.php',44],['mod/lesson/classes/event','group_override_deleted.php',45],['mod/wiki/classes/event','page_map_viewed.php',43],['blocks/mnet_hosts','block_mnet_hosts.php',26],['admin/tool/log/store/legacy/tests/fixtures','event.php',39],['admin/tool/xmldb/actions/new_index','new_index.class.php',32],['admin/tool/xmldb/actions/get_db_directories','get_db_directories.class.php',33],['mod/lesson/classes/event','question_answered.php',45],['mod/choice/classes/event','report_downloaded.php',46],['lib/classes/event','competency_user_evidence_created.php',91],['lib/classes/event','course_module_completion_updated.php',45],['admin/tool/xmldb/actions/delete_xml_file','delete_xml_file.class.php',32],['backup/util/xml/output','file_xml_output.class.php',44],['question/engine','states.php',64],['lib/classes/event','note_updated.php',47],['lib/classes/event','note_created.php',47],['lib/classes/event','competency_framework_created.php',90],['lib/classes/event','course_resources_list_viewed.php',41],['lib/classes/event','tag_updated.php',49],['mod/forum/classes/event','subscribers_viewed.php',45],['question/classes/bank','column_base.php',53],['mod/book/tool/exportimscp/classes/event','book_exported.php',94],['mod/quiz/classes/question/bank','add_action_column.php',40],['blocks/quiz_results','block_quiz_results.php',40],['lib/classes/event','user_enrolment_deleted.php',45],['admin/tool/recyclebin/classes/event','course_bin_item_restored.php',38],['admin/tool/xmldb/actions/unload_xml_file','unload_xml_file.class.php',32],['lib/classes/event','webservice_service_updated.php',77],['mod/lesson/classes/event','group_override_created.php',46],['admin/tool/xmldb/actions/view_index_xml','view_index_xml.class.php',32],['admin/tool/xmldb/actions/generate_documentation','generate_documentation.class.php',32],['mod/scorm/classes/event','attempt_deleted.php',44],['admin/tool/xmldb/actions/new_field','new_field.class.php',32],['lib/classes/event','competency_user_competency_review_request_cancelled.php',90],['lib/classes/event','webservice_service_created.php',83],['mod/workshop/allocation/random','lib.php',56],['mod/wiki/classes/event','page_version_restored.php',43],['mod/forum/classes/event','discussion_deleted.php',45],['lib/classes/event','competency_framework_updated.php',91],['mod/lesson/classes/event','lesson_restarted.php',39],['mod/wiki/classes/event','page_updated.php',43],['mod/assign/classes/event','marker_updated.php',98],['admin/tool/xmldb/actions/new_key','new_key.class.php',32],['admin/tool/xmldb/actions/check_indexes','check_indexes.class.php',34],['admin/tool/xmldb/actions/new_table_from_mysql','new_table_from_mysql.class.php',33],['lib/classes/event','course_module_updated.php',48],['admin/tool/xmldb/actions/delete_field','delete_field.class.php',32],['lib/classes/event','competency_template_deleted.php',82],['blocks/settings','block_settings.php',46],['mod/assign/classes/event','submission_confirmation_form_viewed.php',71],['report/questioninstances/classes/event','report_viewed.php',44],['lib/classes/event','message_contact_blocked.php',39],['lib/classes/event','competency_template_updated.php',93],['lib/classes/event','badge_disabled.php',38],['mod/assign/classes/event','grading_table_viewed.php',71],['lib/classes/event','badge_enabled.php',38],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','del.js',1],['mod/quiz/classes/event','edit_page_viewed.php',45],['blocks/activity_modules','block_activity_modules.php',29],['mod/scorm/classes/event','tracks_viewed.php',46],['mod/wiki/classes/event','page_diff_viewed.php',44],['lib/tcpdf/include/barcodes','qrcode.php',854],['lib/classes/event','assessable_submitted.php',46],['lib/classes/event','grouping_created.php',83],['mod/assign/submission/onlinetext/classes/event','submission_created.php',45],['lib/classes/event','calendar_event_deleted.php',47],['lib/classes/event','group_updated.php',83],['mod/book/classes/event','chapter_updated.php',100],['lib/classes/event','grade_deleted.php',50],['admin/tool/recyclebin/classes/event','course_bin_item_created.php',38],['lib/classes/event','user_loggedin.php',91],['mod/forum/classes/event','subscription_created.php',44],['lib/classes/event','tag_collection_created.php',39],['grade/report/overview/classes/event','grade_report_viewed.php',39],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',71],['mod/quiz/classes/event','group_override_updated.php',45],['lib/classes/event','competency_plan_created.php',90],['mod/glossary/classes/event','entry_disapproved.php',37],['lib/classes/event','message_viewed.php',45],['lib/classes/event','comment_created.php',47],['lib/classes/event','course_content_deleted.php',45],['blocks/glossary_random','block_glossary_random.php',38],['mod/feedback/classes/event','response_deleted.php',48],['lib/classes/event','competency_evidence_created.php',125],['lib/classes/event','comment_deleted.php',47],['lib/classes/event','competency_user_competency_review_requested.php',90],['mod/quiz/classes/event','attempt_abandoned.php',44],['admin/tool/xmldb/actions/delete_table','delete_table.class.php',32],['mod/scorm/classes/event','user_report_viewed.php',45],['mod/quiz/classes/event','attempt_becameoverdue.php',47],['mod/quiz/classes/event','group_override_created.php',46],['mod/book/tool/print/classes/event','chapter_printed.php',97],['mod/data/classes/event','record_deleted.php',45],['admin/tool/xmldb/actions/view_structure_xml','view_structure_xml.class.php',32],['lib/classes/event','competency_user_competency_viewed.php',99],['lib/classes/event','dashboard_viewed.php',40],['mod/lesson/classes/event','question_viewed.php',45],['lib/classes/event','user_profile_viewed.php',47],['mod/lesson/classes/event','user_override_deleted.php',44],['mod/data/preset/imagegallery','jstemplate.js',4],['grade','lib.php',128],['lib/classes/event','cohort_member_removed.php',39],['mod/lesson/classes/event','lesson_started.php',39],['blocks/news_items','block_news_items.php',33],['mod/lesson/classes/event','page_updated.php',64],['mod/resource/classes/event','course_module_viewed.php',39],['mod/workshop/classes/event','submission_viewed.php',44],['lib/editor/tinymce/plugins/moodlemedia/tinymce/js','media.js',13],['lib/classes/event','competency_deleted.php',96],['admin/tool/xmldb/actions/revert_changes','revert_changes.class.php',32],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',565],['mod/assign/feedback/offline','importgradeslib.php',91],['mod/glossary/classes/event','entry_created.php',43],['lib/classes/event','dashboard_reset.php',40],['admin/tool/xmldb/actions/edit_index_save','edit_index_save.class.php',33],['lib/classes','component.php',119],['admin/tool/xmldb/actions/view_structure_php','view_structure_php.class.php',33],['mod/wiki/classes/event','page_history_viewed.php',37],['blocks/blog_tags','block_blog_tags.php',32],['lib/classes/event','competency_plan_review_request_cancelled.php',93],['lib/classes/event','competency_plan_deleted.php',82],['blocks/feedback','block_feedback.php',31],['mod/quiz/classes/event','attempt_viewed.php',45],['lib/adodb','adodb.inc.php',3102],['lib/adodb','adodb.inc.php',3266],['mod/data/classes/event','field_updated.php',46],['lib/classes/event','grouping_updated.php',83],['lib/editor/tinymce/tiny_mce/3.5.11/themes/advanced/js','about.js',3],['backup/converter/moodle1','lib.php',111],['lib/classes/event','question_category_created.php',39],['grade/report/user/classes/event','grade_report_viewed.php',39],['lib/classes/event','user_login_failed.php',45],['mod/scorm/classes/event','report_viewed.php',45],['mod/chat/classes/event','sessions_viewed.php',83],['admin/tool/recyclebin/classes/event','course_bin_item_deleted.php',38],['mod/quiz/classes/event','user_override_deleted.php',44],['portfolio/mahara','lib.php',53],['mod/quiz/classes/event','attempt_submitted.php',44],['mod/lesson/classes/event','group_override_updated.php',45],['mod/workshop/classes/event','submission_created.php',44],['mod/assign/classes/event','submission_updated.php',49],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',242],['comment','lib.php',241],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',101],['lib/classes/event','competency_updated.php',88],['lib/classes/event','note_deleted.php',47],['mod/lesson/classes/event','page_moved.php',47],['admin/tool/xmldb/actions/edit_key','edit_key.class.php',32],['mod/book/classes/event','course_module_viewed.php',57],['mod/workshop/allocation/manual','lib.php',55],['lib/classes/event','course_completed.php',64],['lib/classes/event','tag_added.php',49],['lib/classes/event','competency_created.php',88],['mod/lesson/classes/event','highscores_viewed.php',42],['lib/classes/event','message_contact_unblocked.php',39],['admin/tool/xmldb/actions/template','template.class.php',31],['admin/tool/xmldb/actions/view_key_xml','view_key_xml.class.php',32],['blocks/search_forums','block_search_forums.php',26],['lib/classes/event','user_enrolment_created.php',44],['admin/tool/xmldb/actions/generate_all_documentation','generate_all_documentation.class.php',33],['lib/classes/event','course_module_created.php',48],['lib/classes/event','webservice_service_user_removed.php',77],['report/log/classes/event','report_viewed.php',48],['mod/assign/submission/file/classes/event','assessable_uploaded.php',113],['mod/imscp/classes/event','course_module_viewed.php',40],['lib/classes/event','group_member_added.php',96],['mod/forum/classes/event','discussion_viewed.php',39],['mod/assign/classes/event','submission_viewed.php',67],['mod/lti/classes/event','course_module_viewed.php',39],['mod/workshop/classes/event','submission_reassessed.php',46],['mod/feedback/classes/event','course_module_viewed.php',44],['admin/tool/xmldb/actions/load_xml_file','load_xml_file.class.php',32],['admin/tool/log/store/database/classes/log','store.php',62],['mod/workshop/classes/event','assessment_evaluations_reset.php',45],['mod/assign/classes/event','statement_accepted.php',86],['mod/assign/classes/event','feedback_viewed.php',67],['admin/tool/xmldb/actions/edit_field_save','edit_field_save.class.php',33],['mod/forum/classes/event','discussion_moved.php',45],['lib/classes/event','competency_user_evidence_deleted.php',82],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',71],['mod/lesson/classes/event','lesson_resumed.php',39],['lib/editor/tinymce/tiny_mce/3.5.11/themes/advanced/js','color_picker.js',63],['blocks/navigation','block_navigation.php',55],['blocks/comments','block_comments.php',32],['lib/classes/event','comments_viewed.php',41],['mod/data/classes/event','template_viewed.php',45],['mod/wiki/classes/event','page_deleted.php',43],['mod/quiz/classes/event','report_viewed.php',46],['admin/tool/xmldb/actions/save_xml_file','save_xml_file.class.php',37],['admin/tool/xmldb/actions','XMLDBCheckAction.class.php',38],['mod/workshop/allocation','lib.php',40],['admin/tool/xmldb/actions/edit_table','edit_table.class.php',36],['mod/scorm/classes/event','sco_launched.php',45],['mod/glossary/classes/event','entry_updated.php',43],['mod/lesson/classes/event','user_override_created.php',44],['mod/glossary/classes/event','category_updated.php',37],['lib/classes/event','course_updated.php',49],['mod/feedback/classes/event','response_submitted.php',48],['lib/classes/event','blog_entry_deleted.php',43],['mod/book/classes/event','chapter_deleted.php',97],['report/completion/classes/event','report_viewed.php',39],['lib/classes/event','recent_activity_viewed.php',39],['mod/quiz/classes/event','question_manually_graded.php',46],['mod/assign/classes/event','submission_status_updated.php',88],['lib/classes/event','user_enrolment_updated.php',44],['admin/tool/xmldb/actions/delete_key','delete_key.class.php',32],['admin/tool/log/classes/log','manager.php',39],['lib/google/src/Google/Service','Spectrum.php',131],['lib/classes/event','tag_deleted.php',46],['report/completion/classes/event','user_report_viewed.php',39],['report/stats/classes/event','report_viewed.php',46],['lib/classes/event','calendar_event_created.php',47],['mod/survey/classes/event','course_module_viewed.php',45],['blocks/badges','block_badges.php',35],['mod/assign/classes/event','submission_duplicated.php',86],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/advlink/js','advlink.js',22],['lib/classes/event','competency_framework_deleted.php',82],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','abbr.js',1],['lib/classes/event','course_section_updated.php',45],['lib/classes/event','message_sent.php',74],['lib/classes/event','calendar_subscription_deleted.php',45],['blocks/blog_recent','block_blog_recent.php',33],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','ins.js',1],['lib/classes/event','course_category_updated.php',42],['admin/tool/xmldb/actions/create_xml_file','create_xml_file.class.php',31],['lib/classes/event','user_password_updated.php',62],['mod/forum/classes/event','subscription_deleted.php',44],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',71],['lib/classes/event','user_loggedinas.php',46],['lib/classes/event','competency_template_created.php',90],['blocks/selfcompletion','block_selfcompletion.php',37],['lib/classes/event','user_created.php',39],['blocks/community','block_community.php',28],['admin/tool/recyclebin/classes/event','category_bin_item_restored.php',38],['report/loglive/classes/event','report_viewed.php',38],['admin/tool/monitor/classes/event','subscription_created.php',39],['lib/classes/session','memcached.php',118],['mod/book/classes/event','chapter_viewed.php',97],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','acronym.js',1],['lib/classes/event','badge_awarded.php',45],['lib/classes/event','calendar_subscription_created.php',46],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','cell.js',5],['lib/classes/event','enrol_instance_created.php',87],['mod/folder/classes/event','course_module_viewed.php',39],['lib/classes/event','user_list_viewed.php',47],['mod/forum/classes/event','post_deleted.php',46],['mod/quiz/classes/event','group_override_deleted.php',45],['lib/classes/event','badge_created.php',38],['blocks/recent_activity','block_recent_activity.php',43],['lib/classes/event','competency_framework_viewed.php',87],['lib/classes/event','tag_collection_deleted.php',39],['mod/glossary/classes/event','course_module_viewed.php',44],['admin/tool/xmldb/actions/edit_xml_file','edit_xml_file.class.php',35],['lib/classes/event','group_member_removed.php',87],['lib/classes/event','grade_report_viewed.php',42],['mod/scorm/classes/event','course_module_viewed.php',38],['lib/classes/event','calendar_event_updated.php',47],['lib/classes/event','user_updated.php',39],['mod/lesson/classes/event','page_created.php',45],['grade/report/singleview/classes/local/screen','select.php',41],['lib/classes/event','assessable_uploaded.php',53],['grade/report/singleview/classes/local/screen','user.php',94],['mod/assign/classes/event','submission_form_viewed.php',74],['mod/url/classes/event','course_module_viewed.php',39],['auth/cas/CAS/CAS/PGTStorage','Db.php',174],['lib/adodb/drivers','adodb-oci8.inc.php',1564],['lib/classes/session','database.php',65],['question/classes/bank/search','category_condition.php',79],['lib/classes/event','course_completion_updated.php',39],['lib/classes/event','competency_plan_review_started.php',93],['lib/classes/event','course_user_report_viewed.php',46],['mod/folder/classes/event','all_files_downloaded.php',39],['mod/workshop/classes/event','assessments_reset.php',44],['mod/data/classes/event','template_updated.php',46],['mod/assign/classes/event','identities_revealed.php',84],['question/classes/bank','copy_action_column.php',30],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',31],['lib/classes/event','notes_viewed.php',41],['admin/tool/recyclebin/classes/event','category_bin_item_created.php',38],['lib/classes/event','competency_plan_viewed.php',90],['mod/data/classes/event','record_updated.php',45],['lib/classes/event','competency_plan_unapproved.php',93],['mod/lesson/classes/event','content_page_viewed.php',39],['admin/tool/monitor/classes/event','subscription_deleted.php',39],['mod/assign/classes/event','assessable_submitted.php',118],['grade/report/singleview/classes/local/screen','grade.php',126],['admin/tool/xmldb/actions/move_updown_field','move_updown_field.class.php',32],['mod/quiz/classes/event','attempt_started.php',43],['blocks/tag_youtube','block_tag_youtube.php',34],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',242],['mod/wiki/classes/event','course_module_viewed.php',38],['lib/classes/event','competency_user_competency_rated.php',100],['mod/forum/classes/event','post_updated.php',46],['admin/tool/xmldb/actions/edit_table_save','edit_table_save.class.php',32],['lib/classes/event','course_module_deleted.php',47],['lib/classes/event','competency_plan_review_requested.php',93],['lib/classes/event','user_graded.php',85],['lib/classes/event','webservice_login_failed.php',80],['blocks/course_summary','block_course_summary.php',32],['mod/forum/classes/event','post_created.php',46],['mod/assign/classes/event','submission_status_viewed.php',71],['mod/scorm/classes/event','cmielement_submitted.php',46],['lib/classes/event','enrol_instance_updated.php',88],['admin/tool/capability/classes/event','report_viewed.php',36],['mod/data/classes/event','field_created.php',47],['admin/tool/xmldb/actions/edit_index','edit_index.class.php',32],['mod/folder/classes/event','folder_updated.php',39],['lib/classes/event','badge_updated.php',38],['lib/tests/fixtures','event_fixtures.php',42],['lib/tests/fixtures','event_fixtures.php',117],['lib/tests/fixtures','event_fixtures.php',124],['lib/tests/fixtures','event_fixtures.php',131],['lib/tests/fixtures','event_fixtures.php',139],['lib/tests/fixtures','event_fixtures.php',147],['lib/tests/fixtures','event_fixtures.php',155],['lib/tests/fixtures','event_fixtures.php',162],['lib/tests/fixtures','event_fixtures.php',170],['lib/tests/fixtures','event_fixtures.php',178],['lib/tests/fixtures','event_fixtures.php',186],['lib/tests/fixtures','event_fixtures.php',193],['lib/tests/fixtures','event_fixtures.php',201],['lib/tests/fixtures','event_fixtures.php',216],['lib/tests/fixtures','event_fixtures.php',225],['lib/tests/fixtures','event_fixtures.php',238],['lib/tests/fixtures','event_fixtures.php',267],['lib/tests/fixtures','event_fixtures.php',304],['lib/tests/fixtures','event_fixtures.php',315],['lib/tests/fixtures','event_fixtures.php',338],['lib/tests/fixtures','event_fixtures.php',345],['mod/lesson/classes/event','course_module_viewed.php',40],['admin/tool/xmldb/actions/edit_field','edit_field.class.php',32],['admin/tool/xmldb/actions/move_updown_key','move_updown_key.class.php',32],['lib','graphlib.php',158],['mod/survey/classes/event','report_viewed.php',46],['grade/report/singleview/tests/fixtures','screen.php',38],['blocks/tags','block_tags.php',26],['mod/quiz/classes/event','attempt_deleted.php',44],['blocks/participants','block_participants.php',26],['mod/glossary/classes/event','entry_approved.php',37],['mod/wiki/classes/event','comments_viewed.php',38],['mod/wiki/classes/event','page_viewed.php',46],['mod/assign/submission/onlinetext/classes/event','submission_updated.php',45],['mod/forum/classes/event','readtracking_disabled.php',44],['mod/assign/submission/file/classes/event','submission_created.php',45],['admin/tool/langimport/classes/event','langpack_imported.php',61],['lib/classes/event','competency_plan_review_stopped.php',93],['admin/tool/langimport/classes/event','langpack_updated.php',61],['blocks/online_users','block_online_users.php',33],['admin/tool/xmldb/actions/load_xml_files','load_xml_files.class.php',32],['lib/classes/event','unknown_logged.php',39],['lib/classes/event','competency_user_competency_viewed_in_plan.php',104],['lib/classes/event','competency_user_competency_viewed_in_course.php',103],['mod/glossary/classes/event','category_created.php',37],['lib/portfolio','plugin.php',476],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','cite.js',1],['mnet','environment.php',20],['blocks/login','block_login.php',26],['report/stats/classes/event','user_report_viewed.php',38],['lib/classes/event','dashboards_reset.php',40],['lib/classes/event','calendar_subscription_updated.php',46],['lib/classes/event','cohort_updated.php',38],['admin/tool/monitor/classes/event','rule_updated.php',39],['mod/lesson/classes/event','page_deleted.php',45],['lib/classes/event','course_section_deleted.php',46],['admin/tool/monitor/classes/event','subscription_criteria_met.php',45],['admin/tool/xmldb/actions/new_table','new_table.class.php',32],['lib/classes/event','mnet_access_control_created.php',48],['mod/forum/classes/event','discussion_created.php',44],['lib/classes/event','blog_entries_viewed.php',53],['mod/quiz/classes/event','attempt_preview_started.php',45],['lib/classes/event','content_viewed.php',56],['lib/classes/event','competency_user_evidence_updated.php',91],['blocks/activity_results','block_activity_results.php',51],['blocks/calendar_month','block_calendar_month.php',26],['backup/util/xml/output','memory_xml_output.class.php',51],['mod/assign/classes/event','submission_graded.php',87],['admin/tool/xmldb/actions/view_reserved_words','view_reserved_words.class.php',35],['mod/assign/classes/event','all_submissions_downloaded.php',84],['lib/classes/event','course_restored.php',49],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',173],['lib/classes/event','group_created.php',83],['lib/classes/event','badge_criteria_deleted.php',43],['lib/classes/event','tag_flagged.php',46],['lib/classes/event','competency_plan_completed.php',93],['mod/lesson/classes/event','user_override_updated.php',45],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullpage/js','fullpage.js',162],['lib/classes/event','role_allow_override_updated.php',39],['admin/tool/xmldb/actions/check_foreign_keys','check_foreign_keys.class.php',38],['mod/forum/classes/event','discussion_subscription_deleted.php',45],['lib/classes/event','cohort_deleted.php',38],['blocks/course_list','block_course_list.php',29],['lib/classes/event','badge_criteria_created.php',43],['blocks/messages','block_messages.php',26],['mod/workshop/classes/event','course_module_viewed.php',42],['admin/tool/xmldb/actions/view_xml','view_xml.class.php',32],['lib/classes/event','blog_entry_created.php',44],['blocks/rss_client','block_rss_client.php',36],['mod/scorm/classes/event','interactions_viewed.php',45],['mod/workshop/classes/event','submission_assessed.php',45],['lib/classes/event','badge_duplicated.php',38],['lib/classes/event','course_category_created.php',39],['lib/classes/event','cohort_created.php',38],['lib/classes/event','tag_removed.php',49],['lib/classes/event','competency_plan_approved.php',93],['mod/choice/classes/event','answer_deleted.php',74],['lib/classes/event','competency_user_competency_review_started.php',90],['lib/classes/event','course_reset_ended.php',71],['mod/quiz/classes/event','user_override_created.php',44],['admin/tool/xmldb/actions','XMLDBAction.class.php',63],['mod/forum/classes/event','course_searched.php',45],['lib/classes/event','message_contact_removed.php',39],['admin/tool/monitor/classes/event','rule_deleted.php',39],['lib/classes/event','message_deleted.php',83],['mod/assign/classes/event','submission_unlocked.php',87],['lib/classes/event','competency_user_competency_review_stopped.php',90],['lib/classes/event','course_module_viewed.php',40],['question/classes/bank','delete_action_column.php',30]], 470],
'fullname': ['fullname', 'Returns a persons full name ', [['lib','moodlelib.php',3249],['mod/assign','locallib.php',3915]], 546],
'node': ['node', 'Enter description here ... ', [['backup/cc/cc_lib','xmlbase.php',241],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',3483]], 151],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'get_item_tags_array': ['get_item_tags_array', 'Returns the list of display names of the tags that are associated with an item ', [['tag/classes','tag.php',643]], 35],
'get_date': ['get_date', 'Get the posting date/time for the item ', [['lib/simplepie/library/SimplePie','Item.php',719]], 11],
'is_feed': ['is_feed', '', [['lib/simplepie/library/SimplePie','Locator.php',145]], 7],
'isloggedin': ['isloggedin', 'Determines if a user is currently logged in ', [['lib','accesslib.php',1910]], 184],
'blog_get_options_for_user': ['blog_get_options_for_user', 'Get all of the blog options that relate to the passed user. ', [['blog','lib.php',375]], 4],
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1923]], 260],
'blog_delete_external_entries': ['blog_delete_external_entries', 'Given an external blog object, deletes all related blog entries from the post table. NOTE: The external blog\'s id is saved as post.content, a field that is not oterhwise used by blog entries. ', [['blog','lib.php',286]], 0],
'userdate': ['userdate', 'Returns a formatted string that represents a date in user time. ', [['lib','moodlelib.php',2155],['lib/adodb','adodb.inc.php',2842],['lib/adodb','adodb.inc.php',3569]], 525],
'user_can_view_profile': ['user_can_view_profile', 'Check if a user has the permission to viewdetails in a shared course\'s context. ', [['user','lib.php',1091]], 14],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1379]], 880],
'export_for_template': ['export_for_template', 'Export the document data to be used as a template context. ', [['search/classes','document.php',550],['blocks/lp/classes/output','summary.php',80],['lib/classes/output','inplace_editable.php',211],['report/competency/classes/output','report.php',68],['admin/tool/lp/classes/output','user_competency_summary_in_plan.php',58],['admin/tool/templatelibrary/classes/output','list_templates_page.php',41],['mod/feedback/classes/output','summary.php',65],['admin/tool/lp/classes/output','plan_page.php',58],['blocks/lp/classes/output','plans_to_review_page.php',55],['report/competency/classes/output','user_course_navigation.php',64],['mod/lti/classes/output','tool_configure_page.php',41],['admin/tool/lp/classes/output','competency_plan_navigation.php',69],['lib','outputcomponents.php',52],['lib','outputcomponents.php',559],['tag/classes/output','taglist.php',98],['blocks/rss_client/classes/output','footer.php',77],['admin/tool/lp/classes/output','user_competency_course_navigation.php',70],['mod/assign/classes/output','grading_app.php',76],['admin/tool/lp/classes/output','user_evidence_list_page.php',81],['blocks/rss_client/classes/output','block.php',56],['admin/tool/lp/classes/output','user_competency_summary_in_course.php',64],['admin/tool/lp/classes/output','competency_summary.php',74],['mod/forum/classes/output','forum_post.php',133],['tag/classes/output','tagcollsearchable.php',56],['blocks/rss_client/classes/output','channel_image.php',74],['admin/tool/lp/classes/output','related_competencies.php',58],['admin/tool/lpmigrate/classes/output','migrate_framework_results.php',78],['blocks/lp/classes/output','competencies_to_review_page.php',56],['tag/classes/output','tagisstandard.php',52],['tag/classes/output','tagindex.php',143],['lib/classes/output','notification.php',178],['admin/tool/lp/classes/output','manage_competencies_page.php',85],['blocks/rss_client/classes/output','item.php',111],['tag/classes/output','tagflag.php',52],['admin/tool/lp/classes/output','user_competency_summary.php',60],['course/classes/output','course_module_name.php',65],['admin/tool/lp/classes/output','template_competencies_page.php',87],['mod/lti/classes/output','external_registration_return_page.php',41],['admin/tool/lp/classes/output','plans_page.php',78],['admin/tool/lp/classes/output','manage_templates_page.php',75],['admin/tool/lp/classes/output','manage_competency_frameworks_page.php',82],['admin/tool/lp/classes/output','user_evidence_page.php',58],['blocks/rss_client/classes/output','feed.php',88],['tag/classes/output','tagcloud.php',106],['admin/tool/lp/classes/output','course_competencies_page.php',102],['mod/assign','renderable.php',604],['tag/classes/output','tag.php',70],['tag/classes/output','tagfeed.php',73],['tag/classes/output','tagareaenabled.php',51]], 90],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'get_entries': ['get_entries', 'Fetches the array of blog entries. ', [['blog','locallib.php',586]], 14],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',609]], 2210],
'param': ['param', '', [['lib/adodb/drivers','adodb-postgres64.inc.php',609],['lib','weblib.php',453],['lib/adodb/drivers','adodb-oci8po.inc.php',39],['lib/adodb','adodb.inc.php',934],['lib/adodb/drivers','adodb-oci8.inc.php',1179],['lib/adodb/drivers','adodb-db2oci.inc.php',163]], 640],
'count_records': ['count_records', 'Count a list of records. ', [['competency/classes','persistent.php',815],['mod/glossary/classes','entry_query_builder.php',152],['lib/dml','moodle_database.php',1766]], 1630],
'render_from_template': ['render_from_template', 'Renders a template by name with the given context. ', [['lib','outputrenderers.php',137]], 69],
'set_heading': ['set_heading', 'Sets the heading to use for the page. This is normally used as the main heading at the top of the content. ', [['lib','pagelib.php',1170]], 426],
'blog_get_associated_count': ['blog_get_associated_count', 'Shortcut function for getting a count of blog entries associated with a course or a module ', [['blog','lib.php',895]], 1],
'blog_sync_external_entries': ['blog_sync_external_entries', 'Given a record in the {blog_external} table, checks the blog\'s URL for new entries not yet copied into Moodle. Also attempts to identify and remove deleted blog entries ', [['blog','lib.php',138]], 2],
'set_pagelayout': ['set_pagelayout', 'Sets the layout to use for this page. ', [['lib','pagelib.php',1086]], 293],
'remove_params': ['remove_params', 'Remove all params if no arguments passed. Remove selected params if arguments are passed. ', [['lib','weblib.php',421]], 34],
'out': ['out', 'Returns the selector for use in a CSS rule ', [['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['mod/feedback/classes','responses_table.php',332],['lib','moodlelib.php',9729],['lib','weblib.php',545],['lib','tablelib.php',1594],['report/loglive/classes','table_log_ajax.php',37]], 626],
'rss_get_url': ['rss_get_url', 'This function returns the URL for the RSS XML file. ', [['lib','rsslib.php',72]], 7],
'add_node': ['add_node', 'Add a node to this category. ', [['user/classes/output/myprofile','category.php',83],['lib','navigationlib.php',323],['user/classes/output/myprofile','tree.php',52]], 101],
'set_item_tags': ['set_item_tags', 'Sets the list of tag instances for one item (table record). ', [['tag/classes','tag.php',666]], 57],
'get_description': ['get_description', 'Returns description of what happened. ', [['lib/classes/event','competency_plan_unlinked.php',63],['lib/classes/message/inbound','private_files_handler.php',47],['lib/classes/event','grouping_group_assigned.php',38],['lib/classes/event','enrol_instance_deleted.php',60],['report/log/classes/event','user_report_viewed.php',63],['mod/quiz/classes/event','attempt_reviewed.php',62],['lib/classes/event','tag_unflagged.php',64],['lib/classes/event','role_unassigned.php',62],['mod/assign/classes/event','grading_form_viewed.php',91],['mod/workshop/classes/event','submission_deleted.php',53],['mod/forum/classes/event','discussion_updated.php',55],['lib/classes/event','course_module_instance_list_viewed.php',65],['lib/classes/event','course_created.php',64],['mod/assign/classes/event','extension_granted.php',67],['lib/classes/event','course_deleted.php',65],['mod/forum/classes/event','readtracking_enabled.php',54],['mod/wiki/classes/event','page_created.php',57],['lib/classes/event','competency_viewed.php',61],['mod/choice/classes/event','answer_updated.php',46],['lib/classes/event','search_indexed.php',56],['lib/classes/event','badge_criteria_updated.php',62],['mod/wiki/classes/event','page_version_deleted.php',63],['lib/grade','grade_item.php',1415],['lib/classes/event','competency_user_competency_rated_in_plan.php',77],['lib/classes/event','webservice_token_sent.php',38],['mod/glossary/classes/event','entry_deleted.php',63],['admin/tool/messageinbound/classes/message/inbound','invalid_recipient_handler.php',51],['lib/classes/event','competency_template_viewed.php',72],['admin/tool/langimport/classes/event','langpack_removed.php',71],['mod/glossary/classes/event','category_deleted.php',55],['mod/forum/classes/message/inbound','reply_handler.php',42],['mod/lti/classes/event','unknown_service_api_called.php',73],['lib/classes/event','badge_deleted.php',58],['mod/quiz/classes/event','user_override_updated.php',63],['lib/classes/event','message_contact_added.php',66],['lib/classes/event','cohort_member_added.php',58],['lib/classes/event','blog_entry_updated.php',83],['mod/assign/classes/event','workflow_state_updated.php',78],['mod/forum/classes/event','assessable_uploaded.php',46],['lib/classes/event','group_deleted.php',38],['lib/classes/event','role_allow_assign_updated.php',56],['lib/simplepie/library','SimplePie.php',2407],['mod/lesson/classes/event','highscore_added.php',77],['mod/forum/classes/event','discussion_pinned.php',46],['lib/classes/event','webservice_function_called.php',49],['lib/classes/event','competency_plan_reopened.php',66],['mod/lesson/classes/event','essay_attempt_viewed.php',67],['mod/wiki/classes/event','page_locks_deleted.php',63],['mod/glossary/classes/event','comment_created.php',46],['lib/classes/event','webservice_service_deleted.php',38],['mod/forum/classes/event','discussion_subscription_created.php',56],['admin/tool/log/store/database/tests/fixtures','event.php',35],['mod/workshop/classes/event','assessable_uploaded.php',46],['lib/classes/event','user_loggedout.php',63],['lib/classes/event','webservice_token_created.php',44],['lib/classes/event','tag_collection_updated.php',74],['mod/data/classes/event','field_deleted.php',66],['mod/book/classes/event','chapter_created.php',59],['lib/classes/event','email_failed.php',65],['mod/survey/classes/event','report_downloaded.php',64],['mod/workshop/classes/event','phase_switched.php',55],['competency/classes','evidence.php',126],['lib/grade','grade_category.php',2317],['lib/grade','grade_scale.php',319],['lib/classes/event','course_reset_started.php',44],['mod/workshop/classes/event','assessment_evaluated.php',56],['lib/classes/event','blog_association_created.php',65],['report/outline/classes/event','activity_report_viewed.php',57],['lib/classes/event','competency_plan_updated.php',66],['mod/choice/classes/event','answer_submitted.php',46],['lib/simplepie/library/SimplePie','Source.php',459],['mod/lesson/classes/event','lesson_ended.php',67],['lib/classes/event','role_allow_switch_updated.php',56],['availability/condition/grouping/classes','condition.php',124],['lib/classes/event','competency_user_competency_rated_in_course.php',77],['availability/tests/fixtures','mock_condition.php',82],['lib/classes/event','competency_comment_deleted.php',40],['lib/classes/event','tag_created.php',84],['report/participation/classes/event','report_viewed.php',67],['lib/classes/event','role_capabilities_updated.php',60],['mod/survey/classes/event','response_submitted.php',62],['lib/classes/event','badge_archived.php',56],['mod/workshop/classes/event','assessment_reevaluated.php',56],['mod/assign/classes/event','submission_locked.php',68],['report/outline/classes/event','report_viewed.php',63],['lib/classes/event','user_deleted.php',66],['lib/classes/event','mnet_access_control_updated.php',75],['mod/lesson/classes/event','essay_assessed.php',57],['mod/book/tool/print/classes/event','book_printed.php',57],['lib/classes/event','grouping_deleted.php',45],['admin/tool/monitor/classes','rule.php',249],['lib/classes/event','course_viewed.php',56],['mod/forum/classes/event','user_report_viewed.php',55],['mod/quiz/classes/event','attempt_summary_viewed.php',65],['lib/classes/event','webservice_service_user_added.php',38],['mod/forum/classes/event','discussion_unpinned.php',46],['lib/classes/event','grouping_group_unassigned.php',38],['lib/grade','grade_outcome.php',291],['mod/assign/submission/file/classes/event','submission_updated.php',53],['mod/chat/classes/event','message_sent.php',38],['lib/classes/event','role_assigned.php',65],['availability/condition/group/classes','condition.php',93],['mod/glossary/classes/event','entry_viewed.php',57],['mod/data/classes/event','record_created.php',65],['lib/classes/event','course_category_deleted.php',68],['lib/classes/event','role_deleted.php',64],['mod/wiki/classes/event','page_version_viewed.php',63],['admin/tool/recyclebin/classes/event','category_bin_item_deleted.php',56],['admin/tool/log/store/standard/tests/fixtures','event.php',35],['admin/tool/monitor/classes/event','rule_created.php',59],['lib/classes/event','competency_user_competency_plan_viewed.php',72],['mod/data/classes/event','comment_deleted.php',46],['mod/workshop/classes/event','submission_updated.php',53],['mod/choice/classes/event','report_viewed.php',62],['mod/lesson/classes/event','group_override_deleted.php',63],['mod/wiki/classes/event','page_map_viewed.php',63],['admin/tool/log/store/legacy/tests/fixtures','event.php',35],['mod/lesson/classes/event','question_answered.php',72],['mod/choice/classes/event','report_downloaded.php',63],['lib/classes/event','competency_user_evidence_created.php',73],['lib/classes/event','course_module_completion_updated.php',63],['lib/classes/event','note_updated.php',65],['lib/classes/event','note_created.php',65],['lib/classes/event','competency_framework_created.php',72],['lib/classes/event','course_resources_list_viewed.php',51],['lib/classes/event','tag_updated.php',67],['mod/forum/classes/event','subscribers_viewed.php',55],['mod/book/tool/exportimscp/classes/event','book_exported.php',57],['lib/classes/event','user_enrolment_deleted.php',63],['admin/tool/recyclebin/classes/event','course_bin_item_restored.php',56],['lib/classes/event','webservice_service_updated.php',38],['mod/lesson/classes/event','group_override_created.php',64],['mod/scorm/classes/event','attempt_deleted.php',52],['lib/classes/event','competency_user_competency_review_request_cancelled.php',63],['lib/classes/event','webservice_service_created.php',44],['mod/wiki/classes/event','page_version_restored.php',63],['mod/forum/classes/event','discussion_deleted.php',56],['lib/classes/event','competency_framework_updated.php',64],['lib/classes/event','blog_comment_created.php',47],['mod/lesson/classes/event','lesson_restarted.php',66],['mod/wiki/classes/event','page_updated.php',63],['mod/assign/classes/event','marker_updated.php',79],['mod/assign/submission/comments/classes/event','comment_created.php',46],['lib/classes/event','course_module_updated.php',66],['lib/classes/event','competency_template_deleted.php',64],['mod/assign/classes/event','submission_confirmation_form_viewed.php',88],['report/questioninstances/classes/event','report_viewed.php',64],['lib/classes/event','message_contact_blocked.php',66],['lib/simplepie/library/SimplePie','Enclosure.php',434],['lib/classes/event','competency_template_updated.php',66],['lib/classes/event','badge_disabled.php',56],['mod/assign/classes/event','grading_table_viewed.php',88],['lib/classes/event','badge_enabled.php',56],['mod/quiz/classes/event','edit_page_viewed.php',62],['mod/scorm/classes/event','tracks_viewed.php',54],['mod/wiki/classes/event','page_diff_viewed.php',64],['message/tests/fixtures','inbound_fixtures.php',35],['lib/classes/event','grouping_created.php',38],['mod/assign/submission/onlinetext/classes/event','submission_created.php',53],['lib/classes/event','calendar_event_deleted.php',67],['lib/simplepie/library/SimplePie','Item.php',308],['lib/classes/event','group_updated.php',38],['mod/book/classes/event','chapter_updated.php',59],['lib/classes/event','grade_deleted.php',103],['admin/tool/recyclebin/classes/event','course_bin_item_created.php',56],['lib/classes/event','user_loggedin.php',45],['mod/forum/classes/event','subscription_created.php',55],['lib/classes/event','tag_collection_created.php',74],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',88],['mod/quiz/classes/event','group_override_updated.php',63],['lib/classes/event','competency_plan_created.php',72],['mod/glossary/classes/event','entry_disapproved.php',55],['lib/classes/event','message_viewed.php',72],['lib/classes/event','comment_created.php',67],['lib/classes/event','course_content_deleted.php',63],['mod/feedback/classes/event','response_deleted.php',92],['lib/classes/event','competency_evidence_created.php',107],['lib/classes/event','comment_deleted.php',67],['lib/classes/event','competency_user_competency_review_requested.php',63],['mod/quiz/classes/event','attempt_abandoned.php',53],['mod/scorm/classes/event','user_report_viewed.php',53],['mod/quiz/classes/event','attempt_becameoverdue.php',56],['mod/quiz/classes/event','group_override_created.php',64],['mod/book/tool/print/classes/event','chapter_printed.php',59],['mod/data/classes/event','record_deleted.php',65],['lib/classes/event','competency_user_competency_viewed.php',72],['lib/classes/event','dashboard_viewed.php',50],['mod/lesson/classes/event','question_viewed.php',72],['lib/classes/event','user_profile_viewed.php',65],['mod/lesson/classes/event','user_override_deleted.php',62],['lib/classes/event','cohort_member_removed.php',59],['mod/lesson/classes/event','lesson_started.php',66],['mod/lesson/classes/event','page_updated.php',91],['mod/workshop/classes/event','submission_viewed.php',53],['lib/classes/event','competency_deleted.php',78],['admin/tool/monitor/classes','subscription.php',142],['mod/glossary/classes/event','entry_created.php',61],['lib/classes/event','dashboard_reset.php',51],['mod/wiki/classes/event','page_history_viewed.php',57],['lib/classes/event','competency_plan_review_request_cancelled.php',66],['lib/classes/event','competency_plan_deleted.php',64],['mod/quiz/classes/event','attempt_viewed.php',63],['mod/data/classes/event','field_updated.php',66],['lib/classes/event','grouping_updated.php',38],['lib/classes/event','question_category_created.php',57],['lib/classes/event','user_login_failed.php',65],['mod/scorm/classes/event','report_viewed.php',53],['mod/chat/classes/event','sessions_viewed.php',45],['admin/tool/recyclebin/classes/event','course_bin_item_deleted.php',56],['mod/quiz/classes/event','user_override_deleted.php',62],['mod/quiz/classes/event','attempt_submitted.php',53],['mod/lesson/classes/event','group_override_updated.php',63],['mod/workshop/classes/event','submission_created.php',53],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',45],['lib/classes/event','competency_updated.php',61],['lib/classes/event','note_deleted.php',65],['mod/lesson/classes/event','page_moved.php',74],['lib/classes/event','course_completed.php',82],['lib/classes/event','tag_added.php',67],['lib/classes/event','competency_created.php',61],['mod/lesson/classes/event','highscores_viewed.php',69],['lib/classes/event','message_contact_unblocked.php',66],['mod/wiki/classes/event','comment_deleted.php',47],['lib/classes/event','user_enrolment_created.php',62],['lib/classes/event','course_module_created.php',95],['lib/classes/event','webservice_service_user_removed.php',38],['report/log/classes/event','report_viewed.php',67],['mod/assign/submission/file/classes/event','assessable_uploaded.php',46],['lib/classes/event','group_member_added.php',45],['mod/forum/classes/event','discussion_viewed.php',50],['mod/assign/classes/event','submission_viewed.php',85],['mod/workshop/classes/event','submission_reassessed.php',57],['lib/tests','messageinbound_test.php',168],['mod/workshop/classes/event','assessment_evaluations_reset.php',55],['mod/assign/classes/event','statement_accepted.php',67],['mod/assign/classes/event','feedback_viewed.php',85],['mod/forum/classes/event','discussion_moved.php',56],['lib/classes/event','competency_user_evidence_deleted.php',73],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',88],['mod/lesson/classes/event','lesson_resumed.php',66],['lib/classes/event','comments_viewed.php',60],['mod/data/classes/event','template_viewed.php',64],['mod/wiki/classes/event','page_deleted.php',63],['mod/quiz/classes/event','report_viewed.php',65],['availability/condition/completion/classes','condition.php',154],['mod/scorm/classes/event','sco_launched.php',54],['mod/glossary/classes/event','entry_updated.php',61],['mod/lesson/classes/event','user_override_created.php',62],['mod/glossary/classes/event','category_updated.php',55],['lib/classes/event','course_updated.php',67],['mod/feedback/classes/event','response_submitted.php',92],['lib/classes/event','blog_entry_deleted.php',84],['mod/book/classes/event','chapter_deleted.php',59],['mod/wiki/classes/event','comment_created.php',47],['report/completion/classes/event','report_viewed.php',58],['lib/classes/event','recent_activity_viewed.php',58],['mod/quiz/classes/event','question_manually_graded.php',64],['blocks/rss_client/classes/output','item.php',215],['mod/assign/classes/event','submission_status_updated.php',69],['lib/classes/event','user_enrolment_updated.php',62],['lib/classes/event','competency_comment_created.php',40],['lib/classes/event','tag_deleted.php',64],['report/completion/classes/event','user_report_viewed.php',58],['report/stats/classes/event','report_viewed.php',65],['lib/classes/event','calendar_event_created.php',67],['mod/assign/classes/event','submission_duplicated.php',67],['lib/classes/event','competency_framework_deleted.php',64],['lib/classes/event','course_section_updated.php',65],['lib/classes/event','message_sent.php',100],['lib/classes/event','calendar_subscription_deleted.php',65],['availability/condition/date/classes','condition.php',136],['lib/classes/event','course_category_updated.php',69],['lib/classes/event','user_password_updated.php',79],['mod/forum/classes/event','subscription_deleted.php',55],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',88],['lib/classes/event','user_loggedinas.php',66],['lib/classes/event','competency_template_created.php',72],['lib/classes/event','user_created.php',57],['admin/tool/recyclebin/classes/event','category_bin_item_restored.php',56],['report/loglive/classes/event','report_viewed.php',57],['admin/tool/monitor/classes/event','subscription_created.php',59],['mod/book/classes/event','chapter_viewed.php',59],['lib/classes/event','badge_awarded.php',63],['lib/classes/event','calendar_subscription_created.php',66],['lib/classes/event','enrol_instance_created.php',59],['availability/condition/profile/classes','condition.php',187],['lib/classes/event','user_list_viewed.php',65],['lib','authlib.php',540],['mod/forum/classes/event','post_deleted.php',57],['mod/quiz/classes/event','group_override_deleted.php',63],['mod/assign/submission/comments/classes/event','comment_deleted.php',46],['lib/classes/event','badge_created.php',56],['lib/classes/event','base.php',308],['lib/classes/event','competency_framework_viewed.php',60],['lib/classes/event','tag_collection_deleted.php',74],['lib/classes/event','group_member_removed.php',38],['lib/classes/event','grade_report_viewed.php',63],['lib/classes/event','calendar_event_updated.php',67],['lib/classes/event','user_updated.php',57],['mod/lesson/classes/event','page_created.php',72],['mod/assign/classes/event','submission_form_viewed.php',91],['lib/classes/event','blog_comment_deleted.php',47],['lib/classes/event','course_completion_updated.php',56],['lib/classes/event','competency_plan_review_started.php',66],['lib/classes/event','course_user_report_viewed.php',56],['mod/folder/classes/event','all_files_downloaded.php',50],['mod/workshop/classes/event','assessments_reset.php',54],['mod/glossary/classes/event','comment_deleted.php',46],['mod/data/classes/event','template_updated.php',65],['mod/assign/classes/event','identities_revealed.php',65],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',39],['lib/classes/event','notes_viewed.php',58],['admin/tool/recyclebin/classes/event','category_bin_item_created.php',56],['lib/classes/event','competency_plan_viewed.php',72],['mod/data/classes/event','record_updated.php',65],['lib/classes/event','competency_plan_unapproved.php',66],['mod/lesson/classes/event','content_page_viewed.php',66],['admin/tool/monitor/classes/event','subscription_deleted.php',59],['mod/assign/classes/event','assessable_submitted.php',74],['mod/quiz/classes/event','attempt_started.php',52],['lib/classes/event','competency_user_competency_rated.php',72],['mod/forum/classes/event','post_updated.php',57],['lib/classes/event','course_module_deleted.php',65],['lib/classes/event','competency_plan_review_requested.php',66],['lib/classes/event','user_graded.php',105],['lib/classes/event','webservice_login_failed.php',53],['mod/forum/classes/event','post_created.php',57],['availability/condition/grade/classes','condition.php',123],['mod/assign/classes/event','submission_status_viewed.php',90],['mod/scorm/classes/event','cmielement_submitted.php',55],['lib/classes/event','enrol_instance_updated.php',60],['admin/tool/capability/classes/event','report_viewed.php',56],['mod/data/classes/event','field_created.php',67],['mod/folder/classes/event','folder_updated.php',57],['lib/classes/event','badge_updated.php',56],['lib/tests/fixtures','event_fixtures.php',38],['lib/tests/fixtures','event_fixtures.php',263],['mod/survey/classes/event','report_viewed.php',64],['mod/quiz/classes/event','attempt_deleted.php',62],['mod/glossary/classes/event','entry_approved.php',55],['mod/wiki/classes/event','comments_viewed.php',48],['mod/wiki/classes/event','page_viewed.php',66],['lib/classes/log','reader.php',39],['mod/assign/submission/onlinetext/classes/event','submission_updated.php',53],['mod/forum/classes/event','readtracking_disabled.php',54],['mod/assign/submission/file/classes/event','submission_created.php',53],['admin/tool/langimport/classes/event','langpack_imported.php',71],['lib/classes/event','competency_plan_review_stopped.php',66],['admin/tool/langimport/classes/event','langpack_updated.php',71],['lib/classes/event','unknown_logged.php',47],['lib/classes/event','competency_user_competency_viewed_in_plan.php',75],['lib/classes/event','competency_user_competency_viewed_in_course.php',74],['mod/glossary/classes/event','category_created.php',55],['calendar','lib.php',2151],['report/stats/classes/event','user_report_viewed.php',57],['lib/classes/event','dashboards_reset.php',50],['lib/classes/event','calendar_subscription_updated.php',66],['lib/classes/event','cohort_updated.php',58],['admin/tool/monitor/classes/event','rule_updated.php',59],['mod/lesson/classes/event','page_deleted.php',72],['lib/classes/event','course_section_deleted.php',66],['admin/tool/monitor/classes/event','subscription_criteria_met.php',64],['lib/classes/event','mnet_access_control_created.php',75],['mod/forum/classes/event','discussion_created.php',55],['lib/classes/event','blog_entries_viewed.php',71],['mod/quiz/classes/event','attempt_preview_started.php',63],['lib/classes/event','content_viewed.php',89],['lib/classes/event','competency_user_evidence_updated.php',73],['mod/assign/classes/event','submission_graded.php',68],['mod/assign/classes/event','all_submissions_downloaded.php',65],['lib/classes/event','course_restored.php',67],['mod/data/classes/event','comment_created.php',46],['lib/classes/event','group_created.php',38],['lib/classes/event','badge_criteria_deleted.php',61],['lib/classes/event','tag_flagged.php',64],['lib/classes/event','competency_plan_completed.php',66],['mod/lesson/classes/event','user_override_updated.php',63],['lib/classes/event','role_allow_override_updated.php',56],['mod/forum/classes/event','discussion_subscription_deleted.php',56],['lib/classes/event','cohort_deleted.php',58],['lib/classes/event','badge_criteria_created.php',61],['admin/tool/log/classes/helper','reader.php',53],['lib/classes/event','blog_entry_created.php',85],['mod/scorm/classes/event','interactions_viewed.php',53],['mod/workshop/classes/event','submission_assessed.php',56],['lib/classes/event','badge_duplicated.php',56],['lib/classes/event','course_category_created.php',66],['lib/classes/event','cohort_created.php',58],['lib/classes/event','tag_removed.php',67],['lib/classes/event','competency_plan_approved.php',66],['mod/choice/classes/event','answer_deleted.php',46],['lib/classes/event','competency_user_competency_review_started.php',63],['lib/classes/event','course_reset_ended.php',44],['mod/quiz/classes/event','user_override_created.php',62],['mod/forum/classes/event','course_searched.php',55],['lib/classes/event','message_contact_removed.php',66],['admin/tool/monitor/classes/event','rule_deleted.php',59],['lib/classes/event','message_deleted.php',100],['mod/assign/classes/event','submission_unlocked.php',68],['lib/classes/event','competency_user_competency_review_stopped.php',63],['lib/classes/event','course_module_viewed.php',52]], 93],
'blog_get_options_for_course': ['blog_get_options_for_course', 'Get the blog options that relate to the given course for the given user. ', [['blog','lib.php',447]], 1],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'set_title': ['set_title', 'Sets the title for the node ', [['lib','outputcomponents.php',2820],['backup/cc/cc_lib','cc_weblink.php',41],['backup/cc/cc_lib','cc_basiclti.php',57],['lib','pagelib.php',1157],['blocks/rss_client/classes/output','channel_image.php',110],['blocks/rss_client/classes/output','item.php',182],['backup/cc/cc_lib','cc_asssesment.php',595],['backup/cc/cc_lib','cc_asssesment.php',843],['backup/cc/cc_lib','cc_asssesment.php',1060],['backup/cc/cc_lib','cc_asssesment.php',1829],['backup/cc/cc_lib','cc_page.php',38],['lib/classes','chart_base.php',222],['blocks/rss_client/classes/output','feed.php',113],['backup/cc/cc_lib','cc_metadata.php',225],['mod/wiki','pagelib.php',215],['backup/cc/cc_lib','cc_forum.php',39]], 460],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'delete_records_list': ['delete_records_list', 'Delete the records from a table where one field match one list of values. ', [['lib/dml','moodle_database.php',1883]], 37],
'count_entries': ['count_entries', 'Finds total number of blog entries ', [['blog','locallib.php',608]], 2],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'get_items': ['get_items', 'Get all items in this feedback or this template ', [['mod/feedback/classes','structure.php',106],['lib/simplepie/library','SimplePie.php',2813],['admin/tool/recyclebin/classes','category_bin.php',81],['admin/tool/recyclebin/classes','course_bin.php',77],['tag/classes','index_builder.php',194],['lib','navigationlib.php',3159],['grade','lib.php',2681],['admin/tool/customlang','locallib.php',413],['blocks/rss_client/classes/output','feed.php',156]], 59],
'blog_remove_associations_for_user': ['blog_remove_associations_for_user', 'remove all associations for the blog entries of a particular user ', [['blog','lib.php',111]], 1],
'blog_page_type_list': ['blog_page_type_list', 'Return a list of page types ', [['blog','lib.php',999]], 0],
'blog_user_can_edit_entry': ['blog_user_can_edit_entry', 'User can edit a blog entry if this is their own blog entry and they have the capability moodle/blog:create, or if they have the capability moodle/blog:manageentries. ', [['blog','lib.php',33]], 4],
'get_field': ['get_field', 'Gets an instance of the form field. ', [['lib/behat','behat_field_manager.php',248],['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1546],['user/filters','lib.php',124]], 536],
'user_picture': ['user_picture', '', [['mod/quiz','attemptlib.php',2467],['lib','outputrenderers.php',2454],['lib','outputrenderers.php',5000]], 138],
'delete_records_select': ['delete_records_select', '', [['lib/dml','pdo_moodle_database.php',208],['lib/dml','oci_native_moodle_database.php',1495],['lib/dml','pgsql_native_moodle_database.php',1162],['lib/dml','mssql_native_moodle_database.php',1146],['lib/dml','mysqli_native_moodle_database.php',1477],['lib/dml','sqlsrv_native_moodle_database.php',1220],['lib/dml/tests','dml_test.php',5553]], 163],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'add': ['add', 'Add HashTable item ', [['lib/phpexcel/PHPExcel','HashTable.php',78],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',95],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',109],['lib/google/src/Google/Http','Batch.php',52],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',37],['lib','csslib.php',1508],['lib/horde/framework/Horde/Mail/Rfc822','List.php',116],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',33],['lib/horde/framework/Horde/Support','ConsistentHash.php',148],['lib/horde/framework/Horde','Variables.php',297],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',29],['lib','outputcomponents.php',2705],['lib','outputcomponents.php',3380],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',436],['lib','adminlib.php',735],['lib','adminlib.php',894],['lib','adminlib.php',1446],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',27],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3450],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',80],['lib/google/src/Google/Service','Webmasters.php',436],['lib','navigationlib.php',304],['lib','navigationlib.php',761],['lib','navigationlib.php',3305],['lib','navigationlib.php',3583],['lib/horde/framework/Horde/Imap/Client','Ids.php',155],['backup/cc/cc_lib/gral_lib','cssparser.php',121],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',428],['lib/horde/framework/Horde','Stream.php',116],['comment','lib.php',679],['lib/mustache/src/Mustache','HelperCollection.php',56],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',207],['backup/cc/cc_lib','cc_utils.php',395],['backup/cc/cc_lib','cc_utils.php',454],['lib/lessphp/Output','Mapped.php',50],['lib','licenselib.php',32],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',50],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',74],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',14],['lib/horde/framework/Horde/Mail/Rfc822','GroupList.php',25],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',31],['tag/classes','tag.php',152],['blog','locallib.php',242],['lib/classes','notification.php',50],['lib/lessphp','Output.php',18],['tag/classes/output','tagfeed.php',61],['backup/cc','validator.php',51],['lib/horde/framework/Horde/Stream','TempString.php',118],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',11]], 6188],
'blog_is_enabled_for_user': ['blog_is_enabled_for_user', 'This function checks that blogs are enabled, and that the user can see blogs at all ', [['blog','lib.php',299]], 5],
'blog_get_tagged_posts': ['blog_get_tagged_posts', 'Returns posts tagged with a specified tag. ', [['blog','lib.php',1049]], 0],
'blog_user_can_view_user_entry': ['blog_user_can_view_user_entry', 'Checks to see if a user can view the blogs of another user. Only blog level is checked here, the capabilities are enforced in blog/index.php ', [['blog','lib.php',57]], 3],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'sql_compare_text': ['sql_compare_text', 'Returns the SQL text to be used to compare one TEXT (clob) column with one varchar column, because some RDBMS doesn\'t support such direct comparisons. ', [['lib/dml','moodle_database.php',2040]], 95],
'blog_comment_permissions': ['blog_comment_permissions', 'Running addtional permission check on plugin, for example, plugins may have switch to turn on/off comments option, this callback will affect UI display, not like pluginname_comment_validate only throw exceptions. blog_comment_validate will be called before viewing/adding/deleting comment, so don\'t repeat checks. Capability check has been done in comment->check_permissions(), we don\'t need to do it again here. ', [['blog','lib.php',910]], 0],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',3012]], 1007],
'instance_by_id': ['instance_by_id', 'Get a context instance as an object, from a given context id. ', [['lib','accesslib.php',5434]], 235],
'get_record_sql': ['get_record_sql', 'Get a single database record as an object using a SQL statement. ', [['lib/dml','oci_native_moodle_database.php',1076],['lib/dml','moodle_database.php',1506]], 157],
'in_array': ['in_array', '', [], 1234],
'link': ['link', '', [], 695],
'substr': ['substr', '', [], 2823],
'explode': ['explode', '', [], 1572],
'strtolower': ['strtolower', '', [], 817],
'time': ['time', '', [], 1959],
'trim': ['trim', '', [], 1948],
'array_map': ['array_map', '', [], 169],
'is_null': ['is_null', '', [], 2003],
'array_key_exists': ['array_key_exists', '', [], 1445],
'defined': ['defined', '', [], 4731],
'ceil': ['ceil', '', [], 236]};
CLASS_DATA={
'core_tag_tag': ['core_tag_tag', 'Represents one tag and also contains lots of useful tag-related methods as static functions. ', [['tag/classes','tag.php',27]], 352],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6817]], 1323],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',239]], 1200],
'core_text': ['core_text', 'defines string api\'s for manipulating strings ', [['lib/classes','text.php',27]], 566],
'blog_listing': ['blog_listing', 'Abstract Blog_Listing class: used to gather blog entries and output them as listings. One of the subclasses must be used. ', [['blog','locallib.php',537]], 17],
'moodle_simplepie': ['moodle_simplepie', 'Moodle Customised version of the SimplePie class ', [['lib/simplepie','moodle_simplepie.php',36]], 18],
'core_user': ['core_user', 'User class to access user details. ', [['lib/classes','user.php',27]], 457],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6398]], 414],
'comment_exception': ['comment_exception', 'Comment exception class ', [['comment','lib.php',1129]], 66],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1062]], 5120]};
CONST_DATA={
'BLOG_USER_LEVEL': ['BLOG_USER_LEVEL', '', [['lib','moodlelib.php',367]], 12],
'CONTEXT_USER': ['CONTEXT_USER', '', [['lib','accesslib.php',144]], 123],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 802],
'PARAM_NOTAGS': ['PARAM_NOTAGS', '', [['lib','moodlelib.php',172]], 217],
'CONTEXT_COURSE': ['CONTEXT_COURSE', '', [['lib','accesslib.php',148]], 441],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921],
'CONTEXT_SYSTEM': ['CONTEXT_SYSTEM', '', [['lib','accesslib.php',142]], 184],
'SITEID': ['SITEID', '', [['admin/cli','install.php',219],['lib/db','install.php',87],['','install.php',242],['lib','setup.php',755]], 608],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 1121],
'CONTEXT_MODULE': ['CONTEXT_MODULE', '', [['lib','accesslib.php',150]], 466],
'BLOG_SITE_LEVEL': ['BLOG_SITE_LEVEL', '', [['lib','moodlelib.php',370]], 17],
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 736],
'BLOG_GLOBAL_LEVEL': ['BLOG_GLOBAL_LEVEL', '', [['lib','moodlelib.php',371]], 15],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'PARAM_ALPHA': ['PARAM_ALPHA', '', [['lib','moodlelib.php',77]], 398],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 542]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
