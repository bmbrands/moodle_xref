<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /blocks/rss_client/backup/moodle2/restore_rss_client_stepslib.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='blocks/rss_client/backup/moodle2';
filename='restore_rss_client_stepslib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/blocks/rss_client/backup/moodle2/</a> -> <a href="restore_rss_client_stepslib.php.html">restore_rss_client_stepslib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="restore_rss_client_stepslib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="restore_rss_client_stepslib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * @package    block_rss_client</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * @subpackage backup-moodle2</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @copyright 2003 onwards Eloy Lafuente (stronk7) {@link http://stronk7.com}</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> */</span>
<a name="l23"><span class="linenum">  23</span></a>  
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">/**</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * Define all the restore steps that wll be used by the restore_rss_client_block_task</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> */</span>
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * Define the complete rss_client  structure for restore</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> */</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('restore_rss_client_block_structure_step')" href="../../../../_classes/restore_rss_client_block_structure_step.html" onMouseOver="classPopup(event,'restore_rss_client_block_structure_step')">restore_rss_client_block_structure_step</a> extends restore_structure_step {
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>      protected function <a class="function" onClick="logFunction('define_structure')" href="../../../../_functions/define_structure.html" onMouseOver="funcPopup(event,'define_structure')">define_structure</a>() {
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>          <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../_variables/paths.html">$paths</a> = array();
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>          <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../_variables/paths.html">$paths</a>[] = <span class="keyword">new </span><a class="class" onClick="logClass('restore_path_element')" href="../../../../_classes/restore_path_element.html" onMouseOver="classPopup(event,'restore_path_element')">restore_path_element</a>('block', '/block', true);
<a name="l38"><span class="linenum">  38</span></a>          <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../_variables/paths.html">$paths</a>[] = <span class="keyword">new </span><a class="class" onClick="logClass('restore_path_element')" href="../../../../_classes/restore_path_element.html" onMouseOver="classPopup(event,'restore_path_element')">restore_path_element</a>('rss_client', '/block/rss_client');
<a name="l39"><span class="linenum">  39</span></a>          <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../_variables/paths.html">$paths</a>[] = <span class="keyword">new </span><a class="class" onClick="logClass('restore_path_element')" href="../../../../_classes/restore_path_element.html" onMouseOver="classPopup(event,'restore_path_element')">restore_path_element</a>('feed', '/block/rss_client/feeds/feed');
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>          return <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('paths')" href="../../../../_variables/paths.html">$paths</a>;
<a name="l42"><span class="linenum">  42</span></a>      }
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>      public function <a class="function" onClick="logFunction('process_block')" href="../../../../_functions/process_block.html" onMouseOver="funcPopup(event,'process_block')">process_block</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>) {
<a name="l45"><span class="linenum">  45</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a> = (object)<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>;
<a name="l48"><span class="linenum">  48</span></a>          <a class="var it27381" onMouseOver="hilite(27381)" onMouseOut="lolite()" onClick="logVariable('feedsarr')" href="../../../../_variables/feedsarr.html">$feedsarr</a> = array(); <span class="comment">// To accumulate feeds</span>
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">        // For any reason (non multiple, dupe detected...) block not restored, return</span>
<a name="l51"><span class="linenum">  51</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('task')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/task.html">task</a>-&gt;<a class="function" onClick="logFunction('get_blockid')" href="../../../../_functions/get_blockid.html" onMouseOver="funcPopup(event,'get_blockid')">get_blockid</a>()) {
<a name="l52"><span class="linenum">  52</span></a>              return;
<a name="l53"><span class="linenum">  53</span></a>          }
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">        // Iterate over all the feed elements, creating them if needed</span>
<a name="l56"><span class="linenum">  56</span></a>          if (isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('rss_client')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/rss_client.html">rss_client</a>['feeds']['feed'])) {
<a name="l57"><span class="linenum">  57</span></a>              foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('rss_client')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/rss_client.html">rss_client</a>['feeds']['feed'] as <a class="var it11140" onMouseOver="hilite(11140)" onMouseOut="lolite()" onClick="logVariable('feed')" href="../../../../_variables/feed.html">$feed</a>) {
<a name="l58"><span class="linenum">  58</span></a>                  <a class="var it11140" onMouseOver="hilite(11140)" onMouseOut="lolite()" onClick="logVariable('feed')" href="../../../../_variables/feed.html">$feed</a> = (object)<a class="var it11140" onMouseOver="hilite(11140)" onMouseOut="lolite()" onClick="logVariable('feed')" href="../../../../_variables/feed.html">$feed</a>;
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">                // Look if the same feed is available by url and (shared or userid)</span>
<a name="l60"><span class="linenum">  60</span></a>                  <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../../_variables/select.html">$select</a> = 'url = :url AND (shared = 1 OR userid = :userid)';
<a name="l61"><span class="linenum">  61</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a> = array('url' =&gt; <a class="var it11140" onMouseOver="hilite(11140)" onMouseOut="lolite()" onClick="logVariable('feed')" href="../../../../_variables/feed.html">$feed</a>-&gt;<a onClick="logVariable('url')" class="var it43884" onMouseOver="hilite(43884)" onMouseOut="lolite()" href="../../../../_variables/url.html">url</a>, 'userid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('task')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/task.html">task</a>-&gt;<a class="function" onClick="logFunction('get_userid')" href="../../../../_functions/get_userid.html" onMouseOver="funcPopup(event,'get_userid')">get_userid</a>());
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">                // The feed already exists, use it</span>
<a name="l63"><span class="linenum">  63</span></a>                  if (<a class="var it27383" onMouseOver="hilite(27383)" onMouseOut="lolite()" onClick="logVariable('feedid')" href="../../../../_variables/feedid.html">$feedid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field_select')" href="../../../../_functions/get_field_select.html" onMouseOver="funcPopup(event,'get_field_select')">get_field_select</a>('block_rss_client', 'id', <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>, <a class="constant" onClick="logConstant('IGNORE_MULTIPLE')" href="../../../../_constants/IGNORE_MULTIPLE.html" onMouseOver="constPopup(event,'IGNORE_MULTIPLE')">IGNORE_MULTIPLE</a>)) {
<a name="l64"><span class="linenum">  64</span></a>                      <a class="var it27381" onMouseOver="hilite(27381)" onMouseOut="lolite()" onClick="logVariable('feedsarr')" href="../../../../_variables/feedsarr.html">$feedsarr</a>[] = <a class="var it27383" onMouseOver="hilite(27383)" onMouseOut="lolite()" onClick="logVariable('feedid')" href="../../../../_variables/feedid.html">$feedid</a>;
<a name="l65"><span class="linenum">  65</span></a>  
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">                // The feed doesn't exist, create it</span>
<a name="l67"><span class="linenum">  67</span></a>                  } else {
<a name="l68"><span class="linenum">  68</span></a>                      <a class="var it11140" onMouseOver="hilite(11140)" onMouseOut="lolite()" onClick="logVariable('feed')" href="../../../../_variables/feed.html">$feed</a>-&gt;<a onClick="logVariable('userid')" class="var it43884" onMouseOver="hilite(43884)" onMouseOut="lolite()" href="../../../../_variables/userid.html">userid</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('task')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/task.html">task</a>-&gt;<a class="function" onClick="logFunction('get_userid')" href="../../../../_functions/get_userid.html" onMouseOver="funcPopup(event,'get_userid')">get_userid</a>();
<a name="l69"><span class="linenum">  69</span></a>                      <a class="var it27383" onMouseOver="hilite(27383)" onMouseOut="lolite()" onClick="logVariable('feedid')" href="../../../../_variables/feedid.html">$feedid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('block_rss_client', <a class="var it11140" onMouseOver="hilite(11140)" onMouseOut="lolite()" onClick="logVariable('feed')" href="../../../../_variables/feed.html">$feed</a>);
<a name="l70"><span class="linenum">  70</span></a>                      <a class="var it27381" onMouseOver="hilite(27381)" onMouseOut="lolite()" onClick="logVariable('feedsarr')" href="../../../../_variables/feedsarr.html">$feedsarr</a>[] = <a class="var it27383" onMouseOver="hilite(27383)" onMouseOut="lolite()" onClick="logVariable('feedid')" href="../../../../_variables/feedid.html">$feedid</a>;
<a name="l71"><span class="linenum">  71</span></a>                  }
<a name="l72"><span class="linenum">  72</span></a>              }
<a name="l73"><span class="linenum">  73</span></a>          }
<a name="l74"><span class="linenum">  74</span></a>  
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">        // Adjust the serialized configdata-&gt;rssid to the created/mapped feeds</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">        // Get the configdata</span>
<a name="l77"><span class="linenum">  77</span></a>          <a class="var it4997" onMouseOver="hilite(4997)" onMouseOut="lolite()" onClick="logVariable('configdata')" href="../../../../_variables/configdata.html">$configdata</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../../../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('block_instances', 'configdata', array('id' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('task')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/task.html">task</a>-&gt;<a class="function" onClick="logFunction('get_blockid')" href="../../../../_functions/get_blockid.html" onMouseOver="funcPopup(event,'get_blockid')">get_blockid</a>()));
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">        // Extract configdata</span>
<a name="l79"><span class="linenum">  79</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a> = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(<a class="phpfunction" onClick="logFunction('base64_decode')" href="../../../../_functions/base64_decode.html" onMouseOver="phpfuncPopup(event,'base64_decode')">base64_decode</a>(<a class="var it4997" onMouseOver="hilite(4997)" onMouseOut="lolite()" onClick="logVariable('configdata')" href="../../../../_variables/configdata.html">$configdata</a>));
<a name="l80"><span class="linenum">  80</span></a>          if (empty(<a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>)) {
<a name="l81"><span class="linenum">  81</span></a>              <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a> = new stdClass();
<a name="l82"><span class="linenum">  82</span></a>          }
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">        // Set array of used rss feeds</span>
<a name="l84"><span class="linenum">  84</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('rssid')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/rssid.html">rssid</a> = <a class="var it27381" onMouseOver="hilite(27381)" onMouseOut="lolite()" onClick="logVariable('feedsarr')" href="../../../../_variables/feedsarr.html">$feedsarr</a>;
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">        // Serialize back the configdata</span>
<a name="l86"><span class="linenum">  86</span></a>          <a class="var it4997" onMouseOver="hilite(4997)" onMouseOut="lolite()" onClick="logVariable('configdata')" href="../../../../_variables/configdata.html">$configdata</a> = <a class="phpfunction" onClick="logFunction('base64_encode')" href="../../../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(<a class="phpfunction" onClick="logFunction('serialize')" href="../../../../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>));
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">        // Set the configdata back</span>
<a name="l88"><span class="linenum">  88</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('block_instances', 'configdata', <a class="var it4997" onMouseOver="hilite(4997)" onMouseOut="lolite()" onClick="logVariable('configdata')" href="../../../../_variables/configdata.html">$configdata</a>, array('id' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('task')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/task.html">task</a>-&gt;<a class="function" onClick="logFunction('get_blockid')" href="../../../../_functions/get_blockid.html" onMouseOver="funcPopup(event,'get_blockid')">get_blockid</a>()));
<a name="l89"><span class="linenum">  89</span></a>      }
<a name="l90"><span class="linenum">  90</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_field': ['get_field', 'Gets an instance of the form field. ', [['lib/behat','behat_field_manager.php',248],['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1546],['user/filters','lib.php',124]], 536],
'get_field_select': ['get_field_select', 'Get a single field value from a table record which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1563]], 49],
'process_block': ['process_block', '', [['blocks/rss_client/backup/moodle1','lib.php',31],['question/format/blackboard_six','formatqti.php',250],['backup/moodle2','restore_stepslib.php',3777],['blocks/rss_client/backup/moodle2','restore_rss_client_stepslib.php',44],['backup/converter/moodle1','handlerlib.php',2062]], 10],
'set_field': ['set_field', 'Set a single field in every table record where all the given conditions met. ', [['lib/dml','moodle_database.php',1737],['availability/condition/profile/tests','condition_test.php',349]], 485],
'get_userid': ['get_userid', 'Returns user ID ', [['lib/filebrowser','virtual_root_file.php',236],['mod/quiz','attemptlib.php',804],['lib/filestorage','stored_file.php',708],['mod/data','lib.php',2585],['backup/util/plan','restore_task.class.php',54],['backup/util/plan','restore_plan.class.php',115],['backup/controller','backup_controller.class.php',283],['backup/controller','restore_controller.class.php',285]], 220],
'get_blockid': ['get_blockid', '', [['backup/moodle2','backup_block_task.class.php',80],['backup/moodle2','restore_block_task.class.php',117]], 11],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'define_structure': ['define_structure', '', [['mod/survey/backup/moodle2','restore_survey_stepslib.php',34],['mod/page/backup/moodle2','restore_page_stepslib.php',34],['mod/feedback/backup/moodle2','backup_feedback_stepslib.php',33],['mod/lti/backup/moodle2','backup_lti_stepslib.php',56],['mod/book/backup/moodle2','backup_book_stepslib.php',32],['mod/workshop/backup/moodle2','restore_workshop_stepslib.php',33],['mod/label/backup/moodle2','backup_label_stepslib.php',33],['mod/resource/backup/moodle2','backup_resource_stepslib.php',33],['mod/chat/backup/moodle2','restore_chat_stepslib.php',33],['mod/assignment/backup/moodle2','backup_assignment_stepslib.php',34],['backup/moodle2','restore_stepslib.php',143],['backup/moodle2','restore_stepslib.php',725],['backup/moodle2','restore_stepslib.php',1034],['backup/moodle2','restore_stepslib.php',1157],['backup/moodle2','restore_stepslib.php',1292],['backup/moodle2','restore_stepslib.php',1369],['backup/moodle2','restore_stepslib.php',1431],['backup/moodle2','restore_stepslib.php',1545],['backup/moodle2','restore_stepslib.php',1771],['backup/moodle2','restore_stepslib.php',1996],['backup/moodle2','restore_stepslib.php',2151],['backup/moodle2','restore_stepslib.php',2335],['backup/moodle2','restore_stepslib.php',2390],['backup/moodle2','restore_stepslib.php',2473],['backup/moodle2','restore_stepslib.php',2616],['backup/moodle2','restore_stepslib.php',2765],['backup/moodle2','restore_stepslib.php',3020],['backup/moodle2','restore_stepslib.php',3150],['backup/moodle2','restore_stepslib.php',3194],['backup/moodle2','restore_stepslib.php',3341],['backup/moodle2','restore_stepslib.php',3435],['backup/moodle2','restore_stepslib.php',3567],['backup/moodle2','restore_stepslib.php',3721],['backup/moodle2','restore_stepslib.php',3767],['backup/moodle2','restore_stepslib.php',3930],['backup/moodle2','restore_stepslib.php',4194],['backup/moodle2','restore_stepslib.php',4287],['mod/url/backup/moodle2','backup_url_stepslib.php',33],['mod/scorm/backup/moodle2','restore_scorm_stepslib.php',33],['mod/scorm/backup/moodle2','backup_scorm_stepslib.php',33],['mod/assign/backup/moodle2','backup_assign_stepslib.php',36],['mod/url/backup/moodle2','restore_url_stepslib.php',34],['mod/lesson/backup/moodle2','backup_lesson_stepslib.php',65],['mod/imscp/backup/moodle2','restore_imscp_stepslib.php',34],['mod/workshop/backup/moodle2','backup_workshop_stepslib.php',36],['mod/glossary/backup/moodle2','backup_glossary_stepslib.php',34],['mod/forum/backup/moodle2','restore_forum_stepslib.php',34],['backup/util/plan/tests/fixtures','plan_fixtures.php',120],['backup/util/plan/tests/fixtures','plan_fixtures.php',142],['mod/wiki/backup/moodle2','restore_wiki_stepslib.php',34],['mod/folder/backup/moodle2','restore_folder_stepslib.php',34],['blocks/rss_client/backup/moodle2','restore_rss_client_stepslib.php',33],['blocks/rss_client/backup/moodle2','backup_rss_client_stepslib.php',33],['mod/resource/backup/moodle2','restore_resource_stepslib.php',34],['mod/lti/backup/moodle2','restore_lti_stepslib.php',56],['mod/survey/backup/moodle2','backup_survey_stepslib.php',34],['mod/choice/backup/moodle2','backup_choice_stepslib.php',34],['mod/data/backup/moodle2','restore_data_stepslib.php',34],['mod/assignment/backup/moodle2','restore_assignment_stepslib.php',34],['backup/moodle2','backup_stepslib.php',260],['backup/moodle2','backup_stepslib.php',322],['backup/moodle2','backup_stepslib.php',370],['backup/moodle2','backup_stepslib.php',480],['backup/moodle2','backup_stepslib.php',537],['backup/moodle2','backup_stepslib.php',594],['backup/moodle2','backup_stepslib.php',628],['backup/moodle2','backup_stepslib.php',664],['backup/moodle2','backup_stepslib.php',701],['backup/moodle2','backup_stepslib.php',741],['backup/moodle2','backup_stepslib.php',782],['backup/moodle2','backup_stepslib.php',851],['backup/moodle2','backup_stepslib.php',907],['backup/moodle2','backup_stepslib.php',1049],['backup/moodle2','backup_stepslib.php',1107],['backup/moodle2','backup_stepslib.php',1139],['backup/moodle2','backup_stepslib.php',1229],['backup/moodle2','backup_stepslib.php',1391],['backup/moodle2','backup_stepslib.php',1450],['backup/moodle2','backup_stepslib.php',1484],['backup/moodle2','backup_stepslib.php',1520],['backup/moodle2','backup_stepslib.php',1547],['backup/moodle2','backup_stepslib.php',1614],['backup/moodle2','backup_stepslib.php',1657],['backup/moodle2','backup_stepslib.php',1720],['backup/moodle2','backup_stepslib.php',1758],['backup/moodle2','backup_stepslib.php',2178],['backup/moodle2','backup_stepslib.php',2315],['backup/moodle2','backup_stepslib.php',2393],['backup/moodle2','backup_stepslib.php',2485],['backup/moodle2','backup_stepslib.php',2545],['mod/imscp/backup/moodle2','backup_imscp_stepslib.php',35],['mod/folder/backup/moodle2','backup_folder_stepslib.php',33],['mod/chat/backup/moodle2','backup_chat_stepslib.php',28],['mod/quiz/backup/moodle2','restore_quiz_stepslib.php',49],['mod/label/backup/moodle2','restore_label_stepslib.php',34],['mod/forum/backup/moodle2','backup_forum_stepslib.php',34],['mod/quiz/backup/moodle2','backup_quiz_stepslib.php',36],['mod/glossary/backup/moodle2','restore_glossary_stepslib.php',34],['mod/assign/backup/moodle2','restore_assign_stepslib.php',42],['mod/book/backup/moodle2','restore_book_stepslib.php',32],['mod/lesson/backup/moodle2','restore_lesson_stepslib.php',37],['mod/feedback/backup/moodle2','restore_feedback_stepslib.php',33],['mod/choice/backup/moodle2','restore_choice_stepslib.php',34],['mod/wiki/backup/moodle2','backup_wiki_stepslib.php',34],['mod/page/backup/moodle2','backup_page_stepslib.php',36],['mod/data/backup/moodle2','backup_data_stepslib.php',34]], 4],
'base64_encode': ['base64_encode', '', [], 134],
'serialize': ['serialize', '', [], 282],
'base64_decode': ['base64_decode', '', [], 92],
'unserialize': ['unserialize', '', [], 192]};
CLASS_DATA={
'restore_path_element': ['restore_path_element', 'Class representing one path to be restored from XML file ', [['backup/util/structure','restore_path_element.class.php',27]], 232],
'restore_rss_client_block_structure_step': ['restore_rss_client_block_structure_step', 'Define the complete rss_client  structure for restore ', [['blocks/rss_client/backup/moodle2','restore_rss_client_stepslib.php',28]], 1]};
CONST_DATA={
'IGNORE_MULTIPLE': ['IGNORE_MULTIPLE', '', [['lib','dmllib.php',50]], 43]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
