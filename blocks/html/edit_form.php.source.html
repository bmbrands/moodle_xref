<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /blocks/html/edit_form.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='blocks/html';
filename='edit_form.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/blocks/html/</a> -> <a href="edit_form.php.html">edit_form.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="edit_form.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="edit_form.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Form for editing HTML block instances.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package   block_html</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright 2009 Tim Hunt</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment">/**</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * Form for editing HTML block instances.</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> *</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * @copyright 2009 Tim Hunt</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> */</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('block_html_edit_form')" href="../../_classes/block_html_edit_form.html" onMouseOver="classPopup(event,'block_html_edit_form')">block_html_edit_form</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('block_edit_form')" href="../../_classes/block_edit_form.html" onMouseOver="classPopup(event,'block_edit_form')">block_edit_form</a> {
<a name="l32"><span class="linenum">  32</span></a>      protected function <a class="function" onClick="logFunction('specific_definition')" href="../../_functions/specific_definition.html" onMouseOver="funcPopup(event,'specific_definition')">specific_definition</a>(<a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>) {
<a name="l33"><span class="linenum">  33</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">        // Fields for editing HTML block title and contents.</span>
<a name="l36"><span class="linenum">  36</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('header', 'configheader', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('blocksettings', 'block'));
<a name="l37"><span class="linenum">  37</span></a>  
<a name="l38"><span class="linenum">  38</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('text', 'config_title', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('configtitle', 'block_html'));
<a name="l39"><span class="linenum">  39</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('config_title', <a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>);
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>          <a class="var it2672" onMouseOver="hilite(2672)" onMouseOut="lolite()" onClick="logVariable('editoroptions')" href="../../_variables/editoroptions.html">$editoroptions</a> = array('maxfiles' =&gt; <a class="constant" onClick="logConstant('EDITOR_UNLIMITED_FILES')" href="../../_constants/EDITOR_UNLIMITED_FILES.html" onMouseOver="constPopup(event,'EDITOR_UNLIMITED_FILES')">EDITOR_UNLIMITED_FILES</a>, 'noclean'=&gt;true, 'context'=&gt;<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;context);
<a name="l42"><span class="linenum">  42</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('editor', 'config_text', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('configcontent', 'block_html'), null, <a class="var it2672" onMouseOver="hilite(2672)" onMouseOut="lolite()" onClick="logVariable('editoroptions')" href="../../_variables/editoroptions.html">$editoroptions</a>);
<a name="l43"><span class="linenum">  43</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addRule')" href="../../_functions/addrule.html" onMouseOver="funcPopup(event,'addrule')">addRule</a>('config_text', null, 'required', null, 'client');
<a name="l44"><span class="linenum">  44</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('config_text', <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>); <span class="comment">// XSS is prevented when printing the block contents and serving files</span>
<a name="l45"><span class="linenum">  45</span></a>  
<a name="l46"><span class="linenum">  46</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('block_html_allowcssclasses')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/block_html_allowcssclasses.html">block_html_allowcssclasses</a>)) {
<a name="l47"><span class="linenum">  47</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('text', 'config_classes', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('configclasses', 'block_html'));
<a name="l48"><span class="linenum">  48</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('config_classes', <a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>);
<a name="l49"><span class="linenum">  49</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addHelpButton')" href="../../_functions/addhelpbutton.html" onMouseOver="funcPopup(event,'addhelpbutton')">addHelpButton</a>('config_classes', 'configclasses', 'block_html');
<a name="l50"><span class="linenum">  50</span></a>          }
<a name="l51"><span class="linenum">  51</span></a>      }
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>      function <a class="function" onClick="logFunction('set_data')" href="../../_functions/set_data.html" onMouseOver="funcPopup(event,'set_data')">set_data</a>(<a class="var it2243" onMouseOver="hilite(2243)" onMouseOut="lolite()" onClick="logVariable('defaults')" href="../../_variables/defaults.html">$defaults</a>) {
<a name="l54"><span class="linenum">  54</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config) &amp;&amp; <a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config)) {
<a name="l55"><span class="linenum">  55</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config-&gt;text;
<a name="l56"><span class="linenum">  56</span></a>              <a class="var it8320" onMouseOver="hilite(8320)" onMouseOut="lolite()" onClick="logVariable('draftid_editor')" href="../../_variables/draftid_editor.html">$draftid_editor</a> = <a class="function" onClick="logFunction('file_get_submitted_draft_itemid')" href="../../_functions/file_get_submitted_draft_itemid.html" onMouseOver="funcPopup(event,'file_get_submitted_draft_itemid')">file_get_submitted_draft_itemid</a>('config_text');
<a name="l57"><span class="linenum">  57</span></a>              if (empty(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>)) {
<a name="l58"><span class="linenum">  58</span></a>                  <a class="var it20850" onMouseOver="hilite(20850)" onMouseOut="lolite()" onClick="logVariable('currenttext')" href="../../_variables/currenttext.html">$currenttext</a> = '';
<a name="l59"><span class="linenum">  59</span></a>              } else {
<a name="l60"><span class="linenum">  60</span></a>                  <a class="var it20850" onMouseOver="hilite(20850)" onMouseOut="lolite()" onClick="logVariable('currenttext')" href="../../_variables/currenttext.html">$currenttext</a> = <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>;
<a name="l61"><span class="linenum">  61</span></a>              }
<a name="l62"><span class="linenum">  62</span></a>              <a class="var it2243" onMouseOver="hilite(2243)" onMouseOut="lolite()" onClick="logVariable('defaults')" href="../../_variables/defaults.html">$defaults</a>-&gt;<a onClick="logVariable('config_text')" class="var it40124" onMouseOver="hilite(40124)" onMouseOut="lolite()" href="../../_variables/config_text.html">config_text</a>['text'] = <a class="function" onClick="logFunction('file_prepare_draft_area')" href="../../_functions/file_prepare_draft_area.html" onMouseOver="funcPopup(event,'file_prepare_draft_area')">file_prepare_draft_area</a>(<a class="var it8320" onMouseOver="hilite(8320)" onMouseOut="lolite()" onClick="logVariable('draftid_editor')" href="../../_variables/draftid_editor.html">$draftid_editor</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;context-&gt;id, 'block_html', 'content', 0, array('subdirs'=&gt;true), <a class="var it20850" onMouseOver="hilite(20850)" onMouseOut="lolite()" onClick="logVariable('currenttext')" href="../../_variables/currenttext.html">$currenttext</a>);
<a name="l63"><span class="linenum">  63</span></a>              <a class="var it2243" onMouseOver="hilite(2243)" onMouseOut="lolite()" onClick="logVariable('defaults')" href="../../_variables/defaults.html">$defaults</a>-&gt;<a onClick="logVariable('config_text')" class="var it40124" onMouseOver="hilite(40124)" onMouseOut="lolite()" href="../../_variables/config_text.html">config_text</a>['itemid'] = <a class="var it8320" onMouseOver="hilite(8320)" onMouseOut="lolite()" onClick="logVariable('draftid_editor')" href="../../_variables/draftid_editor.html">$draftid_editor</a>;
<a name="l64"><span class="linenum">  64</span></a>              <a class="var it2243" onMouseOver="hilite(2243)" onMouseOut="lolite()" onClick="logVariable('defaults')" href="../../_variables/defaults.html">$defaults</a>-&gt;<a onClick="logVariable('config_text')" class="var it40124" onMouseOver="hilite(40124)" onMouseOut="lolite()" href="../../_variables/config_text.html">config_text</a>['format'] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config-&gt;format;
<a name="l65"><span class="linenum">  65</span></a>          } else {
<a name="l66"><span class="linenum">  66</span></a>              <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a> = '';
<a name="l67"><span class="linenum">  67</span></a>          }
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>          if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;<a class="function" onClick="logFunction('user_can_edit')" href="../../_functions/user_can_edit.html" onMouseOver="funcPopup(event,'user_can_edit')">user_can_edit</a>() &amp;&amp; !empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config-&gt;title)) {
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">            // If a title has been set but the user cannot edit it format it nicely</span>
<a name="l71"><span class="linenum">  71</span></a>              <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config-&gt;title;
<a name="l72"><span class="linenum">  72</span></a>              <a class="var it2243" onMouseOver="hilite(2243)" onMouseOut="lolite()" onClick="logVariable('defaults')" href="../../_variables/defaults.html">$defaults</a>-&gt;<a onClick="logVariable('config_title')" class="var it40124" onMouseOver="hilite(40124)" onMouseOut="lolite()" href="../../_variables/config_title.html">config_title</a> = <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a>, true, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/page.html">page</a>-&gt;context);
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">            // Remove the title from the config so that parent::set_data doesn't set it.</span>
<a name="l74"><span class="linenum">  74</span></a>              unset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config-&gt;title);
<a name="l75"><span class="linenum">  75</span></a>          }
<a name="l76"><span class="linenum">  76</span></a>  
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">        // have to delete text here, otherwise parent::set_data will empty content</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">        // of editor</span>
<a name="l79"><span class="linenum">  79</span></a>          unset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config-&gt;text);
<a name="l80"><span class="linenum">  80</span></a>          parent::<a class="function" onClick="logFunction('set_data')" href="../../_functions/set_data.html" onMouseOver="funcPopup(event,'set_data')">set_data</a>(<a class="var it2243" onMouseOver="hilite(2243)" onMouseOut="lolite()" onClick="logVariable('defaults')" href="../../_variables/defaults.html">$defaults</a>);
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">        // restore $text</span>
<a name="l82"><span class="linenum">  82</span></a>          if (!isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config)) {
<a name="l83"><span class="linenum">  83</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config = new stdClass();
<a name="l84"><span class="linenum">  84</span></a>          }
<a name="l85"><span class="linenum">  85</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config-&gt;text = <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>;
<a name="l86"><span class="linenum">  86</span></a>          if (isset(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a>)) {
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">            // Reset the preserved title</span>
<a name="l88"><span class="linenum">  88</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('block')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/block.html">block</a>-&gt;config-&gt;title = <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a>;
<a name="l89"><span class="linenum">  89</span></a>          }
<a name="l90"><span class="linenum">  90</span></a>      }
<a name="l91"><span class="linenum">  91</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'user_can_edit': ['user_can_edit', 'Allows the block class to have a say in the user\'s ability to edit (i.e., configure) blocks of this type. The framework has first say in whether this will be allowed (e.g., no editing allowed unless in edit mode) but if the framework does allow it, the block can still decide to refuse. ', [['blocks','moodleblock.class.php',521],['blocks/community','block_community.php',41]], 8],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1318]], 854],
'addelement': ['addelement', 'Adds a custom element to your HTML definition ', [['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',124],['lib/zend/Zend/Soap','Wsdl.php',641],['lib/htmlpurifier/HTMLPurifier','HTMLModule.php',130],['lib/pear/HTML','QuickForm.php',582]], 3296],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'addhelpbutton': ['addhelpbutton', 'Add a help button to element, only one button per element is allowed. ', [['lib','formslib.php',1870]], 612],
'addrule': ['addrule', 'Adds a validation rule for the given field ', [['lib','formslib.php',1984],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',322],['lib/pear/HTML','QuickForm.php',1006]], 283],
'file_prepare_draft_area': ['file_prepare_draft_area', 'Initialise a draft file area from a real one by copying the files. A draft area will be created if one does not already exist. Normally you should get $draftitemid by calling file_get_submitted_draft_itemid(\'elementname\'); ', [['lib','filelib.php',362]], 52],
'set_data': ['set_data', '', [['question/type/missingtype','edit_missingtype_form.php',52],['question/type/multianswer','edit_multianswer_form.php',256],['mod/feedback/item/multichoicerated','multichoicerated_form.php',81],['mod/scorm','mod_form.php',444],['question','category_form.php',73],['course','moodleform_mod.php',338],['mod/feedback/item/multichoice','multichoice_form.php',79],['blocks','edit_form.php',255],['badges','edit_form.php',137],['lib','formslib.php',434],['blocks/html','edit_form.php',53],['admin/tool/filetypes','edit_form.php',83],['question/type/random','edit_random_form.php',68],['cache','forms.php',232],['backup/util/structure','restore_path_element.class.php',95],['lib/classes/message/inbound','address_manager.php',146],['course','editsection_form.php',79],['question/type','edit_question_form.php',449],['question/type/calculated','datasetitems_form.php',360]], 234],
'specific_definition': ['specific_definition', '', [['blocks/tags','edit_form.php',32],['blocks','edit_form.php',287],['blocks/tag_flickr','edit_form.php',32],['blocks/myprofile','edit_form.php',28],['blocks/html','edit_form.php',32],['blocks/activity_results','edit_form.php',37],['blocks/blog_tags','edit_form.php',32],['blocks/blog_recent','edit_form.php',35],['blocks/mentees','edit_form.php',32],['blocks/tag_youtube','edit_form.php',32],['blocks/settings','edit_form.php',34],['blocks/navigation','edit_form.php',38],['blocks/rss_client','edit_form.php',32],['blocks/badges','edit_form.php',27],['blocks/glossary_random','edit_form.php',32],['blocks/section_links','edit_form.php',34]], 1],
'file_get_submitted_draft_itemid': ['file_get_submitted_draft_itemid', 'Returns draft area itemid for a given element. ', [['lib','filelib.php',719]], 45],
'settype': ['settype', '', [], 1490],
'is_object': ['is_object', '', [], 508]};
CLASS_DATA={
'block_edit_form': ['block_edit_form', 'The base class form used by blocks/edit.php to edit block instance configuration. ', [['blocks','edit_form.php',35]], 15],
'block_html_edit_form': ['block_html_edit_form', 'Form for editing HTML block instances. ', [['blocks/html','edit_form.php',25]], 0]};
CONST_DATA={
'EDITOR_UNLIMITED_FILES': ['EDITOR_UNLIMITED_FILES', '', [['lib','formslib.php',51]], 40],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 476],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 692]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
