<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /blocks/community/locallib.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='blocks/community';
filename='locallib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/blocks/community/</a> -> <a href="locallib.php.html">locallib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="locallib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="locallib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Community library</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    block_community</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @author     Jerome Mouneyrac &lt;jerome@mouneyrac.com&gt;</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @copyright  (C) 1999 onwards Martin Dougiamas  http://dougiamas.com</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> *</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> *</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> */</span>
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('block_community_manager')" href="../../_classes/block_community_manager.html" onMouseOver="classPopup(event,'block_community_manager')">block_community_manager</a> {
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>      <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">     * Add a community course</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">     * @param object $course</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">     * @param integer $userid</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">     * @return id of course or false if already added</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">     */</span>
<a name="l36"><span class="linenum">  36</span></a>      public function <a class="function" onClick="logFunction('block_community_add_course')" href="../../_functions/block_community_add_course.html" onMouseOver="funcPopup(event,'block_community_add_course')">block_community_add_course</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l37"><span class="linenum">  37</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l38"><span class="linenum">  38</span></a>  
<a name="l39"><span class="linenum">  39</span></a>          <a class="var it36835" onMouseOver="hilite(36835)" onMouseOut="lolite()" onClick="logVariable('community')" href="../../_variables/community.html">$community</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('block_community_get_course')" href="../../_functions/block_community_get_course.html" onMouseOver="funcPopup(event,'block_community_get_course')">block_community_get_course</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('url')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/url.html">url</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>          if (empty(<a class="var it36835" onMouseOver="hilite(36835)" onMouseOut="lolite()" onClick="logVariable('community')" href="../../_variables/community.html">$community</a>)) {
<a name="l42"><span class="linenum">  42</span></a>              <a class="var it36835" onMouseOver="hilite(36835)" onMouseOut="lolite()" onClick="logVariable('community')" href="../../_variables/community.html">$community</a> = new stdClass();
<a name="l43"><span class="linenum">  43</span></a>              <a class="var it36835" onMouseOver="hilite(36835)" onMouseOut="lolite()" onClick="logVariable('community')" href="../../_variables/community.html">$community</a>-&gt;<a onClick="logVariable('userid')" class="var it44711" onMouseOver="hilite(44711)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>;
<a name="l44"><span class="linenum">  44</span></a>              <a class="var it36835" onMouseOver="hilite(36835)" onMouseOut="lolite()" onClick="logVariable('community')" href="../../_variables/community.html">$community</a>-&gt;<a onClick="logVariable('coursename')" class="var it44711" onMouseOver="hilite(44711)" onMouseOut="lolite()" href="../../_variables/coursename.html">coursename</a> = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('name')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l45"><span class="linenum">  45</span></a>              <a class="var it36835" onMouseOver="hilite(36835)" onMouseOut="lolite()" onClick="logVariable('community')" href="../../_variables/community.html">$community</a>-&gt;<a onClick="logVariable('coursedescription')" class="var it44711" onMouseOver="hilite(44711)" onMouseOut="lolite()" href="../../_variables/coursedescription.html">coursedescription</a> = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('description')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/description.html">description</a>;
<a name="l46"><span class="linenum">  46</span></a>              <a class="var it36835" onMouseOver="hilite(36835)" onMouseOut="lolite()" onClick="logVariable('community')" href="../../_variables/community.html">$community</a>-&gt;<a onClick="logVariable('courseurl')" class="var it44711" onMouseOver="hilite(44711)" onMouseOut="lolite()" href="../../_variables/courseurl.html">courseurl</a> = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('url')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/url.html">url</a>;
<a name="l47"><span class="linenum">  47</span></a>              <a class="var it36835" onMouseOver="hilite(36835)" onMouseOut="lolite()" onClick="logVariable('community')" href="../../_variables/community.html">$community</a>-&gt;<a onClick="logVariable('imageurl')" class="var it44711" onMouseOver="hilite(44711)" onMouseOut="lolite()" href="../../_variables/imageurl.html">imageurl</a> = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('imageurl')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/imageurl.html">imageurl</a>;
<a name="l48"><span class="linenum">  48</span></a>              return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('block_community', <a class="var it36835" onMouseOver="hilite(36835)" onMouseOut="lolite()" onClick="logVariable('community')" href="../../_variables/community.html">$community</a>);
<a name="l49"><span class="linenum">  49</span></a>          } else {
<a name="l50"><span class="linenum">  50</span></a>              return false;
<a name="l51"><span class="linenum">  51</span></a>          }
<a name="l52"><span class="linenum">  52</span></a>      }
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>      <span class="comment">/**</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     * Return all community courses of a user</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">     * @param integer $userid</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     * @return array of course</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     */</span>
<a name="l59"><span class="linenum">  59</span></a>      public function <a class="function" onClick="logFunction('block_community_get_courses')" href="../../_functions/block_community_get_courses.html" onMouseOver="funcPopup(event,'block_community_get_courses')">block_community_get_courses</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l60"><span class="linenum">  60</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l61"><span class="linenum">  61</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('block_community', array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>), 'coursename');
<a name="l62"><span class="linenum">  62</span></a>      }
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>      <span class="comment">/**</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * Return a community courses of a user</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * @param integer $userid</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     * @param integer $userid</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     * @return array of course</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     */</span>
<a name="l70"><span class="linenum">  70</span></a>      public function <a class="function" onClick="logFunction('block_community_get_course')" href="../../_functions/block_community_get_course.html" onMouseOver="funcPopup(event,'block_community_get_course')">block_community_get_course</a>(<a class="var it1080" onMouseOver="hilite(1080)" onMouseOut="lolite()" onClick="logVariable('courseurl')" href="../../_variables/courseurl.html">$courseurl</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l71"><span class="linenum">  71</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l72"><span class="linenum">  72</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('block_community',
<a name="l73"><span class="linenum">  73</span></a>                  array('courseurl' =&gt; <a class="var it1080" onMouseOver="hilite(1080)" onMouseOut="lolite()" onClick="logVariable('courseurl')" href="../../_variables/courseurl.html">$courseurl</a>, 'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>));
<a name="l74"><span class="linenum">  74</span></a>      }
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>      <span class="comment">/**</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">     * Download the community course backup and save it in file API</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">     * @param integer $courseid</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">     * @param string $huburl</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">     * @return array 'privatefile' the file name saved in private area</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     *               'tmpfile' the file name saved in the moodledata temp dir (for restore)</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     */</span>
<a name="l83"><span class="linenum">  83</span></a>      public function <a class="function" onClick="logFunction('block_community_download_course_backup')" href="../../_functions/block_community_download_course_backup.html" onMouseOver="funcPopup(event,'block_community_download_course_backup')">block_community_download_course_backup</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>) {
<a name="l84"><span class="linenum">  84</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l85"><span class="linenum">  85</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a> . &quot;/filelib.php&quot;);
<a name="l86"><span class="linenum">  86</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>. "<a class="filename" href="../../course/publish/lib.php.html">/course/publish/lib.php</a>");
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid'] = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l89"><span class="linenum">  89</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['filetype'] = <a class="constant" onClick="logConstant('HUB_BACKUP_FILE_TYPE')" href="../../_constants/HUB_BACKUP_FILE_TYPE.html" onMouseOver="constPopup(event,'HUB_BACKUP_FILE_TYPE')">HUB_BACKUP_FILE_TYPE</a>;
<a name="l90"><span class="linenum">  90</span></a>  
<a name="l91"><span class="linenum">  91</span></a>          <a class="function" onClick="logFunction('make_temp_directory')" href="../../_functions/make_temp_directory.html" onMouseOver="funcPopup(event,'make_temp_directory')">make_temp_directory</a>('backup');
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>          <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a> = md5(<a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>() . '-' . <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> . '-'. <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> . '-'. <a class="function" onClick="logFunction('random_string')" href="../../_functions/random_string.html" onMouseOver="funcPopup(event,'random_string')">random_string</a>(20));
<a name="l94"><span class="linenum">  94</span></a>  
<a name="l95"><span class="linenum">  95</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>  = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('huburl')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/huburl.html">huburl</a>.'/local/hub/webservice/download.php', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l96"><span class="linenum">  96</span></a>          <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tempdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/tempdir.html">tempdir</a>.'/backup/'.<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>.&quot;.mbz&quot;;
<a name="l97"><span class="linenum">  97</span></a>          <a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../../_variables/fp.html">$fp</a> = <a class="function" onClick="logFunction('fopen')" href="../../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, 'w');
<a name="l98"><span class="linenum">  98</span></a>          <a class="var it36837" onMouseOver="hilite(36837)" onMouseOut="lolite()" onClick="logVariable('curlurl')" href="../../_variables/curlurl.html">$curlurl</a> = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('huburl')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/huburl.html">huburl</a>.'/local/hub/webservice/download.php?filetype='
<a name="l99"><span class="linenum">  99</span></a>                  .<a class="constant" onClick="logConstant('HUB_BACKUP_FILE_TYPE')" href="../../_constants/HUB_BACKUP_FILE_TYPE.html" onMouseOver="constPopup(event,'HUB_BACKUP_FILE_TYPE')">HUB_BACKUP_FILE_TYPE</a>.'&amp;courseid='.<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">        //send an identification token if the site is registered on the hub</span>
<a name="l102"><span class="linenum"> 102</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '/' . <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('admin')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/admin.html">admin</a> . '/registration/lib.php');
<a name="l103"><span class="linenum"> 103</span></a>          <a class="var it5078" onMouseOver="hilite(5078)" onMouseOut="lolite()" onClick="logVariable('registrationmanager')" href="../../_variables/registrationmanager.html">$registrationmanager</a> = <span class="keyword">new </span><a class="class" onClick="logClass('registration_manager')" href="../../_classes/registration_manager.html" onMouseOver="classPopup(event,'registration_manager')">registration_manager</a>();
<a name="l104"><span class="linenum"> 104</span></a>          <a class="var it5080" onMouseOver="hilite(5080)" onMouseOut="lolite()" onClick="logVariable('registeredhub')" href="../../_variables/registeredhub.html">$registeredhub</a> = <a class="var it5078" onMouseOver="hilite(5078)" onMouseOut="lolite()" onClick="logVariable('registrationmanager')" href="../../_variables/registrationmanager.html">$registrationmanager</a>-&gt;<a class="function" onClick="logFunction('get_registeredhub')" href="../../_functions/get_registeredhub.html" onMouseOver="funcPopup(event,'get_registeredhub')">get_registeredhub</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('huburl')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/huburl.html">huburl</a>);
<a name="l105"><span class="linenum"> 105</span></a>          if (!empty(<a class="var it5080" onMouseOver="hilite(5080)" onMouseOut="lolite()" onClick="logVariable('registeredhub')" href="../../_variables/registeredhub.html">$registeredhub</a>)) {
<a name="l106"><span class="linenum"> 106</span></a>              <a class="var it310" onMouseOver="hilite(310)" onMouseOut="lolite()" onClick="logVariable('token')" href="../../_variables/token.html">$token</a> = <a class="var it5080" onMouseOver="hilite(5080)" onMouseOut="lolite()" onClick="logVariable('registeredhub')" href="../../_variables/registeredhub.html">$registeredhub</a>-&gt;<a onClick="logVariable('token')" class="var it44709" onMouseOver="hilite(44709)" onMouseOut="lolite()" href="../../_variables/token.html">token</a>;
<a name="l107"><span class="linenum"> 107</span></a>              <a class="var it36837" onMouseOver="hilite(36837)" onMouseOut="lolite()" onClick="logVariable('curlurl')" href="../../_variables/curlurl.html">$curlurl</a> .= '&amp;token='.<a class="var it310" onMouseOver="hilite(310)" onMouseOut="lolite()" onClick="logVariable('token')" href="../../_variables/token.html">$token</a>;
<a name="l108"><span class="linenum"> 108</span></a>          }
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>          <a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a> = <a class="phpfunction" onClick="logFunction('curl_init')" href="../../_functions/curl_init.html" onMouseOver="phpfuncPopup(event,'curl_init')">curl_init</a>(<a class="var it36837" onMouseOver="hilite(36837)" onMouseOut="lolite()" onClick="logVariable('curlurl')" href="../../_variables/curlurl.html">$curlurl</a>);
<a name="l111"><span class="linenum"> 111</span></a>          <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_FILE, <a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../../_variables/fp.html">$fp</a>);
<a name="l112"><span class="linenum"> 112</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> = <a class="phpfunction" onClick="logFunction('curl_exec')" href="../../_functions/curl_exec.html" onMouseOver="phpfuncPopup(event,'curl_exec')">curl_exec</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>);
<a name="l113"><span class="linenum"> 113</span></a>          <a class="phpfunction" onClick="logFunction('curl_close')" href="../../_functions/curl_close.html" onMouseOver="phpfuncPopup(event,'curl_close')">curl_close</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>);
<a name="l114"><span class="linenum"> 114</span></a>          <a class="phpfunction" onClick="logFunction('fclose')" href="../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../../_variables/fp.html">$fp</a>);
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>          <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l117"><span class="linenum"> 117</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = new stdClass();
<a name="l118"><span class="linenum"> 118</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('contextid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/contextid.html">contextid</a> = <a class="class" onClick="logClass('context_user')" href="../../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)-&gt;id;
<a name="l119"><span class="linenum"> 119</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('component')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/component.html">component</a> = 'user';
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('filearea')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/filearea.html">filearea</a> = 'private';
<a name="l121"><span class="linenum"> 121</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('itemid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/itemid.html">itemid</a> = 0;
<a name="l122"><span class="linenum"> 122</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('filename')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/filename.html">filename</a> = <a class="phpfunction" onClick="logFunction('urlencode')" href="../../_functions/urlencode.html" onMouseOver="phpfuncPopup(event,'urlencode')">urlencode</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/fullname.html">fullname</a>).&quot;_&quot;.<a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>().&quot;.mbz&quot;;
<a name="l123"><span class="linenum"> 123</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('filepath')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/filepath.html">filepath</a> = '/downloaded_backup/';
<a name="l124"><span class="linenum"> 124</span></a>          if (!<a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="phpfunction" onClick="logFunction('file_exists')" href="../../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('contextid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/contextid.html">contextid</a>, <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('component')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/component.html">component</a>,
<a name="l125"><span class="linenum"> 125</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('filearea')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/filearea.html">filearea</a>, 0, <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('filepath')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/filepath.html">filepath</a>, <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('filename')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/filename.html">filename</a>)) {
<a name="l126"><span class="linenum"> 126</span></a>              <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('create_file_from_pathname')" href="../../_functions/create_file_from_pathname.html" onMouseOver="funcPopup(event,'create_file_from_pathname')">create_file_from_pathname</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>,
<a name="l127"><span class="linenum"> 127</span></a>                      <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tempdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/tempdir.html">tempdir</a>.'/backup/'.<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>.&quot;.mbz&quot;);
<a name="l128"><span class="linenum"> 128</span></a>          }
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>          <a class="var it2230" onMouseOver="hilite(2230)" onMouseOut="lolite()" onClick="logVariable('filenames')" href="../../_variables/filenames.html">$filenames</a> = array();
<a name="l131"><span class="linenum"> 131</span></a>          <a class="var it2230" onMouseOver="hilite(2230)" onMouseOut="lolite()" onClick="logVariable('filenames')" href="../../_variables/filenames.html">$filenames</a>['privatefile'] = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('filename')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/filename.html">filename</a>;
<a name="l132"><span class="linenum"> 132</span></a>          <a class="var it2230" onMouseOver="hilite(2230)" onMouseOut="lolite()" onClick="logVariable('filenames')" href="../../_variables/filenames.html">$filenames</a>['tmpfile'] = <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>;
<a name="l133"><span class="linenum"> 133</span></a>          return <a class="var it2230" onMouseOver="hilite(2230)" onMouseOut="lolite()" onClick="logVariable('filenames')" href="../../_variables/filenames.html">$filenames</a>;
<a name="l134"><span class="linenum"> 134</span></a>      }
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>      <span class="comment">/**</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * Delete a community course</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     * @param integer $communityid</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * @param integer $userid</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     * @return bool true</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">     */</span>
<a name="l142"><span class="linenum"> 142</span></a>      public function <a class="function" onClick="logFunction('block_community_remove_course')" href="../../_functions/block_community_remove_course.html" onMouseOver="funcPopup(event,'block_community_remove_course')">block_community_remove_course</a>(<a class="var it5068" onMouseOver="hilite(5068)" onMouseOut="lolite()" onClick="logVariable('communityid')" href="../../_variables/communityid.html">$communityid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l143"><span class="linenum"> 143</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l144"><span class="linenum"> 144</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('block_community',
<a name="l145"><span class="linenum"> 145</span></a>                  array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, 'id' =&gt; <a class="var it5068" onMouseOver="hilite(5068)" onMouseOut="lolite()" onClick="logVariable('communityid')" href="../../_variables/communityid.html">$communityid</a>));
<a name="l146"><span class="linenum"> 146</span></a>      }
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'block_community_download_course_backup': ['block_community_download_course_backup', 'Download the community course backup and save it in file API ', [['blocks/community','locallib.php',76]], 1],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'get_registeredhub': ['get_registeredhub', 'Get a hub on which the site is registered for a given url or token Mostly use to check if the site is registered on a specific hub ', [['admin/registration','lib.php',134]], 11],
'get_file_storage': ['get_file_storage', 'Returns local file storage instance ', [['lib','moodlelib.php',6144]], 546],
'block_community_get_course': ['block_community_get_course', 'Return a community courses of a user ', [['blocks/community','locallib.php',64]], 1],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'block_community_add_course': ['block_community_add_course', 'Add a community course ', [['blocks/community','locallib.php',30]], 1],
'random_string': ['random_string', 'Generate and return a random string of the specified length. ', [['lib','moodlelib.php',7736]], 42],
'make_temp_directory': ['make_temp_directory', 'Create a directory under tempdir and make sure it is writable. ', [['lib','setuplib.php',1642]], 50],
'create_file_from_pathname': ['create_file_from_pathname', 'Create new file from pathname - make sure params are valid. ', [['lib/filebrowser','file_info.php',392],['lib/filebrowser','file_info_stored.php',537],['lib/filestorage','file_storage.php',1367]], 54],
'block_community_get_courses': ['block_community_get_courses', 'Return all community courses of a user ', [['blocks/community','locallib.php',54]], 1],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'block_community_remove_course': ['block_community_remove_course', 'Delete a community course ', [['blocks/community','locallib.php',136]], 1],
'fopen': ['fopen', 'Return a stream handle to this stream. ', [['lib/horde/framework/Horde/Support','CombineStream.php',41],['lib/spout/src/Spout/Common/Helper','GlobalFunctionsHelper.php',15],['lib/horde/framework/Horde/Support','StringStream.php',41]], 221],
'curl_close': ['curl_close', '', [], 18],
'time': ['time', '', [], 1959],
'file_exists': ['file_exists', '', [], 867],
'curl_init': ['curl_init', '', [], 18],
'urlencode': ['urlencode', '', [], 200],
'curl_setopt': ['curl_setopt', '', [], 143],
'fclose': ['fclose', '', [], 275],
'curl_exec': ['curl_exec', '', [], 19]};
CLASS_DATA={
'block_community_manager': ['block_community_manager', 'Community library ', [['blocks/community','locallib.php',17]], 2],
'registration_manager': ['registration_manager', 'Site registration library ', [['admin/registration','lib.php',38]], 15],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6398]], 414],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088]};
CONST_DATA={
'HUB_BACKUP_FILE_TYPE': ['HUB_BACKUP_FILE_TYPE', '', [['course/publish','lib.php',100]], 4]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
