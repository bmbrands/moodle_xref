<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of tag.php</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='tag/classes';
filename='tag.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/tag/classes/</a> -> <a href="tag.php.source.html">tag.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="tag.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../_stats.html">Project Stats</a>]</p>
<p><b>Contains class core_tag_tag</b></p>
<table>
<tr><td align="right">Copyright: </td><td>2015 Marina Glancy</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>1605 lines (67 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 1 class</h3>
<div class="inset">
<p><b>core_tag_tag::</b> (48 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#__get">__get</a>()<br>
&nbsp;&nbsp;<a href="#__isset">__isset</a>()<br>
&nbsp;&nbsp;<a href="#to_object">to_object</a>()<br>
&nbsp;&nbsp;<a href="#get_display_name">get_display_name</a>()<br>
&nbsp;&nbsp;<a href="#make_display_name">make_display_name</a>()<br>
&nbsp;&nbsp;<a href="#add">add</a>()<br>
&nbsp;&nbsp;<a href="#get">get</a>()<br>
&nbsp;&nbsp;<a href="#get_bulk">get_bulk</a>()<br>
&nbsp;&nbsp;<a href="#get_by_name">get_by_name</a>()<br>
&nbsp;&nbsp;<a href="#guess_by_name">guess_by_name</a>()<br>
&nbsp;&nbsp;<a href="#get_by_name_bulk">get_by_name_bulk</a>()<br>
&nbsp;&nbsp;<a href="#normalize">normalize</a>()<br>
&nbsp;&nbsp;<a href="#create_if_missing">create_if_missing</a>()<br>
&nbsp;&nbsp;<a href="#make_url">make_url</a>()<br>
&nbsp;&nbsp;<a href="#get_view_url">get_view_url</a>()<br>
&nbsp;&nbsp;<a href="#ensure_fields_exist">ensure_fields_exist</a>()<br>
&nbsp;&nbsp;<a href="#delete_instance_as_record">delete_instance_as_record</a>()<br>
&nbsp;&nbsp;<a href="#delete_instance">delete_instance</a>()<br>
&nbsp;&nbsp;<a href="#delete_instances">delete_instances</a>()<br>
&nbsp;&nbsp;<a href="#add_instance">add_instance</a>()<br>
&nbsp;&nbsp;<a href="#update_instance_ordering">update_instance_ordering</a>()<br>
&nbsp;&nbsp;<a href="#get_item_tags">get_item_tags</a>()<br>
&nbsp;&nbsp;<a href="#get_item_tags_array">get_item_tags_array</a>()<br>
&nbsp;&nbsp;<a href="#set_item_tags">set_item_tags</a>()<br>
&nbsp;&nbsp;<a href="#remove_all_item_tags">remove_all_item_tags</a>()<br>
&nbsp;&nbsp;<a href="#add_item_tag">add_item_tag</a>()<br>
&nbsp;&nbsp;<a href="#remove_item_tag">remove_item_tag</a>()<br>
&nbsp;&nbsp;<a href="#move_context">move_context</a>()<br>
&nbsp;&nbsp;<a href="#change_items_context">change_items_context</a>()<br>
&nbsp;&nbsp;<a href="#update">update</a>()<br>
&nbsp;&nbsp;<a href="#flag">flag</a>()<br>
&nbsp;&nbsp;<a href="#reset_flag">reset_flag</a>()<br>
&nbsp;&nbsp;<a href="#set_related_tags">set_related_tags</a>()<br>
&nbsp;&nbsp;<a href="#add_related_tags">add_related_tags</a>()<br>
&nbsp;&nbsp;<a href="#get_correlated_tags">get_correlated_tags</a>()<br>
&nbsp;&nbsp;<a href="#get_manual_related_tags">get_manual_related_tags</a>()<br>
&nbsp;&nbsp;<a href="#get_related_tags">get_related_tags</a>()<br>
&nbsp;&nbsp;<a href="#get_tagged_items">get_tagged_items</a>()<br>
&nbsp;&nbsp;<a href="#count_tagged_items">count_tagged_items</a>()<br>
&nbsp;&nbsp;<a href="#is_item_tagged_with">is_item_tagged_with</a>()<br>
&nbsp;&nbsp;<a href="#is_enabled">is_enabled</a>()<br>
&nbsp;&nbsp;<a href="#get_tag_index">get_tag_index</a>()<br>
&nbsp;&nbsp;<a href="#get_formatted_description">get_formatted_description</a>()<br>
&nbsp;&nbsp;<a href="#get_links">get_links</a>()<br>
&nbsp;&nbsp;<a href="#delete_tags">delete_tags</a>()<br>
&nbsp;&nbsp;<a href="#combine_correlated_tags">combine_correlated_tags</a>()<br>
&nbsp;&nbsp;<a href="#combine_tags">combine_tags</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="core_tag_tag"><b>core_tag_tag</b></a>&nbsp;&nbsp;- <a href="../../_classes/core_tag_tag.html"><small>X-Ref</small></a>
</p>
<b>Represents one tag and also contains lots of useful tag-related methods as static functions.<BR>
</b><br>
Tags can be added to any database records.<BR>
$itemtype refers to the DB table name<BR>
$itemid refers to id field in this DB table<BR>
$component is the component that is responsible for the tag instance<BR>
$context is the affected context<BR>
<BR>
BASIC INSTRUCTIONS :<BR>
- to &quot;tag a blog post&quot; (for example):<BR>
core_tag_tag::set_item_tags('post', 'core', $blogpost-&gt;id, $context, $arrayoftags);<BR>
<BR>
- to &quot;remove all the tags on a blog post&quot;:<BR>
core_tag_tag::remove_all_item_tags('post', 'core', $blogpost-&gt;id);<BR>
<BR>
set_item_tags() will create tags that do not exist yet.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'tag.php.source.html#l77')" href="tag.php.source.html#l77">__construct</a>(<a href="../../_variables/record.html">$record</a>)&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor. Use functions get(), get_by_name(), etc.<BR>
</b><BR><b>param:</b> stdClass $record<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__get" onClick="logFunction('__get', 'tag.php.source.html#l89')" href="tag.php.source.html#l89">__get</a>(<a href="../../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../../_functions/__get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic getter<BR>
</b><BR><b>param:</b> string $name<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__isset" onClick="logFunction('__isset', 'tag.php.source.html#l99')" href="tag.php.source.html#l99">__isset</a>(<a href="../../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../../_functions/__isset.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic isset method<BR>
</b><BR><b>param:</b> string $name<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="to_object" onClick="logFunction('to_object', 'tag.php.source.html#l109')" href="tag.php.source.html#l109">to_object</a>()&nbsp;&nbsp;
<a href="../../_functions/to_object.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Converts to object<BR>
</b><BR><b>return:</b> stdClass<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_display_name" onClick="logFunction('get_display_name', 'tag.php.source.html#l118')" href="tag.php.source.html#l118">get_display_name</a>(<a href="../../_variables/ashtml.html">$ashtml</a> = true)&nbsp;&nbsp;
<a href="../../_functions/get_display_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns tag name ready to be displayed<BR>
</b><BR><b>param:</b> bool $ashtml (default true) if true will return htmlspecialchars encoded string<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_display_name" onClick="logFunction('make_display_name', 'tag.php.source.html#l128')" href="tag.php.source.html#l128">make_display_name</a>(<a href="../../_variables/tag.html">$tag</a>, <a href="../../_variables/ashtml.html">$ashtml</a> = true)&nbsp;&nbsp;
<a href="../../_functions/make_display_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prepares tag name ready to be displayed<BR>
</b><BR><b>param:</b> stdClass|core_tag_tag $tag record from db table tag, must contain properties name and rawname<br>
<b>param:</b> bool $ashtml (default true) if true will return htmlspecialchars encoded string<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add" onClick="logFunction('add', 'tag.php.source.html#l152')" href="tag.php.source.html#l152">add</a>(<a href="../../_variables/tagcollid.html">$tagcollid</a>, <a href="../../_variables/tags.html">$tags</a>, <a href="../../_variables/isstandard.html">$isstandard</a> = false)&nbsp;&nbsp;
<a href="../../_functions/add.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds one or more tag in the database.&nbsp;&nbsp;This function should not be called directly : you should<BR>
use tag_set.<BR>
</b><BR><b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tagcollid<br>
<b>param:</b> string|array $tags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one tag, or an array of tags, to be created<br>
<b>param:</b> bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$isstandard type of tag to be created. A standard tag is kept even if there are no records tagged with it.<br>
<b>return:</b> array&nbsp;&nbsp;&nbsp;&nbsp;tag objects indexed by their lowercase normalized names. Any boolean false in the array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get" onClick="logFunction('get', 'tag.php.source.html#l190')" href="tag.php.source.html#l190">get</a>(<a href="../../_variables/id.html">$id</a>, <a href="../../_variables/returnfields.html">$returnfields</a> = 'id, name, rawname, tagcollid', <a href="../../_variables/strictness.html">$strictness</a> = IGNORE_MISSING)&nbsp;&nbsp;
<a href="../../_functions/get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Simple function to just return a single tag object by its id<BR>
</b><BR><b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$id<br>
<b>param:</b> string $returnfields which fields do we want returned from table {tag}.<br>
<b>param:</b> int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;<br>
<b>return:</b> core_tag_tag|false&nbsp;&nbsp;tag object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_bulk" onClick="logFunction('get_bulk', 'tag.php.source.html#l211')" href="tag.php.source.html#l211">get_bulk</a>(<a href="../../_variables/ids.html">$ids</a>, <a href="../../_variables/returnfields.html">$returnfields</a> = 'id, name, rawname, tagcollid')&nbsp;&nbsp;
<a href="../../_functions/get_bulk.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Simple function to just return a single tag object by its id<BR>
</b><BR><b>param:</b> int[]&nbsp;&nbsp;$ids<br>
<b>param:</b> string $returnfields which fields do we want returned from table {tag}.<br>
<b>return:</b> core_tag_tag[] array of retrieved tags<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_by_name" onClick="logFunction('get_by_name', 'tag.php.source.html#l234')" href="tag.php.source.html#l234">get_by_name</a>(<a href="../../_variables/tagcollid.html">$tagcollid</a>, <a href="../../_variables/name.html">$name</a>, <a href="../../_variables/returnfields.html">$returnfields</a>='id, name, rawname, tagcollid',<a href="../../_variables/strictness.html">$strictness</a> = IGNORE_MISSING)&nbsp;&nbsp;
<a href="../../_functions/get_by_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Simple function to just return a single tag object by tagcollid and name<BR>
</b><BR><b>param:</b> int $tagcollid tag collection to use,<br>
<b>param:</b> string $name tag name<br>
<b>param:</b> string $returnfields which fields do we want returned. This is a comma separated string<br>
<b>param:</b> int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;<br>
<b>return:</b> core_tag_tag|false tag object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="guess_by_name" onClick="logFunction('guess_by_name', 'tag.php.source.html#l269')" href="tag.php.source.html#l269">guess_by_name</a>(<a href="../../_variables/name.html">$name</a>, <a href="../../_variables/returnfields.html">$returnfields</a>='id, name, rawname, tagcollid')&nbsp;&nbsp;
<a href="../../_functions/guess_by_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Looking in all tag collections for the tag with the given name<BR>
</b><BR><b>param:</b> string $name tag name<br>
<b>param:</b> string $returnfields<br>
<b>return:</b> array array of core_tag_tag instances<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_by_name_bulk" onClick="logFunction('get_by_name_bulk', 'tag.php.source.html#l297')" href="tag.php.source.html#l297">get_by_name_bulk</a>(<a href="../../_variables/tagcollid.html">$tagcollid</a>, <a href="../../_variables/tags.html">$tags</a>, <a href="../../_variables/returnfields.html">$returnfields</a> = 'id, name, rawname, tagcollid')&nbsp;&nbsp;
<a href="../../_functions/get_by_name_bulk.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the list of tag objects by tag collection id and the list of tag names<BR>
</b><BR><b>param:</b> int&nbsp;&nbsp;&nbsp;$tagcollid<br>
<b>param:</b> array $tags array of tags to look for<br>
<b>param:</b> string $returnfields list of DB fields to return, must contain 'id', 'name' and 'rawname'<br>
<b>return:</b> array tag-indexed array of objects. No value for a key means the tag wasn't found.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="normalize" onClick="logFunction('normalize', 'tag.php.source.html#l328')" href="tag.php.source.html#l328">normalize</a>(<a href="../../_variables/rawtags.html">$rawtags</a>, <a href="../../_variables/tolowercase.html">$tolowercase</a> = true)&nbsp;&nbsp;
<a href="../../_functions/normalize.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Function that normalizes a list of tag names.<BR>
</b><BR><b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rawtags array of tags<br>
<b>param:</b> bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tolowercase convert to lower case?<br>
<b>return:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lowercased normalized tags, indexed by the normalized tag, in the same order as the original array.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_if_missing" onClick="logFunction('create_if_missing', 'tag.php.source.html#l352')" href="tag.php.source.html#l352">create_if_missing</a>(<a href="../../_variables/tagcollid.html">$tagcollid</a>, <a href="../../_variables/tags.html">$tags</a>, <a href="../../_variables/isstandard.html">$isstandard</a> = false)&nbsp;&nbsp;
<a href="../../_functions/create_if_missing.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Retrieves tags and/or creates them if do not exist yet<BR>
</b><BR><b>param:</b> int $tagcollid<br>
<b>param:</b> array $tags array of raw tag names, do not have to be normalised<br>
<b>param:</b> bool $isstandard create as standard tag (default false)<br>
<b>return:</b> core_tag_tag[] array of tag objects indexed with lowercase normalised tag name<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_url" onClick="logFunction('make_url', 'tag.php.source.html#l375')" href="tag.php.source.html#l375">make_url</a>(<a href="../../_variables/tagcollid.html">$tagcollid</a>, <a href="../../_variables/name.html">$name</a>, <a href="../../_variables/exclusivemode.html">$exclusivemode</a> = 0, <a href="../../_variables/fromctx.html">$fromctx</a> = 0, <a href="../../_variables/ctx.html">$ctx</a> = 0, <a href="../../_variables/rec.html">$rec</a> = 1)&nbsp;&nbsp;
<a href="../../_functions/make_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a URL to view a tag<BR>
</b><BR><b>param:</b> int $tagcollid<br>
<b>param:</b> string $name<br>
<b>param:</b> int $exclusivemode<br>
<b>param:</b> int $fromctx context id where this tag cloud is displayed<br>
<b>param:</b> int $ctx context id for tag view link<br>
<b>param:</b> int $rec recursive argument for tag view link<br>
<b>return:</b> \moodle_url<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_view_url" onClick="logFunction('get_view_url', 'tag.php.source.html#l409')" href="tag.php.source.html#l409">get_view_url</a>(<a href="../../_variables/exclusivemode.html">$exclusivemode</a> = 0, <a href="../../_variables/fromctx.html">$fromctx</a> = 0, <a href="../../_variables/ctx.html">$ctx</a> = 0, <a href="../../_variables/rec.html">$rec</a> = 1)&nbsp;&nbsp;
<a href="../../_functions/get_view_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns URL to view the tag<BR>
</b><BR><b>param:</b> int $exclusivemode<br>
<b>param:</b> int $fromctx context id where this tag cloud is displayed<br>
<b>param:</b> int $ctx context id for tag view link<br>
<b>param:</b> int $rec recursive argument for tag view link<br>
<b>return:</b> \moodle_url<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="ensure_fields_exist" onClick="logFunction('ensure_fields_exist', 'tag.php.source.html#l423')" href="tag.php.source.html#l423">ensure_fields_exist</a>(<a href="../../_variables/list.html">$list</a>, <a href="../../_variables/caller.html">$caller</a>)&nbsp;&nbsp;
<a href="../../_functions/ensure_fields_exist.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validates that the required fields were retrieved and retrieves them if missing<BR>
</b><BR><b>param:</b> array $list array of the fields that need to be validated<br>
<b>param:</b> string $caller name of the function that requested it, for the debugging message<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_instance_as_record" onClick="logFunction('delete_instance_as_record', 'tag.php.source.html#l439')" href="tag.php.source.html#l439">delete_instance_as_record</a>(<a href="../../_variables/taginstance.html">$taginstance</a>, <a href="../../_variables/fullobject.html">$fullobject</a> = false)&nbsp;&nbsp;
<a href="../../_functions/delete_instance_as_record.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Deletes the tag instance given the record from tag_instance DB table<BR>
</b><BR><b>param:</b> stdClass $taginstance<br>
<b>param:</b> bool $fullobject whether $taginstance contains all fields from DB table tag_instance<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_instance" onClick="logFunction('delete_instance', 'tag.php.source.html#l473')" href="tag.php.source.html#l473">delete_instance</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/itemid.html">$itemid</a>, <a href="../../_variables/tiuserid.html">$tiuserid</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/delete_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete one instance of a tag.&nbsp;&nbsp;If the last instance was deleted, it will also delete the tag, unless it is standard.<BR>
</b><BR><b>param:</b> string $component component responsible for tagging. For BC it can be empty but in this case the<br>
<b>param:</b> string $itemtype the type of the record for which to remove the instance<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$itemid&nbsp;&nbsp;&nbsp;the id of the record for which to remove the instance<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$tiuserid tag instance user id, only needed for tag areas with user tagging (such as core/course)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_instances" onClick="logFunction('delete_instances', 'tag.php.source.html#l500')" href="tag.php.source.html#l500">delete_instances</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a> = null, <a href="../../_variables/contextid.html">$contextid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/delete_instances.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Bulk delete all tag instances for a component or tag area<BR>
</b><BR><b>param:</b> string $component<br>
<b>param:</b> string $itemtype (optional)<br>
<b>param:</b> int $contextid (optional)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_instance" onClick="logFunction('add_instance', 'tag.php.source.html#l543')" href="tag.php.source.html#l543">add_instance</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/itemid.html">$itemid</a>, context <a href="../../_variables/context.html">$context</a>, <a href="../../_variables/ordering.html">$ordering</a>, <a href="../../_variables/tiuserid.html">$tiuserid</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/add_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds a tag instance<BR>
</b><BR><b>param:</b> string $component<br>
<b>param:</b> string $itemtype<br>
<b>param:</b> string $itemid<br>
<b>param:</b> context $context<br>
<b>param:</b> int $ordering<br>
<b>param:</b> int $tiuserid tag instance user id, only needed for tag areas with user tagging (such as core/course)<br>
<b>return:</b> int id of tag_instance<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_instance_ordering" onClick="logFunction('update_instance_ordering', 'tag.php.source.html#l577')" href="tag.php.source.html#l577">update_instance_ordering</a>(<a href="../../_variables/instanceid.html">$instanceid</a>, <a href="../../_variables/ordering.html">$ordering</a>)&nbsp;&nbsp;
<a href="../../_functions/update_instance_ordering.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Updates the ordering on tag instance<BR>
</b><BR><b>param:</b> int $instanceid<br>
<b>param:</b> int $ordering<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_item_tags" onClick="logFunction('get_item_tags', 'tag.php.source.html#l593')" href="tag.php.source.html#l593">get_item_tags</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/itemid.html">$itemid</a>, <a href="../../_variables/standardonly.html">$standardonly</a> = self::BOTH_STANDARD_AND_NOT,<a href="../../_variables/tiuserid.html">$tiuserid</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/get_item_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the array of core_tag_tag objects associated with an item (instances).<BR>
</b><BR>Use {@link core_tag_tag::get_item_tags_array()} if you wish to get the same data as simple array.<BR>
<BR>
<b>param:</b> string $component component responsible for tagging. For BC it can be empty but in this case the<br>
<b>param:</b> string $itemtype type of the tagged item<br>
<b>param:</b> int $itemid<br>
<b>param:</b> int $standardonly wether to return only standard tags or any<br>
<b>param:</b> int $tiuserid tag instance user id, only needed for tag areas with user tagging<br>
<b>return:</b> core_tag_tag[] each object contains additional fields taginstanceid, taginstancecontextid and ordering<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_item_tags_array" onClick="logFunction('get_item_tags_array', 'tag.php.source.html#l643')" href="tag.php.source.html#l643">get_item_tags_array</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/itemid.html">$itemid</a>, <a href="../../_variables/standardonly.html">$standardonly</a> = self::BOTH_STANDARD_AND_NOT,<a href="../../_variables/tiuserid.html">$tiuserid</a> = 0, <a href="../../_variables/ashtml.html">$ashtml</a> = true)&nbsp;&nbsp;
<a href="../../_functions/get_item_tags_array.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the list of display names of the tags that are associated with an item<BR>
</b><BR>This method is usually used to prefill the form data for the 'tags' form element<BR>
<BR>
<b>param:</b> string $component component responsible for tagging. For BC it can be empty but in this case the<br>
<b>param:</b> string $itemtype type of the tagged item<br>
<b>param:</b> int $itemid<br>
<b>param:</b> int $standardonly wether to return only standard tags or any<br>
<b>param:</b> int $tiuserid tag instance user id, only needed for tag areas with user tagging<br>
<b>param:</b> bool $ashtml (default true) if true will return htmlspecialchars encoded tag names<br>
<b>return:</b> string[] array of tags display names<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_item_tags" onClick="logFunction('set_item_tags', 'tag.php.source.html#l666')" href="tag.php.source.html#l666">set_item_tags</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/itemid.html">$itemid</a>, context <a href="../../_variables/context.html">$context</a>, <a href="../../_variables/tagnames.html">$tagnames</a>, <a href="../../_variables/tiuserid.html">$tiuserid</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/set_item_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the list of tag instances for one item (table record).<BR>
</b><BR>Extra exsisting instances are removed, new ones are added. New tags are created if needed.<BR>
<BR>
This method can not be used for setting tags relations, please use set_related_tags()<BR>
<BR>
<b>param:</b> string $component component responsible for tagging<br>
<b>param:</b> string $itemtype type of the tagged item<br>
<b>param:</b> int $itemid<br>
<b>param:</b> context $context<br>
<b>param:</b> array $tagnames<br>
<b>param:</b> int $tiuserid tag instance user id, only needed for tag areas with user tagging (such as core/course)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_all_item_tags" onClick="logFunction('remove_all_item_tags', 'tag.php.source.html#l732')" href="tag.php.source.html#l732">remove_all_item_tags</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/itemid.html">$itemid</a>, <a href="../../_variables/tiuserid.html">$tiuserid</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/remove_all_item_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes all tags from an item.<BR>
</b><BR>All tags will be removed even if tagging is disabled in this area. This is<BR>
usually called when the item itself has been deleted.<BR>
<BR>
<b>param:</b> string $component component responsible for tagging<br>
<b>param:</b> string $itemtype type of the tagged item<br>
<b>param:</b> int $itemid<br>
<b>param:</b> int $tiuserid tag instance user id, only needed for tag areas with user tagging (such as core/course)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_item_tag" onClick="logFunction('add_item_tag', 'tag.php.source.html#l748')" href="tag.php.source.html#l748">add_item_tag</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/itemid.html">$itemid</a>, context <a href="../../_variables/context.html">$context</a>, <a href="../../_variables/tagname.html">$tagname</a>, <a href="../../_variables/tiuserid.html">$tiuserid</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/add_item_tag.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds a tag to an item, without overwriting the current tags.<BR>
</b><BR>If the tag has already been added to the record, no changes are made.<BR>
<BR>
<b>param:</b> string $component the component that was tagged<br>
<b>param:</b> string $itemtype the type of record to tag ('post' for blogs, 'user' for users, etc.)<br>
<b>param:</b> int $itemid the id of the record to tag<br>
<b>param:</b> context $context the context of where this tag was assigned<br>
<b>param:</b> string $tagname the tag to add<br>
<b>param:</b> int $tiuserid tag instance user id, only needed for tag areas with user tagging (such as core/course)<br>
<b>return:</b> int id of tag_instance that was either created or already existed or null if tagging is not enabled<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_item_tag" onClick="logFunction('remove_item_tag', 'tag.php.source.html#l802')" href="tag.php.source.html#l802">remove_item_tag</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/itemid.html">$itemid</a>, <a href="../../_variables/tagname.html">$tagname</a>, <a href="../../_variables/tiuserid.html">$tiuserid</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/remove_item_tag.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes the tag from an item without changing the other tags<BR>
</b><BR><b>param:</b> string $component the component that was tagged<br>
<b>param:</b> string $itemtype the type of record to tag ('post' for blogs, 'user' for users, etc.)<br>
<b>param:</b> int $itemid the id of the record to tag<br>
<b>param:</b> string $tagname the tag to remove<br>
<b>param:</b> int $tiuserid tag instance user id, only needed for tag areas with user tagging (such as core/course)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_context" onClick="logFunction('move_context', 'tag.php.source.html#l847')" href="tag.php.source.html#l847">move_context</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/oldcontext.html">$oldcontext</a>, <a href="../../_variables/newcontext.html">$newcontext</a>)&nbsp;&nbsp;
<a href="../../_functions/move_context.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Allows to move all tag instances from one context to another<BR>
</b><BR><b>param:</b> string $component the component that was tagged<br>
<b>param:</b> string $itemtype the type of record to tag ('post' for blogs, 'user' for users, etc.)<br>
<b>param:</b> context $oldcontext<br>
<b>param:</b> context $newcontext<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="change_items_context" onClick="logFunction('change_items_context', 'tag.php.source.html#l867')" href="tag.php.source.html#l867">change_items_context</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/itemids.html">$itemids</a>, <a href="../../_variables/newcontext.html">$newcontext</a>)&nbsp;&nbsp;
<a href="../../_functions/change_items_context.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Moves all tags of the specified items to the new context<BR>
</b><BR><b>param:</b> string $component the component that was tagged<br>
<b>param:</b> string $itemtype the type of record to tag ('post' for blogs, 'user' for users, etc.)<br>
<b>param:</b> array $itemids<br>
<b>param:</b> context|int $newcontext target context to move tags to<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update" onClick="logFunction('update', 'tag.php.source.html#l893')" href="tag.php.source.html#l893">update</a>(<a href="../../_variables/data.html">$data</a>)&nbsp;&nbsp;
<a href="../../_functions/update.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Updates the information about the tag<BR>
</b><BR><b>param:</b> array|stdClass $data data to update, may contain: isstandard, description, descriptionformat, rawname<br>
<b>return:</b> bool whether the tag was updated. False may be returned if: all new values match the existing,<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="flag" onClick="logFunction('flag', 'tag.php.source.html#l970')" href="tag.php.source.html#l970">flag</a>()&nbsp;&nbsp;
<a href="../../_functions/flag.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Flag a tag as inappropriate<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reset_flag" onClick="logFunction('reset_flag', 'tag.php.source.html#l997')" href="tag.php.source.html#l997">reset_flag</a>()&nbsp;&nbsp;
<a href="../../_functions/reset_flag.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Remove the inappropriate flag on a tag.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_related_tags" onClick="logFunction('set_related_tags', 'tag.php.source.html#l1027')" href="tag.php.source.html#l1027">set_related_tags</a>(<a href="../../_variables/tagnames.html">$tagnames</a>)&nbsp;&nbsp;
<a href="../../_functions/set_related_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the list of tags related to this one.<BR>
</b><BR>Tag relations are recorded by two instances linking two tags to each other.<BR>
For tag relations ordering is not used and may be random.<BR>
<BR>
<b>param:</b> array $tagnames<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_related_tags" onClick="logFunction('add_related_tags', 'tag.php.source.html#l1066')" href="tag.php.source.html#l1066">add_related_tags</a>(<a href="../../_variables/tagnames.html">$tagnames</a>)&nbsp;&nbsp;
<a href="../../_functions/add_related_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds to the list of related tags without removing existing<BR>
</b><BR>Tag relations are recorded by two instances linking two tags to each other.<BR>
For tag relations ordering is not used and may be random.<BR>
<BR>
<b>param:</b> array $tagnames<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_correlated_tags" onClick="logFunction('get_correlated_tags', 'tag.php.source.html#l1092')" href="tag.php.source.html#l1092">get_correlated_tags</a>(<a href="../../_variables/keepduplicates.html">$keepduplicates</a> = false)&nbsp;&nbsp;
<a href="../../_functions/get_correlated_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the correlated tags of a tag, retrieved from the tag_correlation table.<BR>
</b><BR>Correlated tags are calculated in cron based on existing tag instances.<BR>
<BR>
<b>param:</b> bool $keepduplicates if true, will return one record for each existing<br>
<b>return:</b> core_tag_tag[] an array of tag objects<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_manual_related_tags" onClick="logFunction('get_manual_related_tags', 'tag.php.source.html#l1134')" href="tag.php.source.html#l1134">get_manual_related_tags</a>()&nbsp;&nbsp;
<a href="../../_functions/get_manual_related_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns tags that this tag was manually set as related to<BR>
</b><BR><b>return:</b> core_tag_tag[]<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_related_tags" onClick="logFunction('get_related_tags', 'tag.php.source.html#l1143')" href="tag.php.source.html#l1143">get_related_tags</a>()&nbsp;&nbsp;
<a href="../../_functions/get_related_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns tags related to a tag<BR>
</b><BR>Related tags of a tag come from two sources:<BR>
- manually added related tags, which are tag_instance entries for that tag<BR>
- correlated tags, which are calculated<BR>
<BR>
<b>return:</b> core_tag_tag[] an array of tag objects<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tagged_items" onClick="logFunction('get_tagged_items', 'tag.php.source.html#l1170')" href="tag.php.source.html#l1170">get_tagged_items</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/limitfrom.html">$limitfrom</a> = '', <a href="../../_variables/limitnum.html">$limitnum</a> = '', <a href="../../_variables/subquery.html">$subquery</a> = '', <a href="../../_variables/params.html">$params</a> = array()&nbsp;&nbsp;
<a href="../../_functions/get_tagged_items.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Find all items tagged with a tag of a given type ('post', 'user', etc.)<BR>
</b><BR><b>param:</b> string&nbsp;&nbsp;&nbsp;$component component responsible for tagging. For BC it can be empty but in this case the<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;$itemtype&nbsp;&nbsp;type to restrict search to<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$limitfrom (optional, required if $limitnum is set) return a subset of records, starting at this point.<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$limitnum&nbsp;&nbsp;(optional, required if $limitfrom is set) return a subset comprising this many records.<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;$subquery additional query to be appended to WHERE clause, refer to the itemtable as 'it'<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;$params additional parameters for the DB query<br>
<b>return:</b> array of matching objects, indexed by record id, from the table containing the type requested<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_tagged_items" onClick="logFunction('count_tagged_items', 'tag.php.source.html#l1207')" href="tag.php.source.html#l1207">count_tagged_items</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/subquery.html">$subquery</a> = '', <a href="../../_variables/params.html">$params</a> = array()&nbsp;&nbsp;
<a href="../../_functions/count_tagged_items.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count how many items are tagged with a specific tag.<BR>
</b><BR><b>param:</b> string&nbsp;&nbsp;&nbsp;$component component responsible for tagging. For BC it can be empty but in this case the<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;$itemtype&nbsp;&nbsp;type to restrict search to<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;$subquery additional query to be appended to WHERE clause, refer to the itemtable as 'it'<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;$params additional parameters for the DB query<br>
<b>return:</b> int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number of mathing tags.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_item_tagged_with" onClick="logFunction('is_item_tagged_with', 'tag.php.source.html#l1241')" href="tag.php.source.html#l1241">is_item_tagged_with</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>, <a href="../../_variables/itemid.html">$itemid</a>, <a href="../../_variables/tagname.html">$tagname</a>)&nbsp;&nbsp;
<a href="../../_functions/is_item_tagged_with.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine if an item is tagged with a specific tag<BR>
</b><BR>Note that this is a static method and not a method of core_tag object because the tag might not exist yet,<BR>
for example user searches for &quot;php&quot; and we offer him to add &quot;php&quot; to his interests.<BR>
<BR>
<b>param:</b> string&nbsp;&nbsp;&nbsp;$component component responsible for tagging. For BC it can be empty but in this case the<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;$itemtype&nbsp;&nbsp;&nbsp;&nbsp;the record type to look for<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$itemid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the record id to look for<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;$tagname&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a tag name<br>
<b>return:</b> int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 if it is tagged, 0 otherwise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_enabled" onClick="logFunction('is_enabled', 'tag.php.source.html#l1269')" href="tag.php.source.html#l1269">is_enabled</a>(<a href="../../_variables/component.html">$component</a>, <a href="../../_variables/itemtype.html">$itemtype</a>)&nbsp;&nbsp;
<a href="../../_functions/is_enabled.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns whether the tag area is enabled<BR>
</b><BR><b>param:</b> string $component component responsible for tagging<br>
<b>param:</b> string $itemtype what is being tagged, for example, 'post', 'course', 'user', etc.<br>
<b>return:</b> bool|null<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tag_index" onClick="logFunction('get_tag_index', 'tag.php.source.html#l1280')" href="tag.php.source.html#l1280">get_tag_index</a>(<a href="../../_variables/tagarea.html">$tagarea</a>, <a href="../../_variables/exclusivemode.html">$exclusivemode</a>, <a href="../../_variables/fromctx.html">$fromctx</a>, <a href="../../_variables/ctx.html">$ctx</a>, <a href="../../_variables/rec.html">$rec</a>, <a href="../../_variables/page.html">$page</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/get_tag_index.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Retrieves contents of tag area for the tag/index.php page<BR>
</b><BR><b>param:</b> stdClass $tagarea<br>
<b>param:</b> bool $exclusivemode if set to true it means that no other entities tagged with this tag<br>
<b>param:</b> int $fromctx context id where the link was displayed, may be used by callbacks<br>
<b>param:</b> int $ctx context id where to search for records<br>
<b>param:</b> bool $rec search in subcontexts as well<br>
<b>param:</b> int $page 0-based number of page being displayed<br>
<b>return:</b> \core_tag\output\tagindex<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_formatted_description" onClick="logFunction('get_formatted_description', 'tag.php.source.html#l1305')" href="tag.php.source.html#l1305">get_formatted_description</a>(<a href="../../_variables/options.html">$options</a> = array()&nbsp;&nbsp;
<a href="../../_functions/get_formatted_description.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns formatted description of the tag<BR>
</b><BR><b>param:</b> array $options<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_links" onClick="logFunction('get_links', 'tag.php.source.html#l1319')" href="tag.php.source.html#l1319">get_links</a>()&nbsp;&nbsp;
<a href="../../_functions/get_links.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the list of tag links available for the current user (edit, flag, etc.)<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_tags" onClick="logFunction('delete_tags', 'tag.php.source.html#l1369')" href="tag.php.source.html#l1369">delete_tags</a>(<a href="../../_variables/tagids.html">$tagids</a>)&nbsp;&nbsp;
<a href="../../_functions/delete_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete one or more tag, and all their instances if there are any left.<BR>
</b><BR><b>param:</b> int|array&nbsp;&nbsp;&nbsp;&nbsp;$tagids one tagid (int), or one array of tagids to delete<br>
<b>return:</b> bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true on success, false otherwise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="combine_correlated_tags" onClick="logFunction('combine_correlated_tags', 'tag.php.source.html#l1453')" href="tag.php.source.html#l1453">combine_correlated_tags</a>(<a href="../../_variables/tags.html">$tags</a>)&nbsp;&nbsp;
<a href="../../_functions/combine_correlated_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Combine together correlated tags of several tags<BR>
</b><BR>This is a help method for method combine_tags()<BR>
<BR>
<b>param:</b> core_tag_tag[] $tags<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="combine_tags" onClick="logFunction('combine_tags', 'tag.php.source.html#l1514')" href="tag.php.source.html#l1514">combine_tags</a>(<a href="../../_variables/tags.html">$tags</a>)&nbsp;&nbsp;
<a href="../../_functions/combine_tags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Combines several other tags into this one<BR>
</b><BR>Combining rules:<BR>
- current tag becomes the &quot;main&quot; one, all instances<BR>
pointing to other tags are changed to point to it.<BR>
- if any of the tags is standard, the &quot;main&quot; tag becomes standard too<BR>
- all tags except for the current (&quot;main&quot;) are deleted, even when they are standard<BR>
<BR>
<b>param:</b> core_tag_tag[] $tags tags to combine into this one<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
