<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/quiz/classes/external.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='mod/quiz/classes';
filename='external.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/quiz/classes/</a> -> <a href="external.php.html">external.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="external.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="external.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Quiz external API</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    mod_quiz</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category   external</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2016 Juan Leyva &lt;juan@moodle.com&gt;</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @since      Moodle 3.1</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> */</span>
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/libdir.html">libdir</a> . '/externallib.php');
<a name="l30"><span class="linenum">  30</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../mod/quiz/locallib.php.html">/mod/quiz/locallib.php</a>');
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">/**</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * Quiz external functions</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> *</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @package    mod_quiz</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @category   external</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @copyright  2016 Juan Leyva &lt;juan@moodle.com&gt;</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * @since      Moodle 3.1</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> */</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('mod_quiz_external')" href="../../../_classes/mod_quiz_external.html" onMouseOver="classPopup(event,'mod_quiz_external')">mod_quiz_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>      <span class="comment">/**</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     * Describes the parameters for get_quizzes_by_courses.</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     *</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     */</span>
<a name="l49"><span class="linenum">  49</span></a>      public static function <a class="function" onClick="logFunction('get_quizzes_by_courses_parameters')" href="../../../_functions/get_quizzes_by_courses_parameters.html" onMouseOver="funcPopup(event,'get_quizzes_by_courses_parameters')">get_quizzes_by_courses_parameters</a>() {
<a name="l50"><span class="linenum">  50</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l51"><span class="linenum">  51</span></a>              array(
<a name="l52"><span class="linenum">  52</span></a>                  'courseids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l53"><span class="linenum">  53</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'course id'), 'Array of course ids', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l54"><span class="linenum">  54</span></a>                  ),
<a name="l55"><span class="linenum">  55</span></a>              )
<a name="l56"><span class="linenum">  56</span></a>          );
<a name="l57"><span class="linenum">  57</span></a>      }
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>      <span class="comment">/**</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     * Returns a list of quizzes in a provided list of courses,</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     * if no list is provided all quizzes that the user can view will be returned.</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">     *</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * @param array $courseids Array of course ids</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * @return array of quizzes details</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     */</span>
<a name="l67"><span class="linenum">  67</span></a>      public static function <a class="function" onClick="logFunction('get_quizzes_by_courses')" href="../../../_functions/get_quizzes_by_courses.html" onMouseOver="funcPopup(event,'get_quizzes_by_courses')">get_quizzes_by_courses</a>(<a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../../../_variables/courseids.html">$courseids</a> = array()) {
<a name="l68"><span class="linenum">  68</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l69"><span class="linenum">  69</span></a>  
<a name="l70"><span class="linenum">  70</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l71"><span class="linenum">  71</span></a>          <a class="var it6223" onMouseOver="hilite(6223)" onMouseOut="lolite()" onClick="logVariable('returnedquizzes')" href="../../../_variables/returnedquizzes.html">$returnedquizzes</a> = array();
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l74"><span class="linenum">  74</span></a>              'courseids' =&gt; <a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../../../_variables/courseids.html">$courseids</a>,
<a name="l75"><span class="linenum">  75</span></a>          );
<a name="l76"><span class="linenum">  76</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_quizzes_by_courses_parameters')" href="../../../_functions/get_quizzes_by_courses_parameters.html" onMouseOver="funcPopup(event,'get_quizzes_by_courses_parameters')">get_quizzes_by_courses_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>          <a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a> = array();
<a name="l79"><span class="linenum">  79</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'])) {
<a name="l80"><span class="linenum">  80</span></a>              <a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a> = <a class="function" onClick="logFunction('enrol_get_my_courses')" href="../../../_functions/enrol_get_my_courses.html" onMouseOver="funcPopup(event,'enrol_get_my_courses')">enrol_get_my_courses</a>();
<a name="l81"><span class="linenum">  81</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'] = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a>);
<a name="l82"><span class="linenum">  82</span></a>          }
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">        // Ensure there are courseids to loop through.</span>
<a name="l85"><span class="linenum">  85</span></a>          if (!empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'])) {
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>              <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a>, <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>) = <a class="class" onClick="logClass('external_util')" href="../../../_classes/external_util.html" onMouseOver="classPopup(event,'external_util')">external_util</a>::<a class="function" onClick="logFunction('validate_courses')" href="../../../_functions/validate_courses.html" onMouseOver="funcPopup(event,'validate_courses')">validate_courses</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'], <a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a>);
<a name="l88"><span class="linenum">  88</span></a>  
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">            // Get the quizzes in this course, this function checks users visibility permissions.</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">            // We can avoid then additional validate_context calls.</span>
<a name="l91"><span class="linenum">  91</span></a>              <a class="var it6224" onMouseOver="hilite(6224)" onMouseOut="lolite()" onClick="logVariable('quizzes')" href="../../../_variables/quizzes.html">$quizzes</a> = <a class="function" onClick="logFunction('get_all_instances_in_courses')" href="../../../_functions/get_all_instances_in_courses.html" onMouseOver="funcPopup(event,'get_all_instances_in_courses')">get_all_instances_in_courses</a>(&quot;quiz&quot;, <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a>);
<a name="l92"><span class="linenum">  92</span></a>              foreach (<a class="var it6224" onMouseOver="hilite(6224)" onMouseOut="lolite()" onClick="logVariable('quizzes')" href="../../../_variables/quizzes.html">$quizzes</a> as <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>) {
<a name="l93"><span class="linenum">  93</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/coursemodule.html">coursemodule</a>);
<a name="l94"><span class="linenum">  94</span></a>  
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">                // Update quiz with override information.</span>
<a name="l96"><span class="linenum">  96</span></a>                  <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a> = <a class="function" onClick="logFunction('quiz_update_effective_access')" href="../../../_functions/quiz_update_effective_access.html" onMouseOver="funcPopup(event,'quiz_update_effective_access')">quiz_update_effective_access</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">                // Entry to return.</span>
<a name="l99"><span class="linenum">  99</span></a>                  <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a> = array();
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">                // First, we return information that any user can see in the web interface.</span>
<a name="l101"><span class="linenum"> 101</span></a>                  <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>['id'] = <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l102"><span class="linenum"> 102</span></a>                  <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>['coursemodule']      = <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/coursemodule.html">coursemodule</a>;
<a name="l103"><span class="linenum"> 103</span></a>                  <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>['course']            = <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('course')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/course.html">course</a>;
<a name="l104"><span class="linenum"> 104</span></a>                  <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>['name']              = <a class="function" onClick="logFunction('external_format_string')" href="../../../_functions/external_format_string.html" onMouseOver="funcPopup(event,'external_format_string')">external_format_string</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('name')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/name.html">name</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>                  if (<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/quiz:view', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>)) {
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">                    // Format intro.</span>
<a name="l108"><span class="linenum"> 108</span></a>                      <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>['intro'], <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>['introformat']) = <a class="function" onClick="logFunction('external_format_text')" href="../../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('intro')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/intro.html">intro</a>,
<a name="l109"><span class="linenum"> 109</span></a>                                                                      <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('introformat')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/introformat.html">introformat</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_quiz', 'intro', null);
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>                      <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>['introfiles'] = <a class="class" onClick="logClass('external_util')" href="../../../_classes/external_util.html" onMouseOver="classPopup(event,'external_util')">external_util</a>::<a class="function" onClick="logFunction('get_area_files')" href="../../../_functions/get_area_files.html" onMouseOver="funcPopup(event,'get_area_files')">get_area_files</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_quiz', 'intro', false, false);
<a name="l112"><span class="linenum"> 112</span></a>                      <a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> = array('timeopen', 'timeclose', 'grademethod', 'section', 'visible', 'groupmode',
<a name="l113"><span class="linenum"> 113</span></a>                                              'groupingid');
<a name="l114"><span class="linenum"> 114</span></a>  
<a name="l115"><span class="linenum"> 115</span></a>                      <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l116"><span class="linenum"> 116</span></a>                      <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a> = <a class="class" onClick="logClass('quiz')" href="../../../_classes/quiz.html" onMouseOver="classPopup(event,'quiz')">quiz</a>::<a class="function" onClick="logFunction('create')" href="../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l117"><span class="linenum"> 117</span></a>                      <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a> = <span class="keyword">new </span><a class="class" onClick="logClass('quiz_access_manager')" href="../../../_classes/quiz_access_manager.html" onMouseOver="classPopup(event,'quiz_access_manager')">quiz_access_manager</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>, <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a>, <a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/quiz:ignoretimelimits',
<a name="l118"><span class="linenum"> 118</span></a>                                                                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>, null, false));
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">                    // Fields the user could see if have access to the quiz.</span>
<a name="l121"><span class="linenum"> 121</span></a>                      if (!<a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('prevent_access')" href="../../../_functions/prevent_access.html" onMouseOver="funcPopup(event,'prevent_access')">prevent_access</a>()) {
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">                        // Some times this function returns just empty.</span>
<a name="l123"><span class="linenum"> 123</span></a>                          <a class="var it6227" onMouseOver="hilite(6227)" onMouseOut="lolite()" onClick="logVariable('hasfeedback')" href="../../../_variables/hasfeedback.html">$hasfeedback</a> = <a class="function" onClick="logFunction('quiz_has_feedback')" href="../../../_functions/quiz_has_feedback.html" onMouseOver="funcPopup(event,'quiz_has_feedback')">quiz_has_feedback</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>);
<a name="l124"><span class="linenum"> 124</span></a>                          <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>['hasfeedback'] = (!empty(<a class="var it6227" onMouseOver="hilite(6227)" onMouseOut="lolite()" onClick="logVariable('hasfeedback')" href="../../../_variables/hasfeedback.html">$hasfeedback</a>)) ? 1 : 0;
<a name="l125"><span class="linenum"> 125</span></a>                          <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>['hasquestions'] = (int) <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('has_questions')" href="../../../_functions/has_questions.html" onMouseOver="funcPopup(event,'has_questions')">has_questions</a>();
<a name="l126"><span class="linenum"> 126</span></a>                          <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>['autosaveperiod'] = <a class="function" onClick="logFunction('get_config')" href="../../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('quiz', 'autosaveperiod');
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>                          <a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../../../_variables/additionalfields.html">$additionalfields</a> = array('timelimit', 'attempts', 'attemptonlast', 'grademethod', 'decimalpoints',
<a name="l129"><span class="linenum"> 129</span></a>                                                      'questiondecimalpoints', 'reviewattempt', 'reviewcorrectness', 'reviewmarks',
<a name="l130"><span class="linenum"> 130</span></a>                                                      'reviewspecificfeedback', 'reviewgeneralfeedback', 'reviewrightanswer',
<a name="l131"><span class="linenum"> 131</span></a>                                                      'reviewoverallfeedback', 'questionsperpage', 'navmethod', 'sumgrades', 'grade',
<a name="l132"><span class="linenum"> 132</span></a>                                                      'browsersecurity', 'delay1', 'delay2', 'showuserpicture', 'showblocks',
<a name="l133"><span class="linenum"> 133</span></a>                                                      'completionattemptsexhausted', 'completionpass', 'overduehandling',
<a name="l134"><span class="linenum"> 134</span></a>                                                      'graceperiod', 'preferredbehaviour', 'canredoquestions');
<a name="l135"><span class="linenum"> 135</span></a>                          <a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a>, <a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../../../_variables/additionalfields.html">$additionalfields</a>);
<a name="l136"><span class="linenum"> 136</span></a>                      }
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">                    // Fields only for managers.</span>
<a name="l139"><span class="linenum"> 139</span></a>                      if (<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:manageactivities', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>)) {
<a name="l140"><span class="linenum"> 140</span></a>                          <a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../../../_variables/additionalfields.html">$additionalfields</a> = array('shuffleanswers', 'timecreated', 'timemodified', 'password', 'subnet');
<a name="l141"><span class="linenum"> 141</span></a>                          <a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a>, <a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../../../_variables/additionalfields.html">$additionalfields</a>);
<a name="l142"><span class="linenum"> 142</span></a>                      }
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>                      foreach (<a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> as <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>) {
<a name="l145"><span class="linenum"> 145</span></a>                          <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>[<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>] = <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;{<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>};
<a name="l146"><span class="linenum"> 146</span></a>                      }
<a name="l147"><span class="linenum"> 147</span></a>                  }
<a name="l148"><span class="linenum"> 148</span></a>                  <a class="var it6223" onMouseOver="hilite(6223)" onMouseOut="lolite()" onClick="logVariable('returnedquizzes')" href="../../../_variables/returnedquizzes.html">$returnedquizzes</a>[] = <a class="var it6225" onMouseOver="hilite(6225)" onMouseOut="lolite()" onClick="logVariable('quizdetails')" href="../../../_variables/quizdetails.html">$quizdetails</a>;
<a name="l149"><span class="linenum"> 149</span></a>              }
<a name="l150"><span class="linenum"> 150</span></a>          }
<a name="l151"><span class="linenum"> 151</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l152"><span class="linenum"> 152</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['quizzes'] = <a class="var it6223" onMouseOver="hilite(6223)" onMouseOut="lolite()" onClick="logVariable('returnedquizzes')" href="../../../_variables/returnedquizzes.html">$returnedquizzes</a>;
<a name="l153"><span class="linenum"> 153</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l154"><span class="linenum"> 154</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l155"><span class="linenum"> 155</span></a>      }
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>      <span class="comment">/**</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     * Describes the get_quizzes_by_courses return value.</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     *</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     */</span>
<a name="l163"><span class="linenum"> 163</span></a>      public static function <a class="function" onClick="logFunction('get_quizzes_by_courses_returns')" href="../../../_functions/get_quizzes_by_courses_returns.html" onMouseOver="funcPopup(event,'get_quizzes_by_courses_returns')">get_quizzes_by_courses_returns</a>() {
<a name="l164"><span class="linenum"> 164</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l165"><span class="linenum"> 165</span></a>              array(
<a name="l166"><span class="linenum"> 166</span></a>                  'quizzes' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l167"><span class="linenum"> 167</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l168"><span class="linenum"> 168</span></a>                          array(
<a name="l169"><span class="linenum"> 169</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Standard Moodle primary key.'),
<a name="l170"><span class="linenum"> 170</span></a>                              'course' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Foreign key reference to the course this quiz is part of.'),
<a name="l171"><span class="linenum"> 171</span></a>                              'coursemodule' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course module id.'),
<a name="l172"><span class="linenum"> 172</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Quiz name.'),
<a name="l173"><span class="linenum"> 173</span></a>                              'intro' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Quiz introduction text.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l174"><span class="linenum"> 174</span></a>                              'introformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('intro', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l175"><span class="linenum"> 175</span></a>                              'introfiles' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_files')" href="../../../_classes/external_files.html" onMouseOver="classPopup(event,'external_files')">external_files</a>('Files in the introduction text', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l176"><span class="linenum"> 176</span></a>                              'timeopen' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The time when this quiz opens. (0 = no restriction.)',
<a name="l177"><span class="linenum"> 177</span></a>                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l178"><span class="linenum"> 178</span></a>                              'timeclose' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The time when this quiz closes. (0 = no restriction.)',
<a name="l179"><span class="linenum"> 179</span></a>                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l180"><span class="linenum"> 180</span></a>                              'timelimit' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The time limit for quiz attempts, in seconds.',
<a name="l181"><span class="linenum"> 181</span></a>                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l182"><span class="linenum"> 182</span></a>                              'overduehandling' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'The method used to handle overdue attempts.
<a name="l183"><span class="linenum"> 183</span></a>                                                                      \'autosubmit\', \'graceperiod\' or \'autoabandon\'.',
<a name="l184"><span class="linenum"> 184</span></a>                                                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l185"><span class="linenum"> 185</span></a>                              'graceperiod' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The amount of <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a> (in seconds) after the time limit
<a name="l186"><span class="linenum"> 186</span></a>                                                                  runs out during which attempts can still be submitted,
<a name="l187"><span class="linenum"> 187</span></a>                                                                  if overduehandling is set to allow it.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l188"><span class="linenum"> 188</span></a>                              'preferredbehaviour' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The behaviour to ask questions to use.',
<a name="l189"><span class="linenum"> 189</span></a>                                                                          <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l190"><span class="linenum"> 190</span></a>                              'canredoquestions' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Allows students to redo any completed question
<a name="l191"><span class="linenum"> 191</span></a>                                                                          within a quiz attempt.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l192"><span class="linenum"> 192</span></a>                              'attempts' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The maximum number of attempts a student is allowed.',
<a name="l193"><span class="linenum"> 193</span></a>                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l194"><span class="linenum"> 194</span></a>                              'attemptonlast' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether subsequent attempts start from the answer
<a name="l195"><span class="linenum"> 195</span></a>                                                                      to the previous <a class="function" onClick="logFunction('attempt')" href="../../../_functions/attempt.html" onMouseOver="funcPopup(event,'attempt')">attempt</a> (1) or start blank (0).',
<a name="l196"><span class="linenum"> 196</span></a>                                                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l197"><span class="linenum"> 197</span></a>                              'grademethod' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'One of the values <a class="constant" onClick="logConstant('QUIZ_GRADEHIGHEST')" href="../../../_constants/QUIZ_GRADEHIGHEST.html" onMouseOver="constPopup(event,'QUIZ_GRADEHIGHEST')">QUIZ_GRADEHIGHEST</a>, <a class="constant" onClick="logConstant('QUIZ_GRADEAVERAGE')" href="../../../_constants/QUIZ_GRADEAVERAGE.html" onMouseOver="constPopup(event,'QUIZ_GRADEAVERAGE')">QUIZ_GRADEAVERAGE</a>,
<a name="l198"><span class="linenum"> 198</span></a>                                                                      <a class="constant" onClick="logConstant('QUIZ_ATTEMPTFIRST')" href="../../../_constants/QUIZ_ATTEMPTFIRST.html" onMouseOver="constPopup(event,'QUIZ_ATTEMPTFIRST')">QUIZ_ATTEMPTFIRST</a> or <a class="constant" onClick="logConstant('QUIZ_ATTEMPTLAST')" href="../../../_constants/QUIZ_ATTEMPTLAST.html" onMouseOver="constPopup(event,'QUIZ_ATTEMPTLAST')">QUIZ_ATTEMPTLAST</a>.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l199"><span class="linenum"> 199</span></a>                              'decimalpoints' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Number of decimal points to use when displaying
<a name="l200"><span class="linenum"> 200</span></a>                                                                      grades.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l201"><span class="linenum"> 201</span></a>                              'questiondecimalpoints' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Number of decimal points to use when
<a name="l202"><span class="linenum"> 202</span></a>                                                                              displaying question grades.
<a name="l203"><span class="linenum"> 203</span></a>                                                                              (-1 means use decimalpoints.)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l204"><span class="linenum"> 204</span></a>                              'reviewattempt' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether users are allowed to review their quiz
<a name="l205"><span class="linenum"> 205</span></a>                                                                      attempts at various times. This is a bit field, decoded by the
<a name="l206"><span class="linenum"> 206</span></a>                                                                      mod_quiz_display_options class. It is formed by ORing together
<a name="l207"><span class="linenum"> 207</span></a>                                                                      the constants defined there.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l208"><span class="linenum"> 208</span></a>                              'reviewcorrectness' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether users are allowed to review their quiz
<a name="l209"><span class="linenum"> 209</span></a>                                                                          attempts at various times.
<a name="l210"><span class="linenum"> 210</span></a>                                                                          A bit field, like reviewattempt.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l211"><span class="linenum"> 211</span></a>                              'reviewmarks' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether users are allowed to review their quiz attempts
<a name="l212"><span class="linenum"> 212</span></a>                                                                  at various times. A bit field, like reviewattempt.',
<a name="l213"><span class="linenum"> 213</span></a>                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l214"><span class="linenum"> 214</span></a>                              'reviewspecificfeedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether users are allowed to review their
<a name="l215"><span class="linenum"> 215</span></a>                                                                              quiz attempts at various times. A bit field, like
<a name="l216"><span class="linenum"> 216</span></a>                                                                              reviewattempt.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l217"><span class="linenum"> 217</span></a>                              'reviewgeneralfeedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether users are allowed to review their
<a name="l218"><span class="linenum"> 218</span></a>                                                                              quiz attempts at various times. A bit field, like
<a name="l219"><span class="linenum"> 219</span></a>                                                                              reviewattempt.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l220"><span class="linenum"> 220</span></a>                              'reviewrightanswer' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether users are allowed to review their quiz
<a name="l221"><span class="linenum"> 221</span></a>                                                                          attempts at various times. A bit field, like
<a name="l222"><span class="linenum"> 222</span></a>                                                                          reviewattempt.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l223"><span class="linenum"> 223</span></a>                              'reviewoverallfeedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether users are allowed to review their quiz
<a name="l224"><span class="linenum"> 224</span></a>                                                                              attempts at various times. A bit field, like
<a name="l225"><span class="linenum"> 225</span></a>                                                                              reviewattempt.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l226"><span class="linenum"> 226</span></a>                              'questionsperpage' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'How often to insert a page break when editing
<a name="l227"><span class="linenum"> 227</span></a>                                                                          the quiz, or when shuffling the question order.',
<a name="l228"><span class="linenum"> 228</span></a>                                                                          <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l229"><span class="linenum"> 229</span></a>                              'navmethod' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'Any constraints on how the user is allowed to navigate
<a name="l230"><span class="linenum"> 230</span></a>                                                                  around the quiz. Currently recognised values are
<a name="l231"><span class="linenum"> 231</span></a>                                                                  \'free\' and \'seq\'.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l232"><span class="linenum"> 232</span></a>                              'shuffleanswers' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether the parts of the question should be shuffled,
<a name="l233"><span class="linenum"> 233</span></a>                                                                      in those question types that support it.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l234"><span class="linenum"> 234</span></a>                              'sumgrades' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'The total of all the question instance maxmarks.',
<a name="l235"><span class="linenum"> 235</span></a>                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l236"><span class="linenum"> 236</span></a>                              'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'The total that the quiz overall grade is scaled to be
<a name="l237"><span class="linenum"> 237</span></a>                                                              out of.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l238"><span class="linenum"> 238</span></a>                              'timecreated' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The time when the quiz was added to the course.',
<a name="l239"><span class="linenum"> 239</span></a>                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l240"><span class="linenum"> 240</span></a>                              'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Last modified time.',
<a name="l241"><span class="linenum"> 241</span></a>                                                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l242"><span class="linenum"> 242</span></a>                              'password' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A password that the student must enter before starting or
<a name="l243"><span class="linenum"> 243</span></a>                                                                  continuing a quiz attempt.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l244"><span class="linenum"> 244</span></a>                              'subnet' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Used to restrict the IP addresses from which this quiz can
<a name="l245"><span class="linenum"> 245</span></a>                                                              be attempted. The format is as requried by the address_in_subnet
<a name="l246"><span class="linenum"> 246</span></a>                                                              function.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l247"><span class="linenum"> 247</span></a>                              'browsersecurity' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'Restriciton on the browser the student must
<a name="l248"><span class="linenum"> 248</span></a>                                                                      use. E.g. \'securewindow\'.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l249"><span class="linenum"> 249</span></a>                              'delay1' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Delay that must be left between the first and second attempt,
<a name="l250"><span class="linenum"> 250</span></a>                                                              in seconds.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l251"><span class="linenum"> 251</span></a>                              'delay2' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Delay that must be left between the second and subsequent
<a name="l252"><span class="linenum"> 252</span></a>                                                              attempt, in seconds.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l253"><span class="linenum"> 253</span></a>                              'showuserpicture' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Option to show the user\'s picture during the
<a name="l254"><span class="linenum"> 254</span></a>                                                                      attempt and on the review page.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l255"><span class="linenum"> 255</span></a>                              'showblocks' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether blocks should be shown on the attempt.php and
<a name="l256"><span class="linenum"> 256</span></a>                                                                  review.php pages.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l257"><span class="linenum"> 257</span></a>                              'completionattemptsexhausted' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Mark quiz complete when the student has
<a name="l258"><span class="linenum"> 258</span></a>                                                                                  exhausted the maximum number of attempts',
<a name="l259"><span class="linenum"> 259</span></a>                                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l260"><span class="linenum"> 260</span></a>                              'completionpass' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether to require passing grade', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l261"><span class="linenum"> 261</span></a>                              'autosaveperiod' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Auto-save delay', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l262"><span class="linenum"> 262</span></a>                              'hasfeedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether the quiz has any non-blank feedback text',
<a name="l263"><span class="linenum"> 263</span></a>                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l264"><span class="linenum"> 264</span></a>                              'hasquestions' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether the quiz has questions', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l265"><span class="linenum"> 265</span></a>                              'section' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course section id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l266"><span class="linenum"> 266</span></a>                              'visible' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Module visibility', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l267"><span class="linenum"> 267</span></a>                              'groupmode' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Group mode', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l268"><span class="linenum"> 268</span></a>                              'groupingid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Grouping id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l269"><span class="linenum"> 269</span></a>                          )
<a name="l270"><span class="linenum"> 270</span></a>                      )
<a name="l271"><span class="linenum"> 271</span></a>                  ),
<a name="l272"><span class="linenum"> 272</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l273"><span class="linenum"> 273</span></a>              )
<a name="l274"><span class="linenum"> 274</span></a>          );
<a name="l275"><span class="linenum"> 275</span></a>      }
<a name="l276"><span class="linenum"> 276</span></a>  
<a name="l277"><span class="linenum"> 277</span></a>  
<a name="l278"><span class="linenum"> 278</span></a>      <span class="comment">/**</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">     * Utility function for validating a quiz.</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">     *</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">     * @param int $quizid quiz instance id</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">     * @return array array containing the quiz, course, context and course module objects</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">     * @since  Moodle 3.1</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     */</span>
<a name="l285"><span class="linenum"> 285</span></a>      protected static function <a class="function" onClick="logFunction('validate_quiz')" href="../../../_functions/validate_quiz.html" onMouseOver="funcPopup(event,'validate_quiz')">validate_quiz</a>(<a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>) {
<a name="l286"><span class="linenum"> 286</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">        // Request and permission validation.</span>
<a name="l289"><span class="linenum"> 289</span></a>          <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('quiz', array('id' =&gt; <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l290"><span class="linenum"> 290</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, 'quiz');
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l293"><span class="linenum"> 293</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l294"><span class="linenum"> 294</span></a>  
<a name="l295"><span class="linenum"> 295</span></a>          return array(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l296"><span class="linenum"> 296</span></a>      }
<a name="l297"><span class="linenum"> 297</span></a>  
<a name="l298"><span class="linenum"> 298</span></a>      <span class="comment">/**</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">     * Describes the parameters for view_quiz.</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">     *</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">     */</span>
<a name="l304"><span class="linenum"> 304</span></a>      public static function <a class="function" onClick="logFunction('view_quiz_parameters')" href="../../../_functions/view_quiz_parameters.html" onMouseOver="funcPopup(event,'view_quiz_parameters')">view_quiz_parameters</a>() {
<a name="l305"><span class="linenum"> 305</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l306"><span class="linenum"> 306</span></a>              array(
<a name="l307"><span class="linenum"> 307</span></a>                  'quizid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'quiz instance id'),
<a name="l308"><span class="linenum"> 308</span></a>              )
<a name="l309"><span class="linenum"> 309</span></a>          );
<a name="l310"><span class="linenum"> 310</span></a>      }
<a name="l311"><span class="linenum"> 311</span></a>  
<a name="l312"><span class="linenum"> 312</span></a>      <span class="comment">/**</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     * Trigger the course module viewed event and update the module completion status.</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     *</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     * @param int $quizid quiz instance id</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     */</span>
<a name="l320"><span class="linenum"> 320</span></a>      public static function <a class="function" onClick="logFunction('view_quiz')" href="../../../_functions/view_quiz.html" onMouseOver="funcPopup(event,'view_quiz')">view_quiz</a>(<a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>) {
<a name="l321"><span class="linenum"> 321</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l322"><span class="linenum"> 322</span></a>  
<a name="l323"><span class="linenum"> 323</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_quiz_parameters')" href="../../../_functions/view_quiz_parameters.html" onMouseOver="funcPopup(event,'view_quiz_parameters')">view_quiz_parameters</a>(), array('quizid' =&gt; <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>));
<a name="l324"><span class="linenum"> 324</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l325"><span class="linenum"> 325</span></a>  
<a name="l326"><span class="linenum"> 326</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>) = self::<a class="function" onClick="logFunction('validate_quiz')" href="../../../_functions/validate_quiz.html" onMouseOver="funcPopup(event,'validate_quiz')">validate_quiz</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['quizid']);
<a name="l327"><span class="linenum"> 327</span></a>  
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">        // Trigger course_module_viewed event and completion.</span>
<a name="l329"><span class="linenum"> 329</span></a>          <a class="function" onClick="logFunction('quiz_view')" href="../../../_functions/quiz_view.html" onMouseOver="funcPopup(event,'quiz_view')">quiz_view</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l330"><span class="linenum"> 330</span></a>  
<a name="l331"><span class="linenum"> 331</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l332"><span class="linenum"> 332</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['status'] = true;
<a name="l333"><span class="linenum"> 333</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l334"><span class="linenum"> 334</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l335"><span class="linenum"> 335</span></a>      }
<a name="l336"><span class="linenum"> 336</span></a>  
<a name="l337"><span class="linenum"> 337</span></a>      <span class="comment">/**</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">     * Describes the view_quiz return value.</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">     *</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     */</span>
<a name="l343"><span class="linenum"> 343</span></a>      public static function <a class="function" onClick="logFunction('view_quiz_returns')" href="../../../_functions/view_quiz_returns.html" onMouseOver="funcPopup(event,'view_quiz_returns')">view_quiz_returns</a>() {
<a name="l344"><span class="linenum"> 344</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l345"><span class="linenum"> 345</span></a>              array(
<a name="l346"><span class="linenum"> 346</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l347"><span class="linenum"> 347</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l348"><span class="linenum"> 348</span></a>              )
<a name="l349"><span class="linenum"> 349</span></a>          );
<a name="l350"><span class="linenum"> 350</span></a>      }
<a name="l351"><span class="linenum"> 351</span></a>  
<a name="l352"><span class="linenum"> 352</span></a>      <span class="comment">/**</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">     * Describes the parameters for get_user_attempts.</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">     *</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">     */</span>
<a name="l358"><span class="linenum"> 358</span></a>      public static function <a class="function" onClick="logFunction('get_user_attempts_parameters')" href="../../../_functions/get_user_attempts_parameters.html" onMouseOver="funcPopup(event,'get_user_attempts_parameters')">get_user_attempts_parameters</a>() {
<a name="l359"><span class="linenum"> 359</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l360"><span class="linenum"> 360</span></a>              array(
<a name="l361"><span class="linenum"> 361</span></a>                  'quizid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'quiz instance id'),
<a name="l362"><span class="linenum"> 362</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id, empty for current user', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0),
<a name="l363"><span class="linenum"> 363</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'quiz status: all, finished or unfinished', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 'finished'),
<a name="l364"><span class="linenum"> 364</span></a>                  'includepreviews' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'whether to include previews or not', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, false),
<a name="l365"><span class="linenum"> 365</span></a>  
<a name="l366"><span class="linenum"> 366</span></a>              )
<a name="l367"><span class="linenum"> 367</span></a>          );
<a name="l368"><span class="linenum"> 368</span></a>      }
<a name="l369"><span class="linenum"> 369</span></a>  
<a name="l370"><span class="linenum"> 370</span></a>      <span class="comment">/**</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">     * Return a list of attempts for the given quiz and user.</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">     *</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">     * @param int $quizid quiz instance id</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">     * @param int $userid user id</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">     * @param string $status quiz status: all, finished or unfinished</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     * @param bool $includepreviews whether to include previews or not</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     * @return array of warnings and the list of attempts</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">     * @throws invalid_parameter_exception</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">     */</span>
<a name="l381"><span class="linenum"> 381</span></a>      public static function <a class="function" onClick="logFunction('get_user_attempts')" href="../../../_functions/get_user_attempts.html" onMouseOver="funcPopup(event,'get_user_attempts')">get_user_attempts</a>(<a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = 0, <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../../_variables/status.html">$status</a> = 'finished', <a class="var it6228" onMouseOver="hilite(6228)" onMouseOut="lolite()" onClick="logVariable('includepreviews')" href="../../../_variables/includepreviews.html">$includepreviews</a> = false) {
<a name="l382"><span class="linenum"> 382</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l383"><span class="linenum"> 383</span></a>  
<a name="l384"><span class="linenum"> 384</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l385"><span class="linenum"> 385</span></a>  
<a name="l386"><span class="linenum"> 386</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l387"><span class="linenum"> 387</span></a>              'quizid' =&gt; <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>,
<a name="l388"><span class="linenum"> 388</span></a>              'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>,
<a name="l389"><span class="linenum"> 389</span></a>              'status' =&gt; <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../../_variables/status.html">$status</a>,
<a name="l390"><span class="linenum"> 390</span></a>              'includepreviews' =&gt; <a class="var it6228" onMouseOver="hilite(6228)" onMouseOut="lolite()" onClick="logVariable('includepreviews')" href="../../../_variables/includepreviews.html">$includepreviews</a>,
<a name="l391"><span class="linenum"> 391</span></a>          );
<a name="l392"><span class="linenum"> 392</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_user_attempts_parameters')" href="../../../_functions/get_user_attempts_parameters.html" onMouseOver="funcPopup(event,'get_user_attempts_parameters')">get_user_attempts_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l393"><span class="linenum"> 393</span></a>  
<a name="l394"><span class="linenum"> 394</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>) = self::<a class="function" onClick="logFunction('validate_quiz')" href="../../../_functions/validate_quiz.html" onMouseOver="funcPopup(event,'validate_quiz')">validate_quiz</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['quizid']);
<a name="l395"><span class="linenum"> 395</span></a>  
<a name="l396"><span class="linenum"> 396</span></a>          if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['status'], array('all', 'finished', 'unfinished'))) {
<a name="l397"><span class="linenum"> 397</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../../../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid status value');
<a name="l398"><span class="linenum"> 398</span></a>          }
<a name="l399"><span class="linenum"> 399</span></a>  
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">        // Default value for userid.</span>
<a name="l401"><span class="linenum"> 401</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid'])) {
<a name="l402"><span class="linenum"> 402</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid'] = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l403"><span class="linenum"> 403</span></a>          }
<a name="l404"><span class="linenum"> 404</span></a>  
<a name="l405"><span class="linenum"> 405</span></a>          <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a> = <a class="class" onClick="logClass('core_user')" href="../../../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_user')" href="../../../_functions/get_user.html" onMouseOver="funcPopup(event,'get_user')">get_user</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid'], '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l406"><span class="linenum"> 406</span></a>          <a class="class" onClick="logClass('core_user')" href="../../../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('require_active_user')" href="../../../_functions/require_active_user.html" onMouseOver="funcPopup(event,'require_active_user')">require_active_user</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a>);
<a name="l407"><span class="linenum"> 407</span></a>  
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">        // Extra checks so only users with permissions can view other users attempts.</span>
<a name="l409"><span class="linenum"> 409</span></a>          if (<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> != <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>) {
<a name="l410"><span class="linenum"> 410</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/quiz:viewreports', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l411"><span class="linenum"> 411</span></a>          }
<a name="l412"><span class="linenum"> 412</span></a>  
<a name="l413"><span class="linenum"> 413</span></a>          <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../../_variables/attempts.html">$attempts</a> = <a class="function" onClick="logFunction('quiz_get_user_attempts')" href="../../../_functions/quiz_get_user_attempts.html" onMouseOver="funcPopup(event,'quiz_get_user_attempts')">quiz_get_user_attempts</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['status'], <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['includepreviews']);
<a name="l414"><span class="linenum"> 414</span></a>  
<a name="l415"><span class="linenum"> 415</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l416"><span class="linenum"> 416</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['attempts'] = <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../../_variables/attempts.html">$attempts</a>;
<a name="l417"><span class="linenum"> 417</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l418"><span class="linenum"> 418</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l419"><span class="linenum"> 419</span></a>      }
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>      <span class="comment">/**</span>
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">     * Describes a single attempt structure.</span>
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">     *</span>
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment">     * @return external_single_structure the attempt structure</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">     */</span>
<a name="l426"><span class="linenum"> 426</span></a>      private static function <a class="function" onClick="logFunction('attempt_structure')" href="../../../_functions/attempt_structure.html" onMouseOver="funcPopup(event,'attempt_structure')">attempt_structure</a>() {
<a name="l427"><span class="linenum"> 427</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l428"><span class="linenum"> 428</span></a>              array(
<a name="l429"><span class="linenum"> 429</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Attempt id.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l430"><span class="linenum"> 430</span></a>                  'quiz' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Foreign key reference to the quiz that was attempted.',
<a name="l431"><span class="linenum"> 431</span></a>                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l432"><span class="linenum"> 432</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Foreign key reference to the user whose attempt this is.',
<a name="l433"><span class="linenum"> 433</span></a>                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l434"><span class="linenum"> 434</span></a>                  'attempt' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Sequentially numbers this students attempts at this quiz.',
<a name="l435"><span class="linenum"> 435</span></a>                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l436"><span class="linenum"> 436</span></a>                  'uniqueid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Foreign key reference to the question_usage that holds the
<a name="l437"><span class="linenum"> 437</span></a>                                                      details of the the question_attempts that make up this quiz
<a name="l438"><span class="linenum"> 438</span></a>                                                      attempt.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l439"><span class="linenum"> 439</span></a>                  'layout' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Attempt layout.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l440"><span class="linenum"> 440</span></a>                  'currentpage' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Attempt current page.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l441"><span class="linenum"> 441</span></a>                  'preview' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Whether is a preview attempt or not.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l442"><span class="linenum"> 442</span></a>                  'state' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'The current state of the attempts. \'inprogress\',
<a name="l443"><span class="linenum"> 443</span></a>                                                  \'overdue\', \'finished\' or \'abandoned\'.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l444"><span class="linenum"> 444</span></a>                  'timestart' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Time when the attempt was started.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l445"><span class="linenum"> 445</span></a>                  'timefinish' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Time when the attempt was submitted.
<a name="l446"><span class="linenum"> 446</span></a>                                                      0 if the attempt has not been submitted yet.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l447"><span class="linenum"> 447</span></a>                  'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Last modified time.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l448"><span class="linenum"> 448</span></a>                  'timecheckstate' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Next time quiz cron should check attempt for
<a name="l449"><span class="linenum"> 449</span></a>                                                          state changes.  NULL means never check.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l450"><span class="linenum"> 450</span></a>                  'sumgrades' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Total marks for this attempt.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l451"><span class="linenum"> 451</span></a>              )
<a name="l452"><span class="linenum"> 452</span></a>          );
<a name="l453"><span class="linenum"> 453</span></a>      }
<a name="l454"><span class="linenum"> 454</span></a>  
<a name="l455"><span class="linenum"> 455</span></a>      <span class="comment">/**</span>
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment">     * Describes the get_user_attempts return value.</span>
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">     *</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">     */</span>
<a name="l461"><span class="linenum"> 461</span></a>      public static function <a class="function" onClick="logFunction('get_user_attempts_returns')" href="../../../_functions/get_user_attempts_returns.html" onMouseOver="funcPopup(event,'get_user_attempts_returns')">get_user_attempts_returns</a>() {
<a name="l462"><span class="linenum"> 462</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l463"><span class="linenum"> 463</span></a>              array(
<a name="l464"><span class="linenum"> 464</span></a>                  'attempts' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('attempt_structure')" href="../../../_functions/attempt_structure.html" onMouseOver="funcPopup(event,'attempt_structure')">attempt_structure</a>()),
<a name="l465"><span class="linenum"> 465</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l466"><span class="linenum"> 466</span></a>              )
<a name="l467"><span class="linenum"> 467</span></a>          );
<a name="l468"><span class="linenum"> 468</span></a>      }
<a name="l469"><span class="linenum"> 469</span></a>  
<a name="l470"><span class="linenum"> 470</span></a>      <span class="comment">/**</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment">     * Describes the parameters for get_user_best_grade.</span>
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment">     *</span>
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment">     */</span>
<a name="l476"><span class="linenum"> 476</span></a>      public static function <a class="function" onClick="logFunction('get_user_best_grade_parameters')" href="../../../_functions/get_user_best_grade_parameters.html" onMouseOver="funcPopup(event,'get_user_best_grade_parameters')">get_user_best_grade_parameters</a>() {
<a name="l477"><span class="linenum"> 477</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l478"><span class="linenum"> 478</span></a>              array(
<a name="l479"><span class="linenum"> 479</span></a>                  'quizid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'quiz instance id'),
<a name="l480"><span class="linenum"> 480</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0),
<a name="l481"><span class="linenum"> 481</span></a>              )
<a name="l482"><span class="linenum"> 482</span></a>          );
<a name="l483"><span class="linenum"> 483</span></a>      }
<a name="l484"><span class="linenum"> 484</span></a>  
<a name="l485"><span class="linenum"> 485</span></a>      <span class="comment">/**</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">     * Get the best current grade for the given user on a quiz.</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">     *</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">     * @param int $quizid quiz instance id</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment">     * @param int $userid user id</span>
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment">     * @return array of warnings and the grade information</span>
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l492"><span class="linenum"> 492</span></a>  <span class="comment">     */</span>
<a name="l493"><span class="linenum"> 493</span></a>      public static function <a class="function" onClick="logFunction('get_user_best_grade')" href="../../../_functions/get_user_best_grade.html" onMouseOver="funcPopup(event,'get_user_best_grade')">get_user_best_grade</a>(<a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = 0) {
<a name="l494"><span class="linenum"> 494</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l495"><span class="linenum"> 495</span></a>  
<a name="l496"><span class="linenum"> 496</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l497"><span class="linenum"> 497</span></a>  
<a name="l498"><span class="linenum"> 498</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l499"><span class="linenum"> 499</span></a>              'quizid' =&gt; <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>,
<a name="l500"><span class="linenum"> 500</span></a>              'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>,
<a name="l501"><span class="linenum"> 501</span></a>          );
<a name="l502"><span class="linenum"> 502</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_user_best_grade_parameters')" href="../../../_functions/get_user_best_grade_parameters.html" onMouseOver="funcPopup(event,'get_user_best_grade_parameters')">get_user_best_grade_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l503"><span class="linenum"> 503</span></a>  
<a name="l504"><span class="linenum"> 504</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>) = self::<a class="function" onClick="logFunction('validate_quiz')" href="../../../_functions/validate_quiz.html" onMouseOver="funcPopup(event,'validate_quiz')">validate_quiz</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['quizid']);
<a name="l505"><span class="linenum"> 505</span></a>  
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">        // Default value for userid.</span>
<a name="l507"><span class="linenum"> 507</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid'])) {
<a name="l508"><span class="linenum"> 508</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid'] = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l509"><span class="linenum"> 509</span></a>          }
<a name="l510"><span class="linenum"> 510</span></a>  
<a name="l511"><span class="linenum"> 511</span></a>          <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a> = <a class="class" onClick="logClass('core_user')" href="../../../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_user')" href="../../../_functions/get_user.html" onMouseOver="funcPopup(event,'get_user')">get_user</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid'], '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l512"><span class="linenum"> 512</span></a>          <a class="class" onClick="logClass('core_user')" href="../../../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('require_active_user')" href="../../../_functions/require_active_user.html" onMouseOver="funcPopup(event,'require_active_user')">require_active_user</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a>);
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">        // Extra checks so only users with permissions can view other users attempts.</span>
<a name="l515"><span class="linenum"> 515</span></a>          if (<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> != <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>) {
<a name="l516"><span class="linenum"> 516</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/quiz:viewreports', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l517"><span class="linenum"> 517</span></a>          }
<a name="l518"><span class="linenum"> 518</span></a>  
<a name="l519"><span class="linenum"> 519</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l520"><span class="linenum"> 520</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../_variables/grade.html">$grade</a> = <a class="function" onClick="logFunction('quiz_get_best_grade')" href="../../../_functions/quiz_get_best_grade.html" onMouseOver="funcPopup(event,'quiz_get_best_grade')">quiz_get_best_grade</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l521"><span class="linenum"> 521</span></a>  
<a name="l522"><span class="linenum"> 522</span></a>          if (<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../_variables/grade.html">$grade</a> === null) {
<a name="l523"><span class="linenum"> 523</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['hasgrade'] = false;
<a name="l524"><span class="linenum"> 524</span></a>          } else {
<a name="l525"><span class="linenum"> 525</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['hasgrade'] = true;
<a name="l526"><span class="linenum"> 526</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['grade'] = <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../_variables/grade.html">$grade</a>;
<a name="l527"><span class="linenum"> 527</span></a>          }
<a name="l528"><span class="linenum"> 528</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l529"><span class="linenum"> 529</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l530"><span class="linenum"> 530</span></a>      }
<a name="l531"><span class="linenum"> 531</span></a>  
<a name="l532"><span class="linenum"> 532</span></a>      <span class="comment">/**</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     * Describes the get_user_best_grade return value.</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">     *</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">     */</span>
<a name="l538"><span class="linenum"> 538</span></a>      public static function <a class="function" onClick="logFunction('get_user_best_grade_returns')" href="../../../_functions/get_user_best_grade_returns.html" onMouseOver="funcPopup(event,'get_user_best_grade_returns')">get_user_best_grade_returns</a>() {
<a name="l539"><span class="linenum"> 539</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l540"><span class="linenum"> 540</span></a>              array(
<a name="l541"><span class="linenum"> 541</span></a>                  'hasgrade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Whether the user has a grade on the given quiz.'),
<a name="l542"><span class="linenum"> 542</span></a>                  'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'The <a class="function" onClick="logFunction('grade')" href="../../../_functions/grade.html" onMouseOver="funcPopup(event,'grade')">grade</a> (only if the user has a grade).', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l543"><span class="linenum"> 543</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l544"><span class="linenum"> 544</span></a>              )
<a name="l545"><span class="linenum"> 545</span></a>          );
<a name="l546"><span class="linenum"> 546</span></a>      }
<a name="l547"><span class="linenum"> 547</span></a>  
<a name="l548"><span class="linenum"> 548</span></a>      <span class="comment">/**</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">     * Describes the parameters for get_combined_review_options.</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">     *</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">     */</span>
<a name="l554"><span class="linenum"> 554</span></a>      public static function <a class="function" onClick="logFunction('get_combined_review_options_parameters')" href="../../../_functions/get_combined_review_options_parameters.html" onMouseOver="funcPopup(event,'get_combined_review_options_parameters')">get_combined_review_options_parameters</a>() {
<a name="l555"><span class="linenum"> 555</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l556"><span class="linenum"> 556</span></a>              array(
<a name="l557"><span class="linenum"> 557</span></a>                  'quizid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'quiz instance id'),
<a name="l558"><span class="linenum"> 558</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user <a class="function" onClick="logFunction('id')" href="../../../_functions/id.html" onMouseOver="funcPopup(event,'id')">id</a> (empty for current user)', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0),
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>              )
<a name="l561"><span class="linenum"> 561</span></a>          );
<a name="l562"><span class="linenum"> 562</span></a>      }
<a name="l563"><span class="linenum"> 563</span></a>  
<a name="l564"><span class="linenum"> 564</span></a>      <span class="comment">/**</span>
<a name="l565"><span class="linenum"> 565</span></a>  <span class="comment">     * Combines the review options from a number of different quiz attempts.</span>
<a name="l566"><span class="linenum"> 566</span></a>  <span class="comment">     *</span>
<a name="l567"><span class="linenum"> 567</span></a>  <span class="comment">     * @param int $quizid quiz instance id</span>
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">     * @param int $userid user id (empty for current user)</span>
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">     * @return array of warnings and the review options</span>
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">     */</span>
<a name="l572"><span class="linenum"> 572</span></a>      public static function <a class="function" onClick="logFunction('get_combined_review_options')" href="../../../_functions/get_combined_review_options.html" onMouseOver="funcPopup(event,'get_combined_review_options')">get_combined_review_options</a>(<a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = 0) {
<a name="l573"><span class="linenum"> 573</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l574"><span class="linenum"> 574</span></a>  
<a name="l575"><span class="linenum"> 575</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l576"><span class="linenum"> 576</span></a>  
<a name="l577"><span class="linenum"> 577</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l578"><span class="linenum"> 578</span></a>              'quizid' =&gt; <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>,
<a name="l579"><span class="linenum"> 579</span></a>              'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>,
<a name="l580"><span class="linenum"> 580</span></a>          );
<a name="l581"><span class="linenum"> 581</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_combined_review_options_parameters')" href="../../../_functions/get_combined_review_options_parameters.html" onMouseOver="funcPopup(event,'get_combined_review_options_parameters')">get_combined_review_options_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l582"><span class="linenum"> 582</span></a>  
<a name="l583"><span class="linenum"> 583</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>) = self::<a class="function" onClick="logFunction('validate_quiz')" href="../../../_functions/validate_quiz.html" onMouseOver="funcPopup(event,'validate_quiz')">validate_quiz</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['quizid']);
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">        // Default value for userid.</span>
<a name="l586"><span class="linenum"> 586</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid'])) {
<a name="l587"><span class="linenum"> 587</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid'] = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l588"><span class="linenum"> 588</span></a>          }
<a name="l589"><span class="linenum"> 589</span></a>  
<a name="l590"><span class="linenum"> 590</span></a>          <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a> = <a class="class" onClick="logClass('core_user')" href="../../../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_user')" href="../../../_functions/get_user.html" onMouseOver="funcPopup(event,'get_user')">get_user</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid'], '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l591"><span class="linenum"> 591</span></a>          <a class="class" onClick="logClass('core_user')" href="../../../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('require_active_user')" href="../../../_functions/require_active_user.html" onMouseOver="funcPopup(event,'require_active_user')">require_active_user</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a>);
<a name="l592"><span class="linenum"> 592</span></a>  
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">        // Extra checks so only users with permissions can view other users attempts.</span>
<a name="l594"><span class="linenum"> 594</span></a>          if (<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> != <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>) {
<a name="l595"><span class="linenum"> 595</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/quiz:viewreports', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l596"><span class="linenum"> 596</span></a>          }
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>          <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../../_variables/attempts.html">$attempts</a> = <a class="function" onClick="logFunction('quiz_get_user_attempts')" href="../../../_functions/quiz_get_user_attempts.html" onMouseOver="funcPopup(event,'quiz_get_user_attempts')">quiz_get_user_attempts</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'all', true);
<a name="l599"><span class="linenum"> 599</span></a>  
<a name="l600"><span class="linenum"> 600</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l601"><span class="linenum"> 601</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['someoptions'] = [];
<a name="l602"><span class="linenum"> 602</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['alloptions'] = [];
<a name="l603"><span class="linenum"> 603</span></a>  
<a name="l604"><span class="linenum"> 604</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it6229" onMouseOver="hilite(6229)" onMouseOut="lolite()" onClick="logVariable('someoptions')" href="../../../_variables/someoptions.html">$someoptions</a>, <a class="var it6230" onMouseOver="hilite(6230)" onMouseOut="lolite()" onClick="logVariable('alloptions')" href="../../../_variables/alloptions.html">$alloptions</a>) = <a class="function" onClick="logFunction('quiz_get_combined_reviewoptions')" href="../../../_functions/quiz_get_combined_reviewoptions.html" onMouseOver="funcPopup(event,'quiz_get_combined_reviewoptions')">quiz_get_combined_reviewoptions</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../../_variables/attempts.html">$attempts</a>);
<a name="l605"><span class="linenum"> 605</span></a>  
<a name="l606"><span class="linenum"> 606</span></a>          foreach (array('someoptions', 'alloptions') as <a class="var it6231" onMouseOver="hilite(6231)" onMouseOut="lolite()" onClick="logVariable('typeofoption')" href="../../../_variables/typeofoption.html">$typeofoption</a>) {
<a name="l607"><span class="linenum"> 607</span></a>              foreach ($<a class="var it6231" onMouseOver="hilite(6231)" onMouseOut="lolite()" onClick="logVariable('typeofoption')" href="../../../_variables/typeofoption.html">$typeofoption</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../_variables/value.html">$value</a>) {
<a name="l608"><span class="linenum"> 608</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>[<a class="var it6231" onMouseOver="hilite(6231)" onMouseOut="lolite()" onClick="logVariable('typeofoption')" href="../../../_variables/typeofoption.html">$typeofoption</a>][] = array(
<a name="l609"><span class="linenum"> 609</span></a>                      &quot;name&quot; =&gt; <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>,
<a name="l610"><span class="linenum"> 610</span></a>                      &quot;value&quot; =&gt; (!empty(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../_variables/value.html">$value</a>)) ? <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../_variables/value.html">$value</a> : 0
<a name="l611"><span class="linenum"> 611</span></a>                  );
<a name="l612"><span class="linenum"> 612</span></a>              }
<a name="l613"><span class="linenum"> 613</span></a>          }
<a name="l614"><span class="linenum"> 614</span></a>  
<a name="l615"><span class="linenum"> 615</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l616"><span class="linenum"> 616</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l617"><span class="linenum"> 617</span></a>      }
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>      <span class="comment">/**</span>
<a name="l620"><span class="linenum"> 620</span></a>  <span class="comment">     * Describes the get_combined_review_options return value.</span>
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">     *</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment">     */</span>
<a name="l625"><span class="linenum"> 625</span></a>      public static function <a class="function" onClick="logFunction('get_combined_review_options_returns')" href="../../../_functions/get_combined_review_options_returns.html" onMouseOver="funcPopup(event,'get_combined_review_options_returns')">get_combined_review_options_returns</a>() {
<a name="l626"><span class="linenum"> 626</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l627"><span class="linenum"> 627</span></a>              array(
<a name="l628"><span class="linenum"> 628</span></a>                  'someoptions' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l629"><span class="linenum"> 629</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l630"><span class="linenum"> 630</span></a>                          array(
<a name="l631"><span class="linenum"> 631</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'option name'),
<a name="l632"><span class="linenum"> 632</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'option value'),
<a name="l633"><span class="linenum"> 633</span></a>                          )
<a name="l634"><span class="linenum"> 634</span></a>                      )
<a name="l635"><span class="linenum"> 635</span></a>                  ),
<a name="l636"><span class="linenum"> 636</span></a>                  'alloptions' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l637"><span class="linenum"> 637</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l638"><span class="linenum"> 638</span></a>                          array(
<a name="l639"><span class="linenum"> 639</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'option name'),
<a name="l640"><span class="linenum"> 640</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'option value'),
<a name="l641"><span class="linenum"> 641</span></a>                          )
<a name="l642"><span class="linenum"> 642</span></a>                      )
<a name="l643"><span class="linenum"> 643</span></a>                  ),
<a name="l644"><span class="linenum"> 644</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l645"><span class="linenum"> 645</span></a>              )
<a name="l646"><span class="linenum"> 646</span></a>          );
<a name="l647"><span class="linenum"> 647</span></a>      }
<a name="l648"><span class="linenum"> 648</span></a>  
<a name="l649"><span class="linenum"> 649</span></a>      <span class="comment">/**</span>
<a name="l650"><span class="linenum"> 650</span></a>  <span class="comment">     * Describes the parameters for start_attempt.</span>
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">     *</span>
<a name="l652"><span class="linenum"> 652</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l653"><span class="linenum"> 653</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l654"><span class="linenum"> 654</span></a>  <span class="comment">     */</span>
<a name="l655"><span class="linenum"> 655</span></a>      public static function <a class="function" onClick="logFunction('start_attempt_parameters')" href="../../../_functions/start_attempt_parameters.html" onMouseOver="funcPopup(event,'start_attempt_parameters')">start_attempt_parameters</a>() {
<a name="l656"><span class="linenum"> 656</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l657"><span class="linenum"> 657</span></a>              array(
<a name="l658"><span class="linenum"> 658</span></a>                  'quizid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'quiz instance id'),
<a name="l659"><span class="linenum"> 659</span></a>                  'preflightdata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l660"><span class="linenum"> 660</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l661"><span class="linenum"> 661</span></a>                          array(
<a name="l662"><span class="linenum"> 662</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'data name'),
<a name="l663"><span class="linenum"> 663</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data value'),
<a name="l664"><span class="linenum"> 664</span></a>                          )
<a name="l665"><span class="linenum"> 665</span></a>                      ), 'Preflight required <a class="function" onClick="logFunction('data')" href="../../../_functions/data.html" onMouseOver="funcPopup(event,'data')">data</a> (like passwords)', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l666"><span class="linenum"> 666</span></a>                  ),
<a name="l667"><span class="linenum"> 667</span></a>                  'forcenew' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Whether to force a new attempt or not.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, false),
<a name="l668"><span class="linenum"> 668</span></a>  
<a name="l669"><span class="linenum"> 669</span></a>              )
<a name="l670"><span class="linenum"> 670</span></a>          );
<a name="l671"><span class="linenum"> 671</span></a>      }
<a name="l672"><span class="linenum"> 672</span></a>  
<a name="l673"><span class="linenum"> 673</span></a>      <span class="comment">/**</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">     * Starts a new attempt at a quiz.</span>
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment">     *</span>
<a name="l676"><span class="linenum"> 676</span></a>  <span class="comment">     * @param int $quizid quiz instance id</span>
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment">     * @param array $preflightdata preflight required data (like passwords)</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">     * @param bool $forcenew Whether to force a new attempt or not.</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">     * @return array of warnings and the attempt basic data</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">     * @throws moodle_quiz_exception</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment">     */</span>
<a name="l683"><span class="linenum"> 683</span></a>      public static function <a class="function" onClick="logFunction('start_attempt')" href="../../../_functions/start_attempt.html" onMouseOver="funcPopup(event,'start_attempt')">start_attempt</a>(<a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>, <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a> = array(), <a class="var it6233" onMouseOver="hilite(6233)" onMouseOut="lolite()" onClick="logVariable('forcenew')" href="../../../_variables/forcenew.html">$forcenew</a> = false) {
<a name="l684"><span class="linenum"> 684</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l685"><span class="linenum"> 685</span></a>  
<a name="l686"><span class="linenum"> 686</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l687"><span class="linenum"> 687</span></a>          <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../../_variables/attempt.html">$attempt</a> = array();
<a name="l688"><span class="linenum"> 688</span></a>  
<a name="l689"><span class="linenum"> 689</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l690"><span class="linenum"> 690</span></a>              'quizid' =&gt; <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>,
<a name="l691"><span class="linenum"> 691</span></a>              'preflightdata' =&gt; <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a>,
<a name="l692"><span class="linenum"> 692</span></a>              'forcenew' =&gt; <a class="var it6233" onMouseOver="hilite(6233)" onMouseOut="lolite()" onClick="logVariable('forcenew')" href="../../../_variables/forcenew.html">$forcenew</a>,
<a name="l693"><span class="linenum"> 693</span></a>          );
<a name="l694"><span class="linenum"> 694</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('start_attempt_parameters')" href="../../../_functions/start_attempt_parameters.html" onMouseOver="funcPopup(event,'start_attempt_parameters')">start_attempt_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l695"><span class="linenum"> 695</span></a>          <a class="var it6233" onMouseOver="hilite(6233)" onMouseOut="lolite()" onClick="logVariable('forcenew')" href="../../../_variables/forcenew.html">$forcenew</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['forcenew'];
<a name="l696"><span class="linenum"> 696</span></a>  
<a name="l697"><span class="linenum"> 697</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>) = self::<a class="function" onClick="logFunction('validate_quiz')" href="../../../_functions/validate_quiz.html" onMouseOver="funcPopup(event,'validate_quiz')">validate_quiz</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['quizid']);
<a name="l698"><span class="linenum"> 698</span></a>  
<a name="l699"><span class="linenum"> 699</span></a>          <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a> = <a class="class" onClick="logClass('quiz')" href="../../../_classes/quiz.html" onMouseOver="classPopup(event,'quiz')">quiz</a>::<a class="function" onClick="logFunction('create')" href="../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/instance.html">instance</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l700"><span class="linenum"> 700</span></a>  
<a name="l701"><span class="linenum"> 701</span></a>  <span class="comment">        // Check questions.</span>
<a name="l702"><span class="linenum"> 702</span></a>          if (!<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('has_questions')" href="../../../_functions/has_questions.html" onMouseOver="funcPopup(event,'has_questions')">has_questions</a>()) {
<a name="l703"><span class="linenum"> 703</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>, 'noquestionsfound');
<a name="l704"><span class="linenum"> 704</span></a>          }
<a name="l705"><span class="linenum"> 705</span></a>  
<a name="l706"><span class="linenum"> 706</span></a>  <span class="comment">        // Create an object to manage all the other (non-roles) access rules.</span>
<a name="l707"><span class="linenum"> 707</span></a>          <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l708"><span class="linenum"> 708</span></a>          <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a> = <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('get_access_manager')" href="../../../_functions/get_access_manager.html" onMouseOver="funcPopup(event,'get_access_manager')">get_access_manager</a>(<a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a>);
<a name="l709"><span class="linenum"> 709</span></a>  
<a name="l710"><span class="linenum"> 710</span></a>  <span class="comment">        // Validate permissions for creating a new attempt and start a new preview attempt if required.</span>
<a name="l711"><span class="linenum"> 711</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it6234" onMouseOver="hilite(6234)" onMouseOut="lolite()" onClick="logVariable('currentattemptid')" href="../../../_variables/currentattemptid.html">$currentattemptid</a>, <a class="var it282" onMouseOver="hilite(282)" onMouseOut="lolite()" onClick="logVariable('attemptnumber')" href="../../../_variables/attemptnumber.html">$attemptnumber</a>, <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../../_variables/lastattempt.html">$lastattempt</a>, <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>) =
<a name="l712"><span class="linenum"> 712</span></a>              <a class="function" onClick="logFunction('quiz_validate_new_attempt')" href="../../../_functions/quiz_validate_new_attempt.html" onMouseOver="funcPopup(event,'quiz_validate_new_attempt')">quiz_validate_new_attempt</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>, <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>, <a class="var it6233" onMouseOver="hilite(6233)" onMouseOut="lolite()" onClick="logVariable('forcenew')" href="../../../_variables/forcenew.html">$forcenew</a>, -1, false);
<a name="l713"><span class="linenum"> 713</span></a>  
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">        // Check access.</span>
<a name="l715"><span class="linenum"> 715</span></a>          if (!<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('is_preview_user')" href="../../../_functions/is_preview_user.html" onMouseOver="funcPopup(event,'is_preview_user')">is_preview_user</a>() &amp;&amp; <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>) {
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">            // Create warnings with the exact messages.</span>
<a name="l717"><span class="linenum"> 717</span></a>              foreach (<a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a> as <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../_variables/message.html">$message</a>) {
<a name="l718"><span class="linenum"> 718</span></a>                  <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l719"><span class="linenum"> 719</span></a>                      'item' =&gt; 'quiz',
<a name="l720"><span class="linenum"> 720</span></a>                      'itemid' =&gt; <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>,
<a name="l721"><span class="linenum"> 721</span></a>                      'warningcode' =&gt; '1',
<a name="l722"><span class="linenum"> 722</span></a>                      'message' =&gt; <a class="function" onClick="logFunction('clean_text')" href="../../../_functions/clean_text.html" onMouseOver="funcPopup(event,'clean_text')">clean_text</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../_variables/message.html">$message</a>, <a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>)
<a name="l723"><span class="linenum"> 723</span></a>                  );
<a name="l724"><span class="linenum"> 724</span></a>              }
<a name="l725"><span class="linenum"> 725</span></a>          } else {
<a name="l726"><span class="linenum"> 726</span></a>              if (<a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('is_preflight_check_required')" href="../../../_functions/is_preflight_check_required.html" onMouseOver="funcPopup(event,'is_preflight_check_required')">is_preflight_check_required</a>(<a class="var it6234" onMouseOver="hilite(6234)" onMouseOut="lolite()" onClick="logVariable('currentattemptid')" href="../../../_variables/currentattemptid.html">$currentattemptid</a>)) {
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">                // Need to do some checks before allowing the user to continue.</span>
<a name="l728"><span class="linenum"> 728</span></a>  
<a name="l729"><span class="linenum"> 729</span></a>                  <a class="var it6235" onMouseOver="hilite(6235)" onMouseOut="lolite()" onClick="logVariable('provideddata')" href="../../../_variables/provideddata.html">$provideddata</a> = array();
<a name="l730"><span class="linenum"> 730</span></a>                  foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['preflightdata'] as <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>) {
<a name="l731"><span class="linenum"> 731</span></a>                      <a class="var it6235" onMouseOver="hilite(6235)" onMouseOut="lolite()" onClick="logVariable('provideddata')" href="../../../_variables/provideddata.html">$provideddata</a>[<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['name']] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['value'];
<a name="l732"><span class="linenum"> 732</span></a>                  }
<a name="l733"><span class="linenum"> 733</span></a>  
<a name="l734"><span class="linenum"> 734</span></a>                  <a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../../../_variables/errors.html">$errors</a> = <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('validate_preflight_check')" href="../../../_functions/validate_preflight_check.html" onMouseOver="funcPopup(event,'validate_preflight_check')">validate_preflight_check</a>(<a class="var it6235" onMouseOver="hilite(6235)" onMouseOut="lolite()" onClick="logVariable('provideddata')" href="../../../_variables/provideddata.html">$provideddata</a>, [], <a class="var it6234" onMouseOver="hilite(6234)" onMouseOut="lolite()" onClick="logVariable('currentattemptid')" href="../../../_variables/currentattemptid.html">$currentattemptid</a>);
<a name="l735"><span class="linenum"> 735</span></a>  
<a name="l736"><span class="linenum"> 736</span></a>                  if (!empty(<a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../../../_variables/errors.html">$errors</a>)) {
<a name="l737"><span class="linenum"> 737</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>, <a class="phpfunction" onClick="logFunction('array_shift')" href="../../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../../../_variables/errors.html">$errors</a>));
<a name="l738"><span class="linenum"> 738</span></a>                  }
<a name="l739"><span class="linenum"> 739</span></a>  
<a name="l740"><span class="linenum"> 740</span></a>  <span class="comment">                // Pre-flight check passed.</span>
<a name="l741"><span class="linenum"> 741</span></a>                  <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('notify_preflight_check_passed')" href="../../../_functions/notify_preflight_check_passed.html" onMouseOver="funcPopup(event,'notify_preflight_check_passed')">notify_preflight_check_passed</a>(<a class="var it6234" onMouseOver="hilite(6234)" onMouseOut="lolite()" onClick="logVariable('currentattemptid')" href="../../../_variables/currentattemptid.html">$currentattemptid</a>);
<a name="l742"><span class="linenum"> 742</span></a>              }
<a name="l743"><span class="linenum"> 743</span></a>  
<a name="l744"><span class="linenum"> 744</span></a>              if (<a class="var it6234" onMouseOver="hilite(6234)" onMouseOut="lolite()" onClick="logVariable('currentattemptid')" href="../../../_variables/currentattemptid.html">$currentattemptid</a>) {
<a name="l745"><span class="linenum"> 745</span></a>                  if (<a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../../_variables/lastattempt.html">$lastattempt</a>-&gt;<a onClick="logVariable('state')" class="var it43541" onMouseOver="hilite(43541)" onMouseOut="lolite()" href="../../../_variables/state.html">state</a> == <a class="class" onClick="logClass('quiz_attempt')" href="../../../_classes/quiz_attempt.html" onMouseOver="classPopup(event,'quiz_attempt')">quiz_attempt</a>::OVERDUE) {
<a name="l746"><span class="linenum"> 746</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>, 'stateoverdue');
<a name="l747"><span class="linenum"> 747</span></a>                  } else {
<a name="l748"><span class="linenum"> 748</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>, 'attemptstillinprogress');
<a name="l749"><span class="linenum"> 749</span></a>                  }
<a name="l750"><span class="linenum"> 750</span></a>              }
<a name="l751"><span class="linenum"> 751</span></a>              <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../../_variables/attempt.html">$attempt</a> = <a class="function" onClick="logFunction('quiz_prepare_and_start_new_attempt')" href="../../../_functions/quiz_prepare_and_start_new_attempt.html" onMouseOver="funcPopup(event,'quiz_prepare_and_start_new_attempt')">quiz_prepare_and_start_new_attempt</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>, <a class="var it282" onMouseOver="hilite(282)" onMouseOut="lolite()" onClick="logVariable('attemptnumber')" href="../../../_variables/attemptnumber.html">$attemptnumber</a>, <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../../_variables/lastattempt.html">$lastattempt</a>);
<a name="l752"><span class="linenum"> 752</span></a>          }
<a name="l753"><span class="linenum"> 753</span></a>  
<a name="l754"><span class="linenum"> 754</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l755"><span class="linenum"> 755</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['attempt'] = <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../../_variables/attempt.html">$attempt</a>;
<a name="l756"><span class="linenum"> 756</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l757"><span class="linenum"> 757</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l758"><span class="linenum"> 758</span></a>      }
<a name="l759"><span class="linenum"> 759</span></a>  
<a name="l760"><span class="linenum"> 760</span></a>      <span class="comment">/**</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment">     * Describes the start_attempt return value.</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment">     *</span>
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l764"><span class="linenum"> 764</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l765"><span class="linenum"> 765</span></a>  <span class="comment">     */</span>
<a name="l766"><span class="linenum"> 766</span></a>      public static function <a class="function" onClick="logFunction('start_attempt_returns')" href="../../../_functions/start_attempt_returns.html" onMouseOver="funcPopup(event,'start_attempt_returns')">start_attempt_returns</a>() {
<a name="l767"><span class="linenum"> 767</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l768"><span class="linenum"> 768</span></a>              array(
<a name="l769"><span class="linenum"> 769</span></a>                  'attempt' =&gt; self::<a class="function" onClick="logFunction('attempt_structure')" href="../../../_functions/attempt_structure.html" onMouseOver="funcPopup(event,'attempt_structure')">attempt_structure</a>(),
<a name="l770"><span class="linenum"> 770</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l771"><span class="linenum"> 771</span></a>              )
<a name="l772"><span class="linenum"> 772</span></a>          );
<a name="l773"><span class="linenum"> 773</span></a>      }
<a name="l774"><span class="linenum"> 774</span></a>  
<a name="l775"><span class="linenum"> 775</span></a>      <span class="comment">/**</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">     * Utility function for validating a given attempt</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment">     *</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">     * @param  array $params array of parameters including the attemptid and preflight data</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment">     * @param  bool $checkaccessrules whether to check the quiz access rules or not</span>
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment">     * @param  bool $failifoverdue whether to return error if the attempt is overdue</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">     * @return  array containing the attempt object and access messages</span>
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment">     * @throws moodle_quiz_exception</span>
<a name="l783"><span class="linenum"> 783</span></a>  <span class="comment">     * @since  Moodle 3.1</span>
<a name="l784"><span class="linenum"> 784</span></a>  <span class="comment">     */</span>
<a name="l785"><span class="linenum"> 785</span></a>      protected static function <a class="function" onClick="logFunction('validate_attempt')" href="../../../_functions/validate_attempt.html" onMouseOver="funcPopup(event,'validate_attempt')">validate_attempt</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>, <a class="var it6236" onMouseOver="hilite(6236)" onMouseOut="lolite()" onClick="logVariable('checkaccessrules')" href="../../../_variables/checkaccessrules.html">$checkaccessrules</a> = true, <a class="var it6237" onMouseOver="hilite(6237)" onMouseOut="lolite()" onClick="logVariable('failifoverdue')" href="../../../_variables/failifoverdue.html">$failifoverdue</a> = true) {
<a name="l786"><span class="linenum"> 786</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l787"><span class="linenum"> 787</span></a>  
<a name="l788"><span class="linenum"> 788</span></a>          <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a> = <a class="class" onClick="logClass('quiz_attempt')" href="../../../_classes/quiz_attempt.html" onMouseOver="classPopup(event,'quiz_attempt')">quiz_attempt</a>::<a class="function" onClick="logFunction('create')" href="../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['attemptid']);
<a name="l789"><span class="linenum"> 789</span></a>  
<a name="l790"><span class="linenum"> 790</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../../../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>()-&gt;id);
<a name="l791"><span class="linenum"> 791</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l792"><span class="linenum"> 792</span></a>  
<a name="l793"><span class="linenum"> 793</span></a>  <span class="comment">        // Check that this attempt belongs to this user.</span>
<a name="l794"><span class="linenum"> 794</span></a>          if (<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_userid')" href="../../../_functions/get_userid.html" onMouseOver="funcPopup(event,'get_userid')">get_userid</a>() != <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>) {
<a name="l795"><span class="linenum"> 795</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'notyourattempt');
<a name="l796"><span class="linenum"> 796</span></a>          }
<a name="l797"><span class="linenum"> 797</span></a>  
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment">        // General capabilities check.</span>
<a name="l799"><span class="linenum"> 799</span></a>          <a class="var it6238" onMouseOver="hilite(6238)" onMouseOut="lolite()" onClick="logVariable('ispreviewuser')" href="../../../_variables/ispreviewuser.html">$ispreviewuser</a> = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('is_preview_user')" href="../../../_functions/is_preview_user.html" onMouseOver="funcPopup(event,'is_preview_user')">is_preview_user</a>();
<a name="l800"><span class="linenum"> 800</span></a>          if (!<a class="var it6238" onMouseOver="hilite(6238)" onMouseOut="lolite()" onClick="logVariable('ispreviewuser')" href="../../../_variables/ispreviewuser.html">$ispreviewuser</a>) {
<a name="l801"><span class="linenum"> 801</span></a>              <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/quiz:attempt');
<a name="l802"><span class="linenum"> 802</span></a>          }
<a name="l803"><span class="linenum"> 803</span></a>  
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">        // Check the access rules.</span>
<a name="l805"><span class="linenum"> 805</span></a>          <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a> = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_access_manager')" href="../../../_functions/get_access_manager.html" onMouseOver="funcPopup(event,'get_access_manager')">get_access_manager</a>(<a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>());
<a name="l806"><span class="linenum"> 806</span></a>          <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a> = array();
<a name="l807"><span class="linenum"> 807</span></a>          if (<a class="var it6236" onMouseOver="hilite(6236)" onMouseOut="lolite()" onClick="logVariable('checkaccessrules')" href="../../../_variables/checkaccessrules.html">$checkaccessrules</a>) {
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">            // If the attempt is now overdue, or abandoned, deal with that.</span>
<a name="l809"><span class="linenum"> 809</span></a>              <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('handle_if_time_expired')" href="../../../_functions/handle_if_time_expired.html" onMouseOver="funcPopup(event,'handle_if_time_expired')">handle_if_time_expired</a>(<a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>(), true);
<a name="l810"><span class="linenum"> 810</span></a>  
<a name="l811"><span class="linenum"> 811</span></a>              <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a> = <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('prevent_access')" href="../../../_functions/prevent_access.html" onMouseOver="funcPopup(event,'prevent_access')">prevent_access</a>();
<a name="l812"><span class="linenum"> 812</span></a>              if (!<a class="var it6238" onMouseOver="hilite(6238)" onMouseOut="lolite()" onClick="logVariable('ispreviewuser')" href="../../../_variables/ispreviewuser.html">$ispreviewuser</a> &amp;&amp; <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>) {
<a name="l813"><span class="linenum"> 813</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'attempterror');
<a name="l814"><span class="linenum"> 814</span></a>              }
<a name="l815"><span class="linenum"> 815</span></a>          }
<a name="l816"><span class="linenum"> 816</span></a>  
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment">        // Attempt closed?.</span>
<a name="l818"><span class="linenum"> 818</span></a>          if (<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('is_finished')" href="../../../_functions/is_finished.html" onMouseOver="funcPopup(event,'is_finished')">is_finished</a>()) {
<a name="l819"><span class="linenum"> 819</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'attemptalreadyclosed');
<a name="l820"><span class="linenum"> 820</span></a>          } else if (<a class="var it6237" onMouseOver="hilite(6237)" onMouseOut="lolite()" onClick="logVariable('failifoverdue')" href="../../../_variables/failifoverdue.html">$failifoverdue</a> &amp;&amp; <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_state')" href="../../../_functions/get_state.html" onMouseOver="funcPopup(event,'get_state')">get_state</a>() == <a class="class" onClick="logClass('quiz_attempt')" href="../../../_classes/quiz_attempt.html" onMouseOver="classPopup(event,'quiz_attempt')">quiz_attempt</a>::OVERDUE) {
<a name="l821"><span class="linenum"> 821</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'stateoverdue');
<a name="l822"><span class="linenum"> 822</span></a>          }
<a name="l823"><span class="linenum"> 823</span></a>  
<a name="l824"><span class="linenum"> 824</span></a>  <span class="comment">        // User submitted data (like the quiz password).</span>
<a name="l825"><span class="linenum"> 825</span></a>          if (<a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('is_preflight_check_required')" href="../../../_functions/is_preflight_check_required.html" onMouseOver="funcPopup(event,'is_preflight_check_required')">is_preflight_check_required</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_attemptid')" href="../../../_functions/get_attemptid.html" onMouseOver="funcPopup(event,'get_attemptid')">get_attemptid</a>())) {
<a name="l826"><span class="linenum"> 826</span></a>              <a class="var it6235" onMouseOver="hilite(6235)" onMouseOut="lolite()" onClick="logVariable('provideddata')" href="../../../_variables/provideddata.html">$provideddata</a> = array();
<a name="l827"><span class="linenum"> 827</span></a>              foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['preflightdata'] as <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>) {
<a name="l828"><span class="linenum"> 828</span></a>                  <a class="var it6235" onMouseOver="hilite(6235)" onMouseOut="lolite()" onClick="logVariable('provideddata')" href="../../../_variables/provideddata.html">$provideddata</a>[<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['name']] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['value'];
<a name="l829"><span class="linenum"> 829</span></a>              }
<a name="l830"><span class="linenum"> 830</span></a>  
<a name="l831"><span class="linenum"> 831</span></a>              <a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../../../_variables/errors.html">$errors</a> = <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('validate_preflight_check')" href="../../../_functions/validate_preflight_check.html" onMouseOver="funcPopup(event,'validate_preflight_check')">validate_preflight_check</a>(<a class="var it6235" onMouseOver="hilite(6235)" onMouseOut="lolite()" onClick="logVariable('provideddata')" href="../../../_variables/provideddata.html">$provideddata</a>, [], <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['attemptid']);
<a name="l832"><span class="linenum"> 832</span></a>              if (!empty(<a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../../../_variables/errors.html">$errors</a>)) {
<a name="l833"><span class="linenum"> 833</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), <a class="phpfunction" onClick="logFunction('array_shift')" href="../../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../../../_variables/errors.html">$errors</a>));
<a name="l834"><span class="linenum"> 834</span></a>              }
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">            // Pre-flight check passed.</span>
<a name="l836"><span class="linenum"> 836</span></a>              <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('notify_preflight_check_passed')" href="../../../_functions/notify_preflight_check_passed.html" onMouseOver="funcPopup(event,'notify_preflight_check_passed')">notify_preflight_check_passed</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['attemptid']);
<a name="l837"><span class="linenum"> 837</span></a>          }
<a name="l838"><span class="linenum"> 838</span></a>  
<a name="l839"><span class="linenum"> 839</span></a>          if (isset(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page'])) {
<a name="l840"><span class="linenum"> 840</span></a>  <span class="comment">            // Check if the page is out of range.</span>
<a name="l841"><span class="linenum"> 841</span></a>              if (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page'] != <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('force_page_number_into_range')" href="../../../_functions/force_page_number_into_range.html" onMouseOver="funcPopup(event,'force_page_number_into_range')">force_page_number_into_range</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page'])) {
<a name="l842"><span class="linenum"> 842</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'Invalid page number');
<a name="l843"><span class="linenum"> 843</span></a>              }
<a name="l844"><span class="linenum"> 844</span></a>  
<a name="l845"><span class="linenum"> 845</span></a>  <span class="comment">            // Prevent out of sequence access.</span>
<a name="l846"><span class="linenum"> 846</span></a>              if (!<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('check_page_access')" href="../../../_functions/check_page_access.html" onMouseOver="funcPopup(event,'check_page_access')">check_page_access</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page'])) {
<a name="l847"><span class="linenum"> 847</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'Out of sequence access');
<a name="l848"><span class="linenum"> 848</span></a>              }
<a name="l849"><span class="linenum"> 849</span></a>  
<a name="l850"><span class="linenum"> 850</span></a>  <span class="comment">            // Check slots.</span>
<a name="l851"><span class="linenum"> 851</span></a>              <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_slots')" href="../../../_functions/get_slots.html" onMouseOver="funcPopup(event,'get_slots')">get_slots</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page']);
<a name="l852"><span class="linenum"> 852</span></a>  
<a name="l853"><span class="linenum"> 853</span></a>              if (empty(<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>)) {
<a name="l854"><span class="linenum"> 854</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'noquestionsfound');
<a name="l855"><span class="linenum"> 855</span></a>              }
<a name="l856"><span class="linenum"> 856</span></a>          }
<a name="l857"><span class="linenum"> 857</span></a>  
<a name="l858"><span class="linenum"> 858</span></a>          return array(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>);
<a name="l859"><span class="linenum"> 859</span></a>      }
<a name="l860"><span class="linenum"> 860</span></a>  
<a name="l861"><span class="linenum"> 861</span></a>      <span class="comment">/**</span>
<a name="l862"><span class="linenum"> 862</span></a>  <span class="comment">     * Describes a single question structure.</span>
<a name="l863"><span class="linenum"> 863</span></a>  <span class="comment">     *</span>
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">     * @return external_single_structure the question structure</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">     * @since  Moodle 3.1</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment">     */</span>
<a name="l867"><span class="linenum"> 867</span></a>      private static function <a class="function" onClick="logFunction('question_structure')" href="../../../_functions/question_structure.html" onMouseOver="funcPopup(event,'question_structure')">question_structure</a>() {
<a name="l868"><span class="linenum"> 868</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l869"><span class="linenum"> 869</span></a>              array(
<a name="l870"><span class="linenum"> 870</span></a>                  'slot' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'slot number'),
<a name="l871"><span class="linenum"> 871</span></a>                  'type' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'question type, i.e: multichoice'),
<a name="l872"><span class="linenum"> 872</span></a>                  'page' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'page of the quiz this question appears on'),
<a name="l873"><span class="linenum"> 873</span></a>                  'html' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the question rendered'),
<a name="l874"><span class="linenum"> 874</span></a>                  'flagged' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'whether the question is flagged or not'),
<a name="l875"><span class="linenum"> 875</span></a>                  'number' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'question ordering number in the quiz', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l876"><span class="linenum"> 876</span></a>                  'state' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'the state where the question is in', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l877"><span class="linenum"> 877</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'current formatted state of the question', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l878"><span class="linenum"> 878</span></a>                  'mark' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the mark awarded', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l879"><span class="linenum"> 879</span></a>                  'maxmark' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'the maximum mark possible for this question attempt', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l880"><span class="linenum"> 880</span></a>              )
<a name="l881"><span class="linenum"> 881</span></a>          );
<a name="l882"><span class="linenum"> 882</span></a>      }
<a name="l883"><span class="linenum"> 883</span></a>  
<a name="l884"><span class="linenum"> 884</span></a>      <span class="comment">/**</span>
<a name="l885"><span class="linenum"> 885</span></a>  <span class="comment">     * Return questions information for a given attempt.</span>
<a name="l886"><span class="linenum"> 886</span></a>  <span class="comment">     *</span>
<a name="l887"><span class="linenum"> 887</span></a>  <span class="comment">     * @param  quiz_attempt  $attemptobj  the quiz attempt object</span>
<a name="l888"><span class="linenum"> 888</span></a>  <span class="comment">     * @param  bool  $review  whether if we are in review mode or not</span>
<a name="l889"><span class="linenum"> 889</span></a>  <span class="comment">     * @param  mixed  $page  string 'all' or integer page number</span>
<a name="l890"><span class="linenum"> 890</span></a>  <span class="comment">     * @return array array of questions including data</span>
<a name="l891"><span class="linenum"> 891</span></a>  <span class="comment">     */</span>
<a name="l892"><span class="linenum"> 892</span></a>      private static function <a class="function" onClick="logFunction('get_attempt_questions_data')" href="../../../_functions/get_attempt_questions_data.html" onMouseOver="funcPopup(event,'get_attempt_questions_data')">get_attempt_questions_data</a>(quiz_attempt <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it6239" onMouseOver="hilite(6239)" onMouseOut="lolite()" onClick="logVariable('review')" href="../../../_variables/review.html">$review</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = 'all') {
<a name="l893"><span class="linenum"> 893</span></a>          global <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>;
<a name="l894"><span class="linenum"> 894</span></a>  
<a name="l895"><span class="linenum"> 895</span></a>          <a class="var it256" onMouseOver="hilite(256)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../_variables/questions.html">$questions</a> = array();
<a name="l896"><span class="linenum"> 896</span></a>          <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../../_variables/contextid.html">$contextid</a> = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>()-&gt;<a class="function" onClick="logFunction('get_context')" href="../../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>()-&gt;id;
<a name="l897"><span class="linenum"> 897</span></a>          <a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a> = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_display_options')" href="../../../_functions/get_display_options.html" onMouseOver="funcPopup(event,'get_display_options')">get_display_options</a>(<a class="var it6239" onMouseOver="hilite(6239)" onMouseOut="lolite()" onClick="logVariable('review')" href="../../../_variables/review.html">$review</a>);
<a name="l898"><span class="linenum"> 898</span></a>          <a class="var it1421" onMouseOver="hilite(1421)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../../../_variables/renderer.html">$renderer</a> = <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('mod_quiz');
<a name="l899"><span class="linenum"> 899</span></a>  
<a name="l900"><span class="linenum"> 900</span></a>          foreach (<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_slots')" href="../../../_functions/get_slots.html" onMouseOver="funcPopup(event,'get_slots')">get_slots</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>) as <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>) {
<a name="l901"><span class="linenum"> 901</span></a>  
<a name="l902"><span class="linenum"> 902</span></a>              <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a> = array(
<a name="l903"><span class="linenum"> 903</span></a>                  'slot' =&gt; <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>,
<a name="l904"><span class="linenum"> 904</span></a>                  'type' =&gt; <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_question_type_name')" href="../../../_functions/get_question_type_name.html" onMouseOver="funcPopup(event,'get_question_type_name')">get_question_type_name</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>),
<a name="l905"><span class="linenum"> 905</span></a>                  'page' =&gt; <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_question_page')" href="../../../_functions/get_question_page.html" onMouseOver="funcPopup(event,'get_question_page')">get_question_page</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>),
<a name="l906"><span class="linenum"> 906</span></a>                  'flagged' =&gt; <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('is_question_flagged')" href="../../../_functions/is_question_flagged.html" onMouseOver="funcPopup(event,'is_question_flagged')">is_question_flagged</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>),
<a name="l907"><span class="linenum"> 907</span></a>                  'html' =&gt; <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('render_question')" href="../../../_functions/render_question.html" onMouseOver="funcPopup(event,'render_question')">render_question</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>, <a class="var it6239" onMouseOver="hilite(6239)" onMouseOut="lolite()" onClick="logVariable('review')" href="../../../_variables/review.html">$review</a>, <a class="var it1421" onMouseOver="hilite(1421)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../../../_variables/renderer.html">$renderer</a>) . <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('requires')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../../../_variables/requires.html">requires</a>-&gt;<a class="function" onClick="logFunction('get_end_code')" href="../../../_functions/get_end_code.html" onMouseOver="funcPopup(event,'get_end_code')">get_end_code</a>()
<a name="l908"><span class="linenum"> 908</span></a>              );
<a name="l909"><span class="linenum"> 909</span></a>  
<a name="l910"><span class="linenum"> 910</span></a>              if (<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('is_real_question')" href="../../../_functions/is_real_question.html" onMouseOver="funcPopup(event,'is_real_question')">is_real_question</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>)) {
<a name="l911"><span class="linenum"> 911</span></a>                  <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>['number'] = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_question_number')" href="../../../_functions/get_question_number.html" onMouseOver="funcPopup(event,'get_question_number')">get_question_number</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>);
<a name="l912"><span class="linenum"> 912</span></a>                  <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>['state'] = (string) <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_question_state')" href="../../../_functions/get_question_state.html" onMouseOver="funcPopup(event,'get_question_state')">get_question_state</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>);
<a name="l913"><span class="linenum"> 913</span></a>                  <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>['status'] = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_question_status')" href="../../../_functions/get_question_status.html" onMouseOver="funcPopup(event,'get_question_status')">get_question_status</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>, <a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a>-&gt;<a onClick="logVariable('correctness')" class="var it43542" onMouseOver="hilite(43542)" onMouseOut="lolite()" href="../../../_variables/correctness.html">correctness</a>);
<a name="l914"><span class="linenum"> 914</span></a>              }
<a name="l915"><span class="linenum"> 915</span></a>              if (<a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a>-&gt;<a onClick="logVariable('marks')" class="var it43542" onMouseOver="hilite(43542)" onMouseOut="lolite()" href="../../../_variables/marks.html">marks</a> &gt;= <a class="class" onClick="logClass('question_display_options')" href="../../../_classes/question_display_options.html" onMouseOver="classPopup(event,'question_display_options')">question_display_options</a>::MAX_ONLY) {
<a name="l916"><span class="linenum"> 916</span></a>                  <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>['maxmark'] = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_question_attempt')" href="../../../_functions/get_question_attempt.html" onMouseOver="funcPopup(event,'get_question_attempt')">get_question_attempt</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>)-&gt;<a class="function" onClick="logFunction('get_max_mark')" href="../../../_functions/get_max_mark.html" onMouseOver="funcPopup(event,'get_max_mark')">get_max_mark</a>();
<a name="l917"><span class="linenum"> 917</span></a>              }
<a name="l918"><span class="linenum"> 918</span></a>              if (<a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a>-&gt;<a onClick="logVariable('marks')" class="var it43542" onMouseOver="hilite(43542)" onMouseOut="lolite()" href="../../../_variables/marks.html">marks</a> &gt;= <a class="class" onClick="logClass('question_display_options')" href="../../../_classes/question_display_options.html" onMouseOver="classPopup(event,'question_display_options')">question_display_options</a>::MARK_AND_MAX) {
<a name="l919"><span class="linenum"> 919</span></a>                  <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>['mark'] = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_question_mark')" href="../../../_functions/get_question_mark.html" onMouseOver="funcPopup(event,'get_question_mark')">get_question_mark</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>);
<a name="l920"><span class="linenum"> 920</span></a>              }
<a name="l921"><span class="linenum"> 921</span></a>  
<a name="l922"><span class="linenum"> 922</span></a>              <a class="var it256" onMouseOver="hilite(256)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../_variables/questions.html">$questions</a>[] = <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../_variables/question.html">$question</a>;
<a name="l923"><span class="linenum"> 923</span></a>          }
<a name="l924"><span class="linenum"> 924</span></a>          return <a class="var it256" onMouseOver="hilite(256)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../_variables/questions.html">$questions</a>;
<a name="l925"><span class="linenum"> 925</span></a>      }
<a name="l926"><span class="linenum"> 926</span></a>  
<a name="l927"><span class="linenum"> 927</span></a>      <span class="comment">/**</span>
<a name="l928"><span class="linenum"> 928</span></a>  <span class="comment">     * Describes the parameters for get_attempt_data.</span>
<a name="l929"><span class="linenum"> 929</span></a>  <span class="comment">     *</span>
<a name="l930"><span class="linenum"> 930</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment">     */</span>
<a name="l933"><span class="linenum"> 933</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_data_parameters')" href="../../../_functions/get_attempt_data_parameters.html" onMouseOver="funcPopup(event,'get_attempt_data_parameters')">get_attempt_data_parameters</a>() {
<a name="l934"><span class="linenum"> 934</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l935"><span class="linenum"> 935</span></a>              array(
<a name="l936"><span class="linenum"> 936</span></a>                  'attemptid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt id'),
<a name="l937"><span class="linenum"> 937</span></a>                  'page' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'page number'),
<a name="l938"><span class="linenum"> 938</span></a>                  'preflightdata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l939"><span class="linenum"> 939</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l940"><span class="linenum"> 940</span></a>                          array(
<a name="l941"><span class="linenum"> 941</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'data name'),
<a name="l942"><span class="linenum"> 942</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data value'),
<a name="l943"><span class="linenum"> 943</span></a>                          )
<a name="l944"><span class="linenum"> 944</span></a>                      ), 'Preflight required <a class="function" onClick="logFunction('data')" href="../../../_functions/data.html" onMouseOver="funcPopup(event,'data')">data</a> (like passwords)', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l945"><span class="linenum"> 945</span></a>                  )
<a name="l946"><span class="linenum"> 946</span></a>              )
<a name="l947"><span class="linenum"> 947</span></a>          );
<a name="l948"><span class="linenum"> 948</span></a>      }
<a name="l949"><span class="linenum"> 949</span></a>  
<a name="l950"><span class="linenum"> 950</span></a>      <span class="comment">/**</span>
<a name="l951"><span class="linenum"> 951</span></a>  <span class="comment">     * Returns information for the given attempt page for a quiz attempt in progress.</span>
<a name="l952"><span class="linenum"> 952</span></a>  <span class="comment">     *</span>
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment">     * @param int $attemptid attempt id</span>
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment">     * @param int $page page number</span>
<a name="l955"><span class="linenum"> 955</span></a>  <span class="comment">     * @param array $preflightdata preflight required data (like passwords)</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment">     * @return array of warnings and the attempt data, next page, message and questions</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment">     * @throws moodle_quiz_exceptions</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment">     */</span>
<a name="l960"><span class="linenum"> 960</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_data')" href="../../../_functions/get_attempt_data.html" onMouseOver="funcPopup(event,'get_attempt_data')">get_attempt_data</a>(<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>, <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a> = array()) {
<a name="l961"><span class="linenum"> 961</span></a>  
<a name="l962"><span class="linenum"> 962</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l963"><span class="linenum"> 963</span></a>  
<a name="l964"><span class="linenum"> 964</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l965"><span class="linenum"> 965</span></a>              'attemptid' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>,
<a name="l966"><span class="linenum"> 966</span></a>              'page' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>,
<a name="l967"><span class="linenum"> 967</span></a>              'preflightdata' =&gt; <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a>,
<a name="l968"><span class="linenum"> 968</span></a>          );
<a name="l969"><span class="linenum"> 969</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_attempt_data_parameters')" href="../../../_functions/get_attempt_data_parameters.html" onMouseOver="funcPopup(event,'get_attempt_data_parameters')">get_attempt_data_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l970"><span class="linenum"> 970</span></a>  
<a name="l971"><span class="linenum"> 971</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>) = self::<a class="function" onClick="logFunction('validate_attempt')" href="../../../_functions/validate_attempt.html" onMouseOver="funcPopup(event,'validate_attempt')">validate_attempt</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l972"><span class="linenum"> 972</span></a>  
<a name="l973"><span class="linenum"> 973</span></a>          if (<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('is_last_page')" href="../../../_functions/is_last_page.html" onMouseOver="funcPopup(event,'is_last_page')">is_last_page</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page'])) {
<a name="l974"><span class="linenum"> 974</span></a>              <a class="var it6241" onMouseOver="hilite(6241)" onMouseOut="lolite()" onClick="logVariable('nextpage')" href="../../../_variables/nextpage.html">$nextpage</a> = -1;
<a name="l975"><span class="linenum"> 975</span></a>          } else {
<a name="l976"><span class="linenum"> 976</span></a>              <a class="var it6241" onMouseOver="hilite(6241)" onMouseOut="lolite()" onClick="logVariable('nextpage')" href="../../../_variables/nextpage.html">$nextpage</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page'] + 1;
<a name="l977"><span class="linenum"> 977</span></a>          }
<a name="l978"><span class="linenum"> 978</span></a>  
<a name="l979"><span class="linenum"> 979</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l980"><span class="linenum"> 980</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['attempt'] = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_attempt')" href="../../../_functions/get_attempt.html" onMouseOver="funcPopup(event,'get_attempt')">get_attempt</a>();
<a name="l981"><span class="linenum"> 981</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['messages'] = <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>;
<a name="l982"><span class="linenum"> 982</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['nextpage'] = <a class="var it6241" onMouseOver="hilite(6241)" onMouseOut="lolite()" onClick="logVariable('nextpage')" href="../../../_variables/nextpage.html">$nextpage</a>;
<a name="l983"><span class="linenum"> 983</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l984"><span class="linenum"> 984</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['questions'] = self::<a class="function" onClick="logFunction('get_attempt_questions_data')" href="../../../_functions/get_attempt_questions_data.html" onMouseOver="funcPopup(event,'get_attempt_questions_data')">get_attempt_questions_data</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, false, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page']);
<a name="l985"><span class="linenum"> 985</span></a>  
<a name="l986"><span class="linenum"> 986</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l987"><span class="linenum"> 987</span></a>      }
<a name="l988"><span class="linenum"> 988</span></a>  
<a name="l989"><span class="linenum"> 989</span></a>      <span class="comment">/**</span>
<a name="l990"><span class="linenum"> 990</span></a>  <span class="comment">     * Describes the get_attempt_data return value.</span>
<a name="l991"><span class="linenum"> 991</span></a>  <span class="comment">     *</span>
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">     */</span>
<a name="l995"><span class="linenum"> 995</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_data_returns')" href="../../../_functions/get_attempt_data_returns.html" onMouseOver="funcPopup(event,'get_attempt_data_returns')">get_attempt_data_returns</a>() {
<a name="l996"><span class="linenum"> 996</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l997"><span class="linenum"> 997</span></a>              array(
<a name="l998"><span class="linenum"> 998</span></a>                  'attempt' =&gt; self::<a class="function" onClick="logFunction('attempt_structure')" href="../../../_functions/attempt_structure.html" onMouseOver="funcPopup(event,'attempt_structure')">attempt_structure</a>(),
<a name="l999"><span class="linenum"> 999</span></a>                  'messages' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1000"><span class="linenum">1000</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'access message'),
<a name="l1001"><span class="linenum">1001</span></a>                      'access messages, will only be returned for users with mod/quiz:preview capability,
<a name="l1002"><span class="linenum">1002</span></a>                      for other users this method will throw an exception if there are messages'),
<a name="l1003"><span class="linenum">1003</span></a>                  'nextpage' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'next page number'),
<a name="l1004"><span class="linenum">1004</span></a>                  'questions' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('question_structure')" href="../../../_functions/question_structure.html" onMouseOver="funcPopup(event,'question_structure')">question_structure</a>()),
<a name="l1005"><span class="linenum">1005</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1006"><span class="linenum">1006</span></a>              )
<a name="l1007"><span class="linenum">1007</span></a>          );
<a name="l1008"><span class="linenum">1008</span></a>      }
<a name="l1009"><span class="linenum">1009</span></a>  
<a name="l1010"><span class="linenum">1010</span></a>      <span class="comment">/**</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment">     * Describes the parameters for get_attempt_summary.</span>
<a name="l1012"><span class="linenum">1012</span></a>  <span class="comment">     *</span>
<a name="l1013"><span class="linenum">1013</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1014"><span class="linenum">1014</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1015"><span class="linenum">1015</span></a>  <span class="comment">     */</span>
<a name="l1016"><span class="linenum">1016</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_summary_parameters')" href="../../../_functions/get_attempt_summary_parameters.html" onMouseOver="funcPopup(event,'get_attempt_summary_parameters')">get_attempt_summary_parameters</a>() {
<a name="l1017"><span class="linenum">1017</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1018"><span class="linenum">1018</span></a>              array(
<a name="l1019"><span class="linenum">1019</span></a>                  'attemptid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt id'),
<a name="l1020"><span class="linenum">1020</span></a>                  'preflightdata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1021"><span class="linenum">1021</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1022"><span class="linenum">1022</span></a>                          array(
<a name="l1023"><span class="linenum">1023</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'data name'),
<a name="l1024"><span class="linenum">1024</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data value'),
<a name="l1025"><span class="linenum">1025</span></a>                          )
<a name="l1026"><span class="linenum">1026</span></a>                      ), 'Preflight required <a class="function" onClick="logFunction('data')" href="../../../_functions/data.html" onMouseOver="funcPopup(event,'data')">data</a> (like passwords)', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l1027"><span class="linenum">1027</span></a>                  )
<a name="l1028"><span class="linenum">1028</span></a>              )
<a name="l1029"><span class="linenum">1029</span></a>          );
<a name="l1030"><span class="linenum">1030</span></a>      }
<a name="l1031"><span class="linenum">1031</span></a>  
<a name="l1032"><span class="linenum">1032</span></a>      <span class="comment">/**</span>
<a name="l1033"><span class="linenum">1033</span></a>  <span class="comment">     * Returns a summary of a quiz attempt before it is submitted.</span>
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment">     *</span>
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment">     * @param int $attemptid attempt id</span>
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment">     * @param int $preflightdata preflight required data (like passwords)</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">     * @return array of warnings and the attempt summary data for each question</span>
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment">     */</span>
<a name="l1040"><span class="linenum">1040</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_summary')" href="../../../_functions/get_attempt_summary.html" onMouseOver="funcPopup(event,'get_attempt_summary')">get_attempt_summary</a>(<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>, <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a> = array()) {
<a name="l1041"><span class="linenum">1041</span></a>  
<a name="l1042"><span class="linenum">1042</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1043"><span class="linenum">1043</span></a>  
<a name="l1044"><span class="linenum">1044</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1045"><span class="linenum">1045</span></a>              'attemptid' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>,
<a name="l1046"><span class="linenum">1046</span></a>              'preflightdata' =&gt; <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a>,
<a name="l1047"><span class="linenum">1047</span></a>          );
<a name="l1048"><span class="linenum">1048</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_attempt_summary_parameters')" href="../../../_functions/get_attempt_summary_parameters.html" onMouseOver="funcPopup(event,'get_attempt_summary_parameters')">get_attempt_summary_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1049"><span class="linenum">1049</span></a>  
<a name="l1050"><span class="linenum">1050</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>) = self::<a class="function" onClick="logFunction('validate_attempt')" href="../../../_functions/validate_attempt.html" onMouseOver="funcPopup(event,'validate_attempt')">validate_attempt</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>, true, false);
<a name="l1051"><span class="linenum">1051</span></a>  
<a name="l1052"><span class="linenum">1052</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1053"><span class="linenum">1053</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1054"><span class="linenum">1054</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['questions'] = self::<a class="function" onClick="logFunction('get_attempt_questions_data')" href="../../../_functions/get_attempt_questions_data.html" onMouseOver="funcPopup(event,'get_attempt_questions_data')">get_attempt_questions_data</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, false, 'all');
<a name="l1055"><span class="linenum">1055</span></a>  
<a name="l1056"><span class="linenum">1056</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1057"><span class="linenum">1057</span></a>      }
<a name="l1058"><span class="linenum">1058</span></a>  
<a name="l1059"><span class="linenum">1059</span></a>      <span class="comment">/**</span>
<a name="l1060"><span class="linenum">1060</span></a>  <span class="comment">     * Describes the get_attempt_summary return value.</span>
<a name="l1061"><span class="linenum">1061</span></a>  <span class="comment">     *</span>
<a name="l1062"><span class="linenum">1062</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1063"><span class="linenum">1063</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1064"><span class="linenum">1064</span></a>  <span class="comment">     */</span>
<a name="l1065"><span class="linenum">1065</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_summary_returns')" href="../../../_functions/get_attempt_summary_returns.html" onMouseOver="funcPopup(event,'get_attempt_summary_returns')">get_attempt_summary_returns</a>() {
<a name="l1066"><span class="linenum">1066</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1067"><span class="linenum">1067</span></a>              array(
<a name="l1068"><span class="linenum">1068</span></a>                  'questions' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('question_structure')" href="../../../_functions/question_structure.html" onMouseOver="funcPopup(event,'question_structure')">question_structure</a>()),
<a name="l1069"><span class="linenum">1069</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1070"><span class="linenum">1070</span></a>              )
<a name="l1071"><span class="linenum">1071</span></a>          );
<a name="l1072"><span class="linenum">1072</span></a>      }
<a name="l1073"><span class="linenum">1073</span></a>  
<a name="l1074"><span class="linenum">1074</span></a>      <span class="comment">/**</span>
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment">     * Describes the parameters for save_attempt.</span>
<a name="l1076"><span class="linenum">1076</span></a>  <span class="comment">     *</span>
<a name="l1077"><span class="linenum">1077</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1078"><span class="linenum">1078</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1079"><span class="linenum">1079</span></a>  <span class="comment">     */</span>
<a name="l1080"><span class="linenum">1080</span></a>      public static function <a class="function" onClick="logFunction('save_attempt_parameters')" href="../../../_functions/save_attempt_parameters.html" onMouseOver="funcPopup(event,'save_attempt_parameters')">save_attempt_parameters</a>() {
<a name="l1081"><span class="linenum">1081</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1082"><span class="linenum">1082</span></a>              array(
<a name="l1083"><span class="linenum">1083</span></a>                  'attemptid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt id'),
<a name="l1084"><span class="linenum">1084</span></a>                  'data' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1085"><span class="linenum">1085</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1086"><span class="linenum">1086</span></a>                          array(
<a name="l1087"><span class="linenum">1087</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data name'),
<a name="l1088"><span class="linenum">1088</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data value'),
<a name="l1089"><span class="linenum">1089</span></a>                          )
<a name="l1090"><span class="linenum">1090</span></a>                      ), 'the data to be saved'
<a name="l1091"><span class="linenum">1091</span></a>                  ),
<a name="l1092"><span class="linenum">1092</span></a>                  'preflightdata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1093"><span class="linenum">1093</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1094"><span class="linenum">1094</span></a>                          array(
<a name="l1095"><span class="linenum">1095</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'data name'),
<a name="l1096"><span class="linenum">1096</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data value'),
<a name="l1097"><span class="linenum">1097</span></a>                          )
<a name="l1098"><span class="linenum">1098</span></a>                      ), 'Preflight required <a class="function" onClick="logFunction('data')" href="../../../_functions/data.html" onMouseOver="funcPopup(event,'data')">data</a> (like passwords)', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l1099"><span class="linenum">1099</span></a>                  )
<a name="l1100"><span class="linenum">1100</span></a>              )
<a name="l1101"><span class="linenum">1101</span></a>          );
<a name="l1102"><span class="linenum">1102</span></a>      }
<a name="l1103"><span class="linenum">1103</span></a>  
<a name="l1104"><span class="linenum">1104</span></a>      <span class="comment">/**</span>
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment">     * Processes save requests during the quiz. This function is intended for the quiz auto-save feature.</span>
<a name="l1106"><span class="linenum">1106</span></a>  <span class="comment">     *</span>
<a name="l1107"><span class="linenum">1107</span></a>  <span class="comment">     * @param int $attemptid attempt id</span>
<a name="l1108"><span class="linenum">1108</span></a>  <span class="comment">     * @param array $data the data to be saved</span>
<a name="l1109"><span class="linenum">1109</span></a>  <span class="comment">     * @param  array $preflightdata preflight required data (like passwords)</span>
<a name="l1110"><span class="linenum">1110</span></a>  <span class="comment">     * @return array of warnings and execution result</span>
<a name="l1111"><span class="linenum">1111</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1112"><span class="linenum">1112</span></a>  <span class="comment">     */</span>
<a name="l1113"><span class="linenum">1113</span></a>      public static function <a class="function" onClick="logFunction('save_attempt')" href="../../../_functions/save_attempt.html" onMouseOver="funcPopup(event,'save_attempt')">save_attempt</a>(<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>, <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a> = array()) {
<a name="l1114"><span class="linenum">1114</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l1115"><span class="linenum">1115</span></a>  
<a name="l1116"><span class="linenum">1116</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1117"><span class="linenum">1117</span></a>  
<a name="l1118"><span class="linenum">1118</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1119"><span class="linenum">1119</span></a>              'attemptid' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>,
<a name="l1120"><span class="linenum">1120</span></a>              'data' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>,
<a name="l1121"><span class="linenum">1121</span></a>              'preflightdata' =&gt; <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a>,
<a name="l1122"><span class="linenum">1122</span></a>          );
<a name="l1123"><span class="linenum">1123</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('save_attempt_parameters')" href="../../../_functions/save_attempt_parameters.html" onMouseOver="funcPopup(event,'save_attempt_parameters')">save_attempt_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1124"><span class="linenum">1124</span></a>  
<a name="l1125"><span class="linenum">1125</span></a>  <span class="comment">        // Add a page, required by validate_attempt.</span>
<a name="l1126"><span class="linenum">1126</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>) = self::<a class="function" onClick="logFunction('validate_attempt')" href="../../../_functions/validate_attempt.html" onMouseOver="funcPopup(event,'validate_attempt')">validate_attempt</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1127"><span class="linenum">1127</span></a>  
<a name="l1128"><span class="linenum">1128</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../../_variables/transaction.html">$transaction</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../../../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">        // Create the $_POST object required by the question engine.</span>
<a name="l1130"><span class="linenum">1130</span></a>          <a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../_variables/_POST.html">$_POST</a> = array();
<a name="l1131"><span class="linenum">1131</span></a>          foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a> as <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../_variables/element.html">$element</a>) {
<a name="l1132"><span class="linenum">1132</span></a>              <a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../_variables/_POST.html">$_POST</a>[<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../_variables/element.html">$element</a>['name']] = <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../_variables/element.html">$element</a>['value'];
<a name="l1133"><span class="linenum">1133</span></a>          }
<a name="l1134"><span class="linenum">1134</span></a>          <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l1135"><span class="linenum">1135</span></a>          <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('process_auto_save')" href="../../../_functions/process_auto_save.html" onMouseOver="funcPopup(event,'process_auto_save')">process_auto_save</a>(<a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a>);
<a name="l1136"><span class="linenum">1136</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../../../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l1137"><span class="linenum">1137</span></a>  
<a name="l1138"><span class="linenum">1138</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1139"><span class="linenum">1139</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['status'] = true;
<a name="l1140"><span class="linenum">1140</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1141"><span class="linenum">1141</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1142"><span class="linenum">1142</span></a>      }
<a name="l1143"><span class="linenum">1143</span></a>  
<a name="l1144"><span class="linenum">1144</span></a>      <span class="comment">/**</span>
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment">     * Describes the save_attempt return value.</span>
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment">     *</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment">     */</span>
<a name="l1150"><span class="linenum">1150</span></a>      public static function <a class="function" onClick="logFunction('save_attempt_returns')" href="../../../_functions/save_attempt_returns.html" onMouseOver="funcPopup(event,'save_attempt_returns')">save_attempt_returns</a>() {
<a name="l1151"><span class="linenum">1151</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1152"><span class="linenum">1152</span></a>              array(
<a name="l1153"><span class="linenum">1153</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l1154"><span class="linenum">1154</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1155"><span class="linenum">1155</span></a>              )
<a name="l1156"><span class="linenum">1156</span></a>          );
<a name="l1157"><span class="linenum">1157</span></a>      }
<a name="l1158"><span class="linenum">1158</span></a>  
<a name="l1159"><span class="linenum">1159</span></a>      <span class="comment">/**</span>
<a name="l1160"><span class="linenum">1160</span></a>  <span class="comment">     * Describes the parameters for process_attempt.</span>
<a name="l1161"><span class="linenum">1161</span></a>  <span class="comment">     *</span>
<a name="l1162"><span class="linenum">1162</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1163"><span class="linenum">1163</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1164"><span class="linenum">1164</span></a>  <span class="comment">     */</span>
<a name="l1165"><span class="linenum">1165</span></a>      public static function <a class="function" onClick="logFunction('process_attempt_parameters')" href="../../../_functions/process_attempt_parameters.html" onMouseOver="funcPopup(event,'process_attempt_parameters')">process_attempt_parameters</a>() {
<a name="l1166"><span class="linenum">1166</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1167"><span class="linenum">1167</span></a>              array(
<a name="l1168"><span class="linenum">1168</span></a>                  'attemptid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt id'),
<a name="l1169"><span class="linenum">1169</span></a>                  'data' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1170"><span class="linenum">1170</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1171"><span class="linenum">1171</span></a>                          array(
<a name="l1172"><span class="linenum">1172</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data name'),
<a name="l1173"><span class="linenum">1173</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data value'),
<a name="l1174"><span class="linenum">1174</span></a>                          )
<a name="l1175"><span class="linenum">1175</span></a>                      ),
<a name="l1176"><span class="linenum">1176</span></a>                      'the data to be saved', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l1177"><span class="linenum">1177</span></a>                  ),
<a name="l1178"><span class="linenum">1178</span></a>                  'finishattempt' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'whether to finish or not the attempt', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, false),
<a name="l1179"><span class="linenum">1179</span></a>                  'timeup' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'whether the WS was called by a timer when the time is up',
<a name="l1180"><span class="linenum">1180</span></a>                                                  <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, false),
<a name="l1181"><span class="linenum">1181</span></a>                  'preflightdata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1182"><span class="linenum">1182</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1183"><span class="linenum">1183</span></a>                          array(
<a name="l1184"><span class="linenum">1184</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'data name'),
<a name="l1185"><span class="linenum">1185</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data value'),
<a name="l1186"><span class="linenum">1186</span></a>                          )
<a name="l1187"><span class="linenum">1187</span></a>                      ), 'Preflight required <a class="function" onClick="logFunction('data')" href="../../../_functions/data.html" onMouseOver="funcPopup(event,'data')">data</a> (like passwords)', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l1188"><span class="linenum">1188</span></a>                  )
<a name="l1189"><span class="linenum">1189</span></a>              )
<a name="l1190"><span class="linenum">1190</span></a>          );
<a name="l1191"><span class="linenum">1191</span></a>      }
<a name="l1192"><span class="linenum">1192</span></a>  
<a name="l1193"><span class="linenum">1193</span></a>      <span class="comment">/**</span>
<a name="l1194"><span class="linenum">1194</span></a>  <span class="comment">     * Process responses during an attempt at a quiz and also deals with attempts finishing.</span>
<a name="l1195"><span class="linenum">1195</span></a>  <span class="comment">     *</span>
<a name="l1196"><span class="linenum">1196</span></a>  <span class="comment">     * @param int $attemptid attempt id</span>
<a name="l1197"><span class="linenum">1197</span></a>  <span class="comment">     * @param array $data the data to be saved</span>
<a name="l1198"><span class="linenum">1198</span></a>  <span class="comment">     * @param bool $finishattempt whether to finish or not the attempt</span>
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment">     * @param bool $timeup whether the WS was called by a timer when the time is up</span>
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment">     * @param array $preflightdata preflight required data (like passwords)</span>
<a name="l1201"><span class="linenum">1201</span></a>  <span class="comment">     * @return array of warnings and the attempt state after the processing</span>
<a name="l1202"><span class="linenum">1202</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1203"><span class="linenum">1203</span></a>  <span class="comment">     */</span>
<a name="l1204"><span class="linenum">1204</span></a>      public static function <a class="function" onClick="logFunction('process_attempt')" href="../../../_functions/process_attempt.html" onMouseOver="funcPopup(event,'process_attempt')">process_attempt</a>(<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>, <a class="var it6242" onMouseOver="hilite(6242)" onMouseOut="lolite()" onClick="logVariable('finishattempt')" href="../../../_variables/finishattempt.html">$finishattempt</a> = false, <a class="var it6243" onMouseOver="hilite(6243)" onMouseOut="lolite()" onClick="logVariable('timeup')" href="../../../_variables/timeup.html">$timeup</a> = false, <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a> = array()) {
<a name="l1205"><span class="linenum">1205</span></a>  
<a name="l1206"><span class="linenum">1206</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1207"><span class="linenum">1207</span></a>  
<a name="l1208"><span class="linenum">1208</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1209"><span class="linenum">1209</span></a>              'attemptid' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>,
<a name="l1210"><span class="linenum">1210</span></a>              'data' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>,
<a name="l1211"><span class="linenum">1211</span></a>              'finishattempt' =&gt; <a class="var it6242" onMouseOver="hilite(6242)" onMouseOut="lolite()" onClick="logVariable('finishattempt')" href="../../../_variables/finishattempt.html">$finishattempt</a>,
<a name="l1212"><span class="linenum">1212</span></a>              'timeup' =&gt; <a class="var it6243" onMouseOver="hilite(6243)" onMouseOut="lolite()" onClick="logVariable('timeup')" href="../../../_variables/timeup.html">$timeup</a>,
<a name="l1213"><span class="linenum">1213</span></a>              'preflightdata' =&gt; <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a>,
<a name="l1214"><span class="linenum">1214</span></a>          );
<a name="l1215"><span class="linenum">1215</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('process_attempt_parameters')" href="../../../_functions/process_attempt_parameters.html" onMouseOver="funcPopup(event,'process_attempt_parameters')">process_attempt_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1216"><span class="linenum">1216</span></a>  
<a name="l1217"><span class="linenum">1217</span></a>  <span class="comment">        // Do not check access manager rules.</span>
<a name="l1218"><span class="linenum">1218</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>) = self::<a class="function" onClick="logFunction('validate_attempt')" href="../../../_functions/validate_attempt.html" onMouseOver="funcPopup(event,'validate_attempt')">validate_attempt</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>, false);
<a name="l1219"><span class="linenum">1219</span></a>  
<a name="l1220"><span class="linenum">1220</span></a>  <span class="comment">        // Create the $_POST object required by the question engine.</span>
<a name="l1221"><span class="linenum">1221</span></a>          <a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../_variables/_POST.html">$_POST</a> = array();
<a name="l1222"><span class="linenum">1222</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['data'] as <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../_variables/element.html">$element</a>) {
<a name="l1223"><span class="linenum">1223</span></a>              <a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../_variables/_POST.html">$_POST</a>[<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../_variables/element.html">$element</a>['name']] = <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../_variables/element.html">$element</a>['value'];
<a name="l1224"><span class="linenum">1224</span></a>          }
<a name="l1225"><span class="linenum">1225</span></a>          <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l1226"><span class="linenum">1226</span></a>          <a class="var it6242" onMouseOver="hilite(6242)" onMouseOut="lolite()" onClick="logVariable('finishattempt')" href="../../../_variables/finishattempt.html">$finishattempt</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['finishattempt'];
<a name="l1227"><span class="linenum">1227</span></a>          <a class="var it6243" onMouseOver="hilite(6243)" onMouseOut="lolite()" onClick="logVariable('timeup')" href="../../../_variables/timeup.html">$timeup</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['timeup'];
<a name="l1228"><span class="linenum">1228</span></a>  
<a name="l1229"><span class="linenum">1229</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1230"><span class="linenum">1230</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['state'] = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('process_attempt')" href="../../../_functions/process_attempt.html" onMouseOver="funcPopup(event,'process_attempt')">process_attempt</a>(<a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a>, <a class="var it6242" onMouseOver="hilite(6242)" onMouseOut="lolite()" onClick="logVariable('finishattempt')" href="../../../_variables/finishattempt.html">$finishattempt</a>, <a class="var it6243" onMouseOver="hilite(6243)" onMouseOut="lolite()" onClick="logVariable('timeup')" href="../../../_variables/timeup.html">$timeup</a>, 0);
<a name="l1231"><span class="linenum">1231</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1232"><span class="linenum">1232</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1233"><span class="linenum">1233</span></a>      }
<a name="l1234"><span class="linenum">1234</span></a>  
<a name="l1235"><span class="linenum">1235</span></a>      <span class="comment">/**</span>
<a name="l1236"><span class="linenum">1236</span></a>  <span class="comment">     * Describes the process_attempt return value.</span>
<a name="l1237"><span class="linenum">1237</span></a>  <span class="comment">     *</span>
<a name="l1238"><span class="linenum">1238</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1239"><span class="linenum">1239</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1240"><span class="linenum">1240</span></a>  <span class="comment">     */</span>
<a name="l1241"><span class="linenum">1241</span></a>      public static function <a class="function" onClick="logFunction('process_attempt_returns')" href="../../../_functions/process_attempt_returns.html" onMouseOver="funcPopup(event,'process_attempt_returns')">process_attempt_returns</a>() {
<a name="l1242"><span class="linenum">1242</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1243"><span class="linenum">1243</span></a>              array(
<a name="l1244"><span class="linenum">1244</span></a>                  'state' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'state: the new attempt state:
<a name="l1245"><span class="linenum">1245</span></a>                                                                      inprogress, finished, overdue, abandoned'),
<a name="l1246"><span class="linenum">1246</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1247"><span class="linenum">1247</span></a>              )
<a name="l1248"><span class="linenum">1248</span></a>          );
<a name="l1249"><span class="linenum">1249</span></a>      }
<a name="l1250"><span class="linenum">1250</span></a>  
<a name="l1251"><span class="linenum">1251</span></a>      <span class="comment">/**</span>
<a name="l1252"><span class="linenum">1252</span></a>  <span class="comment">     * Validate an attempt finished for review. The attempt would be reviewed by a user or a teacher.</span>
<a name="l1253"><span class="linenum">1253</span></a>  <span class="comment">     *</span>
<a name="l1254"><span class="linenum">1254</span></a>  <span class="comment">     * @param  array $params Array of parameters including the attemptid</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment">     * @return  array containing the attempt object and display options</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment">     * @since  Moodle 3.1</span>
<a name="l1257"><span class="linenum">1257</span></a>  <span class="comment">     * @throws  moodle_exception</span>
<a name="l1258"><span class="linenum">1258</span></a>  <span class="comment">     * @throws  moodle_quiz_exception</span>
<a name="l1259"><span class="linenum">1259</span></a>  <span class="comment">     */</span>
<a name="l1260"><span class="linenum">1260</span></a>      protected static function <a class="function" onClick="logFunction('validate_attempt_review')" href="../../../_functions/validate_attempt_review.html" onMouseOver="funcPopup(event,'validate_attempt_review')">validate_attempt_review</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>) {
<a name="l1261"><span class="linenum">1261</span></a>  
<a name="l1262"><span class="linenum">1262</span></a>          <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a> = <a class="class" onClick="logClass('quiz_attempt')" href="../../../_classes/quiz_attempt.html" onMouseOver="classPopup(event,'quiz_attempt')">quiz_attempt</a>::<a class="function" onClick="logFunction('create')" href="../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['attemptid']);
<a name="l1263"><span class="linenum">1263</span></a>          <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('check_review_capability')" href="../../../_functions/check_review_capability.html" onMouseOver="funcPopup(event,'check_review_capability')">check_review_capability</a>();
<a name="l1264"><span class="linenum">1264</span></a>  
<a name="l1265"><span class="linenum">1265</span></a>          <a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a> = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_display_options')" href="../../../_functions/get_display_options.html" onMouseOver="funcPopup(event,'get_display_options')">get_display_options</a>(true);
<a name="l1266"><span class="linenum">1266</span></a>          if (<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('is_own_attempt')" href="../../../_functions/is_own_attempt.html" onMouseOver="funcPopup(event,'is_own_attempt')">is_own_attempt</a>()) {
<a name="l1267"><span class="linenum">1267</span></a>              if (!<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('is_finished')" href="../../../_functions/is_finished.html" onMouseOver="funcPopup(event,'is_finished')">is_finished</a>()) {
<a name="l1268"><span class="linenum">1268</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'attemptclosed');
<a name="l1269"><span class="linenum">1269</span></a>              } else if (!<a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a>-&gt;<a onClick="logVariable('attempt')" class="var it43542" onMouseOver="hilite(43542)" onMouseOut="lolite()" href="../../../_variables/attempt.html">attempt</a>) {
<a name="l1270"><span class="linenum">1270</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('cannot_review_message')" href="../../../_functions/cannot_review_message.html" onMouseOver="funcPopup(event,'cannot_review_message')">cannot_review_message</a>());
<a name="l1271"><span class="linenum">1271</span></a>              }
<a name="l1272"><span class="linenum">1272</span></a>          } else if (!<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('is_review_allowed')" href="../../../_functions/is_review_allowed.html" onMouseOver="funcPopup(event,'is_review_allowed')">is_review_allowed</a>()) {
<a name="l1273"><span class="linenum">1273</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'noreviewattempt');
<a name="l1274"><span class="linenum">1274</span></a>          }
<a name="l1275"><span class="linenum">1275</span></a>          return array(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a>);
<a name="l1276"><span class="linenum">1276</span></a>      }
<a name="l1277"><span class="linenum">1277</span></a>  
<a name="l1278"><span class="linenum">1278</span></a>      <span class="comment">/**</span>
<a name="l1279"><span class="linenum">1279</span></a>  <span class="comment">     * Describes the parameters for get_attempt_review.</span>
<a name="l1280"><span class="linenum">1280</span></a>  <span class="comment">     *</span>
<a name="l1281"><span class="linenum">1281</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1282"><span class="linenum">1282</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1283"><span class="linenum">1283</span></a>  <span class="comment">     */</span>
<a name="l1284"><span class="linenum">1284</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_review_parameters')" href="../../../_functions/get_attempt_review_parameters.html" onMouseOver="funcPopup(event,'get_attempt_review_parameters')">get_attempt_review_parameters</a>() {
<a name="l1285"><span class="linenum">1285</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1286"><span class="linenum">1286</span></a>              array(
<a name="l1287"><span class="linenum">1287</span></a>                  'attemptid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt id'),
<a name="l1288"><span class="linenum">1288</span></a>                  'page' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'page number, empty for all the questions in all the pages',
<a name="l1289"><span class="linenum">1289</span></a>                                                  <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, -1),
<a name="l1290"><span class="linenum">1290</span></a>              )
<a name="l1291"><span class="linenum">1291</span></a>          );
<a name="l1292"><span class="linenum">1292</span></a>      }
<a name="l1293"><span class="linenum">1293</span></a>  
<a name="l1294"><span class="linenum">1294</span></a>      <span class="comment">/**</span>
<a name="l1295"><span class="linenum">1295</span></a>  <span class="comment">     * Returns review information for the given finished attempt, can be used by users or teachers.</span>
<a name="l1296"><span class="linenum">1296</span></a>  <span class="comment">     *</span>
<a name="l1297"><span class="linenum">1297</span></a>  <span class="comment">     * @param int $attemptid attempt id</span>
<a name="l1298"><span class="linenum">1298</span></a>  <span class="comment">     * @param int $page page number, empty for all the questions in all the pages</span>
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment">     * @return array of warnings and the attempt data, feedback and questions</span>
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1301"><span class="linenum">1301</span></a>  <span class="comment">     * @throws  moodle_exception</span>
<a name="l1302"><span class="linenum">1302</span></a>  <span class="comment">     * @throws  moodle_quiz_exception</span>
<a name="l1303"><span class="linenum">1303</span></a>  <span class="comment">     */</span>
<a name="l1304"><span class="linenum">1304</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_review')" href="../../../_functions/get_attempt_review.html" onMouseOver="funcPopup(event,'get_attempt_review')">get_attempt_review</a>(<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = -1) {
<a name="l1305"><span class="linenum">1305</span></a>          global <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>;
<a name="l1306"><span class="linenum">1306</span></a>  
<a name="l1307"><span class="linenum">1307</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1308"><span class="linenum">1308</span></a>  
<a name="l1309"><span class="linenum">1309</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1310"><span class="linenum">1310</span></a>              'attemptid' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>,
<a name="l1311"><span class="linenum">1311</span></a>              'page' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>,
<a name="l1312"><span class="linenum">1312</span></a>          );
<a name="l1313"><span class="linenum">1313</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_attempt_review_parameters')" href="../../../_functions/get_attempt_review_parameters.html" onMouseOver="funcPopup(event,'get_attempt_review_parameters')">get_attempt_review_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1314"><span class="linenum">1314</span></a>  
<a name="l1315"><span class="linenum">1315</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a>) = self::<a class="function" onClick="logFunction('validate_attempt_review')" href="../../../_functions/validate_attempt_review.html" onMouseOver="funcPopup(event,'validate_attempt_review')">validate_attempt_review</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1316"><span class="linenum">1316</span></a>  
<a name="l1317"><span class="linenum">1317</span></a>          if (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page'] !== -1) {
<a name="l1318"><span class="linenum">1318</span></a>              <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('force_page_number_into_range')" href="../../../_functions/force_page_number_into_range.html" onMouseOver="funcPopup(event,'force_page_number_into_range')">force_page_number_into_range</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page']);
<a name="l1319"><span class="linenum">1319</span></a>          } else {
<a name="l1320"><span class="linenum">1320</span></a>              <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = 'all';
<a name="l1321"><span class="linenum">1321</span></a>          }
<a name="l1322"><span class="linenum">1322</span></a>  
<a name="l1323"><span class="linenum">1323</span></a>  <span class="comment">        // Prepare the output.</span>
<a name="l1324"><span class="linenum">1324</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1325"><span class="linenum">1325</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['attempt'] = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_attempt')" href="../../../_functions/get_attempt.html" onMouseOver="funcPopup(event,'get_attempt')">get_attempt</a>();
<a name="l1326"><span class="linenum">1326</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['questions'] = self::<a class="function" onClick="logFunction('get_attempt_questions_data')" href="../../../_functions/get_attempt_questions_data.html" onMouseOver="funcPopup(event,'get_attempt_questions_data')">get_attempt_questions_data</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, true, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>, true);
<a name="l1327"><span class="linenum">1327</span></a>  
<a name="l1328"><span class="linenum">1328</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['additionaldata'] = array();
<a name="l1329"><span class="linenum">1329</span></a>  <span class="comment">        // Summary data (from behaviours).</span>
<a name="l1330"><span class="linenum">1330</span></a>          <a class="var it4446" onMouseOver="hilite(4446)" onMouseOut="lolite()" onClick="logVariable('summarydata')" href="../../../_variables/summarydata.html">$summarydata</a> = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_additional_summary_data')" href="../../../_functions/get_additional_summary_data.html" onMouseOver="funcPopup(event,'get_additional_summary_data')">get_additional_summary_data</a>(<a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a>);
<a name="l1331"><span class="linenum">1331</span></a>          foreach (<a class="var it4446" onMouseOver="hilite(4446)" onMouseOut="lolite()" onClick="logVariable('summarydata')" href="../../../_variables/summarydata.html">$summarydata</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>) {
<a name="l1332"><span class="linenum">1332</span></a>  <span class="comment">            // This text does not need formatting (no need for external_format_[string|text]).</span>
<a name="l1333"><span class="linenum">1333</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['additionaldata'][] = array(
<a name="l1334"><span class="linenum">1334</span></a>                  'id' =&gt; <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>,
<a name="l1335"><span class="linenum">1335</span></a>                  'title' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['title'], <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>()-&gt;<a class="function" onClick="logFunction('get_context')" href="../../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>()-&gt;id,
<a name="l1336"><span class="linenum">1336</span></a>                  'content' =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>['content'],
<a name="l1337"><span class="linenum">1337</span></a>              );
<a name="l1338"><span class="linenum">1338</span></a>          }
<a name="l1339"><span class="linenum">1339</span></a>  
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment">        // Feedback if there is any, and the user is allowed to see it now.</span>
<a name="l1341"><span class="linenum">1341</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../_variables/grade.html">$grade</a> = <a class="function" onClick="logFunction('quiz_rescale_grade')" href="../../../_functions/quiz_rescale_grade.html" onMouseOver="funcPopup(event,'quiz_rescale_grade')">quiz_rescale_grade</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_attempt')" href="../../../_functions/get_attempt.html" onMouseOver="funcPopup(event,'get_attempt')">get_attempt</a>()-&gt;sumgrades, <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>(), false);
<a name="l1342"><span class="linenum">1342</span></a>  
<a name="l1343"><span class="linenum">1343</span></a>          <a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a> = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_overall_feedback')" href="../../../_functions/get_overall_feedback.html" onMouseOver="funcPopup(event,'get_overall_feedback')">get_overall_feedback</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../_variables/grade.html">$grade</a>);
<a name="l1344"><span class="linenum">1344</span></a>          if (<a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a>-&gt;<a onClick="logVariable('overallfeedback')" class="var it43542" onMouseOver="hilite(43542)" onMouseOut="lolite()" href="../../../_variables/overallfeedback.html">overallfeedback</a> &amp;&amp; <a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a>) {
<a name="l1345"><span class="linenum">1345</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['additionaldata'][] = array(
<a name="l1346"><span class="linenum">1346</span></a>                  'id' =&gt; 'feedback',
<a name="l1347"><span class="linenum">1347</span></a>                  'title' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('feedback', 'quiz'),
<a name="l1348"><span class="linenum">1348</span></a>                  'content' =&gt; <a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a>,
<a name="l1349"><span class="linenum">1349</span></a>              );
<a name="l1350"><span class="linenum">1350</span></a>          }
<a name="l1351"><span class="linenum">1351</span></a>  
<a name="l1352"><span class="linenum">1352</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['grade'] = <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../_variables/grade.html">$grade</a>;
<a name="l1353"><span class="linenum">1353</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1354"><span class="linenum">1354</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1355"><span class="linenum">1355</span></a>      }
<a name="l1356"><span class="linenum">1356</span></a>  
<a name="l1357"><span class="linenum">1357</span></a>      <span class="comment">/**</span>
<a name="l1358"><span class="linenum">1358</span></a>  <span class="comment">     * Describes the get_attempt_review return value.</span>
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">     *</span>
<a name="l1360"><span class="linenum">1360</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1361"><span class="linenum">1361</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1362"><span class="linenum">1362</span></a>  <span class="comment">     */</span>
<a name="l1363"><span class="linenum">1363</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_review_returns')" href="../../../_functions/get_attempt_review_returns.html" onMouseOver="funcPopup(event,'get_attempt_review_returns')">get_attempt_review_returns</a>() {
<a name="l1364"><span class="linenum">1364</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1365"><span class="linenum">1365</span></a>              array(
<a name="l1366"><span class="linenum">1366</span></a>                  'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'grade for the quiz (or empty or &quot;notyetgraded&quot;)'),
<a name="l1367"><span class="linenum">1367</span></a>                  'attempt' =&gt; self::<a class="function" onClick="logFunction('attempt_structure')" href="../../../_functions/attempt_structure.html" onMouseOver="funcPopup(event,'attempt_structure')">attempt_structure</a>(),
<a name="l1368"><span class="linenum">1368</span></a>                  'additionaldata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1369"><span class="linenum">1369</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1370"><span class="linenum">1370</span></a>                          array(
<a name="l1371"><span class="linenum">1371</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'id of the data'),
<a name="l1372"><span class="linenum">1372</span></a>                              'title' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'data title'),
<a name="l1373"><span class="linenum">1373</span></a>                              'content' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data content'),
<a name="l1374"><span class="linenum">1374</span></a>                          )
<a name="l1375"><span class="linenum">1375</span></a>                      )
<a name="l1376"><span class="linenum">1376</span></a>                  ),
<a name="l1377"><span class="linenum">1377</span></a>                  'questions' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('question_structure')" href="../../../_functions/question_structure.html" onMouseOver="funcPopup(event,'question_structure')">question_structure</a>()),
<a name="l1378"><span class="linenum">1378</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1379"><span class="linenum">1379</span></a>              )
<a name="l1380"><span class="linenum">1380</span></a>          );
<a name="l1381"><span class="linenum">1381</span></a>      }
<a name="l1382"><span class="linenum">1382</span></a>  
<a name="l1383"><span class="linenum">1383</span></a>      <span class="comment">/**</span>
<a name="l1384"><span class="linenum">1384</span></a>  <span class="comment">     * Describes the parameters for view_attempt.</span>
<a name="l1385"><span class="linenum">1385</span></a>  <span class="comment">     *</span>
<a name="l1386"><span class="linenum">1386</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1387"><span class="linenum">1387</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1388"><span class="linenum">1388</span></a>  <span class="comment">     */</span>
<a name="l1389"><span class="linenum">1389</span></a>      public static function <a class="function" onClick="logFunction('view_attempt_parameters')" href="../../../_functions/view_attempt_parameters.html" onMouseOver="funcPopup(event,'view_attempt_parameters')">view_attempt_parameters</a>() {
<a name="l1390"><span class="linenum">1390</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1391"><span class="linenum">1391</span></a>              array(
<a name="l1392"><span class="linenum">1392</span></a>                  'attemptid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt id'),
<a name="l1393"><span class="linenum">1393</span></a>                  'page' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'page number'),
<a name="l1394"><span class="linenum">1394</span></a>                  'preflightdata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1395"><span class="linenum">1395</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1396"><span class="linenum">1396</span></a>                          array(
<a name="l1397"><span class="linenum">1397</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'data name'),
<a name="l1398"><span class="linenum">1398</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data value'),
<a name="l1399"><span class="linenum">1399</span></a>                          )
<a name="l1400"><span class="linenum">1400</span></a>                      ), 'Preflight required <a class="function" onClick="logFunction('data')" href="../../../_functions/data.html" onMouseOver="funcPopup(event,'data')">data</a> (like passwords)', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l1401"><span class="linenum">1401</span></a>                  )
<a name="l1402"><span class="linenum">1402</span></a>              )
<a name="l1403"><span class="linenum">1403</span></a>          );
<a name="l1404"><span class="linenum">1404</span></a>      }
<a name="l1405"><span class="linenum">1405</span></a>  
<a name="l1406"><span class="linenum">1406</span></a>      <span class="comment">/**</span>
<a name="l1407"><span class="linenum">1407</span></a>  <span class="comment">     * Trigger the attempt viewed event.</span>
<a name="l1408"><span class="linenum">1408</span></a>  <span class="comment">     *</span>
<a name="l1409"><span class="linenum">1409</span></a>  <span class="comment">     * @param int $attemptid attempt id</span>
<a name="l1410"><span class="linenum">1410</span></a>  <span class="comment">     * @param int $page page number</span>
<a name="l1411"><span class="linenum">1411</span></a>  <span class="comment">     * @param array $preflightdata preflight required data (like passwords)</span>
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1414"><span class="linenum">1414</span></a>  <span class="comment">     */</span>
<a name="l1415"><span class="linenum">1415</span></a>      public static function <a class="function" onClick="logFunction('view_attempt')" href="../../../_functions/view_attempt.html" onMouseOver="funcPopup(event,'view_attempt')">view_attempt</a>(<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>, <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a> = array()) {
<a name="l1416"><span class="linenum">1416</span></a>  
<a name="l1417"><span class="linenum">1417</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1418"><span class="linenum">1418</span></a>  
<a name="l1419"><span class="linenum">1419</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1420"><span class="linenum">1420</span></a>              'attemptid' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>,
<a name="l1421"><span class="linenum">1421</span></a>              'page' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>,
<a name="l1422"><span class="linenum">1422</span></a>              'preflightdata' =&gt; <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a>,
<a name="l1423"><span class="linenum">1423</span></a>          );
<a name="l1424"><span class="linenum">1424</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_attempt_parameters')" href="../../../_functions/view_attempt_parameters.html" onMouseOver="funcPopup(event,'view_attempt_parameters')">view_attempt_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1425"><span class="linenum">1425</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>) = self::<a class="function" onClick="logFunction('validate_attempt')" href="../../../_functions/validate_attempt.html" onMouseOver="funcPopup(event,'validate_attempt')">validate_attempt</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1426"><span class="linenum">1426</span></a>  
<a name="l1427"><span class="linenum">1427</span></a>  <span class="comment">        // Log action.</span>
<a name="l1428"><span class="linenum">1428</span></a>          <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('fire_attempt_viewed_event')" href="../../../_functions/fire_attempt_viewed_event.html" onMouseOver="funcPopup(event,'fire_attempt_viewed_event')">fire_attempt_viewed_event</a>();
<a name="l1429"><span class="linenum">1429</span></a>  
<a name="l1430"><span class="linenum">1430</span></a>  <span class="comment">        // Update attempt page, throwing an exception if $page is not valid.</span>
<a name="l1431"><span class="linenum">1431</span></a>          if (!<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('set_currentpage')" href="../../../_functions/set_currentpage.html" onMouseOver="funcPopup(event,'set_currentpage')">set_currentpage</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['page'])) {
<a name="l1432"><span class="linenum">1432</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'Out of sequence access');
<a name="l1433"><span class="linenum">1433</span></a>          }
<a name="l1434"><span class="linenum">1434</span></a>  
<a name="l1435"><span class="linenum">1435</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1436"><span class="linenum">1436</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['status'] = true;
<a name="l1437"><span class="linenum">1437</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1438"><span class="linenum">1438</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1439"><span class="linenum">1439</span></a>      }
<a name="l1440"><span class="linenum">1440</span></a>  
<a name="l1441"><span class="linenum">1441</span></a>      <span class="comment">/**</span>
<a name="l1442"><span class="linenum">1442</span></a>  <span class="comment">     * Describes the view_attempt return value.</span>
<a name="l1443"><span class="linenum">1443</span></a>  <span class="comment">     *</span>
<a name="l1444"><span class="linenum">1444</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1445"><span class="linenum">1445</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1446"><span class="linenum">1446</span></a>  <span class="comment">     */</span>
<a name="l1447"><span class="linenum">1447</span></a>      public static function <a class="function" onClick="logFunction('view_attempt_returns')" href="../../../_functions/view_attempt_returns.html" onMouseOver="funcPopup(event,'view_attempt_returns')">view_attempt_returns</a>() {
<a name="l1448"><span class="linenum">1448</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1449"><span class="linenum">1449</span></a>              array(
<a name="l1450"><span class="linenum">1450</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l1451"><span class="linenum">1451</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1452"><span class="linenum">1452</span></a>              )
<a name="l1453"><span class="linenum">1453</span></a>          );
<a name="l1454"><span class="linenum">1454</span></a>      }
<a name="l1455"><span class="linenum">1455</span></a>  
<a name="l1456"><span class="linenum">1456</span></a>      <span class="comment">/**</span>
<a name="l1457"><span class="linenum">1457</span></a>  <span class="comment">     * Describes the parameters for view_attempt_summary.</span>
<a name="l1458"><span class="linenum">1458</span></a>  <span class="comment">     *</span>
<a name="l1459"><span class="linenum">1459</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1460"><span class="linenum">1460</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1461"><span class="linenum">1461</span></a>  <span class="comment">     */</span>
<a name="l1462"><span class="linenum">1462</span></a>      public static function <a class="function" onClick="logFunction('view_attempt_summary_parameters')" href="../../../_functions/view_attempt_summary_parameters.html" onMouseOver="funcPopup(event,'view_attempt_summary_parameters')">view_attempt_summary_parameters</a>() {
<a name="l1463"><span class="linenum">1463</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1464"><span class="linenum">1464</span></a>              array(
<a name="l1465"><span class="linenum">1465</span></a>                  'attemptid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt id'),
<a name="l1466"><span class="linenum">1466</span></a>                  'preflightdata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1467"><span class="linenum">1467</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1468"><span class="linenum">1468</span></a>                          array(
<a name="l1469"><span class="linenum">1469</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'data name'),
<a name="l1470"><span class="linenum">1470</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'data value'),
<a name="l1471"><span class="linenum">1471</span></a>                          )
<a name="l1472"><span class="linenum">1472</span></a>                      ), 'Preflight required <a class="function" onClick="logFunction('data')" href="../../../_functions/data.html" onMouseOver="funcPopup(event,'data')">data</a> (like passwords)', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l1473"><span class="linenum">1473</span></a>                  )
<a name="l1474"><span class="linenum">1474</span></a>              )
<a name="l1475"><span class="linenum">1475</span></a>          );
<a name="l1476"><span class="linenum">1476</span></a>      }
<a name="l1477"><span class="linenum">1477</span></a>  
<a name="l1478"><span class="linenum">1478</span></a>      <span class="comment">/**</span>
<a name="l1479"><span class="linenum">1479</span></a>  <span class="comment">     * Trigger the attempt summary viewed event.</span>
<a name="l1480"><span class="linenum">1480</span></a>  <span class="comment">     *</span>
<a name="l1481"><span class="linenum">1481</span></a>  <span class="comment">     * @param int $attemptid attempt id</span>
<a name="l1482"><span class="linenum">1482</span></a>  <span class="comment">     * @param array $preflightdata preflight required data (like passwords)</span>
<a name="l1483"><span class="linenum">1483</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l1484"><span class="linenum">1484</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1485"><span class="linenum">1485</span></a>  <span class="comment">     */</span>
<a name="l1486"><span class="linenum">1486</span></a>      public static function <a class="function" onClick="logFunction('view_attempt_summary')" href="../../../_functions/view_attempt_summary.html" onMouseOver="funcPopup(event,'view_attempt_summary')">view_attempt_summary</a>(<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>, <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a> = array()) {
<a name="l1487"><span class="linenum">1487</span></a>  
<a name="l1488"><span class="linenum">1488</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1489"><span class="linenum">1489</span></a>  
<a name="l1490"><span class="linenum">1490</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1491"><span class="linenum">1491</span></a>              'attemptid' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>,
<a name="l1492"><span class="linenum">1492</span></a>              'preflightdata' =&gt; <a class="var it6232" onMouseOver="hilite(6232)" onMouseOut="lolite()" onClick="logVariable('preflightdata')" href="../../../_variables/preflightdata.html">$preflightdata</a>,
<a name="l1493"><span class="linenum">1493</span></a>          );
<a name="l1494"><span class="linenum">1494</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_attempt_summary_parameters')" href="../../../_functions/view_attempt_summary_parameters.html" onMouseOver="funcPopup(event,'view_attempt_summary_parameters')">view_attempt_summary_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1495"><span class="linenum">1495</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('messages')" href="../../../_variables/messages.html">$messages</a>) = self::<a class="function" onClick="logFunction('validate_attempt')" href="../../../_functions/validate_attempt.html" onMouseOver="funcPopup(event,'validate_attempt')">validate_attempt</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1496"><span class="linenum">1496</span></a>  
<a name="l1497"><span class="linenum">1497</span></a>  <span class="comment">        // Log action.</span>
<a name="l1498"><span class="linenum">1498</span></a>          <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('fire_attempt_summary_viewed_event')" href="../../../_functions/fire_attempt_summary_viewed_event.html" onMouseOver="funcPopup(event,'fire_attempt_summary_viewed_event')">fire_attempt_summary_viewed_event</a>();
<a name="l1499"><span class="linenum">1499</span></a>  
<a name="l1500"><span class="linenum">1500</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1501"><span class="linenum">1501</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['status'] = true;
<a name="l1502"><span class="linenum">1502</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1503"><span class="linenum">1503</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1504"><span class="linenum">1504</span></a>      }
<a name="l1505"><span class="linenum">1505</span></a>  
<a name="l1506"><span class="linenum">1506</span></a>      <span class="comment">/**</span>
<a name="l1507"><span class="linenum">1507</span></a>  <span class="comment">     * Describes the view_attempt_summary return value.</span>
<a name="l1508"><span class="linenum">1508</span></a>  <span class="comment">     *</span>
<a name="l1509"><span class="linenum">1509</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1510"><span class="linenum">1510</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1511"><span class="linenum">1511</span></a>  <span class="comment">     */</span>
<a name="l1512"><span class="linenum">1512</span></a>      public static function <a class="function" onClick="logFunction('view_attempt_summary_returns')" href="../../../_functions/view_attempt_summary_returns.html" onMouseOver="funcPopup(event,'view_attempt_summary_returns')">view_attempt_summary_returns</a>() {
<a name="l1513"><span class="linenum">1513</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1514"><span class="linenum">1514</span></a>              array(
<a name="l1515"><span class="linenum">1515</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l1516"><span class="linenum">1516</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1517"><span class="linenum">1517</span></a>              )
<a name="l1518"><span class="linenum">1518</span></a>          );
<a name="l1519"><span class="linenum">1519</span></a>      }
<a name="l1520"><span class="linenum">1520</span></a>  
<a name="l1521"><span class="linenum">1521</span></a>      <span class="comment">/**</span>
<a name="l1522"><span class="linenum">1522</span></a>  <span class="comment">     * Describes the parameters for view_attempt_review.</span>
<a name="l1523"><span class="linenum">1523</span></a>  <span class="comment">     *</span>
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="comment">     */</span>
<a name="l1527"><span class="linenum">1527</span></a>      public static function <a class="function" onClick="logFunction('view_attempt_review_parameters')" href="../../../_functions/view_attempt_review_parameters.html" onMouseOver="funcPopup(event,'view_attempt_review_parameters')">view_attempt_review_parameters</a>() {
<a name="l1528"><span class="linenum">1528</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1529"><span class="linenum">1529</span></a>              array(
<a name="l1530"><span class="linenum">1530</span></a>                  'attemptid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt id'),
<a name="l1531"><span class="linenum">1531</span></a>              )
<a name="l1532"><span class="linenum">1532</span></a>          );
<a name="l1533"><span class="linenum">1533</span></a>      }
<a name="l1534"><span class="linenum">1534</span></a>  
<a name="l1535"><span class="linenum">1535</span></a>      <span class="comment">/**</span>
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment">     * Trigger the attempt reviewed event.</span>
<a name="l1537"><span class="linenum">1537</span></a>  <span class="comment">     *</span>
<a name="l1538"><span class="linenum">1538</span></a>  <span class="comment">     * @param int $attemptid attempt id</span>
<a name="l1539"><span class="linenum">1539</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l1540"><span class="linenum">1540</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1541"><span class="linenum">1541</span></a>  <span class="comment">     */</span>
<a name="l1542"><span class="linenum">1542</span></a>      public static function <a class="function" onClick="logFunction('view_attempt_review')" href="../../../_functions/view_attempt_review.html" onMouseOver="funcPopup(event,'view_attempt_review')">view_attempt_review</a>(<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>) {
<a name="l1543"><span class="linenum">1543</span></a>  
<a name="l1544"><span class="linenum">1544</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1545"><span class="linenum">1545</span></a>  
<a name="l1546"><span class="linenum">1546</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1547"><span class="linenum">1547</span></a>              'attemptid' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>,
<a name="l1548"><span class="linenum">1548</span></a>          );
<a name="l1549"><span class="linenum">1549</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_attempt_review_parameters')" href="../../../_functions/view_attempt_review_parameters.html" onMouseOver="funcPopup(event,'view_attempt_review_parameters')">view_attempt_review_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1550"><span class="linenum">1550</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>, <a class="var it4390" onMouseOver="hilite(4390)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../../../_variables/displayoptions.html">$displayoptions</a>) = self::<a class="function" onClick="logFunction('validate_attempt_review')" href="../../../_functions/validate_attempt_review.html" onMouseOver="funcPopup(event,'validate_attempt_review')">validate_attempt_review</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1551"><span class="linenum">1551</span></a>  
<a name="l1552"><span class="linenum">1552</span></a>  <span class="comment">        // Log action.</span>
<a name="l1553"><span class="linenum">1553</span></a>          <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('fire_attempt_reviewed_event')" href="../../../_functions/fire_attempt_reviewed_event.html" onMouseOver="funcPopup(event,'fire_attempt_reviewed_event')">fire_attempt_reviewed_event</a>();
<a name="l1554"><span class="linenum">1554</span></a>  
<a name="l1555"><span class="linenum">1555</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1556"><span class="linenum">1556</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['status'] = true;
<a name="l1557"><span class="linenum">1557</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1558"><span class="linenum">1558</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1559"><span class="linenum">1559</span></a>      }
<a name="l1560"><span class="linenum">1560</span></a>  
<a name="l1561"><span class="linenum">1561</span></a>      <span class="comment">/**</span>
<a name="l1562"><span class="linenum">1562</span></a>  <span class="comment">     * Describes the view_attempt_review return value.</span>
<a name="l1563"><span class="linenum">1563</span></a>  <span class="comment">     *</span>
<a name="l1564"><span class="linenum">1564</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1565"><span class="linenum">1565</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1566"><span class="linenum">1566</span></a>  <span class="comment">     */</span>
<a name="l1567"><span class="linenum">1567</span></a>      public static function <a class="function" onClick="logFunction('view_attempt_review_returns')" href="../../../_functions/view_attempt_review_returns.html" onMouseOver="funcPopup(event,'view_attempt_review_returns')">view_attempt_review_returns</a>() {
<a name="l1568"><span class="linenum">1568</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1569"><span class="linenum">1569</span></a>              array(
<a name="l1570"><span class="linenum">1570</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l1571"><span class="linenum">1571</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1572"><span class="linenum">1572</span></a>              )
<a name="l1573"><span class="linenum">1573</span></a>          );
<a name="l1574"><span class="linenum">1574</span></a>      }
<a name="l1575"><span class="linenum">1575</span></a>  
<a name="l1576"><span class="linenum">1576</span></a>      <span class="comment">/**</span>
<a name="l1577"><span class="linenum">1577</span></a>  <span class="comment">     * Describes the parameters for view_quiz.</span>
<a name="l1578"><span class="linenum">1578</span></a>  <span class="comment">     *</span>
<a name="l1579"><span class="linenum">1579</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1580"><span class="linenum">1580</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1581"><span class="linenum">1581</span></a>  <span class="comment">     */</span>
<a name="l1582"><span class="linenum">1582</span></a>      public static function <a class="function" onClick="logFunction('get_quiz_feedback_for_grade_parameters')" href="../../../_functions/get_quiz_feedback_for_grade_parameters.html" onMouseOver="funcPopup(event,'get_quiz_feedback_for_grade_parameters')">get_quiz_feedback_for_grade_parameters</a>() {
<a name="l1583"><span class="linenum">1583</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1584"><span class="linenum">1584</span></a>              array(
<a name="l1585"><span class="linenum">1585</span></a>                  'quizid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'quiz instance id'),
<a name="l1586"><span class="linenum">1586</span></a>                  'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'the grade to check'),
<a name="l1587"><span class="linenum">1587</span></a>              )
<a name="l1588"><span class="linenum">1588</span></a>          );
<a name="l1589"><span class="linenum">1589</span></a>      }
<a name="l1590"><span class="linenum">1590</span></a>  
<a name="l1591"><span class="linenum">1591</span></a>      <span class="comment">/**</span>
<a name="l1592"><span class="linenum">1592</span></a>  <span class="comment">     * Get the feedback text that should be show to a student who got the given grade in the given quiz.</span>
<a name="l1593"><span class="linenum">1593</span></a>  <span class="comment">     *</span>
<a name="l1594"><span class="linenum">1594</span></a>  <span class="comment">     * @param int $quizid quiz instance id</span>
<a name="l1595"><span class="linenum">1595</span></a>  <span class="comment">     * @param float $grade the grade to check</span>
<a name="l1596"><span class="linenum">1596</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l1597"><span class="linenum">1597</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1598"><span class="linenum">1598</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l1599"><span class="linenum">1599</span></a>  <span class="comment">     */</span>
<a name="l1600"><span class="linenum">1600</span></a>      public static function <a class="function" onClick="logFunction('get_quiz_feedback_for_grade')" href="../../../_functions/get_quiz_feedback_for_grade.html" onMouseOver="funcPopup(event,'get_quiz_feedback_for_grade')">get_quiz_feedback_for_grade</a>(<a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>, <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../_variables/grade.html">$grade</a>) {
<a name="l1601"><span class="linenum">1601</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l1602"><span class="linenum">1602</span></a>  
<a name="l1603"><span class="linenum">1603</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1604"><span class="linenum">1604</span></a>              'quizid' =&gt; <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>,
<a name="l1605"><span class="linenum">1605</span></a>              'grade' =&gt; <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../_variables/grade.html">$grade</a>,
<a name="l1606"><span class="linenum">1606</span></a>          );
<a name="l1607"><span class="linenum">1607</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_quiz_feedback_for_grade_parameters')" href="../../../_functions/get_quiz_feedback_for_grade_parameters.html" onMouseOver="funcPopup(event,'get_quiz_feedback_for_grade_parameters')">get_quiz_feedback_for_grade_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1608"><span class="linenum">1608</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1609"><span class="linenum">1609</span></a>  
<a name="l1610"><span class="linenum">1610</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>) = self::<a class="function" onClick="logFunction('validate_quiz')" href="../../../_functions/validate_quiz.html" onMouseOver="funcPopup(event,'validate_quiz')">validate_quiz</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['quizid']);
<a name="l1611"><span class="linenum">1611</span></a>  
<a name="l1612"><span class="linenum">1612</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1613"><span class="linenum">1613</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['feedbacktext'] = '';
<a name="l1614"><span class="linenum">1614</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['feedbacktextformat'] = <a class="constant" onClick="logConstant('FORMAT_MOODLE')" href="../../../_constants/FORMAT_MOODLE.html" onMouseOver="constPopup(event,'FORMAT_MOODLE')">FORMAT_MOODLE</a>;
<a name="l1615"><span class="linenum">1615</span></a>  
<a name="l1616"><span class="linenum">1616</span></a>          <a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a> = <a class="function" onClick="logFunction('quiz_feedback_record_for_grade')" href="../../../_functions/quiz_feedback_record_for_grade.html" onMouseOver="funcPopup(event,'quiz_feedback_record_for_grade')">quiz_feedback_record_for_grade</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['grade'], <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>);
<a name="l1617"><span class="linenum">1617</span></a>          if (!empty(<a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('feedbacktext')" class="var it43060" onMouseOver="hilite(43060)" onMouseOut="lolite()" href="../../../_variables/feedbacktext.html">feedbacktext</a>)) {
<a name="l1618"><span class="linenum">1618</span></a>              <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../_variables/text.html">$text</a>, <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../../_variables/format.html">$format</a>) = <a class="function" onClick="logFunction('external_format_text')" href="../../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('feedbacktext')" class="var it43060" onMouseOver="hilite(43060)" onMouseOut="lolite()" href="../../../_variables/feedbacktext.html">feedbacktext</a>, <a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('feedbacktextformat')" class="var it43060" onMouseOver="hilite(43060)" onMouseOut="lolite()" href="../../../_variables/feedbacktextformat.html">feedbacktextformat</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>,
<a name="l1619"><span class="linenum">1619</span></a>                                                          'mod_quiz', 'feedback', <a class="var it954" onMouseOver="hilite(954)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it43060" onMouseOver="hilite(43060)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l1620"><span class="linenum">1620</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['feedbacktext'] = <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../_variables/text.html">$text</a>;
<a name="l1621"><span class="linenum">1621</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['feedbacktextformat'] = <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../../_variables/format.html">$format</a>;
<a name="l1622"><span class="linenum">1622</span></a>          }
<a name="l1623"><span class="linenum">1623</span></a>  
<a name="l1624"><span class="linenum">1624</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1625"><span class="linenum">1625</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1626"><span class="linenum">1626</span></a>      }
<a name="l1627"><span class="linenum">1627</span></a>  
<a name="l1628"><span class="linenum">1628</span></a>      <span class="comment">/**</span>
<a name="l1629"><span class="linenum">1629</span></a>  <span class="comment">     * Describes the get_quiz_feedback_for_grade return value.</span>
<a name="l1630"><span class="linenum">1630</span></a>  <span class="comment">     *</span>
<a name="l1631"><span class="linenum">1631</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1633"><span class="linenum">1633</span></a>  <span class="comment">     */</span>
<a name="l1634"><span class="linenum">1634</span></a>      public static function <a class="function" onClick="logFunction('get_quiz_feedback_for_grade_returns')" href="../../../_functions/get_quiz_feedback_for_grade_returns.html" onMouseOver="funcPopup(event,'get_quiz_feedback_for_grade_returns')">get_quiz_feedback_for_grade_returns</a>() {
<a name="l1635"><span class="linenum">1635</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1636"><span class="linenum">1636</span></a>              array(
<a name="l1637"><span class="linenum">1637</span></a>                  'feedbacktext' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the comment that corresponds to this <a class="function" onClick="logFunction('grade')" href="../../../_functions/grade.html" onMouseOver="funcPopup(event,'grade')">grade</a> (empty for none)'),
<a name="l1638"><span class="linenum">1638</span></a>                  'feedbacktextformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('feedbacktext', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l1639"><span class="linenum">1639</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1640"><span class="linenum">1640</span></a>              )
<a name="l1641"><span class="linenum">1641</span></a>          );
<a name="l1642"><span class="linenum">1642</span></a>      }
<a name="l1643"><span class="linenum">1643</span></a>  
<a name="l1644"><span class="linenum">1644</span></a>      <span class="comment">/**</span>
<a name="l1645"><span class="linenum">1645</span></a>  <span class="comment">     * Describes the parameters for get_quiz_access_information.</span>
<a name="l1646"><span class="linenum">1646</span></a>  <span class="comment">     *</span>
<a name="l1647"><span class="linenum">1647</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1648"><span class="linenum">1648</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1649"><span class="linenum">1649</span></a>  <span class="comment">     */</span>
<a name="l1650"><span class="linenum">1650</span></a>      public static function <a class="function" onClick="logFunction('get_quiz_access_information_parameters')" href="../../../_functions/get_quiz_access_information_parameters.html" onMouseOver="funcPopup(event,'get_quiz_access_information_parameters')">get_quiz_access_information_parameters</a>() {
<a name="l1651"><span class="linenum">1651</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1652"><span class="linenum">1652</span></a>              array(
<a name="l1653"><span class="linenum">1653</span></a>                  'quizid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'quiz instance id')
<a name="l1654"><span class="linenum">1654</span></a>              )
<a name="l1655"><span class="linenum">1655</span></a>          );
<a name="l1656"><span class="linenum">1656</span></a>      }
<a name="l1657"><span class="linenum">1657</span></a>  
<a name="l1658"><span class="linenum">1658</span></a>      <span class="comment">/**</span>
<a name="l1659"><span class="linenum">1659</span></a>  <span class="comment">     * Return access information for a given quiz.</span>
<a name="l1660"><span class="linenum">1660</span></a>  <span class="comment">     *</span>
<a name="l1661"><span class="linenum">1661</span></a>  <span class="comment">     * @param int $quizid quiz instance id</span>
<a name="l1662"><span class="linenum">1662</span></a>  <span class="comment">     * @return array of warnings and the access information</span>
<a name="l1663"><span class="linenum">1663</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment">     * @throws  moodle_quiz_exception</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment">     */</span>
<a name="l1666"><span class="linenum">1666</span></a>      public static function <a class="function" onClick="logFunction('get_quiz_access_information')" href="../../../_functions/get_quiz_access_information.html" onMouseOver="funcPopup(event,'get_quiz_access_information')">get_quiz_access_information</a>(<a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>) {
<a name="l1667"><span class="linenum">1667</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l1668"><span class="linenum">1668</span></a>  
<a name="l1669"><span class="linenum">1669</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1670"><span class="linenum">1670</span></a>  
<a name="l1671"><span class="linenum">1671</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1672"><span class="linenum">1672</span></a>              'quizid' =&gt; <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>
<a name="l1673"><span class="linenum">1673</span></a>          );
<a name="l1674"><span class="linenum">1674</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_quiz_access_information_parameters')" href="../../../_functions/get_quiz_access_information_parameters.html" onMouseOver="funcPopup(event,'get_quiz_access_information_parameters')">get_quiz_access_information_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1675"><span class="linenum">1675</span></a>  
<a name="l1676"><span class="linenum">1676</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>) = self::<a class="function" onClick="logFunction('validate_quiz')" href="../../../_functions/validate_quiz.html" onMouseOver="funcPopup(event,'validate_quiz')">validate_quiz</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['quizid']);
<a name="l1677"><span class="linenum">1677</span></a>  
<a name="l1678"><span class="linenum">1678</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1679"><span class="linenum">1679</span></a>  <span class="comment">        // Capabilities first.</span>
<a name="l1680"><span class="linenum">1680</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['canattempt'] = <a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/quiz:attempt', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);;
<a name="l1681"><span class="linenum">1681</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['canmanage'] = <a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/quiz:manage', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);;
<a name="l1682"><span class="linenum">1682</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['canpreview'] = <a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/quiz:preview', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);;
<a name="l1683"><span class="linenum">1683</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['canreviewmyattempts'] = <a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/quiz:reviewmyattempts', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);;
<a name="l1684"><span class="linenum">1684</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['canviewreports'] = <a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/quiz:viewreports', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);;
<a name="l1685"><span class="linenum">1685</span></a>  
<a name="l1686"><span class="linenum">1686</span></a>  <span class="comment">        // Access manager now.</span>
<a name="l1687"><span class="linenum">1687</span></a>          <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a> = <a class="class" onClick="logClass('quiz')" href="../../../_classes/quiz.html" onMouseOver="classPopup(event,'quiz')">quiz</a>::<a class="function" onClick="logFunction('create')" href="../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/instance.html">instance</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l1688"><span class="linenum">1688</span></a>          <a class="var it6247" onMouseOver="hilite(6247)" onMouseOut="lolite()" onClick="logVariable('ignoretimelimits')" href="../../../_variables/ignoretimelimits.html">$ignoretimelimits</a> = <a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/quiz:ignoretimelimits', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>, null, false);
<a name="l1689"><span class="linenum">1689</span></a>          <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l1690"><span class="linenum">1690</span></a>          <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a> = <span class="keyword">new </span><a class="class" onClick="logClass('quiz_access_manager')" href="../../../_classes/quiz_access_manager.html" onMouseOver="classPopup(event,'quiz_access_manager')">quiz_access_manager</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>, <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a>, <a class="var it6247" onMouseOver="hilite(6247)" onMouseOut="lolite()" onClick="logVariable('ignoretimelimits')" href="../../../_variables/ignoretimelimits.html">$ignoretimelimits</a>);
<a name="l1691"><span class="linenum">1691</span></a>  
<a name="l1692"><span class="linenum">1692</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['accessrules'] = <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('describe_rules')" href="../../../_functions/describe_rules.html" onMouseOver="funcPopup(event,'describe_rules')">describe_rules</a>();
<a name="l1693"><span class="linenum">1693</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['activerulenames'] = <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('get_active_rule_names')" href="../../../_functions/get_active_rule_names.html" onMouseOver="funcPopup(event,'get_active_rule_names')">get_active_rule_names</a>();
<a name="l1694"><span class="linenum">1694</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['preventaccessreasons'] = <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('prevent_access')" href="../../../_functions/prevent_access.html" onMouseOver="funcPopup(event,'prevent_access')">prevent_access</a>();
<a name="l1695"><span class="linenum">1695</span></a>  
<a name="l1696"><span class="linenum">1696</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1697"><span class="linenum">1697</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1698"><span class="linenum">1698</span></a>      }
<a name="l1699"><span class="linenum">1699</span></a>  
<a name="l1700"><span class="linenum">1700</span></a>      <span class="comment">/**</span>
<a name="l1701"><span class="linenum">1701</span></a>  <span class="comment">     * Describes the get_quiz_access_information return value.</span>
<a name="l1702"><span class="linenum">1702</span></a>  <span class="comment">     *</span>
<a name="l1703"><span class="linenum">1703</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1704"><span class="linenum">1704</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1705"><span class="linenum">1705</span></a>  <span class="comment">     */</span>
<a name="l1706"><span class="linenum">1706</span></a>      public static function <a class="function" onClick="logFunction('get_quiz_access_information_returns')" href="../../../_functions/get_quiz_access_information_returns.html" onMouseOver="funcPopup(event,'get_quiz_access_information_returns')">get_quiz_access_information_returns</a>() {
<a name="l1707"><span class="linenum">1707</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1708"><span class="linenum">1708</span></a>              array(
<a name="l1709"><span class="linenum">1709</span></a>                  'canattempt' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Whether the user can do the quiz or not.'),
<a name="l1710"><span class="linenum">1710</span></a>                  'canmanage' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Whether the user can edit the quiz settings or not.'),
<a name="l1711"><span class="linenum">1711</span></a>                  'canpreview' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Whether the user can preview the quiz or not.'),
<a name="l1712"><span class="linenum">1712</span></a>                  'canreviewmyattempts' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Whether the users can review their previous attempts
<a name="l1713"><span class="linenum">1713</span></a>                                                                  or not.'),
<a name="l1714"><span class="linenum">1714</span></a>                  'canviewreports' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Whether the user can view the quiz reports or not.'),
<a name="l1715"><span class="linenum">1715</span></a>                  'accessrules' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1716"><span class="linenum">1716</span></a>                                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'rule description'), 'list of rules'),
<a name="l1717"><span class="linenum">1717</span></a>                  'activerulenames' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1718"><span class="linenum">1718</span></a>                                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../../../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'rule plugin names'), 'list of active rules'),
<a name="l1719"><span class="linenum">1719</span></a>                  'preventaccessreasons' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1720"><span class="linenum">1720</span></a>                                              <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'access restriction description'), 'list of reasons'),
<a name="l1721"><span class="linenum">1721</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1722"><span class="linenum">1722</span></a>              )
<a name="l1723"><span class="linenum">1723</span></a>          );
<a name="l1724"><span class="linenum">1724</span></a>      }
<a name="l1725"><span class="linenum">1725</span></a>  
<a name="l1726"><span class="linenum">1726</span></a>      <span class="comment">/**</span>
<a name="l1727"><span class="linenum">1727</span></a>  <span class="comment">     * Describes the parameters for get_attempt_access_information.</span>
<a name="l1728"><span class="linenum">1728</span></a>  <span class="comment">     *</span>
<a name="l1729"><span class="linenum">1729</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1730"><span class="linenum">1730</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1731"><span class="linenum">1731</span></a>  <span class="comment">     */</span>
<a name="l1732"><span class="linenum">1732</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_access_information_parameters')" href="../../../_functions/get_attempt_access_information_parameters.html" onMouseOver="funcPopup(event,'get_attempt_access_information_parameters')">get_attempt_access_information_parameters</a>() {
<a name="l1733"><span class="linenum">1733</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1734"><span class="linenum">1734</span></a>              array(
<a name="l1735"><span class="linenum">1735</span></a>                  'quizid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'quiz instance id'),
<a name="l1736"><span class="linenum">1736</span></a>                  'attemptid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt id, 0 for the user last attempt if exists', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0),
<a name="l1737"><span class="linenum">1737</span></a>              )
<a name="l1738"><span class="linenum">1738</span></a>          );
<a name="l1739"><span class="linenum">1739</span></a>      }
<a name="l1740"><span class="linenum">1740</span></a>  
<a name="l1741"><span class="linenum">1741</span></a>      <span class="comment">/**</span>
<a name="l1742"><span class="linenum">1742</span></a>  <span class="comment">     * Return access information for a given attempt in a quiz.</span>
<a name="l1743"><span class="linenum">1743</span></a>  <span class="comment">     *</span>
<a name="l1744"><span class="linenum">1744</span></a>  <span class="comment">     * @param int $quizid quiz instance id</span>
<a name="l1745"><span class="linenum">1745</span></a>  <span class="comment">     * @param int $attemptid attempt id, 0 for the user last attempt if exists</span>
<a name="l1746"><span class="linenum">1746</span></a>  <span class="comment">     * @return array of warnings and the access information</span>
<a name="l1747"><span class="linenum">1747</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1748"><span class="linenum">1748</span></a>  <span class="comment">     * @throws  moodle_quiz_exception</span>
<a name="l1749"><span class="linenum">1749</span></a>  <span class="comment">     */</span>
<a name="l1750"><span class="linenum">1750</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_access_information')" href="../../../_functions/get_attempt_access_information.html" onMouseOver="funcPopup(event,'get_attempt_access_information')">get_attempt_access_information</a>(<a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>, <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a> = 0) {
<a name="l1751"><span class="linenum">1751</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l1752"><span class="linenum">1752</span></a>  
<a name="l1753"><span class="linenum">1753</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1754"><span class="linenum">1754</span></a>  
<a name="l1755"><span class="linenum">1755</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1756"><span class="linenum">1756</span></a>              'quizid' =&gt; <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>,
<a name="l1757"><span class="linenum">1757</span></a>              'attemptid' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>,
<a name="l1758"><span class="linenum">1758</span></a>          );
<a name="l1759"><span class="linenum">1759</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_attempt_access_information_parameters')" href="../../../_functions/get_attempt_access_information_parameters.html" onMouseOver="funcPopup(event,'get_attempt_access_information_parameters')">get_attempt_access_information_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1760"><span class="linenum">1760</span></a>  
<a name="l1761"><span class="linenum">1761</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>) = self::<a class="function" onClick="logFunction('validate_quiz')" href="../../../_functions/validate_quiz.html" onMouseOver="funcPopup(event,'validate_quiz')">validate_quiz</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['quizid']);
<a name="l1762"><span class="linenum">1762</span></a>  
<a name="l1763"><span class="linenum">1763</span></a>          <a class="var it6248" onMouseOver="hilite(6248)" onMouseOut="lolite()" onClick="logVariable('attempttocheck')" href="../../../_variables/attempttocheck.html">$attempttocheck</a> = 0;
<a name="l1764"><span class="linenum">1764</span></a>          if (!empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['attemptid'])) {
<a name="l1765"><span class="linenum">1765</span></a>              <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a> = <a class="class" onClick="logClass('quiz_attempt')" href="../../../_classes/quiz_attempt.html" onMouseOver="classPopup(event,'quiz_attempt')">quiz_attempt</a>::<a class="function" onClick="logFunction('create')" href="../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['attemptid']);
<a name="l1766"><span class="linenum">1766</span></a>              if (<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_userid')" href="../../../_functions/get_userid.html" onMouseOver="funcPopup(event,'get_userid')">get_userid</a>() != <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>) {
<a name="l1767"><span class="linenum">1767</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_quiz_exception')" href="../../../_classes/moodle_quiz_exception.html" onMouseOver="classPopup(event,'moodle_quiz_exception')">moodle_quiz_exception</a>(<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_quizobj')" href="../../../_functions/get_quizobj.html" onMouseOver="funcPopup(event,'get_quizobj')">get_quizobj</a>(), 'notyourattempt');
<a name="l1768"><span class="linenum">1768</span></a>              }
<a name="l1769"><span class="linenum">1769</span></a>              <a class="var it6248" onMouseOver="hilite(6248)" onMouseOut="lolite()" onClick="logVariable('attempttocheck')" href="../../../_variables/attempttocheck.html">$attempttocheck</a> = <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('attemptobj')" href="../../../_variables/attemptobj.html">$attemptobj</a>-&gt;<a class="function" onClick="logFunction('get_attempt')" href="../../../_functions/get_attempt.html" onMouseOver="funcPopup(event,'get_attempt')">get_attempt</a>();
<a name="l1770"><span class="linenum">1770</span></a>          }
<a name="l1771"><span class="linenum">1771</span></a>  
<a name="l1772"><span class="linenum">1772</span></a>  <span class="comment">        // Access manager now.</span>
<a name="l1773"><span class="linenum">1773</span></a>          <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a> = <a class="class" onClick="logClass('quiz')" href="../../../_classes/quiz.html" onMouseOver="classPopup(event,'quiz')">quiz</a>::<a class="function" onClick="logFunction('create')" href="../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/instance.html">instance</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l1774"><span class="linenum">1774</span></a>          <a class="var it6247" onMouseOver="hilite(6247)" onMouseOut="lolite()" onClick="logVariable('ignoretimelimits')" href="../../../_variables/ignoretimelimits.html">$ignoretimelimits</a> = <a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/quiz:ignoretimelimits', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>, null, false);
<a name="l1775"><span class="linenum">1775</span></a>          <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l1776"><span class="linenum">1776</span></a>          <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a> = <span class="keyword">new </span><a class="class" onClick="logClass('quiz_access_manager')" href="../../../_classes/quiz_access_manager.html" onMouseOver="classPopup(event,'quiz_access_manager')">quiz_access_manager</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>, <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a>, <a class="var it6247" onMouseOver="hilite(6247)" onMouseOut="lolite()" onClick="logVariable('ignoretimelimits')" href="../../../_variables/ignoretimelimits.html">$ignoretimelimits</a>);
<a name="l1777"><span class="linenum">1777</span></a>  
<a name="l1778"><span class="linenum">1778</span></a>          <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../../_variables/attempts.html">$attempts</a> = <a class="function" onClick="logFunction('quiz_get_user_attempts')" href="../../../_functions/quiz_get_user_attempts.html" onMouseOver="funcPopup(event,'quiz_get_user_attempts')">quiz_get_user_attempts</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'finished', true);
<a name="l1779"><span class="linenum">1779</span></a>          <a class="var it6249" onMouseOver="hilite(6249)" onMouseOut="lolite()" onClick="logVariable('lastfinishedattempt')" href="../../../_variables/lastfinishedattempt.html">$lastfinishedattempt</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../../_variables/attempts.html">$attempts</a>);
<a name="l1780"><span class="linenum">1780</span></a>          if (<a class="var it6250" onMouseOver="hilite(6250)" onMouseOut="lolite()" onClick="logVariable('unfinishedattempt')" href="../../../_variables/unfinishedattempt.html">$unfinishedattempt</a> = <a class="function" onClick="logFunction('quiz_get_user_attempt_unfinished')" href="../../../_functions/quiz_get_user_attempt_unfinished.html" onMouseOver="funcPopup(event,'quiz_get_user_attempt_unfinished')">quiz_get_user_attempt_unfinished</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>)) {
<a name="l1781"><span class="linenum">1781</span></a>              <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../../_variables/attempts.html">$attempts</a>[] = <a class="var it6250" onMouseOver="hilite(6250)" onMouseOut="lolite()" onClick="logVariable('unfinishedattempt')" href="../../../_variables/unfinishedattempt.html">$unfinishedattempt</a>;
<a name="l1782"><span class="linenum">1782</span></a>  
<a name="l1783"><span class="linenum">1783</span></a>  <span class="comment">            // Check if the attempt is now overdue. In that case the state will change.</span>
<a name="l1784"><span class="linenum">1784</span></a>              <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('create_attempt_object')" href="../../../_functions/create_attempt_object.html" onMouseOver="funcPopup(event,'create_attempt_object')">create_attempt_object</a>(<a class="var it6250" onMouseOver="hilite(6250)" onMouseOut="lolite()" onClick="logVariable('unfinishedattempt')" href="../../../_variables/unfinishedattempt.html">$unfinishedattempt</a>)-&gt;<a class="function" onClick="logFunction('handle_if_time_expired')" href="../../../_functions/handle_if_time_expired.html" onMouseOver="funcPopup(event,'handle_if_time_expired')">handle_if_time_expired</a>(<a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>(), false);
<a name="l1785"><span class="linenum">1785</span></a>  
<a name="l1786"><span class="linenum">1786</span></a>              if (<a class="var it6250" onMouseOver="hilite(6250)" onMouseOut="lolite()" onClick="logVariable('unfinishedattempt')" href="../../../_variables/unfinishedattempt.html">$unfinishedattempt</a>-&gt;<a onClick="logVariable('state')" class="var it43543" onMouseOver="hilite(43543)" onMouseOut="lolite()" href="../../../_variables/state.html">state</a> != <a class="class" onClick="logClass('quiz_attempt')" href="../../../_classes/quiz_attempt.html" onMouseOver="classPopup(event,'quiz_attempt')">quiz_attempt</a>::IN_PROGRESS and <a class="var it6250" onMouseOver="hilite(6250)" onMouseOut="lolite()" onClick="logVariable('unfinishedattempt')" href="../../../_variables/unfinishedattempt.html">$unfinishedattempt</a>-&gt;<a onClick="logVariable('state')" class="var it43543" onMouseOver="hilite(43543)" onMouseOut="lolite()" href="../../../_variables/state.html">state</a> != <a class="class" onClick="logClass('quiz_attempt')" href="../../../_classes/quiz_attempt.html" onMouseOver="classPopup(event,'quiz_attempt')">quiz_attempt</a>::OVERDUE) {
<a name="l1787"><span class="linenum">1787</span></a>                  <a class="var it6249" onMouseOver="hilite(6249)" onMouseOut="lolite()" onClick="logVariable('lastfinishedattempt')" href="../../../_variables/lastfinishedattempt.html">$lastfinishedattempt</a> = <a class="var it6250" onMouseOver="hilite(6250)" onMouseOut="lolite()" onClick="logVariable('unfinishedattempt')" href="../../../_variables/unfinishedattempt.html">$unfinishedattempt</a>;
<a name="l1788"><span class="linenum">1788</span></a>              }
<a name="l1789"><span class="linenum">1789</span></a>          }
<a name="l1790"><span class="linenum">1790</span></a>          <a class="var it6251" onMouseOver="hilite(6251)" onMouseOut="lolite()" onClick="logVariable('numattempts')" href="../../../_variables/numattempts.html">$numattempts</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../../_variables/attempts.html">$attempts</a>);
<a name="l1791"><span class="linenum">1791</span></a>  
<a name="l1792"><span class="linenum">1792</span></a>          if (!<a class="var it6248" onMouseOver="hilite(6248)" onMouseOut="lolite()" onClick="logVariable('attempttocheck')" href="../../../_variables/attempttocheck.html">$attempttocheck</a>) {
<a name="l1793"><span class="linenum">1793</span></a>              <a class="var it6248" onMouseOver="hilite(6248)" onMouseOut="lolite()" onClick="logVariable('attempttocheck')" href="../../../_variables/attempttocheck.html">$attempttocheck</a> = <a class="var it6250" onMouseOver="hilite(6250)" onMouseOut="lolite()" onClick="logVariable('unfinishedattempt')" href="../../../_variables/unfinishedattempt.html">$unfinishedattempt</a> ? <a class="var it6250" onMouseOver="hilite(6250)" onMouseOut="lolite()" onClick="logVariable('unfinishedattempt')" href="../../../_variables/unfinishedattempt.html">$unfinishedattempt</a> : <a class="var it6249" onMouseOver="hilite(6249)" onMouseOut="lolite()" onClick="logVariable('lastfinishedattempt')" href="../../../_variables/lastfinishedattempt.html">$lastfinishedattempt</a>;
<a name="l1794"><span class="linenum">1794</span></a>          }
<a name="l1795"><span class="linenum">1795</span></a>  
<a name="l1796"><span class="linenum">1796</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1797"><span class="linenum">1797</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['isfinished'] = <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('is_finished')" href="../../../_functions/is_finished.html" onMouseOver="funcPopup(event,'is_finished')">is_finished</a>(<a class="var it6251" onMouseOver="hilite(6251)" onMouseOut="lolite()" onClick="logVariable('numattempts')" href="../../../_variables/numattempts.html">$numattempts</a>, <a class="var it6249" onMouseOver="hilite(6249)" onMouseOut="lolite()" onClick="logVariable('lastfinishedattempt')" href="../../../_variables/lastfinishedattempt.html">$lastfinishedattempt</a>);
<a name="l1798"><span class="linenum">1798</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['preventnewattemptreasons'] = <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('prevent_new_attempt')" href="../../../_functions/prevent_new_attempt.html" onMouseOver="funcPopup(event,'prevent_new_attempt')">prevent_new_attempt</a>(<a class="var it6251" onMouseOver="hilite(6251)" onMouseOut="lolite()" onClick="logVariable('numattempts')" href="../../../_variables/numattempts.html">$numattempts</a>, <a class="var it6249" onMouseOver="hilite(6249)" onMouseOut="lolite()" onClick="logVariable('lastfinishedattempt')" href="../../../_variables/lastfinishedattempt.html">$lastfinishedattempt</a>);
<a name="l1799"><span class="linenum">1799</span></a>  
<a name="l1800"><span class="linenum">1800</span></a>          if (<a class="var it6248" onMouseOver="hilite(6248)" onMouseOut="lolite()" onClick="logVariable('attempttocheck')" href="../../../_variables/attempttocheck.html">$attempttocheck</a>) {
<a name="l1801"><span class="linenum">1801</span></a>              <a class="var it6252" onMouseOver="hilite(6252)" onMouseOut="lolite()" onClick="logVariable('endtime')" href="../../../_variables/endtime.html">$endtime</a> = <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('get_end_time')" href="../../../_functions/get_end_time.html" onMouseOver="funcPopup(event,'get_end_time')">get_end_time</a>(<a class="var it6248" onMouseOver="hilite(6248)" onMouseOut="lolite()" onClick="logVariable('attempttocheck')" href="../../../_variables/attempttocheck.html">$attempttocheck</a>);
<a name="l1802"><span class="linenum">1802</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['endtime'] = (<a class="var it6252" onMouseOver="hilite(6252)" onMouseOut="lolite()" onClick="logVariable('endtime')" href="../../../_variables/endtime.html">$endtime</a> === false) ? 0 : <a class="var it6252" onMouseOver="hilite(6252)" onMouseOut="lolite()" onClick="logVariable('endtime')" href="../../../_variables/endtime.html">$endtime</a>;
<a name="l1803"><span class="linenum">1803</span></a>              <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a> = <a class="var it6250" onMouseOver="hilite(6250)" onMouseOut="lolite()" onClick="logVariable('unfinishedattempt')" href="../../../_variables/unfinishedattempt.html">$unfinishedattempt</a> ? <a class="var it6250" onMouseOver="hilite(6250)" onMouseOut="lolite()" onClick="logVariable('unfinishedattempt')" href="../../../_variables/unfinishedattempt.html">$unfinishedattempt</a>-&gt;<a onClick="logVariable('id')" class="var it43543" onMouseOver="hilite(43543)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> : null;
<a name="l1804"><span class="linenum">1804</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['ispreflightcheckrequired'] = <a class="var it6226" onMouseOver="hilite(6226)" onMouseOut="lolite()" onClick="logVariable('accessmanager')" href="../../../_variables/accessmanager.html">$accessmanager</a>-&gt;<a class="function" onClick="logFunction('is_preflight_check_required')" href="../../../_functions/is_preflight_check_required.html" onMouseOver="funcPopup(event,'is_preflight_check_required')">is_preflight_check_required</a>(<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../../_variables/attemptid.html">$attemptid</a>);
<a name="l1805"><span class="linenum">1805</span></a>          }
<a name="l1806"><span class="linenum">1806</span></a>  
<a name="l1807"><span class="linenum">1807</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1808"><span class="linenum">1808</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1809"><span class="linenum">1809</span></a>      }
<a name="l1810"><span class="linenum">1810</span></a>  
<a name="l1811"><span class="linenum">1811</span></a>      <span class="comment">/**</span>
<a name="l1812"><span class="linenum">1812</span></a>  <span class="comment">     * Describes the get_attempt_access_information return value.</span>
<a name="l1813"><span class="linenum">1813</span></a>  <span class="comment">     *</span>
<a name="l1814"><span class="linenum">1814</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1815"><span class="linenum">1815</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1816"><span class="linenum">1816</span></a>  <span class="comment">     */</span>
<a name="l1817"><span class="linenum">1817</span></a>      public static function <a class="function" onClick="logFunction('get_attempt_access_information_returns')" href="../../../_functions/get_attempt_access_information_returns.html" onMouseOver="funcPopup(event,'get_attempt_access_information_returns')">get_attempt_access_information_returns</a>() {
<a name="l1818"><span class="linenum">1818</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1819"><span class="linenum">1819</span></a>              array(
<a name="l1820"><span class="linenum">1820</span></a>                  'endtime' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'When the attempt must be submitted (determined by rules).',
<a name="l1821"><span class="linenum">1821</span></a>                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l1822"><span class="linenum">1822</span></a>                  'isfinished' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Whether there is no way the user will ever be allowed to attempt.'),
<a name="l1823"><span class="linenum">1823</span></a>                  'ispreflightcheckrequired' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'whether a check is required before the user
<a name="l1824"><span class="linenum">1824</span></a>                                                                      starts/continues his attempt.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l1825"><span class="linenum">1825</span></a>                  'preventnewattemptreasons' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1826"><span class="linenum">1826</span></a>                                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'access restriction description'),
<a name="l1827"><span class="linenum">1827</span></a>                                                                      'list of reasons'),
<a name="l1828"><span class="linenum">1828</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1829"><span class="linenum">1829</span></a>              )
<a name="l1830"><span class="linenum">1830</span></a>          );
<a name="l1831"><span class="linenum">1831</span></a>      }
<a name="l1832"><span class="linenum">1832</span></a>  
<a name="l1833"><span class="linenum">1833</span></a>      <span class="comment">/**</span>
<a name="l1834"><span class="linenum">1834</span></a>  <span class="comment">     * Describes the parameters for get_quiz_required_qtypes.</span>
<a name="l1835"><span class="linenum">1835</span></a>  <span class="comment">     *</span>
<a name="l1836"><span class="linenum">1836</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1837"><span class="linenum">1837</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1838"><span class="linenum">1838</span></a>  <span class="comment">     */</span>
<a name="l1839"><span class="linenum">1839</span></a>      public static function <a class="function" onClick="logFunction('get_quiz_required_qtypes_parameters')" href="../../../_functions/get_quiz_required_qtypes_parameters.html" onMouseOver="funcPopup(event,'get_quiz_required_qtypes_parameters')">get_quiz_required_qtypes_parameters</a>() {
<a name="l1840"><span class="linenum">1840</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1841"><span class="linenum">1841</span></a>              array(
<a name="l1842"><span class="linenum">1842</span></a>                  'quizid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'quiz instance id')
<a name="l1843"><span class="linenum">1843</span></a>              )
<a name="l1844"><span class="linenum">1844</span></a>          );
<a name="l1845"><span class="linenum">1845</span></a>      }
<a name="l1846"><span class="linenum">1846</span></a>  
<a name="l1847"><span class="linenum">1847</span></a>      <span class="comment">/**</span>
<a name="l1848"><span class="linenum">1848</span></a>  <span class="comment">     * Return the potential question types that would be required for a given quiz.</span>
<a name="l1849"><span class="linenum">1849</span></a>  <span class="comment">     * Please note that for random question types we return the potential question types in the category choosen.</span>
<a name="l1850"><span class="linenum">1850</span></a>  <span class="comment">     *</span>
<a name="l1851"><span class="linenum">1851</span></a>  <span class="comment">     * @param int $quizid quiz instance id</span>
<a name="l1852"><span class="linenum">1852</span></a>  <span class="comment">     * @return array of warnings and the access information</span>
<a name="l1853"><span class="linenum">1853</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1854"><span class="linenum">1854</span></a>  <span class="comment">     * @throws  moodle_quiz_exception</span>
<a name="l1855"><span class="linenum">1855</span></a>  <span class="comment">     */</span>
<a name="l1856"><span class="linenum">1856</span></a>      public static function <a class="function" onClick="logFunction('get_quiz_required_qtypes')" href="../../../_functions/get_quiz_required_qtypes.html" onMouseOver="funcPopup(event,'get_quiz_required_qtypes')">get_quiz_required_qtypes</a>(<a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>) {
<a name="l1857"><span class="linenum">1857</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l1858"><span class="linenum">1858</span></a>  
<a name="l1859"><span class="linenum">1859</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1860"><span class="linenum">1860</span></a>  
<a name="l1861"><span class="linenum">1861</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array(
<a name="l1862"><span class="linenum">1862</span></a>              'quizid' =&gt; <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../_variables/quizid.html">$quizid</a>
<a name="l1863"><span class="linenum">1863</span></a>          );
<a name="l1864"><span class="linenum">1864</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_quiz_required_qtypes_parameters')" href="../../../_functions/get_quiz_required_qtypes_parameters.html" onMouseOver="funcPopup(event,'get_quiz_required_qtypes_parameters')">get_quiz_required_qtypes_parameters</a>(), <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>);
<a name="l1865"><span class="linenum">1865</span></a>  
<a name="l1866"><span class="linenum">1866</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>) = self::<a class="function" onClick="logFunction('validate_quiz')" href="../../../_functions/validate_quiz.html" onMouseOver="funcPopup(event,'validate_quiz')">validate_quiz</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['quizid']);
<a name="l1867"><span class="linenum">1867</span></a>  
<a name="l1868"><span class="linenum">1868</span></a>          <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a> = <a class="class" onClick="logClass('quiz')" href="../../../_classes/quiz.html" onMouseOver="classPopup(event,'quiz')">quiz</a>::<a class="function" onClick="logFunction('create')" href="../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/instance.html">instance</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l1869"><span class="linenum">1869</span></a>          <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('preload_questions')" href="../../../_functions/preload_questions.html" onMouseOver="funcPopup(event,'preload_questions')">preload_questions</a>();
<a name="l1870"><span class="linenum">1870</span></a>          <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('load_questions')" href="../../../_functions/load_questions.html" onMouseOver="funcPopup(event,'load_questions')">load_questions</a>();
<a name="l1871"><span class="linenum">1871</span></a>  
<a name="l1872"><span class="linenum">1872</span></a>  <span class="comment">        // Question types used.</span>
<a name="l1873"><span class="linenum">1873</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1874"><span class="linenum">1874</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['questiontypes'] = <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('get_all_question_types_used')" href="../../../_functions/get_all_question_types_used.html" onMouseOver="funcPopup(event,'get_all_question_types_used')">get_all_question_types_used</a>(true);
<a name="l1875"><span class="linenum">1875</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1876"><span class="linenum">1876</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1877"><span class="linenum">1877</span></a>      }
<a name="l1878"><span class="linenum">1878</span></a>  
<a name="l1879"><span class="linenum">1879</span></a>      <span class="comment">/**</span>
<a name="l1880"><span class="linenum">1880</span></a>  <span class="comment">     * Describes the get_quiz_required_qtypes return value.</span>
<a name="l1881"><span class="linenum">1881</span></a>  <span class="comment">     *</span>
<a name="l1882"><span class="linenum">1882</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1883"><span class="linenum">1883</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1884"><span class="linenum">1884</span></a>  <span class="comment">     */</span>
<a name="l1885"><span class="linenum">1885</span></a>      public static function <a class="function" onClick="logFunction('get_quiz_required_qtypes_returns')" href="../../../_functions/get_quiz_required_qtypes_returns.html" onMouseOver="funcPopup(event,'get_quiz_required_qtypes_returns')">get_quiz_required_qtypes_returns</a>() {
<a name="l1886"><span class="linenum">1886</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1887"><span class="linenum">1887</span></a>              array(
<a name="l1888"><span class="linenum">1888</span></a>                  'questiontypes' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1889"><span class="linenum">1889</span></a>                                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../../../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>, 'question type'), 'list of question types used in the quiz'),
<a name="l1890"><span class="linenum">1890</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l1891"><span class="linenum">1891</span></a>              )
<a name="l1892"><span class="linenum">1892</span></a>          );
<a name="l1893"><span class="linenum">1893</span></a>      }
<a name="l1894"><span class="linenum">1894</span></a>  
<a name="l1895"><span class="linenum">1895</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'attempt': ['attempt', 'Runs a task once, if possible. This is useful for bypassing the `run()` loop. ', [['lib/google/src/Google/Task','Runner.php',192]], 16],
'start_attempt': ['start_attempt', '', [['question/type/calculatedmulti','question.php',55],['question/type/calculatedmulti','question.php',105],['mod/quiz/classes','external.php',673],['question/type/gapselect','questionbase.php',85],['question/type/randomsamatch','question.php',40],['question/type/multichoice','question.php',58],['question/type','questionbase.php',165],['question/type/numerical','question.php',64],['question/type/calculated','question.php',53],['question/type/calculated','question.php',134],['question/type/missingtype','question.php',80],['question/type/match','question.php',59],['question/type/multianswer','question.php',69]], 153],
'external_format_string': ['external_format_string', 'Format the string to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',850]], 48],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'get_userid': ['get_userid', 'Returns user ID ', [['lib/filebrowser','virtual_root_file.php',236],['mod/quiz','attemptlib.php',804],['lib/filestorage','stored_file.php',708],['mod/data','lib.php',2585],['backup/util/plan','restore_task.class.php',54],['backup/util/plan','restore_plan.class.php',115],['backup/controller','backup_controller.class.php',283],['backup/controller','restore_controller.class.php',285]], 220],
'quiz_validate_new_attempt': ['quiz_validate_new_attempt', 'Validate permissions for creating a new attempt and start a new preview attempt if required. ', [['mod/quiz','locallib.php',2171]], 2],
'get_attempt_review_parameters': ['get_attempt_review_parameters', 'Describes the parameters for get_attempt_review. ', [['mod/quiz/classes','external.php',1278]], 1],
'get_question_number': ['get_question_number', 'Get the displayed question number for a slot. ', [['mod/quiz','attemptlib.php',1181]], 7],
'quiz_rescale_grade': ['quiz_rescale_grade', 'Convert the raw grade stored in $attempt into a grade out of the maximum grade for this quiz. ', [['mod/quiz','locallib.php',520]], 22],
'is_last_page': ['is_last_page', '', [['mod/quiz','attemptlib.php',1056]], 4],
'start_delegated_transaction': ['start_delegated_transaction', 'On DBs that support it, switch to transaction mode and begin a transaction you\'ll need to ensure you call allow_commit() on the returned object or your changes *will* be lost. ', [['lib/dml','moodle_database.php',2393]], 145],
'view_attempt_review_parameters': ['view_attempt_review_parameters', 'Describes the parameters for view_attempt_review. ', [['mod/quiz/classes','external.php',1521]], 1],
'get_all_instances_in_courses': ['get_all_instances_in_courses', 'Returns an array of all the active instances of a particular module in given courses, sorted in the order they are defined ', [['lib','datalib.php',1382]], 23],
'preload_questions': ['preload_questions', 'Load just basic information about all the questions in this quiz. ', [['mod/quiz','attemptlib.php',133]], 4],
'get_attempt': ['get_attempt', '', [['mod/quiz','attemptlib.php',789]], 14],
'fire_attempt_summary_viewed_event': ['fire_attempt_summary_viewed_event', 'Trigger the attempt_summary_viewed event. ', [['mod/quiz','attemptlib.php',2281]], 2],
'get_quiz_feedback_for_grade': ['get_quiz_feedback_for_grade', 'Get the feedback text that should be show to a student who got the given grade in the given quiz. ', [['mod/quiz/classes','external.php',1591]], 3],
'get_question_state': ['get_question_state', 'Return the {@link question_state} that this question is in. ', [['mod/quiz','attemptlib.php',1226],['question/engine','questionusage.php',281]], 7],
'get_context': ['get_context', 'Return the course context for new modules, or the module context for existing modules. ', [['course','moodleform_mod.php',148],['availability/classes','info_module.php',72],['availability/classes','info_section.php',55],['competency/classes','user_competency_plan.php',83],['availability/tests/fixtures','mock_info.php',59],['mod/feedback/classes','responses_table.php',146],['competency/classes','competency.php',730],['competency/classes','plan.php',258],['mod/quiz','attemptlib.php',220],['competency/classes','user_competency.php',216],['grade/grading','lib.php',107],['lib','modinfolib.php',1486],['lib','badgeslib.php',157],['competency/classes/external','exporter.php',172],['comment','lib.php',994],['grade/grading/form','lib.php',102],['mod/assign','locallib.php',1307],['competency/classes','user_evidence.php',90],['competency/classes','user_competency_course.php',80],['lib/classes/event','base.php',627],['enrol','locallib.php',921],['lib','coursecatlib.php',2369],['lib','coursecatlib.php',3065],['competency/classes','course_competency_settings.php',133],['lib/tests/behat','behat_data_generators.php',769],['competency/classes','competency_framework.php',70],['competency/classes','template.php',139]], 1033],
'get_access_manager': ['get_access_manager', 'Return quiz_access_manager and instance of the quiz_access_manager class for this quiz at this time. ', [['mod/quiz','attemptlib.php',284],['mod/quiz','attemptlib.php',774]], 15],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'get_quiz_access_information_parameters': ['get_quiz_access_information_parameters', 'Describes the parameters for get_quiz_access_information. ', [['mod/quiz/classes','external.php',1644]], 1],
'get_user_attempts': ['get_user_attempts', 'Return a list of attempts for the given quiz and user. ', [['mod/quiz/classes','external.php',370]], 9],
'notify_preflight_check_passed': ['notify_preflight_check_passed', 'The pre-flight check has passed. This is a chance to record that fact in some way. ', [['mod/quiz/accessrule','accessrulebase.php',138],['mod/quiz','accessmanager.php',383],['mod/quiz/accessrule/password','rule.php',89]], 4],
'get_end_code': ['get_end_code', 'Generate any HTML that needs to go at the end of the page. ', [['lib','outputrequirementslib.php',1568],['lib','outputfragmentrequirementslib.php',67]], 3],
'get_attempt_access_information_parameters': ['get_attempt_access_information_parameters', 'Describes the parameters for get_attempt_access_information. ', [['mod/quiz/classes','external.php',1726]], 1],
'quiz_view': ['quiz_view', 'Mark the activity completed (if required) and trigger the course_module_viewed event. ', [['mod/quiz','locallib.php',2146]], 3],
'get_question_type_name': ['get_question_type_name', 'Return the question type name for a given slot within the current attempt. ', [['mod/quiz','attemptlib.php',1286]], 1],
'get_renderer': ['get_renderer', 'Returns instance of page renderer used by this plugin ', [['course/format','lib.php',905],['question/type/multichoice','question.php',156],['question/type/multichoice','question.php',278],['question/behaviour','behaviourbase.php',135],['question/type','questionbase.php',275],['lib','pagelib.php',802],['lib','outputlib.php',1828],['lib','outputfactories.php',70],['lib','outputfactories.php',292],['lib','outputfactories.php',377],['mod/assign','locallib.php',2987],['grade/grading/form/rubric','lib.php',486],['lib/tests/fixtures','test_renderer_factory.php',49],['grade/grading/form/guide','lib.php',492]], 452],
'create_attempt_object': ['create_attempt_object', 'Create a {@link quiz_attempt} for an attempt at this quiz. ', [['mod/quiz','attemptlib.php',122]], 3],
'is_preflight_check_required': ['is_preflight_check_required', '', [['mod/quiz/accessrule','accessrulebase.php',103],['mod/quiz/accessrule/timelimit','rule.php',68],['mod/quiz','accessmanager.php',354],['mod/quiz/accessrule/password','rule.php',52]], 10],
'get_attempt_summary': ['get_attempt_summary', 'Returns a summary of a quiz attempt before it is submitted. ', [['mod/quiz/classes','external.php',1032]], 6],
'get_question_status': ['get_question_status', 'Return the grade obtained on a particular question, if the user is permitted to see it. You must previously have called load_question_states to load the state data about this question. ', [['mod/quiz','attemptlib.php',1236]], 3],
'get_question_mark': ['get_question_mark', 'Return the grade obtained on a particular question. You must previously have called load_question_states to load the state data about this question. ', [['mod/quiz','attemptlib.php',1265],['question/engine','questionusage.php',340]], 7],
'get_attempt_data': ['get_attempt_data', 'Returns information for the given attempt page for a quiz attempt in progress. ', [['mod/quiz/classes','external.php',950]], 3],
'view_attempt_returns': ['view_attempt_returns', 'Describes the view_attempt return value. ', [['mod/quiz/classes','external.php',1441]], 2],
'is_own_attempt': ['is_own_attempt', 'Is this someone dealing with their own attempt or preview? ', [['mod/quiz','attemptlib.php',831]], 7],
'get_quizobj': ['get_quizobj', '', [['mod/quiz','attemptlib.php',712]], 26],
'get_combined_review_options_parameters': ['get_combined_review_options_parameters', 'Describes the parameters for get_combined_review_options. ', [['mod/quiz/classes','external.php',548]], 1],
'get_config': ['get_config', 'Config get method. ', [['lib/classes/antivirus','scanner.php',54],['competency/classes','competency_rule.php',59],['question/engine','bank.php',109],['admin/tool/log/classes/helper','store.php',63],['lib','moodlelib.php',1409],['lib','enrollib.php',1142],['lib/editor/tinymce/classes','plugin.php',73],['competency/classes','competency_rule_points.php',43],['search/classes','base.php',169],['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546]], 934],
'get_attempt_access_information_returns': ['get_attempt_access_information_returns', 'Describes the get_attempt_access_information return value. ', [['mod/quiz/classes','external.php',1811]], 2],
'view_attempt': ['view_attempt', 'Trigger the attempt viewed event. ', [['mod/quiz/classes','external.php',1406]], 3],
'get_attemptid': ['get_attemptid', '', [['mod/quiz','attemptlib.php',779]], 12],
'get_attempt_questions_data': ['get_attempt_questions_data', 'Return questions information for a given attempt. ', [['mod/quiz/classes','external.php',884]], 3],
'grade': ['grade', 'Return a question answer that describes the outcome (fraction and feeback) for a particular respons. ', [['question/type','questionbase.php',956],['question/type','questionbase.php',1017]], 17],
'get_attempt_summary_returns': ['get_attempt_summary_returns', 'Describes the get_attempt_summary return value. ', [['mod/quiz/classes','external.php',1059]], 6],
'start_attempt_parameters': ['start_attempt_parameters', 'Describes the parameters for start_attempt. ', [['mod/quiz/classes','external.php',649]], 1],
'is_question_flagged': ['is_question_flagged', 'Is a particular question in this attempt a real question, or something like a description. ', [['mod/quiz','attemptlib.php',1131]], 3],
'allow_commit': ['allow_commit', 'Commit delegated transaction. The real database commit SQL is executed only after committing all delegated transactions. ', [['lib/dml','moodle_transaction.php',78]], 135],
'get_course_and_cm_from_instance': ['get_course_and_cm_from_instance', 'Efficiently retrieves the $course (stdclass) and $cm (cm_info) objects, given an instance id or record and module name. ', [['lib','modinfolib.php',2099]], 45],
'quiz_has_feedback': ['quiz_has_feedback', '', [['mod/quiz','locallib.php',603]], 4],
'quiz_get_user_attempt_unfinished': ['quiz_get_user_attempt_unfinished', 'Returns an unfinished attempt (if there is one) for the given user on the given quiz. This function does not return preview attempts. ', [['mod/quiz','locallib.php',378]], 2],
'get_quizzes_by_courses_returns': ['get_quizzes_by_courses_returns', 'Describes the get_quizzes_by_courses return value. ', [['mod/quiz/classes','external.php',157]], 1],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'get_attempt_review': ['get_attempt_review', 'Returns review information for the given finished attempt, can be used by users or teachers. ', [['mod/quiz/classes','external.php',1294]], 2],
'view_attempt_summary_returns': ['view_attempt_summary_returns', 'Describes the view_attempt_summary return value. ', [['mod/quiz/classes','external.php',1506]], 2],
'prevent_access': ['prevent_access', 'Whether the user should be blocked from starting a new attempt or continuing an attempt now. ', [['mod/quiz/accessrule','accessrulebase.php',87],['mod/quiz/accessrule/openclosedate','rule.php',69],['mod/quiz','accessmanager.php',332],['mod/quiz/accessrule/ipaddress','rule.php',48],['mod/quiz/accessrule/safebrowser','rule.php',49]], 35],
'get_attempt_summary_parameters': ['get_attempt_summary_parameters', 'Describes the parameters for get_attempt_summary. ', [['mod/quiz/classes','external.php',1010]], 1],
'describe_rules': ['describe_rules', 'Provide a description of the rules that apply to this quiz, such as is shown at the top of the quiz view page. Note that not all rules consider themselves important enough to output a description. ', [['mod/quiz','accessmanager.php',296]], 2],
'get_combined_review_options_returns': ['get_combined_review_options_returns', 'Describes the get_combined_review_options return value. ', [['mod/quiz/classes','external.php',619]], 4],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',279]], 340],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',448]], 256],
'view_quiz_parameters': ['view_quiz_parameters', 'Describes the parameters for view_quiz. ', [['mod/quiz/classes','external.php',298]], 1],
'validate_attempt': ['validate_attempt', 'Utility function for validating a given attempt ', [['mod/quiz/classes','external.php',775],['mod/quiz/tests','external_test.php',43]], 17],
'get_display_options': ['get_display_options', 'Wrapper that the correct mod_quiz_display_options for this quiz at the moment. ', [['mod/quiz','attemptlib.php',991]], 12],
'data': ['data', 'Send an SMTP DATA command. Issues a data command and sends the msg_data to the server, finializing the mail transaction. $msg_data is the message that is to be send with the headers. Each header needs to be on a single line followed by a <CRLF> with the message headers and the message body being separated by and additional <CRLF>. Implements rfc 821: DATA <CRLF> ', [['lib/phpmailer','class.smtp.php',602],['lib/jquery','jquery-3.1.0.js',3959]], 437],
'process_auto_save': ['process_auto_save', 'Process all the autosaved data that was part of the current request. ', [['mod/quiz','attemptlib.php',1894]], 2],
'get_attempt_access_information': ['get_attempt_access_information', 'Return access information for a given attempt in a quiz. ', [['mod/quiz/classes','external.php',1741]], 2],
'view_attempt_review': ['view_attempt_review', 'Trigger the attempt reviewed event. ', [['mod/quiz/classes','external.php',1535]], 1],
'validate_quiz': ['validate_quiz', '', [['mod/quiz/classes','external.php',285]], 9],
'external_format_text': ['external_format_text', 'Format the text to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw, filter, file, fileurl) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',887]], 61],
'get_cm': ['get_cm', 'Returns the current course module ', [['mod/feedback/classes','complete_form.php',245],['search/classes','base_mod.php',51],['mod/feedback/classes','structure.php',72],['mod/quiz','attemptlib.php',215],['mod/quiz','attemptlib.php',742],['lib','modinfolib.php',222],['comment','lib.php',1010]], 137],
'get_quizzes_by_courses': ['get_quizzes_by_courses', 'Returns a list of quizzes in a provided list of courses, if no list is provided all quizzes that the user can view will be returned. ', [['mod/quiz/classes','external.php',59]], 7],
'render_question': ['render_question', 'Generate the HTML that displayes the question in its current state, with the appropriate display options. ', [['mod/quiz','attemptlib.php',1476],['question/engine','questionusage.php',437]], 12],
'view_attempt_summary': ['view_attempt_summary', 'Trigger the attempt summary viewed event. ', [['mod/quiz/classes','external.php',1478]], 2],
'get_slots': ['get_slots', 'Return the list of slot numbers for either a given page of the quiz, or for the whole quiz. ', [['mod/quiz','attemptlib.php',1060],['question/engine','questionusage.php',228],['mod/quiz/classes','structure.php',304]], 23],
'quiz_get_user_attempts': ['quiz_get_user_attempts', '', [['mod/quiz','lib.php',554]], 29],
'get_quizzes_by_courses_parameters': ['get_quizzes_by_courses_parameters', 'Describes the parameters for get_quizzes_by_courses. ', [['mod/quiz/classes','external.php',43]], 1],
'process_attempt': ['process_attempt', 'Process responses during an attempt at a quiz and also deals with attempts finishing. ', [['mod/quiz/classes','external.php',1193],['mod/quiz','attemptlib.php',2101]], 7],
'get_question_page': ['get_question_page', 'Return the page of the quiz where this question appears. ', [['mod/quiz','attemptlib.php',1204]], 4],
'get_quiz_required_qtypes': ['get_quiz_required_qtypes', 'Return the potential question types that would be required for a given quiz. Please note that for random question types we return the potential question types in the category choosen. ', [['mod/quiz/classes','external.php',1847]], 1],
'has_questions': ['has_questions', '', [['mod/quiz','attemptlib.php',238],['mod/quiz/classes','structure.php',85]], 6],
'is_preview_user': ['is_preview_user', '', [['mod/quiz','attemptlib.php',228],['mod/quiz','attemptlib.php',755]], 21],
'set_currentpage': ['set_currentpage', 'Update attempt page. ', [['mod/quiz','attemptlib.php',2244]], 2],
'get_end_time': ['get_end_time', 'Compute when the attempt must be submitted. ', [['mod/quiz','accessmanager.php',436]], 4],
'enrol_get_my_courses': ['enrol_get_my_courses', 'Returns list of courses current $USER is enrolled in and can access ', [['lib','enrollib.php',512]], 30],
'get_user_attempts_parameters': ['get_user_attempts_parameters', 'Describes the parameters for get_user_attempts. ', [['mod/quiz/classes','external.php',352]], 1],
'save_attempt_returns': ['save_attempt_returns', 'Describes the save_attempt return value. ', [['mod/quiz/classes','external.php',1144]], 2],
'fire_attempt_viewed_event': ['fire_attempt_viewed_event', 'Trigger the attempt_viewed event. ', [['mod/quiz','attemptlib.php',2261]], 2],
'question_structure': ['question_structure', 'Describes a single question structure. ', [['mod/quiz/classes','external.php',861]], 3],
'get_quiz_access_information_returns': ['get_quiz_access_information_returns', 'Describes the get_quiz_access_information return value. ', [['mod/quiz/classes','external.php',1700]], 3],
'get_state': ['get_state', '', [['mod/quiz','attemptlib.php',799],['question/engine','questionattemptstep.php',141],['question/engine','questionattemptstep.php',580],['question/engine','questionattemptstep.php',666],['question/engine','questionattempt.php',589],['cache/classes','factory.php',495]], 113],
'save_attempt_parameters': ['save_attempt_parameters', 'Describes the parameters for save_attempt. ', [['mod/quiz/classes','external.php',1074]], 1],
'get_user': ['get_user', 'Returns user data checking the internal static cache. ', [['search/classes','engine.php',119],['lib/classes','user.php',55]], 53],
'handle_if_time_expired': ['handle_if_time_expired', 'Check this attempt, to see if there are any state transitions that should happen automatically.  This function will update the attempt checkstatetime. ', [['mod/quiz','attemptlib.php',1737]], 6],
'get_attempt_review_returns': ['get_attempt_review_returns', 'Describes the get_attempt_review return value. ', [['mod/quiz/classes','external.php',1357]], 2],
'save_attempt': ['save_attempt', 'Processes save requests during the quiz. This function is intended for the quiz auto-save feature. ', [['mod/quiz/classes','external.php',1104]], 2],
'quiz_prepare_and_start_new_attempt': ['quiz_prepare_and_start_new_attempt', 'Prepare and start a new attempt deleting the previous preview attempts. ', [['mod/quiz','locallib.php',2256]], 2],
'clean_text': ['clean_text', 'Cleans raw text removing nasties. ', [['lib','weblib.php',1637]], 44],
'quiz_feedback_record_for_grade': ['quiz_feedback_record_for_grade', 'Get the feedback object for this grade on this quiz. ', [['mod/quiz','locallib.php',547]], 2],
'check_review_capability': ['check_review_capability', 'Check the appropriate capability to see whether this user may review their own attempt. If not, prints an error. ', [['mod/quiz','attemptlib.php',936]], 4],
'id': ['id', 'Convenience function that creates an HTMLPurifier_ConfigSchema_Interchange_Id object based on a string Id. ', [['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',199]], 58],
'get_user_best_grade': ['get_user_best_grade', 'Get the best current grade for the given user on a quiz. ', [['mod/quiz/classes','external.php',485]], 5],
'get_quiz_required_qtypes_parameters': ['get_quiz_required_qtypes_parameters', 'Describes the parameters for get_quiz_required_qtypes. ', [['mod/quiz/classes','external.php',1833]], 1],
'get_max_mark': ['get_max_mark', '', [['question/engine','questionattempt.php',682]], 26],
'attempt_structure': ['attempt_structure', 'Describes a single attempt structure. ', [['mod/quiz/classes','external.php',421]], 4],
'view_quiz': ['view_quiz', 'Trigger the course module viewed event and update the module completion status. ', [['mod/quiz/classes','external.php',312]], 4],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'force_page_number_into_range': ['force_page_number_into_range', 'If the given page number is out of range (before the first page, or after the last page, chnage it to be within range). ', [['mod/quiz','attemptlib.php',697]], 4],
'get_all_question_types_used': ['get_all_question_types_used', 'Return all the question types used in this quiz. ', [['mod/quiz','attemptlib.php',437]], 1],
'get_overall_feedback': ['get_overall_feedback', 'Get the overall feedback corresponding to a particular mark. ', [['mod/quiz','attemptlib.php',913]], 2],
'is_real_question': ['is_real_question', 'Is a particular question in this attempt a real question, or something like a description. ', [['mod/quiz','attemptlib.php',1121],['mod/quiz/classes','structure.php',219],['mod/quiz/tests','attempt_test.php',86]], 4],
'process_attempt_parameters': ['process_attempt_parameters', 'Describes the parameters for process_attempt. ', [['mod/quiz/classes','external.php',1159]], 1],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'get_user_best_grade_returns': ['get_user_best_grade_returns', 'Describes the get_user_best_grade return value. ', [['mod/quiz/classes','external.php',532]], 3],
'get_additional_summary_data': ['get_additional_summary_data', 'Get extra summary information about this attempt. ', [['mod/quiz','attemptlib.php',892]], 2],
'get_active_rule_names': ['get_active_rule_names', '', [['mod/quiz','accessmanager.php',273]], 1],
'fire_attempt_reviewed_event': ['fire_attempt_reviewed_event', 'Trigger the attempt_reviewed event. ', [['mod/quiz','attemptlib.php',2302]], 2],
'view_attempt_parameters': ['view_attempt_parameters', 'Describes the parameters for view_attempt. ', [['mod/quiz/classes','external.php',1383]], 1],
'get_combined_review_options': ['get_combined_review_options', 'Combines the review options from a number of different quiz attempts. ', [['mod/quiz/classes','external.php',564]], 5],
'is_review_allowed': ['is_review_allowed', 'Is the current user allowed to review this attempt. This applies when {@link is_own_attempt()} returns false. ', [['mod/quiz','attemptlib.php',850]], 5],
'get_attempt_data_returns': ['get_attempt_data_returns', 'Describes the get_attempt_data return value. ', [['mod/quiz/classes','external.php',989]], 3],
'view_attempt_summary_parameters': ['view_attempt_summary_parameters', 'Describes the parameters for view_attempt_summary. ', [['mod/quiz/classes','external.php',1456]], 1],
'validate_courses': ['validate_courses', 'Validate a list of courses, returning the complete course objects for valid courses. ', [['lib','externallib.php',1096]], 16],
'validate_attempt_review': ['validate_attempt_review', 'Validate an attempt finished for review. The attempt would be reviewed by a user or a teacher. ', [['mod/quiz/classes','external.php',1251],['mod/quiz/tests','external_test.php',55]], 8],
'cannot_review_message': ['cannot_review_message', 'If $reviewoptions->attempt is false, meaning that students can\'t review this attempt at the moment, return an appropriate string explaining why. ', [['mod/quiz','attemptlib.php',384],['mod/quiz','attemptlib.php',1424]], 10],
'get_attempt_data_parameters': ['get_attempt_data_parameters', 'Describes the parameters for get_attempt_data. ', [['mod/quiz/classes','external.php',927]], 1],
'check_page_access': ['check_page_access', 'Check a page access to see if is an out of sequence access. ', [['mod/quiz','attemptlib.php',2226]], 2],
'start_attempt_returns': ['start_attempt_returns', 'Describes the start_attempt return value. ', [['mod/quiz/classes','external.php',760]], 3],
'get_quiz_feedback_for_grade_parameters': ['get_quiz_feedback_for_grade_parameters', 'Describes the parameters for view_quiz. ', [['mod/quiz/classes','external.php',1576]], 1],
'process_attempt_returns': ['process_attempt_returns', 'Describes the process_attempt return value. ', [['mod/quiz/classes','external.php',1235]], 5],
'quiz_get_best_grade': ['quiz_get_best_grade', 'Get the best current grade for a particular user in a quiz. ', [['mod/quiz','lib.php',393]], 2],
'view_quiz_returns': ['view_quiz_returns', 'Describes the view_quiz return value. ', [['mod/quiz/classes','external.php',337]], 1],
'load_questions': ['load_questions', 'Fully load some or all of the questions for this quiz. You must call {@link preload_questions()} first. ', [['mod/quiz','attemptlib.php',143],['question/type/randomsamatch','question.php',124],['question/type/randomsamatch/tests','helper.php',132]], 4],
'get_quiz': ['get_quiz', '', [['mod/quiz','attemptlib.php',190],['mod/quiz','attemptlib.php',708],['mod/quiz/classes','structure.php',252]], 104],
'get_question_attempt': ['get_question_attempt', 'Get the question_attempt object for a particular question in this attempt. ', [['mod/quiz','attemptlib.php',1096],['mod/quiz/report/responses','first_or_all_responses_table.php',92],['question/engine','questionusage.php',268],['question/engine/tests','helpers.php',899]], 136],
'get_user_best_grade_parameters': ['get_user_best_grade_parameters', 'Describes the parameters for get_user_best_grade. ', [['mod/quiz/classes','external.php',470]], 1],
'validate_preflight_check': ['validate_preflight_check', 'Validate the pre-flight check form submission. You should only do something here if {@link is_preflight_check_required()} returned true. ', [['mod/quiz/accessrule','accessrulebase.php',121],['mod/quiz','accessmanager.php',543],['mod/quiz/accessrule/password','rule.php',70]], 4],
'get_quiz_feedback_for_grade_returns': ['get_quiz_feedback_for_grade_returns', 'Describes the get_quiz_feedback_for_grade return value. ', [['mod/quiz/classes','external.php',1628]], 3],
'get_area_files': ['get_area_files', 'Returns all area files (optionally limited by itemid) ', [['lib/filestorage','file_storage.php',782],['lib','externallib.php',1134]], 216],
'require_active_user': ['require_active_user', 'Check if the given user is an active user in the site. ', [['lib/classes','user.php',247]], 29],
'quiz_get_combined_reviewoptions': ['quiz_get_combined_reviewoptions', 'Combines the review options from a number of different quiz attempts. Returns an array of two ojects, so the suggested way of calling this funciton is: list($someoptions, $alloptions) = quiz_get_combined_reviewoptions(...) ', [['mod/quiz','locallib.php',1429]], 3],
'prevent_new_attempt': ['prevent_new_attempt', '', [['mod/quiz/accessrule/numattempts','rule.php',53],['mod/quiz/accessrule','accessrulebase.php',76],['mod/quiz','accessmanager.php',312],['mod/quiz/accessrule/delaybetweenattempts','rule.php',48]], 95],
'get_quiz_access_information': ['get_quiz_access_information', 'Return access information for a given quiz. ', [['mod/quiz/classes','external.php',1658]], 3],
'quiz_update_effective_access': ['quiz_update_effective_access', 'Updates a quiz object with override information for a user. ', [['mod/quiz','lib.php',270]], 3],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'view_attempt_review_returns': ['view_attempt_review_returns', 'Describes the view_attempt_review return value. ', [['mod/quiz/classes','external.php',1561]], 1],
'get_user_attempts_returns': ['get_user_attempts_returns', 'Describes the get_user_attempts return value. ', [['mod/quiz/classes','external.php',455]], 8],
'is_finished': ['is_finished', '', [['mod/quiz/accessrule/numattempts','rule.php',60],['mod/quiz/accessrule','accessrulebase.php',167],['mod/quiz','attemptlib.php',822],['question/engine','states.php',129],['question/engine','states.php',293],['question/engine','states.php',301],['question/engine','states.php',312],['question/engine','states.php',323],['question/engine','states.php',334],['mod/quiz/accessrule/openclosedate','rule.php',95],['mod/quiz','accessmanager.php',405],['mod/quiz/accessrule/delaybetweenattempts','rule.php',95]], 89],
'get_quiz_required_qtypes_returns': ['get_quiz_required_qtypes_returns', 'Describes the get_quiz_required_qtypes return value. ', [['mod/quiz/classes','external.php',1879]], 1],
'end': ['end', '', [], 433],
'count': ['count', '', [], 4095],
'time': ['time', '', [], 1959],
'array_merge': ['array_merge', '', [], 2944],
'in_array': ['in_array', '', [], 1234],
'array_shift': ['array_shift', '', [], 700],
'array_keys': ['array_keys', '', [], 1256],
'defined': ['defined', '', [], 4731]};
CLASS_DATA={
'invalid_parameter_exception': ['invalid_parameter_exception', 'Exception indicating malformed parameter problem. This exception is not supposed to be thrown when processing user submitted data in forms. It is more suitable for WS and other low level stuff. ', [['lib','setuplib.php',259]], 88],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',546]], 2505],
'moodle_quiz_exception': ['moodle_quiz_exception', 'Class for quiz exceptions. Just saves a couple of arguments on the constructor for a moodle_exception. ', [['mod/quiz','attemptlib.php',32]], 27],
'core_user': ['core_user', 'User class to access user details. ', [['lib/classes','user.php',27]], 457],
'quiz_attempt': ['quiz_attempt', 'This class extends the quiz class to hold data about the state of a particular attempt, in addition to the data about the quiz. ', [['mod/quiz','attemptlib.php',490]], 167],
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',609]], 350],
'question_display_options': ['question_display_options', 'This class contains all the options that controls how a question is displayed. ', [['question/engine','lib.php',463]], 84],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'external_files': ['external_files', 'External structure representing a set of files. ', [['lib','externallib.php',1167]], 21],
'external_util': ['external_util', 'Utility functions for the external API. ', [['lib','externallib.php',1086]], 38],
'external_warnings': ['external_warnings', 'Standard Moodle web service warnings ', [['lib','externallib.php',768]], 150],
'quiz': ['quiz', '', [['mod/quiz/classes/plugininfo','quiz.php',31],['mod/quiz','attemptlib.php',50]], 54],
'quiz_access_manager': ['quiz_access_manager', 'This class keeps track of the various access rules that apply to a particular quiz, with convinient methods for seeing whether access is allowed. ', [['mod/quiz','accessmanager.php',29]], 16],
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',638]], 344],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',75]], 606],
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',580]], 460],
'external_format_value': ['external_format_value', 'A pre-filled external_value class for text format. ', [['lib','externallib.php',799]], 70],
'mod_quiz_external': ['mod_quiz_external', 'Quiz external functions ', [['mod/quiz/classes','external.php',32]], 122],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808]};
CONST_DATA={
'QUIZ_ATTEMPTLAST': ['QUIZ_ATTEMPTLAST', '', [['mod/quiz','lib.php',51]], 12],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 802],
'PARAM_PLUGIN': ['PARAM_PLUGIN', '', [['lib','moodlelib.php',324]], 104],
'PARAM_ALPHANUMEXT': ['PARAM_ALPHANUMEXT', '', [['lib','moodlelib.php',93]], 200],
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 761],
'QUIZ_GRADEHIGHEST': ['QUIZ_GRADEHIGHEST', '', [['mod/quiz','lib.php',48]], 16],
'QUIZ_ATTEMPTFIRST': ['QUIZ_ATTEMPTFIRST', '', [['mod/quiz','lib.php',50]], 12],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921],
'FORMAT_MOODLE': ['FORMAT_MOODLE', '', [['lib','weblib.php',42]], 506],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 542],
'QUIZ_GRADEAVERAGE': ['QUIZ_GRADEAVERAGE', '', [['mod/quiz','lib.php',49]], 16],
'PARAM_FLOAT': ['PARAM_FLOAT', '', [['lib','moodlelib.php',146]], 103],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 304],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'PARAM_ALPHA': ['PARAM_ALPHA', '', [['lib','moodlelib.php',77]], 398]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
